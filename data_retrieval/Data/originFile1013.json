{"items":[{"tags":["java","json","jsonpath","json-path-expression"],"comments":[{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":1,"creation_date":1663751956,"post_id":73796828,"comment_id":130311144,"body_markdown":"what have you tried until now? Check some example here https://jsonpath.herokuapp.com/?path=$.store.bicycle[?(@.color==%22red%22)].price","body":"what have you tried until now? Check some example here <a href=\"https://jsonpath.herokuapp.com/?path=$.store.bicycle[?(@.color==%22red%22)].price\" rel=\"nofollow noreferrer\">jsonpath.herokuapp.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5105046,"reputation":107,"user_id":4093370,"display_name":"parhau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663971990,"creation_date":1663764272,"answer_id":73800959,"question_id":73796828,"body_markdown":"We can use conditions\r\n\r\n    $.AValue[?(@.qId ==&quot;ABCD&quot;)].value.eValue\r\n\r\n","title":"Generate JSONPath based on condition","body":"<p>We can use conditions</p>\n<pre><code>$.AValue[?(@.qId ==&quot;ABCD&quot;)].value.eValue\n</code></pre>\n"}],"owner":{"account_id":5105046,"reputation":107,"user_id":4093370,"display_name":"parhau"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73800959,"answer_count":1,"score":0,"last_activity_date":1663971990,"creation_date":1663744947,"question_id":73796828,"body_markdown":"Json\r\n````\r\n{\r\n    &quot;Id&quot;: &quot;1234&quot;,\r\n    &quot;AValue&quot;: {\r\n        &quot;qId&quot;: &quot;ABCD&quot;,\r\n        &quot;aType&quot;: &quot;DATE&quot;,\r\n        &quot;value&quot;: {\r\n            &quot;eType&quot;: &quot;ENCRYPTED&quot;,\r\n            &quot;eValue&quot;: &quot;XXXXXXX&quot;\r\n        }\r\n    }\r\n\r\n}\r\n````\r\n\r\nHow to write a jsonpath expression to get **eValue** only if &quot;qId in AValue is ABCD&quot;\r\n\r\n\r\n\r\n","title":"Generate JSONPath based on condition","body":"<p>Json</p>\n<pre><code>{\n    &quot;Id&quot;: &quot;1234&quot;,\n    &quot;AValue&quot;: {\n        &quot;qId&quot;: &quot;ABCD&quot;,\n        &quot;aType&quot;: &quot;DATE&quot;,\n        &quot;value&quot;: {\n            &quot;eType&quot;: &quot;ENCRYPTED&quot;,\n            &quot;eValue&quot;: &quot;XXXXXXX&quot;\n        }\n    }\n\n}\n</code></pre>\n<p>How to write a jsonpath expression to get <strong>eValue</strong> only if &quot;qId in AValue is ABCD&quot;</p>\n"},{"tags":["java","image","heif","avif"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1613472301,"post_id":66222773,"comment_id":117079206,"body_markdown":"Here is a library implementation, https://github.com/AOMediaCodec/libavif and here is the standard. https://aomediacodec.github.io/av1-avif/#av1-item-configuration-property","body":"Here is a library implementation, <a href=\"https://github.com/AOMediaCodec/libavif\" rel=\"nofollow noreferrer\">github.com/AOMediaCodec/libavif</a> and here is the standard. <a href=\"https://aomediacodec.github.io/av1-avif/#av1-item-configuration-property\" rel=\"nofollow noreferrer\">aomediacodec.github.io/av1-avif/&hellip;</a>"},{"owner":{"account_id":8240088,"reputation":21,"user_id":6197967,"display_name":"Jochen Go"},"score":0,"creation_date":1613545052,"post_id":66222773,"comment_id":117103841,"body_markdown":"Thanks  for the links, but as stated above I&#39;ve read through both of it without finding the required Information. Manually including a C-library in my java-application just to get some meta-information doesn&#39;t look ideal to me. Any additional hints?","body":"Thanks  for the links, but as stated above I&#39;ve read through both of it without finding the required Information. Manually including a C-library in my java-application just to get some meta-information doesn&#39;t look ideal to me. Any additional hints?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1613553663,"post_id":66222773,"comment_id":117107082,"body_markdown":"&quot;but as stated above I&#39;ve read through both of it &quot; you didn&#39;t state that anywhere. The links are the documentation and a library with a reference implementation. I&#39;m sure the information is in there, but I don&#39;t know enough about reading the specs to quickly delve into it. Can you link an example image in your post?","body":"&quot;but as stated above I&#39;ve read through both of it &quot; you didn&#39;t state that anywhere. The links are the documentation and a library with a reference implementation. I&#39;m sure the information is in there, but I don&#39;t know enough about reading the specs to quickly delve into it. Can you link an example image in your post?"}],"answers":[{"tags":[],"owner":{"account_id":20498733,"reputation":46,"user_id":15043092,"display_name":"Daniel a Simona Novomesk&#225;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613555286,"creation_date":1613555286,"answer_id":66239407,"question_id":66222773,"body_markdown":"Some of the AVIF files have `ftypavis` (contains animation) and I also saw AVIF with `ftypmif1`\r\n\r\nIf you want to parse AVIF alone, you need to understand ISOBMFF format and [HEIF container][1] first. There are various properties (like Image spatial Extents (ispe)), then various transformations (crop, rotation, mirror). Images can be stored in a form of image grid...\r\n\r\n\r\n  [1]: https://nokiatech.github.io/heif/technical.html","title":"How to get image dimensions from an avif file?","body":"<p>Some of the AVIF files have <code>ftypavis</code> (contains animation) and I also saw AVIF with <code>ftypmif1</code></p>\n<p>If you want to parse AVIF alone, you need to understand ISOBMFF format and <a href=\"https://nokiatech.github.io/heif/technical.html\" rel=\"nofollow noreferrer\">HEIF container</a> first. There are various properties (like Image spatial Extents (ispe)), then various transformations (crop, rotation, mirror). Images can be stored in a form of image grid...</p>\n"},{"tags":[],"owner":{"account_id":4604322,"reputation":3734,"user_id":3734222,"accept_rate":100,"display_name":"Dimitri Podborski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1663971744,"creation_date":1615325510,"answer_id":66555075,"question_id":66222773,"body_markdown":"Search for [`&#39;ispe&#39;`](https://www.iso.org/standard/66067.html) box (this is a mandatory box/item), skip 4 bytes after the type ([FullBox](https://www.iso.org/standard/83102.html) version and flags) read 4 bytes for image width, read 4 bytes for image height. Profit ;)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LMt5R.png","title":"How to get image dimensions from an avif file?","body":"<p>Search for <a href=\"https://www.iso.org/standard/66067.html\" rel=\"nofollow noreferrer\"><code>'ispe'</code></a> box (this is a mandatory box/item), skip 4 bytes after the type (<a href=\"https://www.iso.org/standard/83102.html\" rel=\"nofollow noreferrer\">FullBox</a> version and flags) read 4 bytes for image width, read 4 bytes for image height. Profit ;)</p>\n<p><a href=\"https://i.stack.imgur.com/LMt5R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LMt5R.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8240088,"reputation":21,"user_id":6197967,"display_name":"Jochen Go"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1348,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663971744,"creation_date":1613471802,"question_id":66222773,"body_markdown":"I&#39;m looking for a (fast) way to retrieve image metadata from an avif-file in my java-application. This is currently done for many image formats by analyzing the raw header bytes of a file.\r\n\r\nI can recognize a file as avif through the magic byte sequence at the beginning of the file: `ftypavif`. \r\nBut I&#39;m not able to find any information how to parse the (max) **image width &amp; height** of contained images. For JPEG2000 for example I can search for SIZ marker `0xFF51` and parse dimensions afterwards, but even after spending a lot of time reading through specifications of avif, I&#39;m not able to find something similar for it.\r\n\r\nIs my approach incorrect and I can&#39;t parse the image dimensions without decoding the image(s)? Or is there any documentation (or even usable library) I missed to retrieve width &amp; height from an avif-file?\r\n\r\nAny hints appreciated!","title":"How to get image dimensions from an avif file?","body":"<p>I'm looking for a (fast) way to retrieve image metadata from an avif-file in my java-application. This is currently done for many image formats by analyzing the raw header bytes of a file.</p>\n<p>I can recognize a file as avif through the magic byte sequence at the beginning of the file: <code>ftypavif</code>.\nBut I'm not able to find any information how to parse the (max) <strong>image width &amp; height</strong> of contained images. For JPEG2000 for example I can search for SIZ marker <code>0xFF51</code> and parse dimensions afterwards, but even after spending a lot of time reading through specifications of avif, I'm not able to find something similar for it.</p>\n<p>Is my approach incorrect and I can't parse the image dimensions without decoding the image(s)? Or is there any documentation (or even usable library) I missed to retrieve width &amp; height from an avif-file?</p>\n<p>Any hints appreciated!</p>\n"},{"tags":["java","compilation"],"comments":[{"owner":{"account_id":59387,"reputation":8242,"user_id":177701,"accept_rate":70,"display_name":"Hendrik Brummermann"},"score":10,"creation_date":1303487633,"post_id":5757189,"comment_id":6591522,"body_markdown":"In addition to Isaac&#39;s answer to your problem. It may be a good idea to write &quot;java&quot; in lower case because upper case only works on MS Windows.","body":"In addition to Isaac&#39;s answer to your problem. It may be a good idea to write &quot;java&quot; in lower case because upper case only works on MS Windows."},{"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"score":0,"creation_date":1667302457,"post_id":5757189,"comment_id":131131460,"body_markdown":"Just a note that Java 11 onwards has support for running directly from a single `.java` file. So you can just run `java HelloWorld2.java`","body":"Just a note that Java 11 onwards has support for running directly from a single <code>.java</code> file. So you can just run <code>java HelloWorld2.java</code>"}],"answers":[{"tags":[],"owner":{"account_id":156786,"reputation":8774,"user_id":374293,"accept_rate":40,"display_name":"Isaac Truett"},"down_vote_count":1,"up_vote_count":117,"is_accepted":true,"score":116,"last_activity_date":1663971463,"creation_date":1303487460,"answer_id":5757212,"question_id":5757189,"body_markdown":"If your class does not have a package, you only need to set the classpath to find your compiled class:\r\n\r\n`java -cp C:\\Users\\Matt\\workspace\\HelloWorld2\\bin HelloWorld2`\r\n\r\nIf your class has a package, then it needs to be in a directory corresponding to the package name, and the classpath must be set to the root of the directory tree that represents the package.\r\n\r\n    // Source file HelloWorld2/src/com/example/HelloWorld2.java\r\n    package com.example;\r\n    ...\r\n    \r\n    Compiled class file: HelloWorld2/bin/com/example/HelloWorld2.class\r\n    \r\n    $ java -cp HelloWorld2/bin com.example.HelloWorld2","title":"How do I run Java .class files?","body":"<p>If your class does not have a package, you only need to set the classpath to find your compiled class:</p>\n<p><code>java -cp C:\\Users\\Matt\\workspace\\HelloWorld2\\bin HelloWorld2</code></p>\n<p>If your class has a package, then it needs to be in a directory corresponding to the package name, and the classpath must be set to the root of the directory tree that represents the package.</p>\n<pre><code>// Source file HelloWorld2/src/com/example/HelloWorld2.java\npackage com.example;\n...\n\nCompiled class file: HelloWorld2/bin/com/example/HelloWorld2.class\n\n$ java -cp HelloWorld2/bin com.example.HelloWorld2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":371449,"reputation":1367,"user_id":719988,"display_name":"Federico Vera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1303488443,"creation_date":1303488443,"answer_id":5757370,"question_id":5757189,"body_markdown":"This can mean a lot of things, but the most common one is that the class contained in the file doesn&#39;t have the same name as the file itself. So, check if your class is also called HelloWorld2. ","title":"How do I run Java .class files?","body":"<p>This can mean a lot of things, but the most common one is that the class contained in the file doesn't have the same name as the file itself. So, check if your class is also called HelloWorld2. </p>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1449787856,"creation_date":1449785972,"answer_id":34212787,"question_id":5757189,"body_markdown":"To run [Java class file][1] from the command line, the syntax is:\r\n\r\n    java -classpath /path/to/jars &lt;packageName&gt;.&lt;MainClassName&gt;\r\n\r\nwhere packageName (usually starts with either `com` or `org`) is the folder name where your class file is present.\r\n\r\nFor example if your main class name is App and [Java package name][2] of your app is `com.foo.app`, then your class file needs to be in `com/foo/app` folder (separate folder for each dot), so you run your app as:\r\n\r\n    $ java com.foo.app.App\r\n\r\n&lt;sup&gt;Note: `$` is indicating shell prompt, ignore it when typing&lt;/sup&gt;\r\n\r\nIf your class doesn&#39;t have any `package` name defined, simply run as: `java App`.\r\n\r\nIf you&#39;ve any other jar dependencies, make sure you specified your [*classpath*][3] parameter either with `-cp`/`-classpath` or using `CLASSPATH` variable which points to the folder with your *jar*/*war*/*ear*/*zip*/*class* files. So on Linux you can prefix the command with: `CLASSPATH=/path/to/jars`, on Windows you need to add the folder into system variable. If not set, the user class path consists of the current directory (`.`).\r\n\r\n----------\r\n\r\n### Practical example\r\n\r\nGiven we&#39;ve created sample project using [Maven][4] as:\r\n\r\n    $ mvn archetype:generate -DgroupId=com.foo.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false \r\n\r\nand we&#39;ve compiled our project by `mvn compile` in our `my-app/` dir, it&#39;ll generate our class file is in `target/classes/com/foo/app/App.class`.\r\n\r\nTo run it, we can either specify class path via `-cp` or going to it directly, check examples below:\r\n\r\n    $ find . -name &quot;*.class&quot;\r\n    ./target/classes/com/foo/app/App.class\r\n    $ CLASSPATH=target/classes/ java com.foo.app.App\r\n    Hello World!\r\n    $ java -cp target/classes com.foo.app.App\r\n    Hello World!\r\n    $ java -classpath .:/path/to/other-jars:target/classes com.foo.app.App\r\n    Hello World!\r\n    $ cd target/classes &amp;&amp; java com.foo.app.App\r\n    Hello World!\r\n\r\nTo double check your class and package name, you can use Java class file disassembler tool, e.g.:\r\n\r\n    $ javap target/classes/com/foo/app/App.class\r\n    Compiled from &quot;App.java&quot;\r\n    public class com.foo.app.App {\r\n      public com.foo.app.App();\r\n      public static void main(java.lang.String[]);\r\n    }\r\n\r\n&lt;sup&gt;Note: `javap` won&#39;t work if the compiled file has been obfuscated.&lt;/sup&gt;  \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_class_file\r\n  [2]: https://en.wikipedia.org/wiki/Java_package\r\n  [3]: https://en.wikipedia.org/wiki/Classpath_(Java)\r\n  [4]: https://en.wikipedia.org/wiki/Apache_Maven","title":"How do I run Java .class files?","body":"<p>To run <a href=\"https://en.wikipedia.org/wiki/Java_class_file\">Java class file</a> from the command line, the syntax is:</p>\n\n<pre><code>java -classpath /path/to/jars &lt;packageName&gt;.&lt;MainClassName&gt;\n</code></pre>\n\n<p>where packageName (usually starts with either <code>com</code> or <code>org</code>) is the folder name where your class file is present.</p>\n\n<p>For example if your main class name is App and <a href=\"https://en.wikipedia.org/wiki/Java_package\">Java package name</a> of your app is <code>com.foo.app</code>, then your class file needs to be in <code>com/foo/app</code> folder (separate folder for each dot), so you run your app as:</p>\n\n<pre><code>$ java com.foo.app.App\n</code></pre>\n\n<p><sup>Note: <code>$</code> is indicating shell prompt, ignore it when typing</sup></p>\n\n<p>If your class doesn't have any <code>package</code> name defined, simply run as: <code>java App</code>.</p>\n\n<p>If you've any other jar dependencies, make sure you specified your <a href=\"https://en.wikipedia.org/wiki/Classpath_(Java)\"><em>classpath</em></a> parameter either with <code>-cp</code>/<code>-classpath</code> or using <code>CLASSPATH</code> variable which points to the folder with your <em>jar</em>/<em>war</em>/<em>ear</em>/<em>zip</em>/<em>class</em> files. So on Linux you can prefix the command with: <code>CLASSPATH=/path/to/jars</code>, on Windows you need to add the folder into system variable. If not set, the user class path consists of the current directory (<code>.</code>).</p>\n\n<hr>\n\n<h3>Practical example</h3>\n\n<p>Given we've created sample project using <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\">Maven</a> as:</p>\n\n<pre><code>$ mvn archetype:generate -DgroupId=com.foo.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false \n</code></pre>\n\n<p>and we've compiled our project by <code>mvn compile</code> in our <code>my-app/</code> dir, it'll generate our class file is in <code>target/classes/com/foo/app/App.class</code>.</p>\n\n<p>To run it, we can either specify class path via <code>-cp</code> or going to it directly, check examples below:</p>\n\n<pre><code>$ find . -name \"*.class\"\n./target/classes/com/foo/app/App.class\n$ CLASSPATH=target/classes/ java com.foo.app.App\nHello World!\n$ java -cp target/classes com.foo.app.App\nHello World!\n$ java -classpath .:/path/to/other-jars:target/classes com.foo.app.App\nHello World!\n$ cd target/classes &amp;&amp; java com.foo.app.App\nHello World!\n</code></pre>\n\n<p>To double check your class and package name, you can use Java class file disassembler tool, e.g.:</p>\n\n<pre><code>$ javap target/classes/com/foo/app/App.class\nCompiled from \"App.java\"\npublic class com.foo.app.App {\n  public com.foo.app.App();\n  public static void main(java.lang.String[]);\n}\n</code></pre>\n\n<p><sup>Note: <code>javap</code> won't work if the compiled file has been obfuscated.</sup>  </p>\n"},{"tags":[],"owner":{"account_id":9331533,"reputation":11,"user_id":6927124,"display_name":"odunstory"},"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1574180463,"creation_date":1574178980,"answer_id":58938083,"question_id":5757189,"body_markdown":" 1. Go to the path where you saved the java file you want to compile.\r\n 2. Replace path by typing **cmd** and press enter.\r\n 3. Command Prompt Directory will pop up containing the path file like `C:/blah/blah/foldercontainJava`\r\n 4. Enter `javac javafile.java`\r\n 5. Press Enter. It will automatically generate java class file","title":"How do I run Java .class files?","body":"<ol>\n<li>Go to the path where you saved the java file you want to compile.</li>\n<li>Replace path by typing <strong>cmd</strong> and press enter.</li>\n<li>Command Prompt Directory will pop up containing the path file like <code>C:/blah/blah/foldercontainJava</code></li>\n<li>Enter <code>javac javafile.java</code></li>\n<li>Press Enter. It will automatically generate java class file</li>\n</ol>\n"}],"owner":{"account_id":351347,"reputation":1425,"user_id":687761,"accept_rate":67,"display_name":"Skizz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261740,"favorite_count":0,"down_vote_count":1,"up_vote_count":100,"accepted_answer_id":5757212,"answer_count":4,"score":99,"last_activity_date":1663971463,"creation_date":1303487335,"question_id":5757189,"body_markdown":"I&#39;ve compiled a HelloWorld program, and I&#39;m using the command prompt to run it.  The .class file is named HelloWorld2.class\r\n\r\nThe file is located in C:\\Users\\Matt\\workspace\\HelloWorld2\\bin\r\nHere&#39;s what I&#39;m getting when I go to command prompt, and type &quot;Java HelloWorld2&quot; :\r\n\r\n    C:\\Users\\Matt&gt;Java HelloWorld2\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: HelloWorld2\r\n    Caused by: java.lang.ClassNotFoundException: HelloWorld2\r\n            at java.net.URLClassLoader$1.run(Unknown Source)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n    Could not find the main class: HelloWorld2.  Program will exit.\r\n\r\nI was expecting to see a HelloWorld printed out.  What am I doing wrong?  I have the JDK installed.\r\n","title":"How do I run Java .class files?","body":"<p>I've compiled a HelloWorld program, and I'm using the command prompt to run it.  The .class file is named HelloWorld2.class</p>\n\n<p>The file is located in C:\\Users\\Matt\\workspace\\HelloWorld2\\bin\nHere's what I'm getting when I go to command prompt, and type \"Java HelloWorld2\" :</p>\n\n<pre><code>C:\\Users\\Matt&gt;Java HelloWorld2\nException in thread \"main\" java.lang.NoClassDefFoundError: HelloWorld2\nCaused by: java.lang.ClassNotFoundException: HelloWorld2\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\nCould not find the main class: HelloWorld2.  Program will exit.\n</code></pre>\n\n<p>I was expecting to see a HelloWorld printed out.  What am I doing wrong?  I have the JDK installed.</p>\n"},{"tags":["java","immutability"],"comments":[{"owner":{"account_id":318039,"reputation":563,"user_id":635041,"display_name":"user635041"},"score":0,"creation_date":1298678898,"post_id":5124012,"comment_id":5747262,"body_markdown":"String is a good example. Are there any other immutable classes?","body":"String is a good example. Are there any other immutable classes?"},{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1298678994,"post_id":5124012,"comment_id":5747277,"body_markdown":"@user: Usually the javadoc for a particular class will state if it is immutable or not.","body":"@user: Usually the javadoc for a particular class will state if it is immutable or not."},{"owner":{"account_id":318039,"reputation":563,"user_id":635041,"display_name":"user635041"},"score":1,"creation_date":1298679815,"post_id":5124012,"comment_id":5747353,"body_markdown":"is Class AccessControlContext a immutable class","body":"is Class AccessControlContext a immutable class"},{"owner":{"account_id":996598,"reputation":6067,"user_id":1012372,"accept_rate":49,"display_name":"Jayesh"},"score":0,"creation_date":1456556481,"post_id":5124012,"comment_id":59013228,"body_markdown":"All answers below (expect one or two) explains how to create Immutable class or says what is immutable rather than answering the actual question asked.","body":"All answers below (expect one or two) explains how to create Immutable class or says what is immutable rather than answering the actual question asked."}],"answers":[{"tags":[],"owner":{"account_id":102565,"reputation":4191,"user_id":275243,"accept_rate":94,"display_name":"christophmccann"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1434648467,"creation_date":1298678463,"answer_id":5124054,"question_id":5124012,"body_markdown":"Immutable classes cannot be changed after construction. So, for example, a Java `String` is immutable. \r\n\r\nTo make a class immutable, you have to make it `final` and all the fields `private` and `final`. For example the following class is immutable:\r\n\r\n    public final class Person {\r\n       \r\n         private final String name;\r\n         private final int age;\r\n         private final Collection&lt;String&gt; friends;\r\n    \r\n         public Person(String name, int age, Collection&lt;String&gt; friends) {\r\n             this.name = name;\r\n             this.age = age;\r\n             this.friends = new ArrayList(friends);\r\n         }\r\n    \r\n         public String getName() { \r\n             return this.name;\r\n         }\r\n    \r\n         public int getAge() {\r\n             return this.age;\r\n         }\r\n\r\n         public Collection&lt;String&gt; getFriends() {\r\n             return Collections.unmodifiableCollection(this.friends);\r\n         }\r\n    }\r\n\r\nI have added in a method in the code example showing how to handle collections, an important point.\r\n\r\nWhere possible _you should_ make classes immutable, because then you don&#39;t have to worry about things like thread safety.","title":"Examples of immutable classes","body":"<p>Immutable classes cannot be changed after construction. So, for example, a Java <code>String</code> is immutable. </p>\n\n<p>To make a class immutable, you have to make it <code>final</code> and all the fields <code>private</code> and <code>final</code>. For example the following class is immutable:</p>\n\n<pre><code>public final class Person {\n\n     private final String name;\n     private final int age;\n     private final Collection&lt;String&gt; friends;\n\n     public Person(String name, int age, Collection&lt;String&gt; friends) {\n         this.name = name;\n         this.age = age;\n         this.friends = new ArrayList(friends);\n     }\n\n     public String getName() { \n         return this.name;\n     }\n\n     public int getAge() {\n         return this.age;\n     }\n\n     public Collection&lt;String&gt; getFriends() {\n         return Collections.unmodifiableCollection(this.friends);\n     }\n}\n</code></pre>\n\n<p>I have added in a method in the code example showing how to handle collections, an important point.</p>\n\n<p>Where possible <em>you should</em> make classes immutable, because then you don't have to worry about things like thread safety.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1298679839,"creation_date":1298678497,"answer_id":5124058,"question_id":5124012,"body_markdown":"`String` is a good &quot;real world&quot; example of an immutable class.  And you can contrast it with the mutable `StringBuilder` class.\r\n\r\n---------\r\n\r\nMost of the Java classes used for reflection are immutable.  And some of the others are &quot;almost immutable&quot;: e.g. the classes that implement `Accessible` have just a `setAccessible` method that changes the state of the `Accessible` instance.\r\n\r\n---------\r\n\r\nI&#39;m sure there are lots more in the standard class libraries.","title":"Examples of immutable classes","body":"<p><code>String</code> is a good \"real world\" example of an immutable class.  And you can contrast it with the mutable <code>StringBuilder</code> class.</p>\n\n<hr>\n\n<p>Most of the Java classes used for reflection are immutable.  And some of the others are \"almost immutable\": e.g. the classes that implement <code>Accessible</code> have just a <code>setAccessible</code> method that changes the state of the <code>Accessible</code> instance.</p>\n\n<hr>\n\n<p>I'm sure there are lots more in the standard class libraries.</p>\n"},{"tags":[],"owner":{"account_id":75270,"reputation":16461,"user_id":1556338,"accept_rate":95,"display_name":"Bernard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298679047,"creation_date":1298679047,"answer_id":5124096,"question_id":5124012,"body_markdown":"The Sun (Oracle) documentation has an excellent checklist on how to make an immutable object. \r\n&gt; \r\n1. Don&#39;t provide &quot;setter&quot; methods — methods that modify fields or objects referred to by fields.\r\n2. Make all fields final and private.\r\n3. Don&#39;t allow subclasses to override methods. The simplest way to do this is to declare the class as final. A more sophisticated approach is to make the constructor private and construct instances in factory methods.\r\n4. If the instance fields include references to mutable objects, don&#39;t allow those objects to be changed:\r\n  - Don&#39;t provide methods that modify the mutable objects.\r\n  - Don&#39;t share references to the mutable objects. Never store references to external, mutable objects passed to the constructor; if necessary, create copies, and store references to the copies. Similarly, create copies of your internal mutable objects when necessary to avoid returning the originals in your methods.\r\n\r\nFrom: http://download.oracle.com/javase/tutorial/essential/concurrency/imstrat.html\r\n\r\nThe site also provides examples of its use in a concurrency context but immutability is also useful when writing libraries. It assures that callers to the library are able to only change what we allow them to.\r\n","title":"Examples of immutable classes","body":"<p>The Sun (Oracle) documentation has an excellent checklist on how to make an immutable object. </p>\n\n<blockquote>\n  <ol>\n  <li>Don't provide \"setter\" methods — methods that modify fields or objects referred to by fields.</li>\n  <li>Make all fields final and private.</li>\n  <li>Don't allow subclasses to override methods. The simplest way to do this is to declare the class as final. A more sophisticated approach is to make the constructor private and construct instances in factory methods.</li>\n  <li>If the instance fields include references to mutable objects, don't allow those objects to be changed:\n  <ul>\n  <li>Don't provide methods that modify the mutable objects.</li>\n  <li>Don't share references to the mutable objects. Never store references to external, mutable objects passed to the constructor; if necessary, create copies, and store references to the copies. Similarly, create copies of your internal mutable objects when necessary to avoid returning the originals in your methods.</li>\n  </ul></li>\n  </ol>\n</blockquote>\n\n<p>From: <a href=\"http://download.oracle.com/javase/tutorial/essential/concurrency/imstrat.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/essential/concurrency/imstrat.html</a></p>\n\n<p>The site also provides examples of its use in a concurrency context but immutability is also useful when writing libraries. It assures that callers to the library are able to only change what we allow them to.</p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":100,"is_accepted":false,"score":100,"last_activity_date":1663970951,"creation_date":1298680421,"answer_id":5124214,"question_id":5124012,"body_markdown":"Some famous immutable classes in the Standard API:\r\n\r\n* java.lang.String (already mentioned)\r\n* The wrapper classes for the primitive types: java.lang.Integer, java.lang.Byte, java.lang.Character, java.lang.Short, java.lang.Boolean, java.lang.Long, java.lang.Double, java.lang.Float\r\n* java.lang.StackTraceElement (used in building exception stacktraces)\r\n* Most enum classes are immutable, but this in fact depends on the concrete case. (Don&#39;t implement mutable enums, this will screw you up somewhen.) I think that at least all enum classes in the standard API are in fact immutable.\r\n\r\n* java.math.BigInteger and java.math.BigDecimal (at least objects of those classes themselves, subclasses could introduce mutability, though this is not a good idea)\r\n\r\n* java.io.File. Note that this represents an object external to the VM (a file on the local system), which may or may not exist, and has some methods modifying and querying the state of this external object. But the File object itself stays immutable.  (All other classes in java.io are mutable.)\r\n\r\n* java.awt.Font - representing a font for drawing text on the screen (there may be some mutable subclasses, but this would certainly not be useful)\r\n* java.awt.BasicStroke - a helper object for drawing lines on graphic contexts\r\n* java.awt.Color - (at least objects of this class, some subclasses may be mutable or depending on some external factors (like system colors)), and most other implementations of java.awt.Paint like\r\n  * java.awt.GradientPaint,\r\n  * java.awt.LinearGradientPaint\r\n  * java.awt.RadialGradientPaint, \r\n  * (I&#39;m not sure about java.awt.TexturePaint)\r\n* java.awt.Cursor - representing the bitmap for the mouse cursor (here too, some subclasses may be mutable or depending on outer factors)\r\n\r\n* java.util.Locale - representing a *specific geographical, political, or cultural region*.\r\n* java.util.UUID - an as much as possible globally unique identifier\r\n* while most collections are mutable, there are some wrapper methods in the java.util.Collections class, which return an unmodifiable view on a collection. If you pass them a collection not known anywhere, these are in fact immutable collections. Additionally, `Collections.singletonMap()`, `.singletonList`, `.singleton` return immutable one-element collections, and there are also immutable empty ones.\r\n\r\n* java.net.URL and java.net.URI - representing a resource (on the internet or somewhere else)\r\n* java.net.Inet4Address and java.net.Inet6Address, java.net.InetSocketAddress \r\n* most subclasses of java.security.Permission (representing permissions needed for some action or given to some code), but not java.security.PermissionCollection and subclasses.\r\n* All classes of `java.time` except `DateTimeException` are immutable. Most of the classes of the subpackages of `java.time` are immutable too.\r\n\r\nOne could say the primitive types are immutable, too - you can&#39;t change the value of 42, can you?\r\n\r\n------\r\n\r\n&gt; is Class AccessControlContext a immutable class\r\n\r\nAccessControlContext does not have any mutating methods. And its state consists of a list of ProtectionDomains (which is an immutable class) and a DomainCombiner. DomainCombiner is an interface, so in principle the implementation could do something different on each call.\r\n\r\nIn fact, also the behaviour of the ProtectionDomain could depend on the current policy in force - it is disputable whether to call such an object immutable.\r\n\r\n&gt; and AccessController?\r\n\r\nThere are no objects of type AccessController, since this is a final class with no accessible constructor. All methods are static. One could say AccessController is neither mutable nor immutable, or both.\r\n\r\nThe same is valid for all other classes which can&#39;t have objects (instances), most famously:\r\n\r\n* java.lang.Void\r\n* java.lang.System  (but this has some mutable static state - `in`, `out`, `err`)\r\n* java.lang.Math  (this too - the random number generator)\r\n* java.lang.reflect.Array\r\n* java.util.Collections\r\n* java.util.Arrays","title":"Examples of immutable classes","body":"<p>Some famous immutable classes in the Standard API:</p>\n<ul>\n<li><p>java.lang.String (already mentioned)</p>\n</li>\n<li><p>The wrapper classes for the primitive types: java.lang.Integer, java.lang.Byte, java.lang.Character, java.lang.Short, java.lang.Boolean, java.lang.Long, java.lang.Double, java.lang.Float</p>\n</li>\n<li><p>java.lang.StackTraceElement (used in building exception stacktraces)</p>\n</li>\n<li><p>Most enum classes are immutable, but this in fact depends on the concrete case. (Don't implement mutable enums, this will screw you up somewhen.) I think that at least all enum classes in the standard API are in fact immutable.</p>\n</li>\n<li><p>java.math.BigInteger and java.math.BigDecimal (at least objects of those classes themselves, subclasses could introduce mutability, though this is not a good idea)</p>\n</li>\n<li><p>java.io.File. Note that this represents an object external to the VM (a file on the local system), which may or may not exist, and has some methods modifying and querying the state of this external object. But the File object itself stays immutable.  (All other classes in java.io are mutable.)</p>\n</li>\n<li><p>java.awt.Font - representing a font for drawing text on the screen (there may be some mutable subclasses, but this would certainly not be useful)</p>\n</li>\n<li><p>java.awt.BasicStroke - a helper object for drawing lines on graphic contexts</p>\n</li>\n<li><p>java.awt.Color - (at least objects of this class, some subclasses may be mutable or depending on some external factors (like system colors)), and most other implementations of java.awt.Paint like</p>\n<ul>\n<li>java.awt.GradientPaint,</li>\n<li>java.awt.LinearGradientPaint</li>\n<li>java.awt.RadialGradientPaint,</li>\n<li>(I'm not sure about java.awt.TexturePaint)</li>\n</ul>\n</li>\n<li><p>java.awt.Cursor - representing the bitmap for the mouse cursor (here too, some subclasses may be mutable or depending on outer factors)</p>\n</li>\n<li><p>java.util.Locale - representing a <em>specific geographical, political, or cultural region</em>.</p>\n</li>\n<li><p>java.util.UUID - an as much as possible globally unique identifier</p>\n</li>\n<li><p>while most collections are mutable, there are some wrapper methods in the java.util.Collections class, which return an unmodifiable view on a collection. If you pass them a collection not known anywhere, these are in fact immutable collections. Additionally, <code>Collections.singletonMap()</code>, <code>.singletonList</code>, <code>.singleton</code> return immutable one-element collections, and there are also immutable empty ones.</p>\n</li>\n<li><p>java.net.URL and java.net.URI - representing a resource (on the internet or somewhere else)</p>\n</li>\n<li><p>java.net.Inet4Address and java.net.Inet6Address, java.net.InetSocketAddress</p>\n</li>\n<li><p>most subclasses of java.security.Permission (representing permissions needed for some action or given to some code), but not java.security.PermissionCollection and subclasses.</p>\n</li>\n<li><p>All classes of <code>java.time</code> except <code>DateTimeException</code> are immutable. Most of the classes of the subpackages of <code>java.time</code> are immutable too.</p>\n</li>\n</ul>\n<p>One could say the primitive types are immutable, too - you can't change the value of 42, can you?</p>\n<hr />\n<blockquote>\n<p>is Class AccessControlContext a immutable class</p>\n</blockquote>\n<p>AccessControlContext does not have any mutating methods. And its state consists of a list of ProtectionDomains (which is an immutable class) and a DomainCombiner. DomainCombiner is an interface, so in principle the implementation could do something different on each call.</p>\n<p>In fact, also the behaviour of the ProtectionDomain could depend on the current policy in force - it is disputable whether to call such an object immutable.</p>\n<blockquote>\n<p>and AccessController?</p>\n</blockquote>\n<p>There are no objects of type AccessController, since this is a final class with no accessible constructor. All methods are static. One could say AccessController is neither mutable nor immutable, or both.</p>\n<p>The same is valid for all other classes which can't have objects (instances), most famously:</p>\n<ul>\n<li>java.lang.Void</li>\n<li>java.lang.System  (but this has some mutable static state - <code>in</code>, <code>out</code>, <code>err</code>)</li>\n<li>java.lang.Math  (this too - the random number generator)</li>\n<li>java.lang.reflect.Array</li>\n<li>java.util.Collections</li>\n<li>java.util.Arrays</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":318045,"reputation":3492,"user_id":635049,"display_name":"Luciano Costa"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1298680677,"creation_date":1298680677,"answer_id":5124230,"question_id":5124012,"body_markdown":"It&#39;s important to keep in mind that declaring a class as final does not means that it is &quot;immutable&quot;, this basically means that this class cannot be extended (or specialized).\r\n\r\nImmutable classes must have private and final fields (without setters), so after its construction, it cannot have its field values changed.\r\n","title":"Examples of immutable classes","body":"<p>It's important to keep in mind that declaring a class as final does not means that it is \"immutable\", this basically means that this class cannot be extended (or specialized).</p>\n\n<p>Immutable classes must have private and final fields (without setters), so after its construction, it cannot have its field values changed.</p>\n"},{"tags":[],"owner":{"account_id":1719476,"reputation":41,"user_id":1575777,"display_name":"jaibardhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1344086094,"creation_date":1344085714,"answer_id":11808930,"question_id":5124012,"body_markdown":"Immutable class is a class which once created, it’s contents can not be changed. Immutable objects are the objects whose state can not be changed once constructed. Example- String &amp; all java wrapper classes.\r\n\r\nMutable objects are the objects whose state can be changed once constructed.example- StringBuffer Once value changed memory location altered.\r\n See below example -\r\n\r\n     public static void immutableOperation(){\r\n\t\tString str=new String(&quot;String is immutable class in Java object value cann&#39;t alter once created...&quot;);\r\n\t\tSystem.out.println(str);\r\n\t\tstr.replaceAll(&quot;String&quot;, &quot;StringBuffer&quot;);\r\n\t\tSystem.out.println(str);\r\n\t\tstr.concat(&quot;Concating value &quot;);\r\n\t\tSystem.out.println(str + &quot;HashCode Value  &quot; + str.hashCode());\r\n\t\tstr=str.concat(&quot;Concating value &quot;);\r\n\t\tSystem.out.println(str + &quot;HashCode Val  &quot; + str.hashCode());\r\n\r\n\t}\r\n\r\n\tpublic static void mutableOperation(){\r\n\t\tStringBuffer str=new StringBuffer(&quot;StringBuffer is mutable class in Java object value can  alter once created...&quot;);\r\n\t\tSystem.out.println(str + &quot;HashCode Val - &quot; + str.hashCode());\r\n\t\tstr.replace(0, 12, &quot;String&quot;);\r\n\t\tSystem.out.println(str + &quot;HashCode Val - &quot; + str.hashCode());\r\n\t\t\r\n\t}","title":"Examples of immutable classes","body":"<p>Immutable class is a class which once created, it’s contents can not be changed. Immutable objects are the objects whose state can not be changed once constructed. Example- String &amp; all java wrapper classes.</p>\n\n<p>Mutable objects are the objects whose state can be changed once constructed.example- StringBuffer Once value changed memory location altered.\n See below example -</p>\n\n<pre><code> public static void immutableOperation(){\n    String str=new String(\"String is immutable class in Java object value cann't alter once created...\");\n    System.out.println(str);\n    str.replaceAll(\"String\", \"StringBuffer\");\n    System.out.println(str);\n    str.concat(\"Concating value \");\n    System.out.println(str + \"HashCode Value  \" + str.hashCode());\n    str=str.concat(\"Concating value \");\n    System.out.println(str + \"HashCode Val  \" + str.hashCode());\n\n}\n\npublic static void mutableOperation(){\n    StringBuffer str=new StringBuffer(\"StringBuffer is mutable class in Java object value can  alter once created...\");\n    System.out.println(str + \"HashCode Val - \" + str.hashCode());\n    str.replace(0, 12, \"String\");\n    System.out.println(str + \"HashCode Val - \" + str.hashCode());\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":887421,"reputation":5160,"user_id":926520,"accept_rate":75,"display_name":"Pankaj"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1390773137,"creation_date":1390773137,"answer_id":21369756,"question_id":5124012,"body_markdown":"To create a class immutable, you need to follow following steps:\r\n\r\n 1. Declare the class as final so it can’t be extended.\r\n 2. Make all fields private so that direct access is not allowed.\r\n 3. Don’t provide setter methods for variables\r\n 4. Make all mutable fields final so that it’s value can be assigned\r\n    only once.\r\n 5. Initialize all the fields via a constructor performing deep copy.\r\n 6. Perform cloning of objects in the getter methods to return a copy\r\n    rather than returning the actual object reference.\r\n\r\nAn example can be found [here][1].\r\n\r\nWe can also use Builder Pattern to easily create immutable classes, an example can be found [here][2].\r\n\r\n\r\n  [1]: http://www.journaldev.com/129/how-to-write-an-immutable-class\r\n  [2]: http://www.journaldev.com/1432/how-to-create-immutable-class-in-java-using-builder-pattern","title":"Examples of immutable classes","body":"<p>To create a class immutable, you need to follow following steps:</p>\n\n<ol>\n<li>Declare the class as final so it can’t be extended.</li>\n<li>Make all fields private so that direct access is not allowed.</li>\n<li>Don’t provide setter methods for variables</li>\n<li>Make all mutable fields final so that it’s value can be assigned\nonly once.</li>\n<li>Initialize all the fields via a constructor performing deep copy.</li>\n<li>Perform cloning of objects in the getter methods to return a copy\nrather than returning the actual object reference.</li>\n</ol>\n\n<p>An example can be found <a href=\"http://www.journaldev.com/129/how-to-write-an-immutable-class\" rel=\"noreferrer\">here</a>.</p>\n\n<p>We can also use Builder Pattern to easily create immutable classes, an example can be found <a href=\"http://www.journaldev.com/1432/how-to-create-immutable-class-in-java-using-builder-pattern\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1477329,"reputation":2379,"user_id":1387421,"accept_rate":75,"display_name":"keaplogik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436665552,"creation_date":1436664822,"answer_id":31363518,"question_id":5124012,"body_markdown":"I like to use examples that have a mutable property. This helps understand how immutable classes truly function.\r\n\r\nMutable class\r\n\r\n    class MutableBook {\r\n        private String title;\r\n        \r\n        public String getTitle(){\r\n            return this.title;\r\n        }\r\n        \r\n        public void setTitle(String title){\r\n            this.title = title;\r\n        }\r\n    }\r\n\r\nAnd an immutable implementation using the mutable instance of a book.\r\n\r\n    public class ImmutableReader {\r\n        private final MutableBook readersBook;\r\n        private final int page;\r\n        \r\n        public ImmutableReader(MutableBook book) {\r\n            this(book, 0);\r\n        }\r\n        \r\n        private ImmutableReader(MutableBook book, int page){\r\n            this.page = page;\r\n            \r\n            // Make copy to ensure this books state won&#39;t change.\r\n            MutableBook bookCopy = new MutableBook();\r\n            bookCopy.setTitle(book.getTitle());\r\n            this.readersBook = bookCopy;\r\n        }\r\n        \r\n        \r\n        public MutableBook getBook() {\r\n            // Do not return the book, but a new copy. Do not want the readers\r\n            // book to change it&#39;s state if developer changes book after this call.\r\n            MutableBook bookCopy = new MutableBook();\r\n            bookCopy.setTitle(this.readersBook.getTitle());\r\n            return bookCopy;\r\n        }\r\n        \r\n        public int getPage() {\r\n            // primitives are already immutable.\r\n            return page;\r\n        }\r\n        \r\n        /**\r\n        * Must return reader instance since it&#39;s state has changed.\r\n        **/ \r\n        public ImmutableReader turnPage() {\r\n            return new ImmutableReader(this.readersBook, page + 1);\r\n        }\r\n    }\r\n\r\nIn order for your class to be truly immutable, it must meet the following cirteria:\r\n\r\n - All class members are declared final.\r\n - All variables used in a class at the class level must be instantiated when the class is constructed.\r\n - No class variable can have a setter method.\r\n    - This is implied from the first statement, but want to make it clear that you cannot change the state of the class.\r\n - All child object must be immutable as well, or their state never changed in the immutable class.\r\n    - If you have a class with mutable properties, you must lock it down. Declare it private, and ensure you never change it&#39;s state.\r\n\r\nTo learn a little more take a look at my blog post: http://keaplogik.blogspot.com/2015/07/java-immutable-classes-simplified.html","title":"Examples of immutable classes","body":"<p>I like to use examples that have a mutable property. This helps understand how immutable classes truly function.</p>\n\n<p>Mutable class</p>\n\n<pre><code>class MutableBook {\n    private String title;\n\n    public String getTitle(){\n        return this.title;\n    }\n\n    public void setTitle(String title){\n        this.title = title;\n    }\n}\n</code></pre>\n\n<p>And an immutable implementation using the mutable instance of a book.</p>\n\n<pre><code>public class ImmutableReader {\n    private final MutableBook readersBook;\n    private final int page;\n\n    public ImmutableReader(MutableBook book) {\n        this(book, 0);\n    }\n\n    private ImmutableReader(MutableBook book, int page){\n        this.page = page;\n\n        // Make copy to ensure this books state won't change.\n        MutableBook bookCopy = new MutableBook();\n        bookCopy.setTitle(book.getTitle());\n        this.readersBook = bookCopy;\n    }\n\n\n    public MutableBook getBook() {\n        // Do not return the book, but a new copy. Do not want the readers\n        // book to change it's state if developer changes book after this call.\n        MutableBook bookCopy = new MutableBook();\n        bookCopy.setTitle(this.readersBook.getTitle());\n        return bookCopy;\n    }\n\n    public int getPage() {\n        // primitives are already immutable.\n        return page;\n    }\n\n    /**\n    * Must return reader instance since it's state has changed.\n    **/ \n    public ImmutableReader turnPage() {\n        return new ImmutableReader(this.readersBook, page + 1);\n    }\n}\n</code></pre>\n\n<p>In order for your class to be truly immutable, it must meet the following cirteria:</p>\n\n<ul>\n<li>All class members are declared final.</li>\n<li>All variables used in a class at the class level must be instantiated when the class is constructed.</li>\n<li>No class variable can have a setter method.\n\n<ul>\n<li>This is implied from the first statement, but want to make it clear that you cannot change the state of the class.</li>\n</ul></li>\n<li>All child object must be immutable as well, or their state never changed in the immutable class.\n\n<ul>\n<li>If you have a class with mutable properties, you must lock it down. Declare it private, and ensure you never change it's state.</li>\n</ul></li>\n</ul>\n\n<p>To learn a little more take a look at my blog post: <a href=\"http://keaplogik.blogspot.com/2015/07/java-immutable-classes-simplified.html\" rel=\"nofollow\">http://keaplogik.blogspot.com/2015/07/java-immutable-classes-simplified.html</a></p>\n"},{"tags":[],"owner":{"account_id":5883828,"reputation":671,"user_id":4632437,"accept_rate":80,"display_name":"Igor Soudakevitch"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1505907340,"creation_date":1455867035,"answer_id":35499770,"question_id":5124012,"body_markdown":"**LocalDate**, **LocalTime** and **LocalDateTime** classes (since 1.8) are also immutable. In fact, this very subject is on the OCAJSE8 (1Z0-808) exam, and that&#39;s precisely why I decided to treat it as not a mere comment.&lt;br&gt;\r\n&lt;br&gt;\r\nAll primitive wrapper classes (such as **Boolean**, **Character**, **Byte**, **Short**, **Integer**, **Long**, **Float**, and **Double**) are immutable.&lt;br&gt;&lt;br&gt; \r\n**Money** and **Currency** API (slated for Java9) should be immutable, too.&lt;br&gt;\r\n&lt;br&gt;\r\nIncidentally, the **array-backed Lists** (created by `Arrays.asList(myArray)`) are *structurally*-immutable.&lt;br&gt;&lt;br&gt;\r\nAlso, there are some border-line cases such as **java.util.Optional** (featured on the OCP exam, 1Z0-809), which is immutable if the contained element is itself immutable.","title":"Examples of immutable classes","body":"<p><strong>LocalDate</strong>, <strong>LocalTime</strong> and <strong>LocalDateTime</strong> classes (since 1.8) are also immutable. In fact, this very subject is on the OCAJSE8 (1Z0-808) exam, and that's precisely why I decided to treat it as not a mere comment.<br>\n<br>\nAll primitive wrapper classes (such as <strong>Boolean</strong>, <strong>Character</strong>, <strong>Byte</strong>, <strong>Short</strong>, <strong>Integer</strong>, <strong>Long</strong>, <strong>Float</strong>, and <strong>Double</strong>) are immutable.<br><br> \n<strong>Money</strong> and <strong>Currency</strong> API (slated for Java9) should be immutable, too.<br>\n<br>\nIncidentally, the <strong>array-backed Lists</strong> (created by <code>Arrays.asList(myArray)</code>) are <em>structurally</em>-immutable.<br><br>\nAlso, there are some border-line cases such as <strong>java.util.Optional</strong> (featured on the OCP exam, 1Z0-809), which is immutable if the contained element is itself immutable.</p>\n"},{"tags":[],"owner":{"account_id":4562009,"reputation":51,"user_id":3704082,"display_name":"Amruta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533745212,"creation_date":1533304274,"answer_id":51674173,"question_id":5124012,"body_markdown":"While creating an object of an immutable class one must ensure that external reference will not be stored. However, the values does matter here. In the example given below, I have a class called Fruits inside there is a List&lt;String&gt;. I have made the class immutable by making the List private and final as well as there is no setter provided.\r\n\r\n1. If I am instantiating an object of Fruit, the constructor will be given a list.Client program does have a reference of this List already(client side) and hence the List can be modified easily and hence the immutability of the class will be lost.\r\n\r\n2. To address this problem , I am creating a new List in the constructor which copies all the values supplied by the client.\r\n\r\n3. Now if the client adds more values in the list, the external reference will get affected however, I am not storing that external reference anymore in my immutable class.\r\n\r\n4. This can be verified by overriding an hashcode() in the immutable class. No matter how many times the client modifies the list the hashcode of my immutable class object will remain unchanged, as the list it accepts is no more pointing to the external list.\r\n\r\n\r\npublic class Fruit {\r\n\r\n    private final List&lt;String&gt; fruitnames;\r\n\r\n    public Fruit(List&lt;String&gt; fruitnames) {\r\n        this.fruitnames = new ArrayList&lt;&gt;(fruitnames);\r\n    }\r\n\r\n    public List&lt;String&gt; getFruitnames() {\r\n         return new ArrayList&lt;&gt;(fruitnames);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getFruitnames() != null ? getFruitnames().hashCode(): 0;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n//Client program\r\n\r\npublic class ImmutableDemo {\r\n\r\n    public static void main(String args[]){\r\n\r\n        List&lt;String&gt; fruitList = new ArrayList&lt;&gt;();\r\n        fruitList.add(&quot;Apple&quot;);\r\n        fruitList.add(&quot;Banana&quot;);\r\n        //Immutable Object 1\r\n        Fruit fruit1 = new Fruit(fruitList);\r\n        //fruitHash is-689428840\r\n        int fruitHash = fruit1.hashCode();\r\n\r\n        System.out.println(&quot;fruitHash is&quot; +fruitHash);\r\n        //This value will not be added anymore as the state has already been defined and\r\n        //now it cant change the state.\r\n        fruitList.add(&quot;straberry&quot;);\r\n        //fruitHash1 is-689428840\r\n        int fruitHash1 = fruit1.hashCode();\r\n\r\n\r\n        System.out.println(&quot;fruitHash1 is&quot; +fruitHash1);\r\n    }\r\n}\r\n","title":"Examples of immutable classes","body":"<p>While creating an object of an immutable class one must ensure that external reference will not be stored. However, the values does matter here. In the example given below, I have a class called Fruits inside there is a List. I have made the class immutable by making the List private and final as well as there is no setter provided.</p>\n\n<ol>\n<li><p>If I am instantiating an object of Fruit, the constructor will be given a list.Client program does have a reference of this List already(client side) and hence the List can be modified easily and hence the immutability of the class will be lost.</p></li>\n<li><p>To address this problem , I am creating a new List in the constructor which copies all the values supplied by the client.</p></li>\n<li><p>Now if the client adds more values in the list, the external reference will get affected however, I am not storing that external reference anymore in my immutable class.</p></li>\n<li><p>This can be verified by overriding an hashcode() in the immutable class. No matter how many times the client modifies the list the hashcode of my immutable class object will remain unchanged, as the list it accepts is no more pointing to the external list.</p></li>\n</ol>\n\n<p>public class Fruit {</p>\n\n<pre><code>private final List&lt;String&gt; fruitnames;\n\npublic Fruit(List&lt;String&gt; fruitnames) {\n    this.fruitnames = new ArrayList&lt;&gt;(fruitnames);\n}\n\npublic List&lt;String&gt; getFruitnames() {\n     return new ArrayList&lt;&gt;(fruitnames);\n}\n\n@Override\npublic int hashCode() {\n    return getFruitnames() != null ? getFruitnames().hashCode(): 0;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>//Client program</p>\n\n<p>public class ImmutableDemo {</p>\n\n<pre><code>public static void main(String args[]){\n\n    List&lt;String&gt; fruitList = new ArrayList&lt;&gt;();\n    fruitList.add(\"Apple\");\n    fruitList.add(\"Banana\");\n    //Immutable Object 1\n    Fruit fruit1 = new Fruit(fruitList);\n    //fruitHash is-689428840\n    int fruitHash = fruit1.hashCode();\n\n    System.out.println(\"fruitHash is\" +fruitHash);\n    //This value will not be added anymore as the state has already been defined and\n    //now it cant change the state.\n    fruitList.add(\"straberry\");\n    //fruitHash1 is-689428840\n    int fruitHash1 = fruit1.hashCode();\n\n\n    System.out.println(\"fruitHash1 is\" +fruitHash1);\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":318039,"reputation":563,"user_id":635041,"display_name":"user635041"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103518,"favorite_count":0,"down_vote_count":4,"up_vote_count":55,"answer_count":10,"score":51,"last_activity_date":1663970951,"creation_date":1298678125,"question_id":5124012,"body_markdown":"I already know the definition of immutable classes but I need a few examples. \r\n\r\n","title":"Examples of immutable classes","body":"<p>I already know the definition of immutable classes but I need a few examples. </p>\n"},{"tags":["java","sql","postgresql","jdbi"],"answers":[{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663970923,"creation_date":1663970923,"answer_id":73833422,"question_id":73832733,"body_markdown":"For `byPortfolio`, you need to use `@Define` instead of `@Bind`. \r\n`@Bind` is only for binding values to parameters of a query, while `@Define` can be used for placeholders and templating.\r\n\r\nFor the templating, you can then put the optional parts between `&lt;if(byPortfolio)&gt;` and `&lt;endif&gt;`. The template syntax is not related to normal SQL.\r\n\r\nHere is a complete example from the documentation:\r\n\r\n    @SqlQuery(&quot;&quot;&quot;\r\n      select id, name\r\n      from account\r\n      order by &lt;if(sort)&gt; &lt;sortBy&gt;, &lt;endif&gt; id\r\n      &quot;&quot;&quot;)\r\n    @UseStringTemplateEngine\r\n    List&lt;Account&gt; selectAll(@Define boolean sort, @Define String sortBy);\r\n\r\nFor more details, please have look at the official documentation: https://jdbi.org/#_stringtemplate_4","title":"How to add optional column in JDBI?","body":"<p>For <code>byPortfolio</code>, you need to use <code>@Define</code> instead of <code>@Bind</code>.\n<code>@Bind</code> is only for binding values to parameters of a query, while <code>@Define</code> can be used for placeholders and templating.</p>\n<p>For the templating, you can then put the optional parts between <code>&lt;if(byPortfolio)&gt;</code> and <code>&lt;endif&gt;</code>. The template syntax is not related to normal SQL.</p>\n<p>Here is a complete example from the documentation:</p>\n<pre><code>@SqlQuery(&quot;&quot;&quot;\n  select id, name\n  from account\n  order by &lt;if(sort)&gt; &lt;sortBy&gt;, &lt;endif&gt; id\n  &quot;&quot;&quot;)\n@UseStringTemplateEngine\nList&lt;Account&gt; selectAll(@Define boolean sort, @Define String sortBy);\n</code></pre>\n<p>For more details, please have look at the official documentation: <a href=\"https://jdbi.org/#_stringtemplate_4\" rel=\"nofollow noreferrer\">https://jdbi.org/#_stringtemplate_4</a></p>\n"}],"owner":{"account_id":22515372,"reputation":21,"user_id":16709664,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663970923,"creation_date":1663965268,"question_id":73832733,"body_markdown":"I have big SQL, about 50 lines, and we use JDBI with Postgresql, and I need to add one additional not mandatory column, so I did:\r\n\r\n    ,case when :byPortfolio is true then ia1.investmentAccountAbbreviationCode else null end as portfolio\r\n\r\nso if :byPortfolio is true this column should be removed, and if false this column should be present. Also ia1.investmentAccountAbbreviationCode should be present in Group by clause if it&#39;s present, so I added:\r\n\r\n    ,case when :byPortfolio2 is true then ia1.investmentAccountAbbreviationCode else null end\r\n\r\nand it works if I fun it as SQL query, then I copied it to sql.stg template file for JDBI and now when I run it I see an exceptioin:\r\n\r\n    org.postgresql.util.PSQLException: ERROR: column &quot;ia1.investmentaccountabbreviationcode&quot; must appear in the GROUP BY clause or be used in an aggregate function\r\n\r\nI don&#39;t understand why JDBI can&#39;t handle it. Function described like this:\r\n\r\n    @SqlQuery\r\n    @UseStringTemplateSqlLocator\r\n    @RegisterBeanMapper(SolutionOwnershipDataEntity.class)\r\n    List&lt;SolutionOwnershipDataEntity&gt; getSolutionOwnershipPercentageOfFundByDate(\r\n            @Bind(&quot;inputDate&quot;) String inputDate,\r\n            @Bind(&quot;fundSeriesId&quot;) Integer fundSeriesId,\r\n            @Bind(&quot;governanceCommitteeTypeCode&quot;) String governanceCommitteeTypeCode,\r\n            @Bind(&quot;byPortfolio&quot;) boolean byPortfolio,\r\n            @Bind(&quot;assetClass&quot;) String assetClass,\r\n            @Bind(&quot;vehicleType&quot;) String vehicleType);\r\n\r\nPlease help to fix it? We can fix current code or maybe there is other way to handle unnecessary column? I mean I can write two 50 lines SQL with same code, only difference would be presence or absence of one column, but I want to have one query with one unnecessary column, what is the best way to achieve this?","title":"How to add optional column in JDBI?","body":"<p>I have big SQL, about 50 lines, and we use JDBI with Postgresql, and I need to add one additional not mandatory column, so I did:</p>\n<pre><code>,case when :byPortfolio is true then ia1.investmentAccountAbbreviationCode else null end as portfolio\n</code></pre>\n<p>so if :byPortfolio is true this column should be removed, and if false this column should be present. Also ia1.investmentAccountAbbreviationCode should be present in Group by clause if it's present, so I added:</p>\n<pre><code>,case when :byPortfolio2 is true then ia1.investmentAccountAbbreviationCode else null end\n</code></pre>\n<p>and it works if I fun it as SQL query, then I copied it to sql.stg template file for JDBI and now when I run it I see an exceptioin:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: column &quot;ia1.investmentaccountabbreviationcode&quot; must appear in the GROUP BY clause or be used in an aggregate function\n</code></pre>\n<p>I don't understand why JDBI can't handle it. Function described like this:</p>\n<pre><code>@SqlQuery\n@UseStringTemplateSqlLocator\n@RegisterBeanMapper(SolutionOwnershipDataEntity.class)\nList&lt;SolutionOwnershipDataEntity&gt; getSolutionOwnershipPercentageOfFundByDate(\n        @Bind(&quot;inputDate&quot;) String inputDate,\n        @Bind(&quot;fundSeriesId&quot;) Integer fundSeriesId,\n        @Bind(&quot;governanceCommitteeTypeCode&quot;) String governanceCommitteeTypeCode,\n        @Bind(&quot;byPortfolio&quot;) boolean byPortfolio,\n        @Bind(&quot;assetClass&quot;) String assetClass,\n        @Bind(&quot;vehicleType&quot;) String vehicleType);\n</code></pre>\n<p>Please help to fix it? We can fix current code or maybe there is other way to handle unnecessary column? I mean I can write two 50 lines SQL with same code, only difference would be presence or absence of one column, but I want to have one query with one unnecessary column, what is the best way to achieve this?</p>\n"},{"tags":["java","multithreading","executorservice"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1663821227,"post_id":73804135,"comment_id":130330305,"body_markdown":"This code doesn&#39;t work as expected: it throws a `NullPointerException`! Creating a scratch project with a minimal example is a good practice for Stack Overflow, so thank you for doing that, but you should be sure to test and debug it before posting.","body":"This code doesn&#39;t work as expected: it throws a <code>NullPointerException</code>! Creating a scratch project with a minimal example is a good practice for Stack Overflow, so thank you for doing that, but you should be sure to test and debug it before posting."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663827757,"creation_date":1663827757,"answer_id":73810171,"question_id":73804135,"body_markdown":"# Shutting down the `ExecutorService`\r\n\r\nYes, it is important to shutdown the executor when it is no longer needed. In this example (once the `NullPointerException` is fixed), when the `main` method exits, the process does not terminate because the thread pool has not been shut down. As the documentation for [`Executors.newFixedThreadPool`][1] says:\r\n\r\n&gt; The threads in the pool will exist until it is explicitly [`shutdown`][2].\r\n\r\nYou are correct that the use of the `finalize` method is deprecated and will be removed in a future version of Java. The best approach to shutting it down is to explicitly call `shutdown` when it is no longer needed, in a `finally` block to ensure it happens regardless of whether execution completes successfully or throws:\r\n\r\n    public static void main(String[] args) {\r\n        ExecutorService executor = Executors.newFixedThreadPool(8);\r\n\r\n        try {\r\n            List&lt;String&gt; days = Arrays.asList(&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Holiday&quot;);\r\n            List&lt;Future&lt;String&gt;&gt; completables = days.stream()\r\n                    .map(p -&gt; createFuture(p, executor))\r\n                    .collect(Collectors.toList());\r\n\r\n    // code omitted for brevity\r\n\r\n            try {\r\n                for (Future&lt;String&gt; future : completables) {\r\n                    String text = future.get();\r\n                    System.out.println(text);\r\n                }\r\n            } catch (ExecutionException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } finally {\r\n            executor.shutdown();\r\n        }\r\n    }\r\n\r\n\r\nIn Java 19 or later, you can also use the [try-with-resources][3] construct:\r\n\r\n    public static void main(String[] args) {\r\n        try (ExecutorService executor = Executors.newFixedThreadPool(8)) {\r\n            List&lt;String&gt; days = Arrays.asList(&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Holiday&quot;);\r\n            List&lt;Future&lt;String&gt;&gt; completables = days.stream()\r\n                    .map(p -&gt; createFuture(p, executor))\r\n                    .collect(Collectors.toList());\r\n\r\n    // code omitted for brevity\r\n\r\n            try {\r\n                for (Future&lt;String&gt; future : completables) {\r\n                    String text = future.get();\r\n                    System.out.println(text);\r\n                }\r\n            } catch (ExecutionException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nIn a more complete application, the application component that creates the `ExecutorService` may require its own shutdown method to trigger the shutdown of the `ExecutorService`. It&#39;s common for this requirement to cascade through several layers of the application. Most application frameworks support some sort of component lifecycle management for this reason.\r\n\r\n# Other issues\r\n\r\nThere are other issues with the code provided:\r\n\r\n1.  `while(true || (System.currentTimeMillis()-startTime) &lt; 60000)` is equivalent to `while (true)`. The `(System.currentTimeMillis()-startTime) &lt; 60000` condition has no effect.\r\n2.  Checking each `Future` for completion in a loop is called [&quot;busy waiting&quot;][4], and is usually discouraged because it consumes a high level of CPU. If you watch a CPU monitor while running this program, you will notice a spike in usage, despite the fact that the program doesn&#39;t do very much other than wait. It is generally preferable to use a method that blocks the calling thread until the condition is satisfied, when possible. In this case, `Future.get` does exactly that.\r\n3.  Catching and ignoring [`InterruptedException`][5] is not recommended, as it defeats the purpose of interrupting a thread as a signal to terminate. In this case, I would allow it to propagate and terminate the program.\r\n\r\nPutting these together, here is the alternative implementation:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ExecutorService executor = Executors.newFixedThreadPool(8);\r\n\r\n        try {\r\n            List&lt;String&gt; days = Arrays.asList(&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Holiday&quot;);\r\n            List&lt;Future&lt;String&gt;&gt; completables = days.stream()\r\n                    .map(p -&gt; createFuture(p, executor))\r\n                    .collect(Collectors.toList());\r\n\r\n            long startTime = System.currentTimeMillis();\r\n\r\n            for (Future&lt;String&gt; future : completables) {\r\n                try {\r\n                    future.get();\r\n                } catch (ExecutionException e) {\r\n                    // ignore it here, it will be printed below\r\n                }\r\n            }\r\n            System.out.println(&quot; all tasks complete&quot;);\r\n\r\n            long endTime = System.currentTimeMillis();\r\n            System.out.println(&quot;Time taken to get response from all threads &quot; + (endTime - startTime));\r\n\r\n            try {\r\n                for (Future&lt;String&gt; future : completables) {\r\n                    String text = future.get();\r\n                    System.out.println(text);\r\n                }\r\n            } catch (ExecutionException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } finally {\r\n            executor.shutdown();\r\n        }\r\n    }\r\n\r\nThis preserves the behaviour of printing the results all at once at the end, rather than printing each result in order as it becomes available. If the latter behaviour is acceptable, then you can simplify this further into a single loop.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool-int-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [4]: https://www.baeldung.com/cs/os-busy-waiting\r\n  [5]: https://www.baeldung.com/java-interrupted-exception","title":"Graceful shutdown of ThreadPoolExecutor when Enclosing class is ready for GC","body":"<h1>Shutting down the <code>ExecutorService</code></h1>\n<p>Yes, it is important to shutdown the executor when it is no longer needed. In this example (once the <code>NullPointerException</code> is fixed), when the <code>main</code> method exits, the process does not terminate because the thread pool has not been shut down. As the documentation for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool-int-\" rel=\"nofollow noreferrer\"><code>Executors.newFixedThreadPool</code></a> says:</p>\n<blockquote>\n<p>The threads in the pool will exist until it is explicitly <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\" rel=\"nofollow noreferrer\"><code>shutdown</code></a>.</p>\n</blockquote>\n<p>You are correct that the use of the <code>finalize</code> method is deprecated and will be removed in a future version of Java. The best approach to shutting it down is to explicitly call <code>shutdown</code> when it is no longer needed, in a <code>finally</code> block to ensure it happens regardless of whether execution completes successfully or throws:</p>\n<pre><code>public static void main(String[] args) {\n    ExecutorService executor = Executors.newFixedThreadPool(8);\n\n    try {\n        List&lt;String&gt; days = Arrays.asList(&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Holiday&quot;);\n        List&lt;Future&lt;String&gt;&gt; completables = days.stream()\n                .map(p -&gt; createFuture(p, executor))\n                .collect(Collectors.toList());\n\n// code omitted for brevity\n\n        try {\n            for (Future&lt;String&gt; future : completables) {\n                String text = future.get();\n                System.out.println(text);\n            }\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    } finally {\n        executor.shutdown();\n    }\n}\n</code></pre>\n<p>In Java 19 or later, you can also use the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> construct:</p>\n<pre><code>public static void main(String[] args) {\n    try (ExecutorService executor = Executors.newFixedThreadPool(8)) {\n        List&lt;String&gt; days = Arrays.asList(&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Holiday&quot;);\n        List&lt;Future&lt;String&gt;&gt; completables = days.stream()\n                .map(p -&gt; createFuture(p, executor))\n                .collect(Collectors.toList());\n\n// code omitted for brevity\n\n        try {\n            for (Future&lt;String&gt; future : completables) {\n                String text = future.get();\n                System.out.println(text);\n            }\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>In a more complete application, the application component that creates the <code>ExecutorService</code> may require its own shutdown method to trigger the shutdown of the <code>ExecutorService</code>. It's common for this requirement to cascade through several layers of the application. Most application frameworks support some sort of component lifecycle management for this reason.</p>\n<h1>Other issues</h1>\n<p>There are other issues with the code provided:</p>\n<ol>\n<li><code>while(true || (System.currentTimeMillis()-startTime) &lt; 60000)</code> is equivalent to <code>while (true)</code>. The <code>(System.currentTimeMillis()-startTime) &lt; 60000</code> condition has no effect.</li>\n<li>Checking each <code>Future</code> for completion in a loop is called <a href=\"https://www.baeldung.com/cs/os-busy-waiting\" rel=\"nofollow noreferrer\">&quot;busy waiting&quot;</a>, and is usually discouraged because it consumes a high level of CPU. If you watch a CPU monitor while running this program, you will notice a spike in usage, despite the fact that the program doesn't do very much other than wait. It is generally preferable to use a method that blocks the calling thread until the condition is satisfied, when possible. In this case, <code>Future.get</code> does exactly that.</li>\n<li>Catching and ignoring <a href=\"https://www.baeldung.com/java-interrupted-exception\" rel=\"nofollow noreferrer\"><code>InterruptedException</code></a> is not recommended, as it defeats the purpose of interrupting a thread as a signal to terminate. In this case, I would allow it to propagate and terminate the program.</li>\n</ol>\n<p>Putting these together, here is the alternative implementation:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    ExecutorService executor = Executors.newFixedThreadPool(8);\n\n    try {\n        List&lt;String&gt; days = Arrays.asList(&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Holiday&quot;);\n        List&lt;Future&lt;String&gt;&gt; completables = days.stream()\n                .map(p -&gt; createFuture(p, executor))\n                .collect(Collectors.toList());\n\n        long startTime = System.currentTimeMillis();\n\n        for (Future&lt;String&gt; future : completables) {\n            try {\n                future.get();\n            } catch (ExecutionException e) {\n                // ignore it here, it will be printed below\n            }\n        }\n        System.out.println(&quot; all tasks complete&quot;);\n\n        long endTime = System.currentTimeMillis();\n        System.out.println(&quot;Time taken to get response from all threads &quot; + (endTime - startTime));\n\n        try {\n            for (Future&lt;String&gt; future : completables) {\n                String text = future.get();\n                System.out.println(text);\n            }\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        }\n    } finally {\n        executor.shutdown();\n    }\n}\n</code></pre>\n<p>This preserves the behaviour of printing the results all at once at the end, rather than printing each result in order as it becomes available. If the latter behaviour is acceptable, then you can simplify this further into a single loop.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663970910,"creation_date":1663970910,"answer_id":73833421,"question_id":73804135,"body_markdown":"&gt;  I would like to know are there any implications if i do not terminate or shutdown the executor when the main service class is terminated/ready for GC.\r\n\r\nYou certainly should be using a single `ExecutorService`.  That&#39;s the whole point of it.  You should be submitting your jobs to the service until you are done and then you should immediately shutdown the service.\r\n\r\n    List&lt;Future&lt;String&gt;&gt; completables = days.stream()\r\n            .map(p -&gt; createFuture(p,executor))\r\n            .collect(Collectors.toList());\r\n    // this will shutdown the executor while the submitted jobs run in the background\r\n    executor.shutdown();\r\n\r\nAlso you really done need the done checking look.  Going through your futures and calling `get()` will do that for you:\r\n\r\n    // you don&#39;t need this\r\n    for(Future&lt;String&gt; future : completables){\r\n        // also don&#39;t use this sort of logic.  works fine.  very hard to read.\r\n        complete = complete &amp;&amp; future.isDone(); // check if future is done\r\n    }\r\n\r\n\r\nAlso, I don&#39;t think you should be using the term GC. You should talk about the main method exiting but we really rarely have to worry about GC issues unless your goal really is to reduce the object bandwidth of a high performance program or if you have a memory leak.\r\n\r\n\r\nOne additional comment.  You should never initialize static fields in an instance constructor because if you call `new Scratch()` twice, it will overwrite the static field.\r\n\r\n    class Scratch {\r\n        // should be initialized here or in static { } block\r\n        // always use final if you can\r\n        private final static ExecutorService executor = Executors.newFixedThreadPool(8);\r\n        public Scratch() {\r\n            // you should not initialize static fields in an instance constructor\r\n        }\r\n","title":"Graceful shutdown of ThreadPoolExecutor when Enclosing class is ready for GC","body":"<blockquote>\n<p>I would like to know are there any implications if i do not terminate or shutdown the executor when the main service class is terminated/ready for GC.</p>\n</blockquote>\n<p>You certainly should be using a single <code>ExecutorService</code>.  That's the whole point of it.  You should be submitting your jobs to the service until you are done and then you should immediately shutdown the service.</p>\n<pre><code>List&lt;Future&lt;String&gt;&gt; completables = days.stream()\n        .map(p -&gt; createFuture(p,executor))\n        .collect(Collectors.toList());\n// this will shutdown the executor while the submitted jobs run in the background\nexecutor.shutdown();\n</code></pre>\n<p>Also you really done need the done checking look.  Going through your futures and calling <code>get()</code> will do that for you:</p>\n<pre><code>// you don't need this\nfor(Future&lt;String&gt; future : completables){\n    // also don't use this sort of logic.  works fine.  very hard to read.\n    complete = complete &amp;&amp; future.isDone(); // check if future is done\n}\n</code></pre>\n<p>Also, I don't think you should be using the term GC. You should talk about the main method exiting but we really rarely have to worry about GC issues unless your goal really is to reduce the object bandwidth of a high performance program or if you have a memory leak.</p>\n<p>One additional comment.  You should never initialize static fields in an instance constructor because if you call <code>new Scratch()</code> twice, it will overwrite the static field.</p>\n<pre><code>class Scratch {\n    // should be initialized here or in static { } block\n    // always use final if you can\n    private final static ExecutorService executor = Executors.newFixedThreadPool(8);\n    public Scratch() {\n        // you should not initialize static fields in an instance constructor\n    }\n</code></pre>\n"}],"owner":{"account_id":23432446,"reputation":45,"user_id":17491052,"display_name":"Tathagata Roy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663970910,"creation_date":1663777648,"question_id":73804135,"body_markdown":"I am using ExecutorService in my class to async a few Callable tasks and then once all the tasks are complete , complete the parent process. Something like this\r\n\r\n    import java.util.*;\r\n    import java.util.concurrent.*;\r\n    import java.util.stream.Collectors;\r\n\r\n    class SampleService implements Callable&lt;String&gt;{\r\n\r\n    private String dayOfWeek;\r\n\r\n    public SampleService(String dayOfWeek) {\r\n        this.dayOfWeek = dayOfWeek;\r\n    }\r\n\r\n    @Override\r\n    public String call() throws Exception {\r\n        if(&quot;Holiday&quot;.equals(dayOfWeek)){\r\n            throw new RuntimeException(&quot;Holiday is not valid day of week&quot;);\r\n        } else{\r\n            Random random = new Random();\r\n            int sleepTime = random.nextInt(60000);\r\n            Thread.sleep(sleepTime);\r\n            System.out.println(&quot;Thread &quot;+dayOfWeek+&quot; slept for &quot;+sleepTime);\r\n            return dayOfWeek+&quot; is complete&quot;;\r\n        }\r\n\r\n    }\r\n    }\r\n\r\n    class Scratch {\r\n    static ExecutorService executor = null;\r\n    public Scratch() {\r\n        executor = Executors.newFixedThreadPool(8);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        List&lt;String&gt; days = Arrays.asList(&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Holiday&quot;);\r\n        List&lt;Future&lt;String&gt;&gt; completables = days.stream()\r\n                .map(p -&gt; createFuture(p,executor))\r\n                .collect(Collectors.toList());\r\n\r\n\r\n        long startTime =  System.currentTimeMillis();\r\n\r\n        while(true || (System.currentTimeMillis()-startTime) &lt; 60000){\r\n            boolean complete = true;\r\n            for(Future&lt;String&gt; future : completables){\r\n                complete = complete &amp;&amp; future.isDone(); // check if future is done\r\n            }\r\n            if(complete){\r\n                System.out.println(&quot; all tasks complete&quot;);\r\n                break;\r\n            }\r\n        }\r\n\r\n        long endTime =  System.currentTimeMillis();\r\n        System.out.println(&quot;Time taken to get response from all threads &quot;+ (endTime - startTime));\r\n\r\n        try{\r\n            for(Future&lt;String&gt; future : completables){\r\n                String text  = future.get();\r\n                System.out.println(text);\r\n            }\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } \r\n    }\r\n\r\n    private static Future&lt;String&gt; createFuture(String p, ExecutorService executor) {\r\n        SampleService service = new SampleService(p);\r\n        return executor.submit(service);\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n It is working as expected. \r\n\r\nThe above example is just from a scratch file but i have something very similar. now i have kept the ThreadPoolExecutor as an instance object as it is being called multiple times and i do not want to create a new executor for each call. I would like to know are there any implications if i do not terminate or shutdown the executor when the main service class is terminated/ready for GC. I wanted to use the finalize method but it is deprecated now. So in this case what is the best approach to shutdown the executor when the enclosing class is GC without using finalize method? ","title":"Graceful shutdown of ThreadPoolExecutor when Enclosing class is ready for GC","body":"<p>I am using ExecutorService in my class to async a few Callable tasks and then once all the tasks are complete , complete the parent process. Something like this</p>\n<pre><code>import java.util.*;\nimport java.util.concurrent.*;\nimport java.util.stream.Collectors;\n\nclass SampleService implements Callable&lt;String&gt;{\n\nprivate String dayOfWeek;\n\npublic SampleService(String dayOfWeek) {\n    this.dayOfWeek = dayOfWeek;\n}\n\n@Override\npublic String call() throws Exception {\n    if(&quot;Holiday&quot;.equals(dayOfWeek)){\n        throw new RuntimeException(&quot;Holiday is not valid day of week&quot;);\n    } else{\n        Random random = new Random();\n        int sleepTime = random.nextInt(60000);\n        Thread.sleep(sleepTime);\n        System.out.println(&quot;Thread &quot;+dayOfWeek+&quot; slept for &quot;+sleepTime);\n        return dayOfWeek+&quot; is complete&quot;;\n    }\n\n}\n}\n\nclass Scratch {\nstatic ExecutorService executor = null;\npublic Scratch() {\n    executor = Executors.newFixedThreadPool(8);\n}\n\npublic static void main(String[] args) {\n    \n    List&lt;String&gt; days = Arrays.asList(&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Holiday&quot;);\n    List&lt;Future&lt;String&gt;&gt; completables = days.stream()\n            .map(p -&gt; createFuture(p,executor))\n            .collect(Collectors.toList());\n\n\n    long startTime =  System.currentTimeMillis();\n\n    while(true || (System.currentTimeMillis()-startTime) &lt; 60000){\n        boolean complete = true;\n        for(Future&lt;String&gt; future : completables){\n            complete = complete &amp;&amp; future.isDone(); // check if future is done\n        }\n        if(complete){\n            System.out.println(&quot; all tasks complete&quot;);\n            break;\n        }\n    }\n\n    long endTime =  System.currentTimeMillis();\n    System.out.println(&quot;Time taken to get response from all threads &quot;+ (endTime - startTime));\n\n    try{\n        for(Future&lt;String&gt; future : completables){\n            String text  = future.get();\n            System.out.println(text);\n        }\n    } catch (ExecutionException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    } \n}\n\nprivate static Future&lt;String&gt; createFuture(String p, ExecutorService executor) {\n    SampleService service = new SampleService(p);\n    return executor.submit(service);\n}\n\n\n}\n</code></pre>\n<p>It is working as expected.</p>\n<p>The above example is just from a scratch file but i have something very similar. now i have kept the ThreadPoolExecutor as an instance object as it is being called multiple times and i do not want to create a new executor for each call. I would like to know are there any implications if i do not terminate or shutdown the executor when the main service class is terminated/ready for GC. I wanted to use the finalize method but it is deprecated now. So in this case what is the best approach to shutdown the executor when the enclosing class is GC without using finalize method?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1544802694,"post_id":53782793,"comment_id":94417328,"body_markdown":"Couldn&#39;t you just keep one arraylist, and filter out the object you don&#39;t want everytime you need to grab the entries? You should explain the reasoning for this, I assume there&#39;s definitely a better solution to your problem.","body":"Couldn&#39;t you just keep one arraylist, and filter out the object you don&#39;t want everytime you need to grab the entries? You should explain the reasoning for this, I assume there&#39;s definitely a better solution to your problem."},{"owner":{"account_id":11847474,"reputation":367,"user_id":9856121,"display_name":"Slinidy"},"score":0,"creation_date":1544803113,"post_id":53782793,"comment_id":94417539,"body_markdown":"I already did this and it did not work","body":"I already did this and it did not work"},{"owner":{"account_id":2775988,"reputation":2874,"user_id":2389570,"accept_rate":62,"display_name":"Niccol&#242;"},"score":0,"creation_date":1544803352,"post_id":53782793,"comment_id":94417663,"body_markdown":"What is the order of the methods you invoke? Because here it looks like every time you invoke showPeople, the _current_ elements of personList are used. Thus, if you remove or add some items from it, when you later invoke showPeople, such a change should also appear. Btw, instead of collecting the stream in a ```newPersonList```, you can also replace .collect with ```.forEach(p -&gt; gui.show(p.getName()))```","body":"What is the order of the methods you invoke? Because here it looks like every time you invoke showPeople, the <i>current</i> elements of personList are used. Thus, if you remove or add some items from it, when you later invoke showPeople, such a change should also appear. Btw, instead of collecting the stream in a <code>newPersonList</code>, you can also replace .collect with <code>.forEach(p -&gt; gui.show(p.getName()))</code>"}],"answers":[{"tags":[],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1544802766,"creation_date":1544802766,"answer_id":53782990,"question_id":53782793,"body_markdown":"You can use that: `List&lt;String&gt; elements = list.stream().distinct().collect(Collectors.toList());`\r\nThat will remove duplicates.","title":"How to create arraylist without one element from another arraylist","body":"<p>You can use that: <code>List&lt;String&gt; elements = list.stream().distinct().collect(Collectors.toList());</code>\nThat will remove duplicates.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544802941,"creation_date":1544802941,"answer_id":53783037,"question_id":53782793,"body_markdown":"If you want the list without the element to keep updating, you can create a view of the list by extending [`AbstractList`](https://docs.oracle.com/javase/8/docs/api/java/util/AbstractList.html).\r\n\r\nThe API documentation contains instructions as to the methods you would need to override. If you don&#39;t want the list to be modifiable through the view, all you need to do is to override the `get` and `size` methods:\r\n\r\n    class ListView extends AbstractList&lt;String&gt; {\r\n      private final List&lt;String&gt; delegate;  // Initialize in constructor.\r\n\r\n      public T get(int i) {\r\n        int pos = delegate.indexOf(&quot;Test&quot;);\r\n        if (pos &lt; 0 || i &lt; pos) return delegate.get(i);\r\n        return delegate.get(i + 1);\r\n      }\r\n\r\n      public int size() {\r\n        return delegate.size() - (delegate.contains(&quot;Test&quot;) ? 1 : 0);\r\n      }\r\n    }\r\n\r\nThis will repeatedly search for the `&quot;Test&quot;` element, because there is no way for the view to know if the delegate list has been updated underneath it.\r\n","title":"How to create arraylist without one element from another arraylist","body":"<p>If you want the list without the element to keep updating, you can create a view of the list by extending <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/AbstractList.html\" rel=\"nofollow noreferrer\"><code>AbstractList</code></a>.</p>\n\n<p>The API documentation contains instructions as to the methods you would need to override. If you don't want the list to be modifiable through the view, all you need to do is to override the <code>get</code> and <code>size</code> methods:</p>\n\n<pre><code>class ListView extends AbstractList&lt;String&gt; {\n  private final List&lt;String&gt; delegate;  // Initialize in constructor.\n\n  public T get(int i) {\n    int pos = delegate.indexOf(\"Test\");\n    if (pos &lt; 0 || i &lt; pos) return delegate.get(i);\n    return delegate.get(i + 1);\n  }\n\n  public int size() {\n    return delegate.size() - (delegate.contains(\"Test\") ? 1 : 0);\n  }\n}\n</code></pre>\n\n<p>This will repeatedly search for the <code>\"Test\"</code> element, because there is no way for the view to know if the delegate list has been updated underneath it.</p>\n"},{"tags":[],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544804144,"creation_date":1544804144,"answer_id":53783338,"question_id":53782793,"body_markdown":"You&#39;re making multiple copies of your list; instead, do something like:\r\n\r\n    List&lt;Person&gt; filterPeople(List&lt;Person&gt; people, @NotNull String name) {\r\n        return people.stream()\r\n            .filter(person -&gt; !name.equals(person.getName()))\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\nIf you&#39;re uncomfortable with the lack of guarantees on the the shape of the `List`, you can be explicit:\r\n\r\n            .collect(Collectors.toCollection(ArrayList::new));\r\n\r\nIt&#39;s still unclear what you&#39;re asking, however. I suggest you provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve).","title":"How to create arraylist without one element from another arraylist","body":"<p>You're making multiple copies of your list; instead, do something like:</p>\n\n<pre><code>List&lt;Person&gt; filterPeople(List&lt;Person&gt; people, @NotNull String name) {\n    return people.stream()\n        .filter(person -&gt; !name.equals(person.getName()))\n        .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>If you're uncomfortable with the lack of guarantees on the the shape of the <code>List</code>, you can be explicit:</p>\n\n<pre><code>        .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n\n<p>It's still unclear what you're asking, however. I suggest you provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>.</p>\n"},{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663970785,"creation_date":1663970785,"answer_id":73833406,"question_id":53782793,"body_markdown":"Here&#39;s a handy method:\r\n\r\n    private static &lt;T&gt; List&lt;T&gt; CopyListWithoutItem(List&lt;T&gt; listToCopy, T itemToNotCopy) {\r\n        return listToCopy.stream().filter(item -&gt; !item.equals(itemToNotCopy)).collect(Collectors.toList());\r\n    }","title":"How to create arraylist without one element from another arraylist","body":"<p>Here's a handy method:</p>\n<pre><code>private static &lt;T&gt; List&lt;T&gt; CopyListWithoutItem(List&lt;T&gt; listToCopy, T itemToNotCopy) {\n    return listToCopy.stream().filter(item -&gt; !item.equals(itemToNotCopy)).collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":11847474,"reputation":367,"user_id":9856121,"display_name":"Slinidy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1083,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53783338,"answer_count":4,"score":1,"last_activity_date":1663970785,"creation_date":1544802020,"question_id":53782793,"body_markdown":"I needed to create an arraylist without an element of another arraylist, but I need this new arraylist to keep updating. For example, an element of the old arraylist is removed, also remove in the new one.\r\n\r\n\r\nBut I did not want to remove the element of the two arraylist, only the old one, so as not to have much code\r\n\r\n(My method &quot;showPeople&quot; is updated every 1 second)\r\n\r\nMy code:\r\n\r\n    ArrayList&lt;Person&gt; personList = new ArrayList&lt;&gt;();\r\n            \r\n    private void method(){\r\n       personList.add(new People(&quot;Name&quot;))\r\n    }\r\n    \r\n    private void showPeople(){\r\n        ArrayList&lt;Person&gt; newPersonList = \r\n                  new ArrayList&lt;&gt;(personList.stream()\r\n                                            .filter(person -&gt; !person.getName().equals(&quot;Test&quot;))\r\n                                            .collect(Collectors.toList()))\r\n    \r\n        for (int i = 0; i &lt; newPersonList.size(); i++){\r\n            gui.show(newPersonList.get(i).getName());\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe problem is that when I create the new arraylist and remove an item from the old one, the new one does not update\r\n\r\n","title":"How to create arraylist without one element from another arraylist","body":"<p>I needed to create an arraylist without an element of another arraylist, but I need this new arraylist to keep updating. For example, an element of the old arraylist is removed, also remove in the new one.</p>\n\n<p>But I did not want to remove the element of the two arraylist, only the old one, so as not to have much code</p>\n\n<p>(My method \"showPeople\" is updated every 1 second)</p>\n\n<p>My code:</p>\n\n<pre><code>ArrayList&lt;Person&gt; personList = new ArrayList&lt;&gt;();\n\nprivate void method(){\n   personList.add(new People(\"Name\"))\n}\n\nprivate void showPeople(){\n    ArrayList&lt;Person&gt; newPersonList = \n              new ArrayList&lt;&gt;(personList.stream()\n                                        .filter(person -&gt; !person.getName().equals(\"Test\"))\n                                        .collect(Collectors.toList()))\n\n    for (int i = 0; i &lt; newPersonList.size(); i++){\n        gui.show(newPersonList.get(i).getName());\n    }\n}\n</code></pre>\n\n<p>The problem is that when I create the new arraylist and remove an item from the old one, the new one does not update</p>\n"},{"tags":["java","sqlite","apache-pig"],"owner":{"account_id":3652586,"reputation":193,"user_id":3044327,"accept_rate":62,"display_name":"user3044327"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663970631,"creation_date":1428965691,"question_id":29616412,"body_markdown":"How can I read data from a SQLite database using PIG? I think I can write a UDF to achieve that? I have a function like below I want to form UDF of it and read data from PIG.\r\n\r\n    public void sqlReader(String db,String tableName,String outFile) throws SQLException, FileNotFoundException{\r\n\t\tConnection c = null;\r\n\t\ttry {\r\n\t      Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n\t      c = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;+db);\r\n\t      c.setAutoCommit(false);\r\n\t      Statement stmt = c.createStatement();\r\n\t      ResultSet rs = stmt.executeQuery( &quot;SELECT * FROM &quot;+tableName+&quot;;&quot; );\r\n\t      ResultSetMetaData rmd = rs.getMetaData();\r\n\t      int columnNo = rmd.getColumnCount();\r\n\t      StringBuilder column = new StringBuilder();\r\n\t      while ( rs.next() ) {\r\n\t    \t  for(int i = 1; i&lt;columnNo; i++){\r\n\t    \t\t  column.append(rs.getString(i)).append(&quot;,&quot;);\t    \t\t \r\n\t    \t  }\r\n              column.append(rs.getString(columnNo));\r\n\t    \t  // return this column as a tuple\r\n\t       }\r\n\t       rs.close();\r\n\t       stmt.close();\r\n\t       c.close();\r\n\t      \r\n\t    } catch ( Exception e ) {\r\n\t      System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\r\n\t      System.exit(0);\r\n\t    }\r\n\t    finally{\r\n\t    \tc.close();\r\n\t    }\r\n\t}","title":"SQLite database in PIG","body":"<p>How can I read data from a SQLite database using PIG? I think I can write a UDF to achieve that? I have a function like below I want to form UDF of it and read data from PIG.</p>\n<pre><code>public void sqlReader(String db,String tableName,String outFile) throws SQLException, FileNotFoundException{\n    Connection c = null;\n    try {\n      Class.forName(&quot;org.sqlite.JDBC&quot;);\n      c = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;+db);\n      c.setAutoCommit(false);\n      Statement stmt = c.createStatement();\n      ResultSet rs = stmt.executeQuery( &quot;SELECT * FROM &quot;+tableName+&quot;;&quot; );\n      ResultSetMetaData rmd = rs.getMetaData();\n      int columnNo = rmd.getColumnCount();\n      StringBuilder column = new StringBuilder();\n      while ( rs.next() ) {\n          for(int i = 1; i&lt;columnNo; i++){\n              column.append(rs.getString(i)).append(&quot;,&quot;);                \n          }\n          column.append(rs.getString(columnNo));\n          // return this column as a tuple\n       }\n       rs.close();\n       stmt.close();\n       c.close();\n      \n    } catch ( Exception e ) {\n      System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n      System.exit(0);\n    }\n    finally{\n        c.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1663970083,"post_id":73833274,"comment_id":130372786,"body_markdown":"That is exactly what try/catch blocks are meant for. How does your code look like?","body":"That is exactly what try/catch blocks are meant for. How does your code look like?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663973298,"post_id":73833274,"comment_id":130373348,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":18146392,"reputation":1,"user_id":13199675,"display_name":"hetom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663969588,"creation_date":1663969588,"question_id":73833274,"body_markdown":"Problem: Let&#39;s say I have a method A. When method A fails I want to go to method B (do something in it) and retry again method A once.\r\n\r\nI suppose I could do it with extra method which accepts Runnable, do it in try and do it again in catch. But I am wondering if there is more proper(?) way of doing it in spring. I read spring-retry, but I didn&#39;t find what I am looking for (or maybe I missed something?).","title":"Retry method with &#39;fix&#39; method","body":"<p>Problem: Let's say I have a method A. When method A fails I want to go to method B (do something in it) and retry again method A once.</p>\n<p>I suppose I could do it with extra method which accepts Runnable, do it in try and do it again in catch. But I am wondering if there is more proper(?) way of doing it in spring. I read spring-retry, but I didn't find what I am looking for (or maybe I missed something?).</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1663949903,"post_id":73830511,"comment_id":130367784,"body_markdown":"Did you read the error message","body":"Did you read the error message"}],"answers":[{"tags":[],"owner":{"account_id":19585505,"reputation":71,"user_id":14333706,"display_name":"nejlasahin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663950324,"creation_date":1663950324,"answer_id":73830587,"question_id":73830511,"body_markdown":"It looks like the url should be updated like this.\r\n\r\n    String dbURL = &quot;jdbc:mysql://localhost:3306/employee&quot;;","title":"Why can&#39;t NetBeans connect to MySQL?","body":"<p>It looks like the url should be updated like this.</p>\n<pre><code>String dbURL = &quot;jdbc:mysql://localhost:3306/employee&quot;;\n</code></pre>\n"}],"owner":{"account_id":3421894,"reputation":954,"user_id":2869180,"accept_rate":86,"display_name":"bib"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73830587,"answer_count":1,"score":1,"last_activity_date":1663969366,"creation_date":1663949874,"question_id":73830511,"body_markdown":"I have a MySQL database called employee.\r\nI want to connect to this database using NetBeans.\r\n\r\nI get the following exception:\r\n\r\n&gt;java.sql.SQLNonTransientConnectionException: Cannot load connection class because of underlying exception: com.mysql.cj.exceptions.WrongArgumentException: Failed to parse the host:port pair &#39;localhost:3306:employee&#39;.\r\n\r\nMy code is:\r\n\r\n    try {\r\n               Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n           } catch (ClassNotFoundException ex) {\r\n              ex.printStackTrace();\r\n            }\r\n      \r\n        try {\r\n            String dbURL = &quot;jdbc:mysql://localhost:3306:employee&quot;;\r\n        String userName = &quot;root&quot;;\r\n        String password = &quot;admin&quot;;\r\n            Connection connection = DriverManager.getConnection(dbURL, userName, password);\r\n            Statement statement = connection.createStatement();\r\n            String query = &quot;INSERT INTO user Email, FirstName, LastName) VALUES  (&#39;xx@gmail.com&#39;, &#39;Andrea&#39;, &#39;Stee&#39;);&quot;;\r\n            int rowCount = statement.executeUpdate(query);\r\n            \r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(UserDB.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        \r\n\r\nAny suggestion to correct this error?\r\nDo I need to add the connector somewhere in my application web?","title":"Why can&#39;t NetBeans connect to MySQL?","body":"<p>I have a MySQL database called employee.\nI want to connect to this database using NetBeans.</p>\n<p>I get the following exception:</p>\n<blockquote>\n<p>java.sql.SQLNonTransientConnectionException: Cannot load connection class because of underlying exception: com.mysql.cj.exceptions.WrongArgumentException: Failed to parse the host:port pair 'localhost:3306:employee'.</p>\n</blockquote>\n<p>My code is:</p>\n<pre><code>try {\n           Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n       } catch (ClassNotFoundException ex) {\n          ex.printStackTrace();\n        }\n  \n    try {\n        String dbURL = &quot;jdbc:mysql://localhost:3306:employee&quot;;\n    String userName = &quot;root&quot;;\n    String password = &quot;admin&quot;;\n        Connection connection = DriverManager.getConnection(dbURL, userName, password);\n        Statement statement = connection.createStatement();\n        String query = &quot;INSERT INTO user Email, FirstName, LastName) VALUES  ('xx@gmail.com', 'Andrea', 'Stee');&quot;;\n        int rowCount = statement.executeUpdate(query);\n        \n    } catch (SQLException ex) {\n        Logger.getLogger(UserDB.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    \n</code></pre>\n<p>Any suggestion to correct this error?\nDo I need to add the connector somewhere in my application web?</p>\n"},{"tags":["java","floating-point","double","precision","floating-accuracy"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1663820223,"post_id":73809242,"comment_id":130330153,"body_markdown":"Your computations are basically correct.  The mantissa is 52 bits, so chopping off 21 leaves 31, or about 9 digits.  You have clearly kept 8 digits of precision (145.88160).  Remember that &quot;6 decimal digits&quot; does not mean &quot;6 places after the decimal point&quot;.  It starts from the first significant digit.","body":"Your computations are basically correct.  The mantissa is 52 bits, so chopping off 21 leaves 31, or about 9 digits.  You have clearly kept 8 digits of precision (145.88160).  Remember that &quot;6 decimal digits&quot; does not mean &quot;6 places after the decimal point&quot;.  It starts from the first significant digit."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1663821834,"post_id":73809242,"comment_id":130330401,"body_markdown":"Looks fine to me.  Your &quot;before&quot; and &quot;after&quot; numbers are the same, to 7 decimal places.  With your strategy, you could either increase the number slightly or decrease it slightly, and when you do that, there&#39;s always a chance that it will cross over a multiple of 0.000001.  So there&#39;s always a possibility that the  first six decimal places printed will differ (as has happened here), but the difference between the &quot;before&quot; and &quot;after&quot; numbers will always be far less than 0.000001.","body":"Looks fine to me.  Your &quot;before&quot; and &quot;after&quot; numbers are the same, to 7 decimal places.  With your strategy, you could either increase the number slightly or decrease it slightly, and when you do that, there&#39;s always a chance that it will cross over a multiple of 0.000001.  So there&#39;s always a possibility that the  first six decimal places printed will differ (as has happened here), but the difference between the &quot;before&quot; and &quot;after&quot; numbers will always be far less than 0.000001."},{"owner":{"account_id":4625433,"reputation":344,"user_id":3749391,"accept_rate":100,"display_name":"CoderGuy"},"score":0,"creation_date":1663872509,"post_id":73809242,"comment_id":130347723,"body_markdown":"@TimRoberts Can you explain why I&#39;m getting 8 digits of precision instead of 9 if I&#39;m maintaining 31 bits of the 52 bits of the mantissa? How many bits in the mantissa would I need to keep to achieve 9 digits of precision? I&#39;m seeing the above behavior even while maintaining 42 bits of the mantissa. For example, 134.82916000001586 becomes 134.82915999999622 even when only modifying the 10 least significant bits of the mantissa.","body":"@TimRoberts Can you explain why I&#39;m getting 8 digits of precision instead of 9 if I&#39;m maintaining 31 bits of the 52 bits of the mantissa? How many bits in the mantissa would I need to keep to achieve 9 digits of precision? I&#39;m seeing the above behavior even while maintaining 42 bits of the mantissa. For example, 134.82916000001586 becomes 134.82915999999622 even when only modifying the 10 least significant bits of the mantissa."},{"owner":{"account_id":4625433,"reputation":344,"user_id":3749391,"accept_rate":100,"display_name":"CoderGuy"},"score":0,"creation_date":1663872811,"post_id":73809242,"comment_id":130347823,"body_markdown":"@DawoodibnKareem The before and after are the same to only 5 decimal places, I need it to be the same to 6 decimal places. Can you elaborate on why there&#39;s always a possibility that the first six decimal places will differ? My understanding is that maintaining the 31 most significant bits of the mantissa should result in 9 digits of precision being maintained. Why is that not the case? I&#39;m seeing the above behavior even when maintaining 42 bits of the mantissa.","body":"@DawoodibnKareem The before and after are the same to only 5 decimal places, I need it to be the same to 6 decimal places. Can you elaborate on why there&#39;s always a possibility that the first six decimal places will differ? My understanding is that maintaining the 31 most significant bits of the mantissa should result in 9 digits of precision being maintained. Why is that not the case? I&#39;m seeing the above behavior even when maintaining 42 bits of the mantissa."},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1663873452,"post_id":73809242,"comment_id":130348018,"body_markdown":"With rounding, you have 9 digits (145.881602).  You have to consider rounding when you&#39;re thinking about this.  Remember that all the talk about &quot;decimal digits&quot; is strictly for human interpretation of the data.  The computer works in binary, and it has 31 bits.","body":"With rounding, you have 9 digits (145.881602).  You have to consider rounding when you&#39;re thinking about this.  Remember that all the talk about &quot;decimal digits&quot; is strictly for human interpretation of the data.  The computer works in binary, and it has 31 bits."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1663879015,"post_id":73809242,"comment_id":130349608,"body_markdown":"The before and after in your example are both `-145.8816020` to 7 decimal places.  Your statement - that they are the same to only 5 decimal places - is false.","body":"The before and after in your example are both <code>-145.8816020</code> to 7 decimal places.  Your statement - that they are the same to only 5 decimal places - is false."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1663879132,"post_id":73809242,"comment_id":130349646,"body_markdown":"As I explained earlier, changing the least significant 21 bits can increase or decrease the number very slightly, so that it crosses a multiple of 0.0000001.  In other words, it can change any of the first 7 places of the decimal expansion of the number; and there&#39;s absolutely nothing you can do about that.","body":"As I explained earlier, changing the least significant 21 bits can increase or decrease the number very slightly, so that it crosses a multiple of 0.0000001.  In other words, it can change any of the first 7 places of the decimal expansion of the number; and there&#39;s absolutely nothing you can do about that."},{"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1663929248,"post_id":73809242,"comment_id":130360070,"body_markdown":"@CoderGuy Does &quot;maintain 6 decimal places of precision&quot; mean you want to maintain 6 _significant_ places of precision or sddd.dddddd digits or what?  Consider the values 123.456 and 123.456e-10.","body":"@CoderGuy Does &quot;maintain 6 decimal places of precision&quot; mean you want to maintain 6 <i>significant</i> places of precision or sddd.dddddd digits or what?  Consider the values 123.456 and 123.456e-10."},{"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":1,"creation_date":1663930748,"post_id":73809242,"comment_id":130360548,"body_markdown":"@CoderGuy Is it OK to &quot;modify **more than** the 21 least significant bits to embed **a specified 21-bit** metadata into the double, convert it back to a double, and maintain 6 decimal places of precision&quot;?  Example make x a 1 in 1100 0000 0110 0010 0011 1100 0011 0110 0001 0101 x110 0010 1001 1000 0110 0101.","body":"@CoderGuy Is it OK to &quot;modify <b>more than</b> the 21 least significant bits to embed <b>a specified 21-bit</b> metadata into the double, convert it back to a double, and maintain 6 decimal places of precision&quot;?  Example make x a 1 in 1100 0000 0110 0010 0011 1100 0011 0110 0001 0101 x110 0010 1001 1000 0110 0101."},{"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":1,"creation_date":1663931722,"post_id":73809242,"comment_id":130360869,"body_markdown":"@CoderGuy IOWs, take your value and form the mid-point in decimal form sddd.dddddd5 and adjust that value&#39;s lower 21 bits. Taking the mid-point reduces the chance of your payload affecting the sddd.dddddd decimal value.  I _think_ it may work for all `double x` where `|x| &lt; 256`, yet have not done the analysis.  Knowing _why_ you want to do this would help too.  Does it need to be hard to _detect_ that the value changed?","body":"@CoderGuy IOWs, take your value and form the mid-point in decimal form sddd.dddddd5 and adjust that value&#39;s lower 21 bits. Taking the mid-point reduces the chance of your payload affecting the sddd.dddddd decimal value.  I <i>think</i> it may work for all <code>double x</code> where <code>|x| &lt; 256</code>, yet have not done the analysis.  Knowing <i>why</i> you want to do this would help too.  Does it need to be hard to <i>detect</i> that the value changed?"},{"owner":{"account_id":4625433,"reputation":344,"user_id":3749391,"accept_rate":100,"display_name":"CoderGuy"},"score":0,"creation_date":1663958516,"post_id":73809242,"comment_id":130370102,"body_markdown":"@chux-ReinstateMonica I need to maintain 9 significant digits of precision. The reason I want to do this is that I am dealing with latitude/longitude values. For real world scenarios, only 9 significant digits of precision are required (8 significant digits for latitude and 9 significant digits for longitude), anything after those 8/9 digits doesn&#39;t make a difference in the accuracy of the latitude/longitude. I want to embed the metadata in the least significant bits to be able to distinguish the source of the latitude, ie. GPS, IP, etc.","body":"@chux-ReinstateMonica I need to maintain 9 significant digits of precision. The reason I want to do this is that I am dealing with latitude/longitude values. For real world scenarios, only 9 significant digits of precision are required (8 significant digits for latitude and 9 significant digits for longitude), anything after those 8/9 digits doesn&#39;t make a difference in the accuracy of the latitude/longitude. I want to embed the metadata in the least significant bits to be able to distinguish the source of the latitude, ie. GPS, IP, etc."},{"owner":{"account_id":4625433,"reputation":344,"user_id":3749391,"accept_rate":100,"display_name":"CoderGuy"},"score":0,"creation_date":1663960697,"post_id":73809242,"comment_id":130370670,"body_markdown":"Taking the value and forming the mid-point in decimal form: sddd.dddddd555555555 has seemed to get rid of the precision loss and actually allows me to use the 24 least significant bits to embed the metadata. Can you please explain why this works?","body":"Taking the value and forming the mid-point in decimal form: sddd.dddddd555555555 has seemed to get rid of the precision loss and actually allows me to use the 24 least significant bits to embed the metadata. Can you please explain why this works?"},{"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1663963823,"post_id":73809242,"comment_id":130371471,"body_markdown":"@CoderGuy To be clear we are on the same page: 1.23456789e-100 has 9 significant decimal digits of precision, right? and 000.000123 has only 3.","body":"@CoderGuy To be clear we are on the same page: 1.23456789e-100 has 9 significant decimal digits of precision, right? and 000.000123 has only 3."},{"owner":{"account_id":4625433,"reputation":344,"user_id":3749391,"accept_rate":100,"display_name":"CoderGuy"},"score":0,"creation_date":1663980816,"post_id":73809242,"comment_id":130374064,"body_markdown":"@chux-ReinstateMonica For my use-case, 1.23456789e-10 is just 000.000000, so I would need to maintain that and would be okay to lose the 123456789","body":"@chux-ReinstateMonica For my use-case, 1.23456789e-10 is just 000.000000, so I would need to maintain that and would be okay to lose the 123456789"},{"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1663995720,"post_id":73809242,"comment_id":130375326,"body_markdown":"@CoderGuy So it is not _significant_ decimal digits that need to be maintained, but a fixed point one of sddd.ddddddxx...xx.  I see.","body":"@CoderGuy So it is not <i>significant</i> decimal digits that need to be maintained, but a fixed point one of sddd.ddddddxx...xx.  I see."}],"answers":[{"tags":[],"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663969093,"creation_date":1663967437,"answer_id":73832999,"question_id":73809242,"body_markdown":"When OP code changes the 21 least significant bits of the IEEE754 Double precision 64-bit value, the result is a value greater or less than the original.  Sometimes that change, even if only a change of 1 least significant bit in `Double` is enough to change the output when printed to 6 fractional decimal places.\r\n\r\n---\r\n\r\nConsider a decimal value ddd.dddddd5, where `d` are digits 0-9.  We have a value half-way between two ddd.dddddd values.  That value in rarely encodable _exactly_ as a `Double`&lt;sup&gt;*1&lt;/sup&gt;. A nearby `Double` is used, which when printed with 6 decimal places rounds to nearest 0.000001.  Output is ddd.dddddd or 0.000001 more depending on if the that nearest `Double` was a tad more or less than ddd.dddddd5.\r\n\r\nIf it prints as ddd.dddddd and the payload is more than the original 21 bits - even just 1 least significant bit more, the value prints 0.000001 more.  Like-wise, if it prints as ddd.dddddd + 0.000001 and the payload is less, it prints as ddd.dddddd.\r\n\r\nTo achieve OP&#39;s goal, we could round values to the nearest 0.000001 to get them away from the ddd.dddddd5 boundaries. Then we can successfully replace the least 21-bits as OP has described and reasoned.\r\n\r\nRounding is tricky as many rounding techniques incorrectly handle the edge conditions such as poor `round(x*1000000.0)/1000000.0`.  The problem here is `x * 1000000.0` does not always form an _exact_ product - which is critical for edge cases.\r\n\r\nI am not well versed in java, yet printing to 6 decimal fraction places and converting back to `Double` could do the trick.\r\n\r\n----\r\n\r\nNote that this answers differs from my [comment](https://stackoverflow.com/questions/73809242/double-ieee754-double-precision-64-bit-binary-representation?noredirect=1#comment130360869_73809242).  In that case I was focused on not changing the `d` digits of the value ddd.ddddddxxxxxx if printed out to many decimal places.  As I see it now, OP&#39;s want the same output when printed to 6 fractional decimal places.\r\n\r\n&lt;sup&gt;*1&lt;/sup&gt; All `Double`, when expressed _exactly_ are have a decimal fraction of 0.0, 0.5, 0.25, 0.75, 0.125, 0.375, 0.625, 0.875, ....  Not 0.1, 0.2, 0.3, 0.4, 0.6, ...","title":"Double (IEEE754 Double precision 64-bit) binary representation","body":"<p>When OP code changes the 21 least significant bits of the IEEE754 Double precision 64-bit value, the result is a value greater or less than the original.  Sometimes that change, even if only a change of 1 least significant bit in <code>Double</code> is enough to change the output when printed to 6 fractional decimal places.</p>\n<hr />\n<p>Consider a decimal value ddd.dddddd5, where <code>d</code> are digits 0-9.  We have a value half-way between two ddd.dddddd values.  That value in rarely encodable <em>exactly</em> as a <code>Double</code><sup>*1</sup>. A nearby <code>Double</code> is used, which when printed with 6 decimal places rounds to nearest 0.000001.  Output is ddd.dddddd or 0.000001 more depending on if the that nearest <code>Double</code> was a tad more or less than ddd.dddddd5.</p>\n<p>If it prints as ddd.dddddd and the payload is more than the original 21 bits - even just 1 least significant bit more, the value prints 0.000001 more.  Like-wise, if it prints as ddd.dddddd + 0.000001 and the payload is less, it prints as ddd.dddddd.</p>\n<p>To achieve OP's goal, we could round values to the nearest 0.000001 to get them away from the ddd.dddddd5 boundaries. Then we can successfully replace the least 21-bits as OP has described and reasoned.</p>\n<p>Rounding is tricky as many rounding techniques incorrectly handle the edge conditions such as poor <code>round(x*1000000.0)/1000000.0</code>.  The problem here is <code>x * 1000000.0</code> does not always form an <em>exact</em> product - which is critical for edge cases.</p>\n<p>I am not well versed in java, yet printing to 6 decimal fraction places and converting back to <code>Double</code> could do the trick.</p>\n<hr />\n<p>Note that this answers differs from my <a href=\"https://stackoverflow.com/questions/73809242/double-ieee754-double-precision-64-bit-binary-representation?noredirect=1#comment130360869_73809242\">comment</a>.  In that case I was focused on not changing the <code>d</code> digits of the value ddd.ddddddxxxxxx if printed out to many decimal places.  As I see it now, OP's want the same output when printed to 6 fractional decimal places.</p>\n<p><sup>*1</sup> All <code>Double</code>, when expressed <em>exactly</em> are have a decimal fraction of 0.0, 0.5, 0.25, 0.75, 0.125, 0.375, 0.625, 0.875, ....  Not 0.1, 0.2, 0.3, 0.4, 0.6, ...</p>\n"}],"owner":{"account_id":4625433,"reputation":344,"user_id":3749391,"accept_rate":100,"display_name":"CoderGuy"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73832999,"answer_count":1,"score":1,"last_activity_date":1663969093,"creation_date":1663819643,"question_id":73809242,"body_markdown":"I want to convert a Java double (IEEE754 Double precision 64-bit) to it&#39;s binary representation, modify the 21 least significant bits to embed some metadata into the double, convert it back to a double, and maintain 6 decimal places of precision.\r\n\r\nConstraint: The double values I will be dealing with will always be in the range of [-180, 180].\r\n\r\nExample:\r\n\r\n    Double value: -145.88160204733163\r\n\r\n    IEEE754 Double precision 64-bit binary:\r\n\r\n    1100 0000 0110 0010 0011 1100 0011 0110 0001 0101 0111 1111 0010 1100 0000 1000\r\n\r\n    IEEE754 Double precision 64-bit binary with 21 least significant bits modified:\r\n\r\n    1100 0000 0110 0010 0011 1100 0011 0110 0001 0101 0110 0010 1001 1000 0110 0101\r\n\r\n    Double value with 21 least significant bits modified:\r\n    -145.88160199410336\r\n\r\n\r\nI understand 1 bit needs to be maintained for the sign, 11 bits for the exponent, and 7 bits in the mantissa for the whole number between -180 and 180. Since I need to maintain 6 decimal places of precision, I thought an additional 24 bits for the significant figures would be sufficient to maintain 6 decimal places of precision (since 3.32 bits are required per digit, my understanding here might be incorrect) so I could use the 21 least significant bits to embed the metadata.\r\n\r\nI&#39;d like to know where I&#39;m misunderstanding how 64-bit doubles are represented in binary and if there&#39;s any other way to modify the bits of a double without losing the required precision.\r\n\r\nAny input is greatly appreciated!","title":"Double (IEEE754 Double precision 64-bit) binary representation","body":"<p>I want to convert a Java double (IEEE754 Double precision 64-bit) to it's binary representation, modify the 21 least significant bits to embed some metadata into the double, convert it back to a double, and maintain 6 decimal places of precision.</p>\n<p>Constraint: The double values I will be dealing with will always be in the range of [-180, 180].</p>\n<p>Example:</p>\n<pre><code>Double value: -145.88160204733163\n\nIEEE754 Double precision 64-bit binary:\n\n1100 0000 0110 0010 0011 1100 0011 0110 0001 0101 0111 1111 0010 1100 0000 1000\n\nIEEE754 Double precision 64-bit binary with 21 least significant bits modified:\n\n1100 0000 0110 0010 0011 1100 0011 0110 0001 0101 0110 0010 1001 1000 0110 0101\n\nDouble value with 21 least significant bits modified:\n-145.88160199410336\n</code></pre>\n<p>I understand 1 bit needs to be maintained for the sign, 11 bits for the exponent, and 7 bits in the mantissa for the whole number between -180 and 180. Since I need to maintain 6 decimal places of precision, I thought an additional 24 bits for the significant figures would be sufficient to maintain 6 decimal places of precision (since 3.32 bits are required per digit, my understanding here might be incorrect) so I could use the 21 least significant bits to embed the metadata.</p>\n<p>I'd like to know where I'm misunderstanding how 64-bit doubles are represented in binary and if there's any other way to modify the bits of a double without losing the required precision.</p>\n<p>Any input is greatly appreciated!</p>\n"},{"tags":["java","swing","imageicon"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1663972198,"post_id":73833208,"comment_id":130373172,"body_markdown":"I would first suggest using ImageIO.read to load the images (over ImageIcon), this will cause an error if the image can’t be loaded","body":"I would first suggest using ImageIO.read to load the images (over ImageIcon), this will cause an error if the image can’t be loaded"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1663986039,"post_id":73833208,"comment_id":130374515,"body_markdown":"Because `ImageIcon(String)` is looking for a file in the &quot;current working directory&quot;, I would also use `System.getProperty(&quot;user.home&quot;)` to determine what that is and ensure your image files are in the same directory - this, how well, will raise issues in the long and you should probably learn about &quot;embedded resources&quot;","body":"Because <code>ImageIcon(String)</code> is looking for a file in the &quot;current working directory&quot;, I would also use <code>System.getProperty(&quot;user.home&quot;)</code> to determine what that is and ensure your image files are in the same directory - this, how well, will raise issues in the long and you should probably learn about &quot;embedded resources&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1664013522,"post_id":73833208,"comment_id":130377599,"body_markdown":"You need to load [resources](https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse)\n. You might also consider the possibility of using Unicode playing card characters","body":"You need to load <a href=\"https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse\" rel=\"nofollow noreferrer\">resources</a> . You might also consider the possibility of using Unicode playing card characters"},{"owner":{"display_name":"user18629470"},"score":0,"creation_date":1664013557,"post_id":73833208,"comment_id":130377605,"body_markdown":"Thank you for your help, but I just realised what I did wrong. I cant type (2_of_clubs.png) but insted have to type (src/2_of_clubs.png) despite both being in the same folder.","body":"Thank you for your help, but I just realised what I did wrong. I cant type (2_of_clubs.png) but insted have to type (src/2_of_clubs.png) despite both being in the same folder."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1664013639,"post_id":73833208,"comment_id":130377618,"body_markdown":"No. *Don&#39;t* do that. See my first sentence above","body":"No. <i>Don&#39;t</i> do that. See my first sentence above"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1664027938,"post_id":73833208,"comment_id":130380050,"body_markdown":"@MadProgrammer `System.getProperty(&quot;user.dir&quot;)` returns the current working directory.","body":"@MadProgrammer <code>System.getProperty(&quot;user.dir&quot;)</code> returns the current working directory."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1664055621,"post_id":73833208,"comment_id":130385170,"body_markdown":"Never reference src in your code","body":"Never reference src in your code"}],"owner":{"display_name":"user18629470"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663969055,"creation_date":1663969055,"question_id":73833208,"body_markdown":"I am trying to create a Blackjack game in Jswing. I have made some code that creates a deck of cards and then randomizes them. I then add a .png to the end of the Card String so that it can be displayed as an image.\r\nMy problem is with trying to convert the String (which the Array gives) to a image.\r\nI have tried doing (Array[pos]+&quot;.png&quot;) and the setting the icon to the aforementioned String.\r\nBut this only displays a blank image. \r\n\r\nWhat does this not work?\r\n\r\n            int pos = 0;\r\n        String faces[] = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;jack&quot;, &quot;queen&quot;, &quot;king&quot;, &quot;ace&quot;};\r\n        String suits[] = {&quot;hearts&quot;, &quot;diamonds&quot;, &quot;clubs&quot;, &quot;spades&quot;};\r\n\r\n        String[] Array = new String[52];\r\n        for (int j = 0; j &lt; Array.length; j++) {\r\n            Array[j] = faces[j % 13] + &quot;_of_&quot; + suits[j / 13];\r\n        }\r\n\r\n        List&lt;String&gt; StringList = Arrays.asList(Array);\r\n\r\n        Collections.shuffle(StringList);\r\n\r\n        StringList.toArray(Array);\r\n\r\n        ImageIcon icon = new ImageIcon(Array[pos] + &quot;.png&quot;);\r\n        pCard1.setIcon(icon);\r\n        info.setText(Array[pos] + &quot;.png&quot;); //=&gt; Gives something like &quot;jack_of_diamonds.png&quot; which is the format for the name of the pictures.","title":"Convert a String to a specific picture, then displaying it as an icon in Jswing","body":"<p>I am trying to create a Blackjack game in Jswing. I have made some code that creates a deck of cards and then randomizes them. I then add a .png to the end of the Card String so that it can be displayed as an image.\nMy problem is with trying to convert the String (which the Array gives) to a image.\nI have tried doing (Array[pos]+&quot;.png&quot;) and the setting the icon to the aforementioned String.\nBut this only displays a blank image.</p>\n<p>What does this not work?</p>\n<pre><code>        int pos = 0;\n    String faces[] = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;jack&quot;, &quot;queen&quot;, &quot;king&quot;, &quot;ace&quot;};\n    String suits[] = {&quot;hearts&quot;, &quot;diamonds&quot;, &quot;clubs&quot;, &quot;spades&quot;};\n\n    String[] Array = new String[52];\n    for (int j = 0; j &lt; Array.length; j++) {\n        Array[j] = faces[j % 13] + &quot;_of_&quot; + suits[j / 13];\n    }\n\n    List&lt;String&gt; StringList = Arrays.asList(Array);\n\n    Collections.shuffle(StringList);\n\n    StringList.toArray(Array);\n\n    ImageIcon icon = new ImageIcon(Array[pos] + &quot;.png&quot;);\n    pCard1.setIcon(icon);\n    info.setText(Array[pos] + &quot;.png&quot;); //=&gt; Gives something like &quot;jack_of_diamonds.png&quot; which is the format for the name of the pictures.\n</code></pre>\n"},{"tags":["java","android","android-textinputlayout"],"answers":[{"tags":[],"owner":{"account_id":8361391,"reputation":181,"user_id":6279574,"display_name":"Jalalkun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663946466,"creation_date":1663902721,"answer_id":73822609,"question_id":73822360,"body_markdown":"Add [autoCompleteTextView][1] into your textInputLayout\r\n\r\nin Kotlin you can do like this \r\n\r\n    val autoCompleteTextView = AutoCompleteTextView(this)\r\n    autoCompleteTextView.id = View.generateViewId()\r\n    textInputLayout.addView(autoCompleteTextView)\r\n\r\nJava Version\r\n\r\n    AutoCompleteTextView autoCompleteTextView = new AutoCompleteTextView(context);\r\n    autoCompleteTextView.setId(View.generateViewId());\r\n    textInputLayout.addView(autoCompleteTextView);\r\n\r\nif you don&#39;t like use XML to create UI, you can migrate to [Jetpack Compose][2]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/AutoCompleteTextView\r\n  [2]: https://developer.android.com/jetpack/compose","title":"Android - Create an AutoCompleteTextView Programmatically (no xml at all)","body":"<p>Add <a href=\"https://developer.android.com/reference/android/widget/AutoCompleteTextView\" rel=\"nofollow noreferrer\">autoCompleteTextView</a> into your textInputLayout</p>\n<p>in Kotlin you can do like this</p>\n<pre><code>val autoCompleteTextView = AutoCompleteTextView(this)\nautoCompleteTextView.id = View.generateViewId()\ntextInputLayout.addView(autoCompleteTextView)\n</code></pre>\n<p>Java Version</p>\n<pre><code>AutoCompleteTextView autoCompleteTextView = new AutoCompleteTextView(context);\nautoCompleteTextView.setId(View.generateViewId());\ntextInputLayout.addView(autoCompleteTextView);\n</code></pre>\n<p>if you don't like use XML to create UI, you can migrate to <a href=\"https://developer.android.com/jetpack/compose\" rel=\"nofollow noreferrer\">Jetpack Compose</a></p>\n"}],"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663968038,"creation_date":1663899400,"question_id":73822360,"body_markdown":"I would like to add an AutoCompleteTextView Programmatically for an app, without referencing any items in a XML layout.\r\n\r\nThis is what I would like to achieve:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe XML code is the following:\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/weekDropdown&quot;\r\n        \r\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n        android:hint=&quot;@string/select_week&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;32dp&quot;\r\n        android:layout_marginEnd=&quot;32dp&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:layout_marginBottom=&quot;5dp&quot;\r\n        android:labelFor=&quot;@+id/weekSelected&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_round_calendar_today_24&quot;&gt;\r\n\r\n        &lt;AutoCompleteTextView\r\n            android:id=&quot;@+id/weekSelected&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:padding=&quot;14dp&quot;\r\n            android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n\r\n\r\n------------- UPDATE ---------------------\r\n\r\nSo this is the state that i reached... its almost there, I just can&#39;t get the outline box to show up correctly\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nHere is the code:\r\n\r\n    // Create AutoCompleteTextView Dynamically\r\n    AutoCompleteTextView textView = new AutoCompleteTextView(this.context);\r\n\r\n    TextInputLayout.textInputLayout = new TextInputLayout(new ContextThemeWrapper(getContext(), R.style.Widget_MaterialComponents_TextInputLayout_OutlinedBox_ExposedDropdownMenu));\r\n\r\n    this.textInputLayout.setId(View.generateViewId());\r\n    this.textView.setId(View.generateViewId());\r\n\r\n    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);\r\n\r\n\r\n    textInputLayout.setHint(&quot;Select Week&quot;);\r\n\r\n\r\n    textInputLayout.setBoxBackgroundColor(ContextCompat.getColor(getContext(), android.R.color.transparent));\r\n\r\n    textInputLayout.setBoxBackgroundMode(TextInputLayout.BOX_BACKGROUND_OUTLINE);\r\n\r\n    textInputLayout.setStartIconDrawable(R.drawable.ic_round_calendar_today_24);\r\n\r\n    textInputLayout.setStartIconTintList(ContextCompat.getColorStateList(this.context, R.color.black));\r\n\r\n    textInputLayout.setBoxCornerRadii(5, 5, 5, 5);\r\n\r\n\r\n    LinearLayout.LayoutParams layoutParamsTextView = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);\r\n\r\n    weeksArray = new ArrayList&lt;&gt;();\r\n    //\r\n    weeksArray.add(&quot;1&quot;);\r\n    weeksArray.add(&quot;2&quot;);\r\n    weeksArray.add(&quot;3&quot;);\r\n    weeksArray.add(&quot;4&quot;);\r\n    weeksArray.add(&quot;5&quot;);\r\n    weeksArray.add(&quot;6&quot;);\r\n    weeksArray.add(&quot;7&quot;);\r\n    weeksArray.add(&quot;8&quot;);\r\n\r\n    weeksAdapter = new ArrayAdapter&lt;&gt;(getContext(), android.R.layout.simple_list_item_1, weeksArray);\r\n        \r\n    textView.setAdapter(weeksAdapter);\r\n        \r\n    textView.setText(String.valueOf(currWeek), false);\r\n\r\n    textInputLayout.addView(this.textView, layoutParamsTextView);\r\n    \r\n    this.addView(this.textInputLayout, layoutParams);\r\n\r\n\r\n\r\nDoes anyone see what i am missing, or how i can achieve the expected result?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HhNQK.png\r\n  [2]: https://i.stack.imgur.com/TVq05.png\r\n  [3]: https://i.stack.imgur.com/cGfu3.png","title":"Android - Create an AutoCompleteTextView Programmatically (no xml at all)","body":"<p>I would like to add an AutoCompleteTextView Programmatically for an app, without referencing any items in a XML layout.</p>\n<p>This is what I would like to achieve:</p>\n<p><a href=\"https://i.stack.imgur.com/HhNQK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HhNQK.png\" alt=\"enter image description here\" /></a></p>\n<p>The XML code is the following:</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/weekDropdown&quot;\n    \nstyle=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n    android:hint=&quot;@string/select_week&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;32dp&quot;\n    android:layout_marginEnd=&quot;32dp&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:layout_marginBottom=&quot;5dp&quot;\n    android:labelFor=&quot;@+id/weekSelected&quot;\n    app:startIconDrawable=&quot;@drawable/ic_round_calendar_today_24&quot;&gt;\n\n    &lt;AutoCompleteTextView\n        android:id=&quot;@+id/weekSelected&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot;\n        android:padding=&quot;14dp&quot;\n        android:textSize=&quot;16sp&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>------------- UPDATE ---------------------</p>\n<p>So this is the state that i reached... its almost there, I just can't get the outline box to show up correctly</p>\n<p><a href=\"https://i.stack.imgur.com/cGfu3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cGfu3.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code:</p>\n<pre><code>// Create AutoCompleteTextView Dynamically\nAutoCompleteTextView textView = new AutoCompleteTextView(this.context);\n\nTextInputLayout.textInputLayout = new TextInputLayout(new ContextThemeWrapper(getContext(), R.style.Widget_MaterialComponents_TextInputLayout_OutlinedBox_ExposedDropdownMenu));\n\nthis.textInputLayout.setId(View.generateViewId());\nthis.textView.setId(View.generateViewId());\n\nLinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);\n\n\ntextInputLayout.setHint(&quot;Select Week&quot;);\n\n\ntextInputLayout.setBoxBackgroundColor(ContextCompat.getColor(getContext(), android.R.color.transparent));\n\ntextInputLayout.setBoxBackgroundMode(TextInputLayout.BOX_BACKGROUND_OUTLINE);\n\ntextInputLayout.setStartIconDrawable(R.drawable.ic_round_calendar_today_24);\n\ntextInputLayout.setStartIconTintList(ContextCompat.getColorStateList(this.context, R.color.black));\n\ntextInputLayout.setBoxCornerRadii(5, 5, 5, 5);\n\n\nLinearLayout.LayoutParams layoutParamsTextView = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);\n\nweeksArray = new ArrayList&lt;&gt;();\n//\nweeksArray.add(&quot;1&quot;);\nweeksArray.add(&quot;2&quot;);\nweeksArray.add(&quot;3&quot;);\nweeksArray.add(&quot;4&quot;);\nweeksArray.add(&quot;5&quot;);\nweeksArray.add(&quot;6&quot;);\nweeksArray.add(&quot;7&quot;);\nweeksArray.add(&quot;8&quot;);\n\nweeksAdapter = new ArrayAdapter&lt;&gt;(getContext(), android.R.layout.simple_list_item_1, weeksArray);\n    \ntextView.setAdapter(weeksAdapter);\n    \ntextView.setText(String.valueOf(currWeek), false);\n\ntextInputLayout.addView(this.textView, layoutParamsTextView);\n\nthis.addView(this.textInputLayout, layoutParams);\n</code></pre>\n<p>Does anyone see what i am missing, or how i can achieve the expected result?</p>\n"},{"tags":["java","spring","spring-boot","automated-tests"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1663936268,"post_id":73827642,"comment_id":130362373,"body_markdown":"Are you running the application and the tests at the same time? If that&#39;s the case, you can override the port by `server.port=8001` for example.","body":"Are you running the application and the tests at the same time? If that&#39;s the case, you can override the port by <code>server.port=8001</code> for example."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1663937003,"post_id":73827642,"comment_id":130362637,"body_markdown":"Something in &quot;the machine&quot; is running on port 8080. The test application tried to start its web server but could not bind on port 8080 because something else is using it, therefore the web server threw an error. Do you have some other local host running of some other app you have forgotten. I have four different localhost machines I can use in my machine. Apache, glassfish,wildfly,tomcat and variants.","body":"Something in &quot;the machine&quot; is running on port 8080. The test application tried to start its web server but could not bind on port 8080 because something else is using it, therefore the web server threw an error. Do you have some other local host running of some other app you have forgotten. I have four different localhost machines I can use in my machine. Apache, glassfish,wildfly,tomcat and variants."}],"answers":[{"tags":[],"owner":{"account_id":23030189,"reputation":76,"user_id":17149811,"display_name":"oliver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663967767,"creation_date":1663967767,"answer_id":73833049,"question_id":73827642,"body_markdown":"you can use \r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n\r\nto get a random available port for your test.\r\nIf you need that random port in your test class you can use\r\n   \r\n      @LocalServerPort\r\n      private String port;\r\n\r\nto get the port into a variable.\r\n\r\n\r\nAside that, I would use spring profiles to use a &quot;test&quot; profile `src/test/resources/application-test.properties` for tests and adding `@ActiveProfiles(value = &quot;test&quot;)` to my test class.","title":"Running SpringBootTest keeps raising error &quot;Port 8080 already in use&quot; after adding test/resources/application.properties","body":"<p>you can use</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n</code></pre>\n<p>to get a random available port for your test.\nIf you need that random port in your test class you can use</p>\n<pre><code>  @LocalServerPort\n  private String port;\n</code></pre>\n<p>to get the port into a variable.</p>\n<p>Aside that, I would use spring profiles to use a &quot;test&quot; profile <code>src/test/resources/application-test.properties</code> for tests and adding <code>@ActiveProfiles(value = &quot;test&quot;)</code> to my test class.</p>\n"}],"owner":{"account_id":7873988,"reputation":21,"user_id":5950357,"display_name":"Rocco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663967767,"creation_date":1663935650,"question_id":73827642,"body_markdown":"Because we are creating tests that do not need to access the Postgres database, we are migrating our tests to use H2 storage. We&#39;ve created a separate `application.properties` in `src/test/resources/application.properties` overriding all values from our default `src/main/resources/application.properties`.\r\n\r\n```spring.devtools.remote.secret=123\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.jpa.generate-ddl=false\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.liquibase.enabled=false\r\nspring.liquibase.change-log=\r\nsecurity.oidc_domain=123\r\nsecurity.jwt_key=123\r\napi_url=http://localhost:8080\r\nencryption.secret=123\r\nsecurity.debug=false\r\nallowed_hosts=*\r\n```\r\n\r\nWe have the following CoreApplication file which boots the Spring App:\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class CoreApplication implements CommandLineRunner {\r\n\r\n    public static void main(final String[] args) {\r\n\r\n        SpringApplication application = new SpringApplication(CoreApplication.class);\r\n\r\n        application.run(args);\r\n    }\r\n\r\n    public ConfigurableApplicationContext context;\r\n\r\n    @Override\r\n    public void run(final String... args) throws Exception {\r\n        System.out.println(args);\r\n        context = SpringApplication.run(CoreApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this is our test file:\r\n```java\r\n@SpringBootTest()\r\nclass CoreApplicationTests {\r\n\r\n\t@Test()\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen we run this test (via IntelliJ IDEA) we get the following error:\r\n\r\n```\r\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n```\r\n\r\nBefore we added the custom application.properties in test is was working perfectly, but was hitting a connection limit to PostgreSQL because of the amount of tests, so it looks like this is caused by the application.properties override in tests folder.\r\n","title":"Running SpringBootTest keeps raising error &quot;Port 8080 already in use&quot; after adding test/resources/application.properties","body":"<p>Because we are creating tests that do not need to access the Postgres database, we are migrating our tests to use H2 storage. We've created a separate <code>application.properties</code> in <code>src/test/resources/application.properties</code> overriding all values from our default <code>src/main/resources/application.properties</code>.</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.generate-ddl=false\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.liquibase.enabled=false\nspring.liquibase.change-log=\nsecurity.oidc_domain=123\nsecurity.jwt_key=123\napi_url=http://localhost:8080\nencryption.secret=123\nsecurity.debug=false\nallowed_hosts=*\n</code></pre>\n<p>We have the following CoreApplication file which boots the Spring App:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableScheduling\npublic class CoreApplication implements CommandLineRunner {\n\n    public static void main(final String[] args) {\n\n        SpringApplication application = new SpringApplication(CoreApplication.class);\n\n        application.run(args);\n    }\n\n    public ConfigurableApplicationContext context;\n\n    @Override\n    public void run(final String... args) throws Exception {\n        System.out.println(args);\n        context = SpringApplication.run(CoreApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>And this is our test file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest()\nclass CoreApplicationTests {\n\n    @Test()\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>When we run this test (via IntelliJ IDEA) we get the following error:</p>\n<pre><code>Caused by: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.22.jar:5.3.22]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n</code></pre>\n<p>Before we added the custom application.properties in test is was working perfectly, but was hitting a connection limit to PostgreSQL because of the amount of tests, so it looks like this is caused by the application.properties override in tests folder.</p>\n"},{"tags":["java","arrays","junit"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1315211827,"creation_date":1315211827,"answer_id":7305636,"question_id":7305612,"body_markdown":"You can use\r\n\r\n    assertFalse(Arrays.equals(array1, array2));\r\n\r\nIf you wanted to check they were equal, I would use the following instead.\r\n\r\n    assertEquals(Arrays.toString(array1), Arrays.toString(array2));\r\n\r\nas this produces a readable output as to what was different rather than just failing.","title":"junit arrays not equal test","body":"<p>You can use</p>\n\n<pre><code>assertFalse(Arrays.equals(array1, array2));\n</code></pre>\n\n<p>If you wanted to check they were equal, I would use the following instead.</p>\n\n<pre><code>assertEquals(Arrays.toString(array1), Arrays.toString(array2));\n</code></pre>\n\n<p>as this produces a readable output as to what was different rather than just failing.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1479170734,"creation_date":1315211833,"answer_id":7305637,"question_id":7305612,"body_markdown":"I prefer doing this the Hamcrest way, which is more expressive:\r\n\r\n    Assert.assertThat(array1, IsNot.not(IsEqual.equalTo(array2)));\r\n\r\nOr the short version with static imports:\r\n\r\n    assertThat(array1, not(equalTo(array2)));\r\n\r\n(The `IsEqual` matcher is smart enough to understand arrays, fortunately.)\r\n\r\nNote that a limited version of Hamcrest is part of the JUnit 4.x distribution, so you don&#39;t need to add an external library.\r\n\r\n","title":"junit arrays not equal test","body":"<p>I prefer doing this the Hamcrest way, which is more expressive:</p>\n\n<pre><code>Assert.assertThat(array1, IsNot.not(IsEqual.equalTo(array2)));\n</code></pre>\n\n<p>Or the short version with static imports:</p>\n\n<pre><code>assertThat(array1, not(equalTo(array2)));\n</code></pre>\n\n<p>(The <code>IsEqual</code> matcher is smart enough to understand arrays, fortunately.)</p>\n\n<p>Note that a limited version of Hamcrest is part of the JUnit 4.x distribution, so you don't need to add an external library.</p>\n"},{"tags":[],"owner":{"account_id":351421,"reputation":4917,"user_id":687884,"accept_rate":100,"display_name":"pholser"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1525119284,"creation_date":1315407483,"answer_id":7336025,"question_id":7305612,"body_markdown":"Newer versions of JUnit offer `org.junit.Assert.assertArrayEquals(byte[], byte[])`, with overloads for other array types. Failures show the first index with a non-match and the differing elements at that index.\r\n\r\nI also enjoy `assertEquals(Arrays.asList(expected), Arrays.asList(actual))`. The Hamcrest-powered rendition mentioned above is probably best.","title":"junit arrays not equal test","body":"<p>Newer versions of JUnit offer <code>org.junit.Assert.assertArrayEquals(byte[], byte[])</code>, with overloads for other array types. Failures show the first index with a non-match and the differing elements at that index.</p>\n\n<p>I also enjoy <code>assertEquals(Arrays.asList(expected), Arrays.asList(actual))</code>. The Hamcrest-powered rendition mentioned above is probably best.</p>\n"},{"tags":[],"owner":{"account_id":13345,"reputation":8533,"user_id":26737,"accept_rate":83,"display_name":"Manur"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1492636494,"creation_date":1436547944,"answer_id":31346499,"question_id":7305612,"body_markdown":"Here is a possible alternative, which has the advantage of using the same code as `assertArrayEquals()` :\r\n\r\n    private void assertArrayNotEquals(byte[] expecteds, byte[] actuals) {\r\n        try {\r\n            assertArrayEquals(expecteds, actuals);\r\n        } catch (AssertionError e) {\r\n            return;\r\n        }\r\n        fail(&quot;The arrays are equal&quot;);\r\n    }","title":"junit arrays not equal test","body":"<p>Here is a possible alternative, which has the advantage of using the same code as <code>assertArrayEquals()</code> :</p>\n\n<pre><code>private void assertArrayNotEquals(byte[] expecteds, byte[] actuals) {\n    try {\n        assertArrayEquals(expecteds, actuals);\n    } catch (AssertionError e) {\n        return;\n    }\n    fail(\"The arrays are equal\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1245268,"reputation":316,"user_id":1206873,"accept_rate":40,"display_name":"Keith Whittingham"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1438674136,"creation_date":1438674136,"answer_id":31803427,"question_id":7305612,"body_markdown":"Sorry this is a bit long but it&#39;s easy to debug with and you can cut and paste it into your unit test.\r\n\r\n    private int span = 10;\r\n\r\n    private boolean equal(byte[] expected, byte[] got) {\r\n        final boolean result;\r\n\r\n        String message = null;\r\n        int offset = -1;\r\n        int length = -1;\r\n        if(expected == null &amp;&amp; got == null) {\r\n            result = true;\r\n        } else if(expected == null || got == null) {\r\n            message = &quot;One array is null: &quot; + (expected == null ? &quot;expected&quot; : &quot;got&quot;);\r\n            result = false;\r\n        } else if(expected.length != got.length) {\r\n            message = &quot;Lengths differ: expected = &quot; + expected.length + &quot;, got = &quot; + got.length;\r\n            result = false;\r\n        } else {\r\n            length = expected.length;\r\n            for(int i = 0; i &lt; length; i++) {\r\n                if(expected[i] != got[i]) {\r\n                    offset = i;\r\n                    break;\r\n                }\r\n            }\r\n            result = offset == -1;\r\n            if(!result) {\r\n                message = &quot;Contents differ&quot;;\r\n            }\r\n        }\r\n\r\n        if(!result) {\r\n            System.err.println(message);\r\n            if(offset &gt;= 0) {\r\n                hexDump(&quot;Expected: &quot;, expected, offset, length);\r\n                hexDump(&quot;     Got: &quot;, got, offset, length);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private void hexDump(String label, byte[] ba, int offset, int length) {\r\n        System.err.print(label);\r\n        if(ba == null) {\r\n            System.err.println(&quot;&lt;null&gt;&quot;);\r\n        } else if(ba.length == 0) {\r\n            System.err.println(&quot;&lt;zero-length-array&gt;&quot;);\r\n        } else {\r\n            // &lt;span&gt; bytes either side\r\n\r\n            final int from = Math.max(0, offset - span);\r\n            final int to = Math.min(length, offset + span);\r\n            if(from != 0) {\r\n                System.err.print(&quot;(offset:&quot; + from + &quot;) &quot;);\r\n            }\r\n            for(int i = from; i &lt; to; i++) {\r\n                System.err.printf(&quot;%02X &quot;, new Byte(ba[i]));\r\n            }\r\n            System.err.println();\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void testExample() {\r\n        assertTrue(equal(new byte[] { 1, 2, 3 }, new byte[] { 1, 8, 3 }));\r\n    }\r\n","title":"junit arrays not equal test","body":"<p>Sorry this is a bit long but it's easy to debug with and you can cut and paste it into your unit test.</p>\n\n<pre><code>private int span = 10;\n\nprivate boolean equal(byte[] expected, byte[] got) {\n    final boolean result;\n\n    String message = null;\n    int offset = -1;\n    int length = -1;\n    if(expected == null &amp;&amp; got == null) {\n        result = true;\n    } else if(expected == null || got == null) {\n        message = \"One array is null: \" + (expected == null ? \"expected\" : \"got\");\n        result = false;\n    } else if(expected.length != got.length) {\n        message = \"Lengths differ: expected = \" + expected.length + \", got = \" + got.length;\n        result = false;\n    } else {\n        length = expected.length;\n        for(int i = 0; i &lt; length; i++) {\n            if(expected[i] != got[i]) {\n                offset = i;\n                break;\n            }\n        }\n        result = offset == -1;\n        if(!result) {\n            message = \"Contents differ\";\n        }\n    }\n\n    if(!result) {\n        System.err.println(message);\n        if(offset &gt;= 0) {\n            hexDump(\"Expected: \", expected, offset, length);\n            hexDump(\"     Got: \", got, offset, length);\n        }\n    }\n    return result;\n}\n\nprivate void hexDump(String label, byte[] ba, int offset, int length) {\n    System.err.print(label);\n    if(ba == null) {\n        System.err.println(\"&lt;null&gt;\");\n    } else if(ba.length == 0) {\n        System.err.println(\"&lt;zero-length-array&gt;\");\n    } else {\n        // &lt;span&gt; bytes either side\n\n        final int from = Math.max(0, offset - span);\n        final int to = Math.min(length, offset + span);\n        if(from != 0) {\n            System.err.print(\"(offset:\" + from + \") \");\n        }\n        for(int i = from; i &lt; to; i++) {\n            System.err.printf(\"%02X \", new Byte(ba[i]));\n        }\n        System.err.println();\n    }\n}\n\n@Test\npublic void testExample() {\n    assertTrue(equal(new byte[] { 1, 2, 3 }, new byte[] { 1, 8, 3 }));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18395628,"reputation":432,"user_id":13400168,"display_name":"Jimmy ALejandro"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1663967702,"creation_date":1663967702,"answer_id":73833038,"question_id":7305612,"body_markdown":"You could do it like this:\r\n\r\n    assertNotEquals(arrayOne, arrayTwo)","title":"junit arrays not equal test","body":"<p>You could do it like this:</p>\n<pre><code>assertNotEquals(arrayOne, arrayTwo)\n</code></pre>\n"}],"owner":{"account_id":890038,"reputation":485,"user_id":928499,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43665,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":7305637,"answer_count":6,"score":48,"last_activity_date":1663967702,"creation_date":1315211654,"question_id":7305612,"body_markdown":"I&#39;m trying to write a test case where my scenario is that two **byte arrays** should be  **not equal**.\r\n\r\nCan I do this with junit?\r\n\r\nOr do I have to use something external like Hamcrest? [I couldn&#39;t change the code in this answer to do the job][1] \r\n\r\nPlease give a sample.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1096650/why-doesnt-junit-provide-assertnotequals-methods/1464411#1464411","title":"junit arrays not equal test","body":"<p>I'm trying to write a test case where my scenario is that two <strong>byte arrays</strong> should be  <strong>not equal</strong>.</p>\n\n<p>Can I do this with junit?</p>\n\n<p>Or do I have to use something external like Hamcrest? <a href=\"https://stackoverflow.com/questions/1096650/why-doesnt-junit-provide-assertnotequals-methods/1464411#1464411\">I couldn't change the code in this answer to do the job</a> </p>\n\n<p>Please give a sample.</p>\n"},{"tags":["java","timertask","localdate"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1664000432,"post_id":73831891,"comment_id":130375786,"body_markdown":"In your `run` method this line declares a new local variable: `LocalDateTime now = LocalDateTime.now();`. You don’t want that. You want to assign to the variable that you already have in the `Date` class. If you want that design, it should be something like `Date.setNow(LocalDateTime.now());` where `setNow` is a method in your `Date` class that sets that variable (a so-called setter).","body":"In your <code>run</code> method this line declares a new local variable: <code>LocalDateTime now = LocalDateTime.now();</code>. You don’t want that. You want to assign to the variable that you already have in the <code>Date</code> class. If you want that design, it should be something like <code>Date.setNow(LocalDateTime.now());</code> where <code>setNow</code> is a method in your <code>Date</code> class that sets that variable (a so-called setter)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1664000728,"post_id":73831891,"comment_id":130375824,"body_markdown":"When posting to Stack Overflow and asking people to read your code, please indent it properly. Your IDE can do it for you. Many more tips here: [Stack Overflow question checklist - Jon Skeet&#39;s coding blog](https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/).","body":"When posting to Stack Overflow and asking people to read your code, please indent it properly. Your IDE can do it for you. Many more tips here: <a href=\"https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/\" rel=\"nofollow noreferrer\">Stack Overflow question checklist - Jon Skeet&#39;s coding blog</a>."}],"answers":[{"tags":[],"owner":{"account_id":745399,"reputation":872,"user_id":731938,"display_name":"Igor Kanshyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663962122,"creation_date":1663962122,"answer_id":73832294,"question_id":73831891,"body_markdown":"&gt; LocalDateTime is an immutable date-time object that represents a date-time, often viewed as year-month-day-hour-minute-second. Other date and time fields, such as day-of-year, day-of-week and week-of-year, can also be accessed. Time is represented to nanosecond precision. For example, the value &quot;2nd October 2007 at 13:45.30.123456789&quot; can be stored in a LocalDateTime.\r\n\r\nIt&#39;s from here: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n\r\n&#39;immutable&#39; means that you cannot modify it. \r\n\r\n**You need to create a new instance of LocalDateTime and assing this new instance to your variable**. \r\n\r\n","title":"How to update LocalDateTime variable while using TimerTask","body":"<blockquote>\n<p>LocalDateTime is an immutable date-time object that represents a date-time, often viewed as year-month-day-hour-minute-second. Other date and time fields, such as day-of-year, day-of-week and week-of-year, can also be accessed. Time is represented to nanosecond precision. For example, the value &quot;2nd October 2007 at 13:45.30.123456789&quot; can be stored in a LocalDateTime.</p>\n</blockquote>\n<p>It's from here: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html</a></p>\n<p>'immutable' means that you cannot modify it.</p>\n<p><strong>You need to create a new instance of LocalDateTime and assing this new instance to your variable</strong>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663967411,"creation_date":1663966000,"answer_id":73832832,"question_id":73831891,"body_markdown":"As seen in correct [Answer by Kanshyn][1], `LocalDateTime` is immutable. You need to store a fresh new instance when you want a new value.\r\n\r\nAlso, `LocalDateTime` is the wrong class here. The `LocalDateTime` class lacks the context of an offset-from-UTC or a time zone. \r\n\r\nWhen tracking a moment, a specific point in the timeline, use [`Instant`][2], `OffsetDateTime`, or `ZonedDateTime`. \r\n\r\nIn your case, probably best to use `Instant` in your data model. When presenting to user, adjust to their expected time zone.\r\n\r\n    Instant instant = Instant.now() ;\r\n    ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;  // Or ZoneId.systemDefault(). \r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\nGenerate text from that `ZonedDateTime` by using `DateTimeFormatter`. Automatically localize by calling `ZonedDateTime.ofLocalizedDateTime`. Search Stack Overflow to learn more as this has been covered many times already. \r\n\r\n&gt;I&#39;m learning Java on my own and I&#39;m stuck with the following problem.\r\n\r\nStudy [*The Java™ Tutorials*][3] by Oracle Corp., free of cost.\r\n\r\nSee the section on date-time handling with *java.time* [here][4]. \r\n\r\n&gt; I have a private static class called `Date`\r\n\r\nJava comes with two classes named `Date`. I suggest using another name to avoid confusion.\r\n\r\n&gt;`static class APICallerTask {`\r\n\r\nNo need to make your task class `static`.\r\n\r\n&gt;`private static class Date {`\r\n\r\nTry to resist the urge to use that `static` label. As a beginner, you&#39;ll almost always be using `static` in a wrong or less-than-optimal fashion. Code with `static` is not [object-oriented][5]. \r\n\r\n&gt;`timer = new Timer();`\r\n\r\nThe `Timer` and `TimerTask` classes are legacy, as noted in their Javadoc. Best to use the Executors framework in Java 5+. See [The Java™ Tutorials][6].\r\n\r\nA `ScheduledExecutorService` runs tasks repeatedly. \r\n\r\n    ScheduledExecutorService see = Executors.newSingleThreadScheduledExecutor() ; \r\n    ses.scheduleAtFixedRate( myRunnable , initialDelay, period, TimeUnit.SECONDS ) ;\r\n    …\r\n    … // Eventually shut down the executor service gracefully using boilerplate code found in Javadoc.\r\n\r\nFor that shutdown boilerplate, see [ExecutorService][7] Javadoc.\r\n\r\n## Example code\r\n\r\nWe define an app to hold a reference to latest recorded moment. Because we expect to access this reference across threads, we use [`AtomicReference`][8] for [thread-safety][9]. \r\n\r\nOur task is a nested class, `UpdateMomentTask`. That class implements [`Runnable`][10], which means it promises to implement a method named `run`. The `ScheduledExecutorService` calls that `run` method on our behalf. \r\n\r\nOn each execution of its `run` method, we capture the current moment by instantiating a new `Instant` object. Our task then stores a reference to that object as the payload of our app’s `AtomicReference` variable named `moment`.\r\n\r\nNotice no `static` anywhere (except `main`). \r\n\r\n\r\n```java\r\npackage work.basil.example.now;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.concurrent.*;\r\nimport java.util.concurrent.atomic.AtomicReference;\r\n\r\npublic class App\r\n{\r\n    AtomicReference &lt; Instant &gt; moment = new AtomicReference &lt;&gt;( Instant.now() );\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println( &quot;Demo start: &quot; + Instant.now() );\r\n\r\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n        Runnable task = new UpdateMomentTask();\r\n        ses.scheduleAtFixedRate( task , 0 , 10 , TimeUnit.SECONDS );\r\n\r\n        // We sleep this main thread to give our background task time enough to do some work. \r\n        try { Thread.sleep( Duration.ofMinutes( 1 ).toMillis() ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        this.shutdownAndAwaitTermination( ses );\r\n        System.out.println( &quot;Last recorded moment was: &quot; + this.moment.get().toString() );\r\n\r\n        System.out.println( &quot;Demo end: &quot; + Instant.now() );\r\n    }\r\n\r\n    class UpdateMomentTask implements Runnable\r\n    {\r\n        @Override\r\n        public void run ( )\r\n        {\r\n            Instant currentMoment = Instant.now();\r\n            moment.set( currentMoment );\r\n            System.out.println( &quot;Set the moment to: &quot; + currentMoment );\r\n        }\r\n    }\r\n\r\n    // Boilerplate taken from https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html.\r\n    // Slightly modified here.\r\n    void shutdownAndAwaitTermination ( ExecutorService executorService )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate.\r\n            if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled.\r\n                if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\r\n                { System.err.println( &quot;Executor service did not terminate. &quot; + Instant.now() ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted.\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen run:\r\n\r\n```none\r\nDemo start: 2022-09-23T20:46:06.420162Z\r\nSet the moment to: 2022-09-23T20:46:06.435521Z\r\nSet the moment to: 2022-09-23T20:46:16.433719Z\r\nSet the moment to: 2022-09-23T20:46:26.425594Z\r\nSet the moment to: 2022-09-23T20:46:36.426603Z\r\nSet the moment to: 2022-09-23T20:46:46.422073Z\r\nSet the moment to: 2022-09-23T20:46:56.427291Z\r\nSet the moment to: 2022-09-23T20:47:06.423843Z\r\nLast recorded moment was: 2022-09-23T20:47:06.423843Z\r\nDemo end: 2022-09-23T20:47:06.430045Z\r\n```\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73832294/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/\r\n  [4]: https://docs.oracle.com/javase/tutorial/datetime/TOC.html\r\n  [5]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [6]: https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [8]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\r\n  [9]: https://en.wikipedia.org/wiki/Thread_safety\r\n  [10]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html","title":"How to update LocalDateTime variable while using TimerTask","body":"<p>As seen in correct <a href=\"https://stackoverflow.com/a/73832294/642706\">Answer by Kanshyn</a>, <code>LocalDateTime</code> is immutable. You need to store a fresh new instance when you want a new value.</p>\n<p>Also, <code>LocalDateTime</code> is the wrong class here. The <code>LocalDateTime</code> class lacks the context of an offset-from-UTC or a time zone.</p>\n<p>When tracking a moment, a specific point in the timeline, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>, <code>OffsetDateTime</code>, or <code>ZonedDateTime</code>.</p>\n<p>In your case, probably best to use <code>Instant</code> in your data model. When presenting to user, adjust to their expected time zone.</p>\n<pre><code>Instant instant = Instant.now() ;\nZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;  // Or ZoneId.systemDefault(). \nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<p>Generate text from that <code>ZonedDateTime</code> by using <code>DateTimeFormatter</code>. Automatically localize by calling <code>ZonedDateTime.ofLocalizedDateTime</code>. Search Stack Overflow to learn more as this has been covered many times already.</p>\n<blockquote>\n<p>I'm learning Java on my own and I'm stuck with the following problem.</p>\n</blockquote>\n<p>Study <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\"><em>The Java™ Tutorials</em></a> by Oracle Corp., free of cost.</p>\n<p>See the section on date-time handling with <em>java.time</em> <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>I have a private static class called <code>Date</code></p>\n</blockquote>\n<p>Java comes with two classes named <code>Date</code>. I suggest using another name to avoid confusion.</p>\n<blockquote>\n<p><code>static class APICallerTask {</code></p>\n</blockquote>\n<p>No need to make your task class <code>static</code>.</p>\n<blockquote>\n<p><code>private static class Date {</code></p>\n</blockquote>\n<p>Try to resist the urge to use that <code>static</code> label. As a beginner, you'll almost always be using <code>static</code> in a wrong or less-than-optimal fashion. Code with <code>static</code> is not <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented</a>.</p>\n<blockquote>\n<p><code>timer = new Timer();</code></p>\n</blockquote>\n<p>The <code>Timer</code> and <code>TimerTask</code> classes are legacy, as noted in their Javadoc. Best to use the Executors framework in Java 5+. See <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">The Java™ Tutorials</a>.</p>\n<p>A <code>ScheduledExecutorService</code> runs tasks repeatedly.</p>\n<pre><code>ScheduledExecutorService see = Executors.newSingleThreadScheduledExecutor() ; \nses.scheduleAtFixedRate( myRunnable , initialDelay, period, TimeUnit.SECONDS ) ;\n…\n… // Eventually shut down the executor service gracefully using boilerplate code found in Javadoc.\n</code></pre>\n<p>For that shutdown boilerplate, see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a> Javadoc.</p>\n<h2>Example code</h2>\n<p>We define an app to hold a reference to latest recorded moment. Because we expect to access this reference across threads, we use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a> for <a href=\"https://en.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">thread-safety</a>.</p>\n<p>Our task is a nested class, <code>UpdateMomentTask</code>. That class implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a>, which means it promises to implement a method named <code>run</code>. The <code>ScheduledExecutorService</code> calls that <code>run</code> method on our behalf.</p>\n<p>On each execution of its <code>run</code> method, we capture the current moment by instantiating a new <code>Instant</code> object. Our task then stores a reference to that object as the payload of our app’s <code>AtomicReference</code> variable named <code>moment</code>.</p>\n<p>Notice no <code>static</code> anywhere (except <code>main</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.now;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.*;\nimport java.util.concurrent.atomic.AtomicReference;\n\npublic class App\n{\n    AtomicReference &lt; Instant &gt; moment = new AtomicReference &lt;&gt;( Instant.now() );\n\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        System.out.println( &quot;Demo start: &quot; + Instant.now() );\n\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n        Runnable task = new UpdateMomentTask();\n        ses.scheduleAtFixedRate( task , 0 , 10 , TimeUnit.SECONDS );\n\n        // We sleep this main thread to give our background task time enough to do some work. \n        try { Thread.sleep( Duration.ofMinutes( 1 ).toMillis() ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        this.shutdownAndAwaitTermination( ses );\n        System.out.println( &quot;Last recorded moment was: &quot; + this.moment.get().toString() );\n\n        System.out.println( &quot;Demo end: &quot; + Instant.now() );\n    }\n\n    class UpdateMomentTask implements Runnable\n    {\n        @Override\n        public void run ( )\n        {\n            Instant currentMoment = Instant.now();\n            moment.set( currentMoment );\n            System.out.println( &quot;Set the moment to: &quot; + currentMoment );\n        }\n    }\n\n    // Boilerplate taken from https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html.\n    // Slightly modified here.\n    void shutdownAndAwaitTermination ( ExecutorService executorService )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate.\n            if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled.\n                if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\n                { System.err.println( &quot;Executor service did not terminate. &quot; + Instant.now() ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted.\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Demo start: 2022-09-23T20:46:06.420162Z\nSet the moment to: 2022-09-23T20:46:06.435521Z\nSet the moment to: 2022-09-23T20:46:16.433719Z\nSet the moment to: 2022-09-23T20:46:26.425594Z\nSet the moment to: 2022-09-23T20:46:36.426603Z\nSet the moment to: 2022-09-23T20:46:46.422073Z\nSet the moment to: 2022-09-23T20:46:56.427291Z\nSet the moment to: 2022-09-23T20:47:06.423843Z\nLast recorded moment was: 2022-09-23T20:47:06.423843Z\nDemo end: 2022-09-23T20:47:06.430045Z\n</code></pre>\n"}],"owner":{"account_id":26425362,"reputation":1,"user_id":20072415,"display_name":"Andino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73832832,"answer_count":2,"score":-1,"last_activity_date":1663967411,"creation_date":1663959465,"question_id":73831891,"body_markdown":"I&#39;m learning Java on my own and I&#39;m stuck with the following problem. I scheduled my code to run for every 120 seconds and my issue here is that can&#39;t find the way to update LocalDateTime variable now outside of the run() method. I have a private static class called Date and I&#39;m using this so I&#39;m able to use this variables in other parts of the code that need to use the date at the same time.\r\n\r\n\r\n        public class Test{\r\n                            \r\n                          private static class Date {\r\n\r\n                            //This wont update every 120 seconds\r\n                              private static final LocalDateTime now = LocalDateTime.now();\r\n                              private static final DateTimeFormatter archive = DateTimeFormatter.ofPattern(&quot;yyyy MM dd HH:mm&quot;);\r\n                            \r\n                                }\r\n                            \r\n                     public Test(int seconds)  {\r\n                                    timer = new Timer();\r\n                                    timer.schedule(new APICallerTask(), 0,seconds * 1000L); }\r\n                            \r\n                    static class APICallerTask { \r\n                                      public void run() {\r\n\r\n                         //This will update every 120 seconds\r\n                           LocalDateTime now = LocalDateTime.now();\r\n                           DateTimeFormatter archive = DateTimeFormatter.ofPattern(&quot;yyyy MM dd HH:mm&quot;);}\r\n                 }\r\n            \r\n             public static void main(String[] args)  {\r\n            \r\n                   \r\n                    new Test(120);\r\n                        }\r\n        \r\n          }\r\n\r\n\r\n\r\nI&#39;m sorry if this is a dumb question but I&#39;m not being able to figure it out.\r\n\r\nAny help is appreciated. \r\n\r\nThanks in advance.\r\n\r\n\r\n","title":"How to update LocalDateTime variable while using TimerTask","body":"<p>I'm learning Java on my own and I'm stuck with the following problem. I scheduled my code to run for every 120 seconds and my issue here is that can't find the way to update LocalDateTime variable now outside of the run() method. I have a private static class called Date and I'm using this so I'm able to use this variables in other parts of the code that need to use the date at the same time.</p>\n<pre><code>    public class Test{\n                        \n                      private static class Date {\n\n                        //This wont update every 120 seconds\n                          private static final LocalDateTime now = LocalDateTime.now();\n                          private static final DateTimeFormatter archive = DateTimeFormatter.ofPattern(&quot;yyyy MM dd HH:mm&quot;);\n                        \n                            }\n                        \n                 public Test(int seconds)  {\n                                timer = new Timer();\n                                timer.schedule(new APICallerTask(), 0,seconds * 1000L); }\n                        \n                static class APICallerTask { \n                                  public void run() {\n\n                     //This will update every 120 seconds\n                       LocalDateTime now = LocalDateTime.now();\n                       DateTimeFormatter archive = DateTimeFormatter.ofPattern(&quot;yyyy MM dd HH:mm&quot;);}\n             }\n        \n         public static void main(String[] args)  {\n        \n               \n                new Test(120);\n                    }\n    \n      }\n</code></pre>\n<p>I'm sorry if this is a dumb question but I'm not being able to figure it out.</p>\n<p>Any help is appreciated.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1663965898,"post_id":73832786,"comment_id":130371925,"body_markdown":"First qurestion: Why?  Second question: Does this solve your problem ? https://stackoverflow.com/questions/205573/at-runtime-find-all-classes-in-a-java-application-that-extend-a-base-class","body":"First qurestion: Why?  Second question: Does this solve your problem ? <a href=\"https://stackoverflow.com/questions/205573/at-runtime-find-all-classes-in-a-java-application-that-extend-a-base-class\" title=\"at runtime find all classes in a java application that extend a base class\">stackoverflow.com/questions/205573/&hellip;</a>"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1663965907,"post_id":73832786,"comment_id":130371929,"body_markdown":"Yes, but it&#39;s going to be a very advanced solution involving reflection. Is there a reason all 52 playing cards are of separate class types? It would make far more sense to have one `PlayingCard` class which takes constructor arguments (from enums, perhaps)","body":"Yes, but it&#39;s going to be a very advanced solution involving reflection. Is there a reason all 52 playing cards are of separate class types? It would make far more sense to have one <code>PlayingCard</code> class which takes constructor arguments (from enums, perhaps)"}],"owner":{"account_id":4820583,"reputation":101,"user_id":3891378,"accept_rate":33,"display_name":"Jerms3033"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1663967069,"answer_count":0,"score":0,"last_activity_date":1663967115,"creation_date":1663965662,"question_id":73832786,"body_markdown":"Is it possible to loop through all Java files in a given directory and create a Java Object from each of those files? Assume all files are Classes.\r\n\r\nExample:\r\nAssume I have a directory named &quot;playing_cards&quot;, and each file in this directory correlates with one of the 52 playing cards and they all inherit the same Class: PlayingCard.\r\n\r\n    List&lt;PlayingCard&gt; deck;\r\n    for(File file: playing_cards){\r\n      deck.add(new PlayingCard(file.path()));\r\n    }\r\n\r\n","title":"Create Object from each Java file in a directory","body":"<p>Is it possible to loop through all Java files in a given directory and create a Java Object from each of those files? Assume all files are Classes.</p>\n<p>Example:\nAssume I have a directory named &quot;playing_cards&quot;, and each file in this directory correlates with one of the 52 playing cards and they all inherit the same Class: PlayingCard.</p>\n<pre><code>List&lt;PlayingCard&gt; deck;\nfor(File file: playing_cards){\n  deck.add(new PlayingCard(file.path()));\n}\n</code></pre>\n"},{"tags":["java","spring","project-reactor"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1663708365,"post_id":73792581,"comment_id":130302738,"body_markdown":"`I am wondering if Map&lt;Integer, Mono&lt;List&lt;ReturnedObj&gt;&gt;&gt; is even possible?`. Sure, why not? What do you mean `empty`. Nothing will populate the results until you subscribe to each of the `Monos`. Are you sure you don&#39;t want to fetch the results of the `Monos` and return a `Map&lt;Integer, List&lt;ReturnedObj&gt;&gt;`? Check out `Mono::zip`.","body":"<code>I am wondering if Map&lt;Integer, Mono&lt;List&lt;ReturnedObj&gt;&gt;&gt; is even possible?</code>. Sure, why not? What do you mean <code>empty</code>. Nothing will populate the results until you subscribe to each of the <code>Monos</code>. Are you sure you don&#39;t want to fetch the results of the <code>Monos</code> and return a <code>Map&lt;Integer, List&lt;ReturnedObj&gt;&gt;</code>? Check out <code>Mono::zip</code>."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1663937204,"post_id":73792581,"comment_id":130362740,"body_markdown":"@K.Nicholas is right. Depending on your need, you might want to reverse the logic, to return a `Flux&lt;Tuple2&lt;Integer, List&lt;ReturnedObj&gt;&gt;`. That should make all the pipeline &quot;cold&quot;, meaning that someone consuming the flux will trigger the queries. If, on the contrary, you really want a `Map&lt;Integer, Mono&lt;List&lt;ReturnedObj&gt;&gt;` because you want to process queries eagerly, then cache them, you might want to look at `cache()` and `connect()` operators on Mono. If you&#39;re still struggling, add some more context to your question, then reply to me me in comment. Then I&#39;ll try to post a detailed answer.","body":"@K.Nicholas is right. Depending on your need, you might want to reverse the logic, to return a <code>Flux&lt;Tuple2&lt;Integer, List&lt;ReturnedObj&gt;&gt;</code>. That should make all the pipeline &quot;cold&quot;, meaning that someone consuming the flux will trigger the queries. If, on the contrary, you really want a <code>Map&lt;Integer, Mono&lt;List&lt;ReturnedObj&gt;&gt;</code> because you want to process queries eagerly, then cache them, you might want to look at <code>cache()</code> and <code>connect()</code> operators on Mono. If you&#39;re still struggling, add some more context to your question, then reply to me me in comment. Then I&#39;ll try to post a detailed answer."}],"answers":[{"tags":[],"owner":{"account_id":15177915,"reputation":23,"user_id":10952089,"display_name":"FlackoNeil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663965325,"creation_date":1663965325,"answer_id":73832744,"question_id":73792581,"body_markdown":"Thanks all for the suggestions - I ended up finding a solution that works for me. I ended up making my whole flow reactive (as I should have done from the start) and changed the return type of my method to be Mono&lt;Map&lt;Integer, List&lt;Object&gt;&gt;. I used a `Flux.fromIterable()` with `flatMap()` on the entrySet and collectMap to get the results together into a map. ","title":"How do I return a Mono&lt;List&lt;Object&gt;&gt; into a HashMap?","body":"<p>Thanks all for the suggestions - I ended up finding a solution that works for me. I ended up making my whole flow reactive (as I should have done from the start) and changed the return type of my method to be Mono&lt;Map&lt;Integer, List&gt;. I used a <code>Flux.fromIterable()</code> with <code>flatMap()</code> on the entrySet and collectMap to get the results together into a map.</p>\n"}],"owner":{"account_id":15177915,"reputation":23,"user_id":10952089,"display_name":"FlackoNeil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73832744,"answer_count":1,"score":0,"last_activity_date":1663965325,"creation_date":1663707595,"question_id":73792581,"body_markdown":"I have a hashmap of &lt;Integer, QueryObj&gt; that I need to iterate over and call an external service with. The method signature of my external service is like:\r\n```\r\nprivate Mono&lt;List&lt;ReturnedObj&gt;&gt; fetchList(QueryObj query)\r\n```\r\nand I&#39;ve been able to verify that it&#39;s working and returns a list of what I need. However, I&#39;m unsure of what my next steps should be and what my response type in the parent method should be in order to maintain reactive practices. Basically, I want to transform the `Map&lt;Integer, Query&gt;` into `Map&lt;Integer, Mono&lt;List&lt;ReturnedObj&gt;&gt;`. I am wondering if `Map&lt;Integer, Mono&lt;List&lt;ReturnedObj&gt;&gt;` is even possible? Does it need to be `Mono&lt;Map&lt;K&lt;V&gt;&gt;`?\r\n\r\nHere is the current code snippet - it doesn&#39;t throw an error, but rather returns an empty result. I&#39;m thinking the mix of imperative and reactive programming doesn&#39;t wait for the results of `fetchList()` to populate the response. \r\n```\r\nMap&lt;Integer, QueryObj&gt; queryMap = getQueries(); // setup\r\nreturn queryMap.entrySet()\r\n                    .stream()\r\n                    .collect(Collectors.toMap(\r\n                            e -&gt; e.getKey(), e -&gt; {\r\n                                try {\r\n                                     return fetchList(e.getValue());\r\n                                } catch (Exception ex) {\r\n                                    ex.printStackTrace();\r\n                                }\r\n                                return null;\r\n                            }));\r\n        }\r\n```\r\n\r\nWould greatly appreciate any help! I am fairly new to this.","title":"How do I return a Mono&lt;List&lt;Object&gt;&gt; into a HashMap?","body":"<p>I have a hashmap of &lt;Integer, QueryObj&gt; that I need to iterate over and call an external service with. The method signature of my external service is like:</p>\n<pre><code>private Mono&lt;List&lt;ReturnedObj&gt;&gt; fetchList(QueryObj query)\n</code></pre>\n<p>and I've been able to verify that it's working and returns a list of what I need. However, I'm unsure of what my next steps should be and what my response type in the parent method should be in order to maintain reactive practices. Basically, I want to transform the <code>Map&lt;Integer, Query&gt;</code> into <code>Map&lt;Integer, Mono&lt;List&lt;ReturnedObj&gt;&gt;</code>. I am wondering if <code>Map&lt;Integer, Mono&lt;List&lt;ReturnedObj&gt;&gt;</code> is even possible? Does it need to be <code>Mono&lt;Map&lt;K&lt;V&gt;&gt;</code>?</p>\n<p>Here is the current code snippet - it doesn't throw an error, but rather returns an empty result. I'm thinking the mix of imperative and reactive programming doesn't wait for the results of <code>fetchList()</code> to populate the response.</p>\n<pre><code>Map&lt;Integer, QueryObj&gt; queryMap = getQueries(); // setup\nreturn queryMap.entrySet()\n                    .stream()\n                    .collect(Collectors.toMap(\n                            e -&gt; e.getKey(), e -&gt; {\n                                try {\n                                     return fetchList(e.getValue());\n                                } catch (Exception ex) {\n                                    ex.printStackTrace();\n                                }\n                                return null;\n                            }));\n        }\n</code></pre>\n<p>Would greatly appreciate any help! I am fairly new to this.</p>\n"},{"tags":["java","amazon-web-services","sockets","amazon-ec2","bind"],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663965307,"creation_date":1663964845,"answer_id":73832679,"question_id":73830150,"body_markdown":"In general you would not bind to the IP address directly.  You would instead bind to all interfaces by not specifying a `host`.  In this way you will respond to any incoming connections to the specified port.  If I look at a Wildfly server I have running with Apache HTTPD in front of it I get:\r\n\r\n    $ netstat -na | grep LIST\r\n    tcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN     \r\n    tcp6       0      0 :::80                   :::*                    LISTEN    \r\n\r\nIn my case the Wildfly server is using IPv4 and Apache is using IPv6.  But they are both listening on what is, for IPv4, `0.0.0.0`.  The O/S takes care of the external interface to internal address mapping.\r\n\r\nIf you truly only want to listen for external connections (i.e. you don&#39;t want someone on `localhost` connecting) then run the `ifconfig` command to determine what your &quot;internal&quot; IP is.  For me I get:\r\n\r\n    $ ifconfig -a\r\n    ens5: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 9001\r\n            inet 172.30.1.191  netmask 255.255.255.0  broadcast 172.30.1.255\r\n    \r\n    lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536\r\n            inet 127.0.0.1  netmask 255.0.0.0\r\n\r\nThe `172.30.1.191` address is in a private IP address range (specifically what was called a Class B private network) and is maintained by Amazon.  Listening on the IP that your machine uses will prevent connections from `localhost`.","title":"Cannot Assign requested Address in AWS - JAVA Server Socket","body":"<p>In general you would not bind to the IP address directly.  You would instead bind to all interfaces by not specifying a <code>host</code>.  In this way you will respond to any incoming connections to the specified port.  If I look at a Wildfly server I have running with Apache HTTPD in front of it I get:</p>\n<pre><code>$ netstat -na | grep LIST\ntcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN     \ntcp6       0      0 :::80                   :::*                    LISTEN    \n</code></pre>\n<p>In my case the Wildfly server is using IPv4 and Apache is using IPv6.  But they are both listening on what is, for IPv4, <code>0.0.0.0</code>.  The O/S takes care of the external interface to internal address mapping.</p>\n<p>If you truly only want to listen for external connections (i.e. you don't want someone on <code>localhost</code> connecting) then run the <code>ifconfig</code> command to determine what your &quot;internal&quot; IP is.  For me I get:</p>\n<pre><code>$ ifconfig -a\nens5: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 9001\n        inet 172.30.1.191  netmask 255.255.255.0  broadcast 172.30.1.255\n\nlo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n</code></pre>\n<p>The <code>172.30.1.191</code> address is in a private IP address range (specifically what was called a Class B private network) and is maintained by Amazon.  Listening on the IP that your machine uses will prevent connections from <code>localhost</code>.</p>\n"}],"owner":{"account_id":24165828,"reputation":51,"user_id":18128683,"display_name":"gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73832679,"answer_count":1,"score":0,"last_activity_date":1663965307,"creation_date":1663947787,"question_id":73830150,"body_markdown":"I&#39;m making a call to the `ServerSocket` constructor with the following parameters.\r\n\r\n`ServerSocket ss = new ServerSocket(0, num, host);`\r\n\r\nThe values of the variable are:\r\n`num=5 &amp;\r\nhost=/56.224.235.106`\r\n\r\nAnd 56.224.235.106 is the IP adress of the machine the code resides on.\r\n\r\nThis line is causing the exception following exception:\r\n`Error : java.net.BindException: Cannot assign requested address\r\njava.net.BindException: Cannot assign requested address`\r\n\r\nBTW, This is an AWS instance where I&#39;m hosting 2 instances. I have one client and a server instance and there are 2 separate security groups for these instances where I have allowed TCP traffic from any iPV4 addresses.\r\n\r\nHow can I resolve this, is there an issue with my code or does my security group setting needs some change.\r\n","title":"Cannot Assign requested Address in AWS - JAVA Server Socket","body":"<p>I'm making a call to the <code>ServerSocket</code> constructor with the following parameters.</p>\n<p><code>ServerSocket ss = new ServerSocket(0, num, host);</code></p>\n<p>The values of the variable are:\n<code>num=5 &amp; host=/56.224.235.106</code></p>\n<p>And 56.224.235.106 is the IP adress of the machine the code resides on.</p>\n<p>This line is causing the exception following exception:\n<code>Error : java.net.BindException: Cannot assign requested address java.net.BindException: Cannot assign requested address</code></p>\n<p>BTW, This is an AWS instance where I'm hosting 2 instances. I have one client and a server instance and there are 2 separate security groups for these instances where I have allowed TCP traffic from any iPV4 addresses.</p>\n<p>How can I resolve this, is there an issue with my code or does my security group setting needs some change.</p>\n"},{"tags":["java","transactions","gremlin","amazon-neptune","tinkerpop3"],"comments":[{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1663965366,"post_id":73786775,"comment_id":130371813,"body_markdown":"Is this question about https://github.com/microsoft/spring-data-gremlin? If so I see there is a note on that project that it has been deprecated. https://github.com/microsoft/spring-data-gremlin","body":"Is this question about <a href=\"https://github.com/microsoft/spring-data-gremlin\" rel=\"nofollow noreferrer\">github.com/microsoft/spring-data-gremlin</a>? If so I see there is a note on that project that it has been deprecated. <a href=\"https://github.com/microsoft/spring-data-gremlin\" rel=\"nofollow noreferrer\">github.com/microsoft/spring-data-gremlin</a>"},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1663994301,"post_id":73786775,"comment_id":130375206,"body_markdown":"YES, but it&#39;s deprecated as you mentioned. If we have an active repo and It will be must easier for the development in spring boot.  If there is any plan to fork by Gremlin-community, please mention here. I would like to contribute.","body":"YES, but it&#39;s deprecated as you mentioned. If we have an active repo and It will be must easier for the development in spring boot.  If there is any plan to fork by Gremlin-community, please mention here. I would like to contribute."},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1664064039,"post_id":73786775,"comment_id":130386184,"body_markdown":"Perhaps ask in either the TinkerPop Discord or on the Gremlin Users e-mail list. I am not aware of any such plans, but you may find other folks are interested.","body":"Perhaps ask in either the TinkerPop Discord or on the Gremlin Users e-mail list. I am not aware of any such plans, but you may find other folks are interested."}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663965288,"creation_date":1663677186,"question_id":73786775,"body_markdown":"Is there any @Transaction for  Gremlin in Spring Boot to handle commit and rollback?\r\nNormal transaction handles dirty read?","title":"Is there any annotation for Gremlin Spring Boot for transactions?","body":"<p>Is there any @Transaction for  Gremlin in Spring Boot to handle commit and rollback?\nNormal transaction handles dirty read?</p>\n"},{"tags":["java","hibernate","quarkus","audit"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611238155,"creation_date":1611238155,"answer_id":65829186,"question_id":65826743,"body_markdown":"For auditing, your best bet right now is to use the Hibernate Envers extension.\r\n\r\nI don&#39;t think you can register interceptors right now without developing a Quarkus extension.","title":"Is there a way of registering Hibernate Interceptor with Quarkus?","body":"<p>For auditing, your best bet right now is to use the Hibernate Envers extension.</p>\n<p>I don't think you can register interceptors right now without developing a Quarkus extension.</p>\n"},{"tags":[],"owner":{"account_id":12666690,"reputation":197,"user_id":9205714,"display_name":"Viktor Korai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663965061,"creation_date":1663965061,"answer_id":73832701,"question_id":65826743,"body_markdown":"I&#39;m not sure if it is still a question, but you have to use io.quarkus.hibernate.orm.PersistenceUnitExtension annotation to register your interceptor. \r\n\r\nIt is included in the quarkus hibernate orm dependency\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nFor me, it works like a charm\r\n\r\n    @PersistenceUnitExtension\r\n\t@Slf4j\r\n\tpublic class EntityLoggerInterceptor extends EmptyInterceptor {\r\n\r\n\t\tprivate final static AuditedEntity NO_ANNOTATION = new NoAnnotation();\r\n\t\tprivate final ThreadLocal&lt;Set&lt;LogRecord&gt;&gt; savedRecords = ThreadLocal.withInitial(HashSet::new);\r\n\t\tprivate final ConcurrentMap&lt;Class&lt;?&gt;, AuditedEntity&gt; auditedCache = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\t\t@Inject\r\n\t\tSecurityService securityService;\r\n\r\n\t\t@Override\r\n\t\tpublic boolean onSave(Object entity, Serializable id, Object[] state, String[] propertyNames, Type[] types) {\r\n\t\t\tAuditedEntity auditConfig = getAuditConfig(entity.getClass());\r\n\t\t\tif (auditConfig != null) {\r\n\t\t\t\tList&lt;FieldData&gt; fieldData = getEntityFieldDataStream(auditConfig.isIgnoreFieldsInConsoleByDefault(), auditConfig.isIgnoreFieldsInDatabaseByDefault(), entity, null, state, propertyNames, types)\r\n\t\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t\t\tif (auditConfig.isAuditInConsole()) {\r\n\t\t\t\t\tcreateLogConsoleEntry(entity, (UUID) id, EventType.ENTITY_CREATED, fieldData.stream().filter(FieldData::isAuditInConsole).collect(Collectors.toList()));\r\n\t\t\t\t}\r\n\t\t\t\tif (auditConfig.isAuditInDatabase()) {\r\n\t\t\t\t\tcreateLogRecord(entity, (UUID) id, EventType.ENTITY_CREATED, fieldData.stream().filter(FieldData::isAuditInDatabase).collect(Collectors.toList()));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t....\r\n\t}","title":"Is there a way of registering Hibernate Interceptor with Quarkus?","body":"<p>I'm not sure if it is still a question, but you have to use io.quarkus.hibernate.orm.PersistenceUnitExtension annotation to register your interceptor.</p>\n<p>It is included in the quarkus hibernate orm dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For me, it works like a charm</p>\n<pre><code>@PersistenceUnitExtension\n@Slf4j\npublic class EntityLoggerInterceptor extends EmptyInterceptor {\n\n    private final static AuditedEntity NO_ANNOTATION = new NoAnnotation();\n    private final ThreadLocal&lt;Set&lt;LogRecord&gt;&gt; savedRecords = ThreadLocal.withInitial(HashSet::new);\n    private final ConcurrentMap&lt;Class&lt;?&gt;, AuditedEntity&gt; auditedCache = new ConcurrentHashMap&lt;&gt;();\n\n    @Inject\n    SecurityService securityService;\n\n    @Override\n    public boolean onSave(Object entity, Serializable id, Object[] state, String[] propertyNames, Type[] types) {\n        AuditedEntity auditConfig = getAuditConfig(entity.getClass());\n        if (auditConfig != null) {\n            List&lt;FieldData&gt; fieldData = getEntityFieldDataStream(auditConfig.isIgnoreFieldsInConsoleByDefault(), auditConfig.isIgnoreFieldsInDatabaseByDefault(), entity, null, state, propertyNames, types)\n                    .collect(Collectors.toList());\n            if (auditConfig.isAuditInConsole()) {\n                createLogConsoleEntry(entity, (UUID) id, EventType.ENTITY_CREATED, fieldData.stream().filter(FieldData::isAuditInConsole).collect(Collectors.toList()));\n            }\n            if (auditConfig.isAuditInDatabase()) {\n                createLogRecord(entity, (UUID) id, EventType.ENTITY_CREATED, fieldData.stream().filter(FieldData::isAuditInDatabase).collect(Collectors.toList()));\n            }\n        }\n        return false;\n    }\n....\n}\n</code></pre>\n"}],"owner":{"account_id":3372543,"reputation":11,"user_id":2831450,"display_name":"CasMeiron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663965061,"creation_date":1611229551,"question_id":65826743,"body_markdown":"I would like to use Hibernate Interceptor to get the changes that will be propagated to database so I can create some sort of Audit (with old and new values).\r\n\r\nHibernate offer the capability through Interceptor as mentioned here: https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch14.html\r\n\r\nHow can I register this interceptor (globally, for all sessions) using Quarkus?\r\n\r\nThanks!","title":"Is there a way of registering Hibernate Interceptor with Quarkus?","body":"<p>I would like to use Hibernate Interceptor to get the changes that will be propagated to database so I can create some sort of Audit (with old and new values).</p>\n<p>Hibernate offer the capability through Interceptor as mentioned here: <a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch14.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch14.html</a></p>\n<p>How can I register this interceptor (globally, for all sessions) using Quarkus?</p>\n<p>Thanks!</p>\n"},{"tags":["java","gremlin","tinkerpop","amazon-neptune","tinkerpop3"],"comments":[{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1663888776,"post_id":73818603,"comment_id":130351619,"body_markdown":"I&#39;m not sure I follow what the &quot;Void&quot; and `randomUUID`  IDs are being used for. I think you can do this all in one query using either (a) a `path` step with several `by` modulators, or (b) a `choose` step.  You should not need to keep doing `V(2)`. A third option is just to use `union`. As time allows I&#39;ll try to create an example.","body":"I&#39;m not sure I follow what the &quot;Void&quot; and <code>randomUUID</code>  IDs are being used for. I think you can do this all in one query using either (a) a <code>path</code> step with several <code>by</code> modulators, or (b) a <code>choose</code> step.  You should not need to keep doing <code>V(2)</code>. A third option is just to use <code>union</code>. As time allows I&#39;ll try to create an example."},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1663946066,"post_id":73818603,"comment_id":130366380,"body_markdown":"Looking at this some more, is `V(2)` the `School` node?","body":"Looking at this some more, is <code>V(2)</code> the <code>School</code> node?"},{"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"score":0,"creation_date":1663949478,"post_id":73818603,"comment_id":130367654,"body_markdown":"Yes, it is the School node, and I think I should have written that out as a String. Apologies.","body":"Yes, it is the School node, and I think I should have written that out as a String. Apologies."},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1663964628,"post_id":73818603,"comment_id":130371641,"body_markdown":"Thanks, I added an answer below that I think simplifies things quite a bit.","body":"Thanks, I added an answer below that I think simplifies things quite a bit."}],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663964602,"creation_date":1663946563,"answer_id":73829930,"question_id":73818603,"body_markdown":"Assuming that `V(2)` is the &quot;School&quot; node, then using a `union` you can retrieve the structure as follows. Having got this structure you can of course format the results any way you wish. For this example initially, I just chose to show the labels.\r\n\r\n```\r\ngremlin&gt;    g.V().hasLabel(&#39;School&#39;).\r\n......1&gt;          union(  out(&#39;offers&#39;).out(&#39;has&#39;),\r\n......2&gt;                __.in(&#39;attends&#39;),\r\n......3&gt;                __.in(&#39;administers&#39;)).\r\n......4&gt;          path().by(label) \r\n   \r\n==&gt;[School,Activity,Sport]\r\n==&gt;[School,Student]\r\n==&gt;[School,Admin]   \r\n```\r\n\r\nusing this basic query structure, we can now easily produce a version of the output used in the question:\r\n\r\n```java\r\ngremlin&gt;    g.V().hasLabel(&#39;School&#39;).\r\n......1&gt;          union(  out(&#39;offers&#39;).out(&#39;has&#39;).valueMap(&#39;name&#39;).by(unfold()),\r\n......2&gt;                __.in(&#39;attends&#39;).valueMap(&#39;studentId&#39;).by(unfold()),\r\n......3&gt;                __.in(&#39;administers&#39;).valueMap(&#39;adminId&#39;,&#39;area&#39;).by(unfold())).\r\n......4&gt;          fold() \r\n\r\n==&gt;[[name:Soccer],[studentId:123456s],[area:LOCAL,adminId:12345]]   \r\n```\r\n\r\nIf you prefer a fully flattened map, we can do:\r\n\r\n```java\r\ngremlin&gt;    g.V().hasLabel(&#39;School&#39;).\r\n......1&gt;          union(  out(&#39;offers&#39;).out(&#39;has&#39;).valueMap(&#39;name&#39;).by(unfold()),\r\n......2&gt;                __.in(&#39;attends&#39;).valueMap(&#39;studentId&#39;).by(unfold()),\r\n......3&gt;                __.in(&#39;administers&#39;).valueMap(&#39;adminId&#39;,&#39;area&#39;).by(unfold())).\r\n......4&gt;          unfold().fold() \r\n \r\n==&gt;[name=Soccer,studentId=123456s,area=LOCAL,adminId=12345]   \r\n```","title":"TinkerPop - Retrieving values from multiple vertices give strange output","body":"<p>Assuming that <code>V(2)</code> is the &quot;School&quot; node, then using a <code>union</code> you can retrieve the structure as follows. Having got this structure you can of course format the results any way you wish. For this example initially, I just chose to show the labels.</p>\n<pre><code>gremlin&gt;    g.V().hasLabel('School').\n......1&gt;          union(  out('offers').out('has'),\n......2&gt;                __.in('attends'),\n......3&gt;                __.in('administers')).\n......4&gt;          path().by(label) \n   \n==&gt;[School,Activity,Sport]\n==&gt;[School,Student]\n==&gt;[School,Admin]   \n</code></pre>\n<p>using this basic query structure, we can now easily produce a version of the output used in the question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>gremlin&gt;    g.V().hasLabel('School').\n......1&gt;          union(  out('offers').out('has').valueMap('name').by(unfold()),\n......2&gt;                __.in('attends').valueMap('studentId').by(unfold()),\n......3&gt;                __.in('administers').valueMap('adminId','area').by(unfold())).\n......4&gt;          fold() \n\n==&gt;[[name:Soccer],[studentId:123456s],[area:LOCAL,adminId:12345]]   \n</code></pre>\n<p>If you prefer a fully flattened map, we can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>gremlin&gt;    g.V().hasLabel('School').\n......1&gt;          union(  out('offers').out('has').valueMap('name').by(unfold()),\n......2&gt;                __.in('attends').valueMap('studentId').by(unfold()),\n......3&gt;                __.in('administers').valueMap('adminId','area').by(unfold())).\n......4&gt;          unfold().fold() \n \n==&gt;[name=Soccer,studentId=123456s,area=LOCAL,adminId=12345]   \n</code></pre>\n"}],"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73829930,"answer_count":1,"score":2,"last_activity_date":1663964602,"creation_date":1663867583,"question_id":73818603,"body_markdown":"I have been working on trying to retrieve different values from different vertices from one starting point in my graph (I have a few other related posts, but I have worked out most of my issues). I am using TinkerPop with Neptune DB.\r\n\r\nI am able to successfully query for different values from different nodes in the graph, but my output is odd and I am not sure how to parse it properly. Here is a sample output:\r\n\r\n```\r\nvar: {{{{name=[Soccer]}=1}=1, {{studentId=[123456s]}=1, {}=1}=1, {{adminId=[12345], area=[LOCAL]}=1}=1}=1}\r\n```\r\n\r\nI am using this to output it in my Java app:\r\n\r\n```\r\nBulkSet&lt;Object&gt; var = t.cap(&quot;primary&quot;).toBulkSet();\r\nSystem.out.println(&quot;var: &quot; + var);\r\n```\r\n\r\nThe way I am getting the values is (simplified):\r\n\r\n1) From starting point, go to first node that contains values needed. Store those values with `.aggregate(&quot;a&quot;)`. In my sample output, it started at the School vertex and then went to the Student vertex and got the values.\r\n\r\n2) Start at starting point again, and go to next node that contains more values needed. Store those values with another `.aggregate(&quot;b&quot;)` (with a different list name). In my sample output, it started back at the School vertex and then went to the Admin vertex.\r\n\r\n3) Repeat step 2 until we traverse to all nodes containing the different values we need. In my sample output, it started again at the School vertex, and then went to the Sport vertex.\r\n\r\n4) Collect all stored lists into one &quot;primary&quot; list with `.aggregate(&quot;primary&quot;)`.\r\n\r\n5) Get results with `.cap(&quot;primary&quot;).toBulkSet`\r\n\r\nIt might not be the best method, but I have gotten it to actually go to each node and get the results I need, so unless I can find a better way to go out to all nodes at once (?)...basically performing steps 3 and 4 all in step 2? But I am unsure how to do that.\r\n\r\nAnyways, I am also having some issues setting up an example graph query, but here is a sample graph:\r\n```\r\ng.addV(&#39;Admin&#39;).as(&#39;1&#39;).\r\n  property(single, &#39;adminId&#39;, 12345).\r\n  property(single, &#39;active&#39;, true).\r\n  property(single, &#39;area&#39;, &#39;LOCAL&#39;).\r\n  addV(&#39;School&#39;).as(&#39;2&#39;).\r\n  property(single, &#39;name&#39;, &#39;Jefferson&#39;).\r\n  property(single, &#39;address&#39;, &#39;1234 Road Way&#39;).\r\n  addV(&#39;Class&#39;).as(&#39;3&#39;).\r\n  property(single, &#39;name&#39;, &#39;Math&#39;).\r\n  property(single, &#39;location&#39;, &#39;UP2&#39;).\r\n  property(single, &#39;level&#39;, 2).addV(&#39;Req&#39;).\r\n    as(&#39;4&#39;).\r\n  property(single, &#39;name&#39;, &#39;Math1&#39;).\r\n  property(single, &#39;level&#39;, 1).\r\n  property(single, &#39;completed&#39;, true).\r\n  addV(&#39;Student&#39;).as(&#39;5&#39;).\r\n  property(single, &#39;name&#39;, &#39;Matt&#39;).\r\n  property(single, &#39;age&#39;, 22).\r\n  property(single, &#39;address&#39;, &#39;2468 Appreciate Way&#39;).\r\n  property(single, &#39;classLevel&#39;, 2).\r\n  property(single, &#39;studentId&#39;, &#39;123456s&#39;).\r\n  addV(&#39;Activity&#39;).as(&#39;6&#39;).\r\n  property(single, &#39;name&#39;, &#39;ExtraCur&#39;).\r\n  property(single, &#39;groupId&#39;, 1422).\r\n  property(single, &#39;offered&#39;, true).\r\n  addV(&#39;Sport&#39;).as(&#39;7&#39;).\r\n  property(single, &#39;name&#39;, &#39;Soccer&#39;).\r\n  property(single, &#39;level&#39;, 2).\r\n  addE(&#39;administers&#39;).from(&#39;1&#39;).to(&#39;2&#39;).\r\n  addE(&#39;offers&#39;).from(&#39;2&#39;).to(&#39;3&#39;).\r\n  addE(&#39;requirementFor&#39;).from(&#39;4&#39;).to(&#39;3&#39;).\r\n  addE(&#39;attends&#39;).from(&#39;5&#39;).to(&#39;2&#39;).addE(&#39;has&#39;).\r\n  from(&#39;6&#39;).to(&#39;7&#39;).addE(&#39;offers&#39;).from(&#39;2&#39;).\r\n  to(&#39;6&#39;)\r\n```\r\n\r\nI am pretty much trying to go to different vertices depending on the request fields from a specified starting point.\r\n\r\nIf I output my traversal, it looks like this:\r\n```\r\nt: [TinkerGraphStep(vertex,[Void]), FoldStep, TinkerGraphStep(vertex,[{randomized_UUID}]), FoldStep, TinkerGraphStep(vertex,[2]), NoOpBarrierStep(2500), VertexStep(OUT,[offers],vertex), NoOpBarrierStep(2500), VertexStep(OUT,[has],vertex), AggregateGlobalStep(Sport,[PropertyMapStep([name],value)]), TinkerGraphStep(vertex,[{randomized_UUID}]), FoldStep, TinkerGraphStep(vertex,[2]), NoOpBarrierStep(2500), VertexStep(IN,[attends],vertex), AggregateGlobalStep(Student,[PropertyMapStep([studentId],value)]), TinkerGraphStep(vertex,[{randomized_UUID]), FoldStep, TinkerGraphStep(vertex,[2]), NoOpBarrierStep(2500), VertexStep(IN,[administers],vertex), AggregateGlobalStep(Admin,[PropertyMapStep([adminId, area],value)]), AggregateGlobalStep(primary,[SideEffectCapStep([Sport])]), AggregateGlobalStep(primary,[SideEffectCapStep([Student])]), AggregateGlobalStep(primary,[SideEffectCapStep([Admin])]), SideEffectCapStep([primary])]\r\n```\r\nIf I were to write out the actual traversal, it would look like this:\r\n```\r\ng.V(&quot;Void&quot;).fold(). // we set this up start the traversal\r\n   V(UUID.randomUUID().toString()).fold().   // random UUID used to prevent accidental `.V().V()`\r\n   V(2).out(&quot;offers&quot;).out(&quot;has&quot;).            // traverse to Sport node to get fields\r\n   aggregate(&quot;Sport&quot;).by(valueMap([name]).   // Store Sport field in list\r\n   V(UUID.randomUUID().toString()).fold().   // go back to start\r\n   V(2).in(&quot;attends&quot;).                       // traverse to Student node to get fields\r\n   aggregate(&quot;Student&quot;).by(valueMap([studentId]).  // Store Student fields in new list\r\n   V(UUID.randomUUID().toString()).fold().   // go back to start\r\n   V(2).in(&quot;administers&quot;).                   // traverse to Admin node to get fields\r\n   aggregate(&quot;Admin&quot;).by(valueMap([adminId, area]).  // Store Admin fields in new list\r\n   aggregate(&quot;primary&quot;).by(cap(&quot;Sport&quot;)).    // start combining all lists into one\r\n   aggregate(&quot;primary&quot;).by(cap(&quot;Student&quot;)).  // combine next list into primary\r\n   aggregate(&quot;primary&quot;).by(cap(&quot;Admin&quot;)).    // combine last list into primary\r\n   cap(&quot;primary&quot;).toBulkSet()                // cap primary list and put in BulkSet variable\r\n```\r\n\r\nAnyways, it might not be the cleanest, but I am able to get the field names and values I want. I am just not sure how to parse the result into something simple. When I use `var.get(&quot;studentId&quot;)` it returns just `0`.\r\n\r\nThanks in advance!","title":"TinkerPop - Retrieving values from multiple vertices give strange output","body":"<p>I have been working on trying to retrieve different values from different vertices from one starting point in my graph (I have a few other related posts, but I have worked out most of my issues). I am using TinkerPop with Neptune DB.</p>\n<p>I am able to successfully query for different values from different nodes in the graph, but my output is odd and I am not sure how to parse it properly. Here is a sample output:</p>\n<pre><code>var: {{{{name=[Soccer]}=1}=1, {{studentId=[123456s]}=1, {}=1}=1, {{adminId=[12345], area=[LOCAL]}=1}=1}=1}\n</code></pre>\n<p>I am using this to output it in my Java app:</p>\n<pre><code>BulkSet&lt;Object&gt; var = t.cap(&quot;primary&quot;).toBulkSet();\nSystem.out.println(&quot;var: &quot; + var);\n</code></pre>\n<p>The way I am getting the values is (simplified):</p>\n<ol>\n<li><p>From starting point, go to first node that contains values needed. Store those values with <code>.aggregate(&quot;a&quot;)</code>. In my sample output, it started at the School vertex and then went to the Student vertex and got the values.</p>\n</li>\n<li><p>Start at starting point again, and go to next node that contains more values needed. Store those values with another <code>.aggregate(&quot;b&quot;)</code> (with a different list name). In my sample output, it started back at the School vertex and then went to the Admin vertex.</p>\n</li>\n<li><p>Repeat step 2 until we traverse to all nodes containing the different values we need. In my sample output, it started again at the School vertex, and then went to the Sport vertex.</p>\n</li>\n<li><p>Collect all stored lists into one &quot;primary&quot; list with <code>.aggregate(&quot;primary&quot;)</code>.</p>\n</li>\n<li><p>Get results with <code>.cap(&quot;primary&quot;).toBulkSet</code></p>\n</li>\n</ol>\n<p>It might not be the best method, but I have gotten it to actually go to each node and get the results I need, so unless I can find a better way to go out to all nodes at once (?)...basically performing steps 3 and 4 all in step 2? But I am unsure how to do that.</p>\n<p>Anyways, I am also having some issues setting up an example graph query, but here is a sample graph:</p>\n<pre><code>g.addV('Admin').as('1').\n  property(single, 'adminId', 12345).\n  property(single, 'active', true).\n  property(single, 'area', 'LOCAL').\n  addV('School').as('2').\n  property(single, 'name', 'Jefferson').\n  property(single, 'address', '1234 Road Way').\n  addV('Class').as('3').\n  property(single, 'name', 'Math').\n  property(single, 'location', 'UP2').\n  property(single, 'level', 2).addV('Req').\n    as('4').\n  property(single, 'name', 'Math1').\n  property(single, 'level', 1).\n  property(single, 'completed', true).\n  addV('Student').as('5').\n  property(single, 'name', 'Matt').\n  property(single, 'age', 22).\n  property(single, 'address', '2468 Appreciate Way').\n  property(single, 'classLevel', 2).\n  property(single, 'studentId', '123456s').\n  addV('Activity').as('6').\n  property(single, 'name', 'ExtraCur').\n  property(single, 'groupId', 1422).\n  property(single, 'offered', true).\n  addV('Sport').as('7').\n  property(single, 'name', 'Soccer').\n  property(single, 'level', 2).\n  addE('administers').from('1').to('2').\n  addE('offers').from('2').to('3').\n  addE('requirementFor').from('4').to('3').\n  addE('attends').from('5').to('2').addE('has').\n  from('6').to('7').addE('offers').from('2').\n  to('6')\n</code></pre>\n<p>I am pretty much trying to go to different vertices depending on the request fields from a specified starting point.</p>\n<p>If I output my traversal, it looks like this:</p>\n<pre><code>t: [TinkerGraphStep(vertex,[Void]), FoldStep, TinkerGraphStep(vertex,[{randomized_UUID}]), FoldStep, TinkerGraphStep(vertex,[2]), NoOpBarrierStep(2500), VertexStep(OUT,[offers],vertex), NoOpBarrierStep(2500), VertexStep(OUT,[has],vertex), AggregateGlobalStep(Sport,[PropertyMapStep([name],value)]), TinkerGraphStep(vertex,[{randomized_UUID}]), FoldStep, TinkerGraphStep(vertex,[2]), NoOpBarrierStep(2500), VertexStep(IN,[attends],vertex), AggregateGlobalStep(Student,[PropertyMapStep([studentId],value)]), TinkerGraphStep(vertex,[{randomized_UUID]), FoldStep, TinkerGraphStep(vertex,[2]), NoOpBarrierStep(2500), VertexStep(IN,[administers],vertex), AggregateGlobalStep(Admin,[PropertyMapStep([adminId, area],value)]), AggregateGlobalStep(primary,[SideEffectCapStep([Sport])]), AggregateGlobalStep(primary,[SideEffectCapStep([Student])]), AggregateGlobalStep(primary,[SideEffectCapStep([Admin])]), SideEffectCapStep([primary])]\n</code></pre>\n<p>If I were to write out the actual traversal, it would look like this:</p>\n<pre><code>g.V(&quot;Void&quot;).fold(). // we set this up start the traversal\n   V(UUID.randomUUID().toString()).fold().   // random UUID used to prevent accidental `.V().V()`\n   V(2).out(&quot;offers&quot;).out(&quot;has&quot;).            // traverse to Sport node to get fields\n   aggregate(&quot;Sport&quot;).by(valueMap([name]).   // Store Sport field in list\n   V(UUID.randomUUID().toString()).fold().   // go back to start\n   V(2).in(&quot;attends&quot;).                       // traverse to Student node to get fields\n   aggregate(&quot;Student&quot;).by(valueMap([studentId]).  // Store Student fields in new list\n   V(UUID.randomUUID().toString()).fold().   // go back to start\n   V(2).in(&quot;administers&quot;).                   // traverse to Admin node to get fields\n   aggregate(&quot;Admin&quot;).by(valueMap([adminId, area]).  // Store Admin fields in new list\n   aggregate(&quot;primary&quot;).by(cap(&quot;Sport&quot;)).    // start combining all lists into one\n   aggregate(&quot;primary&quot;).by(cap(&quot;Student&quot;)).  // combine next list into primary\n   aggregate(&quot;primary&quot;).by(cap(&quot;Admin&quot;)).    // combine last list into primary\n   cap(&quot;primary&quot;).toBulkSet()                // cap primary list and put in BulkSet variable\n</code></pre>\n<p>Anyways, it might not be the cleanest, but I am able to get the field names and values I want. I am just not sure how to parse the result into something simple. When I use <code>var.get(&quot;studentId&quot;)</code> it returns just <code>0</code>.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","linux","memory","docker","jvm"],"comments":[{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1469579193,"post_id":38597965,"comment_id":64591439,"body_markdown":"Possible duplicate of [Why does a JVM report more committed memory than the linux process resident set size?](http://stackoverflow.com/questions/31173374/why-does-a-jvm-report-more-committed-memory-than-the-linux-process-resident-set) ... well, an inverse thereof.","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/31173374/why-does-a-jvm-report-more-committed-memory-than-the-linux-process-resident-set\">Why does a JVM report more committed memory than the linux process resident set size?</a> ... well, an inverse thereof."},{"owner":{"account_id":196153,"reputation":4695,"user_id":439450,"accept_rate":79,"display_name":"Michael"},"score":0,"creation_date":1469790603,"post_id":38597965,"comment_id":64695695,"body_markdown":"I have the same problem and kind find the answers :( What kind of application do you have?","body":"I have the same problem and kind find the answers :( What kind of application do you have?"},{"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1469795607,"post_id":38597965,"comment_id":64698745,"body_markdown":"Did you find the answer to your previous question (http://stackoverflow.com/a/38630406/6309) satisfactory?","body":"Did you find the answer to your previous question (<a href=\"http://stackoverflow.com/a/38630406/6309\">stackoverflow.com/a/38630406/6309</a>) satisfactory?"},{"owner":{"account_id":363106,"reputation":2483,"user_id":706650,"accept_rate":56,"display_name":"mabn"},"score":2,"creation_date":1470355035,"post_id":38597965,"comment_id":64929518,"body_markdown":"@sunsin1985 you might try to change malloc implementation to jemalloc, i&#39;ve seen RSS decrease significantly after that. See https://gdstechnology.blog.gov.uk/2015/12/11/using-jemalloc-to-get-to-the-bottom-of-a-memory-leak/\n\nI have an application running with 600MB heap and 1.3GB RSS - I didn&#39;t investigate that closely yet, but the memory is simply missing - there is no significant native memory allocated. I suspect that this is due to memory fragmentation (and that&#39;s why jemalloc helps)","body":"@sunsin1985 you might try to change malloc implementation to jemalloc, i&#39;ve seen RSS decrease significantly after that. See <a href=\"https://gdstechnology.blog.gov.uk/2015/12/11/using-jemalloc-to-get-to-the-bottom-of-a-memory-leak/\" rel=\"nofollow noreferrer\">gdstechnology.blog.gov.uk/2015/12/11/&hellip;</a>  I have an application running with 600MB heap and 1.3GB RSS - I didn&#39;t investigate that closely yet, but the memory is simply missing - there is no significant native memory allocated. I suspect that this is due to memory fragmentation (and that&#39;s why jemalloc helps)"},{"owner":{"account_id":55444,"reputation":5230,"user_id":166062,"display_name":"Lari Hotari"},"score":0,"creation_date":1473241243,"post_id":38597965,"comment_id":66061147,"body_markdown":"If you are tracking Java native memory leaks or would like to minimize RSS usage, there is this question with answers: http://stackoverflow.com/questions/26041117/growing-resident-memory-usage-rss-of-java-process/35610063","body":"If you are tracking Java native memory leaks or would like to minimize RSS usage, there is this question with answers: <a href=\"http://stackoverflow.com/questions/26041117/growing-resident-memory-usage-rss-of-java-process/35610063\" title=\"growing resident memory usage rss of java process\">stackoverflow.com/questions/26041117/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":1,"up_vote_count":65,"is_accepted":true,"score":64,"last_activity_date":1558648645,"creation_date":1469858721,"answer_id":38670876,"question_id":38597965,"body_markdown":"You have some clue in &quot;[\r\nAnalyzing java memory usage in a Docker container][1]&quot; from [Mikhail Krestjaninoff][2]:\r\n\r\n(And to be clear, in May 2019, three years later, [the **situation does improves** with openJDK 8u212][3] )\r\n\r\n&gt; **R**esident **S**et **S**ize is the amount of physical memory currently allocated and used by a process (without swapped out pages). It includes the code, data and shared libraries (which are counted in every process which uses them)\r\n\r\n&gt; Why does docker stats info differ from the ps data?\r\n\r\n&gt; Answer for the first question is very simple - [Docker has a bug (or a feature - depends on your mood)][4]: it includes file caches into the total memory usage info. So, we can just avoid this metric and use `ps` info about RSS.\r\n\r\n&gt; Well, ok - but **why is RSS higher than Xmx?** \r\n\r\n&gt; Theoretically, in case of a java application\r\n\r\n    RSS = Heap size + MetaSpace + OffHeap size\r\n\r\n&gt; where OffHeap consists of thread stacks, direct buffers, mapped files (libraries and jars) and JVM code itse\r\n\r\n&gt; Since [JDK 1.8.40][5] we have **[Native Memory Tracker][6]**!\r\n\r\n&gt; As you can see, I’ve already added `-XX:NativeMemoryTracking=summary` property to the JVM, so we can just invoke it from the command line:\r\n\r\n    docker exec my-app jcmd 1 VM.native_memory summary\r\n\r\n(This is what the OP did)\r\n\r\n&gt;  Don’t worry about the “Unknown” section - seems that NMT is an immature tool and can’t deal with CMS GC (this section disappears when you use an another GC).\r\n\r\n&gt; Keep in mind, **that NMT displays “committed” memory, not &quot;resident&quot; (which you get through the ps command). In other words, a memory page can be committed without considering as a resident (until it directly accessed)**.  \r\n\r\n&gt; **That means that NMT results for non-heap areas (heap is always preinitialized) might be bigger than RSS values**.\r\n\r\n(that is where &quot;[Why does a JVM report more committed memory than the linux process resident set size?][7]&quot; comes in)\r\n\r\n&gt; As a result, despite the fact that we set the jvm heap limit to 256m, our application consumes 367M. The “other” 164M are mostly used for storing class metadata, compiled code, threads and GC data. \r\n\r\n&gt; First three points are often constants for an application, so the only thing which increases with the heap size is GC data.  \r\nThis dependency is linear, but the “`k`” coefficient (`y = kx + b`) is much less then 1.\r\n\r\n-----\r\n\r\nMore generally, this seems to be followed by [issue 15020][8] which reports a similar issue since docker 1.7\r\n\r\n&gt; I&#39;m running a simple Scala (JVM) application which loads a lot of data into and out of memory.  \r\nI set the JVM to 8G heap (`-Xmx8G`). I have a machine with 132G memory, and it can&#39;t handle more than 7-8 containers because they grow well past the 8G limit I imposed on the JVM.\r\n\r\n([`docker stat`][9] was [reported as misleading before][10], as it apparently includes file caches into the total memory usage info)\r\n\r\n&gt; [`docker stat`][9] shows that each container itself is using much more memory than the JVM is supposed to be using. For instance:\r\n\r\n    CONTAINER CPU % MEM USAGE/LIMIT MEM % NET I/O\r\n    dave-1 3.55% 10.61 GB/135.3 GB 7.85% 7.132 MB/959.9 MB\r\n    perf-1 3.63% 16.51 GB/135.3 GB 12.21% 30.71 MB/5.115 GB\r\n\r\n&gt; **It almost seems that the JVM is asking the OS for memory, which is allocated within the container, and the JVM is freeing memory as its GC runs, but the container doesn&#39;t release the memory back to the main OS.   So... memory leak.**\r\n\r\n\r\n  [1]: http://trustmeiamadeveloper.com/2016/03/18/where-is-my-memory-java/\r\n  [2]: https://github.com/krestjaninoff\r\n  [3]: https://stackoverflow.com/a/56153528/6309\r\n  [4]: https://github.com/docker/docker/issues/10824\r\n  [5]: https://docs.oracle.com/javase/8/docs/technotes/guides/vm/enhancements-8.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html\r\n  [7]: https://stackoverflow.com/q/31173374/6309\r\n  [8]: https://github.com/docker/docker/issues/15020\r\n  [9]: https://docs.docker.com/engine/reference/commandline/stats/\r\n  [10]: https://github.com/docker/docker/issues/10824#issuecomment-130681068","title":"Difference between Resident Set Size (RSS) and Java total committed memory (NMT) for a JVM running in Docker container","body":"<p>You have some clue in \"<a href=\"http://trustmeiamadeveloper.com/2016/03/18/where-is-my-memory-java/\" rel=\"noreferrer\">\nAnalyzing java memory usage in a Docker container</a>\" from <a href=\"https://github.com/krestjaninoff\" rel=\"noreferrer\">Mikhail Krestjaninoff</a>:</p>\n\n<p>(And to be clear, in May 2019, three years later, <a href=\"https://stackoverflow.com/a/56153528/6309\">the <strong>situation does improves</strong> with openJDK 8u212</a> )</p>\n\n<blockquote>\n  <p><strong>R</strong>esident <strong>S</strong>et <strong>S</strong>ize is the amount of physical memory currently allocated and used by a process (without swapped out pages). It includes the code, data and shared libraries (which are counted in every process which uses them)</p>\n  \n  <p>Why does docker stats info differ from the ps data?</p>\n  \n  <p>Answer for the first question is very simple - <a href=\"https://github.com/docker/docker/issues/10824\" rel=\"noreferrer\">Docker has a bug (or a feature - depends on your mood)</a>: it includes file caches into the total memory usage info. So, we can just avoid this metric and use <code>ps</code> info about RSS.</p>\n  \n  <p>Well, ok - but <strong>why is RSS higher than Xmx?</strong> </p>\n  \n  <p>Theoretically, in case of a java application</p>\n</blockquote>\n\n<pre><code>RSS = Heap size + MetaSpace + OffHeap size\n</code></pre>\n\n<blockquote>\n  <p>where OffHeap consists of thread stacks, direct buffers, mapped files (libraries and jars) and JVM code itse</p>\n  \n  <p>Since <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/enhancements-8.html\" rel=\"noreferrer\">JDK 1.8.40</a> we have <strong><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html\" rel=\"noreferrer\">Native Memory Tracker</a></strong>!</p>\n  \n  <p>As you can see, I’ve already added <code>-XX:NativeMemoryTracking=summary</code> property to the JVM, so we can just invoke it from the command line:</p>\n</blockquote>\n\n<pre><code>docker exec my-app jcmd 1 VM.native_memory summary\n</code></pre>\n\n<p>(This is what the OP did)</p>\n\n<blockquote>\n  <p>Don’t worry about the “Unknown” section - seems that NMT is an immature tool and can’t deal with CMS GC (this section disappears when you use an another GC).</p>\n  \n  <p>Keep in mind, <strong>that NMT displays “committed” memory, not \"resident\" (which you get through the ps command). In other words, a memory page can be committed without considering as a resident (until it directly accessed)</strong>.  </p>\n  \n  <p><strong>That means that NMT results for non-heap areas (heap is always preinitialized) might be bigger than RSS values</strong>.</p>\n</blockquote>\n\n<p>(that is where \"<a href=\"https://stackoverflow.com/q/31173374/6309\">Why does a JVM report more committed memory than the linux process resident set size?</a>\" comes in)</p>\n\n<blockquote>\n  <p>As a result, despite the fact that we set the jvm heap limit to 256m, our application consumes 367M. The “other” 164M are mostly used for storing class metadata, compiled code, threads and GC data. </p>\n  \n  <p>First three points are often constants for an application, so the only thing which increases with the heap size is GC data.<br>\n  This dependency is linear, but the “<code>k</code>” coefficient (<code>y = kx + b</code>) is much less then 1.</p>\n</blockquote>\n\n<hr>\n\n<p>More generally, this seems to be followed by <a href=\"https://github.com/docker/docker/issues/15020\" rel=\"noreferrer\">issue 15020</a> which reports a similar issue since docker 1.7</p>\n\n<blockquote>\n  <p>I'm running a simple Scala (JVM) application which loads a lot of data into and out of memory.<br>\n  I set the JVM to 8G heap (<code>-Xmx8G</code>). I have a machine with 132G memory, and it can't handle more than 7-8 containers because they grow well past the 8G limit I imposed on the JVM.</p>\n</blockquote>\n\n<p>(<a href=\"https://docs.docker.com/engine/reference/commandline/stats/\" rel=\"noreferrer\"><code>docker stat</code></a> was <a href=\"https://github.com/docker/docker/issues/10824#issuecomment-130681068\" rel=\"noreferrer\">reported as misleading before</a>, as it apparently includes file caches into the total memory usage info)</p>\n\n<blockquote>\n  <p><a href=\"https://docs.docker.com/engine/reference/commandline/stats/\" rel=\"noreferrer\"><code>docker stat</code></a> shows that each container itself is using much more memory than the JVM is supposed to be using. For instance:</p>\n</blockquote>\n\n<pre><code>CONTAINER CPU % MEM USAGE/LIMIT MEM % NET I/O\ndave-1 3.55% 10.61 GB/135.3 GB 7.85% 7.132 MB/959.9 MB\nperf-1 3.63% 16.51 GB/135.3 GB 12.21% 30.71 MB/5.115 GB\n</code></pre>\n\n<blockquote>\n  <p><strong>It almost seems that the JVM is asking the OS for memory, which is allocated within the container, and the JVM is freeing memory as its GC runs, but the container doesn't release the memory back to the main OS.   So... memory leak.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3082069,"reputation":31,"user_id":2610067,"display_name":"user2610067"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663964450,"creation_date":1663964450,"answer_id":73832632,"question_id":38597965,"body_markdown":"Disclaimer: I am not an expert\r\n\r\nI had a production incident recently when under heavy load, pods had a big jump in RSS and Kubernetes killed the pods. There was no OOM error exception, but Linux stopped the process in the most hardcore way.\r\n\r\nThere was a big gap between RSS and total reserved space by JVM. Heap memory, native memory, threads, everything looked ok, however RSS was big.\r\n\r\nIt was found out that it is due to the fact how malloc works internally. There are big gaps in the memory where malloc takes chunks of memory from. If there are a lot of cores on your machine, malloc tries to adapt and give every core each own space to take free memory from to avoid resource contention. Setting up `export MALLOC_ARENA_MAX=2` solved the issue. You can find more about this situation here:\r\n\r\n 1. https://stackoverflow.com/questions/26041117/growing-resident-memory-usage-rss-of-java-process/28935139#28935139\r\n 2. https://devcenter.heroku.com/articles/tuning-glibc-memory-behavior\r\n 3. https://www.gnu.org/software/libc/manual/html_node/Malloc-Tunable-Parameters.html\r\n 4. https://github.com/jeffgriffith/native-jvm-leaks\r\n\r\nP.S. I don&#39;t know why there was a jump in RSS memory. Pods are built on Spring Boot + Kafka.","title":"Difference between Resident Set Size (RSS) and Java total committed memory (NMT) for a JVM running in Docker container","body":"<p>Disclaimer: I am not an expert</p>\n<p>I had a production incident recently when under heavy load, pods had a big jump in RSS and Kubernetes killed the pods. There was no OOM error exception, but Linux stopped the process in the most hardcore way.</p>\n<p>There was a big gap between RSS and total reserved space by JVM. Heap memory, native memory, threads, everything looked ok, however RSS was big.</p>\n<p>It was found out that it is due to the fact how malloc works internally. There are big gaps in the memory where malloc takes chunks of memory from. If there are a lot of cores on your machine, malloc tries to adapt and give every core each own space to take free memory from to avoid resource contention. Setting up <code>export MALLOC_ARENA_MAX=2</code> solved the issue. You can find more about this situation here:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/26041117/growing-resident-memory-usage-rss-of-java-process/28935139#28935139\">Growing resident memory usage (RSS) of Java Process</a></li>\n<li><a href=\"https://devcenter.heroku.com/articles/tuning-glibc-memory-behavior\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/tuning-glibc-memory-behavior</a></li>\n<li><a href=\"https://www.gnu.org/software/libc/manual/html_node/Malloc-Tunable-Parameters.html\" rel=\"nofollow noreferrer\">https://www.gnu.org/software/libc/manual/html_node/Malloc-Tunable-Parameters.html</a></li>\n<li><a href=\"https://github.com/jeffgriffith/native-jvm-leaks\" rel=\"nofollow noreferrer\">https://github.com/jeffgriffith/native-jvm-leaks</a></li>\n</ol>\n<p>P.S. I don't know why there was a jump in RSS memory. Pods are built on Spring Boot + Kafka.</p>\n"}],"owner":{"account_id":1981566,"reputation":2487,"user_id":1778038,"accept_rate":52,"display_name":"sunsin1985"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39917,"favorite_count":0,"down_vote_count":2,"up_vote_count":66,"accepted_answer_id":38670876,"answer_count":2,"score":64,"last_activity_date":1663964450,"creation_date":1469559887,"question_id":38597965,"body_markdown":"**Scenario:**\r\n\r\nI have a JVM running in a docker container. I did some memory analysis using two tools: 1) **top** 2) **Java Native Memory Tracking**. The numbers look confusing and I am trying to find whats causing the differences. \r\n\r\n**Question:**\r\n\r\nThe RSS is reported as 1272MB for the Java process and the Total Java Memory is reported as 790.55 MB. How can I explain where did the rest of the memory 1272 - 790.55 = 481.44 MB go? \r\n\r\n**Why I want to keep this issue open even after looking at [this question][1] on SO:**\r\n\r\nI did see the answer and the explanation makes sense. However, after getting output from Java NMT and pmap -x &lt;pid&gt;, **I am still not able to concretely map which java memory addresses are actually resident and physically mapped**. I need some concrete explanation (with detailed steps) to find whats causing this difference between RSS and Java Total committed memory.\r\n\r\n**Top Output**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Java NMT**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**Docker memory stats**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Graphs**\r\n\r\nI have a docker container running for most than 48 hours. Now, when I see a graph which contains:\r\n\r\n 1. Total memory given to the docker container  = 2 GB\r\n 2. Java Max Heap = 1 GB\r\n 3. Total committed (JVM) = always less than 800 MB\r\n 4. Heap Used (JVM) = always less than 200 MB\r\n 5. Non Heap Used (JVM) = always less than 100 MB.\r\n 6. RSS = around 1.1 GB.\r\n\r\nSo, whats eating the memory between 1.1 GB (RSS) and 800 MB (Java Total committed memory)?\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31173374\r\n  [2]: http://i.stack.imgur.com/Npl4X.png\r\n  [3]: http://i.stack.imgur.com/1ebIx.png\r\n  [4]: http://i.stack.imgur.com/n6Aiu.png\r\n  [5]: http://i.stack.imgur.com/Ttvrt.png","title":"Difference between Resident Set Size (RSS) and Java total committed memory (NMT) for a JVM running in Docker container","body":"<p><strong>Scenario:</strong></p>\n\n<p>I have a JVM running in a docker container. I did some memory analysis using two tools: 1) <strong>top</strong> 2) <strong>Java Native Memory Tracking</strong>. The numbers look confusing and I am trying to find whats causing the differences. </p>\n\n<p><strong>Question:</strong></p>\n\n<p>The RSS is reported as 1272MB for the Java process and the Total Java Memory is reported as 790.55 MB. How can I explain where did the rest of the memory 1272 - 790.55 = 481.44 MB go? </p>\n\n<p><strong>Why I want to keep this issue open even after looking at <a href=\"https://stackoverflow.com/questions/31173374\">this question</a> on SO:</strong></p>\n\n<p>I did see the answer and the explanation makes sense. However, after getting output from Java NMT and pmap -x , <strong>I am still not able to concretely map which java memory addresses are actually resident and physically mapped</strong>. I need some concrete explanation (with detailed steps) to find whats causing this difference between RSS and Java Total committed memory.</p>\n\n<p><strong>Top Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Npl4X.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Npl4X.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Java NMT</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/1ebIx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1ebIx.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Docker memory stats</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/n6Aiu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/n6Aiu.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Graphs</strong></p>\n\n<p>I have a docker container running for most than 48 hours. Now, when I see a graph which contains:</p>\n\n<ol>\n<li>Total memory given to the docker container  = 2 GB</li>\n<li>Java Max Heap = 1 GB</li>\n<li>Total committed (JVM) = always less than 800 MB</li>\n<li>Heap Used (JVM) = always less than 200 MB</li>\n<li>Non Heap Used (JVM) = always less than 100 MB.</li>\n<li>RSS = around 1.1 GB.</li>\n</ol>\n\n<p>So, whats eating the memory between 1.1 GB (RSS) and 800 MB (Java Total committed memory)?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ttvrt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ttvrt.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","gradle","drools"],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663947662,"creation_date":1663947662,"answer_id":73830131,"question_id":73827076,"body_markdown":"Per the stack trace, you&#39;re having an issue with an optional type -- https://github.com/raphw/byte-buddy/issues/780#issuecomment-557577919 . Per that GH issue, this only stops the introspection and doesn&#39;t actually break anything. But if you want it to work you just need to include the missing dependency.\r\n\r\nI&#39;m unfamiliar with whatever library that is, but it might be maven-core. Drools includes maven integration and a maven plugin -- I&#39;m unsure if you&#39;re using either, but it makes sense they&#39;d be considered optional. If you&#39;re using them, you likely need to declare dependencies on them directly.","title":"using drools in gradle project,it&#39;s error when i&#39;m packing a jar and running","body":"<p>Per the stack trace, you're having an issue with an optional type -- <a href=\"https://github.com/raphw/byte-buddy/issues/780#issuecomment-557577919\" rel=\"nofollow noreferrer\">https://github.com/raphw/byte-buddy/issues/780#issuecomment-557577919</a> . Per that GH issue, this only stops the introspection and doesn't actually break anything. But if you want it to work you just need to include the missing dependency.</p>\n<p>I'm unfamiliar with whatever library that is, but it might be maven-core. Drools includes maven integration and a maven plugin -- I'm unsure if you're using either, but it makes sense they'd be considered optional. If you're using them, you likely need to declare dependencies on them directly.</p>\n"}],"owner":{"account_id":26422183,"reputation":11,"user_id":20069694,"display_name":"沈月望"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663964181,"creation_date":1663932879,"question_id":73827076,"body_markdown":"I use drools in my gradle project, it&#39;s normal when I&#39;m running locally, but it&#39;s error when I&#39;m packing a jar and running.\r\n I use the following version\r\n\r\n    compile group: &#39;org.kie&#39;, name: &#39;kie-spring&#39;, version: &#39;7.17.0.Final&#39;\r\n    compile group: &#39;org.drools&#39;, name: &#39;drools-core&#39;, version: &#39;7.17.0.Final&#39;\r\n    compile group: &#39;org.kie&#39;, name: &#39;kie-ci&#39;, version: &#39;7.17.0.Final&#39;\r\n\r\nthe error log is as follows:\r\n\r\n```\r\n2022-09-23 18:55:17.183  INFO [1LSHENYUEWANG.local-192.168.100.2] [main-1] o.k.a.i.utils.ServiceDiscoveryImpl       : [] Adding Service org.kie.internal.services.KieWeaversImpl\r\n\r\n2022-09-23 18:55:17.197  INFO [1LSHENYUEWANG.local-192.168.100.2] [main-1] o.k.a.i.utils.ServiceDiscoveryImpl       : [] Adding Service org.kie.internal.services.KieBeliefsImpl\r\n\r\n[Byte Buddy] ERROR org.apache.maven.lifecycle.mapping.DefaultLifecycleMapping$__sisu4 [ClassRealm[maven, parent: ClassRealm[maven-parent, parent: null]], null, loaded=false]\r\njava.lang.IllegalStateException: Cannot resolve type description for org.apache.maven.lifecycle.mapping.DefaultLifecycleMapping\r\n\tat net.bytebuddy.pool.TypePool$Resolution$Illegal.resolve(TypePool.java:157)\r\n\tat net.bytebuddy.pool.TypePool$Default$WithLazyResolution$LazyTypeDescription.delegate(TypePool.java:912)\r\n\tat net.bytebuddy.description.type.TypeDescription$AbstractBase$OfSimpleType$WithDelegation.getSuperClass(TypeDescription.java:8292)\r\n\tat net.bytebuddy.description.type.TypeDescription$AbstractBase.isAssignable(TypeDescription.java:7663)\r\n\tat net.bytebuddy.description.type.TypeDescription$AbstractBase.isAssignableFrom(TypeDescription.java:7690)\r\n\tat net.bytebuddy.description.type.TypeDescription$ForLoadedType.isAssignableFrom(TypeDescription.java:8536)\r\n\tat net.bytebuddy.description.type.TypeDescription$AbstractBase.isAssignable(TypeDescription.java:7664)\r\n\tat net.bytebuddy.description.type.TypeDescription$AbstractBase.isAssignableTo(TypeDescription.java:7704)\r\n\tat net.bytebuddy.matcher.SubTypeMatcher.matches(SubTypeMatcher.java:47)\r\n\tat net.bytebuddy.matcher.SubTypeMatcher.matches(SubTypeMatcher.java:26)\r\n\tat net.bytebuddy.matcher.ElementMatcher$Junction$Conjunction.matches(ElementMatcher.java:122)\r\n\tat net.bytebuddy.agent.builder.AgentBuilder$RawMatcher$ForElementMatchers.matches(AgentBuilder.java:1312)\r\n\tat net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.doTransform(AgentBuilder.java:10343)\r\n\tat net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.transform(AgentBuilder.java:10302)\r\n\tat net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.access$1600(AgentBuilder.java:10068)\r\n\tat net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$LegacyVmDispatcher.run(AgentBuilder.java:10687)\r\n\tat net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$LegacyVmDispatcher.run(AgentBuilder.java:10634)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.transform(AgentBuilder.java:10225)\r\n\tat com.ddmc.monitor.enhance.CacheableTransformerDecorator$1.transform(CacheableTransformerDecorator.java:38)\r\n\tat sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n\tat sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:635)\r\n\tat org.eclipse.sisu.space.CloningClassSpace$CloningClassLoader.findClass(CloningClassSpace.java:154)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat org.eclipse.sisu.space.CloningClassSpace$CloningClassLoader.loadClass(CloningClassSpace.java:125)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat org.eclipse.sisu.space.URLClassSpace.loadClass(URLClassSpace.java:139)\r\n\tat org.eclipse.sisu.space.NamedClass.load(NamedClass.java:46)\r\n\tat org.eclipse.sisu.wire.DependencyAnalyzer.visit(DependencyAnalyzer.java:155)\r\n\tat org.eclipse.sisu.wire.DependencyAnalyzer.visit(DependencyAnalyzer.java:1)\r\n\tat com.google.inject.internal.ProviderInstanceBindingImpl.acceptTargetVisitor(ProviderInstanceBindingImpl.java:62)\r\n\tat org.eclipse.sisu.wire.ElementAnalyzer.visit(ElementAnalyzer.java:177)\r\n\tat org.eclipse.sisu.wire.ElementAnalyzer.visit(ElementAnalyzer.java:1)\r\n\tat com.google.inject.internal.BindingImpl.acceptVisitor(BindingImpl.java:93)\r\n\tat org.eclipse.sisu.wire.WireModule.configure(WireModule.java:77)\r\n\tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)\r\n\tat com.google.inject.spi.Elements.getElements(Elements.java:110)\r\n\tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138)\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:99)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:73)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:62)\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481)\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206)\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:168)\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:167)\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:141)\r\n\tat org.appformer.maven.integration.embedder.PlexusComponentProvider.&lt;init&gt;(PlexusComponentProvider.java:37)\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildComponentProvider(MavenEmbedderUtils.java:57)\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:91)\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:85)\r\n\tat org.appformer.maven.integration.embedder.MavenProjectLoader.newMavenEmbedder(MavenProjectLoader.java:148)\r\n\tat org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:90)\r\n\tat org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:84)\r\n\tat org.appformer.maven.integration.MavenPomModelGenerator.parse(MavenPomModelGenerator.java:34)\r\n\tat org.appformer.maven.support.PomModel$Parser.parse(PomModel.java:110)\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildPomModel(KieBuilderImpl.java:509)\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.getPomModel(KieBuilderImpl.java:486)\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.init(KieBuilderImpl.java:149)\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:208)\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:184)\r\n\tat org.kie.internal.utils.KieHelper.getKieContainer(KieHelper.java:84)\r\n\tat org.kie.internal.utils.KieHelper.build(KieHelper.java:71)\r\n\tat com.ddmc.tag.drools.DroolsUtils.getKnowledgeBaseImplBySql(DroolsUtils.java:537)\r\n\tat com.ddmc.tag.drools.DroolsUtils.initBatchRuleSession(DroolsUtils.java:192)\r\n\tat com.ddmc.tag.drools.DroolsUtils.init(DroolsUtils.java:141)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:363)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:307)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:419)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1737)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1244)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1164)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1378)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:846)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:863)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\r\n\tat com.ddmc.TagServiceApplication.main(TagServiceApplication.java:25)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n```\r\n","title":"using drools in gradle project,it&#39;s error when i&#39;m packing a jar and running","body":"<p>I use drools in my gradle project, it's normal when I'm running locally, but it's error when I'm packing a jar and running.\nI use the following version</p>\n<pre><code>compile group: 'org.kie', name: 'kie-spring', version: '7.17.0.Final'\ncompile group: 'org.drools', name: 'drools-core', version: '7.17.0.Final'\ncompile group: 'org.kie', name: 'kie-ci', version: '7.17.0.Final'\n</code></pre>\n<p>the error log is as follows:</p>\n<pre><code>2022-09-23 18:55:17.183  INFO [1LSHENYUEWANG.local-192.168.100.2] [main-1] o.k.a.i.utils.ServiceDiscoveryImpl       : [] Adding Service org.kie.internal.services.KieWeaversImpl\n\n2022-09-23 18:55:17.197  INFO [1LSHENYUEWANG.local-192.168.100.2] [main-1] o.k.a.i.utils.ServiceDiscoveryImpl       : [] Adding Service org.kie.internal.services.KieBeliefsImpl\n\n[Byte Buddy] ERROR org.apache.maven.lifecycle.mapping.DefaultLifecycleMapping$__sisu4 [ClassRealm[maven, parent: ClassRealm[maven-parent, parent: null]], null, loaded=false]\njava.lang.IllegalStateException: Cannot resolve type description for org.apache.maven.lifecycle.mapping.DefaultLifecycleMapping\n    at net.bytebuddy.pool.TypePool$Resolution$Illegal.resolve(TypePool.java:157)\n    at net.bytebuddy.pool.TypePool$Default$WithLazyResolution$LazyTypeDescription.delegate(TypePool.java:912)\n    at net.bytebuddy.description.type.TypeDescription$AbstractBase$OfSimpleType$WithDelegation.getSuperClass(TypeDescription.java:8292)\n    at net.bytebuddy.description.type.TypeDescription$AbstractBase.isAssignable(TypeDescription.java:7663)\n    at net.bytebuddy.description.type.TypeDescription$AbstractBase.isAssignableFrom(TypeDescription.java:7690)\n    at net.bytebuddy.description.type.TypeDescription$ForLoadedType.isAssignableFrom(TypeDescription.java:8536)\n    at net.bytebuddy.description.type.TypeDescription$AbstractBase.isAssignable(TypeDescription.java:7664)\n    at net.bytebuddy.description.type.TypeDescription$AbstractBase.isAssignableTo(TypeDescription.java:7704)\n    at net.bytebuddy.matcher.SubTypeMatcher.matches(SubTypeMatcher.java:47)\n    at net.bytebuddy.matcher.SubTypeMatcher.matches(SubTypeMatcher.java:26)\n    at net.bytebuddy.matcher.ElementMatcher$Junction$Conjunction.matches(ElementMatcher.java:122)\n    at net.bytebuddy.agent.builder.AgentBuilder$RawMatcher$ForElementMatchers.matches(AgentBuilder.java:1312)\n    at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.doTransform(AgentBuilder.java:10343)\n    at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.transform(AgentBuilder.java:10302)\n    at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.access$1600(AgentBuilder.java:10068)\n    at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$LegacyVmDispatcher.run(AgentBuilder.java:10687)\n    at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$LegacyVmDispatcher.run(AgentBuilder.java:10634)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.transform(AgentBuilder.java:10225)\n    at com.ddmc.monitor.enhance.CacheableTransformerDecorator$1.transform(CacheableTransformerDecorator.java:38)\n    at sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:635)\n    at org.eclipse.sisu.space.CloningClassSpace$CloningClassLoader.findClass(CloningClassSpace.java:154)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at org.eclipse.sisu.space.CloningClassSpace$CloningClassLoader.loadClass(CloningClassSpace.java:125)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at org.eclipse.sisu.space.URLClassSpace.loadClass(URLClassSpace.java:139)\n    at org.eclipse.sisu.space.NamedClass.load(NamedClass.java:46)\n    at org.eclipse.sisu.wire.DependencyAnalyzer.visit(DependencyAnalyzer.java:155)\n    at org.eclipse.sisu.wire.DependencyAnalyzer.visit(DependencyAnalyzer.java:1)\n    at com.google.inject.internal.ProviderInstanceBindingImpl.acceptTargetVisitor(ProviderInstanceBindingImpl.java:62)\n    at org.eclipse.sisu.wire.ElementAnalyzer.visit(ElementAnalyzer.java:177)\n    at org.eclipse.sisu.wire.ElementAnalyzer.visit(ElementAnalyzer.java:1)\n    at com.google.inject.internal.BindingImpl.acceptVisitor(BindingImpl.java:93)\n    at org.eclipse.sisu.wire.WireModule.configure(WireModule.java:77)\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)\n    at com.google.inject.spi.Elements.getElements(Elements.java:110)\n    at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138)\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104)\n    at com.google.inject.Guice.createInjector(Guice.java:99)\n    at com.google.inject.Guice.createInjector(Guice.java:73)\n    at com.google.inject.Guice.createInjector(Guice.java:62)\n    at org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481)\n    at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206)\n    at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:168)\n    at org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:167)\n    at org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:141)\n    at org.appformer.maven.integration.embedder.PlexusComponentProvider.&lt;init&gt;(PlexusComponentProvider.java:37)\n    at org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildComponentProvider(MavenEmbedderUtils.java:57)\n    at org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:91)\n    at org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:85)\n    at org.appformer.maven.integration.embedder.MavenProjectLoader.newMavenEmbedder(MavenProjectLoader.java:148)\n    at org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:90)\n    at org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:84)\n    at org.appformer.maven.integration.MavenPomModelGenerator.parse(MavenPomModelGenerator.java:34)\n    at org.appformer.maven.support.PomModel$Parser.parse(PomModel.java:110)\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildPomModel(KieBuilderImpl.java:509)\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.getPomModel(KieBuilderImpl.java:486)\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.init(KieBuilderImpl.java:149)\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:208)\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:184)\n    at org.kie.internal.utils.KieHelper.getKieContainer(KieHelper.java:84)\n    at org.kie.internal.utils.KieHelper.build(KieHelper.java:71)\n    at com.ddmc.tag.drools.DroolsUtils.getKnowledgeBaseImplBySql(DroolsUtils.java:537)\n    at com.ddmc.tag.drools.DroolsUtils.initBatchRuleSession(DroolsUtils.java:192)\n    at com.ddmc.tag.drools.DroolsUtils.init(DroolsUtils.java:141)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:363)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:307)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:419)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1737)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1244)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1164)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1378)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:846)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:863)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n    at com.ddmc.TagServiceApplication.main(TagServiceApplication.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\n</code></pre>\n"},{"tags":["java","android","swift","kotlin"],"comments":[{"owner":{"display_name":"user652038"},"score":1,"creation_date":1586882914,"post_id":61212119,"comment_id":108290221,"body_markdown":"Nowadays, you can just say `protocol MyViewControllerProtocol: UIViewController`. &#128570;","body":"Nowadays, you can just say <code>protocol MyViewControllerProtocol: UIViewController</code>. 😺"},{"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":1,"creation_date":1586884977,"post_id":61212119,"comment_id":108291308,"body_markdown":"Kotlin can&#39;t, but Scala can :) `trait MyViewControllerProtocol { self: UIViewController =&gt; ... }`","body":"Kotlin can&#39;t, but Scala can :) <code>trait MyViewControllerProtocol { self: UIViewController =&gt; ... }</code>"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586881632,"creation_date":1586881632,"answer_id":61212564,"question_id":61212119,"body_markdown":"Not strictly. You could add a generic property that is intended for the implementer to return itself, but the compiler won&#39;t prevent you from providing some other object to satisfy the property.\r\n\r\n```\r\ninterface SomeInterface {\r\n    val thisRef: Activity\r\n\r\n    // ... \r\n}\r\n```\r\nThe above interface can call functions on `thisRef` in its default function implementations.\r\n\r\nAn implementing class must provide the value for `thisRef`:\r\n\r\n```\r\nclass MyActivity: Activity(), SomeInterface {\r\n    override val thisRef = this\r\n\r\n    //...\r\n}\r\n```","title":"Can you scope a Kotlin interface for use with only certain classes?","body":"<p>Not strictly. You could add a generic property that is intended for the implementer to return itself, but the compiler won't prevent you from providing some other object to satisfy the property.</p>\n\n<pre><code>interface SomeInterface {\n    val thisRef: Activity\n\n    // ... \n}\n</code></pre>\n\n<p>The above interface can call functions on <code>thisRef</code> in its default function implementations.</p>\n\n<p>An implementing class must provide the value for <code>thisRef</code>:</p>\n\n<pre><code>class MyActivity: Activity(), SomeInterface {\n    override val thisRef = this\n\n    //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":531541,"reputation":5194,"user_id":1449683,"accept_rate":44,"display_name":"squirrel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663964179,"creation_date":1663964179,"answer_id":73832590,"question_id":61212119,"body_markdown":"I don&#39;t think you can restrict interfaces in this way, but you can restrict functions:\r\n\r\n```kt\r\ninterface MyViewController\r\n\r\nfun &lt;T&gt; T.doViewControllerThings() where T : UIViewController, T : MyViewController {\r\n    view.addSubview(UIView())\r\n}\r\n```","title":"Can you scope a Kotlin interface for use with only certain classes?","body":"<p>I don't think you can restrict interfaces in this way, but you can restrict functions:</p>\n<pre><code>interface MyViewController\n\nfun &lt;T&gt; T.doViewControllerThings() where T : UIViewController, T : MyViewController {\n    view.addSubview(UIView())\n}\n</code></pre>\n"}],"owner":{"account_id":485283,"reputation":4605,"user_id":901505,"accept_rate":64,"display_name":"Kevin_TA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61212564,"answer_count":2,"score":1,"last_activity_date":1663964179,"creation_date":1586880237,"question_id":61212119,"body_markdown":"I come from primarily an iOS background. In Swift, we can make Protocols which are designed to be implemented by specific classes:\r\n\r\n    protocol MyViewControllerProtocol where Self: UIViewController {\r\n        func doViewControllerThings()\r\n    }\r\n\r\nThis is super powerful because it allows us to extend the protocol with a default implementation and use methods on `self`\r\n\r\n    extension MyViewControllerProtocol {\r\n        func doViewControllerThings() {\r\n            self.view.addSubview(UIView())\r\n        }\r\n    }\r\n\r\nI am trying to do something similar in Kotlin for an Android project. Is this possible?","title":"Can you scope a Kotlin interface for use with only certain classes?","body":"<p>I come from primarily an iOS background. In Swift, we can make Protocols which are designed to be implemented by specific classes:</p>\n\n<pre><code>protocol MyViewControllerProtocol where Self: UIViewController {\n    func doViewControllerThings()\n}\n</code></pre>\n\n<p>This is super powerful because it allows us to extend the protocol with a default implementation and use methods on <code>self</code></p>\n\n<pre><code>extension MyViewControllerProtocol {\n    func doViewControllerThings() {\n        self.view.addSubview(UIView())\n    }\n}\n</code></pre>\n\n<p>I am trying to do something similar in Kotlin for an Android project. Is this possible?</p>\n"},{"tags":["java","html","css","jsp"],"comments":[{"owner":{"account_id":25398182,"reputation":174,"user_id":19208136,"display_name":"paulo77"},"score":1,"creation_date":1663959838,"post_id":73831925,"comment_id":130370428,"body_markdown":"please add the HTML to the code sandbox in addition to the CSS","body":"please add the HTML to the code sandbox in addition to the CSS"}],"answers":[{"tags":[],"owner":{"account_id":26425585,"reputation":36,"user_id":20072611,"display_name":"draxe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663963589,"creation_date":1663962378,"answer_id":73832337,"question_id":73831925,"body_markdown":"For [`justify-content:center`](https://developer.mozilla.org/docs/Web/CSS/justify-content#center) to work it has to be in a `display:flex` or `display:grid` block.  \r\nYou can change your `display: block` to `display:flex`.  \r\n\r\nIt also seems to me that your css classes do not correspond to those in your html.","title":"text-align, justify-content not working in Safari","body":"<p>For <a href=\"https://developer.mozilla.org/docs/Web/CSS/justify-content#center\" rel=\"nofollow noreferrer\"><code>justify-content:center</code></a> to work it has to be in a <code>display:flex</code> or <code>display:grid</code> block.<br />\nYou can change your <code>display: block</code> to <code>display:flex</code>.</p>\n<p>It also seems to me that your css classes do not correspond to those in your html.</p>\n"}],"owner":{"account_id":17204421,"reputation":27,"user_id":12455298,"display_name":"Emerson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73832337,"answer_count":1,"score":1,"last_activity_date":1663963589,"creation_date":1663959654,"question_id":73831925,"body_markdown":"In Chrome everything works good, but is aligned to the right in Safari, I don&#39;t know why. It&#39;s a button with text. I tried `text-align center;`, `justify-content: center;` or `text-align: -webkit-center;` but nothing happened.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .box-product .add-items .bttn-add {\r\n        width: 115px;\r\n        height: 30px;\r\n        display: block;\r\n        background-color: var(--naranjoAgro);\r\n        color: #fff;\r\n        text-transform: uppercase;\r\n        font-size: 1em;\r\n        font-weight: 700;\r\n        line-height: 30px;\r\n        border-radius: 15px;\r\n        margin: 0 0 0 1em;\r\n        transition: .3s;\r\n        -webkit-transition: .3s;\r\n        -moz-transition: .3s;\r\n        justify-content:center;\r\n        \r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;buttonbox&quot;&gt;\r\n      &lt;c:choose&gt;\r\n        &lt;c:when test=&quot;${(autentificar == &#39;true&#39;)&amp;&amp;(statusUsuario == 2)}&quot;&gt;\r\n          &lt;a class=&quot;bttn-add btncarr spinner-button&quot; onclick=&quot;mensajeBloqueoCompras();&quot; type=&quot;submit&quot;&gt;agregar&lt;/a&gt;\r\n        &lt;/c:when&gt;\r\n        &lt;c:when test=&quot;${autentificar == &#39;true&#39;}&quot;&gt;\r\n          &lt;a class=&quot;bttn-add btncarr spinner-button&quot; onclick=&quot;agregarProducto(this, &#39;${oferta.codigo_material}&#39;, &#39;cantidadProdu${oferta.codigo_material}&#39;, &#39;${contexto}&#39;, &#39;${cantidadMinPed}&#39;, &#39;${cantidadMaxUni}&#39;, &#39;HOME - PRODUCTOS EN OFERTA&#39;)&quot; data-button-action=&quot;add-to-cart&quot;\r\n            type=&quot;submit&quot;&gt;agregar&lt;/a&gt;\r\n        &lt;/c:when&gt;\r\n\r\n      &lt;/c:choose&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"text-align, justify-content not working in Safari","body":"<p>In Chrome everything works good, but is aligned to the right in Safari, I don't know why. It's a button with text. I tried <code>text-align center;</code>, <code>justify-content: center;</code> or <code>text-align: -webkit-center;</code> but nothing happened.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.box-product .add-items .bttn-add {\n    width: 115px;\n    height: 30px;\n    display: block;\n    background-color: var(--naranjoAgro);\n    color: #fff;\n    text-transform: uppercase;\n    font-size: 1em;\n    font-weight: 700;\n    line-height: 30px;\n    border-radius: 15px;\n    margin: 0 0 0 1em;\n    transition: .3s;\n    -webkit-transition: .3s;\n    -moz-transition: .3s;\n    justify-content:center;\n    \n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"buttonbox\"&gt;\n  &lt;c:choose&gt;\n    &lt;c:when test=\"${(autentificar == 'true')&amp;&amp;(statusUsuario == 2)}\"&gt;\n      &lt;a class=\"bttn-add btncarr spinner-button\" onclick=\"mensajeBloqueoCompras();\" type=\"submit\"&gt;agregar&lt;/a&gt;\n    &lt;/c:when&gt;\n    &lt;c:when test=\"${autentificar == 'true'}\"&gt;\n      &lt;a class=\"bttn-add btncarr spinner-button\" onclick=\"agregarProducto(this, '${oferta.codigo_material}', 'cantidadProdu${oferta.codigo_material}', '${contexto}', '${cantidadMinPed}', '${cantidadMaxUni}', 'HOME - PRODUCTOS EN OFERTA')\" data-button-action=\"add-to-cart\"\n        type=\"submit\"&gt;agregar&lt;/a&gt;\n    &lt;/c:when&gt;\n\n  &lt;/c:choose&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","aspectj","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663963542,"creation_date":1455979226,"answer_id":35524754,"question_id":35257182,"body_markdown":"First of all, your so-called aspect is missing aspect-related annotations such as `@Aspect` and `@Before`, without which it is just a POJO class. It will never be executed or even recognised as an aspect.\r\n\r\nSecond, Spring AOP is a proxy-based framework which only works in connection with Spring components, not with POJO classes. You need AspectJ in order to solve your problem. (Have you ever read a tutorial or the Spring or AspectJ manual, by the way? I guess you have not.)\r\n\r\nFurthermore, why on earth would you want a user to enter pointcuts during runtime? Should you not know where to apply your aspects a bit earlier? Even if I would show you a solution creating aspects on the fly, they would not be very valuable because even load-time weaving needs to instrument your Java code during class-loading. If the target classes are already loaded, there is no way to apply aspects on them post factum.\r\n\r\nMaybe you should explain what you want to achieve and not ask how to do something technically which does not make sense and will not work, thus not solve your problem anyway.\r\n\r\nIf you want a more dynamic way to define your pointcuts other than hard-coding them within your aspects, you can create an **abstract base aspect** with an abstract pointcut and define the concrete pointcut in an **_aop.xml_** file which is used for load-time weaving, as described in the [AspectJ documentation](https://eclipse.org/aspectj/doc/next/devguide/ltw-configuration.html).\r\n","title":"how to apply spring aop for legacy code by taking pointcut as input from user","body":"<p>First of all, your so-called aspect is missing aspect-related annotations such as <code>@Aspect</code> and <code>@Before</code>, without which it is just a POJO class. It will never be executed or even recognised as an aspect.</p>\n<p>Second, Spring AOP is a proxy-based framework which only works in connection with Spring components, not with POJO classes. You need AspectJ in order to solve your problem. (Have you ever read a tutorial or the Spring or AspectJ manual, by the way? I guess you have not.)</p>\n<p>Furthermore, why on earth would you want a user to enter pointcuts during runtime? Should you not know where to apply your aspects a bit earlier? Even if I would show you a solution creating aspects on the fly, they would not be very valuable because even load-time weaving needs to instrument your Java code during class-loading. If the target classes are already loaded, there is no way to apply aspects on them post factum.</p>\n<p>Maybe you should explain what you want to achieve and not ask how to do something technically which does not make sense and will not work, thus not solve your problem anyway.</p>\n<p>If you want a more dynamic way to define your pointcuts other than hard-coding them within your aspects, you can create an <strong>abstract base aspect</strong> with an abstract pointcut and define the concrete pointcut in an <strong><em>aop.xml</em></strong> file which is used for load-time weaving, as described in the <a href=\"https://eclipse.org/aspectj/doc/next/devguide/ltw-configuration.html\" rel=\"nofollow noreferrer\">AspectJ documentation</a>.</p>\n"}],"owner":{"account_id":4909118,"reputation":1,"user_id":3954912,"display_name":"kjTheCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35524754,"answer_count":1,"score":0,"last_activity_date":1663963542,"creation_date":1454868946,"question_id":35257182,"body_markdown":"I have to apply Spring AOP for legacy code without changing anything in the existing code. There is no bean concept and the objects are created using new keyword, so no scope of using applicationContext.getBean(&quot;beanName&quot;).  Also the pointcuts will be taken as input from end user and there will be a common aspect class.\r\n\r\nFor eg.\r\n\r\n    package package1;\r\n\r\n    public class Demo1 {\r\n\t\r\n\tpublic void method1()\r\n\t{\r\n\t\tSystem.out.println(&quot;From method1&quot;);\r\n\t}\r\n\r\n\tpublic void method2()\r\n\t{\r\n\t\tSystem.out.println(&quot;From method2&quot;);\r\n\t}\r\n\r\n    }\r\n\r\n\r\n    package package2;\r\n\r\n    public class Demo2 {\r\n\r\n\tpublic void method3()\r\n\t{\r\n\t\tSystem.out.println(&quot;From method3&quot;);\r\n\t}\r\n\r\n\tpublic void method4()\r\n\t{\r\n\t\tSystem.out.println(&quot;From method4&quot;);\r\n\t}\r\n\r\n    }\r\n\r\n    package aspects;\r\n\r\n    public class SpringAspect {\r\n\r\n\tpublic void beforeAdvice(JoinPoint jointPoint)\r\n\t{\r\n\t\tSystem.out.println(&quot;Before method : &quot;+jointPoint.getSignature());\r\n\t}\r\n\r\n    }\r\n\r\nPointcuts taken as input from end user are as follows and their before advisor method is beforeAdvice() from aspects.SpringAspect class :\r\nexecution(* package1.Demo1.method1(..))\r\nexecution(* package2.Demo2.method4(..))\r\n\r\nAlso if it is not possible using Spring AOP, how can I use AspectJ during runtime for the same.\r\n\r\n\r\n\r\n\r\n","title":"how to apply spring aop for legacy code by taking pointcut as input from user","body":"<p>I have to apply Spring AOP for legacy code without changing anything in the existing code. There is no bean concept and the objects are created using new keyword, so no scope of using applicationContext.getBean(\"beanName\").  Also the pointcuts will be taken as input from end user and there will be a common aspect class.</p>\n\n<p>For eg.</p>\n\n<pre><code>package package1;\n\npublic class Demo1 {\n\npublic void method1()\n{\n    System.out.println(\"From method1\");\n}\n\npublic void method2()\n{\n    System.out.println(\"From method2\");\n}\n\n}\n\n\npackage package2;\n\npublic class Demo2 {\n\npublic void method3()\n{\n    System.out.println(\"From method3\");\n}\n\npublic void method4()\n{\n    System.out.println(\"From method4\");\n}\n\n}\n\npackage aspects;\n\npublic class SpringAspect {\n\npublic void beforeAdvice(JoinPoint jointPoint)\n{\n    System.out.println(\"Before method : \"+jointPoint.getSignature());\n}\n\n}\n</code></pre>\n\n<p>Pointcuts taken as input from end user are as follows and their before advisor method is beforeAdvice() from aspects.SpringAspect class :\nexecution(* package1.Demo1.method1(..))\nexecution(* package2.Demo2.method4(..))</p>\n\n<p>Also if it is not possible using Spring AOP, how can I use AspectJ during runtime for the same.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":398994,"reputation":37180,"user_id":764040,"accept_rate":89,"display_name":"maasg"},"score":0,"creation_date":1379853674,"post_id":18943861,"comment_id":27973858,"body_markdown":"If &#39;X contains an element of Y&#39; is the main usecase for your collection, you may want to consider using Set instead.","body":"If &#39;X contains an element of Y&#39; is the main usecase for your collection, you may want to consider using Set instead."}],"answers":[{"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1379854296,"creation_date":1379853551,"answer_id":18943902,"question_id":18943861,"body_markdown":"How about trying like this:-\r\n\r\n    List1.retainAll(List2)\r\n\r\nlike this:-\r\n\r\n    int a[] = {30, 100, 40, 20, 80};\r\n    int b[] = {100, 40, 120, 30, 230, 10, 80};\r\n    List&lt;Integer&gt; 1ist1=  Arrays.asList(a);\r\n    List&lt;Integer&gt; 1ist2=  Arrays.asList(b);\r\n    1ist1.retainsAll(1ist2);\r\n\r\n  ","title":"How can I check if an ArrayList contains any element of another ArrayList?","body":"<p>How about trying like this:-</p>\n\n<pre><code>List1.retainAll(List2)\n</code></pre>\n\n<p>like this:-</p>\n\n<pre><code>int a[] = {30, 100, 40, 20, 80};\nint b[] = {100, 40, 120, 30, 230, 10, 80};\nList&lt;Integer&gt; 1ist1=  Arrays.asList(a);\nList&lt;Integer&gt; 1ist2=  Arrays.asList(b);\n1ist1.retainsAll(1ist2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1379853616,"creation_date":1379853616,"answer_id":18943907,"question_id":18943861,"body_markdown":"Although not highly efficient, this is terse and employs the API:\r\n\r\n    if (!new HashSet&lt;T&gt;(list1).retainAll(list2).isEmpty())\r\n        // at least one element is shared ","title":"How can I check if an ArrayList contains any element of another ArrayList?","body":"<p>Although not highly efficient, this is terse and employs the API:</p>\n\n<pre><code>if (!new HashSet&lt;T&gt;(list1).retainAll(list2).isEmpty())\n    // at least one element is shared \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663963381,"creation_date":1379853803,"answer_id":18943921,"question_id":18943861,"body_markdown":"If you have access to Apache Commons, see [CollectionUtils.intersection(a,b)][1]\r\n\r\nUse like this:\r\n\r\n    ! CollectionUtils.intersection(list1, list2).isEmpty()\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-collections//javadocs/api-3.2.1/org/apache/commons/collections/CollectionUtils.html#intersection%28java.util.Collection,%20java.util.Collection%29","title":"How can I check if an ArrayList contains any element of another ArrayList?","body":"<p>If you have access to Apache Commons, see <a href=\"http://commons.apache.org/proper/commons-collections//javadocs/api-3.2.1/org/apache/commons/collections/CollectionUtils.html#intersection%28java.util.Collection,%20java.util.Collection%29\" rel=\"nofollow noreferrer\">CollectionUtils.intersection(a,b)</a></p>\n<p>Use like this:</p>\n<pre><code>! CollectionUtils.intersection(list1, list2).isEmpty()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1086954,"reputation":29057,"user_id":1082449,"accept_rate":71,"display_name":"davnicwil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379853914,"creation_date":1379853914,"answer_id":18943933,"question_id":18943861,"body_markdown":"If you&#39;re not constrained in using third-party libraries, Apache commons [ListUtils](http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/ListUtils.html) is good for common list operations.\r\n\r\nIn this case you could use the `intersection` method\r\n\r\n    if(!ListUtils.intersection(list1,list2).isEmpty()) {\r\n        // list1 &amp; list2 have at least one element in common\r\n    }","title":"How can I check if an ArrayList contains any element of another ArrayList?","body":"<p>If you're not constrained in using third-party libraries, Apache commons <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/ListUtils.html\" rel=\"nofollow\">ListUtils</a> is good for common list operations.</p>\n\n<p>In this case you could use the <code>intersection</code> method</p>\n\n<pre><code>if(!ListUtils.intersection(list1,list2).isEmpty()) {\n    // list1 &amp; list2 have at least one element in common\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2414779,"reputation":14072,"user_id":2109070,"accept_rate":62,"display_name":"Trying"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1379853965,"creation_date":1379853965,"answer_id":18943944,"question_id":18943861,"body_markdown":"    if(!CollectionUtils.intersection(arrayList1, arrayList2).isEmpty()){\r\n          // has common\r\n    }\r\n    else{\r\n       //no common\r\n    }\r\nuse **`org.apache.commons.collections`**","title":"How can I check if an ArrayList contains any element of another ArrayList?","body":"<pre><code>if(!CollectionUtils.intersection(arrayList1, arrayList2).isEmpty()){\n      // has common\n}\nelse{\n   //no common\n}\n</code></pre>\n\n<p>use <strong><code>org.apache.commons.collections</code></strong></p>\n"},{"tags":[],"owner":{"account_id":958863,"reputation":1311,"user_id":983645,"accept_rate":67,"display_name":"Fallso"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1385560282,"creation_date":1385560282,"answer_id":20244275,"question_id":18943861,"body_markdown":"Consider the following:\r\n[Java SE 7 documentation: java.util.Collections.disjoint][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#disjoint%28java.util.Collection,%20java.util.Collection%29\r\n\r\nThe &quot;disjoint&quot; method takes two collections (listA and listB for example) as parameters and returns &quot;true&quot; if they have no elements in common; thus, if they have any elements in common, it will return false. \r\n\r\nA simple check like this is all that&#39;s required:\r\n\r\n    if (!Collections.disjoint(listA, listB))\r\n    {\r\n      //List &quot;listA&quot; contains elements included in list &quot;listB&quot;\r\n    }","title":"How can I check if an ArrayList contains any element of another ArrayList?","body":"<p>Consider the following:\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#disjoint%28java.util.Collection,%20java.util.Collection%29\" rel=\"noreferrer\">Java SE 7 documentation: java.util.Collections.disjoint</a></p>\n\n<p>The \"disjoint\" method takes two collections (listA and listB for example) as parameters and returns \"true\" if they have no elements in common; thus, if they have any elements in common, it will return false. </p>\n\n<p>A simple check like this is all that's required:</p>\n\n<pre><code>if (!Collections.disjoint(listA, listB))\n{\n  //List \"listA\" contains elements included in list \"listB\"\n}\n</code></pre>\n"}],"owner":{"account_id":974902,"reputation":1253,"user_id":996479,"accept_rate":100,"display_name":"Denman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44491,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"closed_date":1424714885,"accepted_answer_id":18943907,"answer_count":6,"score":23,"last_activity_date":1663963381,"creation_date":1379853234,"question_id":18943861,"body_markdown":"Is there any way to determine whether an ArrayList contains any element of a different ArrayList?\r\n\r\nLike this:\r\n\r\n    list1.contains(any element of list2)\r\n\r\nIs looping through all the elements of `list2` and checking the elements one by one the only way?","title":"How can I check if an ArrayList contains any element of another ArrayList?","body":"<p>Is there any way to determine whether an ArrayList contains any element of a different ArrayList?</p>\n\n<p>Like this:</p>\n\n<pre><code>list1.contains(any element of list2)\n</code></pre>\n\n<p>Is looping through all the elements of <code>list2</code> and checking the elements one by one the only way?</p>\n"},{"tags":["java","tomcat","websocket","synchronization","illegalstateexception"],"comments":[{"owner":{"account_id":6349914,"reputation":33,"user_id":4929307,"display_name":"saim doruklu"},"score":0,"creation_date":1487856885,"post_id":42411679,"comment_id":71979720,"body_markdown":"I found the answer in a forum. Until the future of async call is complete new sendText calls throw llegalStateException.","body":"I found the answer in a forum. Until the future of async call is complete new sendText calls throw llegalStateException."},{"owner":{"account_id":1061472,"reputation":11336,"user_id":1062992,"accept_rate":94,"display_name":"egerardus"},"score":0,"creation_date":1508188652,"post_id":42411679,"comment_id":80504313,"body_markdown":"Thanks for this, how did you check the status of the future of async call in order to solve this?","body":"Thanks for this, how did you check the status of the future of async call in order to solve this?"}],"answers":[{"tags":[],"owner":{"account_id":9765477,"reputation":31,"user_id":7239073,"display_name":"Dominick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663962998,"creation_date":1663962998,"answer_id":73832422,"question_id":42411679,"body_markdown":"Been having the same issue.\r\nI found this solution to work, seems not to create other problems.\r\n\r\n    this.session.getBasicRemote().sendObject(message);\r\n\r\ninstead of using\r\n\r\n    this.session.getAsyncRemote().sendObject(message);\r\n\r\nApparently this is a common issue with tomcat, and the way a websocket session instance can be accessed from different threads at the same times.\r\n\r\n    synchronized(ep)\r\n        {\r\n            this.session.getAsyncRemote().sendObject(message);\r\n        }\r\n\r\nwhere ep is a static object, that did not work either in my experience.","title":"Tomcat websocket TEXT_FULL_WRITING","body":"<p>Been having the same issue.\nI found this solution to work, seems not to create other problems.</p>\n<pre><code>this.session.getBasicRemote().sendObject(message);\n</code></pre>\n<p>instead of using</p>\n<pre><code>this.session.getAsyncRemote().sendObject(message);\n</code></pre>\n<p>Apparently this is a common issue with tomcat, and the way a websocket session instance can be accessed from different threads at the same times.</p>\n<pre><code>synchronized(ep)\n    {\n        this.session.getAsyncRemote().sendObject(message);\n    }\n</code></pre>\n<p>where ep is a static object, that did not work either in my experience.</p>\n"}],"owner":{"account_id":6349914,"reputation":33,"user_id":4929307,"display_name":"saim doruklu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1169,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1663962998,"creation_date":1487842139,"question_id":42411679,"body_markdown":"In Tomcat 8.5.9, session.getAsyncRemote().sendText() method throws \r\n\r\n&gt; java.lang.IllegalStateException: The remote endpoint was in state\r\n&gt; [TEXT_FULL_WRITING]\r\n\r\nI created a mutex acquired before calls to send methods and released after the call:\r\n\r\n     sendMutex.acquireUninterruptibly();\r\n        try{\r\n          session.getAsyncRemote().sendText(gson.toJson(message));\r\n        }catch(Exception exception){\r\n          logger.error(&quot;Session : &quot;+session.getId()+&quot; message : &quot;+gson.toJson(message)+&quot; exception : &quot;+exception.getMessage(),exception);\r\n        }\r\n        sendMutex.release();\r\n\r\nBut exception is still thrown when this method is called. There are no calls to \r\nsession.getAsyncRemote().sendText() or session.getBasicRemote().sendText() other than this method. ServerEndpoint returns void in onMessage method.\r\n\r\nThanks","title":"Tomcat websocket TEXT_FULL_WRITING","body":"<p>In Tomcat 8.5.9, session.getAsyncRemote().sendText() method throws </p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: The remote endpoint was in state\n  [TEXT_FULL_WRITING]</p>\n</blockquote>\n\n<p>I created a mutex acquired before calls to send methods and released after the call:</p>\n\n<pre><code> sendMutex.acquireUninterruptibly();\n    try{\n      session.getAsyncRemote().sendText(gson.toJson(message));\n    }catch(Exception exception){\n      logger.error(\"Session : \"+session.getId()+\" message : \"+gson.toJson(message)+\" exception : \"+exception.getMessage(),exception);\n    }\n    sendMutex.release();\n</code></pre>\n\n<p>But exception is still thrown when this method is called. There are no calls to \nsession.getAsyncRemote().sendText() or session.getBasicRemote().sendText() other than this method. ServerEndpoint returns void in onMessage method.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","netbeans","startup"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1663965802,"post_id":73832367,"comment_id":130371906,"body_markdown":"Which JDKs did you try (have you configured it in &lt;NetBeans-Program Folder&gt;\\etc\\netbeans.conf?) Have you deleted %USERPROFILE\\AppData\\Local\\NetBeans\\Cache\\12.1 already? You can also try to delete %USERPROFILE%\\AppData\\Roaming\\NetBeans\\12.1. BTW: NetBeans 15 was released...","body":"Which JDKs did you try (have you configured it in &lt;NetBeans-Program Folder&gt;\\etc\\netbeans.conf?) Have you deleted %USERPROFILE\\AppData\\Local\\NetBeans\\Cache\\12.1 already? You can also try to delete %USERPROFILE%\\AppData\\Roaming\\NetBeans\\12.1. BTW: NetBeans 15 was released..."},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1663969665,"post_id":73832367,"comment_id":130372727,"body_markdown":"Did you take a look in the logs?","body":"Did you take a look in the logs?"},{"owner":{"account_id":20232024,"reputation":15,"user_id":14838317,"display_name":"Nicholas C"},"score":1,"creation_date":1663969700,"post_id":73832367,"comment_id":130372732,"body_markdown":"@Mihe Second suggestion fixed the issue, genuinely don&#39;t know where this problem came from. Also, I understand Netbeans 15 has been released, I reverted to older versions to see If the problem persisted. Nevertheless, I appreciate the help a lot.","body":"@Mihe Second suggestion fixed the issue, genuinely don&#39;t know where this problem came from. Also, I understand Netbeans 15 has been released, I reverted to older versions to see If the problem persisted. Nevertheless, I appreciate the help a lot."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1663993125,"post_id":73832367,"comment_id":130375101,"body_markdown":"@NicholasC Good that you resolved your issue, but FYI if you get a similar problem again, you need to look in the NetBeans log file for details about that problem. It is a text file and you can view it within NetBeans using **View &gt; IDE Log**. If NetBeans is not running, see [NetBeans - where to find the IDE log?](https://stackoverflow.com/q/50462124/2985643) for details on how to locate that file within your file system, though it is usually somewhere under directory `%USERPROFILE%\\AppData\\Roaming\\NetBeans\\` on Windows.","body":"@NicholasC Good that you resolved your issue, but FYI if you get a similar problem again, you need to look in the NetBeans log file for details about that problem. It is a text file and you can view it within NetBeans using <b>View &gt; IDE Log</b>. If NetBeans is not running, see <a href=\"https://stackoverflow.com/q/50462124/2985643\">NetBeans - where to find the IDE log?</a> for details on how to locate that file within your file system, though it is usually somewhere under directory `%USERPROFILE%\\AppData\\Roaming\\NetBeans` on Windows."}],"owner":{"account_id":20232024,"reputation":15,"user_id":14838317,"display_name":"Nicholas C"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663962586,"creation_date":1663962586,"question_id":73832367,"body_markdown":"I&#39;m having an issue with NetBeans, on the first few startups everything works fine, and I even get some projects finished, but then suddenly Netbeans loads but doesn&#39;t open, and if I try to reopen it all I get is a minimized menu bar (as if you took the menu bar on the top right of your screen and only displayed that). I&#39;ve tried uninstalling and reinstalling the application, changing the JDK being used, and failed at editing a config file which I saw suggested on some other threads, this happens independent of the version installed or the JDK used. I&#39;m really lost because I don&#39;t even get an error message. ","title":"Apache NetBeans 12.6 not opening on windows 10","body":"<p>I'm having an issue with NetBeans, on the first few startups everything works fine, and I even get some projects finished, but then suddenly Netbeans loads but doesn't open, and if I try to reopen it all I get is a minimized menu bar (as if you took the menu bar on the top right of your screen and only displayed that). I've tried uninstalling and reinstalling the application, changing the JDK being used, and failed at editing a config file which I saw suggested on some other threads, this happens independent of the version installed or the JDK used. I'm really lost because I don't even get an error message.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1663963229,"post_id":73832316,"comment_id":130371326,"body_markdown":"Does `Board` have methods that describe its height and width?","body":"Does <code>Board</code> have methods that describe its height and width?"},{"owner":{"account_id":23924614,"reputation":1,"user_id":17919871,"display_name":"astroprab"},"score":0,"creation_date":1663964562,"post_id":73832316,"comment_id":130371621,"body_markdown":"Board has methods ROWS and COLS, idk if that would count as height and width.","body":"Board has methods ROWS and COLS, idk if that would count as height and width."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1663979091,"post_id":73832316,"comment_id":130373923,"body_markdown":"Due to your requirement of wrapping coordinates around (eg column number `-1` means the last column), this code block needs height and width. Have a go at implementing something using `cols.length` if an array or `cols.size()` if a `List`, eg `int colIndex = c == -1 ? cols.length - 1 : c;`","body":"Due to your requirement of wrapping coordinates around (eg column number <code>-1</code> means the last column), this code block needs height and width. Have a go at implementing something using <code>cols.length</code> if an array or <code>cols.size()</code> if a <code>List</code>, eg <code>int colIndex = c == -1 ? cols.length - 1 : c;</code>"},{"owner":{"account_id":23924614,"reputation":1,"user_id":17919871,"display_name":"astroprab"},"score":0,"creation_date":1664038725,"post_id":73832316,"comment_id":130382162,"body_markdown":"Okay cool, could you please tell me what my code would look like? like do i try changing the row or the r in my code. Some example would really help, because I am very new to coding and especially java.","body":"Okay cool, could you please tell me what my code would look like? like do i try changing the row or the r in my code. Some example would really help, because I am very new to coding and especially java."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1664040451,"post_id":73832316,"comment_id":130382519,"body_markdown":"Does the board inherently wrap around? If yes, you should create a `get(x, y)` method for Board and put the wrapping logic there. If not, create a similar method `get(board, x, y)` somewhere else.","body":"Does the board inherently wrap around? If yes, you should create a <code>get(x, y)</code> method for Board and put the wrapping logic there. If not, create a similar method <code>get(board, x, y)</code> somewhere else."}],"owner":{"account_id":23924614,"reputation":1,"user_id":17919871,"display_name":"astroprab"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663962350,"creation_date":1663962283,"question_id":73832316,"body_markdown":"Hi I am trying to check the surrounding neighbours of a cell using this function, and I need it to logically wrap around the grid to count the amount of 1s in the surrounding 8 cells.\r\n\r\nThis is the code I have so far. I know I am supposed to use modulo for this to work but I have no idea how that would work, more importantly I have no idea how to implement it in this function. I also know that I am supposed to do something like r - 1 and y - 1 to check the cells, but again I have no idea how that works with modulo \r\n\r\n\r\nThe if statement above is my attempt at doing this, but I clearly lack understanding of what I am doing. \r\n\r\nCurrently, this function goes through each cell on the grid using the 2 for loops. Beyond that, I need it to check the surrounding 8 cells for &quot;1&quot;s, and on the border, I need it to check the other side of the grid (i.g. wrap around as if the grid was spherical).\r\n\r\nCan someone please explain and give me a solution to this? Greatly appreciate any help.\r\n\r\n\r\n``` \r\npublic static int countNeighbours(int row, int col, Board b)\r\n    {\r\n        int count = 0;\r\n        for (int r = row - 1; r &lt;= row + 1; r++)\r\n        {\r\n            for (int c = col - 1; c &lt;= col + 1; c++)\r\n            {\r\n                \r\n                    \r\n                    \r\n               if (b.get(r - 1 + row) % row)((c - 1 + col) % col) = 1); {\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    } \r\n```\r\n\r\n\r\n\r\n","title":"How do I make this wrap around function work in java?","body":"<p>Hi I am trying to check the surrounding neighbours of a cell using this function, and I need it to logically wrap around the grid to count the amount of 1s in the surrounding 8 cells.</p>\n<p>This is the code I have so far. I know I am supposed to use modulo for this to work but I have no idea how that would work, more importantly I have no idea how to implement it in this function. I also know that I am supposed to do something like r - 1 and y - 1 to check the cells, but again I have no idea how that works with modulo</p>\n<p>The if statement above is my attempt at doing this, but I clearly lack understanding of what I am doing.</p>\n<p>Currently, this function goes through each cell on the grid using the 2 for loops. Beyond that, I need it to check the surrounding 8 cells for &quot;1&quot;s, and on the border, I need it to check the other side of the grid (i.g. wrap around as if the grid was spherical).</p>\n<p>Can someone please explain and give me a solution to this? Greatly appreciate any help.</p>\n<pre><code>public static int countNeighbours(int row, int col, Board b)\n    {\n        int count = 0;\n        for (int r = row - 1; r &lt;= row + 1; r++)\n        {\n            for (int c = col - 1; c &lt;= col + 1; c++)\n            {\n                \n                    \n                    \n               if (b.get(r - 1 + row) % row)((c - 1 + col) % col) = 1); {\n                    count++;\n                }\n            }\n        }\n        return count;\n    } \n</code></pre>\n"},{"tags":["javascript","java","groovy"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1663968288,"post_id":73832278,"comment_id":130372488,"body_markdown":"I don&#39;t understand. What application should auto import the csv file?","body":"I don&#39;t understand. What application should auto import the csv file?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664009536,"post_id":73832278,"comment_id":130376997,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26425716,"reputation":1,"user_id":20072725,"display_name":"Tejas Journey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663962001,"creation_date":1663962001,"question_id":73832278,"body_markdown":"I have exported a file and saved it as .csv, now I need an auto import functionality as soon I generate/export a file and save it as csv. \r\n\r\nex: i have saved it on my desktop/ in any drive location.\r\n\r\nsource i am generating file is from medis suite 4.0 application which will be used for CMR readings.\r\n.\r\n\r\nany suggestions appreciable.\r\n\r\nThanks ","title":"what property can be used in xml to auto import csv file in to a form?","body":"<p>I have exported a file and saved it as .csv, now I need an auto import functionality as soon I generate/export a file and save it as csv.</p>\n<p>ex: i have saved it on my desktop/ in any drive location.</p>\n<p>source i am generating file is from medis suite 4.0 application which will be used for CMR readings.\n.</p>\n<p>any suggestions appreciable.</p>\n<p>Thanks</p>\n"},{"tags":["java","ip"],"answers":[{"tags":[],"owner":{"account_id":25557844,"reputation":93,"user_id":19340995,"display_name":"gmrm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663960330,"creation_date":1663960330,"answer_id":73832031,"question_id":73831837,"body_markdown":"Strings in java are `Comparable`.\r\nThis means you can order them with `ip1.compareTo(ip)`.\r\nThe best part is that it works even with the `.` in the ips.\r\n\r\nHere is a code sample that tells if an ip is in range of two others (not inclusive).\r\n\r\n    public static Boolean check(String ip1, String ip2, String test){\r\n        return ip1.compareTo(test) &lt; 0 &amp;&amp; ip2.compareTo(test) &gt; 0;\r\n    }\r\n\r\nYou can test it here: https://www.jdoodle.com/iembed/v0/vRZ","title":"chek if the elements of the list is between two ip addresses in java","body":"<p>Strings in java are <code>Comparable</code>.\nThis means you can order them with <code>ip1.compareTo(ip)</code>.\nThe best part is that it works even with the <code>.</code> in the ips.</p>\n<p>Here is a code sample that tells if an ip is in range of two others (not inclusive).</p>\n<pre><code>public static Boolean check(String ip1, String ip2, String test){\n    return ip1.compareTo(test) &lt; 0 &amp;&amp; ip2.compareTo(test) &gt; 0;\n}\n</code></pre>\n<p>You can test it here: <a href=\"https://www.jdoodle.com/iembed/v0/vRZ\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/vRZ</a></p>\n"},{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663961979,"creation_date":1663961979,"answer_id":73832276,"question_id":73831837,"body_markdown":"Since IP address are made of 4 &quot;bytes&quot; (numbers between 0 and 255), an IP can be encoded into an unsigned integer, and integer are definitely easier to use for operation involving comparison.\r\n\r\nThere is no true unsigned integer in Java, but you can use a long. Below are examples of methods to transform an IP to its long representation (and the inverse operation):\r\n\r\n    private static long ipToLong(String ipAsString) {\r\n        return Arrays.stream(ipAsString.split(&quot;\\\\.&quot;))\r\n                     .map(Long::parseLong)\r\n                     .reduce(0L, (built, b) -&gt; (built &lt;&lt; 8) | b);\r\n    }\r\n\r\n    private static String longToIp(long ipAsLong) {\r\n        return IntStream.of(24,16,8,0)\r\n                .mapToLong(n -&gt; ((ipAsLong)&gt;&gt;n)&amp;0xff)\r\n                .mapToObj(String::valueOf)\r\n                .collect(Collectors.joining(&quot;.&quot;));\r\n    }\r\n\r\nWith this, IP1 will be before IP2 if the long representation of IP1 is lower than the one of IP2. For instance to filter IP address:\r\n\r\n    public static String[] select(String ipStart, String ipEnd, String[] addresses) {\r\n        final var start = ipToLong(ipStart);\r\n        final var end = ipToLong(ipEnd);\r\n\r\n        final Predicate&lt;String&gt; isInRange = ip -&gt; {final var value = ipToLong(ip);return value&gt;=start &amp;&amp; value&lt;=end;};\r\n\r\n        return Arrays.stream(addresses).filter(isInRange).toArray(String[]::new);\r\n    }\r\n","title":"chek if the elements of the list is between two ip addresses in java","body":"<p>Since IP address are made of 4 &quot;bytes&quot; (numbers between 0 and 255), an IP can be encoded into an unsigned integer, and integer are definitely easier to use for operation involving comparison.</p>\n<p>There is no true unsigned integer in Java, but you can use a long. Below are examples of methods to transform an IP to its long representation (and the inverse operation):</p>\n<pre><code>private static long ipToLong(String ipAsString) {\n    return Arrays.stream(ipAsString.split(&quot;\\\\.&quot;))\n                 .map(Long::parseLong)\n                 .reduce(0L, (built, b) -&gt; (built &lt;&lt; 8) | b);\n}\n\nprivate static String longToIp(long ipAsLong) {\n    return IntStream.of(24,16,8,0)\n            .mapToLong(n -&gt; ((ipAsLong)&gt;&gt;n)&amp;0xff)\n            .mapToObj(String::valueOf)\n            .collect(Collectors.joining(&quot;.&quot;));\n}\n</code></pre>\n<p>With this, IP1 will be before IP2 if the long representation of IP1 is lower than the one of IP2. For instance to filter IP address:</p>\n<pre><code>public static String[] select(String ipStart, String ipEnd, String[] addresses) {\n    final var start = ipToLong(ipStart);\n    final var end = ipToLong(ipEnd);\n\n    final Predicate&lt;String&gt; isInRange = ip -&gt; {final var value = ipToLong(ip);return value&gt;=start &amp;&amp; value&lt;=end;};\n\n    return Arrays.stream(addresses).filter(isInRange).toArray(String[]::new);\n}\n</code></pre>\n"}],"owner":{"account_id":23333616,"reputation":11,"user_id":17409633,"display_name":"Alzayer70"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663961979,"creation_date":1663959136,"question_id":73831837,"body_markdown":"I want to write a function that receives two variables of type String representing two IP addresses and a third variable representing a group of IP addresses. The function returns all addresses between IP1 and IP2 from the given set of addresses, taking into account the order.\r\n\r\nthis is the function signature:\r\n\r\n    public static String[] get_available_IPs(String ip1, String ip2, String[] addresses)\r\n\r\n\r\nI tried to split each ip to compare them in the end but I didn&#39;t get any result\r\n\r\nThis is the code that I wrote while i&#39;m trying to solve this problem.\r\nI don&#39;t think that it will help you to solve the problem but I just want you to take a look of what I did.\r\n\r\n    String[] ip_numbers1 = ip1.split(&quot;\\\\.&quot;);\r\n        String[] ip_numbers2 = ip2.split(&quot;\\\\.&quot;);\r\n        String[][] ip_numbers3 = new String[4][addresses.length];\r\n        \r\n        boolean[] flags = new boolean[4];\r\n        \r\n        for (int i = 0; i &lt; addresses.length; i++) {\r\n            for (int j = 0; j &lt; 4; j++) {\r\n                String[] new1 = addresses[j].split(&quot;\\\\.&quot;);\r\n                for (int k = 0; k &lt; 4; k++) {\r\n                    ip_numbers3[j][k] = new1[k];\r\n                }\r\n            }\r\n        }\r\n        \r\n        for (int i = 0; i &lt; ip_numbers3.length; i++) {\r\n            if (Integer.parseInt(ip_numbers1[0]) &lt;= Integer.parseInt(ip_numbers3[i][0])\r\n                    &amp;&amp; Integer.parseInt(ip_numbers2[0]) &gt;= Integer.parseInt(ip_numbers3[i][0])) {\r\n                flags[i] = true;\r\n            }\r\n        }\r\n\r\nsample inputs and outputs:\r\n\r\n    input:\r\n    ip1 = &#39;192.168.1.1&#39;\r\n    ip2 = &#39;220.150.1.0&#39;\r\n    addresses = [&#39;193.168.10.20&#39;,&#39;221.155.1.5&#39;,&#39;194.200.1.5&#39;,&#39;192.168.1.2&#39;]\r\n\r\n    output:\r\n    [&#39;194.200.1.5&#39;,&#39;193.168.10.20&#39;,&#39;192.168.1.2&#39;]\r\n\r\n    input:\r\n    ip1 = &#39;191.168.1.1&#39;\r\n    ip2 = &#39;222.155.1.5&#39;\r\n    addresses = [&#39;193.168.10.20&#39;,&#39;221.155.1.5&#39;,&#39;194.200.1.5&#39;,&#39;192.168.1.1&#39;]\r\n\r\n    output:\r\n    [&#39;221.155.1.5&#39;,&#39;194.200.1.5&#39;,&#39;193.168.10.20&#39;,&#39;192.168.1.1&#39;]","title":"chek if the elements of the list is between two ip addresses in java","body":"<p>I want to write a function that receives two variables of type String representing two IP addresses and a third variable representing a group of IP addresses. The function returns all addresses between IP1 and IP2 from the given set of addresses, taking into account the order.</p>\n<p>this is the function signature:</p>\n<pre><code>public static String[] get_available_IPs(String ip1, String ip2, String[] addresses)\n</code></pre>\n<p>I tried to split each ip to compare them in the end but I didn't get any result</p>\n<p>This is the code that I wrote while i'm trying to solve this problem.\nI don't think that it will help you to solve the problem but I just want you to take a look of what I did.</p>\n<pre><code>String[] ip_numbers1 = ip1.split(&quot;\\\\.&quot;);\n    String[] ip_numbers2 = ip2.split(&quot;\\\\.&quot;);\n    String[][] ip_numbers3 = new String[4][addresses.length];\n    \n    boolean[] flags = new boolean[4];\n    \n    for (int i = 0; i &lt; addresses.length; i++) {\n        for (int j = 0; j &lt; 4; j++) {\n            String[] new1 = addresses[j].split(&quot;\\\\.&quot;);\n            for (int k = 0; k &lt; 4; k++) {\n                ip_numbers3[j][k] = new1[k];\n            }\n        }\n    }\n    \n    for (int i = 0; i &lt; ip_numbers3.length; i++) {\n        if (Integer.parseInt(ip_numbers1[0]) &lt;= Integer.parseInt(ip_numbers3[i][0])\n                &amp;&amp; Integer.parseInt(ip_numbers2[0]) &gt;= Integer.parseInt(ip_numbers3[i][0])) {\n            flags[i] = true;\n        }\n    }\n</code></pre>\n<p>sample inputs and outputs:</p>\n<pre><code>input:\nip1 = '192.168.1.1'\nip2 = '220.150.1.0'\naddresses = ['193.168.10.20','221.155.1.5','194.200.1.5','192.168.1.2']\n\noutput:\n['194.200.1.5','193.168.10.20','192.168.1.2']\n\ninput:\nip1 = '191.168.1.1'\nip2 = '222.155.1.5'\naddresses = ['193.168.10.20','221.155.1.5','194.200.1.5','192.168.1.1']\n\noutput:\n['221.155.1.5','194.200.1.5','193.168.10.20','192.168.1.1']\n</code></pre>\n"},{"tags":["java","spring-security","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1664030668,"post_id":73831798,"comment_id":130380575,"body_markdown":"Any reason to why you are not using the built in JWT functionality that comes with spring security?","body":"Any reason to why you are not using the built in JWT functionality that comes with spring security?"}],"answers":[{"tags":[],"owner":{"account_id":745399,"reputation":872,"user_id":731938,"display_name":"Igor Kanshyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663961643,"creation_date":1663961643,"answer_id":73832230,"question_id":73831798,"body_markdown":"Your configuration does not have a place where you require authorization nor allow any calls without authorization.\r\n\r\nI believe you need to have sections like this: \r\n\r\n    .and()\r\n    .authorizeRequests()\r\n\r\nor/and\r\n\r\n    .antMatchers(&quot;/actuator/**&quot;).permitAll()\r\n    .and()\r\n\r\nin your springSecurityFilterChain.\r\n\r\nPlease, also consider allowing everything and then adding security configuration step by step. ","title":"webFlux application returns 404 on any request","body":"<p>Your configuration does not have a place where you require authorization nor allow any calls without authorization.</p>\n<p>I believe you need to have sections like this:</p>\n<pre><code>.and()\n.authorizeRequests()\n</code></pre>\n<p>or/and</p>\n<pre><code>.antMatchers(&quot;/actuator/**&quot;).permitAll()\n.and()\n</code></pre>\n<p>in your springSecurityFilterChain.</p>\n<p>Please, also consider allowing everything and then adding security configuration step by step.</p>\n"}],"owner":{"account_id":26425357,"reputation":19,"user_id":20072410,"display_name":"Daniil Panyushin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1663961643,"creation_date":1663958827,"question_id":73831798,"body_markdown":"WebFlux returns 404 on any request, no matter if you are authorized or not. \r\nIn my application I&#39;m not using users, but I have tokens, representing their authentication.\r\nIf token is valid if give access.\r\n\r\nController:\r\n\r\n``` \r\n@RestController\r\n@RequestMapping(&quot;api/token&quot;)\r\npublic class TokenController {\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    public Mono&lt;ServerResponse&gt; helloWorld() {\r\n        return ServerResponse.ok().bodyValue(&quot;Hello world!&quot;);\r\n    }\r\n\r\n}\r\n```\r\nSecupityConfigure:\r\n```\r\n\r\n@EnableWebFluxSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(\r\n            ServerHttpSecurity http,\r\n            JwtAuthenticationConverter converter,\r\n            JwtAuthenticationManager manager\r\n    ) {\r\n\r\n        AuthenticationWebFilter filter = new AuthenticationWebFilter(manager);\r\n\r\n        filter.setServerAuthenticationConverter(converter);\r\n\r\n        return http\r\n                .httpBasic().disable()\r\n                .csrf().disable()\r\n                .cors().disable()\r\n                .formLogin().disable()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(\r\n                        (swe, e) -&gt;\r\n                                Mono.fromRunnable(\r\n                                        () -&gt; swe.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED)\r\n                                )\r\n                )\r\n                .accessDeniedHandler(\r\n                        (swe, e) -&gt;\r\n                                Mono.fromRunnable(\r\n                                        () -&gt; swe.getResponse().setStatusCode(HttpStatus.FORBIDDEN)\r\n                                )\r\n                )\r\n                .and()\r\n                    .authorizeExchange()\r\n                        .pathMatchers(&quot;api/token*&quot;).permitAll()\r\n                    .anyExchange().authenticated()\r\n                .and()\r\n                .addFilterAt(filter, SecurityWebFiltersOrder.AUTHENTICATION)\r\n                .build();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nJwtAuthenticationManager, JwtAuthenticationProvider and JwtAuthenticationConverter working fine.","title":"webFlux application returns 404 on any request","body":"<p>WebFlux returns 404 on any request, no matter if you are authorized or not.\nIn my application I'm not using users, but I have tokens, representing their authentication.\nIf token is valid if give access.</p>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/token&quot;)\npublic class TokenController {\n\n    @GetMapping(&quot;&quot;)\n    public Mono&lt;ServerResponse&gt; helloWorld() {\n        return ServerResponse.ok().bodyValue(&quot;Hello world!&quot;);\n    }\n\n}\n</code></pre>\n<p>SecupityConfigure:</p>\n<pre><code>\n@EnableWebFluxSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(\n            ServerHttpSecurity http,\n            JwtAuthenticationConverter converter,\n            JwtAuthenticationManager manager\n    ) {\n\n        AuthenticationWebFilter filter = new AuthenticationWebFilter(manager);\n\n        filter.setServerAuthenticationConverter(converter);\n\n        return http\n                .httpBasic().disable()\n                .csrf().disable()\n                .cors().disable()\n                .formLogin().disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(\n                        (swe, e) -&gt;\n                                Mono.fromRunnable(\n                                        () -&gt; swe.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED)\n                                )\n                )\n                .accessDeniedHandler(\n                        (swe, e) -&gt;\n                                Mono.fromRunnable(\n                                        () -&gt; swe.getResponse().setStatusCode(HttpStatus.FORBIDDEN)\n                                )\n                )\n                .and()\n                    .authorizeExchange()\n                        .pathMatchers(&quot;api/token*&quot;).permitAll()\n                    .anyExchange().authenticated()\n                .and()\n                .addFilterAt(filter, SecurityWebFiltersOrder.AUTHENTICATION)\n                .build();\n    }\n\n}\n\n</code></pre>\n<p>JwtAuthenticationManager, JwtAuthenticationProvider and JwtAuthenticationConverter working fine.</p>\n"},{"tags":["java","android","auto-update","in-app"],"owner":{"account_id":24055839,"reputation":11,"user_id":18033663,"display_name":"user18033663"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663961599,"creation_date":1663961599,"question_id":73832222,"body_markdown":"I have implemented in-app update code to my android mobile app to check if any upgraded version is available with the google play store and notify if any and then download it. But it is not at all working.\r\n\r\nMy code(MainActivity.java) is, as follow:-\r\n-----------------------\r\n```\r\n\r\nimport android.content.Intent;\r\nimport android.content.IntentSender;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.android.play.core.appupdate.AppUpdateInfo;\r\nimport com.google.android.play.core.appupdate.AppUpdateManager;\r\nimport com.google.android.play.core.appupdate.AppUpdateManagerFactory;\r\nimport com.google.android.play.core.install.InstallStateUpdatedListener;\r\nimport com.google.android.play.core.install.model.AppUpdateType;\r\nimport com.google.android.play.core.install.model.InstallStatus;\r\nimport com.google.android.play.core.install.model.UpdateAvailability;\r\nimport com.google.android.play.core.tasks.Task;\r\n\r\n\r\nimport java.io.*;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.annotation.NonNull;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\n\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity implements BottomNavigationView.OnNavigationItemSelectedListener {\r\n\r\n   \r\n    private AppUpdateManager appUpdateManager;\r\n    private static final int IMMEDIATE_APP_UPDATE_REQ_CODE = 124;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_main);\r\n\r\n   \r\n\r\n        appUpdateManager = AppUpdateManagerFactory.create(getApplicationContext());\r\n        checkUpdate();\r\n    }\r\n\r\n\r\n   \r\n   \r\n\r\n    private void checkUpdate() {\r\n\r\n        Task&lt;AppUpdateInfo&gt; appUpdateInfoTask = appUpdateManager.getAppUpdateInfo();\r\n\r\n        appUpdateInfoTask.addOnSuccessListener(appUpdateInfo -&gt; {\r\n            if (appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE\r\n                    &amp;&amp; appUpdateInfo.isUpdateTypeAllowed(AppUpdateType.IMMEDIATE)) {\r\n                startUpdateFlow(appUpdateInfo);\r\n            } else if  (appUpdateInfo.updateAvailability() == UpdateAvailability.DEVELOPER_TRIGGERED_UPDATE_IN_PROGRESS){\r\n                startUpdateFlow(appUpdateInfo);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void startUpdateFlow(AppUpdateInfo appUpdateInfo) {\r\n        try {\r\n            appUpdateManager.startUpdateFlowForResult(appUpdateInfo, AppUpdateType.IMMEDIATE, this, MainActivity.IMMEDIATE_APP_UPDATE_REQ_CODE);\r\n        } catch (IntentSender.SendIntentException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == IMMEDIATE_APP_UPDATE_REQ_CODE) {\r\n            if (resultCode == RESULT_CANCELED) {\r\n                Toast.makeText(getApplicationContext(), &quot;Update canceled by user! Result Code: &quot; + resultCode, Toast.LENGTH_LONG).show();\r\n            } else if (resultCode == RESULT_OK) {\r\n                Toast.makeText(getApplicationContext(), &quot;Update success! Result Code: &quot; + resultCode, Toast.LENGTH_LONG).show();\r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;Update Failed! Result Code: &quot; + resultCode, Toast.LENGTH_LONG).show();\r\n                checkUpdate();\r\n            }\r\n        }\r\n    }\r\n\r\n   }\r\n\r\n\r\n```\r\n\r\nI have also put ```implementation &#39;com.google.android.play:core:1.10.3&#39;``` in the dependencies of build.gradle(:app)\r\n-----------------------\r\n\r\n\r\nPlease let me know where the issue is and oblige me thereby.\r\n\r\n\r\nThanks.","title":"Android mobile app&#39;s in-app update is not working","body":"<p>I have implemented in-app update code to my android mobile app to check if any upgraded version is available with the google play store and notify if any and then download it. But it is not at all working.</p>\n<h2>My code(MainActivity.java) is, as follow:-</h2>\n<pre><code>\nimport android.content.Intent;\nimport android.content.IntentSender;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.android.material.snackbar.Snackbar;\nimport com.google.android.play.core.appupdate.AppUpdateInfo;\nimport com.google.android.play.core.appupdate.AppUpdateManager;\nimport com.google.android.play.core.appupdate.AppUpdateManagerFactory;\nimport com.google.android.play.core.install.InstallStateUpdatedListener;\nimport com.google.android.play.core.install.model.AppUpdateType;\nimport com.google.android.play.core.install.model.InstallStatus;\nimport com.google.android.play.core.install.model.UpdateAvailability;\nimport com.google.android.play.core.tasks.Task;\n\n\nimport java.io.*;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.annotation.NonNull;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\n\n\nimport android.os.Bundle;\nimport android.view.MenuItem;\n\n\npublic class MainActivity extends AppCompatActivity implements BottomNavigationView.OnNavigationItemSelectedListener {\n\n   \n    private AppUpdateManager appUpdateManager;\n    private static final int IMMEDIATE_APP_UPDATE_REQ_CODE = 124;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n\n   \n\n        appUpdateManager = AppUpdateManagerFactory.create(getApplicationContext());\n        checkUpdate();\n    }\n\n\n   \n   \n\n    private void checkUpdate() {\n\n        Task&lt;AppUpdateInfo&gt; appUpdateInfoTask = appUpdateManager.getAppUpdateInfo();\n\n        appUpdateInfoTask.addOnSuccessListener(appUpdateInfo -&gt; {\n            if (appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE\n                    &amp;&amp; appUpdateInfo.isUpdateTypeAllowed(AppUpdateType.IMMEDIATE)) {\n                startUpdateFlow(appUpdateInfo);\n            } else if  (appUpdateInfo.updateAvailability() == UpdateAvailability.DEVELOPER_TRIGGERED_UPDATE_IN_PROGRESS){\n                startUpdateFlow(appUpdateInfo);\n            }\n        });\n    }\n\n    private void startUpdateFlow(AppUpdateInfo appUpdateInfo) {\n        try {\n            appUpdateManager.startUpdateFlowForResult(appUpdateInfo, AppUpdateType.IMMEDIATE, this, MainActivity.IMMEDIATE_APP_UPDATE_REQ_CODE);\n        } catch (IntentSender.SendIntentException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == IMMEDIATE_APP_UPDATE_REQ_CODE) {\n            if (resultCode == RESULT_CANCELED) {\n                Toast.makeText(getApplicationContext(), &quot;Update canceled by user! Result Code: &quot; + resultCode, Toast.LENGTH_LONG).show();\n            } else if (resultCode == RESULT_OK) {\n                Toast.makeText(getApplicationContext(), &quot;Update success! Result Code: &quot; + resultCode, Toast.LENGTH_LONG).show();\n            } else {\n                Toast.makeText(getApplicationContext(), &quot;Update Failed! Result Code: &quot; + resultCode, Toast.LENGTH_LONG).show();\n                checkUpdate();\n            }\n        }\n    }\n\n   }\n\n\n</code></pre>\n<h2>I have also put <code>implementation 'com.google.android.play:core:1.10.3'</code> in the dependencies of build.gradle(:app)</h2>\n<p>Please let me know where the issue is and oblige me thereby.</p>\n<p>Thanks.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363356555,"creation_date":1363356555,"answer_id":15434530,"question_id":15434464,"body_markdown":"For the test cases you give, you could use this : `(\\d+\\.\\d+).*_(\\d+)`","title":"Java regex to extract version","body":"<p>For the test cases you give, you could use this : <code>(\\d+\\.\\d+).*_(\\d+)</code></p>\n"},{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363380334,"creation_date":1363357652,"answer_id":15434914,"question_id":15434464,"body_markdown":"Re-read your question, my old answer didn&#39;t cover stopping at the first decimal point. \r\nThis should solve your problem:\r\n\r\n    Pattern p = Pattern.compile(&quot;.*?(\\\\d+[.]\\\\d+).*?_(\\\\d+)&quot;);\r\n\r\nTested:\r\n\r\n     String input = &quot;java version 1.7.0_17&quot;;\r\n     Pattern pattern = Pattern.compile(&quot;.*?(\\\\d+[.]\\\\d+).*?_(\\\\d+)&quot;);\r\n     Matcher matcher = pattern.matcher(input);\r\n     if (matcher.find()) {\r\n         String version = matcher.group(1); // 1.7\r\n         String update  = matcher.group(2); // 17\r\n    }\r\n\r\n---\r\n\r\n**Old version:**\r\n\r\nInstead of finding the numbers, I&#39;d get rid of the rest:\r\n\r\n    String string  = &quot;java version 1.7.0_17&quot;;\r\n    String[] parts = string.split(&quot;[\\\\p{Alpha}\\\\s_]+&quot;, -1);\r\n    String version = parts[1]; // 1.7.0\r\n    String update  = parts[2]; // 17","title":"Java regex to extract version","body":"<p>Re-read your question, my old answer didn't cover stopping at the first decimal point. \nThis should solve your problem:</p>\n\n<pre><code>Pattern p = Pattern.compile(\".*?(\\\\d+[.]\\\\d+).*?_(\\\\d+)\");\n</code></pre>\n\n<p>Tested:</p>\n\n<pre><code> String input = \"java version 1.7.0_17\";\n Pattern pattern = Pattern.compile(\".*?(\\\\d+[.]\\\\d+).*?_(\\\\d+)\");\n Matcher matcher = pattern.matcher(input);\n if (matcher.find()) {\n     String version = matcher.group(1); // 1.7\n     String update  = matcher.group(2); // 17\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Old version:</strong></p>\n\n<p>Instead of finding the numbers, I'd get rid of the rest:</p>\n\n<pre><code>String string  = \"java version 1.7.0_17\";\nString[] parts = string.split(\"[\\\\p{Alpha}\\\\s_]+\", -1);\nString version = parts[1]; // 1.7.0\nString update  = parts[2]; // 17\n</code></pre>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663961398,"creation_date":1363356354,"question_id":15434464,"body_markdown":"I am trying to write a Java regex to strip off Java version from string I get from `java -version` command.\r\n\r\nIf the string is `java version 1.7.0_17` I need to extract 1.7 and 17 separately. Suppose if the string is `java version 1.06_18` I need to extract 1.06 and 18. Where first string should be only till the first decimal point. I tried with the below regex:\r\n\r\n    Pattern p = Pattern.compile(&quot;.*\\&quot;(.+)_(.+)\\&quot;&quot;);\r\n\r\nBut it extracts only 1.7.0 and 17, but I not sure how to stop still one decimal point.\r\n","title":"Java regex to extract version","body":"<p>I am trying to write a Java regex to strip off Java version from string I get from <code>java -version</code> command.</p>\n<p>If the string is <code>java version 1.7.0_17</code> I need to extract 1.7 and 17 separately. Suppose if the string is <code>java version 1.06_18</code> I need to extract 1.06 and 18. Where first string should be only till the first decimal point. I tried with the below regex:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;.*\\&quot;(.+)_(.+)\\&quot;&quot;);\n</code></pre>\n<p>But it extracts only 1.7.0 and 17, but I not sure how to stop still one decimal point.</p>\n"},{"tags":["java","jakarta-mail","sendmail"],"comments":[{"owner":{"account_id":126997,"reputation":4184,"user_id":323871,"accept_rate":48,"display_name":"Sudhanshu Umalkar"},"score":0,"creation_date":1365407167,"post_id":15873809,"comment_id":22597116,"body_markdown":"That&#39;s mail server settings. Its required for gmail.","body":"That&#39;s mail server settings. Its required for gmail."}],"answers":[{"tags":[],"owner":{"account_id":1212053,"reputation":15172,"user_id":1198729,"accept_rate":88,"display_name":"Manishearth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1365407463,"creation_date":1365407463,"answer_id":15873933,"question_id":15873809,"body_markdown":"The GMail smtp server seems to require TLS authentication. (See [here][1]). Which means that the server will reject your query if you do not enable TLS.\r\n\r\nSo yes, to connect to _GMail_ you need to enable TLS. For a general mail server there usually is no need.\r\n\r\n\r\n  [1]: https://support.google.com/mail/troubleshooter/1668960?rd=1#ts=1665018,1665144","title":"Using Java mail API","body":"<p>The GMail smtp server seems to require TLS authentication. (See <a href=\"https://support.google.com/mail/troubleshooter/1668960?rd=1#ts=1665018,1665144\" rel=\"nofollow\">here</a>). Which means that the server will reject your query if you do not enable TLS.</p>\n\n<p>So yes, to connect to <em>GMail</em> you need to enable TLS. For a general mail server there usually is no need.</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15873933,"answer_count":1,"score":0,"last_activity_date":1663961315,"creation_date":1365406991,"question_id":15873809,"body_markdown":"I am using Java mail API to send a mail using `smtp.gmail.com` as host. When I use the below code and enable TLS it works fine but if I disable it, it&#39;s throwing `Must issue a STARTTLS command first` error. \r\n\r\n           mailProperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\nWhat does it mean? So to connect to Gmail I should set this flag always? And also to connect to any mail server should we always enable secure connection (TLS or SSL)?\r\n","title":"Using Java mail API","body":"<p>I am using Java mail API to send a mail using <code>smtp.gmail.com</code> as host. When I use the below code and enable TLS it works fine but if I disable it, it's throwing <code>Must issue a STARTTLS command first</code> error.</p>\n<pre><code>       mailProperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n</code></pre>\n<p>What does it mean? So to connect to Gmail I should set this flag always? And also to connect to any mail server should we always enable secure connection (TLS or SSL)?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1663651811,"post_id":73781959,"comment_id":130283726,"body_markdown":"Please add the full stack trace to your question.","body":"Please add the full stack trace to your question."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1663652758,"post_id":73781959,"comment_id":130283941,"body_markdown":"SInce you are doing this while iterating over the `child` collection of `parent` it&#39;s very likely that `childRepository.save(child)` is changing that collection. WIthout the stacktrace and maybe more core it&#39;s hard to tell though. What you could do: a) create a copy of the `child` collection and iterate over that of b) collect the events into a collection while iterating over `child` and publish them in a separate look (or provide a `publishEvents(Collection&lt;NewEvent&gt;)` method which you feed the collection of events to).","body":"SInce you are doing this while iterating over the <code>child</code> collection of <code>parent</code> it&#39;s very likely that <code>childRepository.save(child)</code> is changing that collection. WIthout the stacktrace and maybe more core it&#39;s hard to tell though. What you could do: a) create a copy of the <code>child</code> collection and iterate over that of b) collect the events into a collection while iterating over <code>child</code> and publish them in a separate look (or provide a <code>publishEvents(Collection&lt;NewEvent&gt;)</code> method which you feed the collection of events to)."}],"answers":[{"tags":[],"owner":{"account_id":11942036,"reputation":164,"user_id":8738512,"display_name":"David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663653866,"creation_date":1663653866,"answer_id":73782237,"question_id":73781959,"body_markdown":"You can iterate over a copy of the list like this:\r\n\r\n    var children = new ArrayList&lt;&gt;(parent.getChild());\r\n    children .forEach(child -&gt; {\r\n      if (child.getStatus().equals(&quot;PENDING&quot;)) {\r\n        applicationEventPublisher.publishEvent(new NewEvent(child));\r\n        publishLifeCycleEvent(deal);\r\n      }\r\n    });","title":"Java iterating collection throws ConcurrentModificationException after Save","body":"<p>You can iterate over a copy of the list like this:</p>\n<pre><code>var children = new ArrayList&lt;&gt;(parent.getChild());\nchildren .forEach(child -&gt; {\n  if (child.getStatus().equals(&quot;PENDING&quot;)) {\n    applicationEventPublisher.publishEvent(new NewEvent(child));\n    publishLifeCycleEvent(deal);\n  }\n});\n</code></pre>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663960848,"creation_date":1663651318,"question_id":73781959,"body_markdown":"I am using Hibernate for saving the objects to DB. I have a Parent object and set of child objects under it. While iterating over the child objects, if a specific criteria is matched then I publish an event using ApplicationEventPublisher, this event is handled separately, which adds few additional logics and saves the object. After the control returns from event handler, it throws `java.util.ConcurrentModificationException`.\r\n\r\nBelow is the code:\r\n\r\n      parent.getChild().forEach(child -&gt; {\r\n        if (child.getStatus().equals(&quot;PENDING&quot;)) {\r\n            applicationEventPublisher.publishEvent(new NewEvent(child));\r\n            publishLifeCycleEvent(deal);\r\n          }\r\n        }\r\n      });\r\n\r\nThere is a Event Listener:\r\n\r\n      @EventListener\r\n      public void saveChildEvent(NewEvent childEvent) {\r\n        Child child = childEvent.getChild();\r\n        //...do processing\r\n        childRepository.save(child);\r\n      }\r\n\r\nBut it throws java.util.ConcurrentModificationException at this point. How can I rectify this?\r\n\r\n    Stack Trace -\r\n    java.util.ConcurrentModificationException: null\r\n    \tat java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:1493)\r\n    \tat java.base/java.util.HashMap$KeyIterator.next(HashMap.java:1516)\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection$IteratorProxy.next(AbstractPersistentCollection.java:893)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:74)\r\n\r\n","title":"Java iterating collection throws ConcurrentModificationException after Save","body":"<p>I am using Hibernate for saving the objects to DB. I have a Parent object and set of child objects under it. While iterating over the child objects, if a specific criteria is matched then I publish an event using ApplicationEventPublisher, this event is handled separately, which adds few additional logics and saves the object. After the control returns from event handler, it throws <code>java.util.ConcurrentModificationException</code>.</p>\n<p>Below is the code:</p>\n<pre><code>  parent.getChild().forEach(child -&gt; {\n    if (child.getStatus().equals(&quot;PENDING&quot;)) {\n        applicationEventPublisher.publishEvent(new NewEvent(child));\n        publishLifeCycleEvent(deal);\n      }\n    }\n  });\n</code></pre>\n<p>There is a Event Listener:</p>\n<pre><code>  @EventListener\n  public void saveChildEvent(NewEvent childEvent) {\n    Child child = childEvent.getChild();\n    //...do processing\n    childRepository.save(child);\n  }\n</code></pre>\n<p>But it throws java.util.ConcurrentModificationException at this point. How can I rectify this?</p>\n<pre><code>Stack Trace -\njava.util.ConcurrentModificationException: null\n    at java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:1493)\n    at java.base/java.util.HashMap$KeyIterator.next(HashMap.java:1516)\n    at org.hibernate.collection.internal.AbstractPersistentCollection$IteratorProxy.next(AbstractPersistentCollection.java:893)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:74)\n</code></pre>\n"},{"tags":["java","classloader","instrumentation"],"comments":[{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":0,"creation_date":1506944672,"post_id":46523055,"comment_id":80003396,"body_markdown":"what makes you say that `Class.forName(&quot;[...]&quot;)` finds a different class than `Instrumentation.getAllLoadedClasses()` ? Is your target class not referenced from the classes that are being loaded?","body":"what makes you say that <code>Class.forName(&quot;[...]&quot;)</code> finds a different class than <code>Instrumentation.getAllLoadedClasses()</code> ? Is your target class not referenced from the classes that are being loaded?"},{"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"score":0,"creation_date":1507020141,"post_id":46523055,"comment_id":80035054,"body_markdown":"@diginoise       I am saying that they are not found at all ! If I load a class &quot;my.package.MyClass&quot; before injecting the agent - the same class is not visible via `Class.forName()` inside the agent even if I have added relevant jar to `Boot-Class-Path` I might be wrong, but there is a fundamental gap in the instrumentation info provided on JDK page. I have raised a bug in the system for them to check.","body":"@diginoise       I am saying that they are not found at all ! If I load a class &quot;my.package.MyClass&quot; before injecting the agent - the same class is not visible via <code>Class.forName()</code> inside the agent even if I have added relevant jar to <code>Boot-Class-Path</code> I might be wrong, but there is a fundamental gap in the instrumentation info provided on JDK page. I have raised a bug in the system for them to check."},{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":0,"creation_date":1507022888,"post_id":46523055,"comment_id":80036761,"body_markdown":"The fact that instrumentation can observe (and modify) classes as they are being loaded does not mean that its classloader is responsible for loading these classes. Is your application a Web App ?","body":"The fact that instrumentation can observe (and modify) classes as they are being loaded does not mean that its classloader is responsible for loading these classes. Is your application a Web App ?"},{"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"score":0,"creation_date":1507026260,"post_id":46523055,"comment_id":80038726,"body_markdown":"@dignoise         yes it&#39;s a webapp, but I believe this will happen even if I had a single `helloworld` type application. I think you might have snatched the word just out of my mind. The solution would be to force Instrumentation to use VM&#39;s context classLoader?","body":"@dignoise         yes it&#39;s a webapp, but I believe this will happen even if I had a single <code>helloworld</code> type application. I think you might have snatched the word just out of my mind. The solution would be to force Instrumentation to use VM&#39;s context classLoader?"},{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":0,"creation_date":1507026848,"post_id":46523055,"comment_id":80039052,"body_markdown":"you could create custom ClassLoader and pass it your CLASSPATH","body":"you could create custom ClassLoader and pass it your CLASSPATH"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1507129354,"post_id":46523055,"comment_id":80090034,"body_markdown":"Why do you insist on `Class.forName(String)` having to return the desired class instead of just calling `loadClass` on the right `ClassLoader`?","body":"Why do you insist on <code>Class.forName(String)</code> having to return the desired class instead of just calling <code>loadClass</code> on the right <code>ClassLoader</code>?"},{"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"score":0,"creation_date":1507130871,"post_id":46523055,"comment_id":80090989,"body_markdown":"@Holger          it really doesn&#39;t matter using `Class.forName` or `loadClass()` it goes via the same route - The issue here is that agent is loaded using System class loader - I wanted to use a different classloader - java documentation doesn&#39;t say anything about allowing a different classloader to load the instrumentation agent  - so i am slightly clueless to what needs to be done here.","body":"@Holger          it really doesn&#39;t matter using <code>Class.forName</code> or <code>loadClass()</code> it goes via the same route - The issue here is that agent is loaded using System class loader - I wanted to use a different classloader - java documentation doesn&#39;t say anything about allowing a different classloader to load the instrumentation agent  - so i am slightly clueless to what needs to be done here."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1507132000,"post_id":46523055,"comment_id":80091756,"body_markdown":"You are focusing on the wrong issue. “allowing a different classloader to load the instrumentation agent” is only needed if you insist on using `Class.forName`. When you call `loadClass()` on a specific `ClassLoader` instance, it will use that specific `ClassLoader` instance, regardless of the caller.","body":"You are focusing on the wrong issue. “allowing a different classloader to load the instrumentation agent” is only needed if you insist on using <code>Class.forName</code>. When you call <code>loadClass()</code> on a specific <code>ClassLoader</code> instance, it will use that specific <code>ClassLoader</code> instance, regardless of the caller."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507059059,"creation_date":1507059059,"answer_id":46552029,"question_id":46523055,"body_markdown":"As it is stated in the javadoc:\r\n\r\n&gt; Invoking this method is equivalent to:\r\n&gt; `Class.forName(className, true, currentLoader)`\r\n&gt; where `currentLoader` denotes the defining class loader of\r\n&gt; the current class.\r\n\r\nYou can also see from the source code that the method is marked `@CallerSensitive` which means that you get a different result based on the class loader that invokes the method.\r\n\r\nWhen calling `Instrumentation::getAllLoadedClasses`, the returned array contains classes of any class loader and not only of the current class loader which is the system class loader when running a Java agent. Therefore:\r\n\r\n    for (Class&lt;?&gt; type : instrumentation.getAllLoadedClasses()) {\r\n      assert type == Class.forName(type.getName());\r\n    }\r\n\r\nis not generally true.","title":"Using Class.forName() in Java Instrumentation Agent","body":"<p>As it is stated in the javadoc:</p>\n\n<blockquote>\n  <p>Invoking this method is equivalent to:\n  <code>Class.forName(className, true, currentLoader)</code>\n  where <code>currentLoader</code> denotes the defining class loader of\n  the current class.</p>\n</blockquote>\n\n<p>You can also see from the source code that the method is marked <code>@CallerSensitive</code> which means that you get a different result based on the class loader that invokes the method.</p>\n\n<p>When calling <code>Instrumentation::getAllLoadedClasses</code>, the returned array contains classes of any class loader and not only of the current class loader which is the system class loader when running a Java agent. Therefore:</p>\n\n<pre><code>for (Class&lt;?&gt; type : instrumentation.getAllLoadedClasses()) {\n  assert type == Class.forName(type.getName());\n}\n</code></pre>\n\n<p>is not generally true.</p>\n"},{"tags":[],"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507153670,"creation_date":1507150367,"answer_id":46573981,"question_id":46523055,"body_markdown":"After a bit of run around, and Thanks to @Holger who reminded me what the problem was - incorrect class loader.\r\n\r\nbefore I inject the agent, I have done the following:\r\n\r\n    // Get the current context class loader, which is app ext. classLoader\r\n    ClassLoader original = Thread.currentThread().getContextClassLoader().getSystemClassLoader();\r\n    \r\n    // Set the system classloader to app classloader which won&#39;t delegate anything\r\n    Field scl = ClassLoader.class.getDeclaredFields();\r\n    scl.setAccessible(true);\r\n    scl.set(null, Thread.currentThread().getContextClassLoader());\r\n    \r\n    // Now inject agent\r\n    try {\r\n        vm.loadAgent(agentPath, args);\r\n    } catch (all sorts of errors/exceptions in chain) {\r\n    // Log them and throw them back up the stack.\r\n    } finally {\r\n      vm.detach();\r\n      // Put back the classLoader linkage\r\n      sc.set(null, original);\r\n    }\r\n\r\n**How I have confirmed**\r\n\r\n1. When it goes in my Agent Class - `Thread.currentThread().getContextClassLoader()` becomes my application extn loader. But the system classloader now becomes `ParallelWebappClassLoader&quot;.\r\n\r\n2. I am assuming this is how it works, but could be totally worng:\r\n\r\n   i) When I say `Class.forName(&quot;my.pkg&quot;)` it will check the system class loader which is pointing to my loader now. If the class is not found (i.e. not loaded), it will go to parents etc. I believe this is more or less the delegation model is.\r\n\r\n   ii) In this way, the class is loaded in VM by the same class loader which would also load the class in my webapp under normal circumstances.\r\n\r\n   iii) I will not instrument anything else apart from my own classes so the classloader will always be the same.\r\n\r\n\r\nSo far I have not seen any LinkageError happening. But I still feel this is too risky and if I break the link I am screwed.\r\n\r\n","title":"Using Class.forName() in Java Instrumentation Agent","body":"<p>After a bit of run around, and Thanks to @Holger who reminded me what the problem was - incorrect class loader.</p>\n\n<p>before I inject the agent, I have done the following:</p>\n\n<pre><code>// Get the current context class loader, which is app ext. classLoader\nClassLoader original = Thread.currentThread().getContextClassLoader().getSystemClassLoader();\n\n// Set the system classloader to app classloader which won't delegate anything\nField scl = ClassLoader.class.getDeclaredFields();\nscl.setAccessible(true);\nscl.set(null, Thread.currentThread().getContextClassLoader());\n\n// Now inject agent\ntry {\n    vm.loadAgent(agentPath, args);\n} catch (all sorts of errors/exceptions in chain) {\n// Log them and throw them back up the stack.\n} finally {\n  vm.detach();\n  // Put back the classLoader linkage\n  sc.set(null, original);\n}\n</code></pre>\n\n<p><strong>How I have confirmed</strong></p>\n\n<ol>\n<li><p>When it goes in my Agent Class - <code>Thread.currentThread().getContextClassLoader()</code> becomes my application extn loader. But the system classloader now becomes `ParallelWebappClassLoader\".</p></li>\n<li><p>I am assuming this is how it works, but could be totally worng:</p>\n\n<p>i) When I say <code>Class.forName(\"my.pkg\")</code> it will check the system class loader which is pointing to my loader now. If the class is not found (i.e. not loaded), it will go to parents etc. I believe this is more or less the delegation model is.</p>\n\n<p>ii) In this way, the class is loaded in VM by the same class loader which would also load the class in my webapp under normal circumstances.</p>\n\n<p>iii) I will not instrument anything else apart from my own classes so the classloader will always be the same.</p></li>\n</ol>\n\n<p>So far I have not seen any LinkageError happening. But I still feel this is too risky and if I break the link I am screwed.</p>\n"},{"tags":[],"owner":{"account_id":5174363,"reputation":550,"user_id":4142018,"accept_rate":25,"display_name":"user4142018"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544216760,"creation_date":1544216760,"answer_id":53676810,"question_id":46523055,"body_markdown":"Using Class.forName in a java profiler must be avoided to escape from the NoClassDef error. JVM Loads the class files in the different level of class loaders based on their classpath setting and the class file demand.\r\n\r\nJava Cre libraries + Boot path defended libraries will be loaded in bootstrap Level  \r\nJava Agent will be loaded in system level and it goes on. Class.forName() will look the class files from the parent loaders, the current loader will not check the child loader (Until unless we implement our own loaders)\r\n\r\nJava core classes will be accessible from your application code but our application code will not be accessible by the Java core classes. Its called class loader hierarchy.\r\n\r\nYou have three options. \r\n\r\n1. Lookup the class files from the Instrumentation.GetLoadedClassFiles()\r\n2. Through Transformers you can get all the loaders classes and you can track them and look for your class in every loader until you find.\r\n3. Have the Class.forname implementation in the lowest level of the hierarchy so that it can internally access all the path.\r\n\r\nMaintain the hierarchy properly to avoid too many weird errors.\r\n\r\n\r\n","title":"Using Class.forName() in Java Instrumentation Agent","body":"<p>Using Class.forName in a java profiler must be avoided to escape from the NoClassDef error. JVM Loads the class files in the different level of class loaders based on their classpath setting and the class file demand.</p>\n\n<p>Java Cre libraries + Boot path defended libraries will be loaded in bootstrap Level<br>\nJava Agent will be loaded in system level and it goes on. Class.forName() will look the class files from the parent loaders, the current loader will not check the child loader (Until unless we implement our own loaders)</p>\n\n<p>Java core classes will be accessible from your application code but our application code will not be accessible by the Java core classes. Its called class loader hierarchy.</p>\n\n<p>You have three options. </p>\n\n<ol>\n<li>Lookup the class files from the Instrumentation.GetLoadedClassFiles()</li>\n<li>Through Transformers you can get all the loaders classes and you can track them and look for your class in every loader until you find.</li>\n<li>Have the Class.forname implementation in the lowest level of the hierarchy so that it can internally access all the path.</li>\n</ol>\n\n<p>Maintain the hierarchy properly to avoid too many weird errors.</p>\n"},{"tags":[],"owner":{"account_id":26425586,"reputation":1,"user_id":20072612,"display_name":"Juan Altmayer Pizzorno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663960429,"creation_date":1663960429,"answer_id":73832047,"question_id":46523055,"body_markdown":"Assuming you are looking for the `Class&lt;?&gt;` in order to re-transform a class, it seems to me that you could save the `ClassLoader` passed to your transformer, and later use `ClassLoader.loadClass(String)`.  Something like:\r\n\r\n```java\r\nclass MyTransformer implements ClassFileTransformer {\r\n    Map&lt;String, ClassLoader&gt; _name2loader = new ...;\r\n\r\n    ...\r\n\r\n    public byte[] transform(ClassLoader loader, String className,\r\n                            Class&lt;?&gt; classBeingRedefined,\r\n                            ProtectionDomain pd,\r\n                            byte[] classfileBuffer) throws ... {\r\n        ...\r\n        _name2loader.put(className.replace(&quot;/&quot;,&quot;.&quot;), classLoader);\r\n        ...\r\n    }\r\n\r\n    ...\r\n\r\n    Class&lt;?&gt; getClass(String name) throws ClassNotFoundException {\r\n        ClassLoader cl = _name2loader.get(name);\r\n        if (cl == null) {\r\n            throw ClassNotFoundException(&quot;No loader for class &quot; + name);\r\n        }\r\n        return cl.loadClass(name);\r\n    }\r\n}\r\n```\r\n\r\nNote that the `className` passed to `transform` uses slashes, not dots... A better alternative than the `String.replace` may be to actually read the class name from the `classfileBuffer` using your bytecode library (such as [javaassist](https://www.javassist.org/) or [ASM](https://asm.ow2.io/), but if you&#39;re transforming bytecode, you&#39;re likely already using such a library).\r\n\r\nNote: I&#39;m not sure if you&#39;d see the same class being passed for transformation with different `ClassLoader`s, but it would be good to look out for that (or research it).","title":"Using Class.forName() in Java Instrumentation Agent","body":"<p>Assuming you are looking for the <code>Class&lt;?&gt;</code> in order to re-transform a class, it seems to me that you could save the <code>ClassLoader</code> passed to your transformer, and later use <code>ClassLoader.loadClass(String)</code>.  Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyTransformer implements ClassFileTransformer {\n    Map&lt;String, ClassLoader&gt; _name2loader = new ...;\n\n    ...\n\n    public byte[] transform(ClassLoader loader, String className,\n                            Class&lt;?&gt; classBeingRedefined,\n                            ProtectionDomain pd,\n                            byte[] classfileBuffer) throws ... {\n        ...\n        _name2loader.put(className.replace(&quot;/&quot;,&quot;.&quot;), classLoader);\n        ...\n    }\n\n    ...\n\n    Class&lt;?&gt; getClass(String name) throws ClassNotFoundException {\n        ClassLoader cl = _name2loader.get(name);\n        if (cl == null) {\n            throw ClassNotFoundException(&quot;No loader for class &quot; + name);\n        }\n        return cl.loadClass(name);\n    }\n}\n</code></pre>\n<p>Note that the <code>className</code> passed to <code>transform</code> uses slashes, not dots... A better alternative than the <code>String.replace</code> may be to actually read the class name from the <code>classfileBuffer</code> using your bytecode library (such as <a href=\"https://www.javassist.org/\" rel=\"nofollow noreferrer\">javaassist</a> or <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM</a>, but if you're transforming bytecode, you're likely already using such a library).</p>\n<p>Note: I'm not sure if you'd see the same class being passed for transformation with different <code>ClassLoader</code>s, but it would be good to look out for that (or research it).</p>\n"}],"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1663960429,"creation_date":1506937111,"question_id":46523055,"body_markdown":"What I understand is that if I use:\r\n\r\n`Instrumentation#getAllLoadedClasses()` \r\n\r\nI do get a selection of all loaded classes by the target JVM. But If I do:\r\n\r\n`Class.forName(&quot;my.class.name&quot;)`\r\n\r\nThis will not be the same class as the class loaded by VM. Yes, I can add this particular class as a jar in the agent MANIFEST.MF Class-Path - but that does not look the same to me as `getAllLoadedClasses()`.\r\n\r\nCould someone please confirm whether this is correct i.e. I would not be able to find a specific class using `Class.forName()` when instrumenting? My objective was not to iterate over all loaded classes using `getAllLoadedClasses()` - But if there is no alternative, I guess that&#39;s okay for now.\r\n\r\n** **UPDATE**\r\n\r\nWhat I made a mistake in writing is the `Boot-Class-Path` which I have now corrected in my manifest. Using `-verbose:class` logging I managed to see that my jars are being loaded as \r\n\r\n    [Opened C:\\fullpath\\someother.jar]\r\n    [Opened C:\\fullpath\\another.jar]\r\n    [Opened C:\\fullpath\\different.jar]\r\n\r\nBut I don&#39;t see any corresponding loading information. I tried adding a `Class.forName(&quot;a.package.in.someother.jar.classname&quot;)` and got NoClassDefFoundError. As soon as I jump into the agent jar, I cannot use `Class.forName()` to check if the class is loaded by the target VM. I am getting a NoClassDefFoundError. \r\n\r\n\r\n**FURTHER UPDATE**\r\n\r\nOkay I have &quot;Fattened&quot; the manifest to look up all classes in my `WEB-INF/lib` and tomcat&#39;s `lib` directory. What I can see is below:\r\n\r\n1) When my custom class `MyClass` is loaded for the first time. `-verbose` shows:\r\n\r\n    [Loaded my.pkg.MyClass from file:/C:/base/webapps/ROOT/WEB-INF/lib/mypkg.jar]\r\n\r\n2) If I try to load the class again, it is correctly showing the above order.\r\n\r\n3) My agent jar is manifested with all classes for my tomcat `lib` and my `web-inf/lib` directory. And I can also confirm that the loader sees the jars correctly.\r\n\r\n4) Now I inject the agent, and call `Class.forName(&quot;my.pkg.MyClass&quot;)` from within the agent class. I get the below results.\r\n\r\n    [Loaded my.pkg.MyClass from file:/C:/base/webapps/ROOT/WEB-INF/lib/mypkg.jar]\r\n\r\nI acknowledge that it&#39;s system class loader loding it inside my agent code as @RafaelWinterhalter pointed out in one of his answers. Is there any way I can force a &quot;Delegation&quot; so that the a different classloader loads the agent class and therefore, correctly redefines a class.\r\n\r\n\r\nAny help is appreciated.\r\n","title":"Using Class.forName() in Java Instrumentation Agent","body":"<p>What I understand is that if I use:</p>\n\n<p><code>Instrumentation#getAllLoadedClasses()</code> </p>\n\n<p>I do get a selection of all loaded classes by the target JVM. But If I do:</p>\n\n<p><code>Class.forName(\"my.class.name\")</code></p>\n\n<p>This will not be the same class as the class loaded by VM. Yes, I can add this particular class as a jar in the agent MANIFEST.MF Class-Path - but that does not look the same to me as <code>getAllLoadedClasses()</code>.</p>\n\n<p>Could someone please confirm whether this is correct i.e. I would not be able to find a specific class using <code>Class.forName()</code> when instrumenting? My objective was not to iterate over all loaded classes using <code>getAllLoadedClasses()</code> - But if there is no alternative, I guess that's okay for now.</p>\n\n<p>** <strong>UPDATE</strong></p>\n\n<p>What I made a mistake in writing is the <code>Boot-Class-Path</code> which I have now corrected in my manifest. Using <code>-verbose:class</code> logging I managed to see that my jars are being loaded as </p>\n\n<pre><code>[Opened C:\\fullpath\\someother.jar]\n[Opened C:\\fullpath\\another.jar]\n[Opened C:\\fullpath\\different.jar]\n</code></pre>\n\n<p>But I don't see any corresponding loading information. I tried adding a <code>Class.forName(\"a.package.in.someother.jar.classname\")</code> and got NoClassDefFoundError. As soon as I jump into the agent jar, I cannot use <code>Class.forName()</code> to check if the class is loaded by the target VM. I am getting a NoClassDefFoundError. </p>\n\n<p><strong>FURTHER UPDATE</strong></p>\n\n<p>Okay I have \"Fattened\" the manifest to look up all classes in my <code>WEB-INF/lib</code> and tomcat's <code>lib</code> directory. What I can see is below:</p>\n\n<p>1) When my custom class <code>MyClass</code> is loaded for the first time. <code>-verbose</code> shows:</p>\n\n<pre><code>[Loaded my.pkg.MyClass from file:/C:/base/webapps/ROOT/WEB-INF/lib/mypkg.jar]\n</code></pre>\n\n<p>2) If I try to load the class again, it is correctly showing the above order.</p>\n\n<p>3) My agent jar is manifested with all classes for my tomcat <code>lib</code> and my <code>web-inf/lib</code> directory. And I can also confirm that the loader sees the jars correctly.</p>\n\n<p>4) Now I inject the agent, and call <code>Class.forName(\"my.pkg.MyClass\")</code> from within the agent class. I get the below results.</p>\n\n<pre><code>[Loaded my.pkg.MyClass from file:/C:/base/webapps/ROOT/WEB-INF/lib/mypkg.jar]\n</code></pre>\n\n<p>I acknowledge that it's system class loader loding it inside my agent code as @RafaelWinterhalter pointed out in one of his answers. Is there any way I can force a \"Delegation\" so that the a different classloader loads the agent class and therefore, correctly redefines a class.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","swing","colors","background","jbutton"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1430861857,"post_id":30063514,"comment_id":48242244,"body_markdown":"Maybe I&#39;m missing something obvious, but I have no idea what that top block of code is supposed to be doing, where it&#39;s located, or how it&#39;s related to your problem. Consider posting more information and relevant code, but before doing so, consider your problem from our perspective: folks who have no clue what most of your program looks like.","body":"Maybe I&#39;m missing something obvious, but I have no idea what that top block of code is supposed to be doing, where it&#39;s located, or how it&#39;s related to your problem. Consider posting more information and relevant code, but before doing so, consider your problem from our perspective: folks who have no clue what most of your program looks like."},{"owner":{"account_id":5279665,"reputation":21,"user_id":4215452,"display_name":"jesse richards"},"score":0,"creation_date":1430862381,"post_id":30063514,"comment_id":48242490,"body_markdown":"just added the full code, thanks for you help.","body":"just added the full code, thanks for you help."}],"answers":[{"tags":[],"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663959998,"creation_date":1430862788,"answer_id":30063898,"question_id":30063514,"body_markdown":"I do not know in what part of the execution flow you intend to change the background color of a button, but at first sight, you code looks correct.. because the method setBackground color do exactly what it states.\r\n\r\nAre you trying to set the background in a callback of any kind of listener of a component (Using the Event Dispatch Thread) ? or you are setting in another thread?\r\n\r\nAlso be sure that the component `isOpaque` property is set to true. (set thought public void `setOpaque(boolean isOpaque)` mutator method). Sometimes this can be the problem.\r\n","title":"Button background not changing","body":"<p>I do not know in what part of the execution flow you intend to change the background color of a button, but at first sight, you code looks correct.. because the method setBackground color do exactly what it states.</p>\n<p>Are you trying to set the background in a callback of any kind of listener of a component (Using the Event Dispatch Thread) ? or you are setting in another thread?</p>\n<p>Also be sure that the component <code>isOpaque</code> property is set to true. (set thought public void <code>setOpaque(boolean isOpaque)</code> mutator method). Sometimes this can be the problem.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1430863889,"creation_date":1430863889,"answer_id":30064112,"question_id":30063514,"body_markdown":"You&#39;re creating multiple instances of `Reversi`, `Reversi x = new Reversi()`, which means that when you inspect the state of the game, it&#39;s always at its default state.\r\n\r\nYou seem to be confused over the difference of how a console (linear) and GUI based (event driven) program works.\r\n\r\nStart by creating a single instance of your `Reversi` as an instance field of your class. When some state change event occurs, use this instance to determine how the UI or model should be updated ","title":"Button background not changing","body":"<p>You're creating multiple instances of <code>Reversi</code>, <code>Reversi x = new Reversi()</code>, which means that when you inspect the state of the game, it's always at its default state.</p>\n\n<p>You seem to be confused over the difference of how a console (linear) and GUI based (event driven) program works.</p>\n\n<p>Start by creating a single instance of your <code>Reversi</code> as an instance field of your class. When some state change event occurs, use this instance to determine how the UI or model should be updated </p>\n"}],"owner":{"account_id":5279665,"reputation":21,"user_id":4215452,"display_name":"jesse richards"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663959998,"creation_date":1430861247,"question_id":30063514,"body_markdown":"I am trying to make a reversi GUI and I am trying to change the buttons colors with an if loop. However, when it runs over this code it doesn&#39;t change the color:\r\n\r\n    if(y.board[i][j - 1] == 2)\r\n    {\r\n    \ty.board[i][j] = 1;\r\n    \tbutArray[i][j].setBackground(Color.yellow);\r\n    \ty.board[i][j - 1] = 1;\r\n    \tbutArray[i][j - 1].setBackground(Color.yellow);\r\n    \tSystem.out.println(&quot;4&quot;);\r\n    }\r\n\r\nThis is my `JButton` declaring part\r\n\r\n    for(l=0; l &lt; butArray.length; l++)\r\n    {\r\n    \tfor(y=0; y &lt;butArray[l].length; y++)\r\n        {\r\n    \t\tbutArray[l][y] = new JButton(&quot;Xg&quot;);\r\n    \t\tbutArray[l][y].addActionListener(this);\r\n    \t\tbutArray[l][y].setBackground(Color.white);;\r\n    \t\tbutArray[l][y].setOpaque(true);\r\n    \t\tbuttons.add(butArray[l][y]);\r\n    \t}\r\n    }\r\n\r\nHere is my full main code\r\n\r\n    /*\r\n     * Jesse Richards\r\n     * CMSC 112\r\n     */\r\n    \r\n    import java.awt.Color;\r\n    import java.util.Scanner;\r\n    \r\n    public class Reversi {\r\n    \tint playerturn;\r\n    \tint counter;\r\n    \tint[][] board = new int[8][8];\r\n    \tScanner keyboard = new Scanner(System.in);\r\n    \tint playerOnePoints;\r\n    \tint playerTwoPoints;\r\n\t\r\n\r\n\t//getting things set\r\n\tpublic void setplayerturn(){\r\n\t\t\tint i;\r\n\t\t\r\n\t\tif (counter % 2 == 0){\r\n\t\t\tplayerturn = 1;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tplayerturn = 2;\r\n\t\t}\r\n\t}\r\n\t//setting arrays\r\n\tpublic void setArrays(){\r\n\t\tint i;\r\n\t\tint j;\r\n\t\tfor(i = 0;i&lt;8;i++){\r\n\t\t\tfor(j = 0;j&lt;8;j++){\r\n\t\t\tboard[i][j] = 0;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t//gets what player is going\r\n\t\r\n\t\r\n\t\r\n\tpublic void printBoard(){\r\n\t\tint i,j;\r\n\t\tfor(i = 0;i&lt;8;i++){\r\n\t\t\tfor(j = 0;j&lt;8;j++){\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.print(board[i][j]);\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n\tpublic void points(){\r\n\t\tint i,j;\r\n\t\tfor(i = 0;i&lt;8;i++){\r\n\t\t\tfor(j = 0;j&lt;8;j++){\r\n\t\t\t\tif(board[i][j] == 1){\r\n\t\t\t\t\tplayerOnePoints++;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tplayerTwoPoints++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n\r\nand full main driver\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JMenuBar;\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Color;\r\n    \r\n    \r\n    public class ReversiDriver extends JFrame implements ActionListener {\r\n    \t\r\n    \tprivate JPanel score;\r\n    \tprivate JPanel buttons;\r\n    \tJButton[][] butArray = new JButton[8][8];\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tReversiDriver gui = new ReversiDriver();\r\n    \t\tgui.setVisible(true);\r\n    \t\t\r\n    \t\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tReversi x = new Reversi();\r\n    \t\tint i;\r\n    \t\tx.setplayerturn();\r\n    \t\tx.setArrays();\r\n    \t\t\r\n    \t\t\r\n    \t\r\n    //\t\tfor(i = 0;i&lt;64;i++){\r\n    //\t\t\t\r\n    //\t\t\t\r\n    //\t\t\tx.printBoard();\r\n    //\t\t\t\r\n    //\t\t\tx.counter++;\r\n    //\t\t\t\r\n    //\t\t\t\r\n    //\t\t\tSystem.out.println(&quot;&quot;);\r\n    //\t\t}\r\n    \t\t\t\r\n    \t\t\r\n    \t\tx.points();\r\n    \t\tSystem.out.println(&quot;Player one has &quot; + x.playerOnePoints +&quot; Points&quot;);\r\n    \t\tSystem.out.println(&quot;Player two has &quot; + x.playerTwoPoints +&quot; Points&quot;);\r\n    \r\n    \t\tif(x.playerOnePoints&gt;x.playerTwoPoints){\r\n    \t\t\tSystem.out.println(&quot;Player One Wins!&quot;);\r\n    \t\t\t\r\n    \t\t}\telse {\r\n    \t\t\tSystem.out.println(&quot;Player Two Wins!&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;BUG&quot;);\r\n    \t\t//importing methods\r\n    \t\tReversi x = new Reversi();\r\n    \t\tint i;\r\n    \t\tint j;\r\n    \t\tint l,y;\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t//if-else\r\n    \t\t//e.getSource() --&gt; return the name of button\r\n    \t\t\r\n    \t\tfor(l=0; l &lt; butArray.length; l++){\r\n    \t\t\tfor(y=0; y &lt;butArray[l].length; y++){\r\n    \t\t\t\tif(e.getSource() == butArray[l][y]){\r\n    \t\t\t\t\t//button was clicked1\r\n    \t\t\t\t\tplayerOneTurn(l,y);\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t//e.getactionCommand()\r\n    \t\r\n    \t\tString but = e.getActionCommand();\r\n    \t\t\r\n    \t}\r\n    \tpublic boolean playerOneTurn(int i, int j){\r\n    \t\tint x;\r\n    \t\r\n    \t\tReversi y = new Reversi();\r\n    \t\t\r\n    \t\ty.board[3][3] = 1;\r\n    \t\ty.board[3][4] = 2;\r\n    \t\ty.board[4][3] = 2;\r\n    \t\ty.board[4][4] = 1;\r\n    \t\t\r\n    \t\tif(y.board[i - 1][j] == 0){\r\n    \t\t\ty.board[i][j] = 1;\r\n    \t\t\tbutArray[i][j].setBackground(Color.yellow);\r\n    \t\t\ty.board[i -1][j] = 1;\r\n    \t\t\tbutArray[i - 1][j].setBackground(Color.yellow);\r\n    \t\t\tSystem.out.println(&quot;1&quot;);\r\n    \t\t}\r\n    \t\tif(y.board[i + 1][j] == 2){\r\n    \t\t\ty.board[i][j] = 1;\r\n    \t\t\tbutArray[i][j].setBackground(Color.yellow);\r\n    \t\t\ty.board[i + 1][j] = 1;\r\n    \t\t\tbutArray[i + 1][j].setBackground(Color.yellow);\r\n    \t\t\tSystem.out.println(&quot;2&quot;);\r\n    \t\t}\r\n    \t\tif(y.board[i][j + 1] == 2){\r\n    \t\t\ty.board[i][j] = 1;\r\n    \t\t\tbutArray[i][j].setBackground(Color.yellow);\r\n    \t\t\ty.board[i][j + 1] = 1;\r\n    \t\t\tbutArray[i][j + 1].setBackground(Color.yellow);\r\n    \t\t\tSystem.out.println(&quot;3&quot;);\r\n    \t\t}\r\n    \t\tif(y.board[i][j - 1] == 2){\r\n    \t\t\ty.board[i][j] = 1;\r\n    \t\t\tbutArray[i][j].setBackground(Color.yellow);\r\n    \t\t\ty.board[i][j - 1] = 1;\r\n    \t\t\tbutArray[i][j - 1].setBackground(Color.yellow);\r\n    \t\t\tSystem.out.println(&quot;4&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(y.board[i][j - 1] == 2){\r\n    \t\t\ty.board[i][j] = 1;\r\n    \t\t\tbutArray[i][j].setBackground(Color.yellow);\r\n    \t\t\ty.board[i][j - 1] = 1;\r\n    \t\tbutArray[i][j - 1].setBackground(Color.yellow);\r\n    \t\t\tSystem.out.println(&quot;5&quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;JEse&quot;);\r\n    \t\t\r\n    \t\treturn false;\r\n    \t\t\r\n    \t}\r\n    \tpublic ReversiDriver(){\r\n    \t\tsuper(&quot;Menu Demonstration&quot;);\r\n    \t\tsetSize(400, 600);\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetLayout(new GridLayout(2, 2));\r\n    \r\n    \t\tscore = new JPanel();\r\n    \t\tscore.setBackground(Color.black);\r\n    \t\tadd(score,BorderLayout.SOUTH);\r\n    \t\t\r\n    \t\tbuttons = new JPanel();\r\n    \t\tadd(buttons, BorderLayout.NORTH);\r\n    \t\t\r\n    \t\r\n    \t\t\r\n    \t\tint y;\r\n    \t\tint l;\r\n    \t\t\r\n    \t\t//arrange buttons\r\n    \t\tfor(l=0; l &lt; butArray.length; l++){\r\n    \t\t\tfor(y=0; y &lt;butArray[l].length; y++){\r\n    \t\t\t\tbutArray[l][y] = new JButton(&quot;Xg&quot;);\r\n    \t\t\t\tbutArray[l][y].addActionListener(this);\r\n    \t\t\t\tbutArray[l][y].setBackground(Color.white);;\r\n    \t\t\t\tbutArray[l][y].setOpaque(true);\r\n    \t\t\t\tbuttons.add(butArray[l][y]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t//set four start buttons\r\n    \t\tbutArray[3][3].setBackground(Color.yellow);\r\n    \t\tbutArray[3][4].setBackground(Color.blue);\r\n    \t\tbutArray[4][3].setBackground(Color.blue);\r\n    \t\tbutArray[4][4].setBackground(Color.yellow);\r\n    \t\t\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Button background not changing","body":"<p>I am trying to make a reversi GUI and I am trying to change the buttons colors with an if loop. However, when it runs over this code it doesn't change the color:</p>\n\n<pre><code>if(y.board[i][j - 1] == 2)\n{\n    y.board[i][j] = 1;\n    butArray[i][j].setBackground(Color.yellow);\n    y.board[i][j - 1] = 1;\n    butArray[i][j - 1].setBackground(Color.yellow);\n    System.out.println(\"4\");\n}\n</code></pre>\n\n<p>This is my <code>JButton</code> declaring part</p>\n\n<pre><code>for(l=0; l &lt; butArray.length; l++)\n{\n    for(y=0; y &lt;butArray[l].length; y++)\n    {\n        butArray[l][y] = new JButton(\"Xg\");\n        butArray[l][y].addActionListener(this);\n        butArray[l][y].setBackground(Color.white);;\n        butArray[l][y].setOpaque(true);\n        buttons.add(butArray[l][y]);\n    }\n}\n</code></pre>\n\n<p>Here is my full main code</p>\n\n<pre><code>/*\n * Jesse Richards\n * CMSC 112\n */\n\nimport java.awt.Color;\nimport java.util.Scanner;\n\npublic class Reversi {\n    int playerturn;\n    int counter;\n    int[][] board = new int[8][8];\n    Scanner keyboard = new Scanner(System.in);\n    int playerOnePoints;\n    int playerTwoPoints;\n\n\n//getting things set\npublic void setplayerturn(){\n        int i;\n\n    if (counter % 2 == 0){\n        playerturn = 1;\n    }\n    else{\n        playerturn = 2;\n    }\n}\n//setting arrays\npublic void setArrays(){\n    int i;\n    int j;\n    for(i = 0;i&lt;8;i++){\n        for(j = 0;j&lt;8;j++){\n        board[i][j] = 0;\n\n        }\n    }\n\n}\n\n//gets what player is going\n\n\n\npublic void printBoard(){\n    int i,j;\n    for(i = 0;i&lt;8;i++){\n        for(j = 0;j&lt;8;j++){\n\n            System.out.print(board[i][j]);\n            System.out.print(\" \");\n        }\n        System.out.println(\"\");\n    }\n\n\n}\n\n\n\n\npublic void points(){\n    int i,j;\n    for(i = 0;i&lt;8;i++){\n        for(j = 0;j&lt;8;j++){\n            if(board[i][j] == 1){\n                playerOnePoints++;\n            }\n            else{\n                playerTwoPoints++;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and full main driver</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuItem;\nimport javax.swing.JMenuBar;\n\nimport java.awt.BorderLayout;\nimport java.awt.GridLayout;\nimport java.awt.Color;\n\n\npublic class ReversiDriver extends JFrame implements ActionListener {\n\n    private JPanel score;\n    private JPanel buttons;\n    JButton[][] butArray = new JButton[8][8];\n\n    public static void main(String[] args) {\n        ReversiDriver gui = new ReversiDriver();\n        gui.setVisible(true);\n\n\n        // TODO Auto-generated method stub\n        Reversi x = new Reversi();\n        int i;\n        x.setplayerturn();\n        x.setArrays();\n\n\n\n//      for(i = 0;i&lt;64;i++){\n//          \n//          \n//          x.printBoard();\n//          \n//          x.counter++;\n//          \n//          \n//          System.out.println(\"\");\n//      }\n\n\n        x.points();\n        System.out.println(\"Player one has \" + x.playerOnePoints +\" Points\");\n        System.out.println(\"Player two has \" + x.playerTwoPoints +\" Points\");\n\n        if(x.playerOnePoints&gt;x.playerTwoPoints){\n            System.out.println(\"Player One Wins!\");\n\n        }   else {\n            System.out.println(\"Player Two Wins!\");\n            }\n        }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        System.out.println(\"BUG\");\n        //importing methods\n        Reversi x = new Reversi();\n        int i;\n        int j;\n        int l,y;\n        // TODO Auto-generated method stub\n        //if-else\n        //e.getSource() --&gt; return the name of button\n\n        for(l=0; l &lt; butArray.length; l++){\n            for(y=0; y &lt;butArray[l].length; y++){\n                if(e.getSource() == butArray[l][y]){\n                    //button was clicked1\n                    playerOneTurn(l,y);\n\n                }\n            }\n        }\n\n        //e.getactionCommand()\n\n        String but = e.getActionCommand();\n\n    }\n    public boolean playerOneTurn(int i, int j){\n        int x;\n\n        Reversi y = new Reversi();\n\n        y.board[3][3] = 1;\n        y.board[3][4] = 2;\n        y.board[4][3] = 2;\n        y.board[4][4] = 1;\n\n        if(y.board[i - 1][j] == 0){\n            y.board[i][j] = 1;\n            butArray[i][j].setBackground(Color.yellow);\n            y.board[i -1][j] = 1;\n            butArray[i - 1][j].setBackground(Color.yellow);\n            System.out.println(\"1\");\n        }\n        if(y.board[i + 1][j] == 2){\n            y.board[i][j] = 1;\n            butArray[i][j].setBackground(Color.yellow);\n            y.board[i + 1][j] = 1;\n            butArray[i + 1][j].setBackground(Color.yellow);\n            System.out.println(\"2\");\n        }\n        if(y.board[i][j + 1] == 2){\n            y.board[i][j] = 1;\n            butArray[i][j].setBackground(Color.yellow);\n            y.board[i][j + 1] = 1;\n            butArray[i][j + 1].setBackground(Color.yellow);\n            System.out.println(\"3\");\n        }\n        if(y.board[i][j - 1] == 2){\n            y.board[i][j] = 1;\n            butArray[i][j].setBackground(Color.yellow);\n            y.board[i][j - 1] = 1;\n            butArray[i][j - 1].setBackground(Color.yellow);\n            System.out.println(\"4\");\n        }\n\n        if(y.board[i][j - 1] == 2){\n            y.board[i][j] = 1;\n            butArray[i][j].setBackground(Color.yellow);\n            y.board[i][j - 1] = 1;\n        butArray[i][j - 1].setBackground(Color.yellow);\n            System.out.println(\"5\");\n        }\n        System.out.println(\"JEse\");\n\n        return false;\n\n    }\n    public ReversiDriver(){\n        super(\"Menu Demonstration\");\n        setSize(400, 600);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLayout(new GridLayout(2, 2));\n\n        score = new JPanel();\n        score.setBackground(Color.black);\n        add(score,BorderLayout.SOUTH);\n\n        buttons = new JPanel();\n        add(buttons, BorderLayout.NORTH);\n\n\n\n        int y;\n        int l;\n\n        //arrange buttons\n        for(l=0; l &lt; butArray.length; l++){\n            for(y=0; y &lt;butArray[l].length; y++){\n                butArray[l][y] = new JButton(\"Xg\");\n                butArray[l][y].addActionListener(this);\n                butArray[l][y].setBackground(Color.white);;\n                butArray[l][y].setOpaque(true);\n                buttons.add(butArray[l][y]);\n            }\n        }\n\n        //set four start buttons\n        butArray[3][3].setBackground(Color.yellow);\n        butArray[3][4].setBackground(Color.blue);\n        butArray[4][3].setBackground(Color.blue);\n        butArray[4][4].setBackground(Color.yellow);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","interface","default-method"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1663916703,"post_id":73824039,"comment_id":130356038,"body_markdown":"seeing as there is nothing to test ... not really?","body":"seeing as there is nothing to test ... not really?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1663917238,"post_id":73824039,"comment_id":130356192,"body_markdown":"It&#39;s pretty hard to test if nothing really did nothing at all. You would have to make sure **everything** has **not** changed…","body":"It&#39;s pretty hard to test if nothing really did nothing at all. You would have to make sure <b>everything</b> has <b>not</b> changed…"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1663956570,"post_id":73824039,"comment_id":130369634,"body_markdown":"Pro tip: when asking questions, try to avoid &quot;Can anyone help me&quot; or &quot;Who can help me&quot;. The task is yours to do, and it helps enormously if you can indicate you are not giving the work to volunteers on the internet. Even when you get assistance here, make it clear to readers (and yourself!) that you expect to do most of it.","body":"Pro tip: when asking questions, try to avoid &quot;Can anyone help me&quot; or &quot;Who can help me&quot;. The task is yours to do, and it helps enormously if you can indicate you are not giving the work to volunteers on the internet. Even when you get assistance here, make it clear to readers (and yourself!) that you expect to do most of it."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663918542,"creation_date":1663918542,"answer_id":73824414,"question_id":73824039,"body_markdown":"If you want to check whether the method was called you could use Mockito&#39;s `verify()`:\r\n```java\r\n@ExtendWith(MockitoExtension.java)\r\nclass Test {\r\n  @Mock\r\n  A instanceOfA;\r\n  @InjectMocks\r\n  ClassWithInjectedA dependent;\r\n\r\n  @Test\r\n  void testMethod() {\r\n    dependent.methodWhereMethod1IsInvoked();\r\n    verify(instanceOfA, atLeastOnce()).method1();\r\n  }\r\n}\r\n```","title":"How can I write a junit test case for default methods of interface with zero lines of code","body":"<p>If you want to check whether the method was called you could use Mockito's <code>verify()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.java)\nclass Test {\n  @Mock\n  A instanceOfA;\n  @InjectMocks\n  ClassWithInjectedA dependent;\n\n  @Test\n  void testMethod() {\n    dependent.methodWhereMethod1IsInvoked();\n    verify(instanceOfA, atLeastOnce()).method1();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663959684,"creation_date":1663959684,"answer_id":73831930,"question_id":73824039,"body_markdown":"You should test the method in isolation.\r\nHere are some steps:\r\n\r\n    1. Create a JUnit test.\r\n    2a. Create a spy of the interface or\r\n    2b. Create a nested class that implements the interface and create a spy of that class.\r\n    3. test the method.\r\n    4. verify that the method was called, however makes sense.\r\n\r\nHere is some sample code:\r\n```Java\r\npublic interface Blam\r\n{\r\n    default void kapow()\r\n    {\r\n        System.out.println(&quot;kapow&quot;);\r\n    }\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class TestBlam\r\n{\r\n\tpublic static class BlamForTest implements Blam\r\n\t{\r\n\t}\r\n\r\n\t@Spy\r\n\tprivate Blam classToTest;\r\n\r\n\t@Spy\r\n\tprivate BlamForTest classToTestToo;\r\n\r\n\tprivate PrintStream livePrintStream;\r\n\r\n\t@Mock\r\n\tprivate PrintStream mockPrintStream;\r\n\r\n\t@AfterEach\r\n\tvoid afterEach()\r\n\t{\r\n\t\tSystem.setOut(livePrintStream);\r\n\t}\r\n\r\n\t@BeforeEach\r\n\tvoid beforeEach()\r\n\t{\r\n\t\tlivePrintStream = System.out;\r\n\r\n\t\tSystem.setOut(mockPrintStream);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid kappw_useVerifyOfTheEffectOfCallingTheMethod_success()\r\n\t{\r\n\t\tclassToTest.kapow();\r\n\r\n\r\n\t\tverify(mockPrintStream).println(&quot;kapow&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid kapow_useTheNextedClass_success()\r\n\t{\r\n\t\tclassToTestToo.kapow();\r\n\r\n\r\n\t\tverify(mockPrintStream).println(&quot;kapow&quot;);\r\n\t}\r\n}\r\n\r\n","title":"How can I write a junit test case for default methods of interface with zero lines of code","body":"<p>You should test the method in isolation.\nHere are some steps:</p>\n<pre><code>1. Create a JUnit test.\n2a. Create a spy of the interface or\n2b. Create a nested class that implements the interface and create a spy of that class.\n3. test the method.\n4. verify that the method was called, however makes sense.\n</code></pre>\n<p>Here is some sample code:</p>\n<pre><code>public interface Blam\n{\n    default void kapow()\n    {\n        System.out.println(&quot;kapow&quot;);\n    }\n}\n\n@ExtendWith(MockitoExtension.class)\npublic class TestBlam\n{\n    public static class BlamForTest implements Blam\n    {\n    }\n\n    @Spy\n    private Blam classToTest;\n\n    @Spy\n    private BlamForTest classToTestToo;\n\n    private PrintStream livePrintStream;\n\n    @Mock\n    private PrintStream mockPrintStream;\n\n    @AfterEach\n    void afterEach()\n    {\n        System.setOut(livePrintStream);\n    }\n\n    @BeforeEach\n    void beforeEach()\n    {\n        livePrintStream = System.out;\n\n        System.setOut(mockPrintStream);\n    }\n\n    @Test\n    void kappw_useVerifyOfTheEffectOfCallingTheMethod_success()\n    {\n        classToTest.kapow();\n\n\n        verify(mockPrintStream).println(&quot;kapow&quot;);\n    }\n\n    @Test\n    void kapow_useTheNextedClass_success()\n    {\n        classToTestToo.kapow();\n\n\n        verify(mockPrintStream).println(&quot;kapow&quot;);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":9276995,"reputation":57,"user_id":6889375,"display_name":"Theodore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1663959684,"creation_date":1663916398,"question_id":73824039,"body_markdown":"How can I write a junit test case for default methods of interface with zero lines of code as mentioned below : \r\n\r\n    public interface A{\r\n        default void method1(){\r\n        }\r\n    }\r\n\r\n","title":"How can I write a junit test case for default methods of interface with zero lines of code","body":"<p>How can I write a junit test case for default methods of interface with zero lines of code as mentioned below :</p>\n<pre><code>public interface A{\n    default void method1(){\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595075006,"creation_date":1595075006,"answer_id":62968526,"question_id":62968505,"body_markdown":"Update the end of the array to the following\r\n\r\n```\r\nint end = arr1.length - 1;\r\n```","title":"Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5","body":"<p>Update the end of the array to the following</p>\n<pre><code>int end = arr1.length - 1;\n</code></pre>\n"}],"owner":{"account_id":11876790,"reputation":1,"user_id":8691617,"display_name":"abhishek tyagi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1595075128,"answer_count":1,"score":0,"last_activity_date":1663959327,"creation_date":1595074861,"question_id":62968505,"body_markdown":"\r\n\r\n    package learningphase;\r\n    \r\n    public class reversearray {\r\n    \tpublic void perform(int arr1[]) {\r\n    \t\tint start=0;\r\n    \t\tint end = arr1.length;\r\n    \t\tint temp;\r\n    \t\twhile(start&lt;end) {\r\n    \t\t\ttemp=arr1[start];\r\n    \t\t\tarr1[start]=arr1[end];\r\n    \t\t\tarr1[end]=temp;\r\n    \t\t\tstart++;\r\n    \t\t\tend--;\r\n    \t\t}\r\n    \t\t \r\n    \t}\r\n    \tvoid printreversearray(int arr1[]) {\r\n    \t\tfor(int i=0;i&lt;arr1.length;i++) {\r\n    \t\t\tSystem.out.println(arr1[i]);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \tpublic static void main(String args[]) {\r\n    \t\treversearray reversearray1 = new reversearray();\r\n    \t\tint arr1[]= {1,2,3,4,5};\r\n    \t\t\r\n    \t\treversearray1.perform(arr1);\r\n    \t\treversearray1.printreversearray(arr1);\r\n    \t}\r\n    \r\n    }\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5 \tat learningphase.reversearray.perform(reversearray.java:10) \tat learningphase.reversearray.main(reversearray.java:27)","title":"Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5","body":"<pre><code>package learningphase;\n\npublic class reversearray {\n    public void perform(int arr1[]) {\n        int start=0;\n        int end = arr1.length;\n        int temp;\n        while(start&lt;end) {\n            temp=arr1[start];\n            arr1[start]=arr1[end];\n            arr1[end]=temp;\n            start++;\n            end--;\n        }\n         \n    }\n    void printreversearray(int arr1[]) {\n        for(int i=0;i&lt;arr1.length;i++) {\n            System.out.println(arr1[i]);\n        }\n        \n    }\n    public static void main(String args[]) {\n        reversearray reversearray1 = new reversearray();\n        int arr1[]= {1,2,3,4,5};\n        \n        reversearray1.perform(arr1);\n        reversearray1.printreversearray(arr1);\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5    at learningphase.reversearray.perform(reversearray.java:10)     at learningphase.reversearray.main(reversearray.java:27)</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":3,"creation_date":1663956403,"post_id":73831427,"comment_id":130369600,"body_markdown":"`// To-Do: Use scnr.nextInt() to collect user input` - that comment seems pretty explanatory, what do you not understand about it?","body":"<code>&#47;&#47; To-Do: Use scnr.nextInt() to collect user input</code> - that comment seems pretty explanatory, what do you not understand about it?"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1663957225,"post_id":73831427,"comment_id":130369811,"body_markdown":"`int java.util.scnr.nextInt choice` should be `int choice = scnr.nextInt()` (this is exactly what the comment says to do) not really sure why you are trying to put `nextInt` as the type","body":"<code>int java.util.scnr.nextInt choice</code> should be <code>int choice = scnr.nextInt()</code> (this is exactly what the comment says to do) not really sure why you are trying to put <code>nextInt</code> as the type"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1663957417,"post_id":73831427,"comment_id":130369860,"body_markdown":"`int java.util.scnr.nextInt choice;` doesn&#39;t look right. Lets start with basics. We can *declare* variables via `type variableName;`. We can *initialize/assign* value to variables via `variableName = value;`. We can do both of those things at once via `type variableName = value;`. The `value` part can be provided in code like `int = 123;`, or copied from other variable like `int n = otherVariable;` or result of some method like `int n = tree.getHeight();`. In your case you want to use *result* of calling `nextInt()` method on `scnr` object, which means `int choice = scnr.nextInt();`.","body":"<code>int java.util.scnr.nextInt choice;</code> doesn&#39;t look right. Lets start with basics. We can <i>declare</i> variables via <code>type variableName;</code>. We can <i>initialize/assign</i> value to variables via <code>variableName = value;</code>. We can do both of those things at once via <code>type variableName = value;</code>. The <code>value</code> part can be provided in code like <code>int = 123;</code>, or copied from other variable like <code>int n = otherVariable;</code> or result of some method like <code>int n = tree.getHeight();</code>. In your case you want to use <i>result</i> of calling <code>nextInt()</code> method on <code>scnr</code> object, which means <code>int choice = scnr.nextInt();</code>."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663958788,"creation_date":1663958788,"answer_id":73831792,"question_id":73831427,"body_markdown":"`java.util.scnr.nextInt` is not a type.\r\n`scnr` is not a package in Java.\r\n\r\nIt seems likely that you want to use something like:\r\n```Java\r\nint choice = scnr.nextInt();\r\n```\r\nwhich is an invocation of the `nextInt` method call.","title":"How to collect user input without using Strings in Java","body":"<p><code>java.util.scnr.nextInt</code> is not a type.\n<code>scnr</code> is not a package in Java.</p>\n<p>It seems likely that you want to use something like:</p>\n<pre><code>int choice = scnr.nextInt();\n</code></pre>\n<p>which is an invocation of the <code>nextInt</code> method call.</p>\n"}],"owner":{"account_id":26425325,"reputation":1,"user_id":20072381,"display_name":"Koalacodes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663958788,"creation_date":1663956156,"question_id":73831427,"body_markdown":"This is supposed to be a rock paper scissor game, there&#39;s more to the code after, but I don&#39;t have to change anything on it. \r\n\r\nI&#39;m a little confused on how to use the Scanner to collect user input without using Strings. The comments are the instructions that I&#39;m supposed to follow to finish the code/ some of my comments to point out the problem area.\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class RPSGame {\r\n    // 1 is Rock\r\n    // 2 is Paper\r\n    // 3 is Scissors\r\n    public static void main(String[] args) {\r\n        String startMessage =&quot;****************************START*******************************\\n&quot;;\r\n        String endMessage = &quot;\\n****************************END*******************************\\n&quot;;\r\n        System.out.println(startMessage);\r\n        Scanner scnr = new Scanner(System.in);\r\n        //**************************** DO NOT MODIFY ANYTHING BEFORE THIS LINE*****************************\r\n        // To-Do: Add print statement to welcome User to the game\r\n  System.out.println(&quot;Welcome to the RPS game! Are you ready?&quot;);\r\n        // To-Do: Add print statement prompting User to enter 1, 2, or 3 (explain which each number represents)\r\n  System.out.println(&quot;Enter a number between 1 and 3. 1 is for Rock, 2 for Paper and 3 for Scissors &quot;);\r\n        // To-Do: Use scnr.nextInt() to collect user input, save it as an int variable called choice\r\n        int java.util.scnr.nextInt choice;  //I&#39;m stuck on this part of the line, how am I supposed //to use to collect user input without using Strings?(that was part of the requirement for the //assignment?) I&#39;m still pretty new to this and idk what to put/change for this line.\r\n      \r\n        // To-Do: Complete the following line using Math.Random() to generate a int\r\n        // In the range 1-3\r\n        int computerChoice = ((int)(Math.random())*3); //Idk if I did this part right \r\n```\r\n\r\n","title":"How to collect user input without using Strings in Java","body":"<p>This is supposed to be a rock paper scissor game, there's more to the code after, but I don't have to change anything on it.</p>\n<p>I'm a little confused on how to use the Scanner to collect user input without using Strings. The comments are the instructions that I'm supposed to follow to finish the code/ some of my comments to point out the problem area.</p>\n<pre><code>import java.util.Scanner;\npublic class RPSGame {\n    // 1 is Rock\n    // 2 is Paper\n    // 3 is Scissors\n    public static void main(String[] args) {\n        String startMessage =&quot;****************************START*******************************\\n&quot;;\n        String endMessage = &quot;\\n****************************END*******************************\\n&quot;;\n        System.out.println(startMessage);\n        Scanner scnr = new Scanner(System.in);\n        //**************************** DO NOT MODIFY ANYTHING BEFORE THIS LINE*****************************\n        // To-Do: Add print statement to welcome User to the game\n  System.out.println(&quot;Welcome to the RPS game! Are you ready?&quot;);\n        // To-Do: Add print statement prompting User to enter 1, 2, or 3 (explain which each number represents)\n  System.out.println(&quot;Enter a number between 1 and 3. 1 is for Rock, 2 for Paper and 3 for Scissors &quot;);\n        // To-Do: Use scnr.nextInt() to collect user input, save it as an int variable called choice\n        int java.util.scnr.nextInt choice;  //I'm stuck on this part of the line, how am I supposed //to use to collect user input without using Strings?(that was part of the requirement for the //assignment?) I'm still pretty new to this and idk what to put/change for this line.\n      \n        // To-Do: Complete the following line using Math.Random() to generate a int\n        // In the range 1-3\n        int computerChoice = ((int)(Math.random())*3); //Idk if I did this part right \n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1663907487,"post_id":73822950,"comment_id":130354100,"body_markdown":"Everything with a comma at the end is acceptable?","body":"Everything with a comma at the end is acceptable?"},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1663907636,"post_id":73822950,"comment_id":130354123,"body_markdown":"Richard doesn&#39;t have comma you are capturing that as well?","body":"Richard doesn&#39;t have comma you are capturing that as well?"},{"owner":{"account_id":26419017,"reputation":13,"user_id":20066926,"display_name":"user20066926"},"score":0,"creation_date":1663908152,"post_id":73822950,"comment_id":130354199,"body_markdown":"Yeah I am trying to capture up until Richard, so Josh,Mike,Richard. Essentially everything in Additional names until there is not comma at the end","body":"Yeah I am trying to capture up until Richard, so Josh,Mike,Richard. Essentially everything in Additional names until there is not comma at the end"},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1663908668,"post_id":73822950,"comment_id":130354290,"body_markdown":"Is single `Josh` acceptable?","body":"Is single <code>Josh</code> acceptable?"},{"owner":{"account_id":26419017,"reputation":13,"user_id":20066926,"display_name":"user20066926"},"score":0,"creation_date":1663909062,"post_id":73822950,"comment_id":130354365,"body_markdown":"No I need to parse everything in Additional names section so Josh,Mike, and Richard","body":"No I need to parse everything in Additional names section so Josh,Mike, and Richard"},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1663909558,"post_id":73822950,"comment_id":130354464,"body_markdown":"Please check my answer posted below that matches the case you presented.","body":"Please check my answer posted below that matches the case you presented."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663958377,"creation_date":1663928371,"answer_id":73826271,"question_id":73822950,"body_markdown":"If there can be a single name after `Additional Names:` or multiple followed by a comma:\r\n\r\n    Additional [nN]ames[^:\\n\\r]*:\\s*([\\w-:/]+(?:\\s*,\\s*[\\w-:/]+)*)\\s+\r\n\r\nThe pattern matches:\r\n\r\n- `Additional [nN]ames` Match literally\r\n- `[^:\\n\\r]*:` Match optional repetitions of any char excluding newlines and `:` and then match the `:`\r\n- `\\s*` Match optional whitspace chars\r\n- `(` Capture **group 1**\r\n  - `[\\w-:/]+` Match 1+ times any of the listed characters in the character class\r\n  - `(?:` Non capture group to repeat as a whole part\r\n    - `\\s*,\\s*` match a comma between optional whitespace chars\r\n    - `[\\w-:/]+` Match 1+ times any of the listed characters in the character class\r\n  - `)*` Close the non capture group and optionally repeat\r\n- `)` Close group 1\r\n- `\\s+` Match 1+ whitespace chars\r\n\r\nSee a [regex demo](https://regex101.com/r/mwmg1K/1).\r\n\r\nIn Java with the doubled backslashes:\r\n\r\n    String regex = &quot;Additional [nN]ames[^:\\\\n\\\\r]*:\\\\s*([\\\\w-:/]+(?:\\\\s*,\\\\s*[\\\\w-:/]+)*)\\\\s+&quot;;","title":"Regex matching everything until you dont need a comma at end of line","body":"<p>If there can be a single name after <code>Additional Names:</code> or multiple followed by a comma:</p>\n<pre><code>Additional [nN]ames[^:\\n\\r]*:\\s*([\\w-:/]+(?:\\s*,\\s*[\\w-:/]+)*)\\s+\n</code></pre>\n<p>The pattern matches:</p>\n<ul>\n<li><code>Additional [nN]ames</code> Match literally</li>\n<li><code>[^:\\n\\r]*:</code> Match optional repetitions of any char excluding newlines and <code>:</code> and then match the <code>:</code></li>\n<li><code>\\s*</code> Match optional whitspace chars</li>\n<li><code>(</code> Capture <strong>group 1</strong>\n<ul>\n<li><code>[\\w-:/]+</code> Match 1+ times any of the listed characters in the character class</li>\n<li><code>(?:</code> Non capture group to repeat as a whole part\n<ul>\n<li><code>\\s*,\\s*</code> match a comma between optional whitespace chars</li>\n<li><code>[\\w-:/]+</code> Match 1+ times any of the listed characters in the character class</li>\n</ul>\n</li>\n<li><code>)*</code> Close the non capture group and optionally repeat</li>\n</ul>\n</li>\n<li><code>)</code> Close group 1</li>\n<li><code>\\s+</code> Match 1+ whitespace chars</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/mwmg1K/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>In Java with the doubled backslashes:</p>\n<pre><code>String regex = &quot;Additional [nN]ames[^:\\\\n\\\\r]*:\\\\s*([\\\\w-:/]+(?:\\\\s*,\\\\s*[\\\\w-:/]+)*)\\\\s+&quot;;\n</code></pre>\n"}],"owner":{"account_id":26419017,"reputation":13,"user_id":20066926,"display_name":"user20066926"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73826271,"answer_count":1,"score":1,"last_activity_date":1663958377,"creation_date":1663906897,"question_id":73822950,"body_markdown":"I have a regex problem where I want to match everything until I dont see a comma at the end. In the example here I want to capture Josh,Mike and Richard.\r\n\r\nCurrent regex:\r\n\r\nAdditional [nN]ames[^:\\n\\r]*:\\s*([,\\sa-zA-Z0-9:/_\\-]+)\\Rrandom\r\n\r\nHowever, I cant rely on the random words section being there so my proposed solution is to have some sort of way for the regex to capture until it doesnt see a comma at the end of the line or something of that sort, but still capture the words until that point. In this example, it would stop at Richard because it doesnt see a comma at the end of line but still captures Richard. Solution would be helpful!!\r\n\r\nExample:\r\n\r\nAdditional Names:Josh,\r\n\r\nMike,\r\n\r\nRichard\r\n\r\nrandom wordsa asdoajdioaj : 320 ","title":"Regex matching everything until you dont need a comma at end of line","body":"<p>I have a regex problem where I want to match everything until I dont see a comma at the end. In the example here I want to capture Josh,Mike and Richard.</p>\n<p>Current regex:</p>\n<p>Additional [nN]ames[^:\\n\\r]<em>:\\s</em>([,\\sa-zA-Z0-9:/_-]+)\\Rrandom</p>\n<p>However, I cant rely on the random words section being there so my proposed solution is to have some sort of way for the regex to capture until it doesnt see a comma at the end of the line or something of that sort, but still capture the words until that point. In this example, it would stop at Richard because it doesnt see a comma at the end of line but still captures Richard. Solution would be helpful!!</p>\n<p>Example:</p>\n<p>Additional Names:Josh,</p>\n<p>Mike,</p>\n<p>Richard</p>\n<p>random wordsa asdoajdioaj : 320</p>\n"},{"tags":["java","jakarta-ee","multipartform-data","microprofile","quarkus-rest-client"],"answers":[{"tags":[],"owner":{"account_id":1561771,"reputation":113,"user_id":1451493,"display_name":"manish2aug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663958353,"creation_date":1663958353,"answer_id":73831737,"question_id":73817704,"body_markdown":"Finally found the way, here it is\r\n\r\nUpdated client\r\n---------------\r\n\r\n    @Path(&quot;/v2/tickets&quot;)\r\n    @RegisterRestClient(configKey = &quot;sampleKey&quot;)\r\n    public interface SampleClient {\r\n    \r\n        @POST\r\n        @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        SampleResponse create(\r\n                @HeaderParam(&quot;Authorization&quot;) String authorization,\r\n                @MultipartForm MultipartFormDataOutput data);\r\n    }\r\n\r\n\r\nRepository\r\n---------------\r\n\r\n    public class SampleRepositoryImpl implements SampleRepository {\r\n        @Inject\r\n        @RestClient\r\n        SampleClient client;\r\n    \r\n        @Override\r\n        public void create(SampleData sampleData) {\r\n            MultipartFormDataOutput dataOutput = new MultipartFormDataOutput();\r\n            dataOutput.addFormData(&quot;email&quot;, sampleData.getData().getEmail(), MediaType.TEXT_PLAIN_TYPE);\r\n            sampleData.getAttachments().forEach(x -&gt; {\r\n                dataOutput.addFormData(\r\n                        &quot;attachments[]&quot;,\r\n                        x.getInputStream(),\r\n                        MediaType.APPLICATION_OCTET_STREAM_TYPE,\r\n                        x.getFileName());\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public class Attachment {\r\n        private InputStream inputStream;\r\n        private String fileName;\r\n        //getter setter\r\n    }\r\n    \r\n    public class SampleData {\r\n        private List&lt;Attachment&gt; attachments = new ArrayList&lt;&gt;();\r\n        private OtherData data;\r\n        public void addAttachment(Attachment attachment) {\r\n            if (attachments == null) {\r\n                attachments = new ArrayList&lt;&gt;();\r\n            }\r\n            attachments.add(attachment);\r\n        }\r\n        // getter setter\r\n    }\r\n    \r\n    \r\n\r\n","title":"Quarkus rest-client multipart file upload","body":"<p>Finally found the way, here it is</p>\n<h2>Updated client</h2>\n<pre><code>@Path(&quot;/v2/tickets&quot;)\n@RegisterRestClient(configKey = &quot;sampleKey&quot;)\npublic interface SampleClient {\n\n    @POST\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    @Produces(MediaType.APPLICATION_JSON)\n    SampleResponse create(\n            @HeaderParam(&quot;Authorization&quot;) String authorization,\n            @MultipartForm MultipartFormDataOutput data);\n}\n</code></pre>\n<h2>Repository</h2>\n<pre><code>public class SampleRepositoryImpl implements SampleRepository {\n    @Inject\n    @RestClient\n    SampleClient client;\n\n    @Override\n    public void create(SampleData sampleData) {\n        MultipartFormDataOutput dataOutput = new MultipartFormDataOutput();\n        dataOutput.addFormData(&quot;email&quot;, sampleData.getData().getEmail(), MediaType.TEXT_PLAIN_TYPE);\n        sampleData.getAttachments().forEach(x -&gt; {\n            dataOutput.addFormData(\n                    &quot;attachments[]&quot;,\n                    x.getInputStream(),\n                    MediaType.APPLICATION_OCTET_STREAM_TYPE,\n                    x.getFileName());\n        });\n    }\n}\n\n\n\npublic class Attachment {\n    private InputStream inputStream;\n    private String fileName;\n    //getter setter\n}\n\npublic class SampleData {\n    private List&lt;Attachment&gt; attachments = new ArrayList&lt;&gt;();\n    private OtherData data;\n    public void addAttachment(Attachment attachment) {\n        if (attachments == null) {\n            attachments = new ArrayList&lt;&gt;();\n        }\n        attachments.add(attachment);\n    }\n    // getter setter\n}\n</code></pre>\n"}],"owner":{"account_id":1561771,"reputation":113,"user_id":1451493,"display_name":"manish2aug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663958353,"creation_date":1663862770,"question_id":73817704,"body_markdown":"Following is the curl for a service \r\n\r\nService curl\r\n-------------\r\n\r\n    curl --location --request POST &#39;https://someapi.com/api/v2/tickets&#39; \\\r\n    --header &#39;Authorization: Basic sdsdfsdfsdfsdf=&#39; \\\r\n    --header &#39;Cookie: _x_w=5_2&#39; \\\r\n    --form &#39;attachments[]=@&quot;/home/Downloads/sample.pdf&quot;&#39; \\\r\n    --form &#39;email=&quot;example@example.com&quot;&#39; \r\n\r\nThe following setup works fine with Quarkus 2.12.2-Final, **But it uploads the file with the static file name specified in @PartFileName(), my requirement is to upload the file with the dynamic name and content type, can someone please guide me on how can I update this to read the file name with extension dynamically?**\r\n\r\nClient\r\n-------\r\n\r\n    @Path(&quot;/v2/tickets&quot;)\r\n    @RegisterRestClient(configKey = &quot;sampleKey&quot;)\r\n    public interface SampleClient {\r\n    \r\n        @POST\r\n        @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        SampleResponse create(\r\n                @HeaderParam(&quot;Authorization&quot;) String authorization,\r\n                @MultipartForm MultipartBody data);\r\n    }\r\n\r\n\r\nMultipartBody\r\n--------------\r\n\r\n    public class MultipartBody {\r\n    \r\n        @FormParam(&quot;attachments[]&quot;)\r\n        @PartFilename(&quot;sample.pdf&quot;)\r\n        @PartType(MediaType.APPLICATION_OCTET_STREAM)\r\n        public File file;\r\n        @FormParam(&quot;email&quot;)\r\n        @PartType(MediaType.TEXT_PLAIN)\r\n        public String email = &quot;abcd@bixy.com&quot;;\r\n    }\r\n\r\nRepository\r\n------------\r\n\r\n    public class SampleRepositoryImpl implements SampleRepository {\r\n    \r\n        @Inject\r\n        @RestClient\r\n        SampleClient client;\r\n    \r\n        @Override\r\n        public SampleResponse create(MultipartBody request) {\r\n            MultipartBody body = new MultipartBody();\r\n            File f = new File(&quot;/home/Downloads/sample.pdf&quot;);\r\n            body.setFile(f);\r\n            return client.create(getAuthHeader(), body);\r\n        }\r\n    }\r\n\r\nMaven dependencies\r\n---------------------\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-resteasy-multipart&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-smallrye-health&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-micrometer&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-micrometer-registry-prometheus&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"Quarkus rest-client multipart file upload","body":"<p>Following is the curl for a service</p>\n<h2>Service curl</h2>\n<pre><code>curl --location --request POST 'https://someapi.com/api/v2/tickets' \\\n--header 'Authorization: Basic sdsdfsdfsdfsdf=' \\\n--header 'Cookie: _x_w=5_2' \\\n--form 'attachments[]=@&quot;/home/Downloads/sample.pdf&quot;' \\\n--form 'email=&quot;example@example.com&quot;' \n</code></pre>\n<p>The following setup works fine with Quarkus 2.12.2-Final, <strong>But it uploads the file with the static file name specified in @PartFileName(), my requirement is to upload the file with the dynamic name and content type, can someone please guide me on how can I update this to read the file name with extension dynamically?</strong></p>\n<h2>Client</h2>\n<pre><code>@Path(&quot;/v2/tickets&quot;)\n@RegisterRestClient(configKey = &quot;sampleKey&quot;)\npublic interface SampleClient {\n\n    @POST\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    @Produces(MediaType.APPLICATION_JSON)\n    SampleResponse create(\n            @HeaderParam(&quot;Authorization&quot;) String authorization,\n            @MultipartForm MultipartBody data);\n}\n</code></pre>\n<h2>MultipartBody</h2>\n<pre><code>public class MultipartBody {\n\n    @FormParam(&quot;attachments[]&quot;)\n    @PartFilename(&quot;sample.pdf&quot;)\n    @PartType(MediaType.APPLICATION_OCTET_STREAM)\n    public File file;\n    @FormParam(&quot;email&quot;)\n    @PartType(MediaType.TEXT_PLAIN)\n    public String email = &quot;abcd@bixy.com&quot;;\n}\n</code></pre>\n<h2>Repository</h2>\n<pre><code>public class SampleRepositoryImpl implements SampleRepository {\n\n    @Inject\n    @RestClient\n    SampleClient client;\n\n    @Override\n    public SampleResponse create(MultipartBody request) {\n        MultipartBody body = new MultipartBody();\n        File f = new File(&quot;/home/Downloads/sample.pdf&quot;);\n        body.setFile(f);\n        return client.create(getAuthHeader(), body);\n    }\n}\n</code></pre>\n<h2>Maven dependencies</h2>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-resteasy-multipart&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-smallrye-health&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-micrometer&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-micrometer-registry-prometheus&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":485524,"reputation":4470,"user_id":1277859,"accept_rate":75,"display_name":"Joe"},"score":0,"creation_date":1437100586,"post_id":31467524,"comment_id":50901130,"body_markdown":"@TAsk the above question gives me dates for the current week, would you please help me to get the dates for the given date? since the above one takes the today&#39;s date and prints the current week but my question is to get the week dates for the given date","body":"@TAsk the above question gives me dates for the current week, would you please help me to get the dates for the given date? since the above one takes the today&#39;s date and prints the current week but my question is to get the week dates for the given date"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1437124331,"post_id":31467524,"comment_id":50909824,"body_markdown":"possible duplicate of [Get start and end of week on Android](http://stackoverflow.com/questions/6617854/get-start-and-end-of-week-on-android). Please search StackOverflow before posting. This topic has been addressed many times.","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6617854/get-start-and-end-of-week-on-android\">Get start and end of week on Android</a>. Please search StackOverflow before posting. This topic has been addressed many times."}],"answers":[{"tags":[],"owner":{"account_id":3232924,"reputation":314,"user_id":2727746,"accept_rate":75,"display_name":"PythaLye"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1437100970,"creation_date":1437100970,"answer_id":31467662,"question_id":31467524,"body_markdown":"        Calendar calendar = Calendar.getInstance();\r\n        int offset = calendar.get(Calendar.DAY_OF_WEEK) - 1;\r\n        \r\n        calendar.add(Calendar.DATE, -offset);\r\n        \r\n        for(int i = 0; i &lt; 7; i++){\r\n            System.out.println(calendar.getTime());\r\n            calendar.add(Calendar.DATE, 1);\r\n        }","title":"How to get all week dates for given date java","body":"<pre><code>    Calendar calendar = Calendar.getInstance();\n    int offset = calendar.get(Calendar.DAY_OF_WEEK) - 1;\n\n    calendar.add(Calendar.DATE, -offset);\n\n    for(int i = 0; i &lt; 7; i++){\n        System.out.println(calendar.getTime());\n        calendar.add(Calendar.DATE, 1);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1437101044,"creation_date":1437101044,"answer_id":31467667,"question_id":31467524,"body_markdown":"You can try following way,\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    //cal.setTime(new Date());//Set specific Date if you want to\r\n    \r\n    for(int i = Calendar.SUNDAY; i &lt;= Calendar.SATURDAY; i++) {\r\n    \tcal.set(Calendar.DAY_OF_WEEK, i);\r\n    \tSystem.out.println(cal.getTime());//Returns Date\r\n    }\r\n\r\n***OUTPUT***\r\n\r\n    Sun Jul 12 08:12:38 IST 2015\r\n    Mon Jul 13 08:12:38 IST 2015\r\n    Tue Jul 14 08:12:38 IST 2015\r\n    Wed Jul 15 08:12:38 IST 2015\r\n    Thu Jul 16 08:12:38 IST 2015\r\n    Fri Jul 17 08:12:38 IST 2015\r\n    Sat Jul 18 08:12:38 IST 2015","title":"How to get all week dates for given date java","body":"<p>You can try following way,</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\n//cal.setTime(new Date());//Set specific Date if you want to\n\nfor(int i = Calendar.SUNDAY; i &lt;= Calendar.SATURDAY; i++) {\n    cal.set(Calendar.DAY_OF_WEEK, i);\n    System.out.println(cal.getTime());//Returns Date\n}\n</code></pre>\n\n<p><strong><em>OUTPUT</em></strong></p>\n\n<pre><code>Sun Jul 12 08:12:38 IST 2015\nMon Jul 13 08:12:38 IST 2015\nTue Jul 14 08:12:38 IST 2015\nWed Jul 15 08:12:38 IST 2015\nThu Jul 16 08:12:38 IST 2015\nFri Jul 17 08:12:38 IST 2015\nSat Jul 18 08:12:38 IST 2015\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2130819,"reputation":1734,"user_id":1891695,"display_name":"Mateusz Szulc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1440431585,"creation_date":1440431585,"answer_id":32186579,"question_id":31467524,"body_markdown":"## Pure Java 8 / java.time way ##\nBased on [this][1] and [this][2]:\n\n    public static List&lt;LocalDate&gt; datesOfWeekDate(LocalDate date) {\n        LocalDate monday = date\n                .with(TemporalAdjusters.previousOrSame(DayOfWeek.MONDAY));\n\n        return IntStream.range(0, 7).mapToObj(monday::plusDays).collect(toList());\n    }\n\n  [1]: https://stackoverflow.com/a/17692627/1891695\n  [2]: https://stackoverflow.com/a/32185901/1891695","title":"How to get all week dates for given date java","body":"<h2>Pure Java 8 / java.time way</h2>\n<p>Based on <a href=\"https://stackoverflow.com/a/17692627/1891695\">this</a> and <a href=\"https://stackoverflow.com/a/32185901/1891695\">this</a>:</p>\n<pre><code>public static List&lt;LocalDate&gt; datesOfWeekDate(LocalDate date) {\n    LocalDate monday = date\n            .with(TemporalAdjusters.previousOrSame(DayOfWeek.MONDAY));\n\n    return IntStream.range(0, 7).mapToObj(monday::plusDays).collect(toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26425656,"reputation":1,"user_id":20072670,"display_name":"DavidT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663958259,"creation_date":1663958259,"answer_id":73831726,"question_id":31467524,"body_markdown":"Return List&lt;LocalDateTime&gt; with all days of the week \r\n\r\n    public static List&lt;LocalDateTime&gt; GetListOfTheWeekForDate(Date date){\r\n      \r\n      List&lt;LocalDateTime&gt; listOfWeek = new ArrayList&lt;&gt;(); \r\n      Calendar cal = Calendar.getInstance();\r\n      cal.setTime(date);\r\n\r\n        for(int i = Calendar.SUNDAY; i &lt;= Calendar.SATURDAY; i++) {\r\n            \r\n            cal.set(Calendar.DAY_OF_WEEK, i);\r\n            TimeZone tz = cal.getTimeZone();\r\n            ZoneId zoneId = tz.toZoneId();\r\n            \r\n            LocalDateTime localDateTime = LocalDateTime.ofInstant(cal.toInstant(), zoneId);\r\n            listOfWeek.add(localDateTime);\r\n            }\r\n            \r\n        return listOfWeek;\r\n    }","title":"How to get all week dates for given date java","body":"<p>Return List with all days of the week</p>\n<pre><code>public static List&lt;LocalDateTime&gt; GetListOfTheWeekForDate(Date date){\n  \n  List&lt;LocalDateTime&gt; listOfWeek = new ArrayList&lt;&gt;(); \n  Calendar cal = Calendar.getInstance();\n  cal.setTime(date);\n\n    for(int i = Calendar.SUNDAY; i &lt;= Calendar.SATURDAY; i++) {\n        \n        cal.set(Calendar.DAY_OF_WEEK, i);\n        TimeZone tz = cal.getTimeZone();\n        ZoneId zoneId = tz.toZoneId();\n        \n        LocalDateTime localDateTime = LocalDateTime.ofInstant(cal.toInstant(), zoneId);\n        listOfWeek.add(localDateTime);\n        }\n        \n    return listOfWeek;\n}\n</code></pre>\n"}],"owner":{"account_id":485524,"reputation":4470,"user_id":1277859,"accept_rate":75,"display_name":"Joe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4584,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":31467667,"answer_count":4,"score":7,"last_activity_date":1663958259,"creation_date":1437099821,"question_id":31467524,"body_markdown":"i have a date and how to get all the dates fall on the week that the given date belongs in java?\r\n\r\n    example:\r\n    \r\n    if i give today&#39;s date then i should get all dates belonging to this week.\r\n    \r\n    12 July 2015 to 18 July 2015\r\n\r\ncould some one help me this please.\r\n\r\ni am trying to get the week dates for the given date, I have given explanation why this question is not duplicate, Please read before commenting.","title":"How to get all week dates for given date java","body":"<p>i have a date and how to get all the dates fall on the week that the given date belongs in java?</p>\n\n<pre><code>example:\n\nif i give today's date then i should get all dates belonging to this week.\n\n12 July 2015 to 18 July 2015\n</code></pre>\n\n<p>could some one help me this please.</p>\n\n<p>i am trying to get the week dates for the given date, I have given explanation why this question is not duplicate, Please read before commenting.</p>\n"},{"tags":["java","hashmap"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663958255,"creation_date":1663958255,"answer_id":73831725,"question_id":73831668,"body_markdown":"The `++` unary operator expects the name of variable, not an arbitrary expression. `var++` is semantically equivalent to `var = var + 1`. How would that look in your case?\r\n\r\n```\r\nmyMap.get(word) = myMap.get(word) + 1\r\n```\r\n\r\nThis is not a valid assignment, which is why it&#39;s a compilation error to attempt it.\r\n\r\nJava&#39;s type system knows nothing about Maps or any collection, so it&#39;s not even possible for it to do anything smarter like automatically convert this into some mutation of the map.","title":"Difference Between Math Operations and Function Calls with Map.get()","body":"<p>The <code>++</code> unary operator expects the name of variable, not an arbitrary expression. <code>var++</code> is semantically equivalent to <code>var = var + 1</code>. How would that look in your case?</p>\n<pre><code>myMap.get(word) = myMap.get(word) + 1\n</code></pre>\n<p>This is not a valid assignment, which is why it's a compilation error to attempt it.</p>\n<p>Java's type system knows nothing about Maps or any collection, so it's not even possible for it to do anything smarter like automatically convert this into some mutation of the map.</p>\n"}],"owner":{"account_id":19942230,"reputation":101,"user_id":14671285,"display_name":"Michael Scutari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73831725,"answer_count":1,"score":0,"last_activity_date":1663958255,"creation_date":1663957779,"question_id":73831668,"body_markdown":"Why am I not able to do:\r\n\r\n```\r\nMap&lt;String, Integer&gt; myMap =  new HashMap&lt;&gt;();\r\n        String[] words = &quot;the fox, the quick brown fox jumps&quot;.split(&quot; &quot;);\r\n        for(String word : words) {\r\n            myMap.putIfAbsent(word, 0);\r\n            myMap.get(word)++;\r\n        }\r\n        System.out.println(myMap);\r\n```\r\n\r\nbut I can do:\r\n\r\n```\r\nMap&lt;Character, List&lt;String&gt;&gt; myMap =  new HashMap&lt;&gt;();\r\n        String[] words = &quot;the fox, the quick brown fox jumps&quot;.split(&quot; &quot;);\r\n        for(String word : words) {\r\n            char firstLetter = word.charAt(0);\r\n            myMap.putIfAbsent(firstLetter, new ArrayList&lt;String&gt;());\r\n            myMap.get(firstLetter).add(word);\r\n        }\r\n        System.out.println(myMap);\r\n```\r\n\r\nWhat is the technical difference that makes me able to change a value in the second case, but not in the first? Please let me know how I can make my question more clear if it is not already!","title":"Difference Between Math Operations and Function Calls with Map.get()","body":"<p>Why am I not able to do:</p>\n<pre><code>Map&lt;String, Integer&gt; myMap =  new HashMap&lt;&gt;();\n        String[] words = &quot;the fox, the quick brown fox jumps&quot;.split(&quot; &quot;);\n        for(String word : words) {\n            myMap.putIfAbsent(word, 0);\n            myMap.get(word)++;\n        }\n        System.out.println(myMap);\n</code></pre>\n<p>but I can do:</p>\n<pre><code>Map&lt;Character, List&lt;String&gt;&gt; myMap =  new HashMap&lt;&gt;();\n        String[] words = &quot;the fox, the quick brown fox jumps&quot;.split(&quot; &quot;);\n        for(String word : words) {\n            char firstLetter = word.charAt(0);\n            myMap.putIfAbsent(firstLetter, new ArrayList&lt;String&gt;());\n            myMap.get(firstLetter).add(word);\n        }\n        System.out.println(myMap);\n</code></pre>\n<p>What is the technical difference that makes me able to change a value in the second case, but not in the first? Please let me know how I can make my question more clear if it is not already!</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":1601250,"reputation":1253,"user_id":1482231,"accept_rate":52,"display_name":"Prasath"},"score":1,"creation_date":1663956246,"post_id":73831369,"comment_id":130369557,"body_markdown":"First try with different property like apiKey=sometext.","body":"First try with different property like apiKey=sometext."},{"owner":{"account_id":1601250,"reputation":1253,"user_id":1482231,"accept_rate":52,"display_name":"Prasath"},"score":0,"creation_date":1663956263,"post_id":73831369,"comment_id":130369561,"body_markdown":"I think there is an issue with your property","body":"I think there is an issue with your property"},{"owner":{"account_id":26425100,"reputation":45,"user_id":20072191,"display_name":"Kevin"},"score":0,"creation_date":1663956485,"post_id":73831369,"comment_id":130369614,"body_markdown":"I tried changing it to apiKey, but I am receiving the same error. I used the lowercase and kebab format per the documentation suggestions. It mentioned that spring can be more flexible with its loose binding that way.","body":"I tried changing it to apiKey, but I am receiving the same error. I used the lowercase and kebab format per the documentation suggestions. It mentioned that spring can be more flexible with its loose binding that way."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":2,"creation_date":1663957286,"post_id":73831369,"comment_id":130369830,"body_markdown":"I think the two most likely problems are that the file&#39;s not in the right place so it hasn&#39;t been found or that the `dev` profile isn&#39;t active so that your `application-dev.properties` file hasn&#39;t been loaded. Can you be more precise about the location of your `application-dev.properties` and any profiles that you have activated? A [complete yet minimal sample](/help/mcve) would be useful here.","body":"I think the two most likely problems are that the file&#39;s not in the right place so it hasn&#39;t been found or that the <code>dev</code> profile isn&#39;t active so that your <code>application-dev.properties</code> file hasn&#39;t been loaded. Can you be more precise about the location of your <code>application-dev.properties</code> and any profiles that you have activated? A <a href=\"/help/mcve\">complete yet minimal sample</a> would be useful here."},{"owner":{"account_id":26425100,"reputation":45,"user_id":20072191,"display_name":"Kevin"},"score":0,"creation_date":1663958177,"post_id":73831369,"comment_id":130370033,"body_markdown":"Thanks for the feedback, Andy! I misunderstood what profiles meant in terms of configuration so you were right, I needed to put the api key info in my application.properties file because I had not set up a profile in my configuration.","body":"Thanks for the feedback, Andy! I misunderstood what profiles meant in terms of configuration so you were right, I needed to put the api key info in my application.properties file because I had not set up a profile in my configuration."}],"answers":[{"tags":[],"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1663957394,"creation_date":1663956984,"answer_id":73831547,"question_id":73831369,"body_markdown":"As you mentioned you are using `application-dev.properties` therefore you have to do profiling correctly. In your `application.properties` add `spring.profiles.active=dev` to activate dev profile.","title":"Using Java and Spring Boot and my @Value annotation for my application-dev.properties is not being resolved?","body":"<p>As you mentioned you are using <code>application-dev.properties</code> therefore you have to do profiling correctly. In your <code>application.properties</code> add <code>spring.profiles.active=dev</code> to activate dev profile.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663957732,"creation_date":1663957732,"answer_id":73831659,"question_id":73831369,"body_markdown":"As mentioned in the other answer,\r\nthe name of the application-dev.properties file requires that\r\nyou activate the &quot;dev&quot; profile or Spring Boot will never read it and the\r\nvalues therein will not be available to your `@Value` annotation.\r\n\r\nHere is a link to a Baeldung article that discusses Spring Boot profiles:\r\n[Spring Boot Profiles at Baeldung][1]\r\n(I am not associated with Baeldung,\r\nI just like much of their stuff).\r\n\r\nIf you are not planning to use profiles in your application,\r\nchange the name of the properties file to &quot;application.properties&quot;.\r\n\r\n\r\n[1]:https://www.baeldung.com/spring-profiles","title":"Using Java and Spring Boot and my @Value annotation for my application-dev.properties is not being resolved?","body":"<p>As mentioned in the other answer,\nthe name of the application-dev.properties file requires that\nyou activate the &quot;dev&quot; profile or Spring Boot will never read it and the\nvalues therein will not be available to your <code>@Value</code> annotation.</p>\n<p>Here is a link to a Baeldung article that discusses Spring Boot profiles:\n<a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">Spring Boot Profiles at Baeldung</a>\n(I am not associated with Baeldung,\nI just like much of their stuff).</p>\n<p>If you are not planning to use profiles in your application,\nchange the name of the properties file to &quot;application.properties&quot;.</p>\n"}],"owner":{"account_id":26425100,"reputation":45,"user_id":20072191,"display_name":"Kevin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73831547,"answer_count":2,"score":1,"last_activity_date":1663957732,"creation_date":1663955739,"question_id":73831369,"body_markdown":"This is my very first question so I apologize if it is not specific enough (please be gentle haha) and I have already gone through documentation, but I am new to the field and none of it helped.\r\n\r\nI am making a simple project that uses Java 18 and Spring Boot to make a call to an external API call and I want to hide my API key that I use for obvious reasons. \r\n\r\nAs of right now, I have an application-dev.properties file in my resources directory with the following (I am making up the actual key for security) and I have application-dev.properties in my .gitignore file so it doesn&#39;t get committed:\r\n\r\n    api-key=someText\r\n\r\n\r\nAnd I am trying to use that value in my controller like so:\r\n\r\n    @RestController\r\n    public class ImageController {\r\n    \r\n        @Value(&quot;${api-key}&quot;)\r\n        private String API_KEY;\r\n    \r\n        @RequestMapping(value = &quot;/image&quot;)\r\n        public List&lt;String&gt; getImages(@RequestParam(defaultValue = &quot;4&quot;) String request) {\r\n    \r\n            String url = &quot;https://api.nasa.gov/planetary/apod?&quot; + API_KEY + request;\r\n            RestTemplate restTemplate = new RestTemplate();\r\n\r\nThe error I am receiving is this:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;imageController&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;api-key&#39; in value &quot;${api-key}&quot;\r\n\r\n\r\nThanks in advance!\r\n","title":"Using Java and Spring Boot and my @Value annotation for my application-dev.properties is not being resolved?","body":"<p>This is my very first question so I apologize if it is not specific enough (please be gentle haha) and I have already gone through documentation, but I am new to the field and none of it helped.</p>\n<p>I am making a simple project that uses Java 18 and Spring Boot to make a call to an external API call and I want to hide my API key that I use for obvious reasons.</p>\n<p>As of right now, I have an application-dev.properties file in my resources directory with the following (I am making up the actual key for security) and I have application-dev.properties in my .gitignore file so it doesn't get committed:</p>\n<pre><code>api-key=someText\n</code></pre>\n<p>And I am trying to use that value in my controller like so:</p>\n<pre><code>@RestController\npublic class ImageController {\n\n    @Value(&quot;${api-key}&quot;)\n    private String API_KEY;\n\n    @RequestMapping(value = &quot;/image&quot;)\n    public List&lt;String&gt; getImages(@RequestParam(defaultValue = &quot;4&quot;) String request) {\n\n        String url = &quot;https://api.nasa.gov/planetary/apod?&quot; + API_KEY + request;\n        RestTemplate restTemplate = new RestTemplate();\n</code></pre>\n<p>The error I am receiving is this:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'imageController': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'api-key' in value &quot;${api-key}&quot;\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663957730,"creation_date":1590156650,"answer_id":61956930,"question_id":61956628,"body_markdown":"Problem\r\n---\r\n\r\nThe following line means adding `9` at index, `3`\r\n\r\n    graph.get(1).add(3,9);\r\nHowever, `graph.get(1)` returns an `ArrayList&lt;Integer&gt;` which is empty. That&#39;s why you are getting the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 3, Size: 0\r\n\r\nSolution\r\n---\r\n\r\nReplace \r\n\r\n    graph.get(1).add(3,9);\r\n\r\nwith\r\n\r\n    graph.get(1).add(9);\r\nwhich will add the element (e.g. `9` in this case) after the last index where an element has been added. In this case, `9` will be added at index, `0`.\r\n\r\nUpdate\r\n---\r\n\r\nAlternatively, you can initialize the inner list as follows:\r\n\r\n    for(int i=0; i &lt; n+2 ; i++) {\r\n    \tList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    \tfor(int j = 0; j&lt; n+2; j++){\r\n    \t\tlist.add(0);\r\n    \t}\r\n        graph.add(list);\r\n    }\r\nand then you can carry on as follows (the way you have already done):\r\n    \r\n    graph.get(1).add(3,9);\r\n    graph.get(2).add(3,1);\r\n    graph.get(1).add(2,5);\r\n\r\nUpdate 2\r\n---\r\n\r\nGiven below is the concise way based on [Andy Turner&#39;s comment](https://stackoverflow.com/questions/61956628/get-an-error-though-proper-initialized-arraylist-in-java/61956930#comment109586172_61956930):\r\n\r\n    for (int i = 0; i &lt; n + 2; i++) {\r\n    \tgraph.add(new ArrayList&lt;&gt;(Collections.nCopies(n + 2, 0)));\r\n    }","title":"get an error though proper initialized arraylist in java","body":"<h2>Problem</h2>\n<p>The following line means adding <code>9</code> at index, <code>3</code></p>\n<pre><code>graph.get(1).add(3,9);\n</code></pre>\n<p>However, <code>graph.get(1)</code> returns an <code>ArrayList&lt;Integer&gt;</code> which is empty. That's why you are getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 3, Size: 0\n</code></pre>\n<h2>Solution</h2>\n<p>Replace</p>\n<pre><code>graph.get(1).add(3,9);\n</code></pre>\n<p>with</p>\n<pre><code>graph.get(1).add(9);\n</code></pre>\n<p>which will add the element (e.g. <code>9</code> in this case) after the last index where an element has been added. In this case, <code>9</code> will be added at index, <code>0</code>.</p>\n<h2>Update</h2>\n<p>Alternatively, you can initialize the inner list as follows:</p>\n<pre><code>for(int i=0; i &lt; n+2 ; i++) {\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    for(int j = 0; j&lt; n+2; j++){\n        list.add(0);\n    }\n    graph.add(list);\n}\n</code></pre>\n<p>and then you can carry on as follows (the way you have already done):</p>\n<pre><code>graph.get(1).add(3,9);\ngraph.get(2).add(3,1);\ngraph.get(1).add(2,5);\n</code></pre>\n<h2>Update 2</h2>\n<p>Given below is the concise way based on <a href=\"https://stackoverflow.com/questions/61956628/get-an-error-though-proper-initialized-arraylist-in-java/61956930#comment109586172_61956930\">Andy Turner's comment</a>:</p>\n<pre><code>for (int i = 0; i &lt; n + 2; i++) {\n    graph.add(new ArrayList&lt;&gt;(Collections.nCopies(n + 2, 0)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6588799,"reputation":2536,"user_id":5090758,"accept_rate":46,"display_name":"William Rosenbloom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590157434,"creation_date":1590156714,"answer_id":61956950,"question_id":61956628,"body_markdown":"You initialize your ArrayLists with ***capacity*** = `n + 2`, but the ArrayLists are still empty when they are first created. The capacity is different than the size.\r\n\r\n&lt;dl&gt;\r\n&lt;dt&gt;&lt;strong&gt;capacity&lt;/strong&gt;&lt;/dt&gt;\r\n&lt;dd&gt;The number of elements that could be added to the ArrayList without allocating any additional memory&lt;/dd&gt;\r\n&lt;dt&gt;&lt;strong&gt;size&lt;/strong&gt;&lt;/dt&gt;\r\n&lt;dd&gt;The number of elements actually stored in the ArrayList&lt;/dd&gt;\r\n&lt;/dl&gt;\r\n&lt;br&gt;\r\n\r\nYour calls to `ArrayList::add` are throwing an out of bounds exception because an empty ArrayList cannot insert a value at index = 3. By definition, the first value that is added to any ArrayList will have index = 0.\r\n\r\nWhy are you trying to insert values at particular indices? The solution will depend on why you are doing that.\r\n\r\n**EDIT: SOLUTION**\r\n\r\nWhen you create the ArrayList, initialize it with `n + 2` entries all with value = 0.\r\n\r\n    ...\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; graph = new ArrayList&lt;&gt;(n+2);\r\n    for(int i=0; i &lt; n+2 ; i++) {\r\n        ArrayList&lt;Integer&gt; sublist = new ArrayList&lt;&gt;(n+2);\r\n        for (int j = 0; j &lt; n + 2; j++) {\r\n            sublist.add(0);\r\n        }\r\n        graph.add(sublist);\r\n    }\r\n    ...\r\n\r\n**Keep the rest the same and it will behave as desired.**","title":"get an error though proper initialized arraylist in java","body":"<p>You initialize your ArrayLists with <strong><em>capacity</em></strong> = <code>n + 2</code>, but the ArrayLists are still empty when they are first created. The capacity is different than the size.</p>\n\n<dl>\n<dt><strong>capacity</strong></dt>\n<dd>The number of elements that could be added to the ArrayList without allocating any additional memory</dd>\n<dt><strong>size</strong></dt>\n<dd>The number of elements actually stored in the ArrayList</dd>\n</dl>\n\n<p><br></p>\n\n<p>Your calls to <code>ArrayList::add</code> are throwing an out of bounds exception because an empty ArrayList cannot insert a value at index = 3. By definition, the first value that is added to any ArrayList will have index = 0.</p>\n\n<p>Why are you trying to insert values at particular indices? The solution will depend on why you are doing that.</p>\n\n<p><strong>EDIT: SOLUTION</strong></p>\n\n<p>When you create the ArrayList, initialize it with <code>n + 2</code> entries all with value = 0.</p>\n\n<pre><code>...\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; graph = new ArrayList&lt;&gt;(n+2);\nfor(int i=0; i &lt; n+2 ; i++) {\n    ArrayList&lt;Integer&gt; sublist = new ArrayList&lt;&gt;(n+2);\n    for (int j = 0; j &lt; n + 2; j++) {\n        sublist.add(0);\n    }\n    graph.add(sublist);\n}\n...\n</code></pre>\n\n<p><strong>Keep the rest the same and it will behave as desired.</strong></p>\n"}],"owner":{"account_id":14884601,"reputation":67,"user_id":10748135,"display_name":"Dip Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":61956930,"answer_count":2,"score":1,"last_activity_date":1663957730,"creation_date":1590155677,"question_id":61956628,"body_markdown":"i want to passing value in arraylist, and initialized well. but there is an error - \r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 3, Size: 0 \r\n\r\nI am trying hard, here is my code - \r\n\r\n```\r\n\r\n      public static void main(String[]args)\r\n        {\r\n            int n = 3;\r\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; graph = new ArrayList&lt;&gt;(n+2);\r\n            for(int i=0; i &lt; n+2 ; i++) {\r\n                graph.add(new ArrayList&lt;&gt;(n+2));\r\n            }\r\n            graph.get(1).add(3,9);\r\n            graph.get(2).add(3,1);\r\n            graph.get(1).add(2,5);\r\n    \r\n            int s = 1, d = 3;\r\n            System.out.println(dijkstra(s,d,graph));\r\n        }\r\n```","title":"get an error though proper initialized arraylist in java","body":"<p>i want to passing value in arraylist, and initialized well. but there is an error - </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IndexOutOfBoundsException: Index: 3, Size: 0 </p>\n</blockquote>\n\n<p>I am trying hard, here is my code - </p>\n\n<pre><code>\n      public static void main(String[]args)\n        {\n            int n = 3;\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; graph = new ArrayList&lt;&gt;(n+2);\n            for(int i=0; i &lt; n+2 ; i++) {\n                graph.add(new ArrayList&lt;&gt;(n+2));\n            }\n            graph.get(1).add(3,9);\n            graph.get(2).add(3,1);\n            graph.get(1).add(2,5);\n\n            int s = 1, d = 3;\n            System.out.println(dijkstra(s,d,graph));\n        }\n</code></pre>\n"},{"tags":["java","maven","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663957519,"creation_date":1663957519,"answer_id":73831628,"question_id":73783289,"body_markdown":"The repo that you are using is not the official repo of Micrometer.\r\nCheck the docs and the readme, Micrometer artifacts can be found here:\r\n- Stable: https://search.maven.org/search?q=g:io.micrometer\r\n- Milestone: https://repo.spring.io/ui/native/milestone/io/micrometer\r\n- Snapshot: https://repo.spring.io/ui/native/snapshot/io/micrometer\r\n\r\nIf you want to use the non-official redhat repo, please contact redhat support.","title":"Missing JAR for micrometer-commons:1.10.0.M1-redhat-00001","body":"<p>The repo that you are using is not the official repo of Micrometer.\nCheck the docs and the readme, Micrometer artifacts can be found here:</p>\n<ul>\n<li>Stable: <a href=\"https://search.maven.org/search?q=g:io.micrometer\" rel=\"nofollow noreferrer\">https://search.maven.org/search?q=g:io.micrometer</a></li>\n<li>Milestone: <a href=\"https://repo.spring.io/ui/native/milestone/io/micrometer\" rel=\"nofollow noreferrer\">https://repo.spring.io/ui/native/milestone/io/micrometer</a></li>\n<li>Snapshot: <a href=\"https://repo.spring.io/ui/native/snapshot/io/micrometer\" rel=\"nofollow noreferrer\">https://repo.spring.io/ui/native/snapshot/io/micrometer</a></li>\n</ul>\n<p>If you want to use the non-official redhat repo, please contact redhat support.</p>\n"}],"owner":{"account_id":5061351,"reputation":21,"user_id":6811974,"display_name":"Li Heng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663957519,"creation_date":1663660422,"question_id":73783289,"body_markdown":"[```io.micrometer:micrometer-core:micrometer-core-1.10.0.M1-redhat-00001.pom```][1] defines a dependency on ```io.micrometer:micrometer-commons:micrometer-commons-1.10.0.M1-redhat-00001```\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micrometer-commons&lt;/artifactId&gt;\r\n      &lt;version&gt;1.10.0.M1-redhat-00001&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nAnd [```io.micrometer:micrometer-commons:micrometer-commons-1.10.0.M1-redhat-00001.pom```][2] does not specify ```&lt;packaging&gt;``` to be ```pom```. Therefore it is using default packaging type of ```jar```.   \r\n\r\nHowever, there is no ```micrometer-commons-1.10.0.M1-redhat-00001.jar``` available [here][2]. \r\n\r\nIs there anything wrong in Micromere 1.10.0.M1-redhat-00001? \r\n\r\n  [1]: https://maven.repository.redhat.com/ga/io/micrometer/micrometer-core/1.10.0.M1-redhat-00001/\r\n  [2]: https://maven.repository.redhat.com/ga/io/micrometer/micrometer-commons/1.10.0.M1-redhat-00001/","title":"Missing JAR for micrometer-commons:1.10.0.M1-redhat-00001","body":"<p><a href=\"https://maven.repository.redhat.com/ga/io/micrometer/micrometer-core/1.10.0.M1-redhat-00001/\" rel=\"nofollow noreferrer\"><code>io.micrometer:micrometer-core:micrometer-core-1.10.0.M1-redhat-00001.pom</code></a> defines a dependency on <code>io.micrometer:micrometer-commons:micrometer-commons-1.10.0.M1-redhat-00001</code></p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n      &lt;artifactId&gt;micrometer-commons&lt;/artifactId&gt;\n      &lt;version&gt;1.10.0.M1-redhat-00001&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And <a href=\"https://maven.repository.redhat.com/ga/io/micrometer/micrometer-commons/1.10.0.M1-redhat-00001/\" rel=\"nofollow noreferrer\"><code>io.micrometer:micrometer-commons:micrometer-commons-1.10.0.M1-redhat-00001.pom</code></a> does not specify <code>&lt;packaging&gt;</code> to be <code>pom</code>. Therefore it is using default packaging type of <code>jar</code>.</p>\n<p>However, there is no <code>micrometer-commons-1.10.0.M1-redhat-00001.jar</code> available <a href=\"https://maven.repository.redhat.com/ga/io/micrometer/micrometer-commons/1.10.0.M1-redhat-00001/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Is there anything wrong in Micromere 1.10.0.M1-redhat-00001?</p>\n"},{"tags":["java","android","google-cloud-firestore","firebaseui"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1663955181,"post_id":73831171,"comment_id":130369293,"body_markdown":"I&#39;m not sure I understand the question, but: yes, data is loaded from Firestore asynchronously. If that doesn&#39;t answer your question, can you point out exactly what line of the code you shared doesn&#39;t do what you expect it to do?","body":"I&#39;m not sure I understand the question, but: yes, data is loaded from Firestore asynchronously. If that doesn&#39;t answer your question, can you point out exactly what line of the code you shared doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":26069891,"reputation":47,"user_id":19769763,"display_name":"Leonardo Maito"},"score":0,"creation_date":1663955500,"post_id":73831171,"comment_id":130369369,"body_markdown":"I&#39;m not sure it is a line of code. I expected my `Recycler` to display both of the values in my database, as shown in the image. However, it only loads the first field `0` . Why doesn&#39;t it also show the value at position `1`  ? I can post a screenshot of my Recycler if you&#39;d like.","body":"I&#39;m not sure it is a line of code. I expected my <code>Recycler</code> to display both of the values in my database, as shown in the image. However, it only loads the first field <code>0</code> . Why doesn&#39;t it also show the value at position <code>1</code>  ? I can post a screenshot of my Recycler if you&#39;d like."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663957473,"creation_date":1663957473,"answer_id":73831622,"question_id":73831171,"body_markdown":"The `FirestoreRecyclerAdapter` creates one child view in the `RecyclerView` for each document. Since you have only a single document under `cliente`, it is the expected behavior that only a single child shows up in the recycler view.\r\n\r\nIf you need a different behavior, you&#39;ll probably want to create your own adapter. The Android documentation on [creating dynamic lists with RecyclerView](https://developer.android.com/develop/ui/views/layout/recyclerview) contains a step-by-step guide for this.","title":"Does the FireStoreRecycler or Query make a asynchronous call to the database?","body":"<p>The <code>FirestoreRecyclerAdapter</code> creates one child view in the <code>RecyclerView</code> for each document. Since you have only a single document under <code>cliente</code>, it is the expected behavior that only a single child shows up in the recycler view.</p>\n<p>If you need a different behavior, you'll probably want to create your own adapter. The Android documentation on <a href=\"https://developer.android.com/develop/ui/views/layout/recyclerview\" rel=\"nofollow noreferrer\">creating dynamic lists with RecyclerView</a> contains a step-by-step guide for this.</p>\n"}],"owner":{"account_id":26069891,"reputation":47,"user_id":19769763,"display_name":"Leonardo Maito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663957473,"creation_date":1663954338,"question_id":73831171,"body_markdown":"I&#39;ve been fiddling around with the `Firebase Firestore` and have been using the `FireStoreUI` library to facilitate displaying data from my database in my RecyclerView.\r\n\r\nHowever, I noticed that by using the `Query` object and it&#39;s `orderBy` function, I am able to only display a single value from my Array that&#39;s inside the database.\r\n\r\nI then proceeded to add:\r\n ```   \r\n @Override\r\n    public int getItemCount() {\r\n        Log.e(&quot;TITLE&quot;,&quot;result&quot; + super.getItemCount());\r\n        return super.getItemCount();\r\n    }\r\n ```\r\n\r\nIn my `FirestoreAdapter` class. For a few seconds, I get a result of 0, and then I get a result of 1. As in the screenshot:\r\n\r\n[![Result][1]][1]\r\n\r\nAnd here&#39;s my Firestore Database:\r\n\r\n[![Database][2]][2]\r\n\r\nWhich makes me wonder, is this why my `RecyclerView` only displays the first value of the array? \r\nDo I have to create some sort of `callBack` function? Because most documentation/tutorials I&#39;ve seen about it don&#39;t have one.\r\n\r\nHere&#39;s my `Activity`\r\n\r\n```\r\npublic class OsActivity extends AppCompatActivity {\r\n    private FirestoreAdapter listAdapter;\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private CollectionReference osRef = db.collection(&quot;cliente&quot;);\r\n    private DocumentReference docRef = osRef.document(&quot;clienteTeste&quot;);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_os);\r\n\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerViewOs);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n        recyclerView.setHasFixedSize(true);\r\n\r\n        /*docRef.get().addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()) {\r\n                DocumentSnapshot document = task.getResult();\r\n                if (document.exists()) {\r\n                    Log.e(&quot;RESULTADO&quot;,&quot;result:&quot; + document.toString());\r\n                }\r\n            }\r\n        });*/\r\n\r\n        Query query = osRef.orderBy(&quot;serviceOrder&quot;,\r\n                Query.Direction.ASCENDING);\r\n\r\n        FirestoreRecyclerOptions&lt;ServiceDocument&gt; options =\r\n                new FirestoreRecyclerOptions.Builder&lt;ServiceDocument&gt;()\r\n                        .setQuery(query, ServiceDocument.class)\r\n                        .build();\r\n\r\n         listAdapter = new FirestoreAdapter(options);\r\n        recyclerView.setAdapter(listAdapter);\r\n        listAdapter.notifyDataSetChanged();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        listAdapter.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        listAdapter.stopListening();\r\n    }\r\n\r\n```\r\nAnd here&#39;s my `Adapter`:\r\n\r\n```\r\npublic class FirestoreAdapter extends FirestoreRecyclerAdapter&lt;ServiceDocument, FirestoreAdapter.ViewHolder&gt; {\r\n\r\n    public FirestoreAdapter(@NonNull FirestoreRecyclerOptions&lt;ServiceDocument&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull ViewHolder holder, int position, @NonNull ServiceDocument model) {\r\n        holder.osIdItem.setText(String.valueOf(model.serviceOrder.get(position).getId()));\r\n        holder.osClientItem.setText(model.serviceOrder.get(position).getClient().getName());\r\n        holder.osDateItem.setText(model.serviceOrder.get(position).getDate());\r\n        holder.osValueItem.setText(String.valueOf(model.serviceOrder.get(position).getTotalValue()));\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n\r\n        View view = layoutInflater.inflate(R.layout.layout_os_item, parent, false);\r\n\r\n        return new FirestoreAdapter.ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        Log.e(&quot;TITLE&quot;,&quot;result&quot; + super.getItemCount());\r\n        return super.getItemCount();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private  TextView osIdItem;\r\n        private  TextView osClientItem;\r\n        private  TextView osDateItem;\r\n        private  TextView osValueItem;\r\n\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            osIdItem =  itemView.findViewById(R.id.osIDItem);\r\n            osClientItem =   itemView.findViewById(R.id.osClientNameItem);\r\n            osDateItem =  itemView.findViewById(R.id.osDateItem);\r\n            osValueItem =  itemView.findViewById(R.id.osValueItem);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**The commented part of my `Activity` shows me that I am getting both fields from my database, as an array, so I don&#39;t know why my RecyclerView doesn&#39;t.**\r\n\r\n  [1]: https://i.stack.imgur.com/fLgFT.png\r\n  [2]: https://i.stack.imgur.com/wkQGw.png","title":"Does the FireStoreRecycler or Query make a asynchronous call to the database?","body":"<p>I've been fiddling around with the <code>Firebase Firestore</code> and have been using the <code>FireStoreUI</code> library to facilitate displaying data from my database in my RecyclerView.</p>\n<p>However, I noticed that by using the <code>Query</code> object and it's <code>orderBy</code> function, I am able to only display a single value from my Array that's inside the database.</p>\n<p>I then proceeded to add:</p>\n<pre><code>@Override\n   public int getItemCount() {\n       Log.e(&quot;TITLE&quot;,&quot;result&quot; + super.getItemCount());\n       return super.getItemCount();\n   }\n</code></pre>\n<p>In my <code>FirestoreAdapter</code> class. For a few seconds, I get a result of 0, and then I get a result of 1. As in the screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/fLgFT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fLgFT.png\" alt=\"Result\" /></a></p>\n<p>And here's my Firestore Database:</p>\n<p><a href=\"https://i.stack.imgur.com/wkQGw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wkQGw.png\" alt=\"Database\" /></a></p>\n<p>Which makes me wonder, is this why my <code>RecyclerView</code> only displays the first value of the array?\nDo I have to create some sort of <code>callBack</code> function? Because most documentation/tutorials I've seen about it don't have one.</p>\n<p>Here's my <code>Activity</code></p>\n<pre><code>public class OsActivity extends AppCompatActivity {\n    private FirestoreAdapter listAdapter;\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\n    private CollectionReference osRef = db.collection(&quot;cliente&quot;);\n    private DocumentReference docRef = osRef.document(&quot;clienteTeste&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_os);\n\n        RecyclerView recyclerView = findViewById(R.id.recyclerViewOs);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n        recyclerView.setHasFixedSize(true);\n\n        /*docRef.get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                DocumentSnapshot document = task.getResult();\n                if (document.exists()) {\n                    Log.e(&quot;RESULTADO&quot;,&quot;result:&quot; + document.toString());\n                }\n            }\n        });*/\n\n        Query query = osRef.orderBy(&quot;serviceOrder&quot;,\n                Query.Direction.ASCENDING);\n\n        FirestoreRecyclerOptions&lt;ServiceDocument&gt; options =\n                new FirestoreRecyclerOptions.Builder&lt;ServiceDocument&gt;()\n                        .setQuery(query, ServiceDocument.class)\n                        .build();\n\n         listAdapter = new FirestoreAdapter(options);\n        recyclerView.setAdapter(listAdapter);\n        listAdapter.notifyDataSetChanged();\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        listAdapter.startListening();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        listAdapter.stopListening();\n    }\n\n</code></pre>\n<p>And here's my <code>Adapter</code>:</p>\n<pre><code>public class FirestoreAdapter extends FirestoreRecyclerAdapter&lt;ServiceDocument, FirestoreAdapter.ViewHolder&gt; {\n\n    public FirestoreAdapter(@NonNull FirestoreRecyclerOptions&lt;ServiceDocument&gt; options) {\n        super(options);\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull ViewHolder holder, int position, @NonNull ServiceDocument model) {\n        holder.osIdItem.setText(String.valueOf(model.serviceOrder.get(position).getId()));\n        holder.osClientItem.setText(model.serviceOrder.get(position).getClient().getName());\n        holder.osDateItem.setText(model.serviceOrder.get(position).getDate());\n        holder.osValueItem.setText(String.valueOf(model.serviceOrder.get(position).getTotalValue()));\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n\n        View view = layoutInflater.inflate(R.layout.layout_os_item, parent, false);\n\n        return new FirestoreAdapter.ViewHolder(view);\n    }\n\n    @Override\n    public int getItemCount() {\n        Log.e(&quot;TITLE&quot;,&quot;result&quot; + super.getItemCount());\n        return super.getItemCount();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        private  TextView osIdItem;\n        private  TextView osClientItem;\n        private  TextView osDateItem;\n        private  TextView osValueItem;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n\n            osIdItem =  itemView.findViewById(R.id.osIDItem);\n            osClientItem =   itemView.findViewById(R.id.osClientNameItem);\n            osDateItem =  itemView.findViewById(R.id.osDateItem);\n            osValueItem =  itemView.findViewById(R.id.osValueItem);\n        }\n    }\n}\n\n</code></pre>\n<p><strong>The commented part of my <code>Activity</code> shows me that I am getting both fields from my database, as an array, so I don't know why my RecyclerView doesn't.</strong></p>\n"},{"tags":["java","hadoop","bigdata","hbase","apache-phoenix"],"answers":[{"tags":[],"owner":{"account_id":7289157,"reputation":91,"user_id":5556239,"display_name":"mohaddese abbasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1611656032,"creation_date":1611651642,"answer_id":65898417,"question_id":65898025,"body_markdown":"i dont exactly know why but LESS_OR_EQUAL works with string:\r\n\r\n    new SingleColumnValueFilter(\r\n                        Bytes.toBytes(&quot;cf&quot;), Bytes.toBytes(&quot;value&quot;), CompareOperator.LESS_OR_EQUAL,\r\n                        new BinaryComparator(Bytes.toBytes(&quot;1611647500000&quot;)))\r\n\r\nbut GREATER_OR_EQUAL did not work when i used quotes so i had to use number (L is added to specify Long)\r\n\r\n    new SingleColumnValueFilter(\r\n                            Bytes.toBytes(&quot;ui&quot;), Bytes.toBytes(&quot;C&quot;), CompareOperator.GREATER_OR_EQUAL,\r\n                            new BinaryComparator(Bytes.toBytes(1611388300000L)))","title":"hbase GREATER_OR_EQAUL operator does not work as expected","body":"<p>i dont exactly know why but LESS_OR_EQUAL works with string:</p>\n<pre><code>new SingleColumnValueFilter(\n                    Bytes.toBytes(&quot;cf&quot;), Bytes.toBytes(&quot;value&quot;), CompareOperator.LESS_OR_EQUAL,\n                    new BinaryComparator(Bytes.toBytes(&quot;1611647500000&quot;)))\n</code></pre>\n<p>but GREATER_OR_EQUAL did not work when i used quotes so i had to use number (L is added to specify Long)</p>\n<pre><code>new SingleColumnValueFilter(\n                        Bytes.toBytes(&quot;ui&quot;), Bytes.toBytes(&quot;C&quot;), CompareOperator.GREATER_OR_EQUAL,\n                        new BinaryComparator(Bytes.toBytes(1611388300000L)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26425434,"reputation":1,"user_id":20072484,"display_name":"TuanPham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663956265,"creation_date":1663956265,"answer_id":73831447,"question_id":65898025,"body_markdown":"Since you&#39;re comparing long, you should use LongComparator instead of BinaryComparator:\r\nhttps://hbase.apache.org/apidocs/org/apache/hadoop/hbase/filter/LongComparator.html","title":"hbase GREATER_OR_EQAUL operator does not work as expected","body":"<p>Since you're comparing long, you should use LongComparator instead of BinaryComparator:\n<a href=\"https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/filter/LongComparator.html\" rel=\"nofollow noreferrer\">https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/filter/LongComparator.html</a></p>\n"}],"owner":{"account_id":7289157,"reputation":91,"user_id":5556239,"display_name":"mohaddese abbasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":65898417,"answer_count":2,"score":0,"last_activity_date":1663956265,"creation_date":1611649846,"question_id":65898025,"body_markdown":"i have this row in my hbase table:\r\n{rowkey:1_1611646861574/cf:value/1611646776287/Put/vlen=8/seqid=0}\r\nnow i want to do a simple scan and find rows where their column value is greater than &quot;1611388300000&quot;. but it does not return any record; however it returns this record when i use LESS_OR_EQUAL than 1611647500000.\r\nthe weird thing is i can get this record from apache phoenix sql query: select * from my_table where value&gt;=1611388300000.\r\n\r\nso number is a obviously bigger than column value and apache phoenix returns it; why hbase compare Operator does not?\r\n\r\nhere is my code:\r\n\r\n    Table table = con.getTable(TableName.valueOf(&quot;my_table&quot;));\r\n    Scan scan = new Scan();\r\n    scan.addColumn(Bytes.toBytes(&quot;cf&quot;), Bytes.toBytes(&quot;value&quot;));\r\n    FilterList flist = new FilterList(FilterList.Operator.MUST_PASS_ALL);\r\n    flist.addFilter(new PrefixFilter(Bytes.toBytes(&quot;1&quot;)));\r\n    flist.addFilter(new SingleColumnValueFilter(\r\n                            Bytes.toBytes(&quot;cf&quot;), Bytes.toBytes(&quot;value&quot;), CompareOperator.GREATER_OR_EQUAL,\r\n                            new BinaryComparator(Bytes.toBytes(&quot;1611388300000&quot;))));\r\n    scan.setFilter(flist);\r\n    ResultScanner scanner = table.getScanner(scan);\r\n    for (Result result = scanner.next(); result != null; result = scanner.next())\r\n         System.out.println(&quot;Found row : &quot; + result);\r\n    scanner.close();\r\n","title":"hbase GREATER_OR_EQAUL operator does not work as expected","body":"<p>i have this row in my hbase table:\n{rowkey:1_1611646861574/cf:value/1611646776287/Put/vlen=8/seqid=0}\nnow i want to do a simple scan and find rows where their column value is greater than &quot;1611388300000&quot;. but it does not return any record; however it returns this record when i use LESS_OR_EQUAL than 1611647500000.\nthe weird thing is i can get this record from apache phoenix sql query: select * from my_table where value&gt;=1611388300000.</p>\n<p>so number is a obviously bigger than column value and apache phoenix returns it; why hbase compare Operator does not?</p>\n<p>here is my code:</p>\n<pre><code>Table table = con.getTable(TableName.valueOf(&quot;my_table&quot;));\nScan scan = new Scan();\nscan.addColumn(Bytes.toBytes(&quot;cf&quot;), Bytes.toBytes(&quot;value&quot;));\nFilterList flist = new FilterList(FilterList.Operator.MUST_PASS_ALL);\nflist.addFilter(new PrefixFilter(Bytes.toBytes(&quot;1&quot;)));\nflist.addFilter(new SingleColumnValueFilter(\n                        Bytes.toBytes(&quot;cf&quot;), Bytes.toBytes(&quot;value&quot;), CompareOperator.GREATER_OR_EQUAL,\n                        new BinaryComparator(Bytes.toBytes(&quot;1611388300000&quot;))));\nscan.setFilter(flist);\nResultScanner scanner = table.getScanner(scan);\nfor (Result result = scanner.next(); result != null; result = scanner.next())\n     System.out.println(&quot;Found row : &quot; + result);\nscanner.close();\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1442145,"reputation":165,"user_id":1361947,"display_name":"hr6134"},"score":1,"creation_date":1450795577,"post_id":34418411,"comment_id":56577828,"body_markdown":"\\ is escaping symbol. There should be C:\\\\ or C:/ if Media class could parse it. Try to use file.getCanonicalPath()","body":"\\ is escaping symbol. There should be C:\\\\ or C:/ if Media class could parse it. Try to use file.getCanonicalPath()"},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1450795691,"post_id":34418411,"comment_id":56577896,"body_markdown":"You pass a file path to something that awaits an URI.Look at this link for conversion : http://stackoverflow.com/questions/8323760/java-get-uri-from-filepath","body":"You pass a file path to something that awaits an URI.Look at this link for conversion : <a href=\"http://stackoverflow.com/questions/8323760/java-get-uri-from-filepath\" title=\"java get uri from filepath\">stackoverflow.com/questions/8323760/java-get-uri-from-filepa&zwnj;&#8203;th</a>"}],"answers":[{"tags":[],"owner":{"account_id":249119,"reputation":13921,"user_id":524946,"display_name":"jpkroehling"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1450796237,"creation_date":1450795714,"answer_id":34418462,"question_id":34418411,"body_markdown":"`Media` expects an URI as String in the constructor. So, instead of using `File#getAbsolutePath()`, you should be using `File#toURI()` instead.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/io/File.html#toURI%28%29\r\n\r\nFrom the `Media#new` JavaDoc (thanks @Andreas):\r\n&gt; source - The URI of the source media.\r\n","title":"Java Ilegal character in path at index 2","body":"<p><code>Media</code> expects an URI as String in the constructor. So, instead of using <code>File#getAbsolutePath()</code>, you should be using <code>File#toURI()</code> instead.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#toURI%28%29\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/File.html#toURI%28%29</a></p>\n\n<p>From the <code>Media#new</code> JavaDoc (thanks @Andreas):</p>\n\n<blockquote>\n  <p>source - The URI of the source media.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8760100,"reputation":430,"user_id":6550262,"display_name":"linh đ&#224;m quang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527655317,"creation_date":1527647276,"answer_id":50595537,"question_id":34418411,"body_markdown":"Actually, it&#39;s a big problem where you put your server.\r\n\r\nI already faced this problem before. I used Geronimo with the space in my direction `D:\\Common DevTool\\Geronimo`.\r\n\r\n**You have two ways to resolve:**\r\n\r\n1. Change to `D:\\Tool\\Geronimo`. It ran well.\r\nYour directory is not correct: `C:/Program Files`. You should move your server to another place without the space in the name.\r\n2. Upgrade the JSF version.","title":"Java Ilegal character in path at index 2","body":"<p>Actually, it's a big problem where you put your server.</p>\n\n<p>I already faced this problem before. I used Geronimo with the space in my direction <code>D:\\Common DevTool\\Geronimo</code>.</p>\n\n<p><strong>You have two ways to resolve:</strong></p>\n\n<ol>\n<li>Change to <code>D:\\Tool\\Geronimo</code>. It ran well.\nYour directory is not correct: <code>C:/Program Files</code>. You should move your server to another place without the space in the name.</li>\n<li>Upgrade the JSF version.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13916562,"reputation":79,"user_id":10048195,"display_name":"ecas develop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663956220,"creation_date":1663956220,"answer_id":73831437,"question_id":34418411,"body_markdown":"I had a similar problem but another exception: java.lang.IllegalArgumentException: Illegal character in opaque part at index 2: C:\\Users\\MyUser\\project\\src\\main\\packagex\\file.csv\r\n\r\nThe project was created using java not by me. It tried to read a csv file. It worked ok on linux but crashed on windows 10.\r\n\r\nMy solution was change the absolute path to relative and switch reverse slash to &quot;normal&quot; slash. The url finally worked with this:\r\n\r\nsrc/main/packagex/file.csv\r\n\r\nIt seems colon and reverse slash triggered the exception. That is the reason exception indicates index 2 because colon is located in second position at url\r\n\r\nIllegal character in opaque part at index 2: C:\\Users\\MyUser...\r\n\r\nReference:\r\nhttps://background.sysfactory.online/index.php/2022/09/23/solucion-java-lang-illegalargumentexception-illegal-character-in-opaque-part-at-index-2-cusersmyuser/\r\n\r\n","title":"Java Ilegal character in path at index 2","body":"<p>I had a similar problem but another exception: java.lang.IllegalArgumentException: Illegal character in opaque part at index 2: C:\\Users\\MyUser\\project\\src\\main\\packagex\\file.csv</p>\n<p>The project was created using java not by me. It tried to read a csv file. It worked ok on linux but crashed on windows 10.</p>\n<p>My solution was change the absolute path to relative and switch reverse slash to &quot;normal&quot; slash. The url finally worked with this:</p>\n<p>src/main/packagex/file.csv</p>\n<p>It seems colon and reverse slash triggered the exception. That is the reason exception indicates index 2 because colon is located in second position at url</p>\n<p>Illegal character in opaque part at index 2: C:\\Users\\MyUser...</p>\n<p>Reference:\n<a href=\"https://background.sysfactory.online/index.php/2022/09/23/solucion-java-lang-illegalargumentexception-illegal-character-in-opaque-part-at-index-2-cusersmyuser/\" rel=\"nofollow noreferrer\">https://background.sysfactory.online/index.php/2022/09/23/solucion-java-lang-illegalargumentexception-illegal-character-in-opaque-part-at-index-2-cusersmyuser/</a></p>\n"}],"owner":{"account_id":4900279,"reputation":519,"user_id":3948823,"accept_rate":87,"display_name":"Kiraged"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11373,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34418462,"answer_count":3,"score":2,"last_activity_date":1663956220,"creation_date":1450795503,"question_id":34418411,"body_markdown":"I am getting this error:\r\n\r\n    Caused by: java.net.URISyntaxException: Illegal character in opaque part at index 2: C:\\Users\\Emre\\Desktop\\PN1g1z.gif\r\n\r\nAnd I really don&#39;t get what&#39;s wrong.\r\n\r\nThis is what throws the exception:\r\n\r\n       Media media = new Media(file.getAbsolutePath());\r\n","title":"Java Ilegal character in path at index 2","body":"<p>I am getting this error:</p>\n\n<pre><code>Caused by: java.net.URISyntaxException: Illegal character in opaque part at index 2: C:\\Users\\Emre\\Desktop\\PN1g1z.gif\n</code></pre>\n\n<p>And I really don't get what's wrong.</p>\n\n<p>This is what throws the exception:</p>\n\n<pre><code>   Media media = new Media(file.getAbsolutePath());\n</code></pre>\n"},{"tags":["java","spring","mongodb"],"answers":[{"tags":[],"owner":{"account_id":15333463,"reputation":1,"user_id":11062535,"display_name":"Evgeniy C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663955040,"creation_date":1663954810,"answer_id":73831238,"question_id":73830901,"body_markdown":"`Distinct` will return only unique documents by some rule but it still will be `List&lt;Entity&gt;`.\r\nYou can combine method with `@Query` annotation.\r\n```java\r\n@Query(fields = {&quot;_id&quot;})\r\nList&lt;Entity&gt; findAll();\r\n``` \r\n","title":"How to get list of all object ids with Spring Data MongoDB query generation","body":"<p><code>Distinct</code> will return only unique documents by some rule but it still will be <code>List&lt;Entity&gt;</code>.\nYou can combine method with <code>@Query</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(fields = {&quot;_id&quot;})\nList&lt;Entity&gt; findAll();\n</code></pre>\n"}],"owner":{"account_id":26654,"reputation":14361,"user_id":69572,"accept_rate":70,"display_name":"John Ellinwood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663955040,"creation_date":1663952404,"question_id":73830901,"body_markdown":"How do I get a list of object IDs back from Spring Data MongoDB&#39;s automatic query generation? \r\n\r\nI&#39;m expecting something like\r\n\r\n    public interface EntityRepo extends Repository&lt;Entity, ObjectId&gt; {\r\n      List&lt;ObjectId&gt; findDistinctIdBy()\r\n    }\r\n\r\nBut executing that query throws an exception that it can&#39;t parse the json. And the json returned is the full Entity object.\r\n\r\nI can already do this with a @Query annotation specifying a projection, or using the MongoTemplate distinct() or aggregate(). But I&#39;m specifically looking for the automatic way to do this with their query generation syntax.\r\n\r\nAccording to [Spring Data MongoDB Query Creation][1], you can use the Distinct keyword. Maybe this is where my assumptions go wrong, but I&#39;d expect that to return the distinct list of ObjectID or fields values, not the full documents. In mongosh db.coll.distinct() query will return the array of matching values for a given field. And you obviously have to specify the field. Something like db.coll.distinct(&#39;_id&#39;, {}, {}) will return \r\n\r\n    [ ObjectId(&quot;507f1f77bcf86cd799439011&quot;) ]\r\n\r\nI just want that result back.\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.query-methods.query-creation","title":"How to get list of all object ids with Spring Data MongoDB query generation","body":"<p>How do I get a list of object IDs back from Spring Data MongoDB's automatic query generation?</p>\n<p>I'm expecting something like</p>\n<pre><code>public interface EntityRepo extends Repository&lt;Entity, ObjectId&gt; {\n  List&lt;ObjectId&gt; findDistinctIdBy()\n}\n</code></pre>\n<p>But executing that query throws an exception that it can't parse the json. And the json returned is the full Entity object.</p>\n<p>I can already do this with a @Query annotation specifying a projection, or using the MongoTemplate distinct() or aggregate(). But I'm specifically looking for the automatic way to do this with their query generation syntax.</p>\n<p>According to <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#repositories.query-methods.query-creation\" rel=\"nofollow noreferrer\">Spring Data MongoDB Query Creation</a>, you can use the Distinct keyword. Maybe this is where my assumptions go wrong, but I'd expect that to return the distinct list of ObjectID or fields values, not the full documents. In mongosh db.coll.distinct() query will return the array of matching values for a given field. And you obviously have to specify the field. Something like db.coll.distinct('_id', {}, {}) will return</p>\n<pre><code>[ ObjectId(&quot;507f1f77bcf86cd799439011&quot;) ]\n</code></pre>\n<p>I just want that result back.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19585505,"reputation":71,"user_id":14333706,"display_name":"nejlasahin"},"score":0,"creation_date":1663954374,"post_id":73831136,"comment_id":130369095,"body_markdown":"There is a toString annotation in the data annotation. I don&#39;t think it needs to be redefined.","body":"There is a toString annotation in the data annotation. I don&#39;t think it needs to be redefined."},{"owner":{"account_id":22266782,"reputation":11,"user_id":19966214,"display_name":"Arturo Gatti"},"score":0,"creation_date":1663954691,"post_id":73831136,"comment_id":130369176,"body_markdown":"why does the actors list remain empty ? sorry about my english","body":"why does the actors list remain empty ? sorry about my english"}],"owner":{"account_id":22266782,"reputation":11,"user_id":19966214,"display_name":"Arturo Gatti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663954964,"creation_date":1663954061,"question_id":73831136,"body_markdown":"```\r\nconst actorForm = {\r\n            firstName: &quot;er&quot;,\r\n            lastName: &quot;er&quot;,\r\n            patronymic: &quot;er&quot;,\r\n            age: &quot;2022-09-10&quot;,\r\n            gender: &quot;rge&quot;\r\n        }\r\n\r\n         const addMovieForm = {\r\n             title: titleRef.current.value,\r\n             movie: movieFileRef.current.files[0],\r\n             poster: posterFileRef.current.files[0],\r\n             genre: genreRef.current.value,\r\n             rating: ratingRef.current.value,\r\n             yearOfRelease: yearRef.current.value,\r\n             country: countryRef.current.value,\r\n             director: {\r\n                 firstName: directorFirstNameRef.current.value,\r\n                 lastName: directorLastNameRef.current.value,\r\n                 patronymic: directorPatronymicRef.current.value,\r\n                 age: directorYearRef.current.value\r\n             },\r\n             actors:[actorForm, actorForm , actorForm , actorForm],\r\n             plotDescription: plotDescriptionRef.current.value\r\n         }\r\n\r\n\r\n         axios.post(urlServer.URL_MOVIE_SAVE, addMovieForm, {headers})\r\n```\r\nthis is my javascript code , post a request to the server. maybe there&#39;s a mistake here?\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/movie&quot;)\r\npublic class MovieController {\r\n\r\n@PostMapping(&quot;/save&quot;)\r\npublic ResponseEntity&lt;String&gt; saveMovie(@ModelAttribute AddMovieForm addMovieForm){\r\n   System.out.println(addMovieForm.getActors().size());\r\n   return ResponseEntity.ok().build();\r\n}\r\n```\r\n\r\nthis is the controller\r\n\r\n```\r\n\r\n@Builder\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class ActorForm {\r\n    private String firstName;\r\n    private String lastName;\r\n    private String patronymic;\r\n    private String age;\r\n    private String gender;\r\n}\r\n```\r\n\r\nthis is a list class\r\n\r\n```\r\n@Builder\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class AddMovieForm {\r\n    private String title;\r\n    private MultipartFile movie;\r\n    private MultipartFile poster;\r\n    private String genre;\r\n    private Float rating;\r\n    private String yearOfRelease;\r\n    private String country;\r\n    private DirectorForm director;\r\n    private List&lt;ActorForm&gt; actors;\r\n    private String plotDescription;\r\n}\r\n```\r\n\r\nwhen the request is made , the actors field is empty , the list is empty\r\n\r\n\r\nwhat could be the problem ? all fields are initialized except the actors field , it is empty","title":"the list of objects is not parsed","body":"<pre><code>const actorForm = {\n            firstName: &quot;er&quot;,\n            lastName: &quot;er&quot;,\n            patronymic: &quot;er&quot;,\n            age: &quot;2022-09-10&quot;,\n            gender: &quot;rge&quot;\n        }\n\n         const addMovieForm = {\n             title: titleRef.current.value,\n             movie: movieFileRef.current.files[0],\n             poster: posterFileRef.current.files[0],\n             genre: genreRef.current.value,\n             rating: ratingRef.current.value,\n             yearOfRelease: yearRef.current.value,\n             country: countryRef.current.value,\n             director: {\n                 firstName: directorFirstNameRef.current.value,\n                 lastName: directorLastNameRef.current.value,\n                 patronymic: directorPatronymicRef.current.value,\n                 age: directorYearRef.current.value\n             },\n             actors:[actorForm, actorForm , actorForm , actorForm],\n             plotDescription: plotDescriptionRef.current.value\n         }\n\n\n         axios.post(urlServer.URL_MOVIE_SAVE, addMovieForm, {headers})\n</code></pre>\n<p>this is my javascript code , post a request to the server. maybe there's a mistake here?</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/movie&quot;)\npublic class MovieController {\n\n@PostMapping(&quot;/save&quot;)\npublic ResponseEntity&lt;String&gt; saveMovie(@ModelAttribute AddMovieForm addMovieForm){\n   System.out.println(addMovieForm.getActors().size());\n   return ResponseEntity.ok().build();\n}\n</code></pre>\n<p>this is the controller</p>\n<pre><code>\n@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class ActorForm {\n    private String firstName;\n    private String lastName;\n    private String patronymic;\n    private String age;\n    private String gender;\n}\n</code></pre>\n<p>this is a list class</p>\n<pre><code>@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class AddMovieForm {\n    private String title;\n    private MultipartFile movie;\n    private MultipartFile poster;\n    private String genre;\n    private Float rating;\n    private String yearOfRelease;\n    private String country;\n    private DirectorForm director;\n    private List&lt;ActorForm&gt; actors;\n    private String plotDescription;\n}\n</code></pre>\n<p>when the request is made , the actors field is empty , the list is empty</p>\n<p>what could be the problem ? all fields are initialized except the actors field , it is empty</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15508885,"reputation":1854,"user_id":11188210,"display_name":"Phaelax z"},"score":0,"creation_date":1663953589,"post_id":73830991,"comment_id":130368888,"body_markdown":"You can&#39;t instantiate an abstract class. And you have no constructor anyway.","body":"You can&#39;t instantiate an abstract class. And you have no constructor anyway."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1663953643,"post_id":73830991,"comment_id":130368906,"body_markdown":"Can you [edit] and add the `Exchangeable, Saturn, Neptune, and Mars` classes?","body":"Can you <a href=\"https://stackoverflow.com/posts/73830991/edit\">edit</a> and add the <code>Exchangeable, Saturn, Neptune, and Mars</code> classes?"}],"answers":[{"tags":[],"owner":{"account_id":15333463,"reputation":1,"user_id":11062535,"display_name":"Evgeniy C"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663953827,"creation_date":1663953827,"answer_id":73831094,"question_id":73830991,"body_markdown":"Did you import your classes in your main class?\r\n\r\n    import your.package.path.Mars;\r\n    import your.package.path.Neptune;\r\n","title":"Java class can not be resolved to a type? Java(16777218)","body":"<p>Did you import your classes in your main class?</p>\n<pre><code>import your.package.path.Mars;\nimport your.package.path.Neptune;\n</code></pre>\n"}],"owner":{"account_id":26415749,"reputation":11,"user_id":20064178,"display_name":"brandon morales"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1366,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1664026854,"answer_count":1,"score":-1,"last_activity_date":1663953827,"creation_date":1663953123,"question_id":73830991,"body_markdown":"I created a class called Currency and Exchangeable which is implemented into Saturn, Neptune, and Mars. The three classes extend Currency and implement Exchangeable. When I try to refer to them in my main method it gives me an error &quot;{class name} can not be resolved to a type&quot;. \r\n\r\nHere is currency:\r\n\r\n    public abstract class Currency {\r\n        String currencyName;\r\n        double totalFunds;\r\n        public abstract double toEarthDollars(double amount);\r\n        public abstract double fromEarthDollars(double EarthDollars);\r\n    }\r\n\r\nBelow is my main class(Errors are bolded):  \r\n\r\n    public static void main(String[] args){\r\n            Currency mars = new **Mars**(100.00); Currency neptune = new **Neptune**(100.00); \r\n            Currency saturn = new Saturn(100.00);\r\n            System.out.println(&quot;&lt;-- Exchanges --&gt;&quot;);\r\n            mars.**exchang**e(saturn, 25.0); neptune.**exchange**(saturn, 10.0); \r\n            saturn.**exchange**(mars, 122.0); saturn.**exchange**(mars, 121.0);\r\n            \r\n        } ","title":"Java class can not be resolved to a type? Java(16777218)","body":"<p>I created a class called Currency and Exchangeable which is implemented into Saturn, Neptune, and Mars. The three classes extend Currency and implement Exchangeable. When I try to refer to them in my main method it gives me an error &quot;{class name} can not be resolved to a type&quot;.</p>\n<p>Here is currency:</p>\n<pre><code>public abstract class Currency {\n    String currencyName;\n    double totalFunds;\n    public abstract double toEarthDollars(double amount);\n    public abstract double fromEarthDollars(double EarthDollars);\n}\n</code></pre>\n<p>Below is my main class(Errors are bolded):</p>\n<pre><code>public static void main(String[] args){\n        Currency mars = new **Mars**(100.00); Currency neptune = new **Neptune**(100.00); \n        Currency saturn = new Saturn(100.00);\n        System.out.println(&quot;&lt;-- Exchanges --&gt;&quot;);\n        mars.**exchang**e(saturn, 25.0); neptune.**exchange**(saturn, 10.0); \n        saturn.**exchange**(mars, 122.0); saturn.**exchange**(mars, 121.0);\n        \n    } \n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"score":0,"creation_date":1663881736,"post_id":73819036,"comment_id":130350325,"body_markdown":"That&#39;s the actual version? That&#39;s the first 6 digits of π.","body":"That&#39;s the actual version? That&#39;s the first 6 digits of π."}],"answers":[{"tags":[],"owner":{"account_id":26415323,"reputation":94,"user_id":20063823,"display_name":"AVNCNT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663953704,"creation_date":1663953704,"answer_id":73831079,"question_id":73819036,"body_markdown":"Simple python wrapper to convert HTML to PDF with headless Chrome via selenium.\r\n\r\n**Install**\r\n\r\npip install pyhtml2pdf\r\n\r\nDependencies\r\n\r\n-Selenium Chrome Webdriver [https://chromedriver.chromium.org/downloads] (If Chrome is installed on the machine you won&#39;t need to install the chrome driver)\r\nGhostscript [https://www.ghostscript.com/download.html]\r\n\r\n**Example**\r\n\r\nConvert to PDF\r\n\r\nUse with website url\r\n\r\nfrom pyhtml2pdf import converter\r\n\r\nconverter.convert(&#39;https://pypi.org&#39;, &#39;sample.pdf&#39;)\r\nUse with html file from local machine\r\n\r\nimport os\r\nfrom pyhtml2pdf import converter\r\n\r\npath = os.path.abspath(&#39;index.html&#39;)\r\nconverter.convert(f&#39;file:///{path}&#39;, &#39;sample.pdf&#39;)\r\nSome JS objects may have animations or take a some time to render. You can set a time out in order to help render those objects. You can set timeout in seconds\r\n\r\nconverter.convert(source, target, timeout=2)\r\nCompress the converted PDF\r\n\r\nSome PDFs may be oversized. So there is a built in PDF compression feature.\r\n\r\nThe power of the compression,\r\n\r\n0: default\r\n1: prepress\r\n2: printer\r\n3: ebook\r\n4: screen\r\n\r\nconverter.convert(source, target, compress=True, power=0)\r\nCompress PDF\r\nUse it to compress a PDF file from local machine\r\n\r\nimport os\r\nfrom pyhtml2pdf import compressor\r\n\r\ncompressor.compress(&#39;sample.pdf&#39;, &#39;compressed_sample.pdf&#39;)\r\nInspired the works from,\r\n\r\nhttps://github.com/maxvst/python-selenium-chrome-html-to-pdf-converter.git\r\nhttps://github.com/theeko74/pdfc\r\n\r\n\r\nand you can find out more complete information by watching this\r\nhttps://www.youtube.com/watch?v=RHAZfjzxDtU&amp;t=310s&amp;ab_channel=CodingShiksha","title":"How to convert HTML to PDF using selenium 3.141.59?","body":"<p>Simple python wrapper to convert HTML to PDF with headless Chrome via selenium.</p>\n<p><strong>Install</strong></p>\n<p>pip install pyhtml2pdf</p>\n<p>Dependencies</p>\n<p>-Selenium Chrome Webdriver [https://chromedriver.chromium.org/downloads] (If Chrome is installed on the machine you won't need to install the chrome driver)\nGhostscript [https://www.ghostscript.com/download.html]</p>\n<p><strong>Example</strong></p>\n<p>Convert to PDF</p>\n<p>Use with website url</p>\n<p>from pyhtml2pdf import converter</p>\n<p>converter.convert('https://pypi.org', 'sample.pdf')\nUse with html file from local machine</p>\n<p>import os\nfrom pyhtml2pdf import converter</p>\n<p>path = os.path.abspath('index.html')\nconverter.convert(f'file:///{path}', 'sample.pdf')\nSome JS objects may have animations or take a some time to render. You can set a time out in order to help render those objects. You can set timeout in seconds</p>\n<p>converter.convert(source, target, timeout=2)\nCompress the converted PDF</p>\n<p>Some PDFs may be oversized. So there is a built in PDF compression feature.</p>\n<p>The power of the compression,</p>\n<p>0: default\n1: prepress\n2: printer\n3: ebook\n4: screen</p>\n<p>converter.convert(source, target, compress=True, power=0)\nCompress PDF\nUse it to compress a PDF file from local machine</p>\n<p>import os\nfrom pyhtml2pdf import compressor</p>\n<p>compressor.compress('sample.pdf', 'compressed_sample.pdf')\nInspired the works from,</p>\n<p><a href=\"https://github.com/maxvst/python-selenium-chrome-html-to-pdf-converter.git\" rel=\"nofollow noreferrer\">https://github.com/maxvst/python-selenium-chrome-html-to-pdf-converter.git</a>\n<a href=\"https://github.com/theeko74/pdfc\" rel=\"nofollow noreferrer\">https://github.com/theeko74/pdfc</a></p>\n<p>and you can find out more complete information by watching this\n<a href=\"https://www.youtube.com/watch?v=RHAZfjzxDtU&amp;t=310s&amp;ab_channel=CodingShiksha\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=RHAZfjzxDtU&amp;t=310s&amp;ab_channel=CodingShiksha</a></p>\n"}],"owner":{"account_id":19507092,"reputation":399,"user_id":14271847,"display_name":"megaultron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73831079,"answer_count":1,"score":1,"last_activity_date":1663953704,"creation_date":1663870173,"question_id":73819036,"body_markdown":"I created an automation that goes into a website that has login and password, and when the automation finishes filling the form on the page, try to save in PDF\r\n\r\nThe problem is that in selenium 3, it doesn&#39;t have the same options as selenium 4 to save to PDF\r\n\r\nSelenium 4 - I would use the code below to convert the HTML page to PDF in selenium 4\r\n\r\n    Map&lt;String, Object&gt; params = new HashMap();\r\n    String command = &quot;Page.printToPDF&quot;;\r\n    Map&lt;String, Object&gt; output = chromeDriver.executeCdpCommand(command, params);\r\n\r\n\r\nIn selenium 3 if I put the same code it gives an error that the executeCdpCommand method does not exist.\r\n\r\nI can&#39;t use selenium 4, due to company rules.\r\n\r\nDoes anyone have an alternative please?","title":"How to convert HTML to PDF using selenium 3.141.59?","body":"<p>I created an automation that goes into a website that has login and password, and when the automation finishes filling the form on the page, try to save in PDF</p>\n<p>The problem is that in selenium 3, it doesn't have the same options as selenium 4 to save to PDF</p>\n<p>Selenium 4 - I would use the code below to convert the HTML page to PDF in selenium 4</p>\n<pre><code>Map&lt;String, Object&gt; params = new HashMap();\nString command = &quot;Page.printToPDF&quot;;\nMap&lt;String, Object&gt; output = chromeDriver.executeCdpCommand(command, params);\n</code></pre>\n<p>In selenium 3 if I put the same code it gives an error that the executeCdpCommand method does not exist.</p>\n<p>I can't use selenium 4, due to company rules.</p>\n<p>Does anyone have an alternative please?</p>\n"},{"tags":["java","regex","space"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663951410,"creation_date":1663951410,"answer_id":73830748,"question_id":73830725,"body_markdown":"You can exclude a space hyphen or hyphen space from matching.\r\n\r\nNote that your pattern can also match just a space as the space is in the character class.\r\n\r\n    ^(?!.*(?: -|- ))[a-zA-Z&#39; ]+(?:[- ][a-zA-Z&#39;]+)*$\r\n\r\n[Regex demo](https://regex101.com/r/HY3jTy/1)","title":"REGEX - Allowing multiple spaces and cannot have spaces before or after hyphen(-)","body":"<p>You can exclude a space hyphen or hyphen space from matching.</p>\n<p>Note that your pattern can also match just a space as the space is in the character class.</p>\n<pre><code>^(?!.*(?: -|- ))[a-zA-Z' ]+(?:[- ][a-zA-Z']+)*$\n</code></pre>\n<p><a href=\"https://regex101.com/r/HY3jTy/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663951495,"creation_date":1663951495,"answer_id":73830769,"question_id":73830725,"body_markdown":"You may use this regex:\r\n\r\n```sh\r\n^ *[a-zA-Z&#39;]+(?:(?:-| +)[a-zA-Z&#39;]+)* *$\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/DidLI2/1\r\n\r\n**RegEx Breakup:**\r\n\r\n- `^`: Start\r\n- ` *`: Match 0 or more leading spaces\r\n- `[a-zA-Z&#39;]+`: Match 1+ of letter or `&#39;`\r\n- `(?:`: Start non-capture group\r\n  - `(?:-| +)`: Match a `-` or 1+ spaces\r\n  - `[a-zA-Z&#39;]+`: Match 1+ of letter or `&#39;`\r\n- `)*`: End non-capture group. Repeat this group 0 or more times\r\n- ` *`: Match 0 or more trailing spaces\r\n- `$`: End","title":"REGEX - Allowing multiple spaces and cannot have spaces before or after hyphen(-)","body":"<p>You may use this regex:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>^ *[a-zA-Z']+(?:(?:-| +)[a-zA-Z']+)* *$\n</code></pre>\n<p><a href=\"https://regex101.com/r/DidLI2/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Breakup:</strong></p>\n<ul>\n<li><code>^</code>: Start</li>\n<li><code> *</code>: Match 0 or more leading spaces</li>\n<li><code>[a-zA-Z']+</code>: Match 1+ of letter or <code>'</code></li>\n<li><code>(?:</code>: Start non-capture group\n<ul>\n<li><code>(?:-| +)</code>: Match a <code>-</code> or 1+ spaces</li>\n<li><code>[a-zA-Z']+</code>: Match 1+ of letter or <code>'</code></li>\n</ul>\n</li>\n<li><code>)*</code>: End non-capture group. Repeat this group 0 or more times</li>\n<li><code> *</code>: Match 0 or more trailing spaces</li>\n<li><code>$</code>: End</li>\n</ul>\n"}],"owner":{"account_id":26424745,"reputation":21,"user_id":20071884,"display_name":"lbc1013"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663952848,"creation_date":1663951194,"question_id":73830725,"body_markdown":"For name validation using the Regex, I need to have the below requirements.\r\n- Can include letters, spaces, apostrophe(&#39;) and hyphen(-) only\r\n- multiple spaces are allowed between the characters (example: &quot; asd  asd asd asd  &quot;)\r\n- Cannot have spaces before or after hyphen(-) (example: &quot;abc-abc&quot; is allowed, &quot;abc -abc&quot; and &quot;abc- abc&quot; is not allowed)\r\n\r\n\r\nI&#39;m currently using this Regex:\r\n\r\n    (^[a-zA-Z&#39; ]+(?:[- ][a-zA-Z&#39;]+)*$ \r\n\r\n([https://regexr.com/6umck][1])\r\n\r\nThis regex meets every requirement except the fact that it&#39;s allowing spaces before hyphen.\r\n\r\n**How can I disallow spaces before hyphen meeting every other requirement too here?**\r\n\r\n\r\n  [1]: https://regexr.com/6umck","title":"REGEX - Allowing multiple spaces and cannot have spaces before or after hyphen(-)","body":"<p>For name validation using the Regex, I need to have the below requirements.</p>\n<ul>\n<li>Can include letters, spaces, apostrophe(') and hyphen(-) only</li>\n<li>multiple spaces are allowed between the characters (example: &quot; asd  asd asd asd  &quot;)</li>\n<li>Cannot have spaces before or after hyphen(-) (example: &quot;abc-abc&quot; is allowed, &quot;abc -abc&quot; and &quot;abc- abc&quot; is not allowed)</li>\n</ul>\n<p>I'm currently using this Regex:</p>\n<pre><code>(^[a-zA-Z' ]+(?:[- ][a-zA-Z']+)*$ \n</code></pre>\n<p>(<a href=\"https://regexr.com/6umck\" rel=\"nofollow noreferrer\">https://regexr.com/6umck</a>)</p>\n<p>This regex meets every requirement except the fact that it's allowing spaces before hyphen.</p>\n<p><strong>How can I disallow spaces before hyphen meeting every other requirement too here?</strong></p>\n"},{"tags":["java","android","android-scrollview"],"answers":[{"tags":[],"owner":{"account_id":23533669,"reputation":55,"user_id":17578920,"display_name":"Mr T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663846877,"creation_date":1663846877,"answer_id":73814009,"question_id":73813792,"body_markdown":"You can use a scrollview inside the main layout (e.g. ConstraintLayout or RelativeLayout) which also contains the topview.\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n     ...&quot;&gt;\r\n    \r\n        &lt;TextView\r\n           ....\r\n            /&gt;\r\n    \r\n        &lt;ScrollView\r\n           ....\r\n            &gt;\r\n    \r\n            &lt;LinearLayout\r\n               .... /&gt;\r\n        &lt;/ScrollView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"how I can make the scroll in this case just below the line in android by java","body":"<p>You can use a scrollview inside the main layout (e.g. ConstraintLayout or RelativeLayout) which also contains the topview.</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n ...&quot;&gt;\n\n    &lt;TextView\n       ....\n        /&gt;\n\n    &lt;ScrollView\n       ....\n        &gt;\n\n        &lt;LinearLayout\n           .... /&gt;\n    &lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18361792,"reputation":21,"user_id":13373748,"display_name":"G Anil Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663910538,"creation_date":1663910538,"answer_id":73823324,"question_id":73813792,"body_markdown":"Can you try this\r\n\r\n\r\n     &lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/relative_layout_first&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n            \r\n            &lt;!--Your 1st layout components here--&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n        \r\n        &lt;ScrollView\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/relative_layout_first&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n            \r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;!--Your 2nd layout components here--&gt;\r\n                \r\n            &lt;/RelativeLayout&gt;\r\n            \r\n        &lt;/ScrollView&gt;\r\n        \r\n        \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n`&lt;/androidx.core.widget.NestedScrollView&gt;` ","title":"how I can make the scroll in this case just below the line in android by java","body":"<p>Can you try this</p>\n<pre><code> &lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    \n    &lt;RelativeLayout\n        android:id=&quot;@+id/relative_layout_first&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        \n        &lt;!--Your 1st layout components here--&gt;\n\n    &lt;/RelativeLayout&gt;\n    \n    &lt;ScrollView\n        app:layout_constraintTop_toBottomOf=&quot;@id/relative_layout_first&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        \n        &lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;!--Your 2nd layout components here--&gt;\n            \n        &lt;/RelativeLayout&gt;\n        \n    &lt;/ScrollView&gt;\n    \n    \n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><code>&lt;/androidx.core.widget.NestedScrollView&gt;</code></p>\n"}],"owner":{"account_id":18131923,"reputation":1,"user_id":13186918,"display_name":"Zaid Hijazi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1663952045,"creation_date":1663846036,"question_id":73813792,"body_markdown":"[this image of the activity that I am working on it][1]\r\n\r\n[I want the scroll start form here below the View][2]\r\n\r\n[this is my 2 RelativeLayout][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/srBpm.png\r\n  [2]: https://i.stack.imgur.com/o8XzR.png\r\n  [3]: https://i.stack.imgur.com/mp0Qa.png","title":"how I can make the scroll in this case just below the line in android by java","body":"<p><a href=\"https://i.stack.imgur.com/srBpm.png\" rel=\"nofollow noreferrer\">this image of the activity that I am working on it</a></p>\n<p><a href=\"https://i.stack.imgur.com/o8XzR.png\" rel=\"nofollow noreferrer\">I want the scroll start form here below the View</a></p>\n<p><a href=\"https://i.stack.imgur.com/mp0Qa.png\" rel=\"nofollow noreferrer\">this is my 2 RelativeLayout</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1663951095,"post_id":73830683,"comment_id":130368159,"body_markdown":"An `int` doesn&#39;t store decimal values, so you can&#39;t do this.","body":"An <code>int</code> doesn&#39;t store decimal values, so you can&#39;t do this."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1663951194,"post_id":73830683,"comment_id":130368188,"body_markdown":"Code snippets are only intended for JavaScript/HTML/CSS questions, please don&#39;t use them for other languages.","body":"Code snippets are only intended for JavaScript/HTML/CSS questions, please don&#39;t use them for other languages."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1663951403,"post_id":73830683,"comment_id":130368255,"body_markdown":"You could store the &quot;cents&quot; value (e.g 100.00 is 10000, 3.33 is 333, 33.44 is 3344), but I guess retrofitting your application to do that is likely to introduce more bugs than fixing it correctly.","body":"You could store the &quot;cents&quot; value (e.g 100.00 is 10000, 3.33 is 333, 33.44 is 3344), but I guess retrofitting your application to do that is likely to introduce more bugs than fixing it correctly."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1663952895,"post_id":73830683,"comment_id":130368682,"body_markdown":"Before posting here, study *The Java Tutorials* provided free-of-cost by Oracle Corp. See [*Primitive Data Types*](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html).","body":"Before posting here, study <i>The Java Tutorials</i> provided free-of-cost by Oracle Corp. See <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\"><i>Primitive Data Types</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663951605,"creation_date":1663951193,"answer_id":73830724,"question_id":73830683,"body_markdown":"&gt; I am working on pretty old java code application and I can not change Integer field to something else which can hold decimal values \r\n\r\nThat is because `int` can only hold whole numbers. For decimal values you need to use `float` or `double`:\r\n\r\n```\r\nString s = &quot;3.33&quot;;\r\ndouble d = Double.parseDouble(s);\r\n```\r\n\r\nAlternatively, you might want to look into `BigDecimal`. Depending on your exact needs, this might be a better fit.\r\n\r\np.s. `int`, `float` and `double` are primitive types. `Integer`, `Float` and `Double` are class wrapper for those types. These are two different things. I recommend you read more about these differences to gain a better understanding.","title":"How to change decimal value string into int without loosing decimal values?","body":"<blockquote>\n<p>I am working on pretty old java code application and I can not change Integer field to something else which can hold decimal values</p>\n</blockquote>\n<p>That is because <code>int</code> can only hold whole numbers. For decimal values you need to use <code>float</code> or <code>double</code>:</p>\n<pre><code>String s = &quot;3.33&quot;;\ndouble d = Double.parseDouble(s);\n</code></pre>\n<p>Alternatively, you might want to look into <code>BigDecimal</code>. Depending on your exact needs, this might be a better fit.</p>\n<p>p.s. <code>int</code>, <code>float</code> and <code>double</code> are primitive types. <code>Integer</code>, <code>Float</code> and <code>Double</code> are class wrapper for those types. These are two different things. I recommend you read more about these differences to gain a better understanding.</p>\n"}],"owner":{"account_id":15709680,"reputation":13,"user_id":11335480,"display_name":"Hari Sheen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1663951605,"creation_date":1663951002,"question_id":73830683,"body_markdown":"I am working on a pretty old Java application and I can not change Integer field to something else which can hold decimal values, so I need to convert some decimal string like &quot;100.00&quot;, &quot;3.33&quot; &quot;33.44&quot; to Integer without loosing fractional values. \r\n\r\n```java\r\n@Test\r\npublic void NumberFormatTest(){\r\n\tString stringValue = &quot;100.00&quot;;\r\n\r\n\tint testTest = ?  //what I can do here to get exact 100.00 in testTest variable ? \r\n\r\n\tlog.info(&quot;outPutValue {} &quot;, testTest);\r\n}\r\n```\r\n\r\nCurrently its using `Integer.parseInt(stringValue)` and this is throwing \r\n\r\n```none\r\njava.lang.NumberFormatException: For input string: &quot;100.00&quot;\r\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n    at java.lang.Integer.parseInt(Integer.java:580)\r\n```\r\n\r\n","title":"How to change decimal value string into int without loosing decimal values?","body":"<p>I am working on a pretty old Java application and I can not change Integer field to something else which can hold decimal values, so I need to convert some decimal string like &quot;100.00&quot;, &quot;3.33&quot; &quot;33.44&quot; to Integer without loosing fractional values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void NumberFormatTest(){\n    String stringValue = &quot;100.00&quot;;\n\n    int testTest = ?  //what I can do here to get exact 100.00 in testTest variable ? \n\n    log.info(&quot;outPutValue {} &quot;, testTest);\n}\n</code></pre>\n<p>Currently its using <code>Integer.parseInt(stringValue)</code> and this is throwing</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NumberFormatException: For input string: &quot;100.00&quot;\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Integer.parseInt(Integer.java:580)\n</code></pre>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663951603,"creation_date":1663950116,"answer_id":73830559,"question_id":73830435,"body_markdown":"You are printing object as String not the serialized Json. If you serialize object to Json then it will not show null fields. To see the use of `@Jsoninclude(JsonInclude.Include.NON_NULL)` check the following code.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n    \r\n    ApiModels apm = new ApiModels(&#39;no: 23&#39;,&#39;12&#39;,NULL);\r\n    String serializedAPM = mapper.writeValueAsString(apm);\r\n    System.out.println(serializedAPM);","title":"@JsonInclude(JsonInclude.Include.NON_NULL) is not working with Lombok","body":"<p>You are printing object as String not the serialized Json. If you serialize object to Json then it will not show null fields. To see the use of <code>@Jsoninclude(JsonInclude.Include.NON_NULL)</code> check the following code.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.enable(SerializationFeature.INDENT_OUTPUT);\n\nApiModels apm = new ApiModels('no: 23','12',NULL);\nString serializedAPM = mapper.writeValueAsString(apm);\nSystem.out.println(serializedAPM);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663950532,"creation_date":1663950532,"answer_id":73830621,"question_id":73830435,"body_markdown":"`System.out.println(models)` will invoke the `.toString()` and show you the results. None of this is JSON related - `@JsonInclude` and co are relevant when you ask _the json serializer_ to serialize your object. At which point, the `null` values will not be sent.\r\n\r\nLombok is generating your toString method in your snippet. It cannot be told to &#39;skip&#39; `null` values and you probably don&#39;t want to: `toString()` output is solely for debugging, any structured string data (such as a JSON dump of your object) should be done via other methods.\r\n","title":"@JsonInclude(JsonInclude.Include.NON_NULL) is not working with Lombok","body":"<p><code>System.out.println(models)</code> will invoke the <code>.toString()</code> and show you the results. None of this is JSON related - <code>@JsonInclude</code> and co are relevant when you ask <em>the json serializer</em> to serialize your object. At which point, the <code>null</code> values will not be sent.</p>\n<p>Lombok is generating your toString method in your snippet. It cannot be told to 'skip' <code>null</code> values and you probably don't want to: <code>toString()</code> output is solely for debugging, any structured string data (such as a JSON dump of your object) should be done via other methods.</p>\n"}],"owner":{"account_id":26424510,"reputation":3,"user_id":20071694,"display_name":"visner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73830559,"answer_count":2,"score":0,"last_activity_date":1663951603,"creation_date":1663949444,"question_id":73830435,"body_markdown":"I have a code in class: \r\n\r\n```\r\n@Data\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class ApiModels {\r\n\r\n    private String address;\r\n    private String age;\r\n    private String name; \r\n}\r\n```\r\n\r\nWhen i&#39;m trying to set only **address**:\r\n```\r\npublic class TestClass {\r\n    ApiModels models = new ApiModels();\r\n    @Test\r\n    void someMethod() {\r\n\r\n        models.setAddress(&quot;Some address&quot;);\r\n\r\n        System.out.println(models);\r\n    }\r\n}\r\n```\r\nI see all this output: \r\n\r\n```ApiModels(address=Some address, age=null, name=null)```\r\n\r\nBut i don&#39;t need null values. How can i fix it? ","title":"@JsonInclude(JsonInclude.Include.NON_NULL) is not working with Lombok","body":"<p>I have a code in class:</p>\n<pre><code>@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ApiModels {\n\n    private String address;\n    private String age;\n    private String name; \n}\n</code></pre>\n<p>When i'm trying to set only <strong>address</strong>:</p>\n<pre><code>public class TestClass {\n    ApiModels models = new ApiModels();\n    @Test\n    void someMethod() {\n\n        models.setAddress(&quot;Some address&quot;);\n\n        System.out.println(models);\n    }\n}\n</code></pre>\n<p>I see all this output:</p>\n<p><code>ApiModels(address=Some address, age=null, name=null)</code></p>\n<p>But i don't need null values. How can i fix it?</p>\n"},{"tags":["java","precision","decimalformat"],"comments":[{"owner":{"account_id":1204476,"reputation":5633,"user_id":1174467,"display_name":"superEb"},"score":0,"creation_date":1408038512,"post_id":25314239,"comment_id":39458221,"body_markdown":"What do you mean *stored*? In a database? In a file? As a string/text? As a number? In binary?","body":"What do you mean <i>stored</i>? In a database? In a file? As a string/text? As a number? In binary?"},{"owner":{"account_id":4891276,"reputation":1,"user_id":3942363,"display_name":"Praveen Kumar"},"score":0,"creation_date":1408039582,"post_id":25314239,"comment_id":39458841,"body_markdown":"By stored I mean that when I print that variable it should display 1.000000\nFor instance, consider double variable d and System.out.println(d);\nShould display 1.000000","body":"By stored I mean that when I print that variable it should display 1.000000 For instance, consider double variable d and System.out.println(d); Should display 1.000000"},{"owner":{"account_id":2101654,"reputation":530,"user_id":1869110,"accept_rate":58,"display_name":"YazanLpizra"},"score":0,"creation_date":1408041109,"post_id":25314239,"comment_id":39459697,"body_markdown":"Maybe use DecimalFormat before printing or @james large&#39;s answer. Both should work. BigDecimal stops allowing you to do normal operations, but instead you use the BigDecimal methods such as x.add(y). If you are going to use it, keep that in mind","body":"Maybe use DecimalFormat before printing or @james large&#39;s answer. Both should work. BigDecimal stops allowing you to do normal operations, but instead you use the BigDecimal methods such as x.add(y). If you are going to use it, keep that in mind"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1408038435,"creation_date":1408038435,"answer_id":25314368,"question_id":25314239,"body_markdown":"You misunderstand the nature of doubles.  There is no difference between 1.0 and 1.000000.  They are both the same number.\r\n\r\nThere _is_ a difference between &quot;1.0&quot; and &quot;1.000000&quot;:\r\n\r\n    String.format(&quot;%.1f&quot;, 1.0) //returns &quot;1.0&quot;\r\n\r\n    String.format(&quot;%.6f&quot;, 1.0) //returns &quot;1.000000&quot;\r\n\r\nAdditional Info:\r\n\r\nSome people are telling you to use BigDecimal instead of double.  That may be the answer to your question, but it depends on what your question really is.  You said, you want to store &quot;6 digits of precision&quot;.  A double can store around 16 digits of precision, but &quot;digits of precision&quot; is not the same thing as digits after the decimal point.\r\n\r\nWhat are you _really_ trying to accomplish?","title":"Storing decimal precision in a variable","body":"<p>You misunderstand the nature of doubles.  There is no difference between 1.0 and 1.000000.  They are both the same number.</p>\n\n<p>There <em>is</em> a difference between \"1.0\" and \"1.000000\":</p>\n\n<pre><code>String.format(\"%.1f\", 1.0) //returns \"1.0\"\n\nString.format(\"%.6f\", 1.0) //returns \"1.000000\"\n</code></pre>\n\n<p>Additional Info:</p>\n\n<p>Some people are telling you to use BigDecimal instead of double.  That may be the answer to your question, but it depends on what your question really is.  You said, you want to store \"6 digits of precision\".  A double can store around 16 digits of precision, but \"digits of precision\" is not the same thing as digits after the decimal point.</p>\n\n<p>What are you <em>really</em> trying to accomplish?</p>\n"},{"tags":[],"owner":{"account_id":4514762,"reputation":2638,"user_id":3669940,"accept_rate":100,"display_name":"gkrls"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408038556,"creation_date":1408038556,"answer_id":25314413,"question_id":25314239,"body_markdown":"If its about printing you can do:\r\n\r\n    PrintStream out = new PrintStream(System.out);\r\n    \r\n    double x = 1.0;\r\n    \r\n    out.printf(&quot;%,6f&quot;, 1.0);\r\n\r\nThis will print `1.000000`","title":"Storing decimal precision in a variable","body":"<p>If its about printing you can do:</p>\n\n<pre><code>PrintStream out = new PrintStream(System.out);\n\ndouble x = 1.0;\n\nout.printf(\"%,6f\", 1.0);\n</code></pre>\n\n<p>This will print <code>1.000000</code></p>\n"},{"tags":[],"owner":{"account_id":83491,"reputation":45831,"user_id":234053,"display_name":"Alexander Gessler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408038605,"creation_date":1408038605,"answer_id":25314428,"question_id":25314239,"body_markdown":"For a restricted range of values, a regular `double` has the required 6 digits precision after the period.\r\n\r\nAre you looking to have exactly 6 digits of precision? (and not more) You may want to look at fixed-point arithmetics (there is libraries for it). Are you looking to have at least 6 digits after the dot, for arbitrarily large values? `BigDecimal` can do this.\r\n\r\nAre you looking to represent `1.0` as `1.000000`? This is a display, not a maths issue. Use a string or rather, keep the number in one of the aforementioned representations and format accordingly..","title":"Storing decimal precision in a variable","body":"<p>For a restricted range of values, a regular <code>double</code> has the required 6 digits precision after the period.</p>\n\n<p>Are you looking to have exactly 6 digits of precision? (and not more) You may want to look at fixed-point arithmetics (there is libraries for it). Are you looking to have at least 6 digits after the dot, for arbitrarily large values? <code>BigDecimal</code> can do this.</p>\n\n<p>Are you looking to represent <code>1.0</code> as <code>1.000000</code>? This is a display, not a maths issue. Use a string or rather, keep the number in one of the aforementioned representations and format accordingly..</p>\n"},{"tags":[],"owner":{"account_id":462905,"reputation":7596,"user_id":865481,"display_name":"Salix alba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408042161,"creation_date":1408041595,"answer_id":25315327,"question_id":25314239,"body_markdown":"I don&#39;t normally recommend BigDecimal but it seems to be what you want. In particular you want a BigDecimal with a *scale* of 6. It easiest if you also set up a MathContext with precision of 6. I think you will need to manually set the scale at each step.\r\n\r\n\t    BigDecimal bd1 = new BigDecimal(&quot;1.0&quot;,mc).setScale(6); // preferred constructor using a string \r\n\t    BigDecimal bd2 = new BigDecimal(3.0,mc).setScale(6);   // will work in this case as scale is set \r\n\t    BigDecimal bd3 = bd1.divide(bd2,mc).setScale(6);       // need to specify the context and scale for each operation\r\n\t    BigDecimal bd4 = bd1.multiply(bd2,mc).setScale(6);     // need to specify the context for each operation\r\n\t    System.out.println(bd1);\r\n\t    System.out.println(bd2);\r\n\t    System.out.println(bd3);\r\n\t    System.out.println(bd4);\r\n\r\nGiving 1.000000, 3.000000, 0.333333, 3.000000 as results.\r\n\r\nOf course having 6 decimal places everywhere actually makes some sums worse if you do\r\n\r\n\t    BigDecimal bd5 = bd3.multiply(bd2,mc).setScale(6); \r\n\r\nyou get 0.999999 as an answer, which is worse than if you have used doubles.\r\n","title":"Storing decimal precision in a variable","body":"<p>I don't normally recommend BigDecimal but it seems to be what you want. In particular you want a BigDecimal with a <em>scale</em> of 6. It easiest if you also set up a MathContext with precision of 6. I think you will need to manually set the scale at each step.</p>\n\n<pre><code>    BigDecimal bd1 = new BigDecimal(\"1.0\",mc).setScale(6); // preferred constructor using a string \n    BigDecimal bd2 = new BigDecimal(3.0,mc).setScale(6);   // will work in this case as scale is set \n    BigDecimal bd3 = bd1.divide(bd2,mc).setScale(6);       // need to specify the context and scale for each operation\n    BigDecimal bd4 = bd1.multiply(bd2,mc).setScale(6);     // need to specify the context for each operation\n    System.out.println(bd1);\n    System.out.println(bd2);\n    System.out.println(bd3);\n    System.out.println(bd4);\n</code></pre>\n\n<p>Giving 1.000000, 3.000000, 0.333333, 3.000000 as results.</p>\n\n<p>Of course having 6 decimal places everywhere actually makes some sums worse if you do</p>\n\n<pre><code>    BigDecimal bd5 = bd3.multiply(bd2,mc).setScale(6); \n</code></pre>\n\n<p>you get 0.999999 as an answer, which is worse than if you have used doubles.</p>\n"}],"owner":{"account_id":4891276,"reputation":1,"user_id":3942363,"display_name":"Praveen Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1663951556,"creation_date":1408037975,"question_id":25314239,"body_markdown":"Is there any way that I can store up to 6 decimal places in a double variable? For example, consider a double variable whose value is 1.0 but I want the value stored to be 1.000000\r\n\r\nBackground: I took an assessment test by mettl. I was asked to write a program to calculate mean, median and mode. The results should be stored in output variables of double type, namely output1, output2 and output3. Also, I was asked to store it with six decimal places. As I cannot use print statements there DecimalFormat is of no use.","title":"Storing decimal precision in a variable","body":"<p>Is there any way that I can store up to 6 decimal places in a double variable? For example, consider a double variable whose value is 1.0 but I want the value stored to be 1.000000</p>\n<p>Background: I took an assessment test by mettl. I was asked to write a program to calculate mean, median and mode. The results should be stored in output variables of double type, namely output1, output2 and output3. Also, I was asked to store it with six decimal places. As I cannot use print statements there DecimalFormat is of no use.</p>\n"},{"tags":["java","xml","dom"],"answers":[{"tags":[],"owner":{"account_id":7079443,"reputation":175,"user_id":5779146,"display_name":"Athena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663951526,"creation_date":1663951526,"answer_id":73830776,"question_id":73827793,"body_markdown":"Remember to convert your document back to an XML string, the toString Method will result in the document[#null] error.\r\n\r\n[Refer to this answer here.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5456836/5779146","title":"Adding attribute to xml subtag","body":"<p>Remember to convert your document back to an XML string, the toString Method will result in the document[#null] error.</p>\n<p><a href=\"https://stackoverflow.com/a/5456836/5779146\">Refer to this answer here.</a></p>\n"}],"owner":{"account_id":7079443,"reputation":175,"user_id":5779146,"display_name":"Athena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73830776,"answer_count":1,"score":0,"last_activity_date":1663951526,"creation_date":1663936365,"question_id":73827793,"body_markdown":"I&#39;m working in Java 8- this seems like a very simple problem, but I&#39;d like to know if I&#39;m missing something. XML looks like this.\r\n\r\n    &lt;supertag&gt;\r\n        &lt;subtag1 attr1=&#39;1&#39; attr2=&#39;2&#39;/&gt;\r\n        &lt;subtag2&gt;body&lt;/subtag2&gt;\r\n    &lt;/supertag&gt;\r\n\r\nI&#39;d like to add an attribute &quot;attr3&quot; to subtag1.\r\n\r\nRelevant code so far (xmlPacket is an org.w3c.dom)-\r\n\r\n    NodeList subtag1 = xmlPacket.getElementsByTagName(&quot;subtag1&quot;);\r\n    for (int i = 0; i &lt; subtag1.getLength(); i++) {\r\n     Node nNode = subtag1.item(i);\r\n        if (nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n           Element eElement = (Element) nNode;\r\n           eElement.setAttribute(&quot;attr3&quot;, &quot;3&quot;);\r\n        }\r\n    }\r\n\r\nThis currently turns the xmlPacket to document[#null].\r\n\r\nWhat am I missing here? Thanks!\r\n\r\nP.S.- I&#39;d like to add that I&#39;m able to retrieve attribute values by using `eElement.getAttribute(&quot;attr1&quot;);`","title":"Adding attribute to xml subtag","body":"<p>I'm working in Java 8- this seems like a very simple problem, but I'd like to know if I'm missing something. XML looks like this.</p>\n<pre><code>&lt;supertag&gt;\n    &lt;subtag1 attr1='1' attr2='2'/&gt;\n    &lt;subtag2&gt;body&lt;/subtag2&gt;\n&lt;/supertag&gt;\n</code></pre>\n<p>I'd like to add an attribute &quot;attr3&quot; to subtag1.</p>\n<p>Relevant code so far (xmlPacket is an org.w3c.dom)-</p>\n<pre><code>NodeList subtag1 = xmlPacket.getElementsByTagName(&quot;subtag1&quot;);\nfor (int i = 0; i &lt; subtag1.getLength(); i++) {\n Node nNode = subtag1.item(i);\n    if (nNode.getNodeType() == Node.ELEMENT_NODE) {\n       Element eElement = (Element) nNode;\n       eElement.setAttribute(&quot;attr3&quot;, &quot;3&quot;);\n    }\n}\n</code></pre>\n<p>This currently turns the xmlPacket to document[#null].</p>\n<p>What am I missing here? Thanks!</p>\n<p>P.S.- I'd like to add that I'm able to retrieve attribute values by using <code>eElement.getAttribute(&quot;attr1&quot;);</code></p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":8501505,"reputation":176,"user_id":6374299,"display_name":"pradz_stack"},"score":0,"creation_date":1654026389,"post_id":72398544,"comment_id":127993141,"body_markdown":"Not sure which dialect you are using. Looks very similar to this.\n[generationtype-auto-not-working](https://stackoverflow.com/questions/5129552/generatedvaluestrategy-generationtype-auto-not-working-as-thought)","body":"Not sure which dialect you are using. Looks very similar to this. <a href=\"https://stackoverflow.com/questions/5129552/generatedvaluestrategy-generationtype-auto-not-working-as-thought\">generationtype-auto-not-working</a>"},{"owner":{"account_id":25399888,"reputation":1,"user_id":19209562,"display_name":"Futurixta"},"score":0,"creation_date":1654610372,"post_id":72398544,"comment_id":128128100,"body_markdown":"@pradz_stack how can i check the dialect im using? In the log appears this:                        &quot;&quot;&quot;||||   org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final  ||||&quot;&quot;&quot;","body":"@pradz_stack how can i check the dialect im using? In the log appears this:                        &quot;&quot;&quot;||||   org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final  ||||&quot;&quot;&quot;"}],"answers":[{"tags":[],"owner":{"account_id":24027991,"reputation":1,"user_id":18009361,"display_name":"Varmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663951315,"creation_date":1663604196,"answer_id":73776406,"question_id":72398544,"body_markdown":"Ok it seems it has been a while since your question and I don&#39;t see a correct answer here but still maybe it helps someone else. I think your problem is that MySQL does not support generationtype `AUTO` or `SEQUENCE`. So you would need to use `TABLE` or `IDENTITY`, first one being better.\r\n\r\nhttps://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/\r\n","title":"Hibernate not inserting Springboot entities in database","body":"<p>Ok it seems it has been a while since your question and I don't see a correct answer here but still maybe it helps someone else. I think your problem is that MySQL does not support generationtype <code>AUTO</code> or <code>SEQUENCE</code>. So you would need to use <code>TABLE</code> or <code>IDENTITY</code>, first one being better.</p>\n<p><a href=\"https://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/</a></p>\n"}],"owner":{"account_id":25399888,"reputation":1,"user_id":19209562,"display_name":"Futurixta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663951315,"creation_date":1653603300,"question_id":72398544,"body_markdown":"I&#39;m using JPA + Spring Boot to persist some data in a Database.\r\n\r\nI had 2 classes: `Plantilla` (Template) and `Campo` (field).\r\n\r\n`Plantilla` has an ID, which is its PrimaryKey(PK).\r\n\r\n`Campo` has a composite PK (id_plantilla, campo_name). `id_plantilla` is a ForeignKey from `Plantilla`. I had done this using CampoPK, an `@Embeddable` class\r\n\r\nI mapped the relation between Plantilla and Campo with the `@OneToMany @ManyToOne` annotation.\r\n\r\nSo the code is this:\r\n\r\n**Plantilla Class**\r\n\r\n    @Entity\r\n    @Table(name = &quot;plantillas&quot;)\r\n    public class Plantilla implements Serializable{    \r\n        \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;id_plantilla&quot;)\r\n    private Long id_plantilla;\r\n    \r\n    @Column(length = 50)\r\n    private String nombre;\r\n    \r\n    @Column(length = 50)\r\n    private String proveedor;\r\n          \r\n    @OneToMany(mappedBy = &quot;plantilla&quot;,cascade=CascadeType.ALL)\r\n    List&lt;Campo&gt; campos = new ArrayList&lt;&gt;();\r\n\r\n    //getters and setter\r\n\r\n**Campo Class**\r\n\r\n    @Entity\r\n    @Table(name = &quot;campos&quot;)\r\n    public class Campo implements Serializable{\r\n    \r\n    @EmbeddedId\r\n    private CampoPK campoPK;\r\n    \r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name=&quot;id_plantilla&quot;, referencedColumnName=&quot;id_plantilla&quot;,\r\n                insertable=false, updatable=false)\r\n    private Plantilla plantilla;\r\n    \r\n    @Column(length = 50)\r\n    private double coordX;\r\n    \r\n    @Column(length = 50)\r\n    private double coordY;\r\n\r\n**CampoPK**\r\n\r\n    @Embeddable\r\n    public class CampoPK implements Serializable{\r\n\r\n    @Column(name=&quot;id_plantilla&quot;,nullable=false)\r\n    private Long idPlantilla;    \r\n\r\n    @Column(name=&quot;campo_nombre&quot;,nullable=false)\r\n    private String campoNombre;\r\n\r\nSo, when I launch the app. It connects with the DB and create the table correctly.\r\n[Table Campo in DB][1]\r\n\r\nNow, this App is a Server, when it&#180;s deployed, it has an REST API you can call (I tested it with simple tables and works properly inserting the objects sended). The `id_plantilla` is autogenerated, so when I send a `Plantilla` with some `Campo`&#39;s the object Plantilla doesnt have the id. It has the `campoNombre` which is the other field of the PK\r\n\r\nSo, for testing, I sent a Plantilla with 2 Campo&#39;s Object(material and dimensiones) when the SQLQuery is sent (after the HttpRequest is accepted) it doesn&#39;t have the values needed, the output is the next one:\r\n\r\nTo make it more clear, I cut the first part of the info messages, all of them were like this:\r\n\r\n    2022-05-26 23:09:35.064 DEBUG 13148 --- [nio-8080-exec-4] o.h.e.t.internal.TransactionImpl   :\r\n\r\n-First: It looks that the ID has been generated, the entities are recognized, with the id added in the Plantilla but not on the Campo entities neither on the List-Campo- in the Plantilla.\r\n    \r\n    Generated identifier: 1, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\r\n    Generated identifier: component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=material}, using strategy: org.hibernate.id.CompositeNestedGeneratedValueGenerator\r\n    Generated identifier: component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=dimensiones}, using strategy: org.hibernate.id.CompositeNestedGeneratedValueGenerator\r\n    committing\r\n    Processing flush-time cascades\r\n    Dirty checking collections\r\n    Collection found: [com.servidorAPELV.springbootServer.entity.Plantilla.campos#1], was: [&lt;unreferenced&gt;] (initialized)    \r\n    Flushed: 3 insertions, 0 updates, 0 deletions to 3 objects\r\n    Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections\r\n    Listing entities:\r\n    com.servidorAPELV.springbootServer.entity.Campo{coordX=2.0, coordY=2.0, plantilla=null, campoPK=component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=material}, longX=4.0, longY=1.5}\r\n    com.servidorAPELV.springbootServer.entity.Campo{coordX=2.0, coordY=4.0, plantilla=null, campoPK=component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=dimensiones}, longX=5.0, longY=3.0}\r\n    com.servidorAPELV.springbootServer.entity.Plantilla{id_plantilla=1, proveedor=syscam, campos=[com.servidorAPELV.springbootServer.entity.Campo#component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=material}, com.servidorAPELV.springbootServer.entity.Campo#component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=dimensiones}], nombre=Prueba plantilla 1}\r\n\r\n\r\n-Secondly we have the SQL sent to the DB:\r\n\r\n    insert into plantillas (nombre, proveedor, id_plantilla) values (?, ?, ?)\r\n    Hibernate: insert into plantillas (nombre, proveedor, id_plantilla) values (?, ?, ?)\r\n    insert into campos (coordx, coordy, longx, longy, campo_nombre, id_plantilla) values (?, ?, ?, \r\n    ?, ?, ?)\r\n    Hibernate: insert into campos (coordx, coordy, longx, longy, campo_nombre, id_plantilla) \r\n    values (?, ?, ?, ?, ?, ?)\r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]\r\n\r\nI dont understand why all the values appears with &quot;?&quot;\r\n\r\n-Finally it shows this message:\r\n\r\n    java.sql.SQLIntegrityConstraintViolationException: Column &#39;id_plantilla&#39; cannot be null\r\n\r\n     //A bit forward appears this\r\n\r\n    2022-05-26 23:09:35.153  WARN 13148 --- [nio-8080-exec-4]o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\r\n    2022-05-26 23:09:35.153 ERROR 13148 --- [nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column &#39;id_plantilla&#39; cannot be null\r\n    2022-05-26 23:09:35.154  INFO 13148 --- [nio-8080-exec-4] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n    2022-05-26 23:09:35.158 DEBUG 13148 --- [nio-8080-exec-4] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)\r\n\r\n\r\nIf someone has any idea of what is happening or any potential solutions or tutorials to check, i will be very grateful.\r\n\r\nPD (as i cant post photos yet i will add the full image of the output here):[Output error][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iJCGL.png\r\n  [2]: https://i.stack.imgur.com/zXTTz.png","title":"Hibernate not inserting Springboot entities in database","body":"<p>I'm using JPA + Spring Boot to persist some data in a Database.</p>\n<p>I had 2 classes: <code>Plantilla</code> (Template) and <code>Campo</code> (field).</p>\n<p><code>Plantilla</code> has an ID, which is its PrimaryKey(PK).</p>\n<p><code>Campo</code> has a composite PK (id_plantilla, campo_name). <code>id_plantilla</code> is a ForeignKey from <code>Plantilla</code>. I had done this using CampoPK, an <code>@Embeddable</code> class</p>\n<p>I mapped the relation between Plantilla and Campo with the <code>@OneToMany @ManyToOne</code> annotation.</p>\n<p>So the code is this:</p>\n<p><strong>Plantilla Class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;plantillas&quot;)\npublic class Plantilla implements Serializable{    \n    \n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name=&quot;id_plantilla&quot;)\nprivate Long id_plantilla;\n\n@Column(length = 50)\nprivate String nombre;\n\n@Column(length = 50)\nprivate String proveedor;\n      \n@OneToMany(mappedBy = &quot;plantilla&quot;,cascade=CascadeType.ALL)\nList&lt;Campo&gt; campos = new ArrayList&lt;&gt;();\n\n//getters and setter\n</code></pre>\n<p><strong>Campo Class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;campos&quot;)\npublic class Campo implements Serializable{\n\n@EmbeddedId\nprivate CampoPK campoPK;\n\n@ManyToOne(optional = false)\n@JoinColumn(name=&quot;id_plantilla&quot;, referencedColumnName=&quot;id_plantilla&quot;,\n            insertable=false, updatable=false)\nprivate Plantilla plantilla;\n\n@Column(length = 50)\nprivate double coordX;\n\n@Column(length = 50)\nprivate double coordY;\n</code></pre>\n<p><strong>CampoPK</strong></p>\n<pre><code>@Embeddable\npublic class CampoPK implements Serializable{\n\n@Column(name=&quot;id_plantilla&quot;,nullable=false)\nprivate Long idPlantilla;    \n\n@Column(name=&quot;campo_nombre&quot;,nullable=false)\nprivate String campoNombre;\n</code></pre>\n<p>So, when I launch the app. It connects with the DB and create the table correctly.\n<a href=\"https://i.stack.imgur.com/iJCGL.png\" rel=\"nofollow noreferrer\">Table Campo in DB</a></p>\n<p>Now, this App is a Server, when it´s deployed, it has an REST API you can call (I tested it with simple tables and works properly inserting the objects sended). The <code>id_plantilla</code> is autogenerated, so when I send a <code>Plantilla</code> with some <code>Campo</code>'s the object Plantilla doesnt have the id. It has the <code>campoNombre</code> which is the other field of the PK</p>\n<p>So, for testing, I sent a Plantilla with 2 Campo's Object(material and dimensiones) when the SQLQuery is sent (after the HttpRequest is accepted) it doesn't have the values needed, the output is the next one:</p>\n<p>To make it more clear, I cut the first part of the info messages, all of them were like this:</p>\n<pre><code>2022-05-26 23:09:35.064 DEBUG 13148 --- [nio-8080-exec-4] o.h.e.t.internal.TransactionImpl   :\n</code></pre>\n<p>-First: It looks that the ID has been generated, the entities are recognized, with the id added in the Plantilla but not on the Campo entities neither on the List-Campo- in the Plantilla.</p>\n<pre><code>Generated identifier: 1, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator\nGenerated identifier: component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=material}, using strategy: org.hibernate.id.CompositeNestedGeneratedValueGenerator\nGenerated identifier: component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=dimensiones}, using strategy: org.hibernate.id.CompositeNestedGeneratedValueGenerator\ncommitting\nProcessing flush-time cascades\nDirty checking collections\nCollection found: [com.servidorAPELV.springbootServer.entity.Plantilla.campos#1], was: [&lt;unreferenced&gt;] (initialized)    \nFlushed: 3 insertions, 0 updates, 0 deletions to 3 objects\nFlushed: 1 (re)creations, 0 updates, 0 removals to 1 collections\nListing entities:\ncom.servidorAPELV.springbootServer.entity.Campo{coordX=2.0, coordY=2.0, plantilla=null, campoPK=component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=material}, longX=4.0, longY=1.5}\ncom.servidorAPELV.springbootServer.entity.Campo{coordX=2.0, coordY=4.0, plantilla=null, campoPK=component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=dimensiones}, longX=5.0, longY=3.0}\ncom.servidorAPELV.springbootServer.entity.Plantilla{id_plantilla=1, proveedor=syscam, campos=[com.servidorAPELV.springbootServer.entity.Campo#component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=material}, com.servidorAPELV.springbootServer.entity.Campo#component[campoNombre,id_plantilla]{id_plantilla=null, campoNombre=dimensiones}], nombre=Prueba plantilla 1}\n</code></pre>\n<p>-Secondly we have the SQL sent to the DB:</p>\n<pre><code>insert into plantillas (nombre, proveedor, id_plantilla) values (?, ?, ?)\nHibernate: insert into plantillas (nombre, proveedor, id_plantilla) values (?, ?, ?)\ninsert into campos (coordx, coordy, longx, longy, campo_nombre, id_plantilla) values (?, ?, ?, \n?, ?, ?)\nHibernate: insert into campos (coordx, coordy, longx, longy, campo_nombre, id_plantilla) \nvalues (?, ?, ?, ?, ?, ?)\no.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]\n</code></pre>\n<p>I dont understand why all the values appears with &quot;?&quot;</p>\n<p>-Finally it shows this message:</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Column 'id_plantilla' cannot be null\n\n //A bit forward appears this\n\n2022-05-26 23:09:35.153  WARN 13148 --- [nio-8080-exec-4]o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\n2022-05-26 23:09:35.153 ERROR 13148 --- [nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'id_plantilla' cannot be null\n2022-05-26 23:09:35.154  INFO 13148 --- [nio-8080-exec-4] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n2022-05-26 23:09:35.158 DEBUG 13148 --- [nio-8080-exec-4] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)\n</code></pre>\n<p>If someone has any idea of what is happening or any potential solutions or tutorials to check, i will be very grateful.</p>\n<p>PD (as i cant post photos yet i will add the full image of the output here):<a href=\"https://i.stack.imgur.com/zXTTz.png\" rel=\"nofollow noreferrer\">Output error</a></p>\n"},{"tags":["java","android","android-layout","android-intent"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1663846656,"post_id":73811221,"comment_id":130338050,"body_markdown":"&quot;I would really like a solution which would work even if the app is closed, as I plan to prevent displaying an activity at all&quot; -- that is not an option for `ACTION_SEND`. With regards to your current problem, `onCreate()` is only called when the activity is created, and in your case, it is already created. You also need to override `onNewIntent()` and be able to handle `ACTION_SEND` that way as well.","body":"&quot;I would really like a solution which would work even if the app is closed, as I plan to prevent displaying an activity at all&quot; -- that is not an option for <code>ACTION_SEND</code>. With regards to your current problem, <code>onCreate()</code> is only called when the activity is created, and in your case, it is already created. You also need to override <code>onNewIntent()</code> and be able to handle <code>ACTION_SEND</code> that way as well."},{"owner":{"account_id":26409943,"reputation":25,"user_id":20059147,"display_name":"Abdullah Omar Nasseef"},"score":0,"creation_date":1663950975,"post_id":73811221,"comment_id":130368115,"body_markdown":"@CommonsWare Thanks a lot for your suggestion. Now it works perfectly even if the app is closed.","body":"@CommonsWare Thanks a lot for your suggestion. Now it works perfectly even if the app is closed."}],"answers":[{"tags":[],"owner":{"account_id":26409943,"reputation":25,"user_id":20059147,"display_name":"Abdullah Omar Nasseef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663951298,"creation_date":1663951298,"answer_id":73830737,"question_id":73811221,"body_markdown":"As per @CommonsWare &#39;s comment, I tried finding out more, and this is what works:\r\n``` lang-java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Intent intent = getIntent();\r\n        String action = intent.getAction();\r\n        String type = intent.getType();\r\n        if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\r\n            if (&quot;text/plain&quot;.equals(type)) {\r\n                handleSendText(intent); // Handle text being sent\r\n            } else {\r\n                Toast toast = Toast.makeText(getApplicationContext(), &quot;Please share an url&quot;, Toast.LENGTH_SHORT);\r\n                toast.show();\r\n            }\r\n        }\r\n    }\r\n    @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n        setIntent(intent);\r\n    }\r\n\r\n    void handleSendText(Intent intent){\r\n        String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\r\n        Log.d(&quot;Textreceived&quot;, sharedText);\r\n        if (sharedText != null) {\r\n            //my work here\r\n        }\r\n    }\r\n```\r\n\r\nBasically put the ```getIntent()``` method inside onResume() and handle ```setIntent()``` from ```onNewIntent()```.\r\n\r\nThis answer was really helpful: https://stackoverflow.com/a/8896750/20059147","title":"Receiving a shared URL from another app into my Android app not working","body":"<p>As per @CommonsWare 's comment, I tried finding out more, and this is what works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        Intent intent = getIntent();\n        String action = intent.getAction();\n        String type = intent.getType();\n        if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\n            if (&quot;text/plain&quot;.equals(type)) {\n                handleSendText(intent); // Handle text being sent\n            } else {\n                Toast toast = Toast.makeText(getApplicationContext(), &quot;Please share an url&quot;, Toast.LENGTH_SHORT);\n                toast.show();\n            }\n        }\n    }\n    @Override\n    protected void onNewIntent(Intent intent) {\n        super.onNewIntent(intent);\n        setIntent(intent);\n    }\n\n    void handleSendText(Intent intent){\n        String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\n        Log.d(&quot;Textreceived&quot;, sharedText);\n        if (sharedText != null) {\n            //my work here\n        }\n    }\n</code></pre>\n<p>Basically put the <code>getIntent()</code> method inside onResume() and handle <code>setIntent()</code> from <code>onNewIntent()</code>.</p>\n<p>This answer was really helpful: <a href=\"https://stackoverflow.com/a/8896750/20059147\">https://stackoverflow.com/a/8896750/20059147</a></p>\n"}],"owner":{"account_id":26409943,"reputation":25,"user_id":20059147,"display_name":"Abdullah Omar Nasseef"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73830737,"answer_count":1,"score":0,"last_activity_date":1663951298,"creation_date":1663833893,"question_id":73811221,"body_markdown":"I am new to Android app development. I am trying to make an app which does the following:\r\n1. I open my app\r\n2. I leave my app and keep it running in the background\r\n3. I share a link to my app from another app (I tried YouTube)\r\n4. My app displays the link on its TextView.\r\n\r\nAnd I am following this guide: https://developer.android.com/training/sharing/receive#java\r\n\r\nHowever, when I share the link to the app, the TextView is not getting updated. In fact, the link is not even being received by the intent in the first place.\r\n\r\nHere is my ```MainActivity.java```, no ```TextReceived``` log containing the shared link was being produced:\r\n\r\n``` lang-java\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.util.Log;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Intent intent = getIntent();\r\n            String action = intent.getAction();\r\n            String type = intent.getType();\r\n            if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\r\n                if (&quot;text/plain&quot;.equals(type)) {\r\n                    handleSendText(intent); // Handle text being sent\r\n                } else {\r\n                    Toast toast = Toast.makeText(getApplicationContext(), &quot;Please share an url&quot;, Toast.LENGTH_SHORT);\r\n                    toast.show();\r\n                }\r\n            }\r\n        }\r\n    \r\n        void handleSendText(Intent intent){\r\n            String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\r\n            Log.d(&quot;Textreceived&quot;, sharedText);\r\n            if (sharedText != null) {\r\n                TextView helloTextView = (TextView) findViewById(R.id.TextView1);\r\n                helloTextView.setText(sharedText);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nHere is my ```activity_main.xml:```\r\n\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/nothing&quot;\r\n        android:id=&quot;@+id/TextView1&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nAnd here is my ```AndroidManifest.xml:```\r\n\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.SimpleVideoDownloader&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nAnd here is the debug panel logs:\r\n\r\n```\r\nConnected to the target VM, address: &#39;localhost:52211&#39;, transport: &#39;socket&#39;\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nI/videodownloade: Late-enabling -Xcheck:jni\r\nD/ProcessState: Binder ioctl to enable oneway spam detection failed: Invalid argument\r\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10291; state: ENABLED\r\nD/AppScoutStateMachine: 32132-ScoutStateMachinecreated\r\nW/ActivityThread: Application com.example.simplevideodownloader is waiting for the debugger on port 8100...\r\nI/System.out: Sending WAIT chunk\r\nI/System.out: Debugger has connected\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: debugger has settled (1391)\r\nW/ziparchive: Unable to open &#39;/data/app/~~_1ZXNj-gpkC0bM-o-_LQYg==/com.example.simplevideodownloader-4o9AfRTKkroRKixsJBmZrA==/base.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~_1ZXNj-gpkC0bM-o-_LQYg==/com.example.simplevideodownloader-4o9AfRTKkroRKixsJBmZrA==/base.dm&#39;: No such file or directory\r\nI/Perf: Connecting to perf service.\r\nV/GraphicsEnvironment: ANGLE Developer option for &#39;com.example.simplevideodownloader&#39; set to: &#39;default&#39;\r\nV/GraphicsEnvironment: Updatable production driver is not supported on the device.\r\nI/ForceDarkHelperStubImpl: initialize for com.example.simplevideodownloader , ForceDarkOrigin\r\nD/OpenGLRenderer: JNI_OnLoad success\r\nI/MiuiForceDarkConfig: setConfig density:2.750000, mainRule:0, secondaryRule:0, tertiaryRule:0\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nW/Looper: PerfMonitor longMsg : seq=3 plan=13:40:49.370 late=2ms wall=2457ms running=196ms runnable=29ms swapin=10ms binder=32ms h=android.app.ActivityThread$H w=110 procState=-1\r\nD/ViewScrollStubImpl: the value of ScrollFrictionRes is: 0.019499999\r\nD/IS_CTS_MODE: false\r\nD/MULTI_WINDOW_SWITCH_ENABLED: false\r\nD/IS_CTS_MODE: false\r\nD/MULTI_WINDOW_SWITCH_ENABLED: false\r\nD/IS_CTS_MODE: false\r\nD/MULTI_WINDOW_SWITCH_ENABLED: false\r\nD/DecorView[]: getWindowModeFromSystem  windowmode is 1\r\nW/Looper: PerfMonitor looperActivity : package=com.example.simplevideodownloader/.MainActivity time=276ms latency=2464ms running=213ms  procState=-1  historyMsgCount=3 (msgIndex=1 wall=276ms seq=4 running=213ms runnable=32ms swapin=21ms binder=20ms late=2464ms h=android.app.ActivityThread$H w=159) (msgIndex=2 wall=276ms seq=4 running=213ms runnable=32ms swapin=21ms binder=20ms late=2464ms h=android.app.ActivityThread$H w=159) (msgIndex=3 wall=2457ms seq=3 running=196ms runnable=29ms swapin=10ms binder=32ms late=2ms h=android.app.ActivityThread$H w=110)\r\nW/Looper: PerfMonitor looperActivity : package=com.example.simplevideodownloader/.MainActivity time=0ms latency=2740ms running=0ms  procState=-1  historyMsgCount=4 (msgIndex=1 wall=276ms seq=4 running=213ms runnable=32ms swapin=21ms binder=20ms late=2464ms h=android.app.ActivityThread$H w=159) (msgIndex=2 wall=276ms seq=4 running=213ms runnable=32ms swapin=21ms binder=20ms late=2464ms h=android.app.ActivityThread$H w=159) (msgIndex=3 wall=2457ms seq=3 running=196ms runnable=29ms swapin=10ms binder=32ms late=2ms h=android.app.ActivityThread$H w=110) (msgIndex=4 wall=276ms seq=4 running=213ms runnable=32ms swapin=21ms binder=20ms late=2464ms h=android.app.ActivityThread$H w=159)\r\nI/AdrenoGLES-0: QUALCOMM build                   : c5f0e23, I9972db7aac\r\n    Build Date                       : 04/28/21\r\n    OpenGL ES Shader Compiler Version: EV031.32.02.10\r\n    Local Branch                     : mybrancheba83f1e-3815-f156-b760-08f1eafda2d8\r\n    Remote Branch                    : quic/gfx-adreno.lnx.1.0.r99-rel\r\n    Remote Branch                    : NONE\r\n    Reconstruct Branch               : NOTHING\r\nI/AdrenoGLES-0: Build Config                     : S P 10.0.7 AArch64\r\nI/AdrenoGLES-0: Driver Path                      : /vendor/lib64/egl/libGLESv2_adreno.so\r\nI/AdrenoGLES-0: PFP: 0x016ee190, ME: 0x00000000\r\nD/hw-ProcessState: Binder ioctl to enable oneway spam detection failed: Invalid argument\r\nE/videodownloade: open libmigui.so failed! dlopen - dlopen failed: library &quot;libmigui.so&quot; not found\r\nD/DecorView[]: onWindowFocusChanged hasWindowFocus true\r\nD/DecorView[]: onWindowFocusChanged hasWindowFocus false\r\nD/AppScoutStateMachine: 32132-ScoutStateMachinecreated\r\nI/OpenGLRenderer: Davey! duration=20858ms; Flags=1, FrameTimelineVsyncId=4974711, IntendedVsync=86204996072645, Vsync=86204996072645, InputEventId=0, HandleInputStart=86204997541436, AnimationStart=86204997554509, PerformTraversalsStart=86204997559040, DrawStart=86205055184092, FrameDeadline=86205029405977, FrameInterval=86204996896748, FrameStartTime=16666666, SyncQueued=86205057721227, SyncStart=86205057776748, IssueDrawCommandsStart=86205059246540, SwapBuffers=86205102629769, FrameCompleted=86225854180230, DequeueBufferDuration=8825157, QueueBufferDuration=1841250, GpuCompleted=86225854180230, SwapBuffersCompleted=86205106817061, DisplayPresentTime=227721, \r\nD/DecorView[]: onWindowFocusChanged hasWindowFocus true\r\n```\r\n\r\nI tried bringing the intent-related functions and declarations in ```MainActivity.java``` under ```onResume``` and ```onPause``` lifecycles, but that didn&#39;t work either. I tried removing the ```handleSendText()``` function and doing everything on spot, which unsurprisingly didn&#39;t work out.\r\n\r\nI would really like a solution which would work even if the app is closed, as I plan to prevent displaying an activity at all, and do everything in the background instead (and do something else with the shared link). Please help me out here, thanks in advance!","title":"Receiving a shared URL from another app into my Android app not working","body":"<p>I am new to Android app development. I am trying to make an app which does the following:</p>\n<ol>\n<li>I open my app</li>\n<li>I leave my app and keep it running in the background</li>\n<li>I share a link to my app from another app (I tried YouTube)</li>\n<li>My app displays the link on its TextView.</li>\n</ol>\n<p>And I am following this guide: <a href=\"https://developer.android.com/training/sharing/receive#java\" rel=\"nofollow noreferrer\">https://developer.android.com/training/sharing/receive#java</a></p>\n<p>However, when I share the link to the app, the TextView is not getting updated. In fact, the link is not even being received by the intent in the first place.</p>\n<p>Here is my <code>MainActivity.java</code>, no <code>TextReceived</code> log containing the shared link was being produced:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import androidx.appcompat.app.AppCompatActivity;\n    \n    import android.util.Log;\n    \n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.widget.TextView;\n    import android.widget.Toast;\n    \n    public class MainActivity extends AppCompatActivity {\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n            Intent intent = getIntent();\n            String action = intent.getAction();\n            String type = intent.getType();\n            if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\n                if (&quot;text/plain&quot;.equals(type)) {\n                    handleSendText(intent); // Handle text being sent\n                } else {\n                    Toast toast = Toast.makeText(getApplicationContext(), &quot;Please share an url&quot;, Toast.LENGTH_SHORT);\n                    toast.show();\n                }\n            }\n        }\n    \n        void handleSendText(Intent intent){\n            String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\n            Log.d(&quot;Textreceived&quot;, sharedText);\n            if (sharedText != null) {\n                TextView helloTextView = (TextView) findViewById(R.id.TextView1);\n                helloTextView.setText(sharedText);\n            }\n        }\n    }\n</code></pre>\n<p>Here is my <code>activity_main.xml:</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/nothing&quot;\n        android:id=&quot;@+id/TextView1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And here is my <code>AndroidManifest.xml:</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.SimpleVideoDownloader&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>And here is the debug panel logs:</p>\n<pre><code>Connected to the target VM, address: 'localhost:52211', transport: 'socket'\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nI/videodownloade: Late-enabling -Xcheck:jni\nD/ProcessState: Binder ioctl to enable oneway spam detection failed: Invalid argument\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10291; state: ENABLED\nD/AppScoutStateMachine: 32132-ScoutStateMachinecreated\nW/ActivityThread: Application com.example.simplevideodownloader is waiting for the debugger on port 8100...\nI/System.out: Sending WAIT chunk\nI/System.out: Debugger has connected\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: debugger has settled (1391)\nW/ziparchive: Unable to open '/data/app/~~_1ZXNj-gpkC0bM-o-_LQYg==/com.example.simplevideodownloader-4o9AfRTKkroRKixsJBmZrA==/base.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~_1ZXNj-gpkC0bM-o-_LQYg==/com.example.simplevideodownloader-4o9AfRTKkroRKixsJBmZrA==/base.dm': No such file or directory\nI/Perf: Connecting to perf service.\nV/GraphicsEnvironment: ANGLE Developer option for 'com.example.simplevideodownloader' set to: 'default'\nV/GraphicsEnvironment: Updatable production driver is not supported on the device.\nI/ForceDarkHelperStubImpl: initialize for com.example.simplevideodownloader , ForceDarkOrigin\nD/OpenGLRenderer: JNI_OnLoad success\nI/MiuiForceDarkConfig: setConfig density:2.750000, mainRule:0, secondaryRule:0, tertiaryRule:0\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nW/Looper: PerfMonitor longMsg : seq=3 plan=13:40:49.370 late=2ms wall=2457ms running=196ms runnable=29ms swapin=10ms binder=32ms h=android.app.ActivityThread$H w=110 procState=-1\nD/ViewScrollStubImpl: the value of ScrollFrictionRes is: 0.019499999\nD/IS_CTS_MODE: false\nD/MULTI_WINDOW_SWITCH_ENABLED: false\nD/IS_CTS_MODE: false\nD/MULTI_WINDOW_SWITCH_ENABLED: false\nD/IS_CTS_MODE: false\nD/MULTI_WINDOW_SWITCH_ENABLED: false\nD/DecorView[]: getWindowModeFromSystem  windowmode is 1\nW/Looper: PerfMonitor looperActivity : package=com.example.simplevideodownloader/.MainActivity time=276ms latency=2464ms running=213ms  procState=-1  historyMsgCount=3 (msgIndex=1 wall=276ms seq=4 running=213ms runnable=32ms swapin=21ms binder=20ms late=2464ms h=android.app.ActivityThread$H w=159) (msgIndex=2 wall=276ms seq=4 running=213ms runnable=32ms swapin=21ms binder=20ms late=2464ms h=android.app.ActivityThread$H w=159) (msgIndex=3 wall=2457ms seq=3 running=196ms runnable=29ms swapin=10ms binder=32ms late=2ms h=android.app.ActivityThread$H w=110)\nW/Looper: PerfMonitor looperActivity : package=com.example.simplevideodownloader/.MainActivity time=0ms latency=2740ms running=0ms  procState=-1  historyMsgCount=4 (msgIndex=1 wall=276ms seq=4 running=213ms runnable=32ms swapin=21ms binder=20ms late=2464ms h=android.app.ActivityThread$H w=159) (msgIndex=2 wall=276ms seq=4 running=213ms runnable=32ms swapin=21ms binder=20ms late=2464ms h=android.app.ActivityThread$H w=159) (msgIndex=3 wall=2457ms seq=3 running=196ms runnable=29ms swapin=10ms binder=32ms late=2ms h=android.app.ActivityThread$H w=110) (msgIndex=4 wall=276ms seq=4 running=213ms runnable=32ms swapin=21ms binder=20ms late=2464ms h=android.app.ActivityThread$H w=159)\nI/AdrenoGLES-0: QUALCOMM build                   : c5f0e23, I9972db7aac\n    Build Date                       : 04/28/21\n    OpenGL ES Shader Compiler Version: EV031.32.02.10\n    Local Branch                     : mybrancheba83f1e-3815-f156-b760-08f1eafda2d8\n    Remote Branch                    : quic/gfx-adreno.lnx.1.0.r99-rel\n    Remote Branch                    : NONE\n    Reconstruct Branch               : NOTHING\nI/AdrenoGLES-0: Build Config                     : S P 10.0.7 AArch64\nI/AdrenoGLES-0: Driver Path                      : /vendor/lib64/egl/libGLESv2_adreno.so\nI/AdrenoGLES-0: PFP: 0x016ee190, ME: 0x00000000\nD/hw-ProcessState: Binder ioctl to enable oneway spam detection failed: Invalid argument\nE/videodownloade: open libmigui.so failed! dlopen - dlopen failed: library &quot;libmigui.so&quot; not found\nD/DecorView[]: onWindowFocusChanged hasWindowFocus true\nD/DecorView[]: onWindowFocusChanged hasWindowFocus false\nD/AppScoutStateMachine: 32132-ScoutStateMachinecreated\nI/OpenGLRenderer: Davey! duration=20858ms; Flags=1, FrameTimelineVsyncId=4974711, IntendedVsync=86204996072645, Vsync=86204996072645, InputEventId=0, HandleInputStart=86204997541436, AnimationStart=86204997554509, PerformTraversalsStart=86204997559040, DrawStart=86205055184092, FrameDeadline=86205029405977, FrameInterval=86204996896748, FrameStartTime=16666666, SyncQueued=86205057721227, SyncStart=86205057776748, IssueDrawCommandsStart=86205059246540, SwapBuffers=86205102629769, FrameCompleted=86225854180230, DequeueBufferDuration=8825157, QueueBufferDuration=1841250, GpuCompleted=86225854180230, SwapBuffersCompleted=86205106817061, DisplayPresentTime=227721, \nD/DecorView[]: onWindowFocusChanged hasWindowFocus true\n</code></pre>\n<p>I tried bringing the intent-related functions and declarations in <code>MainActivity.java</code> under <code>onResume</code> and <code>onPause</code> lifecycles, but that didn't work either. I tried removing the <code>handleSendText()</code> function and doing everything on spot, which unsurprisingly didn't work out.</p>\n<p>I would really like a solution which would work even if the app is closed, as I plan to prevent displaying an activity at all, and do everything in the background instead (and do something else with the shared link). Please help me out here, thanks in advance!</p>\n"},{"tags":["java","classpath","jgrasp"],"answers":[{"tags":[],"owner":{"account_id":250292,"reputation":436,"user_id":526910,"display_name":"lbarowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663951261,"creation_date":1663951261,"answer_id":73830734,"question_id":73823130,"body_markdown":"Any of those classpath additions should work, assuming that pdfbox-app.jar is located at the root of your common classpath (the directory containing the package roots), or for %&lt;PROJECT_PATH&gt;, the directory containing the project file itself if that is different. If it is not, then you need a relative path to one of those locations.\r\n\r\nThe flags should also work, but for Java flags you need to add them as &quot;Flags2 or Args2&quot; for the &quot;Compile&quot;, &quot;Run&quot;, and &quot;Debug&quot; commands using &quot;Settings&quot; -&gt; &quot;Compiler Settings&quot;. Command line arguments are arguments to your program only.","title":"How to set a relative classpath in jGRASP project file?","body":"<p>Any of those classpath additions should work, assuming that pdfbox-app.jar is located at the root of your common classpath (the directory containing the package roots), or for %&lt;PROJECT_PATH&gt;, the directory containing the project file itself if that is different. If it is not, then you need a relative path to one of those locations.</p>\n<p>The flags should also work, but for Java flags you need to add them as &quot;Flags2 or Args2&quot; for the &quot;Compile&quot;, &quot;Run&quot;, and &quot;Debug&quot; commands using &quot;Settings&quot; -&gt; &quot;Compiler Settings&quot;. Command line arguments are arguments to your program only.</p>\n"}],"owner":{"account_id":6885505,"reputation":913,"user_id":5407757,"accept_rate":62,"display_name":"Daniel R. Collins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73830734,"answer_count":1,"score":1,"last_activity_date":1663951261,"creation_date":1663908820,"question_id":73823130,"body_markdown":"I have a small Java project built with the jGRASP IDE on Windows, with all the files in a single flat directory. Among them is an external jar file: pdfbox-app.jar. Compilation and access to that library succeeds if I add the file to the project CLASSPATH with an absolute address. \r\n\r\nBut the project build then breaks if this is distributed to other people (via GitHub) and they put the code in any different directory structure. So it would be preferred to provide a relative address on the CLASSPATH. However,nothing I&#39;ve tried to add in that vein reliably succeeds. Things I&#39;ve tried to add to the project classpath:\r\n\r\n    pdfbox-app.jar\r\n    \\pdfbox-app.jar\r\n    .\\pdfbox-app.jar\r\n    %&lt;PROJECT_PATH&gt;\\pdfbox-app.jar\r\n\r\nI&#39;ve also tried to add command-line compile arguments:\r\n\r\n    -cp &quot;.;.\\pdfbox-app.jar&quot;\r\n\r\nWhat would work here for a relative-address inclusion on the jGRASP project CLASSPATH?","title":"How to set a relative classpath in jGRASP project file?","body":"<p>I have a small Java project built with the jGRASP IDE on Windows, with all the files in a single flat directory. Among them is an external jar file: pdfbox-app.jar. Compilation and access to that library succeeds if I add the file to the project CLASSPATH with an absolute address.</p>\n<p>But the project build then breaks if this is distributed to other people (via GitHub) and they put the code in any different directory structure. So it would be preferred to provide a relative address on the CLASSPATH. However,nothing I've tried to add in that vein reliably succeeds. Things I've tried to add to the project classpath:</p>\n<pre><code>pdfbox-app.jar\n\\pdfbox-app.jar\n.\\pdfbox-app.jar\n%&lt;PROJECT_PATH&gt;\\pdfbox-app.jar\n</code></pre>\n<p>I've also tried to add command-line compile arguments:</p>\n<pre><code>-cp &quot;.;.\\pdfbox-app.jar&quot;\n</code></pre>\n<p>What would work here for a relative-address inclusion on the jGRASP project CLASSPATH?</p>\n"},{"tags":["java","android","android-edittext","android-button"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394475530,"creation_date":1394475530,"answer_id":22308143,"question_id":22308085,"body_markdown":"    String text = editText.getText().toString();\r\n    if(text.length() &gt; 0){\r\n      text = str.substring(0, str.length()-1);\r\n       editText.setText(text);\r\n    }\r\n\r\n","title":"Android EditText - Delete the last letter with a button","body":"<pre><code>String text = editText.getText().toString();\nif(text.length() &gt; 0){\n  text = str.substring(0, str.length()-1);\n   editText.setText(text);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2889654,"reputation":1285,"user_id":2478736,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1431007699,"creation_date":1394475717,"answer_id":22308192,"question_id":22308085,"body_markdown":"Yes you can create an onClickListener and just get the text from edit text and delete the last character. \r\n\r\n    Button delete = (Button) findViewById(R.id.buttondel);\r\n    if( delete != null ) {\r\n       delete.setOnClickListener(new OnClickListener() {\r\n          @Override\r\n          public void onClick() {\r\n             String textString = editText.getText().toString();\r\n             if( textString.length() &gt; 0 ) {\r\n                editText.setText(textString.substring(0, textString.length() - 1 ));\r\n                editText.setSelection(editText.getText().length());//position cursor at the end of the line\r\n             }\r\n          }\r\n       });\r\n    }\r\n\r\nEdit: Also don&#39;t forget to check the string length is greater than 0 before doing this in the event a or b hasn&#39;t been pressed when the user hits delete.","title":"Android EditText - Delete the last letter with a button","body":"<p>Yes you can create an onClickListener and just get the text from edit text and delete the last character. </p>\n\n<pre><code>Button delete = (Button) findViewById(R.id.buttondel);\nif( delete != null ) {\n   delete.setOnClickListener(new OnClickListener() {\n      @Override\n      public void onClick() {\n         String textString = editText.getText().toString();\n         if( textString.length() &gt; 0 ) {\n            editText.setText(textString.substring(0, textString.length() - 1 ));\n            editText.setSelection(editText.getText().length());//position cursor at the end of the line\n         }\n      }\n   });\n}\n</code></pre>\n\n<p>Edit: Also don't forget to check the string length is greater than 0 before doing this in the event a or b hasn't been pressed when the user hits delete.</p>\n"},{"tags":[],"owner":{"account_id":2008513,"reputation":3150,"user_id":1797648,"accept_rate":20,"display_name":"The Finest Artist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1443775120,"creation_date":1443775120,"answer_id":32903426,"question_id":22308085,"body_markdown":"Setting new text#1\r\n\r\n    CharSequence text = edittext.getText();\r\n    edittext.setText(text.subSequence(0, text.length() - 1));\r\n\r\n\r\nSetting new text#2\r\n\r\n    CharSequence text = v.getText();\r\n    edittext.setText(&quot;&quot;);\r\n    edittext.append(text, 0, text.length() - 1);\r\n\r\nDeleting editable\r\n\r\n    int length = editText.getText().length();\r\n    if (length &gt; 0) {\r\n        editText.getText().delete(length - 1, length);\r\n    }\r\n\r\nSubsequencing editable\r\n\r\n    int length = editText.getText().length();\r\n    if (length &gt; 0) {\r\n        editText.getText().subSequence(0, length - 1);\r\n    }\r\n\r\nDeleting by dispatching delete key event.\r\n\r\n    edittext.dispatchKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_DEL));","title":"Android EditText - Delete the last letter with a button","body":"<p>Setting new text#1</p>\n\n<pre><code>CharSequence text = edittext.getText();\nedittext.setText(text.subSequence(0, text.length() - 1));\n</code></pre>\n\n<p>Setting new text#2</p>\n\n<pre><code>CharSequence text = v.getText();\nedittext.setText(\"\");\nedittext.append(text, 0, text.length() - 1);\n</code></pre>\n\n<p>Deleting editable</p>\n\n<pre><code>int length = editText.getText().length();\nif (length &gt; 0) {\n    editText.getText().delete(length - 1, length);\n}\n</code></pre>\n\n<p>Subsequencing editable</p>\n\n<pre><code>int length = editText.getText().length();\nif (length &gt; 0) {\n    editText.getText().subSequence(0, length - 1);\n}\n</code></pre>\n\n<p>Deleting by dispatching delete key event.</p>\n\n<pre><code>edittext.dispatchKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_DEL));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":975359,"reputation":6345,"user_id":996787,"accept_rate":33,"display_name":"Rajesh N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508153142,"creation_date":1508152813,"answer_id":46769115,"question_id":22308085,"body_markdown":"one limitation of others answer is if cursor not in last position then also it delete the last character that limitation is removed in this answer\r\nWrite down at your on click of button\r\n\r\n    int end = ((EditText)findViewById(R.id.one)).getSelectionEnd();\r\n     if(end&gt;0){\r\n               SpannableStringBuilder selectedStr = new SpannableStringBuilder(((EditText) findViewById(R.id.one)).getText());\r\n               selectedStr.replace(end - 1, end, &quot;&quot;);\r\n               ((EditText) findViewById(R.id.one)).setText(selectedStr);\r\n               ((EditText) findViewById(R.id.one)).setSelection(end-1);\r\n            }","title":"Android EditText - Delete the last letter with a button","body":"<p>one limitation of others answer is if cursor not in last position then also it delete the last character that limitation is removed in this answer\nWrite down at your on click of button</p>\n\n<pre><code>int end = ((EditText)findViewById(R.id.one)).getSelectionEnd();\n if(end&gt;0){\n           SpannableStringBuilder selectedStr = new SpannableStringBuilder(((EditText) findViewById(R.id.one)).getText());\n           selectedStr.replace(end - 1, end, \"\");\n           ((EditText) findViewById(R.id.one)).setText(selectedStr);\n           ((EditText) findViewById(R.id.one)).setSelection(end-1);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11873281,"reputation":89,"user_id":8688932,"display_name":"Vikas Kumar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663951200,"creation_date":1663951200,"answer_id":73830726,"question_id":22308085,"body_markdown":"You can delete last character using this,\r\n\r\nKotlin\r\n```\r\nif (etSearch.text.toString().isNotEmpty()) {\r\n    etSearch.text = Editable.Factory.getInstance().newEditable((etSearch.text.delete(etSearch.text.toString().length-1, etSearch.text.toString().length)))\r\n}\r\n```","title":"Android EditText - Delete the last letter with a button","body":"<p>You can delete last character using this,</p>\n<p>Kotlin</p>\n<pre><code>if (etSearch.text.toString().isNotEmpty()) {\n    etSearch.text = Editable.Factory.getInstance().newEditable((etSearch.text.delete(etSearch.text.toString().length-1, etSearch.text.toString().length)))\n}\n</code></pre>\n"}],"owner":{"account_id":3495087,"reputation":1063,"user_id":2923589,"accept_rate":77,"display_name":"Tamas Koos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6069,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":22308192,"answer_count":5,"score":5,"last_activity_date":1663951200,"creation_date":1394475323,"question_id":22308085,"body_markdown":"I have to buttons that writes A and B to an edittext. If there is something in the edittext how can I delete the last letters with the &quot;Del&quot; button?\r\nMy layout:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/buttonb&quot;\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_below=&quot;@+id/buttona&quot;\r\n        android:text=&quot;@string/buttonb&quot;\r\n        android:textSize=&quot;50sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/buttona&quot;\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:text=&quot;@string/buttona&quot;\r\n        android:textSize=&quot;50sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n    &lt;Button\r\n        android:id=&quot;@+id/buttondel&quot;\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:text=&quot;@string/buttondel&quot;\r\n        android:textSize=&quot;50sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editText&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:ems=&quot;58&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:inputType=&quot;text&quot; &gt;\r\n\r\n        &lt;requestFocus /&gt;\r\n    &lt;/EditText&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\nAnd my java:\r\n    \r\n    package com.koostamas.keyboard;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.app.Activity;\r\n\r\n    public class MainActivity extends Activity implements OnClickListener {\r\n\r\n    Button buttona, buttonb;\r\n    EditText editText;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    editText = (EditText) findViewById(R.id.editText);\r\n    \r\n    addListenerOnButton();\r\n    }\r\n\r\n\r\n       public void addListenerOnButton() {\r\n\r\n    buttona = (Button) findViewById(R.id.buttona);\r\n    buttona.setOnClickListener(this);\r\n    buttona.getText();\r\n    buttonb = (Button) findViewById(R.id.buttonb);\r\n    buttonb.setOnClickListener(this);\r\n    buttonb.getText();\r\n\r\n       }\r\n\r\n    public void onClick(View v) {\r\n\r\n        Button buttona = (Button)v;\r\n        editText.setText(editText.getText().toString()+buttona.getText().toString());\r\n\r\n        \r\n    }\r\n    \r\n    public void onClick1(View v) {\r\n\r\n        Button buttonb = (Button)v;\r\n        editText.setText(editText.getText().toString()+buttonb.getText().toString());\r\n\r\n        \r\n    }\r\n    }\r\n\r\nSo I want to make it. Please help me!\r\nThanks in advance.","title":"Android EditText - Delete the last letter with a button","body":"<p>I have to buttons that writes A and B to an edittext. If there is something in the edittext how can I delete the last letters with the \"Del\" button?\nMy layout:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".MainActivity\" &gt;\n\n&lt;Button\n    android:id=\"@+id/buttonb\"\n    android:layout_width=\"100dp\"\n    android:layout_height=\"100dp\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_below=\"@+id/buttona\"\n    android:text=\"@string/buttonb\"\n    android:textSize=\"50sp\"\n    android:textStyle=\"bold\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/buttona\"\n    android:layout_width=\"100dp\"\n    android:layout_height=\"100dp\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_centerVertical=\"true\"\n    android:text=\"@string/buttona\"\n    android:textSize=\"50sp\"\n    android:textStyle=\"bold\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/buttondel\"\n    android:layout_width=\"100dp\"\n    android:layout_height=\"100dp\"\n    android:layout_alignParentRight=\"true\"\n    android:layout_centerVertical=\"true\"\n    android:text=\"@string/buttondel\"\n    android:textSize=\"50sp\"\n    android:textStyle=\"bold\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/editText\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_alignParentTop=\"true\"\n    android:ems=\"58\"\n    android:textSize=\"20sp\"\n    android:textStyle=\"bold\"\n    android:inputType=\"text\" &gt;\n\n    &lt;requestFocus /&gt;\n&lt;/EditText&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>And my java:</p>\n\n<pre><code>package com.koostamas.keyboard;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.app.Activity;\n\npublic class MainActivity extends Activity implements OnClickListener {\n\nButton buttona, buttonb;\nEditText editText;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\neditText = (EditText) findViewById(R.id.editText);\n\naddListenerOnButton();\n}\n\n\n   public void addListenerOnButton() {\n\nbuttona = (Button) findViewById(R.id.buttona);\nbuttona.setOnClickListener(this);\nbuttona.getText();\nbuttonb = (Button) findViewById(R.id.buttonb);\nbuttonb.setOnClickListener(this);\nbuttonb.getText();\n\n   }\n\npublic void onClick(View v) {\n\n    Button buttona = (Button)v;\n    editText.setText(editText.getText().toString()+buttona.getText().toString());\n\n\n}\n\npublic void onClick1(View v) {\n\n    Button buttonb = (Button)v;\n    editText.setText(editText.getText().toString()+buttonb.getText().toString());\n\n\n}\n}\n</code></pre>\n\n<p>So I want to make it. Please help me!\nThanks in advance.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":3,"creation_date":1663946278,"post_id":73829779,"comment_id":130366461,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1663949506,"post_id":73829779,"comment_id":130367660,"body_markdown":"You want to make a *launcher* app, so that&#39;s what you&#39;ll have to search for. You might find some tutorials for the absolute basics, but I wouldn&#39;t expect much more than that - you&#39;re looking at a fairly large project, especially if you want to add that many components","body":"You want to make a <i>launcher</i> app, so that&#39;s what you&#39;ll have to search for. You might find some tutorials for the absolute basics, but I wouldn&#39;t expect much more than that - you&#39;re looking at a fairly large project, especially if you want to add that many components"},{"owner":{"account_id":9444262,"reputation":21,"user_id":7023619,"display_name":"raul g h"},"score":0,"creation_date":1663950818,"post_id":73829779,"comment_id":130368067,"body_markdown":"@cactustictacs thank you very much, the keyword i needed was &quot;launcher app&quot;, and yes i believes that is a large project, but i&#39;m trying to start new things in programming, i will do my best :) ... thank you again :)","body":"@cactustictacs thank you very much, the keyword i needed was &quot;launcher app&quot;, and yes i believes that is a large project, but i&#39;m trying to start new things in programming, i will do my best :) ... thank you again :)"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1663957078,"post_id":73829779,"comment_id":130369773,"body_markdown":"@raulgh well if you&#39;re up for it, there&#39;s a bunch of Github launcher projects you can take a look at! e.g. https://github.com/topics/android-launcher No idea what they&#39;re like or anything, but they&#39;re there if you want to see how people did a particular thing","body":"@raulgh well if you&#39;re up for it, there&#39;s a bunch of Github launcher projects you can take a look at! e.g. <a href=\"https://github.com/topics/android-launcher\" rel=\"nofollow noreferrer\">github.com/topics/android-launcher</a> No idea what they&#39;re like or anything, but they&#39;re there if you want to see how people did a particular thing"}],"answers":[{"tags":[],"owner":{"account_id":9444262,"reputation":21,"user_id":7023619,"display_name":"raul g h"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663951083,"creation_date":1663951083,"answer_id":73830701,"question_id":73829779,"body_markdown":"[@cactustictacs][1] helped me in comments, i just need to built a &quot;launcher app&quot; (An app launcher replaces the stock user interface for organizing the home screen and app icons predominantly in the Android world)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/13598222/cactustictacs","title":"What are the steps to build a theme for android devices, override the other app&#39;s icons, create a special clock, create a side bar apps, java | kotlin","body":"<p><a href=\"https://stackoverflow.com/users/13598222/cactustictacs\">@cactustictacs</a> helped me in comments, i just need to built a &quot;launcher app&quot; (An app launcher replaces the stock user interface for organizing the home screen and app icons predominantly in the Android world)</p>\n"}],"owner":{"account_id":9444262,"reputation":21,"user_id":7023619,"display_name":"raul g h"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663951083,"creation_date":1663945818,"question_id":73829779,"body_markdown":"[android theme example][1] check the example, I&#39;m looking for something like that, I just need the steps, libraries, links, courses or anything could help.\r\nthank you for advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F9ffo.jpg","title":"What are the steps to build a theme for android devices, override the other app&#39;s icons, create a special clock, create a side bar apps, java | kotlin","body":"<p><a href=\"https://i.stack.imgur.com/F9ffo.jpg\" rel=\"nofollow noreferrer\">android theme example</a> check the example, I'm looking for something like that, I just need the steps, libraries, links, courses or anything could help.\nthank you for advance.</p>\n"},{"tags":["java","android","flutter","sdk","build.gradle"],"comments":[{"owner":{"account_id":17927188,"reputation":87,"user_id":13025514,"display_name":"Jovane Mullings"},"score":0,"creation_date":1658288058,"post_id":72531960,"comment_id":129011695,"body_markdown":"did your find a solution?","body":"did your find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":19491799,"reputation":114,"user_id":14259868,"display_name":"suhas_rkms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663950760,"creation_date":1663950760,"answer_id":73830655,"question_id":72531960,"body_markdown":"The error here was I had not linked my java path to flutter SDK. You can know more about it at [ How to change java version for flutter package?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66853635/how-to-change-java-version-for-flutter-package#:~:text=Go%20to%20File%20%3E%20Project%20Structure,JDK%20in%20the%20text%20box.","title":"You need Java 11 or higher to build your app with this version of Gradle?","body":"<p>The error here was I had not linked my java path to flutter SDK. You can know more about it at <a href=\"https://stackoverflow.com/questions/66853635/how-to-change-java-version-for-flutter-package#:%7E:text=Go%20to%20File%20%3E%20Project%20Structure,JDK%20in%20the%20text%20box.\"> How to change java version for flutter package?</a></p>\n"}],"owner":{"account_id":19491799,"reputation":114,"user_id":14259868,"display_name":"suhas_rkms"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3055,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73830655,"answer_count":1,"score":1,"last_activity_date":1663950760,"creation_date":1654608061,"question_id":72531960,"body_markdown":"Was building app using flutter and vs code ,I had **not installed android studio** can i know how to upgrade Java version OpenJDK Runtime Environment.\r\n\r\nMy java version\r\n\r\n    C:\\Android\\cmdline-tools\\tools&gt;java -version\r\n    java version &quot;17&quot; 2021-09-14 LTS\r\n    Java(TM) SE Runtime Environment (build 17+35-LTS-2724)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing)\r\n\r\nVersion displaying in `flutter doctor -v` \r\n\r\n    • Android SDK at C:\\Android\\\r\n    • Platform android-29, build-tools 28.0.3\r\n    • ANDROID_HOME = C:\\Android\r\n    • Java binary at: C:\\Android\\openjdk\\bin\\java\r\n    • Java version OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_202-b08)\r\n    • All Android licenses accepted.\r\n\r\nThis [question][1] is of the same kind.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66980512/android-studio-error-android-gradle-plugin-requires-java-11-to-run-you-are-cur","title":"You need Java 11 or higher to build your app with this version of Gradle?","body":"<p>Was building app using flutter and vs code ,I had <strong>not installed android studio</strong> can i know how to upgrade Java version OpenJDK Runtime Environment.</p>\n<p>My java version</p>\n<pre><code>C:\\Android\\cmdline-tools\\tools&gt;java -version\njava version &quot;17&quot; 2021-09-14 LTS\nJava(TM) SE Runtime Environment (build 17+35-LTS-2724)\nJava HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing)\n</code></pre>\n<p>Version displaying in <code>flutter doctor -v</code></p>\n<pre><code>• Android SDK at C:\\Android\\\n• Platform android-29, build-tools 28.0.3\n• ANDROID_HOME = C:\\Android\n• Java binary at: C:\\Android\\openjdk\\bin\\java\n• Java version OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_202-b08)\n• All Android licenses accepted.\n</code></pre>\n<p>This <a href=\"https://stackoverflow.com/questions/66980512/android-studio-error-android-gradle-plugin-requires-java-11-to-run-you-are-cur\">question</a> is of the same kind.</p>\n"},{"tags":["java","multithreading","jersey","httpconnection","cancellation"],"comments":[{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":0,"creation_date":1400088174,"post_id":23660327,"comment_id":36344432,"body_markdown":"Is it the upload of the data that takes that long or its processing on the server?","body":"Is it the upload of the data that takes that long or its processing on the server?"},{"owner":{"account_id":307471,"reputation":1726,"user_id":618775,"accept_rate":75,"display_name":"Sheldon Warkentin"},"score":0,"creation_date":1400089011,"post_id":23660327,"comment_id":36344955,"body_markdown":"@isnot2bad It is the upload of the data. Let&#39;s say a 20MB file, on a slow connection, could take quite some time to upload.","body":"@isnot2bad It is the upload of the data. Let&#39;s say a 20MB file, on a slow connection, could take quite some time to upload."},{"owner":{"account_id":2172484,"reputation":1395,"user_id":1924081,"accept_rate":76,"display_name":"dalvarezmartinez1"},"score":0,"creation_date":1428655559,"post_id":23660327,"comment_id":47264435,"body_markdown":"Same problem here, in 2015 I keep wondering why do people create libs with no clear cancelling mechanism. I think I will go with Apache Http client.","body":"Same problem here, in 2015 I keep wondering why do people create libs with no clear cancelling mechanism. I think I will go with Apache Http client."},{"owner":{"account_id":11722489,"reputation":124,"user_id":8581009,"display_name":"Dan Serbyn"},"score":0,"creation_date":1701479995,"post_id":23660327,"comment_id":136784865,"body_markdown":"Now I wonder if the Apache HTTP client listens for interruptions...","body":"Now I wonder if the Apache HTTP client listens for interruptions..."},{"owner":{"account_id":11722489,"reputation":124,"user_id":8581009,"display_name":"Dan Serbyn"},"score":0,"creation_date":1701482637,"post_id":23660327,"comment_id":136785040,"body_markdown":"Looks like Java v16 introduced cancelable futures which might help if you&#39;re okay with cancelling the specific HTTP request thread.\nhttps://bugs.openjdk.org/browse/JDK-8252515","body":"Looks like Java v16 introduced cancelable futures which might help if you&#39;re okay with cancelling the specific HTTP request thread. <a href=\"https://bugs.openjdk.org/browse/JDK-8252515\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8252515</a>"},{"owner":{"account_id":11722489,"reputation":124,"user_id":8581009,"display_name":"Dan Serbyn"},"score":0,"creation_date":1701483140,"post_id":23660327,"comment_id":136785078,"body_markdown":"Also looks like OkHTTP has added support for listening for thread interruptions:\nhttps://github.com/square/okhttp/issues/6611","body":"Also looks like OkHTTP has added support for listening for thread interruptions: <a href=\"https://github.com/square/okhttp/issues/6611\" rel=\"nofollow noreferrer\">github.com/square/okhttp/issues/6611</a>"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442169264,"creation_date":1442169264,"answer_id":32553163,"question_id":23660327,"body_markdown":"&gt; I am wondering if there is a better solution (perhaps when creating the Client) that correctly handles interruptible I/O without using a RuntimeException.\r\n\r\nYeah, interrupting the thread will only work if the code is watching for the interrupts or calling other methods (such as `Thread.sleep(...)`) that watch for it.\r\n\r\nThrowing an exception out of listener doesn&#39;t sound like a bad idea.  I would certainly create your own `RuntimeException` class such as `TimeoutRuntimeException` or something so you can specifically catch and handle it.\r\n\r\nAnother thing to do would be to close the underlying IO stream that is being written to which would cause an `IOException` but I&#39;m not familiar with Jersey so I&#39;m not sure if you can get access to the connection.\r\n\r\nAh, here&#39;s an idea.  Instead of putting the `File`, how about putting some sort of extension on a `BufferedInputStream` that is reading from the `File` but also has a timeout.  So Jersey would be reading from the buffer and at some point it would throw an `IOException` if the timeout expires.\r\n","title":"Interrupt a long running Jersey Client operation","body":"<blockquote>\n  <p>I am wondering if there is a better solution (perhaps when creating the Client) that correctly handles interruptible I/O without using a RuntimeException.</p>\n</blockquote>\n\n<p>Yeah, interrupting the thread will only work if the code is watching for the interrupts or calling other methods (such as <code>Thread.sleep(...)</code>) that watch for it.</p>\n\n<p>Throwing an exception out of listener doesn't sound like a bad idea.  I would certainly create your own <code>RuntimeException</code> class such as <code>TimeoutRuntimeException</code> or something so you can specifically catch and handle it.</p>\n\n<p>Another thing to do would be to close the underlying IO stream that is being written to which would cause an <code>IOException</code> but I'm not familiar with Jersey so I'm not sure if you can get access to the connection.</p>\n\n<p>Ah, here's an idea.  Instead of putting the <code>File</code>, how about putting some sort of extension on a <code>BufferedInputStream</code> that is reading from the <code>File</code> but also has a timeout.  So Jersey would be reading from the buffer and at some point it would throw an <code>IOException</code> if the timeout expires.</p>\n"},{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663950639,"creation_date":1663950639,"answer_id":73830639,"question_id":23660327,"body_markdown":"As of Jersey 2.35, the above API has changed. A timeout has been introduces in the client builder which can set read timeout. If the server takes too long to respond, the underlying socket will timeout. However, if the server starts sending the response, it shall not timeout. This can be utilized, ***if*** the server does not start sending partial response, which depends on the server implementation.\r\n\r\n\r\n    \t\t    client=(JerseyClient)JerseyClientBuilder\r\n\t\t    \t\t\t\t\t\t.newBuilder()\r\n\t\t    \t\t\t\t\t\t.connectTimeout(1*1000, TimeUnit.MILLISECONDS)\r\n\t\t    \t\t\t\t\t\t.readTimeout(5*1000, TimeUnit.MILLISECONDS).build()\r\n\r\nThe current filters and interceptors are for data only and the solution posted in the original question will not work with filters and interceptors (*though I admit I may have missed something there*).\r\n\r\nAnother way is to get hold of the underlying HttpUrlConnection (for standard Jersey client configuration) and it seems to be possible with org.glassfish.jersey.client.HttpUrlConnectorProvider\r\n\r\n    \t\tHttpUrlConnectorProvider httpConProvider=new HttpUrlConnectorProvider();\r\n\t\t    httpConProvider.connectionFactory(new CustomHttpUrlConnectionfactory());\r\n\r\n\tpublic static class CustomHttpUrlConnectionfactory implements \r\n    HttpUrlConnectorProvider.ConnectionFactory{\r\n\r\n\t\t@Override\r\n\t\tpublic HttpURLConnection getConnection(URL url) throws IOException {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;CustomHttpUrlConnectionfactory ..... called&quot;);\r\n\t\t\t\r\n\t\t\treturn (HttpURLConnection)url.openConnection();\r\n\t\t\t\r\n\t\t}//getConnection closing\r\n\r\n\t}//inner-class closing\r\n\r\nI did try the connection provider approach, however, I could not get that working. The idea would be to keep reference to the connection by some means (thread id etc.) and close it if the communication is taking too long. The primary problem was I could not find a way to register the provider with the client. The standard \r\n\r\n    .register(httpConProvider)\r\n\r\nmechanism does not seem to work (or perhaps it is not supposed to work like that) and the documentation is a bit sketchy in that direction.","title":"Interrupt a long running Jersey Client operation","body":"<p>As of Jersey 2.35, the above API has changed. A timeout has been introduces in the client builder which can set read timeout. If the server takes too long to respond, the underlying socket will timeout. However, if the server starts sending the response, it shall not timeout. This can be utilized, <em><strong>if</strong></em> the server does not start sending partial response, which depends on the server implementation.</p>\n<pre><code>            client=(JerseyClient)JerseyClientBuilder\n                                .newBuilder()\n                                .connectTimeout(1*1000, TimeUnit.MILLISECONDS)\n                                .readTimeout(5*1000, TimeUnit.MILLISECONDS).build()\n</code></pre>\n<p>The current filters and interceptors are for data only and the solution posted in the original question will not work with filters and interceptors (<em>though I admit I may have missed something there</em>).</p>\n<p>Another way is to get hold of the underlying HttpUrlConnection (for standard Jersey client configuration) and it seems to be possible with org.glassfish.jersey.client.HttpUrlConnectorProvider</p>\n<pre><code>        HttpUrlConnectorProvider httpConProvider=new HttpUrlConnectorProvider();\n        httpConProvider.connectionFactory(new CustomHttpUrlConnectionfactory());\n\npublic static class CustomHttpUrlConnectionfactory implements \nHttpUrlConnectorProvider.ConnectionFactory{\n\n    @Override\n    public HttpURLConnection getConnection(URL url) throws IOException {\n        \n        System.out.println(&quot;CustomHttpUrlConnectionfactory ..... called&quot;);\n        \n        return (HttpURLConnection)url.openConnection();\n        \n    }//getConnection closing\n\n}//inner-class closing\n</code></pre>\n<p>I did try the connection provider approach, however, I could not get that working. The idea would be to keep reference to the connection by some means (thread id etc.) and close it if the communication is taking too long. The primary problem was I could not find a way to register the provider with the client. The standard</p>\n<pre><code>.register(httpConProvider)\n</code></pre>\n<p>mechanism does not seem to work (or perhaps it is not supposed to work like that) and the documentation is a bit sketchy in that direction.</p>\n"}],"owner":{"account_id":307471,"reputation":1726,"user_id":618775,"accept_rate":75,"display_name":"Sheldon Warkentin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1663950639,"creation_date":1400085177,"question_id":23660327,"body_markdown":"I am using the Oracle Jersey `Client`, and am trying to cancel a long running `get` or `put` operation.\r\n\r\nThe `Client` is constructed as:\r\n--\r\n\r\n    JacksonJsonProvider provider = new JacksonJsonProvider(new ObjectMapper());\r\n    ClientConfig clientConfig = new DefaultClientConfig();\r\n    clientConfig.getSingletons().add(provider);\r\n    Client client = Client.create(clientConfig);\r\n\r\n\r\nThe following code is executed on a worker thread:\r\n--\r\n\r\n\r\n    File bigZipFile = new File(&quot;/home/me/everything.zip&quot;);\r\n    \r\n    WebResource resource = client.resource(&quot;https://putfileshere.com&quot;);\r\n    Builder builder = resource.getRequestBuilder();\r\n    \r\n    builder.type(&quot;application/zip&quot;).put(bigZipFile); //This will take a while!\r\n\r\n\r\nI want to cancel this long-running `put`. When I try to interrupt the worker thread, the `put` operation continues to run. From what I can see, the Jersey Client makes no attempt to check for `Thread.interrupted()`.\r\n\r\nI see the same behavior when using an `AsyncWebResource` instead of `WebResource` and using `Future.cancel(true)` on the `Builder.put(..)` call.\r\n\r\nSo far, the only solution I have come up with to interrupt this is throwing a `RuntimeException` in a [ContainerListener][1]:\r\n\r\n\r\n    client.addFilter(new ConnectionListenerFilter(\r\n      new OnStartConnectionListener(){\r\n        public ContainerListener onStart(ClientRequest cr) {\r\n          return new ContainerListener(){\r\n            public void onSent(long delta, long bytes) {\r\n\r\n              //If the thread has been interrupted, stop the operation\r\n              if (Thread.interrupted()) {\r\n                throw new RuntimeException(&quot;Upload or Download canceled&quot;);\r\n              }\r\n\r\n              //Report progress otherwise\r\n              \r\n            }\r\n          }...    \r\n\r\nI am wondering if there is a better solution (perhaps when creating the `Client`) that correctly handles interruptible I/O without using a `RuntimeException`.\r\n\r\n  [1]: https://blogs.oracle.com/PavelBucek/entry/using_containerlistener","title":"Interrupt a long running Jersey Client operation","body":"<p>I am using the Oracle Jersey <code>Client</code>, and am trying to cancel a long running <code>get</code> or <code>put</code> operation.</p>\n\n<h2>The <code>Client</code> is constructed as:</h2>\n\n<pre><code>JacksonJsonProvider provider = new JacksonJsonProvider(new ObjectMapper());\nClientConfig clientConfig = new DefaultClientConfig();\nclientConfig.getSingletons().add(provider);\nClient client = Client.create(clientConfig);\n</code></pre>\n\n<h2>The following code is executed on a worker thread:</h2>\n\n<pre><code>File bigZipFile = new File(\"/home/me/everything.zip\");\n\nWebResource resource = client.resource(\"https://putfileshere.com\");\nBuilder builder = resource.getRequestBuilder();\n\nbuilder.type(\"application/zip\").put(bigZipFile); //This will take a while!\n</code></pre>\n\n<p>I want to cancel this long-running <code>put</code>. When I try to interrupt the worker thread, the <code>put</code> operation continues to run. From what I can see, the Jersey Client makes no attempt to check for <code>Thread.interrupted()</code>.</p>\n\n<p>I see the same behavior when using an <code>AsyncWebResource</code> instead of <code>WebResource</code> and using <code>Future.cancel(true)</code> on the <code>Builder.put(..)</code> call.</p>\n\n<p>So far, the only solution I have come up with to interrupt this is throwing a <code>RuntimeException</code> in a <a href=\"https://blogs.oracle.com/PavelBucek/entry/using_containerlistener\" rel=\"nofollow\">ContainerListener</a>:</p>\n\n<pre><code>client.addFilter(new ConnectionListenerFilter(\n  new OnStartConnectionListener(){\n    public ContainerListener onStart(ClientRequest cr) {\n      return new ContainerListener(){\n        public void onSent(long delta, long bytes) {\n\n          //If the thread has been interrupted, stop the operation\n          if (Thread.interrupted()) {\n            throw new RuntimeException(\"Upload or Download canceled\");\n          }\n\n          //Report progress otherwise\n\n        }\n      }...    \n</code></pre>\n\n<p>I am wondering if there is a better solution (perhaps when creating the <code>Client</code>) that correctly handles interruptible I/O without using a <code>RuntimeException</code>.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1663952374,"post_id":73829983,"comment_id":130368544,"body_markdown":"Some obvious questions arise: what event would trigger the computation and display?  Do the text fields have a default entry of &quot;0&quot; or empty?  Any character entry in any of the 3 input fields? this would mean as I enter say &quot;10&quot;, &quot;7&quot;, &quot;10&quot; (which would mean 10*7*10) it could lead to display of &quot;1&quot;, &quot;10&quot;, &quot;70&quot;, &quot;70&quot; and then &quot;700&quot;.  (nothing wrong with that but good to know.)","body":"Some obvious questions arise: what event would trigger the computation and display?  Do the text fields have a default entry of &quot;0&quot; or empty?  Any character entry in any of the 3 input fields? this would mean as I enter say &quot;10&quot;, &quot;7&quot;, &quot;10&quot; (which would mean 10*7*10) it could lead to display of &quot;1&quot;, &quot;10&quot;, &quot;70&quot;, &quot;70&quot; and then &quot;700&quot;.  (nothing wrong with that but good to know.)"}],"answers":[{"tags":[],"owner":{"account_id":4959304,"reputation":1055,"user_id":3991002,"display_name":"Bhuvnesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663947292,"creation_date":1663947292,"answer_id":73830073,"question_id":73829983,"body_markdown":"Use Android text watcher to listen text change in edit text and apply condition in it and process to output view.\r\n\r\nhttps://developer.android.com/reference/android/text/TextWatcher\r\n\r\n[How to Implement TextWatcher in Android?][1]\r\n\r\n\r\n  [1]: https://www.google.com/amp/s/www.geeksforgeeks.org/how-to-implement-textwatcher-in-android/amp/","title":"Automatically show result of a calculator","body":"<p>Use Android text watcher to listen text change in edit text and apply condition in it and process to output view.</p>\n<p><a href=\"https://developer.android.com/reference/android/text/TextWatcher\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/text/TextWatcher</a></p>\n<p><a href=\"https://www.google.com/amp/s/www.geeksforgeeks.org/how-to-implement-textwatcher-in-android/amp/\" rel=\"nofollow noreferrer\">How to Implement TextWatcher in Android?</a></p>\n"}],"owner":{"account_id":26424057,"reputation":11,"user_id":20071310,"display_name":"HFix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663949978,"creation_date":1663946894,"question_id":73829983,"body_markdown":"I&#39;m new to android and java. I&#39;ve built a calculator and I need it to show the result automatically when I put 3 inputs but I don&#39;t know how to. \r\n\r\n    package com.example.animate_hf;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.app.AppCompatDelegate;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.WindowManager;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    \r\n    public class menu extends AppCompatActivity {\r\n        private EditText txtnr1;\r\n        private EditText editTextNumber2;\r\n        private EditText editTextNumber3;\r\n        private TextView textView5;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_menu);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            getSupportActionBar().hide();\r\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n    \r\n            txtnr1 = findViewById(R.id.txtnr1);\r\n            editTextNumber2 = findViewById(R.id.editTextNumber2);\r\n            editTextNumber3 = findViewById(R.id.editTextNumber3);\r\n            textView5 = findViewById(R.id.textView5);\r\n    \r\n        }\r\n    \r\n        public void multiply(View view) {\r\n            int valor1 = Integer.parseInt(txtnr1.getText().toString());\r\n            int valor2 = Integer.parseInt(editTextNumber2.getText().toString());\r\n            int valor3 = Integer.parseInt(editTextNumber3.getText().toString());\r\n            textView5.setText(String.valueOf((valor1 * valor2 * valor3)*24));\r\n        }\r\n\r\n\r\nI added multiply to a textview (through the attribute onclick) and it worked but I want it to show automatically in a TextView.","title":"Automatically show result of a calculator","body":"<p>I'm new to android and java. I've built a calculator and I need it to show the result automatically when I put 3 inputs but I don't know how to.</p>\n<pre><code>package com.example.animate_hf;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.app.AppCompatDelegate;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class menu extends AppCompatActivity {\n    private EditText txtnr1;\n    private EditText editTextNumber2;\n    private EditText editTextNumber3;\n    private TextView textView5;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_menu);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n\n        txtnr1 = findViewById(R.id.txtnr1);\n        editTextNumber2 = findViewById(R.id.editTextNumber2);\n        editTextNumber3 = findViewById(R.id.editTextNumber3);\n        textView5 = findViewById(R.id.textView5);\n\n    }\n\n    public void multiply(View view) {\n        int valor1 = Integer.parseInt(txtnr1.getText().toString());\n        int valor2 = Integer.parseInt(editTextNumber2.getText().toString());\n        int valor3 = Integer.parseInt(editTextNumber3.getText().toString());\n        textView5.setText(String.valueOf((valor1 * valor2 * valor3)*24));\n    }\n</code></pre>\n<p>I added multiply to a textview (through the attribute onclick) and it worked but I want it to show automatically in a TextView.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":3,"creation_date":1663945434,"post_id":73829679,"comment_id":130366114,"body_markdown":"Could you reduce the amount of code you post in your example to just that needed to show the problem that somebody else could run. e.g. write a separate main function that retrieves the json and shows the error.","body":"Could you reduce the amount of code you post in your example to just that needed to show the problem that somebody else could run. e.g. write a separate main function that retrieves the json and shows the error."},{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":1,"creation_date":1663945465,"post_id":73829679,"comment_id":130366119,"body_markdown":"You&#39;re using `JSONArrayRequest` but the response isn&#39;t a JSON array, it&#39;s a JSON object.","body":"You&#39;re using <code>JSONArrayRequest</code> but the response isn&#39;t a JSON array, it&#39;s a JSON object."},{"owner":{"account_id":18563946,"reputation":13,"user_id":13527342,"display_name":"Josh Bradley"},"score":0,"creation_date":1663945918,"post_id":73829679,"comment_id":130366320,"body_markdown":"@bhspencer Apolgies im fairly new to stackoverflow i will bare this in mind for next time! :)","body":"@bhspencer Apolgies im fairly new to stackoverflow i will bare this in mind for next time! :)"},{"owner":{"account_id":18563946,"reputation":13,"user_id":13527342,"display_name":"Josh Bradley"},"score":0,"creation_date":1663945982,"post_id":73829679,"comment_id":130366350,"body_markdown":"@Thomas thanks for the comment so what would i need to change specifically?","body":"@Thomas thanks for the comment so what would i need to change specifically?"}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663949951,"creation_date":1663949951,"answer_id":73830531,"question_id":73829679,"body_markdown":"In your extractData() method you have the following which implies that you are expecting the service response to be a JSONArray: \r\n\r\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, ...\r\n\r\nIf you look at the body of the Exception you will see that the service is returning an object (which contains an array).\r\n\r\n    { &quot;count&quot;:1154\r\n    , &quot;next&quot;:&quot;https:\\/\\/pokeapi.co\\/api\\/v2\\/pokemon?offset=151&amp;limit=151&quot;\r\n    , &quot;previous&quot;:null\r\n    , &quot;results&quot;:[ ... some array of values]\r\n      ... you cut it off so there may be more fields ... \r\n    }\r\n\r\nAs such, it looks like you should accept a JSONObject and then extract the value associated with the `results` key.  I&#39;m not sure on the syntax but probably something like...\r\n\r\n    JsonObjectRequest request = new JsonObjectRequest(...\r\n        @Override\r\n        public void onResponse(JSONObject response) {\r\n            JSONArray results = response.getJSONArray(&quot;results&quot;);\r\n            ....","title":"Im getting this error while trying to get data from JSON","body":"<p>In your extractData() method you have the following which implies that you are expecting the service response to be a JSONArray:</p>\n<pre><code>JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, ...\n</code></pre>\n<p>If you look at the body of the Exception you will see that the service is returning an object (which contains an array).</p>\n<pre><code>{ &quot;count&quot;:1154\n, &quot;next&quot;:&quot;https:\\/\\/pokeapi.co\\/api\\/v2\\/pokemon?offset=151&amp;limit=151&quot;\n, &quot;previous&quot;:null\n, &quot;results&quot;:[ ... some array of values]\n  ... you cut it off so there may be more fields ... \n}\n</code></pre>\n<p>As such, it looks like you should accept a JSONObject and then extract the value associated with the <code>results</code> key.  I'm not sure on the syntax but probably something like...</p>\n<pre><code>JsonObjectRequest request = new JsonObjectRequest(...\n    @Override\n    public void onResponse(JSONObject response) {\n        JSONArray results = response.getJSONArray(&quot;results&quot;);\n        ....\n</code></pre>\n"}],"owner":{"account_id":18563946,"reputation":13,"user_id":13527342,"display_name":"Josh Bradley"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663949951,"creation_date":1663945295,"question_id":73829679,"body_markdown":"```\r\npackage com.joshbradley.pokemonapp.activities;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonArrayRequest;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.joshbradley.pokemonapp.R;\r\nimport com.joshbradley.pokemonapp.adapters.Adapter;\r\nimport com.joshbradley.pokemonapp.helperclass.HelperClass;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.security.SecureRandom;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.net.ssl.HostnameVerifier;\r\nimport javax.net.ssl.HttpsURLConnection;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLSession;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509TrustManager;\r\n\r\npublic class HomeScreen extends AppCompatActivity {\r\n\r\n//VARIABLES\r\n\r\n    RecyclerView recyclerView;\r\n    List&lt;HelperClass&gt; helperClasses;\r\n    Adapter adapter;\r\n\r\n    private static String JSON_URL_TEST = &quot;https://pokeapi.co/api/v2/pokemon?limit=151&quot;;\r\n```\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home_screen);\r\n\r\n//RECYCLER AND VIEW\r\n\r\n        recyclerView = findViewById(R.id.home_screen_recycler);\r\n        helperClasses = new ArrayList&lt;&gt;();\r\n\r\n//CALLING EXTRACT DATA METHOD\r\n        extractData();\r\n\r\n\r\n\r\n    }\r\n//EXTRACT DATA &amp; REQUESTS\r\n\r\n    private void extractData() {\r\n\r\n        RequestQueue queue = Volley.newRequestQueue(this);\r\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, &quot;https://pokeapi.co/api/v2/pokemon?limit=151&quot;, null, new Response.Listener&lt;JSONArray&gt;() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                for (int i = 0; i &lt; response.length(); i++){\r\n                    try {\r\n                        JSONObject jsonObject = response.getJSONObject(i);\r\n\r\n                        HelperClass helperClass = new HelperClass();\r\n\r\n                        helperClass.setName(jsonObject.getString(&quot;name&quot;));\r\n                        helperClass.setImageUrl(jsonObject.getString(&quot;url&quot;));\r\n                        helperClasses.add(helperClass);\r\n\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n```\r\n//ADAPTER AND LAYOUT MANAGER\r\n\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n                adapter = new Adapter(getApplicationContext(), helperClasses);\r\n                recyclerView.setAdapter(adapter);\r\n            }\r\n\r\n// ERROR RESPONSE \r\n\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                error.printStackTrace();\r\n            }\r\n        });\r\n\r\n        queue.add(jsonArrayRequest);\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n// MY ERROR\r\ncom.android.volley.ParseError: org.json.JSONException: Value {&quot;count&quot;:1154,&quot;next&quot;:&quot;https:\\/\\/pokeapi.co\\/api\\/v2\\/pokemon?offset=151&amp;limit=151&quot;,&quot;previous&quot;:null,&quot;results&quot;:[{&quot;name&quot;:&quot;bulbasaur&quot;,&quot;url&quot;:&quot;https:\\/\\/pokeapi.co\\/api\\/v2\\/pokemon\\/1\\/&quot;},{&quot;name&quot;:&quot;ivysaur&quot;,&quot;url&quot;:&quot;https:\\/\\/pokeapi.co\\/api\\/v2\\/pokemon\\/2\\/&quot;},{&quot;name&quot;:&quot;venusaur&quot;,&quot;url&quot;:&quot;https:\\/\\/pokeapi.co\\/api\\/v2\\/pokemon\\/3\\/&quot;},\r\n```","title":"Im getting this error while trying to get data from JSON","body":"<pre><code>package com.joshbradley.pokemonapp.activities;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonArrayRequest;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\nimport com.joshbradley.pokemonapp.R;\nimport com.joshbradley.pokemonapp.adapters.Adapter;\nimport com.joshbradley.pokemonapp.helperclass.HelperClass;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.security.SecureRandom;\nimport java.security.cert.X509Certificate;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\npublic class HomeScreen extends AppCompatActivity {\n\n//VARIABLES\n\n    RecyclerView recyclerView;\n    List&lt;HelperClass&gt; helperClasses;\n    Adapter adapter;\n\n    private static String JSON_URL_TEST = &quot;https://pokeapi.co/api/v2/pokemon?limit=151&quot;;\n</code></pre>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home_screen);\n</code></pre>\n<p>//RECYCLER AND VIEW</p>\n<pre><code>    recyclerView = findViewById(R.id.home_screen_recycler);\n    helperClasses = new ArrayList&lt;&gt;();\n</code></pre>\n<p>//CALLING EXTRACT DATA METHOD\nextractData();</p>\n<pre><code>}\n</code></pre>\n<p>//EXTRACT DATA &amp; REQUESTS</p>\n<pre><code>private void extractData() {\n\n    RequestQueue queue = Volley.newRequestQueue(this);\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, &quot;https://pokeapi.co/api/v2/pokemon?limit=151&quot;, null, new Response.Listener&lt;JSONArray&gt;() {\n        @Override\n        public void onResponse(JSONArray response) {\n            for (int i = 0; i &lt; response.length(); i++){\n                try {\n                    JSONObject jsonObject = response.getJSONObject(i);\n\n                    HelperClass helperClass = new HelperClass();\n\n                    helperClass.setName(jsonObject.getString(&quot;name&quot;));\n                    helperClass.setImageUrl(jsonObject.getString(&quot;url&quot;));\n                    helperClasses.add(helperClass);\n\n\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n</code></pre>\n<pre><code>//ADAPTER AND LAYOUT MANAGER\n\n                recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n                adapter = new Adapter(getApplicationContext(), helperClasses);\n                recyclerView.setAdapter(adapter);\n            }\n\n// ERROR RESPONSE \n\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                error.printStackTrace();\n            }\n        });\n\n        queue.add(jsonArrayRequest);\n\n\n    }\n\n\n}\n// MY ERROR\ncom.android.volley.ParseError: org.json.JSONException: Value {&quot;count&quot;:1154,&quot;next&quot;:&quot;https:\\/\\/pokeapi.co\\/api\\/v2\\/pokemon?offset=151&amp;limit=151&quot;,&quot;previous&quot;:null,&quot;results&quot;:[{&quot;name&quot;:&quot;bulbasaur&quot;,&quot;url&quot;:&quot;https:\\/\\/pokeapi.co\\/api\\/v2\\/pokemon\\/1\\/&quot;},{&quot;name&quot;:&quot;ivysaur&quot;,&quot;url&quot;:&quot;https:\\/\\/pokeapi.co\\/api\\/v2\\/pokemon\\/2\\/&quot;},{&quot;name&quot;:&quot;venusaur&quot;,&quot;url&quot;:&quot;https:\\/\\/pokeapi.co\\/api\\/v2\\/pokemon\\/3\\/&quot;},\n</code></pre>\n"},{"tags":["java","networking","snmp"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1460720349,"post_id":36645080,"comment_id":60885474,"body_markdown":"If it&#39;s not a typo, the leading dot `&quot;.1.3.6.1.2.1.1.1&quot;` () might be the reason.","body":"If it&#39;s not a typo, the leading dot <code>&quot;.1.3.6.1.2.1.1.1&quot;</code> () might be the reason."},{"owner":{"account_id":4921760,"reputation":855,"user_id":3964160,"accept_rate":67,"display_name":"PeerNet"},"score":0,"creation_date":1460722767,"post_id":36645080,"comment_id":60887243,"body_markdown":"@SubOptimal I tried with and without dot. It did not affetct","body":"@SubOptimal I tried with and without dot. It did not affetct"}],"answers":[{"tags":[],"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460800557,"creation_date":1460800557,"answer_id":36662645,"question_id":36645080,"body_markdown":"There is no guarantee that this `.1.3.6.1.2.1.1.1.0` will give you the name you want. Please check Cisco manual for this model to see if there is a way to configure that before you make the queries. ","title":"Getting device name and model via snmp","body":"<p>There is no guarantee that this <code>.1.3.6.1.2.1.1.1.0</code> will give you the name you want. Please check Cisco manual for this model to see if there is a way to configure that before you make the queries. </p>\n"},{"tags":[],"owner":{"account_id":8287795,"reputation":29,"user_id":6230423,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461158376,"creation_date":1461158376,"answer_id":36745145,"question_id":36645080,"body_markdown":"The given oid has not to do what you expect. You have to learn the correct oid from manual","title":"Getting device name and model via snmp","body":"<p>The given oid has not to do what you expect. You have to learn the correct oid from manual</p>\n"},{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461392771,"creation_date":1461392771,"answer_id":36807454,"question_id":36645080,"body_markdown":"As you are getting problem with `oid` and `want to get device name and model via snmp`, then I will prefer you to check which are available in your network. Then you can choose.\r\n\r\nYou can use Nmap&#39;s [snmp-brute][1] command, like below\r\n\r\n    nmap -sU -p161 --script snmp-brute --script-args snmplist=community.lst 10.20.X.XX/24\r\n\r\n\r\nOn the other hand, \r\n---\r\nyou can use [this script][2], which generates an XML file containing snmp-enabled devices and their respective communities.\r\nThis script also accepts IP addresses and multiple community names as input files.\r\n\r\nResource Link:\r\n---\r\n\r\n 1. [How to find all the snmp enabled devices in my network?][3]\r\n 2. [1.3.6.1.2.1.1 - SNMP MIB-2 System][4]\r\n\r\n\r\n  [1]: https://nmap.org/nsedoc/scripts/snmp-brute.html\r\n  [2]: http://opennms.org/wiki/Script%3A_Multiple_SNMP_Community_String\r\n  [3]: https://serverfault.com/questions/415521/how-to-find-all-the-snmp-enabled-devices-in-my-network\r\n  [4]: http://www.alvestrand.no/objectid/1.3.6.1.2.1.1.html","title":"Getting device name and model via snmp","body":"<p>As you are getting problem with <code>oid</code> and <code>want to get device name and model via snmp</code>, then I will prefer you to check which are available in your network. Then you can choose.</p>\n\n<p>You can use Nmap's <a href=\"https://nmap.org/nsedoc/scripts/snmp-brute.html\" rel=\"nofollow noreferrer\">snmp-brute</a> command, like below</p>\n\n<pre><code>nmap -sU -p161 --script snmp-brute --script-args snmplist=community.lst 10.20.X.XX/24\n</code></pre>\n\n<h2>On the other hand,</h2>\n\n<p>you can use <a href=\"http://opennms.org/wiki/Script%3A_Multiple_SNMP_Community_String\" rel=\"nofollow noreferrer\">this script</a>, which generates an XML file containing snmp-enabled devices and their respective communities.\nThis script also accepts IP addresses and multiple community names as input files.</p>\n\n<h2>Resource Link:</h2>\n\n<ol>\n<li><a href=\"https://serverfault.com/questions/415521/how-to-find-all-the-snmp-enabled-devices-in-my-network\">How to find all the snmp enabled devices in my network?</a></li>\n<li><a href=\"http://www.alvestrand.no/objectid/1.3.6.1.2.1.1.html\" rel=\"nofollow noreferrer\">1.3.6.1.2.1.1 - SNMP MIB-2 System</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8255746,"reputation":1490,"user_id":6219718,"display_name":"Yuri Lachin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1461656736,"creation_date":1461656736,"answer_id":36858468,"question_id":36645080,"body_markdown":"I would suggest to start with making sure that you really get snmp response from a switch. I suspect that snmp is not fully configured on a switch and your code gets timeout instead of snmp response.\r\n\r\nExample:\r\n\r\n`$ tcpdump udp and port 161`\r\n\r\n`tcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\nlistening on eth0, link-type EN10MB (Ethernet), capture size 262144 bytes\r\n10:36:26.980138 IP host.example.com.41226 &gt; rtr.example.com.snmp:  GetRequest(28)  system.sysName.0\r\n10:36:26.983971 IP rtr.example.com.snmp &gt; host.example.com.41226:  GetResponse(43)  system.sysName.0=&quot;rtr.example.com&quot;`\r\n\r\nSince you are doing snmp GET requests your oids must end with &quot;.0&quot;.\r\nDevice name is returned in response to oid sysName.0\r\n\r\n`$ snmptranslate -IR -On sysName.0\r\n.1.3.6.1.2.1.1.5.0`\r\n\r\nExample:\r\n\r\n`$ snmpget -v1 -c public rtr sysName.0\r\nSNMPv2-MIB::sysName.0 = STRING: rtr.example.com`\r\n\r\nThe oid you are using:\r\n \r\n`$ snmptranslate -IR -On sysDescr.0\r\n.1.3.6.1.2.1.1.1.0`\r\n\r\nis unlikely to give device name or even exact model.\r\n\r\n`$ snmpget -v1 -c public rtr sysDescr.0\r\nSNMPv2-MIB::sysDescr.0 = STRING: Cisco Internetwork Operating System Software \r\nIOS (tm) C2600 Software (C2600-IPBASE-M), Version 12.3(6c), RELEASE SOFTWARE (fc1)\r\nCopyright (c) 1986-2004 by cisco Systems, Inc.\r\nCompiled Tue 20-Jul-04 05:24 by kellythw`\r\n\r\nDevice model can be requested with sysObjectID:\r\n\r\n`$ snmptranslate -IR -On sysObjectID.0\r\n.1.3.6.1.2.1.1.2.0`\r\n\r\n`$ snmpget -v1 -c public rtr sysObjectID.0\r\nSNMPv2-MIB::sysObjectID.0 = OID: SNMPv2-SMI::enterprises.9.1.469`\r\n\r\nYou can decode the response with lookup in `CISCO-PRODUCTS-MIB`\r\n","title":"Getting device name and model via snmp","body":"<p>I would suggest to start with making sure that you really get snmp response from a switch. I suspect that snmp is not fully configured on a switch and your code gets timeout instead of snmp response.</p>\n\n<p>Example:</p>\n\n<p><code>$ tcpdump udp and port 161</code></p>\n\n<p><code>tcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on eth0, link-type EN10MB (Ethernet), capture size 262144 bytes\n10:36:26.980138 IP host.example.com.41226 &gt; rtr.example.com.snmp:  GetRequest(28)  system.sysName.0\n10:36:26.983971 IP rtr.example.com.snmp &gt; host.example.com.41226:  GetResponse(43)  system.sysName.0=\"rtr.example.com\"</code></p>\n\n<p>Since you are doing snmp GET requests your oids must end with \".0\".\nDevice name is returned in response to oid sysName.0</p>\n\n<p><code>$ snmptranslate -IR -On sysName.0\n.1.3.6.1.2.1.1.5.0</code></p>\n\n<p>Example:</p>\n\n<p><code>$ snmpget -v1 -c public rtr sysName.0\nSNMPv2-MIB::sysName.0 = STRING: rtr.example.com</code></p>\n\n<p>The oid you are using:</p>\n\n<p><code>$ snmptranslate -IR -On sysDescr.0\n.1.3.6.1.2.1.1.1.0</code></p>\n\n<p>is unlikely to give device name or even exact model.</p>\n\n<p><code>$ snmpget -v1 -c public rtr sysDescr.0\nSNMPv2-MIB::sysDescr.0 = STRING: Cisco Internetwork Operating System Software \nIOS (tm) C2600 Software (C2600-IPBASE-M), Version 12.3(6c), RELEASE SOFTWARE (fc1)\nCopyright (c) 1986-2004 by cisco Systems, Inc.\nCompiled Tue 20-Jul-04 05:24 by kellythw</code></p>\n\n<p>Device model can be requested with sysObjectID:</p>\n\n<p><code>$ snmptranslate -IR -On sysObjectID.0\n.1.3.6.1.2.1.1.2.0</code></p>\n\n<p><code>$ snmpget -v1 -c public rtr sysObjectID.0\nSNMPv2-MIB::sysObjectID.0 = OID: SNMPv2-SMI::enterprises.9.1.469</code></p>\n\n<p>You can decode the response with lookup in <code>CISCO-PRODUCTS-MIB</code></p>\n"},{"tags":[],"owner":{"account_id":4806345,"reputation":41,"user_id":3881262,"display_name":"Amit Lopes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466620503,"creation_date":1466620503,"answer_id":37975829,"question_id":36645080,"body_markdown":"@PeerNet I executed your code, the only change I made was adding a &#39;0&#39; to the OID i.e &#39;.1.3.6.1.2.1.1.1.0&#39;.\r\n\r\nTry Paessler SNMP Tester, and it will give you all the OIDs that are on the switch, and accordingly you can use those in your code.\r\n\r\nhttps://www.paessler.com/tools/snmptester\r\n\r\nYou can try this code I found on http://www.jitendrazaa.com/blog/java/snmp/create-snmp-client-in-java-using-snmp4j/\r\n\r\n    \r\n\tpublic class SNMPManager \r\n\t{\r\n\t\r\n\t\tSnmp snmp = null;\r\n\t\tString address = null;\r\n\t\t\r\n\t\t/**\r\n\t\t* Constructor\r\n\t\t* @param add\r\n\t\t*/\r\n\t\tpublic SNMPManager(String add)\r\n\t\t{\r\n\t\t\taddress = add;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) throws IOException \r\n\t\t{\r\n\t\t\t/**\r\n\t\t\t* Port 161 is used for Read and Other operations\r\n\t\t\t* Port 162 is used for the trap generation\r\n\t\t\t*/\r\n\t\t\tSNMPManager client = new SNMPManager(&quot;udp:127.0.0.1/161&quot;);\r\n\t\t\t//System.out.println(client);\r\n\t\t\tclient.start();\r\n\t\t\t/**\r\n\t\t\t* OID - .1.3.6.1.2.1.1.1.0 =&gt; SysDec\r\n\t\t\t* OID - .1.3.6.1.2.1.1.5.0 =&gt; SysName\r\n\t\t\t* =&gt; MIB explorer will be useful here, as discussed in previous article\r\n\t\t\t*/\r\n\t\t\tString sysDescr = client.getAsString(new OID(&quot;1.3.6.1.2.1.1.1.0&quot;));\r\n\t\t\tSystem.out.println(sysDescr);\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t* Start the Snmp session. If you forget the listen() method you will not\r\n\t\t* get any answers because the communication is asynchronous\r\n\t\t* and the listen() method listens for answers.\r\n\t\t* @throws IOException\r\n\t\t*/\r\n\t\tvoid start() throws IOException \r\n\t\t{\r\n\t\t\tTransportMapping transport = new DefaultUdpTransportMapping();\r\n\t\t\tsnmp = new Snmp(transport);\r\n\t\t\t// Do not forget this line!\r\n\t\t\ttransport.listen();\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t* Method which takes a single OID and returns the response from the agent as a String.\r\n\t\t* @param oid\r\n\t\t* @return\r\n\t\t* @throws IOException\r\n\t\t*/\r\n\t\tpublic String getAsString(OID oid) throws IOException \r\n\t\t{\r\n\t\t\tResponseEvent event = get(new OID[] { oid });\r\n\t\t\t//System.out.println(oid);\r\n\t\t\treturn event.getResponse().get(0).getVariable().toString();\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t* This method is capable of handling multiple OIDs\r\n\t\t* @param oids\r\n\t\t* @return\r\n\t\t* @throws IOException\r\n\t\t*/\r\n\t\tpublic ResponseEvent get(OID oids[]) throws IOException \r\n\t\t{\r\n\t\t\tPDU pdu = new PDU();\r\n\t\t\tfor (OID oid : oids) \r\n\t\t\t{\r\n\t\t\t\tpdu.add(new VariableBinding(oid));\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tpdu.setType(PDU.GET);\r\n\t\t\tResponseEvent event = snmp.send(pdu, getTarget(), null);\r\n\t\t\tif(event != null) \r\n\t\t\t{\r\n\t\t\t\treturn event;\r\n\t\t\t}\r\n\t\t\tthrow new RuntimeException(&quot;GET timed out&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t* This method returns a Target, which contains information about\r\n\t\t* where the data should be fetched and how.\r\n\t\t* @return\r\n\t\t*/\r\n\t\tprivate Target getTarget() \r\n\t\t{\r\n\t\t\tAddress targetAddress = GenericAddress.parse(address);\r\n\t\t\tCommunityTarget target = new CommunityTarget();\r\n\t\t\ttarget.setCommunity(new OctetString(&quot;public&quot;));\r\n\t\t\ttarget.setAddress(targetAddress);\r\n\t\t\ttarget.setRetries(2);\r\n\t\t\ttarget.setTimeout(1500);\r\n\t\t\ttarget.setVersion(SnmpConstants.version2c);\r\n\t\t\treturn target;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n","title":"Getting device name and model via snmp","body":"<p>@PeerNet I executed your code, the only change I made was adding a '0' to the OID i.e '.1.3.6.1.2.1.1.1.0'.</p>\n\n<p>Try Paessler SNMP Tester, and it will give you all the OIDs that are on the switch, and accordingly you can use those in your code.</p>\n\n<p><a href=\"https://www.paessler.com/tools/snmptester\" rel=\"nofollow\">https://www.paessler.com/tools/snmptester</a></p>\n\n<p>You can try this code I found on <a href=\"http://www.jitendrazaa.com/blog/java/snmp/create-snmp-client-in-java-using-snmp4j/\" rel=\"nofollow\">http://www.jitendrazaa.com/blog/java/snmp/create-snmp-client-in-java-using-snmp4j/</a></p>\n\n<pre><code>public class SNMPManager \n{\n\n    Snmp snmp = null;\n    String address = null;\n\n    /**\n    * Constructor\n    * @param add\n    */\n    public SNMPManager(String add)\n    {\n        address = add;\n    }\n\n    public static void main(String[] args) throws IOException \n    {\n        /**\n        * Port 161 is used for Read and Other operations\n        * Port 162 is used for the trap generation\n        */\n        SNMPManager client = new SNMPManager(\"udp:127.0.0.1/161\");\n        //System.out.println(client);\n        client.start();\n        /**\n        * OID - .1.3.6.1.2.1.1.1.0 =&gt; SysDec\n        * OID - .1.3.6.1.2.1.1.5.0 =&gt; SysName\n        * =&gt; MIB explorer will be useful here, as discussed in previous article\n        */\n        String sysDescr = client.getAsString(new OID(\"1.3.6.1.2.1.1.1.0\"));\n        System.out.println(sysDescr);\n    }\n\n    /**\n    * Start the Snmp session. If you forget the listen() method you will not\n    * get any answers because the communication is asynchronous\n    * and the listen() method listens for answers.\n    * @throws IOException\n    */\n    void start() throws IOException \n    {\n        TransportMapping transport = new DefaultUdpTransportMapping();\n        snmp = new Snmp(transport);\n        // Do not forget this line!\n        transport.listen();\n    }\n\n    /**\n    * Method which takes a single OID and returns the response from the agent as a String.\n    * @param oid\n    * @return\n    * @throws IOException\n    */\n    public String getAsString(OID oid) throws IOException \n    {\n        ResponseEvent event = get(new OID[] { oid });\n        //System.out.println(oid);\n        return event.getResponse().get(0).getVariable().toString();\n    }\n\n    /**\n    * This method is capable of handling multiple OIDs\n    * @param oids\n    * @return\n    * @throws IOException\n    */\n    public ResponseEvent get(OID oids[]) throws IOException \n    {\n        PDU pdu = new PDU();\n        for (OID oid : oids) \n        {\n            pdu.add(new VariableBinding(oid));\n\n        }\n        pdu.setType(PDU.GET);\n        ResponseEvent event = snmp.send(pdu, getTarget(), null);\n        if(event != null) \n        {\n            return event;\n        }\n        throw new RuntimeException(\"GET timed out\");\n    }\n\n    /**\n    * This method returns a Target, which contains information about\n    * where the data should be fetched and how.\n    * @return\n    */\n    private Target getTarget() \n    {\n        Address targetAddress = GenericAddress.parse(address);\n        CommunityTarget target = new CommunityTarget();\n        target.setCommunity(new OctetString(\"public\"));\n        target.setAddress(targetAddress);\n        target.setRetries(2);\n        target.setTimeout(1500);\n        target.setVersion(SnmpConstants.version2c);\n        return target;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26424633,"reputation":1,"user_id":20071792,"display_name":"user20071792"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663949622,"creation_date":1663949455,"answer_id":73830441,"question_id":36645080,"body_markdown":"If you run a query using OID .1.3.6.1.2.1.1.5.0 (sysName) against a Cisco router or switch running a version of IOS you will get the values for these two configuration statements concatenated together:\r\n\r\nrouter#hostname &quot;hostname&quot;\r\n\r\n\r\nrouter#ip domain-name &quot;domain_name&quot;\r\n\r\nThus, querying using the above OID will yield &quot;hostname&quot;.&quot;domain_name&quot;.  If &quot;ip domain-name&quot; is not set with a value you&#39;ll simply get &quot;hostname&quot;.\r\n\r\nIf all you want is the hostname you need to query .1.3.6.1.4.1.9.2.1.3.0., which is in CISCO-MIB.mib.  Querying .1.3.6.1.4.1.9.2.1.4.0 will return &quot;domain_name&quot;.\r\n\r\nIf the device is running NX-OS then querying those two OIDs won&#39;t work and I don&#39;t know what will (although I currently have a query open to Cisco on that).","title":"Getting device name and model via snmp","body":"<p>If you run a query using OID .1.3.6.1.2.1.1.5.0 (sysName) against a Cisco router or switch running a version of IOS you will get the values for these two configuration statements concatenated together:</p>\n<p>router#hostname &quot;hostname&quot;</p>\n<p>router#ip domain-name &quot;domain_name&quot;</p>\n<p>Thus, querying using the above OID will yield &quot;hostname&quot;.&quot;domain_name&quot;.  If &quot;ip domain-name&quot; is not set with a value you'll simply get &quot;hostname&quot;.</p>\n<p>If all you want is the hostname you need to query .1.3.6.1.4.1.9.2.1.3.0., which is in CISCO-MIB.mib.  Querying .1.3.6.1.4.1.9.2.1.4.0 will return &quot;domain_name&quot;.</p>\n<p>If the device is running NX-OS then querying those two OIDs won't work and I don't know what will (although I currently have a query open to Cisco on that).</p>\n"}],"owner":{"account_id":4921760,"reputation":855,"user_id":3964160,"accept_rate":67,"display_name":"PeerNet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19498,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":36858468,"answer_count":6,"score":1,"last_activity_date":1663949622,"creation_date":1460717228,"question_id":36645080,"body_markdown":"I am trying to get switches device and model name through snmp. When I try to get Nortell or Juniper switch, it works fine but Cisco switches cause a problem. I use this oid value: &quot;.1.3.6.1.2.1.1.1.0&quot; ,  but I tried &quot;1.3.6.1.2.1.1.1&quot;  also. And return value is null. \r\nHere is my code:\r\n\r\n    package list;\r\n\r\n    public class DeviceInfo {\r\n        private static String ipAddress = &quot;10.20.X.XX&quot;;\r\n\r\n        private static String port = &quot;161&quot;;\r\n\r\n        private static String oidValue = &quot;.1.3.6.1.2.1.1.1&quot;;\r\n\r\n        private static int snmpVersion = SnmpConstants.version1; // or version2c\r\n\r\n        private static String community = &quot;myreadcommunity&quot;;\r\n\r\n        public static void main(String[] args) throws Exception {\r\n\r\n            TransportMapping transport = new DefaultUdpTransportMapping();\r\n            transport.listen();\r\n\r\n            CommunityTarget comtarget = new CommunityTarget();\r\n            comtarget.setCommunity(new OctetString(community));\r\n            comtarget.setVersion(snmpVersion);\r\n            comtarget.setAddress(new UdpAddress(ipAddress + &quot;/&quot; + port));\r\n            comtarget.setRetries(2);\r\n            comtarget.setTimeout(1000);\r\n\r\n            PDU pdu = new PDU();\r\n            pdu.add(new VariableBinding(new OID(oidValue)));\r\n            pdu.setType(PDU.GET);\r\n            pdu.setRequestID(new Integer32(1));\r\n\r\n            Snmp snmp = new Snmp(transport);\r\n\r\n            System.out.println(&quot;Sending request.&quot;);\r\n            ResponseEvent response = snmp.get(pdu, comtarget);\r\n\r\n            if (response != null) {\r\n\r\n                System.out.println(&quot;Got results.&quot;);\r\n                PDU responsePDU = response.getResponse();\r\n\r\n                if (responsePDU != null) {\r\n                    int errorStatus = responsePDU.getErrorStatus();\r\n                    int errorIndex = responsePDU.getErrorIndex();\r\n                    String errorStatusText = responsePDU.getErrorStatusText();\r\n\r\n                    if (errorStatus == PDU.noError) {\r\n                        System.out.println(&quot;Switch Name: = &quot; + responsePDU.getVariableBindings());\r\n                        System.out.println(responsePDU.size());\r\n                    } else {\r\n                        System.out.println(&quot;Error&quot;);\r\n                        System.out.println(&quot;Error code: &quot; + errorStatus);\r\n                        System.out.println(&quot;Error Name: &quot; + errorStatusText);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;NULL&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Error: Timeout &quot;);\r\n            }\r\n            snmp.close();\r\n        }\r\n    }","title":"Getting device name and model via snmp","body":"<p>I am trying to get switches device and model name through snmp. When I try to get Nortell or Juniper switch, it works fine but Cisco switches cause a problem. I use this oid value: \".1.3.6.1.2.1.1.1.0\" ,  but I tried \"1.3.6.1.2.1.1.1\"  also. And return value is null. \nHere is my code:</p>\n\n<pre><code>package list;\n\npublic class DeviceInfo {\n    private static String ipAddress = \"10.20.X.XX\";\n\n    private static String port = \"161\";\n\n    private static String oidValue = \".1.3.6.1.2.1.1.1\";\n\n    private static int snmpVersion = SnmpConstants.version1; // or version2c\n\n    private static String community = \"myreadcommunity\";\n\n    public static void main(String[] args) throws Exception {\n\n        TransportMapping transport = new DefaultUdpTransportMapping();\n        transport.listen();\n\n        CommunityTarget comtarget = new CommunityTarget();\n        comtarget.setCommunity(new OctetString(community));\n        comtarget.setVersion(snmpVersion);\n        comtarget.setAddress(new UdpAddress(ipAddress + \"/\" + port));\n        comtarget.setRetries(2);\n        comtarget.setTimeout(1000);\n\n        PDU pdu = new PDU();\n        pdu.add(new VariableBinding(new OID(oidValue)));\n        pdu.setType(PDU.GET);\n        pdu.setRequestID(new Integer32(1));\n\n        Snmp snmp = new Snmp(transport);\n\n        System.out.println(\"Sending request.\");\n        ResponseEvent response = snmp.get(pdu, comtarget);\n\n        if (response != null) {\n\n            System.out.println(\"Got results.\");\n            PDU responsePDU = response.getResponse();\n\n            if (responsePDU != null) {\n                int errorStatus = responsePDU.getErrorStatus();\n                int errorIndex = responsePDU.getErrorIndex();\n                String errorStatusText = responsePDU.getErrorStatusText();\n\n                if (errorStatus == PDU.noError) {\n                    System.out.println(\"Switch Name: = \" + responsePDU.getVariableBindings());\n                    System.out.println(responsePDU.size());\n                } else {\n                    System.out.println(\"Error\");\n                    System.out.println(\"Error code: \" + errorStatus);\n                    System.out.println(\"Error Name: \" + errorStatusText);\n                }\n            } else {\n                System.out.println(\"NULL\");\n            }\n        } else {\n            System.out.println(\"Error: Timeout \");\n        }\n        snmp.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","integer","set","hashset","short"],"answers":[{"tags":[],"owner":{"account_id":22639091,"reputation":1,"user_id":16815533,"display_name":"Manoj_Djokovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663342665,"creation_date":1663339257,"answer_id":73746551,"question_id":73132939,"body_markdown":"We can use `Collections addAll()` method here.\r\n\r\n    Collections.addAll(setx,(short) number);","title":"Adding Int array values in the set of type short","body":"<p>We can use <code>Collections addAll()</code> method here.</p>\n<pre><code>Collections.addAll(setx,(short) number);\n</code></pre>\n"}],"owner":{"account_id":25905030,"reputation":1,"user_id":19630217,"display_name":"Rahela Sadaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663949217,"creation_date":1658901814,"question_id":73132939,"body_markdown":"```\r\npublic class Solution {\r\n    public Set&lt;Short&gt; setx = new HashSet&lt;&gt;();\r\n\r\n    public void AddAll(int[] numbers) {\r\n        for (int number : numbers) {\r\n            setx.addAll((short) number);\r\n        }\r\n    }\r\n}\r\n```\r\nThis is throwing this error:\r\n```\r\nSolution.java:8: error: incompatible types: short cannot be converted to Collection&lt;? extends Short&gt;\r\nsetx.addAll((short) number);\r\n^\r\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n1 error\r\n```\r\nHow should I change the code for this to run?","title":"Adding Int array values in the set of type short","body":"<pre><code>public class Solution {\n    public Set&lt;Short&gt; setx = new HashSet&lt;&gt;();\n\n    public void AddAll(int[] numbers) {\n        for (int number : numbers) {\n            setx.addAll((short) number);\n        }\n    }\n}\n</code></pre>\n<p>This is throwing this error:</p>\n<pre><code>Solution.java:8: error: incompatible types: short cannot be converted to Collection&lt;? extends Short&gt;\nsetx.addAll((short) number);\n^\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n1 error\n</code></pre>\n<p>How should I change the code for this to run?</p>\n"},{"tags":["java","arrays","parent-child","grandchild"],"comments":[{"owner":{"account_id":6808041,"reputation":2384,"user_id":5456522,"display_name":"The Scientific Method"},"score":0,"creation_date":1663888601,"post_id":73821511,"comment_id":130351589,"body_markdown":"one way you can do is, you can create getName and override it in RedBird","body":"one way you can do is, you can create getName and override it in RedBird"},{"owner":{"account_id":23361584,"reputation":23,"user_id":17433720,"display_name":"Bread Bouquet"},"score":0,"creation_date":1663888891,"post_id":73821511,"comment_id":130351638,"body_markdown":"elaborate. Just make a method with return name?","body":"elaborate. Just make a method with return name?"},{"owner":{"account_id":6808041,"reputation":2384,"user_id":5456522,"display_name":"The Scientific Method"},"score":0,"creation_date":1663888968,"post_id":73821511,"comment_id":130351654,"body_markdown":"yeah in both classes","body":"yeah in both classes"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1663890111,"post_id":73821511,"comment_id":130351837,"body_markdown":"The fact that you declare the type `Animal` makes Java pick up the `name` associated with that class, the one that says &quot;Animal&quot;.  That you declare the type `Animal[]` doesn&#39;t matter, it&#39;s still type `Animal`.  I don&#39;t know if that helps you to understand but it&#39;s part of the the Java typing system.  Using a method as TSM suggests helps because methods of the same name override, which gives different behavior and something more like what you probably want.","body":"The fact that you declare the type <code>Animal</code> makes Java pick up the <code>name</code> associated with that class, the one that says &quot;Animal&quot;.  That you declare the type <code>Animal[]</code> doesn&#39;t matter, it&#39;s still type <code>Animal</code>.  I don&#39;t know if that helps you to understand but it&#39;s part of the the Java typing system.  Using a method as TSM suggests helps because methods of the same name override, which gives different behavior and something more like what you probably want."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1663890209,"post_id":73821511,"comment_id":130351851,"body_markdown":"Does this answer your question? [Java inheritance fields](https://stackoverflow.com/questions/43579567/java-inheritance-fields)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43579567/java-inheritance-fields\">Java inheritance fields</a>"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663949210,"creation_date":1663890390,"answer_id":73821666,"question_id":73821511,"body_markdown":"Another way to look at this is if you *don&#39;t* want this behavior, don&#39;t re-declare the field.  In other words, adding `String` declares a new field, and you don&#39;t want to do that.  You can use an initializer block or a constructor to assign a new name.\r\n\r\n    public class Animal {\r\n      String name = &quot;Animal&quot;;\r\n    }\r\n    \r\n    public class Bird extends Animal {\r\n      { name = &quot;Bird&quot;; }  // This is an initializer block\r\n    }\r\n    \r\n    public class RedBird extends Bird {\r\n      { name = &quot;Red Bird&quot;; }\r\n    }\r\n\r\nThis will print &quot;Red Bird&quot;.\r\n","title":"Array of type Grandparent can&#39;t access elements from Grandchild","body":"<p>Another way to look at this is if you <em>don't</em> want this behavior, don't re-declare the field.  In other words, adding <code>String</code> declares a new field, and you don't want to do that.  You can use an initializer block or a constructor to assign a new name.</p>\n<pre><code>public class Animal {\n  String name = &quot;Animal&quot;;\n}\n\npublic class Bird extends Animal {\n  { name = &quot;Bird&quot;; }  // This is an initializer block\n}\n\npublic class RedBird extends Bird {\n  { name = &quot;Red Bird&quot;; }\n}\n</code></pre>\n<p>This will print &quot;Red Bird&quot;.</p>\n"},{"tags":[],"owner":{"account_id":20697545,"reputation":21,"user_id":15197430,"display_name":"Ozgun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663892335,"creation_date":1663892335,"answer_id":73821836,"question_id":73821511,"body_markdown":"    class Animal {\r\n        String name;\r\n        public Animal() {\r\n            name = &quot;Animal&quot;;\r\n        }\r\n    }\r\n\r\n    class Bird extends Animal {\r\n        public Bird() {\r\n            name = &quot;Bird&quot;;\r\n        }\r\n    }\r\n\r\n    class RedBird extends Bird {\r\n        public RedBird() {\r\n            name = &quot;RedBird&quot;;\r\n        }\r\n    }\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            Animal a = new RedBird();\r\n            System.out.println(a.name);\r\n        }\r\n    }","title":"Array of type Grandparent can&#39;t access elements from Grandchild","body":"<pre><code>class Animal {\n    String name;\n    public Animal() {\n        name = &quot;Animal&quot;;\n    }\n}\n\nclass Bird extends Animal {\n    public Bird() {\n        name = &quot;Bird&quot;;\n    }\n}\n\nclass RedBird extends Bird {\n    public RedBird() {\n        name = &quot;RedBird&quot;;\n    }\n}\n\nclass Main {\n    public static void main(String[] args) {\n        Animal a = new RedBird();\n        System.out.println(a.name);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23361584,"reputation":23,"user_id":17433720,"display_name":"Bread Bouquet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663949210,"creation_date":1663888380,"question_id":73821511,"body_markdown":"I&#39;ve created an array with a grandparent type, passed objects that are grandchildren of that type, but I can&#39;t access the elements from the child class. These aren&#39;t the exact things I&#39;m coding they are just examples.\r\n\r\nHere is the Grandparent\r\n\r\n    public class Animal {\r\n\r\n    String name = &quot;Animal&quot;;\r\n\r\n\r\n    }\r\nHere is the child class\r\n\r\n    public class Bird extends Animal {\r\n\r\n    String name = &quot;Bird&quot;;\r\n    \r\n    }\r\n\r\nHere is the Grandchild class\r\n\r\n    public class RedBird extends Bird {\r\n    String name = &quot;Red Bird&quot;;\r\n    \r\n    \r\n    \r\n    }\r\n\r\nThe problem I am encountering is this\r\n\r\n    public class Room {\r\n    public static void main(String args[]) {\r\n    \r\n    Animal[] anim = {new RedBird};\r\n    \r\n    System.out.println(Animal[0].name);\r\n    \r\n     }\r\n    }\r\n\r\nThe program will output the wrong thing\r\n\r\n    Animal\r\n\r\nDoes anybody know how I can fix this? Thanks!","title":"Array of type Grandparent can&#39;t access elements from Grandchild","body":"<p>I've created an array with a grandparent type, passed objects that are grandchildren of that type, but I can't access the elements from the child class. These aren't the exact things I'm coding they are just examples.</p>\n<p>Here is the Grandparent</p>\n<pre><code>public class Animal {\n\nString name = &quot;Animal&quot;;\n\n\n}\n</code></pre>\n<p>Here is the child class</p>\n<pre><code>public class Bird extends Animal {\n\nString name = &quot;Bird&quot;;\n\n}\n</code></pre>\n<p>Here is the Grandchild class</p>\n<pre><code>public class RedBird extends Bird {\nString name = &quot;Red Bird&quot;;\n\n\n\n}\n</code></pre>\n<p>The problem I am encountering is this</p>\n<pre><code>public class Room {\npublic static void main(String args[]) {\n\nAnimal[] anim = {new RedBird};\n\nSystem.out.println(Animal[0].name);\n\n }\n}\n</code></pre>\n<p>The program will output the wrong thing</p>\n<pre><code>Animal\n</code></pre>\n<p>Does anybody know how I can fix this? Thanks!</p>\n"},{"tags":["java","database","jpa"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1663713884,"post_id":73792970,"comment_id":130303795,"body_markdown":"You could concat the `tagsParam` list to a regex and use the corresponding function of your database. I can&#39;t say anything about the performance of this operation, though.","body":"You could concat the <code>tagsParam</code> list to a regex and use the corresponding function of your database. I can&#39;t say anything about the performance of this operation, though."},{"owner":{"account_id":26395304,"reputation":11,"user_id":20046536,"display_name":"Andrey"},"score":1,"creation_date":1663714952,"post_id":73792970,"comment_id":130303972,"body_markdown":"Thank you for your answer\nIt turned out to be much easier than I thought\n\n`Page&lt;Post&gt; findAllByTagsIn(List&lt;String&gt; tagsParam, Pageable pageable);`","body":"Thank you for your answer It turned out to be much easier than I thought  <code>Page&lt;Post&gt; findAllByTagsIn(List&lt;String&gt; tagsParam, Pageable pageable);</code>"}],"owner":{"account_id":26395304,"reputation":11,"user_id":20046536,"display_name":"Andrey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663949050,"creation_date":1663710372,"question_id":73792970,"body_markdown":"There is an entity Post that has field `List&lt;String&gt; tags`\r\n\r\n    @ElementCollection\r\n    @CollectionTable(\r\n            name = &quot;posts_tags&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;post_id&quot;, referencedColumnName = &quot;id&quot;))\r\n    @Column(name = &quot;tag&quot;, nullable = false)\r\n    private List&lt;String&gt; tags = new ArrayList&lt;&gt;();\r\n\r\nThere is PostRepositoty that has method \r\n\r\n    public interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\r\n\r\n    @Query(\r\n            &quot;&quot;&quot;\r\n              SELECT ...\r\n            &quot;&quot;&quot;\r\n        )\r\n        Page&lt;Post&gt; findAllByTagsContaining(List&lt;String&gt; tagsParam, Pageable pageable);\r\n    \r\n    \r\n    }\r\n\r\nIs it possible to get all the posts that have in its tags list at least one element from tagsParam with one only query? Could you help me in this please?\r\n","title":"How to find out if there are intersections of lists in one SQL query","body":"<p>There is an entity Post that has field <code>List&lt;String&gt; tags</code></p>\n<pre><code>@ElementCollection\n@CollectionTable(\n        name = &quot;posts_tags&quot;,\n        joinColumns = @JoinColumn(name = &quot;post_id&quot;, referencedColumnName = &quot;id&quot;))\n@Column(name = &quot;tag&quot;, nullable = false)\nprivate List&lt;String&gt; tags = new ArrayList&lt;&gt;();\n</code></pre>\n<p>There is PostRepositoty that has method</p>\n<pre><code>public interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\n\n@Query(\n        &quot;&quot;&quot;\n          SELECT ...\n        &quot;&quot;&quot;\n    )\n    Page&lt;Post&gt; findAllByTagsContaining(List&lt;String&gt; tagsParam, Pageable pageable);\n\n\n}\n</code></pre>\n<p>Is it possible to get all the posts that have in its tags list at least one element from tagsParam with one only query? Could you help me in this please?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":1,"creation_date":1556265860,"post_id":55863235,"comment_id":98386831,"body_markdown":"How is the framework suppose to know the difference between `/items/report` or `/items/images` and `/items/{itemId}`? How will it know that `report` or  `images` is not a value for `itemId` in the route `/items/{itemId}`? You would have to first declare a restriction for every _not-allowed-value_ such as `/items/report` and `/items/images` and then permit  `/items/{itemId}`.","body":"How is the framework suppose to know the difference between <code>&#47;items&#47;report</code> or <code>&#47;items&#47;images</code> and <code>&#47;items&#47;{itemId}</code>? How will it know that <code>report</code> or  <code>images</code> is not a value for <code>itemId</code> in the route <code>&#47;items&#47;{itemId}</code>? You would have to first declare a restriction for every <i>not-allowed-value</i> such as <code>&#47;items&#47;report</code> and <code>&#47;items&#47;images</code> and then permit  <code>&#47;items&#47;{itemId}</code>."},{"owner":{"account_id":11329927,"reputation":1855,"user_id":8307755,"display_name":"Yogi"},"score":0,"creation_date":1556265926,"post_id":55863235,"comment_id":98386860,"body_markdown":"For the rest request patteren, you need to put authenicated, like .antMatchers(&quot;/items/report&quot;).authenticated()","body":"For the rest request patteren, you need to put authenicated, like .antMatchers(&quot;/items/report&quot;).authenticated()"}],"answers":[{"tags":[],"owner":{"account_id":15820077,"reputation":545,"user_id":11414619,"display_name":"Rowi"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1556268644,"creation_date":1556266608,"answer_id":55863503,"question_id":55863235,"body_markdown":"You can try this, d represent itemId\r\n```java\r\nantMatchers(&quot;/items/{\\\\d+}&quot;).access(&quot;hasAnyAuthority(&#39;ROLE&#39;)&quot;)\r\n```\r\nif you want to give permit all\r\n\r\n```java\r\nantMatchers(&quot;/items/**&quot;).permitAll()\r\n```","title":"How to apply Spring Security AntMatchers pattern only to url with pathVariable","body":"<p>You can try this, d represent itemId</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>antMatchers(\"/items/{\\\\d+}\").access(\"hasAnyAuthority('ROLE')\")\n</code></pre>\n\n<p>if you want to give permit all</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>antMatchers(\"/items/**\").permitAll()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556267028,"creation_date":1556267028,"answer_id":55863601,"question_id":55863235,"body_markdown":"For more sophisticated matching, than an Ant pattern can do, use method based security on your controller or (better) service layer methods.","title":"How to apply Spring Security AntMatchers pattern only to url with pathVariable","body":"<p>For more sophisticated matching, than an Ant pattern can do, use method based security on your controller or (better) service layer methods.</p>\n"},{"tags":[],"owner":{"account_id":4767709,"reputation":1245,"user_id":3853405,"accept_rate":25,"display_name":"Jaspreet Jolly"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1663948796,"creation_date":1556276475,"answer_id":55866201,"question_id":55863235,"body_markdown":"According to the documentation for [`AntPathMatcher`](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html), you need to specify the path variable with the regex as per documentation:\r\n\r\n&gt; {spring:[a-z]+} matches the regexp [a-z]+ as a path variable named &quot;spring&quot;.\r\n\r\nIn your case it will be:\r\n\r\n    @Override\r\n        public void configure(final WebSecurity web) {\r\n            web\r\n               .ignoring()\r\n               .antMatchers(&quot;/items/{itemId:[\\\\d+]}&quot;)","title":"How to apply Spring Security AntMatchers pattern only to url with pathVariable","body":"<p>According to the documentation for <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html\" rel=\"nofollow noreferrer\"><code>AntPathMatcher</code></a>, you need to specify the path variable with the regex as per documentation:</p>\n<blockquote>\n<p>{spring:[a-z]+} matches the regexp [a-z]+ as a path variable named &quot;spring&quot;.</p>\n</blockquote>\n<p>In your case it will be:</p>\n<pre><code>@Override\n    public void configure(final WebSecurity web) {\n        web\n           .ignoring()\n           .antMatchers(&quot;/items/{itemId:[\\\\d+]}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14153850,"reputation":53,"user_id":10225154,"display_name":"Abd Qadr"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644903456,"creation_date":1644903456,"answer_id":71121548,"question_id":55863235,"body_markdown":"You can use @preAuthorize annotation on the handler method for that url in the controller or check out this link \r\nhttps://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/el-access.html","title":"How to apply Spring Security AntMatchers pattern only to url with pathVariable","body":"<p>You can use @preAuthorize annotation on the handler method for that url in the controller or check out this link\n<a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/el-access.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/el-access.html</a></p>\n"}],"owner":{"account_id":9927857,"reputation":1692,"user_id":7348815,"accept_rate":73,"display_name":"Aliaksei Stadnik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14907,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1663948796,"creation_date":1556265528,"question_id":55863235,"body_markdown":"I am using Spring boot and `WebSecurityConfigurerAdapter` to configure security. \r\n\r\nMethod to configure ignored security antMatches looks like this: \r\n\r\n```\r\n    @Override\r\n    public void configure(final WebSecurity web) {\r\n        web\r\n           .ignoring()\r\n           .antMatchers(&quot;/items&quot;)\r\n           .antMatchers(&quot;/items/{itemId}&quot;)\r\n```\r\nwhere `{itemId}` is in UUID format \r\n\r\nThe issues is that with this configuration endpoints like`/items/report`, `/items/images` are also opened, but they should not. \r\n\r\nIs there a way to apply ignoring rule only to uri with path variables ?\r\n\r\n\r\n\r\n","title":"How to apply Spring Security AntMatchers pattern only to url with pathVariable","body":"<p>I am using Spring boot and <code>WebSecurityConfigurerAdapter</code> to configure security. </p>\n\n<p>Method to configure ignored security antMatches looks like this: </p>\n\n<pre><code>    @Override\n    public void configure(final WebSecurity web) {\n        web\n           .ignoring()\n           .antMatchers(\"/items\")\n           .antMatchers(\"/items/{itemId}\")\n</code></pre>\n\n<p>where <code>{itemId}</code> is in UUID format </p>\n\n<p>The issues is that with this configuration endpoints like<code>/items/report</code>, <code>/items/images</code> are also opened, but they should not. </p>\n\n<p>Is there a way to apply ignoring rule only to uri with path variables ?</p>\n"},{"tags":["java","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":3315904,"reputation":9017,"user_id":2788297,"display_name":"zeppelin"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1583972512,"creation_date":1480977442,"answer_id":40984636,"question_id":40975354,"body_markdown":"Consider you have the following bindings defined:\r\n\r\n**ModuleC**:\r\n\r\n - C1\r\n\r\n**ModuleA**\r\n\r\n- A1\r\n- A2\r\n\r\n**ModuleB**\r\n\r\n- B1\r\n- B2\r\n\r\nNow when you do ```Guice.createInjector(new ModuleA(),new ModuleB())``` or ```Modules.combine(..)```,\r\nyour final list of bindings will be:\r\n\r\n - A1\r\n - A2\r\n - B1\r\n - B2\r\n - C1 (as inherited from A)\r\n - C1 (!) (as inherited from B)\r\n\r\nas C1 binding is listed twice, that creates a conflict and results in `CreationException`.\r\n\r\nBut if you use [Modules.override()](https://google.github.io/guice/api-docs/latest/javadoc/index.html?com/google/inject/Module.html) instead:\r\n\r\n&gt; Returns a builder that creates a module that overlays override modules over the given modules. If a key is bound in both sets of modules, only the binding from the override modules is kept.\r\n\r\nE.g. by doing \r\n\r\n    Modules.override(new ModuleA()).with(new ModuleB())\r\n\r\n\r\nYour final list of bindings will be as follows:\r\n\r\n - A1\r\n - A2\r\n - B1\r\n - B2\r\n - &lt;del&gt;C1 (as inherited from A)&lt;/del&gt;\r\n - C1 (as inherited from B)\r\n\r\nThe C1 binding inherited from **ModuleA** will be dropped in favor of the C1 binding as defined in **ModuleB**, thus resolving the conflict.\r\n\r\n","title":"Creating a guice injector with two different modules having similar dependencies","body":"<p>Consider you have the following bindings defined:</p>\n\n<p><strong>ModuleC</strong>:</p>\n\n<ul>\n<li>C1</li>\n</ul>\n\n<p><strong>ModuleA</strong></p>\n\n<ul>\n<li>A1</li>\n<li>A2</li>\n</ul>\n\n<p><strong>ModuleB</strong></p>\n\n<ul>\n<li>B1</li>\n<li>B2</li>\n</ul>\n\n<p>Now when you do <code>Guice.createInjector(new ModuleA(),new ModuleB())</code> or <code>Modules.combine(..)</code>,\nyour final list of bindings will be:</p>\n\n<ul>\n<li>A1</li>\n<li>A2</li>\n<li>B1</li>\n<li>B2</li>\n<li>C1 (as inherited from A)</li>\n<li>C1 (!) (as inherited from B)</li>\n</ul>\n\n<p>as C1 binding is listed twice, that creates a conflict and results in <code>CreationException</code>.</p>\n\n<p>But if you use <a href=\"https://google.github.io/guice/api-docs/latest/javadoc/index.html?com/google/inject/Module.html\" rel=\"noreferrer\">Modules.override()</a> instead:</p>\n\n<blockquote>\n  <p>Returns a builder that creates a module that overlays override modules over the given modules. If a key is bound in both sets of modules, only the binding from the override modules is kept.</p>\n</blockquote>\n\n<p>E.g. by doing </p>\n\n<pre><code>Modules.override(new ModuleA()).with(new ModuleB())\n</code></pre>\n\n<p>Your final list of bindings will be as follows:</p>\n\n<ul>\n<li>A1</li>\n<li>A2</li>\n<li>B1</li>\n<li>B2</li>\n<li><del>C1 (as inherited from A)</del></li>\n<li>C1 (as inherited from B)</li>\n</ul>\n\n<p>The C1 binding inherited from <strong>ModuleA</strong> will be dropped in favor of the C1 binding as defined in <strong>ModuleB</strong>, thus resolving the conflict.</p>\n"},{"tags":[],"owner":{"account_id":1442001,"reputation":795,"user_id":1361860,"accept_rate":77,"display_name":"MageWind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663948792,"creation_date":1663948792,"answer_id":73830334,"question_id":40975354,"body_markdown":"The documentation for [Modules.override()][override] says &quot;Prefer to write smaller modules that can be reused and tested without overrides.&quot; For production code, here are a few alternatives:\r\n\r\n* Refactor `ModuleA` and `ModuleB` to not install `ModuleC` and install `ModuleC` when you create the injector. This makes it more clear that bindings in `ModuleC` are shared between modules A and B.\r\n* Make `ModuleA` and `ModuleB` each a [PrivateModule] so that the `ModuleC` bindings are not shared and, therefore, cannot conflict. The potential downside is that now `ModuleA` and `ModuleB` will not share bindings (e.g. could be problematic for Singletons and Multibinders).\r\n* Annotate the bindings in `ModuleA` &amp;or `ModuleB` so that they do not share bindings. Then, when they install ModuleC, they tell `ModuleC` (through its constructor) what the binding annotation should be. This option would be more suitable if you think the bindings for `ModuleA` and `ModuleB` could diverge in the future or if the bindings must not be shared. You could also make `ModuleC` a [PrivateModule] so that it only needs to annotate the bindings it exposes.\r\n\r\n[override]: https://google.github.io/guice/api-docs/3.0/javadoc/com/google/inject/util/Modules.html#override(com.google.inject.Module...)\r\n[PrivateModule]: https://google.github.io/guice/api-docs/3.0/javadoc/com/google/inject/PrivateModule.html","title":"Creating a guice injector with two different modules having similar dependencies","body":"<p>The documentation for <a href=\"https://google.github.io/guice/api-docs/3.0/javadoc/com/google/inject/util/Modules.html#override(com.google.inject.Module...)\" rel=\"nofollow noreferrer\">Modules.override()</a> says &quot;Prefer to write smaller modules that can be reused and tested without overrides.&quot; For production code, here are a few alternatives:</p>\n<ul>\n<li>Refactor <code>ModuleA</code> and <code>ModuleB</code> to not install <code>ModuleC</code> and install <code>ModuleC</code> when you create the injector. This makes it more clear that bindings in <code>ModuleC</code> are shared between modules A and B.</li>\n<li>Make <code>ModuleA</code> and <code>ModuleB</code> each a <a href=\"https://google.github.io/guice/api-docs/3.0/javadoc/com/google/inject/PrivateModule.html\" rel=\"nofollow noreferrer\">PrivateModule</a> so that the <code>ModuleC</code> bindings are not shared and, therefore, cannot conflict. The potential downside is that now <code>ModuleA</code> and <code>ModuleB</code> will not share bindings (e.g. could be problematic for Singletons and Multibinders).</li>\n<li>Annotate the bindings in <code>ModuleA</code> &amp;or <code>ModuleB</code> so that they do not share bindings. Then, when they install ModuleC, they tell <code>ModuleC</code> (through its constructor) what the binding annotation should be. This option would be more suitable if you think the bindings for <code>ModuleA</code> and <code>ModuleB</code> could diverge in the future or if the bindings must not be shared. You could also make <code>ModuleC</code> a <a href=\"https://google.github.io/guice/api-docs/3.0/javadoc/com/google/inject/PrivateModule.html\" rel=\"nofollow noreferrer\">PrivateModule</a> so that it only needs to annotate the bindings it exposes.</li>\n</ul>\n"}],"owner":{"account_id":1634620,"reputation":696,"user_id":1508448,"accept_rate":64,"display_name":"rrrocky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5711,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40984636,"answer_count":2,"score":5,"last_activity_date":1663948792,"creation_date":1480944418,"question_id":40975354,"body_markdown":"Suppose I have two modules `ModuleA` and `ModuleB` which are self-sufficient and can be used as stand-alone modules. Both the modules have a dependency on a third module `ModuleC` like \r\n\r\n    install(new ModuleC());\r\n\r\nNow, I have a use case where I need to create an injector with both modules, A and B. I did this:\r\n\r\n    Guice.createInjector(new ModuleA(), new ModuleB());\r\n\r\nIt threw a `CreationException` as expected which said that a binding to a certain class was already configured at one of the modules. Keeping in mind that I do not have the power to alter `ModuleA` and `ModuleB`, how do I make it work?\r\n\r\nI tried using `Modules.combine(Modules... modules)` but that did not solve my problem. Is there any solution out there for this?","title":"Creating a guice injector with two different modules having similar dependencies","body":"<p>Suppose I have two modules <code>ModuleA</code> and <code>ModuleB</code> which are self-sufficient and can be used as stand-alone modules. Both the modules have a dependency on a third module <code>ModuleC</code> like </p>\n\n<pre><code>install(new ModuleC());\n</code></pre>\n\n<p>Now, I have a use case where I need to create an injector with both modules, A and B. I did this:</p>\n\n<pre><code>Guice.createInjector(new ModuleA(), new ModuleB());\n</code></pre>\n\n<p>It threw a <code>CreationException</code> as expected which said that a binding to a certain class was already configured at one of the modules. Keeping in mind that I do not have the power to alter <code>ModuleA</code> and <code>ModuleB</code>, how do I make it work?</p>\n\n<p>I tried using <code>Modules.combine(Modules... modules)</code> but that did not solve my problem. Is there any solution out there for this?</p>\n"},{"tags":["java","basic-authentication","selenium-grid","selenium4"],"answers":[{"tags":[],"owner":{"account_id":4129702,"reputation":430,"user_id":3387943,"display_name":"Sneh Tripathi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663948385,"creation_date":1663948385,"answer_id":73830260,"question_id":73290245,"body_markdown":"Please try Selenium 4 bi directional api:\r\n\r\n((HasAuthentication) webDriver)\r\n  \t.register(() -&gt; new UsernameAndPassword(&quot;admin&quot;, &quot;admin&quot;));\r\n\r\nhttps://saucelabs.com/resources/articles/bidirectional-apis","title":"selenium-4 - Not able to handle HasAuthentication popup with Remote driver","body":"<p>Please try Selenium 4 bi directional api:</p>\n<p>((HasAuthentication) webDriver)\n.register(() -&gt; new UsernameAndPassword(&quot;admin&quot;, &quot;admin&quot;));</p>\n<p><a href=\"https://saucelabs.com/resources/articles/bidirectional-apis\" rel=\"nofollow noreferrer\">https://saucelabs.com/resources/articles/bidirectional-apis</a></p>\n"}],"owner":{"account_id":26015062,"reputation":41,"user_id":19723492,"display_name":"Pavan Washimkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1663948385,"creation_date":1660040652,"question_id":73290245,"body_markdown":"I was trying to handle authetication popup and is working fine in local (when we create webdriver instance with chromeDriver).\r\n\tBut if we try with RemoteWebDriver, we are getting below mentioned exception.\r\n\t\r\n\tOur problem is to handle authentication pop up in ci environment using RemoteWebDriver.\r\n\t\r\nRequest you to guide for the same.\r\n\t\r\n\tError:\r\n\tINFO: Using OpenTelemetry for tracing\r\n\tAug 05, 2022 3:44:56 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n\tINFO: Detected upstream dialect: W3C\r\n\tException in thread &quot;main&quot; java.lang.ClassCastException: org.openqa.selenium.remote.RemoteWebDriver cannot be cast to org.openqa.selenium.HasAuthentication\r\n\tat domain.TestWithRemoteDriver.main(TestWithRemoteDriver.java:47)\r\n\r\n\r\n\r\n```\r\npublic class TestWithRemoteDriver {\r\n    public static void main(String[] args) throws MalformedURLException {\r\n        Boolean isGridEnable = true;\r\n        WebDriver webDriver;\r\n        if (isGridEnable) {\r\n            ChromeOptions chromeOptions = getChromeDesiredCapabilities();\r\n            String seleniumRemoteUrl = &quot;http://localhost:4444/wd/hub&quot;;\r\n            webDriver = new RemoteWebDriver(new URL(seleniumRemoteUrl), chromeOptions);\r\n        } else {\r\n          WebDriverManager.getInstance(DriverManagerType.CHROME).setup();\r\n            webDriver = new ChromeDriver();\r\n        }\r\n        ((HasAuthentication) webDriver).register(UsernameAndPassword.of(&quot;admin&quot;, &quot;admin&quot;));\r\n        webDriver.get(&quot;https://the-internet.herokuapp.com/basic_auth&quot;);\r\n        String success = webDriver.findElement(By.xpath(&quot;//*[@id=\\&quot;content\\&quot;]/div/p&quot;)).getText();\r\n        webDriver.quit();\r\n    }\r\n    private static ChromeOptions getChromeDesiredCapabilities() {\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;&gt;();\r\n        chromeOptions.addArguments(&quot;--start-fullscreen&quot;);\r\n        chromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\r\n        chromeOptions.addArguments(&quot;--start-maximized&quot;);\r\n        chromeOptions.addArguments(&quot;--disable-gpu&quot;);\r\n        chromeOptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n        return chromeOptions;\r\n    }\r\n}\r\n```\r\n","title":"selenium-4 - Not able to handle HasAuthentication popup with Remote driver","body":"<p>I was trying to handle authetication popup and is working fine in local (when we create webdriver instance with chromeDriver).\nBut if we try with RemoteWebDriver, we are getting below mentioned exception.</p>\n<pre><code>Our problem is to handle authentication pop up in ci environment using RemoteWebDriver.\n</code></pre>\n<p>Request you to guide for the same.</p>\n<pre><code>Error:\nINFO: Using OpenTelemetry for tracing\nAug 05, 2022 3:44:56 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected upstream dialect: W3C\nException in thread &quot;main&quot; java.lang.ClassCastException: org.openqa.selenium.remote.RemoteWebDriver cannot be cast to org.openqa.selenium.HasAuthentication\nat domain.TestWithRemoteDriver.main(TestWithRemoteDriver.java:47)\n</code></pre>\n<pre><code>public class TestWithRemoteDriver {\n    public static void main(String[] args) throws MalformedURLException {\n        Boolean isGridEnable = true;\n        WebDriver webDriver;\n        if (isGridEnable) {\n            ChromeOptions chromeOptions = getChromeDesiredCapabilities();\n            String seleniumRemoteUrl = &quot;http://localhost:4444/wd/hub&quot;;\n            webDriver = new RemoteWebDriver(new URL(seleniumRemoteUrl), chromeOptions);\n        } else {\n          WebDriverManager.getInstance(DriverManagerType.CHROME).setup();\n            webDriver = new ChromeDriver();\n        }\n        ((HasAuthentication) webDriver).register(UsernameAndPassword.of(&quot;admin&quot;, &quot;admin&quot;));\n        webDriver.get(&quot;https://the-internet.herokuapp.com/basic_auth&quot;);\n        String success = webDriver.findElement(By.xpath(&quot;//*[@id=\\&quot;content\\&quot;]/div/p&quot;)).getText();\n        webDriver.quit();\n    }\n    private static ChromeOptions getChromeDesiredCapabilities() {\n        ChromeOptions chromeOptions = new ChromeOptions();\n        HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;&gt;();\n        chromeOptions.addArguments(&quot;--start-fullscreen&quot;);\n        chromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\n        chromeOptions.addArguments(&quot;--start-maximized&quot;);\n        chromeOptions.addArguments(&quot;--disable-gpu&quot;);\n        chromeOptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\n        return chromeOptions;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5631240,"reputation":1711,"user_id":4700005,"accept_rate":56,"display_name":"skr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663854157,"creation_date":1663854157,"answer_id":73815745,"question_id":73813473,"body_markdown":"The [Apache Commons Configuration][1] Project has an implementation capable of doing variable interpolation.\r\n\r\nRead the section named Variable Interpolation\r\n\r\n    application.name = Killer App\r\n    application.version = 1.6.2\r\n    application.title = ${application.name} ${application.version}\r\n\r\nYou would need this third-party library in your class path, but on the other hand you will not have to worry about writing yet another implementation for this :)\r\n\r\nYou might like to read the [Properties How To][2] as well.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-configuration/\r\n  [2]: https://commons.apache.org/proper/commons-configuration/userguide/user_guide.html","title":"Using properties file in Java: copy key value and assign it to another key","body":"<p>The <a href=\"https://commons.apache.org/proper/commons-configuration/\" rel=\"nofollow noreferrer\">Apache Commons Configuration</a> Project has an implementation capable of doing variable interpolation.</p>\n<p>Read the section named Variable Interpolation</p>\n<pre><code>application.name = Killer App\napplication.version = 1.6.2\napplication.title = ${application.name} ${application.version}\n</code></pre>\n<p>You would need this third-party library in your class path, but on the other hand you will not have to worry about writing yet another implementation for this :)</p>\n<p>You might like to read the <a href=\"https://commons.apache.org/proper/commons-configuration/userguide/user_guide.html\" rel=\"nofollow noreferrer\">Properties How To</a> as well.</p>\n"},{"tags":[],"owner":{"account_id":9485170,"reputation":41,"user_id":7051734,"display_name":"Rajith Jayathunga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663948374,"creation_date":1663948374,"answer_id":73830259,"question_id":73813473,"body_markdown":"Posting the solution using `org.apache.commons.configuration.PropertiesConfiguration`\r\n\r\n    PropertiesConfiguration prop = new PropertiesConfiguration(new File(&quot;path/settings.properties&quot;));\r\n        prop.addProperty(&quot;name&quot;, &quot;John&quot;);\r\n        prop.getProperty(his.name);\r\n\r\nIn, &quot;settings.properties&quot; file.\r\n\r\n    his.name=hisNameIs${name}\r\n\r\n\r\n","title":"Using properties file in Java: copy key value and assign it to another key","body":"<p>Posting the solution using <code>org.apache.commons.configuration.PropertiesConfiguration</code></p>\n<pre><code>PropertiesConfiguration prop = new PropertiesConfiguration(new File(&quot;path/settings.properties&quot;));\n    prop.addProperty(&quot;name&quot;, &quot;John&quot;);\n    prop.getProperty(his.name);\n</code></pre>\n<p>In, &quot;settings.properties&quot; file.</p>\n<pre><code>his.name=hisNameIs${name}\n</code></pre>\n"}],"owner":{"account_id":9485170,"reputation":41,"user_id":7051734,"display_name":"Rajith Jayathunga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73830259,"answer_count":2,"score":0,"last_activity_date":1663948374,"creation_date":1663844572,"question_id":73813473,"body_markdown":"is it possible to achieve below scenario using properties file in Java. Thanks a lot for any feedback.\r\n\r\nAssume I have a settings.properties file which includes,\r\n\r\n    my.name=${name}\r\n    his.name=hisNameIs${name}\r\n\r\nIn my code,\r\n\r\n    InputStream input = new FileInputStream(&quot;path/settings.properties&quot;);\r\n    Properties prop = new Properties();\r\n    prop.setProperty(&quot;my.name&quot;, &quot;John&quot;);\r\n    prop.load(input);\r\n    String output=  prop.getProperty(his.name);\r\n    System.out.println(output);\r\n\r\n\r\nExpected Results:\r\n\r\n    hisNameIsJohn","title":"Using properties file in Java: copy key value and assign it to another key","body":"<p>is it possible to achieve below scenario using properties file in Java. Thanks a lot for any feedback.</p>\n<p>Assume I have a settings.properties file which includes,</p>\n<pre><code>my.name=${name}\nhis.name=hisNameIs${name}\n</code></pre>\n<p>In my code,</p>\n<pre><code>InputStream input = new FileInputStream(&quot;path/settings.properties&quot;);\nProperties prop = new Properties();\nprop.setProperty(&quot;my.name&quot;, &quot;John&quot;);\nprop.load(input);\nString output=  prop.getProperty(his.name);\nSystem.out.println(output);\n</code></pre>\n<p>Expected Results:</p>\n<pre><code>hisNameIsJohn\n</code></pre>\n"},{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":9560534,"reputation":12492,"user_id":7101554,"accept_rate":68,"display_name":"Leandro Borges Ferreira"},"score":0,"creation_date":1479403904,"post_id":40661349,"comment_id":68553881,"body_markdown":"You can call finish() in the activity that is transparent. But don&#39;t you think you are probably better with a View on top of you activity?","body":"You can call finish() in the activity that is transparent. But don&#39;t you think you are probably better with a View on top of you activity?"},{"owner":{"account_id":7685749,"reputation":1783,"user_id":5823618,"accept_rate":57,"display_name":"Alex Wilson"},"score":0,"creation_date":1479404001,"post_id":40661349,"comment_id":68553937,"body_markdown":"Yes I can call finish() on the transparent activity. I want to know if I can trigger the call to finish() off the touch, even with FLAG_NOT_TOUCHABLE set.","body":"Yes I can call finish() on the transparent activity. I want to know if I can trigger the call to finish() off the touch, even with FLAG_NOT_TOUCHABLE set."}],"answers":[{"tags":[],"owner":{"account_id":413213,"reputation":35885,"user_id":786718,"accept_rate":87,"display_name":"DeeV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479404113,"creation_date":1479404113,"answer_id":40661504,"question_id":40661349,"body_markdown":"I do not believe you&#39;d be able to determine if the user touched the screen if `FLAG_NOT_TOUCHABLE` is set. Your Activity will simply not receive any touch events at all.\r\n\r\nInstead, what you can do is set an `onTouchListener` to the root View, then return `false` indicating that you do not want to handle the touch. This way, you&#39;ll always receive the first touch event (`ACTION_DOWN`) which allows you to call `finish()` and go. ","title":"Is it possible to set FLAG_NOT_TOUCHABLE on an activity, but also close the activity when a touch occurs?","body":"<p>I do not believe you'd be able to determine if the user touched the screen if <code>FLAG_NOT_TOUCHABLE</code> is set. Your Activity will simply not receive any touch events at all.</p>\n\n<p>Instead, what you can do is set an <code>onTouchListener</code> to the root View, then return <code>false</code> indicating that you do not want to handle the touch. This way, you'll always receive the first touch event (<code>ACTION_DOWN</code>) which allows you to call <code>finish()</code> and go. </p>\n"},{"tags":[],"owner":{"account_id":360935,"reputation":5619,"user_id":703225,"accept_rate":57,"display_name":"qinmiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663948306,"creation_date":1663948306,"answer_id":73830246,"question_id":40661349,"body_markdown":"yes, you can.\r\n\r\n```java\r\n\r\n// not any touch event\r\n getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\r\n\r\n```\r\n\r\n","title":"Is it possible to set FLAG_NOT_TOUCHABLE on an activity, but also close the activity when a touch occurs?","body":"<p>yes, you can.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// not any touch event\n getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\n\n</code></pre>\n"}],"owner":{"account_id":7685749,"reputation":1783,"user_id":5823618,"accept_rate":57,"display_name":"Alex Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1941,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663948306,"creation_date":1479403581,"question_id":40661349,"body_markdown":"I would like to set `FLAG_NOT_TOUCHABLE` on a transparent activity to allow interaction with the activity below. Is there any way to close the transparent activity when a user touches the screen while these flags are set? ","title":"Is it possible to set FLAG_NOT_TOUCHABLE on an activity, but also close the activity when a touch occurs?","body":"<p>I would like to set <code>FLAG_NOT_TOUCHABLE</code> on a transparent activity to allow interaction with the activity below. Is there any way to close the transparent activity when a user touches the screen while these flags are set? </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1663947565,"post_id":73830034,"comment_id":130366973,"body_markdown":"Where did you add `?`? Note that html isn&#39;t a regular language, so it&#39;s not always an effective solution. What are examples of inputs for this regex?","body":"Where did you add <code>?</code>? Note that html isn&#39;t a regular language, so it&#39;s not always an effective solution. What are examples of inputs for this regex?"},{"owner":{"account_id":38665,"reputation":7120,"user_id":111143,"display_name":"Tommy Andersen"},"score":1,"creation_date":1663948794,"post_id":73830034,"comment_id":130367429,"body_markdown":"https://stackoverflow.com/a/1732454/111143","body":"<a href=\"https://stackoverflow.com/a/1732454/111143\">stackoverflow.com/a/1732454/111143</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663947958,"creation_date":1663947958,"answer_id":73830176,"question_id":73830034,"body_markdown":"With question marks, as the docs say. Evidently you didn&#39;t put the questionmark in the right place.\r\n\r\n```\r\nYou have: input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\r\nYou need: input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+?]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\r\n```\r\n\r\nNote that HTML isn&#39;t regular so none of this is a good idea. Use JSoup or a similar tool (something that parses _html_), modify the tree it gives you, re-render the tree back out to HTML, that&#39;s the right approach.\r\n","title":"How to make this regex non-greedy","body":"<p>With question marks, as the docs say. Evidently you didn't put the questionmark in the right place.</p>\n<pre><code>You have: input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\nYou need: input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+?]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\n</code></pre>\n<p>Note that HTML isn't regular so none of this is a good idea. Use JSoup or a similar tool (something that parses <em>html</em>), modify the tree it gives you, re-render the tree back out to HTML, that's the right approach.</p>\n"}],"owner":{"account_id":25864709,"reputation":11,"user_id":19596604,"display_name":"Tania"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663948001,"creation_date":1663947116,"question_id":73830034,"body_markdown":"    String input = &quot;&lt;p&gt;...&lt;mfrac&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),\\&quot;###,##0.######\\&quot;)]&lt;/mn&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;&quot;;\r\n    String result = input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\r\n\r\nOutput: \r\n\r\n    &lt;p&gt;...&lt;mfrac&gt;&lt;mrow&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),&quot;###,##0.######&quot;)]&lt;/mn&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;\r\n\r\nWanted: \r\n\r\n    &lt;p&gt;...&lt;mfrac&gt;&lt;mrow&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),&quot;###,##0.######&quot;)]&lt;/mn&gt;&lt;/mrow&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;\r\n\r\nHow can I make the regex not greedy? I tried adding &quot;?&quot;. Did not help.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hv3De.png","title":"How to make this regex non-greedy","body":"<pre><code>String input = &quot;&lt;p&gt;...&lt;mfrac&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),\\&quot;###,##0.######\\&quot;)]&lt;/mn&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;&quot;;\nString result = input.replaceAll(&quot;&lt;mfrac&gt;(&lt;mn&gt;\\\\[[^\\\\\\\\]+]&lt;/mn&gt;)&quot;, &quot;&lt;mfrac&gt;&lt;mrow&gt;$1&lt;/mrow&gt;&quot;);\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;p&gt;...&lt;mfrac&gt;&lt;mrow&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),&quot;###,##0.######&quot;)]&lt;/mn&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;\n</code></pre>\n<p>Wanted:</p>\n<pre><code>&lt;p&gt;...&lt;mfrac&gt;&lt;mrow&gt;&lt;mn&gt;[format(((([[B]])*([[C]]))),&quot;###,##0.######&quot;)]&lt;/mn&gt;&lt;/mrow&gt;&lt;mn&gt;[[D]]&lt;/mn&gt;&lt;/mfrac&gt;&lt;/math&gt;&lt;/p&gt;\n</code></pre>\n<p>How can I make the regex not greedy? I tried adding &quot;?&quot;. Did not help.\n<a href=\"https://i.stack.imgur.com/hv3De.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hv3De.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","jpa","converters","javers"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1467705312,"post_id":38191622,"comment_id":63820445,"body_markdown":"An AttributeConverter is to convert from a field value to a datastore value. The field is transient therefore there is no concept of datastore value, hence it won&#39;t be used.","body":"An AttributeConverter is to convert from a field value to a datastore value. The field is transient therefore there is no concept of datastore value, hence it won&#39;t be used."},{"owner":{"account_id":1282080,"reputation":131,"user_id":1235977,"accept_rate":45,"display_name":"termil0r"},"score":0,"creation_date":1468074625,"post_id":38191622,"comment_id":63984295,"body_markdown":"@NeilStockton: Like I said, you can propose the change of given code. I am aware that in its current state it doesn&#39;t work but that&#39;s the whole point of this forum to help give answers.","body":"@NeilStockton: Like I said, you can propose the change of given code. I am aware that in its current state it doesn&#39;t work but that&#39;s the whole point of this forum to help give answers."},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1468077776,"post_id":38191622,"comment_id":63985221,"body_markdown":"I&#39;m simply explaining WHY it doesn&#39;t work. I would have thought that adds to your knowledge ...","body":"I&#39;m simply explaining WHY it doesn&#39;t work. I would have thought that adds to your knowledge ..."},{"owner":{"account_id":1282080,"reputation":131,"user_id":1235977,"accept_rate":45,"display_name":"termil0r"},"score":0,"creation_date":1468229310,"post_id":38191622,"comment_id":64023379,"body_markdown":"@NeilStockton: Well in that case please do accept my apologies.","body":"@NeilStockton: Well in that case please do accept my apologies."}],"answers":[{"tags":[],"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467700650,"creation_date":1467700650,"answer_id":38196702,"question_id":38191622,"body_markdown":"Restoring original domain objects from CdoSnapshots is not yet implemented in JaVers. There are some plans about this - https://github.com/javers/javers/issues/133","title":"HowTo map Javers snapshot to entity via JPA annotations/converter","body":"<p>Restoring original domain objects from CdoSnapshots is not yet implemented in JaVers. There are some plans about this - <a href=\"https://github.com/javers/javers/issues/133\" rel=\"nofollow\">https://github.com/javers/javers/issues/133</a></p>\n"},{"tags":[],"owner":{"account_id":2273688,"reputation":5004,"user_id":2000503,"display_name":"Rolando Isidoro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663947655,"creation_date":1663947655,"answer_id":73830130,"question_id":38191622,"body_markdown":"According to the [Restore orginal domain object from persisted snapshot][1] issue mentioned by @Bartek, this feature has been implemented in version 3.2.0, back in 2017.\r\n\r\nIn JaVers, the feature is called Shadow, meaning users domain object restored from a Snapshot.\r\n\r\nMore information in the [Querying for Shadows section of the JQL (JaVers Query Language) examples official documentation page][2].\r\n\r\n\r\n  [1]: https://github.com/javers/javers/issues/133#issuecomment-304259072\r\n  [2]: https://javers.org/documentation/jql-examples/#query-for-shadows","title":"HowTo map Javers snapshot to entity via JPA annotations/converter","body":"<p>According to the <a href=\"https://github.com/javers/javers/issues/133#issuecomment-304259072\" rel=\"nofollow noreferrer\">Restore orginal domain object from persisted snapshot</a> issue mentioned by @Bartek, this feature has been implemented in version 3.2.0, back in 2017.</p>\n<p>In JaVers, the feature is called Shadow, meaning users domain object restored from a Snapshot.</p>\n<p>More information in the <a href=\"https://javers.org/documentation/jql-examples/#query-for-shadows\" rel=\"nofollow noreferrer\">Querying for Shadows section of the JQL (JaVers Query Language) examples official documentation page</a>.</p>\n"}],"owner":{"account_id":1282080,"reputation":131,"user_id":1235977,"accept_rate":45,"display_name":"termil0r"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1058,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1663947655,"creation_date":1467663016,"question_id":38191622,"body_markdown":"Given code:\r\n\r\n    public enum ApplicationStatus {\r\n         CREATED, VERIFIED, APPROVED, REJECTED, DELETED, PUBLISHED;\r\n    }\r\n    \r\n    @lombok.Data // adds constructors, getters, setters, equals &amp; hashcode\r\n    @Table(&quot;Application&quot;)\r\n    public class Application implements Serializable {\r\n        @Id @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private ApplicationStatus status;\r\n    \r\n        @Transient\r\n        @Converter(HistoryConverter.class)\r\n        private List&lt;Application&gt; applicationHistory;\r\n    }\r\n    \r\n    @Repository\r\n    @JaversSpringDataAuditable\r\n    public interface ApplicationRepository extends PagingAndSortingRepository&lt;Application, Long&gt; {}\r\n    \r\n    @Component\r\n    @Converter\r\n    public class HistoryConverter implements AttributeConverter&lt;Application, List&lt;Application&gt;&gt; {\r\n       \r\n        @Autowired\r\n        private Javers javers;\r\n\r\n        @Override\r\n    \tpublic List&lt;Application&gt; convertToDatabaseColumn(Application entity) {\r\n\t\t    List&lt;CdoSnapshot&gt; snapshots = javers.findSnapshots(QueryBuilder.byInstanceId(entity.getId(), Application.class).build())\r\n\r\n            return snapshots.stream().map(s -&gt; convertToEntity(s.getState())).collect(Collectors.toList());\r\n\t    }\r\n\r\n        private Application convertToEntity(CdoSnapshot snapshot) {\r\n            JsonConverter gson = javers.getJsonConverter();\r\n\t\t    String json = gson.toJson(state);\r\n\t\t    return gson.fromJson(json, Application.class);\r\n        }\r\n\r\n        @Override\r\n\t    public Application convertToEntityAttribute(List&lt;Application&gt; dbData) {\r\n\t\t    throw new UnsupportedOperationException();\r\n\t    }\r\n    }\r\n\r\nHow to make JPA use my converter to convert snapshot got from javers back to Application entity object for list of history objects?\r\n\r\nI didn&#39;t find what I&#39;m looking for on google. Only a thread saying that it will be possible in the future to get object from snapshot. For such simple object I&#39;m using it can be done as presented above. But how it can be incorporated into the code so snapshots can be used as history entry.\r\n\r\nJavers store new snapshot for every saved change of the entity into database in its own table. State field/column is encoded to json by Gson (internally). So using Gson to convert it back to entity can be done as follows. This concept works but not automatically. Can you please help me in incorporating javers as out-of-the-box history mechanism into my code?\r\n\r\nOf course changes to entity class as well as converter class are welcome but history has to be done by javers snapshots instead of reinventing the wheel by introducing new entity with history state and process it as seperate entity.","title":"HowTo map Javers snapshot to entity via JPA annotations/converter","body":"<p>Given code:</p>\n\n<pre><code>public enum ApplicationStatus {\n     CREATED, VERIFIED, APPROVED, REJECTED, DELETED, PUBLISHED;\n}\n\n@lombok.Data // adds constructors, getters, setters, equals &amp; hashcode\n@Table(\"Application\")\npublic class Application implements Serializable {\n    @Id @GeneratedValue\n    private Long id;\n\n    @Enumerated(EnumType.STRING)\n    private ApplicationStatus status;\n\n    @Transient\n    @Converter(HistoryConverter.class)\n    private List&lt;Application&gt; applicationHistory;\n}\n\n@Repository\n@JaversSpringDataAuditable\npublic interface ApplicationRepository extends PagingAndSortingRepository&lt;Application, Long&gt; {}\n\n@Component\n@Converter\npublic class HistoryConverter implements AttributeConverter&lt;Application, List&lt;Application&gt;&gt; {\n\n    @Autowired\n    private Javers javers;\n\n    @Override\n    public List&lt;Application&gt; convertToDatabaseColumn(Application entity) {\n        List&lt;CdoSnapshot&gt; snapshots = javers.findSnapshots(QueryBuilder.byInstanceId(entity.getId(), Application.class).build())\n\n        return snapshots.stream().map(s -&gt; convertToEntity(s.getState())).collect(Collectors.toList());\n    }\n\n    private Application convertToEntity(CdoSnapshot snapshot) {\n        JsonConverter gson = javers.getJsonConverter();\n        String json = gson.toJson(state);\n        return gson.fromJson(json, Application.class);\n    }\n\n    @Override\n    public Application convertToEntityAttribute(List&lt;Application&gt; dbData) {\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n\n<p>How to make JPA use my converter to convert snapshot got from javers back to Application entity object for list of history objects?</p>\n\n<p>I didn't find what I'm looking for on google. Only a thread saying that it will be possible in the future to get object from snapshot. For such simple object I'm using it can be done as presented above. But how it can be incorporated into the code so snapshots can be used as history entry.</p>\n\n<p>Javers store new snapshot for every saved change of the entity into database in its own table. State field/column is encoded to json by Gson (internally). So using Gson to convert it back to entity can be done as follows. This concept works but not automatically. Can you please help me in incorporating javers as out-of-the-box history mechanism into my code?</p>\n\n<p>Of course changes to entity class as well as converter class are welcome but history has to be done by javers snapshots instead of reinventing the wheel by introducing new entity with history state and process it as seperate entity.</p>\n"},{"tags":["java","xml","groovy"],"answers":[{"tags":[],"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663947413,"creation_date":1663947413,"answer_id":73830090,"question_id":73829565,"body_markdown":"You need to manipulate the node&#39;s children directly `firstNode.children().set(0, &quot;foo&quot;)`. Furthermore, the `root` node is implicit, so you need to omit it.\r\n\r\n```groovy\r\nString xml = &quot;&quot;&quot;\r\n&lt;root&gt;\r\n    &lt;firstNode class=&quot;first&quot;&gt;SomeText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\r\n&lt;/root&gt;\r\n&quot;&quot;&quot;\r\ndef root = new groovy.xml.XmlParser().parseText(xml)\r\ndef firstNode =  root.children()[0]\r\nfirstNode.children().set(0, &quot;foo&quot;)\r\ndef nodeAsText = groovy.xml.XmlUtil.serialize(root)\r\nprintln nodeAsText\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_4_0&amp;codez=eJxtkE0KwjAQhfc5xZBVCpJ6gLTgARRBBUFcFDvVQJpIEvw7vZMUraJZTV7evPkmq-i1PcKtN1AB55wp71ysGdBRnfYhLlyLcDBNCBXPAq9Xrsc13qI6nLRpPw1ZGAxz5wdT-XbVqnxH1kyVw6g0tcUO0o0gLF7hSPXlLolKbnuzbHxALwp5TkXKFPRS5KYRsYKcIPM0j1YUu-menWm9aOzo-1U-Ohj7p8qAUUwnwDvnePEnMpNYqmYh0RHK9wKbqA2FeN0Y_UCRMMeYsY-x_O2v8wQNUYtg)","title":"Groovy set text of node that has children","body":"<p>You need to manipulate the node's children directly <code>firstNode.children().set(0, &quot;foo&quot;)</code>. Furthermore, the <code>root</code> node is implicit, so you need to omit it.</p>\n<pre><code>String xml = &quot;&quot;&quot;\n&lt;root&gt;\n    &lt;firstNode class=&quot;first&quot;&gt;SomeText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\n&lt;/root&gt;\n&quot;&quot;&quot;\ndef root = new groovy.xml.XmlParser().parseText(xml)\ndef firstNode =  root.children()[0]\nfirstNode.children().set(0, &quot;foo&quot;)\ndef nodeAsText = groovy.xml.XmlUtil.serialize(root)\nprintln nodeAsText\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_4_0&amp;codez=eJxtkE0KwjAQhfc5xZBVCpJ6gLTgARRBBUFcFDvVQJpIEvw7vZMUraJZTV7evPkmq-i1PcKtN1AB55wp71ysGdBRnfYhLlyLcDBNCBXPAq9Xrsc13qI6nLRpPw1ZGAxz5wdT-XbVqnxH1kyVw6g0tcUO0o0gLF7hSPXlLolKbnuzbHxALwp5TkXKFPRS5KYRsYKcIPM0j1YUu-menWm9aOzo-1U-Ohj7p8qAUUwnwDvnePEnMpNYqmYh0RHK9wKbqA2FeN0Y_UCRMMeYsY-x_O2v8wQNUYtg\" rel=\"nofollow noreferrer\">Groovy Web Console</a></p>\n"}],"owner":{"account_id":26380720,"reputation":361,"user_id":20034020,"display_name":"frankM_DN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73830090,"answer_count":1,"score":0,"last_activity_date":1663947413,"creation_date":1663944678,"question_id":73829565,"body_markdown":"I have a node in an xml document that has the following general structure:\r\n\r\n````\r\nString xml = &quot;\r\n&lt;root&gt;\r\n    &lt;firstNode class=&quot;first&quot;&gt;SomeText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\r\n&lt;/root&gt;&quot;\r\n````\r\n\r\nI want to modify the text of the ````firstNode```` node.  So I want to change the value of &quot;SomeText&quot; to something else, like &quot;NewText&quot;.  So the above xml would look like this:\r\n\r\n````\r\n&lt;root&gt;\r\n    &lt;firstNode class=&quot;first&quot;&gt;NewText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\r\n&lt;/root&gt;&quot;\r\n````\r\n\r\nI can get the ````firstNode```` node using the ````XmlParser```` class:\r\n\r\n````def firstNode = new groovy.xml.XmlParser().parseText(xml).root[0]````\r\n\r\nFrom the [Node doc][1] I am able to get the &quot;SomeText&quot; value using ````firstNode.localText()[0]```` but I can&#39;t figure out how to set that text.  Somehow I was thinking of doing ````firstNode.setValue()```` but I don&#39;t know what to pass in that function.\r\n\r\nThanks for any ideas!\r\n\r\n\r\n  [1]: https://docs.groovy-lang.org/latest/html/api/groovy/util/Node.html","title":"Groovy set text of node that has children","body":"<p>I have a node in an xml document that has the following general structure:</p>\n<pre><code>String xml = &quot;\n&lt;root&gt;\n    &lt;firstNode class=&quot;first&quot;&gt;SomeText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\n&lt;/root&gt;&quot;\n</code></pre>\n<p>I want to modify the text of the <code>firstNode</code> node.  So I want to change the value of &quot;SomeText&quot; to something else, like &quot;NewText&quot;.  So the above xml would look like this:</p>\n<pre><code>&lt;root&gt;\n    &lt;firstNode class=&quot;first&quot;&gt;NewText&lt;childNode class=&quot;child&quot;&gt;SomeMoreText&lt;/childNode&gt;&lt;/firstNode&gt;\n&lt;/root&gt;&quot;\n</code></pre>\n<p>I can get the <code>firstNode</code> node using the <code>XmlParser</code> class:</p>\n<p><code>def firstNode = new groovy.xml.XmlParser().parseText(xml).root[0]</code></p>\n<p>From the <a href=\"https://docs.groovy-lang.org/latest/html/api/groovy/util/Node.html\" rel=\"nofollow noreferrer\">Node doc</a> I am able to get the &quot;SomeText&quot; value using <code>firstNode.localText()[0]</code> but I can't figure out how to set that text.  Somehow I was thinking of doing <code>firstNode.setValue()</code> but I don't know what to pass in that function.</p>\n<p>Thanks for any ideas!</p>\n"},{"tags":["java","json","spring-boot","pojo"],"comments":[{"owner":{"account_id":7559040,"reputation":2250,"user_id":5737375,"display_name":"vindev"},"score":1,"creation_date":1663912195,"post_id":73823071,"comment_id":130354983,"body_markdown":"Code looks fine. Not sure if `import oms.models.Order;` is the problem, try removing it.","body":"Code looks fine. Not sure if <code>import oms.models.Order;</code> is the problem, try removing it."},{"owner":{"account_id":22048796,"reputation":31,"user_id":16313394,"display_name":"Kim Gordon"},"score":0,"creation_date":1663947062,"post_id":73823071,"comment_id":130366756,"body_markdown":"It is import oms.models.Person; actually. It also not working if I remove it","body":"It is import oms.models.Person; actually. It also not working if I remove it"}],"owner":{"account_id":22048796,"reputation":31,"user_id":16313394,"display_name":"Kim Gordon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663947033,"creation_date":1663908225,"question_id":73823071,"body_markdown":"I usually convert from POJO to JSON by using `org.json.JSONObject`. It always works very well, but I don&#39;t know why it&#39;s not working when I apply it in Spring Boot. Here are my 2 files: \r\n\r\n**src/main/java/oms/models/Person.java:**\r\n\r\n    public class Person {\r\n    \r\n        private String name;\r\n        private int age;\r\n    \r\n        public String getName() { return this.name; }\r\n        public void setName( String name ) { this.name = name; }\r\n    \r\n        public int getAge() { return this.age; }\r\n        public void setAge( int age ) { this.age = age; }\r\n    \r\n    }\r\n\r\n**src/test/java/oms/Test.java:**\r\n\r\n    import org.json.JSONObject;\r\n    import oms.models.Person;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    public class Test{\r\n\r\n        @Test\r\n        void Test {\r\n            Person person = new Person();\r\n            person.setName( &quot;Person Name&quot; );\r\n            person.setAge( 333 );\r\n\r\n            \r\n            JSONObject jsonObj = new JSONObject( person );\r\n            System.out.println( jsonObj );\r\n        }\r\n    \r\n    }\r\n\r\nThen I&#39;m getting an error: `Cannot resolve constructor &#39;JSONObject(Order)&#39;`\r\n\r\n\r\nCan someone let me know what is the problem?","title":"Java Spring Boot Pojo to Json","body":"<p>I usually convert from POJO to JSON by using <code>org.json.JSONObject</code>. It always works very well, but I don't know why it's not working when I apply it in Spring Boot. Here are my 2 files:</p>\n<p><strong>src/main/java/oms/models/Person.java:</strong></p>\n<pre><code>public class Person {\n\n    private String name;\n    private int age;\n\n    public String getName() { return this.name; }\n    public void setName( String name ) { this.name = name; }\n\n    public int getAge() { return this.age; }\n    public void setAge( int age ) { this.age = age; }\n\n}\n</code></pre>\n<p><strong>src/test/java/oms/Test.java:</strong></p>\n<pre><code>import org.json.JSONObject;\nimport oms.models.Person;\nimport org.junit.jupiter.api.Test;\n\npublic class Test{\n\n    @Test\n    void Test {\n        Person person = new Person();\n        person.setName( &quot;Person Name&quot; );\n        person.setAge( 333 );\n\n        \n        JSONObject jsonObj = new JSONObject( person );\n        System.out.println( jsonObj );\n    }\n\n}\n</code></pre>\n<p>Then I'm getting an error: <code>Cannot resolve constructor 'JSONObject(Order)'</code></p>\n<p>Can someone let me know what is the problem?</p>\n"},{"tags":["java","hazelcast","distributed-cache"],"answers":[{"tags":[],"owner":{"account_id":17127425,"reputation":256,"user_id":12394291,"display_name":"mdumandag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663945578,"creation_date":1663945578,"answer_id":73829733,"question_id":73829276,"body_markdown":"Yes, you can use different serialization mechanisms to serialize entry processors, provided that they are correctly configured on the sender and receiver sides. So, after making sure that the Portable factory for your class is registered on the members and on the instance you are sending the entry processor from (for example, your client), it should work. ","title":"Custom Serialization capability for EntryProcessor in Hazelcast","body":"<p>Yes, you can use different serialization mechanisms to serialize entry processors, provided that they are correctly configured on the sender and receiver sides. So, after making sure that the Portable factory for your class is registered on the members and on the instance you are sending the entry processor from (for example, your client), it should work.</p>\n"}],"owner":{"account_id":23654345,"reputation":47,"user_id":17682856,"display_name":"George K J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73829733,"answer_count":1,"score":1,"last_activity_date":1663946860,"creation_date":1663943319,"question_id":73829276,"body_markdown":"Do we have custom serialization capability for EntryProcessor or ExecutorService ?. Hazelcast document is not specifying anything in this regard. There are no samples given in the document related to custom serialization of EntryProcessor. We are looking for a Portable serialization of the EntryProcessor.\r\n\r\n    public class SampleEntryProcessor implements EntryProcessor&lt;SampleDataKey, SampleDataValue , SampleDataValue &gt;,Portable {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate SampleDataValue sampleDataValue ;\r\n\r\n\tpublic SampleDataValue process(Map.Entry&lt;SampleDataKey, SampleDataValue &gt; entry) {\r\n\t\t\r\n        //Sample logic here\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic int getFactoryId() {\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getClassId() {\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void writePortable(PortableWriter writer) throws IOException {\r\n\t\twriter.writePortable(&quot;i&quot;, sampleDataValue );\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void readPortable(PortableReader reader) throws IOException {\r\n\t\tsampleDataValue = reader.readPortable(&quot;i&quot;);\r\n\t}\r\n}\r\n\r\nUPDATE : When i try to call processor am getting error as follows.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: com.hazelcast.internal.serialization.impl.portable.DeserializedPortableGenericRecord cannot be cast to com.hazelcast.map.EntryProcessor\r\n\tat com.hazelcast.client.impl.protocol.task.map.MapExecuteOnKeyMessageTask.prepareOperation(MapExecuteOnKeyMessageTask.java:42)\r\n\tat com.hazelcast.client.impl.protocol.task.AbstractPartitionMessageTask.processInternal(AbstractPartitionMessageTask.java:45)","title":"Custom Serialization capability for EntryProcessor in Hazelcast","body":"<p>Do we have custom serialization capability for EntryProcessor or ExecutorService ?. Hazelcast document is not specifying anything in this regard. There are no samples given in the document related to custom serialization of EntryProcessor. We are looking for a Portable serialization of the EntryProcessor.</p>\n<pre><code>public class SampleEntryProcessor implements EntryProcessor&lt;SampleDataKey, SampleDataValue , SampleDataValue &gt;,Portable {\n\n/**\n * \n */\nprivate static final long serialVersionUID = 1L;\n\nprivate SampleDataValue sampleDataValue ;\n\npublic SampleDataValue process(Map.Entry&lt;SampleDataKey, SampleDataValue &gt; entry) {\n    \n    //Sample logic here\n    return null;\n}\n\n\n@Override\npublic int getFactoryId() {\n    return 1;\n}\n\n@Override\npublic int getClassId() {\n    return 1;\n}\n\n@Override\npublic void writePortable(PortableWriter writer) throws IOException {\n    writer.writePortable(&quot;i&quot;, sampleDataValue );\n    \n}\n\n@Override\npublic void readPortable(PortableReader reader) throws IOException {\n    sampleDataValue = reader.readPortable(&quot;i&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>UPDATE : When i try to call processor am getting error as follows.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: com.hazelcast.internal.serialization.impl.portable.DeserializedPortableGenericRecord cannot be cast to com.hazelcast.map.EntryProcessor\nat com.hazelcast.client.impl.protocol.task.map.MapExecuteOnKeyMessageTask.prepareOperation(MapExecuteOnKeyMessageTask.java:42)\nat com.hazelcast.client.impl.protocol.task.AbstractPartitionMessageTask.processInternal(AbstractPartitionMessageTask.java:45)\n</code></pre>\n"},{"tags":["java","weblogic","jdeveloper","oim"],"answers":[{"tags":[],"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663946686,"creation_date":1663946686,"answer_id":73829953,"question_id":73800381,"body_markdown":"For case 1) the problem is a missing library containing the mentioned class. You need to deploy the jar containing the class with your application onto the server.\r\n\r\nFor the second case, I can&#39;t tell as you have not given details.","title":"jdeveloper deployment issue on oracle weblogic server","body":"<p>For case 1) the problem is a missing library containing the mentioned class. You need to deploy the jar containing the class with your application onto the server.</p>\n<p>For the second case, I can't tell as you have not given details.</p>\n"}],"owner":{"account_id":26401639,"reputation":1,"user_id":20052005,"display_name":"jawad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663946686,"creation_date":1663761767,"question_id":73800381,"body_markdown":"I am working on an oracle product Identity Management (IDM). \r\nInitially when I wrote a separate program using Java (JDeveloper) it&#39;s worked fine.\r\nUsers are created in IDM using that java API. \r\nBut when I changed that program with the idea of the Web interface java code is even not able to deploy on\r\noracle WebLogic server.\r\n\r\nWork Flow of Pages\r\n-------------------\r\n\r\nindex.html (this page has 4 options on menu 1. create user 2. delete user 3. disable user 4.enable user)\r\n\r\nWhen a user clicks on option 3. disableuser.html page is called\r\n\r\nOn disableuser.html there are only 2 controls, a textbox and a button. In the text box the user provides user name whom he\r\nwants to disable and then he will click on submit button. This submit button will call\r\n\r\noperations.jsp\r\n\r\nthis operations.jsp code will call java class (oimuser.java)\r\n\r\nProblem:\r\n\r\n1. When I try to deploy this code on Oracle WebLogic Server it&#39;s unable to be deployed\r\n2. When I changed the machine and used my friend&#39;s machine the code is deployed and executed but it&#39;s not calling the Java code \r\n\tmeans user is not disable (even environment is not created)\r\n\r\nNote: unable to deploy.. with below error code\r\n~~~none\r\njava.lang.ClassNotFoundException: com.vaau.rbacx.api.service.RbacxServiceException\r\n~~~\r\n","title":"jdeveloper deployment issue on oracle weblogic server","body":"<p>I am working on an oracle product Identity Management (IDM).\nInitially when I wrote a separate program using Java (JDeveloper) it's worked fine.\nUsers are created in IDM using that java API.\nBut when I changed that program with the idea of the Web interface java code is even not able to deploy on\noracle WebLogic server.</p>\n<h2>Work Flow of Pages</h2>\n<p>index.html (this page has 4 options on menu 1. create user 2. delete user 3. disable user 4.enable user)</p>\n<p>When a user clicks on option 3. disableuser.html page is called</p>\n<p>On disableuser.html there are only 2 controls, a textbox and a button. In the text box the user provides user name whom he\nwants to disable and then he will click on submit button. This submit button will call</p>\n<p>operations.jsp</p>\n<p>this operations.jsp code will call java class (oimuser.java)</p>\n<p>Problem:</p>\n<ol>\n<li>When I try to deploy this code on Oracle WebLogic Server it's unable to be deployed</li>\n<li>When I changed the machine and used my friend's machine the code is deployed and executed but it's not calling the Java code\nmeans user is not disable (even environment is not created)</li>\n</ol>\n<p>Note: unable to deploy.. with below error code</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassNotFoundException: com.vaau.rbacx.api.service.RbacxServiceException\n</code></pre>\n"},{"tags":["java","rust","java-native-interface","bazel"],"answers":[{"tags":[],"owner":{"account_id":187964,"reputation":21,"user_id":426397,"display_name":"Dmitry Komanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663946426,"creation_date":1663946426,"answer_id":73829909,"question_id":68896878,"body_markdown":"I didn&#39;t manage to make it work with `rust_shared_library`, so as workaround I wrapped it in `cc_binary` (relevant [commit](https://github.com/dkomanov/stuff/commit/1153115dbedb66b2913c4bb831affead16764d15#diff-cba8bd345e90e68e3ffcd2f780b14ebfc10db38de7ec1210d5632303b895615aR14)).\r\n\r\nIn your example try to change `rust/BUILD.bazel`:\r\n\r\n```bazel\r\nload(&quot;@rules_rust//rust:defs.bzl&quot;, &quot;rust_shared_library&quot;)\r\nload(&quot;//cargo:crates.bzl&quot;, &quot;all_crate_deps&quot;)\r\n\r\nrust_shared_library(\r\n    name = &quot;rust_lib&quot;,\r\n    srcs = glob([&quot;src/**/*.rs&quot;]),\r\n    edition = &quot;2018&quot;,\r\n    deps = all_crate_deps(), // Import the JNI crate using Bazel\r\n)\r\n\r\ncc_binary(\r\n    name = &quot;rust_bindings&quot;,\r\n    linkshared = True,\r\n    visibility = [&quot;//visibility:public&quot;],\r\n    deps = [&quot;:rust_lib&quot;],\r\n)\r\n```","title":"How to make Rust JNI bindings with Bazel","body":"<p>I didn't manage to make it work with <code>rust_shared_library</code>, so as workaround I wrapped it in <code>cc_binary</code> (relevant <a href=\"https://github.com/dkomanov/stuff/commit/1153115dbedb66b2913c4bb831affead16764d15#diff-cba8bd345e90e68e3ffcd2f780b14ebfc10db38de7ec1210d5632303b895615aR14\" rel=\"nofollow noreferrer\">commit</a>).</p>\n<p>In your example try to change <code>rust/BUILD.bazel</code>:</p>\n<pre><code>load(&quot;@rules_rust//rust:defs.bzl&quot;, &quot;rust_shared_library&quot;)\nload(&quot;//cargo:crates.bzl&quot;, &quot;all_crate_deps&quot;)\n\nrust_shared_library(\n    name = &quot;rust_lib&quot;,\n    srcs = glob([&quot;src/**/*.rs&quot;]),\n    edition = &quot;2018&quot;,\n    deps = all_crate_deps(), // Import the JNI crate using Bazel\n)\n\ncc_binary(\n    name = &quot;rust_bindings&quot;,\n    linkshared = True,\n    visibility = [&quot;//visibility:public&quot;],\n    deps = [&quot;:rust_lib&quot;],\n)\n</code></pre>\n"}],"owner":{"account_id":3331314,"reputation":165,"user_id":2800211,"display_name":"Billbucket"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663946426,"creation_date":1629740542,"question_id":68896878,"body_markdown":"# Introduction\r\n\r\nI have a Rust library that I want to be able to call from Java through JNI. Using Maven, I can use it, but I&#39;m stuck when I try to move to Bazel.\r\n\r\nI run `bazel run //my_lib/java:java_binary` and I get the following\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no rust_bindings in java.library.path: [/private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/my_lib/java/java_binary.runfiles/__main__/my_lib/rust]\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2680)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:807)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:1907)\r\n\tat Main.&lt;clinit&gt;(Main.java:8)\r\n```\r\n\r\nwhich means the Rust shared library library isn&#39;t available. Indeed when I `tree /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/my_lib/java/java_binary.runfiles/__main__/my_lib`, I get \r\n```\r\n└── java\r\n    ├── java_binary -&gt; /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/stackoverflow/java/java_binary\r\n    └── java_binary.jar -&gt; /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/stackoverflow/java/java_binary.jar\r\n```\r\n\r\nHow come bazel doesn&#39;t build the Rust shared library despite the fact it&#39;s a dependancy of the Java binary?\r\n\r\n# The code\r\n\r\n```bash\r\n$ tree .\r\n├── java\r\n│&#160;&#160; ├── BUILD.bazel\r\n│&#160;&#160; ├── Main.class\r\n│&#160;&#160; └── Main.java\r\n└── rust\r\n    ├── BUILD.bazel\r\n    ├── CARGO\r\n    │&#160;&#160; └── BUILD.bazel\r\n    ├── Cargo.toml\r\n    └── src\r\n        └── lib.rs\r\n```\r\n\r\n\r\n`java/Main.java`\r\n\r\n```java\r\npublic class Main {\r\n\r\n    static native void rust();\r\n\r\n    static {\r\n        System.loadLibrary(&quot;rust_bindings&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello from Java&quot;);\r\n        rust();\r\n    }\r\n}\r\n```\r\n\r\n`java/BUILD.bazel`\r\n\r\n```bazel\r\npackage(default_visibility = [&quot;//visibility:public&quot;])\r\n\r\nload(&quot;@rules_java//java:defs.bzl&quot;, &quot;java_binary&quot;)\r\n\r\njava_binary(\r\n    name = &quot;java_binary&quot;,\r\n    srcs = glob([&quot;*.java&quot;]),\r\n    main_class = &quot;Main&quot;,\r\n    deps = [\r\n        &quot;//my_lib/rust:rust_bindings&quot;\r\n    ],\r\n)\r\n\r\n```\r\n\r\n\r\n`rust/Cargo.toml`\r\n\r\n```toml\r\n[package]\r\nname = &quot;rust_bindings&quot;\r\nversion = &quot;0.1.0&quot;\r\nedition = &quot;2018&quot;\r\n\r\n[lib]\r\nname=&quot;rust_bindings&quot;\r\ncrate-type = [&quot;cdylib&quot;]\r\n\r\n[dependencies]\r\njni = &quot;0.19.0&quot;\r\n```\r\n\r\n`rust/src/lib.rs`\r\n\r\n```rust\r\nuse jni::JNIEnv;\r\nuse jni::objects::{JClass, JString};\r\n\r\n#[no_mangle]\r\npub extern &quot;system&quot; fn Java_Main_rust(env: JNIEnv,class: JClass)\r\n{\r\n    println!(&quot;Hello from Rust&quot;);\r\n}\r\n```\r\n\r\n`rust/BUILD.bazel`\r\n\r\n```bazel\r\npackage(default_visibility = [&quot;//visibility:public&quot;])\r\n\r\nload(&quot;@rules_rust//rust:defs.bzl&quot;, &quot;rust_shared_library&quot;)\r\nload(&quot;//cargo:crates.bzl&quot;, &quot;all_crate_deps&quot;)\r\n\r\nrust_shared_library(\r\n    name = &quot;rust_bindings&quot;,\r\n    srcs = glob([&quot;src/**/*.rs&quot;]),\r\n    edition = &quot;2018&quot;,\r\n    deps = all_crate_deps(), // Import the JNI crate using Bazel\r\n)\r\n```\r\n\r\n---\r\nEdit: simplified the code ","title":"How to make Rust JNI bindings with Bazel","body":"<h1>Introduction</h1>\n<p>I have a Rust library that I want to be able to call from Java through JNI. Using Maven, I can use it, but I'm stuck when I try to move to Bazel.</p>\n<p>I run <code>bazel run //my_lib/java:java_binary</code> and I get the following</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no rust_bindings in java.library.path: [/private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/my_lib/java/java_binary.runfiles/__main__/my_lib/rust]\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2680)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:807)\n    at java.base/java.lang.System.loadLibrary(System.java:1907)\n    at Main.&lt;clinit&gt;(Main.java:8)\n</code></pre>\n<p>which means the Rust shared library library isn't available. Indeed when I <code>tree /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/my_lib/java/java_binary.runfiles/__main__/my_lib</code>, I get</p>\n<pre><code>└── java\n    ├── java_binary -&gt; /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/stackoverflow/java/java_binary\n    └── java_binary.jar -&gt; /private/var/tmp/_bazel_XXXXXXXXX/XXXXXXXXXXXXX/execroot/__main__/bazel-out/darwin-fastbuild/bin/stackoverflow/java/java_binary.jar\n</code></pre>\n<p>How come bazel doesn't build the Rust shared library despite the fact it's a dependancy of the Java binary?</p>\n<h1>The code</h1>\n<pre class=\"lang-sh prettyprint-override\"><code>$ tree .\n├── java\n│   ├── BUILD.bazel\n│   ├── Main.class\n│   └── Main.java\n└── rust\n    ├── BUILD.bazel\n    ├── CARGO\n    │   └── BUILD.bazel\n    ├── Cargo.toml\n    └── src\n        └── lib.rs\n</code></pre>\n<p><code>java/Main.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    static native void rust();\n\n    static {\n        System.loadLibrary(&quot;rust_bindings&quot;);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello from Java&quot;);\n        rust();\n    }\n}\n</code></pre>\n<p><code>java/BUILD.bazel</code></p>\n<pre><code>package(default_visibility = [&quot;//visibility:public&quot;])\n\nload(&quot;@rules_java//java:defs.bzl&quot;, &quot;java_binary&quot;)\n\njava_binary(\n    name = &quot;java_binary&quot;,\n    srcs = glob([&quot;*.java&quot;]),\n    main_class = &quot;Main&quot;,\n    deps = [\n        &quot;//my_lib/rust:rust_bindings&quot;\n    ],\n)\n\n</code></pre>\n<p><code>rust/Cargo.toml</code></p>\n<pre><code>[package]\nname = &quot;rust_bindings&quot;\nversion = &quot;0.1.0&quot;\nedition = &quot;2018&quot;\n\n[lib]\nname=&quot;rust_bindings&quot;\ncrate-type = [&quot;cdylib&quot;]\n\n[dependencies]\njni = &quot;0.19.0&quot;\n</code></pre>\n<p><code>rust/src/lib.rs</code></p>\n<pre class=\"lang-rust prettyprint-override\"><code>use jni::JNIEnv;\nuse jni::objects::{JClass, JString};\n\n#[no_mangle]\npub extern &quot;system&quot; fn Java_Main_rust(env: JNIEnv,class: JClass)\n{\n    println!(&quot;Hello from Rust&quot;);\n}\n</code></pre>\n<p><code>rust/BUILD.bazel</code></p>\n<pre><code>package(default_visibility = [&quot;//visibility:public&quot;])\n\nload(&quot;@rules_rust//rust:defs.bzl&quot;, &quot;rust_shared_library&quot;)\nload(&quot;//cargo:crates.bzl&quot;, &quot;all_crate_deps&quot;)\n\nrust_shared_library(\n    name = &quot;rust_bindings&quot;,\n    srcs = glob([&quot;src/**/*.rs&quot;]),\n    edition = &quot;2018&quot;,\n    deps = all_crate_deps(), // Import the JNI crate using Bazel\n)\n</code></pre>\n<hr />\n<p>Edit: simplified the code</p>\n"},{"tags":["java","exception","try-catch"],"comments":[{"owner":{"account_id":1101381,"reputation":2436,"user_id":1093710,"accept_rate":95,"display_name":"Sridhar"},"score":4,"creation_date":1340787742,"post_id":11211286,"comment_id":14739113,"body_markdown":"Have a look at http://docs.oracle.com/javase/7/docs/technotes/guides/language/enhancements.html#javase7 for more Java 7 enhancements. I&#39;m a little surprised this question and it&#39;s answers received so many up votes.","body":"Have a look at <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/enhancements.html#javase7\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/language/&hellip;</a> for more Java 7 enhancements. I&#39;m a little surprised this question and it&#39;s answers received so many up votes."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":234,"is_accepted":true,"score":234,"last_activity_date":1663946389,"creation_date":1340726325,"answer_id":11211334,"question_id":11211286,"body_markdown":"Java 7 and later\r\n----------------\r\n\r\n[Multiple-exception catches][1] are supported, starting in Java 7.\r\n\r\nThe syntax is:\r\n\r\n    try {\r\n         // stuff\r\n    } catch (Exception1 | Exception2 ex) {\r\n         // Handle both exceptions\r\n    }\r\n\r\nThe static type of `ex` is the most specialized common supertype of the exceptions listed.  There is a nice feature where if you rethrow `ex` in the catch, the compiler knows that only one of the *listed* exceptions can be thrown.\r\n\r\n---------------\r\n\r\nJava 6 and earlier\r\n------------------\r\n\r\nPrior to Java 7, there are ways to handle this problem, but they tend to be inelegant, and to have limitations.\r\n\r\nApproach #1\r\n-----------\r\n\r\n    try {\r\n         // stuff\r\n    } catch (Exception1 ex) {\r\n         handleException(ex);\r\n    } catch (Exception2 ex) {\r\n         handleException(ex);\r\n    }\r\n    \r\n    public void handleException(SuperException ex) {\r\n         // handle exception here\r\n    }\r\n\r\nThis gets messy if the exception handler needs to access local variables declared before the `try`.  And if the handler method needs to rethrow the exception (and it is checked) then you run into serious problems with the signature.  Specifically, `handleException` has to be declared as throwing `SuperException` ... which potentially means you have to change the signature of the enclosing method, and so on.\r\n\r\nApproach #2\r\n-----------\r\n\r\n    try {\r\n         // stuff\r\n    } catch (SuperException ex) {\r\n         if (ex instanceof Exception1 || ex instanceof Exception2) {\r\n             // handle exception\r\n         } else {\r\n             throw ex;\r\n         }\r\n    }\r\n\r\nOnce again, we have a potential problem with signatures.  \r\n\r\nApproach #3\r\n-----------\r\n\r\n    try {\r\n         // stuff\r\n    } catch (SuperException ex) {\r\n         if (ex instanceof Exception1 || ex instanceof Exception2) {\r\n             // handle exception\r\n         }\r\n    }\r\n\r\nIf you leave out the `else` part (e.g. because there are no other subtypes of `SuperException` at the moment) the code becomes more fragile.  If the exception hierarchy is reorganized, this handler without an `else` may end up silently eating exceptions!\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/java7exceptions-486908.html","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<h2>Java 7 and later</h2>\n<p><a href=\"http://www.oracle.com/technetwork/articles/java/java7exceptions-486908.html\" rel=\"noreferrer\">Multiple-exception catches</a> are supported, starting in Java 7.</p>\n<p>The syntax is:</p>\n<pre><code>try {\n     // stuff\n} catch (Exception1 | Exception2 ex) {\n     // Handle both exceptions\n}\n</code></pre>\n<p>The static type of <code>ex</code> is the most specialized common supertype of the exceptions listed.  There is a nice feature where if you rethrow <code>ex</code> in the catch, the compiler knows that only one of the <em>listed</em> exceptions can be thrown.</p>\n<hr />\n<h2>Java 6 and earlier</h2>\n<p>Prior to Java 7, there are ways to handle this problem, but they tend to be inelegant, and to have limitations.</p>\n<h2>Approach #1</h2>\n<pre><code>try {\n     // stuff\n} catch (Exception1 ex) {\n     handleException(ex);\n} catch (Exception2 ex) {\n     handleException(ex);\n}\n\npublic void handleException(SuperException ex) {\n     // handle exception here\n}\n</code></pre>\n<p>This gets messy if the exception handler needs to access local variables declared before the <code>try</code>.  And if the handler method needs to rethrow the exception (and it is checked) then you run into serious problems with the signature.  Specifically, <code>handleException</code> has to be declared as throwing <code>SuperException</code> ... which potentially means you have to change the signature of the enclosing method, and so on.</p>\n<h2>Approach #2</h2>\n<pre><code>try {\n     // stuff\n} catch (SuperException ex) {\n     if (ex instanceof Exception1 || ex instanceof Exception2) {\n         // handle exception\n     } else {\n         throw ex;\n     }\n}\n</code></pre>\n<p>Once again, we have a potential problem with signatures.</p>\n<h2>Approach #3</h2>\n<pre><code>try {\n     // stuff\n} catch (SuperException ex) {\n     if (ex instanceof Exception1 || ex instanceof Exception2) {\n         // handle exception\n     }\n}\n</code></pre>\n<p>If you leave out the <code>else</code> part (e.g. because there are no other subtypes of <code>SuperException</code> at the moment) the code becomes more fragile.  If the exception hierarchy is reorganized, this handler without an <code>else</code> may end up silently eating exceptions!</p>\n"},{"tags":[],"owner":{"account_id":944235,"reputation":4325,"user_id":971808,"accept_rate":100,"display_name":"jeff"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1340726694,"creation_date":1340726694,"answer_id":11211439,"question_id":11211286,"body_markdown":"If you aren&#39;t on java 7, you can extract your exception handling to a method - that way you can at least minimize duplication\r\n\r\n    try {\r\n       // try something\r\n    }\r\n    catch(ExtendsRuntimeException e) { handleError(e); }\r\n    catch(Exception e) { handleError(e); }","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p>If you aren't on java 7, you can extract your exception handling to a method - that way you can at least minimize duplication</p>\n\n<pre><code>try {\n   // try something\n}\ncatch(ExtendsRuntimeException e) { handleError(e); }\ncatch(Exception e) { handleError(e); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1343082616,"creation_date":1340726945,"answer_id":11211495,"question_id":11211286,"body_markdown":"**Java &lt;= 6.x just allows you to catch one exception for each catch block:**\r\n\r\n    try {\r\n    \r\n    } catch (ExceptionType name) {\r\n    \r\n    } catch (ExceptionType name) {\r\n    \r\n    }\r\n\r\n*Documentation:*\r\n&gt; Each catch block is an exception handler and handles the type of\r\n&gt; exception indicated by its argument. The argument type, ExceptionType,\r\n&gt; declares the type of exception that the handler can handle and must be\r\n&gt; the name of a class that inherits from the Throwable class.\r\n\r\n**For Java 7 you can have multiple Exception caught on one catch block:**\r\n\r\n    catch (IOException|SQLException ex) {\r\n        logger.log(ex);\r\n        throw ex;\r\n    }\r\n\r\n*Documentation:*\r\n&gt; In Java SE 7 and later, a single catch block can handle more than one\r\n&gt; type of exception. This feature can reduce code duplication and lessen\r\n&gt; the temptation to catch an overly broad exception.\r\n\r\n***Reference:***\r\nhttp://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p><strong>Java &lt;= 6.x just allows you to catch one exception for each catch block:</strong></p>\n\n<pre><code>try {\n\n} catch (ExceptionType name) {\n\n} catch (ExceptionType name) {\n\n}\n</code></pre>\n\n<p><em>Documentation:</em></p>\n\n<blockquote>\n  <p>Each catch block is an exception handler and handles the type of\n  exception indicated by its argument. The argument type, ExceptionType,\n  declares the type of exception that the handler can handle and must be\n  the name of a class that inherits from the Throwable class.</p>\n</blockquote>\n\n<p><strong>For Java 7 you can have multiple Exception caught on one catch block:</strong></p>\n\n<pre><code>catch (IOException|SQLException ex) {\n    logger.log(ex);\n    throw ex;\n}\n</code></pre>\n\n<p><em>Documentation:</em></p>\n\n<blockquote>\n  <p>In Java SE 7 and later, a single catch block can handle more than one\n  type of exception. This feature can reduce code duplication and lessen\n  the temptation to catch an overly broad exception.</p>\n</blockquote>\n\n<p><em><strong>Reference:</em></strong>\n<a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html\">http://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html</a></p>\n"},{"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1340821340,"creation_date":1340734459,"answer_id":11213494,"question_id":11211286,"body_markdown":"For Java &lt; 7 you can use if-else along with Exception:\r\n\r\n    try {\r\n        // common logic to handle both exceptions\r\n    } catch (Exception ex) {\r\n        if (ex instanceof Exception1 || ex instanceof Exception2) {\r\n \r\n        }\r\n        else {\r\n            throw ex;\r\n            // or if you don&#39;t want to have to declare Exception use\r\n            // throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\nEdited and replaced Throwable with Exception.","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p>For Java &lt; 7 you can use if-else along with Exception:</p>\n\n<pre><code>try {\n    // common logic to handle both exceptions\n} catch (Exception ex) {\n    if (ex instanceof Exception1 || ex instanceof Exception2) {\n\n    }\n    else {\n        throw ex;\n        // or if you don't want to have to declare Exception use\n        // throw new RuntimeException(ex);\n    }\n}\n</code></pre>\n\n<p>Edited and replaced Throwable with Exception.</p>\n"},{"tags":[],"owner":{"account_id":2341440,"reputation":39,"user_id":2052634,"display_name":"Eli"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1360347352,"creation_date":1360347352,"answer_id":14778822,"question_id":11211286,"body_markdown":"http://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html covers catching multiple exceptions in the same block.\r\n\r\n   \r\n\r\n     try {\r\n         // your code\r\n    } catch (Exception1 | Exception2 ex) {\r\n         // Handle 2 exceptions in Java 7\r\n    }\r\n\r\nI&#39;m making study cards, and this thread was helpful, just wanted to put in my two cents.","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/exceptions/catch.html</a> covers catching multiple exceptions in the same block.</p>\n\n<pre><code> try {\n     // your code\n} catch (Exception1 | Exception2 ex) {\n     // Handle 2 exceptions in Java 7\n}\n</code></pre>\n\n<p>I'm making study cards, and this thread was helpful, just wanted to put in my two cents.</p>\n"},{"tags":[],"owner":{"account_id":3780651,"reputation":1064,"user_id":3140230,"accept_rate":42,"display_name":"Saurab Parakh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391198181,"creation_date":1391198181,"answer_id":21488911,"question_id":11211286,"body_markdown":"Before the launch of Java SE 7 we were habitual of writing code with multiple catch statements associated with a try block.\r\nA very basic Example:\r\n\r\n     try {\r\n      // some instructions\r\n    } catch(ATypeException e) {\r\n    } catch(BTypeException e) {\r\n    } catch(CTypeException e) {\r\n    }\r\n\r\nBut now with the latest update on Java, instead of writing multiple catch statements we can handle multiple exceptions within a single catch clause. Here is an example showing how this feature can be achieved.\r\n\r\n    try {\r\n    // some instructions\r\n    } catch(ATypeException|BTypeException|CTypeException ex) {\r\n       throw e;\r\n    }\r\n\r\nSo multiple Exceptions in a single catch clause not only simplifies the code but also reduce the redundancy of code. \r\nI found this article which explains this feature very well along with its implementation.\r\n[Improved and Better Exception Handling from Java 7][1]\r\nThis may help you too.\r\n\r\n\r\n  [1]: http://www.coolcoder.in/2011/08/improved-and-better-exception-handling.html","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p>Before the launch of Java SE 7 we were habitual of writing code with multiple catch statements associated with a try block.\nA very basic Example:</p>\n\n<pre><code> try {\n  // some instructions\n} catch(ATypeException e) {\n} catch(BTypeException e) {\n} catch(CTypeException e) {\n}\n</code></pre>\n\n<p>But now with the latest update on Java, instead of writing multiple catch statements we can handle multiple exceptions within a single catch clause. Here is an example showing how this feature can be achieved.</p>\n\n<pre><code>try {\n// some instructions\n} catch(ATypeException|BTypeException|CTypeException ex) {\n   throw e;\n}\n</code></pre>\n\n<p>So multiple Exceptions in a single catch clause not only simplifies the code but also reduce the redundancy of code. \nI found this article which explains this feature very well along with its implementation.\n<a href=\"http://www.coolcoder.in/2011/08/improved-and-better-exception-handling.html\" rel=\"nofollow\">Improved and Better Exception Handling from Java 7</a>\nThis may help you too.</p>\n"}],"owner":{"account_id":365724,"reputation":23428,"user_id":710818,"accept_rate":82,"display_name":"user710818"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178957,"favorite_count":0,"down_vote_count":2,"up_vote_count":125,"closed_date":1412941718,"accepted_answer_id":11211334,"answer_count":6,"score":123,"last_activity_date":1663946389,"creation_date":1340726210,"question_id":11211286,"body_markdown":"I need to catch two exceptions because they require the same handling logic. I would like to do something like:\r\n\r\n    catch (Exception e, ExtendsRuntimeException re) {\r\n        // common logic to handle both exceptions\r\n    }\r\n\r\nIs it possible to avoid duplicating the handler code in each catch block?","title":"Is it possible in Java to catch two exceptions in the same catch block?","body":"<p>I need to catch two exceptions because they require the same handling logic. I would like to do something like:</p>\n\n<pre><code>catch (Exception e, ExtendsRuntimeException re) {\n    // common logic to handle both exceptions\n}\n</code></pre>\n\n<p>Is it possible to avoid duplicating the handler code in each catch block?</p>\n"},{"tags":["java","spring","spring-data-jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663946005,"creation_date":1663946005,"answer_id":73829824,"question_id":73829041,"body_markdown":"1) It&#39;s issue that you want to add primary key of entity without real primary key, hibernate can&#39;t identify itemEntity. (Do you have item_id field?)\r\n2) About @IdClass - Hibernate can&#39;t identify class as field and think that you can use inner fields as primary key.\r\n ","title":"Composite key on table where primary key is also foreign key?","body":"<ol>\n<li>It's issue that you want to add primary key of entity without real primary key, hibernate can't identify itemEntity. (Do you have item_id field?)</li>\n<li>About @IdClass - Hibernate can't identify class as field and think that you can use inner fields as primary key.</li>\n</ol>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663946005,"creation_date":1663942210,"question_id":73829041,"body_markdown":"I have table item_image:\r\n\r\n    create table item_image\r\n    (\r\n        item_id bigint        not null\r\n            constraint item_image_pk\r\n                primary key\r\n            constraint item_image_item_fk\r\n                references item,\r\n        location  varchar(1000) not null,\r\n        path      varchar(1000) not null,\r\n        file_name varchar(200)  not null\r\n    );\r\n\r\nAnd mapped it to entity:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;item_image&quot;, schema = &quot;public&quot;)\r\n    public class ItemImageEntity implements Serializable {\r\n    \r\n        @Id\r\n        @OneToOne\r\n        @JoinColumn(name = &quot;item_id&quot;)\r\n        private ItemEntity item;\r\n    \r\n        private String location;\r\n        private String path;\r\n        private String fileName;\r\n        \r\n        // getters and setters\r\n    }\r\n\r\nMy item entity has:\r\n\r\n    @OneToOne(mappedBy = &quot;item&quot;)\r\n    private ItemImageEntity profileImage;\r\n\r\nin it, the postgress table does not contain refference to this item_image, only vice versa.\r\n\r\nWhen i try to run the app i get:\r\n\r\n    \r\n\r\n&gt; @EnableJpaRepositories declared on\r\n&gt; JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration:\r\n&gt; Invocation of init method failed; nested exception is\r\n&gt; java.lang.IllegalArgumentException: This class [ItemImageEntity] does\r\n&gt; not define an IdClass\r\n\r\n\r\nWhy do i need to define IdClass and How? Since i have only 1 primary key.\r\n\r\nThanks for help!\r\n","title":"Composite key on table where primary key is also foreign key?","body":"<p>I have table item_image:</p>\n<pre><code>create table item_image\n(\n    item_id bigint        not null\n        constraint item_image_pk\n            primary key\n        constraint item_image_item_fk\n            references item,\n    location  varchar(1000) not null,\n    path      varchar(1000) not null,\n    file_name varchar(200)  not null\n);\n</code></pre>\n<p>And mapped it to entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;item_image&quot;, schema = &quot;public&quot;)\npublic class ItemImageEntity implements Serializable {\n\n    @Id\n    @OneToOne\n    @JoinColumn(name = &quot;item_id&quot;)\n    private ItemEntity item;\n\n    private String location;\n    private String path;\n    private String fileName;\n    \n    // getters and setters\n}\n</code></pre>\n<p>My item entity has:</p>\n<pre><code>@OneToOne(mappedBy = &quot;item&quot;)\nprivate ItemImageEntity profileImage;\n</code></pre>\n<p>in it, the postgress table does not contain refference to this item_image, only vice versa.</p>\n<p>When i try to run the app i get:</p>\n<blockquote>\n<p>@EnableJpaRepositories declared on\nJpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration:\nInvocation of init method failed; nested exception is\njava.lang.IllegalArgumentException: This class [ItemImageEntity] does\nnot define an IdClass</p>\n</blockquote>\n<p>Why do i need to define IdClass and How? Since i have only 1 primary key.</p>\n<p>Thanks for help!</p>\n"},{"tags":["javascript","java","json","serialization"],"comments":[{"owner":{"account_id":255434,"reputation":21288,"user_id":535480,"display_name":"James"},"score":1,"creation_date":1663946717,"post_id":73829778,"comment_id":130366628,"body_markdown":"Does Java recognize Javascript functions as functions?  Or are they strings in Java?","body":"Does Java recognize Javascript functions as functions?  Or are they strings in Java?"},{"owner":{"account_id":323,"reputation":25104,"user_id":404,"accept_rate":73,"display_name":"Chris Farmer"},"score":0,"creation_date":1663946847,"post_id":73829778,"comment_id":130366676,"body_markdown":"I imagined I&#39;d have to create some simple custom java class to correctly serialize it, but JSONObject doesn&#39;t seem too friendly in allowing types to expose their own serializers.  All my functions happen to be really short text, but it just seems goofy to have to re-configure it all on the client like I&#39;m doing.  Anyway, my internal representation for these in java right now is just simple constant strings.","body":"I imagined I&#39;d have to create some simple custom java class to correctly serialize it, but JSONObject doesn&#39;t seem too friendly in allowing types to expose their own serializers.  All my functions happen to be really short text, but it just seems goofy to have to re-configure it all on the client like I&#39;m doing.  Anyway, my internal representation for these in java right now is just simple constant strings."},{"owner":{"account_id":255434,"reputation":21288,"user_id":535480,"display_name":"James"},"score":0,"creation_date":1663947204,"post_id":73829778,"comment_id":130366809,"body_markdown":"It depends on how you plan to feed this data into Javascript.  If you have to send it as a response to an AJAX request, it&#39;s not going to be as easy.  If you&#39;re writing it to a JSP (or similar server script) page, you can just output the object string with functions and it will be parsed as javascript by the browser.","body":"It depends on how you plan to feed this data into Javascript.  If you have to send it as a response to an AJAX request, it&#39;s not going to be as easy.  If you&#39;re writing it to a JSP (or similar server script) page, you can just output the object string with functions and it will be parsed as javascript by the browser."},{"owner":{"account_id":323,"reputation":25104,"user_id":404,"accept_rate":73,"display_name":"Chris Farmer"},"score":0,"creation_date":1663947644,"post_id":73829778,"comment_id":130367003,"body_markdown":"I&#39;m basically just writing a js file to be loaded directly by the browser via a `&lt;script&gt;` tag, and this object is one part of that file.","body":"I&#39;m basically just writing a js file to be loaded directly by the browser via a <code>&lt;script&gt;</code> tag, and this object is one part of that file."},{"owner":{"account_id":255434,"reputation":21288,"user_id":535480,"display_name":"James"},"score":0,"creation_date":1663948397,"post_id":73829778,"comment_id":130367286,"body_markdown":"I can&#39;t think of an easy way to get JSONObject to produce exactly the right JS with methods.  Something hacky like assign a special ID instead of the method, let JSONObject produce a JSON string, and then a search and replace (for the ID, replacing it with proper function code).","body":"I can&#39;t think of an easy way to get JSONObject to produce exactly the right JS with methods.  Something hacky like assign a special ID instead of the method, let JSONObject produce a JSON string, and then a search and replace (for the ID, replacing it with proper function code)."}],"owner":{"account_id":323,"reputation":25104,"user_id":404,"accept_rate":73,"display_name":"Chris Farmer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663945817,"creation_date":1663945817,"question_id":73829778,"body_markdown":"\r\nI have a java project where I am trying to serialize a javascript object that later needs to be viewed in a browser.  I&#39;d been using `org.json.JSONObject` to generate the javascript object, and that works great for basic json-friendly types.  Recently I have a need to add javascript functions to the serialized javascript, but this `JSONObject` doesn&#39;t seem to offer a good path to serialize javascript functions.\r\n\r\nI&#39;d really like to end up with something like this:\r\n\r\n```\r\n{\r\n  &quot;foo&quot;: &quot;bar&quot;,\r\n  &quot;baz&quot;: function (x, y) {\r\n    return x+y;\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m happy to define some custom serializer in java for the function, but I&#39;ve had trouble seeing how I could extend `JSONObject` to accomplish that.  I have shamefully used this workaround for now, where I create a json structure of known shape...\r\n\r\n```\r\n{\r\n  &quot;foo&quot;: &quot;bar&quot;,\r\n  &quot;baz&quot;: {\r\n    &quot;function&quot;: {\r\n      &quot;args&quot;: [&quot;x&quot;, &quot;y&quot;],\r\n      &quot;body&quot;: &quot;return x+y;&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n...and then converting it to a real function on the browser client side.  This seems to work, but I&#39;d really prefer just more cleanly serializing the function in the first place.\r\n\r\nFrom java, how can I serialize a javascript object that contains javascript functions?\r\n\r\n","title":"Serializing a non-JSON javascript object in java","body":"<p>I have a java project where I am trying to serialize a javascript object that later needs to be viewed in a browser.  I'd been using <code>org.json.JSONObject</code> to generate the javascript object, and that works great for basic json-friendly types.  Recently I have a need to add javascript functions to the serialized javascript, but this <code>JSONObject</code> doesn't seem to offer a good path to serialize javascript functions.</p>\n<p>I'd really like to end up with something like this:</p>\n<pre><code>{\n  &quot;foo&quot;: &quot;bar&quot;,\n  &quot;baz&quot;: function (x, y) {\n    return x+y;\n  }\n}\n</code></pre>\n<p>I'm happy to define some custom serializer in java for the function, but I've had trouble seeing how I could extend <code>JSONObject</code> to accomplish that.  I have shamefully used this workaround for now, where I create a json structure of known shape...</p>\n<pre><code>{\n  &quot;foo&quot;: &quot;bar&quot;,\n  &quot;baz&quot;: {\n    &quot;function&quot;: {\n      &quot;args&quot;: [&quot;x&quot;, &quot;y&quot;],\n      &quot;body&quot;: &quot;return x+y;&quot;\n    }\n  }\n}\n</code></pre>\n<p>...and then converting it to a real function on the browser client side.  This seems to work, but I'd really prefer just more cleanly serializing the function in the first place.</p>\n<p>From java, how can I serialize a javascript object that contains javascript functions?</p>\n"},{"tags":["java","pytorch"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1663775586,"post_id":73803672,"comment_id":130320208,"body_markdown":"AFAIK, pyTorch saves model files in [pickle](https://docs.python.org/3/library/pickle.html) format.  This might be a good option to read pickle files: https://formats.kaitai.io/python_pickle/java.html","body":"AFAIK, pyTorch saves model files in <a href=\"https://docs.python.org/3/library/pickle.html\" rel=\"nofollow noreferrer\">pickle</a> format.  This might be a good option to read pickle files: <a href=\"https://formats.kaitai.io/python_pickle/java.html\" rel=\"nofollow noreferrer\">formats.kaitai.io/python_pickle/java.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663877575,"creation_date":1663803282,"answer_id":73807904,"question_id":73803672,"body_markdown":"Q: What is the proper way to map from a pyTorch model file to Java objects?\r\n\r\nA: I believe a pyTorch model file is just a [pickle](https://docs.python.org/3/library/pickle.html) serialization of Python objects.  One alternative might be [PythonPickle](https://formats.kaitai.io/python_pickle/java.html).\r\n\r\n----------\r\n\r\nYour challenge is to read a PyTorch (.pt?) model file in Java.  \r\n\r\n* One alternative is to &quot;reverse engineer&quot; those parts of the format you&#39;re interested in, and write your own &quot;.pt decoder&quot;.  \r\n\r\n  It sounds like you&#39;ve already started down this path, and had some success.  If this works for you - great!\r\n\r\n* Since a &quot;.pt&quot; file is just  &quot;pickled Python&quot;, I suggested trying PythonPickle.  It&#39;s very &quot;lightweight&quot;, and it looked like it might do everything you&#39;re looking for - and more.\r\n\r\n* Yet another alternative might be [DeepJavaLibrary](https://github.com/deepjavalibrary), a set of Java-language bindings for pyTorch.\r\n\r\n* Who knows - you might even want to write a little Python script to a) read a .pt file, b) write it to JSON.\r\n\r\nAnyway - please let us know what you decide.\r\n\r\n","title":"What java API can I use to extract the names from a PyTorch model file?","body":"<p>Q: What is the proper way to map from a pyTorch model file to Java objects?</p>\n<p>A: I believe a pyTorch model file is just a <a href=\"https://docs.python.org/3/library/pickle.html\" rel=\"nofollow noreferrer\">pickle</a> serialization of Python objects.  One alternative might be <a href=\"https://formats.kaitai.io/python_pickle/java.html\" rel=\"nofollow noreferrer\">PythonPickle</a>.</p>\n<hr />\n<p>Your challenge is to read a PyTorch (.pt?) model file in Java.</p>\n<ul>\n<li><p>One alternative is to &quot;reverse engineer&quot; those parts of the format you're interested in, and write your own &quot;.pt decoder&quot;.</p>\n<p>It sounds like you've already started down this path, and had some success.  If this works for you - great!</p>\n</li>\n<li><p>Since a &quot;.pt&quot; file is just  &quot;pickled Python&quot;, I suggested trying PythonPickle.  It's very &quot;lightweight&quot;, and it looked like it might do everything you're looking for - and more.</p>\n</li>\n<li><p>Yet another alternative might be <a href=\"https://github.com/deepjavalibrary\" rel=\"nofollow noreferrer\">DeepJavaLibrary</a>, a set of Java-language bindings for pyTorch.</p>\n</li>\n<li><p>Who knows - you might even want to write a little Python script to a) read a .pt file, b) write it to JSON.</p>\n</li>\n</ul>\n<p>Anyway - please let us know what you decide.</p>\n"}],"owner":{"account_id":974084,"reputation":3173,"user_id":995935,"accept_rate":55,"display_name":"Mutant Bob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663945442,"creation_date":1663775301,"question_id":73803672,"body_markdown":"I have been given a pytorch model file, and some object detection results.  The object detection results give number to identify what kind of object it detected, but I want the names from the model file.\r\n\r\nSome python code I found looks like this\r\n\r\n    model = DetectMultiBackend(weights, device=device, dnn=dnn, data=data, fp16=half)\r\n    stride, names, pt = model.stride, model.names, model.pt\r\n\r\nI am pretty sure I need to get the `names` array, but I&#39;m working in java, not python.  I looked into the `ai.djl.pytorch.engine.PtModel`, but could not spot anything that looks like a mapping from numbers to names.\r\n\r\nIt even looks like DeepJavaLibrary can&#39;t support loading a plain `.pt` file:\r\n\r\n    String fname = &quot;/tmp/yolov5s.pt&quot;; \r\n    {\r\n        PtEngine engine = (PtEngine) Engine.getEngine(&quot;PyTorch&quot;);\r\n        Model model = engine.newModel(&quot;bacon&quot;, null);\r\n        model.load(new File(fname).toPath());\r\n        Block block = model.getBlock();\r\n        System.out.println(block);\r\n    }\r\n\r\n```\r\nException in thread &quot;main&quot; ai.djl.engine.EngineException: PytorchStreamReader failed locating file constants.pkl: file not found\r\n\tat ai.djl.pytorch.jni.PyTorchLibrary.moduleLoad(Native Method)\r\n\tat ai.djl.pytorch.jni.JniUtils.loadModule(JniUtils.java:1550)\r\n\tat ai.djl.pytorch.engine.PtModel.load(PtModel.java:90)\r\n\tat ai.djl.Model.load(Model.java:110)\r\n\tat project.pictureServer.PyTorchFile.main(PyTorchFile.java:37)\r\n```\r\n\r\nWhat is the proper way to map from object/class numbers to names using Java and a PyTorch model file?\r\n","title":"What java API can I use to extract the names from a PyTorch model file?","body":"<p>I have been given a pytorch model file, and some object detection results.  The object detection results give number to identify what kind of object it detected, but I want the names from the model file.</p>\n<p>Some python code I found looks like this</p>\n<pre><code>model = DetectMultiBackend(weights, device=device, dnn=dnn, data=data, fp16=half)\nstride, names, pt = model.stride, model.names, model.pt\n</code></pre>\n<p>I am pretty sure I need to get the <code>names</code> array, but I'm working in java, not python.  I looked into the <code>ai.djl.pytorch.engine.PtModel</code>, but could not spot anything that looks like a mapping from numbers to names.</p>\n<p>It even looks like DeepJavaLibrary can't support loading a plain <code>.pt</code> file:</p>\n<pre><code>String fname = &quot;/tmp/yolov5s.pt&quot;; \n{\n    PtEngine engine = (PtEngine) Engine.getEngine(&quot;PyTorch&quot;);\n    Model model = engine.newModel(&quot;bacon&quot;, null);\n    model.load(new File(fname).toPath());\n    Block block = model.getBlock();\n    System.out.println(block);\n}\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; ai.djl.engine.EngineException: PytorchStreamReader failed locating file constants.pkl: file not found\n    at ai.djl.pytorch.jni.PyTorchLibrary.moduleLoad(Native Method)\n    at ai.djl.pytorch.jni.JniUtils.loadModule(JniUtils.java:1550)\n    at ai.djl.pytorch.engine.PtModel.load(PtModel.java:90)\n    at ai.djl.Model.load(Model.java:110)\n    at project.pictureServer.PyTorchFile.main(PyTorchFile.java:37)\n</code></pre>\n<p>What is the proper way to map from object/class numbers to names using Java and a PyTorch model file?</p>\n"},{"tags":["java","jackson","pojo"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1663795346,"post_id":73806965,"comment_id":130326376,"body_markdown":"Pojos are great and they are the easiest to work with, but you can probably do something based on https://www.baeldung.com/jackson-custom-serialization i.e. write your own Serializer - another example https://stackoverflow.com/questions/12046786/jackson-json-custom-serialization-for-certain-fields","body":"Pojos are great and they are the easiest to work with, but you can probably do something based on <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-custom-serialization</a> i.e. write your own Serializer - another example <a href=\"https://stackoverflow.com/questions/12046786/jackson-json-custom-serialization-for-certain-fields\" title=\"jackson json custom serialization for certain fields\">stackoverflow.com/questions/12046786/&hellip;</a>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1663797389,"post_id":73806965,"comment_id":130326819,"body_markdown":"I would probably just represent each number as a `String`, exactly as supplied in the JSON. Does this program ever manipulate phone numbers as actual  numbers?","body":"I would probably just represent each number as a <code>String</code>, exactly as supplied in the JSON. Does this program ever manipulate phone numbers as actual  numbers?"},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1663816629,"post_id":73806965,"comment_id":130329652,"body_markdown":"if you want list of phoneNumbers containing an object of String of phoneNumber then you need to define a POJO class for that, and also you class Person is not following the java naming conventions, please refer to this https://www.javatpoint.com/java-naming-conventions for further information.","body":"if you want list of phoneNumbers containing an object of String of phoneNumber then you need to define a POJO class for that, and also you class Person is not following the java naming conventions, please refer to this <a href=\"https://www.javatpoint.com/java-naming-conventions\" rel=\"nofollow noreferrer\">javatpoint.com/java-naming-conventions</a> for further information."}],"owner":{"account_id":10250946,"reputation":1325,"user_id":7565209,"display_name":"Chenhai-胡晨海"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663945437,"creation_date":1663794578,"question_id":73806965,"body_markdown":"What is the best way to represent below phoneNumbers. I know you can achieve this by defining a list of phoneNumber Class. \r\nBut I&#39;m not a big fan of creating POJOs, since it&#39;s only a single key-value pair. Are there any alternative ways such as Jackson annotation can do the same job? Don&#39;t worry about too much on the sample JSON below this is just an example, the phoneNumber array has to be serialized to array of objects\r\n\r\nI have below class defined:\r\n\r\n    class Person {\r\n       private String firstName;\r\n       private String lastName;\r\n       private int[] phoneNumbers; \r\n    }\r\n\r\nI expect output something like this:\r\n\r\n    {\r\n      &quot;firstName&quot;: &quot;John&quot;,\r\n      &quot;lastName&quot;: &quot;Doe&quot;,\r\n      &quot;phoneNumbers&quot;: [\r\n         { &quot;phoneNumber&quot;: &quot;123456&quot; },\r\n         { &quot;phoneNumber&quot;: &quot;321123&quot; },\r\n         { &quot;phoneNumber&quot;: &quot;123555&quot; }\r\n       ]\r\n    }","title":"Convert array of string to array of objects with jackson pojo","body":"<p>What is the best way to represent below phoneNumbers. I know you can achieve this by defining a list of phoneNumber Class.\nBut I'm not a big fan of creating POJOs, since it's only a single key-value pair. Are there any alternative ways such as Jackson annotation can do the same job? Don't worry about too much on the sample JSON below this is just an example, the phoneNumber array has to be serialized to array of objects</p>\n<p>I have below class defined:</p>\n<pre><code>class Person {\n   private String firstName;\n   private String lastName;\n   private int[] phoneNumbers; \n}\n</code></pre>\n<p>I expect output something like this:</p>\n<pre><code>{\n  &quot;firstName&quot;: &quot;John&quot;,\n  &quot;lastName&quot;: &quot;Doe&quot;,\n  &quot;phoneNumbers&quot;: [\n     { &quot;phoneNumber&quot;: &quot;123456&quot; },\n     { &quot;phoneNumber&quot;: &quot;321123&quot; },\n     { &quot;phoneNumber&quot;: &quot;123555&quot; }\n   ]\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":5,"creation_date":1663945163,"post_id":73829644,"comment_id":130366011,"body_markdown":"You just changed their name. They&#39;re still different variables, since they are in a different scope.","body":"You just changed their name. They&#39;re still different variables, since they are in a different scope."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1663945226,"post_id":73829644,"comment_id":130366028,"body_markdown":"You can name your variables whatever you like.  Did you *try* to make your changes?  Did something not work?  They aren&#39;t &quot;extra variables&quot;, changing their names doesn&#39;t remove them.","body":"You can name your variables whatever you like.  Did you <i>try</i> to make your changes?  Did something not work?  They aren&#39;t &quot;extra variables&quot;, changing their names doesn&#39;t remove them."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1663945247,"post_id":73829644,"comment_id":130366033,"body_markdown":"You can use any name for them you want. The course probably used different names to make it easy and clear when referring to them in the text.","body":"You can use any name for them you want. The course probably used different names to make it easy and clear when referring to them in the text."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1663945275,"post_id":73829644,"comment_id":130366045,"body_markdown":"Changing variable names only changes how readable code is to a human being. It changes nothing about how the code is actually executed.","body":"Changing variable names only changes how readable code is to a human being. It changes nothing about how the code is actually executed."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1663945392,"post_id":73829644,"comment_id":130366101,"body_markdown":"&quot;the code isn&#39;t redundant, is it?&quot; &lt;- The code is neither &quot;redundant&quot; in the first nor the second version. You seem confused and probably think giving your method parameters the same name as some other variable somehow makes them related... This is not the case. Both versions you posted are absolutely identical.","body":"&quot;the code isn&#39;t redundant, is it?&quot; &lt;- The code is neither &quot;redundant&quot; in the first nor the second version. You seem confused and probably think giving your method parameters the same name as some other variable somehow makes them related... This is not the case. Both versions you posted are absolutely identical."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1663945404,"post_id":73829644,"comment_id":130366104,"body_markdown":"the parameter of a method work like a local variable of that method and is not related to the variables of any other block (simple test: do `a = 99` inside the `min()` method, the variables in `main()` will not be changed)","body":"the parameter of a method work like a local variable of that method and is not related to the variables of any other block (simple test: do <code>a = 99</code> inside the <code>min()</code> method, the variables in <code>main()</code> will not be changed)"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1663945421,"post_id":73829644,"comment_id":130366108,"body_markdown":"Regarding the update... *&quot;The result is the same&quot;* - Because no logic was changed.  All you did was re-name a couple of variables.  The code still does the same thing.  *&quot;the code isn&#39;t redundant, is it?&quot;* - Define &quot;redundant&quot; in this case.  Since your variable names are single letters with no contextual/semantic meaning then re-using the same letter **could** be considered making the code less clear.  Why not give **meaningful** names to your variables?","body":"Regarding the update... <i>&quot;The result is the same&quot;</i> - Because no logic was changed.  All you did was re-name a couple of variables.  The code still does the same thing.  <i>&quot;the code isn&#39;t redundant, is it?&quot;</i> - Define &quot;redundant&quot; in this case.  Since your variable names are single letters with no contextual/semantic meaning then re-using the same letter <b>could</b> be considered making the code less clear.  Why not give <b>meaningful</b> names to your variables?"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":3,"creation_date":1663945635,"post_id":73829644,"comment_id":130366183,"body_markdown":"I think your confusion might be this: The `a` and `b` **variables** in `main` are *not* the same as your `a` and `b` **parameters** to the `min` function (originally `c` and `d`). They&#39;re completely different things that have the same names (in your version). There is nothing more complex about the original vs. your version (arguably, for a teaching example, the original is simpler for the reason I mentioned above: giving distinct things different names).","body":"I think your confusion might be this: The <code>a</code> and <code>b</code> <b>variables</b> in <code>main</code> are <i>not</i> the same as your <code>a</code> and <code>b</code> <b>parameters</b> to the <code>min</code> function (originally <code>c</code> and <code>d</code>). They&#39;re completely different things that have the same names (in your version). There is nothing more complex about the original vs. your version (arguably, for a teaching example, the original is simpler for the reason I mentioned above: giving distinct things different names)."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1663945743,"post_id":73829644,"comment_id":130366229,"body_markdown":"Does this answer your question? [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1663945793,"post_id":73829644,"comment_id":130366250,"body_markdown":"also: https://stackoverflow.com/questions/38177140/what-is-scope-in-java","body":"also: <a href=\"https://stackoverflow.com/questions/38177140/what-is-scope-in-java\" title=\"what is scope in java\">stackoverflow.com/questions/38177140/what-is-scope-in-java</a>"}],"owner":{"account_id":25222919,"reputation":11,"user_id":19060590,"display_name":"noob_saibot"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663945315,"creation_date":1663945060,"question_id":73829644,"body_markdown":"I&#39;m learning Java these weeks.\r\n\r\nHere is a function code for my course:\r\n\r\n    public class MethodCall\r\n    {\r\n       public static void main(String[] args)\r\n       {\r\n          int a = 5, b = 7;\r\n          int m = min(a, b);\r\n          System.out.println(&quot;Minimum is &quot;+ m);\r\n       }\r\n    \r\n       public static int min(int c, int d)\r\n       {\r\n          int m2;\r\n          if (c &lt; d)\r\n               m2 = c;\r\n          else\r\n               m2 = d;\r\n    \r\n          return m2;\r\n       }\r\n    }\r\n\r\nWhy do I need to use extra variables: c and d?\r\n\r\nWhy not to write this code like this:\r\n\r\n    public class MethodCall\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int a = 5, b = 7;\r\n            int m = min(a, b);\r\n            System.out.println(&quot;Minimum is &quot;+ m);\r\n        }\r\n    \r\n        public static int min(int a, int b)\r\n        {\r\n            int m2;\r\n            if (a &lt; b)\r\n                m2 = a;\r\n            \r\netc.\r\n\r\n ?\r\n\r\nThe result is the same and the code isn&#39;t redundant, is it?","title":"Why not to make this function more simple?","body":"<p>I'm learning Java these weeks.</p>\n<p>Here is a function code for my course:</p>\n<pre><code>public class MethodCall\n{\n   public static void main(String[] args)\n   {\n      int a = 5, b = 7;\n      int m = min(a, b);\n      System.out.println(&quot;Minimum is &quot;+ m);\n   }\n\n   public static int min(int c, int d)\n   {\n      int m2;\n      if (c &lt; d)\n           m2 = c;\n      else\n           m2 = d;\n\n      return m2;\n   }\n}\n</code></pre>\n<p>Why do I need to use extra variables: c and d?</p>\n<p>Why not to write this code like this:</p>\n<pre><code>public class MethodCall\n{\n    public static void main(String[] args)\n    {\n        int a = 5, b = 7;\n        int m = min(a, b);\n        System.out.println(&quot;Minimum is &quot;+ m);\n    }\n\n    public static int min(int a, int b)\n    {\n        int m2;\n        if (a &lt; b)\n            m2 = a;\n        \n</code></pre>\n<p>etc.</p>\n<p>?</p>\n<p>The result is the same and the code isn't redundant, is it?</p>\n"},{"tags":["java","spring","spring-mvc","url"],"comments":[{"owner":{"account_id":7457995,"reputation":872,"user_id":5670592,"display_name":"Andonaeus"},"score":1,"creation_date":1462478296,"post_id":37058691,"comment_id":61665438,"body_markdown":"Haven&#39;t tried it, but I think the following should work. Define a domain object that models your request objects (value in this case). Create a List of these objects as JSON, Base64 encode it, and send the GET request. On the Spring side, change the Class type of the Request Param to be a list of your domain objects.","body":"Haven&#39;t tried it, but I think the following should work. Define a domain object that models your request objects (value in this case). Create a List of these objects as JSON, Base64 encode it, and send the GET request. On the Spring side, change the Class type of the Request Param to be a list of your domain objects."},{"owner":{"account_id":1697235,"reputation":1676,"user_id":1558358,"accept_rate":80,"display_name":"DrGodCarl"},"score":2,"creation_date":1462478882,"post_id":37058691,"comment_id":61665743,"body_markdown":"@Andonaeus: That way lies madness. That said, I&#39;ve been considering it since I started this particular section of this project.","body":"@Andonaeus: That way lies madness. That said, I&#39;ve been considering it since I started this particular section of this project."},{"owner":{"account_id":3535938,"reputation":4695,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1462479688,"post_id":37058691,"comment_id":61666175,"body_markdown":"Very similar yet also unsolved: http://stackoverflow.com/q/33484711/2954288","body":"Very similar yet also unsolved: <a href=\"http://stackoverflow.com/q/33484711/2954288\">stackoverflow.com/q/33484711/2954288</a>"},{"owner":{"account_id":7457995,"reputation":872,"user_id":5670592,"display_name":"Andonaeus"},"score":0,"creation_date":1462481529,"post_id":37058691,"comment_id":61667128,"body_markdown":"@DrGodCarl It is indeed not the best solution, but wouldn&#39;t be so bad if your domain object was literally a class that exposes a single String variable. I can&#39;t really think of another way to do it, but I will test that solution and reply.","body":"@DrGodCarl It is indeed not the best solution, but wouldn&#39;t be so bad if your domain object was literally a class that exposes a single String variable. I can&#39;t really think of another way to do it, but I will test that solution and reply."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1589580592,"post_id":37058691,"comment_id":109361062,"body_markdown":"Ran into a bug due to this today. App breaks due to an internal REST call to a Spring service that takes in a list of items.  The app behaves unexpectedly when the user enters a string containing a comma, since the internal REST service treats them as two separate items.","body":"Ran into a bug due to this today. App breaks due to an internal REST call to a Spring service that takes in a list of items.  The app behaves unexpectedly when the user enters a string containing a comma, since the internal REST service treats them as two separate items."},{"owner":{"account_id":287674,"reputation":2988,"user_id":587641,"accept_rate":42,"display_name":"xtian"},"score":0,"creation_date":1645738075,"post_id":37058691,"comment_id":125957829,"body_markdown":"Some solutions are here https://stackoverflow.com/questions/4998748/how-to-prevent-parameter-binding-from-interpreting-commas-in-spring-3-0-5","body":"Some solutions are here <a href=\"https://stackoverflow.com/questions/4998748/how-to-prevent-parameter-binding-from-interpreting-commas-in-spring-3-0-5\" title=\"how to prevent parameter binding from interpreting commas in spring 3 0 5\">stackoverflow.com/questions/4998748/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7457995,"reputation":872,"user_id":5670592,"display_name":"Andonaeus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462484202,"creation_date":1462483114,"answer_id":37060422,"question_id":37058691,"body_markdown":"EDIT: I&#39;m not sure why I bothered creating a domain object and going through the trouble of encoding and decoding the whole list. It&#39;s just as well that you can simply Base64 encode each parameter, and decide each parameter when read in.\n\nAs per my comment above, I was able to implement a solution. I am not particularly satisfied with the implementation, but it gets the job done. I would like to reiterate that there is almost certainly a better solution that can follow a more explicit approach with regards to the domain objects and the marshalling and unmarshalling of the values.\r\n\r\nAssuming the list of values is formatted as a JSON list of value objects such as:\r\n\r\n    [{&quot;value&quot;:&quot;test,1&quot;},{&quot;value&quot;: &quot;test,2&quot;}]\r\n\r\nThe Base64 encoding is:\r\n\r\n    W3sidmFsdWUiOiJ0ZXN0LDEifSx7InZhbHVlIjogInRlc3QsMiJ9XQ==\r\n\r\nMy Controller is setup as:\r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\r\n\t@ResponseBody\r\n\tpublic String test(@RequestParam(value = &quot;values&quot;, required = true) String values) throws JsonParseException, JsonMappingException, IOException{\r\n\t\t\r\n\t\tbyte[] bValues = Base64.getDecoder().decode(values.getBytes());\r\n\t\tString json = new String(bValues);\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tList&lt;Value&gt; myObjects = mapper.readValue(json, new TypeReference&lt;List&lt;Value&gt;&gt;(){});\r\n\t\tStringBuilder result = new StringBuilder();\r\n\t\t\r\n\t\tint i = 1;\r\n\t\tfor (Value value : myObjects){\r\n\t\t\tresult.append(&quot;value &quot;);\r\n\t\t\tresult.append(&quot; &quot;);\r\n\t\t\tresult.append(i++);\r\n\t\t\tresult.append(&quot;: &quot;);\r\n\t\t\tresult.append(value.getValue());\r\n\t\t\tresult.append(&quot;&lt;br&gt;&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tresult.setLength(result.length() - 1);\r\n\t\treturn result.length() &gt; 0 ? result.toString() : &quot;Test&quot;;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(UatproxyApplication.class, args);\r\n\t}\r\n\r\nThe Value class is:\r\n\r\n    public class Value implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = -7342446805363029057L;\r\n\r\n\tprivate String value;\r\n\t\r\n\tpublic Value(){\r\n\t\t\r\n\t}\r\n\r\n\tpublic String getValue() {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic void setValue(String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\nThe request is:\r\n\r\n    /test?values=W3sidmFsdWUiOiJ0ZXN0LDEifSx7InZhbHVlIjogInRlc3QsMiJ9XQ==\r\n\r\nAnd the response is:\r\n\r\n    value 1: test,1\r\n    value 2: test,2","title":"Encoded Comma in URL is read as List in Spring","body":"<p>EDIT: I'm not sure why I bothered creating a domain object and going through the trouble of encoding and decoding the whole list. It's just as well that you can simply Base64 encode each parameter, and decide each parameter when read in.</p>\n\n<p>As per my comment above, I was able to implement a solution. I am not particularly satisfied with the implementation, but it gets the job done. I would like to reiterate that there is almost certainly a better solution that can follow a more explicit approach with regards to the domain objects and the marshalling and unmarshalling of the values.</p>\n\n<p>Assuming the list of values is formatted as a JSON list of value objects such as:</p>\n\n<pre><code>[{\"value\":\"test,1\"},{\"value\": \"test,2\"}]\n</code></pre>\n\n<p>The Base64 encoding is:</p>\n\n<pre><code>W3sidmFsdWUiOiJ0ZXN0LDEifSx7InZhbHVlIjogInRlc3QsMiJ9XQ==\n</code></pre>\n\n<p>My Controller is setup as:</p>\n\n<pre><code>@RequestMapping(value = \"/test\", method = RequestMethod.GET)\n@ResponseBody\npublic String test(@RequestParam(value = \"values\", required = true) String values) throws JsonParseException, JsonMappingException, IOException{\n\n    byte[] bValues = Base64.getDecoder().decode(values.getBytes());\n    String json = new String(bValues);\n    ObjectMapper mapper = new ObjectMapper();\n    List&lt;Value&gt; myObjects = mapper.readValue(json, new TypeReference&lt;List&lt;Value&gt;&gt;(){});\n    StringBuilder result = new StringBuilder();\n\n    int i = 1;\n    for (Value value : myObjects){\n        result.append(\"value \");\n        result.append(\" \");\n        result.append(i++);\n        result.append(\": \");\n        result.append(value.getValue());\n        result.append(\"&lt;br&gt;\");\n    }\n\n    result.setLength(result.length() - 1);\n    return result.length() &gt; 0 ? result.toString() : \"Test\";\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(UatproxyApplication.class, args);\n}\n</code></pre>\n\n<p>The Value class is:</p>\n\n<pre><code>public class Value implements Serializable{\n\nprivate static final long serialVersionUID = -7342446805363029057L;\n\nprivate String value;\n\npublic Value(){\n\n}\n\npublic String getValue() {\n    return value;\n}\n\npublic void setValue(String value) {\n    this.value = value;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The request is:</p>\n\n<pre><code>/test?values=W3sidmFsdWUiOiJ0ZXN0LDEifSx7InZhbHVlIjogInRlc3QsMiJ9XQ==\n</code></pre>\n\n<p>And the response is:</p>\n\n<pre><code>value 1: test,1\nvalue 2: test,2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":190249,"reputation":306,"user_id":430100,"display_name":"Grez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663945134,"creation_date":1663945134,"answer_id":73829653,"question_id":37058691,"body_markdown":"You can set your `Delimiter`. The comma is just the default one used in  `org.springframework.boot.convert.DelimitedStringToCollectionConverter` when it isn&#39;t set. If you wish, you can disable the `Delimiter` completely. For your code, it would look like this:\r\n\r\n\r\n```java\r\nimport org.springframework.boot.convert.Delimiter;\r\n\r\n@RequestMapping(value = &quot;/route&quot;, method = RequestMethod.GET)\r\npublic Object thisIsTheMethod(@Delimiter(Delimiter.None) @RequestParam(value = &quot;value&quot;, required = false) List&lt;String&gt; values) {\r\n    return OtherClass.doTheThing(values);\r\n}\r\n```","title":"Encoded Comma in URL is read as List in Spring","body":"<p>You can set your <code>Delimiter</code>. The comma is just the default one used in  <code>org.springframework.boot.convert.DelimitedStringToCollectionConverter</code> when it isn't set. If you wish, you can disable the <code>Delimiter</code> completely. For your code, it would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.convert.Delimiter;\n\n@RequestMapping(value = &quot;/route&quot;, method = RequestMethod.GET)\npublic Object thisIsTheMethod(@Delimiter(Delimiter.None) @RequestParam(value = &quot;value&quot;, required = false) List&lt;String&gt; values) {\n    return OtherClass.doTheThing(values);\n}\n</code></pre>\n"}],"owner":{"account_id":1697235,"reputation":1676,"user_id":1558358,"accept_rate":80,"display_name":"DrGodCarl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6134,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":73829653,"answer_count":2,"score":9,"last_activity_date":1663945134,"creation_date":1462476176,"question_id":37058691,"body_markdown":"I have a REST Component in Spring. Simplified, it looks like this:\r\n\r\n    @RequestMapping(value = &quot;/route&quot;, method = RequestMethod.GET)\r\n    public Object thisIsTheMethod(@RequestParam(value = &quot;value&quot;, required = false) List&lt;String&gt; values) {\r\n        return OtherClass.doTheThing(values);\r\n    }\r\n\r\nThis is used to consume a list of Strings of arbitrary length. You could do it a number of ways:\r\n\r\n    localhost:8080/route?value=this&amp;value=that\r\nOR\r\n\r\n    localhost:8080/route?value=this,that\r\n\r\nNow let&#39;s say I want to pass in one string which contains a comma: `value,1`. How would I go about doing that? Replacing the comma with %2C results in a list of 2 values (&quot;value&quot;, &quot;1&quot;). Putting anything in quotes, or escaped quotes, has similar problems. It looks like it works when I have multiple parameters and use the multiple-values pattern, though not when I use the comma-separated pattern.","title":"Encoded Comma in URL is read as List in Spring","body":"<p>I have a REST Component in Spring. Simplified, it looks like this:</p>\n\n<pre><code>@RequestMapping(value = \"/route\", method = RequestMethod.GET)\npublic Object thisIsTheMethod(@RequestParam(value = \"value\", required = false) List&lt;String&gt; values) {\n    return OtherClass.doTheThing(values);\n}\n</code></pre>\n\n<p>This is used to consume a list of Strings of arbitrary length. You could do it a number of ways:</p>\n\n<pre><code>localhost:8080/route?value=this&amp;value=that\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>localhost:8080/route?value=this,that\n</code></pre>\n\n<p>Now let's say I want to pass in one string which contains a comma: <code>value,1</code>. How would I go about doing that? Replacing the comma with %2C results in a list of 2 values (\"value\", \"1\"). Putting anything in quotes, or escaped quotes, has similar problems. It looks like it works when I have multiple parameters and use the multiple-values pattern, though not when I use the comma-separated pattern.</p>\n"},{"tags":["java","android","for-loop"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1663868408,"post_id":73818687,"comment_id":130346545,"body_markdown":"It&#39;s not super-clear what you&#39;re asking. For one thing since each request is separate they can resolve in any order, at any time.","body":"It&#39;s not super-clear what you&#39;re asking. For one thing since each request is separate they can resolve in any order, at any time."},{"owner":{"account_id":6925866,"reputation":61,"user_id":5316971,"display_name":"Basch"},"score":0,"creation_date":1663908399,"post_id":73818687,"comment_id":130354240,"body_markdown":"Hi sir thanks for the reply,  I use the array (list) with the index of x in movie_class.java (getJsonResponse)-method so that I can request a php json response dynamically with changing parameter. but I wonder why it doesn&#39;t print inorder, You mean I can&#39;t call the getReponse method in movie_class.java inside for loop to get a data in database dynamically?","body":"Hi sir thanks for the reply,  I use the array (list) with the index of x in movie_class.java (getJsonResponse)-method so that I can request a php json response dynamically with changing parameter. but I wonder why it doesn&#39;t print inorder, You mean I can&#39;t call the getReponse method in movie_class.java inside for loop to get a data in database dynamically?"}],"answers":[{"tags":[],"owner":{"account_id":6925866,"reputation":61,"user_id":5316971,"display_name":"Basch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663945132,"creation_date":1663945132,"answer_id":73829652,"question_id":73818687,"body_markdown":"I&#39;ve solve the problem by manipulating the data in php file so that I will just call one request in client side android. :) ","title":"Nested for Loop index is not in order","body":"<p>I've solve the problem by manipulating the data in php file so that I will just call one request in client side android. :)</p>\n"}],"owner":{"account_id":6925866,"reputation":61,"user_id":5316971,"display_name":"Basch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663945132,"creation_date":1663868069,"question_id":73818687,"body_markdown":"MainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    String server_ip = &quot;192.168.252.100&quot;;\r\n        String url = &quot;http://&quot;+server_ip+&quot;/lib/androidAPI.php&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n        String[] list = {&quot;Action&quot;,&quot;Adventure&quot;, &quot;Family&quot;};\r\n                for(int x=0;x&lt;list.length;x++){\r\n                int y = x;\r\n    \r\n                movie_class test = new movie_class();\r\n                test.getJsonResponse(&quot;Get__Movies_By_Genre_Limit&quot;, list[x], getApplicationContext(), new VolleyCallback() {\r\n                    @Override\r\n                    public void onSuccess(JSONArray result2) {\r\n                        try {\r\n                            System.out.println(&quot;array list using y as index: (&quot;+y+&quot;)=&quot;+list[y]);\r\n                            System.out.println(&quot;-Database Query Results&quot;);\r\n                            for (int j = 0; j &lt; result2.length(); j++) {\r\n                                JSONObject obj = result2.getJSONObject(j);\r\n                                System.out.println(&quot;--(&quot; + j + &quot;)&quot; + obj.getString(&quot;name&quot;));\r\n                            }\r\n                        }catch (JSONException e){\r\n    \r\n                        }\r\n                    }\r\n                    @Override\r\n \r\n\r\n                       public void onError(String result) {\r\n                            System.out.println(&quot;(error) populate genres &quot; + result);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            public interface VolleyCallback {\r\n                void onSuccess(JSONArray result);\r\n                void onError(String result);\r\n            }\r\n        }\r\n    \r\n        \r\n\r\nmovie_class.java\r\n\r\n    public class movie_class extends MainActivity{\r\n    public void getJsonResponse(String getType, String parameters, Context mainContext, final VolleyCallback callback) {\r\n        StringRequest strReq = new StringRequest(Request.Method.POST, url,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        try {\r\n                            JSONObject jsonObject = new JSONObject(response);\r\n                            //JSONArray array = new JSONArray();\r\n                            JSONArray array = jsonObject.getJSONArray(&quot;array&quot;);\r\n                            callback.onSuccess(array);\r\n                        }catch (JSONException e){\r\n\r\n                        }\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError volleyError) {\r\n                callback.onError(volleyError + &quot;&quot;);\r\n            }\r\n        }){\r\n            @Override\r\n            public String getBodyContentType() {\r\n                // as we are passing data in the form of url encoded\r\n                // so we are passing the content type below\r\n                return &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;;\r\n            }\r\n\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() {\r\n\r\n                // below line we are creating a map for storing our values in key and value pair.\r\n                Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n\r\n                // on below line we are passing our key and value pair to our parameters.\r\n                params.put(&quot;getType&quot;, getType);\r\n                params.put(&quot;parameters&quot;, parameters);\r\n\r\n                // at last we are returning our params.\r\n                return params;\r\n            }\r\n        };\r\n        Volley.newRequestQueue(mainContext).add(strReq);\r\n    }\r\n}\r\n\r\nOutput 1:\r\n\r\n    array list using y as index: (0)=Action\r\n    -Database Query Results\r\n    --(0)Air Force One\r\n    --(1)Ant-Man\r\n    array list using y as index: (2)=Family\r\n    -Database Query Results\r\n    --(0)Cocomelon\r\n    --(1)Finding Dory\r\n    array list using y as index: (1)=Adventure\r\n    -Database Query Results\r\n    --(0)Air Force One\r\n    --(1)Ant-Man\r\n\r\nOutput 2 without changing the codes:\r\n\r\n    array list using y as index: (1)=Adventure \r\n    -Database Query Results \r\n    --(0)Air Force One \r\n    --(1)Ant-Man\r\n    array list using y as index: (0)=Action\r\n    -Database Query Results\r\n    --(0)Air Force One\r\n    --(1)Ant-Man\r\n    array list using y as index: (2)=Family\r\n    -Database Query Results\r\n    --(0)Cocomelon\r\n    --(1)Finding Dory\r\n\r\nQuestion is why the for loop index (x) is not in order or randomly change order when using it inside the movie_class.getJsonResponse?\r\n\r\nI&#39;m using that technique many times in php but it was different in java.\r\n\r\n\r\n","title":"Nested for Loop index is not in order","body":"<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nString server_ip = &quot;192.168.252.100&quot;;\n    String url = &quot;http://&quot;+server_ip+&quot;/lib/androidAPI.php&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n    String[] list = {&quot;Action&quot;,&quot;Adventure&quot;, &quot;Family&quot;};\n            for(int x=0;x&lt;list.length;x++){\n            int y = x;\n\n            movie_class test = new movie_class();\n            test.getJsonResponse(&quot;Get__Movies_By_Genre_Limit&quot;, list[x], getApplicationContext(), new VolleyCallback() {\n                @Override\n                public void onSuccess(JSONArray result2) {\n                    try {\n                        System.out.println(&quot;array list using y as index: (&quot;+y+&quot;)=&quot;+list[y]);\n                        System.out.println(&quot;-Database Query Results&quot;);\n                        for (int j = 0; j &lt; result2.length(); j++) {\n                            JSONObject obj = result2.getJSONObject(j);\n                            System.out.println(&quot;--(&quot; + j + &quot;)&quot; + obj.getString(&quot;name&quot;));\n                        }\n                    }catch (JSONException e){\n\n                    }\n                }\n                @Override\n\n\n                   public void onError(String result) {\n                        System.out.println(&quot;(error) populate genres &quot; + result);\n                    }\n                });\n            }\n        }\n        public interface VolleyCallback {\n            void onSuccess(JSONArray result);\n            void onError(String result);\n        }\n    }\n\n    \n</code></pre>\n<p>movie_class.java</p>\n<pre><code>public class movie_class extends MainActivity{\npublic void getJsonResponse(String getType, String parameters, Context mainContext, final VolleyCallback callback) {\n    StringRequest strReq = new StringRequest(Request.Method.POST, url,\n            new Response.Listener&lt;String&gt;() {\n                @Override\n                public void onResponse(String response) {\n                    try {\n                        JSONObject jsonObject = new JSONObject(response);\n                        //JSONArray array = new JSONArray();\n                        JSONArray array = jsonObject.getJSONArray(&quot;array&quot;);\n                        callback.onSuccess(array);\n                    }catch (JSONException e){\n\n                    }\n                }\n            }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError volleyError) {\n            callback.onError(volleyError + &quot;&quot;);\n        }\n    }){\n        @Override\n        public String getBodyContentType() {\n            // as we are passing data in the form of url encoded\n            // so we are passing the content type below\n            return &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;;\n        }\n\n        @Override\n        protected Map&lt;String, String&gt; getParams() {\n\n            // below line we are creating a map for storing our values in key and value pair.\n            Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n\n            // on below line we are passing our key and value pair to our parameters.\n            params.put(&quot;getType&quot;, getType);\n            params.put(&quot;parameters&quot;, parameters);\n\n            // at last we are returning our params.\n            return params;\n        }\n    };\n    Volley.newRequestQueue(mainContext).add(strReq);\n}\n</code></pre>\n<p>}</p>\n<p>Output 1:</p>\n<pre><code>array list using y as index: (0)=Action\n-Database Query Results\n--(0)Air Force One\n--(1)Ant-Man\narray list using y as index: (2)=Family\n-Database Query Results\n--(0)Cocomelon\n--(1)Finding Dory\narray list using y as index: (1)=Adventure\n-Database Query Results\n--(0)Air Force One\n--(1)Ant-Man\n</code></pre>\n<p>Output 2 without changing the codes:</p>\n<pre><code>array list using y as index: (1)=Adventure \n-Database Query Results \n--(0)Air Force One \n--(1)Ant-Man\narray list using y as index: (0)=Action\n-Database Query Results\n--(0)Air Force One\n--(1)Ant-Man\narray list using y as index: (2)=Family\n-Database Query Results\n--(0)Cocomelon\n--(1)Finding Dory\n</code></pre>\n<p>Question is why the for loop index (x) is not in order or randomly change order when using it inside the movie_class.getJsonResponse?</p>\n<p>I'm using that technique many times in php but it was different in java.</p>\n"},{"tags":["java","selenium","webdriver","testng","ui-automation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663939621,"post_id":73825925,"comment_id":130363723,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663945006,"creation_date":1663945006,"answer_id":73829630,"question_id":73825925,"body_markdown":"I can imagine you have proper installation (your question details was little bit ambiguous) but in any case it could be the java command is not on the command search path for your user account and take this steps to make sure about installation \r\n\r\n - verify that Java is installed `java -version`\r\n - Confirm the PATH variable includes Java’s \\bin directory in your remote machine\r\n\r\nAfter verification create shell file and execute shell as `ssh user@host &quot;sh ~/app-runner.sh&quot;`, you may also see [here][1] to how create shell for executing jar file(s).\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/29847709/15758781","title":"Why opening a jar file thru ssh on a windows vm opens the browser incognito?","body":"<p>I can imagine you have proper installation (your question details was little bit ambiguous) but in any case it could be the java command is not on the command search path for your user account and take this steps to make sure about installation</p>\n<ul>\n<li>verify that Java is installed <code>java -version</code></li>\n<li>Confirm the PATH variable includes Java’s \\bin directory in your remote machine</li>\n</ul>\n<p>After verification create shell file and execute shell as <code>ssh user@host &quot;sh ~/app-runner.sh&quot;</code>, you may also see <a href=\"https://stackoverflow.com/q/29847709/15758781\">here</a> to how create shell for executing jar file(s).</p>\n"}],"owner":{"account_id":26421394,"reputation":1,"user_id":20069021,"display_name":"Mihai Ghilenschi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663945006,"creation_date":1663926699,"question_id":73825925,"body_markdown":"If I open manually (java -jar name.jar)it works. When I try to open it with ssh command it opens the browser incognito. \r\nI have a windows vm with windows server. JDK is installed. ","title":"Why opening a jar file thru ssh on a windows vm opens the browser incognito?","body":"<p>If I open manually (java -jar name.jar)it works. When I try to open it with ssh command it opens the browser incognito.\nI have a windows vm with windows server. JDK is installed.</p>\n"},{"tags":["java","rx-java","spring-webflux"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1663922482,"post_id":73822646,"comment_id":130357844,"body_markdown":"It is strange to use RxJava with Spring-webflux, as Webflux reactive engine is project-reactor, not RxJava. Have you mistaken one with the other ?","body":"It is strange to use RxJava with Spring-webflux, as Webflux reactive engine is project-reactor, not RxJava. Have you mistaken one with the other ?"},{"owner":{"account_id":25328595,"reputation":17,"user_id":19148797,"display_name":"mclc"},"score":0,"creation_date":1663938561,"post_id":73822646,"comment_id":130363297,"body_markdown":"@amanin No, sorry, I just put it as a label since both work with reactive programming and have similar methods, and the examples could be in any of them.","body":"@amanin No, sorry, I just put it as a label since both work with reactive programming and have similar methods, and the examples could be in any of them."}],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663944984,"creation_date":1663944984,"answer_id":73829625,"question_id":73822646,"body_markdown":"First, a reactor operator can ends in different ways:\r\n\r\n 1. Completes successfully after emitting one (Mono) or more (Flux) value(s)\r\n 2. Completes *empty*: The pipeline sends completion signal, but no value has been emitted\r\n 3. Completes in *error*: somewhere in the pipeline, an error happened. By default, as in imperative code, it stops the chain of operations, and is propagated.\r\n 4. Cancelled: the pipeline might be interrupted by a manual action or a system shutdown. It then ends in error (a special kind of error, but an error nonetheless)\r\n\r\nSecondly, reactive-stream, whatever the implementation (RxJava or Reactor) does **not** accept null values. It means that  trying to produce a null value in/from a reactive stream will either cause an error or an undefined behavior. This is stated in [reactive-stream specification, rule 2.13](https://github.com/reactive-streams/reactive-streams-jvm#user-content-2.13):\r\n\r\n&gt; Calling [...] onNext [...] MUST return normally except when any provided parameter is **null** in which case it MUST throw a java.lang.NullPointerException to the caller\r\n\r\nLet&#39;s try to produce some simple examples first.\r\n\r\nThis program shows the possible ways a pipeline can complete:\r\n\r\n```java\r\n// Reactive streams does not accept null values:\r\ntry {\r\n\tMono.just(null);\r\n} catch (NullPointerException e) {\r\n\tSystem.out.println(&quot;NULL VALUE NOT ACCEPTED !&quot;);\r\n}\r\n\r\n// Mono/Flux operations stop if an error occurs internally, and send it downstream\r\ntry {\r\n\tMono.just(&quot;Something&quot;)\r\n\t    .map(it -&gt; { throw new IllegalStateException(&quot;Bouh !&quot;); })\r\n\t    .block();\r\n} catch (IllegalStateException e) {\r\n\tSystem.out.println(&quot;Error propagated: &quot;+e.getMessage());\r\n}\r\n\r\n// A mono or a flux can end &quot;empty&quot;. It means that no value or error happened.\r\n// The operation just finished without any result\r\nvar result = Mono.just(&quot;Hello !&quot;)\r\n\t\t.filter(it -&gt; !it.endsWith(&quot;!&quot;))\r\n\t\t// Materialize allow to receive the type of signal produced by the pipeline (next value, error, completion, etc.)\r\n\t\t.materialize()\r\n\t\t.block();\r\nSystem.out.println(&quot;Input value has been filtered out. No &#39;next&#39; value &quot; +\r\n\t\t&quot;received, just &#39;completion&#39; signal:&quot; + result.getType());\r\n```\r\n\r\nIts output:\r\n\r\n```stdout\r\nNULL VALUE NOT ACCEPTED !\r\nError propagated: Bouh !\r\nInput value has been filtered out. No &#39;next&#39; value received, just &#39;completion&#39; signal:onNext\r\n```\r\n\r\nThen, let&#39;s look at a program that intercept empty pipelines and errors, and handle them gracefully:\r\n\r\n```java\r\n// Errors can be intercepted and replaced by a value:\r\nvar result = Mono.error(new IllegalStateException(&quot;No !&quot;))\r\n\t\t.onErrorResume(err -&gt; Mono.just(&quot;Override error: Hello again !&quot;))\r\n\t\t.block();\r\nSystem.out.println(result);\r\n\r\n// Empty pipelines can also be replaced by another one that produce a value:\r\nresult = Mono.just(&quot;Hello !&quot;)\r\n\t\t.filter(it -&gt; !it.endsWith(&quot;!&quot;))\r\n\t\t.switchIfEmpty(Mono.just(&quot;Override empty: Hello again !&quot;))\r\n\t\t.block();\r\n\r\nSystem.out.println(result);\r\n```\r\n\r\nIt produces:\r\n\r\n```stdout\r\nOverride error: Hello again !\r\nOverride empty: Hello again !\r\n```\r\n\r\nWith all this tools, we can solve the problem you describe with your query.\r\n\r\nLet&#39;s mimic it:\r\n\r\n```java\r\npublic static Flux&lt;String&gt; processRequest(String queryParam) {\r\n\tif (queryParam == null || queryParam.isEmpty()) return Flux.error(new IllegalArgumentException(&quot;Bad request&quot;));\r\n\treturn Mono.just(queryParam)\r\n\t           .flatMapMany(param -&gt; Flux.fromArray(param.split(&quot;_&quot;)))\r\n\t           .switchIfEmpty(Mono.error(new IllegalStateException(&quot;No data&quot;)));\r\n}\r\n\r\npublic static void main(String[] args) {\r\n\t\r\n\tString[] inputs = { null, &quot;hello_world&quot;, &quot;___&quot; };\r\n\t\r\n\tfor (var input : inputs) {\r\n\t\ttry {\r\n\t\t\tString result = processRequest(input)\r\n\t\t\t\t\t.collect(Collectors.joining(&quot;, &quot;, &quot;[&quot;, &quot;]&quot;))\r\n\t\t\t\t\t.block();\r\n\t\t\tSystem.out.println(&quot;COMPLETED: &quot; + result);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;ERROR: &quot; + e.getMessage());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nIt prints:\r\n\r\n```stdout\r\nERROR: Bad request\r\nCOMPLETED: [hello, world]\r\nERROR: No data\r\n```","title":"how to handle errors in RxJava?","body":"<p>First, a reactor operator can ends in different ways:</p>\n<ol>\n<li>Completes successfully after emitting one (Mono) or more (Flux) value(s)</li>\n<li>Completes <em>empty</em>: The pipeline sends completion signal, but no value has been emitted</li>\n<li>Completes in <em>error</em>: somewhere in the pipeline, an error happened. By default, as in imperative code, it stops the chain of operations, and is propagated.</li>\n<li>Cancelled: the pipeline might be interrupted by a manual action or a system shutdown. It then ends in error (a special kind of error, but an error nonetheless)</li>\n</ol>\n<p>Secondly, reactive-stream, whatever the implementation (RxJava or Reactor) does <strong>not</strong> accept null values. It means that  trying to produce a null value in/from a reactive stream will either cause an error or an undefined behavior. This is stated in <a href=\"https://github.com/reactive-streams/reactive-streams-jvm#user-content-2.13\" rel=\"nofollow noreferrer\">reactive-stream specification, rule 2.13</a>:</p>\n<blockquote>\n<p>Calling [...] onNext [...] MUST return normally except when any provided parameter is <strong>null</strong> in which case it MUST throw a java.lang.NullPointerException to the caller</p>\n</blockquote>\n<p>Let's try to produce some simple examples first.</p>\n<p>This program shows the possible ways a pipeline can complete:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Reactive streams does not accept null values:\ntry {\n    Mono.just(null);\n} catch (NullPointerException e) {\n    System.out.println(&quot;NULL VALUE NOT ACCEPTED !&quot;);\n}\n\n// Mono/Flux operations stop if an error occurs internally, and send it downstream\ntry {\n    Mono.just(&quot;Something&quot;)\n        .map(it -&gt; { throw new IllegalStateException(&quot;Bouh !&quot;); })\n        .block();\n} catch (IllegalStateException e) {\n    System.out.println(&quot;Error propagated: &quot;+e.getMessage());\n}\n\n// A mono or a flux can end &quot;empty&quot;. It means that no value or error happened.\n// The operation just finished without any result\nvar result = Mono.just(&quot;Hello !&quot;)\n        .filter(it -&gt; !it.endsWith(&quot;!&quot;))\n        // Materialize allow to receive the type of signal produced by the pipeline (next value, error, completion, etc.)\n        .materialize()\n        .block();\nSystem.out.println(&quot;Input value has been filtered out. No 'next' value &quot; +\n        &quot;received, just 'completion' signal:&quot; + result.getType());\n</code></pre>\n<p>Its output:</p>\n<pre><code>NULL VALUE NOT ACCEPTED !\nError propagated: Bouh !\nInput value has been filtered out. No 'next' value received, just 'completion' signal:onNext\n</code></pre>\n<p>Then, let's look at a program that intercept empty pipelines and errors, and handle them gracefully:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Errors can be intercepted and replaced by a value:\nvar result = Mono.error(new IllegalStateException(&quot;No !&quot;))\n        .onErrorResume(err -&gt; Mono.just(&quot;Override error: Hello again !&quot;))\n        .block();\nSystem.out.println(result);\n\n// Empty pipelines can also be replaced by another one that produce a value:\nresult = Mono.just(&quot;Hello !&quot;)\n        .filter(it -&gt; !it.endsWith(&quot;!&quot;))\n        .switchIfEmpty(Mono.just(&quot;Override empty: Hello again !&quot;))\n        .block();\n\nSystem.out.println(result);\n</code></pre>\n<p>It produces:</p>\n<pre><code>Override error: Hello again !\nOverride empty: Hello again !\n</code></pre>\n<p>With all this tools, we can solve the problem you describe with your query.</p>\n<p>Let's mimic it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Flux&lt;String&gt; processRequest(String queryParam) {\n    if (queryParam == null || queryParam.isEmpty()) return Flux.error(new IllegalArgumentException(&quot;Bad request&quot;));\n    return Mono.just(queryParam)\n               .flatMapMany(param -&gt; Flux.fromArray(param.split(&quot;_&quot;)))\n               .switchIfEmpty(Mono.error(new IllegalStateException(&quot;No data&quot;)));\n}\n\npublic static void main(String[] args) {\n    \n    String[] inputs = { null, &quot;hello_world&quot;, &quot;___&quot; };\n    \n    for (var input : inputs) {\n        try {\n            String result = processRequest(input)\n                    .collect(Collectors.joining(&quot;, &quot;, &quot;[&quot;, &quot;]&quot;))\n                    .block();\n            System.out.println(&quot;COMPLETED: &quot; + result);\n        } catch (Exception e) {\n            System.out.println(&quot;ERROR: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>It prints:</p>\n<pre><code>ERROR: Bad request\nCOMPLETED: [hello, world]\nERROR: No data\n</code></pre>\n"}],"owner":{"account_id":25328595,"reputation":17,"user_id":19148797,"display_name":"mclc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73829625,"answer_count":1,"score":0,"last_activity_date":1663944984,"creation_date":1663903140,"question_id":73822646,"body_markdown":"It may sound funny or maybe novice, but I don&#39;t understand what it means that something &quot;failed&quot; in Reactive Programming. Do you mean a null? An empty object? someone could please give me examples.\r\n\r\nSome of the scenarios I wish to realize are:\r\n\r\nAssuming I send a query parameter and get either a listing with values or an empty listing; and lastly, I do not send the query parameter.\r\n\r\n- If an empty listing is issued I want to return an exception and a 404 status code.\r\n\r\n- If they do not send the query parameter I want to return an exception and some status code.\r\n\r\nAnd of course, if a list with values is found, return it. Will it be possible to make these cases in a single method? how do I do it?","title":"how to handle errors in RxJava?","body":"<p>It may sound funny or maybe novice, but I don't understand what it means that something &quot;failed&quot; in Reactive Programming. Do you mean a null? An empty object? someone could please give me examples.</p>\n<p>Some of the scenarios I wish to realize are:</p>\n<p>Assuming I send a query parameter and get either a listing with values or an empty listing; and lastly, I do not send the query parameter.</p>\n<ul>\n<li><p>If an empty listing is issued I want to return an exception and a 404 status code.</p>\n</li>\n<li><p>If they do not send the query parameter I want to return an exception and some status code.</p>\n</li>\n</ul>\n<p>And of course, if a list with values is found, return it. Will it be possible to make these cases in a single method? how do I do it?</p>\n"},{"tags":["java","hibernate","many-to-many","jpa-2.0","criteria"],"answers":[{"tags":[],"owner":{"account_id":903562,"reputation":15094,"user_id":939023,"accept_rate":90,"display_name":"Shivan Dragon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1321361159,"creation_date":1321358674,"answer_id":8136047,"question_id":8135612,"body_markdown":"Using HQL:\r\n\r\nYou can use this:\r\n\r\n    Criteria criteria = session.createCriteria(Answer.class);\r\n    criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n    criteria.createAlias(&quot;collaborators&quot;, &quot;collaborators&quot;);\r\n    criteria.add(Restrictions.eq(&quot;collaborators.id&quot;,desiredCollaboratorId);\r\n\r\n\r\nto get all the Answers associated to a certain Collaborator.\r\n\r\nAnd this:\r\n\r\n    Criteria criteria = session.createCriteria(Answer.class);\r\n    criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n    criteria.setFetchMode(&quot;collaborators&quot;, FetchMode.JOIN)\r\n    criteria.add(Restrictions.idEq(desiredAnswerId));\r\n    dsrTrackingCriteria.setProjection(Projections.property(&quot;collaborators&quot;));\r\n\r\nTo get all Collaborators associated to a certain Answer.\r\n\r\n\r\nUsing JPA2 Criteria API you can do something like:\r\n\r\n    CriteriaBuilder cb = em.getCriteriaBuilder(); //creted from EntityManager instance\r\n    \t\t\r\n    CriteriaQuery&lt;Long&gt; cq = cb.createQuery(Collaborator.class);\r\n    Root&lt;Answer&gt; rootAnswer = cq.from(Answer.class);\r\n    Join&lt;Collaborator,Answer&gt; joinAnswerCollaborator = rootAnswer.join(&quot;collaborators&quot;); //(or rootAnswer.join(Answer_.collaborators); if you&#39;ve created the metamodel with JPA2\r\n\r\n","title":"jpa criteria for many to many relationship","body":"<p>Using HQL:</p>\n\n<p>You can use this:</p>\n\n<pre><code>Criteria criteria = session.createCriteria(Answer.class);\ncriteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\ncriteria.createAlias(\"collaborators\", \"collaborators\");\ncriteria.add(Restrictions.eq(\"collaborators.id\",desiredCollaboratorId);\n</code></pre>\n\n<p>to get all the Answers associated to a certain Collaborator.</p>\n\n<p>And this:</p>\n\n<pre><code>Criteria criteria = session.createCriteria(Answer.class);\ncriteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\ncriteria.setFetchMode(\"collaborators\", FetchMode.JOIN)\ncriteria.add(Restrictions.idEq(desiredAnswerId));\ndsrTrackingCriteria.setProjection(Projections.property(\"collaborators\"));\n</code></pre>\n\n<p>To get all Collaborators associated to a certain Answer.</p>\n\n<p>Using JPA2 Criteria API you can do something like:</p>\n\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder(); //creted from EntityManager instance\n\nCriteriaQuery&lt;Long&gt; cq = cb.createQuery(Collaborator.class);\nRoot&lt;Answer&gt; rootAnswer = cq.from(Answer.class);\nJoin&lt;Collaborator,Answer&gt; joinAnswerCollaborator = rootAnswer.join(\"collaborators\"); //(or rootAnswer.join(Answer_.collaborators); if you've created the metamodel with JPA2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":978323,"reputation":5182,"user_id":998692,"accept_rate":97,"display_name":"user998692"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1632926862,"creation_date":1321605767,"answer_id":8179756,"question_id":8135612,"body_markdown":"It&#39;s done, finally...\r\n\r\nHere&#39;s the code:\r\n\r\n    public List&lt;Collaborator&gt; getCollaborators(Long answerId) {\r\n      CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n      CriteriaQuery&lt;Collaborator&gt; criteriaQuery = cb.createQuery(Collaborator.class);\r\n      \r\n      Root&lt;Answer&gt; answerRoot = criteriaQuery.from(Answer.class);\r\n      SetJoin&lt;Answer, Collaborator&gt; answers = answerRoot.join(Answer_.collaborators);\r\n      criteriaQuery.where(cb.equal(answerRoot.get(Answer_.id), answerId));\r\n      \r\n      return entityManager\r\n        .createQuery(criteriaQuery.select(answers))\r\n        .getResultList();\r\n    }","title":"jpa criteria for many to many relationship","body":"<p>It's done, finally...</p>\n<p>Here's the code:</p>\n<pre><code>public List&lt;Collaborator&gt; getCollaborators(Long answerId) {\n  CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n  CriteriaQuery&lt;Collaborator&gt; criteriaQuery = cb.createQuery(Collaborator.class);\n  \n  Root&lt;Answer&gt; answerRoot = criteriaQuery.from(Answer.class);\n  SetJoin&lt;Answer, Collaborator&gt; answers = answerRoot.join(Answer_.collaborators);\n  criteriaQuery.where(cb.equal(answerRoot.get(Answer_.id), answerId));\n  \n  return entityManager\n    .createQuery(criteriaQuery.select(answers))\n    .getResultList();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12795274,"reputation":595,"user_id":9258519,"display_name":"Saad Joudi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637082013,"creation_date":1637082013,"answer_id":69993229,"question_id":8135612,"body_markdown":"Using criteria Builder : \r\n\r\n    Join&lt;CLASS_A, CLASS_B&gt; join = root.join(WHAT_UVE_DECLARED_IN_MAPPEDBY, JoinType.INNER);\r\n    searchCriteria.add(criteriaBuilder.like(join.get(&quot;FIELD_IN_SUBCLASS&quot;).as(String.class), &quot;%blabla%&quot;));","title":"jpa criteria for many to many relationship","body":"<p>Using criteria Builder :</p>\n<pre><code>Join&lt;CLASS_A, CLASS_B&gt; join = root.join(WHAT_UVE_DECLARED_IN_MAPPEDBY, JoinType.INNER);\nsearchCriteria.add(criteriaBuilder.like(join.get(&quot;FIELD_IN_SUBCLASS&quot;).as(String.class), &quot;%blabla%&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17865245,"reputation":21,"user_id":12977747,"display_name":"rustem taralov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663944696,"creation_date":1663339293,"answer_id":73746563,"question_id":8135612,"body_markdown":"```\r\nJoin&lt;Answer , Collaborator&gt; join = root.join(&quot;collaborators&quot;,JoinType.INNER);\r\n\r\npredicates.add(criteriaBuilder.equal(join.get(&quot;id&quot;),id));\r\n```","title":"jpa criteria for many to many relationship","body":"<pre><code>Join&lt;Answer , Collaborator&gt; join = root.join(&quot;collaborators&quot;,JoinType.INNER);\n\npredicates.add(criteriaBuilder.equal(join.get(&quot;id&quot;),id));\n</code></pre>\n"}],"owner":{"account_id":978323,"reputation":5182,"user_id":998692,"accept_rate":97,"display_name":"user998692"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33327,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":8179756,"answer_count":4,"score":26,"last_activity_date":1663944696,"creation_date":1321356275,"question_id":8135612,"body_markdown":"I have 2 POJO classes in Java, Answer and Collaborator, in a many-to-many relationship.\r\n\r\n    class Answer {\r\n        @ManyToMany(cascade = CascadeType.ALL)\r\n    \t@JoinTable(name = &quot;ANSWERS_COLLABORATORS&quot;, joinColumns = { @JoinColumn(name = &quot;aid&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;cid&quot;) })\r\n    \tprivate Set&lt;Collaborator&gt; collaborators = new HashSet&lt;Collaborator&gt;(0);\r\n    } \r\n\r\nClass `Answer` has a set of `Collaborator`, but a `Collaborator` doesn&#39;t keep a set of `Answer`.\r\nWhat I need to do from Hibernate `CriteriaQuery` is to find the collaborators for an answer given by id.\r\n\r\nI have already done this with Hibernate `Criteria` (`org.hibernate.Criteria`) using result transformer, but I&#39;m stuck when it comes to using `CriteriaQuery`, because I don&#39;t have a list of answers to give to the join.","title":"jpa criteria for many to many relationship","body":"<p>I have 2 POJO classes in Java, Answer and Collaborator, in a many-to-many relationship.</p>\n\n<pre><code>class Answer {\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(name = \"ANSWERS_COLLABORATORS\", joinColumns = { @JoinColumn(name = \"aid\") }, inverseJoinColumns = { @JoinColumn(name = \"cid\") })\n    private Set&lt;Collaborator&gt; collaborators = new HashSet&lt;Collaborator&gt;(0);\n} \n</code></pre>\n\n<p>Class <code>Answer</code> has a set of <code>Collaborator</code>, but a <code>Collaborator</code> doesn't keep a set of <code>Answer</code>.\nWhat I need to do from Hibernate <code>CriteriaQuery</code> is to find the collaborators for an answer given by id.</p>\n\n<p>I have already done this with Hibernate <code>Criteria</code> (<code>org.hibernate.Criteria</code>) using result transformer, but I'm stuck when it comes to using <code>CriteriaQuery</code>, because I don't have a list of answers to give to the join.</p>\n"},{"tags":["java","maven-2","build-process","executable-jar"],"comments":[{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1262887234,"post_id":2022032,"comment_id":1944682,"body_markdown":"Maybe this one http://stackoverflow.com/questions/1832853/is-it-possible-to-create-an-uber-jar-containing-the-project-classes-and-the-pro, or this one http://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven (but the accepted answer is wrong), or this one http://stackoverflow.com/questions/1814526/problem-building-executable-jar-with-maven. Actually, this seems to be one of the most frequent question on maven...","body":"Maybe this one <a href=\"http://stackoverflow.com/questions/1832853/is-it-possible-to-create-an-uber-jar-containing-the-project-classes-and-the-pro\" title=\"is it possible to create an uber jar containing the project classes and the pro\">stackoverflow.com/questions/1832853/&hellip;</a>, or this one <a href=\"http://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\" title=\"how can i create an executable jar with dependencies using maven\">stackoverflow.com/questions/574594/&hellip;</a> (but the accepted answer is wrong), or this one <a href=\"http://stackoverflow.com/questions/1814526/problem-building-executable-jar-with-maven\" title=\"problem building executable jar with maven\">stackoverflow.com/questions/1814526/&hellip;</a>. Actually, this seems to be one of the most frequent question on maven..."},{"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"score":1,"creation_date":1262888477,"post_id":2022032,"comment_id":1944864,"body_markdown":"The other answers aren&#39;t as clean, and uber jar (ueber spelled incorrectly), does not mention executability. Furthermore, the other topics are littered with irrelevant material, such as source level etc.","body":"The other answers aren&#39;t as clean, and uber jar (ueber spelled incorrectly), does not mention executability. Furthermore, the other topics are littered with irrelevant material, such as source level etc."},{"owner":{"account_id":64432,"reputation":65199,"user_id":190201,"accept_rate":83,"display_name":"ataylor"},"score":0,"creation_date":1323361217,"post_id":2022032,"comment_id":10422181,"body_markdown":"possible duplicate of [Is it possible to package all the jar dependencies in one big jar?](http://stackoverflow.com/questions/1059851/is-it-possible-to-package-all-the-jar-dependencies-in-one-big-jar)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1059851/is-it-possible-to-package-all-the-jar-dependencies-in-one-big-jar\">Is it possible to package all the jar dependencies in one big jar?</a>"},{"owner":{"account_id":323460,"reputation":2036,"user_id":643483,"display_name":"Aaron Kurtzhals"},"score":0,"creation_date":1663944287,"post_id":2022032,"comment_id":130365664,"body_markdown":"I see many of the answers are ~10 years old, so I would be interested to see if there is anything different now.","body":"I see many of the answers are ~10 years old, so I would be interested to see if there is anything different now."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1346836822,"creation_date":1262884193,"answer_id":2022134,"question_id":2022032,"body_markdown":"Maven is not packaging your dependencies inside your jar file, because you don&#39;t usually do this with Java programs.\r\n\r\nInstead you deliver the dependencies together with your jar file and mention them in [the `Class-Path` header of the Manifest][1].\r\n\r\nTo go this route, you&#39;ll need to enable the `addClasspath` property (documented [here][2]) for the [`maven-jar-plugin`][3].\r\n\r\nIf you really want to include all your dependencies in your jar file, then you can use the Maven Assembly plugin to create a [`jar-with-dependencies`][4].\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/deployment/jar/downman.html\r\n  [2]: http://maven.apache.org/shared/maven-archiver/index.html\r\n  [3]: http://maven.apache.org/plugins/maven-jar-plugin/index.html\r\n  [4]: http://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies","title":"Building a runnable jar with Maven 2","body":"<p>Maven is not packaging your dependencies inside your jar file, because you don't usually do this with Java programs.</p>\n\n<p>Instead you deliver the dependencies together with your jar file and mention them in <a href=\"http://java.sun.com/docs/books/tutorial/deployment/jar/downman.html\" rel=\"noreferrer\">the <code>Class-Path</code> header of the Manifest</a>.</p>\n\n<p>To go this route, you'll need to enable the <code>addClasspath</code> property (documented <a href=\"http://maven.apache.org/shared/maven-archiver/index.html\" rel=\"noreferrer\">here</a>) for the <a href=\"http://maven.apache.org/plugins/maven-jar-plugin/index.html\" rel=\"noreferrer\"><code>maven-jar-plugin</code></a>.</p>\n\n<p>If you really want to include all your dependencies in your jar file, then you can use the Maven Assembly plugin to create a <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies\" rel=\"noreferrer\"><code>jar-with-dependencies</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":114,"is_accepted":true,"score":114,"last_activity_date":1316494810,"creation_date":1262885717,"answer_id":2022272,"question_id":2022032,"body_markdown":"The easiest way to do this would be to create an assembly using the `maven-assembly-plugin` and the predefined `jar-with-dependencies` descriptor. You&#39;ll also need to generate a manifest with a main-class entry for this uber jar. The snippet below shows how to configure the assembly plugin to do so:\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThen, to generate the assembly, just run:\r\n\r\n    mvn assembly:assembly\r\n\r\nIf you want to generate the assembly as part of your build, simply bind the `assembly:single` mojo to the package phase:\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;single&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAnd simply run:\r\n\r\n    mvn package","title":"Building a runnable jar with Maven 2","body":"<p>The easiest way to do this would be to create an assembly using the <code>maven-assembly-plugin</code> and the predefined <code>jar-with-dependencies</code> descriptor. You'll also need to generate a manifest with a main-class entry for this uber jar. The snippet below shows how to configure the assembly plugin to do so:</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Then, to generate the assembly, just run:</p>\n\n<pre><code>mvn assembly:assembly\n</code></pre>\n\n<p>If you want to generate the assembly as part of your build, simply bind the <code>assembly:single</code> mojo to the package phase:</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;single&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>And simply run:</p>\n\n<pre><code>mvn package\n</code></pre>\n"},{"tags":[],"owner":{"account_id":409026,"reputation":1559,"user_id":780036,"display_name":"formixian"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1331822648,"creation_date":1331561493,"answer_id":9668642,"question_id":2022032,"body_markdown":"I Agree with Joachim Sauer, \r\n\r\nInstead of using jar-with-dependency you should configure the jar plugin like that in your pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;archive&gt;\r\n    \t\t\t&lt;index&gt;true&lt;/index&gt;\r\n    \t\t\t&lt;manifest&gt;\r\n    \t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t&lt;mainClass&gt;[mainClassFullName]&lt;/mainClass&gt;\r\n    \t\t\t&lt;/manifest&gt;\r\n    \t\t\t&lt;manifestEntries&gt;\r\n    \t\t\t\t&lt;mode&gt;development&lt;/mode&gt;\r\n    \t\t\t\t&lt;url&gt;${project.url}&lt;/url&gt;\r\n    \t\t\t\t&lt;key&gt;value&lt;/key&gt;\r\n    \t\t\t&lt;/manifestEntries&gt;\r\n    \t\t&lt;/archive&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd use this assembly configuration to add the jar dependencies to you assembly:\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0&quot; \r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd&quot;&gt;\r\n      &lt;id&gt;zip-with-jars&lt;/id&gt;\r\n      &lt;formats&gt;\r\n        &lt;format&gt;zip&lt;/format&gt;\r\n      &lt;/formats&gt;\r\n      &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n      &lt;dependencySets&gt;\r\n        &lt;dependencySets&gt;\r\n\t    &lt;dependencySet&gt;\r\n\t\t&lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n\t\t&lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n\t\t&lt;unpack&gt;false&lt;/unpack&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t    &lt;/dependencySet&gt;\r\n\t&lt;/dependencySets&gt;\r\n      &lt;/dependencySets&gt;\r\n    &lt;/assembly&gt;","title":"Building a runnable jar with Maven 2","body":"<p>I Agree with Joachim Sauer, </p>\n\n<p>Instead of using jar-with-dependency you should configure the jar plugin like that in your pom.xml:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;index&gt;true&lt;/index&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;mainClass&gt;[mainClassFullName]&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n                &lt;mode&gt;development&lt;/mode&gt;\n                &lt;url&gt;${project.url}&lt;/url&gt;\n                &lt;key&gt;value&lt;/key&gt;\n            &lt;/manifestEntries&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>And use this assembly configuration to add the jar dependencies to you assembly:</p>\n\n<pre><code>&lt;assembly xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0\" \n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd\"&gt;\n  &lt;id&gt;zip-with-jars&lt;/id&gt;\n  &lt;formats&gt;\n    &lt;format&gt;zip&lt;/format&gt;\n  &lt;/formats&gt;\n  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n  &lt;dependencySets&gt;\n    &lt;dependencySets&gt;\n    &lt;dependencySet&gt;\n    &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n    &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n    &lt;unpack&gt;false&lt;/unpack&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependencySet&gt;\n&lt;/dependencySets&gt;\n  &lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2801676,"reputation":81,"user_id":2409824,"display_name":"user2409824"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1375709420,"creation_date":1375709420,"answer_id":18059413,"question_id":2022032,"body_markdown":"This is what I would do for small projects. Most of the time you don&#39;t want one huge jar.\r\n\r\n**to build:**\r\nmvn clean dependency:copy-dependencies package\r\n\r\n**to execute (*in target dir*):**\r\njava -cp myjar.jar:./dependency/* com.something.MyClass","title":"Building a runnable jar with Maven 2","body":"<p>This is what I would do for small projects. Most of the time you don't want one huge jar.</p>\n\n<p><strong>to build:</strong>\nmvn clean dependency:copy-dependencies package</p>\n\n<p><strong>to execute (<em>in target dir</em>):</strong>\njava -cp myjar.jar:./dependency/* com.something.MyClass</p>\n"},{"tags":[],"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406675507,"creation_date":1406675507,"answer_id":25026422,"question_id":2022032,"body_markdown":"Just add the below code in pom.xml and Run as: maven:install . The jar will be created in target folder of eclipse which can be used as &quot;java -jar Hello.jar&quot; . but make sure that name of main class is given &lt;main-class&gt;com.abc.HelloWorld.java&lt;/main-class&gt;\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n    &lt;groupid&gt;org.apache.maven.plugins&lt;/groupid&gt;\r\n    &lt;artifactid&gt;maven-shade-plugin&lt;/artifactid&gt;\r\n    &lt;executions&gt;\r\n    &lt;execution&gt;\r\n    &lt;phase&gt;package&lt;/phase&gt;\r\n    &lt;goals&gt;\r\n    &lt;goal&gt;shade&lt;/goal&gt;\r\n    &lt;/goals&gt;\r\n    &lt;configuration&gt;\r\n    &lt;finalname&gt;HelloW&lt;/finalname&gt;\r\n    &lt;transformers&gt;\r\n    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n    &lt;manifestentries&gt;\r\n    &lt;main-class&gt;com.abc.HelloWorld.java&lt;/main-class&gt;\r\n    &lt;build-number&gt;1&lt;/build-number&gt;\r\n    &lt;/manifestentries&gt;\r\n    &lt;/transformer&gt;\r\n    &lt;/transformers&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    \r\n    &lt;/build&gt;","title":"Building a runnable jar with Maven 2","body":"<p>Just add the below code in pom.xml and Run as: maven:install . The jar will be created in target folder of eclipse which can be used as \"java -jar Hello.jar\" . but make sure that name of main class is given com.abc.HelloWorld.java</p>\n\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;groupid&gt;org.apache.maven.plugins&lt;/groupid&gt;\n&lt;artifactid&gt;maven-shade-plugin&lt;/artifactid&gt;\n&lt;executions&gt;\n&lt;execution&gt;\n&lt;phase&gt;package&lt;/phase&gt;\n&lt;goals&gt;\n&lt;goal&gt;shade&lt;/goal&gt;\n&lt;/goals&gt;\n&lt;configuration&gt;\n&lt;finalname&gt;HelloW&lt;/finalname&gt;\n&lt;transformers&gt;\n&lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n&lt;manifestentries&gt;\n&lt;main-class&gt;com.abc.HelloWorld.java&lt;/main-class&gt;\n&lt;build-number&gt;1&lt;/build-number&gt;\n&lt;/manifestentries&gt;\n&lt;/transformer&gt;\n&lt;/transformers&gt;\n&lt;/configuration&gt;\n&lt;/execution&gt;\n&lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;/plugins&gt;\n\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323460,"reputation":2036,"user_id":643483,"display_name":"Aaron Kurtzhals"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663944242,"creation_date":1663944242,"answer_id":73829476,"question_id":2022032,"body_markdown":"I have a spring boot application, and the jar created by maven package can be run without setting up additional plugins.\r\n\r\nInside my pom.xml:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.12&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nhttps://spring.io/projects/spring-boot","title":"Building a runnable jar with Maven 2","body":"<p>I have a spring boot application, and the jar created by maven package can be run without setting up additional plugins.</p>\n<p>Inside my pom.xml:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.12&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p><a href=\"https://spring.io/projects/spring-boot\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-boot</a></p>\n"}],"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100214,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":2022272,"answer_count":6,"score":86,"last_activity_date":1663944242,"creation_date":1262883433,"question_id":2022032,"body_markdown":"I&#39;m relatively new to the Maven mantra, but I&#39;m trying to build a command-line runnable jar with Maven. I&#39;ve setup my dependencies, but when I run `mvn install` and attempt to run the jar, two things happen. First, no main class is found, which is correctable. When I&#39;ve corrected this, I get errors on run stating that classes cannot be found.\r\n\r\nMaven is not packaging my dependency libraries inside of the jar, so I am unable to run the jar as a stand-alone application. How do I correct this?","title":"Building a runnable jar with Maven 2","body":"<p>I'm relatively new to the Maven mantra, but I'm trying to build a command-line runnable jar with Maven. I've setup my dependencies, but when I run <code>mvn install</code> and attempt to run the jar, two things happen. First, no main class is found, which is correctable. When I've corrected this, I get errors on run stating that classes cannot be found.</p>\n\n<p>Maven is not packaging my dependency libraries inside of the jar, so I am unable to run the jar as a stand-alone application. How do I correct this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8979,"page":1013,"page_size":100}
