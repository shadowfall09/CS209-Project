{"items":[{"tags":["java","xmlhttprequest","hdfs","webhdfs"],"comments":[{"owner":{"account_id":22095059,"reputation":1,"user_id":16352501,"display_name":"zovuko"},"score":0,"creation_date":1674068372,"post_id":75163988,"comment_id":132638377,"body_markdown":"I guess something may be wrong with my http connection !? But I&#39;m not receiving any error and it works when I&#39;m sending an individual file","body":"I guess something may be wrong with my http connection !? But I&#39;m not receiving any error and it works when I&#39;m sending an individual file"}],"owner":{"account_id":22095059,"reputation":1,"user_id":16352501,"display_name":"zovuko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674067944,"creation_date":1674067916,"question_id":75163988,"body_markdown":"I&#39;m trying to transfer files (copy/move) from a Linux server to Hdfs, and so far I havent exactly achieved what I want.\r\n\r\nSo far I&#39;ve been able to:\r\n- copy the directory (but empty) to Hdfs\r\n- copy individual file only when the input path explicity contains the name of the file\r\n\r\nI want to copy the whole directory at once containing all the file (around 100), or recursively one file after another one. \r\n\r\nI&#39;m new to Java and have searched this platform for solutions have help so far, but I cant achieve what I want.\r\n\r\nThanks for your guidance.\r\n\r\n\r\nHere my code sample:\r\n\r\n```\r\n   package org.example;\r\n\r\n   import org.apache.commons.net.util.Base64;\r\n   import org.apache.http.HttpStatus;\r\n   import org.apache.commons.io.FileUtils;\r\n   import javax.net.ssl.HttpsURLConnection;\r\n   import java.io.*;\r\n   import java.net.URL;\r\n   import java.nio.file.Files;\r\n   import java.nio.file.Path;\r\n   import java.nio.file.Paths;\r\n   import java.nio.file.StandardCopyOption;\r\n   import java.util.Arrays;\r\n   import static java.lang.System.out;\r\n   import static java.nio.file.StandardCopyOption.REPLACE_EXISTING;\r\n   import static java.util.Objects.requireNonNull;\r\n\r\n   public class Main {\r\n\r\n    public static HttpsURLConnection getHttpConnector(String httpsPutURL, String userPassword,\r\n       String sslLocation, String sslPwd) throws IOException {\r\n        URL myUrl = new URL(httpsPutURL);\r\n        HttpsURLConnection conn = (HttpsURLConnection)myUrl.openConnection();\r\n        conn.setSSLSocketFactory(requireNonNull(SSLUtils.getSSLContext(sslLocation,\r\n      sslPwd)).getSocketFactory());\r\n        String basicAuth = &quot;Basic &quot; + new String(Base64.encodeBase64(userPassword.getBytes()));\r\n        conn.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n        conn.setRequestMethod(&quot;PUT&quot;);\r\n        conn.setDoOutput(true);\r\n        conn.setDoInput(true);\r\n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/plain&quot;);\r\n        conn.setUseCaches(false);\r\n        return conn;\r\n     }\r\n\r\n      public static void main(String[] args) throws Exception {\r\n        String filePath = &quot;/input/directory&quot;;\r\n        File srcDir = new File(filePath);\r\n        String webhdfsDataDir = &quot;https://somewebhdfs.com/output/directory&quot;;\r\n        File destDir = new File(webhdfsDataDir);\r\n        String webhdfsUser= &quot;user&quot;;\r\n        String webhdfsPwd= &quot;pass_word&quot;;\r\n\r\n        //SSL PROPERTIES\r\n        String sslLocation= &quot;/sometrust/truststore&quot;;\r\n        String sslPwd= &quot;pass_word&quot;;\r\n        String userPassword = webhdfsUser + &quot;:&quot; + webhdfsPwd;\r\n\r\n        //Create Https connection\r\n        String httpsPutURL = webhdfsDataDir\r\n                +&quot;?op=CREATE&quot;;\r\n        HttpsURLConnection conn = getHttpConnector(httpsPutURL, userPassword, sslLocation, sslPwd);\r\n        out.println(&quot;connection created&quot;);\r\n\r\n        try {\r\n            conn.setRequestMethod(&quot;PUT&quot;);\r\n            conn.setDoOutput(true);\r\n            try {\r\n                FileUtils.copyDirectory(srcDir,destDir);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        } finally {\r\n            if(conn.getResponseCode() == HttpStatus.SC_CREATED) {\r\n                out.println(&quot;all is well&quot;);\r\n            } else {\r\n                throw new Exception();\r\n            }\r\n            conn.disconnect();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve been able to transfer a file with the Files.copy() method only when the name of the file is explicitly in the scrDir, with the FileUtils.copyDirectory method I have transfer the srcDir empty, it behaves as a file :/","title":"JAVA - Transfer files from a Linux server to HDFS in Java","body":"<p>I'm trying to transfer files (copy/move) from a Linux server to Hdfs, and so far I havent exactly achieved what I want.</p>\n<p>So far I've been able to:</p>\n<ul>\n<li>copy the directory (but empty) to Hdfs</li>\n<li>copy individual file only when the input path explicity contains the name of the file</li>\n</ul>\n<p>I want to copy the whole directory at once containing all the file (around 100), or recursively one file after another one.</p>\n<p>I'm new to Java and have searched this platform for solutions have help so far, but I cant achieve what I want.</p>\n<p>Thanks for your guidance.</p>\n<p>Here my code sample:</p>\n<pre><code>   package org.example;\n\n   import org.apache.commons.net.util.Base64;\n   import org.apache.http.HttpStatus;\n   import org.apache.commons.io.FileUtils;\n   import javax.net.ssl.HttpsURLConnection;\n   import java.io.*;\n   import java.net.URL;\n   import java.nio.file.Files;\n   import java.nio.file.Path;\n   import java.nio.file.Paths;\n   import java.nio.file.StandardCopyOption;\n   import java.util.Arrays;\n   import static java.lang.System.out;\n   import static java.nio.file.StandardCopyOption.REPLACE_EXISTING;\n   import static java.util.Objects.requireNonNull;\n\n   public class Main {\n\n    public static HttpsURLConnection getHttpConnector(String httpsPutURL, String userPassword,\n       String sslLocation, String sslPwd) throws IOException {\n        URL myUrl = new URL(httpsPutURL);\n        HttpsURLConnection conn = (HttpsURLConnection)myUrl.openConnection();\n        conn.setSSLSocketFactory(requireNonNull(SSLUtils.getSSLContext(sslLocation,\n      sslPwd)).getSocketFactory());\n        String basicAuth = &quot;Basic &quot; + new String(Base64.encodeBase64(userPassword.getBytes()));\n        conn.setRequestProperty(&quot;Authorization&quot;, basicAuth);\n        conn.setRequestMethod(&quot;PUT&quot;);\n        conn.setDoOutput(true);\n        conn.setDoInput(true);\n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/plain&quot;);\n        conn.setUseCaches(false);\n        return conn;\n     }\n\n      public static void main(String[] args) throws Exception {\n        String filePath = &quot;/input/directory&quot;;\n        File srcDir = new File(filePath);\n        String webhdfsDataDir = &quot;https://somewebhdfs.com/output/directory&quot;;\n        File destDir = new File(webhdfsDataDir);\n        String webhdfsUser= &quot;user&quot;;\n        String webhdfsPwd= &quot;pass_word&quot;;\n\n        //SSL PROPERTIES\n        String sslLocation= &quot;/sometrust/truststore&quot;;\n        String sslPwd= &quot;pass_word&quot;;\n        String userPassword = webhdfsUser + &quot;:&quot; + webhdfsPwd;\n\n        //Create Https connection\n        String httpsPutURL = webhdfsDataDir\n                +&quot;?op=CREATE&quot;;\n        HttpsURLConnection conn = getHttpConnector(httpsPutURL, userPassword, sslLocation, sslPwd);\n        out.println(&quot;connection created&quot;);\n\n        try {\n            conn.setRequestMethod(&quot;PUT&quot;);\n            conn.setDoOutput(true);\n            try {\n                FileUtils.copyDirectory(srcDir,destDir);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        } finally {\n            if(conn.getResponseCode() == HttpStatus.SC_CREATED) {\n                out.println(&quot;all is well&quot;);\n            } else {\n                throw new Exception();\n            }\n            conn.disconnect();\n        }\n    }\n\n}\n</code></pre>\n<p>I've been able to transfer a file with the Files.copy() method only when the name of the file is explicitly in the scrDir, with the FileUtils.copyDirectory method I have transfer the srcDir empty, it behaves as a file :/</p>\n"},{"tags":["python","java","linux","sum","odoo"],"answers":[{"tags":[],"owner":{"account_id":13580362,"reputation":11,"user_id":9796551,"display_name":"El-houcine Brahim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674067257,"creation_date":1674067257,"answer_id":75163880,"question_id":75161704,"body_markdown":"You can simply add invisible for the fields `name_child` and `date_of_birth` \r\n\r\n```attrs=&quot;{&#39;invisible&#39;:[(&#39;children&#39;, &#39;=&#39;, 0)]}&quot;```","title":"Adding a constraint for a field in Odoo","body":"<p>You can simply add invisible for the fields <code>name_child</code> and <code>date_of_birth</code></p>\n<p><code>attrs=&quot;{'invisible':[('children', '=', 0)]}&quot;</code></p>\n"}],"owner":{"account_id":27084838,"reputation":1,"user_id":20633499,"display_name":"ProgMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674067257,"creation_date":1674056344,"question_id":75161704,"body_markdown":"This is what I have to do:\r\n\r\n&quot;Add a field for registering children to the employee object. It is possible to enter several children and enter the first and last name and date of birth for each of them. Show the field on the form view, in the Private information tab, below the field for the number of children (children). Show the field only if the number of children is greater than 0.&quot;\r\n\r\nI have done this: \r\n\r\n@api.onchange(&#39;children&#39;, &#39;name_child&#39;, &#39;date_of_birth&#39;)\r\n    def onchange_usage(self):\r\n        if self.children &gt; 0:\r\n            self.name_child = True\r\n            self.date_of_birth = True\r\n        else:\r\n            self.name_child = False\r\n            self.date_of_birth = False\r\n\r\n    children = fields.Integer(string=&#39;Children&#39;)\r\n    name_child = fields.Char(string=&#39;Name of the Child&#39;)\r\n    date_of_birth = fields.Date(string=&#39;Date of Birth&#39;)\r\n\r\nDoes anybody know what is wrong with this code? Thank u.","title":"Adding a constraint for a field in Odoo","body":"<p>This is what I have to do:</p>\n<p>&quot;Add a field for registering children to the employee object. It is possible to enter several children and enter the first and last name and date of birth for each of them. Show the field on the form view, in the Private information tab, below the field for the number of children (children). Show the field only if the number of children is greater than 0.&quot;</p>\n<p>I have done this:</p>\n<p>@api.onchange('children', 'name_child', 'date_of_birth')\ndef onchange_usage(self):\nif self.children &gt; 0:\nself.name_child = True\nself.date_of_birth = True\nelse:\nself.name_child = False\nself.date_of_birth = False</p>\n<pre><code>children = fields.Integer(string='Children')\nname_child = fields.Char(string='Name of the Child')\ndate_of_birth = fields.Date(string='Date of Birth')\n</code></pre>\n<p>Does anybody know what is wrong with this code? Thank u.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux"],"comments":[{"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"score":0,"creation_date":1672794875,"post_id":74921888,"comment_id":132352952,"body_markdown":"Out of curiosity did you try this. \n`var jwtToken = ReactiveSecurityContextHolder.getContext().map(securityContext -&gt;securityContext.getAuthentication().getPrincipal()).block()`. You can get SecurityContext in Controller by injecting it too.","body":"Out of curiosity did you try this.  <code>var jwtToken = ReactiveSecurityContextHolder.getContext().map(securityConte&zwnj;&#8203;xt -&gt;securityContext.getAuthentication().getPrincipal()).block(&zwnj;&#8203;)</code>. You can get SecurityContext in Controller by injecting it too."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672821864,"post_id":74921888,"comment_id":132357354,"body_markdown":"@nicholasnet yes, Itried it but I received the error like this:\n`block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-6 `","body":"@nicholasnet yes, Itried it but I received the error like this: <code>block()&#47;blockFirst()&#47;blockLast() are blocking, which is not supported in thread reactor-http-nio-6 </code>"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672676721,"creation_date":1672466113,"answer_id":74967795,"question_id":74921888,"body_markdown":"Not really sure how token is related to the result of the `bucketExists` and  why do you convert it to the `CompletableFuture` but here is an example how you can get token from the context.\r\n\r\n```\r\n@GetMapping(value = &quot;/someEndpoint&quot;)\r\npublic Mono&lt;Boolean&gt; foo() {\r\n    return ReactiveSecurityContextHolder.getContext()\r\n            .map(ctx -&gt; ctx.getAuthentication().getPrincipal())\r\n            .cast(Jwt.class)\r\n            .map(jwt -&gt; useToken(jwt));  \r\n\r\n}\r\n```\r\n\r\nHere is a test using `org.springframework.security:spring-security-test`\r\n\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureWebTestClient\r\nclass RouteConfigTest {\r\n    @Autowired\r\n    private WebTestClient client;\r\n\r\n    @Test\r\n    void test() {\r\n        this.client.mutateWith(mockJwt())\r\n                .get()\r\n                .uri(&quot;/someEndpoint&quot;)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus().isOk();\r\n    }\r\n}\r\n```\r\n","title":"How to get raw token from ReactiveSecurityContextHolder?","body":"<p>Not really sure how token is related to the result of the <code>bucketExists</code> and  why do you convert it to the <code>CompletableFuture</code> but here is an example how you can get token from the context.</p>\n<pre><code>@GetMapping(value = &quot;/someEndpoint&quot;)\npublic Mono&lt;Boolean&gt; foo() {\n    return ReactiveSecurityContextHolder.getContext()\n            .map(ctx -&gt; ctx.getAuthentication().getPrincipal())\n            .cast(Jwt.class)\n            .map(jwt -&gt; useToken(jwt));  \n\n}\n</code></pre>\n<p>Here is a test using <code>org.springframework.security:spring-security-test</code></p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\nclass RouteConfigTest {\n    @Autowired\n    private WebTestClient client;\n\n    @Test\n    void test() {\n        this.client.mutateWith(mockJwt())\n                .get()\n                .uri(&quot;/someEndpoint&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1674067236,"creation_date":1672785845,"answer_id":74999369,"question_id":74921888,"body_markdown":"It is not necessary to use `ReactiveSecurityContextHolder` to get the `Jwt` instance. For example, if `JwtAuthenticationToken` is non-null, you can get the `Jwt` instance by doing:\r\n\r\n```java\r\npublic Mono&lt;Void&gt; foo(JwtAuthenticationToken token) throws ExecutionException, InterruptedException {\r\n    Jwt jwt = token.getToken();\r\n    // ...\r\n}\r\n```\r\n\r\nOr, you can translate it with `@AuthenticationPrincipal` like so:\r\n\r\n```java\r\npublic Mono&lt;Void&gt; foo(@AuthenticationPrincipal Jwt jwt) throws ExecutionException, InterruptedException {\r\n    // ...\r\n}\r\n```\r\n\r\nFurther, it is not possible to use `block()` with `ReactiveSecurityContextHolder` in the way the OP describes. `block()` subscribes immediately, and there is nothing immediately available in the Reactor Context at this point. \r\n\r\nThe reactive stack works somewhat in the inverse to perhaps what you are thinking. While there *is* a filter in Spring Security called `ReactorContextWebFilter` that populates the Reactor Context with the `SecurityContext`, its work is deferred until the HTTP response is subscribed to, for example by the browser. `block()` at this point states (correctly) that the Reactor Context is empty. Instead, if you participate in the existing subscription (instead of calling `block()`), then you are also deferring your work in the same way and will be able to use `ReactiveSecurityContextHolder`.\r\n\r\n**EDIT**: Having read the additional context about the OP&#39;s situation from https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok, it&#39;s clear now that the OP is aware of these ways to get the instance of a `Jwt`, and does not want to use them. I&#39;ll leave the answer here for completeness anyway.","title":"How to get raw token from ReactiveSecurityContextHolder?","body":"<p>It is not necessary to use <code>ReactiveSecurityContextHolder</code> to get the <code>Jwt</code> instance. For example, if <code>JwtAuthenticationToken</code> is non-null, you can get the <code>Jwt</code> instance by doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;Void&gt; foo(JwtAuthenticationToken token) throws ExecutionException, InterruptedException {\n    Jwt jwt = token.getToken();\n    // ...\n}\n</code></pre>\n<p>Or, you can translate it with <code>@AuthenticationPrincipal</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;Void&gt; foo(@AuthenticationPrincipal Jwt jwt) throws ExecutionException, InterruptedException {\n    // ...\n}\n</code></pre>\n<p>Further, it is not possible to use <code>block()</code> with <code>ReactiveSecurityContextHolder</code> in the way the OP describes. <code>block()</code> subscribes immediately, and there is nothing immediately available in the Reactor Context at this point.</p>\n<p>The reactive stack works somewhat in the inverse to perhaps what you are thinking. While there <em>is</em> a filter in Spring Security called <code>ReactorContextWebFilter</code> that populates the Reactor Context with the <code>SecurityContext</code>, its work is deferred until the HTTP response is subscribed to, for example by the browser. <code>block()</code> at this point states (correctly) that the Reactor Context is empty. Instead, if you participate in the existing subscription (instead of calling <code>block()</code>), then you are also deferring your work in the same way and will be able to use <code>ReactiveSecurityContextHolder</code>.</p>\n<p><strong>EDIT</strong>: Having read the additional context about the OP's situation from <a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\">How to get jwt token value in spring webflux? (to exchange it with Minio STS token)</a>, it's clear now that the OP is aware of these ways to get the instance of a <code>Jwt</code>, and does not want to use them. I'll leave the answer here for completeness anyway.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":829,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1674067236,"creation_date":1672069748,"question_id":74921888,"body_markdown":"I have a method:\r\n\r\n    @GetMapping(&quot;/foo&quot;)\r\n    public void&gt; foo(JwtAuthenticationToken token) throws ExecutionException, InterruptedException {\r\n        Object object = ReactiveSecurityContextHolder.getContext()\r\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\r\n                .toFuture()\r\n                .get();\r\n        System.out.println(object);\r\n\r\n`JwtAuthenticationToken` object which is method argument is succesfully autowired and not null but\r\nresult of \r\n\r\n    Object object = ReactiveSecurityContextHolder.getContext()\r\n                    .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\r\n                    .toFuture()\r\n                    .get(); \r\n\r\nis null.\r\n\r\nCould you please explain why ?  Is there way to fix it ?\r\n\r\nrelated topic: https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok","title":"How to get raw token from ReactiveSecurityContextHolder?","body":"<p>I have a method:</p>\n<pre><code>@GetMapping(&quot;/foo&quot;)\npublic void&gt; foo(JwtAuthenticationToken token) throws ExecutionException, InterruptedException {\n    Object object = ReactiveSecurityContextHolder.getContext()\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\n            .toFuture()\n            .get();\n    System.out.println(object);\n</code></pre>\n<p><code>JwtAuthenticationToken</code> object which is method argument is succesfully autowired and not null but\nresult of</p>\n<pre><code>Object object = ReactiveSecurityContextHolder.getContext()\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\n                .toFuture()\n                .get(); \n</code></pre>\n<p>is null.</p>\n<p>Could you please explain why ?  Is there way to fix it ?</p>\n<p>related topic: <a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\">How to get jwt token value in spring webflux? (to exchange it with Minio STS token)</a></p>\n"},{"tags":["java","constructor-overloading"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1674067741,"post_id":75163582,"comment_id":132638186,"body_markdown":"You&#39;re looking for a &quot;builder&quot;, so when you want to know more, search for &quot;builder pattern&quot;. That those answers suggest ways to keep using var args is very disappointing. That varargs constructor isn&#39;t as useful as you may think. It is actually a code smell and can be incorrectly used very easily, for example by using `new FooClass(1, second, third)`. I works fine, the compiler won&#39;t complain that you never passed &quot;first&quot;, but your constructor assumes that you did. Therefore you could end up with an incorrectly built object.","body":"You&#39;re looking for a &quot;builder&quot;, so when you want to know more, search for &quot;builder pattern&quot;. That those answers suggest ways to keep using var args is very disappointing. That varargs constructor isn&#39;t as useful as you may think. It is actually a code smell and can be incorrectly used very easily, for example by using <code>new FooClass(1, second, third)</code>. I works fine, the compiler won&#39;t complain that you never passed &quot;first&quot;, but your constructor assumes that you did. Therefore you could end up with an incorrectly built object."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674066275,"creation_date":1674066275,"answer_id":75163696,"question_id":75163582,"body_markdown":"You can&#39;t. As the error says, `this` is available, but __only__ if it is the first line (and therefore inherently you can only write one such call, total).\r\n\r\nIn theory you can do it, but whether it&#39;s clean - that&#39;s up for debate:\r\n\r\n```\r\nthis(id, myStrings[0],\r\n  myStrings.length &gt; 1 ? myString[1] : null,\r\n  myStrings.length &gt; 2 ? myString[2] : null);\r\n```\r\n\r\nThere is no general solution to it - you find a way to reduce the whole thing to a single `this()` invocation, utilizing only static methods and basic expressions, or, you can&#39;t do it. In this specific case there was a way to get there with basic expressions, but that option isn&#39;t always available.\r\n","title":"How to call the base constructor of an object from overloaded varargs constructor?","body":"<p>You can't. As the error says, <code>this</code> is available, but <strong>only</strong> if it is the first line (and therefore inherently you can only write one such call, total).</p>\n<p>In theory you can do it, but whether it's clean - that's up for debate:</p>\n<pre><code>this(id, myStrings[0],\n  myStrings.length &gt; 1 ? myString[1] : null,\n  myStrings.length &gt; 2 ? myString[2] : null);\n</code></pre>\n<p>There is no general solution to it - you find a way to reduce the whole thing to a single <code>this()</code> invocation, utilizing only static methods and basic expressions, or, you can't do it. In this specific case there was a way to get there with basic expressions, but that option isn't always available.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674066308,"creation_date":1674066308,"answer_id":75163705,"question_id":75163582,"body_markdown":"Obey the error message, by condensing the code into one line:\r\n\r\n    FooClass(final int id, final String... myStrings) {\r\n        this(id, myStrings[0], myStrings.length == 1 ? null : myStrings[1], myStrings.length == 2 ? null : myStrings[2]);\r\n    }\r\n\r\n---\r\n\r\nThe usual approach is a factory method, which works for arbitrarily complex code:\r\n\r\n    public static FooClass create(int id, String... myStrings) {\r\n        if (myStrings.length == 1) {\r\n            return FooClass(id, myStrings[0], null, null);\r\n        } else if (myStrings.length == 2) {\r\n            return FooClass(id, myStrings[0], myStrings[1], null);\r\n        } else {\r\n            return FooClass(id, myStrings[0], myStrings[1], myStrings[2]);\r\n        }\r\n    }\r\n","title":"How to call the base constructor of an object from overloaded varargs constructor?","body":"<p>Obey the error message, by condensing the code into one line:</p>\n<pre><code>FooClass(final int id, final String... myStrings) {\n    this(id, myStrings[0], myStrings.length == 1 ? null : myStrings[1], myStrings.length == 2 ? null : myStrings[2]);\n}\n</code></pre>\n<hr />\n<p>The usual approach is a factory method, which works for arbitrarily complex code:</p>\n<pre><code>public static FooClass create(int id, String... myStrings) {\n    if (myStrings.length == 1) {\n        return FooClass(id, myStrings[0], null, null);\n    } else if (myStrings.length == 2) {\n        return FooClass(id, myStrings[0], myStrings[1], null);\n    } else {\n        return FooClass(id, myStrings[0], myStrings[1], myStrings[2]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1674066579,"creation_date":1674066579,"answer_id":75163752,"question_id":75163582,"body_markdown":"In Java, a call to `this` or `super` MUST be the first line of the constructor.\r\n\r\n    class FooClass {\r\n        int id;\r\n        String first;\r\n        String second;\r\n        String third;\r\n    \r\n        FooClass(final int id, final String first) {\r\n            this(id, first, null);\r\n        }\r\n        \r\n        FooClass(final int id, final String first, final String second) {\r\n            this(id, first, second, null);\r\n        }\r\n        \r\n        FooClass(final int id, final String first, final String second, final String third) {\r\n            this.id = id;\r\n            this.first = first;\r\n            this.second = second;\r\n            this.third = third;\r\n        }\r\n        \r\n    }\r\n\r\n\r\nOne approach to get similar functionality to varargs is to simply write multiple constructors that chain upwards with default values passed.  \r\n\r\nThis could get cumbersome though if the number of parameters is high, but the example is only using 3 `String` values.\r\n\r\nHere is what calling them would look like:\r\n\r\n    //Example calls\r\n    public static void main(String [] args) {\r\n    \tFooClass foo1 = new FooClass(1, &quot;foo1&quot;);\r\n    \tFooClass foo2 = new FooClass(2, &quot;foo1&quot;, &quot;foo2&quot;);\r\n    \tFooClass foo3 = new FooClass(3, &quot;foo1&quot;, &quot;foo2&quot;, &quot;foo3&quot;);\r\n    }","title":"How to call the base constructor of an object from overloaded varargs constructor?","body":"<p>In Java, a call to <code>this</code> or <code>super</code> MUST be the first line of the constructor.</p>\n<pre><code>class FooClass {\n    int id;\n    String first;\n    String second;\n    String third;\n\n    FooClass(final int id, final String first) {\n        this(id, first, null);\n    }\n    \n    FooClass(final int id, final String first, final String second) {\n        this(id, first, second, null);\n    }\n    \n    FooClass(final int id, final String first, final String second, final String third) {\n        this.id = id;\n        this.first = first;\n        this.second = second;\n        this.third = third;\n    }\n    \n}\n</code></pre>\n<p>One approach to get similar functionality to varargs is to simply write multiple constructors that chain upwards with default values passed.</p>\n<p>This could get cumbersome though if the number of parameters is high, but the example is only using 3 <code>String</code> values.</p>\n<p>Here is what calling them would look like:</p>\n<pre><code>//Example calls\npublic static void main(String [] args) {\n    FooClass foo1 = new FooClass(1, &quot;foo1&quot;);\n    FooClass foo2 = new FooClass(2, &quot;foo1&quot;, &quot;foo2&quot;);\n    FooClass foo3 = new FooClass(3, &quot;foo1&quot;, &quot;foo2&quot;, &quot;foo3&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674066834,"creation_date":1674066834,"answer_id":75163797,"question_id":75163582,"body_markdown":"You can do it by writing `static` method to take care of extracting a value from the array.\r\n```\r\nprivate static String getValue(int index, String... strings) {\r\n  if (strings == null || index &gt;= strings.length) {\r\n    return null;\r\n  }\r\n  return strings[index];\r\n}\r\n```\r\nThen use this method with the all args constructor like this:\r\n```\r\npublic class FooClass {\r\n\r\n  //fields\r\n\r\n  public FooClass(final int id, final String first, final String second, final String third) {\r\n    //assign values\r\n  }\r\n\r\n  FooClass(final int id, final String... myStrings){\r\n    this(id, getValue(0, myStrings), getValue(1, myStrings), getValue(2, myStrings));\r\n  }\r\n\r\n  private static String getValue(int index, String... strings) {\r\n    ...\r\n  }\r\n}\r\n```\r\nIt&#39;s debatable, if this is cleaner or not, i&#39;d say it depends on the style adopted in the current project.","title":"How to call the base constructor of an object from overloaded varargs constructor?","body":"<p>You can do it by writing <code>static</code> method to take care of extracting a value from the array.</p>\n<pre><code>private static String getValue(int index, String... strings) {\n  if (strings == null || index &gt;= strings.length) {\n    return null;\n  }\n  return strings[index];\n}\n</code></pre>\n<p>Then use this method with the all args constructor like this:</p>\n<pre><code>public class FooClass {\n\n  //fields\n\n  public FooClass(final int id, final String first, final String second, final String third) {\n    //assign values\n  }\n\n  FooClass(final int id, final String... myStrings){\n    this(id, getValue(0, myStrings), getValue(1, myStrings), getValue(2, myStrings));\n  }\n\n  private static String getValue(int index, String... strings) {\n    ...\n  }\n}\n</code></pre>\n<p>It's debatable, if this is cleaner or not, i'd say it depends on the style adopted in the current project.</p>\n"}],"owner":{"account_id":16773423,"reputation":576,"user_id":12125351,"display_name":"wannaBeDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75163752,"answer_count":4,"score":4,"last_activity_date":1674066834,"creation_date":1674065772,"question_id":75163582,"body_markdown":"I have a simple class with a constructor of all available fields and i want to add an overloaded constructor with varargs to allow the creating of objects even if some fields are unknown. \r\n\r\n\r\n    class FooClass {\r\n        int id;\r\n        String first;\r\n        String second;\r\n        String third;\r\n\r\n        FooClass(final int id, final String first, final String second, final String third) {\r\n            this.id = id;\r\n            this.first = first;\r\n            this.second = second;\r\n            this.third = third;\r\n        }\r\n\r\n        FooClass(final int id, final String... myStrings){\r\n            if(myStrings.length == 1) {\r\n                this.id     = id;\r\n                this.first  = myStrings[0];\r\n            } else if (myStrings.length == 2) {\r\n                this.id     = id;\r\n                this.first  = myStrings[0];\r\n                this.second = myStrings[1];\r\n            } else {\r\n                this.id     = id;\r\n                this.first  = myStrings[0];\r\n                this.second = myStrings[1];\r\n                this.third  = myStrings[2];\r\n            }\r\n        }\r\n    }\r\n\r\nI wanted to refactor the second constructor to avoid repeating `this.id, this.first ...` as follows, but I am getting a compile error\r\n\r\n    FooClass(final int id, final String... myStrings){\r\n            if(myStrings.length == 1) {\r\n                this(id, myStrings[0], null, null);\r\n            } else if (myStrings.length == 2) {\r\n                this(id, myStrings[0], myStrings[1], null);\r\n            } else {\r\n                this(id, myStrings[0], myStrings[1], myStrings[2]);\r\n            }\r\n        }\r\n\r\nThe error is:\r\n\r\n&gt; Call to &#39;this()&#39; must be first statement in constructor body\r\n\r\nWhat is the correct way to call the base constructor from the varargs constructor with `null` values? Or a better way to implement what I described above? ","title":"How to call the base constructor of an object from overloaded varargs constructor?","body":"<p>I have a simple class with a constructor of all available fields and i want to add an overloaded constructor with varargs to allow the creating of objects even if some fields are unknown.</p>\n<pre><code>class FooClass {\n    int id;\n    String first;\n    String second;\n    String third;\n\n    FooClass(final int id, final String first, final String second, final String third) {\n        this.id = id;\n        this.first = first;\n        this.second = second;\n        this.third = third;\n    }\n\n    FooClass(final int id, final String... myStrings){\n        if(myStrings.length == 1) {\n            this.id     = id;\n            this.first  = myStrings[0];\n        } else if (myStrings.length == 2) {\n            this.id     = id;\n            this.first  = myStrings[0];\n            this.second = myStrings[1];\n        } else {\n            this.id     = id;\n            this.first  = myStrings[0];\n            this.second = myStrings[1];\n            this.third  = myStrings[2];\n        }\n    }\n}\n</code></pre>\n<p>I wanted to refactor the second constructor to avoid repeating <code>this.id, this.first ...</code> as follows, but I am getting a compile error</p>\n<pre><code>FooClass(final int id, final String... myStrings){\n        if(myStrings.length == 1) {\n            this(id, myStrings[0], null, null);\n        } else if (myStrings.length == 2) {\n            this(id, myStrings[0], myStrings[1], null);\n        } else {\n            this(id, myStrings[0], myStrings[1], myStrings[2]);\n        }\n    }\n</code></pre>\n<p>The error is:</p>\n<blockquote>\n<p>Call to 'this()' must be first statement in constructor body</p>\n</blockquote>\n<p>What is the correct way to call the base constructor from the varargs constructor with <code>null</code> values? Or a better way to implement what I described above?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":2,"creation_date":1674066345,"post_id":75163661,"comment_id":132637768,"body_markdown":"`Scanner s = new Scanner(path)` Because this class doesn&#39;t take a path as string.","body":"<code>Scanner s = new Scanner(path)</code> Because this class doesn&#39;t take a path as string."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1674067250,"post_id":75163661,"comment_id":132638035,"body_markdown":"Dupe; [Exception in thread &quot;main&quot; java.util.InputMismatchException &quot;Graph&quot;](//stackoverflow.com/q/34183189)","body":"Dupe; <a href=\"//stackoverflow.com/q/34183189\">Exception in thread &quot;main&quot; java.util.InputMismatchException &quot;Graph&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674066435,"creation_date":1674066435,"answer_id":75163734,"question_id":75163661,"body_markdown":"Your while loop loops only if `s.hasNextInt()` is true (because you wrote `while (s.hasNextInt())`. You then again check: `if (s.hasNextInt()`.\r\n\r\nThis `if` is useless. Of course `s.hasNextInt()` is true. If it wasn&#39;t, the while loop wouldn&#39;t have looped!\r\n\r\nIt sounds like you want to do two things:\r\n\r\n1. make that `while (s.hasNext())` instead.\r\n2. Fix your deplorable exception handling. Ditch the catch. Add `throws IOException` to the method (and to `main` if you want, `psv main()` can, and usually should, be declared as `public static void main(String[] args) throws Exception`. Less code, and errors with way more detail. Win-win.\r\n","title":"Reading numbers from file using Scanner","body":"<p>Your while loop loops only if <code>s.hasNextInt()</code> is true (because you wrote <code>while (s.hasNextInt())</code>. You then again check: <code>if (s.hasNextInt()</code>.</p>\n<p>This <code>if</code> is useless. Of course <code>s.hasNextInt()</code> is true. If it wasn't, the while loop wouldn't have looped!</p>\n<p>It sounds like you want to do two things:</p>\n<ol>\n<li>make that <code>while (s.hasNext())</code> instead.</li>\n<li>Fix your deplorable exception handling. Ditch the catch. Add <code>throws IOException</code> to the method (and to <code>main</code> if you want, <code>psv main()</code> can, and usually should, be declared as <code>public static void main(String[] args) throws Exception</code>. Less code, and errors with way more detail. Win-win.</li>\n</ol>\n"}],"owner":{"account_id":27566231,"reputation":27,"user_id":21038368,"display_name":"wydra__"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75163734,"answer_count":1,"score":0,"last_activity_date":1674066435,"creation_date":1674066176,"question_id":75163661,"body_markdown":"\r\n\r\nThis is my simple program which counts the sum of the numbers in the file\r\n\r\n```\r\nint sum = 0;\r\n\r\n        try(Scanner s = new Scanner(new File(path)))\r\n        {\r\n            while (s.hasNextInt())\r\n            {\r\n                if (s.hasNextInt())\r\n                {\r\n                    sum += s.nextInt();\r\n                }\r\n                else\r\n                {\r\n                    s.next();\r\n                }\r\n            }\r\n        } catch (FileNotFoundException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        System.out.println(sum);\r\n```\r\n\r\n\r\nWhy it doesnt work if i do something like that: \r\n\r\nScanner s = new Scanner(path)\r\n\r\ninstead of\r\n\r\nScanner s = new Scanner(new File(path))\r\n\r\n","title":"Reading numbers from file using Scanner","body":"<p>This is my simple program which counts the sum of the numbers in the file</p>\n<pre><code>int sum = 0;\n\n        try(Scanner s = new Scanner(new File(path)))\n        {\n            while (s.hasNextInt())\n            {\n                if (s.hasNextInt())\n                {\n                    sum += s.nextInt();\n                }\n                else\n                {\n                    s.next();\n                }\n            }\n        } catch (FileNotFoundException e)\n        {\n            e.printStackTrace();\n        }\n\n        System.out.println(sum);\n</code></pre>\n<p>Why it doesnt work if i do something like that:</p>\n<p>Scanner s = new Scanner(path)</p>\n<p>instead of</p>\n<p>Scanner s = new Scanner(new File(path))</p>\n"},{"tags":["java","docker","gitlab-ci","gitlab-ci-runner"],"answers":[{"tags":[],"owner":{"account_id":4598721,"reputation":2757,"user_id":3730077,"display_name":"Slava Kuravsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673606014,"creation_date":1673604897,"answer_id":75107755,"question_id":75057654,"body_markdown":"Try to wrap your script in single quotes:\r\n\r\n    script:\r\n        - &#39;download -f zip -u true test-download.zip&#39;\r\n\r\nEDIT:\r\n\r\nOh, this [open bug][1] in gitlab could be relevant to you \r\n\r\n\r\n  [1]: https://gitlab.com/gitlab-org/gitlab-runner/-/issues/27706","title":"gitlab-runner passes wrong arguments to custom image","body":"<p>Try to wrap your script in single quotes:</p>\n<pre><code>script:\n    - 'download -f zip -u true test-download.zip'\n</code></pre>\n<p>EDIT:</p>\n<p>Oh, this <a href=\"https://gitlab.com/gitlab-org/gitlab-runner/-/issues/27706\" rel=\"nofollow noreferrer\">open bug</a> in gitlab could be relevant to you</p>\n"},{"tags":[],"owner":{"account_id":7152403,"reputation":12017,"user_id":5465973,"accept_rate":57,"display_name":"Pierre B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673607210,"creation_date":1673607210,"answer_id":75108233,"question_id":75057654,"body_markdown":"&gt; I would like to avoid using the entrypoint directive as it needs to be used on multiple files, so I rather fix the issue at the root.\r\n\r\nYou can change your Dockerfile instead to keep default `ENTRYPOINT` (as `openjdk:18` doesn&#39;t define any entrypoint, it will be empty):\r\n\r\n```dockerfile\r\nFROM openjdk:18\r\n\r\n# ...\r\n\r\n# ENTRYPOINT [&quot;./run.sh&quot;] # remove this\r\n\r\n# Add run.sh to path to be able to use `run.sh` from any directory\r\nENV PATH=&quot;${PATH}:/opt/app&quot;\r\n```\r\n\r\nAnd update your `run.sh` to specify full path to `jar`:\r\n\r\n```sh\r\n#!/bin/bash\r\n\r\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar $PROJECT_HOME/cli.jar &quot;$@&quot;\r\n```\r\n\r\nNow your container will start in Gitlab without having to specify `entrypoint` keyword for job. You can then setup something like this:\r\n\r\n```yaml\r\ndownload:\r\n  stage: download\r\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\r\n  variables:\r\n    URL: &lt;URL&gt;\r\n    API_KEY: &lt;API_KEY&gt;\r\n    CI_DEBUG_TRACE: &quot;true&quot;\r\n  script:\r\n  # Specify command using run.sh\r\n  # This command is run from within your container\r\n  # Note that script is not an argument passed on your image startup\r\n  # But independent commands run within your container using shell\r\n  - run.sh download -f zip -u true test-download.zip\r\n```\r\n\r\n\r\nNotes: \r\n  - Gitlab won&#39;t run your script in Dockerfile&#39;s `WORKDIR` but [in a dedicated directory where your project will be cloned.][5]. Using `./` will look for script and jar in current directory at the moment your command is run, but they wouldn&#39;t be found if not run from `/opt/app`. Specyfing full path to jar and adding your `run.sh` script to `PATH` make sure they&#39;ll be found wherever your `run.sh` from. Alternatively you could run `cd /opt/app` in your job&#39;s script but it may cause unwanted side effects. \r\n - Without `ENTRYPOINT` you won&#39;t be able to run Docker commands like this \r\n   ```\r\n   docker run &quot; &lt;url&gt;/my-image:&lt;tag&gt;&quot; download ...\r\n   ```\r\n   You&#39;ll need to specify either `COMMAND` or `--entrypoint` such as\r\n   ```\r\n   docker run &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; run.sh download ...\r\n   docker run --entrypoint run.sh &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; download ...\r\n   ```\r\n- You specified not wanting to do this, but [overriding image `entrypoint` on your job][1] seems a much simpler and straightforward solution. Using multiple files you may leverage Gitlab&#39;s [`extends`][7] and [`include`][6].\r\n\r\n---\r\n\r\nAnd now for the fun part\r\n\r\n&gt; what is happening \r\n\r\nWhen Gitlab run your container for a job it will use the `entrypoint` defined in your Dockerfile by default. [From doc][1]:\r\n\r\n\r\n&gt; 1. The runner starts a Docker container **using the defined entrypoint**. The default from Dockerfile that may be overridden in the\r\n&gt; .gitlab-ci.yml file.\r\n&gt; 2. The runner attaches itself to a running container.\r\n&gt; 3. The runner prepares a script (the combination of before_script, script, and after_script).\r\n&gt; 4. The runner sends the script to the container’s shell stdin and receives the output.\r\n\r\nAnd what the doc doesn&#39;t say is that [Gitlab will try to use various form of `sh` as Docker _command_][2]. In short for step 1. it&#39;s like running this Docker command:\r\n\r\n```sh\r\n# Gitlab tries to run container for your job\r\ndocker run -it &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; sh\r\n```\r\n\r\nIt doesn&#39;t work as Gitlab will use default entrypoint and the final command run in Docker is:\r\n\r\n```sh\r\n./run.sh sh\r\n```\r\n\r\nWhere `./run.sh` is the `entrypoint` from Dockerfile and `sh` is the `command` provided by Gitlab. It causes the error you see:\r\n\r\n&gt; `tool: error:  invalid  choice:  &#39;sh&#39;  (choose  from  &#39;upload&#39;,  &#39;download&#39;, &#39;apply&#39;)`\r\n\r\nYou never reach your job&#39;s script (step 4). See [ENTRYPOINT vs. CMD for details][3].\r\n\r\nFurthermore, the script you define is a command itself. Even if your container started, it wouldn&#39;t work as the following command would be run inside your container:\r\n\r\n```sh\r\ndownload -f zip -u true test-download.zip\r\n\r\n# &#39;download&#39; command doesn&#39;t exists\r\n# You probably want to run instead something like:\r\n\r\n/opt/app/run.sh download -f zip -u true test-download.zip\r\n```\r\n\r\n\r\n[1]: https://docs.gitlab.com/ee/ci/docker/using_docker_images.html#override-the-entrypoint-of-an-image\r\n[2]: https://github.com/gitlabhq/gitlab-runner/blob/39ebe9ab9f0f9c14e9745d1a59a15018880c6962/shells/bash.go#L16\r\n[3]: https://docs.docker.com/engine/reference/builder/#understand-how-cmd-and-entrypoint-interact\r\n[5]: https://docs.gitlab.com/ee/ci/runners/configure_runners.html#custom-build-directories\r\n[6]: https://docs.gitlab.com/ee/ci/yaml/#include\r\n[7]: https://docs.gitlab.com/ee/ci/yaml/#extends","title":"gitlab-runner passes wrong arguments to custom image","body":"<blockquote>\n<p>I would like to avoid using the entrypoint directive as it needs to be used on multiple files, so I rather fix the issue at the root.</p>\n</blockquote>\n<p>You can change your Dockerfile instead to keep default <code>ENTRYPOINT</code> (as <code>openjdk:18</code> doesn't define any entrypoint, it will be empty):</p>\n<pre><code>FROM openjdk:18\n\n# ...\n\n# ENTRYPOINT [&quot;./run.sh&quot;] # remove this\n\n# Add run.sh to path to be able to use `run.sh` from any directory\nENV PATH=&quot;${PATH}:/opt/app&quot;\n</code></pre>\n<p>And update your <code>run.sh</code> to specify full path to <code>jar</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar $PROJECT_HOME/cli.jar &quot;$@&quot;\n</code></pre>\n<p>Now your container will start in Gitlab without having to specify <code>entrypoint</code> keyword for job. You can then setup something like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>download:\n  stage: download\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\n  variables:\n    URL: &lt;URL&gt;\n    API_KEY: &lt;API_KEY&gt;\n    CI_DEBUG_TRACE: &quot;true&quot;\n  script:\n  # Specify command using run.sh\n  # This command is run from within your container\n  # Note that script is not an argument passed on your image startup\n  # But independent commands run within your container using shell\n  - run.sh download -f zip -u true test-download.zip\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>Gitlab won't run your script in Dockerfile's <code>WORKDIR</code> but <a href=\"https://docs.gitlab.com/ee/ci/runners/configure_runners.html#custom-build-directories\" rel=\"nofollow noreferrer\">in a dedicated directory where your project will be cloned.</a>. Using <code>./</code> will look for script and jar in current directory at the moment your command is run, but they wouldn't be found if not run from <code>/opt/app</code>. Specyfing full path to jar and adding your <code>run.sh</code> script to <code>PATH</code> make sure they'll be found wherever your <code>run.sh</code> from. Alternatively you could run <code>cd /opt/app</code> in your job's script but it may cause unwanted side effects.</li>\n<li>Without <code>ENTRYPOINT</code> you won't be able to run Docker commands like this\n<pre><code>docker run &quot; &lt;url&gt;/my-image:&lt;tag&gt;&quot; download ...\n</code></pre>\nYou'll need to specify either <code>COMMAND</code> or <code>--entrypoint</code> such as\n<pre><code>docker run &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; run.sh download ...\ndocker run --entrypoint run.sh &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; download ...\n</code></pre>\n</li>\n<li>You specified not wanting to do this, but <a href=\"https://docs.gitlab.com/ee/ci/docker/using_docker_images.html#override-the-entrypoint-of-an-image\" rel=\"nofollow noreferrer\">overriding image <code>entrypoint</code> on your job</a> seems a much simpler and straightforward solution. Using multiple files you may leverage Gitlab's <a href=\"https://docs.gitlab.com/ee/ci/yaml/#extends\" rel=\"nofollow noreferrer\"><code>extends</code></a> and <a href=\"https://docs.gitlab.com/ee/ci/yaml/#include\" rel=\"nofollow noreferrer\"><code>include</code></a>.</li>\n</ul>\n<hr />\n<p>And now for the fun part</p>\n<blockquote>\n<p>what is happening</p>\n</blockquote>\n<p>When Gitlab run your container for a job it will use the <code>entrypoint</code> defined in your Dockerfile by default. <a href=\"https://docs.gitlab.com/ee/ci/docker/using_docker_images.html#override-the-entrypoint-of-an-image\" rel=\"nofollow noreferrer\">From doc</a>:</p>\n<blockquote>\n<ol>\n<li>The runner starts a Docker container <strong>using the defined entrypoint</strong>. The default from Dockerfile that may be overridden in the\n.gitlab-ci.yml file.</li>\n<li>The runner attaches itself to a running container.</li>\n<li>The runner prepares a script (the combination of before_script, script, and after_script).</li>\n<li>The runner sends the script to the container’s shell stdin and receives the output.</li>\n</ol>\n</blockquote>\n<p>And what the doc doesn't say is that <a href=\"https://github.com/gitlabhq/gitlab-runner/blob/39ebe9ab9f0f9c14e9745d1a59a15018880c6962/shells/bash.go#L16\" rel=\"nofollow noreferrer\">Gitlab will try to use various form of <code>sh</code> as Docker <em>command</em></a>. In short for step 1. it's like running this Docker command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Gitlab tries to run container for your job\ndocker run -it &quot;&lt;url&gt;/my-image:&lt;tag&gt;&quot; sh\n</code></pre>\n<p>It doesn't work as Gitlab will use default entrypoint and the final command run in Docker is:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./run.sh sh\n</code></pre>\n<p>Where <code>./run.sh</code> is the <code>entrypoint</code> from Dockerfile and <code>sh</code> is the <code>command</code> provided by Gitlab. It causes the error you see:</p>\n<blockquote>\n<p><code>tool: error:  invalid  choice:  'sh'  (choose  from  'upload',  'download', 'apply')</code></p>\n</blockquote>\n<p>You never reach your job's script (step 4). See <a href=\"https://docs.docker.com/engine/reference/builder/#understand-how-cmd-and-entrypoint-interact\" rel=\"nofollow noreferrer\">ENTRYPOINT vs. CMD for details</a>.</p>\n<p>Furthermore, the script you define is a command itself. Even if your container started, it wouldn't work as the following command would be run inside your container:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>download -f zip -u true test-download.zip\n\n# 'download' command doesn't exists\n# You probably want to run instead something like:\n\n/opt/app/run.sh download -f zip -u true test-download.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2643990,"reputation":353,"user_id":2287089,"accept_rate":65,"display_name":"ruben1691"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674066340,"creation_date":1674066340,"answer_id":75163716,"question_id":75057654,"body_markdown":"So, after a bit of research, I have been able to find a solution that works for me. \r\n\r\nFrom my research (and as Pierre B. pointed out in [his answer](https://stackoverflow.com/a/75108233/2287089)), Gitlab essentially tries to inject a shell script that performs a check for which shell is available.\r\n\r\nNow, my solution is in no way elegant, but does achieve what I wanted. I modified the Dockerfile like so:\r\n\r\n```dockerfile\r\nFROM openjdk:18-bullseye\r\n\r\nENV JAR_NAME &quot;my-jar.jar&quot;\r\n\r\nENV PROJECT_HOME /opt/app\r\nRUN mkdir -p $PROJECT_HOME\r\n\r\nWORKDIR $PROJECT_HOME\r\nCOPY run.sh $PROJECT_HOME/run.sh\r\nRUN chmod +x $PROJECT_HOME/run.sh\r\n\r\nCOPY target/$JAR_NAME $PROJECT_HOME/cli.jar\r\n\r\nRUN  echo &#39;#!/bin/bash \\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar $PROJECT_HOME/cli.jar &quot;$@&quot;&#39; &gt; /usr/bin/i18n &amp;&amp;  \\\r\n     chmod +x /usr/bin/i18n\r\n\r\nENTRYPOINT [&quot;./run.sh&quot;]\r\n```\r\n\r\nAnd also modified the `run.sh` script this way:\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\nif [[ -n &quot;$CI&quot; ]]; then\r\n    echo &quot;this block will only execute in a CI environment&quot;\r\n    exec /bin/bash\r\nelse\r\n    echo &quot;Not in CI. Running the image normally&quot;\r\n    java $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar ./cli.jar &quot;$@&quot;\r\nfi\r\n```\r\nThis works because Gitlab, in its list of [predefined variables](https://docs.gitlab.com/ee/ci/variables/predefined_variables.html), provides a `CI` env var that is set when the script is running on the CI. By doing so, I skip the java invocation but leave it in the case I need to use it when not on a CI.\r\n\r\nNow when I need to use my image, all I need to specify in my `.gitlab-ci.yml` file is this:\r\n\r\n```yaml\r\ndownload:\r\n  stage: download\r\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\r\n  variables:\r\n    URL: &lt;URL&gt;\r\n    API_KEY: &lt;API_KEY&gt;\r\n    CI_DEBUG_TRACE: &quot;true&quot;\r\n  script:\r\n    - i18n download -f zip -u true test-download.zip # This calls the script that was injected in the Dockerfile\r\n```\r\n\r\nThis way I essentially mimic an actual CLI, and can use it in all my projects that require this tool.\r\n\r\nI am not sure though why I need to &quot;echo&quot; the script for the CLI, and I can&#39;t simply copy it. For some reason the env variables are not passed down and I couldn&#39;t spend any more time debugging it. So for now, it will stay like this.\r\n\r\nIf you have any recommendations on how to clean this up, please leave some comments and I will edit my answer!","title":"gitlab-runner passes wrong arguments to custom image","body":"<p>So, after a bit of research, I have been able to find a solution that works for me.</p>\n<p>From my research (and as Pierre B. pointed out in <a href=\"https://stackoverflow.com/a/75108233/2287089\">his answer</a>), Gitlab essentially tries to inject a shell script that performs a check for which shell is available.</p>\n<p>Now, my solution is in no way elegant, but does achieve what I wanted. I modified the Dockerfile like so:</p>\n<pre><code>FROM openjdk:18-bullseye\n\nENV JAR_NAME &quot;my-jar.jar&quot;\n\nENV PROJECT_HOME /opt/app\nRUN mkdir -p $PROJECT_HOME\n\nWORKDIR $PROJECT_HOME\nCOPY run.sh $PROJECT_HOME/run.sh\nRUN chmod +x $PROJECT_HOME/run.sh\n\nCOPY target/$JAR_NAME $PROJECT_HOME/cli.jar\n\nRUN  echo '#!/bin/bash \\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar $PROJECT_HOME/cli.jar &quot;$@&quot;' &gt; /usr/bin/i18n &amp;&amp;  \\\n     chmod +x /usr/bin/i18n\n\nENTRYPOINT [&quot;./run.sh&quot;]\n</code></pre>\n<p>And also modified the <code>run.sh</code> script this way:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nif [[ -n &quot;$CI&quot; ]]; then\n    echo &quot;this block will only execute in a CI environment&quot;\n    exec /bin/bash\nelse\n    echo &quot;Not in CI. Running the image normally&quot;\n    java $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar ./cli.jar &quot;$@&quot;\nfi\n</code></pre>\n<p>This works because Gitlab, in its list of <a href=\"https://docs.gitlab.com/ee/ci/variables/predefined_variables.html\" rel=\"nofollow noreferrer\">predefined variables</a>, provides a <code>CI</code> env var that is set when the script is running on the CI. By doing so, I skip the java invocation but leave it in the case I need to use it when not on a CI.</p>\n<p>Now when I need to use my image, all I need to specify in my <code>.gitlab-ci.yml</code> file is this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>download:\n  stage: download\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\n  variables:\n    URL: &lt;URL&gt;\n    API_KEY: &lt;API_KEY&gt;\n    CI_DEBUG_TRACE: &quot;true&quot;\n  script:\n    - i18n download -f zip -u true test-download.zip # This calls the script that was injected in the Dockerfile\n</code></pre>\n<p>This way I essentially mimic an actual CLI, and can use it in all my projects that require this tool.</p>\n<p>I am not sure though why I need to &quot;echo&quot; the script for the CLI, and I can't simply copy it. For some reason the env variables are not passed down and I couldn't spend any more time debugging it. So for now, it will stay like this.</p>\n<p>If you have any recommendations on how to clean this up, please leave some comments and I will edit my answer!</p>\n"}],"owner":{"account_id":2643990,"reputation":353,"user_id":2287089,"accept_rate":65,"display_name":"ruben1691"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75163716,"answer_count":3,"score":3,"last_activity_date":1674066340,"creation_date":1673269422,"question_id":75057654,"body_markdown":"I have written a small CLI using Java, [Argparse4j](https://argparse4j.github.io/usage.html), and packaged it in docker using this Dockerfile:\r\n\r\n```dockerfile\r\nFROM openjdk:18\r\n\r\nENV JAR_NAME &quot;my-jar-with-dependencies.jar&quot;\r\n\r\nENV PROJECT_HOME /opt/app\r\nRUN mkdir -p $PROJECT_HOME\r\n\r\nWORKDIR $PROJECT_HOME\r\nCOPY run.sh $PROJECT_HOME/run.sh\r\nRUN chmod +x $PROJECT_HOME/run.sh\r\n\r\nCOPY target/$JAR_NAME $PROJECT_HOME/cli.jar\r\n\r\nENTRYPOINT [&quot;./run.sh&quot;]\r\n```\r\n\r\nThe last line of the Dockerfile then invokes a simple bash script:\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar ./cli.jar &quot;$@&quot;\r\n```\r\n\r\nThe CLI I wrote has three main actions: upload, download and apply. Therefore argparse4j **expects** one of these actions to be passed as the first parameter, i.e.\r\n\r\n```bash\r\njava -jar cli.jar download #... whatever other argument\r\n```\r\n\r\nThis works just fine when running the docker image locally, but completely fails when running in the CI pipeline:\r\n\r\n```yaml\r\ndownload:\r\n  stage: download\r\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\r\n  variables:\r\n    URL: &lt;URL&gt;\r\n    API_KEY: &lt;API_KEY&gt;\r\n    CI_DEBUG_TRACE: &quot;true&quot;\r\n  script:\r\n    - download -f zip -u true test-download.zip\r\n```\r\nThis is the error that is returned:\r\n\r\n```\r\nExecuting &quot;step_script&quot; stage of the job script 00:01\r\nUsing docker image sha256:&lt;sha&gt; for &lt;url&gt;/my-image:&lt;tag&gt; with digest &lt;url&gt;/my-image:&lt;tag&gt;@sha256:&lt;sha&gt; ...\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nusage: tool [-h] ACTION ...\r\ntool: error:  invalid  choice:  &#39;sh&#39;  (choose  from  &#39;upload&#39;,  &#39;download&#39;,\r\n&#39;apply&#39;)\r\n```\r\n\r\nI have tried following the suggestion in [https://stackoverflow.com/questions/70401876/gitlab-runner-doesnt-run-entrypoint-scripts-in-dockerfile](https://stackoverflow.com/questions/70401876/gitlab-runner-doesnt-run-entrypoint-scripts-in-dockerfile) but I can&#39;t seem to get the CI part to work correctly.\r\n\r\nI would like to avoid using the `entrypoint` directive as it needs to be used on multiple files, so I rather fix the issue at the root.\r\n\r\nDoes anyone have an idea of what is happening or how to fix it?\r\n\r\n","title":"gitlab-runner passes wrong arguments to custom image","body":"<p>I have written a small CLI using Java, <a href=\"https://argparse4j.github.io/usage.html\" rel=\"nofollow noreferrer\">Argparse4j</a>, and packaged it in docker using this Dockerfile:</p>\n<pre><code>FROM openjdk:18\n\nENV JAR_NAME &quot;my-jar-with-dependencies.jar&quot;\n\nENV PROJECT_HOME /opt/app\nRUN mkdir -p $PROJECT_HOME\n\nWORKDIR $PROJECT_HOME\nCOPY run.sh $PROJECT_HOME/run.sh\nRUN chmod +x $PROJECT_HOME/run.sh\n\nCOPY target/$JAR_NAME $PROJECT_HOME/cli.jar\n\nENTRYPOINT [&quot;./run.sh&quot;]\n</code></pre>\n<p>The last line of the Dockerfile then invokes a simple bash script:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\njava $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -jar ./cli.jar &quot;$@&quot;\n</code></pre>\n<p>The CLI I wrote has three main actions: upload, download and apply. Therefore argparse4j <strong>expects</strong> one of these actions to be passed as the first parameter, i.e.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar cli.jar download #... whatever other argument\n</code></pre>\n<p>This works just fine when running the docker image locally, but completely fails when running in the CI pipeline:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>download:\n  stage: download\n  image: &lt;url&gt;/my-image:&lt;tag&gt;\n  variables:\n    URL: &lt;URL&gt;\n    API_KEY: &lt;API_KEY&gt;\n    CI_DEBUG_TRACE: &quot;true&quot;\n  script:\n    - download -f zip -u true test-download.zip\n</code></pre>\n<p>This is the error that is returned:</p>\n<pre><code>Executing &quot;step_script&quot; stage of the job script 00:01\nUsing docker image sha256:&lt;sha&gt; for &lt;url&gt;/my-image:&lt;tag&gt; with digest &lt;url&gt;/my-image:&lt;tag&gt;@sha256:&lt;sha&gt; ...\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nusage: tool [-h] ACTION ...\ntool: error:  invalid  choice:  'sh'  (choose  from  'upload',  'download',\n'apply')\n</code></pre>\n<p>I have tried following the suggestion in <a href=\"https://stackoverflow.com/questions/70401876/gitlab-runner-doesnt-run-entrypoint-scripts-in-dockerfile\">gitlab-runner doesn&#39;t run ENTRYPOINT scripts in Dockerfile</a> but I can't seem to get the CI part to work correctly.</p>\n<p>I would like to avoid using the <code>entrypoint</code> directive as it needs to be used on multiple files, so I rather fix the issue at the root.</p>\n<p>Does anyone have an idea of what is happening or how to fix it?</p>\n"},{"tags":["java","spring-retry"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1674054060,"post_id":75153717,"comment_id":132633359,"body_markdown":"Have you set `@EnableRetry` on one of your `@Configuration` classes?","body":"Have you set <code>@EnableRetry</code> on one of your <code>@Configuration</code> classes?"},{"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"score":0,"creation_date":1674059925,"post_id":75153717,"comment_id":132635605,"body_markdown":"@GaryRussell No, nothing like it, thank you for the suggestion I&#39;ll need to look where could be a good place for that.","body":"@GaryRussell No, nothing like it, thank you for the suggestion I&#39;ll need to look where could be a good place for that."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1674061227,"post_id":75153717,"comment_id":132636096,"body_markdown":"See the README: https://github.com/spring-projects/spring-retry","body":"See the README: <a href=\"https://github.com/spring-projects/spring-retry\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-retry</a>"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674065948,"creation_date":1674065948,"answer_id":75163615,"question_id":75153717,"body_markdown":"You need to set `@EnableRetry` on one of your `@Configuration` classes.\r\n\r\nSee the README: https://github.com/spring-projects/spring-retry","title":"Java: use of org.springframework.retry.annotation.Retryable","body":"<p>You need to set <code>@EnableRetry</code> on one of your <code>@Configuration</code> classes.</p>\n<p>See the README: <a href=\"https://github.com/spring-projects/spring-retry\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-retry</a></p>\n"}],"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674065948,"creation_date":1674003195,"question_id":75153717,"body_markdown":"I&#39;m attempting to use org.springframework.retry.annotation.Retryable with an expectation that if a connection reset or timeout happens, the execution can re-try the call again. But so far I&#39;m not getting the retry setup to work properly. The timeout error looks like this this error:\r\n\r\n```` \r\n    javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request: \r\n    java.net.SocketTimeoutException: Read timed out\r\n````\r\nHere is what I have for the retry:\r\n````\r\nimport org.springframework.retry.annotation.Backoff;\r\nimport org.springframework.retry.annotation.Retryable;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.function.Supplier;\r\n\r\n@Service\r\npublic interface RetryService {\r\n\r\n    @Retryable(maxAttempts = 4,\r\n            backoff = @Backoff(delay = 1000))\r\n    &lt;T&gt; T run(Supplier&lt;T&gt; supplier);\r\n\r\n}\r\n````\r\nand retry implementing class:\r\n````\r\nimport com.service.RetryService;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.function.Supplier;\r\n\r\n@Service\r\npublic class RetryImpl implements RetryService {\r\n    @Override\r\n    public &lt;T&gt; T run(Supplier&lt;T&gt; supplier) {\r\n        return supplier.get();\r\n    }\r\n}\r\n````\r\nI use it in the following way:\r\n````\r\nretryService.run(()-&gt;\r\n        myClient.cancel(String id)\r\n);\r\n````\r\nand MyClient.java has the following implementation for the cancel call and caching:\r\n````\r\npublic Response cancel(String id) {\r\n    String externalUrl = &quot;https://other.external.service/rest/cancel?id=&quot;+id;\r\n\r\n    WebTarget target = myClient.target(externalUrl);\r\n    return target.request()\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .cacheControl(cacheControl())\r\n                .buildPut(null)\r\n                .invoke();\r\n}\r\n\r\nprivate static CacheControl cacheControl(){\r\n    CacheControl cacheControl = new CacheControl();\r\n    cacheControl.setMustRevalidate(true);\r\n    cacheControl.setNoStore(true);\r\n    cacheControl.setMaxAge(0);\r\n    cacheControl.setNoCache(true);\r\n    return cacheControl;\r\n}\r\n````\r\n\r\nThe externalUrl var above is an endpoint that&#39;s a void method - it returns nothing.\r\nMy hope is that when timeout happens, the retry implementation would fire up and call the external service another time. My setup works in Postman as long as timeout does NOT occur. But if I let it sit for about 30 min, and try again, then I get the timeout error as above. And if I issue another call via Postman right after the timeout, i do get a successful execution. So the retry setup is not working, seems like something falls asleep.\r\nI&#39;ve tried a dazzling number of variations to make it work, but no luck so far. When timeout happens, i see no logs in Kibana in the external service, while getting the the error above on my end.\r\nI&#39;m hoping there is something obvious that I&#39;m not seeing here, or maybe there is a better way to do this. Any help is very much appreciated.\r\n","title":"Java: use of org.springframework.retry.annotation.Retryable","body":"<p>I'm attempting to use org.springframework.retry.annotation.Retryable with an expectation that if a connection reset or timeout happens, the execution can re-try the call again. But so far I'm not getting the retry setup to work properly. The timeout error looks like this this error:</p>\n<pre><code>    javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request: \n    java.net.SocketTimeoutException: Read timed out\n</code></pre>\n<p>Here is what I have for the retry:</p>\n<pre><code>import org.springframework.retry.annotation.Backoff;\nimport org.springframework.retry.annotation.Retryable;\nimport org.springframework.stereotype.Service;\n\nimport java.util.function.Supplier;\n\n@Service\npublic interface RetryService {\n\n    @Retryable(maxAttempts = 4,\n            backoff = @Backoff(delay = 1000))\n    &lt;T&gt; T run(Supplier&lt;T&gt; supplier);\n\n}\n</code></pre>\n<p>and retry implementing class:</p>\n<pre><code>import com.service.RetryService;\nimport org.springframework.stereotype.Service;\n\nimport java.util.function.Supplier;\n\n@Service\npublic class RetryImpl implements RetryService {\n    @Override\n    public &lt;T&gt; T run(Supplier&lt;T&gt; supplier) {\n        return supplier.get();\n    }\n}\n</code></pre>\n<p>I use it in the following way:</p>\n<pre><code>retryService.run(()-&gt;\n        myClient.cancel(String id)\n);\n</code></pre>\n<p>and MyClient.java has the following implementation for the cancel call and caching:</p>\n<pre><code>public Response cancel(String id) {\n    String externalUrl = &quot;https://other.external.service/rest/cancel?id=&quot;+id;\n\n    WebTarget target = myClient.target(externalUrl);\n    return target.request()\n                .accept(MediaType.APPLICATION_JSON)\n                .cacheControl(cacheControl())\n                .buildPut(null)\n                .invoke();\n}\n\nprivate static CacheControl cacheControl(){\n    CacheControl cacheControl = new CacheControl();\n    cacheControl.setMustRevalidate(true);\n    cacheControl.setNoStore(true);\n    cacheControl.setMaxAge(0);\n    cacheControl.setNoCache(true);\n    return cacheControl;\n}\n</code></pre>\n<p>The externalUrl var above is an endpoint that's a void method - it returns nothing.\nMy hope is that when timeout happens, the retry implementation would fire up and call the external service another time. My setup works in Postman as long as timeout does NOT occur. But if I let it sit for about 30 min, and try again, then I get the timeout error as above. And if I issue another call via Postman right after the timeout, i do get a successful execution. So the retry setup is not working, seems like something falls asleep.\nI've tried a dazzling number of variations to make it work, but no luck so far. When timeout happens, i see no logs in Kibana in the external service, while getting the the error above on my end.\nI'm hoping there is something obvious that I'm not seeing here, or maybe there is a better way to do this. Any help is very much appreciated.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1674072477,"post_id":75163576,"comment_id":132639573,"body_markdown":"did u check this https://stackoverflow.com/questions/43502332/how-to-get-the-requestbody-in-an-exceptionhandler-spring-rest","body":"did u check this <a href=\"https://stackoverflow.com/questions/43502332/how-to-get-the-requestbody-in-an-exceptionhandler-spring-rest\" title=\"how to get the requestbody in an exceptionhandler spring rest\">stackoverflow.com/questions/43502332/&hellip;</a>"},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1674114073,"post_id":75163576,"comment_id":132646543,"body_markdown":"I did see it. It has no relation with my issue. There the question is to know how to retrieve the request body when MethodArgumentNotValidException is thrown. I do get the content of my request. My issue is that i don&#39;t have the whole data of the request sent. \n1. I used ManagedBean to pass data to the whole application \n2. IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8) returns the request body but incomplete (for me)... Thanks !","body":"I did see it. It has no relation with my issue. There the question is to know how to retrieve the request body when MethodArgumentNotValidException is thrown. I do get the content of my request. My issue is that i don&#39;t have the whole data of the request sent.  1. I used ManagedBean to pass data to the whole application  2. IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8) returns the request body but incomplete (for me)... Thanks !"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674065738,"creation_date":1674065738,"question_id":75163576,"body_markdown":"I want to handle MethodArgumentNotValidException in a Springboot application. My entry point is expecting a valid JSON object. I do intercept the error message correctly:\r\n\r\n    &quot;message&quot;: &quot;JSON parse error: Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;` from Array value (token `JsonToken.START_ARRAY`)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5, column: 7] (through reference chain: fr.ws.ui.model.request.RequestModel[\\&quot;data\\&quot;]-&gt;java.util.ArrayList[0])&quot;,\r\n\r\nThat&#39;s great... Here is my exception handler implementation. \r\n\r\n    @ExceptionHandler(value = { MethodArgumentNotValidException.class, HttpMessageNotReadableException.class })\r\n    public ResponseEntity&lt;ErrorMessage&gt; handleHttpMessageNotReadableException(HttpMessageNotReadableException ex,\r\n                                                                              WebRequest req) throws JsonProcessingException {\r\n        // weird behavior, I got the json but not complete\r\n        String output;\r\n         try {\r\n             output = IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8);\r\n             System.out.println(output);\r\n         } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n         }\r\n        ErrorMessage errorMessage = ErrorMessage.builder()\r\n                .operationId(Utils.generateId())\r\n                .status(RequestOperationStatus.ERROR.name())\r\n                .message(ex.getMessage())\r\n                .createdAt(new Date())\r\n                .data(output)\r\n                .build();\r\n\r\n        return new ResponseEntity&lt;&gt;(errorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n\r\nNow, I want to retrieve the body of my request and I want to parse the content to extract data for building the ErrorMessage body. For this I used `org.apache.commons.io` library: \r\n\r\n    IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8)\r\n\r\nThe request contains several properties and a file in Base64 format.\r\nIt works fine but not totally: I do not retrieve the full request body, I do not get the request body start. My String seems truncated. How can i get the whole request as String ? ","title":"Handling long string with IOUtils","body":"<p>I want to handle MethodArgumentNotValidException in a Springboot application. My entry point is expecting a valid JSON object. I do intercept the error message correctly:</p>\n<pre><code>&quot;message&quot;: &quot;JSON parse error: Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;` from Array value (token `JsonToken.START_ARRAY`)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5, column: 7] (through reference chain: fr.ws.ui.model.request.RequestModel[\\&quot;data\\&quot;]-&gt;java.util.ArrayList[0])&quot;,\n</code></pre>\n<p>That's great... Here is my exception handler implementation.</p>\n<pre><code>@ExceptionHandler(value = { MethodArgumentNotValidException.class, HttpMessageNotReadableException.class })\npublic ResponseEntity&lt;ErrorMessage&gt; handleHttpMessageNotReadableException(HttpMessageNotReadableException ex,\n                                                                          WebRequest req) throws JsonProcessingException {\n    // weird behavior, I got the json but not complete\n    String output;\n     try {\n         output = IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8);\n         System.out.println(output);\n     } catch (IOException e) {\n        throw new RuntimeException(e);\n     }\n    ErrorMessage errorMessage = ErrorMessage.builder()\n            .operationId(Utils.generateId())\n            .status(RequestOperationStatus.ERROR.name())\n            .message(ex.getMessage())\n            .createdAt(new Date())\n            .data(output)\n            .build();\n\n    return new ResponseEntity&lt;&gt;(errorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR);\n}\n</code></pre>\n<p>Now, I want to retrieve the body of my request and I want to parse the content to extract data for building the ErrorMessage body. For this I used <code>org.apache.commons.io</code> library:</p>\n<pre><code>IOUtils.toString(((ServletWebRequest) req).getRequest().getInputStream(), StandardCharsets.UTF_8)\n</code></pre>\n<p>The request contains several properties and a file in Base64 format.\nIt works fine but not totally: I do not retrieve the full request body, I do not get the request body start. My String seems truncated. How can i get the whole request as String ?</p>\n"},{"tags":["java","ibatis","mybatis"],"answers":[{"tags":[],"owner":{"display_name":"user7094"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1305879232,"creation_date":1305879232,"answer_id":6069193,"question_id":6069071,"body_markdown":"This is exactly what a project I used to work on did. Common fragments were defined in a separate file which was included in the main iBATIS config file.\r\n\r\nWe had a SQL map file at the root named `Core.ism.xml` which looked like this:\r\n\r\n    &lt;sqlMap namespace=&quot;Core&quot; &gt;\r\n    \r\n        &lt;sql id=&quot;fragmentBasicAuditFieldNames&quot;&gt;\r\n            CreateDate, CreateUser, \r\n            UpdateDate, UpdateUser, UpdateCode \r\n        &lt;/sql&gt;\r\n        \r\n        ....\r\n\r\nAnd then in our SQL map files we could reference it like this:\r\n\r\n    &lt;include refid=&quot;Core.fragmentBasicAuditFieldNames&quot; /&gt;\r\n\r\nI hope I&#39;ve understood what you were asking correctly!","title":"MyBatis/iBatis - reusable sql fragments in a separate SQL Map file?","body":"<p>This is exactly what a project I used to work on did. Common fragments were defined in a separate file which was included in the main iBATIS config file.</p>\n\n<p>We had a SQL map file at the root named <code>Core.ism.xml</code> which looked like this:</p>\n\n<pre><code>&lt;sqlMap namespace=\"Core\" &gt;\n\n    &lt;sql id=\"fragmentBasicAuditFieldNames\"&gt;\n        CreateDate, CreateUser, \n        UpdateDate, UpdateUser, UpdateCode \n    &lt;/sql&gt;\n\n    ....\n</code></pre>\n\n<p>And then in our SQL map files we could reference it like this:</p>\n\n<pre><code>&lt;include refid=\"Core.fragmentBasicAuditFieldNames\" /&gt;\n</code></pre>\n\n<p>I hope I've understood what you were asking correctly!</p>\n"},{"tags":[],"owner":{"account_id":3282441,"reputation":763,"user_id":2762716,"display_name":"Alexander Davliatov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1491950919,"creation_date":1491950919,"answer_id":43357454,"question_id":6069071,"body_markdown":"Say, you have some\r\n\r\n    &lt;mapper namespace=&quot;Common&quot;&gt;\r\n       &lt;sql id=&quot;idsIn&quot;&gt;\r\n            ${column} IN\r\n            &lt;foreach item=&quot;id&quot; collection=&quot;ids&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\r\n                #{id}\r\n            &lt;/foreach&gt;\r\n        &lt;/sql&gt;\r\n    &lt;/mapper&gt;\r\n\r\nThan in another mapper you can use it like:\r\n\r\n    &lt;mapper namespace=&quot;OtherMapper&quot;&gt;\r\n        &lt;sql id=&quot;someSql&quot;&gt;\r\n            ...\r\n            &lt;include refid=&quot;Common.idsIn&quot;&gt;\r\n                &lt;property name=&quot;column&quot; value=&quot;${column}&quot;/&gt;\r\n                &lt;!-- OR hardcode: &lt;property name=&quot;column&quot; value=&quot;id&quot;/&gt; --&gt;\r\n                &lt;property name=&quot;filterPksTable&quot; value=&quot;${filterPksTable}&quot;/&gt;\r\n            &lt;/include&gt;\r\n            ...\r\n        &lt;/sql&gt;\r\n    &lt;/mapper&gt;\r\n\r\nAlso, you can have a look [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43356852/2762716","title":"MyBatis/iBatis - reusable sql fragments in a separate SQL Map file?","body":"<p>Say, you have some</p>\n\n<pre><code>&lt;mapper namespace=\"Common\"&gt;\n   &lt;sql id=\"idsIn\"&gt;\n        ${column} IN\n        &lt;foreach item=\"id\" collection=\"ids\" separator=\",\" open=\"(\" close=\")\"&gt;\n            #{id}\n        &lt;/foreach&gt;\n    &lt;/sql&gt;\n&lt;/mapper&gt;\n</code></pre>\n\n<p>Than in another mapper you can use it like:</p>\n\n<pre><code>&lt;mapper namespace=\"OtherMapper\"&gt;\n    &lt;sql id=\"someSql\"&gt;\n        ...\n        &lt;include refid=\"Common.idsIn\"&gt;\n            &lt;property name=\"column\" value=\"${column}\"/&gt;\n            &lt;!-- OR hardcode: &lt;property name=\"column\" value=\"id\"/&gt; --&gt;\n            &lt;property name=\"filterPksTable\" value=\"${filterPksTable}\"/&gt;\n        &lt;/include&gt;\n        ...\n    &lt;/sql&gt;\n&lt;/mapper&gt;\n</code></pre>\n\n<p>Also, you can have a look <a href=\"https://stackoverflow.com/a/43356852/2762716\">here</a></p>\n"},{"tags":[],"owner":{"account_id":19242426,"reputation":158,"user_id":14062144,"display_name":"Ilya Lisov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674065584,"creation_date":1674065584,"answer_id":75163548,"question_id":6069071,"body_markdown":"You can access to ResultMap tag via its repository classname, like\r\n\r\n    ... resultMap=&quot;com.example.repository.UserRepository.UserMapResult&quot; ...","title":"MyBatis/iBatis - reusable sql fragments in a separate SQL Map file?","body":"<p>You can access to ResultMap tag via its repository classname, like</p>\n<pre><code>... resultMap=&quot;com.example.repository.UserRepository.UserMapResult&quot; ...\n</code></pre>\n"}],"owner":{"account_id":214107,"reputation":4672,"user_id":467874,"accept_rate":92,"display_name":"brabec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33846,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":6069193,"answer_count":3,"score":22,"last_activity_date":1674065584,"creation_date":1305878472,"question_id":6069071,"body_markdown":"I would like to put sql fragments used by several of my SQL Map XML files in a separate file. At the moment, the `&lt;sql&gt;` elements with these fragments are in one of the mappers together with other elements like `&lt;select&gt;`, which makes them hard to find.\r\n \r\nCan I have a mapper that defines just a few `&lt;sql&gt;` elements and is not used to generate an implementation to an interface? What would be the correct namespace of this mapper?\r\n\r\nThis is the SQL Map file with the framents:\r\n\r\n\t&lt;mapper namespace=&quot;com.company.project.dao.someDao&quot;&gt;\r\n\t\t\r\n\t\t&lt;sql id=&quot;whereDate&quot;&gt;\r\n\t\t\tWHERE date(`time`) BETWEEN #{startDate} AND #{endDate}\r\n\t\t&lt;/sql&gt;\t\r\n             \r\n        &lt;sql id=&quot;someOtherSqlFragment&quot;&gt;\r\n      \t\t...\r\n\t\t&lt;/sql&gt;\r\n\t\t\r\n\t    &lt;select id=&quot;getSomeData&quot; resultType=&quot;SomeClass&quot; parameterType=&quot;DateParam&quot; &gt;\r\n\t        SELECT some_column, another_column\t        \r\n\t        FROM some_table\r\n\t\t\t&lt;include refid=&quot;whereDate&quot;/&gt;\r\n\t\t\t&lt;include refid=&quot;otherSqlFragment&quot;/&gt;\r\n\t    &lt;/select&gt;\r\n\t\r\n\t&lt;/mapper&gt;\r\n\r\nI&#39;d like to separate the elements like this:  \r\nFirst Sql Map file:\r\n\r\n\t&lt;mapper namespace=&quot;com.company.project.dao.???&quot;&gt;\r\n\t\t\r\n\t\t&lt;sql id=&quot;whereDate&quot;&gt;\r\n\t\t\tWHERE date(`time`) BETWEEN #{startDate} AND #{endDate}\r\n\t\t&lt;/sql&gt;\t\r\n             \r\n        &lt;sql id=&quot;someOtherSqlFragment&quot;&gt;\r\n      \t\t...\r\n\t\t&lt;/sql&gt;\r\n\t\t\r\n\t&lt;/mapper&gt;\r\n\r\nSecond Sql Map file:\r\n\r\n\t&lt;mapper namespace=&quot;com.company.project.dao.someDao&quot;&gt;\r\n\r\n\t    &lt;select id=&quot;getSomeData&quot; resultType=&quot;SomeClass&quot; parameterType=&quot;DateParam&quot; &gt;\r\n\t        SELECT some_column, another_column\t        \r\n\t        FROM some_table\t\t\r\n\t\t\t&lt;include refid=&quot;whereDate&quot;/&gt;\r\n\t\t\t&lt;include refid=&quot;otherSqlFragment&quot;/&gt;\r\n\t    &lt;/select&gt;\r\n\t\r\n\t&lt;/mapper&gt;","title":"MyBatis/iBatis - reusable sql fragments in a separate SQL Map file?","body":"<p>I would like to put sql fragments used by several of my SQL Map XML files in a separate file. At the moment, the <code>&lt;sql&gt;</code> elements with these fragments are in one of the mappers together with other elements like <code>&lt;select&gt;</code>, which makes them hard to find.</p>\n\n<p>Can I have a mapper that defines just a few <code>&lt;sql&gt;</code> elements and is not used to generate an implementation to an interface? What would be the correct namespace of this mapper?</p>\n\n<p>This is the SQL Map file with the framents:</p>\n\n<pre><code>&lt;mapper namespace=\"com.company.project.dao.someDao\"&gt;\n\n    &lt;sql id=\"whereDate\"&gt;\n        WHERE date(`time`) BETWEEN #{startDate} AND #{endDate}\n    &lt;/sql&gt;  \n\n    &lt;sql id=\"someOtherSqlFragment\"&gt;\n        ...\n    &lt;/sql&gt;\n\n    &lt;select id=\"getSomeData\" resultType=\"SomeClass\" parameterType=\"DateParam\" &gt;\n        SELECT some_column, another_column          \n        FROM some_table\n        &lt;include refid=\"whereDate\"/&gt;\n        &lt;include refid=\"otherSqlFragment\"/&gt;\n    &lt;/select&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n\n<p>I'd like to separate the elements like this:<br>\nFirst Sql Map file:</p>\n\n<pre><code>&lt;mapper namespace=\"com.company.project.dao.???\"&gt;\n\n    &lt;sql id=\"whereDate\"&gt;\n        WHERE date(`time`) BETWEEN #{startDate} AND #{endDate}\n    &lt;/sql&gt;  \n\n    &lt;sql id=\"someOtherSqlFragment\"&gt;\n        ...\n    &lt;/sql&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n\n<p>Second Sql Map file:</p>\n\n<pre><code>&lt;mapper namespace=\"com.company.project.dao.someDao\"&gt;\n\n    &lt;select id=\"getSomeData\" resultType=\"SomeClass\" parameterType=\"DateParam\" &gt;\n        SELECT some_column, another_column          \n        FROM some_table     \n        &lt;include refid=\"whereDate\"/&gt;\n        &lt;include refid=\"otherSqlFragment\"/&gt;\n    &lt;/select&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":1930834,"reputation":481,"user_id":1740237,"accept_rate":67,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1535379202,"creation_date":1351152434,"answer_id":13064259,"question_id":12853476,"body_markdown":"I have just changed above code to use **addAll** instead of using a **for** loop to add objects one by one and it worked for me:\r\n\r\n    List&lt;S3ObjectSummary&gt; keyList = new ArrayList&lt;S3ObjectSummary&gt;();\r\n    ObjectListing object = s3.listObjects(&quot;bucket.new.test&quot;);\r\n    keyList = object.getObjectSummaries();\r\n    object = s3.listNextBatchOfObjects(object);\r\n\r\n    while (object.isTruncated()){\r\n      keyList.addAll(current.getObjectSummaries());\r\n      object = s3.listNextBatchOfObjects(current);\r\n    }\r\n    keyList.addAll(object.getObjectSummaries());\r\n\r\nAfter that you can simply use any iterator over list **keyList**.\r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>I have just changed above code to use <strong>addAll</strong> instead of using a <strong>for</strong> loop to add objects one by one and it worked for me:</p>\n\n<pre><code>List&lt;S3ObjectSummary&gt; keyList = new ArrayList&lt;S3ObjectSummary&gt;();\nObjectListing object = s3.listObjects(\"bucket.new.test\");\nkeyList = object.getObjectSummaries();\nobject = s3.listNextBatchOfObjects(object);\n\nwhile (object.isTruncated()){\n  keyList.addAll(current.getObjectSummaries());\n  object = s3.listNextBatchOfObjects(current);\n}\nkeyList.addAll(object.getObjectSummaries());\n</code></pre>\n\n<p>After that you can simply use any iterator over list <strong>keyList</strong>.</p>\n"},{"tags":[],"owner":{"account_id":2457726,"reputation":64,"user_id":2142489,"display_name":"Sy Loc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363058519,"creation_date":1363058519,"answer_id":15352712,"question_id":12853476,"body_markdown":"If you want to get all of object (more than 1000 keys) you need to send another packet with the last key to S3. Here is the code.\r\n\r\n    private static String lastKey = &quot;&quot;;\r\n    private static String preLastKey = &quot;&quot;;\r\n    ...\r\n    \r\n    do{\r\n            preLastKey = lastKey;\r\n            AmazonS3 s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\r\n    \r\n            String bucketName = &quot;bucketname&quot;;           \r\n    \r\n            ListObjectsRequest lstRQ = new ListObjectsRequest().withBucketName(bucketName).withPrefix(&quot;&quot;);  \r\n    \r\n            lstRQ.setMarker(lastKey);  \r\n    \r\n            ObjectListing objectListing = s3.listObjects(lstRQ);\r\n                    \r\n            //  loop and get file on S3\r\n            for (S3ObjectSummary objectSummary : objectListing.getObjectSummaries()) {\r\n                 //   get oject and do something.....\r\n            }\r\n    }while(lastKey != preLastKey);\r\n\r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>If you want to get all of object (more than 1000 keys) you need to send another packet with the last key to S3. Here is the code.</p>\n\n<pre><code>private static String lastKey = \"\";\nprivate static String preLastKey = \"\";\n...\n\ndo{\n        preLastKey = lastKey;\n        AmazonS3 s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\n\n        String bucketName = \"bucketname\";           \n\n        ListObjectsRequest lstRQ = new ListObjectsRequest().withBucketName(bucketName).withPrefix(\"\");  \n\n        lstRQ.setMarker(lastKey);  \n\n        ObjectListing objectListing = s3.listObjects(lstRQ);\n\n        //  loop and get file on S3\n        for (S3ObjectSummary objectSummary : objectListing.getObjectSummaries()) {\n             //   get oject and do something.....\n        }\n}while(lastKey != preLastKey);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1885080,"reputation":981,"user_id":1704462,"display_name":"pangiole"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1401970853,"creation_date":1401970853,"answer_id":24060097,"question_id":12853476,"body_markdown":"For Scala developers, here it is recursive function to execute a ***full scan and map*** of the contents of an AmazonS3 bucket using the official [AWS SDK for Java][1]\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    import com.amazonaws.services.s3.AmazonS3Client\r\n    import com.amazonaws.services.s3.model.{S3ObjectSummary, ObjectListing, GetObjectRequest}\r\n    import scala.collection.JavaConversions.{collectionAsScalaIterable =&gt; asScala}\r\n    \r\n    def map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\r\n    \r\n      def scan(acc:List[T], listing:ObjectListing): List[T] = {\r\n        val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\r\n        val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\r\n    \r\n        if (!listing.isTruncated) mapped.toList\r\n        else scan(acc ::: mapped, s3.listNextBatchOfObjects(listing))\r\n      }\r\n    \r\n      scan(List(), s3.listObjects(bucket, prefix))\r\n    }\r\n    \r\n\r\n\r\nTo invoke the above curried ``map()`` function, simply pass the already constructed (and properly initialized) AmazonS3Client object (refer to the official [AWS SDK for Java API Reference][2]), the bucket name and the prefix name in the first parameter list. Also pass the function ``f()`` you want to apply to map each object summary in the second parameter list.\r\n\r\nFor example\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    val keyOwnerTuples = map(s3, bucket, prefix)(s =&gt; (s.getKey, s.getOwner))\r\n\r\nwill return the full list of ``(key, owner)`` tuples in that bucket/prefix\r\n\r\nor\r\n\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    map(s3, &quot;bucket&quot;, &quot;prefix&quot;)(s =&gt; println(s))\r\n\r\n\r\nas you would normally approach by [Monads in Functional Programming][3]\r\n\r\n\r\n  [1]: http://aws.amazon.com/sdkforjava/\r\n  [2]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\r\n  [3]: http://en.wikipedia.org/wiki/Monad_%28functional_programming%29","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>For Scala developers, here it is recursive function to execute a <strong><em>full scan and map</em></strong> of the contents of an AmazonS3 bucket using the official <a href=\"http://aws.amazon.com/sdkforjava/\" rel=\"noreferrer\">AWS SDK for Java</a></p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import com.amazonaws.services.s3.AmazonS3Client\nimport com.amazonaws.services.s3.model.{S3ObjectSummary, ObjectListing, GetObjectRequest}\nimport scala.collection.JavaConversions.{collectionAsScalaIterable =&gt; asScala}\n\ndef map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\n\n  def scan(acc:List[T], listing:ObjectListing): List[T] = {\n    val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\n    val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\n\n    if (!listing.isTruncated) mapped.toList\n    else scan(acc ::: mapped, s3.listNextBatchOfObjects(listing))\n  }\n\n  scan(List(), s3.listObjects(bucket, prefix))\n}\n</code></pre>\n\n<p>To invoke the above curried <code>map()</code> function, simply pass the already constructed (and properly initialized) AmazonS3Client object (refer to the official <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"noreferrer\">AWS SDK for Java API Reference</a>), the bucket name and the prefix name in the first parameter list. Also pass the function <code>f()</code> you want to apply to map each object summary in the second parameter list.</p>\n\n<p>For example</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val keyOwnerTuples = map(s3, bucket, prefix)(s =&gt; (s.getKey, s.getOwner))\n</code></pre>\n\n<p>will return the full list of <code>(key, owner)</code> tuples in that bucket/prefix</p>\n\n<p>or</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>map(s3, \"bucket\", \"prefix\")(s =&gt; println(s))\n</code></pre>\n\n<p>as you would normally approach by <a href=\"http://en.wikipedia.org/wiki/Monad_%28functional_programming%29\" rel=\"noreferrer\">Monads in Functional Programming</a></p>\n"},{"tags":[],"owner":{"account_id":1919612,"reputation":1618,"user_id":1731454,"display_name":"oferei"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1563564687,"creation_date":1421184512,"answer_id":27931839,"question_id":12853476,"body_markdown":"Improving on @Abhishek&#39;s answer.\r\nThis code is slightly shorter and variable names are fixed.\r\n\r\n&gt; You have to get the object listing,\r\n&gt; add its&#39; contents to the collection,\r\n&gt; then get the next batch of objects from the listing.\r\n&gt; Repeat the operation until the listing will not be truncated.\r\n\r\n\r\n    List&lt;S3ObjectSummary&gt; keyList = new ArrayList&lt;S3ObjectSummary&gt;();\r\n    ObjectListing objects = s3.listObjects(&quot;bucket.new.test&quot;);\r\n    keyList.addAll(objects.getObjectSummaries());\r\n    \r\n    while (objects.isTruncated()) {\r\n        objects = s3.listNextBatchOfObjects(objects);\r\n        keyList.addAll(objects.getObjectSummaries());\r\n    }","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>Improving on @Abhishek's answer.\nThis code is slightly shorter and variable names are fixed.</p>\n\n<blockquote>\n  <p>You have to get the object listing,\n  add its' contents to the collection,\n  then get the next batch of objects from the listing.\n  Repeat the operation until the listing will not be truncated.</p>\n</blockquote>\n\n<pre><code>List&lt;S3ObjectSummary&gt; keyList = new ArrayList&lt;S3ObjectSummary&gt;();\nObjectListing objects = s3.listObjects(\"bucket.new.test\");\nkeyList.addAll(objects.getObjectSummaries());\n\nwhile (objects.isTruncated()) {\n    objects = s3.listNextBatchOfObjects(objects);\n    keyList.addAll(objects.getObjectSummaries());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11776115,"reputation":663,"user_id":8617507,"display_name":"iDuanYingJie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543463928,"creation_date":1543463928,"answer_id":53531630,"question_id":12853476,"body_markdown":"1. Paolo Angioletti&#39;s code can&#39;t get all the data, only the last batch of data.\r\n2. I think it might be better to use ListBuffer.\r\n3. This method does not support setting startAfterKey.\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n        import com.amazonaws.services.s3.AmazonS3Client\r\n        import com.amazonaws.services.s3.model.{ObjectListing, S3ObjectSummary}    \r\n        import scala.collection.JavaConverters._\r\n        import scala.collection.mutable.ListBuffer\r\n        \r\n        def map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T): List[T] = {\r\n        \r\n          def scan(acc: ListBuffer[T], listing: ObjectListing): List[T] = {\r\n            val r = acc ++= listing.getObjectSummaries.asScala.map(f).toList\r\n            if (listing.isTruncated) scan(r, s3.listNextBatchOfObjects(listing))\r\n            else r.toList\r\n          }\r\n        \r\n          scan(ListBuffer.empty[T], s3.listObjects(bucket, prefix))\r\n        }\r\n\r\n\r\nThe second method is to use awssdk-v2\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n      import software.amazon.awssdk.services.s3.S3Client\r\n      import software.amazon.awssdk.services.s3.model.{ListObjectsV2Request, S3Object}\r\n    \r\n      import scala.collection.JavaConverters._\r\n\r\n      def listObjects[T](s3: S3Client, bucket: String,\r\n                         prefix: String, startAfter: String)(f: (S3Object) =&gt; T): List[T] = {\r\n        val request = ListObjectsV2Request.builder()\r\n          .bucket(bucket).prefix(prefix)\r\n          .startAfter(startAfter).build()\r\n        \r\n        s3.listObjectsV2Paginator(request)\r\n          .asScala\r\n          .flatMap(_.contents().asScala)\r\n          .map(f)\r\n          .toList\r\n      }\r\n\r\n\r\n\r\n\r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<ol>\n<li>Paolo Angioletti's code can't get all the data, only the last batch of data.</li>\n<li>I think it might be better to use ListBuffer.</li>\n<li>This method does not support setting startAfterKey.</li>\n</ol>\n\n<pre class=\"lang-scala prettyprint-override\"><code>    import com.amazonaws.services.s3.AmazonS3Client\n    import com.amazonaws.services.s3.model.{ObjectListing, S3ObjectSummary}    \n    import scala.collection.JavaConverters._\n    import scala.collection.mutable.ListBuffer\n\n    def map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T): List[T] = {\n\n      def scan(acc: ListBuffer[T], listing: ObjectListing): List[T] = {\n        val r = acc ++= listing.getObjectSummaries.asScala.map(f).toList\n        if (listing.isTruncated) scan(r, s3.listNextBatchOfObjects(listing))\n        else r.toList\n      }\n\n      scan(ListBuffer.empty[T], s3.listObjects(bucket, prefix))\n    }\n</code></pre>\n\n<p>The second method is to use awssdk-v2</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;s3&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<pre class=\"lang-scala prettyprint-override\"><code>  import software.amazon.awssdk.services.s3.S3Client\n  import software.amazon.awssdk.services.s3.model.{ListObjectsV2Request, S3Object}\n\n  import scala.collection.JavaConverters._\n\n  def listObjects[T](s3: S3Client, bucket: String,\n                     prefix: String, startAfter: String)(f: (S3Object) =&gt; T): List[T] = {\n    val request = ListObjectsV2Request.builder()\n      .bucket(bucket).prefix(prefix)\n      .startAfter(startAfter).build()\n\n    s3.listObjectsV2Paginator(request)\n      .asScala\n      .flatMap(_.contents().asScala)\n      .map(f)\n      .toList\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32915,"reputation":10482,"user_id":1038182,"accept_rate":78,"display_name":"Ori Popowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562748204,"creation_date":1562748204,"answer_id":56966779,"question_id":12853476,"body_markdown":"In Scala:  \r\n\r\n    val first = s3.listObjects(&quot;bucket.new.test&quot;)\r\n\r\n    val listings: Seq[ObjectListing] = Iterator.iterate(Option(first))(_.flatMap(listing =&gt;\r\n      if (listing.isTruncated) Some(s3.listNextBatchOfObjects(listing))\r\n      else None\r\n    ))\r\n      .takeWhile(_.nonEmpty)\r\n      .toList\r\n      .flatten","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>In Scala:  </p>\n\n<pre><code>val first = s3.listObjects(\"bucket.new.test\")\n\nval listings: Seq[ObjectListing] = Iterator.iterate(Option(first))(_.flatMap(listing =&gt;\n  if (listing.isTruncated) Some(s3.listNextBatchOfObjects(listing))\n  else None\n))\n  .takeWhile(_.nonEmpty)\n  .toList\n  .flatten\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11846317,"reputation":11,"user_id":8668775,"display_name":"atul jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594706893,"creation_date":1594706893,"answer_id":62889016,"question_id":12853476,"body_markdown":"By default the API returns up to 1,000 key names. The response might contain fewer keys but will never contain more. \r\nA better implementation would be use the newer ListObjectsV2 API:\r\n \r\n\r\n    List&lt;S3ObjectSummary&gt; docList=new ArrayList&lt;&gt;();\r\n        ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(bucketName).withPrefix(folderFullPath);\r\n        ListObjectsV2Result listing;\r\n        do{\r\n            listing=this.getAmazonS3Client().listObjectsV2(req);\r\n            docList.addAll(listing.getObjectSummaries());\r\n            String token = listing.getNextContinuationToken();\r\n            req.setContinuationToken(token);\r\n            LOG.info(&quot;Next Continuation Token for listing documents is :&quot;+token);\r\n        }while (listing.isTruncated());","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>By default the API returns up to 1,000 key names. The response might contain fewer keys but will never contain more.\nA better implementation would be use the newer ListObjectsV2 API:</p>\n<pre><code>List&lt;S3ObjectSummary&gt; docList=new ArrayList&lt;&gt;();\n    ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(bucketName).withPrefix(folderFullPath);\n    ListObjectsV2Result listing;\n    do{\n        listing=this.getAmazonS3Client().listObjectsV2(req);\n        docList.addAll(listing.getObjectSummaries());\n        String token = listing.getNextContinuationToken();\n        req.setContinuationToken(token);\n        LOG.info(&quot;Next Continuation Token for listing documents is :&quot;+token);\n    }while (listing.isTruncated());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4829934,"reputation":59,"user_id":3898361,"display_name":"GeekyGags"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600920961,"creation_date":1600920961,"answer_id":64039461,"question_id":12853476,"body_markdown":"The code given by @oferei works good and I upvote that code. But I want to point out the root issue with the @Abhishek&#39;s code. Actually, **the problem is with your do while loop.**\r\n\r\nIf you carefully observe, you are fetching the next batch of objects in the second last statement and then you check is you have exhausted the total list of files. So, when you fetch the last batch, isTruncated() becomes false and you break out of loop and don&#39;t process the last X%1000 records. For eg: if in total you had 2123 records, you will end up fetching 1000 and then 1000 i.e 2000 records. You will miss the 123 records because your isTruncated value will break the loop as you are processing the next batch after checking the isTruncated value.\r\n\r\nApologies I cant post a comment, else I would have commented on the upvoted answer.\r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>The code given by @oferei works good and I upvote that code. But I want to point out the root issue with the @Abhishek's code. Actually, <strong>the problem is with your do while loop.</strong></p>\n<p>If you carefully observe, you are fetching the next batch of objects in the second last statement and then you check is you have exhausted the total list of files. So, when you fetch the last batch, isTruncated() becomes false and you break out of loop and don't process the last X%1000 records. For eg: if in total you had 2123 records, you will end up fetching 1000 and then 1000 i.e 2000 records. You will miss the 123 records because your isTruncated value will break the loop as you are processing the next batch after checking the isTruncated value.</p>\n<p>Apologies I cant post a comment, else I would have commented on the upvoted answer.</p>\n"},{"tags":[],"owner":{"account_id":5002392,"reputation":464,"user_id":4599129,"display_name":"leo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667921773,"creation_date":1667890195,"answer_id":74356650,"question_id":12853476,"body_markdown":"An alternative way by using recursive method\r\n\r\n    /**\r\n     * A recursive method to wrap {@link AmazonS3} listObjectsV2 method.\r\n     * &lt;p&gt;\r\n     * By default, ListObjectsV2 can only return some or all (UP TO 1,000) of the objects in a bucket per request.\r\n     * Ref: https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html\r\n     * &lt;p&gt;\r\n     * However, this method can return unlimited {@link S3ObjectSummary} for each request.\r\n     *\r\n     * @param request\r\n     * @return\r\n     */\r\n    private List&lt;S3ObjectSummary&gt; getS3ObjectSummaries(final ListObjectsV2Request request) {\r\n        final ListObjectsV2Result result = s3Client.listObjectsV2(request);\r\n        final List&lt;S3ObjectSummary&gt; resultSummaries = result.getObjectSummaries();\r\n        if (result.isTruncated() &amp;&amp; isNotBlank(result.getNextContinuationToken())) {\r\n            final ListObjectsV2Request nextRequest = request.withContinuationToken(result.getNextContinuationToken());\r\n            final List&lt;S3ObjectSummary&gt; nextResultSummaries = this.getS3ObjectSummaries(nextRequest);\r\n            resultSummaries.addAll(nextResultSummaries);\r\n        }\r\n        return resultSummaries;\r\n    }","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>An alternative way by using recursive method</p>\n<pre><code>/**\n * A recursive method to wrap {@link AmazonS3} listObjectsV2 method.\n * &lt;p&gt;\n * By default, ListObjectsV2 can only return some or all (UP TO 1,000) of the objects in a bucket per request.\n * Ref: https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html\n * &lt;p&gt;\n * However, this method can return unlimited {@link S3ObjectSummary} for each request.\n *\n * @param request\n * @return\n */\nprivate List&lt;S3ObjectSummary&gt; getS3ObjectSummaries(final ListObjectsV2Request request) {\n    final ListObjectsV2Result result = s3Client.listObjectsV2(request);\n    final List&lt;S3ObjectSummary&gt; resultSummaries = result.getObjectSummaries();\n    if (result.isTruncated() &amp;&amp; isNotBlank(result.getNextContinuationToken())) {\n        final ListObjectsV2Request nextRequest = request.withContinuationToken(result.getNextContinuationToken());\n        final List&lt;S3ObjectSummary&gt; nextResultSummaries = this.getS3ObjectSummaries(nextRequest);\n        resultSummaries.addAll(nextResultSummaries);\n    }\n    return resultSummaries;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674065339,"creation_date":1674065339,"answer_id":75163506,"question_id":12853476,"body_markdown":"The reason you are getting only first 1000 objects, because thats how `listObjects` is desgined to work.\r\n\r\nThis is from its JavaDoc\r\n\r\n\r\n    Returns some or all (up to 1,000) of the objects in a bucket with each request. \r\n    You can use the request parameters as selection criteria to return a subset of the objects in a bucket. \r\n    A 200 OK response can contain valid or invalid XML. Make sure to design your application to parse the contents of the response and handle it appropriately. \r\n    Objects are returned sorted in an ascending order of the respective key names in the list. For more information about listing objects, see Listing object keys programmatically \r\n\r\n\r\nTo get paginated results automatically, use `listObjectsV2Paginator` method\r\n\r\n    ListObjectsV2Request listReq = ListObjectsV2Request.builder()\r\n                    .bucket(bucketName)\r\n                    .maxKeys(1)\r\n                    .build();\r\n    \r\n            ListObjectsV2Iterable listRes = s3.listObjectsV2Paginator(listReq);\r\n     // Helper method to work with paginated collection of items directly\r\n            listRes.contents().stream()\r\n                    .forEach(content -&gt; System.out.println(&quot; Key: &quot; + content.key() + &quot; size = &quot; + content.size()));\r\n\r\n\r\nYou can opt for manual pagination as well if needed.\r\n\r\nReference: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html\r\n\r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>The reason you are getting only first 1000 objects, because thats how <code>listObjects</code> is desgined to work.</p>\n<p>This is from its JavaDoc</p>\n<pre><code>Returns some or all (up to 1,000) of the objects in a bucket with each request. \nYou can use the request parameters as selection criteria to return a subset of the objects in a bucket. \nA 200 OK response can contain valid or invalid XML. Make sure to design your application to parse the contents of the response and handle it appropriately. \nObjects are returned sorted in an ascending order of the respective key names in the list. For more information about listing objects, see Listing object keys programmatically \n</code></pre>\n<p>To get paginated results automatically, use <code>listObjectsV2Paginator</code> method</p>\n<pre><code>ListObjectsV2Request listReq = ListObjectsV2Request.builder()\n                .bucket(bucketName)\n                .maxKeys(1)\n                .build();\n\n        ListObjectsV2Iterable listRes = s3.listObjectsV2Paginator(listReq);\n // Helper method to work with paginated collection of items directly\n        listRes.contents().stream()\n                .forEach(content -&gt; System.out.println(&quot; Key: &quot; + content.key() + &quot; size = &quot; + content.size()));\n</code></pre>\n<p>You can opt for manual pagination as well if needed.</p>\n<p>Reference: <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html</a></p>\n"}],"owner":{"account_id":1930834,"reputation":481,"user_id":1740237,"accept_rate":67,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34835,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":27931839,"answer_count":10,"score":29,"last_activity_date":1674065339,"creation_date":1350023454,"question_id":12853476,"body_markdown":"I am using below mentioned code to get list of all file names from s3 bucket. I have two bucket in s3. For one of the bucket below code returns all the file names (more than 1000), but the same code returns only 1000 file names for another bucket. I just don&#39;t get what is happening. \r\nWhy same code running  for one bucket and not for other ?\r\n\r\nAlso my bucket have hierarchy structure  folder/filename.jpg.\r\n\r\n\r\n    ObjectListing objects = s3.listObjects(&quot;bucket.new.test&quot;);\r\n\tdo {\r\n\t    for (S3ObjectSummary objectSummary : objects.getObjectSummaries()) {\r\n\t        String key = objectSummary.getKey();\r\n\t        System.out.println(key);\r\n\t    }\r\n\t    objects = s3.listNextBatchOfObjects(objects);\r\n\t} while (objects.isTruncated());\r\n \r\n","title":"Amazon s3 returns only 1000 entries for one bucket and all for another bucket (using java sdk)?","body":"<p>I am using below mentioned code to get list of all file names from s3 bucket. I have two bucket in s3. For one of the bucket below code returns all the file names (more than 1000), but the same code returns only 1000 file names for another bucket. I just don't get what is happening. \nWhy same code running  for one bucket and not for other ?</p>\n\n<p>Also my bucket have hierarchy structure  folder/filename.jpg.</p>\n\n<pre><code>ObjectListing objects = s3.listObjects(\"bucket.new.test\");\ndo {\n    for (S3ObjectSummary objectSummary : objects.getObjectSummaries()) {\n        String key = objectSummary.getKey();\n        System.out.println(key);\n    }\n    objects = s3.listNextBatchOfObjects(objects);\n} while (objects.isTruncated());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","docker","docker-container"],"answers":[{"tags":[],"owner":{"account_id":2657670,"reputation":329,"user_id":2298011,"display_name":"Jan Nielsen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673996411,"creation_date":1673996411,"answer_id":75153089,"question_id":75152814,"body_markdown":"You also need to &quot;expose&quot; the port 8080 from within your docker-compose file.\r\n\r\n    api:\r\n      expose:\r\n        - &quot;8080&quot;","title":"Spring application running in docker container is not reachable","body":"<p>You also need to &quot;expose&quot; the port 8080 from within your docker-compose file.</p>\n<pre><code>api:\n  expose:\n    - &quot;8080&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673999082,"creation_date":1673999082,"answer_id":75153345,"question_id":75152814,"body_markdown":"Connection Reset to a Docker container usually indicates that you&#39;ve defined a port mapping for the container that does not point to an application.\r\n\r\nDid you define `server.address=localhost` in your `application.properties`? \r\nIf so, try to remove it or replace it with `0.0.0.0`","title":"Spring application running in docker container is not reachable","body":"<p>Connection Reset to a Docker container usually indicates that you've defined a port mapping for the container that does not point to an application.</p>\n<p>Did you define <code>server.address=localhost</code> in your <code>application.properties</code>?\nIf so, try to remove it or replace it with <code>0.0.0.0</code></p>\n"},{"tags":[],"owner":{"account_id":27557315,"reputation":1,"user_id":21031259,"display_name":"Daan Schar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674065001,"creation_date":1674065001,"answer_id":75163447,"question_id":75152814,"body_markdown":"Looks like i did something wrong regarding docker networking. this is what the new compose file looks like\r\n```\r\nservices:    \r\n  db:\r\n    image: postgres\r\n    container_name: postgres\r\n    network-mode: host\r\n    restart: always\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: example\r\n    expose:\r\n      - &quot;1999&quot;\r\n    ports:\r\n      - &quot;1999:1999&quot;\r\n    command: -p 1999\r\n\r\n  api:\r\n    image: api\r\n    network-mode: host\r\n    ports:\r\n      - 8080:8080\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=docker\r\n```\r\n\r\nnotice how i added a network mode to both services.","title":"Spring application running in docker container is not reachable","body":"<p>Looks like i did something wrong regarding docker networking. this is what the new compose file looks like</p>\n<pre><code>services:    \n  db:\n    image: postgres\n    container_name: postgres\n    network-mode: host\n    restart: always\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: example\n    expose:\n      - &quot;1999&quot;\n    ports:\n      - &quot;1999:1999&quot;\n    command: -p 1999\n\n  api:\n    image: api\n    network-mode: host\n    ports:\n      - 8080:8080\n    environment:\n      - SPRING_PROFILES_ACTIVE=docker\n</code></pre>\n<p>notice how i added a network mode to both services.</p>\n"}],"owner":{"account_id":27557315,"reputation":1,"user_id":21031259,"display_name":"Daan Schar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1674065001,"creation_date":1673994048,"question_id":75152814,"body_markdown":"I&#39;ve built a spring-boot application. I create a docker image with the following docker file:\r\n\r\n### Dockerfile\r\n\r\n```\r\nFROM openjdk:17 as builder\r\nWORKDIR /app\r\nCOPY . .\r\nRUN microdnf install findutils\r\nRUN ./gradlew build\r\nCOPY build/libs/*.jar app.jar\r\n\r\nFROM openjdk:17\r\nCOPY --from=builder /app/app.jar .\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\r\nEXPOSE 8080\r\n```\r\n\r\nI run the application together with a Postgres database\r\n\r\n## docker-compose.yaml\r\n```\r\nversion: &quot;3.8&quot;\r\n\r\nservices:    \r\n  db:\r\n    image: postgres\r\n    container_name: postgres\r\n    restart: always\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: example\r\n    expose:\r\n      - &quot;1999&quot;\r\n    ports:\r\n      - &quot;1999:1999&quot;\r\n    command: -p 1999\r\n\r\n  api:\r\n    image: api\r\n    depends_on:\r\n      - db\r\n    ports:\r\n      - 8080:8080\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=docker\r\n\r\nnetworks:\r\n  default:\r\n```\r\n\r\nThis works perfectly on windows, but as soon as I move this to my linux (Zorin OS) machine, I&#39;m not able to reach the application on `localhost:8080`, even though the application in the container is active.\r\n\r\n\r\n\r\n\r\n### docker container logs\r\n```\r\n[main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n[main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2381 ms\r\n[main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n[main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final\r\n[main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n[ main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n[main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9ec531\r\n[main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n[main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n[main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n[main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n[main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54755dd9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1f7db2, org.springframework.security.web.context.SecurityContextHolderFilter@4d3c6593, org.springframework.security.web.header.HeaderWriterFilter@590adb41, org.springframework.security.web.authentication.logout.LogoutFilter@633cc6b5, com.voidhub.api.configuration.jwt.JwtUsernameAndPasswordAuthenticationFilter@4462efe1, com.voidhub.api.configuration.jwt.JwtTokenVerifier@7c3e4b1a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@516462cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3456558, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2db4ad1, org.springframework.security.web.session.SessionManagementFilter@43bf5397, org.springframework.security.web.access.ExceptionTranslationFilter@68ed3f30, org.springframework.security.web.access.intercept.AuthorizationFilter@28ee7bee]\r\n[main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)\r\n[main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n[main] com.voidhub.api.ApiApplication           : Started ApiApplication in 7.341 seconds (process running for 7.904)\r\n\r\n```\r\n\r\n\r\n### docker ps\r\n```\r\nd1e2d34d8dbd   api   &quot;java -jar /app.jar&quot;     6 seconds ago   Up 5 seconds          0.0.0.0:8080-&gt;8080/tcp, :::8080-&gt;8080/tcp                                                                 voidhub-backend-1\r\n251065ab7afa   postgres                      &quot;docker-entrypoint.s…&quot;   2 hours ago     Up 5 seconds          0.0.0.0:1999-&gt;1999/tcp, :::1999-&gt;1999/tcp, 5432/tcp                                                       postgres\r\n```\r\n\r\nrunning `curl localhost:8080` results in\r\n```\r\ncurl: (56) Recv failure: Connection reset by peer\r\n```\r\n\r\nhowever, running `netstat -aon | grep 8080` results in\r\n```\r\ntcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN      off (0.00/0/0)\r\ntcp6       0      0 :::8080                 :::*                    LISTEN      off (0.00/0/0)\r\n\r\n```","title":"Spring application running in docker container is not reachable","body":"<p>I've built a spring-boot application. I create a docker image with the following docker file:</p>\n<h3>Dockerfile</h3>\n<pre><code>FROM openjdk:17 as builder\nWORKDIR /app\nCOPY . .\nRUN microdnf install findutils\nRUN ./gradlew build\nCOPY build/libs/*.jar app.jar\n\nFROM openjdk:17\nCOPY --from=builder /app/app.jar .\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\nEXPOSE 8080\n</code></pre>\n<p>I run the application together with a Postgres database</p>\n<h2>docker-compose.yaml</h2>\n<pre><code>version: &quot;3.8&quot;\n\nservices:    \n  db:\n    image: postgres\n    container_name: postgres\n    restart: always\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: example\n    expose:\n      - &quot;1999&quot;\n    ports:\n      - &quot;1999:1999&quot;\n    command: -p 1999\n\n  api:\n    image: api\n    depends_on:\n      - db\n    ports:\n      - 8080:8080\n    environment:\n      - SPRING_PROFILES_ACTIVE=docker\n\nnetworks:\n  default:\n</code></pre>\n<p>This works perfectly on windows, but as soon as I move this to my linux (Zorin OS) machine, I'm not able to reach the application on <code>localhost:8080</code>, even though the application in the container is active.</p>\n<h3>docker container logs</h3>\n<pre><code>[main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n[main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2381 ms\n[main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n[main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final\n[main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n[ main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n[main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9ec531\n[main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n[main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n[main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n[main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n[main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n[main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54755dd9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1f7db2, org.springframework.security.web.context.SecurityContextHolderFilter@4d3c6593, org.springframework.security.web.header.HeaderWriterFilter@590adb41, org.springframework.security.web.authentication.logout.LogoutFilter@633cc6b5, com.voidhub.api.configuration.jwt.JwtUsernameAndPasswordAuthenticationFilter@4462efe1, com.voidhub.api.configuration.jwt.JwtTokenVerifier@7c3e4b1a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@516462cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3456558, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2db4ad1, org.springframework.security.web.session.SessionManagementFilter@43bf5397, org.springframework.security.web.access.ExceptionTranslationFilter@68ed3f30, org.springframework.security.web.access.intercept.AuthorizationFilter@28ee7bee]\n[main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)\n[main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n[main] com.voidhub.api.ApiApplication           : Started ApiApplication in 7.341 seconds (process running for 7.904)\n\n</code></pre>\n<h3>docker ps</h3>\n<pre><code>d1e2d34d8dbd   api   &quot;java -jar /app.jar&quot;     6 seconds ago   Up 5 seconds          0.0.0.0:8080-&gt;8080/tcp, :::8080-&gt;8080/tcp                                                                 voidhub-backend-1\n251065ab7afa   postgres                      &quot;docker-entrypoint.s…&quot;   2 hours ago     Up 5 seconds          0.0.0.0:1999-&gt;1999/tcp, :::1999-&gt;1999/tcp, 5432/tcp                                                       postgres\n</code></pre>\n<p>running <code>curl localhost:8080</code> results in</p>\n<pre><code>curl: (56) Recv failure: Connection reset by peer\n</code></pre>\n<p>however, running <code>netstat -aon | grep 8080</code> results in</p>\n<pre><code>tcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN      off (0.00/0/0)\ntcp6       0      0 :::8080                 :::*                    LISTEN      off (0.00/0/0)\n\n</code></pre>\n"},{"tags":["java","operators","operator-precedence","evaluation"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674065348,"post_id":75163408,"comment_id":132637466,"body_markdown":"BTW the precedence is given (indirectly) by the [19. Syntax](https://docs.oracle.com/javase/specs/jls/se19/html/jls-19.html) in the Java Language Specification (it&#39;s not that easy to read as a table ) The operators are also *explained* in precedence order (the sections/sub-chapters) in JLS [15. Expressions](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html)","body":"BTW the precedence is given (indirectly) by the <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-19.html\" rel=\"nofollow noreferrer\">19. Syntax</a> in the Java Language Specification (it&#39;s not that easy to read as a table ) The operators are also <i>explained</i> in precedence order (the sections/sub-chapters) in JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html\" rel=\"nofollow noreferrer\">15. Expressions</a>"}],"owner":{"account_id":91222,"reputation":3244,"user_id":250610,"accept_rate":81,"display_name":"MikeTheTall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674075944,"answer_count":0,"score":0,"last_activity_date":1674064802,"creation_date":1674064802,"question_id":75163408,"body_markdown":"I&#39;m trying to figure out how operator precedence and the short-circuit feature of &amp;&amp; and || are combined.  Specifically, since &amp;&amp; and || have low precedence ([table from Oracle here][1]; I [couldn&#39;t find a operator precedence table in the language spec itself][2]) then it seems like Java programs should evaluate the left/right sides before doing the &amp;&amp;/||.  For example:\r\n\r\n    1 &lt; 3 || 2 &lt; 3\r\n\r\nthe above code should first evaluate &quot;1 &lt; 3&quot; (and get &#39;true&#39;), then the next-highest operator is the remaining &#39;&lt;&#39; so Java evaluates 2 &lt; 3 (also &#39;true&#39;), and then finally the lowest-precedence operator || is evaluated.\r\n\r\nOf course, we know that this isn&#39;t what happens.\r\n\r\nInstead, the left sub-expression is evaluated, 1 &lt; 3 evaluates to &#39;true&#39;, and the logical OR short-circuits and doesn&#39;t even evaluate the right side of the expression.  One can write code that causes side effects (such as printing messages when a function is called) to verify this - any methods on the right side aren&#39;t run at all.\r\n\r\nThis seems to contradict the operator precedence rules - the comparison operators should go before the logical AND.  \r\n\r\nHow is this contradiction resolved?  When, exactly, does &amp;&amp; get evaluated?\r\n\r\nInformally, it seems like the Java program must be set up so that it first scans the entire expression, finds any &amp;&amp;s or ||s, finds the &#39;subexpressions&#39; to the left &amp; right of the &amp;&amp;s and ||s, and then ignores the precedence table for anything in either subexpression.  Once enough of the overall expression has been evaluated and Java needs the result of the subexpressions joined by &amp;&amp; or || then it&#39;ll evaluate the left subexpression first (recursively applying the precedence rules within the left subexpression), and then use that result to figure out if it needs to evaluate the right subexpression.\r\n\r\nIs this correct?  \r\n\r\nAnd for bonus points, where does it specify this in the Java language spec?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\r\n  [2]: https://introcs.cs.princeton.edu/java/11precedence/#:~:text=There%20is%20no%20explicit%20operator%20precedence%20table%20in,Java%20language.%20Order%20of%20operand%20evaluation%20in%20Java.","title":"Short circuiting logical operators, precedence, and evaluation order?","body":"<p>I'm trying to figure out how operator precedence and the short-circuit feature of &amp;&amp; and || are combined.  Specifically, since &amp;&amp; and || have low precedence (<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">table from Oracle here</a>; I <a href=\"https://introcs.cs.princeton.edu/java/11precedence/#:%7E:text=There%20is%20no%20explicit%20operator%20precedence%20table%20in,Java%20language.%20Order%20of%20operand%20evaluation%20in%20Java.\" rel=\"nofollow noreferrer\">couldn't find a operator precedence table in the language spec itself</a>) then it seems like Java programs should evaluate the left/right sides before doing the &amp;&amp;/||.  For example:</p>\n<pre><code>1 &lt; 3 || 2 &lt; 3\n</code></pre>\n<p>the above code should first evaluate &quot;1 &lt; 3&quot; (and get 'true'), then the next-highest operator is the remaining '&lt;' so Java evaluates 2 &lt; 3 (also 'true'), and then finally the lowest-precedence operator || is evaluated.</p>\n<p>Of course, we know that this isn't what happens.</p>\n<p>Instead, the left sub-expression is evaluated, 1 &lt; 3 evaluates to 'true', and the logical OR short-circuits and doesn't even evaluate the right side of the expression.  One can write code that causes side effects (such as printing messages when a function is called) to verify this - any methods on the right side aren't run at all.</p>\n<p>This seems to contradict the operator precedence rules - the comparison operators should go before the logical AND.</p>\n<p>How is this contradiction resolved?  When, exactly, does &amp;&amp; get evaluated?</p>\n<p>Informally, it seems like the Java program must be set up so that it first scans the entire expression, finds any &amp;&amp;s or ||s, finds the 'subexpressions' to the left &amp; right of the &amp;&amp;s and ||s, and then ignores the precedence table for anything in either subexpression.  Once enough of the overall expression has been evaluated and Java needs the result of the subexpressions joined by &amp;&amp; or || then it'll evaluate the left subexpression first (recursively applying the precedence rules within the left subexpression), and then use that result to figure out if it needs to evaluate the right subexpression.</p>\n<p>Is this correct?</p>\n<p>And for bonus points, where does it specify this in the Java language spec?</p>\n"},{"tags":["java","date","java-time","duration","localdate"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1674065077,"post_id":75163249,"comment_id":132637377,"body_markdown":"This question meets the [requirements of a good question](https://stackoverflow.com/help/how-to-ask). I don&#39;t see any reason for the close vote.","body":"This question meets the <a href=\"https://stackoverflow.com/help/how-to-ask\">requirements of a good question</a>. I don&#39;t see any reason for the close vote."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1674064748,"creation_date":1674064748,"answer_id":75163393,"question_id":75163249,"body_markdown":"TL;DR\r\n--\r\n\r\nUse [`Period`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Period.html) instead of [`Duration`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html).\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.Period;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            LocalDate today = LocalDate.now();\r\n            LocalDate fortyDaysAgo = today.minusDays(40);\r\n            Period period = Period.between(fortyDaysAgo, today);\r\n            System.out.println(period);\r\n            System.out.printf(&quot;%d year(s) %d month(s) %d day(s)%n&quot;, period.getYears(), period.getMonths(),\r\n                    period.getDays());\r\n        }\r\n    }\r\n\r\n**Output from a sample run:**\r\n\r\n    P1M9D\r\n    0 year(s) 1 month(s) 9 day(s)\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/XIrUya)\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Define the highest time unit of date difference that has a whole number","body":"<h2>TL;DR</h2>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Period.html\" rel=\"noreferrer\"><code>Period</code></a> instead of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Period;\n\nclass Main {\n    public static void main(String[] args) {\n        LocalDate today = LocalDate.now();\n        LocalDate fortyDaysAgo = today.minusDays(40);\n        Period period = Period.between(fortyDaysAgo, today);\n        System.out.println(period);\n        System.out.printf(&quot;%d year(s) %d month(s) %d day(s)%n&quot;, period.getYears(), period.getMonths(),\n                period.getDays());\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>P1M9D\n0 year(s) 1 month(s) 9 day(s)\n</code></pre>\n<p><a href=\"https://ideone.com/XIrUya\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75163393,"answer_count":1,"score":3,"last_activity_date":1674064748,"creation_date":1674063904,"question_id":75163249,"body_markdown":"I have 2 dates:\r\n```\r\nLocalDate date1 = LocalDate.now().minusDays(40);\r\nLocalDate date2 = LocalDate.now();\r\n```\r\nI want to figure out what is the biggest time unit I can pick to define the difference between the 2 (out of days, months, years), and to get its number.\r\nThe perfect solution for me, I think, would been if `Duration` of `java.time` api had also `toMonthsPart` and `toYearsPart` as it has `toDaysPart`. This way I could do this:\r\n```\r\nDuration dif = Duration.between(date1, date2);\r\n\r\nlong daysPart = dif.toDaysPart();\r\nif (daysPart &gt; 0) {\r\n    return ChronoUnit.DAYS.between(date1, date2);\r\n}\r\n\r\nlong monthPart = dif.getMonthsPart();\r\nif (monthPart &gt; 0) {\r\n    return ChronoUnit.MONTHS.between(date1, date2);\r\n}\r\n\r\nlong yearPart = dif.getYearsPart();\r\nif (yearPart &gt; 0) {\r\n    return ChronoUnit.YEARS.between(date1, date2);\r\n}\r\n\r\nthrow new Exception(&quot;no difference&quot;);\r\n```\r\nBut there is no such methods in the API. \r\nIs there another package can provide this functionality, or do you know of different approach to achieve my goal?\r\n","title":"Define the highest time unit of date difference that has a whole number","body":"<p>I have 2 dates:</p>\n<pre><code>LocalDate date1 = LocalDate.now().minusDays(40);\nLocalDate date2 = LocalDate.now();\n</code></pre>\n<p>I want to figure out what is the biggest time unit I can pick to define the difference between the 2 (out of days, months, years), and to get its number.\nThe perfect solution for me, I think, would been if <code>Duration</code> of <code>java.time</code> api had also <code>toMonthsPart</code> and <code>toYearsPart</code> as it has <code>toDaysPart</code>. This way I could do this:</p>\n<pre><code>Duration dif = Duration.between(date1, date2);\n\nlong daysPart = dif.toDaysPart();\nif (daysPart &gt; 0) {\n    return ChronoUnit.DAYS.between(date1, date2);\n}\n\nlong monthPart = dif.getMonthsPart();\nif (monthPart &gt; 0) {\n    return ChronoUnit.MONTHS.between(date1, date2);\n}\n\nlong yearPart = dif.getYearsPart();\nif (yearPart &gt; 0) {\n    return ChronoUnit.YEARS.between(date1, date2);\n}\n\nthrow new Exception(&quot;no difference&quot;);\n</code></pre>\n<p>But there is no such methods in the API.\nIs there another package can provide this functionality, or do you know of different approach to achieve my goal?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":7069285,"reputation":2980,"user_id":5411494,"accept_rate":73,"display_name":"Marcel"},"score":1,"creation_date":1477234366,"post_id":40204189,"comment_id":67673015,"body_markdown":"After define JAVA_HOME did you try to restart the IDE?","body":"After define JAVA_HOME did you try to restart the IDE?"},{"owner":{"account_id":2110607,"reputation":374,"user_id":1875965,"display_name":"Sandra"},"score":0,"creation_date":1563964646,"post_id":40204189,"comment_id":100872851,"body_markdown":"I had this issue when trying to start PHPStorm via the command line (add the phpstorm bin folder to your path, and you should be able to do eg `phpstorm.exe .` - adding the path to the jdk PHPStorm comes bundled with as  `JAVA_HOME` (`setx JAVA_HOME &quot;C:\\Program Files (x86)\\JetBrains\\PhpStorm 2019.1\\jre64&quot;`) doesn&#39;t solve the issue","body":"I had this issue when trying to start PHPStorm via the command line (add the phpstorm bin folder to your path, and you should be able to do eg <code>phpstorm.exe .</code> - adding the path to the jdk PHPStorm comes bundled with as  <code>JAVA_HOME</code> (<code>setx JAVA_HOME &quot;C:\\Program Files (x86)\\JetBrains\\PhpStorm 2019.1\\jre64&quot;</code>) doesn&#39;t solve the issue"},{"owner":{"account_id":21648583,"reputation":805,"user_id":15969538,"display_name":"Ronik Limbani"},"score":0,"creation_date":1674034981,"post_id":40204189,"comment_id":132626795,"body_markdown":"Plz follow this solution it&#39;s perfect work for me [ Follow this Steps ](https://stackoverflow.com/questions/75155444/android-studio-electric-eel-update-failure/75156452#75156452)","body":"Plz follow this solution it&#39;s perfect work for me [ Follow this Steps ](<a href=\"https://stackoverflow.com/questions/75155444/android-studio-electric-eel-update-failure/75156452#75156452\" title=\"android studio electric eel update failure\">stackoverflow.com/questions/75155444/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":4325247,"reputation":12424,"user_id":4390212,"accept_rate":74,"display_name":"DimaSan"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1477251031,"creation_date":1477251031,"answer_id":40206980,"question_id":40204189,"body_markdown":"Change the following value from your `Path` system variable:\r\n\r\n    C:\\Program Files (x86)\\java\\jdk1.8.0_112\\jre\\bin\\server\\jvm.dll\r\n\r\nto:\r\n\r\n    %JAVA_HOME%\\bin\r\n\r\nAlso make sure there are no any other references to Java folders in the `Path` variable.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Change the following value from your <code>Path</code> system variable:</p>\n\n<pre><code>C:\\Program Files (x86)\\java\\jdk1.8.0_112\\jre\\bin\\server\\jvm.dll\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>%JAVA_HOME%\\bin\n</code></pre>\n\n<p>Also make sure there are no any other references to Java folders in the <code>Path</code> variable.</p>\n"},{"tags":[],"owner":{"account_id":28631,"reputation":13010,"user_id":76673,"accept_rate":85,"display_name":"Wadih M."},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1563965987,"creation_date":1494981582,"answer_id":44013715,"question_id":40204189,"body_markdown":"To fix I didn&#39;t need to touch my environment variables. \r\n\r\nI fixed that issue by installing/re-installing the latest PHPStorm version choosing the option to keep old settings, logging out from Windows and logging back in. ","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>To fix I didn't need to touch my environment variables. </p>\n\n<p>I fixed that issue by installing/re-installing the latest PHPStorm version choosing the option to keep old settings, logging out from Windows and logging back in. </p>\n"},{"tags":[],"owner":{"account_id":8275463,"reputation":134,"user_id":6221831,"display_name":"Miles Winther"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527120370,"creation_date":1527120370,"answer_id":50499103,"question_id":40204189,"body_markdown":"I fixed this issue by:\r\n\r\n 1. Setting the `JAVA_HOME` environment variable to the location of the JDK I wanted to use e.g. `C:\\Program Files\\Java\\jdk1.8.0_171`\r\n 2. Replacing any paths referring to Java e.g. `C:\\Program Files (x86)\\java\\jdk1.8.0_112\\jre\\bin\\server\\jvm.dll` in `Path` with `%JAVA_HOME%\\bin` as suggested by [DimaSan][1]\r\n 3. Removing the following from the **System variables** path `C:\\ProgramData\\Oracle\\Java\\javapath`\r\n\r\nThe last step was crucial for me, this was overriding `JAVA_HOME`.\r\n\r\n  [1]: https://stackoverflow.com/a/40206980/6221831","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I fixed this issue by:</p>\n\n<ol>\n<li>Setting the <code>JAVA_HOME</code> environment variable to the location of the JDK I wanted to use e.g. <code>C:\\Program Files\\Java\\jdk1.8.0_171</code></li>\n<li>Replacing any paths referring to Java e.g. <code>C:\\Program Files (x86)\\java\\jdk1.8.0_112\\jre\\bin\\server\\jvm.dll</code> in <code>Path</code> with <code>%JAVA_HOME%\\bin</code> as suggested by <a href=\"https://stackoverflow.com/a/40206980/6221831\">DimaSan</a></li>\n<li>Removing the following from the <strong>System variables</strong> path <code>C:\\ProgramData\\Oracle\\Java\\javapath</code></li>\n</ol>\n\n<p>The last step was crucial for me, this was overriding <code>JAVA_HOME</code>.</p>\n"},{"tags":[],"owner":{"account_id":12920306,"reputation":81,"user_id":9343040,"display_name":"James121"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536301708,"creation_date":1536301708,"answer_id":52216535,"question_id":40204189,"body_markdown":"In my case, this error appeared after signing in to Microsoft account (I use Windows 10). When I logged out, the error dissapeared.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>In my case, this error appeared after signing in to Microsoft account (I use Windows 10). When I logged out, the error dissapeared.</p>\n"},{"tags":[],"owner":{"account_id":10680738,"reputation":2840,"user_id":7862909,"display_name":"Arun Joseph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541745282,"creation_date":1541745282,"answer_id":53220906,"question_id":40204189,"body_markdown":"If you are installing Intellij Idea on a 32 bit System - the JDK will not come within the bundle.\r\n\r\nTo fix this issue follow the steps below :\r\n\r\n1.Uninstall the installed Intellij IDEA\r\n\r\n2.Download and install JDK SE 8 from this link :\r\nhttps://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html\r\n\r\n3.Install Intellij IDEA\r\n\r\nViola !   ","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>If you are installing Intellij Idea on a 32 bit System - the JDK will not come within the bundle.</p>\n\n<p>To fix this issue follow the steps below :</p>\n\n<p>1.Uninstall the installed Intellij IDEA</p>\n\n<p>2.Download and install JDK SE 8 from this link :\n<a href=\"https://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html</a></p>\n\n<p>3.Install Intellij IDEA</p>\n\n<p>Viola !   </p>\n"},{"tags":[],"owner":{"account_id":14528362,"reputation":500,"user_id":10493934,"display_name":"Alexander Gorbenko"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1549356914,"creation_date":1549356914,"answer_id":54530691,"question_id":40204189,"body_markdown":"It could be problem with 32 and 64 version. Maybe you trying to launch 32-bit shortcut on your Desktop. Try to launch 64 version (idea64.exe) inside IDEA folder. This worked for me.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>It could be problem with 32 and 64 version. Maybe you trying to launch 32-bit shortcut on your Desktop. Try to launch 64 version (idea64.exe) inside IDEA folder. This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":14291547,"reputation":926,"user_id":10323334,"display_name":"Ali Tamoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549949137,"creation_date":1549949137,"answer_id":54643339,"question_id":40204189,"body_markdown":"Actually i had installed the Android Studio canary version, and created a short cut of 32-bit on 64-bit windows operating system,\r\n```\r\nresolved by starting 64-bit version of Android Studio\r\n```","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Actually i had installed the Android Studio canary version, and created a short cut of 32-bit on 64-bit windows operating system,</p>\n\n<pre><code>resolved by starting 64-bit version of Android Studio\n</code></pre>\n"},{"tags":[],"owner":{"account_id":68035,"reputation":3491,"user_id":198762,"accept_rate":93,"display_name":"Dai Bok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562582251,"creation_date":1562582251,"answer_id":56933141,"question_id":40204189,"body_markdown":"I had the same problem - My solution was slightly different. \r\n\r\n[I needed to install Microsoft Visual C++ 2010 Redistributable Package (x64)][1] \r\n\r\nHope this helps someone else!\r\n\r\n  [1]: https://www.microsoft.com/en-gb/download/confirmation.aspx?id=14632","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I had the same problem - My solution was slightly different. </p>\n\n<p><a href=\"https://www.microsoft.com/en-gb/download/confirmation.aspx?id=14632\" rel=\"nofollow noreferrer\">I needed to install Microsoft Visual C++ 2010 Redistributable Package (x64)</a> </p>\n\n<p>Hope this helps someone else!</p>\n"},{"tags":[],"owner":{"account_id":2110607,"reputation":374,"user_id":1875965,"display_name":"Sandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563965603,"creation_date":1563965603,"answer_id":57181231,"question_id":40204189,"body_markdown":"I had this issue when trying to start PHPStorm via the command line (add the phpstorm bin folder to your path, and you should be able to do eg `phpstorm.exe .`) - my local installed worked fine.\r\n\r\nsee also https://www.jetbrains.com/help/phpstorm/working-with-the-ide-features-from-command-line.html:\r\n&gt; Add the path to the PhpStorm  `bin` folder to the **Path** environment variable (for example, `C:\\Program Files\\JetBrains\\PhpStorm\\bin`). After you configured the **Path** environment variable, you can run the PhpStorm commands.\r\n\r\nadding the path to the jdk PHPStorm comes bundled with as  `JAVA_HOME` (`setx JAVA_HOME &quot;C:\\Program Files (x86)\\JetBrains\\PhpStorm 2019.1\\jre64&quot;`) doesn&#39;t solve the issue as the default `phpstorm.exe` tries to find a 32-bit jdk\r\n\r\nI needed to specifically use the 64-bit phpstorm application  \r\n**`phpstorm64.exe .`**\r\n","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I had this issue when trying to start PHPStorm via the command line (add the phpstorm bin folder to your path, and you should be able to do eg <code>phpstorm.exe .</code>) - my local installed worked fine.</p>\n\n<p>see also <a href=\"https://www.jetbrains.com/help/phpstorm/working-with-the-ide-features-from-command-line.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/phpstorm/working-with-the-ide-features-from-command-line.html</a>:</p>\n\n<blockquote>\n  <p>Add the path to the PhpStorm  <code>bin</code> folder to the <strong>Path</strong> environment variable (for example, <code>C:\\Program Files\\JetBrains\\PhpStorm\\bin</code>). After you configured the <strong>Path</strong> environment variable, you can run the PhpStorm commands.</p>\n</blockquote>\n\n<p>adding the path to the jdk PHPStorm comes bundled with as  <code>JAVA_HOME</code> (<code>setx JAVA_HOME \"C:\\Program Files (x86)\\JetBrains\\PhpStorm 2019.1\\jre64\"</code>) doesn't solve the issue as the default <code>phpstorm.exe</code> tries to find a 32-bit jdk</p>\n\n<p>I needed to specifically use the 64-bit phpstorm application<br>\n<strong><code>phpstorm64.exe .</code></strong></p>\n"},{"tags":[],"owner":{"account_id":8846713,"reputation":39,"user_id":6607256,"display_name":"Kuldeep Makwana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565058355,"creation_date":1565058355,"answer_id":57368129,"question_id":40204189,"body_markdown":"You have to do nothing buddy.\r\nJust use 32 bit version of application or install 64 bit JDK. You installed 32 bit JDK and you are trying to access 64 bit version of that application. ","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>You have to do nothing buddy.\nJust use 32 bit version of application or install 64 bit JDK. You installed 32 bit JDK and you are trying to access 64 bit version of that application. </p>\n"},{"tags":[],"owner":{"account_id":1392924,"reputation":597,"user_id":1323283,"accept_rate":20,"display_name":"tedyyu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572251061,"creation_date":1572251061,"answer_id":58587613,"question_id":40204189,"body_markdown":"Nothing of the other solutions work for me on IntelliJ 2019.2 which starts to use JDK 11 on boot, so I have to resolve it on my own.\r\n\r\nOpen C:\\Users\\&lt;user&gt;\\.IdeaIC2019.2\\config\\idea64.exe.jdk and edit it to be:\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_131\r\n\r\nRestart IDE.\r\n\r\nAs documented on https://www.jetbrains.com/help/idea/switching-boot-jdk.html\r\n\r\nNote: the path on your machine may be different.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Nothing of the other solutions work for me on IntelliJ 2019.2 which starts to use JDK 11 on boot, so I have to resolve it on my own.</p>\n\n<p>Open C:\\Users\\.IdeaIC2019.2\\config\\idea64.exe.jdk and edit it to be:</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_131\n</code></pre>\n\n<p>Restart IDE.</p>\n\n<p>As documented on <a href=\"https://www.jetbrains.com/help/idea/switching-boot-jdk.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/switching-boot-jdk.html</a></p>\n\n<p>Note: the path on your machine may be different.</p>\n"},{"tags":[],"owner":{"account_id":943365,"reputation":4244,"user_id":971070,"accept_rate":44,"display_name":"Hong Duan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576132160,"creation_date":1576132160,"answer_id":59298872,"question_id":40204189,"body_markdown":"I have faced the same problem and in my case, just right click and &quot;Run as administrator&quot;, everything works fine.\r\n\r\nP.S. I am using Windows 10 in our company&#39;s domain.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I have faced the same problem and in my case, just right click and \"Run as administrator\", everything works fine.</p>\n\n<p>P.S. I am using Windows 10 in our company's domain.</p>\n"},{"tags":[],"owner":{"account_id":3801583,"reputation":523,"user_id":3155082,"display_name":"Jawad Zeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580194225,"creation_date":1580194225,"answer_id":59943465,"question_id":40204189,"body_markdown":"Solved it by running Android studio as admin.\r\n\r\nJust Check on that path if the `jvm.dll` is present just run Android studio as administrator.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Solved it by running Android studio as admin.</p>\n\n<p>Just Check on that path if the <code>jvm.dll</code> is present just run Android studio as administrator.</p>\n"},{"tags":[],"owner":{"account_id":769635,"reputation":126,"user_id":807129,"display_name":"Eric Clarke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582907750,"creation_date":1582907750,"answer_id":60455860,"question_id":40204189,"body_markdown":"Can be several reasons:\r\n\r\n1). Check that your jdk-byte architecture is the same as your os-byte. So, 32-nit architecture needs 32-bit jdk, 64 bit architecture needs 64 bit jdk.\r\n\r\n2). If you&#39;re running a 64-bit architecture, use (idea64.exe, phpstorm64.exe, etc.). On the 32-bit architecture use (idea.exe, phpstorm.exe, etc), to launch intelli-j products from the command line or terminal.","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Can be several reasons:</p>\n\n<p>1). Check that your jdk-byte architecture is the same as your os-byte. So, 32-nit architecture needs 32-bit jdk, 64 bit architecture needs 64 bit jdk.</p>\n\n<p>2). If you're running a 64-bit architecture, use (idea64.exe, phpstorm64.exe, etc.). On the 32-bit architecture use (idea.exe, phpstorm.exe, etc), to launch intelli-j products from the command line or terminal.</p>\n"},{"tags":[],"owner":{"account_id":5203950,"reputation":484,"user_id":4162520,"display_name":"Imre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640607667,"creation_date":1640607667,"answer_id":70495438,"question_id":40204189,"body_markdown":"I had the same issue (JDK 1.8.0_212), but none of the suggested solution worked. I then installed a newer JDK (1.8.0_261) and the problem was solved (obviously, I had to update the JAVA_HOME too).","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I had the same issue (JDK 1.8.0_212), but none of the suggested solution worked. I then installed a newer JDK (1.8.0_261) and the problem was solved (obviously, I had to update the JAVA_HOME too).</p>\n"},{"tags":[],"owner":{"account_id":21648583,"reputation":805,"user_id":15969538,"display_name":"Ronik Limbani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674064452,"creation_date":1674064452,"answer_id":75163344,"question_id":40204189,"body_markdown":"I have faced same issue after updating android studio version **electric eel**. it&#39;s show error like this.\r\n[![enter image description here][1]][1] \r\n\r\n\r\nAfter many try I found this solution. you can follow this steps.\r\n\r\nStep 1 : You can visit this site [Official Oracle Java SE Development Kit Site][2] and download particular JDK kit for your pc configuration. I am suggest to download this JDK version [Java SE Development Kit 18.0.2.1][3] and after download you can install in your computer.\r\n\r\nStep 2 : After Successfully installed you can go \r\n\r\n  **Stat**--&gt; **Search**--&gt; **Edit Environment Variable** --&gt; \r\n  You can follow this image\r\n\r\n1.[![enter image description here][4]][4]\r\n\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\nStep 3:\r\nNow You can Add **JAVA_HOME:** *C:\\Program Files\\Java\\jdk-18.0.2.1* (install version in your pc) Like this\r\n[![enter image description here][6]][6] \r\n\r\n and also add **PATH** : *C:\\Program Files\\Java\\jdk-18.0.2.1\\bin* (install version in your pc) Like this\r\n[![enter image description here][7]][7]\r\n\r\n**Note** : You can only add user variable not system variable.\r\n\r\n**Step 4 : Last step but main after follow these steps you can restart your pc.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m8Cww.png\r\n  [2]: https://www.oracle.com/in/java/technologies/downloads/\r\n  [3]: https://www.oracle.com/java/technologies/javase/jdk18-archive-downloads.html\r\n  [4]: https://i.stack.imgur.com/usZfa.png\r\n  [5]: https://i.stack.imgur.com/b775W.png\r\n  [6]: https://i.stack.imgur.com/0SIIT.png\r\n  [7]: https://i.stack.imgur.com/4Xf77.png","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>I have faced same issue after updating android studio version <strong>electric eel</strong>. it's show error like this.\n<a href=\"https://i.stack.imgur.com/m8Cww.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m8Cww.png\" alt=\"enter image description here\" /></a></p>\n<p>After many try I found this solution. you can follow this steps.</p>\n<p>Step 1 : You can visit this site <a href=\"https://www.oracle.com/in/java/technologies/downloads/\" rel=\"nofollow noreferrer\">Official Oracle Java SE Development Kit Site</a> and download particular JDK kit for your pc configuration. I am suggest to download this JDK version <a href=\"https://www.oracle.com/java/technologies/javase/jdk18-archive-downloads.html\" rel=\"nofollow noreferrer\">Java SE Development Kit 18.0.2.1</a> and after download you can install in your computer.</p>\n<p>Step 2 : After Successfully installed you can go</p>\n<p><strong>Stat</strong>--&gt; <strong>Search</strong>--&gt; <strong>Edit Environment Variable</strong> --&gt;\nYou can follow this image</p>\n<p>1.<a href=\"https://i.stack.imgur.com/usZfa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/usZfa.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/b775W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b775W.png\" alt=\"enter image description here\" /></a></p>\n<p>Step 3:\nNow You can Add <strong>JAVA_HOME:</strong> <em>C:\\Program Files\\Java\\jdk-18.0.2.1</em> (install version in your pc) Like this\n<a href=\"https://i.stack.imgur.com/0SIIT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0SIIT.png\" alt=\"enter image description here\" /></a></p>\n<p>and also add <strong>PATH</strong> : <em>C:\\Program Files\\Java\\jdk-18.0.2.1\\bin</em> (install version in your pc) Like this\n<a href=\"https://i.stack.imgur.com/4Xf77.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Xf77.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note</strong> : You can only add user variable not system variable.</p>\n<p><strong>Step 4 : Last step but main after follow these steps you can restart your pc.</strong></p>\n"}],"owner":{"account_id":8335477,"reputation":371,"user_id":6262561,"display_name":"thompsonturkey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98899,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"answer_count":16,"score":37,"last_activity_date":1674064452,"creation_date":1477233869,"question_id":40204189,"body_markdown":"Whenever I open IntelliJ IDEA i get this error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut I have that defined and I don&#39;t know why it wont work:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAny help accepted.\r\n\r\n  [1]: https://i.stack.imgur.com/OQR7n.png\r\n  [2]: https://i.stack.imgur.com/viPpf.png","title":"Error Launching Idea. Failed to load JVM DLL C:\\Program Files\\Java\\jdk1.8.0_112","body":"<p>Whenever I open IntelliJ IDEA i get this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OQR7n.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OQR7n.png\" alt=\"enter image description here\"></a></p>\n\n<p>but I have that defined and I don't know why it wont work:</p>\n\n<p><a href=\"https://i.stack.imgur.com/viPpf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/viPpf.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any help accepted.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1674061323,"post_id":75162319,"comment_id":132636141,"body_markdown":"Are you guaranteed to always have at most 3 codes for 1 value? If not, what happens if you get more than 3, `1=[1, 2, 3, 4]` for example?","body":"Are you guaranteed to always have at most 3 codes for 1 value? If not, what happens if you get more than 3, <code>1=[1, 2, 3, 4]</code> for example?"},{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":0,"creation_date":1674061631,"post_id":75162319,"comment_id":132636234,"body_markdown":"It is guaranteed that there will always be a maximum of 3 codes.","body":"It is guaranteed that there will always be a maximum of 3 codes."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1674062224,"post_id":75162319,"comment_id":132636421,"body_markdown":"If you had to do it without streams, what would you do? Have you looked at the methods available in [Collector](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html)?","body":"If you had to do it without streams, what would you do? Have you looked at the methods available in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\">Collector</a>?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674064180,"creation_date":1674064180,"answer_id":75163292,"question_id":75162319,"body_markdown":"Here is one way.\r\n```\r\nclass ResultSet {\r\n\r\n    long value;\r\n    String code_1;\r\n    String code_2;\r\n    String code_3;\r\n\r\n    public ResultSet(long value, String code_1,String code_2, String code_3) {\r\n        this.value = value;\r\n        this.code_1 = code_1;\r\n        this.code_2 = code_2;\r\n        this.code_3 = code_3;\r\n    }\r\n    \r\n    public String toString() {\r\n        return &quot;{%d, %s, %s, %s}&quot;.formatted(value, code_1, code_2, code_3);\r\n    }\r\n}\r\n```\r\nUse your existing map to build the list.  Stream the entrySet of the map and use `map` to instantiate a `ResultSet` instance.  The forloop will fill the list with nulls if it isn&#39;t fully populated.\r\n```\r\n\r\nList&lt;ResultSet&gt; resultSet = map.entrySet().stream()\r\n        .&lt;ResultSet&gt;map(ent-&gt; {\r\n            List&lt;String&gt; lst = ent.getValue();\r\n            for( int i = lst.size(); i &lt; 3; i++) {\r\n                lst.add(null);\r\n            }\r\n            return new ResultSet(ent.getKey(), lst.get(0),\r\n                    lst.get(1), lst.get(2));\r\n        }).toList();\r\n\r\n\r\nresultSet.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n{1, 1, 2, 3}\r\n{2, 5, null, null}\r\n```\r\nNote that you could simply stream the existing `entrySet` from the original map to combine the process, returning the desired `List&lt;ResultSet&gt;`","title":"Java streams: return results to custom object","body":"<p>Here is one way.</p>\n<pre><code>class ResultSet {\n\n    long value;\n    String code_1;\n    String code_2;\n    String code_3;\n\n    public ResultSet(long value, String code_1,String code_2, String code_3) {\n        this.value = value;\n        this.code_1 = code_1;\n        this.code_2 = code_2;\n        this.code_3 = code_3;\n    }\n    \n    public String toString() {\n        return &quot;{%d, %s, %s, %s}&quot;.formatted(value, code_1, code_2, code_3);\n    }\n}\n</code></pre>\n<p>Use your existing map to build the list.  Stream the entrySet of the map and use <code>map</code> to instantiate a <code>ResultSet</code> instance.  The forloop will fill the list with nulls if it isn't fully populated.</p>\n<pre><code>\nList&lt;ResultSet&gt; resultSet = map.entrySet().stream()\n        .&lt;ResultSet&gt;map(ent-&gt; {\n            List&lt;String&gt; lst = ent.getValue();\n            for( int i = lst.size(); i &lt; 3; i++) {\n                lst.add(null);\n            }\n            return new ResultSet(ent.getKey(), lst.get(0),\n                    lst.get(1), lst.get(2));\n        }).toList();\n\n\nresultSet.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>{1, 1, 2, 3}\n{2, 5, null, null}\n</code></pre>\n<p>Note that you could simply stream the existing <code>entrySet</code> from the original map to combine the process, returning the desired <code>List&lt;ResultSet&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674064367,"creation_date":1674064367,"answer_id":75163329,"question_id":75162319,"body_markdown":"You have already mapped value to its codes. You can just continue by streaming the entry set of the resulting map and [map][1] entries to `ResultSet`.\r\n```\r\nList&lt;ResultSet&gt; result = pivotMapList.stream()\r\n            .collect(Collectors.groupingBy(PivotMapEgModel::getValue, Collectors.mapping(PivotMapEgModel::getCode, Collectors.toList())))\r\n            .entrySet()\r\n            .stream()\r\n            .map(entry -&gt; new ResultSet(entry.getKey(), getCode(entry.getValue(), 0), getCode(entry.getValue(), 1), getCode(entry.getValue(), 2)))\r\n            .collect(Collectors.toList());\r\n```\r\n`getCode()` is simple method taking care not to get exception when retrieving values from the list.\r\n```\r\nprivate static String getCode(List&lt;String&gt; codes, int index) {\r\n  if (index &gt;= codes.size()) {\r\n    return null;\r\n  }\r\n  return codes.get(index);\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-","title":"Java streams: return results to custom object","body":"<p>You have already mapped value to its codes. You can just continue by streaming the entry set of the resulting map and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">map</a> entries to <code>ResultSet</code>.</p>\n<pre><code>List&lt;ResultSet&gt; result = pivotMapList.stream()\n            .collect(Collectors.groupingBy(PivotMapEgModel::getValue, Collectors.mapping(PivotMapEgModel::getCode, Collectors.toList())))\n            .entrySet()\n            .stream()\n            .map(entry -&gt; new ResultSet(entry.getKey(), getCode(entry.getValue(), 0), getCode(entry.getValue(), 1), getCode(entry.getValue(), 2)))\n            .collect(Collectors.toList());\n</code></pre>\n<p><code>getCode()</code> is simple method taking care not to get exception when retrieving values from the list.</p>\n<pre><code>private static String getCode(List&lt;String&gt; codes, int index) {\n  if (index &gt;= codes.size()) {\n    return null;\n  }\n  return codes.get(index);\n}\n</code></pre>\n"}],"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75163329,"answer_count":2,"score":-1,"last_activity_date":1674064367,"creation_date":1674059230,"question_id":75162319,"body_markdown":"I have a piece of code that has list of objects as follows.\r\n\r\n    List&lt;PivotMapEgModel&gt; pivotMapList = List.of(new PivotMapEgModel(1L, &quot;1&quot;), new PivotMapEgModel(1L, &quot;2&quot;), new PivotMapEgModel(1L, &quot;3&quot;), new PivotMapEgModel(2L, &quot;5&quot;));\r\n\r\nIt is guaranteed that there will always be a maximum of 3 codes per value.\r\n\r\nI have a class that looks like this:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    class ResultSet {\r\n    \tlong value;\r\n    \tString code_1;\r\n    \tString code_2;\r\n    \tString code_3;\r\n    }\r\n\r\nI am currently doing the stream operation in this way: \r\n\r\n    pivotMapList.stream().collect(Collectors.groupingBy(PivotMapEgModel::getValue, Collectors.mapping(PivotMapEgModel::getCode, Collectors.toList())))\r\n\r\nThis is producing the output in the following way: `{1=[1, 2, 3], 2=[5]}`\r\n\r\nI need to perform stream operations on the pivotMapList to get the output to show in `List&lt;ResultSet&gt;` as follows:\r\n\r\n    [{value=1, code_1=1, code_2=2, code_3=3},\r\n     {value=2, code_1=1, code_2=null, code_3=null}]\r\n\r\nI am not sure how I can get `List&lt;ResultSet&gt;` from stream operations\r\n\r\nAny help to achieve the desired output would be greatly appreciated! Thank you","title":"Java streams: return results to custom object","body":"<p>I have a piece of code that has list of objects as follows.</p>\n<pre><code>List&lt;PivotMapEgModel&gt; pivotMapList = List.of(new PivotMapEgModel(1L, &quot;1&quot;), new PivotMapEgModel(1L, &quot;2&quot;), new PivotMapEgModel(1L, &quot;3&quot;), new PivotMapEgModel(2L, &quot;5&quot;));\n</code></pre>\n<p>It is guaranteed that there will always be a maximum of 3 codes per value.</p>\n<p>I have a class that looks like this:</p>\n<pre><code>@Data\n@AllArgsConstructor\nclass ResultSet {\n    long value;\n    String code_1;\n    String code_2;\n    String code_3;\n}\n</code></pre>\n<p>I am currently doing the stream operation in this way:</p>\n<pre><code>pivotMapList.stream().collect(Collectors.groupingBy(PivotMapEgModel::getValue, Collectors.mapping(PivotMapEgModel::getCode, Collectors.toList())))\n</code></pre>\n<p>This is producing the output in the following way: <code>{1=[1, 2, 3], 2=[5]}</code></p>\n<p>I need to perform stream operations on the pivotMapList to get the output to show in <code>List&lt;ResultSet&gt;</code> as follows:</p>\n<pre><code>[{value=1, code_1=1, code_2=2, code_3=3},\n {value=2, code_1=1, code_2=null, code_3=null}]\n</code></pre>\n<p>I am not sure how I can get <code>List&lt;ResultSet&gt;</code> from stream operations</p>\n<p>Any help to achieve the desired output would be greatly appreciated! Thank you</p>\n"},{"tags":["java","android","kotlin","build.gradle","androidx"],"comments":[{"owner":{"account_id":9155156,"reputation":4503,"user_id":6808319,"accept_rate":50,"display_name":"ElegyD"},"score":0,"creation_date":1674818322,"post_id":75163205,"comment_id":132798907,"body_markdown":"Use the same version for both (2.5.1). See also [this question](https://stackoverflow.com/q/69817925/6808319).","body":"Use the same version for both (2.5.1). See also <a href=\"https://stackoverflow.com/q/69817925/6808319\">this question</a>."}],"owner":{"account_id":1127005,"reputation":12365,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674064312,"creation_date":1674063678,"question_id":75163205,"body_markdown":"I have a project that need 2 libraries. one of the library have a dependency to `androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1` and the other have a dependency to `androidx.lifecycle:lifecycle-viewmodel:2.5.1`. How this must be resolved ? When I try to compile the project I receive \r\n\r\n&gt; Error: E7688 Type androidx.lifecycle.ViewModelLazy is defined multiple\r\n&gt; times:\r\n&gt; androidx.lifecycle-lifecycle-viewmodel-2.5.1-dexed.jar:classes.dex,\r\n&gt; androidx.lifecycle-lifecycle-viewmodel-ktx-2.3.1-dexed.jar:classes.dex","title":"Android KTX conflict with java version","body":"<p>I have a project that need 2 libraries. one of the library have a dependency to <code>androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1</code> and the other have a dependency to <code>androidx.lifecycle:lifecycle-viewmodel:2.5.1</code>. How this must be resolved ? When I try to compile the project I receive</p>\n<blockquote>\n<p>Error: E7688 Type androidx.lifecycle.ViewModelLazy is defined multiple\ntimes:\nandroidx.lifecycle-lifecycle-viewmodel-2.5.1-dexed.jar:classes.dex,\nandroidx.lifecycle-lifecycle-viewmodel-ktx-2.3.1-dexed.jar:classes.dex</p>\n</blockquote>\n"},{"tags":["java","arrays","list","object","retrofit2"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1520732251,"post_id":49215773,"comment_id":85435692,"body_markdown":"Where is `roomClassList` defined?  Your second approach should be working AFAIK.","body":"Where is <code>roomClassList</code> defined?  Your second approach should be working AFAIK."},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1520732277,"post_id":49215773,"comment_id":85435701,"body_markdown":"`String[] roomClassList = roomClassRes.stream().map(RoomClassRes::getName).toArray(String[]::new);`","body":"<code>String[] roomClassList = roomClassRes.stream().map(RoomClassRes::getName).toArray(Str&zwnj;&#8203;ing[]::new);</code>"},{"owner":{"account_id":11258964,"reputation":1128,"user_id":8257835,"accept_rate":100,"display_name":"Roy Ryando"},"score":0,"creation_date":1520732448,"post_id":49215773,"comment_id":85435722,"body_markdown":"In the same class, under `public class blablabla { String[] roomClassList = {} ... }`","body":"In the same class, under <code>public class blablabla { String[] roomClassList = {} ... }</code>"},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1520732624,"post_id":49215773,"comment_id":85435753,"body_markdown":"@RoyHabeahan then define _&quot;This doesn&#39;t work for me&quot;_.","body":"@RoyHabeahan then define <i>&quot;This doesn&#39;t work for me&quot;</i>."},{"owner":{"account_id":11258964,"reputation":1128,"user_id":8257835,"accept_rate":100,"display_name":"Roy Ryando"},"score":0,"creation_date":1520732828,"post_id":49215773,"comment_id":85435775,"body_markdown":"@Aomin&#232; doesn&#39;t work **not supported in source 1.7**","body":"@Aomin&#232; doesn&#39;t work <b>not supported in source 1.7</b>"}],"answers":[{"tags":[],"owner":{"account_id":8245409,"reputation":3834,"user_id":6201659,"display_name":"Jose Da Silva Gomes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674063450,"creation_date":1520735916,"answer_id":49216112,"question_id":49215773,"body_markdown":"With Java 8. Here you can use the stream API, first get the stream of `RoomClassRes` then map each room to its name and tranform to array.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tpublic String[] toStringArray(List&lt;RoomClassRes&gt; rooms) {\r\n\t\treturn rooms.stream()\r\n\t\t\t\t.map(RoomClassRes::getName)\r\n\t\t\t\t.toArray(String[]::new);\r\n\t}\r\n\r\nWith Java 7. First create the array with the list size, then fill the array and return.\r\n\r\n\tpublic String[] toStringArray(List&lt;RoomClassRes&gt; rooms) {\r\n\t\tString[] result = new String[rooms.size()];\r\n\t\tfor (int index = 0; index &lt; rooms.size(); index++)\r\n\t\t\tresult[index] = rooms.get(index).getName();\r\n\t\treturn result;\r\n\t}\r\n\r\nNote that you cannot declare the array like `String[] result = {}` because that would create an empty array, you need to provide the size of the array like in the above function.\r\n","title":"Java Convert List of Object Class to String[]","body":"<p>With Java 8. Here you can use the stream API, first get the stream of <code>RoomClassRes</code> then map each room to its name and tranform to array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String[] toStringArray(List&lt;RoomClassRes&gt; rooms) {\n    return rooms.stream()\n            .map(RoomClassRes::getName)\n            .toArray(String[]::new);\n}\n</code></pre>\n<p>With Java 7. First create the array with the list size, then fill the array and return.</p>\n<pre><code>public String[] toStringArray(List&lt;RoomClassRes&gt; rooms) {\n    String[] result = new String[rooms.size()];\n    for (int index = 0; index &lt; rooms.size(); index++)\n        result[index] = rooms.get(index).getName();\n    return result;\n}\n</code></pre>\n<p>Note that you cannot declare the array like <code>String[] result = {}</code> because that would create an empty array, you need to provide the size of the array like in the above function.</p>\n"}],"owner":{"account_id":11258964,"reputation":1128,"user_id":8257835,"accept_rate":100,"display_name":"Roy Ryando"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49216112,"answer_count":1,"score":0,"last_activity_date":1674063450,"creation_date":1520731952,"question_id":49215773,"body_markdown":"I have class named RoomClassRes that have getter&amp;setter id, name, etc and in my main class I declare String[] = {}.\r\n\r\nWith this code I use two variable\r\n\r\n`List&lt;RoomClassRes&gt; roomClassRes` and `String[] roomClassList`\r\n\r\nI want to fill `String[]` with all of `name` at `List&lt;RoomClassRes&gt;`\r\n\r\nThis doesn&#39;t work for me\r\n\r\n    @Override\r\n            public void onResponse(Call&lt;List&lt;RoomClassRes&gt;&gt; call, Response&lt;List&lt;RoomClassRes&gt;&gt; response) {\r\n                List&lt;RoomClassRes&gt; roomClassRes = response.body();\r\n                \r\n                // 1\r\n                Object[] roomClassObj = roomClassRes.toArray();\r\n                for (int i = 0; i &lt; roomClassObj.length; i++){\r\n                    RoomClassRes roomClass = (RoomClassRes)roomClassObj[i];\r\n                    roomClassList[i] = roomClass.getName();\r\n                }\r\n\r\n                // 2\r\n                int i = 0;\r\n                for(RoomClassRes rc : roomClassRes){\r\n                    roomClassList[i] = rc.getName();\r\n                    i++;\r\n                }\r\n\r\n            }\r\n\r\nNothing works.","title":"Java Convert List of Object Class to String[]","body":"<p>I have class named RoomClassRes that have getter&amp;setter id, name, etc and in my main class I declare String[] = {}.</p>\n\n<p>With this code I use two variable</p>\n\n<p><code>List&lt;RoomClassRes&gt; roomClassRes</code> and <code>String[] roomClassList</code></p>\n\n<p>I want to fill <code>String[]</code> with all of <code>name</code> at <code>List&lt;RoomClassRes&gt;</code></p>\n\n<p>This doesn't work for me</p>\n\n<pre><code>@Override\n        public void onResponse(Call&lt;List&lt;RoomClassRes&gt;&gt; call, Response&lt;List&lt;RoomClassRes&gt;&gt; response) {\n            List&lt;RoomClassRes&gt; roomClassRes = response.body();\n\n            // 1\n            Object[] roomClassObj = roomClassRes.toArray();\n            for (int i = 0; i &lt; roomClassObj.length; i++){\n                RoomClassRes roomClass = (RoomClassRes)roomClassObj[i];\n                roomClassList[i] = roomClass.getName();\n            }\n\n            // 2\n            int i = 0;\n            for(RoomClassRes rc : roomClassRes){\n                roomClassList[i] = rc.getName();\n                i++;\n            }\n\n        }\n</code></pre>\n\n<p>Nothing works.</p>\n"},{"tags":["java","android","kotlin","android-activity","push-notification"],"comments":[{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1673993759,"post_id":75132301,"comment_id":132619687,"body_markdown":"Option 1: The recording should be moved to a service when the activity is not visible. The recording will continue in the background with a push notification indicating that it is still running. Option 2: Push notification and recording activity should be the same activity with different fragments. When the push starts the activity, the recording activity is reopened and it can check if it should open a fragment for the push message or ask the user to save their session.","body":"Option 1: The recording should be moved to a service when the activity is not visible. The recording will continue in the background with a push notification indicating that it is still running. Option 2: Push notification and recording activity should be the same activity with different fragments. When the push starts the activity, the recording activity is reopened and it can check if it should open a fragment for the push message or ask the user to save their session."},{"owner":{"account_id":24074315,"reputation":86,"user_id":18049868,"display_name":"Xena Warrior Princess"},"score":0,"creation_date":1674062811,"post_id":75132301,"comment_id":132636625,"body_markdown":"@AlexanderHoffmann \nOption 1.\nRegistration is already taking place in the service. But as soon as the user clicks push in the notification shade, the app restarts, as only one app process is allowed at a time.\nThanks a lot for your answer!","body":"@AlexanderHoffmann  Option 1. Registration is already taking place in the service. But as soon as the user clicks push in the notification shade, the app restarts, as only one app process is allowed at a time. Thanks a lot for your answer!"}],"answers":[{"tags":[],"owner":{"account_id":24074315,"reputation":86,"user_id":18049868,"display_name":"Xena Warrior Princess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674063436,"creation_date":1674063436,"answer_id":75163164,"question_id":75132301,"body_markdown":"The best solution I have found is to clear all old push notifications in the notification shade when going to the recording screen.\r\n\r\n```\r\nval notificationsManager = getSystemService&lt;Any&gt;(Context.NOTIFICATION_SERVICE) as NotificationManager?\r\nnotificationsManager!!.cancelAll()\r\n```\r\nFurther during the recording, if a push notification arrives, I receive this in my service inherited from FirebaseMessagingService in onMessageReceived().\r\n\r\nIf the recording screen is currently open, I do not show a notification in the notification shade. But I show a widget on the recording screen with the push text and if the user presses it I ask if the user wants to go to another screen because the recording will end.\r\n\r\nI hope my experience helps someone. Similarly implemented in Intercom","title":"How not to interrupt the current process in the application when the user clicks on push?","body":"<p>The best solution I have found is to clear all old push notifications in the notification shade when going to the recording screen.</p>\n<pre><code>val notificationsManager = getSystemService&lt;Any&gt;(Context.NOTIFICATION_SERVICE) as NotificationManager?\nnotificationsManager!!.cancelAll()\n</code></pre>\n<p>Further during the recording, if a push notification arrives, I receive this in my service inherited from FirebaseMessagingService in onMessageReceived().</p>\n<p>If the recording screen is currently open, I do not show a notification in the notification shade. But I show a widget on the recording screen with the push text and if the user presses it I ask if the user wants to go to another screen because the recording will end.</p>\n<p>I hope my experience helps someone. Similarly implemented in Intercom</p>\n"}],"owner":{"account_id":24074315,"reputation":86,"user_id":18049868,"display_name":"Xena Warrior Princess"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75163164,"answer_count":1,"score":0,"last_activity_date":1674063436,"creation_date":1673861365,"question_id":75132301,"body_markdown":"on one screen in my application, I am recording audio.\r\n\r\n**Scenario:** User records audio on this screen. A push comes from our application. The user clicks on this push and another push processing activity is launched.\r\n\r\n**Result:** The user loses his session.\r\n\r\n**Question:** what are the options for handling this case so that the user does not lose his session? Ideally, before switching to a new activity, the application would ask the user if he is sure that he wants to go to another screen, because the session will be lost. But how to track it?\r\n\r\nThanks a lot for your advice","title":"How not to interrupt the current process in the application when the user clicks on push?","body":"<p>on one screen in my application, I am recording audio.</p>\n<p><strong>Scenario:</strong> User records audio on this screen. A push comes from our application. The user clicks on this push and another push processing activity is launched.</p>\n<p><strong>Result:</strong> The user loses his session.</p>\n<p><strong>Question:</strong> what are the options for handling this case so that the user does not lose his session? Ideally, before switching to a new activity, the application would ask the user if he is sure that he wants to go to another screen, because the session will be lost. But how to track it?</p>\n<p>Thanks a lot for your advice</p>\n"},{"tags":["java","java-stream","lazy-evaluation"],"answers":[{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1674022487,"creation_date":1673920302,"answer_id":75141306,"question_id":75141218,"body_markdown":"You can lazily evaluate by concatenating `Supplier&lt;List&lt;MyObject&gt;&gt;` instead of `List&lt;MyObject&gt;`.\r\n\r\n    public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\r\n        List&lt;Supplier&lt;List&lt;MyObject&gt;&gt;&gt; concat = List.of(() -&gt; myList, () -&gt; expensive());\r\n        return concat.stream()\r\n            .flatMap(supplier -&gt; supplier.get().stream())\r\n            .filter(o -&gt; o.hasName(input))\r\n            .findFirst();\r\n    }\r\n\r\nTest:\r\n\r\n    record MyObject(String s) {\r\n        public boolean hasName(String in) {\r\n            return s.equals(in);\r\n        }\r\n    }\r\n\r\n    static List&lt;MyObject&gt; expensive() {\r\n        System.out.println(&quot;expensive() called&quot;);\r\n        return List.of(new MyObject(&quot;z&quot;));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;MyObject&gt; myList = List.of(new MyObject(&quot;a&quot;));\r\n        System.out.println(&quot;case 1: &quot; + findTarget(&quot;a&quot;, myList));\r\n        System.out.println(&quot;case 2: &quot; + findTarget(&quot;x&quot;, myList));\r\n    }\r\n\r\nOutput:\r\n\r\n    case 1: Optional[MyObject[s=a]]\r\n    expensive() called\r\n    case 2: Optional.empty\r\n\r\nAlternatively you can do this:\r\n\r\n    public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\r\n        return Stream.of(\r\n                (Supplier&lt;List&lt;MyObject&gt;&gt;) () -&gt; myList,\r\n                (Supplier&lt;List&lt;MyObject&gt;&gt;) () -&gt; expensive())\r\n            .flatMap(supplier -&gt; supplier.get().stream())\r\n            .filter(o -&gt; o.hasName(input))\r\n            .findFirst();\r\n    }","title":"Lazily calls a method in a java Stream","body":"<p>You can lazily evaluate by concatenating <code>Supplier&lt;List&lt;MyObject&gt;&gt;</code> instead of <code>List&lt;MyObject&gt;</code>.</p>\n<pre><code>public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\n    List&lt;Supplier&lt;List&lt;MyObject&gt;&gt;&gt; concat = List.of(() -&gt; myList, () -&gt; expensive());\n    return concat.stream()\n        .flatMap(supplier -&gt; supplier.get().stream())\n        .filter(o -&gt; o.hasName(input))\n        .findFirst();\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>record MyObject(String s) {\n    public boolean hasName(String in) {\n        return s.equals(in);\n    }\n}\n\nstatic List&lt;MyObject&gt; expensive() {\n    System.out.println(&quot;expensive() called&quot;);\n    return List.of(new MyObject(&quot;z&quot;));\n}\n\npublic static void main(String[] args) {\n    List&lt;MyObject&gt; myList = List.of(new MyObject(&quot;a&quot;));\n    System.out.println(&quot;case 1: &quot; + findTarget(&quot;a&quot;, myList));\n    System.out.println(&quot;case 2: &quot; + findTarget(&quot;x&quot;, myList));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>case 1: Optional[MyObject[s=a]]\nexpensive() called\ncase 2: Optional.empty\n</code></pre>\n<p>Alternatively you can do this:</p>\n<pre><code>public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\n    return Stream.of(\n            (Supplier&lt;List&lt;MyObject&gt;&gt;) () -&gt; myList,\n            (Supplier&lt;List&lt;MyObject&gt;&gt;) () -&gt; expensive())\n        .flatMap(supplier -&gt; supplier.get().stream())\n        .filter(o -&gt; o.hasName(input))\n        .findFirst();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674063408,"creation_date":1674063408,"answer_id":75163153,"question_id":75141218,"body_markdown":"Another alternative, which might be simpler to understand, is to extract the stream logic in a separate method:\r\n\r\n    private static Optional&lt;MyObject&gt; findInternal(String input, List&lt;MyObject&gt; myList) {\r\n        return myList.stream().filter(o -&gt; o.hasName(input)).findFirst();\r\n    }\r\n\r\nand then simply call it twice:\r\n\r\n    public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\r\n        return findInternal(input, myList).or(() -&gt; findInternal(input, expensive()));\r\n    }","title":"Lazily calls a method in a java Stream","body":"<p>Another alternative, which might be simpler to understand, is to extract the stream logic in a separate method:</p>\n<pre><code>private static Optional&lt;MyObject&gt; findInternal(String input, List&lt;MyObject&gt; myList) {\n    return myList.stream().filter(o -&gt; o.hasName(input)).findFirst();\n}\n</code></pre>\n<p>and then simply call it twice:</p>\n<pre><code>public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\n    return findInternal(input, myList).or(() -&gt; findInternal(input, expensive()));\n}\n</code></pre>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75141306,"answer_count":2,"score":3,"last_activity_date":1674063408,"creation_date":1673919155,"question_id":75141218,"body_markdown":"I have an expensive method that I only want to call it when necessary in a stream. Here is an example:\r\n\r\n    public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\r\n        return Stream.concat(myList.stream(), expensive().stream()).filter(o -&gt; o.hasName(input)).findFirst();\r\n    }\r\n\r\nThe goal is to find the target `MyObject` from `myList` based on the `input` value, but if its not in `myList` ONLY then it will call `expensive()` to return a bigger list and look from there.\r\n\r\nThe above example does not do that, as it seems `Stream.concat` will call `expensive()` already before consuming all of `myList`.\r\n\r\nAn ugly solution I can think of is to do it in two steps, e.g.:\r\n\r\n    return myList.stream().filter(o -&gt; o.hasName(input)).findFirst().or(\r\n        () -&gt; expensive().stream().filter(o -&gt; o.hasName(input)).findFirst());\r\n\r\nBut then I will have to repeat the filter and the rest twice.\r\n\r\nIs there any better solution or even a single liner of Stream that does that?","title":"Lazily calls a method in a java Stream","body":"<p>I have an expensive method that I only want to call it when necessary in a stream. Here is an example:</p>\n<pre><code>public static Optional&lt;MyObject&gt; findTarget(String input, List&lt;MyObject&gt; myList) {\n    return Stream.concat(myList.stream(), expensive().stream()).filter(o -&gt; o.hasName(input)).findFirst();\n}\n</code></pre>\n<p>The goal is to find the target <code>MyObject</code> from <code>myList</code> based on the <code>input</code> value, but if its not in <code>myList</code> ONLY then it will call <code>expensive()</code> to return a bigger list and look from there.</p>\n<p>The above example does not do that, as it seems <code>Stream.concat</code> will call <code>expensive()</code> already before consuming all of <code>myList</code>.</p>\n<p>An ugly solution I can think of is to do it in two steps, e.g.:</p>\n<pre><code>return myList.stream().filter(o -&gt; o.hasName(input)).findFirst().or(\n    () -&gt; expensive().stream().filter(o -&gt; o.hasName(input)).findFirst());\n</code></pre>\n<p>But then I will have to repeat the filter and the rest twice.</p>\n<p>Is there any better solution or even a single liner of Stream that does that?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674062962,"creation_date":1674062962,"answer_id":75163078,"question_id":75162991,"body_markdown":"`Collections.sort` is not __required__ to throw this exception. It may or may not. Essentially, if you attempt to do sorting operations (such as invoking `Collections.sort`, or passing a broken comparator to the constructor of `TreeSet`, then adding some elements) with a broken comparator, undefined behaviour is &#39;allowed&#39; by the JVM.\r\n\r\nThe exception is simply a kindness, and not one you can reliably get. The spec doesn&#39;t explain in which specific circumstances you would.\r\n\r\nThis should be somewhat obvious: If you have a list with 2 elements in it, and you ask to sort it, it&#39;s only going to call your comparator just the one time, and that is by definition insufficient to figure out that your comparator is broken. Java certainly isn&#39;t going to do some sort of code analysis prior to accepting the comparator (halting problem and such kinda make that impossible in any case).\r\n\r\n## But I really wanna see it!\r\n\r\nNo problem. Just toss a few more in there! Wrap\r\n\r\n```\r\nfor (int i = 0; i &lt; 100; i++) {\r\n // your 3 add statements here\r\n}\r\n```\r\n\r\naround your add statements and, voila, a funny exception. Funny, in that it is itself broken - the message ends in an exclamation point which violates the exception messaging style guide. If you feel endeavourous, you should file a bug report over at OpenJDK about it:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n\tat java.base/java.util.TimSort.mergeLo(TimSort.java:781)\r\n\tat java.base/java.util.TimSort.mergeAt(TimSort.java:518)\r\n\tat java.base/java.util.TimSort.mergeCollapse(TimSort.java:448)\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:245)\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1307)\r\n\tat java.base/java.util.ArrayList.sort(ArrayList.java:1721)\r\n\tat java.base/java.util.Collections.sort(Collections.java:179)\r\n\tat Main.main(Main.java:13)\r\n```\r\n\r\n","title":"IllegalArgumentException: Comparison method violates its general contract","body":"<p><code>Collections.sort</code> is not <strong>required</strong> to throw this exception. It may or may not. Essentially, if you attempt to do sorting operations (such as invoking <code>Collections.sort</code>, or passing a broken comparator to the constructor of <code>TreeSet</code>, then adding some elements) with a broken comparator, undefined behaviour is 'allowed' by the JVM.</p>\n<p>The exception is simply a kindness, and not one you can reliably get. The spec doesn't explain in which specific circumstances you would.</p>\n<p>This should be somewhat obvious: If you have a list with 2 elements in it, and you ask to sort it, it's only going to call your comparator just the one time, and that is by definition insufficient to figure out that your comparator is broken. Java certainly isn't going to do some sort of code analysis prior to accepting the comparator (halting problem and such kinda make that impossible in any case).</p>\n<h2>But I really wanna see it!</h2>\n<p>No problem. Just toss a few more in there! Wrap</p>\n<pre><code>for (int i = 0; i &lt; 100; i++) {\n // your 3 add statements here\n}\n</code></pre>\n<p>around your add statements and, voila, a funny exception. Funny, in that it is itself broken - the message ends in an exclamation point which violates the exception messaging style guide. If you feel endeavourous, you should file a bug report over at OpenJDK about it:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\n    at java.base/java.util.TimSort.mergeLo(TimSort.java:781)\n    at java.base/java.util.TimSort.mergeAt(TimSort.java:518)\n    at java.base/java.util.TimSort.mergeCollapse(TimSort.java:448)\n    at java.base/java.util.TimSort.sort(TimSort.java:245)\n    at java.base/java.util.Arrays.sort(Arrays.java:1307)\n    at java.base/java.util.ArrayList.sort(ArrayList.java:1721)\n    at java.base/java.util.Collections.sort(Collections.java:179)\n    at Main.main(Main.java:13)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674063089,"creation_date":1674063089,"answer_id":75163104,"question_id":75162991,"body_markdown":"Java cannot possibly detect every possible violation of the `Comparator` contract. Doing so would run afoul of the [halting problem](https://en.wikipedia.org/wiki/Halting_problem), and even if you *had* a guarantee that your comparator terminated, you still would have to test every possible input value of type `T`.\r\n\r\nSpecifically, [`Arrays.sort`](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-) says this about `IllegalArgumentException`.\r\n\r\n&gt; **Throws:**\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; `IllegalArgumentException` - (optional) if the comparator is found to violate the Comparator contract\r\n\r\nIf the comparator is *found* to violate the contract, it throws the exception. But if your list happens to be sorted without Java noticing a problem, it silently succeeds but may produce incorrect results. So if Java, for instance, compares two values twice and gets a different result each time, that&#39;s a clear violation. But if there&#39;s some complex mathematical proof that your comparator fails in some corner case, it won&#39;t necessarily come up during this particular input to `Arrays.sort`. That doesn&#39;t mean the sorted result is correct, however. In fact, there *is* no correct sorted result if your ordering isn&#39;t actually an ordering. (What does it mean to sort a list of numbers in &quot;potato&quot; order?)","title":"IllegalArgumentException: Comparison method violates its general contract","body":"<p>Java cannot possibly detect every possible violation of the <code>Comparator</code> contract. Doing so would run afoul of the <a href=\"https://en.wikipedia.org/wiki/Halting_problem\" rel=\"nofollow noreferrer\">halting problem</a>, and even if you <em>had</em> a guarantee that your comparator terminated, you still would have to test every possible input value of type <code>T</code>.</p>\n<p>Specifically, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Arrays.sort</code></a> says this about <code>IllegalArgumentException</code>.</p>\n<blockquote>\n<p><strong>Throws:</strong></p>\n<p>...</p>\n<p><code>IllegalArgumentException</code> - (optional) if the comparator is found to violate the Comparator contract</p>\n</blockquote>\n<p>If the comparator is <em>found</em> to violate the contract, it throws the exception. But if your list happens to be sorted without Java noticing a problem, it silently succeeds but may produce incorrect results. So if Java, for instance, compares two values twice and gets a different result each time, that's a clear violation. But if there's some complex mathematical proof that your comparator fails in some corner case, it won't necessarily come up during this particular input to <code>Arrays.sort</code>. That doesn't mean the sorted result is correct, however. In fact, there <em>is</em> no correct sorted result if your ordering isn't actually an ordering. (What does it mean to sort a list of numbers in &quot;potato&quot; order?)</p>\n"}],"owner":{"account_id":27565608,"reputation":43,"user_id":21037846,"display_name":"SevenEli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75163078,"answer_count":2,"score":3,"last_activity_date":1674063089,"creation_date":1674062525,"question_id":75162991,"body_markdown":"I haven&#39;t faced this issue ever. I just wanted to understand the cause of this error.\r\nAs per [this answer on SO](https://stackoverflow.com/a/59313659), the following scenario is a violation:\r\n```\r\n    A &gt; B\r\n    A == C\r\n    B == C\r\n```\r\n\r\nSo I tried writing a simple code to create this scenario and see if it throws this error.\r\nHere&#39;s what I wrote.\r\n```\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n          List&lt;A&gt; a = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t    a.add(new A(0,1)); // this is A\r\n\t\t    a.add(new A(0,0)); // this is B\r\n            a.add(new A(0,null)); // And this is C\r\n\t\t\r\n\t\t\r\n\t\t    Collections.sort(a, new Comparator&lt;A&gt;(){\r\n\t\t\t    public int compare(A a, A b){\r\n\t\t\t\t    if(a.i.equals(b.i) &amp;&amp; a.j != null &amp;&amp; b.j != null){\r\n\t\t\t\t\t    return a.j.compareTo(b.j);\r\n\t\t\t\t    }else{\r\n\t\t\t\t\t    return a.i.compareTo(b.i);\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    });\r\n\t\t\r\n\t\t    System.out.println(a);\r\n      }\r\n    }\r\n\r\n    class A{\r\n\t    Integer i;\r\n\t    Integer j;\r\n\t    A(Integer i, Integer j){\r\n\t\t    this.i = i;\r\n\t\t    this.j = j;\r\n\t    }\r\n\t\r\n\t    public String toString(){\r\n\t\t    return &quot;[&quot;+i+&quot;,&quot;+j+&quot;]&quot;;\r\n\t    }\r\n    }\r\n```\r\n\r\n\r\nBut this doesn&#39;t throw any violation error and runs successfully.\r\nAny idea why?","title":"IllegalArgumentException: Comparison method violates its general contract","body":"<p>I haven't faced this issue ever. I just wanted to understand the cause of this error.\nAs per <a href=\"https://stackoverflow.com/a/59313659\">this answer on SO</a>, the following scenario is a violation:</p>\n<pre><code>    A &gt; B\n    A == C\n    B == C\n</code></pre>\n<p>So I tried writing a simple code to create this scenario and see if it throws this error.\nHere's what I wrote.</p>\n<pre><code>    import java.util.*;\n\n    public class Main {\n        public static void main(String[] args) {\n          List&lt;A&gt; a = new ArrayList&lt;&gt;();\n        \n            a.add(new A(0,1)); // this is A\n            a.add(new A(0,0)); // this is B\n            a.add(new A(0,null)); // And this is C\n        \n        \n            Collections.sort(a, new Comparator&lt;A&gt;(){\n                public int compare(A a, A b){\n                    if(a.i.equals(b.i) &amp;&amp; a.j != null &amp;&amp; b.j != null){\n                        return a.j.compareTo(b.j);\n                    }else{\n                        return a.i.compareTo(b.i);\n                    }\n                }\n            });\n        \n            System.out.println(a);\n      }\n    }\n\n    class A{\n        Integer i;\n        Integer j;\n        A(Integer i, Integer j){\n            this.i = i;\n            this.j = j;\n        }\n    \n        public String toString(){\n            return &quot;[&quot;+i+&quot;,&quot;+j+&quot;]&quot;;\n        }\n    }\n</code></pre>\n<p>But this doesn't throw any violation error and runs successfully.\nAny idea why?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1583105241,"post_id":60480722,"comment_id":106994277,"body_markdown":"Please post the real DDL of the table score!","body":"Please post the real DDL of the table score!"},{"owner":{"account_id":9950124,"reputation":864,"user_id":7363182,"display_name":"dems98"},"score":1,"creation_date":1583139645,"post_id":60480722,"comment_id":107002129,"body_markdown":"```score | CREATE TABLE `score` (\n  `user` int NOT NULL,\n  `game` enum(&#39;HANGMAN&#39;,&#39;TRIS&#39;) NOT NULL,\n  `points` int unsigned NOT NULL,\n  PRIMARY KEY (`user`,`game`),\n  CONSTRAINT `score_ibfk_1` FOREIGN KEY (`user`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci```","body":"<code>score | CREATE TABLE `score` (   `user` int NOT NULL,   `game` enum(&#39;HANGMAN&#39;,&#39;TRIS&#39;) NOT NULL,   `points` int unsigned NOT NULL,   PRIMARY KEY (`user`,`game`),   CONSTRAINT `score_ibfk_1` FOREIGN KEY (`user`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci</code>"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583145166,"creation_date":1583145166,"answer_id":60486995,"question_id":60480722,"body_markdown":"The implementation I see is absolutly correct, allthou it always can be improoved. The db-design is good. The exception you post can simply not exist but it does. The Database must have a problem. Thats why I asked to post the DDL of the table. I trust in your DDL you posted what makes me think: You did everything right.\r\n\r\nWhat I do is I could only guess. \r\n\r\n1. The table&#39;s engine is InnoDB but what is the status of the InnoDB-engine? Is it working? Is it active? Use `SHOW ENGINE INNODB STATUS` to see the status of InnoDB.\r\n","title":"Hibernate - Column cannot be null","body":"<p>The implementation I see is absolutly correct, allthou it always can be improoved. The db-design is good. The exception you post can simply not exist but it does. The Database must have a problem. Thats why I asked to post the DDL of the table. I trust in your DDL you posted what makes me think: You did everything right.</p>\n\n<p>What I do is I could only guess. </p>\n\n<ol>\n<li>The table's engine is InnoDB but what is the status of the InnoDB-engine? Is it working? Is it active? Use <code>SHOW ENGINE INNODB STATUS</code> to see the status of InnoDB.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9950124,"reputation":864,"user_id":7363182,"display_name":"dems98"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1583151983,"creation_date":1583151983,"answer_id":60488839,"question_id":60480722,"body_markdown":"I solved by replacing `Integer user` of **ScoreId** with `User user` with a `@ManyToOne` annotation.&lt;br&gt;\r\nThese are my classes:&lt;br&gt;&lt;br&gt;\r\nUser.java\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User \r\n{\r\n    @Id\r\n    private Integer id;\r\n    \r\n    @NotNull\r\n    @Size(max = 20)\r\n    private String name;\r\n    \r\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true,mappedBy = &quot;id.user&quot;)\r\n    private Collection&lt;Score&gt; scores;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(Integer id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Collection&lt;Score&gt; getScores() {\r\n        return scores;\r\n    }\r\n\r\n    public void setScores(Collection&lt;Score&gt; scores) {\r\n        this.scores = scores;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\r\n        {\r\n            User other = (User) obj;\r\n            return Objects.equals(id, other.id) &amp;&amp; Objects.equals(name, other.name);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return getClass().getName() + &quot;[id = &quot; + id + &quot;,name = &quot; + name + &quot;]&quot;;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return id!=null ? name!=null ? id.hashCode() + name.hashCode() : 0 : 0;\r\n    }\r\n}\r\n```\r\n&lt;br&gt;&lt;br&gt;\r\nScore.java\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;score&quot;)\r\npublic class Score \r\n{\r\n    @EmbeddedId\r\n    private ScoreId id;\r\n    \r\n    @NotNull\r\n    private Integer points;\r\n    \r\n    public Score() {\r\n    }\r\n\r\n    public Score(ScoreId id, Integer points) {\r\n        this.id = id;\r\n        this.points = points;\r\n    }\r\n\r\n    \r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\r\n        {\r\n            Score other = (Score) obj;\r\n            return Objects.equals(id,other.id) &amp;&amp; Objects.equals(points,other.points);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return id!=null ? points!=null ? id.hashCode()+points.hashCode() : 0 : 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return getClass().getName() + &quot;[id =&quot; + id + &quot;,points = &quot; + points + &quot;]&quot;;\r\n    }\r\n}\r\n```\r\n&lt;br&gt;&lt;br&gt;\r\nScoreId.java\r\n```lang-java\r\n@Embeddable\r\npublic class ScoreId implements Serializable \r\n{\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;user&quot;,referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Game game;\r\n\r\n    public ScoreId() {\r\n    }\r\n\r\n    public ScoreId(User user, Game game) {\r\n        this.user = user;\r\n        this.game = game;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public Game getGame() {\r\n        return game;\r\n    }\r\n\r\n    public void setGame(Game game) {\r\n        this.game = game;\r\n    }\r\n    \r\n    public enum Game\r\n    {\r\n        HANGMAN,\r\n        TRIS\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\r\n        {\r\n            ScoreId other = (ScoreId) obj;\r\n            return Objects.equals(user,other.user) &amp;&amp; game==other.game;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() \r\n    {\r\n        return user!=null ? game!=null ? user.hashCode()+game.hashCode() : 0 : 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return getClass().getName() + &quot;[user = &quot; + user + &quot;,game = &quot; + game + &quot;]&quot;;\r\n    }\r\n}\r\n```\r\nDatabase schema is the same.","title":"Hibernate - Column cannot be null","body":"<p>I solved by replacing <code>Integer user</code> of <strong>ScoreId</strong> with <code>User user</code> with a <code>@ManyToOne</code> annotation.<br>\nThese are my classes:<br><br>\nUser.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"user\")\npublic class User \n{\n    @Id\n    private Integer id;\n\n    @NotNull\n    @Size(max = 20)\n    private String name;\n\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true,mappedBy = \"id.user\")\n    private Collection&lt;Score&gt; scores;\n\n    public User() {\n    }\n\n    public User(Integer id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Collection&lt;Score&gt; getScores() {\n        return scores;\n    }\n\n    public void setScores(Collection&lt;Score&gt; scores) {\n        this.scores = scores;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\n        {\n            User other = (User) obj;\n            return Objects.equals(id, other.id) &amp;&amp; Objects.equals(name, other.name);\n        }\n        return false;\n    }\n\n    @Override\n    public String toString() {\n        return getClass().getName() + \"[id = \" + id + \",name = \" + name + \"]\";\n    }\n\n    @Override\n    public int hashCode() {\n        return id!=null ? name!=null ? id.hashCode() + name.hashCode() : 0 : 0;\n    }\n}\n</code></pre>\n\n<p><br><br>\nScore.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"score\")\npublic class Score \n{\n    @EmbeddedId\n    private ScoreId id;\n\n    @NotNull\n    private Integer points;\n\n    public Score() {\n    }\n\n    public Score(ScoreId id, Integer points) {\n        this.id = id;\n        this.points = points;\n    }\n\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\n        {\n            Score other = (Score) obj;\n            return Objects.equals(id,other.id) &amp;&amp; Objects.equals(points,other.points);\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() {\n        return id!=null ? points!=null ? id.hashCode()+points.hashCode() : 0 : 0;\n    }\n\n    @Override\n    public String toString() {\n        return getClass().getName() + \"[id =\" + id + \",points = \" + points + \"]\";\n    }\n}\n</code></pre>\n\n<p><br><br>\nScoreId.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class ScoreId implements Serializable \n{\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=\"user\",referencedColumnName = \"id\")\n    private User user;\n\n    @Enumerated(EnumType.STRING)\n    private Game game;\n\n    public ScoreId() {\n    }\n\n    public ScoreId(User user, Game game) {\n        this.user = user;\n        this.game = game;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Game getGame() {\n        return game;\n    }\n\n    public void setGame(Game game) {\n        this.game = game;\n    }\n\n    public enum Game\n    {\n        HANGMAN,\n        TRIS\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\n        {\n            ScoreId other = (ScoreId) obj;\n            return Objects.equals(user,other.user) &amp;&amp; game==other.game;\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() \n    {\n        return user!=null ? game!=null ? user.hashCode()+game.hashCode() : 0 : 0;\n    }\n\n    @Override\n    public String toString() {\n        return getClass().getName() + \"[user = \" + user + \",game = \" + game + \"]\";\n    }\n}\n</code></pre>\n\n<p>Database schema is the same.</p>\n"},{"tags":[],"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674062648,"creation_date":1674062648,"answer_id":75163023,"question_id":60480722,"body_markdown":"In my case there was an **Envers** used, and on `deleteAll()` or `delete()` it tried to insert a record with type `2` (deleted) into corresponding `_aud` table.  \r\nHowever, when it does so, all the fields of the record appear to be `NULL`, but in the `_aud` table one of the columns was marked as &quot;NON-NULL&quot;.\r\n\r\nRemoving the &quot;NON-NULL&quot; from those column in `_aud` table fixed the issue.","title":"Hibernate - Column cannot be null","body":"<p>In my case there was an <strong>Envers</strong> used, and on <code>deleteAll()</code> or <code>delete()</code> it tried to insert a record with type <code>2</code> (deleted) into corresponding <code>_aud</code> table.<br />\nHowever, when it does so, all the fields of the record appear to be <code>NULL</code>, but in the <code>_aud</code> table one of the columns was marked as &quot;NON-NULL&quot;.</p>\n<p>Removing the &quot;NON-NULL&quot; from those column in <code>_aud</code> table fixed the issue.</p>\n"}],"owner":{"account_id":9950124,"reputation":864,"user_id":7363182,"display_name":"dems98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4524,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60488839,"answer_count":3,"score":2,"last_activity_date":1674062648,"creation_date":1583104952,"question_id":60480722,"body_markdown":"I&#39;m doing a simple exercise to learn JPA.\r\nWhen I try to delete an entity of type **User**, which has a Collection of the other entity **Score** (annotated with `@OneToMany`) I get this error:\r\n```lang-java\r\njava.sql.SQLIntegrityConstraintViolationException: Column &#39;user&#39; cannot be null\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1347)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n\t... 20 more\r\n```\r\n\r\nThese are my classes:\r\n\r\n\r\n\r\nUser.java\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User \r\n{\r\n    @Id\r\n    private Integer id;\r\n    \r\n    @NotNull\r\n    @Size(max = 20)\r\n    private String name;\r\n    \r\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true)\r\n    @JoinColumn(name = &quot;user&quot;)\r\n    private Collection&lt;Score&gt; scores;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(Integer id, String name, Collection&lt;Score&gt; scores) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.scores = scores;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Collection&lt;Score&gt; getScores() {\r\n        return scores;\r\n    }\r\n\r\n    public void setScores(Collection&lt;Score&gt; scores) {\r\n        this.scores = scores;\r\n    } \r\n}\r\n```\r\n\r\n\r\n\r\nScore.java\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;score&quot;)\r\npublic class Score \r\n{\r\n    @EmbeddedId\r\n    private ScoreId id;\r\n    \r\n    @NotNull\r\n    private Integer points;\r\n\r\n    public Score() {\r\n    }\r\n\r\n    public Score(ScoreId id, Integer points) {\r\n        this.id = id;\r\n        this.points = points;\r\n    }\r\n\r\n    public ScoreId getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(ScoreId id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Integer getPoints() {\r\n        return points;\r\n    }\r\n\r\n    public void setPoints(Integer points) {\r\n        this.points = points;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\r\n        {\r\n            Score other = (Score) obj;\r\n            return Objects.equals(id, other.id) &amp;&amp; Objects.equals(points,other.points);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return id!=null ? points!=null ? id.hashCode()+points.hashCode() : 0 : 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return getClass().getName() + &quot;[id =&quot; + id + &quot;,points = &quot; + points;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nScoreId.java\r\n```lang-java\r\n@Embeddable\r\npublic class ScoreId implements Serializable \r\n{\r\n    private Integer user;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Game game;\r\n\r\n    public ScoreId() {\r\n    }\r\n\r\n    public ScoreId(Integer user, Game game) {\r\n        this.user = user;\r\n        this.game = game;\r\n    }\r\n\r\n    public Integer getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(Integer user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public Game getGame() {\r\n        return game;\r\n    }\r\n\r\n    public void setGame(Game game) {\r\n        this.game = game;\r\n    }\r\n    \r\n    public enum Game\r\n    {\r\n        HANGMAN,\r\n        TRIS\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\r\n        {\r\n            ScoreId other = (ScoreId) obj;\r\n            return Objects.equals(user,other.user) &amp;&amp; game==other.game;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() \r\n    {\r\n        return user!=null ? game!=null ? user.hashCode()+game.hashCode() : 0 : 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return getClass().getName() + &quot;[user = &quot; + user + &quot;,game = &quot; + game + &quot;]&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nMain.java\r\n```lang-java\r\npublic class Main {\r\n    \r\n    public static void main(String[] args) {\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;UserJPA&quot;);\r\n        EntityManager em = factory.createEntityManager();\r\n        EntityTransaction et = em.getTransaction();\r\n        \r\n        User demetrio = em.createQuery(&quot;SELECT u FROM User u WHERE u.name = &#39;Demetrio&#39;&quot;,User.class).getSingleResult();\r\n        \r\n        et.begin();\r\n        em.remove(demetrio);\r\n        et.commit();\r\n        \r\n        em.close();\r\n        factory.close();\r\n    }\r\n}\r\n```\r\n&lt;br&gt;\r\nThis is the script to generate db:\r\n```lang-sql\r\nCREATE TABLE `user`\r\n(\r\n\tid\t\t\tINT PRIMARY KEY,\r\n    `name`\t\tVARCHAR(20) UNIQUE NOT NULL\r\n);\r\n\r\nCREATE TABLE score\r\n(\r\n\t`user`\t\tINT,\r\n    game\t\tENUM(&quot;HANGMAN&quot;,&quot;TRIS&quot;),\r\n    points\t\tINT UNSIGNED NOT NULL,\r\n    \r\n    PRIMARY KEY(`user`,game),\r\n    FOREIGN KEY (`user`) REFERENCES `user`(id)\r\n\t\t\t\t\t\t ON UPDATE CASCADE\r\n                         ON DELETE CASCADE\r\n)\r\n```\r\n\r\nI&#39;m using Hibernate as JPA implementation.\r\nI searched for a solution but I did not find anything.\r\nMaybe I&#39;m doing something wrong.\r\nCan you help me?","title":"Hibernate - Column cannot be null","body":"<p>I'm doing a simple exercise to learn JPA.\nWhen I try to delete an entity of type <strong>User</strong>, which has a Collection of the other entity <strong>Score</strong> (annotated with <code>@OneToMany</code>) I get this error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>java.sql.SQLIntegrityConstraintViolationException: Column 'user' cannot be null\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1347)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 20 more\n</code></pre>\n\n<p>These are my classes:</p>\n\n<p>User.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"user\")\npublic class User \n{\n    @Id\n    private Integer id;\n\n    @NotNull\n    @Size(max = 20)\n    private String name;\n\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL,orphanRemoval = true)\n    @JoinColumn(name = \"user\")\n    private Collection&lt;Score&gt; scores;\n\n    public User() {\n    }\n\n    public User(Integer id, String name, Collection&lt;Score&gt; scores) {\n        this.id = id;\n        this.name = name;\n        this.scores = scores;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Collection&lt;Score&gt; getScores() {\n        return scores;\n    }\n\n    public void setScores(Collection&lt;Score&gt; scores) {\n        this.scores = scores;\n    } \n}\n</code></pre>\n\n<p>Score.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"score\")\npublic class Score \n{\n    @EmbeddedId\n    private ScoreId id;\n\n    @NotNull\n    private Integer points;\n\n    public Score() {\n    }\n\n    public Score(ScoreId id, Integer points) {\n        this.id = id;\n        this.points = points;\n    }\n\n    public ScoreId getId() {\n        return id;\n    }\n\n    public void setId(ScoreId id) {\n        this.id = id;\n    }\n\n    public Integer getPoints() {\n        return points;\n    }\n\n    public void setPoints(Integer points) {\n        this.points = points;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\n        {\n            Score other = (Score) obj;\n            return Objects.equals(id, other.id) &amp;&amp; Objects.equals(points,other.points);\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() {\n        return id!=null ? points!=null ? id.hashCode()+points.hashCode() : 0 : 0;\n    }\n\n    @Override\n    public String toString() {\n        return getClass().getName() + \"[id =\" + id + \",points = \" + points;\n    }\n}\n</code></pre>\n\n<p>ScoreId.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class ScoreId implements Serializable \n{\n    private Integer user;\n\n    @Enumerated(EnumType.STRING)\n    private Game game;\n\n    public ScoreId() {\n    }\n\n    public ScoreId(Integer user, Game game) {\n        this.user = user;\n        this.game = game;\n    }\n\n    public Integer getUser() {\n        return user;\n    }\n\n    public void setUser(Integer user) {\n        this.user = user;\n    }\n\n    public Game getGame() {\n        return game;\n    }\n\n    public void setGame(Game game) {\n        this.game = game;\n    }\n\n    public enum Game\n    {\n        HANGMAN,\n        TRIS\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj!=null &amp;&amp; getClass()==obj.getClass())\n        {\n            ScoreId other = (ScoreId) obj;\n            return Objects.equals(user,other.user) &amp;&amp; game==other.game;\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() \n    {\n        return user!=null ? game!=null ? user.hashCode()+game.hashCode() : 0 : 0;\n    }\n\n    @Override\n    public String toString() {\n        return getClass().getName() + \"[user = \" + user + \",game = \" + game + \"]\";\n    }\n}\n</code></pre>\n\n<p>Main.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(\"UserJPA\");\n        EntityManager em = factory.createEntityManager();\n        EntityTransaction et = em.getTransaction();\n\n        User demetrio = em.createQuery(\"SELECT u FROM User u WHERE u.name = 'Demetrio'\",User.class).getSingleResult();\n\n        et.begin();\n        em.remove(demetrio);\n        et.commit();\n\n        em.close();\n        factory.close();\n    }\n}\n</code></pre>\n\n<p><br>\nThis is the script to generate db:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `user`\n(\n    id          INT PRIMARY KEY,\n    `name`      VARCHAR(20) UNIQUE NOT NULL\n);\n\nCREATE TABLE score\n(\n    `user`      INT,\n    game        ENUM(\"HANGMAN\",\"TRIS\"),\n    points      INT UNSIGNED NOT NULL,\n\n    PRIMARY KEY(`user`,game),\n    FOREIGN KEY (`user`) REFERENCES `user`(id)\n                         ON UPDATE CASCADE\n                         ON DELETE CASCADE\n)\n</code></pre>\n\n<p>I'm using Hibernate as JPA implementation.\nI searched for a solution but I did not find anything.\nMaybe I'm doing something wrong.\nCan you help me?</p>\n"},{"tags":["java","binary-tree","brute-force"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1674026254,"post_id":75155463,"comment_id":132624335,"body_markdown":"A very ambiguous question, what is the evaluation-number? \nnumbers, strings? \nHow to evaluate? \nNumber size? \nCharacter length?","body":"A very ambiguous question, what is the evaluation-number?  numbers, strings?  How to evaluate?  Number size?  Character length?"},{"owner":{"account_id":27560042,"reputation":1,"user_id":21033241,"display_name":"jum"},"score":0,"creation_date":1674060006,"post_id":75155463,"comment_id":132635636,"body_markdown":"(integers) on each node and an integer k and i have to find a subset of the nodes containing at most k nodes , that maximizes the sum of evaluations and no pair of nodes in the subset have parent-child relationship . I am supposed to utilize brute force to solve that","body":"(integers) on each node and an integer k and i have to find a subset of the nodes containing at most k nodes , that maximizes the sum of evaluations and no pair of nodes in the subset have parent-child relationship . I am supposed to utilize brute force to solve that"},{"owner":{"account_id":27560042,"reputation":1,"user_id":21033241,"display_name":"jum"},"score":0,"creation_date":1674060361,"post_id":75155463,"comment_id":132635781,"body_markdown":"and the employee name is a string","body":"and the employee name is a string"}],"owner":{"account_id":27560042,"reputation":1,"user_id":21033241,"display_name":"jum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674062414,"creation_date":1674023810,"question_id":75155463,"body_markdown":"I have a text file and a code that arranges the texts in arrays that resemble a binary tree, each node has an employee name and evaluation number in addition to the pointers. How do I implement a code that prints a list that maximizes the sum of the evaluation-based ratings of the employees, such that an employee does not attend with their immediate head.   \r\n\r\nI have to solve this by brute force, but all sources are showing recursion","title":"a binary tree,each node has an evaluation number,how do I program a code that prints a list that maximizes the sum of eval. number","body":"<p>I have a text file and a code that arranges the texts in arrays that resemble a binary tree, each node has an employee name and evaluation number in addition to the pointers. How do I implement a code that prints a list that maximizes the sum of the evaluation-based ratings of the employees, such that an employee does not attend with their immediate head.</p>\n<p>I have to solve this by brute force, but all sources are showing recursion</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-cloud-feign"],"answers":[{"tags":[],"owner":{"account_id":13834621,"reputation":93,"user_id":9986511,"display_name":"Gabriel Menezes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674062184,"creation_date":1674062184,"answer_id":75162915,"question_id":75162914,"body_markdown":"To solve this issue I had to downgrade spring cloud version on pom.xml\r\n\r\n```\r\n&lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n","title":"Error with Spring Ecossystem and OpenFeign","body":"<p>To solve this issue I had to downgrade spring cloud version on pom.xml</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":13834621,"reputation":93,"user_id":9986511,"display_name":"Gabriel Menezes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674062184,"creation_date":1674062184,"question_id":75162914,"body_markdown":"Stack trace:\r\n\r\n```\r\njava.lang.IllegalStateException: Error processing condition on org.springframework.cloud.openfeign.FeignAutoConfiguration.cachingCapability\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.5.jar:2.7.5]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~\r\n```\r\n\r\nI created this project following the Intellij interface. The only change I made was downgrade spring boot version, from 3.0.1 to 2.7.5","title":"Error with Spring Ecossystem and OpenFeign","body":"<p>Stack trace:</p>\n<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.cloud.openfeign.FeignAutoConfiguration.cachingCapability\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.5.jar:2.7.5]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~\n</code></pre>\n<p>I created this project following the Intellij interface. The only change I made was downgrade spring boot version, from 3.0.1 to 2.7.5</p>\n"},{"tags":["java","amazon-web-services","aws-sdk-java-2.0","amazon-systems-manager"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674061755,"creation_date":1674061755,"answer_id":75162829,"question_id":75162737,"body_markdown":"It&#39;s not necessary if you have the region set somewhere else, like in an environment variable. You have to specify a region somehow though. The AWS SDK does **not** search all regions automatically when you try to reference a resource without a region specified. ","title":"Is it absolutely necessary to explicitely mention region while building SsmClient using aws sdk for java v2?","body":"<p>It's not necessary if you have the region set somewhere else, like in an environment variable. You have to specify a region somehow though. The AWS SDK does <strong>not</strong> search all regions automatically when you try to reference a resource without a region specified.</p>\n"}],"owner":{"account_id":27565580,"reputation":3,"user_id":21037820,"display_name":"Sayan Halder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75162829,"answer_count":1,"score":0,"last_activity_date":1674061755,"creation_date":1674061291,"question_id":75162737,"body_markdown":"So basically I want to know what will if we don&#39;t mention the region or if mention the region incorrectly\r\n```\r\nSsmClient ssmClient = SsmClient.builder()\r\n                .region(region)\r\n                .build();\r\n```\r\n\r\n\r\nI was expecting that if region is not set then it should not throw any error and will search all regions for the ssm parameter","title":"Is it absolutely necessary to explicitely mention region while building SsmClient using aws sdk for java v2?","body":"<p>So basically I want to know what will if we don't mention the region or if mention the region incorrectly</p>\n<pre><code>SsmClient ssmClient = SsmClient.builder()\n                .region(region)\n                .build();\n</code></pre>\n<p>I was expecting that if region is not set then it should not throw any error and will search all regions for the ssm parameter</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1674060697,"post_id":75162598,"comment_id":132635908,"body_markdown":"You only check the very first element.","body":"You only check the very first element."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674060756,"post_id":75162598,"comment_id":132635932,"body_markdown":"What if the element is not the first? Then `array[i] != element` will be true for `i = 0` and the exception is thrown. You want to keep track of whether the element was found or not (e.g. using a boolean flag) and _after_ the loop you throw the exception if the element was not found. In your case you&#39;d not even need a flag: just throw the exception after the loop and exit the method (and the loop) early using `return;` instead of `break;` after the element was deleted.","body":"What if the element is not the first? Then <code>array[i] != element</code> will be true for <code>i = 0</code> and the exception is thrown. You want to keep track of whether the element was found or not (e.g. using a boolean flag) and <i>after</i> the loop you throw the exception if the element was not found. In your case you&#39;d not even need a flag: just throw the exception after the loop and exit the method (and the loop) early using <code>return;</code> instead of <code>break;</code> after the element was deleted."}],"answers":[{"tags":[],"owner":{"account_id":17560311,"reputation":266,"user_id":12738660,"display_name":"mamo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674060899,"creation_date":1674060778,"answer_id":75162641,"question_id":75162598,"body_markdown":"You have to throw the exception only when you have visited all the array, not at the first different element\r\n\r\n    public static void deleteElement(int[] array, int element) throws Exception {\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                if (array[i] == element) {\r\n                    array[i] = 0;\r\n                    return;\r\n                }\r\n            }\r\n            throw new Exception(&quot;Element not found&quot;);\r\n        }","title":"Condition throws always the exception in Java","body":"<p>You have to throw the exception only when you have visited all the array, not at the first different element</p>\n<pre><code>public static void deleteElement(int[] array, int element) throws Exception {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == element) {\n                array[i] = 0;\n                return;\n            }\n        }\n        throw new Exception(&quot;Element not found&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674061209,"creation_date":1674061209,"answer_id":75162726,"question_id":75162598,"body_markdown":"You are saying that if this array[i] is not equal to the specified element in for, an exception will be thrown. First, i=0 , array[i]=element or not, if it is, it will be 0, and if it is not, an exception will be thrown. This is what your code says. In this case, this code only works when array[0]=element, and if not, an exception is thrown. What you are looking for is as follows:\r\n\r\n\r\n    public static void deleteElement(int[] array, int element) throws Exception {\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                if (array[i] == element) {\r\n                    array[i] = 0;\r\n                    break;\r\n                } \r\n              }\r\n                    throw new Exception(&quot;Element not found&quot;);\r\n            }\r\n         \r\n\r\n","title":"Condition throws always the exception in Java","body":"<p>You are saying that if this array[i] is not equal to the specified element in for, an exception will be thrown. First, i=0 , array[i]=element or not, if it is, it will be 0, and if it is not, an exception will be thrown. This is what your code says. In this case, this code only works when array[0]=element, and if not, an exception is thrown. What you are looking for is as follows:</p>\n<pre><code>public static void deleteElement(int[] array, int element) throws Exception {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == element) {\n                array[i] = 0;\n                break;\n            } \n          }\n                throw new Exception(&quot;Element not found&quot;);\n        }\n     \n</code></pre>\n"}],"owner":{"account_id":24701458,"reputation":63,"user_id":18592727,"display_name":"Raxabi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75162641,"answer_count":2,"score":0,"last_activity_date":1674061209,"creation_date":1674060585,"question_id":75162598,"body_markdown":"I&#39;m trying to work with arrays in Java, specifically in a method that delete the first appear of one element passed by param (or in this case make that the matched value convert to a 0), in this method I use a throwable exception if the matched value don&#39;t appear in the Array, but for any reason, this exception is always throwed.\r\n\r\nHere is de code of the method:\r\n```java\r\npublic static void deleteElement(int[] array, int element) throws Exception {\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            if (array[i] == element) {\r\n                array[i] = 0;\r\n                break;\r\n            } else if (array[i] != element) {\r\n                throw new Exception(&quot;Element not found&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nWhen I call the method like this:\r\n```java\r\nint[] array = new int[10];\r\n\r\ntry (Scanner sc = new Scanner(System.in)) {\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                System.out.print(&quot;Introduce un numero: &quot;);\r\n                array[i] = sc.nextInt();\r\n            }\r\n        }\r\n\r\ntry {\r\n    Arrayaba.deleteElement(array, 10);\r\n} catch (Exception e) {\r\n    e.printStackTrace(); // The exception is always throwed\r\n}\r\n```\r\n\r\nShowing the next error:\r\n```\r\njava.lang.Exception: Element not found\r\n        at LibreriaArraysBoludos.Arrayaba.deleteElement(Arrayaba.java:104)\r\n        at TestArrayaba.main(TestArrayaba.java:23)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:434)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:205)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\r\n```\r\n\r\nIf any extra information is needed say it to me. Thanks in advance :)","title":"Condition throws always the exception in Java","body":"<p>I'm trying to work with arrays in Java, specifically in a method that delete the first appear of one element passed by param (or in this case make that the matched value convert to a 0), in this method I use a throwable exception if the matched value don't appear in the Array, but for any reason, this exception is always throwed.</p>\n<p>Here is de code of the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void deleteElement(int[] array, int element) throws Exception {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == element) {\n                array[i] = 0;\n                break;\n            } else if (array[i] != element) {\n                throw new Exception(&quot;Element not found&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>When I call the method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] array = new int[10];\n\ntry (Scanner sc = new Scanner(System.in)) {\n            for (int i = 0; i &lt; array.length; i++) {\n                System.out.print(&quot;Introduce un numero: &quot;);\n                array[i] = sc.nextInt();\n            }\n        }\n\ntry {\n    Arrayaba.deleteElement(array, 10);\n} catch (Exception e) {\n    e.printStackTrace(); // The exception is always throwed\n}\n</code></pre>\n<p>Showing the next error:</p>\n<pre><code>java.lang.Exception: Element not found\n        at LibreriaArraysBoludos.Arrayaba.deleteElement(Arrayaba.java:104)\n        at TestArrayaba.main(TestArrayaba.java:23)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:434)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:205)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\n</code></pre>\n<p>If any extra information is needed say it to me. Thanks in advance :)</p>\n"},{"tags":["java","spring-boot","contrast"],"owner":{"account_id":25130644,"reputation":1,"user_id":18977942,"display_name":"Yehia Said"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674060939,"creation_date":1674060939,"question_id":75162664,"body_markdown":"I&#39;m trying to create a simple Spring Boot application, and install Contrast on it. It runs smoothly when I use the command line \r\n```\r\njava -javaagent:./contrast.jar -Dcontrast.config.path=contrast_security.yaml -jar &lt;ApplicationJarPath&gt;\r\n```\r\nhowever, when I open the contrast.log, I see the errors below. For reference, my xml file for the maven project is below. I have tried to add log4j, and rebuild/re-compiled it, but the error is still showing up. Strange thing is, it&#39;s running locally, and doesn&#39;t mention this issue. In fact, Contrast seems to be starting as expected. \r\n\r\nHere is the last few lines of the command above\r\n\r\n[Contrast] Wed Jan 18 08:44:02 PST 2023 Effective instructions: Assess=true, Protect=true\r\n[Contrast] Wed Jan 18 08:44:02 PST 2023 Contrast logger configuration errors will be logged to stderr\r\n[Contrast] Wed Jan 18 08:44:04 PST 2023 Starting JVM [3328ms]\r\n\r\nHere is xml file\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Dynamic-Scan-Demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Dynamic-Scan-Demo&lt;/name&gt;\r\n\t&lt;description&gt;Contrast Scan Demo&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;com.contrastsecurity&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;contrast-agent&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;3.6.6.9195&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.17.0&lt;/version&gt;\r\n    \t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nHere is the error:\r\n\r\nERROR - Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/Configuration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\r\njava.lang.Throwable: Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/Configuration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\r\n\tat com.contrastsecurity.agent.plugins.security.q.a(OSGiFriendlyClassWriter.java:145) ~[contrast.jar:?]\r\n\tat com.contrastsecurity.agent.plugins.security.q.getCommonSuperClass(OSGiFriendlyClassWriter.java:93) ~[contrast.jar:?]\r\n\tat com.contrastsecurity.thirdparty.org.objectweb.asm.SymbolTable.addMergedType(SymbolTable.java:1202) ~[contrast.jar:?]\r\n\r\n\r\nAs mentioned above, I&#39;ve tried adding the log4j dependency, and rebuilding as well as recompiling the project. After following Maven Central instructions here, I am still unable to see my application in the Contrast UI. \r\n\r\nhttps://docs.contrastsecurity.com/en/maven-central.html\r\n","title":"Not able to add my Spring Boot Application to Contrast using Maven Central","body":"<p>I'm trying to create a simple Spring Boot application, and install Contrast on it. It runs smoothly when I use the command line</p>\n<pre><code>java -javaagent:./contrast.jar -Dcontrast.config.path=contrast_security.yaml -jar &lt;ApplicationJarPath&gt;\n</code></pre>\n<p>however, when I open the contrast.log, I see the errors below. For reference, my xml file for the maven project is below. I have tried to add log4j, and rebuild/re-compiled it, but the error is still showing up. Strange thing is, it's running locally, and doesn't mention this issue. In fact, Contrast seems to be starting as expected.</p>\n<p>Here is the last few lines of the command above</p>\n<p>[Contrast] Wed Jan 18 08:44:02 PST 2023 Effective instructions: Assess=true, Protect=true\n[Contrast] Wed Jan 18 08:44:02 PST 2023 Contrast logger configuration errors will be logged to stderr\n[Contrast] Wed Jan 18 08:44:04 PST 2023 Starting JVM [3328ms]</p>\n<p>Here is xml file</p>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.7.7\n \n\ncom.example\nDynamic-Scan-Demo\n0.0.1-SNAPSHOT\nDynamic-Scan-Demo\nContrast Scan Demo\n\n&lt;java.version&gt;17&lt;/java.version&gt;\n\n\n\ncom.contrastsecurity\ncontrast-agent\n3.6.6.9195\n</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;2.17.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Here is the error:</p>\n<p>ERROR - Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/Configuration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\njava.lang.Throwable: Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/Configuration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\nat com.contrastsecurity.agent.plugins.security.q.a(OSGiFriendlyClassWriter.java:145) ~[contrast.jar:?]\nat com.contrastsecurity.agent.plugins.security.q.getCommonSuperClass(OSGiFriendlyClassWriter.java:93) ~[contrast.jar:?]\nat com.contrastsecurity.thirdparty.org.objectweb.asm.SymbolTable.addMergedType(SymbolTable.java:1202) ~[contrast.jar:?]</p>\n<p>As mentioned above, I've tried adding the log4j dependency, and rebuilding as well as recompiling the project. After following Maven Central instructions here, I am still unable to see my application in the Contrast UI.</p>\n<p><a href=\"https://docs.contrastsecurity.com/en/maven-central.html\" rel=\"nofollow noreferrer\">https://docs.contrastsecurity.com/en/maven-central.html</a></p>\n"},{"tags":["java","hibernate","rest"],"comments":[{"owner":{"account_id":8359086,"reputation":81,"user_id":6278171,"display_name":"Macster"},"score":0,"creation_date":1674059982,"post_id":75161750,"comment_id":132635629,"body_markdown":"Why are you calling `/Admin/getProducts/1` instead of just `/getProducts/1`?","body":"Why are you calling <code>&#47;Admin&#47;getProducts&#47;1</code> instead of just <code>&#47;getProducts&#47;1</code>?"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1674060035,"post_id":75161750,"comment_id":132635649,"body_markdown":"OP could have a `@RequestMapping` for `/admin` on the class","body":"OP could have a <code>@RequestMapping</code> for <code>&#47;admin</code> on the class"}],"answers":[{"tags":[],"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674060916,"creation_date":1674059955,"answer_id":75162467,"question_id":75161750,"body_markdown":"Try `findById` since `getById` is deprecated.  Untested, but something like:\r\n\r\n**MyProductServiceImp:**\r\n\r\n    @Override\r\n    public Optional&lt;Product&gt; findById(Integer productId) {\r\n        return productRepository.findById(productId);\r\n    }\r\n\r\n\r\n**Product.java**\r\n\r\n    @Entity //make sure this is present\r\n    @Getter //from Lombok\r\n    @Setter //from Lombok\r\n    public class Product {\r\n    \r\n    @Id //need this\r\n    @GeneratedValue //need this to auto-generate\r\n    private Integer id;\r\n    \r\n    private String description;\r\n    \r\n    //the rest: displayName, quantity, amount...\r\n    \r\n    }\r\n\r\nYour `@Repository` interface looks fine.  There are different variations for your controller depending on what you need to do.  But for now, just try calling your service method so you know you get the result back from the DB and work from there.\r\n\r\nCamel-case your variables in general for consistency.  Then you can use the Spring conventions in interfaces for repositories so your method could look like `findAllByDisplayName()` instead of `findAllByDisplay_Name()` and Spring will handle the query for you.\r\n\r\nAlso note that presumably, you&#39;re not getting all products with one product ID, right?  So it should just be called `getProduct` or `findProduct` or `getProductById` or `findProductById`.","title":"Hibernate GetbyID : java.lang.NoSuchMethodException Entity error","body":"<p>Try <code>findById</code> since <code>getById</code> is deprecated.  Untested, but something like:</p>\n<p><strong>MyProductServiceImp:</strong></p>\n<pre><code>@Override\npublic Optional&lt;Product&gt; findById(Integer productId) {\n    return productRepository.findById(productId);\n}\n</code></pre>\n<p><strong>Product.java</strong></p>\n<pre><code>@Entity //make sure this is present\n@Getter //from Lombok\n@Setter //from Lombok\npublic class Product {\n\n@Id //need this\n@GeneratedValue //need this to auto-generate\nprivate Integer id;\n\nprivate String description;\n\n//the rest: displayName, quantity, amount...\n\n}\n</code></pre>\n<p>Your <code>@Repository</code> interface looks fine.  There are different variations for your controller depending on what you need to do.  But for now, just try calling your service method so you know you get the result back from the DB and work from there.</p>\n<p>Camel-case your variables in general for consistency.  Then you can use the Spring conventions in interfaces for repositories so your method could look like <code>findAllByDisplayName()</code> instead of <code>findAllByDisplay_Name()</code> and Spring will handle the query for you.</p>\n<p>Also note that presumably, you're not getting all products with one product ID, right?  So it should just be called <code>getProduct</code> or <code>findProduct</code> or <code>getProductById</code> or <code>findProductById</code>.</p>\n"},{"tags":[],"owner":{"account_id":5433124,"reputation":167,"user_id":4323323,"display_name":"p0s0731"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674060546,"creation_date":1674060546,"answer_id":75162587,"question_id":75161750,"body_markdown":"    MyControllerClass:\r\n    @RequestMapping(&quot;/admin&quot;)\r\n    @RestController\r\n    public class ProductController {\r\n     @GetMapping(value = &quot;/getProducts/{id}&quot; , produces =&quot;application/json&quot;)\r\n        public Optional&lt;Product&gt; display(@PathVariable int id) {\r\n            Optional&lt;Product&gt; products = productServiceImp.getProductDetailsbyID(id);\r\n            return products;\r\n    }\r\n    }\r\n    MyProductServiceImp :\r\n    @Override\r\n        public Optional&lt;Product&gt; getProductDetailsbyID(int product_id ) {\r\n            Optional&lt;Product&gt; prodresult=productRepository.findById(product_id);\r\n            return prodresult;\r\n        }\r\n\r\nI have used FindbyID in place of GetById and it worked !!\r\n","title":"Hibernate GetbyID : java.lang.NoSuchMethodException Entity error","body":"<pre><code>MyControllerClass:\n@RequestMapping(&quot;/admin&quot;)\n@RestController\npublic class ProductController {\n @GetMapping(value = &quot;/getProducts/{id}&quot; , produces =&quot;application/json&quot;)\n    public Optional&lt;Product&gt; display(@PathVariable int id) {\n        Optional&lt;Product&gt; products = productServiceImp.getProductDetailsbyID(id);\n        return products;\n}\n}\nMyProductServiceImp :\n@Override\n    public Optional&lt;Product&gt; getProductDetailsbyID(int product_id ) {\n        Optional&lt;Product&gt; prodresult=productRepository.findById(product_id);\n        return prodresult;\n    }\n</code></pre>\n<p>I have used FindbyID in place of GetById and it worked !!</p>\n"}],"owner":{"account_id":5433124,"reputation":167,"user_id":4323323,"display_name":"p0s0731"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75162467,"answer_count":2,"score":0,"last_activity_date":1674060916,"creation_date":1674056549,"question_id":75161750,"body_markdown":"Hibernate and trying to build simple feature where we can search Product by Id. Hibernate has inbuit function to search an entity by its id. I tried the same but i am getting &quot;java.lang.NoSuchMethodException&quot; .\r\n\r\n    MyController.java :\r\n    \r\n     @GetMapping(value = &quot;/getProducts/{id}&quot; , produces =&quot;application/json&quot;)\r\n        public ResponseEntity&lt;Product&gt; display(@PathVariable int id) {\r\n            Product products = productServiceImp.getAllProducts(id);\r\n            return ResponseEntity.ok(products);\r\n    \r\n    MyProductServiceImp:\r\n    \r\n    @Override\r\n        public Product getAllProducts(int product_id ) {\r\n            return productRepository.getById(product_id );\r\n        }\r\n    \r\n    MyProductRepository:\r\n    @Repository\r\n    public interface ProductRepository extends JpaRepository&lt;Product, Integer&gt; {\r\n    }\r\n\r\n    Schema of Product table : (product_id, desciption,display_name, qty, amount)\r\n\r\nWhen i try to invoke API by postman\r\ncurl --location --request GET &#39;http://localhost:8080/admin/getProducts/1.\r\nI see it is Caused by: `java.lang.NoSuchMethodException: com.Project.OrderProcessing.OrderProcessing.Entity.Product$HibernateProxy$zAdAYVvM.&lt;init&gt;().I am unable to understand reason behind it` \r\n\r\n \r\n\r\n","title":"Hibernate GetbyID : java.lang.NoSuchMethodException Entity error","body":"<p>Hibernate and trying to build simple feature where we can search Product by Id. Hibernate has inbuit function to search an entity by its id. I tried the same but i am getting &quot;java.lang.NoSuchMethodException&quot; .</p>\n<pre><code>MyController.java :\n\n @GetMapping(value = &quot;/getProducts/{id}&quot; , produces =&quot;application/json&quot;)\n    public ResponseEntity&lt;Product&gt; display(@PathVariable int id) {\n        Product products = productServiceImp.getAllProducts(id);\n        return ResponseEntity.ok(products);\n\nMyProductServiceImp:\n\n@Override\n    public Product getAllProducts(int product_id ) {\n        return productRepository.getById(product_id );\n    }\n\nMyProductRepository:\n@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, Integer&gt; {\n}\n\nSchema of Product table : (product_id, desciption,display_name, qty, amount)\n</code></pre>\n<p>When i try to invoke API by postman\ncurl --location --request GET 'http://localhost:8080/admin/getProducts/1.\nI see it is Caused by: <code>java.lang.NoSuchMethodException: com.Project.OrderProcessing.OrderProcessing.Entity.Product$HibernateProxy$zAdAYVvM.&lt;init&gt;().I am unable to understand reason behind it</code></p>\n"},{"tags":["java","data-structures","topological-sort"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674057662,"post_id":75161840,"comment_id":132634739,"body_markdown":"Possible solutions seem to be independent on the order of the adjacency list. I claim that the problem is solvable with an adjacency list in either direction.","body":"Possible solutions seem to be independent on the order of the adjacency list. I claim that the problem is solvable with an adjacency list in either direction."},{"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"score":0,"creation_date":1674058134,"post_id":75161840,"comment_id":132634928,"body_markdown":"@Turing85 It&#39;s not unfortunately. If I switch this line adjMap.computeIfAbsent( preCourse, k -&gt; new ArrayList&lt;&gt;()).add(curCourse); to adjMap.computeIfAbsent( curCourse, k -&gt; new ArrayList&lt;&gt;()).add(preCourse); DFS stops after 1 iteration.","body":"@Turing85 It&#39;s not unfortunately. If I switch this line adjMap.computeIfAbsent( preCourse, k -&gt; new ArrayList&lt;&gt;()).add(curCourse); to adjMap.computeIfAbsent( curCourse, k -&gt; new ArrayList&lt;&gt;()).add(preCourse); DFS stops after 1 iteration."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1674058271,"post_id":75161840,"comment_id":132634982,"body_markdown":"I haven&#39;t said that YOUR solution can handle both, I just said that a possible solution can be based on either.","body":"I haven&#39;t said that YOUR solution can handle both, I just said that a possible solution can be based on either."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674060454,"creation_date":1674058082,"answer_id":75162058,"question_id":75161840,"body_markdown":"&gt; Is there a template/idea/theory that tells us which way to make the adjacency map for a directed graph?\r\n\r\nI&#39;d say you can express adjacency in any form that&#39;s required for the algorithms that use it. If direction matters (e.g. when using it with directed graph algorithms) it would normally be expressed as &quot;source -&gt; target&quot;, i.e. it should make it easy to follow the direction.\r\n\r\n&gt; My question is PreReq -&gt; Course doesn&#39;t make sense. In my mind, I read it as PreReq depends on Course. \r\n\r\nThat depends on how you define that &quot;arrow&quot; (-&gt;). You think of it as &quot;depends on&quot; but it could also be defined as &quot;leads to&quot;. As you can see, those definitions are related to direction and which one is &quot;better&quot; depends on the way you intend to traverse:\r\n- forward (start to end): use &quot;leads to&quot;, i.e. the directions in the graph are &quot;source -&gt; target&quot;\r\n- backward: use &quot;depends on&quot;, i.e. the directions are &quot;target -&gt; source&quot;\r\n\r\nNote that you _could_ express the adjacency differently but that would make it harder to &quot;follow the flow&quot;. \r\n\r\nLet&#39;s make an example by expressing adjacency as `int[][]` with the values being the adjacent indices and doing &quot;forward search&quot; (from start to end)\r\n\r\n\r\n**List layout: PreReq -&gt; Course** (matching the traversal direction)\r\n\r\nFinding the starting point(s): all indices that are not values in the adjacency list. So you need to iterate over the list at least once and &quot;tick off&quot; those indices that are mentioned as values (using a set or another array). Those that are left are your starting points. (Complexity: O(n))\r\n\r\nTraversal to next node: it&#39;s as easy as `int[] next = list[current]` etc. (Complexity: O(1))\r\n\r\n\r\n**List layout: Course -&gt; PreReq** (against the traversal direction)\r\n\r\nFinding the starting point(s): iterate over the list and look for those that don&#39;t have any PreReq values. (Complexity: O(n))\r\n\r\nTraversal to next node: iterate over the list and get those that have the course as a prerequisite value. (Complexity: O(n))\r\n\r\n**Summary**: as you can see the complexity for finding the starting point(s) is O(n) in both cases but if the list layout doesn&#39;t match the traversal direction complexity changes from O(1) to O(n) which can be significant.","title":"Topological sort, creating adjaceny list","body":"<blockquote>\n<p>Is there a template/idea/theory that tells us which way to make the adjacency map for a directed graph?</p>\n</blockquote>\n<p>I'd say you can express adjacency in any form that's required for the algorithms that use it. If direction matters (e.g. when using it with directed graph algorithms) it would normally be expressed as &quot;source -&gt; target&quot;, i.e. it should make it easy to follow the direction.</p>\n<blockquote>\n<p>My question is PreReq -&gt; Course doesn't make sense. In my mind, I read it as PreReq depends on Course.</p>\n</blockquote>\n<p>That depends on how you define that &quot;arrow&quot; (-&gt;). You think of it as &quot;depends on&quot; but it could also be defined as &quot;leads to&quot;. As you can see, those definitions are related to direction and which one is &quot;better&quot; depends on the way you intend to traverse:</p>\n<ul>\n<li>forward (start to end): use &quot;leads to&quot;, i.e. the directions in the graph are &quot;source -&gt; target&quot;</li>\n<li>backward: use &quot;depends on&quot;, i.e. the directions are &quot;target -&gt; source&quot;</li>\n</ul>\n<p>Note that you <em>could</em> express the adjacency differently but that would make it harder to &quot;follow the flow&quot;.</p>\n<p>Let's make an example by expressing adjacency as <code>int[][]</code> with the values being the adjacent indices and doing &quot;forward search&quot; (from start to end)</p>\n<p><strong>List layout: PreReq -&gt; Course</strong> (matching the traversal direction)</p>\n<p>Finding the starting point(s): all indices that are not values in the adjacency list. So you need to iterate over the list at least once and &quot;tick off&quot; those indices that are mentioned as values (using a set or another array). Those that are left are your starting points. (Complexity: O(n))</p>\n<p>Traversal to next node: it's as easy as <code>int[] next = list[current]</code> etc. (Complexity: O(1))</p>\n<p><strong>List layout: Course -&gt; PreReq</strong> (against the traversal direction)</p>\n<p>Finding the starting point(s): iterate over the list and look for those that don't have any PreReq values. (Complexity: O(n))</p>\n<p>Traversal to next node: iterate over the list and get those that have the course as a prerequisite value. (Complexity: O(n))</p>\n<p><strong>Summary</strong>: as you can see the complexity for finding the starting point(s) is O(n) in both cases but if the list layout doesn't match the traversal direction complexity changes from O(1) to O(n) which can be significant.</p>\n"}],"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75162058,"answer_count":1,"score":0,"last_activity_date":1674060454,"creation_date":1674057034,"question_id":75161840,"body_markdown":"I am solving a Leetcode problem called [course-schedule II](https://leetcode.com/problems/course-schedule-ii/). In summary, we are given dependencies between courses and need to find the order in which they can be taken. \r\n\r\nFor example **[1,0] [2,0] [3,1] [3,2]**\r\n\r\nHere [1, 0] indicates that to take course 1, we must first take 0 (second course is the prerequisite for first course).\r\n\r\nThe solution for this is a straight forward topological sort where we:\r\n\r\n**a)** Create an adjacency list.\r\n\r\n**b)** Create an indegree array/map\r\n\r\n**c)** Do a DFS starting with the course which has an indegree of 0.\r\n\r\n\r\nHowever, I messed up during the creation of adjaceny list. In my mind, the adjacency list should map **Course =&gt; PreReq** and therefore look like this:\r\n\r\n1 -&gt; [0]\r\n\r\n2 -&gt; [0]\r\n\r\n3 -&gt; [1, 2]\r\n\r\nTurns out this won&#39;t work. Indegree tells me that 0 has no dependency so DFS starts with 0. And it will stop after 1 iteration as 0 has no adjacency mapping. \r\n\r\nAccording to the solution, the adjacency list should be computed as **PreReq -&gt; Course**\r\n\r\n0 -&gt; [1, 2]\r\n\r\n1 -&gt; [3]\r\n\r\n2 -&gt; [3]\r\n\r\nSo now when I start DFS with 0, I can then lookup the adjacency list of 0 -&gt; [1, 2] and continue on. My question is PreReq -&gt; Course doesn&#39;t make sense. In my mind, I read it as PreReq depends on Course. I would have never come up with it without seeing the answer. \r\n\r\nIs there a template/idea/theory that tells us which way to make the adjacency map for a directed graph?\r\n\r\n\r\n    public class CourseSchedule2 {\r\n    \r\n        //[0, 1], indicates that to take course 0 you have to first take course 1.\r\n        public List&lt;Integer&gt; findOrder( int[][] prerequisites ){\r\n    \r\n            List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n    \r\n            Map&lt;Integer, List&lt;Integer&gt;&gt; adjMap = createAdjacencyList( prerequisites );\r\n            System.out.println(&quot;Adjacency Map: &quot; + adjMap);\r\n    \r\n            Map&lt;Integer, Integer&gt; indegree = createIndegree( prerequisites );\r\n            System.out.println(&quot;Indegree: &quot; + indegree);\r\n    \r\n            Queue&lt;Integer&gt; queue = new ArrayDeque&lt;&gt;();\r\n            for( Map.Entry&lt;Integer, Integer&gt; entry : indegree.entrySet() ){\r\n                //In-degree value of 0 means this course has no pre-req\r\n                if( entry.getValue() == 0 ){\r\n                    queue.add( entry.getKey() );\r\n                }\r\n            }\r\n    \r\n            while( !queue.isEmpty() ){\r\n                Integer course = queue.poll();\r\n                result.add( course );\r\n    \r\n                if( adjMap.containsKey(course)){\r\n                    for( int neighbor : adjMap.get(course) ){\r\n                        indegree.put(neighbor, indegree.get(neighbor) -1 );\r\n    \r\n                        if( indegree.get(neighbor) == 0 ){\r\n                            queue.add(neighbor);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(result);\r\n    \r\n            if( result.size() == prerequisites.length ){\r\n                return result;\r\n            }else {\r\n                return Collections.emptyList();\r\n            }\r\n        }\r\n    \r\n    \r\n        public Map&lt;Integer, Integer&gt; createIndegree( int[][] courses ){\r\n            Map&lt;Integer, Integer&gt; indegree = new HashMap&lt;&gt;();\r\n    \r\n            for( int[] course : courses ){\r\n                int courseToTake= course[0];\r\n                int preCourse   = course[1];\r\n                indegree.put(courseToTake, 0);\r\n                indegree.put(preCourse, 0);\r\n            }\r\n    \r\n            //Update indegree based on the course\r\n            for( int[] courseEntry : courses ){\r\n                int course = courseEntry[0];\r\n                indegree.put(course, indegree.get(course) + 1);\r\n            }\r\n    \r\n            return indegree;\r\n        }\r\n    \r\n    \r\n        private static Map&lt;Integer, List&lt;Integer&gt;&gt; createAdjacencyList( int[][] prerequisites ){\r\n            Map&lt;Integer, List&lt;Integer&gt;&gt; adjMap = new HashMap&lt;&gt;();\r\n            for( int[] preq : prerequisites ){\r\n                int curCourse = preq[0];\r\n                int preCourse = preq[1];\r\n                adjMap.computeIfAbsent( preCourse, k -&gt; new ArrayList&lt;&gt;()).add(curCourse);\r\n            }\r\n    \r\n            return adjMap;\r\n        }\r\n    \r\n    \r\n        public static void main( String[] args ){\r\n            CourseSchedule2 tsort = new CourseSchedule2();\r\n            List&lt;Integer&gt; result = tsort.findOrder( new int[][]{\r\n                    {1, 0},\r\n                    {2, 0},\r\n                    {3, 1},\r\n                    {3, 2}\r\n            });\r\n    \r\n            System.out.println(&quot;Result: &quot; + result);\r\n        }\r\n    \r\n    \r\n    }","title":"Topological sort, creating adjaceny list","body":"<p>I am solving a Leetcode problem called <a href=\"https://leetcode.com/problems/course-schedule-ii/\" rel=\"nofollow noreferrer\">course-schedule II</a>. In summary, we are given dependencies between courses and need to find the order in which they can be taken.</p>\n<p>For example <strong>[1,0] [2,0] [3,1] [3,2]</strong></p>\n<p>Here [1, 0] indicates that to take course 1, we must first take 0 (second course is the prerequisite for first course).</p>\n<p>The solution for this is a straight forward topological sort where we:</p>\n<p><strong>a)</strong> Create an adjacency list.</p>\n<p><strong>b)</strong> Create an indegree array/map</p>\n<p><strong>c)</strong> Do a DFS starting with the course which has an indegree of 0.</p>\n<p>However, I messed up during the creation of adjaceny list. In my mind, the adjacency list should map <strong>Course =&gt; PreReq</strong> and therefore look like this:</p>\n<p>1 -&gt; [0]</p>\n<p>2 -&gt; [0]</p>\n<p>3 -&gt; [1, 2]</p>\n<p>Turns out this won't work. Indegree tells me that 0 has no dependency so DFS starts with 0. And it will stop after 1 iteration as 0 has no adjacency mapping.</p>\n<p>According to the solution, the adjacency list should be computed as <strong>PreReq -&gt; Course</strong></p>\n<p>0 -&gt; [1, 2]</p>\n<p>1 -&gt; [3]</p>\n<p>2 -&gt; [3]</p>\n<p>So now when I start DFS with 0, I can then lookup the adjacency list of 0 -&gt; [1, 2] and continue on. My question is PreReq -&gt; Course doesn't make sense. In my mind, I read it as PreReq depends on Course. I would have never come up with it without seeing the answer.</p>\n<p>Is there a template/idea/theory that tells us which way to make the adjacency map for a directed graph?</p>\n<pre><code>public class CourseSchedule2 {\n\n    //[0, 1], indicates that to take course 0 you have to first take course 1.\n    public List&lt;Integer&gt; findOrder( int[][] prerequisites ){\n\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n\n        Map&lt;Integer, List&lt;Integer&gt;&gt; adjMap = createAdjacencyList( prerequisites );\n        System.out.println(&quot;Adjacency Map: &quot; + adjMap);\n\n        Map&lt;Integer, Integer&gt; indegree = createIndegree( prerequisites );\n        System.out.println(&quot;Indegree: &quot; + indegree);\n\n        Queue&lt;Integer&gt; queue = new ArrayDeque&lt;&gt;();\n        for( Map.Entry&lt;Integer, Integer&gt; entry : indegree.entrySet() ){\n            //In-degree value of 0 means this course has no pre-req\n            if( entry.getValue() == 0 ){\n                queue.add( entry.getKey() );\n            }\n        }\n\n        while( !queue.isEmpty() ){\n            Integer course = queue.poll();\n            result.add( course );\n\n            if( adjMap.containsKey(course)){\n                for( int neighbor : adjMap.get(course) ){\n                    indegree.put(neighbor, indegree.get(neighbor) -1 );\n\n                    if( indegree.get(neighbor) == 0 ){\n                        queue.add(neighbor);\n                    }\n                }\n            }\n        }\n        System.out.println(result);\n\n        if( result.size() == prerequisites.length ){\n            return result;\n        }else {\n            return Collections.emptyList();\n        }\n    }\n\n\n    public Map&lt;Integer, Integer&gt; createIndegree( int[][] courses ){\n        Map&lt;Integer, Integer&gt; indegree = new HashMap&lt;&gt;();\n\n        for( int[] course : courses ){\n            int courseToTake= course[0];\n            int preCourse   = course[1];\n            indegree.put(courseToTake, 0);\n            indegree.put(preCourse, 0);\n        }\n\n        //Update indegree based on the course\n        for( int[] courseEntry : courses ){\n            int course = courseEntry[0];\n            indegree.put(course, indegree.get(course) + 1);\n        }\n\n        return indegree;\n    }\n\n\n    private static Map&lt;Integer, List&lt;Integer&gt;&gt; createAdjacencyList( int[][] prerequisites ){\n        Map&lt;Integer, List&lt;Integer&gt;&gt; adjMap = new HashMap&lt;&gt;();\n        for( int[] preq : prerequisites ){\n            int curCourse = preq[0];\n            int preCourse = preq[1];\n            adjMap.computeIfAbsent( preCourse, k -&gt; new ArrayList&lt;&gt;()).add(curCourse);\n        }\n\n        return adjMap;\n    }\n\n\n    public static void main( String[] args ){\n        CourseSchedule2 tsort = new CourseSchedule2();\n        List&lt;Integer&gt; result = tsort.findOrder( new int[][]{\n                {1, 0},\n                {2, 0},\n                {3, 1},\n                {3, 2}\n        });\n\n        System.out.println(&quot;Result: &quot; + result);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":27562428,"reputation":1,"user_id":21035247,"display_name":"keks kekers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674060229,"creation_date":1674040920,"question_id":75158473,"body_markdown":"I&#39;m new to this so each time I use audioRecorder class each time after the record the file gets corrupted then the file can&#39;t be transcribed.\r\n\r\nThis is my initialize the Audiorecorder:\r\n\r\n```\r\nint audioSource = MediaRecorder.AudioSource.MIC;\r\nint sampleRate =  44100;\r\nint channelConfig = AudioFormat.CHANNEL_IN_MONO;\r\nint audioFormat = AudioFormat.ENCODING_PCM_16BIT;\r\nint bufferSize = AudioRecord.getMinBufferSize(sampleRate, channelConfig, audioFormat);\r\nAudioRecord audioRecord;\r\n```\r\n\r\nThis is my running code of Startrecording Using The AudioRecorder\r\n\r\n```\r\nprivate void startRecording()  {\r\n\r\n         appFolder = new File(getExternalFilesDir(null), folderName);\r\n        if (!appFolder.exists()) {\r\n            appFolder.mkdirs();\r\n        }\r\n\r\n         files = new File(appFolder,&quot;audio.wav&quot;);\r\n\r\n        audioRecord.startRecording();\r\n\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                byte[] buffer = new byte[bufferSize];\r\n                FileOutputStream outputStream = null;\r\n                try {\r\n                    outputStream = new FileOutputStream(files);\r\n                    while (isrecording) {\r\n                        int bufferReadResult = audioRecord.read(buffer, 0, bufferSize);\r\n                        for (int i = 0; i &lt; bufferReadResult; i++) {\r\n                            outputStream.write(buffer[i]);\r\n                        }\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        outputStream.flush();\r\n                        outputStream.close();\r\n\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    private void stopRecording() {\r\n        isrecording = false;\r\n        audioRecord.stop();\r\n        audioRecord.release();\r\n\r\n        // Transcribe the recorded audio using the Google Speech-to-Text API\r\n       // new TranscribeTask().execute();\r\n    }\r\n```\r\n\r\nI tried to use media recorder but did not get the same output cause only the format is not for FLAC/PCM/wav","title":"Audio file gets corrupted after Recording AudioRecorder of Android studio","body":"<p>I'm new to this so each time I use audioRecorder class each time after the record the file gets corrupted then the file can't be transcribed.</p>\n<p>This is my initialize the Audiorecorder:</p>\n<pre><code>int audioSource = MediaRecorder.AudioSource.MIC;\nint sampleRate =  44100;\nint channelConfig = AudioFormat.CHANNEL_IN_MONO;\nint audioFormat = AudioFormat.ENCODING_PCM_16BIT;\nint bufferSize = AudioRecord.getMinBufferSize(sampleRate, channelConfig, audioFormat);\nAudioRecord audioRecord;\n</code></pre>\n<p>This is my running code of Startrecording Using The AudioRecorder</p>\n<pre><code>private void startRecording()  {\n\n         appFolder = new File(getExternalFilesDir(null), folderName);\n        if (!appFolder.exists()) {\n            appFolder.mkdirs();\n        }\n\n         files = new File(appFolder,&quot;audio.wav&quot;);\n\n        audioRecord.startRecording();\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                byte[] buffer = new byte[bufferSize];\n                FileOutputStream outputStream = null;\n                try {\n                    outputStream = new FileOutputStream(files);\n                    while (isrecording) {\n                        int bufferReadResult = audioRecord.read(buffer, 0, bufferSize);\n                        for (int i = 0; i &lt; bufferReadResult; i++) {\n                            outputStream.write(buffer[i]);\n                        }\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } finally {\n                    try {\n                        outputStream.flush();\n                        outputStream.close();\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }).start();\n    }\n\n    private void stopRecording() {\n        isrecording = false;\n        audioRecord.stop();\n        audioRecord.release();\n\n        // Transcribe the recorded audio using the Google Speech-to-Text API\n       // new TranscribeTask().execute();\n    }\n</code></pre>\n<p>I tried to use media recorder but did not get the same output cause only the format is not for FLAC/PCM/wav</p>\n"},{"tags":["java","salesforce"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674073308,"post_id":75162484,"comment_id":132639800,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27565396,"reputation":1,"user_id":21037675,"display_name":"Rameswari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674060052,"creation_date":1674060052,"question_id":75162484,"body_markdown":"java.nio.file.NoSuchFileException: compile:/layers/heroku_maven/repository/io/netty/netty-transport-native-kqueue/4.1.87.Final/netty-transport-native-kqueue-4.1.87.Final-osx-x86_64.jar","title":"Facing issue while salesforce function debuging","body":"<p>java.nio.file.NoSuchFileException: compile:/layers/heroku_maven/repository/io/netty/netty-transport-native-kqueue/4.1.87.Final/netty-transport-native-kqueue-4.1.87.Final-osx-x86_64.jar</p>\n"},{"tags":["java","redis","quarkus","publish-subscribe"],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674060007,"creation_date":1674038558,"question_id":75157985,"body_markdown":"I have multiple subscribers in quarkus that are subscribed to few channels. Randomly in the log i see the following unhandled exception. It happens just out of nowhere, no requetes or notifications, just randomly\r\n\r\n    {&quot;timestamp&quot;:&quot;2023-01-17T16:18:43.882Z&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;message&quot;:&quot;Unhandled Error&quot;,&quot;mdc&quot;:{},&quot;exception&quot;:{&quot;refId&quot;:1,&quot;exceptionType&quot;:&quot;java.net.SocketException&quot;,&quot;message&quot;:&quot;Connection reset&quot;,&quot;frames&quot;:[{&quot;class&quot;:&quot;sun.nio.ch.SocketChannelImpl&quot;,&quot;method&quot;:&quot;throwConnectionReset&quot;,&quot;line&quot;:394},{&quot;class&quot;:&quot;sun.nio.ch.SocketChannelImpl&quot;,&quot;method&quot;:&quot;read&quot;,&quot;line&quot;:426},{&quot;class&quot;:&quot;io.netty.buffer.PooledByteBuf&quot;,&quot;method&quot;:&quot;setBytes&quot;,&quot;line&quot;:258},{&quot;class&quot;:&quot;io.netty.buffer.AbstractByteBuf&quot;,&quot;method&quot;:&quot;writeBytes&quot;,&quot;line&quot;:1132},{&quot;class&quot;:&quot;io.netty.channel.socket.nio.NioSocketChannel&quot;,&quot;method&quot;:&quot;doReadBytes&quot;,&quot;line&quot;:357},{&quot;class&quot;:&quot;io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe&quot;,&quot;method&quot;:&quot;read&quot;,&quot;line&quot;:151},{&quot;class&quot;:&quot;io.netty.channel.nio.NioEventLoop&quot;,&quot;method&quot;:&quot;processSelectedKey&quot;,&quot;line&quot;:788},{&quot;class&quot;:&quot;io.netty.channel.nio.NioEventLoop&quot;,&quot;method&quot;:&quot;processSelectedKeysOptimized&quot;,&quot;line&quot;:724},{&quot;class&quot;:&quot;io.netty.channel.nio.NioEventLoop&quot;,&quot;method&quot;:&quot;processSelectedKeys&quot;,&quot;line&quot;:650},{&quot;class&quot;:&quot;io.netty.channel.nio.NioEventLoop&quot;,&quot;method&quot;:&quot;run&quot;,&quot;line&quot;:562},{&quot;class&quot;:&quot;io.netty.util.concurrent.SingleThreadEventExecutor$4&quot;,&quot;method&quot;:&quot;run&quot;,&quot;line&quot;:997},{&quot;class&quot;:&quot;io.netty.util.internal.ThreadExecutorMap$2&quot;,&quot;method&quot;:&quot;run&quot;,&quot;line&quot;:74},{&quot;class&quot;:&quot;io.netty.util.concurrent.FastThreadLocalRunnable&quot;,&quot;method&quot;:&quot;run&quot;,&quot;line&quot;:30},{&quot;class&quot;:&quot;java.lang.Thread&quot;,&quot;method&quot;:&quot;run&quot;,&quot;line&quot;:833},{&quot;class&quot;:&quot;com.oracle.svm.core.thread.PlatformThreads&quot;,&quot;method&quot;:&quot;threadStartRoutine&quot;,&quot;line&quot;:775},{&quot;class&quot;:&quot;com.oracle.svm.core.posix.thread.PosixPlatformThreads&quot;,&quot;method&quot;:&quot;pthreadStartRoutine&quot;,&quot;line&quot;:203}]}}\r\n\r\nAny ideas why this is happening?\r\n\r\nThank you\r\n\r\nI can not troubleshot it as i can not understand where it is coming from\r\n","title":"Random error with redis connection pub/sub and quarkus","body":"<p>I have multiple subscribers in quarkus that are subscribed to few channels. Randomly in the log i see the following unhandled exception. It happens just out of nowhere, no requetes or notifications, just randomly</p>\n<pre><code>{&quot;timestamp&quot;:&quot;2023-01-17T16:18:43.882Z&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;message&quot;:&quot;Unhandled Error&quot;,&quot;mdc&quot;:{},&quot;exception&quot;:{&quot;refId&quot;:1,&quot;exceptionType&quot;:&quot;java.net.SocketException&quot;,&quot;message&quot;:&quot;Connection reset&quot;,&quot;frames&quot;:[{&quot;class&quot;:&quot;sun.nio.ch.SocketChannelImpl&quot;,&quot;method&quot;:&quot;throwConnectionReset&quot;,&quot;line&quot;:394},{&quot;class&quot;:&quot;sun.nio.ch.SocketChannelImpl&quot;,&quot;method&quot;:&quot;read&quot;,&quot;line&quot;:426},{&quot;class&quot;:&quot;io.netty.buffer.PooledByteBuf&quot;,&quot;method&quot;:&quot;setBytes&quot;,&quot;line&quot;:258},{&quot;class&quot;:&quot;io.netty.buffer.AbstractByteBuf&quot;,&quot;method&quot;:&quot;writeBytes&quot;,&quot;line&quot;:1132},{&quot;class&quot;:&quot;io.netty.channel.socket.nio.NioSocketChannel&quot;,&quot;method&quot;:&quot;doReadBytes&quot;,&quot;line&quot;:357},{&quot;class&quot;:&quot;io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe&quot;,&quot;method&quot;:&quot;read&quot;,&quot;line&quot;:151},{&quot;class&quot;:&quot;io.netty.channel.nio.NioEventLoop&quot;,&quot;method&quot;:&quot;processSelectedKey&quot;,&quot;line&quot;:788},{&quot;class&quot;:&quot;io.netty.channel.nio.NioEventLoop&quot;,&quot;method&quot;:&quot;processSelectedKeysOptimized&quot;,&quot;line&quot;:724},{&quot;class&quot;:&quot;io.netty.channel.nio.NioEventLoop&quot;,&quot;method&quot;:&quot;processSelectedKeys&quot;,&quot;line&quot;:650},{&quot;class&quot;:&quot;io.netty.channel.nio.NioEventLoop&quot;,&quot;method&quot;:&quot;run&quot;,&quot;line&quot;:562},{&quot;class&quot;:&quot;io.netty.util.concurrent.SingleThreadEventExecutor$4&quot;,&quot;method&quot;:&quot;run&quot;,&quot;line&quot;:997},{&quot;class&quot;:&quot;io.netty.util.internal.ThreadExecutorMap$2&quot;,&quot;method&quot;:&quot;run&quot;,&quot;line&quot;:74},{&quot;class&quot;:&quot;io.netty.util.concurrent.FastThreadLocalRunnable&quot;,&quot;method&quot;:&quot;run&quot;,&quot;line&quot;:30},{&quot;class&quot;:&quot;java.lang.Thread&quot;,&quot;method&quot;:&quot;run&quot;,&quot;line&quot;:833},{&quot;class&quot;:&quot;com.oracle.svm.core.thread.PlatformThreads&quot;,&quot;method&quot;:&quot;threadStartRoutine&quot;,&quot;line&quot;:775},{&quot;class&quot;:&quot;com.oracle.svm.core.posix.thread.PosixPlatformThreads&quot;,&quot;method&quot;:&quot;pthreadStartRoutine&quot;,&quot;line&quot;:203}]}}\n</code></pre>\n<p>Any ideas why this is happening?</p>\n<p>Thank you</p>\n<p>I can not troubleshot it as i can not understand where it is coming from</p>\n"},{"tags":["java","email","gmail","jakarta-mail"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1674059026,"post_id":75162174,"comment_id":132635269,"body_markdown":"Google / Gmail isn&#39;t a great solution for programmatic emailing. There are other solutions out there that don&#39;t require multifactor authentication that I think would be better, but which I think you&#39;ll have to pay for","body":"Google / Gmail isn&#39;t a great solution for programmatic emailing. There are other solutions out there that don&#39;t require multifactor authentication that I think would be better, but which I think you&#39;ll have to pay for"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1674059673,"post_id":75162174,"comment_id":132635513,"body_markdown":"@ControlAltDel i beg to differ its a fine solution for sending automated emails my clients have been using it for more then ten years on backend systems.","body":"@ControlAltDel i beg to differ its a fine solution for sending automated emails my clients have been using it for more then ten years on backend systems."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1674069225,"post_id":75162174,"comment_id":132638656,"body_markdown":"@DalmTo I was thinking about using GMail from PHPMailer. For one thing, it wasn&#39;t clear to me that this would work if MFA was active (though MFA can be disabled) The bigger issue is the fairly severe number of email recipients allowed a day. You can see on this page the writer recommends elastic email over gmail https://www.web-development-blog.com/send-e-mail-messages-via-smtp-with-phpmailer-and-gmail/#:~:text=PHPMailer%20tutorial%20for%20Google%20Workspace%20%28or%20GMail%29%201,the%20PHPMailer%20class%20file%3A%20require_once%20%28%27phpmailer%2Fclass.phpmailer.php%27%29%3B%20More%20items","body":"@DalmTo I was thinking about using GMail from PHPMailer. For one thing, it wasn&#39;t clear to me that this would work if MFA was active (though MFA can be disabled) The bigger issue is the fairly severe number of email recipients allowed a day. You can see on this page the writer recommends elastic email over gmail <a href=\"https://www.web-development-blog.com/send-e-mail-messages-via-smtp-with-phpmailer-and-gmail/#:~:text=PHPMailer%20tutorial%20for%20Google%20Workspace%20%28or%20GMail%29%201,the%20PHPMailer%20class%20file%3A%20require_once%20%28%27phpmailer%2Fclass.phpmailer.php%27%29%3B%20More%20items\" rel=\"nofollow noreferrer\">web-development-blog.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674059606,"creation_date":1674059606,"answer_id":75162393,"question_id":75162174,"body_markdown":"Apps passwords can be used to login to googles smtp server you need to have 2fa enabled on your google account in order to create an apps password.\r\n\r\n\r\nSimply create an apps password and use it in place of your standard gmail password in your code.  \r\n\r\n- [Quick fix for SMTP username and password not accepted error](https://www.youtube.com/watch?v=Y_u5KIeXiVI&amp;t=2s)\r\n- [How to create a Apps Password for connecting to Google&#39;s SMTP server.](https://www.youtube.com/shorts/IGOt3zo98Xw)\r\n\r\nAnother option would be to use XOauth2 and authorize a user to access their gmail account.  This can be used if you cant enable 2fa on the account.\r\n\r\n  [1]: https://support.google.com/accounts/answer/185833?hl=en\r\n  [2]: https://support.google.com/accounts/answer/6010255?hl=en","title":"Java mail smtp protocol wiht google account in 2023","body":"<p>Apps passwords can be used to login to googles smtp server you need to have 2fa enabled on your google account in order to create an apps password.</p>\n<p>Simply create an apps password and use it in place of your standard gmail password in your code.</p>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=Y_u5KIeXiVI&amp;t=2s\" rel=\"nofollow noreferrer\">Quick fix for SMTP username and password not accepted error</a></li>\n<li><a href=\"https://www.youtube.com/shorts/IGOt3zo98Xw\" rel=\"nofollow noreferrer\">How to create a Apps Password for connecting to Google's SMTP server.</a></li>\n</ul>\n<p>Another option would be to use XOauth2 and authorize a user to access their gmail account.  This can be used if you cant enable 2fa on the account.</p>\n"}],"owner":{"account_id":19610358,"reputation":31,"user_id":14352991,"display_name":"Alesky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674059606,"creation_date":1674058588,"question_id":75162174,"body_markdown":"Well there are a lot of discussion on this topic, \r\nbut looks like that google enforce its security policy and now, if is it still possible, is hard to find a way to send and mail by the smtp protocol using google\r\n\r\nmy java application works properly, it is not a fact of code, i use it to send mail by outlook365 or hotmail\r\n\r\nthe point here is how to configure the properties to pass to the session\r\n```\r\nSession session = Session.getInstance(prop,auth)\r\n```\r\nand how to configure the google account to accept an smpt call\r\n\r\nto be precise I&#39;m using a google workspace account and not a standard@gmail account\r\n\r\nregarding the properties should not be a big doubt, this are listed in several pages of google:\r\n\r\nregarding the google account, look like there are 3 strategies:\r\nhttps://support.google.com/a/answer/176600?hl=en\r\n\r\nOption 1: Send email with SMTP relay:\r\nafter configured the routing form my domain this is the log received\r\n\r\n```\r\nmail.smtp.starttls.enable=true\r\nmail.smtp.port=587\r\nmail.smtp.auth=true\r\nmail.smtp.host=smtp-relay.gmail.com\r\nmail.smtp.ssl.protocols=TLSv1.2\r\nmail.smtp.ssl.trust=smtp-relay.gmail.com --&gt; in this way a consider valid their certificate\r\n\r\nbut go head...\r\n\r\nDEBUG SMTP: protocolConnect login, host=smtp-relay.gmail.com, user=myuser@my.domain, password=&lt;non-null&gt;\r\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \r\nDEBUG SMTP: Using mechanism LOGIN\r\nDEBUG SMTP: AUTH LOGIN command trace suppressed\r\nDEBUG SMTP: AUTH LOGIN failed\r\n\r\nCaused by: javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\r\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials\r\n\r\n```\r\n\r\nOption 2: Send email with the Gmail SMTP server\r\ntested but this is no more possible, google removed in the 2022 the creation of app password\r\n\r\nOption 3: Send email with the restricted Gmail SMTP server\r\nnot valid approach, you can send only mail in your organization\r\n\r\n\r\nif sameone succed could be nice to hear","title":"Java mail smtp protocol wiht google account in 2023","body":"<p>Well there are a lot of discussion on this topic,\nbut looks like that google enforce its security policy and now, if is it still possible, is hard to find a way to send and mail by the smtp protocol using google</p>\n<p>my java application works properly, it is not a fact of code, i use it to send mail by outlook365 or hotmail</p>\n<p>the point here is how to configure the properties to pass to the session</p>\n<pre><code>Session session = Session.getInstance(prop,auth)\n</code></pre>\n<p>and how to configure the google account to accept an smpt call</p>\n<p>to be precise I'm using a google workspace account and not a standard@gmail account</p>\n<p>regarding the properties should not be a big doubt, this are listed in several pages of google:</p>\n<p>regarding the google account, look like there are 3 strategies:\n<a href=\"https://support.google.com/a/answer/176600?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/a/answer/176600?hl=en</a></p>\n<p>Option 1: Send email with SMTP relay:\nafter configured the routing form my domain this is the log received</p>\n<pre><code>mail.smtp.starttls.enable=true\nmail.smtp.port=587\nmail.smtp.auth=true\nmail.smtp.host=smtp-relay.gmail.com\nmail.smtp.ssl.protocols=TLSv1.2\nmail.smtp.ssl.trust=smtp-relay.gmail.com --&gt; in this way a consider valid their certificate\n\nbut go head...\n\nDEBUG SMTP: protocolConnect login, host=smtp-relay.gmail.com, user=myuser@my.domain, password=&lt;non-null&gt;\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \nDEBUG SMTP: Using mechanism LOGIN\nDEBUG SMTP: AUTH LOGIN command trace suppressed\nDEBUG SMTP: AUTH LOGIN failed\n\nCaused by: javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials\n\n</code></pre>\n<p>Option 2: Send email with the Gmail SMTP server\ntested but this is no more possible, google removed in the 2022 the creation of app password</p>\n<p>Option 3: Send email with the restricted Gmail SMTP server\nnot valid approach, you can send only mail in your organization</p>\n<p>if sameone succed could be nice to hear</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1674109356,"post_id":75162374,"comment_id":132645632,"body_markdown":"You are using a wildcard thus it might lead to multiple instances, the last one isn&#39;t even valid `file:classpath:` is not a valid prefix. If you want a single one stop using a wildcard, else keep using an array.","body":"You are using a wildcard thus it might lead to multiple instances, the last one isn&#39;t even valid <code>file:classpath:</code> is not a valid prefix. If you want a single one stop using a wildcard, else keep using an array."}],"owner":{"account_id":14330967,"reputation":25,"user_id":10351714,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674059510,"creation_date":1674059510,"question_id":75162374,"body_markdown":"I try to inject a security.properties file , which is inside a library on the classpath. Injecting it as an array and accessing it using index works(example 1), while injecting a single file does not (example 2 and 3). \r\n\r\n```\r\n@Value(&quot;classpath*:security.properties&quot;)\r\nprivate Resource[]         resources;\r\n\r\n// access with resources[0]\r\n```\r\n\r\n```\r\n@Value(&quot;classpath*:security.properties&quot;)\r\nprivate Resource         resource;\r\n```\r\n\r\n```\r\n@Value(&quot;file:classpath*:security.properties&quot;)\r\nprivate Resource         resource;\r\n```\r\n\r\nI would appreciate some help to make the second one work, as it looks better than the first one.\r\nThank you.","title":"Inject properties files from classpath as Resource","body":"<p>I try to inject a security.properties file , which is inside a library on the classpath. Injecting it as an array and accessing it using index works(example 1), while injecting a single file does not (example 2 and 3).</p>\n<pre><code>@Value(&quot;classpath*:security.properties&quot;)\nprivate Resource[]         resources;\n\n// access with resources[0]\n</code></pre>\n<pre><code>@Value(&quot;classpath*:security.properties&quot;)\nprivate Resource         resource;\n</code></pre>\n<pre><code>@Value(&quot;file:classpath*:security.properties&quot;)\nprivate Resource         resource;\n</code></pre>\n<p>I would appreciate some help to make the second one work, as it looks better than the first one.\nThank you.</p>\n"},{"tags":["java","android","vcf-vcard"],"comments":[{"owner":{"account_id":9846009,"reputation":706,"user_id":7293500,"display_name":"Sarah Cohen"},"score":0,"creation_date":1673896717,"post_id":73974098,"comment_id":132595134,"body_markdown":"Hi! How did you implement ezvard-android-mapper into your code with no gradle/jar availability? Do you have your code online somewhere that I could check out? Thanks!","body":"Hi! How did you implement ezvard-android-mapper into your code with no gradle/jar availability? Do you have your code online somewhere that I could check out? Thanks!"},{"owner":{"account_id":775479,"reputation":6108,"user_id":815787,"display_name":"Serge"},"score":0,"creation_date":1697249458,"post_id":73974098,"comment_id":136260170,"body_markdown":"btw, you miss `\\r` after `BEGIN:VCARD`","body":"btw, you miss <code>\\r</code> after <code>BEGIN:VCARD</code>"}],"answers":[{"tags":[],"owner":{"account_id":7428890,"reputation":78,"user_id":5650567,"display_name":"RR_Pradhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665382481,"creation_date":1665382042,"answer_id":74010787,"question_id":73974098,"body_markdown":"After much searching and trying different thing i finally found the answer.\r\nThis was very silly.\r\nFirst thing is i forgot to use the file provider given i was targeting API level 24 plus.\r\nAnd other is i didn&#39;t use the below flag after using the provider.\r\n\r\n     Uri uri = FileProvider.getUriForFile(\r\n                                ShareScreen.this,\r\n                                &quot;com.alphapublishing.digitalbusinesscard.provider&quot;,\r\n                                path);\r\n      intent.setDataAndType(uri,&quot;text/x-vcard&quot;); \r\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\nCredit to this post : https://stackoverflow.com/questions/38200282/android-os-fileuriexposedexception-file-storage-emulated-0-test-txt-exposed/38858040#38858040","title":"How to add vCard to contact application via QR code in Android?","body":"<p>After much searching and trying different thing i finally found the answer.\nThis was very silly.\nFirst thing is i forgot to use the file provider given i was targeting API level 24 plus.\nAnd other is i didn't use the below flag after using the provider.</p>\n<pre><code> Uri uri = FileProvider.getUriForFile(\n                            ShareScreen.this,\n                            &quot;com.alphapublishing.digitalbusinesscard.provider&quot;,\n                            path);\n  intent.setDataAndType(uri,&quot;text/x-vcard&quot;); \nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n</code></pre>\n<p>Credit to this post : <a href=\"https://stackoverflow.com/questions/38200282/android-os-fileuriexposedexception-file-storage-emulated-0-test-txt-exposed/38858040#38858040\">android.os.FileUriExposedException: file:///storage/emulated/0/test.txt exposed beyond app through Intent.getData()</a></p>\n"},{"tags":[],"owner":{"account_id":27554995,"reputation":11,"user_id":21029381,"display_name":"Blas Piris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674059270,"creation_date":1674059270,"answer_id":75162325,"question_id":73974098,"body_markdown":"I don&#39;t know if this is what you need\r\n\r\n ```\r\n      //GENERATE QR\r\n        private void generateQR(User user) {\r\n            String str =\r\n                    &quot;BEGIN:VCARD\\n&quot; +\r\n                            &quot;VERSION:3.0\\r\\n&quot; +\r\n                            &quot;N:&quot; + user.getSurname() + &quot;;&quot; + user.getName() + &quot;;;Mr;\\r\\n&quot; +\r\n                            &quot;FN:&quot; + &quot;Mr.&quot; + user.getName() + &quot; &quot; + user.getSurname() + &quot;\\r\\n&quot; +\r\n                            &quot;EMAIL:&quot; + user.getEmail() + &quot;\\r\\n&quot; +\r\n                            &quot;TEL;CELL:&quot; + user.getPhone() +&quot;\\r\\n&quot; +\r\n                            &quot;END:VCARD\\r\\n&quot;;\r\n    \r\n            QRCodeWriter writer = new QRCodeWriter();\r\n            try {\r\n                BitMatrix bitMatrix = writer.encode(str, BarcodeFormat.QR_CODE, 512, 512);\r\n                int width = bitMatrix.getWidth();\r\n                int height = bitMatrix.getHeight();\r\n                Bitmap bmp = Bitmap.createBitmap(width, height, Bitmap.Config.RGB_565);\r\n                for (int x = 0; x &lt; width; x++) {\r\n                    for (int y = 0; y &lt; height; y++) {\r\n                        bmp.setPixel(x, y, bitMatrix.get(x, y) ? Color.BLACK : Color.WHITE);\r\n                    }\r\n                }\r\n                image.setImageBitmap(bmp);\r\n    \r\n            } catch (WriterException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n```","title":"How to add vCard to contact application via QR code in Android?","body":"<p>I don't know if this is what you need</p>\n<pre><code>     //GENERATE QR\n       private void generateQR(User user) {\n           String str =\n                   &quot;BEGIN:VCARD\\n&quot; +\n                           &quot;VERSION:3.0\\r\\n&quot; +\n                           &quot;N:&quot; + user.getSurname() + &quot;;&quot; + user.getName() + &quot;;;Mr;\\r\\n&quot; +\n                           &quot;FN:&quot; + &quot;Mr.&quot; + user.getName() + &quot; &quot; + user.getSurname() + &quot;\\r\\n&quot; +\n                           &quot;EMAIL:&quot; + user.getEmail() + &quot;\\r\\n&quot; +\n                           &quot;TEL;CELL:&quot; + user.getPhone() +&quot;\\r\\n&quot; +\n                           &quot;END:VCARD\\r\\n&quot;;\n   \n           QRCodeWriter writer = new QRCodeWriter();\n           try {\n               BitMatrix bitMatrix = writer.encode(str, BarcodeFormat.QR_CODE, 512, 512);\n               int width = bitMatrix.getWidth();\n               int height = bitMatrix.getHeight();\n               Bitmap bmp = Bitmap.createBitmap(width, height, Bitmap.Config.RGB_565);\n               for (int x = 0; x &lt; width; x++) {\n                   for (int y = 0; y &lt; height; y++) {\n                       bmp.setPixel(x, y, bitMatrix.get(x, y) ? Color.BLACK : Color.WHITE);\n                   }\n               }\n               image.setImageBitmap(bmp);\n   \n           } catch (WriterException e) {\n               e.printStackTrace();\n           }\n       }\n</code></pre>\n"}],"owner":{"account_id":7428890,"reputation":78,"user_id":5650567,"display_name":"RR_Pradhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674059270,"creation_date":1665060557,"question_id":73974098,"body_markdown":"I have an application where part of the functionality is user will generate a QR code and other users can scan and get contact details and add to their contact directly.\r\n\r\nSo i am encoding vCard details in below format:\r\n\r\n    String str =\r\n                    &quot;BEGIN:VCARD\\n&quot; +\r\n                            &quot;VERSION:3.0\\r\\n&quot; +\r\n                            &quot;N:&quot; + userDetailsModel.getLastName() + &quot;;&quot; + userDetailsModel.getFirstName() + &quot;;;Mr;\\r\\n&quot; +\r\n                            &quot;FN:&quot; + &quot;Mr.&quot; + userDetailsModel.getFirstName() + &quot; &quot; + userDetailsModel.getLastName() + &quot;\\r\\n&quot; +\r\n                            &quot;ORG:&quot; + userDetailsModel.getCompany() + &quot;\\r\\n&quot; +\r\n                            &quot;TITLE:&quot; + userDetailsModel.getDesignation() + &quot;\\r\\n&quot; +\r\n                            &quot;EMAIL:&quot; + userDetailsModel.getEmail() + &quot;\\r\\n&quot; +\r\n                            &quot;TEL;CELL:&quot; + userDetailsModel.getPhone() + &quot;\\r\\n&quot; +\r\n                            &quot;END:VCARD\\r\\n&quot;;\r\nThen upon receiving this string after being scanned , i am writing this to a file and then starting an intent action with the file to open and add to contact.\r\nBelow is my code:\r\n\r\n     VCard vCard = Ezvcard.parse(qrResultDataString).first();\r\n    \r\n                        writeToFile(qrResultDataString);\r\n                        Intent intent = new Intent(Intent.ACTION_VIEW);\r\n                        File path = new File(getApplicationContext().getExternalFilesDir(null), &quot;contactFile.vcf&quot;);\r\n    \r\n                        try {\r\n                            VCardWriter writer = new VCardWriter(path, VCardVersion.V3_0);\r\n                            writer.write(vCard);\r\n                            writer.close();\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n    \r\n    \r\n                        Uri uri = Uri.parse(path.getPath());\r\n                        intent.setDataAndType(uri, &quot;text/x-vcard&quot;); //storage path is path of your vcf file and vFile is name of that file.\r\n                        startActivity(intent); \r\n\r\nIgnore the EZvcard part.\r\n\r\nAs a result i am getting option to add to contact and when i select any contact app a toast is showing with text &quot;couldn&#39;t import vCard&quot;.\r\nI am not getting any error message in logcat either.\r\nPlease help.","title":"How to add vCard to contact application via QR code in Android?","body":"<p>I have an application where part of the functionality is user will generate a QR code and other users can scan and get contact details and add to their contact directly.</p>\n<p>So i am encoding vCard details in below format:</p>\n<pre><code>String str =\n                &quot;BEGIN:VCARD\\n&quot; +\n                        &quot;VERSION:3.0\\r\\n&quot; +\n                        &quot;N:&quot; + userDetailsModel.getLastName() + &quot;;&quot; + userDetailsModel.getFirstName() + &quot;;;Mr;\\r\\n&quot; +\n                        &quot;FN:&quot; + &quot;Mr.&quot; + userDetailsModel.getFirstName() + &quot; &quot; + userDetailsModel.getLastName() + &quot;\\r\\n&quot; +\n                        &quot;ORG:&quot; + userDetailsModel.getCompany() + &quot;\\r\\n&quot; +\n                        &quot;TITLE:&quot; + userDetailsModel.getDesignation() + &quot;\\r\\n&quot; +\n                        &quot;EMAIL:&quot; + userDetailsModel.getEmail() + &quot;\\r\\n&quot; +\n                        &quot;TEL;CELL:&quot; + userDetailsModel.getPhone() + &quot;\\r\\n&quot; +\n                        &quot;END:VCARD\\r\\n&quot;;\n</code></pre>\n<p>Then upon receiving this string after being scanned , i am writing this to a file and then starting an intent action with the file to open and add to contact.\nBelow is my code:</p>\n<pre><code> VCard vCard = Ezvcard.parse(qrResultDataString).first();\n\n                    writeToFile(qrResultDataString);\n                    Intent intent = new Intent(Intent.ACTION_VIEW);\n                    File path = new File(getApplicationContext().getExternalFilesDir(null), &quot;contactFile.vcf&quot;);\n\n                    try {\n                        VCardWriter writer = new VCardWriter(path, VCardVersion.V3_0);\n                        writer.write(vCard);\n                        writer.close();\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n\n\n                    Uri uri = Uri.parse(path.getPath());\n                    intent.setDataAndType(uri, &quot;text/x-vcard&quot;); //storage path is path of your vcf file and vFile is name of that file.\n                    startActivity(intent); \n</code></pre>\n<p>Ignore the EZvcard part.</p>\n<p>As a result i am getting option to add to contact and when i select any contact app a toast is showing with text &quot;couldn't import vCard&quot;.\nI am not getting any error message in logcat either.\nPlease help.</p>\n"},{"tags":["java","selenium","selenium-webdriver","camera","alert"],"answers":[{"tags":[],"owner":{"account_id":27527389,"reputation":1,"user_id":21006486,"display_name":"Gurcharan Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674058257,"creation_date":1674058184,"answer_id":75162087,"question_id":75118156,"body_markdown":"   Use this for web based alerts, it really works:[ Otherwise, default allow camera from the site setting.][1] \r\n\r\n       public static void main(String[] args) {\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\tHashMap&lt;String, Integer&gt; contentsettings = new HashMap&lt;String, Integer&gt;();\r\n\t\tHashMap&lt;String, Object&gt; profile = new HashMap&lt;String, Object&gt;();\r\n\t\tHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n\t\tcontentsettings.put(&quot;media_stream&quot;, 1);\r\n\t\t/*\r\n\t\t * for location : &quot;geolocation&quot; \r\n\t\t * For camera and microphone : &quot;media_stream&quot; \r\n\t\t * For notification: &quot;notifications&quot;\r\n\t\t */\r\n\t\tprofile.put(&quot;managed_default_content_settings&quot;, contentsettings);\r\n\t\tprefs.put(&quot;profile&quot;, profile);\r\n\t\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\t\tdriver = new ChromeDriver(options);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/91M1a.png","title":"How I can handle Camera, notifications and location alerts(web based) in selenium with java?","body":"<p>Use this for web based alerts, it really works:<a href=\"https://i.stack.imgur.com/91M1a.png\" rel=\"nofollow noreferrer\"> Otherwise, default allow camera from the site setting.</a></p>\n<pre><code>   public static void main(String[] args) {\n    ChromeOptions options = new ChromeOptions();\n    HashMap&lt;String, Integer&gt; contentsettings = new HashMap&lt;String, Integer&gt;();\n    HashMap&lt;String, Object&gt; profile = new HashMap&lt;String, Object&gt;();\n    HashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n    contentsettings.put(&quot;media_stream&quot;, 1);\n    /*\n     * for location : &quot;geolocation&quot; \n     * For camera and microphone : &quot;media_stream&quot; \n     * For notification: &quot;notifications&quot;\n     */\n    profile.put(&quot;managed_default_content_settings&quot;, contentsettings);\n    prefs.put(&quot;profile&quot;, profile);\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\n    driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":27527389,"reputation":1,"user_id":21006486,"display_name":"Gurcharan Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674059046,"creation_date":1673701584,"question_id":75118156,"body_markdown":"Its not working with switch and sikuli\r\n```\r\n driver.switchTo().alert().accept();\r\n```\r\n```\r\n\r\n\t\tString photopath= &quot;C:\\\\Users\\\\Pictures\\\\&quot;;\r\n\t\tScreen s= new Screen();\r\n\t\tPattern np = new Pattern(&quot;picture\\\\abc.png&quot;);\r\n\t\ttry {\r\n\t\t\ts.click(np);\r\n\t\t} catch (FindFailed e) {\r\n\t\t\te.printStackTrace();\r\n                }\r\n```\r\n\t\t\t\r\n\t\r\n[[In sikuli dependency it showing this error. ](https://i.stack.imgur.com/eIRql.png)](https://i.stack.imgur.com/hYIOd.png)\r\n```\r\n\r\n\r\nIs there any alternative of sikuli or how can it accept normally.[](https://i.stack.imgur.com/CTwov.png) ","title":"How I can handle Camera, notifications and location alerts(web based) in selenium with java?","body":"<p>Its not working with switch and sikuli</p>\n<pre><code> driver.switchTo().alert().accept();\n</code></pre>\n<pre><code>\n        String photopath= &quot;C:\\\\Users\\\\Pictures\\\\&quot;;\n        Screen s= new Screen();\n        Pattern np = new Pattern(&quot;picture\\\\abc.png&quot;);\n        try {\n            s.click(np);\n        } catch (FindFailed e) {\n            e.printStackTrace();\n                }\n</code></pre>\n<p>[<a href=\"https://i.stack.imgur.com/eIRql.png\" rel=\"nofollow noreferrer\">In sikuli dependency it showing this error. </a>](<a href=\"https://i.stack.imgur.com/hYIOd.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/hYIOd.png</a>)</p>\n<pre><code>\n\nIs there any alternative of sikuli or how can it accept normally.[](https://i.stack.imgur.com/CTwov.png) \n</code></pre>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1673574984,"post_id":75101998,"comment_id":132535762,"body_markdown":"Did you select &quot;Empty Activity&quot;? Or &quot;No Activity&quot;?","body":"Did you select &quot;Empty Activity&quot;? Or &quot;No Activity&quot;?"},{"owner":{"account_id":5956416,"reputation":257,"user_id":7926878,"display_name":"TheQuantumMan"},"score":0,"creation_date":1673593571,"post_id":75101998,"comment_id":132538255,"body_markdown":"@JornRigter Empty Activity, yes","body":"@JornRigter Empty Activity, yes"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1673637949,"post_id":75101998,"comment_id":132552041,"body_markdown":"What happens if you create a &quot;Basic Activity&quot;? Still an empty project?","body":"What happens if you create a &quot;Basic Activity&quot;? Still an empty project?"},{"owner":{"account_id":5956416,"reputation":257,"user_id":7926878,"display_name":"TheQuantumMan"},"score":0,"creation_date":1674058430,"post_id":75101998,"comment_id":132635034,"body_markdown":"@JornRigter just tried it, it&#39;s still empty. I will update the question in a bit to include a few more details that can be helpful.","body":"@JornRigter just tried it, it&#39;s still empty. I will update the question in a bit to include a few more details that can be helpful."},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":1,"creation_date":1674083918,"post_id":75101998,"comment_id":132642372,"body_markdown":"Very strange. Maybe you could try completely uninstalling and reinstalling Android Studio?","body":"Very strange. Maybe you could try completely uninstalling and reinstalling Android Studio?"}],"answers":[{"tags":[],"owner":{"account_id":23653818,"reputation":565,"user_id":17682395,"display_name":"Heet Changela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673595888,"creation_date":1673595888,"answer_id":75106172,"question_id":75101998,"body_markdown":"Its look like your project is not created properly, If you create new project in android studio it will look like as below SS.\r\n[![enter image description here][1]][1]\r\n\r\nYou can also check your project folder and file from finder option like below SS.\r\n[![enter image description here][3]][3] \r\n\r\nAfter that you can see below structure for your project\r\n[![enter image description here][2]][2]\r\n\r\nYou don&#39;t found anything like above SS please try to create another project but this time change your location for your project.\r\n\r\nOne more thing in Android Kotlin is more preferable over JAVA so also check with Kotlin for development.\r\n\r\nGood Luck!!.    \r\n\r\n  [1]: https://i.stack.imgur.com/oUNvE.png\r\n  [2]: https://i.stack.imgur.com/HBvwm.png\r\n  [3]: https://i.stack.imgur.com/brrv2.png","title":"New project in Android Studio does not show basic code and does not create java file","body":"<p>Its look like your project is not created properly, If you create new project in android studio it will look like as below SS.\n<a href=\"https://i.stack.imgur.com/oUNvE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oUNvE.png\" alt=\"enter image description here\" /></a></p>\n<p>You can also check your project folder and file from finder option like below SS.\n<a href=\"https://i.stack.imgur.com/brrv2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/brrv2.png\" alt=\"enter image description here\" /></a></p>\n<p>After that you can see below structure for your project\n<a href=\"https://i.stack.imgur.com/HBvwm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HBvwm.png\" alt=\"enter image description here\" /></a></p>\n<p>You don't found anything like above SS please try to create another project but this time change your location for your project.</p>\n<p>One more thing in Android Kotlin is more preferable over JAVA so also check with Kotlin for development.</p>\n<p>Good Luck!!.</p>\n"}],"owner":{"account_id":5956416,"reputation":257,"user_id":7926878,"display_name":"TheQuantumMan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674058577,"creation_date":1673555458,"question_id":75101998,"body_markdown":"I&#39;m new to Java coding and to Android studio. After selecting to create a new project, I select the option &quot;Empty Activity&quot; and then Java as the language. I essentially follow all the &quot;newby&quot; steps, as described, say, here in the first answer: https://stackoverflow.com/questions/68587172/starting-new-project-in-android-studio\r\n\r\nWhen I press finish, I get the following screen:\r\n[![][1]][1]\r\n\r\n\r\nEDIT: The directory in which Android studio is installed is contained within a User folder that contains a space (it can&#39;t be renamed). This might be a source of problems (I don&#39;t know). I also tried saving the projects in folder C, not in a subfolder contained within C, but this solves nothing (Android Studio was not installed in said folder). \r\n\r\n  [1]: https://i.stack.imgur.com/4qel4.png\r\n\r\nI&#39;ve read that upon successfully creating such a new project, I should get a screen with some basic code on it. I get nothing like this. I also read that Android studio should create an xml file and a .java file. The .java file is missing.\r\n\r\nWhat&#39;s going wrong here? Where can I start writing code? How can I fix this?","title":"New project in Android Studio does not show basic code and does not create java file","body":"<p>I'm new to Java coding and to Android studio. After selecting to create a new project, I select the option &quot;Empty Activity&quot; and then Java as the language. I essentially follow all the &quot;newby&quot; steps, as described, say, here in the first answer: <a href=\"https://stackoverflow.com/questions/68587172/starting-new-project-in-android-studio\">Starting New Project in Android Studio</a></p>\n<p>When I press finish, I get the following screen:\n<a href=\"https://i.stack.imgur.com/4qel4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4qel4.png\" alt=\"\" /></a></p>\n<p>EDIT: The directory in which Android studio is installed is contained within a User folder that contains a space (it can't be renamed). This might be a source of problems (I don't know). I also tried saving the projects in folder C, not in a subfolder contained within C, but this solves nothing (Android Studio was not installed in said folder).</p>\n<p>I've read that upon successfully creating such a new project, I should get a screen with some basic code on it. I get nothing like this. I also read that Android studio should create an xml file and a .java file. The .java file is missing.</p>\n<p>What's going wrong here? Where can I start writing code? How can I fix this?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":6627494,"reputation":2666,"user_id":5117236,"accept_rate":84,"display_name":"Impulse The Fox"},"score":0,"creation_date":1521756448,"post_id":49439161,"comment_id":85880437,"body_markdown":"You can add `HttpServletResponse response` as a parameter to your method annotated with `@GetMapping` and do something like `response.setHeader(&quot;Content-Length&quot;, &quot;12345&quot;);`","body":"You can add <code>HttpServletResponse response</code> as a parameter to your method annotated with <code>@GetMapping</code> and do something like <code>response.setHeader(&quot;Content-Length&quot;, &quot;12345&quot;);</code>"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1521757379,"post_id":49439161,"comment_id":85880775,"body_markdown":"@ImpulseTheFox That is what we are trying to do.  I have added a code that use to work prior to the changes in Spring 4.3.  The `handleHeadRequest` method is no longer called at all.  :(","body":"@ImpulseTheFox That is what we are trying to do.  I have added a code that use to work prior to the changes in Spring 4.3.  The <code>handleHeadRequest</code> method is no longer called at all.  :("},{"owner":{"account_id":8317456,"reputation":1353,"user_id":6250244,"display_name":"0gam"},"score":0,"creation_date":1521770546,"post_id":49439161,"comment_id":85884473,"body_markdown":"Your question is how to make download service controller?","body":"Your question is how to make download service controller?"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1521817625,"post_id":49439161,"comment_id":85908214,"body_markdown":"@Byeon0gam, no, not really.  I am asking how can I get Spring to call the `handleHeadRequest` method above instead of the `handleRequest` method for HTTP HEAD method requests.","body":"@Byeon0gam, no, not really.  I am asking how can I get Spring to call the <code>handleHeadRequest</code> method above instead of the <code>handleRequest</code> method for HTTP HEAD method requests."},{"owner":{"account_id":8317456,"reputation":1353,"user_id":6250244,"display_name":"0gam"},"score":0,"creation_date":1522114602,"post_id":49439161,"comment_id":86010345,"body_markdown":"@hooknc, you checked my post?","body":"@hooknc, you checked my post?"}],"answers":[{"tags":[],"owner":{"account_id":8317456,"reputation":1353,"user_id":6250244,"display_name":"0gam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521909284,"creation_date":1521908840,"answer_id":49467097,"question_id":49439161,"body_markdown":"&gt; The HTTP HEAD method requests the headers that are returned if the\r\n&gt; specified resource would be requested with an HTTP GET method. Such a\r\n&gt; request can be done before deciding to download a large resource to\r\n&gt; save bandwidth, for example.\r\n&gt; \r\n&gt; A response to a HEAD method should not have a body. If so, it must be\r\n&gt; ignored. Even so, entity headers describing the content of the body,\r\n&gt; like Content-Length may be included in the response. They don&#39;t relate\r\n&gt; to the body of the HEAD response, which should be empty, but to the\r\n&gt; body of similar request using the GET method would have returned as a\r\n&gt; response.\r\n&gt; \r\n&gt; If the result of a HEAD request shows that a cached resource after a\r\n&gt; GET request is now outdated, the cache is invalidated, even if no GET\r\n&gt; request has been made.\r\n\r\n - Request has body\tNo\r\n - Successful response has body\tNo\r\n - Safe\tYes\r\n - Idempotent\tYes\r\n - Cacheable\tYes\r\n - Allowed in HTML forms\tNo\r\n\r\n\r\n----------\r\n\r\n\r\nImplicit HEAD support\r\n**From Spring&#39;s MVC doc:**\r\n\r\n&gt;  @RequestMapping methods mapped to &quot;GET&quot; are also implicitly mapped to\r\n&gt; &quot;HEAD&quot;, i.e. there is no need to have &quot;HEAD&quot; explicitly declared. An\r\n&gt; HTTP HEAD request is processed as if it were an HTTP GET except\r\n&gt; instead of writing the body only the number of bytes are counted and\r\n&gt; the &quot;Content-Length&quot; header set.\r\n\r\n\r\n**Check point :**\r\n*That means we never have to separately create a handler method for HTTP HEAD verb as spring implicitly supports that, given that GET verb is already defined for the target URL.*\r\n\r\n\r\n----------\r\n\r\n\r\n**Example**\r\n\r\n**The Controller**\r\n\r\nLet&#39;s create a very simple controller with a handler method populating some headers:\r\n\r\n    @Controller\r\n    public class MyController {\r\n        Logger logger = Logger.getLogger(MyController.class.getSimpleName());\r\n    \r\n        @RequestMapping(value = &quot;test&quot;, method = {RequestMethod.GET})\r\n        public HttpEntity&lt;String&gt; handleTestRequest () {\r\n    \r\n            MultiValueMap&lt;String, String&gt; headers = new HttpHeaders();\r\n            headers.put(&quot;test-header&quot;, Arrays.asList(&quot;test-header-value&quot;));\r\n    \r\n            HttpEntity&lt;String&gt; responseEntity = new HttpEntity&lt;&gt;(&quot;test body&quot;, headers);\r\n    \r\n    \r\n            logger.info(&quot;handler finished&quot;);\r\n            return responseEntity;\r\n        }\r\n    } \r\n\r\n\r\n**JUnit Tests**\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @ContextConfiguration(classes = MyWebConfig.class)\r\n    public class ControllerTest {\r\n    \r\n        @Autowired\r\n        private WebApplicationContext wac;\r\n    \r\n        private MockMvc mockMvc;\r\n    \r\n        @Before\r\n        public void setup () {\r\n            DefaultMockMvcBuilder builder = MockMvcBuilders.webAppContextSetup(this.wac);\r\n            this.mockMvc = builder.build();\r\n        }\r\n    \r\n        @Test\r\n        public void testGet () throws Exception {\r\n    \r\n            MockHttpServletRequestBuilder builder =\r\n                                MockMvcRequestBuilders.get(&quot;/test&quot;);\r\n    \r\n            this.mockMvc.perform(builder)\r\n                        .andExpect(MockMvcResultMatchers.status()\r\n                                                        .isOk())\r\n                        .andDo(MockMvcResultHandlers.print());\r\n        }\r\n    \r\n        @Test\r\n        public void testHead () throws Exception {\r\n    \r\n            MockHttpServletRequestBuilder builder =\r\n                                MockMvcRequestBuilders.head(&quot;/test&quot;);\r\n    \r\n            this.mockMvc.perform(builder)\r\n                        .andExpect(MockMvcResultMatchers.status()\r\n                                                        .isOk())\r\n                        .andDo(MockMvcResultHandlers.print());\r\n        }\r\n    }\r\n\r\n\r\n----------\r\nImplicit OPTIONS support\r\n**From Spring&#39;s MVC doc:**\r\n\r\n&gt;  @RequestMapping methods have built-in support for HTTP OPTIONS. By\r\n&gt; default an HTTP OPTIONS request is handled by setting the &quot;Allow&quot;\r\n&gt; response header to the HTTP methods explicitly declared on all\r\n&gt; @RequestMapping methods with matching URL patterns. When no HTTP\r\n&gt; methods are explicitly declared the &quot;Allow&quot; header is set to\r\n&gt; &quot;GET,HEAD,POST,PUT,PATCH,DELETE,OPTIONS&quot;\r\n\r\n**Check point :** *That means, we never have to separately create a handler method for HTTP OPTIONS verb as spring implicitly supports that, given that all handler methods explicitly specify the HTTP method with each @RequestMapping for the target URL.*\r\n\r\n\r\n----------\r\n**Example**\r\n\r\nLet&#39;s continue with the above example just add one more test for the HTTP OPTIONS verb:\r\n\r\n\r\n    @Test\r\n    public void testOptions () throws Exception {\r\n    \r\n        ResultMatcher accessHeader = MockMvcResultMatchers.header()\r\n                                                          .string(&quot;Allow&quot;, &quot;GET,HEAD&quot;);\r\n    \r\n        MockHttpServletRequestBuilder builder =\r\n                            MockMvcRequestBuilders.options(&quot;/test&quot;);\r\n    \r\n        this.mockMvc.perform(builder)\r\n                    .andExpect(MockMvcResultMatchers.status()\r\n                                                    .isOk())\r\n                    .andExpect(accessHeader)\r\n                    .andDo(MockMvcResultHandlers.print());\r\n    }\r\n\r\n","title":"Spring 4.3+ Override Default Behavior of @RequestParam for RequestMethod.HEAD Requests","body":"<blockquote>\n  <p>The HTTP HEAD method requests the headers that are returned if the\n  specified resource would be requested with an HTTP GET method. Such a\n  request can be done before deciding to download a large resource to\n  save bandwidth, for example.</p>\n  \n  <p>A response to a HEAD method should not have a body. If so, it must be\n  ignored. Even so, entity headers describing the content of the body,\n  like Content-Length may be included in the response. They don't relate\n  to the body of the HEAD response, which should be empty, but to the\n  body of similar request using the GET method would have returned as a\n  response.</p>\n  \n  <p>If the result of a HEAD request shows that a cached resource after a\n  GET request is now outdated, the cache is invalidated, even if no GET\n  request has been made.</p>\n</blockquote>\n\n<ul>\n<li>Request has body No</li>\n<li>Successful response has body No</li>\n<li>Safe Yes</li>\n<li>Idempotent   Yes</li>\n<li>Cacheable    Yes</li>\n<li>Allowed in HTML forms    No</li>\n</ul>\n\n<hr>\n\n<p>Implicit HEAD support\n<strong>From Spring's MVC doc:</strong></p>\n\n<blockquote>\n  <p>@RequestMapping methods mapped to \"GET\" are also implicitly mapped to\n  \"HEAD\", i.e. there is no need to have \"HEAD\" explicitly declared. An\n  HTTP HEAD request is processed as if it were an HTTP GET except\n  instead of writing the body only the number of bytes are counted and\n  the \"Content-Length\" header set.</p>\n</blockquote>\n\n<p><strong>Check point :</strong>\n<em>That means we never have to separately create a handler method for HTTP HEAD verb as spring implicitly supports that, given that GET verb is already defined for the target URL.</em></p>\n\n<hr>\n\n<p><strong>Example</strong></p>\n\n<p><strong>The Controller</strong></p>\n\n<p>Let's create a very simple controller with a handler method populating some headers:</p>\n\n<pre><code>@Controller\npublic class MyController {\n    Logger logger = Logger.getLogger(MyController.class.getSimpleName());\n\n    @RequestMapping(value = \"test\", method = {RequestMethod.GET})\n    public HttpEntity&lt;String&gt; handleTestRequest () {\n\n        MultiValueMap&lt;String, String&gt; headers = new HttpHeaders();\n        headers.put(\"test-header\", Arrays.asList(\"test-header-value\"));\n\n        HttpEntity&lt;String&gt; responseEntity = new HttpEntity&lt;&gt;(\"test body\", headers);\n\n\n        logger.info(\"handler finished\");\n        return responseEntity;\n    }\n} \n</code></pre>\n\n<p><strong>JUnit Tests</strong></p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(classes = MyWebConfig.class)\npublic class ControllerTest {\n\n    @Autowired\n    private WebApplicationContext wac;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup () {\n        DefaultMockMvcBuilder builder = MockMvcBuilders.webAppContextSetup(this.wac);\n        this.mockMvc = builder.build();\n    }\n\n    @Test\n    public void testGet () throws Exception {\n\n        MockHttpServletRequestBuilder builder =\n                            MockMvcRequestBuilders.get(\"/test\");\n\n        this.mockMvc.perform(builder)\n                    .andExpect(MockMvcResultMatchers.status()\n                                                    .isOk())\n                    .andDo(MockMvcResultHandlers.print());\n    }\n\n    @Test\n    public void testHead () throws Exception {\n\n        MockHttpServletRequestBuilder builder =\n                            MockMvcRequestBuilders.head(\"/test\");\n\n        this.mockMvc.perform(builder)\n                    .andExpect(MockMvcResultMatchers.status()\n                                                    .isOk())\n                    .andDo(MockMvcResultHandlers.print());\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Implicit OPTIONS support\n<strong>From Spring's MVC doc:</strong></p>\n\n<blockquote>\n  <p>@RequestMapping methods have built-in support for HTTP OPTIONS. By\n  default an HTTP OPTIONS request is handled by setting the \"Allow\"\n  response header to the HTTP methods explicitly declared on all\n  @RequestMapping methods with matching URL patterns. When no HTTP\n  methods are explicitly declared the \"Allow\" header is set to\n  \"GET,HEAD,POST,PUT,PATCH,DELETE,OPTIONS\"</p>\n</blockquote>\n\n<p><strong>Check point :</strong> <em>That means, we never have to separately create a handler method for HTTP OPTIONS verb as spring implicitly supports that, given that all handler methods explicitly specify the HTTP method with each @RequestMapping for the target URL.</em></p>\n\n<hr>\n\n<p><strong>Example</strong></p>\n\n<p>Let's continue with the above example just add one more test for the HTTP OPTIONS verb:</p>\n\n<pre><code>@Test\npublic void testOptions () throws Exception {\n\n    ResultMatcher accessHeader = MockMvcResultMatchers.header()\n                                                      .string(\"Allow\", \"GET,HEAD\");\n\n    MockHttpServletRequestBuilder builder =\n                        MockMvcRequestBuilders.options(\"/test\");\n\n    this.mockMvc.perform(builder)\n                .andExpect(MockMvcResultMatchers.status()\n                                                .isOk())\n                .andExpect(accessHeader)\n                .andDo(MockMvcResultHandlers.print());\n}\n</code></pre>\n"}],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1130,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674058203,"creation_date":1521756024,"question_id":49439161,"body_markdown":"TL:DR\r\n\r\nHow can we override the current behavior of Spring 4.3+ that forces the use of the RequestMethod.GET or @GetMapping for HEAD requests so we can return the Content-Length header without having to write all the data to the responses OutputStream?\r\n\r\n---\r\nLonger Version:\r\n\r\nIt has just come to my attention that Spring has changed the way that GET/HEAD requests are handled by default:\r\n\r\n&gt; **HTTP HEAD, OPTIONS**\r\n&gt; \r\n&gt; @GetMapping — and also @RequestMapping(method=HttpMethod.GET), support\r\n&gt; HTTP HEAD transparently for request mapping purposes. Controller\r\n&gt; methods don’t need to change. A response wrapper, applied in\r\n&gt; javax.servlet.http.HttpServlet, ensures a &quot;Content-Length&quot; header is\r\n&gt; set to the number of bytes written and without actually writing to the\r\n&gt; response.\r\n&gt; \r\n&gt; @GetMapping — and also @RequestMapping(method=HttpMethod.GET), are\r\n&gt; implicitly mapped to and also support HTTP HEAD. An HTTP HEAD request\r\n&gt; is processed as if it were HTTP GET except but instead of writing the\r\n&gt; body, the number of bytes are counted and the &quot;Content-Length&quot; header\r\n&gt; set.\r\n&gt; \r\n&gt; By default HTTP OPTIONS is handled by setting the &quot;Allow&quot; response\r\n&gt; header to the list of HTTP methods listed in all @RequestMapping\r\n&gt; methods with matching URL patterns.\r\n&gt; \r\n&gt; For a @RequestMapping without HTTP method declarations, the &quot;Allow&quot;\r\n&gt; header is set to &quot;GET,HEAD,POST,PUT,PATCH,DELETE,OPTIONS&quot;. Controller\r\n&gt; methods should always declare the supported HTTP methods for example\r\n&gt; by using the HTTP method specific variants — @GetMapping,\r\n&gt; @PostMapping, etc.\r\n&gt; \r\n&gt; @RequestMapping method can be explicitly mapped to HTTP HEAD and HTTP\r\n&gt; OPTIONS, but that is not necessary in the common case.\r\n\r\nSources:  \r\nhttp://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-head-options  \r\nhttps://stackoverflow.com/a/45412434/42962\r\n\r\n\r\nHow can we override this default behavior so we can handle the HEAD response and set the Content-Length header ourselves?\r\n\r\nWe want to do this because we serve large files (think over 10 gigs in size) through our web application we would like to not have to read all the bytes into the Response&#39;s OutputStream if possible.\r\n\r\nHere is an example of our current code.  Only the second method (handleRequest with the RequestMethod.GET) gets called.\r\n\r\n    @RequestMapping(value = &quot;/file/{fileName:.+}&quot;, method = RequestMethod.HEAD)\r\n    public void handleHeadRequest(@RequestParam(value = &quot;fileName&quot;) String fileName, HttpServletRequest request, HttpServletResponse response) {\r\n    \r\n        File file = fileRepository.getFileByName(fileName)\r\n        response.addHeader(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\r\n        response.addDateHeader(&quot;Last-Modified&quot;, file.lastModified());\r\n\r\n        Long fileSize = file.length();\r\n        response.addHeader(HttpHeaderConstants.CONTENT_LENGTH, fileSize.toString());\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/file/{fileName:.+}&quot;, headers = &quot;!Range&quot;, method = RequestMethod.GET)\r\n    public void handleRequest(@PathVariable(value = &quot;fileName&quot;) String fileName, HttpServletRequest request, HttpServletResponse response) throws Exception {\r\n\r\n        File file = fileRepository.getFileByName(fileName)\r\n        response.addHeader(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\r\n        response.addDateHeader(&quot;Last-Modified&quot;, file.lastModified());\r\n\r\n        Long fileSize = file.length();\r\n        response.addHeader(HttpHeaderConstants.CONTENT_LENGTH, fileSize.toString());\r\n\r\n        // Stream file to end user client.\r\n        fileDownloadHandler.handle(request, response, file);\r\n    }","title":"Spring 4.3+ Override Default Behavior of @RequestParam for RequestMethod.HEAD Requests","body":"<p>TL:DR</p>\n<p>How can we override the current behavior of Spring 4.3+ that forces the use of the RequestMethod.GET or @GetMapping for HEAD requests so we can return the Content-Length header without having to write all the data to the responses OutputStream?</p>\n<hr />\n<p>Longer Version:</p>\n<p>It has just come to my attention that Spring has changed the way that GET/HEAD requests are handled by default:</p>\n<blockquote>\n<p><strong>HTTP HEAD, OPTIONS</strong></p>\n<p>@GetMapping — and also @RequestMapping(method=HttpMethod.GET), support\nHTTP HEAD transparently for request mapping purposes. Controller\nmethods don’t need to change. A response wrapper, applied in\njavax.servlet.http.HttpServlet, ensures a &quot;Content-Length&quot; header is\nset to the number of bytes written and without actually writing to the\nresponse.</p>\n<p>@GetMapping — and also @RequestMapping(method=HttpMethod.GET), are\nimplicitly mapped to and also support HTTP HEAD. An HTTP HEAD request\nis processed as if it were HTTP GET except but instead of writing the\nbody, the number of bytes are counted and the &quot;Content-Length&quot; header\nset.</p>\n<p>By default HTTP OPTIONS is handled by setting the &quot;Allow&quot; response\nheader to the list of HTTP methods listed in all @RequestMapping\nmethods with matching URL patterns.</p>\n<p>For a @RequestMapping without HTTP method declarations, the &quot;Allow&quot;\nheader is set to &quot;GET,HEAD,POST,PUT,PATCH,DELETE,OPTIONS&quot;. Controller\nmethods should always declare the supported HTTP methods for example\nby using the HTTP method specific variants — @GetMapping,\n@PostMapping, etc.</p>\n<p>@RequestMapping method can be explicitly mapped to HTTP HEAD and HTTP\nOPTIONS, but that is not necessary in the common case.</p>\n</blockquote>\n<p>Sources:<br />\n<a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-head-options\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-head-options</a><br />\n<a href=\"https://stackoverflow.com/a/45412434/42962\">https://stackoverflow.com/a/45412434/42962</a></p>\n<p>How can we override this default behavior so we can handle the HEAD response and set the Content-Length header ourselves?</p>\n<p>We want to do this because we serve large files (think over 10 gigs in size) through our web application we would like to not have to read all the bytes into the Response's OutputStream if possible.</p>\n<p>Here is an example of our current code.  Only the second method (handleRequest with the RequestMethod.GET) gets called.</p>\n<pre><code>@RequestMapping(value = &quot;/file/{fileName:.+}&quot;, method = RequestMethod.HEAD)\npublic void handleHeadRequest(@RequestParam(value = &quot;fileName&quot;) String fileName, HttpServletRequest request, HttpServletResponse response) {\n\n    File file = fileRepository.getFileByName(fileName)\n    response.addHeader(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\n    response.addDateHeader(&quot;Last-Modified&quot;, file.lastModified());\n\n    Long fileSize = file.length();\n    response.addHeader(HttpHeaderConstants.CONTENT_LENGTH, fileSize.toString());\n}\n\n@RequestMapping(value = &quot;/file/{fileName:.+}&quot;, headers = &quot;!Range&quot;, method = RequestMethod.GET)\npublic void handleRequest(@PathVariable(value = &quot;fileName&quot;) String fileName, HttpServletRequest request, HttpServletResponse response) throws Exception {\n\n    File file = fileRepository.getFileByName(fileName)\n    response.addHeader(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\n    response.addDateHeader(&quot;Last-Modified&quot;, file.lastModified());\n\n    Long fileSize = file.length();\n    response.addHeader(HttpHeaderConstants.CONTENT_LENGTH, fileSize.toString());\n\n    // Stream file to end user client.\n    fileDownloadHandler.handle(request, response, file);\n}\n</code></pre>\n"},{"tags":["java","sql-server","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1674056071,"post_id":75161486,"comment_id":132634119,"body_markdown":"Take a look at the JavaDoc for [`executeBatch()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/Statement.html#executeBatch()), where it describes what each integer in that array (`affectedRecords`) represents: &quot;_an update count giving the number of rows in the database that were affected by the command&#39;s execution_&quot;. In other words, the total rows affected for _each separate command_ in the batch.","body":"Take a look at the JavaDoc for <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/Statement.html#executeBatch()\" rel=\"nofollow noreferrer\"><code>executeBatch()</code></a>, where it describes what each integer in that array (<code>affectedRecords</code>) represents: &quot;<i>an update count giving the number of rows in the database that were affected by the command&#39;s execution</i>&quot;. In other words, the total rows affected for <i>each separate command</i> in the batch."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674058006,"creation_date":1674056466,"answer_id":75161736,"question_id":75161486,"body_markdown":"That this returns an array with the number of items you added to the batch is absolutely the expected behaviour. `executeBatch()` returns an array with a value for each set of parameter values you added to the batch. Each item is the update count of that particular set of parameter values. If an item did not perform an update, you will get a value of `0`, or for some types of statements, the value of the constant `Statement.SUCCESS_NO_INFO` (`-2`).\r\n\r\nIf this were not the case, it would not be possible for code to correlate the update count with a particular set of parameter values. For example, if you execute a batch of 5 sets of parameter values, and only one had a non-zero update count, your idea would return the array `{ 1 }`, which makes it impossible to know what set of parameters had any effect. While with the JDBC defined way, it returns - for example - `{ 0, 0, 0, 1, 0 }`, and code can derive it was the fourth set of parameter values.\r\n\r\nAs documented in [`Statement.executeBatch()`][1]:\r\n\r\n&gt; Submits a batch of commands to the database for execution and if all\r\n&gt; commands execute successfully, returns an array of update counts. **The\r\n&gt; `int` elements of the array that is returned are ordered to correspond\r\n&gt; to the commands in the batch, which are ordered according to the order\r\n&gt; in which they were added to the batch.** The elements in the array\r\n&gt; returned by the method `executeBatch` may be one of the following:\r\n&gt; \r\n&gt; 1. A number greater than or equal to zero -- indicates that the command was processed successfully and is an update count giving the\r\n&gt; number of rows in the database that were affected by the command&#39;s\r\n&gt; execution\r\n&gt; \r\n&gt; 2. A value of `SUCCESS_NO_INFO` -- indicates that the command was processed successfully but that the number of rows affected is unknown\r\n&gt; \r\n&gt;    If one of the commands in a batch update fails to execute properly,\r\n&gt; this method throws a `BatchUpdateException`, and a JDBC driver may or\r\n&gt; may not continue to process the remaining commands in the batch.\r\n&gt; However, the driver&#39;s behavior must be consistent with a particular\r\n&gt; DBMS, either always continuing to process commands or never continuing\r\n&gt; to process commands. If the driver continues processing after a\r\n&gt; failure, the array returned by the method\r\n&gt; `BatchUpdateException.getUpdateCounts` will contain as many elements\r\n&gt; as there are commands in the batch, and at least one of the elements\r\n&gt; will be the following:\r\n&gt; \r\n&gt; 3. A value of `EXECUTE_FAILED` -- indicates that the command failed to execute successfully and occurs only if a driver continues to process\r\n&gt; commands after a command fails\r\n&gt; \r\n&gt; The possible implementations and return values have been modified in\r\n&gt; the Java 2 SDK, Standard Edition, version 1.3 to accommodate the\r\n&gt; option of continuing to process commands in a batch update after a\r\n&gt; `BatchUpdateException` object has been thrown.\r\n&gt;\r\n&gt; **Returns:** \\\r\n&gt; **an array of update counts containing one element for each command in\r\n&gt; the batch.** The elements of the array are ordered according to the\r\n&gt; order in which commands were added to the batch.\r\n\r\n(emphasis mine)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html#executeBatch()","title":"Should JDBC executeBatch() return an array with a length of the original batch even if there were no updates?","body":"<p>That this returns an array with the number of items you added to the batch is absolutely the expected behaviour. <code>executeBatch()</code> returns an array with a value for each set of parameter values you added to the batch. Each item is the update count of that particular set of parameter values. If an item did not perform an update, you will get a value of <code>0</code>, or for some types of statements, the value of the constant <code>Statement.SUCCESS_NO_INFO</code> (<code>-2</code>).</p>\n<p>If this were not the case, it would not be possible for code to correlate the update count with a particular set of parameter values. For example, if you execute a batch of 5 sets of parameter values, and only one had a non-zero update count, your idea would return the array <code>{ 1 }</code>, which makes it impossible to know what set of parameters had any effect. While with the JDBC defined way, it returns - for example - <code>{ 0, 0, 0, 1, 0 }</code>, and code can derive it was the fourth set of parameter values.</p>\n<p>As documented in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html#executeBatch()\" rel=\"nofollow noreferrer\"><code>Statement.executeBatch()</code></a>:</p>\n<blockquote>\n<p>Submits a batch of commands to the database for execution and if all\ncommands execute successfully, returns an array of update counts. <strong>The\n<code>int</code> elements of the array that is returned are ordered to correspond\nto the commands in the batch, which are ordered according to the order\nin which they were added to the batch.</strong> The elements in the array\nreturned by the method <code>executeBatch</code> may be one of the following:</p>\n<ol>\n<li><p>A number greater than or equal to zero -- indicates that the command was processed successfully and is an update count giving the\nnumber of rows in the database that were affected by the command's\nexecution</p>\n</li>\n<li><p>A value of <code>SUCCESS_NO_INFO</code> -- indicates that the command was processed successfully but that the number of rows affected is unknown</p>\n<p>If one of the commands in a batch update fails to execute properly,\nthis method throws a <code>BatchUpdateException</code>, and a JDBC driver may or\nmay not continue to process the remaining commands in the batch.\nHowever, the driver's behavior must be consistent with a particular\nDBMS, either always continuing to process commands or never continuing\nto process commands. If the driver continues processing after a\nfailure, the array returned by the method\n<code>BatchUpdateException.getUpdateCounts</code> will contain as many elements\nas there are commands in the batch, and at least one of the elements\nwill be the following:</p>\n</li>\n<li><p>A value of <code>EXECUTE_FAILED</code> -- indicates that the command failed to execute successfully and occurs only if a driver continues to process\ncommands after a command fails</p>\n</li>\n</ol>\n<p>The possible implementations and return values have been modified in\nthe Java 2 SDK, Standard Edition, version 1.3 to accommodate the\noption of continuing to process commands in a batch update after a\n<code>BatchUpdateException</code> object has been thrown.</p>\n<p><strong>Returns:</strong> <br />\n<strong>an array of update counts containing one element for each command in\nthe batch.</strong> The elements of the array are ordered according to the\norder in which commands were added to the batch.</p>\n</blockquote>\n<p>(emphasis mine)</p>\n"}],"owner":{"account_id":14711026,"reputation":633,"user_id":10624378,"display_name":"CoderJammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75161736,"answer_count":1,"score":1,"last_activity_date":1674058029,"creation_date":1674055374,"question_id":75161486,"body_markdown":"I have a simple Java 8 project to update a SQL Server DB table starting by a list of DTO I created.\r\n\r\nThe DTO obviously reflect the column of the table I want to update, suppose it&#39;s similar to the follows:\r\n\r\n    public class TableToUpdate {\r\n       private int id;\r\n       private String name;\r\n\r\n       // getter and setter  \r\n    }\r\n\r\nNow I have this simple code:\r\n\r\n    .....\r\n    List&lt;TableToUpdate&gt; list = loadList(); // suppose the list contain tot element\r\n    Connection conn = DriverManager...  // retrieve connection correctly\r\n    String sql = &quot;update table set name = ? where id = ?&quot;;\r\n    PreparedStatement preparedStatement = conn.prepareStatement(sql);\r\n    \r\n    for (TableToUpdate t : list) {\r\n      preparedStatement.setString(1, t.getName());\r\n      preparedStatement.setInt(2, t.getId());\r\n      preparedStatement.addBatch();\r\n    }\r\n\r\nNow with the code above I want to update the column *name* of *table* when column *id* is equals to the *id* passed by DTO in the batch.\r\n\r\nI execute the batch by following command:\r\n\r\n    int[] affectedRecords = preparedStatement.executeBatch();\r\n\r\nNow, suppose the batch doesn&#39;t find any match to update, I would expect an array of 0 elements. Instead `affectedRecords` length is equals to the number of queries in the batch and the element are all equals to 0.\r\n\r\nFor example:\r\n\r\nIf the size of the TableToUpdate list is 500 and no DTO `id` match *table* `id`, the `affectedRecords` will contain an array of 500 elements, all equals to 0.\r\n\r\nIt is the correct behavior? Did I make some mistake?","title":"Should JDBC executeBatch() return an array with a length of the original batch even if there were no updates?","body":"<p>I have a simple Java 8 project to update a SQL Server DB table starting by a list of DTO I created.</p>\n<p>The DTO obviously reflect the column of the table I want to update, suppose it's similar to the follows:</p>\n<pre><code>public class TableToUpdate {\n   private int id;\n   private String name;\n\n   // getter and setter  \n}\n</code></pre>\n<p>Now I have this simple code:</p>\n<pre><code>.....\nList&lt;TableToUpdate&gt; list = loadList(); // suppose the list contain tot element\nConnection conn = DriverManager...  // retrieve connection correctly\nString sql = &quot;update table set name = ? where id = ?&quot;;\nPreparedStatement preparedStatement = conn.prepareStatement(sql);\n\nfor (TableToUpdate t : list) {\n  preparedStatement.setString(1, t.getName());\n  preparedStatement.setInt(2, t.getId());\n  preparedStatement.addBatch();\n}\n</code></pre>\n<p>Now with the code above I want to update the column <em>name</em> of <em>table</em> when column <em>id</em> is equals to the <em>id</em> passed by DTO in the batch.</p>\n<p>I execute the batch by following command:</p>\n<pre><code>int[] affectedRecords = preparedStatement.executeBatch();\n</code></pre>\n<p>Now, suppose the batch doesn't find any match to update, I would expect an array of 0 elements. Instead <code>affectedRecords</code> length is equals to the number of queries in the batch and the element are all equals to 0.</p>\n<p>For example:</p>\n<p>If the size of the TableToUpdate list is 500 and no DTO <code>id</code> match <em>table</em> <code>id</code>, the <code>affectedRecords</code> will contain an array of 500 elements, all equals to 0.</p>\n<p>It is the correct behavior? Did I make some mistake?</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":1,"creation_date":1340893766,"post_id":11246748,"comment_id":14779342,"body_markdown":"have you read http://stackoverflow.com/questions/6371092/can-not-find-a-map-key-deserializer-for-type-simple-type-class-com-comcast-i ?  His case looks quite similar to yours at first sight.","body":"have you read <a href=\"http://stackoverflow.com/questions/6371092/can-not-find-a-map-key-deserializer-for-type-simple-type-class-com-comcast-i\" title=\"can not find a map key deserializer for type simple type class com comcast i\">stackoverflow.com/questions/6371092/&hellip;</a> ?  His case looks quite similar to yours at first sight."},{"owner":{"account_id":476302,"reputation":15377,"user_id":887128,"accept_rate":83,"display_name":"Max"},"score":1,"creation_date":1340894012,"post_id":11246748,"comment_id":14779465,"body_markdown":"Yes I have read that, but I didn&#39;t actually find an answer to the question in there. How can I use a module to solve this problem?","body":"Yes I have read that, but I didn&#39;t actually find an answer to the question in there. How can I use a module to solve this problem?"},{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":0,"creation_date":1520773061,"post_id":11246748,"comment_id":85444028,"body_markdown":"Is `Verb` a POJO?","body":"Is <code>Verb</code> a POJO?"}],"answers":[{"tags":[],"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1521803967,"creation_date":1340894517,"answer_id":11247117,"question_id":11246748,"body_markdown":"Building on the [answer given here][1] that suggests to implement a Module with a deserializer.  The [JodaTime Module][2] is an easy to understand full example of a module containing serializers and deserializers.\r\n\r\nPlease note that the Module feature was introduced in Jackson version 1.7 so you might need to upgrade.\r\n\r\nSo step by step:\r\n\r\n 1. create a module containing a (de)serializer for your class based on the Joda example\r\n 2. register that module with `mapper.registerModule(module);`\r\n\r\nand you&#39;ll be all set\r\n\r\n  [1]: https://stackoverflow.com/questions/6371092/can-not-find-a-map-key-deserializer-for-type-simple-type-class-com-comcast-i\r\n  [2]: https://github.com/FasterXML/jackson-datatype-joda","title":"Deserializing non-string map keys with Jackson","body":"<p>Building on the <a href=\"https://stackoverflow.com/questions/6371092/can-not-find-a-map-key-deserializer-for-type-simple-type-class-com-comcast-i\">answer given here</a> that suggests to implement a Module with a deserializer.  The <a href=\"https://github.com/FasterXML/jackson-datatype-joda\" rel=\"nofollow noreferrer\">JodaTime Module</a> is an easy to understand full example of a module containing serializers and deserializers.</p>\n\n<p>Please note that the Module feature was introduced in Jackson version 1.7 so you might need to upgrade.</p>\n\n<p>So step by step:</p>\n\n<ol>\n<li>create a module containing a (de)serializer for your class based on the Joda example</li>\n<li>register that module with <code>mapper.registerModule(module);</code></li>\n</ol>\n\n<p>and you'll be all set</p>\n"},{"tags":[],"owner":{"account_id":5347973,"reputation":131,"user_id":4262962,"display_name":"jdt"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1416259069,"creation_date":1416259069,"answer_id":26982142,"question_id":11246748,"body_markdown":"As mentioned above the trick is that you need a **key** deserializer (this caught me out as well). In my case a non-String map key was configured on my class but it wasn&#39;t in the JSON I was parsing so an extremely simple solution worked for me (simply returning null in the key deserializer).\r\n\r\n    public class ExampleClassKeyDeserializer extends KeyDeserializer\r\n    {\r\n        @Override\r\n        public Object deserializeKey( final String key,\r\n                                      final DeserializationContext ctxt )\r\n           throws IOException, JsonProcessingException\r\n        {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public class ExampleJacksonModule extends SimpleModule\r\n    {\r\n        public ExampleJacksonModule()\r\n        {\r\n            addKeyDeserializer(\r\n                ExampleClass.class,\r\n                new ExampleClassKeyDeserializer() );\r\n        }\r\n    }\r\n    \r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule( new ExampleJacksonModule() );","title":"Deserializing non-string map keys with Jackson","body":"<p>As mentioned above the trick is that you need a <strong>key</strong> deserializer (this caught me out as well). In my case a non-String map key was configured on my class but it wasn't in the JSON I was parsing so an extremely simple solution worked for me (simply returning null in the key deserializer).</p>\n\n<pre><code>public class ExampleClassKeyDeserializer extends KeyDeserializer\n{\n    @Override\n    public Object deserializeKey( final String key,\n                                  final DeserializationContext ctxt )\n       throws IOException, JsonProcessingException\n    {\n        return null;\n    }\n}\n\npublic class ExampleJacksonModule extends SimpleModule\n{\n    public ExampleJacksonModule()\n    {\n        addKeyDeserializer(\n            ExampleClass.class,\n            new ExampleClassKeyDeserializer() );\n    }\n}\n\nfinal ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule( new ExampleJacksonModule() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4745431,"reputation":4919,"user_id":3836923,"accept_rate":81,"display_name":"Japheth Ongeri - inkalimeva"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1467892062,"creation_date":1467892062,"answer_id":38244686,"question_id":11246748,"body_markdown":"After a day of searching, I came across a simpler way of doing it based on [this question][1]. The solution was to add the `@JsonDeserialize(keyUsing = YourCustomDeserializer.class)` annotation to the map. Then implement your custom deserializer by extending `KeyDeserializer` and override the `deserializeKey` method. The method will be called with the string key and you can use the string to build the real object, or even fetch an existing one from the database. \r\n\r\nSo first in the map declaration:\r\n\r\n    @JsonDeserialize(keyUsing = MyCustomDeserializer.class)\r\n    private Map&lt;Verb, List&lt;Verb&gt;&gt; similarVerbs;\r\n\r\nThen create the deserializer that will be called with the string key.\r\n\r\n    public class MyCustomDeserializer extends KeyDeserializer {\r\n        @Override\r\n        public MyMapKey deserializeKey(String key, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n            //Use the string key here to return a real map key object\r\n            return mapKey;\r\n        }\r\n    }\r\n\r\n Works with Jersey and Jackson 2.x\r\n\r\n  [1]: https://stackoverflow.com/q/33724568/3836923","title":"Deserializing non-string map keys with Jackson","body":"<p>After a day of searching, I came across a simpler way of doing it based on <a href=\"https://stackoverflow.com/q/33724568/3836923\">this question</a>. The solution was to add the <code>@JsonDeserialize(keyUsing = YourCustomDeserializer.class)</code> annotation to the map. Then implement your custom deserializer by extending <code>KeyDeserializer</code> and override the <code>deserializeKey</code> method. The method will be called with the string key and you can use the string to build the real object, or even fetch an existing one from the database. </p>\n\n<p>So first in the map declaration:</p>\n\n<pre><code>@JsonDeserialize(keyUsing = MyCustomDeserializer.class)\nprivate Map&lt;Verb, List&lt;Verb&gt;&gt; similarVerbs;\n</code></pre>\n\n<p>Then create the deserializer that will be called with the string key.</p>\n\n<pre><code>public class MyCustomDeserializer extends KeyDeserializer {\n    @Override\n    public MyMapKey deserializeKey(String key, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        //Use the string key here to return a real map key object\n        return mapKey;\n    }\n}\n</code></pre>\n\n<p>Works with Jersey and Jackson 2.x</p>\n"},{"tags":[],"owner":{"account_id":12788,"reputation":302,"user_id":25350,"accept_rate":80,"display_name":"JasonB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633717009,"creation_date":1633717009,"answer_id":69500158,"question_id":11246748,"body_markdown":"After scouring the web, I think I have a decent solution for how to handle POJO-style keys (although, as always, you are best served not using a full object as a map key).\r\n\r\nSerializer (registered as a Jackson module, inside of Spring Boot):\r\n\r\n    @Bean\r\n    fun addKeySerializer(): Module =\r\n        SimpleModule().addKeySerializer(YourClass::class.java, YourClassSerializer())\r\n\r\n    class YourClassSerializer() : JsonSerializer&lt;YourClass&gt;() {\r\n        override fun serialize(value: DataElement, gen: JsonGenerator, serializers: SerializerProvider) {\r\n            gen.writeFieldName(jacksonObjectMapper().writeValueAsString(value))\r\n        }\r\n    }\r\n(note that, in a standard Java environment, you will have to instantiate your own `objectMapper` instance here)\r\n\r\nDeserializer:\r\n\r\n    @Bean\r\n    fun addKeyDeserializer(): Module =\r\n        SimpleModule().addKeyDeserializer(YourClass::class.java, YourClassDeserializer())\r\n\r\n    class YourClassDeserializer() : KeyDeserializer() {\r\n        override fun deserializeKey(key: String, ctxt: DeserializationContext): YourClass? {\r\n            return ctxt.parser.readValueAs(YourClass::class.java)\r\n        }\r\n    }","title":"Deserializing non-string map keys with Jackson","body":"<p>After scouring the web, I think I have a decent solution for how to handle POJO-style keys (although, as always, you are best served not using a full object as a map key).</p>\n<p>Serializer (registered as a Jackson module, inside of Spring Boot):</p>\n<pre><code>@Bean\nfun addKeySerializer(): Module =\n    SimpleModule().addKeySerializer(YourClass::class.java, YourClassSerializer())\n\nclass YourClassSerializer() : JsonSerializer&lt;YourClass&gt;() {\n    override fun serialize(value: DataElement, gen: JsonGenerator, serializers: SerializerProvider) {\n        gen.writeFieldName(jacksonObjectMapper().writeValueAsString(value))\n    }\n}\n</code></pre>\n<p>(note that, in a standard Java environment, you will have to instantiate your own <code>objectMapper</code> instance here)</p>\n<p>Deserializer:</p>\n<pre><code>@Bean\nfun addKeyDeserializer(): Module =\n    SimpleModule().addKeyDeserializer(YourClass::class.java, YourClassDeserializer())\n\nclass YourClassDeserializer() : KeyDeserializer() {\n    override fun deserializeKey(key: String, ctxt: DeserializationContext): YourClass? {\n        return ctxt.parser.readValueAs(YourClass::class.java)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17976446,"reputation":111,"user_id":13063887,"display_name":"light"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674057422,"creation_date":1662361022,"answer_id":73605546,"question_id":11246748,"body_markdown":"Assuming we have a Map property, like the following:\r\n\r\n```java\r\nclass MyDTO{\r\n    @JsonSerialize(keyUsing = MyObjectKeySerializer.class)\r\n    @JsonDeserialize(keyUsing = MyObjectKeyDeserilazer.class)\r\n    private Map&lt;MyObjectKey , List&lt;?&gt;&gt; map;\r\n}\r\n```\r\n\r\nWe serilize the MyObjectKey  as a json string, while call objectMapper.writeAsString；\r\nAnd deserilize from the json string,to MyObjectKey\r\n\r\n\r\n\r\n\r\n```java\r\n    public class MyObjectKeySerializer extends StdSerializer&lt;MyObjectKey&gt; {\r\n\r\n        public Serializer() {\r\n            super(MyObjectKey.class);\r\n        }\r\n\r\n        @Override\r\n        public void serialize(MyObjectKey value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n            gen.writeFieldName(JsonUtil.toJSONString(value));\r\n        }\r\n    }\r\n\r\n    public class MyObjectKeyDeserializer extends KeyDeserializer {\r\n        @Override\r\n        public Object deserializeKey(String key, DeserializationContext ctxt) throws IOException {\r\n            return JsonUtil.toObject(key, MyObjectKey.class);\r\n        }\r\n    }\r\n```","title":"Deserializing non-string map keys with Jackson","body":"<p>Assuming we have a Map property, like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyDTO{\n    @JsonSerialize(keyUsing = MyObjectKeySerializer.class)\n    @JsonDeserialize(keyUsing = MyObjectKeyDeserilazer.class)\n    private Map&lt;MyObjectKey , List&lt;?&gt;&gt; map;\n}\n</code></pre>\n<p>We serilize the MyObjectKey  as a json string, while call objectMapper.writeAsString；\nAnd deserilize from the json string,to MyObjectKey</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class MyObjectKeySerializer extends StdSerializer&lt;MyObjectKey&gt; {\n\n        public Serializer() {\n            super(MyObjectKey.class);\n        }\n\n        @Override\n        public void serialize(MyObjectKey value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n            gen.writeFieldName(JsonUtil.toJSONString(value));\n        }\n    }\n\n    public class MyObjectKeyDeserializer extends KeyDeserializer {\n        @Override\n        public Object deserializeKey(String key, DeserializationContext ctxt) throws IOException {\n            return JsonUtil.toObject(key, MyObjectKey.class);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":476302,"reputation":15377,"user_id":887128,"accept_rate":83,"display_name":"Max"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46782,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":11247117,"answer_count":5,"score":30,"last_activity_date":1674057422,"creation_date":1340893296,"question_id":11246748,"body_markdown":"I have a a map that looks like this:\r\n\r\n    public class VerbResult {\r\n        @JsonProperty(&quot;similarVerbs&quot;)\r\n        private Map&lt;Verb, List&lt;Verb&gt;&gt; similarVerbs;\r\n    }\r\n\r\nMy verb class looks like this:\r\n\r\n    public class Verb extends Word {\r\n        @JsonCreator\r\n        public Verb(@JsonProperty(&quot;start&quot;) int start, @JsonProperty(&quot;length&quot;) int length,\r\n                @JsonProperty(&quot;type&quot;) String type, @JsonProperty(&quot;value&quot;) VerbInfo value) {\r\n            super(length, length, type, value);\r\n        }\r\n        //...\r\n    }\r\n\r\nI want to serialize and deserialize instances of my VerbResult class, but when I do I get this error: `Can not find a (Map) Key deserializer for type [simple type, class my.package.Verb]`\r\n\r\nI read online that you need to tell Jackson how to deserialize map keys, but I didn&#39;t find any information explaining how to go about doing this. The verb class needs to be serialized and deserialzed outside of the map as well, so any solution should preserve this functionality.\r\n\r\nThank you for your help. ","title":"Deserializing non-string map keys with Jackson","body":"<p>I have a a map that looks like this:</p>\n<pre><code>public class VerbResult {\n    @JsonProperty(&quot;similarVerbs&quot;)\n    private Map&lt;Verb, List&lt;Verb&gt;&gt; similarVerbs;\n}\n</code></pre>\n<p>My verb class looks like this:</p>\n<pre><code>public class Verb extends Word {\n    @JsonCreator\n    public Verb(@JsonProperty(&quot;start&quot;) int start, @JsonProperty(&quot;length&quot;) int length,\n            @JsonProperty(&quot;type&quot;) String type, @JsonProperty(&quot;value&quot;) VerbInfo value) {\n        super(length, length, type, value);\n    }\n    //...\n}\n</code></pre>\n<p>I want to serialize and deserialize instances of my VerbResult class, but when I do I get this error: <code>Can not find a (Map) Key deserializer for type [simple type, class my.package.Verb]</code></p>\n<p>I read online that you need to tell Jackson how to deserialize map keys, but I didn't find any information explaining how to go about doing this. The verb class needs to be serialized and deserialzed outside of the map as well, so any solution should preserve this functionality.</p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","javafx","module"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1660157023,"post_id":73306733,"comment_id":129468996,"body_markdown":"What is `javafx.ProgramJavaFX11`? It&#39;s certainly not a library class, and if it&#39;s a class you&#39;ve written, it shouldn&#39;t be in a package called `javafx`. I&#39;ve never used reflection on modules like this, so I don&#39;t really follow all the code here, but it looks like you&#39;re trying to engineer a single `ClassLoader` that loads both your own classes and the classes in the `javafx` modules. I can see that `ClassLoader` getting very confused if you have a package of your own called `javafx`.","body":"What is <code>javafx.ProgramJavaFX11</code>? It&#39;s certainly not a library class, and if it&#39;s a class you&#39;ve written, it shouldn&#39;t be in a package called <code>javafx</code>. I&#39;ve never used reflection on modules like this, so I don&#39;t really follow all the code here, but it looks like you&#39;re trying to engineer a single <code>ClassLoader</code> that loads both your own classes and the classes in the <code>javafx</code> modules. I can see that <code>ClassLoader</code> getting very confused if you have a package of your own called <code>javafx</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1660188730,"post_id":73306733,"comment_id":129475553,"body_markdown":"Could you provide a [mre] (that includes the code you&#39;re trying to programmatically load)? Is your JAR an explicit module, or is it an automatic module? If the latter, have you tried putting JavaFX in its own `ModuleLayer` (as you&#39;re doing currently) but then load your JAR with a `URLClassLoader`? Also, you don&#39;t need a `Path` for each individual JAR file. The `ModuleFinder` will search a directory for any modules (exploded or otherwise). In other words, you only need a `Path` for the JavaFX `lib` directory (and any other locations, of course).","body":"Could you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (that includes the code you&#39;re trying to programmatically load)? Is your JAR an explicit module, or is it an automatic module? If the latter, have you tried putting JavaFX in its own <code>ModuleLayer</code> (as you&#39;re doing currently) but then load your JAR with a <code>URLClassLoader</code>? Also, you don&#39;t need a <code>Path</code> for each individual JAR file. The <code>ModuleFinder</code> will search a directory for any modules (exploded or otherwise). In other words, you only need a <code>Path</code> for the JavaFX <code>lib</code> directory (and any other locations, of course)."},{"owner":{"account_id":5938676,"reputation":17,"user_id":4670756,"display_name":"RobertMichalovicCZ"},"score":0,"creation_date":1660203616,"post_id":73306733,"comment_id":129478657,"body_markdown":"2 James_D &gt; javafx.ProgramJavaFX11 is package and runnable class in ProgramJavaFX11.jar what have i create. And this runnable jar work correctly. I dont want create my own Classloader i want use default classloader in JVM. Ok I will try in this runnable jar change package &quot;javafx&quot; on any else and I will tell if the result is different","body":"2 James_D &gt; javafx.ProgramJavaFX11 is package and runnable class in ProgramJavaFX11.jar what have i create. And this runnable jar work correctly. I dont want create my own Classloader i want use default classloader in JVM. Ok I will try in this runnable jar change package &quot;javafx&quot; on any else and I will tell if the result is different"},{"owner":{"account_id":5938676,"reputation":17,"user_id":4670756,"display_name":"RobertMichalovicCZ"},"score":0,"creation_date":1660208399,"post_id":73306733,"comment_id":129480273,"body_markdown":"2Slaw&gt; Of course, its automatic module. I have add information about runnable jar what i want to run. Right now I&#39;m trying your idea of loading the runnable.jar with the URLClassloader, and using this loader in ModuleLayer and to get Class&lt;?&gt; javaFXClass and code crash on the same line with other exception Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx/application/Application","body":"2Slaw&gt; Of course, its automatic module. I have add information about runnable jar what i want to run. Right now I&#39;m trying your idea of loading the runnable.jar with the URLClassloader, and using this loader in ModuleLayer and to get Class&lt;?&gt; javaFXClass and code crash on the same line with other exception Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx/application/Application"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1660220832,"post_id":73306733,"comment_id":129484620,"body_markdown":"I don&#39;t understand why you are trying to do this.  At the end of the question, you mention you have a way to run the program that works.  Why are you trying to run it another way, which does not work?","body":"I don&#39;t understand why you are trying to do this.  At the end of the question, you mention you have a way to run the program that works.  Why are you trying to run it another way, which does not work?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1660225282,"post_id":73306733,"comment_id":129486384,"body_markdown":"By the way, you should prefix a username with the `@` symbol to ping said user when replying to their comments (e.g., @RobertMichalovicCZ). See [How do comment @replies work?](https://meta.stackexchange.com/questions/43019/how-do-comment-replies-work) for more details.","body":"By the way, you should prefix a username with the <code>@</code> symbol to ping said user when replying to their comments (e.g., @RobertMichalovicCZ). See <a href=\"https://meta.stackexchange.com/questions/43019/how-do-comment-replies-work\">How do comment @replies work?</a> for more details."},{"owner":{"account_id":5938676,"reputation":17,"user_id":4670756,"display_name":"RobertMichalovicCZ"},"score":0,"creation_date":1660286398,"post_id":73306733,"comment_id":129501073,"body_markdown":"jewelsea&gt; Its not problem start JavaFX project from command line. I want start it programatically without command line.  I want only create simple project which will start JavaFX project(or similar modules project) without command line as runnable jar. Thats the point.","body":"jewelsea&gt; Its not problem start JavaFX project from command line. I want start it programatically without command line.  I want only create simple project which will start JavaFX project(or similar modules project) without command line as runnable jar. Thats the point."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660224761,"creation_date":1660224310,"answer_id":73321473,"question_id":73306733,"body_markdown":"I&#39;m not positive why you&#39;re getting a `ClassNotFoundException`. However, here is an example application that loads its own JavaFX `ModuleLayer` and creates a `URLClassLoader` for the &quot;real&quot; application JAR file.\r\n\r\n```lang-java\r\nimport java.lang.module.ModuleFinder;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLClassLoader;\r\nimport java.nio.file.Path;\r\nimport java.util.Set;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    if (ModuleLayer.boot().findModule(&quot;javafx.graphics&quot;).isPresent()) {\r\n      throw new IllegalStateException(&quot;Using Java run-time that includes JavaFX&quot;);\r\n    }\r\n\r\n    var fxLayer = createJavaFXModuleLayer(Path.of(args[0]));\r\n    var appLoader = createAppClassLoader(Path.of(args[1]), fxLayer.findLoader(&quot;javafx.graphics&quot;));\r\n    launchApp(fxLayer, appLoader, args[2]);\r\n  }\r\n\r\n  private static ModuleLayer createJavaFXModuleLayer(Path javafxLib) {\r\n    System.out.printf(&quot;JavaFX SDK: %s%n&quot;, javafxLib.toAbsolutePath().normalize());\r\n\r\n    var finder = ModuleFinder.of(javafxLib);\r\n    var parentLayer = ModuleLayer.boot();\r\n    var parentConfig = parentLayer.configuration();\r\n\r\n    var fxConfig = parentConfig.resolveAndBind(finder, ModuleFinder.of(), Set.of(&quot;javafx.controls&quot;));\r\n    return parentLayer.defineModulesWithOneLoader(fxConfig, parentLayer.findLoader(&quot;java.base&quot;));\r\n  }\r\n\r\n  private static URLClassLoader createAppClassLoader(Path jarFile, ClassLoader parent) throws MalformedURLException {\r\n    System.out.printf(&quot;Application JAR file: %s%n&quot;, jarFile.toAbsolutePath().normalize());\r\n\r\n    var url = jarFile.toUri().toURL();\r\n    return new URLClassLoader(&quot;user-app&quot;, new URL[] { url }, parent);\r\n  }\r\n\r\n  private static void launchApp(ModuleLayer fxLayer, ClassLoader appLoader, String mainClassName)\r\n      throws ReflectiveOperationException {\r\n    System.out.printf(&quot;Main class: %s%n&quot;, mainClassName);\r\n\r\n    var graphicsMod = fxLayer.findModule(&quot;javafx.graphics&quot;).orElseThrow();\r\n    var appClass = Class.forName(graphicsMod, &quot;javafx.application.Application&quot;);\r\n    var mainClass = Class.forName(mainClassName, false, appLoader);\r\n\r\n    if (!appClass.isAssignableFrom(mainClass)) {\r\n      throw new IllegalArgumentException(&quot;Main class is not a subclass of javafx.application.Application&quot;);\r\n    }\r\n\r\n    var launch = appClass.getMethod(&quot;launch&quot;, Class.class, String[].class);\r\n    launch.invoke(null, mainClass, new String[] {});\r\n  }\r\n}\r\n```\r\n\r\nWhichever way you decide to run the above, it accepts three arguments:\r\n\r\n1. A path, relative or absolute, to the JavaFX SDK (the `lib` directory).\r\n2. A path, relative or absolute, to the JAR file containing the &quot;real&quot; application.\r\n3. The name of the main class packaged in the JAR file specified by argument 2.\r\n\r\nSome notes:\r\n\r\n* The above will crash if it detects JavaFX is in the boot layer, so as to avoid having JavaFX modules in two different layers. You could always modify it to use the boot layer in that case, instead of creating your own layer.\r\n\r\n* The above only specifies the `javafx.controls` module as a root module. If you run into a problem due to a missing module, update the line where I create the `fxConfig` configuration and add more root modules (the `Set.of(&quot;javafx.controls&quot;)` argument).\r\n\r\n* The above expects the main class to be a subclass of `javafx.application.Application`. It will fail otherwise.\r\n* Take note of the parent relationships between `ClassLoader`s, particularly the one created in the `createAppClassLoader` method. That class loader needs to be able to find the JavaFX classes, which is why a loader from the JavaFX layer is used as the parent.\r\n\r\n* If your JAR file becomes modular, you can forgo the `URLClassLoader` and just add your JAR file to the JavaFX `ModuleLayer`. You can technically do the same for automatic modules, but in that case the above approach seemed easier.\r\n\r\n* The third command-line argument could be omitted if you&#39;re willing to modify the code and inspect the JAR file&#39;s manifest to get the main class, assuming the main class attribute is present.","title":"JavaFX module programmatically loading","body":"<p>I'm not positive why you're getting a <code>ClassNotFoundException</code>. However, here is an example application that loads its own JavaFX <code>ModuleLayer</code> and creates a <code>URLClassLoader</code> for the &quot;real&quot; application JAR file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.module.ModuleFinder;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.nio.file.Path;\nimport java.util.Set;\n\npublic class Main {\n\n  public static void main(String[] args) throws Exception {\n    if (ModuleLayer.boot().findModule(&quot;javafx.graphics&quot;).isPresent()) {\n      throw new IllegalStateException(&quot;Using Java run-time that includes JavaFX&quot;);\n    }\n\n    var fxLayer = createJavaFXModuleLayer(Path.of(args[0]));\n    var appLoader = createAppClassLoader(Path.of(args[1]), fxLayer.findLoader(&quot;javafx.graphics&quot;));\n    launchApp(fxLayer, appLoader, args[2]);\n  }\n\n  private static ModuleLayer createJavaFXModuleLayer(Path javafxLib) {\n    System.out.printf(&quot;JavaFX SDK: %s%n&quot;, javafxLib.toAbsolutePath().normalize());\n\n    var finder = ModuleFinder.of(javafxLib);\n    var parentLayer = ModuleLayer.boot();\n    var parentConfig = parentLayer.configuration();\n\n    var fxConfig = parentConfig.resolveAndBind(finder, ModuleFinder.of(), Set.of(&quot;javafx.controls&quot;));\n    return parentLayer.defineModulesWithOneLoader(fxConfig, parentLayer.findLoader(&quot;java.base&quot;));\n  }\n\n  private static URLClassLoader createAppClassLoader(Path jarFile, ClassLoader parent) throws MalformedURLException {\n    System.out.printf(&quot;Application JAR file: %s%n&quot;, jarFile.toAbsolutePath().normalize());\n\n    var url = jarFile.toUri().toURL();\n    return new URLClassLoader(&quot;user-app&quot;, new URL[] { url }, parent);\n  }\n\n  private static void launchApp(ModuleLayer fxLayer, ClassLoader appLoader, String mainClassName)\n      throws ReflectiveOperationException {\n    System.out.printf(&quot;Main class: %s%n&quot;, mainClassName);\n\n    var graphicsMod = fxLayer.findModule(&quot;javafx.graphics&quot;).orElseThrow();\n    var appClass = Class.forName(graphicsMod, &quot;javafx.application.Application&quot;);\n    var mainClass = Class.forName(mainClassName, false, appLoader);\n\n    if (!appClass.isAssignableFrom(mainClass)) {\n      throw new IllegalArgumentException(&quot;Main class is not a subclass of javafx.application.Application&quot;);\n    }\n\n    var launch = appClass.getMethod(&quot;launch&quot;, Class.class, String[].class);\n    launch.invoke(null, mainClass, new String[] {});\n  }\n}\n</code></pre>\n<p>Whichever way you decide to run the above, it accepts three arguments:</p>\n<ol>\n<li>A path, relative or absolute, to the JavaFX SDK (the <code>lib</code> directory).</li>\n<li>A path, relative or absolute, to the JAR file containing the &quot;real&quot; application.</li>\n<li>The name of the main class packaged in the JAR file specified by argument 2.</li>\n</ol>\n<p>Some notes:</p>\n<ul>\n<li><p>The above will crash if it detects JavaFX is in the boot layer, so as to avoid having JavaFX modules in two different layers. You could always modify it to use the boot layer in that case, instead of creating your own layer.</p>\n</li>\n<li><p>The above only specifies the <code>javafx.controls</code> module as a root module. If you run into a problem due to a missing module, update the line where I create the <code>fxConfig</code> configuration and add more root modules (the <code>Set.of(&quot;javafx.controls&quot;)</code> argument).</p>\n</li>\n<li><p>The above expects the main class to be a subclass of <code>javafx.application.Application</code>. It will fail otherwise.</p>\n</li>\n<li><p>Take note of the parent relationships between <code>ClassLoader</code>s, particularly the one created in the <code>createAppClassLoader</code> method. That class loader needs to be able to find the JavaFX classes, which is why a loader from the JavaFX layer is used as the parent.</p>\n</li>\n<li><p>If your JAR file becomes modular, you can forgo the <code>URLClassLoader</code> and just add your JAR file to the JavaFX <code>ModuleLayer</code>. You can technically do the same for automatic modules, but in that case the above approach seemed easier.</p>\n</li>\n<li><p>The third command-line argument could be omitted if you're willing to modify the code and inspect the JAR file's manifest to get the main class, assuming the main class attribute is present.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":5938676,"reputation":17,"user_id":4670756,"display_name":"RobertMichalovicCZ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73321473,"answer_count":1,"score":0,"last_activity_date":1674057261,"creation_date":1660136116,"question_id":73306733,"body_markdown":"Good day\r\n\r\nI use, Win11 Pro 64 bit, ENG version, I use Oracle Java 11 or 17(problem on both), Eclipse IDE 2022_06. I would like load JavaFX modules programmatically in my throws project. In any folder on my harddrive i have JavaFX11 libraries. In the same folder i have simple JavaFX11 program(only show window with button, nothing more). This JavaFX program has name &quot;ProgramJavaFX11.jar&quot; and i can start it with command : \r\n`java --module-path &quot;D:\\Java\\X_Package\\JavaFX11\\lib&quot; --add-modules=javafx.controls,javafx.fxml -cp ProgramJavaFX11.jar javafx.ProgramJavaFX11` and its work of course.\r\n\r\nI was use standard [JavaAPI][1] with added example, but its not work. If somebody know the answer can help me?\r\n\r\n    package spust;\r\n    import java.lang.module.*;\r\n    import java.nio.file.*;\r\n    import java.util.*;\r\n    public class LoadFXModule {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Start Program loadJAVAFXlibs&quot;);\r\n\t\ttry {\r\n\t\t\tPath [] paths = {Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.base.jar&quot;),Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.controls.jar&quot;),\r\n\t\t\t\t\tPaths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.fxml.jar&quot;),Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.graphics.jar&quot;),\r\n\t\t\t\t\tPaths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.media.jar&quot;),Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.swing.jar&quot;),\r\n\t\t\t\t\tPaths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.web.jar&quot;),Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx-swt.jar&quot;),\r\n\t\t\t\t\tPaths.get(&quot;D:\\\\JavaProjekty\\\\Java.Zaklady.JarVJarFXlib\\\\source\\\\ProgramJavaFX11.jar&quot;)}; \r\n\t\t\tModuleFinder finder = ModuleFinder.of(paths);\r\n\t\t\tModuleLayer parent = ModuleLayer.boot();\r\n\t\t\tConfiguration cf = parent.configuration().resolve(finder, ModuleFinder.of(), java.util.Set.of(&quot;javafx.controls&quot;,&quot;javafx.fxml&quot;));\r\n\t\t\tClassLoader systemLoader = ClassLoader.getSystemClassLoader();\t\t\t//\tName loader :app\r\n\t\t\t//ClassLoader systemLoader = ClassLoader.getPlatformClassLoader();\t\t//\tName loader :platform\r\n\t\t\tSystem.out.println(&quot;Name loader :&quot;+systemLoader.getName());\r\n\t\t\tModuleLayer layer = parent.defineModulesWithOneLoader(cf, systemLoader);\r\n\t\t\t\r\n\t        // HERE ITS CRASH\r\n\t\t\tClass&lt;?&gt; javaFXClass = layer.findLoader(&quot;javafx.base&quot;).loadClass(&quot;javafx.ProgramJavaFX11&quot;);\r\n\t\t\t/*\r\n\t\t\tMethod metodaMain = javaFXClass.getMethod(&quot;main&quot;,String[].class);\r\n\t\t\tif(metodaMain == null) System.out.println(&quot;methodMain is null&quot;);\t\r\n\t\t\tString [] pole1String = {&quot;&quot;,&quot;&quot;};\r\n\t\t\tObject argsArray [] = { pole1String };\r\n\t\t\tmetodaMain.invoke(null,argsArray);\r\n\t\t\t*/\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\t}\t\t\r\n\t\tSystem.out.println(&quot;End Program&quot;);\r\n\t}\r\n\r\nProgram crash with this message. It crash in IDE and runnable.jar too. It is look the classloader(or module loader) do not have access to &quot;ProgramJavaFX11.jar&quot; but i set to Path on beginning of code.\r\n\r\n    java.lang.ClassNotFoundException: javafx.ProgramJavaFX11\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/jdk.internal.loader.Loader.loadClass(Loader.java:544)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat spust.LoadFXModule.main(LoadFXModule.java:92)\r\n\r\nHere is the simple project(without module-info.java, so it is automatic module) runnable jar ProgramJavaFX11.jar (really only window with button) what i want to run. I have change the name of package from &quot;javafx&quot; to &quot;fxpackage&quot;. I create standard Project in EclipseIDE,set Oracle JDK11, set Java Build path -&gt; libraries -&gt; classpath and here i added JavaFX11 libraries :\r\n\r\n - javafx.base.jar\r\n - javafx.controls.jar\r\n - javafx.fxml.jar\r\n - javafx.graphics.jar\r\n - javafx.media.jar\r\n - javafx.swing.jar\r\n - javafx.web.jar\r\n - javafx.swt.jar\r\n\r\nHere is the source code: \r\n\r\n   \r\n\r\n     package fxpackage;\r\n        import javafx.application.*;\r\n        import javafx.event.*;\r\n        import javafx.geometry.Pos;\r\n        import javafx.scene.*;\r\n        import javafx.scene.control.*;\r\n        import javafx.scene.control.Alert.AlertType;\r\n        import javafx.scene.layout.*;\r\n        import javafx.stage.Stage;\r\n    public class ProgramJavaFX11 extends Application {\r\n        private Scene scene;\r\n        public static void main(String[] args) {\r\n            Application.launch(args);\r\n        }\r\n        public void start(Stage stage) throws Exception {\r\n            Button tlac = new Button(&quot;Press me&quot;);\r\n            tlac.setPrefSize(200,100);      \r\n            tlac.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                public void handle(ActionEvent ae) {\r\n                    Alert alert = new Alert(AlertType.INFORMATION);\r\n                    alert.setTitle(&quot;Warning&quot;);\r\n                    alert.setContentText(&quot;Good day&quot;);\r\n                    alert.show();\r\n                }\r\n            });\r\n            FlowPane flowpane = new FlowPane(10,10);\r\n            flowpane.setAlignment(Pos.CENTER);\r\n            flowpane.setStyle(&quot;-fx-background-color: rgb(193, 122, 68)&quot;);\r\n            flowpane.getChildren().add(tlac);\r\n            scene = new Scene(flowpane, 500, 250);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Window with JavaFX11&quot;);\r\n            stage.show();\r\n        }\r\n    }\r\n\r\nI exported this project in Eclipse as runnable jar and can run it with on command-line with command : \r\n\r\n`java --module-path &quot;D:\\Java\\X_Package\\JavaFX11\\lib&quot; --add-modules=javafx.controls,javafx.fxml -cp ProgramJavaFX11.jar fxpackage.ProgramJavaFX11`\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ModuleLayer.html","title":"JavaFX module programmatically loading","body":"<p>Good day</p>\n<p>I use, Win11 Pro 64 bit, ENG version, I use Oracle Java 11 or 17(problem on both), Eclipse IDE 2022_06. I would like load JavaFX modules programmatically in my throws project. In any folder on my harddrive i have JavaFX11 libraries. In the same folder i have simple JavaFX11 program(only show window with button, nothing more). This JavaFX program has name &quot;ProgramJavaFX11.jar&quot; and i can start it with command :\n<code>java --module-path &quot;D:\\Java\\X_Package\\JavaFX11\\lib&quot; --add-modules=javafx.controls,javafx.fxml -cp ProgramJavaFX11.jar javafx.ProgramJavaFX11</code> and its work of course.</p>\n<p>I was use standard <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ModuleLayer.html\" rel=\"nofollow noreferrer\">JavaAPI</a> with added example, but its not work. If somebody know the answer can help me?</p>\n<pre><code>package spust;\nimport java.lang.module.*;\nimport java.nio.file.*;\nimport java.util.*;\npublic class LoadFXModule {\npublic static void main(String[] args) {\n    System.out.println(&quot;Start Program loadJAVAFXlibs&quot;);\n    try {\n        Path [] paths = {Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.base.jar&quot;),Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.controls.jar&quot;),\n                Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.fxml.jar&quot;),Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.graphics.jar&quot;),\n                Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.media.jar&quot;),Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.swing.jar&quot;),\n                Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx.web.jar&quot;),Paths.get(&quot;D:\\\\Java\\\\X_Package\\\\JavaFX11\\\\lib\\\\javafx-swt.jar&quot;),\n                Paths.get(&quot;D:\\\\JavaProjekty\\\\Java.Zaklady.JarVJarFXlib\\\\source\\\\ProgramJavaFX11.jar&quot;)}; \n        ModuleFinder finder = ModuleFinder.of(paths);\n        ModuleLayer parent = ModuleLayer.boot();\n        Configuration cf = parent.configuration().resolve(finder, ModuleFinder.of(), java.util.Set.of(&quot;javafx.controls&quot;,&quot;javafx.fxml&quot;));\n        ClassLoader systemLoader = ClassLoader.getSystemClassLoader();          //  Name loader :app\n        //ClassLoader systemLoader = ClassLoader.getPlatformClassLoader();      //  Name loader :platform\n        System.out.println(&quot;Name loader :&quot;+systemLoader.getName());\n        ModuleLayer layer = parent.defineModulesWithOneLoader(cf, systemLoader);\n        \n        // HERE ITS CRASH\n        Class&lt;?&gt; javaFXClass = layer.findLoader(&quot;javafx.base&quot;).loadClass(&quot;javafx.ProgramJavaFX11&quot;);\n        /*\n        Method metodaMain = javaFXClass.getMethod(&quot;main&quot;,String[].class);\n        if(metodaMain == null) System.out.println(&quot;methodMain is null&quot;);    \n        String [] pole1String = {&quot;&quot;,&quot;&quot;};\n        Object argsArray [] = { pole1String };\n        metodaMain.invoke(null,argsArray);\n        */\n    } catch(Exception e) {\n        e.printStackTrace();    }       \n    System.out.println(&quot;End Program&quot;);\n}\n</code></pre>\n<p>Program crash with this message. It crash in IDE and runnable.jar too. It is look the classloader(or module loader) do not have access to &quot;ProgramJavaFX11.jar&quot; but i set to Path on beginning of code.</p>\n<pre><code>java.lang.ClassNotFoundException: javafx.ProgramJavaFX11\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\nat java.base/jdk.internal.loader.Loader.loadClass(Loader.java:544)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\nat spust.LoadFXModule.main(LoadFXModule.java:92)\n</code></pre>\n<p>Here is the simple project(without module-info.java, so it is automatic module) runnable jar ProgramJavaFX11.jar (really only window with button) what i want to run. I have change the name of package from &quot;javafx&quot; to &quot;fxpackage&quot;. I create standard Project in EclipseIDE,set Oracle JDK11, set Java Build path -&gt; libraries -&gt; classpath and here i added JavaFX11 libraries :</p>\n<ul>\n<li>javafx.base.jar</li>\n<li>javafx.controls.jar</li>\n<li>javafx.fxml.jar</li>\n<li>javafx.graphics.jar</li>\n<li>javafx.media.jar</li>\n<li>javafx.swing.jar</li>\n<li>javafx.web.jar</li>\n<li>javafx.swt.jar</li>\n</ul>\n<p>Here is the source code:</p>\n<pre><code> package fxpackage;\n    import javafx.application.*;\n    import javafx.event.*;\n    import javafx.geometry.Pos;\n    import javafx.scene.*;\n    import javafx.scene.control.*;\n    import javafx.scene.control.Alert.AlertType;\n    import javafx.scene.layout.*;\n    import javafx.stage.Stage;\npublic class ProgramJavaFX11 extends Application {\n    private Scene scene;\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n    public void start(Stage stage) throws Exception {\n        Button tlac = new Button(&quot;Press me&quot;);\n        tlac.setPrefSize(200,100);      \n        tlac.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            public void handle(ActionEvent ae) {\n                Alert alert = new Alert(AlertType.INFORMATION);\n                alert.setTitle(&quot;Warning&quot;);\n                alert.setContentText(&quot;Good day&quot;);\n                alert.show();\n            }\n        });\n        FlowPane flowpane = new FlowPane(10,10);\n        flowpane.setAlignment(Pos.CENTER);\n        flowpane.setStyle(&quot;-fx-background-color: rgb(193, 122, 68)&quot;);\n        flowpane.getChildren().add(tlac);\n        scene = new Scene(flowpane, 500, 250);\n        stage.setScene(scene);\n        stage.setTitle(&quot;Window with JavaFX11&quot;);\n        stage.show();\n    }\n}\n</code></pre>\n<p>I exported this project in Eclipse as runnable jar and can run it with on command-line with command :</p>\n<p><code>java --module-path &quot;D:\\Java\\X_Package\\JavaFX11\\lib&quot; --add-modules=javafx.controls,javafx.fxml -cp ProgramJavaFX11.jar fxpackage.ProgramJavaFX11</code></p>\n"},{"tags":["java","kotlin","sealed-class","kotlin-java-interop","kotlin-sealed"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674056635,"creation_date":1674051520,"answer_id":75160633,"question_id":75159914,"body_markdown":"No, you cannot apply an interface to a class externally. Also, members of a sealed class or interface have to be defined inside the same project module as the sealed class or interface.\r\n\r\nI would wrap the other class.\r\n\r\n```\r\ndata class HttpStatusError(val status: HttpStatus): Error\r\n```\r\n\r\nYou might consider making it an inline wrapper class:\r\n\r\n```\r\n@JvmInline value class HttpStatusError(val status: HttpStatus): Error\r\n```","title":"Can I add an existing java class to a sealed Kotlin class?","body":"<p>No, you cannot apply an interface to a class externally. Also, members of a sealed class or interface have to be defined inside the same project module as the sealed class or interface.</p>\n<p>I would wrap the other class.</p>\n<pre><code>data class HttpStatusError(val status: HttpStatus): Error\n</code></pre>\n<p>You might consider making it an inline wrapper class:</p>\n<pre><code>@JvmInline value class HttpStatusError(val status: HttpStatus): Error\n</code></pre>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674056635,"creation_date":1674048240,"question_id":75159914,"body_markdown":"I am using 2 classes to handle error statuses, the Spring&#39;s own `org.springframework.http.HttpStatus` and my custom `ErrorStatus`:\r\n\r\n    enum class ErrorStatus(val code: Int, val reasonPhrase: String) {\r\n        ELEMENT_NOT_FOUND(1404, &quot;Element not found&quot;),\r\n        UNKNOWN_ERROR(1000, &quot;Unknown Error&quot;),\r\n    }\r\n\r\nI would like to seal both classes using:\r\n\r\n    sealed interface Error\r\n\r\nIt&#39;s simple to do this with my class: `enum class ErrorStatus(val code: Int, val reasonPhrase: String) : Error {`\r\n\r\nBut is it possible to mark `HttpStatus` class as a part of this sealed interface?","title":"Can I add an existing java class to a sealed Kotlin class?","body":"<p>I am using 2 classes to handle error statuses, the Spring's own <code>org.springframework.http.HttpStatus</code> and my custom <code>ErrorStatus</code>:</p>\n<pre><code>enum class ErrorStatus(val code: Int, val reasonPhrase: String) {\n    ELEMENT_NOT_FOUND(1404, &quot;Element not found&quot;),\n    UNKNOWN_ERROR(1000, &quot;Unknown Error&quot;),\n}\n</code></pre>\n<p>I would like to seal both classes using:</p>\n<pre><code>sealed interface Error\n</code></pre>\n<p>It's simple to do this with my class: <code>enum class ErrorStatus(val code: Int, val reasonPhrase: String) : Error {</code></p>\n<p>But is it possible to mark <code>HttpStatus</code> class as a part of this sealed interface?</p>\n"},{"tags":["java","mysql","spring-boot","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1674057680,"post_id":75161756,"comment_id":132634749,"body_markdown":"60 rows is nothing for a database. A database is able to easily handle millions of rows within seconds. Running a select query on a table with 35 million entries takes less than a second","body":"60 rows is nothing for a database. A database is able to easily handle millions of rows within seconds. Running a select query on a table with 35 million entries takes less than a second"},{"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"score":0,"creation_date":1674057755,"post_id":75161756,"comment_id":132634776,"body_markdown":"I understand, but can&#39;t I make this simpler in terms of cartItems created ?","body":"I understand, but can&#39;t I make this simpler in terms of cartItems created ?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674057966,"post_id":75161756,"comment_id":132634859,"body_markdown":"There is no sense in that. Every cart item should be unique for each order. If at all, you can make a `@ManyToMany` relationship between `Order` and `ShoppingCart`. This however is only ever useful if you have exactly the same values for a `ShoppingCart`. And you will need to adjust your database","body":"There is no sense in that. Every cart item should be unique for each order. If at all, you can make a <code>@ManyToMany</code> relationship between <code>Order</code> and <code>ShoppingCart</code>. This however is only ever useful if you have exactly the same values for a <code>ShoppingCart</code>. And you will need to adjust your database"},{"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"score":0,"creation_date":1674058169,"post_id":75161756,"comment_id":132634947,"body_markdown":"Okay Sir, you made me relax a bit ahah I was kinda worried.","body":"Okay Sir, you made me relax a bit ahah I was kinda worried."}],"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674056582,"creation_date":1674056582,"question_id":75161756,"body_markdown":"So, I&#39;m making an order project, I&#39;m able to create products(id, created_at, deleted, price_in_euros, product_name), and with those products create orders. When I create an order, the products I chose to it become a cartItem(id, amount, productName, product_id, product_name, quantity, order_id). To make this clear, everytime I make an order I create a shoppingCartItem for each product I choose to order. This will saturate my db since if I want to make 2 orders with 30 products each, I&#39;m making 60 different cartItems.\r\nI need to find a way to use a cartItem for different orders if the amount is the same, because 4 cartItems, for example, can be the same product, but with different amounts.\r\nMy CloudProduct.java\r\n\r\n```\r\npackage com.proj.my.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\nimport java.sql.Date;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.SQLDelete;\r\nimport org.hibernate.annotations.Where;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.Table;\r\nimport jakarta.validation.constraints.Pattern;\r\n\r\n@Entity\r\n@Table(name=&quot;cloud_product_info&quot;)\r\n@SQLDelete(sql = &quot;UPDATE cloud_product_info SET deleted = true WHERE product_id=?&quot;)\r\n@Where(clause = &quot;deleted=false&quot;)\r\n//@FilterDef(name=&quot;&quot;, parameters = @ParamDef(name=&quot;isDeleted&quot;, type = &quot;boolean&quot;))\r\n//@Filter(name=&quot;deletedBookFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \r\n        allowGetters = true)\r\n\r\n\r\n\r\npublic class CloudProduct {\r\n\r\n    public static Integer id;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer productId;\r\n    @Column(unique=true)\r\n    private String productName;\r\n    private Float priceInEuros;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;created_at&quot;)\r\n    private Date createdAt;\r\n    private Boolean deleted = Boolean.FALSE;\r\n\r\n\r\n    @JsonIgnore\r\n    public Boolean getdeleted() {\r\n        return deleted;\r\n    }\r\n    @JsonIgnore\r\n    public void setdeleted(Boolean deleted) {\r\n        this.deleted = deleted;\r\n    }\r\n\r\n    public CloudProduct(Integer productId, String productName, Float priceInEuros) {\r\n        this.productId = productId;\r\n        this.productName = productName;\r\n        this.priceInEuros = priceInEuros;\r\n    }\r\n\r\n    public CloudProduct() {\r\n\r\n    } \r\n    \r\n    public Integer getProductId() {\r\n        return productId;\r\n    }\r\n    public void setProductId(Integer productId) {\r\n        this.productId = productId;\r\n    }\r\n    public String getProductName() {\r\n        return productName;\r\n    }\r\n    public void setProductName(String productName) {\r\n        this.productName = productName;\r\n    }\r\n    public Float getpriceInEuros() {\r\n        return priceInEuros;\r\n    }\r\n    public void setProductPrice(Float priceInEuros) {\r\n        this.priceInEuros = priceInEuros;\r\n    }\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Product{&quot; +\r\n                &quot;id=&quot; + productId +\r\n                &quot;, name=&#39;&quot; + productName + &#39;\\&#39;&#39; +\r\n                &quot;, price=&quot; + priceInEuros +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nMy Order.java\r\n```\r\npackage com.proj.my.model;\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.OneToOne;\r\nimport jakarta.persistence.Table;\r\nimport lombok.ToString;\r\n\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;myorder&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \r\n    allowGetters = true)  \r\npublic class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;userId&quot;)\r\n    private User user;\r\n\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = ShoppingCart.class)\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private List&lt;ShoppingCart&gt; cartItems;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;createdAt&quot;)\r\n    private LocalDate createdAt;\r\n\r\n    public LocalDate getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(LocalDate createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order() {\r\n    }\r\n\r\n    public Order(User user, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\r\n        this.user = user;\r\n        this.cartItems = cartItems;\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order(int Id, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n        this.createdAt =  createdAt;\r\n        this.id = Id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setCustomer(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public List&lt;ShoppingCart&gt; getCartItems() {\r\n        return cartItems;\r\n    }\r\n\r\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n    }\r\n}\r\n\r\n```\r\nMy shoppingCart.java\r\n\r\n```\r\npackage com.proj.my.model;\r\n\r\n\r\nimport org.hibernate.annotations.NotFound;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n/*@Data\r\n@AllArgsConstructor\r\n@RequiredArgsConstructor\r\n@NoArgsConstructor\r\n*/\r\n@Entity\r\npublic class ShoppingCart {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    private Integer productId;\r\n    \r\n    private String productName;\r\n\r\n    private int quantity;\r\n    \r\n    private float amount;\r\n\r\n    public ShoppingCart() {\r\n    }\r\n\r\n    public ShoppingCart(Integer productId, String productName, int quantity, float amount) {\r\n        this.productId = productId;\r\n        this.productName = productName;\r\n        this.quantity = quantity;\r\n        this.amount = amount;\r\n    }\r\n\r\n    public ShoppingCart(Integer productId, int quantity) {\r\n        this.productId = productId;\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public ShoppingCart(String productName, int quantity) {\r\n        this.productName = productName;\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Integer getProductId() {\r\n        return productId;\r\n    }\r\n\r\n    public void setProductId(Integer productId) {\r\n        this.productId = productId;\r\n    }\r\n\r\n    public String getProductName() {\r\n        return productName;\r\n    }\r\n\r\n    public void setProductName(String productName) {\r\n        this.productName = productName;\r\n    }\r\n\r\n    public int getQuantity() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(int quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public float getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(float amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ShoppingCart{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, productId=&quot; + productId +\r\n                &quot;, productName=&#39;&quot; + productName + &#39;\\&#39;&#39; +\r\n                &quot;, quantity=&quot; + quantity +\r\n                &quot;, amount=&quot; + amount +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy orderService.java\r\n\r\n```\r\npackage com.proj.my.service;\r\n\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.ShoppingCart;\r\nimport com.proj.my.repository.OrderRepository;\r\nimport com.proj.my.repository.CloudProductRepository;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class OrderService {\r\n\r\n    private OrderRepository orderRepository;\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\r\n        this.orderRepository = orderRepository;\r\n        this.cloudProductRepository = cloudProductRepository;\r\n    }\r\n\r\n    public Order getOrderDetail(int orderId) {\r\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\r\n        return order.isPresent() ? order.get() : null;\r\n    }\r\n    \r\n   public List&lt;Order&gt; getAllOrderDetail(LocalDate dataaa) {\r\n        return orderRepository.findAllByCreatedAt(dataaa);\r\n    }\r\n\r\n    public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\r\n\r\n        float totalCartAmount = 0f;\r\n        float singleCartAmount = 0f;\r\n\r\n        for (ShoppingCart cart : shoppingCartList) {\r\n\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()) {\r\n                CloudProduct cloudproduct = product.get();\r\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\r\n                \r\n                totalCartAmount = totalCartAmount + singleCartAmount;\r\n                cart.setProductId(cloudproduct.getProductId());\r\n                cart.setAmount(singleCartAmount);\r\n                cloudProductRepository.save(cloudproduct);\r\n            }\r\n        }\r\n        return totalCartAmount;\r\n    }\r\n\r\n    public Order saveOrder(Order order) {\r\n        return orderRepository.save(order);\r\n    }\r\n}\r\n\r\n```\r\nMy orderController.java\r\n```\r\npackage com.proj.my.controller;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.proj.my.dto.OrderDTO;\r\nimport com.proj.my.dto.ResponseOrderDTO;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.ShoppingCart;\r\nimport com.proj.my.model.User;\r\nimport com.proj.my.repository.CloudProductRepository;\r\nimport com.proj.my.service.CloudProductService;\r\nimport com.proj.my.service.OrderService;\r\nimport com.proj.my.service.UserService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class OrderController {\r\n\r\n    private OrderService orderService;\r\n    private CloudProductService cloudProductService;\r\n    private UserService userService;\r\n    @Autowired\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n\r\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\r\n        this.orderService = orderService;\r\n        this.cloudProductService = cloudProductService;\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\r\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\r\n        Order order = orderService.getOrderDetail(orderId);\r\n        return ResponseEntity.ok(order);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\r\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\r\n        return orderService.getAllOrderDetail(dataaa);\r\n    }\r\n\r\n    @PostMapping(&quot;/placeOrder&quot;)\r\n    public ResponseEntity&lt;?&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\r\n\r\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\r\n        List&lt;ShoppingCart&gt; shoppingCartList = orderDTO.getCartItems();\r\n        ShoppingCart shoppingCart;\r\n        for (ShoppingCart cart : shoppingCartList) {\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()){\r\n                float amount = orderService.getCartAmount(orderDTO.getCartItems());\r\n                if(amount &gt; 0){\r\n                    User user = new User(orderDTO.getuserEmail());\r\n                    \r\n                    Integer userIdFromDb = userService.isUserPresent(user);\r\n\r\n                    if (userIdFromDb != null) {\r\n                        user.setUserId(userIdFromDb);\r\n                    }else{\r\n                        user = userService.createUser(user);\r\n                    }\r\n                    LocalDate createdAt = LocalDate.now(); \r\n                    \r\n\r\n                    Order order = new Order(user, createdAt, orderDTO.getCartItems());\r\n\r\n                    order = orderService.saveOrder(order);\r\n\r\n                    responseOrderDTO.setAmount(amount);\r\n\r\n                    responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\r\n                    \r\n                    responseOrderDTO.setOrderId(order.getId());\r\n\r\n\r\n                    return ResponseEntity.ok(responseOrderDTO);\r\n                }\r\n                else{\r\n                    return new ResponseEntity&lt;&gt;(&quot;Can&#39;t create an order without products.&quot;, HttpStatus.OK);\r\n                }\r\n            }\r\n            else{\r\n                return new ResponseEntity&lt;&gt;(&quot;No Product with such name found.&quot;, HttpStatus.OK);\r\n            }\r\n        }\r\n        return null;\r\n    }}\r\n```\r\nLet me know if you need the rest of the services and, or controllers of the other 2 entities.\r\nHow can I do this ?","title":"Unnecessary usage of data on my DB Springboot","body":"<p>So, I'm making an order project, I'm able to create products(id, created_at, deleted, price_in_euros, product_name), and with those products create orders. When I create an order, the products I chose to it become a cartItem(id, amount, productName, product_id, product_name, quantity, order_id). To make this clear, everytime I make an order I create a shoppingCartItem for each product I choose to order. This will saturate my db since if I want to make 2 orders with 30 products each, I'm making 60 different cartItems.\nI need to find a way to use a cartItem for different orders if the amount is the same, because 4 cartItems, for example, can be the same product, but with different amounts.\nMy CloudProduct.java</p>\n<pre><code>package com.proj.my.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\nimport java.sql.Date;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.SQLDelete;\nimport org.hibernate.annotations.Where;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.Table;\nimport jakarta.validation.constraints.Pattern;\n\n@Entity\n@Table(name=&quot;cloud_product_info&quot;)\n@SQLDelete(sql = &quot;UPDATE cloud_product_info SET deleted = true WHERE product_id=?&quot;)\n@Where(clause = &quot;deleted=false&quot;)\n//@FilterDef(name=&quot;&quot;, parameters = @ParamDef(name=&quot;isDeleted&quot;, type = &quot;boolean&quot;))\n//@Filter(name=&quot;deletedBookFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \n        allowGetters = true)\n\n\n\npublic class CloudProduct {\n\n    public static Integer id;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer productId;\n    @Column(unique=true)\n    private String productName;\n    private Float priceInEuros;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;created_at&quot;)\n    private Date createdAt;\n    private Boolean deleted = Boolean.FALSE;\n\n\n    @JsonIgnore\n    public Boolean getdeleted() {\n        return deleted;\n    }\n    @JsonIgnore\n    public void setdeleted(Boolean deleted) {\n        this.deleted = deleted;\n    }\n\n    public CloudProduct(Integer productId, String productName, Float priceInEuros) {\n        this.productId = productId;\n        this.productName = productName;\n        this.priceInEuros = priceInEuros;\n    }\n\n    public CloudProduct() {\n\n    } \n    \n    public Integer getProductId() {\n        return productId;\n    }\n    public void setProductId(Integer productId) {\n        this.productId = productId;\n    }\n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public Float getpriceInEuros() {\n        return priceInEuros;\n    }\n    public void setProductPrice(Float priceInEuros) {\n        this.priceInEuros = priceInEuros;\n    }\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Product{&quot; +\n                &quot;id=&quot; + productId +\n                &quot;, name='&quot; + productName + '\\'' +\n                &quot;, price=&quot; + priceInEuros +\n                '}';\n    }\n}\n\n\n</code></pre>\n<p>My Order.java</p>\n<pre><code>package com.proj.my.model;\nimport java.time.LocalDate;\nimport java.util.List;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\nimport lombok.ToString;\n\n@ToString\n@Entity\n@Table(name = &quot;myorder&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \n    allowGetters = true)  \npublic class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;userId&quot;)\n    private User user;\n\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = ShoppingCart.class)\n    @JoinColumn(name = &quot;order_id&quot;)\n    private List&lt;ShoppingCart&gt; cartItems;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;createdAt&quot;)\n    private LocalDate createdAt;\n\n    public LocalDate getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDate createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Order() {\n    }\n\n    public Order(User user, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\n        this.user = user;\n        this.cartItems = cartItems;\n        this.createdAt = createdAt;\n    }\n\n    public Order(int Id, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n        this.createdAt =  createdAt;\n        this.id = Id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setCustomer(User user) {\n        this.user = user;\n    }\n\n    public List&lt;ShoppingCart&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n}\n\n</code></pre>\n<p>My shoppingCart.java</p>\n<pre><code>package com.proj.my.model;\n\n\nimport org.hibernate.annotations.NotFound;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n/*@Data\n@AllArgsConstructor\n@RequiredArgsConstructor\n@NoArgsConstructor\n*/\n@Entity\npublic class ShoppingCart {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private Integer productId;\n    \n    private String productName;\n\n    private int quantity;\n    \n    private float amount;\n\n    public ShoppingCart() {\n    }\n\n    public ShoppingCart(Integer productId, String productName, int quantity, float amount) {\n        this.productId = productId;\n        this.productName = productName;\n        this.quantity = quantity;\n        this.amount = amount;\n    }\n\n    public ShoppingCart(Integer productId, int quantity) {\n        this.productId = productId;\n        this.quantity = quantity;\n    }\n\n    public ShoppingCart(String productName, int quantity) {\n        this.productName = productName;\n        this.quantity = quantity;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Integer getProductId() {\n        return productId;\n    }\n\n    public void setProductId(Integer productId) {\n        this.productId = productId;\n    }\n\n    public String getProductName() {\n        return productName;\n    }\n\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n\n    public int getQuantity() {\n        return quantity;\n    }\n\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n\n    public float getAmount() {\n        return amount;\n    }\n\n    public void setAmount(float amount) {\n        this.amount = amount;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ShoppingCart{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, productId=&quot; + productId +\n                &quot;, productName='&quot; + productName + '\\'' +\n                &quot;, quantity=&quot; + quantity +\n                &quot;, amount=&quot; + amount +\n                '}';\n    }\n}\n\n</code></pre>\n<p>My orderService.java</p>\n<pre><code>package com.proj.my.service;\n\nimport com.proj.my.model.Order;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.ShoppingCart;\nimport com.proj.my.repository.OrderRepository;\nimport com.proj.my.repository.CloudProductRepository;\n\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class OrderService {\n\n    private OrderRepository orderRepository;\n    private CloudProductRepository cloudProductRepository;\n\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\n        this.orderRepository = orderRepository;\n        this.cloudProductRepository = cloudProductRepository;\n    }\n\n    public Order getOrderDetail(int orderId) {\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\n        return order.isPresent() ? order.get() : null;\n    }\n    \n   public List&lt;Order&gt; getAllOrderDetail(LocalDate dataaa) {\n        return orderRepository.findAllByCreatedAt(dataaa);\n    }\n\n    public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\n\n        float totalCartAmount = 0f;\n        float singleCartAmount = 0f;\n\n        for (ShoppingCart cart : shoppingCartList) {\n\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()) {\n                CloudProduct cloudproduct = product.get();\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\n                \n                totalCartAmount = totalCartAmount + singleCartAmount;\n                cart.setProductId(cloudproduct.getProductId());\n                cart.setAmount(singleCartAmount);\n                cloudProductRepository.save(cloudproduct);\n            }\n        }\n        return totalCartAmount;\n    }\n\n    public Order saveOrder(Order order) {\n        return orderRepository.save(order);\n    }\n}\n\n</code></pre>\n<p>My orderController.java</p>\n<pre><code>package com.proj.my.controller;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.proj.my.dto.OrderDTO;\nimport com.proj.my.dto.ResponseOrderDTO;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.Order;\nimport com.proj.my.model.ShoppingCart;\nimport com.proj.my.model.User;\nimport com.proj.my.repository.CloudProductRepository;\nimport com.proj.my.service.CloudProductService;\nimport com.proj.my.service.OrderService;\nimport com.proj.my.service.UserService;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class OrderController {\n\n    private OrderService orderService;\n    private CloudProductService cloudProductService;\n    private UserService userService;\n    @Autowired\n    private CloudProductRepository cloudProductRepository;\n\n\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\n        this.orderService = orderService;\n        this.cloudProductService = cloudProductService;\n        this.userService = userService;\n    }\n\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\n        Order order = orderService.getOrderDetail(orderId);\n        return ResponseEntity.ok(order);\n    }\n\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\n        return orderService.getAllOrderDetail(dataaa);\n    }\n\n    @PostMapping(&quot;/placeOrder&quot;)\n    public ResponseEntity&lt;?&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\n\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\n        List&lt;ShoppingCart&gt; shoppingCartList = orderDTO.getCartItems();\n        ShoppingCart shoppingCart;\n        for (ShoppingCart cart : shoppingCartList) {\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()){\n                float amount = orderService.getCartAmount(orderDTO.getCartItems());\n                if(amount &gt; 0){\n                    User user = new User(orderDTO.getuserEmail());\n                    \n                    Integer userIdFromDb = userService.isUserPresent(user);\n\n                    if (userIdFromDb != null) {\n                        user.setUserId(userIdFromDb);\n                    }else{\n                        user = userService.createUser(user);\n                    }\n                    LocalDate createdAt = LocalDate.now(); \n                    \n\n                    Order order = new Order(user, createdAt, orderDTO.getCartItems());\n\n                    order = orderService.saveOrder(order);\n\n                    responseOrderDTO.setAmount(amount);\n\n                    responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\n                    \n                    responseOrderDTO.setOrderId(order.getId());\n\n\n                    return ResponseEntity.ok(responseOrderDTO);\n                }\n                else{\n                    return new ResponseEntity&lt;&gt;(&quot;Can't create an order without products.&quot;, HttpStatus.OK);\n                }\n            }\n            else{\n                return new ResponseEntity&lt;&gt;(&quot;No Product with such name found.&quot;, HttpStatus.OK);\n            }\n        }\n        return null;\n    }}\n</code></pre>\n<p>Let me know if you need the rest of the services and, or controllers of the other 2 entities.\nHow can I do this ?</p>\n"},{"tags":["java","spring","spring-boot","openshift","prometheus"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1541599377,"post_id":53190729,"comment_id":93270754,"body_markdown":"No there isn&#39;t as `/actuator` is the main entry point for all other actuators.","body":"No there isn&#39;t as <code>&#47;actuator</code> is the main entry point for all other actuators."}],"answers":[{"tags":[],"owner":{"account_id":332120,"reputation":4862,"user_id":657224,"accept_rate":17,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1541602108,"creation_date":1541599540,"answer_id":53191070,"question_id":53190729,"body_markdown":"There is no configuration value for this. The best you can do right now is move the management base endpoint to `/`, in which case the discovery page is disabled to prevent clashing with other endpoints in your app:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#production-ready-endpoints-hypermedia\r\n\r\n&gt; When the management context path is set to /, the discovery page is disabled to prevent the possibility of a clash with other mappings.\r\n\r\nIf you&#39;re using Spring Security you can effectively hide the discovery page using something like this inside your own `WebSecurityConfigurerAdapter`:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception\r\n    {\r\n       http\r\n          .authorizeRequests()\r\n             .mvcMatchers(&quot;/actuator&quot;).denyAll()\r\n             .mvcMatchers(&quot;/actuator/&quot;).denyAll()\r\n    }\r\n\r\nThis would deny all requests to the discovery page, but allow requests through to the individual exposed endpoints.\r\n\r\nThere is some discussion of the discovery page in this GitHub issue as well:\r\n\r\nhttps://github.com/spring-projects/spring-boot/issues/10331","title":"SpringBoot disable Actuator root","body":"<p>There is no configuration value for this. The best you can do right now is move the management base endpoint to <code>/</code>, in which case the discovery page is disabled to prevent clashing with other endpoints in your app:</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#production-ready-endpoints-hypermedia\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#production-ready-endpoints-hypermedia</a></p>\n\n<blockquote>\n  <p>When the management context path is set to /, the discovery page is disabled to prevent the possibility of a clash with other mappings.</p>\n</blockquote>\n\n<p>If you're using Spring Security you can effectively hide the discovery page using something like this inside your own <code>WebSecurityConfigurerAdapter</code>:</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception\n{\n   http\n      .authorizeRequests()\n         .mvcMatchers(\"/actuator\").denyAll()\n         .mvcMatchers(\"/actuator/\").denyAll()\n}\n</code></pre>\n\n<p>This would deny all requests to the discovery page, but allow requests through to the individual exposed endpoints.</p>\n\n<p>There is some discussion of the discovery page in this GitHub issue as well:</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/10331\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/10331</a></p>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674056260,"creation_date":1674056260,"answer_id":75161683,"question_id":53190729,"body_markdown":"According to [Spring documentation][1]:\r\n\r\n&gt; To disable the “discovery page”, add the following property to your\r\n&gt; application properties:\r\n&gt; \r\n&gt; ``` application.properties\r\n&gt; management.endpoints.web.discovery.enabled=false \r\n&gt; ```\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.6.4/reference/htmlsingle/#actuator.endpoints.hypermedia","title":"SpringBoot disable Actuator root","body":"<p>According to <a href=\"https://docs.spring.io/spring-boot/docs/2.6.4/reference/htmlsingle/#actuator.endpoints.hypermedia\" rel=\"nofollow noreferrer\">Spring documentation</a>:</p>\n<blockquote>\n<p>To disable the “discovery page”, add the following property to your\napplication properties:</p>\n<pre><code>management.endpoints.web.discovery.enabled=false \n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":6084556,"reputation":214,"user_id":4749104,"display_name":"osharko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4767,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1674056499,"creation_date":1541598380,"question_id":53190729,"body_markdown":"I&#39;m using Spring Boot and exposing metrics with actuator and prometheus. I want to expose `info`, `health`, `metrics`, `prometheus`, `shutdown`, and nothing more. But even if I specify into the application properties, what I see is that even the root `/actuator` is exposed.\r\n\r\nI would like to disable the root actuator and have only the 5 members I said previously.\r\n\r\nIs there a way to don&#39;t expose only the `/actuator` endpoint? I&#39;ve also tried in application properties doing like this:\r\n\r\n    management.endpoints.web.exposure.exclude=actuator\r\n\r\nThat is the list of the exposed actuator:\r\n\r\n    {\r\n       &quot;_links&quot;:{\r\n          &quot;self&quot;:{\r\n             &quot;href&quot;:&quot;http://localhost:9002/actuator&quot;,\r\n             &quot;templated&quot;:false\r\n          },\r\n          &quot;health-component-instance&quot;:{\r\n             &quot;href&quot;:&quot;http://localhost:9002/actuator/health/{component}/{instance}&quot;,\r\n             &quot;templated&quot;:true\r\n          },\r\n          &quot;health-component&quot;:{\r\n             &quot;href&quot;:&quot;http://localhost:9002/actuator/health/{component}&quot;,\r\n             &quot;templated&quot;:true\r\n          },\r\n          &quot;health&quot;:{\r\n             &quot;href&quot;:&quot;http://localhost:9002/actuator/health&quot;,\r\n             &quot;templated&quot;:false\r\n          },\r\n          &quot;shutdown&quot;:{\r\n             &quot;href&quot;:&quot;http://localhost:9002/actuator/shutdown&quot;,\r\n             &quot;templated&quot;:false\r\n          },\r\n          &quot;info&quot;:{\r\n             &quot;href&quot;:&quot;http://localhost:9002/actuator/info&quot;,\r\n             &quot;templated&quot;:false\r\n          },\r\n          &quot;prometheus&quot;:{\r\n             &quot;href&quot;:&quot;http://localhost:9002/actuator/prometheus&quot;,\r\n             &quot;templated&quot;:false\r\n          },\r\n          &quot;metrics-requiredMetricName&quot;:{\r\n             &quot;href&quot;:&quot;http://localhost:9002/actuator/metrics/{requiredMetricName}&quot;,\r\n             &quot;templated&quot;:true\r\n          },\r\n          &quot;metrics&quot;:{\r\n             &quot;href&quot;:&quot;http://localhost:9002/actuator/metrics&quot;,\r\n             &quot;templated&quot;:false\r\n          }\r\n       }\r\n    }","title":"SpringBoot disable Actuator root","body":"<p>I'm using Spring Boot and exposing metrics with actuator and prometheus. I want to expose <code>info</code>, <code>health</code>, <code>metrics</code>, <code>prometheus</code>, <code>shutdown</code>, and nothing more. But even if I specify into the application properties, what I see is that even the root <code>/actuator</code> is exposed.</p>\n<p>I would like to disable the root actuator and have only the 5 members I said previously.</p>\n<p>Is there a way to don't expose only the <code>/actuator</code> endpoint? I've also tried in application properties doing like this:</p>\n<pre><code>management.endpoints.web.exposure.exclude=actuator\n</code></pre>\n<p>That is the list of the exposed actuator:</p>\n<pre><code>{\n   &quot;_links&quot;:{\n      &quot;self&quot;:{\n         &quot;href&quot;:&quot;http://localhost:9002/actuator&quot;,\n         &quot;templated&quot;:false\n      },\n      &quot;health-component-instance&quot;:{\n         &quot;href&quot;:&quot;http://localhost:9002/actuator/health/{component}/{instance}&quot;,\n         &quot;templated&quot;:true\n      },\n      &quot;health-component&quot;:{\n         &quot;href&quot;:&quot;http://localhost:9002/actuator/health/{component}&quot;,\n         &quot;templated&quot;:true\n      },\n      &quot;health&quot;:{\n         &quot;href&quot;:&quot;http://localhost:9002/actuator/health&quot;,\n         &quot;templated&quot;:false\n      },\n      &quot;shutdown&quot;:{\n         &quot;href&quot;:&quot;http://localhost:9002/actuator/shutdown&quot;,\n         &quot;templated&quot;:false\n      },\n      &quot;info&quot;:{\n         &quot;href&quot;:&quot;http://localhost:9002/actuator/info&quot;,\n         &quot;templated&quot;:false\n      },\n      &quot;prometheus&quot;:{\n         &quot;href&quot;:&quot;http://localhost:9002/actuator/prometheus&quot;,\n         &quot;templated&quot;:false\n      },\n      &quot;metrics-requiredMetricName&quot;:{\n         &quot;href&quot;:&quot;http://localhost:9002/actuator/metrics/{requiredMetricName}&quot;,\n         &quot;templated&quot;:true\n      },\n      &quot;metrics&quot;:{\n         &quot;href&quot;:&quot;http://localhost:9002/actuator/metrics&quot;,\n         &quot;templated&quot;:false\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","class","jframe"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1674076482,"post_id":75161644,"comment_id":132640672,"body_markdown":"it would be better to show sample code of what you did and what is the current result your get and what the expected result you want","body":"it would be better to show sample code of what you did and what is the current result your get and what the expected result you want"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674091457,"post_id":75161644,"comment_id":132643400,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27564646,"reputation":1,"user_id":21037083,"display_name":"Anyone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674056058,"creation_date":1674056058,"question_id":75161644,"body_markdown":"I have few classes include Java JFrame forms and java class.\r\nI want to do something so that the Java class runs only and the forms run by that class. (I have coded the last item).\r\nWhat can I do now?","title":"How can you run only one class in a package and among several runnable classes?","body":"<p>I have few classes include Java JFrame forms and java class.\nI want to do something so that the Java class runs only and the forms run by that class. (I have coded the last item).\nWhat can I do now?</p>\n"},{"tags":["java","reflection","annotations","runtime","java-17"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1674048329,"post_id":75159911,"comment_id":132631112,"body_markdown":"I am not sure that this is supported. Annotation values must be compile-time constants.","body":"I am not sure that this is supported. Annotation values must be compile-time constants."},{"owner":{"account_id":18233830,"reputation":23,"user_id":13272252,"display_name":"renvins"},"score":0,"creation_date":1674048545,"post_id":75159911,"comment_id":132631184,"body_markdown":"@Turing85 yes, it is. You can change value of runtime annotations.","body":"@Turing85 yes, it is. You can change value of runtime annotations."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674048968,"post_id":75159911,"comment_id":132631339,"body_markdown":"[JLS, &#167;9.6.1](https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.6.1) and [JLS, &#167;9.7.1 - &#167;9.7.3](https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.7.1) suggest otherwise (not explicitly, but implicitly). Do you have an example of some code that changes the value of an annotation at runtime? Or a reference that says it is possible?","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.6.1\" rel=\"nofollow noreferrer\">JLS, &#167;9.6.1</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.7.1\" rel=\"nofollow noreferrer\">JLS, &#167;9.7.1 - &#167;9.7.3</a> suggest otherwise (not explicitly, but implicitly). Do you have an example of some code that changes the value of an annotation at runtime? Or a reference that says it is possible?"},{"owner":{"account_id":18233830,"reputation":23,"user_id":13272252,"display_name":"renvins"},"score":0,"creation_date":1674049222,"post_id":75159911,"comment_id":132631454,"body_markdown":"@Turing85 yes, here: https://www.baeldung.com/java-reflection-change-annotation-params","body":"@Turing85 yes, here: <a href=\"https://www.baeldung.com/java-reflection-change-annotation-params\" rel=\"nofollow noreferrer\">baeldung.com/java-reflection-change-annotation-params</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674050955,"post_id":75159911,"comment_id":132632109,"body_markdown":"Hm... For me, the program already fails on `Method method = Greetings.class.getDeclaredMethod(&quot;annotationData&quot;, null);`, reporting that method `&quot;annotationData&quot;` could not be found. This looks like something that is very dependent on the java versio used. I tested with 17. The baeldung article also only  talks about java 7 and java 8. And the sample code is missing from their github (or at least not where they linked to). Are you running with a jdk in version 8?","body":"Hm... For me, the program already fails on <code>Method method = Greetings.class.getDeclaredMethod(&quot;annotationData&quot;, null);</code>, reporting that method <code>&quot;annotationData&quot;</code> could not be found. This looks like something that is very dependent on the java versio used. I tested with 17. The baeldung article also only  talks about java 7 and java 8. And the sample code is missing from their github (or at least not where they linked to). Are you running with a jdk in version 8?"},{"owner":{"account_id":18233830,"reputation":23,"user_id":13272252,"display_name":"renvins"},"score":0,"creation_date":1674053111,"post_id":75159911,"comment_id":132632966,"body_markdown":"@Turing85 Only tried with Java 17. Can’t find another way to do the same thing…ideas?","body":"@Turing85 Only tried with Java 17. Can’t find another way to do the same thing…ideas?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674053505,"post_id":75159911,"comment_id":132633125,"body_markdown":"Nope, sorry....","body":"Nope, sorry...."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":6,"creation_date":1674061285,"post_id":75159911,"comment_id":132636121,"body_markdown":"The problem is that you are trying to do something that is not supported by the platform.  The various tricks you&#39;ve seen depend on breaking into platform internals in unsupported ways.  You should not be surprised to see these stop working.  The supported way would be to modify the source and recompile.","body":"The problem is that you are trying to do something that is not supported by the platform.  The various tricks you&#39;ve seen depend on breaking into platform internals in unsupported ways.  You should not be surprised to see these stop working.  The supported way would be to modify the source and recompile."}],"owner":{"account_id":18233830,"reputation":23,"user_id":13272252,"display_name":"renvins"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674055879,"creation_date":1674048233,"question_id":75159911,"body_markdown":"I&#39;m stuck into trying to change the value of a `@Retention(RetentionPolicy.RUNTIME)` annotation with Java 17. I think my code has some problems also related to the Java 9 illegal reflective access.\r\n\r\nThat&#39;s what I&#39;ve tried, but it doesn&#39;t work:\r\n\r\n\r\n```\r\npublic static void changeAnnotationValue(String value) {\r\n        Greeter oldAnnotation = Greetings.class.getAnnotation(Greeter.class);\r\n        Greeter newAnnotation = new Greeter() {\r\n\r\n            @Override\r\n            public Class&lt;? extends Annotation&gt; annotationType() {\r\n                return oldAnnotation.annotationType();\r\n            }\r\n\r\n            @Override\r\n            public String value() {\r\n                return value;\r\n            }\r\n        };\r\n        try {\r\n            Method method = Greetings.class.getDeclaredMethod(&quot;annotationData&quot;, null);\r\n            method.setAccessible(true);\r\n\r\n            Field annotations = method.getClass().getDeclaredField(&quot;annotations&quot;);\r\n            annotations.setAccessible(true);\r\n\r\n            Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt; map = (Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt;) annotations.get(method);\r\n            map.put(Greeter.class, newAnnotation);\r\n        } catch (NoSuchMethodException | IllegalAccessException | NoSuchFieldException e) {\r\n            //Handle exceptions\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nOnly found ways online for Java 8","title":"Problems in changing value of a runtime annotation with reflection (Java 17)","body":"<p>I'm stuck into trying to change the value of a <code>@Retention(RetentionPolicy.RUNTIME)</code> annotation with Java 17. I think my code has some problems also related to the Java 9 illegal reflective access.</p>\n<p>That's what I've tried, but it doesn't work:</p>\n<pre><code>public static void changeAnnotationValue(String value) {\n        Greeter oldAnnotation = Greetings.class.getAnnotation(Greeter.class);\n        Greeter newAnnotation = new Greeter() {\n\n            @Override\n            public Class&lt;? extends Annotation&gt; annotationType() {\n                return oldAnnotation.annotationType();\n            }\n\n            @Override\n            public String value() {\n                return value;\n            }\n        };\n        try {\n            Method method = Greetings.class.getDeclaredMethod(&quot;annotationData&quot;, null);\n            method.setAccessible(true);\n\n            Field annotations = method.getClass().getDeclaredField(&quot;annotations&quot;);\n            annotations.setAccessible(true);\n\n            Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt; map = (Map&lt;Class&lt;? extends Annotation&gt;, Annotation&gt;) annotations.get(method);\n            map.put(Greeter.class, newAnnotation);\n        } catch (NoSuchMethodException | IllegalAccessException | NoSuchFieldException e) {\n            //Handle exceptions\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Only found ways online for Java 8</p>\n"},{"tags":["java","jdbc","resultset"],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373613700,"creation_date":1373613700,"answer_id":17609577,"question_id":17609375,"body_markdown":"PreparedStatement API: A SQL statement is precompiled and stored in a PreparedStatement object. This object can then be used to efficiently execute this statement multiple times. \r\n\r\nBut you cannot reuse a ResultSet object. When you call executeQuery on a PreparedStatement object the second time a new ResultSet is created, if you do not close the previous ResultSet you are risking to get a resource leak.","title":"Does reusing a Statement and Resultset release resources from its previous usage? Or do I have to explicitly close them before reuse?","body":"<p>PreparedStatement API: A SQL statement is precompiled and stored in a PreparedStatement object. This object can then be used to efficiently execute this statement multiple times. </p>\n\n<p>But you cannot reuse a ResultSet object. When you call executeQuery on a PreparedStatement object the second time a new ResultSet is created, if you do not close the previous ResultSet you are risking to get a resource leak.</p>\n"},{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416263708,"creation_date":1373613814,"answer_id":17609602,"question_id":17609375,"body_markdown":"No, you may not close the `ResultSet` and `Statement` inside the `while` loop.\r\n\r\n**You have to close them after the loop.**\r\n\r\nAlso if you want to reuse the `PreparedStatement` then you may not close it until you&#39;re ready with your processing.\r\n\r\nBest rule is to close such resources in the same block as they&#39;re created. In your case the best thing to do is to close the resources in a `finally` block after catching the `SQLException`.\r\n\r\nE.g.\r\n\r\n    try {\r\n        aStmt = aConn.prepareStatement(aQuery);\r\n        cRset = cStmt.executeQuery(cQuery);\r\n\r\n        while (cRset.next()) {\r\n            //stuff to determine value of parm1\r\n\r\n            aStmt.setString(1, parm1);\r\n            try {\r\n                aRset = aStmt.executeQuery();\r\n            } finally {\r\n                aRset.close();\r\n            }\r\n\r\n            //more stuff\r\n        }\r\n    } catch (SQLException ex) {\r\n        // Do error handling\r\n    } finally {\r\n        // Close Resultset\r\n    }\r\n\r\nIn Java 7 you can use try with resources.","title":"Does reusing a Statement and Resultset release resources from its previous usage? Or do I have to explicitly close them before reuse?","body":"<p>No, you may not close the <code>ResultSet</code> and <code>Statement</code> inside the <code>while</code> loop.</p>\n\n<p><strong>You have to close them after the loop.</strong></p>\n\n<p>Also if you want to reuse the <code>PreparedStatement</code> then you may not close it until you're ready with your processing.</p>\n\n<p>Best rule is to close such resources in the same block as they're created. In your case the best thing to do is to close the resources in a <code>finally</code> block after catching the <code>SQLException</code>.</p>\n\n<p>E.g.</p>\n\n<pre><code>try {\n    aStmt = aConn.prepareStatement(aQuery);\n    cRset = cStmt.executeQuery(cQuery);\n\n    while (cRset.next()) {\n        //stuff to determine value of parm1\n\n        aStmt.setString(1, parm1);\n        try {\n            aRset = aStmt.executeQuery();\n        } finally {\n            aRset.close();\n        }\n\n        //more stuff\n    }\n} catch (SQLException ex) {\n    // Do error handling\n} finally {\n    // Close Resultset\n}\n</code></pre>\n\n<p>In Java 7 you can use try with resources.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1674055811,"creation_date":1373614668,"answer_id":17609872,"question_id":17609375,"body_markdown":"The behavior of resultsets and (prepared) statements is explicitly documented in the Java API. I suggest that you read the actual documentation (and the JDBC spec) to get the details.\r\n\r\nThe [`Statement`][1] API says:\r\n\r\n&gt; By default, only one `ResultSet` object per `Statement` object can be open at the same time. Therefore, if the reading of one `ResultSet` object is interleaved with the reading of another, each must have been generated by different `Statement` objects. **All execution methods in the `Statement` interface implicitly close a current `ResultSet` object of the statement if an open one exists.**\r\n\r\n(emphasis mine).\r\n\r\nIn your specific code, when you call `aStmt.executeQuery()`, the old `ResultSet` assigned to `aRset` is implicitly closed by the driver. That said, it would be better to explicitly close it yourself (or use Java 7 try-with-resources), to prevent you from forgetting to close the `ResultSet` in the last iteration through the loop.\r\n\r\nNow to the `PreparedStatement`: When you prepare a statement (in general, implementation can vary), the query is sent to the server for compilation. On execution the parameters for that specific execution is sent to the server. Calling `close()` on `aStmt` would result in the prepared statement being deallocated on the server, that is clearly **NOT** what you want here as you want to re-use the statement with different values for its parameter.\r\n\r\nSo in short\r\n\r\n1. Closing `ResultSet` is not technically necessary here (except for the last `ResultSet` created), but it is better to do it explicitly\r\n2. You should only close the `PreparedStatement` when you are done with it.\r\n\r\nUsing [try-with-resources][2] is one way to remove part of the confusion on these issues, as your code will automatically release resources when it is done with it (at the end of the scope of use):\r\n\r\n    try (\r\n        ResultSet cRset = cStmt.executeQuery(cQuery);\r\n        PreparedStatement aStmt = aConn.prepareStatement(aQuery);\r\n    ) {\r\n        while (cRset.next()) {\r\n            //stuff to determine value of parm1\r\n    \r\n            aStmt.setString(1, parm1);                \r\n            try (ResultSet aRset = aStmt.executeQuery()) {\r\n                //more stuff\r\n            }\r\n        }\r\n    }\r\n\r\nAt the end of this piece of code all JDBC resources are correctly closed (in the right order, even if exceptions occurred etc)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Does reusing a Statement and Resultset release resources from its previous usage? Or do I have to explicitly close them before reuse?","body":"<p>The behavior of resultsets and (prepared) statements is explicitly documented in the Java API. I suggest that you read the actual documentation (and the JDBC spec) to get the details.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html\" rel=\"nofollow noreferrer\"><code>Statement</code></a> API says:</p>\n<blockquote>\n<p>By default, only one <code>ResultSet</code> object per <code>Statement</code> object can be open at the same time. Therefore, if the reading of one <code>ResultSet</code> object is interleaved with the reading of another, each must have been generated by different <code>Statement</code> objects. <strong>All execution methods in the <code>Statement</code> interface implicitly close a current <code>ResultSet</code> object of the statement if an open one exists.</strong></p>\n</blockquote>\n<p>(emphasis mine).</p>\n<p>In your specific code, when you call <code>aStmt.executeQuery()</code>, the old <code>ResultSet</code> assigned to <code>aRset</code> is implicitly closed by the driver. That said, it would be better to explicitly close it yourself (or use Java 7 try-with-resources), to prevent you from forgetting to close the <code>ResultSet</code> in the last iteration through the loop.</p>\n<p>Now to the <code>PreparedStatement</code>: When you prepare a statement (in general, implementation can vary), the query is sent to the server for compilation. On execution the parameters for that specific execution is sent to the server. Calling <code>close()</code> on <code>aStmt</code> would result in the prepared statement being deallocated on the server, that is clearly <strong>NOT</strong> what you want here as you want to re-use the statement with different values for its parameter.</p>\n<p>So in short</p>\n<ol>\n<li>Closing <code>ResultSet</code> is not technically necessary here (except for the last <code>ResultSet</code> created), but it is better to do it explicitly</li>\n<li>You should only close the <code>PreparedStatement</code> when you are done with it.</li>\n</ol>\n<p>Using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> is one way to remove part of the confusion on these issues, as your code will automatically release resources when it is done with it (at the end of the scope of use):</p>\n<pre><code>try (\n    ResultSet cRset = cStmt.executeQuery(cQuery);\n    PreparedStatement aStmt = aConn.prepareStatement(aQuery);\n) {\n    while (cRset.next()) {\n        //stuff to determine value of parm1\n\n        aStmt.setString(1, parm1);                \n        try (ResultSet aRset = aStmt.executeQuery()) {\n            //more stuff\n        }\n    }\n}\n</code></pre>\n<p>At the end of this piece of code all JDBC resources are correctly closed (in the right order, even if exceptions occurred etc)</p>\n"}],"owner":{"account_id":2888767,"reputation":1469,"user_id":2478019,"accept_rate":56,"display_name":"heisenbergman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21017,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":17609872,"answer_count":3,"score":20,"last_activity_date":1674055811,"creation_date":1373612983,"question_id":17609375,"body_markdown":"Sample code:\r\n\r\n            aStmt = aConn.prepareStatement(aQuery);\r\n            aRset = aStmt.executeQuery(cQuery);\r\n\r\n            while (cRset.next()) {\r\n            \t//stuff to determine value of parm1\r\n            \t\r\n            \taStmt.setString(1, parm1);                \r\n                aRset = aStmt.executeQuery(); \r\n                \r\n                //more stuff\r\n            }\r\n\r\nDo I have to close aStmt and aRset after every loop inside the while statement? Or will reusing them in the succeeding loops release the memory/resources used from the previous loops?","title":"Does reusing a Statement and Resultset release resources from its previous usage? Or do I have to explicitly close them before reuse?","body":"<p>Sample code:</p>\n\n<pre><code>        aStmt = aConn.prepareStatement(aQuery);\n        aRset = aStmt.executeQuery(cQuery);\n\n        while (cRset.next()) {\n            //stuff to determine value of parm1\n\n            aStmt.setString(1, parm1);                \n            aRset = aStmt.executeQuery(); \n\n            //more stuff\n        }\n</code></pre>\n\n<p>Do I have to close aStmt and aRset after every loop inside the while statement? Or will reusing them in the succeeding loops release the memory/resources used from the previous loops?</p>\n"},{"tags":["java","netbeans","junit"],"answers":[{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1348541370,"creation_date":1348539334,"answer_id":12575381,"question_id":12575271,"body_markdown":"Are you declarig a dependency to an up to date JUnit Version?\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.10&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou should be able to import the right class: `org.junit.Before`.\r\n            ","title":"annotation before is missing value for the attribute value","body":"<p>Are you declarig a dependency to an up to date JUnit Version?</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.10&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>You should be able to import the right class: <code>org.junit.Before</code>.</p>\n"},{"tags":[],"owner":{"account_id":9228907,"reputation":161,"user_id":6855721,"display_name":"ssbh"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1532641300,"creation_date":1532635814,"answer_id":51546788,"question_id":12575271,"body_markdown":"Are you still getting the same error even after adding junit dependency in `pom.xml`?\r\n\r\nCheck to see that you are importing the right library i.e.\r\n\r\n    import org.junit.Before;\r\n\r\ninstead of\r\n\r\n    import org.aspectj.lang.annotation.Before;","title":"annotation before is missing value for the attribute value","body":"<p>Are you still getting the same error even after adding junit dependency in <code>pom.xml</code>?</p>\n\n<p>Check to see that you are importing the right library i.e.</p>\n\n<pre><code>import org.junit.Before;\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>import org.aspectj.lang.annotation.Before;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2858650"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674055571,"creation_date":1674055571,"answer_id":75161543,"question_id":12575271,"body_markdown":"This is a pretty old question but for anyone tripping over this error in 2023 after switching to the new `JUnit Jupiter` or using the latest `spring-boot-dependencies`  bom file (which automatically configures you for `Jupiter` unless you override it):\r\n\r\nNote that as of `Jupiter`, the [org.junit.Before][1] annotation was replaced with the [org.junit.jupiter.api.BeforeAll][2] annotation.\r\n\r\nSome helpful URL references for the API changes:\r\n - [Nice rundown of API changes from Junit4 to Jupiter][3]\r\n - [Javadoc for Junit Jupiter][4]\r\n\r\n\r\n  [1]: https://junit.org/junit4/javadoc/latest/org/junit/Before.html\r\n  [2]: https://javadoc.io/doc/org.junit.jupiter/junit-jupiter-api/latest/org/junit/jupiter/api/BeforeAll.html\r\n  [3]: https://sormuras.github.io/blog/2018-09-13-junit-4-core-vs-jupiter-api.html\r\n  [4]: https://javadoc.io/doc/org.junit.jupiter/junit-jupiter-api/latest/index.html","title":"annotation before is missing value for the attribute value","body":"<p>This is a pretty old question but for anyone tripping over this error in 2023 after switching to the new <code>JUnit Jupiter</code> or using the latest <code>spring-boot-dependencies</code>  bom file (which automatically configures you for <code>Jupiter</code> unless you override it):</p>\n<p>Note that as of <code>Jupiter</code>, the <a href=\"https://junit.org/junit4/javadoc/latest/org/junit/Before.html\" rel=\"nofollow noreferrer\">org.junit.Before</a> annotation was replaced with the <a href=\"https://javadoc.io/doc/org.junit.jupiter/junit-jupiter-api/latest/org/junit/jupiter/api/BeforeAll.html\" rel=\"nofollow noreferrer\">org.junit.jupiter.api.BeforeAll</a> annotation.</p>\n<p>Some helpful URL references for the API changes:</p>\n<ul>\n<li><a href=\"https://sormuras.github.io/blog/2018-09-13-junit-4-core-vs-jupiter-api.html\" rel=\"nofollow noreferrer\">Nice rundown of API changes from Junit4 to Jupiter</a></li>\n<li><a href=\"https://javadoc.io/doc/org.junit.jupiter/junit-jupiter-api/latest/index.html\" rel=\"nofollow noreferrer\">Javadoc for Junit Jupiter</a></li>\n</ul>\n"}],"owner":{"account_id":1309458,"reputation":5903,"user_id":1257771,"accept_rate":55,"display_name":"kasavbere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12930,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":12575381,"answer_count":3,"score":8,"last_activity_date":1674055571,"creation_date":1348538438,"question_id":12575271,"body_markdown":"I normally don&#39;t experience problem with JUnit annotation. But somehow today, with my new install of Netbeans 7.2, I am experiencing the following error when I use the `@Before` annotation:\r\n\r\n    annotation before is missing value for the attribute value\r\n\r\nDoes anyone know how to fix this?\r\n\r\n----\r\nUPDATE\r\n\r\nI am writing a mavenized web-app.\r\nFor the TestCase, when I try to import `org.junit.Before` the program instead imports `org.aspectj.lang.annotation.Before`","title":"annotation before is missing value for the attribute value","body":"<p>I normally don't experience problem with JUnit annotation. But somehow today, with my new install of Netbeans 7.2, I am experiencing the following error when I use the <code>@Before</code> annotation:</p>\n\n<pre><code>annotation before is missing value for the attribute value\n</code></pre>\n\n<p>Does anyone know how to fix this?</p>\n\n<hr>\n\n<p>UPDATE</p>\n\n<p>I am writing a mavenized web-app.\nFor the TestCase, when I try to import <code>org.junit.Before</code> the program instead imports <code>org.aspectj.lang.annotation.Before</code></p>\n"},{"tags":["java","websphere","datasource","password-encryption"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674049810,"post_id":75160233,"comment_id":132631665,"body_markdown":"https://www.baeldung.com/jasypt","body":"<a href=\"https://www.baeldung.com/jasypt\" rel=\"nofollow noreferrer\">baeldung.com/jasypt</a>"},{"owner":{"account_id":1137432,"reputation":555,"user_id":1122185,"accept_rate":79,"display_name":"ResourceReaper"},"score":0,"creation_date":1674055094,"post_id":75160233,"comment_id":132633747,"body_markdown":"@life888888 Oh man, I edited the OP.  Not a WAR.  It&#39;s an EAR being deployed to Websphere App Server.","body":"@life888888 Oh man, I edited the OP.  Not a WAR.  It&#39;s an EAR being deployed to Websphere App Server."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674055251,"post_id":75160233,"comment_id":132633802,"body_markdown":"I assume your code is at least in version control? If so, credentials still shouldn&#39;t be stored alongside the code","body":"I assume your code is at least in version control? If so, credentials still shouldn&#39;t be stored alongside the code"},{"owner":{"account_id":1137432,"reputation":555,"user_id":1122185,"accept_rate":79,"display_name":"ResourceReaper"},"score":0,"creation_date":1674061535,"post_id":75160233,"comment_id":132636210,"body_markdown":"@life888888 Oh thanks for this, I really appreciate the insight.  I&#39;ll dig into this more and see what the t-shirt size is for this.  I think every single application that is running on the WebSphere app server has the credentials in their respective properties files.  (facepalm)","body":"@life888888 Oh thanks for this, I really appreciate the insight.  I&#39;ll dig into this more and see what the t-shirt size is for this.  I think every single application that is running on the WebSphere app server has the credentials in their respective properties files.  (facepalm)"},{"owner":{"account_id":1137432,"reputation":555,"user_id":1122185,"accept_rate":79,"display_name":"ResourceReaper"},"score":0,"creation_date":1674062351,"post_id":75160233,"comment_id":132636457,"body_markdown":"@OneCricketeer - HAHAHA, you&#39;re funny.  The code IS in a repo called Serena (PVCS) which makes implementing Jenkins and other build tools difficult.","body":"@OneCricketeer - HAHAHA, you&#39;re funny.  The code IS in a repo called Serena (PVCS) which makes implementing Jenkins and other build tools difficult."},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1674121480,"post_id":75160233,"comment_id":132648686,"body_markdown":"If you are using WebSphere then connection to database should be defined in the App server via Datasource, and then all DB props are defined there including user/password and there is no need to have any of these in the application source code.","body":"If you are using WebSphere then connection to database should be defined in the App server via Datasource, and then all DB props are defined there including user/password and there is no need to have any of these in the application source code."}],"owner":{"account_id":1137432,"reputation":555,"user_id":1122185,"accept_rate":79,"display_name":"ResourceReaper"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674133167,"answer_count":0,"score":0,"last_activity_date":1674055548,"creation_date":1674049709,"question_id":75160233,"body_markdown":"I&#39;m working on refactoring a native java code last touched in 1999.  There are no design patterns, modern methodologies, security standards applied, no toolsets like password vaulting systems, we don&#39;t even have an ant / maven / Jenkins server.  It was expressed to me that they simply &quot;export the EAR from RBD&quot; (Rational Business Developer), so there&#39;s a basic understanding of the environment.  I&#39;m a little stuck at the moment.  I&#39;ve moved the properties for this app into a DB table except for two.  The user and password. I&#39;m looking for a way to secure the password in the properties file but am coming up short on ideas.  \r\n\r\nI&#39;m thinking an acceptable solution would be to encode the password and set it as the DB users password.  The plain text password would be then stored in the properties file.  The codebase would need to encode it before attempting to connect to the DB.  \r\n\r\nI think the only pitfall for this is that multiple apps use the DB account and we either create a new account for this and migrate apps to this as we go, or do it all in one fell swoop.  Am I off here?  Are there better solutions?\r\n\r\nEdited for clarity and re-edited for EAR instead of WAR file.  This is deployed to a WebSphere App server.","title":"How can I encrypt JDBC user and password info in plain text properties file?","body":"<p>I'm working on refactoring a native java code last touched in 1999.  There are no design patterns, modern methodologies, security standards applied, no toolsets like password vaulting systems, we don't even have an ant / maven / Jenkins server.  It was expressed to me that they simply &quot;export the EAR from RBD&quot; (Rational Business Developer), so there's a basic understanding of the environment.  I'm a little stuck at the moment.  I've moved the properties for this app into a DB table except for two.  The user and password. I'm looking for a way to secure the password in the properties file but am coming up short on ideas.</p>\n<p>I'm thinking an acceptable solution would be to encode the password and set it as the DB users password.  The plain text password would be then stored in the properties file.  The codebase would need to encode it before attempting to connect to the DB.</p>\n<p>I think the only pitfall for this is that multiple apps use the DB account and we either create a new account for this and migrate apps to this as we go, or do it all in one fell swoop.  Am I off here?  Are there better solutions?</p>\n<p>Edited for clarity and re-edited for EAR instead of WAR file.  This is deployed to a WebSphere App server.</p>\n"},{"tags":["java","database","websphere","credentials"],"answers":[{"tags":[],"owner":{"account_id":6890847,"reputation":2050,"user_id":5294422,"display_name":"F Rowe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490976309,"creation_date":1490975062,"answer_id":43144724,"question_id":43139197,"body_markdown":"Database credentials for relational databases connected to WebSphere app server via a JDBC driver are configured and managed via one or more DataSources and JDBCProviders.   Start with [this IBM KnowledgeCenter topic][1].  The credentials are properties of the DataSource.\r\n\r\n\r\n  [1]: https://www.ibm.com/support/knowledgecenter/en/SSEQTP_9.0.0/com.ibm.websphere.base.doc/ae/tdat_tccrtprovds.html","title":"Change db credentials while login in websphere","body":"<p>Database credentials for relational databases connected to WebSphere app server via a JDBC driver are configured and managed via one or more DataSources and JDBCProviders.   Start with <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSEQTP_9.0.0/com.ibm.websphere.base.doc/ae/tdat_tccrtprovds.html\" rel=\"nofollow noreferrer\">this IBM KnowledgeCenter topic</a>.  The credentials are properties of the DataSource.</p>\n"}],"owner":{"account_id":5213259,"reputation":41,"user_id":4168984,"display_name":"Radoslav Ivanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674055428,"creation_date":1490958581,"question_id":43139197,"body_markdown":"I have an application hosted on  IBM Websphere and WebSeal as proxy server. \r\n\r\nI need to change the database password, but I`m not sure how can I configure the new db credentials in the web server so that the application can access the database. \r\n","title":"Change db credentials while login in websphere","body":"<p>I have an application hosted on  IBM Websphere and WebSeal as proxy server.</p>\n<p>I need to change the database password, but I`m not sure how can I configure the new db credentials in the web server so that the application can access the database.</p>\n"},{"tags":["java","c#","enums","protocol-buffers","protobuf-csharp-port"],"answers":[{"tags":[],"owner":{"account_id":458956,"reputation":145582,"user_id":859154,"accept_rate":100,"display_name":"Royi Namir"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1415441204,"creation_date":1415397462,"answer_id":26810740,"question_id":26810188,"body_markdown":"I found a solution (sort of)\r\n\r\nneed an int holder.\r\n\r\n    message Foo {\r\n      enum Flags {\r\n        FLAG1 = 0x01;\r\n        FLAG2 = 0x02;\r\n        FLAG3 = 0x04;\r\n      }\r\n    \r\n      // Bitwise-OR of Flags.\r\n      optional uint32 flags = 1;\r\n\r\n* Mmm, Is it the only solution ?","title":"Protocol buffers and enums combinations?","body":"<p>I found a solution (sort of)</p>\n\n<p>need an int holder.</p>\n\n<pre><code>message Foo {\n  enum Flags {\n    FLAG1 = 0x01;\n    FLAG2 = 0x02;\n    FLAG3 = 0x04;\n  }\n\n  // Bitwise-OR of Flags.\n  optional uint32 flags = 1;\n</code></pre>\n\n<ul>\n<li>Mmm, Is it the only solution ?</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1415485545,"creation_date":1415485545,"answer_id":26822782,"question_id":26810188,"body_markdown":"In Protobufs, an enum-typed field is only allowed to have one of the exact numeric values specified in the enum. That is to say, you _cannot_ use an enum-typed field as a bitfield. If you want a bitfield, you need to use an integer type like `int32`. This rule actually applies even in languages that have numeric enum types, like C++ -- if an enum-typed protobuf field read from the wire has an invalid value, it will be treated like an unknown field and thus hidden.\r\n\r\nIf you switch to integers, you of course now have the problem of how to declare flag values. Unfortunately Protobufs provides no good way to define constants. As you suggested in your self-answer, you can use a dummy enum definition as a hack, but note that the numeric value won&#39;t necessarily be available in all languages. It works in C++ and Python since they use numeric enums (and apparently C# too?). In Java, Protobuf enums have a `.getNumber()` method which you can use to get the numeric value; otherwise, normal Java enums are not numeric.\r\n\r\n(Aside: I&#39;m the author of most of Google&#39;s open source Protobuf code. I&#39;m also the author of [Cap&#39;n Proto](https://capnproto.org), a newer non-Google project aimed at replacing Protobufs. Among other advantages, Cap&#39;n Proto supports defining constants in schema files. But, as of this writing C# support is not ready yet (though being worked on!).)","title":"Protocol buffers and enums combinations?","body":"<p>In Protobufs, an enum-typed field is only allowed to have one of the exact numeric values specified in the enum. That is to say, you <em>cannot</em> use an enum-typed field as a bitfield. If you want a bitfield, you need to use an integer type like <code>int32</code>. This rule actually applies even in languages that have numeric enum types, like C++ -- if an enum-typed protobuf field read from the wire has an invalid value, it will be treated like an unknown field and thus hidden.</p>\n\n<p>If you switch to integers, you of course now have the problem of how to declare flag values. Unfortunately Protobufs provides no good way to define constants. As you suggested in your self-answer, you can use a dummy enum definition as a hack, but note that the numeric value won't necessarily be available in all languages. It works in C++ and Python since they use numeric enums (and apparently C# too?). In Java, Protobuf enums have a <code>.getNumber()</code> method which you can use to get the numeric value; otherwise, normal Java enums are not numeric.</p>\n\n<p>(Aside: I'm the author of most of Google's open source Protobuf code. I'm also the author of <a href=\"https://capnproto.org\" rel=\"noreferrer\">Cap'n Proto</a>, a newer non-Google project aimed at replacing Protobufs. Among other advantages, Cap'n Proto supports defining constants in schema files. But, as of this writing C# support is not ready yet (though being worked on!).)</p>\n"},{"tags":[],"owner":{"account_id":48818,"reputation":40628,"user_id":145173,"accept_rate":79,"display_name":"Edward Brey"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1602077988,"creation_date":1439931162,"answer_id":32082350,"question_id":26810188,"body_markdown":"Define the field as an integer:\r\n\r\n    required int32 MsgCode = 1;\r\n\r\nDefine the enum as in your question, even though nothing in the .proto file will reference it.\r\n\r\nUse the enum fields in your code. In C#, it&#39;s like your example (although it depends on which library you use, e.g. [protobuf-net][1] is excellent and has a lightweight Enum.Field syntax). In Java, use the fields with the `_VALUE` suffix, e.g. `MsgCodes.APPROVE_VALUE`.\r\n\r\n\r\n  [1]: https://www.nuget.org/packages/protobuf-net/","title":"Protocol buffers and enums combinations?","body":"<p>Define the field as an integer:</p>\n<pre><code>required int32 MsgCode = 1;\n</code></pre>\n<p>Define the enum as in your question, even though nothing in the .proto file will reference it.</p>\n<p>Use the enum fields in your code. In C#, it's like your example (although it depends on which library you use, e.g. <a href=\"https://www.nuget.org/packages/protobuf-net/\" rel=\"nofollow noreferrer\">protobuf-net</a> is excellent and has a lightweight Enum.Field syntax). In Java, use the fields with the <code>_VALUE</code> suffix, e.g. <code>MsgCodes.APPROVE_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":5595387,"reputation":11077,"user_id":4433326,"accept_rate":67,"display_name":"Louis CAD"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1486312451,"creation_date":1486312451,"answer_id":42054523,"question_id":26810188,"body_markdown":"You can use message instead of enums, and use bool type for the flags you need.\r\n\r\nHere&#39;s an example for a simple Alarm Clock schema where it can be set for multiple days in the week:\r\n\r\n    message Alarm {\r\n        uint32 hour = 1;\r\n        uint32 minute = 2;\r\n        bool repeat = 3;\r\n        DaysOfWeek daysOfWeek = 4;\r\n        message DaysOfWeek {\r\n            bool sunday = 1;\r\n            bool monday = 2;\r\n            bool tuesday = 3;\r\n            bool wednesday = 4;\r\n            bool thursday = 5;\r\n            bool friday = 6;\r\n            bool saturday = 7;\r\n        }\r\n    }","title":"Protocol buffers and enums combinations?","body":"<p>You can use message instead of enums, and use bool type for the flags you need.</p>\n\n<p>Here's an example for a simple Alarm Clock schema where it can be set for multiple days in the week:</p>\n\n<pre><code>message Alarm {\n    uint32 hour = 1;\n    uint32 minute = 2;\n    bool repeat = 3;\n    DaysOfWeek daysOfWeek = 4;\n    message DaysOfWeek {\n        bool sunday = 1;\n        bool monday = 2;\n        bool tuesday = 3;\n        bool wednesday = 4;\n        bool thursday = 5;\n        bool friday = 6;\n        bool saturday = 7;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9422354,"reputation":9030,"user_id":7008416,"accept_rate":100,"display_name":"Arthur Tacca"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1674055351,"creation_date":1489053352,"answer_id":42692090,"question_id":26810188,"body_markdown":"If you don&#39;t need to squeeze out every last inch of efficiency (hint: you probably don&#39;t), then just use an array of enum values.\r\n\r\n    message Msg {\r\n        // ...\r\n        enum Code\r\n        {\r\n            CODE_UNSPECIFIED = 0;\r\n            CODE_MSG = 1;\r\n            CODE_FILE = 2;\r\n            CODE_APPROVE = 3;\r\n            CODE_ACK = 4;\r\n            CODE_ERROR_SENDING = 5;\r\n            CODE_WORLD = 6;\r\n        }\r\n        repeated Code codes = 5;\r\n    }\r\n\r\nThe official protobuf docs recommend you reserve an enum entry equal to 0 to mean something like &quot;unknown&quot;. It&#39;s really targeted at enums that are used as non-repeated values (because in proto3 there&#39;s no difference between the 0 enum value and unset) but worth following for all enums, as well as the convention of prefixing enum values with the enum name, as above.","title":"Protocol buffers and enums combinations?","body":"<p>If you don't need to squeeze out every last inch of efficiency (hint: you probably don't), then just use an array of enum values.</p>\n<pre><code>message Msg {\n    // ...\n    enum Code\n    {\n        CODE_UNSPECIFIED = 0;\n        CODE_MSG = 1;\n        CODE_FILE = 2;\n        CODE_APPROVE = 3;\n        CODE_ACK = 4;\n        CODE_ERROR_SENDING = 5;\n        CODE_WORLD = 6;\n    }\n    repeated Code codes = 5;\n}\n</code></pre>\n<p>The official protobuf docs recommend you reserve an enum entry equal to 0 to mean something like &quot;unknown&quot;. It's really targeted at enums that are used as non-repeated values (because in proto3 there's no difference between the 0 enum value and unset) but worth following for all enums, as well as the convention of prefixing enum values with the enum name, as above.</p>\n"}],"owner":{"account_id":458956,"reputation":145582,"user_id":859154,"accept_rate":100,"display_name":"Royi Namir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30003,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":26822782,"answer_count":5,"score":13,"last_activity_date":1674055351,"creation_date":1415394772,"question_id":26810188,"body_markdown":"This is my proto file : \r\n\r\n    message MSG {\r\n        \r\n      required MsgCodes MsgCode = 1;\r\n      optional int64 Serial = 2;        // Unique ID number for this person.\r\n      required int32 From = 3;  \r\n      required int32 To = 4;  \r\n      //bla bla...\r\n    \t\tenum MsgCodes\r\n    \t\t{\r\n    \t\t\tMSG = 1;\r\n    \t\t\tFILE = 2;\r\n    \t\t\tAPPROVE=4;\r\n    \t\t\tACK=8;\r\n    \t\t\tERROR_SENDING=16;\r\n    \t\t\tWORLD=32;\r\n    \t\t}\r\n    }\r\n     \r\n\r\nIn my C# I&#39;m trying to :\r\n\r\n     msg = msg.ToBuilder().SetMsgCode(msg.MsgCode | MSG.Types.MsgCodes.ACK | MSG.Types.MsgCodes.APPROVE).Build();\r\n     SendToJava(msg);\r\n\r\nBut the JAVA tells me : missing MsgCode ( which is a `required`)\r\n\r\nRemoving the combination - **does** solve it\r\n\r\nBut I need to specify combinations\r\n\r\n**Question**\r\n\r\nHow can I solve it ?\r\n\r\nnb : \r\n\r\nThe weird thing is that if I create a `msg` and set multiple enums , and then reads it in C# again - it does work...:-(","title":"Protocol buffers and enums combinations?","body":"<p>This is my proto file : </p>\n\n<pre><code>message MSG {\n\n  required MsgCodes MsgCode = 1;\n  optional int64 Serial = 2;        // Unique ID number for this person.\n  required int32 From = 3;  \n  required int32 To = 4;  \n  //bla bla...\n        enum MsgCodes\n        {\n            MSG = 1;\n            FILE = 2;\n            APPROVE=4;\n            ACK=8;\n            ERROR_SENDING=16;\n            WORLD=32;\n        }\n}\n</code></pre>\n\n<p>In my C# I'm trying to :</p>\n\n<pre><code> msg = msg.ToBuilder().SetMsgCode(msg.MsgCode | MSG.Types.MsgCodes.ACK | MSG.Types.MsgCodes.APPROVE).Build();\n SendToJava(msg);\n</code></pre>\n\n<p>But the JAVA tells me : missing MsgCode ( which is a <code>required</code>)</p>\n\n<p>Removing the combination - <strong>does</strong> solve it</p>\n\n<p>But I need to specify combinations</p>\n\n<p><strong>Question</strong></p>\n\n<p>How can I solve it ?</p>\n\n<p>nb : </p>\n\n<p>The weird thing is that if I create a <code>msg</code> and set multiple enums , and then reads it in C# again - it does work...:-(</p>\n"},{"tags":["java","amazon-dynamodb","pojo","underscore-java"],"comments":[{"owner":{"account_id":15058496,"reputation":337,"user_id":10868077,"display_name":"Yoloroy"},"score":0,"creation_date":1674053365,"post_id":75160871,"comment_id":132633071,"body_markdown":"You will find your answer [here (link to answer from similar question)](https://stackoverflow.com/a/2240661/10868077)","body":"You will find your answer <a href=\"https://stackoverflow.com/a/2240661/10868077\">here (link to answer from similar question)</a>"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1674053482,"post_id":75160871,"comment_id":132633119,"body_markdown":"Even if you are only using the type of a class, if the said class is not a &quot;basic object&quot;, so to speak, like String or Integer, then you need to import it. Every `class` not in the same package and level needs it. That being said, why do you **need** to remove the `import` statement? Are you sure you are not trying to use generics?","body":"Even if you are only using the type of a class, if the said class is not a &quot;basic object&quot;, so to speak, like String or Integer, then you need to import it. Every <code>class</code> not in the same package and level needs it. That being said, why do you <b>need</b> to remove the <code>import</code> statement? Are you sure you are not trying to use generics?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1674054814,"post_id":75160871,"comment_id":132633642,"body_markdown":"The import statement is not required if you use the fully qualified class name in the code.","body":"The import statement is not required if you use the fully qualified class name in the code."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674055182,"creation_date":1674055028,"answer_id":75161429,"question_id":75160871,"body_markdown":"You can change your code like this:\r\nReplace the class name with the fully qualified class name. Then you do not need to import that class.\r\n\r\n    public class Sample {\r\n        public String putBatchRecords(DynamoDbEnhancedClient enhancedClient, Object tableObj) {\r\n            try {\r\n                DynamoDbTable&lt;com.package.dataclasses.TestTable&gt; objTableMappedClass = enhancedClient.table(&quot;Test_Table&quot;, TableSchema.fromBean(com.package.dataclasses.TestTable.class));\r\n                BatchWriteItemEnhancedRequest batchWriteItemEnhancedRequest = BatchWriteItemEnhancedRequest.builder()\r\n                        .writeBatches(\r\n                                WriteBatch.builder(com.package.dataclasses.TestTable.class)\r\n                                        .mappedTableResource(objTableMappedClass)\r\n                                        .addPutItem(builder -&gt; builder.item((com.package.dataclasses.TestTable) tableObj))\r\n                                        .build()\r\n                        )\r\n                        .build();\r\n                enhancedClient.batchWriteItem(batchWriteItemEnhancedRequest);\r\n                }\r\n            } catch (DynamoDbException e) {\r\n                System.err.println(e.getMessage());\r\n                System.exit(1);\r\n            }\r\n            return &quot;Batch write successful&quot;;\r\n        }\r\n    }\r\n\r\nBut it is not clear why you need to remove that import. It does not make your code behave differently at runtime, and it does not make it easier to read.\r\nSo removing one such import would only be meaningful if you want to remove a name collision with another `TestTable` class.\r\n\r\nI strongly believe you do not want to hardcode against that one class name. Use a common base class, or an interface instead.","title":"Pass a class as argument to another class Java","body":"<p>You can change your code like this:\nReplace the class name with the fully qualified class name. Then you do not need to import that class.</p>\n<pre><code>public class Sample {\n    public String putBatchRecords(DynamoDbEnhancedClient enhancedClient, Object tableObj) {\n        try {\n            DynamoDbTable&lt;com.package.dataclasses.TestTable&gt; objTableMappedClass = enhancedClient.table(&quot;Test_Table&quot;, TableSchema.fromBean(com.package.dataclasses.TestTable.class));\n            BatchWriteItemEnhancedRequest batchWriteItemEnhancedRequest = BatchWriteItemEnhancedRequest.builder()\n                    .writeBatches(\n                            WriteBatch.builder(com.package.dataclasses.TestTable.class)\n                                    .mappedTableResource(objTableMappedClass)\n                                    .addPutItem(builder -&gt; builder.item((com.package.dataclasses.TestTable) tableObj))\n                                    .build()\n                    )\n                    .build();\n            enhancedClient.batchWriteItem(batchWriteItemEnhancedRequest);\n            }\n        } catch (DynamoDbException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n        return &quot;Batch write successful&quot;;\n    }\n}\n</code></pre>\n<p>But it is not clear why you need to remove that import. It does not make your code behave differently at runtime, and it does not make it easier to read.\nSo removing one such import would only be meaningful if you want to remove a name collision with another <code>TestTable</code> class.</p>\n<p>I strongly believe you do not want to hardcode against that one class name. Use a common base class, or an interface instead.</p>\n"}],"owner":{"account_id":18335117,"reputation":39,"user_id":13352676,"display_name":"Praha Murali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1674055182,"creation_date":1674052543,"question_id":75160871,"body_markdown":"I am using a data class written in POJO in package myApp. I have another Package UtilLibrary which I have imported as a jar file to the package myApp.\r\n\r\nI have developed a method in UtilLibrary by hardcoding the dataclass now I need to remove the same, for which I am looking for solutons to pass the data class as argument. Below is a sample code, any help is really appreciated.\r\n\r\n```\r\nimport com.package.dataclasses.TestTable;\r\n\r\npublic class Sample {\r\n    public String putBatchRecords(DynamoDbEnhancedClient enhancedClient, Object tableObj) {\r\n        try {\r\n            DynamoDbTable&lt;TestTable&gt; objTableMappedClass = enhancedClient.table(&quot;Test_Table&quot;, TableSchema.fromBean(TestTable.class));\r\n            BatchWriteItemEnhancedRequest batchWriteItemEnhancedRequest = BatchWriteItemEnhancedRequest.builder()\r\n                    .writeBatches(\r\n                            WriteBatch.builder(TestTable.class)\r\n                                    .mappedTableResource(objTableMappedClass)\r\n                                    .addPutItem(builder -&gt; builder.item((TestTable) tableObj))\r\n                                    .build()\r\n                    )\r\n                    .build();\r\n            enhancedClient.batchWriteItem(batchWriteItemEnhancedRequest);\r\n            }\r\n        } catch (DynamoDbException e) {\r\n            System.err.println(e.getMessage());\r\n            System.exit(1);\r\n        }\r\n        return &quot;Batch write successful&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nIn the above code, i need to remove the import statement - hence pass the TestTable as object to putBatchRecords. Removing the statement shows below errors.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gKy8x.jpg","title":"Pass a class as argument to another class Java","body":"<p>I am using a data class written in POJO in package myApp. I have another Package UtilLibrary which I have imported as a jar file to the package myApp.</p>\n<p>I have developed a method in UtilLibrary by hardcoding the dataclass now I need to remove the same, for which I am looking for solutons to pass the data class as argument. Below is a sample code, any help is really appreciated.</p>\n<pre><code>import com.package.dataclasses.TestTable;\n\npublic class Sample {\n    public String putBatchRecords(DynamoDbEnhancedClient enhancedClient, Object tableObj) {\n        try {\n            DynamoDbTable&lt;TestTable&gt; objTableMappedClass = enhancedClient.table(&quot;Test_Table&quot;, TableSchema.fromBean(TestTable.class));\n            BatchWriteItemEnhancedRequest batchWriteItemEnhancedRequest = BatchWriteItemEnhancedRequest.builder()\n                    .writeBatches(\n                            WriteBatch.builder(TestTable.class)\n                                    .mappedTableResource(objTableMappedClass)\n                                    .addPutItem(builder -&gt; builder.item((TestTable) tableObj))\n                                    .build()\n                    )\n                    .build();\n            enhancedClient.batchWriteItem(batchWriteItemEnhancedRequest);\n            }\n        } catch (DynamoDbException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n        return &quot;Batch write successful&quot;;\n    }\n}\n\n</code></pre>\n<p>In the above code, i need to remove the import statement - hence pass the TestTable as object to putBatchRecords. Removing the statement shows below errors.</p>\n<p><a href=\"https://i.stack.imgur.com/gKy8x.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gKy8x.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","incompatibility","java-17","glowroot"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1652437085,"post_id":72227442,"comment_id":127611416,"body_markdown":"I downloaded file `glowroot-0.13.6-dist.zip` from **glowroot.org** and looked at the class file version for two files. Both were 50 which means they were compiled with Java 1.6","body":"I downloaded file <code>glowroot-0.13.6-dist.zip</code> from <b>glowroot.org</b> and looked at the class file version for two files. Both were 50 which means they were compiled with Java 1.6"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1652437124,"post_id":72227442,"comment_id":127611424,"body_markdown":"@StephenC It&#39;s just the bundled ASM from glowroot that doesn&#39;t know how to handle that class file version. No info about the JVM version is provided.","body":"@StephenC It&#39;s just the bundled ASM from glowroot that doesn&#39;t know how to handle that class file version. No info about the JVM version is provided."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1652437562,"post_id":72227442,"comment_id":127611557,"body_markdown":"Was the problem: ASM was trying to access the Java 17 classes but couldn&#39;t. So a newer version of glowroot solved the problem?","body":"Was the problem: ASM was trying to access the Java 17 classes but couldn&#39;t. So a newer version of glowroot solved the problem?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1652437585,"post_id":72227442,"comment_id":127611565,"body_markdown":"@StephenC Given the error originates in `org.glowroot.agent.shaded.org.objectweb.asm.ClassReader` it is more likely that that version of ASM doesn&#39;t support class version 61, rather than not running on Java 17. ASM needs to understand the class version to be able to modify its bytecode.","body":"@StephenC Given the error originates in <code>org.glowroot.agent.shaded.org.objectweb.asm.ClassReader</code> it is more likely that that version of ASM doesn&#39;t support class version 61, rather than not running on Java 17. ASM needs to understand the class version to be able to modify its bytecode."},{"owner":{"account_id":14056845,"reputation":51,"user_id":10153948,"display_name":"Manish Halder"},"score":0,"creation_date":1692905018,"post_id":72227442,"comment_id":135691560,"body_markdown":"Change the dependency \n\t&lt;dependency&gt;\n\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n\t    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n\t    &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\n\t&lt;/dependency&gt;","body":"Change the dependency  \t&lt;dependency&gt; \t    &lt;groupId&gt;org.springframework&lt;/groupId&gt; \t    &lt;artifactId&gt;spring-context&lt;/artifactId&gt; \t    &lt;version&gt;5.2.9.RELEASE&lt;/version&gt; \t&lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1652460243,"creation_date":1652442779,"answer_id":72229157,"question_id":72227442,"body_markdown":"(I incorrectly was zeroing in on the &quot;Unsupported class file major version 61&quot; message without looking at the stacktrace.)\r\n\r\nThe problem (as pointed out by @Mark Rotteveel) is that glowroot is failing while trying to do some code transformation using ASM.  Apparently the `ClassReader` in the version of ASM that is bundled in glowroot 0.13.6 doesn&#39;t understand version 61 (Java 17) class files.\r\n\r\nQ: How to solve this?\r\n\r\nA: Use glowroot 0.14.0-beta.2 or later; see https://github.com/glowroot/glowroot/issues/906.  Alternative, build your application and its dependencies (as required) for an earlier (target) version of Java, and (maybe&lt;sup&gt;1&lt;/sup&gt;) run on an earlier version of Java.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - It depends on whether the code transformations involve the ASM `ClassReader` reading Java SE classes.&lt;/sup&gt;","title":"Unsupported class file major version 61","body":"<p>(I incorrectly was zeroing in on the &quot;Unsupported class file major version 61&quot; message without looking at the stacktrace.)</p>\n<p>The problem (as pointed out by @Mark Rotteveel) is that glowroot is failing while trying to do some code transformation using ASM.  Apparently the <code>ClassReader</code> in the version of ASM that is bundled in glowroot 0.13.6 doesn't understand version 61 (Java 17) class files.</p>\n<p>Q: How to solve this?</p>\n<p>A: Use glowroot 0.14.0-beta.2 or later; see <a href=\"https://github.com/glowroot/glowroot/issues/906\" rel=\"nofollow noreferrer\">https://github.com/glowroot/glowroot/issues/906</a>.  Alternative, build your application and its dependencies (as required) for an earlier (target) version of Java, and (maybe<sup>1</sup>) run on an earlier version of Java.</p>\n<hr />\n<p><sup>1 - It depends on whether the code transformations involve the ASM <code>ClassReader</code> reading Java SE classes.</sup></p>\n"},{"tags":[],"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1667904665,"creation_date":1667904665,"answer_id":74359476,"question_id":72227442,"body_markdown":"The error &quot;unsupported class file major version 61&quot; just means that there&#39;s some library that&#39;s not supported for Java 17. \r\nRead this to understand - https://mkyong.com/java/java-unsupported-class-file-major-version-61/\r\n\r\nThe stack trace above this error will tell you which dependency is that. You&#39;ll need to upgrade that dependency to the Java 17 compliant one.\r\n","title":"Unsupported class file major version 61","body":"<p>The error &quot;unsupported class file major version 61&quot; just means that there's some library that's not supported for Java 17.\nRead this to understand - <a href=\"https://mkyong.com/java/java-unsupported-class-file-major-version-61/\" rel=\"noreferrer\">https://mkyong.com/java/java-unsupported-class-file-major-version-61/</a></p>\n<p>The stack trace above this error will tell you which dependency is that. You'll need to upgrade that dependency to the Java 17 compliant one.</p>\n"},{"tags":[],"owner":{"account_id":6615281,"reputation":1826,"user_id":5108777,"display_name":"manuelvigarcia"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1674055170,"creation_date":1674055170,"answer_id":75161454,"question_id":72227442,"body_markdown":"Also with Jacoco\r\n==\r\nThis error also happens when upgrading to java 17 and having Jacoco 0.8.5. It may complain about some class file that cannot understand.\r\n\r\nJust upgrade Jacoco to 0.8.8 or above and you are good to go.","title":"Unsupported class file major version 61","body":"<h1>Also with Jacoco</h1>\n<p>This error also happens when upgrading to java 17 and having Jacoco 0.8.5. It may complain about some class file that cannot understand.</p>\n<p>Just upgrade Jacoco to 0.8.8 or above and you are good to go.</p>\n"}],"owner":{"account_id":20399834,"reputation":377,"user_id":15065301,"display_name":"Moritz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52445,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":72229157,"answer_count":3,"score":18,"last_activity_date":1674055170,"creation_date":1652434693,"question_id":72227442,"body_markdown":"I am trying to integrate [Glowroot](https://glowroot.org/) into my Java application. Unfortunately, I get the following error:\r\n```\r\n2022-05-13 09:25:57.777 ERROR o.g.a.w.PointcutClassFileTransformer - Unsupported class file major version 61\r\njava.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.glowroot.agent.shaded.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\r\n```\r\nNeither Glowroot nor my application seem to use gradle so I have no idea where this incompatibility is coming from. \r\n\r\nHave you got any idea on how I could find the source of the incompatibility and then how I could fix it? \r\n\r\nThank you!\r\n\r\nEDIT: I use Glowroot in the version 0.13.6 .\r\n\r\nSecond edit: Seems like the version of glowroot was the issue...","title":"Unsupported class file major version 61","body":"<p>I am trying to integrate <a href=\"https://glowroot.org/\" rel=\"noreferrer\">Glowroot</a> into my Java application. Unfortunately, I get the following error:</p>\n<pre><code>2022-05-13 09:25:57.777 ERROR o.g.a.w.PointcutClassFileTransformer - Unsupported class file major version 61\njava.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.glowroot.agent.shaded.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\n</code></pre>\n<p>Neither Glowroot nor my application seem to use gradle so I have no idea where this incompatibility is coming from.</p>\n<p>Have you got any idea on how I could find the source of the incompatibility and then how I could fix it?</p>\n<p>Thank you!</p>\n<p>EDIT: I use Glowroot in the version 0.13.6 .</p>\n<p>Second edit: Seems like the version of glowroot was the issue...</p>\n"},{"tags":["java","android","android-fragments","android-transitions"],"answers":[{"tags":[],"owner":{"display_name":"user19516326"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674055087,"creation_date":1674049246,"answer_id":75160135,"question_id":75148326,"body_markdown":"Solved. It turned out it was a uncompatibility. I tried to set transition on Toolbar and TextView. Once I get TextView from Toolbar with this method everything works fine:\r\n\r\n        public static TextView getTextViewTitle(Toolbar toolbar){\r\n        TextView textViewTitle = null;\r\n        for(int i = 0; i&lt;toolbar.getChildCount(); i++) {\r\n            View view = toolbar.getChildAt(i);\r\n            if(view instanceof TextView) {\r\n                textViewTitle = (TextView) view;\r\n                break;\r\n            }\r\n        }\r\n        return textViewTitle;\r\n    }","title":"Android shared element return transition works from 11 recyclerview element and above","body":"<p>Solved. It turned out it was a uncompatibility. I tried to set transition on Toolbar and TextView. Once I get TextView from Toolbar with this method everything works fine:</p>\n<pre><code>    public static TextView getTextViewTitle(Toolbar toolbar){\n    TextView textViewTitle = null;\n    for(int i = 0; i&lt;toolbar.getChildCount(); i++) {\n        View view = toolbar.getChildAt(i);\n        if(view instanceof TextView) {\n            textViewTitle = (TextView) view;\n            break;\n        }\n    }\n    return textViewTitle;\n}\n</code></pre>\n"}],"owner":{"display_name":"user19516326"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674055087,"creation_date":1673967618,"question_id":75148326,"body_markdown":"I want two textviews from recyclerview to have a correctly transition when return. Now it works very strange I mean return transition for both textwievs starts from 11 element and then it is what I want, but before that just one textview (title) has a return transition. Why then return transition starts from 11 item and how to have this transition of course from first element on recyclerview list?\r\n\r\nHere is my code and explanation.\r\n\r\nI have a recyclerview which sets transitionname for two textviews dynamically:\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        Note noteItem = noteItemList.get(position);\r\n\r\n        holder.noteTitleText.setText(noteItem.getNoteTitle());\r\n        ViewCompat.setTransitionName(holder.noteTitleText, &quot;title&quot; + position);\r\n        holder.noteDetailsText.setText(noteItem.getNoteDetails());\r\n        ViewCompat.setTransitionName(holder.noteDetailsText, &quot;details&quot; + position);\r\n       (...)\r\n    }\r\n\r\nin this adapter I have ViewHolder in which on parent view I set onclick like this:\r\n\r\n            rlNumberToGradient.setOnClickListener(view -&gt; noteTitleDetailsOnClickAction());\r\n\r\nwhere         \r\n\r\n    private void noteTitleDetailsOnClickAction() {\r\n            boolean edit = true;\r\n            if (fragment instanceof FragmentMain) {\r\n                list = db.getAllNotes();\r\n                isOnMove = ((FragmentMain) fragment).isOnMove;\r\n            } else if (fragment instanceof FragmentFav) {\r\n                list = db.getFavNotes();\r\n            } else if (fragment instanceof FragmentSearch) {\r\n                list = db.getSearchNotes(((FragmentSearch) fragment).onChange());\r\n            }\r\n\r\n            if (!isOnMove) {\r\n                Bundle bundle = new Bundle();\r\n                bundle.putBoolean(&quot;edit&quot;, edit);\r\n                bundle.putInt(&quot;position&quot;, list.get(getAdapterPosition()).getId());\r\n                ((ActivityMain) fragment.requireActivity()).onPassValuesToFragmentShowNote(bundle, noteTitleText, noteDetailsText);\r\n            }\r\n            isOnMove = false;\r\n        }\r\n\r\ndon&#39;t care about `isOnMove` variable, for this purpose lets assume its always true.\r\n\r\nOnce I click on this `rlNumberToGradient` view `onPassValuesToFragmentShowNote` method from main activity is called. It looks like this:\r\n\r\n\r\n    @Override\r\n    public void onPassValuesToFragmentShowNote(Bundle bundle, TextView tvTitle, TextView tvDetails) {\r\n        bundle.putString(&quot;transition_name_title&quot;, ViewCompat.getTransitionName(tvTitle));\r\n        bundle.putString(&quot;title&quot;, tvTitle.getText().toString());\r\n        bundle.putString(&quot;transition_name_details&quot;, ViewCompat.getTransitionName(tvDetails));\r\n        bundle.putString(&quot;details&quot;, tvDetails.getText().toString());\r\n        fragmentShowNote.setArguments(bundle);\r\n\r\n        FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\r\n        ft.setReorderingAllowed(true);\r\n        ft.addSharedElement(tvTitle, ViewCompat.getTransitionName(tvTitle));\r\n        ft.addSharedElement(tvDetails, ViewCompat.getTransitionName(tvDetails));\r\n        ft.setCustomAnimations(R.anim.fade_in, R.anim.fade_out);\r\n        ft.addToBackStack(fragmentShowNote.getClass().getSimpleName());\r\n        ft.replace(R.id.content_frame, fragmentShowNote);\r\n        ft.commit();\r\n    }\r\n\r\n\r\nAs we can see the fragment is showing up. Here is the key code here:\r\n\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setHasOptionsMenu(true);\r\n        sp = PreferenceManager.getDefaultSharedPreferences(requireContext());\r\n        setSharedElementEnterTransition(TransitionInflater.from(requireContext()).inflateTransition(R.transition.change_image_transform));\r\n        setSharedElementReturnTransition(TransitionInflater.from(requireContext()).inflateTransition(R.transition.change_image_transform));\r\n        setExitTransition(TransitionInflater.from(requireContext()).inflateTransition(R.transition.change_image_transform));\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_show_note, container, false);\r\n\r\n        if (getArguments() != null) {\r\n            Bundle b = getArguments();\r\n            position = b.getInt(&quot;position&quot;);\r\n            transitionNameTitle = b.getString(&quot;transition_name_title&quot;);\r\n            title = b.getString(&quot;title&quot;);\r\n            transitionNameDetails = b.getString(&quot;transition_name_details&quot;);\r\n            details = b.getString(&quot;details&quot;);\r\n        }\r\n        \r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        if (((ActivityMain) requireActivity()).getSupportActionBar() != null) {\r\n            ((ActivityMain) requireActivity()).getSupportActionBar().hide();\r\n        }\r\n        Toolbar toolbar = view.findViewById(R.id.toolbar);\r\n        ViewCompat.setTransitionName(toolbar, transitionNameTitle);\r\n        ((ActivityMain) requireActivity()).setSupportActionBar(toolbar);\r\n        ((AppBarLayout) view.findViewById(R.id.app_bar_layout)).setExpanded(true);\r\n        toolbar.setTitle(title);\r\n        TextView tvNoteDescValue = view.findViewById(R.id.note_desc_value);\r\n        ViewCompat.setTransitionName(tvNoteDescValue, transitionNameDetails);\r\n        tvNoteDescValue.setText(details);\r\n    }\r\n\r\n\r\n","title":"Android shared element return transition works from 11 recyclerview element and above","body":"<p>I want two textviews from recyclerview to have a correctly transition when return. Now it works very strange I mean return transition for both textwievs starts from 11 element and then it is what I want, but before that just one textview (title) has a return transition. Why then return transition starts from 11 item and how to have this transition of course from first element on recyclerview list?</p>\n<p>Here is my code and explanation.</p>\n<p>I have a recyclerview which sets transitionname for two textviews dynamically:</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    Note noteItem = noteItemList.get(position);\n\n    holder.noteTitleText.setText(noteItem.getNoteTitle());\n    ViewCompat.setTransitionName(holder.noteTitleText, &quot;title&quot; + position);\n    holder.noteDetailsText.setText(noteItem.getNoteDetails());\n    ViewCompat.setTransitionName(holder.noteDetailsText, &quot;details&quot; + position);\n   (...)\n}\n</code></pre>\n<p>in this adapter I have ViewHolder in which on parent view I set onclick like this:</p>\n<pre><code>        rlNumberToGradient.setOnClickListener(view -&gt; noteTitleDetailsOnClickAction());\n</code></pre>\n<p>where</p>\n<pre><code>private void noteTitleDetailsOnClickAction() {\n        boolean edit = true;\n        if (fragment instanceof FragmentMain) {\n            list = db.getAllNotes();\n            isOnMove = ((FragmentMain) fragment).isOnMove;\n        } else if (fragment instanceof FragmentFav) {\n            list = db.getFavNotes();\n        } else if (fragment instanceof FragmentSearch) {\n            list = db.getSearchNotes(((FragmentSearch) fragment).onChange());\n        }\n\n        if (!isOnMove) {\n            Bundle bundle = new Bundle();\n            bundle.putBoolean(&quot;edit&quot;, edit);\n            bundle.putInt(&quot;position&quot;, list.get(getAdapterPosition()).getId());\n            ((ActivityMain) fragment.requireActivity()).onPassValuesToFragmentShowNote(bundle, noteTitleText, noteDetailsText);\n        }\n        isOnMove = false;\n    }\n</code></pre>\n<p>don't care about <code>isOnMove</code> variable, for this purpose lets assume its always true.</p>\n<p>Once I click on this <code>rlNumberToGradient</code> view <code>onPassValuesToFragmentShowNote</code> method from main activity is called. It looks like this:</p>\n<pre><code>@Override\npublic void onPassValuesToFragmentShowNote(Bundle bundle, TextView tvTitle, TextView tvDetails) {\n    bundle.putString(&quot;transition_name_title&quot;, ViewCompat.getTransitionName(tvTitle));\n    bundle.putString(&quot;title&quot;, tvTitle.getText().toString());\n    bundle.putString(&quot;transition_name_details&quot;, ViewCompat.getTransitionName(tvDetails));\n    bundle.putString(&quot;details&quot;, tvDetails.getText().toString());\n    fragmentShowNote.setArguments(bundle);\n\n    FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\n    ft.setReorderingAllowed(true);\n    ft.addSharedElement(tvTitle, ViewCompat.getTransitionName(tvTitle));\n    ft.addSharedElement(tvDetails, ViewCompat.getTransitionName(tvDetails));\n    ft.setCustomAnimations(R.anim.fade_in, R.anim.fade_out);\n    ft.addToBackStack(fragmentShowNote.getClass().getSimpleName());\n    ft.replace(R.id.content_frame, fragmentShowNote);\n    ft.commit();\n}\n</code></pre>\n<p>As we can see the fragment is showing up. Here is the key code here:</p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setHasOptionsMenu(true);\n    sp = PreferenceManager.getDefaultSharedPreferences(requireContext());\n    setSharedElementEnterTransition(TransitionInflater.from(requireContext()).inflateTransition(R.transition.change_image_transform));\n    setSharedElementReturnTransition(TransitionInflater.from(requireContext()).inflateTransition(R.transition.change_image_transform));\n    setExitTransition(TransitionInflater.from(requireContext()).inflateTransition(R.transition.change_image_transform));\n}\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_show_note, container, false);\n\n    if (getArguments() != null) {\n        Bundle b = getArguments();\n        position = b.getInt(&quot;position&quot;);\n        transitionNameTitle = b.getString(&quot;transition_name_title&quot;);\n        title = b.getString(&quot;title&quot;);\n        transitionNameDetails = b.getString(&quot;transition_name_details&quot;);\n        details = b.getString(&quot;details&quot;);\n    }\n    \n    return view;\n}\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    if (((ActivityMain) requireActivity()).getSupportActionBar() != null) {\n        ((ActivityMain) requireActivity()).getSupportActionBar().hide();\n    }\n    Toolbar toolbar = view.findViewById(R.id.toolbar);\n    ViewCompat.setTransitionName(toolbar, transitionNameTitle);\n    ((ActivityMain) requireActivity()).setSupportActionBar(toolbar);\n    ((AppBarLayout) view.findViewById(R.id.app_bar_layout)).setExpanded(true);\n    toolbar.setTitle(title);\n    TextView tvNoteDescValue = view.findViewById(R.id.note_desc_value);\n    ViewCompat.setTransitionName(tvNoteDescValue, transitionNameDetails);\n    tvNoteDescValue.setText(details);\n}\n</code></pre>\n"},{"tags":["java","list","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":9804742,"reputation":3296,"user_id":8157304,"accept_rate":75,"display_name":"sound wave"},"score":0,"creation_date":1674046232,"post_id":75157069,"comment_id":132630404,"body_markdown":"isn&#39;t better if you sort the products by popularity on the website? in this way the first product showed is the one with most views","body":"isn&#39;t better if you sort the products by popularity on the website? in this way the first product showed is the one with most views"},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1674050274,"post_id":75157069,"comment_id":132631832,"body_markdown":"i would suggest posting the full HTML because now the description doesn&#39;t correspond to the HTML provided. And @soundwave is right, just sort it by the most reviews","body":"i would suggest posting the full HTML because now the description doesn&#39;t correspond to the HTML provided. And @soundwave is right, just sort it by the most reviews"}],"answers":[{"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674054888,"creation_date":1674036165,"answer_id":75157497,"question_id":75157069,"body_markdown":"Once you get the most views product then find preceding element of `a` tag and then click.\r\n\r\n    productViewsList.get(highestViews).findElement(By.xpath(&quot;./preceding::a[1]&quot;)).click()","title":"How to get product reviews and then click &lt;a&gt; element of product with most reviews (Selenium, Java)","body":"<p>Once you get the most views product then find preceding element of <code>a</code> tag and then click.</p>\n<pre><code>productViewsList.get(highestViews).findElement(By.xpath(&quot;./preceding::a[1]&quot;)).click()\n</code></pre>\n"}],"owner":{"account_id":24263516,"reputation":23,"user_id":18212781,"display_name":"Stefan Itic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674054888,"creation_date":1674034193,"question_id":75157069,"body_markdown":"    &lt;section id=&quot;135156028&quot; data-scrolled=&quot;false&quot; class=&quot;AdItem_adOuterHolder__Z29Nf&quot;&gt;\r\n         &lt;article class=&quot;AdItem_adHolder__GL0yo&quot;&gt;\r\n             &lt;a class=&quot;Link_link__J4Qd8 Link_inherit___qXEP&quot; target=&quot;_self&quot; id=&quot;&quot; rel=&quot;&quot; role=&quot;button&quot; \r\n                       tabindex=&quot;-1&quot; href=&quot;..&quot; style=&quot;align-items: flex-start;&quot;&gt;\r\n                 &lt;div class=&quot;AdItem_imageHolder__DYGd_&quot; style=&quot;max-width: 128px; min-width: 128px; height:                                                              \r\n                             120px;&quot;&gt;\r\n                     &lt;img src=&quot;...&quot;&gt;\r\n                 &lt;/div&gt;\r\n             &lt;/a&gt;\r\n             &lt;div class=&quot;AdItem_descriptionHolder__xnkD4&quot;&gt;\r\n                 &lt;div class=&quot;AdItem_adInfoHolder___36KR&quot;&gt;&lt;/div&gt;\r\n                 &lt;div class=&quot;AdItem_price__k0rQn&quot;&gt;650 din&lt;/div&gt;\r\n                 &lt;div&gt;\r\n                      &lt;div class=&quot;AdItem_viewAndFavorite__pjskf&quot;&gt;\r\n                          &lt;div class=&quot;AdItem_favoriteHolder__bKBRE&quot;&gt;\r\n                              &lt;svg width=&quot;16&quot; height=&quot;16&quot; viewBox=&quot;0 0 16 16&quot; fill=&quot;none&quot; \r\n                                   xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;asIcon_greyStroke__NU1Xe  \r\n                                   asIcon_svg__Zm34q&quot;&gt;\r\n                              &lt;/svg&gt;\r\n                              &lt;span class=&quot;AdItem_count__iNDqG&quot;&gt;**144**&lt;/span&gt;\r\n                           &lt;/div&gt;\r\n                           &lt;div class=&quot;AdItem_favoriteHolder__bKBRE&quot;&gt;\r\n                               &lt;svg width=&quot;16&quot; height=&quot;16&quot; viewBox=&quot;0 0 16 16&quot; fill=&quot;none&quot; \r\n                                    xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;asIcon_greyStroke__NU1Xe \r\n                                    asIcon_svg__Zm34q&quot;&gt;\r\n                               &lt;/svg&gt;\r\n                               &lt;span class=&quot;AdItem_count__iNDqG&quot;&gt;13&lt;/span&gt;\r\n                          &lt;/div&gt;\r\n                       &lt;/div&gt;\r\n                       &lt;div class=&quot;AdItem_postedStatus__C6vfK&quot;&gt;...&lt;/div&gt;\r\n                  &lt;/div&gt;\r\n             &lt;/div&gt;\r\n          &lt;/article&gt;\r\n     &lt;/section&gt;\r\n\r\nThis is the code, I deleted some unnecessary thing, but in case I deleted some importat part of the code, link is here: [https://novi.kupujemprodajem.com/mama-i-beba/oprema-za-hranjenje-i-dojenje/grupa/18/2473/1]. I took random product to share code, not the product with most views, but what I want to do is to get views count from here:    &quot;xpath = &quot;//div[@class=&#39;AdItem_viewAndFavorite__pjskf&#39;]//div[1]&quot;    , to check which product has highest number, and then I want to click on &lt;a&gt; element of that product. I&#39;m newbie, and I don&#39;t know how to connect those, and I didn&#39;t find any solutions on the internet.\r\n\r\nI tried something like this:\r\n \r\n    @FindBy(xpath = &quot;//div[@class=&#39;AdItem_name__BppRQ&#39;]&quot;)\r\n        List&lt;WebElement&gt; productsList;\r\n    @FindBy(xpath = &quot;//div[@class=&#39;AdItem_viewAndFavorite__pjskf&#39;]//div[1]&quot;)\r\n        List&lt;WebElement&gt; productViewsList;   \r\n\r\n    public SingleProductPage chooseHighestViewsProduct(){\r\n\r\n       String productName;\r\n       String productViews;\r\n       int numberOfViews;\r\n        \r\n       HashMap&lt;Integer,String&gt; mapFinalProducts = new HashMap&lt;Integer, String&gt;();\r\n            for (int i=0;i&lt;productsList.size();i++){\r\n                productName = productsList.get(i).getText();\r\n                productViews = productViewsList.get(i).getText();\r\n                numberOfViews = Integer.parseInt(productViews);\r\n                mapFinalProducts.put(numberOfViews, productName);\r\n            }\r\n       Set&lt;Integer&gt; allKeys = mapFinalProducts.keySet();\r\n       ArrayList&lt;Integer&gt; listOfProductValues = new ArrayList&lt;Integer&gt;(allKeys);\r\n       Collections.sort(listOfProductValues);\r\n       int highestViews = listOfProductValues.get(listOfProductValues.size()-1);\r\n    }\r\n\r\nThis way I get the product with most views, but because that span is not clickable, I don&#39;t know how to click on its link.","title":"How to get product reviews and then click &lt;a&gt; element of product with most reviews (Selenium, Java)","body":"<pre><code>&lt;section id=&quot;135156028&quot; data-scrolled=&quot;false&quot; class=&quot;AdItem_adOuterHolder__Z29Nf&quot;&gt;\n     &lt;article class=&quot;AdItem_adHolder__GL0yo&quot;&gt;\n         &lt;a class=&quot;Link_link__J4Qd8 Link_inherit___qXEP&quot; target=&quot;_self&quot; id=&quot;&quot; rel=&quot;&quot; role=&quot;button&quot; \n                   tabindex=&quot;-1&quot; href=&quot;..&quot; style=&quot;align-items: flex-start;&quot;&gt;\n             &lt;div class=&quot;AdItem_imageHolder__DYGd_&quot; style=&quot;max-width: 128px; min-width: 128px; height:                                                              \n                         120px;&quot;&gt;\n                 &lt;img src=&quot;...&quot;&gt;\n             &lt;/div&gt;\n         &lt;/a&gt;\n         &lt;div class=&quot;AdItem_descriptionHolder__xnkD4&quot;&gt;\n             &lt;div class=&quot;AdItem_adInfoHolder___36KR&quot;&gt;&lt;/div&gt;\n             &lt;div class=&quot;AdItem_price__k0rQn&quot;&gt;650 din&lt;/div&gt;\n             &lt;div&gt;\n                  &lt;div class=&quot;AdItem_viewAndFavorite__pjskf&quot;&gt;\n                      &lt;div class=&quot;AdItem_favoriteHolder__bKBRE&quot;&gt;\n                          &lt;svg width=&quot;16&quot; height=&quot;16&quot; viewBox=&quot;0 0 16 16&quot; fill=&quot;none&quot; \n                               xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;asIcon_greyStroke__NU1Xe  \n                               asIcon_svg__Zm34q&quot;&gt;\n                          &lt;/svg&gt;\n                          &lt;span class=&quot;AdItem_count__iNDqG&quot;&gt;**144**&lt;/span&gt;\n                       &lt;/div&gt;\n                       &lt;div class=&quot;AdItem_favoriteHolder__bKBRE&quot;&gt;\n                           &lt;svg width=&quot;16&quot; height=&quot;16&quot; viewBox=&quot;0 0 16 16&quot; fill=&quot;none&quot; \n                                xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;asIcon_greyStroke__NU1Xe \n                                asIcon_svg__Zm34q&quot;&gt;\n                           &lt;/svg&gt;\n                           &lt;span class=&quot;AdItem_count__iNDqG&quot;&gt;13&lt;/span&gt;\n                      &lt;/div&gt;\n                   &lt;/div&gt;\n                   &lt;div class=&quot;AdItem_postedStatus__C6vfK&quot;&gt;...&lt;/div&gt;\n              &lt;/div&gt;\n         &lt;/div&gt;\n      &lt;/article&gt;\n &lt;/section&gt;\n</code></pre>\n<p>This is the code, I deleted some unnecessary thing, but in case I deleted some importat part of the code, link is here: [https://novi.kupujemprodajem.com/mama-i-beba/oprema-za-hranjenje-i-dojenje/grupa/18/2473/1]. I took random product to share code, not the product with most views, but what I want to do is to get views count from here:    &quot;xpath = &quot;//div[@class='AdItem_viewAndFavorite__pjskf']//div[1]&quot;    , to check which product has highest number, and then I want to click on  element of that product. I'm newbie, and I don't know how to connect those, and I didn't find any solutions on the internet.</p>\n<p>I tried something like this:</p>\n<pre><code>@FindBy(xpath = &quot;//div[@class='AdItem_name__BppRQ']&quot;)\n    List&lt;WebElement&gt; productsList;\n@FindBy(xpath = &quot;//div[@class='AdItem_viewAndFavorite__pjskf']//div[1]&quot;)\n    List&lt;WebElement&gt; productViewsList;   \n\npublic SingleProductPage chooseHighestViewsProduct(){\n\n   String productName;\n   String productViews;\n   int numberOfViews;\n    \n   HashMap&lt;Integer,String&gt; mapFinalProducts = new HashMap&lt;Integer, String&gt;();\n        for (int i=0;i&lt;productsList.size();i++){\n            productName = productsList.get(i).getText();\n            productViews = productViewsList.get(i).getText();\n            numberOfViews = Integer.parseInt(productViews);\n            mapFinalProducts.put(numberOfViews, productName);\n        }\n   Set&lt;Integer&gt; allKeys = mapFinalProducts.keySet();\n   ArrayList&lt;Integer&gt; listOfProductValues = new ArrayList&lt;Integer&gt;(allKeys);\n   Collections.sort(listOfProductValues);\n   int highestViews = listOfProductValues.get(listOfProductValues.size()-1);\n}\n</code></pre>\n<p>This way I get the product with most views, but because that span is not clickable, I don't know how to click on its link.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674054635,"creation_date":1674054635,"answer_id":75161342,"question_id":75156566,"body_markdown":"Kafka headers allow multiple values; starting with version 2.9.5, you can configure the framework to replace headers instead of adding values to them.\r\n\r\nhttps://github.com/spring-projects/spring-kafka/pull/2529\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/2.9.5/reference/html/#retry-headers\r\n\r\nPlease open an issue on GitHub, we should add an option similar to `stripOriginalExceptionHeaders` (which is true by default) for these other headers.","title":"Repeating headers in Non-Blocking Retry Mechanism - Spring Kafka","body":"<p>Kafka headers allow multiple values; starting with version 2.9.5, you can configure the framework to replace headers instead of adding values to them.</p>\n<p><a href=\"https://github.com/spring-projects/spring-kafka/pull/2529\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-kafka/pull/2529</a></p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/2.9.5/reference/html/#retry-headers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/2.9.5/reference/html/#retry-headers</a></p>\n<p>Please open an issue on GitHub, we should add an option similar to <code>stripOriginalExceptionHeaders</code> (which is true by default) for these other headers.</p>\n"}],"owner":{"account_id":22619843,"reputation":39,"user_id":16798827,"display_name":"cloud_7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75161342,"answer_count":1,"score":1,"last_activity_date":1674054635,"creation_date":1674031249,"question_id":75156566,"body_markdown":"I&#39;m using spring-kafka [non-blocking retry mechanism][1]. I&#39;ve noticed that the following headers accumulate on next retry topics:\r\n\r\n    retry_topic-attempts\r\n    retry_topic-backoff-timestamp\r\n    retry_topic-original-timestamp\r\n\r\nIt means that on retry_0 there are 3 headers, on retry_1 they are doubled and finally on dlt they are tripled.\r\n\r\nAs far as I unterstand they are essential to conduct retry process, but I don&#39;t think that DLT needs information regarding retry_0.\r\n\r\nIs it possible not to do it, because the messages become heavier and heavier with each retry?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/reference/html/#retry-topic","title":"Repeating headers in Non-Blocking Retry Mechanism - Spring Kafka","body":"<p>I'm using spring-kafka <a href=\"https://docs.spring.io/spring-kafka/reference/html/#retry-topic\" rel=\"nofollow noreferrer\">non-blocking retry mechanism</a>. I've noticed that the following headers accumulate on next retry topics:</p>\n<pre><code>retry_topic-attempts\nretry_topic-backoff-timestamp\nretry_topic-original-timestamp\n</code></pre>\n<p>It means that on retry_0 there are 3 headers, on retry_1 they are doubled and finally on dlt they are tripled.</p>\n<p>As far as I unterstand they are essential to conduct retry process, but I don't think that DLT needs information regarding retry_0.</p>\n<p>Is it possible not to do it, because the messages become heavier and heavier with each retry?</p>\n"},{"tags":["java","email","client"],"answers":[{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1280297805,"creation_date":1280297805,"answer_id":3350344,"question_id":3350301,"body_markdown":"Setting \r\n\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\nenables tls which is on port **587** not 465 \r\n\r\n    props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n\r\n\r\nSee [Google Doc](http://mail.google.com/support/bin/answer.py?hl=en&amp;answer=13287)\r\n\r\nAnd check whether you really need these lines\r\n\r\n    props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;587&quot;);\r\n    props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\r\n\r\n","title":"Email Client in java","body":"<p>Setting </p>\n\n<pre><code>props.put(\"mail.smtp.starttls.enable\", \"true\");\n</code></pre>\n\n<p>enables tls which is on port <strong>587</strong> not 465 </p>\n\n<pre><code>props.put(\"mail.smtp.port\", \"587\");\n</code></pre>\n\n<p>See <a href=\"http://mail.google.com/support/bin/answer.py?hl=en&amp;answer=13287\" rel=\"nofollow noreferrer\">Google Doc</a></p>\n\n<p>And check whether you really need these lines</p>\n\n<pre><code>props.put(\"mail.smtp.socketFactory.port\", \"587\");\nprops.put(\"mail.smtp.socketFactory.fallback\", \"false\");\n</code></pre>\n"}],"owner":{"account_id":96611,"reputation":656,"user_id":262523,"accept_rate":46,"display_name":"Padma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2119,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3350344,"answer_count":1,"score":2,"last_activity_date":1674054343,"creation_date":1280297191,"question_id":3350301,"body_markdown":"```\r\ntry {\r\n    Properties props = new Properties();\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); \r\n    props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n    props.setProperty(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\r\n    props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;587&quot;);\r\n    props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n    props.setProperty(&quot;mail.user&quot;, &quot;username&quot;);\r\n    props.setProperty(&quot;mail.password&quot;, &quot;password&quot;);\r\n   \r\n    Session session = Session.getDefaultInstance(props, new javax.mail.Authenticator() {\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            return new PasswordAuthentication(&quot;username&quot;,&quot;password&quot;);\r\n        }\r\n    }); \r\n    session.setDebug(true);\r\n\r\n    MimeMessage msg = new MimeMessage(session);\r\n\r\n    InternetAddress addressFrom = new InternetAddress(from);\r\n    msg.setFrom(addressFrom);\r\n\r\n    msg.addRecipient(Message.RecipientType.TO,new InternetAddress(&quot; Recipient mail id &quot;));\r\n   \r\n    msg.setSubject(subject);\r\n    Transport transport = session.getTransport();\r\n    transport.connect();\r\n    transport.sendMessage(msg,msg.getRecipients(Message.RecipientType.TO));\r\n    transport.close();\r\n} catch (Exception e) {\r\n    // TODO Auto-generated catch block\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nI am using the above code to send an email to a Gmail account. I have set the SMTP host value `smtp.gmail.com` and port `465` in the properties. But the email is not sent and my app got stuck for a long time. After that, I am getting an error like given below\r\n\r\n```\r\njavax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 465, response: -1\r\n```\r\n\r\nCan anyone tell what is the reason and how to resolve this issue?   ","title":"Email Client in java","body":"<pre><code>try {\n    Properties props = new Properties();\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); \n    props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.setProperty(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\n    props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;587&quot;);\n    props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\n    props.setProperty(&quot;mail.user&quot;, &quot;username&quot;);\n    props.setProperty(&quot;mail.password&quot;, &quot;password&quot;);\n   \n    Session session = Session.getDefaultInstance(props, new javax.mail.Authenticator() {\n        protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(&quot;username&quot;,&quot;password&quot;);\n        }\n    }); \n    session.setDebug(true);\n\n    MimeMessage msg = new MimeMessage(session);\n\n    InternetAddress addressFrom = new InternetAddress(from);\n    msg.setFrom(addressFrom);\n\n    msg.addRecipient(Message.RecipientType.TO,new InternetAddress(&quot; Recipient mail id &quot;));\n   \n    msg.setSubject(subject);\n    Transport transport = session.getTransport();\n    transport.connect();\n    transport.sendMessage(msg,msg.getRecipients(Message.RecipientType.TO));\n    transport.close();\n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>I am using the above code to send an email to a Gmail account. I have set the SMTP host value <code>smtp.gmail.com</code> and port <code>465</code> in the properties. But the email is not sent and my app got stuck for a long time. After that, I am getting an error like given below</p>\n<pre><code>javax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 465, response: -1\n</code></pre>\n<p>Can anyone tell what is the reason and how to resolve this issue?</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose"],"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674054218,"creation_date":1674051707,"question_id":75160680,"body_markdown":"I have a project that uses old xml and views. One fragment is refactored using Jetpack Compose.\r\nWhen I try to navigate between fragments, **android:windowBackground** is displayed for a second and disappears. I have tried applying background color to my composables, but windowBackground  displays anyway.\r\n\r\n```\r\nbinding.composeView.setContent {\r\n     AppTheme {\r\n          Surface(color = Color.Blue) { \r\n               // content \r\n          }\r\n     }\r\n}\r\n```\r\n\r\n```\r\n&lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/logo&lt;/item&gt;\r\n```\r\n\r\n[related issue][1]\r\n\r\n\r\n  [1]: https://github.com/google/accompanist/issues/1380","title":"window background appears on Jetpack Compose screens","body":"<p>I have a project that uses old xml and views. One fragment is refactored using Jetpack Compose.\nWhen I try to navigate between fragments, <strong>android:windowBackground</strong> is displayed for a second and disappears. I have tried applying background color to my composables, but windowBackground  displays anyway.</p>\n<pre><code>binding.composeView.setContent {\n     AppTheme {\n          Surface(color = Color.Blue) { \n               // content \n          }\n     }\n}\n</code></pre>\n<pre><code>&lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/logo&lt;/item&gt;\n</code></pre>\n<p><a href=\"https://github.com/google/accompanist/issues/1380\" rel=\"nofollow noreferrer\">related issue</a></p>\n"},{"tags":["java","string","integer"],"comments":[{"owner":{"account_id":402857,"reputation":13631,"user_id":770270,"accept_rate":75,"display_name":"tnw"},"score":3,"creation_date":1426697304,"post_id":29127884,"comment_id":46481740,"body_markdown":"You couldn&#39;t just google `java remove space from string`?? Or better yet, your exact question `java string length without spaces` *also* turns up results that would answer your question.","body":"You couldn&#39;t just google <code>java remove space from string</code>?? Or better yet, your exact question <code>java string length without spaces</code> <i>also</i> turns up results that would answer your question."},{"owner":{"account_id":138142,"reputation":1832,"user_id":342875,"accept_rate":89,"display_name":"alexander.biskop"},"score":2,"creation_date":1426697414,"post_id":29127884,"comment_id":46481828,"body_markdown":"This site is not intended for posting your class assignments and waiting for other people to solve them for you, sorry.","body":"This site is not intended for posting your class assignments and waiting for other people to solve them for you, sorry."}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1426697714,"creation_date":1426697317,"answer_id":29127920,"question_id":29127884,"body_markdown":"You could try replacing all empty spaces by zero char:\r\n\r\n    String test = &quot;Hello world    1 2 3 4 5&quot;;\r\n    System.out.println(test.replace(&quot; &quot;, &quot;&quot;).length());\r\n","title":"how to calculate the length of a string without spaces in java","body":"<p>You could try replacing all empty spaces by zero char:</p>\n\n<pre><code>String test = \"Hello world    1 2 3 4 5\";\nSystem.out.println(test.replace(\" \", \"\").length());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139503,"reputation":13360,"user_id":1123805,"accept_rate":67,"display_name":"bvaughn"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1426697981,"creation_date":1426697448,"answer_id":29127975,"question_id":29127884,"body_markdown":"    int characters = 0;\r\n    for (int i = 0, length = string.length(); i &lt; length; i++) {\r\n      if (str.charAt(i) != &#39; &#39;) {\r\n        characters++;\r\n      }\r\n    }","title":"how to calculate the length of a string without spaces in java","body":"<pre><code>int characters = 0;\nfor (int i = 0, length = string.length(); i &lt; length; i++) {\n  if (str.charAt(i) != ' ') {\n    characters++;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9981057,"reputation":1,"user_id":7384002,"display_name":"Sonaj Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508177185,"creation_date":1483706206,"answer_id":41505914,"question_id":29127884,"body_markdown":"    import java.util.*;\r\n    \r\n    class cont\r\n    \r\n    \t{\r\n    \t\tpublic static void main(String arg[]){\r\n    \t\tint sum=0;\r\n    \t\tScanner s=new Scanner(System.in);\r\n            System.out.println(&quot;please enter string&quot;);\r\n    \t\tString val=s.nextLine();\r\n    \t\tint len=val.length();\r\n    \t\t\tfor(int i=0;i&lt;len;i++){\r\n    \t\t\t\tif(val.charAt(i)==&#39; &#39;)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tsum++;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tSystem.out.println(sum);\r\n    \t\t\t\t}\r\n    \t}","title":"how to calculate the length of a string without spaces in java","body":"<pre><code>import java.util.*;\n\nclass cont\n\n    {\n        public static void main(String arg[]){\n        int sum=0;\n        Scanner s=new Scanner(System.in);\n        System.out.println(\"please enter string\");\n        String val=s.nextLine();\n        int len=val.length();\n            for(int i=0;i&lt;len;i++){\n                if(val.charAt(i)==' ')\n                    {\n                        continue;\n                    }\n                    sum++;\n                    }\n                    System.out.println(sum);\n                }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11234902,"reputation":1,"user_id":8241459,"display_name":"Maravilloso&#39;AK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512397541,"creation_date":1512397541,"answer_id":47635502,"question_id":29127884,"body_markdown":"Let me know if this helps you out !!\r\n\r\n    import java.util.*;\r\n    public class CountCharacters \r\n    {\r\n    public static void main(String[] args) \r\n    {\r\n    System.out.println(&quot;Entered a string &quot;);\r\n    Scanner sc= new Scanner(System.in);\r\n    String originalString=sc.nextLine();\r\n    System.out.println(&quot;Entered string is &quot;+originalString);\r\n    String newString=originalString.replaceAll(&quot; &quot;, &quot;&quot;);\r\n    System.out.println(&quot;New string after removing spaces is &quot;+newString);\r\n    System.out.println(&quot;Number of characters in string are &quot;+newString.length());\r\n    }\r\n    }","title":"how to calculate the length of a string without spaces in java","body":"<p>Let me know if this helps you out !!</p>\n\n<pre><code>import java.util.*;\npublic class CountCharacters \n{\npublic static void main(String[] args) \n{\nSystem.out.println(\"Entered a string \");\nScanner sc= new Scanner(System.in);\nString originalString=sc.nextLine();\nSystem.out.println(\"Entered string is \"+originalString);\nString newString=originalString.replaceAll(\" \", \"\");\nSystem.out.println(\"New string after removing spaces is \"+newString);\nSystem.out.println(\"Number of characters in string are \"+newString.length());\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21039640,"reputation":11,"user_id":15462330,"display_name":"fanta218"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1616514331,"creation_date":1616513843,"answer_id":66766417,"question_id":29127884,"body_markdown":"this could also be a solution (replace-function) ...\r\n\r\n\r\n    String input = sc.nextLine();    \r\n\r\n    System.out.println(input);\r\n\r\n    String inputWithoutSpace = input.replace(&quot; &quot;, &quot;&quot;)  \r\n\r\n    int length = inputWithoutSpace.length();    \r\n    System.out.println(length);","title":"how to calculate the length of a string without spaces in java","body":"<p>this could also be a solution (replace-function) ...</p>\n<pre><code>String input = sc.nextLine();    \n\nSystem.out.println(input);\n\nString inputWithoutSpace = input.replace(&quot; &quot;, &quot;&quot;)  \n\nint length = inputWithoutSpace.length();    \nSystem.out.println(length);\n</code></pre>\n"}],"owner":{"account_id":5917911,"reputation":59,"user_id":4656116,"accept_rate":40,"display_name":"Big Moe Pasha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29172,"favorite_count":0,"down_vote_count":8,"up_vote_count":0,"answer_count":5,"score":-8,"last_activity_date":1674054000,"creation_date":1426697228,"question_id":29127884,"body_markdown":"this calculate the whole length of the string eg i am a man= 7 letter and 9 characters i just want the amount of the total letters\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    public class AssignmentProgramming {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Please enter a string&quot;);\r\n    \t\t\r\n    \t\tString input = sc.nextLine();\r\n    \t\t\r\n    \t\tSystem.out.println(input);\r\n    \t\t\r\n    \t\tString str = input;\r\n    \t\tString[] myString = str.split(&quot; &quot;);\r\n    \t\tint length = str.length();\r\n    \t\tSystem.out.println(length);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"how to calculate the length of a string without spaces in java","body":"<p>this calculate the whole length of the string eg i am a man= 7 letter and 9 characters i just want the amount of the total letters</p>\n\n<pre><code>import java.util.Scanner;\npublic class AssignmentProgramming {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(\"Please enter a string\");\n\n        String input = sc.nextLine();\n\n        System.out.println(input);\n\n        String str = input;\n        String[] myString = str.split(\" \");\n        int length = str.length();\n        System.out.println(length);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","elasticsearch"],"owner":{"account_id":6683686,"reputation":407,"user_id":5155846,"accept_rate":56,"display_name":"Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674053768,"creation_date":1674053768,"question_id":75161152,"body_markdown":"I have the following Spring Elasticsearch document class:\r\n\r\n    public class Entity\r\n    {\r\n        @Id\r\n        @Field(type = FieldType.Keyword)\r\n        private String id;\r\n    \r\n        @Field\r\n        private Map&lt;String, Metric&gt; values;\r\n    }\r\n\r\nand class `Metric` consists of the following:\r\n\r\n    public class Metric&lt;T&gt;\r\n    {\r\n        private String description;\r\n        private T value;\r\n    }\r\n\r\nThe generic type `T` could be either an `Integer` or a `Map&lt;String,Integer&gt;`.\r\n\r\nas an example of the document&#39;s data:\r\n\r\n    {\r\n      &quot;values&quot;:\r\n      {\r\n        &quot;fans&quot;:{\r\n          &quot;description&quot;:&quot;Fans&quot;,\r\n          &quot;value&quot;:100\r\n        },\r\n        &quot;unlikes&quot;:{\r\n          &quot;description&quot;:&quot;Unlikes&quot;,\r\n          &quot;value&quot;:823\r\n        },\r\n        &quot;reaction_type&quot;:{\r\n          &quot;description&quot;:&quot;Reaction by type&quot;,\r\n          &quot;value&quot;:{\r\n            &quot;like&quot;:40,\r\n            &quot;sad&quot;:20,\r\n            &quot;wow&quot;:15\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\nMy objective to do a sum aggregation on the `value` property inside `Metric` class.\r\n\r\nIf `T` is an `Integer` the aggregation will be sum of Integer values. and if `T` is of type `Map&lt;String,Integer&gt;`, the aggregation will be sum sum of values grouped by Map key.\r\n\r\nis there any approach to do so in Spring boot?","title":"Elasticsearch Aggregation for nested generic properties in Spring Boot","body":"<p>I have the following Spring Elasticsearch document class:</p>\n<pre><code>public class Entity\n{\n    @Id\n    @Field(type = FieldType.Keyword)\n    private String id;\n\n    @Field\n    private Map&lt;String, Metric&gt; values;\n}\n</code></pre>\n<p>and class <code>Metric</code> consists of the following:</p>\n<pre><code>public class Metric&lt;T&gt;\n{\n    private String description;\n    private T value;\n}\n</code></pre>\n<p>The generic type <code>T</code> could be either an <code>Integer</code> or a <code>Map&lt;String,Integer&gt;</code>.</p>\n<p>as an example of the document's data:</p>\n<pre><code>{\n  &quot;values&quot;:\n  {\n    &quot;fans&quot;:{\n      &quot;description&quot;:&quot;Fans&quot;,\n      &quot;value&quot;:100\n    },\n    &quot;unlikes&quot;:{\n      &quot;description&quot;:&quot;Unlikes&quot;,\n      &quot;value&quot;:823\n    },\n    &quot;reaction_type&quot;:{\n      &quot;description&quot;:&quot;Reaction by type&quot;,\n      &quot;value&quot;:{\n        &quot;like&quot;:40,\n        &quot;sad&quot;:20,\n        &quot;wow&quot;:15\n      }\n    }\n  }\n}\n</code></pre>\n<p>My objective to do a sum aggregation on the <code>value</code> property inside <code>Metric</code> class.</p>\n<p>If <code>T</code> is an <code>Integer</code> the aggregation will be sum of Integer values. and if <code>T</code> is of type <code>Map&lt;String,Integer&gt;</code>, the aggregation will be sum sum of values grouped by Map key.</p>\n<p>is there any approach to do so in Spring boot?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1240857,"reputation":2683,"user_id":1203489,"accept_rate":48,"display_name":"Sikorski"},"score":0,"creation_date":1374557480,"post_id":521171,"comment_id":25973244,"body_markdown":"i wonder Guava might have a class for this also.","body":"i wonder Guava might have a class for this also."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":1,"creation_date":1512680769,"post_id":521171,"comment_id":82367661,"body_markdown":"Guava is pretty anti-`Pair`, and the folks at Google have gone so far as to create a much better alternative - [Auto/Value](https://github.com/google/auto/tree/master/value). It lets you easily create *well-typed* value type classes, with proper equals/hashCode semantics. You&#39;ll never need a `Pair` type again!","body":"Guava is pretty anti-<code>Pair</code>, and the folks at Google have gone so far as to create a much better alternative - <a href=\"https://github.com/google/auto/tree/master/value\" rel=\"nofollow noreferrer\">Auto/Value</a>. It lets you easily create <i>well-typed</i> value type classes, with proper equals/hashCode semantics. You&#39;ll never need a <code>Pair</code> type again!"},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1651187174,"post_id":521171,"comment_id":127310945,"body_markdown":"I would have loved for the answers to go a little further and went into the subject of generic n-tuples, not just pairs, but tuples of arity n.","body":"I would have loved for the answers to go a little further and went into the subject of generic n-tuples, not just pairs, but tuples of arity n."},{"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"score":1,"creation_date":1674053201,"post_id":521171,"comment_id":132633002,"body_markdown":"As it turns out, java now has a much better alternative to n-tuples: records. I&#39;d argue that they generate less boilerplate than tuples (no generic type declarations to propagate everywhere), only take one line to define and carry a lot more contextual meaning than `Quadruplet&lt;String, int, long, String&gt;`.","body":"As it turns out, java now has a much better alternative to n-tuples: records. I&#39;d argue that they generate less boilerplate than tuples (no generic type declarations to propagate everywhere), only take one line to define and carry a lot more contextual meaning than <code>Quadruplet&lt;String, int, long, String&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1233940577,"creation_date":1233940577,"answer_id":521205,"question_id":521171,"body_markdown":"You could write a generic Pair&amp;lt;A, B&amp;gt; class and use this in an array or list.  Yes, you have to write a class, but you can reuse the same class for all types, so you only have to do it once.","title":"A Java collection of value pairs? (tuples?)","body":"<p>You could write a generic Pair&lt;A, B&gt; class and use this in an array or list.  Yes, you have to write a class, but you can reuse the same class for all types, so you only have to do it once.</p>\n"},{"tags":[],"owner":{"account_id":22855,"reputation":7359,"user_id":56793,"accept_rate":80,"display_name":"JMD"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1233940763,"creation_date":1233940763,"answer_id":521217,"question_id":521171,"body_markdown":"I was going to ask if you would not want to just use a `List&lt;Pair&lt;T, U&gt;&gt;`? but then, of course, the JDK doesn&#39;t have a Pair&lt;&gt; class.  But a quick Google found one on both [Wikipedia][1], and [forums.sun.com][2].  Cheers\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Generics_in_Java#Generic_class_definitions\r\n  [2]: http://forums.sun.com/thread.jspa?threadID=5132045","title":"A Java collection of value pairs? (tuples?)","body":"<p>I was going to ask if you would not want to just use a <code>List&lt;Pair&lt;T, U&gt;&gt;</code>? but then, of course, the JDK doesn't have a Pair&lt;> class.  But a quick Google found one on both <a href=\"http://en.wikipedia.org/wiki/Generics_in_Java#Generic_class_definitions\" rel=\"noreferrer\">Wikipedia</a>, and <a href=\"http://forums.sun.com/thread.jspa?threadID=5132045\" rel=\"noreferrer\">forums.sun.com</a>.  Cheers</p>\n"},{"tags":[],"owner":{"account_id":9763,"reputation":6303,"user_id":18160,"accept_rate":44,"display_name":"Paul Brinkley"},"down_vote_count":24,"up_vote_count":305,"is_accepted":true,"score":281,"last_activity_date":1578513589,"creation_date":1233941066,"answer_id":521235,"question_id":521171,"body_markdown":"The Pair class is one of those &quot;gimme&quot; generics examples that is easy enough to write on your own. For example, off the top of my head:\r\n\r\n    public class Pair&lt;L,R&gt; {\r\n    \r\n      private final L left;\r\n      private final R right;\r\n    \r\n      public Pair(L left, R right) {\r\n        assert left != null;\r\n        assert right != null;\r\n\r\n        this.left = left;\r\n        this.right = right;\r\n      }\r\n    \r\n      public L getLeft() { return left; }\r\n      public R getRight() { return right; }\r\n\r\n      @Override\r\n      public int hashCode() { return left.hashCode() ^ right.hashCode(); }\r\n      \r\n      @Override\r\n      public boolean equals(Object o) {\r\n        if (!(o instanceof Pair)) return false;\r\n        Pair pairo = (Pair) o;\r\n        return this.left.equals(pairo.getLeft()) &amp;&amp;\r\n               this.right.equals(pairo.getRight());\r\n      }\r\n\r\n    }\r\n\r\nAnd yes, this exists in multiple places on the Net, with varying degrees of completeness and feature.  (My example above is intended to be immutable.)","title":"A Java collection of value pairs? (tuples?)","body":"<p>The Pair class is one of those \"gimme\" generics examples that is easy enough to write on your own. For example, off the top of my head:</p>\n\n<pre><code>public class Pair&lt;L,R&gt; {\n\n  private final L left;\n  private final R right;\n\n  public Pair(L left, R right) {\n    assert left != null;\n    assert right != null;\n\n    this.left = left;\n    this.right = right;\n  }\n\n  public L getLeft() { return left; }\n  public R getRight() { return right; }\n\n  @Override\n  public int hashCode() { return left.hashCode() ^ right.hashCode(); }\n\n  @Override\n  public boolean equals(Object o) {\n    if (!(o instanceof Pair)) return false;\n    Pair pairo = (Pair) o;\n    return this.left.equals(pairo.getLeft()) &amp;&amp;\n           this.right.equals(pairo.getRight());\n  }\n\n}\n</code></pre>\n\n<p>And yes, this exists in multiple places on the Net, with varying degrees of completeness and feature.  (My example above is intended to be immutable.)</p>\n"},{"tags":[],"owner":{"account_id":22607,"reputation":52813,"user_id":55925,"accept_rate":82,"display_name":"Johannes Weiss"},"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1539468036,"creation_date":1233941294,"answer_id":521248,"question_id":521171,"body_markdown":"# `Map.Entry`\r\n\r\nThese built-in classes are an option, too. Both implement the [`Map.Entry`][1] interface.\r\n\r\n - [`AbstractMap.SimpleEntry`][2]\r\n - [`AbstractMap.SimpleImmutableEntry`][3] \r\n\r\n[![UML diagram of Map.Entry interface with pair of implementing classes][4]][4]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Map.Entry.html\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/util/AbstractMap.SimpleEntry.html\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html\r\n  [4]: https://i.stack.imgur.com/r72Q0.png","title":"A Java collection of value pairs? (tuples?)","body":"<h1><code>Map.Entry</code></h1>\n\n<p>These built-in classes are an option, too. Both implement the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry</code></a> interface.</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/AbstractMap.SimpleEntry.html\" rel=\"noreferrer\"><code>AbstractMap.SimpleEntry</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html\" rel=\"noreferrer\"><code>AbstractMap.SimpleImmutableEntry</code></a> </li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/r72Q0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/r72Q0.png\" alt=\"UML diagram of Map.Entry interface with pair of implementing classes\"></a></p>\n"},{"tags":[],"owner":{"account_id":24842,"reputation":239,"user_id":63433,"display_name":"Jeremy Rishel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1233942711,"creation_date":1233942711,"answer_id":521379,"question_id":521171,"body_markdown":"The preferred solution as you&#39;ve described it is a List of Pairs (i.e. List&lt;Pair&lt;A,B&gt;).\r\n\r\nTo accomplish this you would create a Pair&lt;F, S&gt; class for use in your collection. This is a useful utility class to add to your code base. \r\n\r\nThe closest class in the Sun JDK providing functionality similar to a typical Pair class is AbstractMap.SimpleEntry. You could use this class rather than creating your own Pair class, though you would have to live with some awkward restrictions and I think most people would frown on this as not really the intended role of SimpleEntry. For example SimpleEntry has no &quot;setKey()&quot; method and no default constructor, so you may find it too limiting.\r\n\r\nBear in mind that Collections are designed to contain elements of a single type. Related utility interfaces such as Map are not actually Collections (i.e. Map does not implement the Collection interface). A Pair would not implement the Collection interface either but is obviously a useful class in building larger data structures.","title":"A Java collection of value pairs? (tuples?)","body":"<p>The preferred solution as you've described it is a List of Pairs (i.e. List).</p>\n\n<p>To accomplish this you would create a Pair class for use in your collection. This is a useful utility class to add to your code base. </p>\n\n<p>The closest class in the Sun JDK providing functionality similar to a typical Pair class is AbstractMap.SimpleEntry. You could use this class rather than creating your own Pair class, though you would have to live with some awkward restrictions and I think most people would frown on this as not really the intended role of SimpleEntry. For example SimpleEntry has no \"setKey()\" method and no default constructor, so you may find it too limiting.</p>\n\n<p>Bear in mind that Collections are designed to contain elements of a single type. Related utility interfaces such as Map are not actually Collections (i.e. Map does not implement the Collection interface). A Pair would not implement the Collection interface either but is obviously a useful class in building larger data structures.</p>\n"},{"tags":[],"owner":{"account_id":1579989,"reputation":17,"user_id":1465537,"display_name":"Rene H."},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1340086977,"creation_date":1340086977,"answer_id":11095455,"question_id":521171,"body_markdown":"What about com.sun.tools.javac.util.Pair?","title":"A Java collection of value pairs? (tuples?)","body":"<p>What about com.sun.tools.javac.util.Pair?</p>\n"},{"tags":[],"owner":{"account_id":1212644,"reputation":3517,"user_id":1484042,"display_name":"JavaHelp4u"},"down_vote_count":2,"up_vote_count":349,"is_accepted":false,"score":347,"last_activity_date":1480192695,"creation_date":1340921855,"answer_id":11253710,"question_id":521171,"body_markdown":"[AbstractMap.SimpleEntry][1]\r\n------\r\nEasy you are looking for this:\r\n\r\n    java.util.List&lt;java.util.Map.Entry&lt;String,Integer&gt;&gt; pairList= new java.util.ArrayList&lt;&gt;();\r\n\r\nHow can you fill it?\r\n\r\n    java.util.Map.Entry&lt;String,Integer&gt; pair1=new java.util.AbstractMap.SimpleEntry&lt;&gt;(&quot;Not Unique key1&quot;,1);\r\n\tjava.util.Map.Entry&lt;String,Integer&gt; pair2=new java.util.AbstractMap.SimpleEntry&lt;&gt;(&quot;Not Unique key2&quot;,2);\r\n\tpairList.add(pair1);\r\n\tpairList.add(pair2);\r\n\r\nThis simplifies to:\r\n\r\n    Entry&lt;String,Integer&gt; pair1=new SimpleEntry&lt;&gt;(&quot;Not Unique key1&quot;,1);\r\n\tEntry&lt;String,Integer&gt; pair2=new SimpleEntry&lt;&gt;(&quot;Not Unique key2&quot;,2);\r\n\tpairList.add(pair1);\r\n\tpairList.add(pair2);\r\n\r\nAnd, with the help of a `createEntry` method, can further reduce the verbosity to:\r\n\r\n\tpairList.add(createEntry(&quot;Not Unique key1&quot;, 1));\r\n\tpairList.add(createEntry(&quot;Not Unique key2&quot;, 2));\r\n\r\nSince `ArrayList` isn&#39;t final, it can be subclassed to expose an `of` method (and the aforementioned `createEntry` method), resulting in the syntactically terse:\r\n\r\n    TupleList&lt;java.util.Map.Entry&lt;String,Integer&gt;&gt; pair = new TupleList&lt;&gt;();\r\n    pair.of(&quot;Not Unique key1&quot;, 1);\r\n    pair.of(&quot;Not Unique key2&quot;, 2);\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/AbstractMap.SimpleEntry.html","title":"A Java collection of value pairs? (tuples?)","body":"<h2><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/AbstractMap.SimpleEntry.html\" rel=\"noreferrer\">AbstractMap.SimpleEntry</a></h2>\n\n<p>Easy you are looking for this:</p>\n\n<pre><code>java.util.List&lt;java.util.Map.Entry&lt;String,Integer&gt;&gt; pairList= new java.util.ArrayList&lt;&gt;();\n</code></pre>\n\n<p>How can you fill it?</p>\n\n<pre><code>java.util.Map.Entry&lt;String,Integer&gt; pair1=new java.util.AbstractMap.SimpleEntry&lt;&gt;(\"Not Unique key1\",1);\njava.util.Map.Entry&lt;String,Integer&gt; pair2=new java.util.AbstractMap.SimpleEntry&lt;&gt;(\"Not Unique key2\",2);\npairList.add(pair1);\npairList.add(pair2);\n</code></pre>\n\n<p>This simplifies to:</p>\n\n<pre><code>Entry&lt;String,Integer&gt; pair1=new SimpleEntry&lt;&gt;(\"Not Unique key1\",1);\nEntry&lt;String,Integer&gt; pair2=new SimpleEntry&lt;&gt;(\"Not Unique key2\",2);\npairList.add(pair1);\npairList.add(pair2);\n</code></pre>\n\n<p>And, with the help of a <code>createEntry</code> method, can further reduce the verbosity to:</p>\n\n<pre><code>pairList.add(createEntry(\"Not Unique key1\", 1));\npairList.add(createEntry(\"Not Unique key2\", 2));\n</code></pre>\n\n<p>Since <code>ArrayList</code> isn't final, it can be subclassed to expose an <code>of</code> method (and the aforementioned <code>createEntry</code> method), resulting in the syntactically terse:</p>\n\n<pre><code>TupleList&lt;java.util.Map.Entry&lt;String,Integer&gt;&gt; pair = new TupleList&lt;&gt;();\npair.of(\"Not Unique key1\", 1);\npair.of(\"Not Unique key2\", 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61301,"reputation":2123,"user_id":182766,"accept_rate":72,"display_name":"changed"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1478098408,"creation_date":1355270166,"answer_id":13830541,"question_id":521171,"body_markdown":"Apache common lang3 has Pair class and few other libraries mentioned in this thread [https://stackoverflow.com/questions/156275/what-is-the-equivalent-of-the-c-pairl-r-in-java/156685#156685][1]\r\n\r\nExample matching the requirement from your original question:\r\n\r\n    List&lt;Pair&lt;String, Integer&gt;&gt; myPairs = new ArrayList&lt;Pair&lt;String, Integer&gt;&gt;();\r\n    myPairs.add(Pair.of(&quot;val1&quot;, 11));\r\n    myPairs.add(Pair.of(&quot;val2&quot;, 17));\r\n    \r\n    //...\r\n    \r\n    for(Pair&lt;String, Integer&gt; pair : myPairs) {\r\n      //following two lines are equivalent... whichever is easier for you...\r\n      System.out.println(pair.getLeft() + &quot;: &quot; + pair.getRight());\r\n      System.out.println(pair.getKey() + &quot;: &quot; + pair.getValue());\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/156275/what-is-the-equivalent-of-the-c-pairl-r-in-java/156685#156685","title":"A Java collection of value pairs? (tuples?)","body":"<p>Apache common lang3 has Pair class and few other libraries mentioned in this thread <a href=\"https://stackoverflow.com/questions/156275/what-is-the-equivalent-of-the-c-pairl-r-in-java/156685#156685\">What is the equivalent of the C++ Pair&lt;L,R&gt; in Java?</a></p>\n\n<p>Example matching the requirement from your original question:</p>\n\n<pre><code>List&lt;Pair&lt;String, Integer&gt;&gt; myPairs = new ArrayList&lt;Pair&lt;String, Integer&gt;&gt;();\nmyPairs.add(Pair.of(\"val1\", 11));\nmyPairs.add(Pair.of(\"val2\", 17));\n\n//...\n\nfor(Pair&lt;String, Integer&gt; pair : myPairs) {\n  //following two lines are equivalent... whichever is easier for you...\n  System.out.println(pair.getLeft() + \": \" + pair.getRight());\n  System.out.println(pair.getKey() + \": \" + pair.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1362006912,"creation_date":1362006912,"answer_id":15124421,"question_id":521171,"body_markdown":"Expanding on the other answers a generic immutable Pair should have a static method to avoid cluttering your code with the call to the constructor:  \r\n\r\n\tclass Pair&lt;L,R&gt; {\r\n\t\t  final L left;\r\n\t\t  final R right;\r\n\r\n\t\t  public Pair(L left, R right) {\r\n\t\t    this.left = left;\r\n\t\t    this.right = right;\r\n\t\t  }\r\n\t\t  \r\n\t\t  static &lt;L,R&gt; Pair&lt;L,R&gt; of(L left, R right){\r\n\t\t\t  return new Pair&lt;L,R&gt;(left, right);\r\n\t\t  }\r\n\t}\r\n\r\nif you name the static method &quot;of&quot; or &quot;pairOf&quot; the code becomes fluent as you can write either: \r\n\r\n        list.add(Pair.of(x,y)); // my preference\r\n        list.add(pairOf(x,y)); // use with import static x.y.Pair.pairOf\r\n\r\nits a real shame that the core java libraries are so sparse on such things that you have to use commons-lang or other 3rd parties to do such basic stuff. yet another reason to upgrade to scala...\r\n\r\n\r\n\t\t","title":"A Java collection of value pairs? (tuples?)","body":"<p>Expanding on the other answers a generic immutable Pair should have a static method to avoid cluttering your code with the call to the constructor:  </p>\n\n<pre><code>class Pair&lt;L,R&gt; {\n      final L left;\n      final R right;\n\n      public Pair(L left, R right) {\n        this.left = left;\n        this.right = right;\n      }\n\n      static &lt;L,R&gt; Pair&lt;L,R&gt; of(L left, R right){\n          return new Pair&lt;L,R&gt;(left, right);\n      }\n}\n</code></pre>\n\n<p>if you name the static method \"of\" or \"pairOf\" the code becomes fluent as you can write either: </p>\n\n<pre><code>    list.add(Pair.of(x,y)); // my preference\n    list.add(pairOf(x,y)); // use with import static x.y.Pair.pairOf\n</code></pre>\n\n<p>its a real shame that the core java libraries are so sparse on such things that you have to use commons-lang or other 3rd parties to do such basic stuff. yet another reason to upgrade to scala...</p>\n"},{"tags":[],"owner":{"account_id":2991996,"reputation":556,"user_id":2539385,"display_name":"Bobak_KS"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1374531305,"creation_date":1374531305,"answer_id":17798375,"question_id":521171,"body_markdown":"**Apache Crunch** also has a `Pair` class:\r\nhttp://crunch.apache.org/apidocs/0.5.0/org/apache/crunch/Pair.html","title":"A Java collection of value pairs? (tuples?)","body":"<p><strong>Apache Crunch</strong> also has a <code>Pair</code> class:\n<a href=\"http://crunch.apache.org/apidocs/0.5.0/org/apache/crunch/Pair.html\" rel=\"nofollow\">http://crunch.apache.org/apidocs/0.5.0/org/apache/crunch/Pair.html</a></p>\n"},{"tags":[],"owner":{"account_id":2641918,"reputation":1866,"user_id":2445295,"accept_rate":72,"display_name":"user93"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1645846232,"creation_date":1383320565,"answer_id":19730154,"question_id":521171,"body_markdown":"just create a class like\r\n\r\n    class Tuples \r\n    { \r\n        int x;\r\n        int y;\r\n    } \r\n\r\nthen create List of this objects of Tuples\r\n\r\n    List&lt;Tuples&gt; list = new ArrayList&lt;&gt;();\r\n\r\nso you can also implement other new data structures in the same way.","title":"A Java collection of value pairs? (tuples?)","body":"<p>just create a class like</p>\n<pre><code>class Tuples \n{ \n    int x;\n    int y;\n} \n</code></pre>\n<p>then create List of this objects of Tuples</p>\n<pre><code>List&lt;Tuples&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n<p>so you can also implement other new data structures in the same way.</p>\n"},{"tags":[],"owner":{"account_id":934135,"reputation":21849,"user_id":963396,"accept_rate":70,"display_name":"X&#229;pplI&#39;-I0llwlg&#39;I  -"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1400134175,"creation_date":1400134175,"answer_id":23670487,"question_id":521171,"body_markdown":"To anyone developing for Android, you can use [android.util.Pair](http://developer.android.com/reference/android/util/Pair.html). :)","title":"A Java collection of value pairs? (tuples?)","body":"<p>To anyone developing for Android, you can use <a href=\"http://developer.android.com/reference/android/util/Pair.html\">android.util.Pair</a>. :)</p>\n"},{"tags":[],"owner":{"account_id":2079767,"reputation":6300,"user_id":1852033,"accept_rate":77,"display_name":"Leo Ufimtsev"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1403210734,"creation_date":1403210734,"answer_id":24315923,"question_id":521171,"body_markdown":"This is based on JavaHelp4u &#39;s code. \r\n\r\nLess verbose and shows how to do in one line and how to loop over things.\r\n\r\n\r\n    //======&gt;  Imports\r\n    import java.util.AbstractMap.SimpleEntry;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map.Entry;\r\n\r\n    //======&gt;  Single Entry\r\n    SimpleEntry&lt;String, String&gt; myEntry = new SimpleEntry&lt;String, String&gt;(&quot;ID&quot;, &quot;Text&quot;);\r\n    System.out.println(&quot;key: &quot; + myEntry.getKey() + &quot;    value:&quot; + myEntry.getValue());\r\n    System.out.println();\r\n\r\n    //======&gt;  List of Entries\r\n    List&lt;Entry&lt;String,String&gt;&gt; pairList = new ArrayList&lt;&gt;();\r\n    \r\n    //-- Specify manually\r\n    Entry&lt;String,String&gt; firstButton = new SimpleEntry&lt;String, String&gt;(&quot;Red &quot;, &quot;Way out&quot;);\r\n    pairList.add(firstButton);\r\n\r\n    //-- one liner:\r\n    pairList.add(new SimpleEntry&lt;String,String&gt;(&quot;Gray&quot;, &quot;Alternate route&quot;));  //Ananomous add.\r\n\r\n    //-- Iterate over Entry array:\r\n    for (Entry&lt;String, String&gt; entr : pairList) {\r\n        System.out.println(&quot;Button: &quot; + entr.getKey() + &quot;    Label: &quot; + entr.getValue());\r\n    }","title":"A Java collection of value pairs? (tuples?)","body":"<p>This is based on JavaHelp4u 's code. </p>\n\n<p>Less verbose and shows how to do in one line and how to loop over things.</p>\n\n<pre><code>//======&gt;  Imports\nimport java.util.AbstractMap.SimpleEntry;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map.Entry;\n\n//======&gt;  Single Entry\nSimpleEntry&lt;String, String&gt; myEntry = new SimpleEntry&lt;String, String&gt;(\"ID\", \"Text\");\nSystem.out.println(\"key: \" + myEntry.getKey() + \"    value:\" + myEntry.getValue());\nSystem.out.println();\n\n//======&gt;  List of Entries\nList&lt;Entry&lt;String,String&gt;&gt; pairList = new ArrayList&lt;&gt;();\n\n//-- Specify manually\nEntry&lt;String,String&gt; firstButton = new SimpleEntry&lt;String, String&gt;(\"Red \", \"Way out\");\npairList.add(firstButton);\n\n//-- one liner:\npairList.add(new SimpleEntry&lt;String,String&gt;(\"Gray\", \"Alternate route\"));  //Ananomous add.\n\n//-- Iterate over Entry array:\nfor (Entry&lt;String, String&gt; entr : pairList) {\n    System.out.println(\"Button: \" + entr.getKey() + \"    Label: \" + entr.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2994613,"reputation":7964,"user_id":2599133,"accept_rate":83,"display_name":"Hans Brende"},"down_vote_count":2,"up_vote_count":258,"is_accepted":false,"score":256,"last_activity_date":1646674378,"creation_date":1409625778,"answer_id":25615100,"question_id":521171,"body_markdown":"Java 9+\r\n======\r\nIn Java 9, you can simply write: [`Map.entry(key, value)`](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-)\r\n to create an immutable pair. \r\n\r\n**Note:** this method does not allow keys or values to be null. If you want to allow null values, for example, you&#39;d want to change this to: `Map.entry(key, Optional.ofNullable(value))`.\r\n\r\n---\r\n\r\nJava 8+\r\n=====\r\nIn Java 8, you can use the more general-purpose [`javafx.util.Pair`](https://docs.oracle.com/javase/8/javafx/api/javafx/util/Pair.html) to create an immutable, serializable pair. This class *does* allow null keys and null values. (In Java 9, this class is included in the `javafx.base` module). **EDIT: As of Java 11, JavaFX has been decoupled from the JDK, so you&#39;d need the additional maven artifact org.openjfx:javafx-base.**\r\n\r\n-----\r\n\r\nJava 6+\r\n=====\r\n\r\nIn Java 6 and up, you can use the more verbose [`AbstractMap.SimpleImmutableEntry`](https://docs.oracle.com/javase/7/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html) for an immutable pair, or [`AbstractMap.SimpleEntry`](https://docs.oracle.com/javase/7/docs/api/java/util/AbstractMap.SimpleEntry.html) for a pair whose value can be changed. These classes also allow null keys and null values, and are serializable.\r\n\r\n-----\r\n\r\nAndroid\r\n=====\r\n\r\nIf you&#39;re writing for Android, just use [`Pair.create(key, value)`](https://developer.android.com/reference/android/util/Pair.html#create(A,%20B)) to create an immutable pair.\r\n\r\n-----\r\nApache Commons\r\n=====\r\n\r\n[`Apache Commons Lang`](https://commons.apache.org/proper/commons-lang/) provides the helpful [`Pair.of(key, value)`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html#of-L-R-) to create an immutable, comparable, serializable pair.\r\n\r\n-----\r\nEclipse Collections\r\n=====\r\nIf you&#39;re using pairs that contain primitives, [Eclipse Collections](https://www.eclipse.org/collections/) provides some very efficient primitive pair classes that will avoid all the inefficient auto-boxing and auto-unboxing. \r\n\r\nFor instance, you could use [`PrimitiveTuples.pair(int, int)`](https://www.eclipse.org/collections/javadoc/9.0.0/org/eclipse/collections/impl/tuple/primitive/PrimitiveTuples.html#pair-int-int-) to create an [`IntIntPair`](https://www.eclipse.org/collections/javadoc/9.0.0/org/eclipse/collections/api/tuple/primitive/IntIntPair.html), or [`PrimitiveTuples.pair(float, long)`](https://www.eclipse.org/collections/javadoc/9.0.0/org/eclipse/collections/impl/tuple/primitive/PrimitiveTuples.html#pair-float-long-) to create a [`FloatLongPair`](https://www.eclipse.org/collections/javadoc/9.0.0/org/eclipse/collections/api/tuple/primitive/FloatLongPair.html). \r\n\r\n-----\r\nHand-rolled implementations\r\n=====\r\nAs of Java 16, [records](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Record.html) have come out of preview status, so you can now do:\r\n\r\n```\r\npublic record Pair&lt;K, V&gt;(K key, V value) {\r\n    public static &lt;K, V&gt; Pair&lt;K, V&gt; of(K key, V value) {\r\n        return new Pair&lt;&gt;(key, value);\r\n    }\r\n}\r\n```\r\n\r\nThe above implementation will have a big advantage in the future, as it&#39;ll allow you to do [record deconstruction](https://openjdk.java.net/jeps/405#Deconstruction-patterns).\r\n\r\nPrior to Java 16, you can achieve the same semantics with [Project Lombok](https://projectlombok.org/):\r\n\r\n    @Value(staticConstructor = &quot;of&quot;)\r\n    public class Pair&lt;K, V&gt; {\r\n        K key;\r\n        V value;\r\n    }\r\n\r\nor, with the following verbosity (which, unlike the class listed in the accepted answer, guards against NullPointerExceptions, and has a robust `hashCode()` implementation identical to that of Records&lt;sup&gt;1&lt;/sup&gt;):\r\n\r\n\r\n    import java.util.Objects;\r\n\r\n    public class Pair&lt;K, V&gt; {\r\n\t\r\n\t    public final K key;\r\n\t    public final V value;\r\n\t\r\n\t    private Pair(K key, V value) {\r\n\t\t    this.key = key;\r\n\t\t    this.value = value;\r\n\t    }\r\n    \r\n        public static &lt;K, V&gt; Pair&lt;K, V&gt; of(K key, V value) {\r\n            return new Pair&lt;&gt;(key, value);\r\n        }\r\n\t\r\n\t    public boolean equals(Object o) {\r\n\t\t    return o instanceof Pair &amp;&amp; Objects.equals(key, ((Pair&lt;?,?&gt;)o).key) &amp;&amp; Objects.equals(value, ((Pair&lt;?,?&gt;)o).value);\r\n\t    }\r\n\t\r\n\t    public int hashCode() {\r\n\t\t    return 31 * Objects.hashCode(key) + Objects.hashCode(value);\r\n\t    }\r\n\t\r\n\t    public String toString() {\r\n\t\t    return key + &quot;=&quot; + value;\r\n\t    }\r\n    }\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; Tested on OpenJDK 17","title":"A Java collection of value pairs? (tuples?)","body":"<h1>Java 9+</h1>\n<p>In Java 9, you can simply write: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\" rel=\"noreferrer\"><code>Map.entry(key, value)</code></a>\nto create an immutable pair.</p>\n<p><strong>Note:</strong> this method does not allow keys or values to be null. If you want to allow null values, for example, you'd want to change this to: <code>Map.entry(key, Optional.ofNullable(value))</code>.</p>\n<hr />\n<h1>Java 8+</h1>\n<p>In Java 8, you can use the more general-purpose <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/util/Pair.html\" rel=\"noreferrer\"><code>javafx.util.Pair</code></a> to create an immutable, serializable pair. This class <em>does</em> allow null keys and null values. (In Java 9, this class is included in the <code>javafx.base</code> module). <strong>EDIT: As of Java 11, JavaFX has been decoupled from the JDK, so you'd need the additional maven artifact org.openjfx:javafx-base.</strong></p>\n<hr />\n<h1>Java 6+</h1>\n<p>In Java 6 and up, you can use the more verbose <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html\" rel=\"noreferrer\"><code>AbstractMap.SimpleImmutableEntry</code></a> for an immutable pair, or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/AbstractMap.SimpleEntry.html\" rel=\"noreferrer\"><code>AbstractMap.SimpleEntry</code></a> for a pair whose value can be changed. These classes also allow null keys and null values, and are serializable.</p>\n<hr />\n<h1>Android</h1>\n<p>If you're writing for Android, just use <a href=\"https://developer.android.com/reference/android/util/Pair.html#create(A,%20B)\" rel=\"noreferrer\"><code>Pair.create(key, value)</code></a> to create an immutable pair.</p>\n<hr />\n<h1>Apache Commons</h1>\n<p><a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\"><code>Apache Commons Lang</code></a> provides the helpful <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html#of-L-R-\" rel=\"noreferrer\"><code>Pair.of(key, value)</code></a> to create an immutable, comparable, serializable pair.</p>\n<hr />\n<h1>Eclipse Collections</h1>\n<p>If you're using pairs that contain primitives, <a href=\"https://www.eclipse.org/collections/\" rel=\"noreferrer\">Eclipse Collections</a> provides some very efficient primitive pair classes that will avoid all the inefficient auto-boxing and auto-unboxing.</p>\n<p>For instance, you could use <a href=\"https://www.eclipse.org/collections/javadoc/9.0.0/org/eclipse/collections/impl/tuple/primitive/PrimitiveTuples.html#pair-int-int-\" rel=\"noreferrer\"><code>PrimitiveTuples.pair(int, int)</code></a> to create an <a href=\"https://www.eclipse.org/collections/javadoc/9.0.0/org/eclipse/collections/api/tuple/primitive/IntIntPair.html\" rel=\"noreferrer\"><code>IntIntPair</code></a>, or <a href=\"https://www.eclipse.org/collections/javadoc/9.0.0/org/eclipse/collections/impl/tuple/primitive/PrimitiveTuples.html#pair-float-long-\" rel=\"noreferrer\"><code>PrimitiveTuples.pair(float, long)</code></a> to create a <a href=\"https://www.eclipse.org/collections/javadoc/9.0.0/org/eclipse/collections/api/tuple/primitive/FloatLongPair.html\" rel=\"noreferrer\"><code>FloatLongPair</code></a>.</p>\n<hr />\n<h1>Hand-rolled implementations</h1>\n<p>As of Java 16, <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Record.html\" rel=\"noreferrer\">records</a> have come out of preview status, so you can now do:</p>\n<pre><code>public record Pair&lt;K, V&gt;(K key, V value) {\n    public static &lt;K, V&gt; Pair&lt;K, V&gt; of(K key, V value) {\n        return new Pair&lt;&gt;(key, value);\n    }\n}\n</code></pre>\n<p>The above implementation will have a big advantage in the future, as it'll allow you to do <a href=\"https://openjdk.java.net/jeps/405#Deconstruction-patterns\" rel=\"noreferrer\">record deconstruction</a>.</p>\n<p>Prior to Java 16, you can achieve the same semantics with <a href=\"https://projectlombok.org/\" rel=\"noreferrer\">Project Lombok</a>:</p>\n<pre><code>@Value(staticConstructor = &quot;of&quot;)\npublic class Pair&lt;K, V&gt; {\n    K key;\n    V value;\n}\n</code></pre>\n<p>or, with the following verbosity (which, unlike the class listed in the accepted answer, guards against NullPointerExceptions, and has a robust <code>hashCode()</code> implementation identical to that of Records<sup>1</sup>):</p>\n<pre><code>import java.util.Objects;\n\npublic class Pair&lt;K, V&gt; {\n\n    public final K key;\n    public final V value;\n\n    private Pair(K key, V value) {\n        this.key = key;\n        this.value = value;\n    }\n\n    public static &lt;K, V&gt; Pair&lt;K, V&gt; of(K key, V value) {\n        return new Pair&lt;&gt;(key, value);\n    }\n\n    public boolean equals(Object o) {\n        return o instanceof Pair &amp;&amp; Objects.equals(key, ((Pair&lt;?,?&gt;)o).key) &amp;&amp; Objects.equals(value, ((Pair&lt;?,?&gt;)o).value);\n    }\n\n    public int hashCode() {\n        return 31 * Objects.hashCode(key) + Objects.hashCode(value);\n    }\n\n    public String toString() {\n        return key + &quot;=&quot; + value;\n    }\n}\n</code></pre>\n<p><sup>1</sup> Tested on OpenJDK 17</p>\n"},{"tags":[],"owner":{"account_id":1161070,"reputation":4494,"user_id":1631510,"accept_rate":86,"display_name":"danidemi"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1447529659,"creation_date":1447529659,"answer_id":33712473,"question_id":521171,"body_markdown":"What about &quot;Apache Commons Lang 3&quot; `Pair` class and the relative subclasses ?\r\n      \r\n        import org.apache.commons.lang3.tuple.ImmutablePair;\r\n        import org.apache.commons.lang3.tuple.Pair;\r\n        ...\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Pair&lt;String, Integer&gt;[] arr = new ImmutablePair[]{\r\n                ImmutablePair.of(&quot;A&quot;, 1),\r\n                ImmutablePair.of(&quot;B&quot;, 2)};\r\n\r\n        // both access the &#39;left&#39; part\r\n        String key = arr[0].getKey();\r\n        String left = arr[0].getLeft();\r\n\r\n        // both access the &#39;right&#39; part\r\n        Integer value = arr[0].getValue();\r\n        Integer right = arr[0].getRight();\r\n\r\n`ImmutablePair` is a specific subclass that does not allow the values in the pair to be modified, but there are others implementations with different semantic. These are the Maven coordinates, if you need them.\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"A Java collection of value pairs? (tuples?)","body":"<p>What about \"Apache Commons Lang 3\" <code>Pair</code> class and the relative subclasses ?</p>\n\n<pre><code>    import org.apache.commons.lang3.tuple.ImmutablePair;\n    import org.apache.commons.lang3.tuple.Pair;\n    ...\n    @SuppressWarnings(\"unchecked\")\n    Pair&lt;String, Integer&gt;[] arr = new ImmutablePair[]{\n            ImmutablePair.of(\"A\", 1),\n            ImmutablePair.of(\"B\", 2)};\n\n    // both access the 'left' part\n    String key = arr[0].getKey();\n    String left = arr[0].getLeft();\n\n    // both access the 'right' part\n    Integer value = arr[0].getValue();\n    Integer right = arr[0].getRight();\n</code></pre>\n\n<p><code>ImmutablePair</code> is a specific subclass that does not allow the values in the pair to be modified, but there are others implementations with different semantic. These are the Maven coordinates, if you need them.</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9136648,"reputation":49,"user_id":6796132,"display_name":"SomeDude"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1473074167,"creation_date":1473074167,"answer_id":39329419,"question_id":521171,"body_markdown":"I mean, even though there is no `Pair` class in Java there is something pretty simmilar: `Map.Entry`\r\n\r\n[Map.Entry Documentation][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html\r\n\r\nThis is (simplifying quite a bit) what `HashMap` , or actually any `Map` stores.\r\n\r\nYou can create an instance of `Map` store your values in it and get the entry set. You will end up with a `Set&lt;Map.Entry&lt;K,V&gt;&gt;` which effectively is what you want.\r\n\r\nSo:\r\n\r\n    public static void main(String []args)\r\n    {    \r\n        HashMap&lt;String, Integer&gt; values = new HashMap&lt;String,Integer&gt;();\r\n        values.put(&quot;A&quot;, 235);//your custom data, the types may be different\r\n        //more data insertions....\r\n        Set&lt;Map.Entry&lt;String,Integer&gt;&gt; list = values.entrySet();//your list \r\n        //do as you may with it\r\n    }","title":"A Java collection of value pairs? (tuples?)","body":"<p>I mean, even though there is no <code>Pair</code> class in Java there is something pretty simmilar: <code>Map.Entry</code></p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html\" rel=\"nofollow\">Map.Entry Documentation</a></p>\n\n<p>This is (simplifying quite a bit) what <code>HashMap</code> , or actually any <code>Map</code> stores.</p>\n\n<p>You can create an instance of <code>Map</code> store your values in it and get the entry set. You will end up with a <code>Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> which effectively is what you want.</p>\n\n<p>So:</p>\n\n<pre><code>public static void main(String []args)\n{    \n    HashMap&lt;String, Integer&gt; values = new HashMap&lt;String,Integer&gt;();\n    values.put(\"A\", 235);//your custom data, the types may be different\n    //more data insertions....\n    Set&lt;Map.Entry&lt;String,Integer&gt;&gt; list = values.entrySet();//your list \n    //do as you may with it\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8543970,"reputation":91,"user_id":6403058,"accept_rate":0,"display_name":"muka90"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534227583,"creation_date":1534227583,"answer_id":51834839,"question_id":521171,"body_markdown":"First Thing on my mind when talking about key/value pairs is the [Properties Class](https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html) where you can save and load items to a stream/file. ","title":"A Java collection of value pairs? (tuples?)","body":"<p>First Thing on my mind when talking about key/value pairs is the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\">Properties Class</a> where you can save and load items to a stream/file. </p>\n"},{"tags":[],"owner":{"account_id":1049344,"reputation":1539,"user_id":1053629,"display_name":"Tires"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551280495,"creation_date":1551280495,"answer_id":54908669,"question_id":521171,"body_markdown":"In project Reactor (io.projectreactor:reactor-core) there is advanced support for n-Tuples:\r\n\r\n    Tuple2&lt;String, Integer&gt; t = Tuples.of(&quot;string&quot;, 1)\r\n\r\nThere you can get `t.getT1(), t.getT2(), ...` Especially with Stream or Flux you can even map the tuple elements:\r\n\r\n    Stream&lt;Tuple2&lt;String, Integer&gt;&gt; s;\r\n    s.map(t -&gt; t.mapT2(i -&gt; i + 2));\r\n","title":"A Java collection of value pairs? (tuples?)","body":"<p>In project Reactor (io.projectreactor:reactor-core) there is advanced support for n-Tuples:</p>\n\n<pre><code>Tuple2&lt;String, Integer&gt; t = Tuples.of(\"string\", 1)\n</code></pre>\n\n<p>There you can get <code>t.getT1(), t.getT2(), ...</code> Especially with Stream or Flux you can even map the tuple elements:</p>\n\n<pre><code>Stream&lt;Tuple2&lt;String, Integer&gt;&gt; s;\ns.map(t -&gt; t.mapT2(i -&gt; i + 2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4551456,"reputation":6431,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1566236806,"creation_date":1566236806,"answer_id":57561655,"question_id":521171,"body_markdown":"Spring has a [`Pair&lt;S,T&gt;`][1] type in the Data Utils package [`org.springframework.data.util`][2]\r\n\r\n\r\n    Pair&lt;String,Integer&gt; pair = Pair.of(&quot;Test&quot;, 123);\r\n    System.out.println(pair.getFirst());\r\n    System.out.println(pair.getSecond());\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/util/Pair.html\r\n  [2]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/util/package-summary.html","title":"A Java collection of value pairs? (tuples?)","body":"<p>Spring has a <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/util/Pair.html\" rel=\"noreferrer\"><code>Pair&lt;S,T&gt;</code></a> type in the Data Utils package <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/util/package-summary.html\" rel=\"noreferrer\"><code>org.springframework.data.util</code></a></p>\n\n<pre><code>Pair&lt;String,Integer&gt; pair = Pair.of(\"Test\", 123);\nSystem.out.println(pair.getFirst());\nSystem.out.println(pair.getSecond());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1632559028,"creation_date":1627573436,"answer_id":68579040,"question_id":521171,"body_markdown":"**Java 14+ edition**\r\n\r\nYou can create a `record` which implements `equals`, `hashCode`, and `toString` out of the box. Interfaces like `Comparable` could also be implemented, if needed.\r\n\r\n    record Pair&lt;A, B&gt;(A first, B second) {}\r\n\r\nRecords are immutable.","title":"A Java collection of value pairs? (tuples?)","body":"<p><strong>Java 14+ edition</strong></p>\n<p>You can create a <code>record</code> which implements <code>equals</code>, <code>hashCode</code>, and <code>toString</code> out of the box. Interfaces like <code>Comparable</code> could also be implemented, if needed.</p>\n<pre><code>record Pair&lt;A, B&gt;(A first, B second) {}\n</code></pre>\n<p>Records are immutable.</p>\n"},{"tags":[],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1654268579,"creation_date":1652852787,"answer_id":72283776,"question_id":521171,"body_markdown":"You can reuse existing `Pair` or any such class from &quot;God knows how many libraries already provide such classes&quot;. And If you do not want anything from [Hans Brende&#39;s answer on this question][1] then I don&#39;t see any reason for not using 2D `Array` or `List` of `Object Arrays/ArrayLists used as Pairs/Tuples`. The reason for not using `Array`, you mentioned:\r\n\r\n&gt; I also realize that I could use a 2D array, but because of the different types I need to use, I&#39;d have to make them arrays of OBJECT, and then I&#39;d have to cast all the time.\r\n\r\nEven if you use `Pair` class from the ***Accepted Answer***, you&#39;ll still have to cast the key and value objects. Since you want to store objects of all the types in there. In other words `List&lt;Pair&gt; pairs` is no different from `List&lt;Pair&lt;? extends Object&gt;&gt; pairs` which in turn is no different from `Object[][2]` or `List&lt;Object[]&gt;` or `List&lt;List&lt;Object&gt;&gt;`. **Because if you write the following code**:\r\n\r\n    List&lt;Pair&gt; pairs = new ArrayList&lt;&gt;();\r\n\r\n    // logic for populating pairs into list goes here\r\n\r\n    // then after sometime you need an element\r\n    Pair p = pairs.get(whateverIndex);\r\n    \r\n    Object key = p.getKey(); // We don&#39;t know type of key, right?\r\n    Object value = p.getValue(); // We don&#39;t know the exact type here as well\r\n\r\n    // All sorts of type guessing statemntes go here\r\n    GuessedTypeOfKey finallyMyKey = (GuessedTypeOfKey) key;\r\n    GuessedTypeOfValue finallyMyValue = (GuessedTypeOfValue) value;\r\n\r\n**You still have to do the type casting. So I don&#39;t find any other reason to not use 2d `Object array` or `List of Object Arrays/ArrayLists` used as `Pairs/Tuples` . Following is code using List and arrays**\r\n\r\n    List&lt;Object[]&gt; simplePairs = new ArrayList&lt;&gt;();\r\n\r\n    // Add values to pairs\r\n    simplePairs.add(new Object[]{1,&quot;One&quot;});\r\n    simplePairs.add(new Object[]{&quot;Another Key of Different Type&quot;,&quot;Value&quot;});\r\n    simplePairs.add(new Object[]{&quot;Another Key of Different Type&quot;,new AnotherType(&quot;Another Value Type&quot;)});\r\n\r\n    // get values\r\n    Object[] pair = simplePairs.get(whateverIndex);\r\n    Object key = pair[0];\r\n    Object value = pair[1];\r\n\r\n  [1]: https://stackoverflow.com/a/25615100/2266682","title":"A Java collection of value pairs? (tuples?)","body":"<p>You can reuse existing <code>Pair</code> or any such class from &quot;God knows how many libraries already provide such classes&quot;. And If you do not want anything from <a href=\"https://stackoverflow.com/a/25615100/2266682\">Hans Brende's answer on this question</a> then I don't see any reason for not using 2D <code>Array</code> or <code>List</code> of <code>Object Arrays/ArrayLists used as Pairs/Tuples</code>. The reason for not using <code>Array</code>, you mentioned:</p>\n<blockquote>\n<p>I also realize that I could use a 2D array, but because of the different types I need to use, I'd have to make them arrays of OBJECT, and then I'd have to cast all the time.</p>\n</blockquote>\n<p>Even if you use <code>Pair</code> class from the <em><strong>Accepted Answer</strong></em>, you'll still have to cast the key and value objects. Since you want to store objects of all the types in there. In other words <code>List&lt;Pair&gt; pairs</code> is no different from <code>List&lt;Pair&lt;? extends Object&gt;&gt; pairs</code> which in turn is no different from <code>Object[][2]</code> or <code>List&lt;Object[]&gt;</code> or <code>List&lt;List&lt;Object&gt;&gt;</code>. <strong>Because if you write the following code</strong>:</p>\n<pre><code>List&lt;Pair&gt; pairs = new ArrayList&lt;&gt;();\n\n// logic for populating pairs into list goes here\n\n// then after sometime you need an element\nPair p = pairs.get(whateverIndex);\n\nObject key = p.getKey(); // We don't know type of key, right?\nObject value = p.getValue(); // We don't know the exact type here as well\n\n// All sorts of type guessing statemntes go here\nGuessedTypeOfKey finallyMyKey = (GuessedTypeOfKey) key;\nGuessedTypeOfValue finallyMyValue = (GuessedTypeOfValue) value;\n</code></pre>\n<p><strong>You still have to do the type casting. So I don't find any other reason to not use 2d <code>Object array</code> or <code>List of Object Arrays/ArrayLists</code> used as <code>Pairs/Tuples</code> . Following is code using List and arrays</strong></p>\n<pre><code>List&lt;Object[]&gt; simplePairs = new ArrayList&lt;&gt;();\n\n// Add values to pairs\nsimplePairs.add(new Object[]{1,&quot;One&quot;});\nsimplePairs.add(new Object[]{&quot;Another Key of Different Type&quot;,&quot;Value&quot;});\nsimplePairs.add(new Object[]{&quot;Another Key of Different Type&quot;,new AnotherType(&quot;Another Value Type&quot;)});\n\n// get values\nObject[] pair = simplePairs.get(whateverIndex);\nObject key = pair[0];\nObject value = pair[1];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674053504,"creation_date":1674052838,"answer_id":75160923,"question_id":521171,"body_markdown":"What you want is a `List` of some kind of object. I personally do not like using generic `Pair` classes. They have too many disadvantages:\r\n- They are not very expressive. They provide no contextual information besides their type arguments.\r\n- They prevent you from using primitive types\r\n- You can&#39;t apply any constraints on keys or values (besides their \r\ntype, of course).\r\n- They force you to carry the verbose type parameter declaration in many places (though this is somewhat mitigated by `var` and `&lt;&gt;`)\r\n\r\nI prefer using ad-hoc classes.  While a few years ago, this came with annoying boilerplate, this is no longer the case. \r\n\r\nHere is a couple of alternatives that makes the declaration of the class really easy:\r\n\r\n## Java 14 and above: use a record class ##\r\n```\r\nrecord TypedCount(String type, int count) {}\r\n```\r\nThere, that&#39;s it. You get `toString()` and `equals()` for free\r\n\r\n## Before Java 14: use lombok&#39;s `@Value` annotation ##\r\n```\r\n@Value\r\nclass TypedCount {\r\n    String type;\r\n    int count;\r\n}\r\n```\r\nThat&#39;s also it. Lombok automatically makes the fields `private final`, constructors, getters, `toString()` and `equals()`.\r\n\r\nWhile this requires you to add lombok as a dependency, this is only a compile-time dependency that generates the code for you. The lombok library does not need to be in your classpath at runtime.","title":"A Java collection of value pairs? (tuples?)","body":"<p>What you want is a <code>List</code> of some kind of object. I personally do not like using generic <code>Pair</code> classes. They have too many disadvantages:</p>\n<ul>\n<li>They are not very expressive. They provide no contextual information besides their type arguments.</li>\n<li>They prevent you from using primitive types</li>\n<li>You can't apply any constraints on keys or values (besides their\ntype, of course).</li>\n<li>They force you to carry the verbose type parameter declaration in many places (though this is somewhat mitigated by <code>var</code> and <code>&lt;&gt;</code>)</li>\n</ul>\n<p>I prefer using ad-hoc classes.  While a few years ago, this came with annoying boilerplate, this is no longer the case.</p>\n<p>Here is a couple of alternatives that makes the declaration of the class really easy:</p>\n<h2>Java 14 and above: use a record class</h2>\n<pre><code>record TypedCount(String type, int count) {}\n</code></pre>\n<p>There, that's it. You get <code>toString()</code> and <code>equals()</code> for free</p>\n<h2>Before Java 14: use lombok's <code>@Value</code> annotation</h2>\n<pre><code>@Value\nclass TypedCount {\n    String type;\n    int count;\n}\n</code></pre>\n<p>That's also it. Lombok automatically makes the fields <code>private final</code>, constructors, getters, <code>toString()</code> and <code>equals()</code>.</p>\n<p>While this requires you to add lombok as a dependency, this is only a compile-time dependency that generates the code for you. The lombok library does not need to be in your classpath at runtime.</p>\n"}],"owner":{"account_id":23825,"reputation":19875,"user_id":60006,"accept_rate":65,"display_name":"DivideByHero"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627310,"favorite_count":0,"down_vote_count":2,"up_vote_count":437,"accepted_answer_id":521235,"answer_count":22,"score":435,"last_activity_date":1674053504,"creation_date":1233940073,"question_id":521171,"body_markdown":"I like how Java has a Map where you can define the types of each entry in the map, for example `&lt;String, Integer&gt;`. \r\n\r\nWhat I&#39;m looking for is a type of collection where each element in the collection is a pair of values.  Each value in the pair can have its own type (like the String and Integer example above), which is defined at declaration time.  \r\n\r\nThe collection will maintain its given order and will not treat one of the values as a unique key (as in a map).  \r\n\r\nEssentially I want to be able to define an ARRAY of type `&lt;String,Integer&gt;` or any other 2 types.  \r\n\r\nI realize that I can make a class with nothing but the 2 variables in it, but that seems overly verbose.  \r\n\r\nI also realize that I could use a 2D array, but because of the different types I need to use, I&#39;d have to make them arrays of OBJECT, and then I&#39;d have to cast all the time.  \r\n\r\nI only need to store pairs in the collection, so I only need two values per entry.  Does something like this exist without going the class route?  Thanks!\r\n\r\n","title":"A Java collection of value pairs? (tuples?)","body":"<p>I like how Java has a Map where you can define the types of each entry in the map, for example <code>&lt;String, Integer&gt;</code>. </p>\n\n<p>What I'm looking for is a type of collection where each element in the collection is a pair of values.  Each value in the pair can have its own type (like the String and Integer example above), which is defined at declaration time.  </p>\n\n<p>The collection will maintain its given order and will not treat one of the values as a unique key (as in a map).  </p>\n\n<p>Essentially I want to be able to define an ARRAY of type <code>&lt;String,Integer&gt;</code> or any other 2 types.  </p>\n\n<p>I realize that I can make a class with nothing but the 2 variables in it, but that seems overly verbose.  </p>\n\n<p>I also realize that I could use a 2D array, but because of the different types I need to use, I'd have to make them arrays of OBJECT, and then I'd have to cast all the time.  </p>\n\n<p>I only need to store pairs in the collection, so I only need two values per entry.  Does something like this exist without going the class route?  Thanks!</p>\n"},{"tags":["java","maven","wildfly","pom.xml","web.xml"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1674053427,"post_id":75161022,"comment_id":132633101,"body_markdown":"Do you have any plugin that uses the `current.webXml` property?","body":"Do you have any plugin that uses the <code>current.webXml</code> property?"},{"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"score":0,"creation_date":1674054105,"post_id":75161022,"comment_id":132633373,"body_markdown":"@f1sh sorry, update the code and I forgot that, still not working, can&#39;t read inside the web.xml but it works it i put in the WEB-INF","body":"@f1sh sorry, update the code and I forgot that, still not working, can&#39;t read inside the web.xml but it works it i put in the WEB-INF"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1674057644,"post_id":75161022,"comment_id":132634728,"body_markdown":"Maybe I misunderstand it, but you can&#39;t have multiple `web.xml`. The [specifications](https://docs.oracle.com/javaee/7/tutorial/packaging003.htm) are clear: it must be archiconWeb.war!/WEB-INF/web.xml","body":"Maybe I misunderstand it, but you can&#39;t have multiple <code>web.xml</code>. The <a href=\"https://docs.oracle.com/javaee/7/tutorial/packaging003.htm\" rel=\"nofollow noreferrer\">specifications</a> are clear: it must be archiconWeb.war!/WEB-INF/web.xml"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1674148125,"post_id":75161022,"comment_id":132657937,"body_markdown":"Can you describe why you need multiple `web.xml` files?  You mention the name of the country - are there settings within the `web.xml` for the country?","body":"Can you describe why you need multiple <code>web.xml</code> files?  You mention the name of the country - are there settings within the <code>web.xml</code> for the country?"}],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674053448,"creation_date":1674053264,"question_id":75161022,"body_markdown":"I recently changed my web.xml path from: `src/main/webapp/WEB-INF/web.xml` to `src/main/webapp/WEB-INF/webXml/italia/web.xml` the reason is I have to change for each profile the folder name for the country. The problem is java can&#39;t find the web.xml.\r\nI added to pom.xml this:\r\n\r\n   \r\n\r\n     &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- \t\t\t\t\t&lt;warSourceDirectory&gt;${project.basedir}/WebContent&lt;/warSourceDirectory&gt; --&gt;\r\n                    &lt;webXml&gt;${project.basedir}/src/main/webapp/WEB-INF/webXml/italia/web.xml&lt;/webXml&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;!-- \t\t\t\t\t&lt;warSourceExcludes&gt;css/&lt;/warSourceExcludes&gt; --&gt;\r\n                    &lt;webResources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;${jbossWeb.folder}/${current.jbossWeb}&lt;/directory&gt;\r\n                            &lt;targetPath&gt;WEB-INF&lt;/targetPath&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/webResources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n[![project][1]][1]\r\n\r\nIt give me this error when I try to run:\r\n\r\n    : Failed to parse XML descriptor &quot;/C:/Program Files/wildfly-18.0.0.Final/standalone/deployments/archiconEar.ear/archiconWeb.war/WEB-INF/web.xml&quot; at [1,0]\r\n\r\nand I found out it create me a web.xml folder with the folders oof countries inside but doesn&#39;t go to look the webXml folder\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\nDid I miss something?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KNDDE.png\r\n  [2]: https://i.stack.imgur.com/S9eP4.png\r\n  [3]: https://i.stack.imgur.com/8QqTF.png","title":"Not getting web.xml path","body":"<p>I recently changed my web.xml path from: <code>src/main/webapp/WEB-INF/web.xml</code> to <code>src/main/webapp/WEB-INF/webXml/italia/web.xml</code> the reason is I have to change for each profile the folder name for the country. The problem is java can't find the web.xml.\nI added to pom.xml this:</p>\n<pre><code> &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;!--                    &lt;warSourceDirectory&gt;${project.basedir}/WebContent&lt;/warSourceDirectory&gt; --&gt;\n                &lt;webXml&gt;${project.basedir}/src/main/webapp/WEB-INF/webXml/italia/web.xml&lt;/webXml&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;!--                    &lt;warSourceExcludes&gt;css/&lt;/warSourceExcludes&gt; --&gt;\n                &lt;webResources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;${jbossWeb.folder}/${current.jbossWeb}&lt;/directory&gt;\n                        &lt;targetPath&gt;WEB-INF&lt;/targetPath&gt;\n                    &lt;/resource&gt;\n                &lt;/webResources&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KNDDE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KNDDE.png\" alt=\"project\" /></a></p>\n<p>It give me this error when I try to run:</p>\n<pre><code>: Failed to parse XML descriptor &quot;/C:/Program Files/wildfly-18.0.0.Final/standalone/deployments/archiconEar.ear/archiconWeb.war/WEB-INF/web.xml&quot; at [1,0]\n</code></pre>\n<p>and I found out it create me a web.xml folder with the folders oof countries inside but doesn't go to look the webXml folder\n<a href=\"https://i.stack.imgur.com/S9eP4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S9eP4.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/8QqTF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8QqTF.png\" alt=\"enter image description here\" /></a>\nDid I miss something?</p>\n"},{"tags":["java","stream"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674049542,"creation_date":1674049542,"answer_id":75160208,"question_id":75160162,"body_markdown":"`.collect(Collectors.toList())` can be used, as a `List` is a `Collection`.","title":"Stream collect to collection with diamonds","body":"<p><code>.collect(Collectors.toList())</code> can be used, as a <code>List</code> is a <code>Collection</code>.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674053338,"creation_date":1674053338,"answer_id":75161047,"question_id":75160162,"body_markdown":"You can also just use a `List&lt;? extends GrantedAuthority&gt;` as `List extends Collection`.\r\n```\r\nList&lt;? extends GrantedAuthority&gt; list = user.getRoles().stream()\r\n                .map(r -&gt; r.getName().name())\r\n                .map(SimpleGrantedAuthority::new)\r\n                .toList();\r\n```\r\nNote that `Collection` does not have the `get` and `add` methods that are provided by `List`, assuming you want to retrieve and/or set the values. ","title":"Stream collect to collection with diamonds","body":"<p>You can also just use a <code>List&lt;? extends GrantedAuthority&gt;</code> as <code>List extends Collection</code>.</p>\n<pre><code>List&lt;? extends GrantedAuthority&gt; list = user.getRoles().stream()\n                .map(r -&gt; r.getName().name())\n                .map(SimpleGrantedAuthority::new)\n                .toList();\n</code></pre>\n<p>Note that <code>Collection</code> does not have the <code>get</code> and <code>add</code> methods that are provided by <code>List</code>, assuming you want to retrieve and/or set the values.</p>\n"}],"owner":{"account_id":10947190,"reputation":183,"user_id":8628988,"display_name":"Denys Bondarenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75160208,"answer_count":2,"score":0,"last_activity_date":1674053338,"creation_date":1674049368,"question_id":75160162,"body_markdown":"How can I collect stream to collection with diamonds?\r\n\r\nFor example, previously I had code like this for singleton list, but for now I can have more than one element.\r\n\r\n    private static final GrantedAuthority userAuthority = new SimpleGrantedAuthority(&quot;ROLE_USER&quot;);\r\n    private static final Collection&lt;? extends GrantedAuthority&gt; defaultUserAuthorities =\r\n            Collections.singletonList(userAuthority);\r\n\r\nAnd I trying to do like this, but stuck with Collectors.\r\n\r\n    Collection&lt;? extends GrantedAuthority&gt; collect = user.getRoles().stream()\r\n                    .map(r -&gt; r.getName().name())\r\n                    .map(SimpleGrantedAuthority::new)\r\n                    .collect(Collectors.toCollection(/*What should be here?*/));\r\n\r\nHow can I collect to this `Collection&lt;? extends GrantedAuthority&gt;` ?","title":"Stream collect to collection with diamonds","body":"<p>How can I collect stream to collection with diamonds?</p>\n<p>For example, previously I had code like this for singleton list, but for now I can have more than one element.</p>\n<pre><code>private static final GrantedAuthority userAuthority = new SimpleGrantedAuthority(&quot;ROLE_USER&quot;);\nprivate static final Collection&lt;? extends GrantedAuthority&gt; defaultUserAuthorities =\n        Collections.singletonList(userAuthority);\n</code></pre>\n<p>And I trying to do like this, but stuck with Collectors.</p>\n<pre><code>Collection&lt;? extends GrantedAuthority&gt; collect = user.getRoles().stream()\n                .map(r -&gt; r.getName().name())\n                .map(SimpleGrantedAuthority::new)\n                .collect(Collectors.toCollection(/*What should be here?*/));\n</code></pre>\n<p>How can I collect to this <code>Collection&lt;? extends GrantedAuthority&gt;</code> ?</p>\n"},{"tags":["java","maven","versions-maven-plugin"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1469044865,"post_id":38489077,"comment_id":64381248,"body_markdown":"Please look what show `mvn help:effective-pom`","body":"Please look what show <code>mvn help:effective-pom</code>"},{"owner":{"account_id":2176611,"reputation":556,"user_id":1927161,"accept_rate":70,"display_name":"Panos Karampis"},"score":0,"creation_date":1469048006,"post_id":38489077,"comment_id":64382931,"body_markdown":"Updated the original post","body":"Updated the original post"},{"owner":{"account_id":1637847,"reputation":917,"user_id":1510854,"accept_rate":67,"display_name":"Mark Khateeb"},"score":0,"creation_date":1490196716,"post_id":38489077,"comment_id":73006921,"body_markdown":"have you managed to find a solution?? I have a very similar issue with the same plugin:\nhttp://stackoverflow.com/questions/42954730/excludeslist-parameter-usage-in-versionsupdate-properties","body":"have you managed to find a solution?? I have a very similar issue with the same plugin: <a href=\"http://stackoverflow.com/questions/42954730/excludeslist-parameter-usage-in-versionsupdate-properties\" title=\"excludeslist parameter usage in versionsupdate properties\">stackoverflow.com/questions/42954730/&hellip;</a>"},{"owner":{"account_id":2657670,"reputation":329,"user_id":2298011,"display_name":"Jan Nielsen"},"score":1,"creation_date":1553263689,"post_id":38489077,"comment_id":97331299,"body_markdown":"As of now this functionality is not part of the &quot;versions:display-dependencies-update&quot; goal.\nYou can vote for this to be included: https://github.com/mojohaus/versions-maven-plugin/issues/318","body":"As of now this functionality is not part of the &quot;versions:display-dependencies-update&quot; goal. You can vote for this to be included: <a href=\"https://github.com/mojohaus/versions-maven-plugin/issues/318\" rel=\"nofollow noreferrer\">github.com/mojohaus/versions-maven-plugin/issues/318</a>"}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674052925,"creation_date":1674052432,"answer_id":75160849,"question_id":38489077,"body_markdown":"# Problem statement\r\nIf I understand correctly, you would like to exclude some dependencies from the consideration of the `versions:display-dependencies-update` Maven goal of the Versions Maven Plugin.\r\n\r\n# Introduction\r\nLet&#39;s consider the following version as the current Maven plugin version:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.14.2&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n# Possible solution\r\nUse the corresponding parameters of the Maven goal, which are available since the `2.12.0` version of the Maven plugin:\r\n\r\n* `dependencyExcludes`. [Source](https://github.com/mojohaus/versions/blob/2.14.2/versions-maven-plugin/src/main/java/org/codehaus/mojo/versions/DisplayDependencyUpdatesMojo.java#L176-L196).\r\n* `dependencyManagementExcludes`. [Source](https://github.com/mojohaus/versions/blob/2.14.2/versions-maven-plugin/src/main/java/org/codehaus/mojo/versions/DisplayDependencyUpdatesMojo.java#L124-L144).\r\n\r\nHere is a draft example Maven plugin configuration for your case:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.14.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;dependencyManagementExcludes&gt;com.atlassian.confluence:confluence&lt;/dependencyManagementExcludes&gt;\r\n        &lt;dependencyExcludes&gt;com.atlassian.confluence:confluence&lt;/dependencyExcludes&gt;\r\n        &lt;…&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n","title":"Maven &quot;versions&quot; plugin exclusion","body":"<h1>Problem statement</h1>\n<p>If I understand correctly, you would like to exclude some dependencies from the consideration of the <code>versions:display-dependencies-update</code> Maven goal of the Versions Maven Plugin.</p>\n<h1>Introduction</h1>\n<p>Let's consider the following version as the current Maven plugin version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.14.2&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<h1>Possible solution</h1>\n<p>Use the corresponding parameters of the Maven goal, which are available since the <code>2.12.0</code> version of the Maven plugin:</p>\n<ul>\n<li><code>dependencyExcludes</code>. <a href=\"https://github.com/mojohaus/versions/blob/2.14.2/versions-maven-plugin/src/main/java/org/codehaus/mojo/versions/DisplayDependencyUpdatesMojo.java#L176-L196\" rel=\"nofollow noreferrer\">Source</a>.</li>\n<li><code>dependencyManagementExcludes</code>. <a href=\"https://github.com/mojohaus/versions/blob/2.14.2/versions-maven-plugin/src/main/java/org/codehaus/mojo/versions/DisplayDependencyUpdatesMojo.java#L124-L144\" rel=\"nofollow noreferrer\">Source</a>.</li>\n</ul>\n<p>Here is a draft example Maven plugin configuration for your case:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.14.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;dependencyManagementExcludes&gt;com.atlassian.confluence:confluence&lt;/dependencyManagementExcludes&gt;\n        &lt;dependencyExcludes&gt;com.atlassian.confluence:confluence&lt;/dependencyExcludes&gt;\n        &lt;…&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2176611,"reputation":556,"user_id":1927161,"accept_rate":70,"display_name":"Panos Karampis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2841,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1674053234,"creation_date":1469042297,"question_id":38489077,"body_markdown":"I am trying unsuccessfully to exclude packages when displaying/updating versions and I don&#39;t get why.\r\n\r\nI have a project:\r\n\r\n    &lt;groupId&gt;my.group&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\nwhich in the pluginManagement section declares:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;com.atlassian.confluence:confluence:*&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n        &lt;generateBackupPoms&gt;false&lt;/generateBackupPoms&gt;\r\n        &lt;allowSnapshots&gt;false&lt;/allowSnapshots&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nA second plugin is having the above as parent:\r\n\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;my.group&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nBut when I invoke `mvn versions:display-dependencies-update`, it still reports:\r\n\r\n```\r\ncom.atlassian.confluence:confluence ..... 5.10.1 -&gt; 6.0.0-viqueen-m001\r\n```\r\n\r\nIn case I use a ruleset in the configuration I get error that file is not found (since it is located in the parent pom folder) and cant copy/share cause parent has packaging pom.\r\n\r\nI was not able to exclude neither using `-DexcludesList` nor replacing the `&lt;excludes&gt;` section with `&lt;excludesList&gt;`. I could only assume that I have a typo in the group:artifact but I have copied over plenty times to avoid such.\r\n\r\nAny ideas except having ruleset in the network?\r\n\r\nEdit:\r\nAs per comment effective-pom is:\r\n\r\n```xml\r\n&lt;pluginManagement&gt;\r\n.\r\n.\r\n.\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;includes&gt;\r\n          &lt;include&gt;my.group&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n        &lt;excludes&gt;\r\n          &lt;exclude&gt;com.atlassian.confluence:confluence:*&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n        &lt;generateBackupPoms&gt;false&lt;/generateBackupPoms&gt;\r\n        &lt;allowSnapshots&gt;false&lt;/allowSnapshots&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/pluginManagement&gt;\r\n```\r\nand versions is not mentioned anywhere else.","title":"Maven &quot;versions&quot; plugin exclusion","body":"<p>I am trying unsuccessfully to exclude packages when displaying/updating versions and I don't get why.</p>\n<p>I have a project:</p>\n<pre><code>&lt;groupId&gt;my.group&lt;/groupId&gt;\n&lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n</code></pre>\n<p>which in the pluginManagement section declares:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;com.atlassian.confluence:confluence:*&lt;/exclude&gt;\n        &lt;/excludes&gt;\n        &lt;generateBackupPoms&gt;false&lt;/generateBackupPoms&gt;\n        &lt;allowSnapshots&gt;false&lt;/allowSnapshots&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>A second plugin is having the above as parent:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;my.group&lt;/groupId&gt;\n    &lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>But when I invoke <code>mvn versions:display-dependencies-update</code>, it still reports:</p>\n<pre><code>com.atlassian.confluence:confluence ..... 5.10.1 -&gt; 6.0.0-viqueen-m001\n</code></pre>\n<p>In case I use a ruleset in the configuration I get error that file is not found (since it is located in the parent pom folder) and cant copy/share cause parent has packaging pom.</p>\n<p>I was not able to exclude neither using <code>-DexcludesList</code> nor replacing the <code>&lt;excludes&gt;</code> section with <code>&lt;excludesList&gt;</code>. I could only assume that I have a typo in the group:artifact but I have copied over plenty times to avoid such.</p>\n<p>Any ideas except having ruleset in the network?</p>\n<p>Edit:\nAs per comment effective-pom is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;pluginManagement&gt;\n.\n.\n.\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n      &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.2&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;includes&gt;\n          &lt;include&gt;my.group&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;com.atlassian.confluence:confluence:*&lt;/exclude&gt;\n        &lt;/excludes&gt;\n        &lt;generateBackupPoms&gt;false&lt;/generateBackupPoms&gt;\n        &lt;allowSnapshots&gt;false&lt;/allowSnapshots&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/pluginManagement&gt;\n</code></pre>\n<p>and versions is not mentioned anywhere else.</p>\n"},{"tags":["java","spring-boot","spring-test"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1674053245,"post_id":75160994,"comment_id":132633024,"body_markdown":"Have you tried `ClassPathResource`?","body":"Have you tried <code>ClassPathResource</code>?"},{"owner":{"account_id":1314915,"reputation":7683,"user_id":1262024,"accept_rate":88,"display_name":"Smajl"},"score":0,"creation_date":1674053401,"post_id":75160994,"comment_id":132633087,"body_markdown":"I tried at least three different ways of loading the file and the results is always the same... it also has to work in JAR files.","body":"I tried at least three different ways of loading the file and the results is always the same... it also has to work in JAR files."},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1674054133,"post_id":75160994,"comment_id":132633384,"body_markdown":"How are you running your tests? Gradle, Maven, IntelliJ? You might need to add `src/main/resources` to the test configuration classpath.","body":"How are you running your tests? Gradle, Maven, IntelliJ? You might need to add <code>src&#47;main&#47;resources</code> to the test configuration classpath."},{"owner":{"account_id":1314915,"reputation":7683,"user_id":1262024,"accept_rate":88,"display_name":"Smajl"},"score":0,"creation_date":1674054429,"post_id":75160994,"comment_id":132633497,"body_markdown":"I am running them both in Gradle and from IntelliJ","body":"I am running them both in Gradle and from IntelliJ"}],"owner":{"account_id":1314915,"reputation":7683,"user_id":1262024,"accept_rate":88,"display_name":"Smajl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674053155,"creation_date":1674053155,"question_id":75160994,"body_markdown":"I have a class using `ResourceLoader` for loading file in my `src/main/resources` directory.\r\n\r\n    ResourceLoader resourceLoader = new DefaultResourceLoader(MyClass.class.getClassLoader());\r\n    Resource resource = resourceLoader.getResource(path);\r\n    File file = resource.getFile();\r\n    return new String(Files.readAllBytes(file.toPath()));\r\n\r\nThis works fine when running the app but I also have a `@SpringBootTest` integration test using the same code. I would like to load the same resource from `main/resources` but it never finds the file on the provided path. It only works for files places in `src/test/resources` in that context.\r\n\r\nDoes anybody know how to force the integration test to search for resources in main resource directory instead of the test one when using `ResourceLoader`?","title":"Spring Boot ResourceLoader not loading files from main resources in test context","body":"<p>I have a class using <code>ResourceLoader</code> for loading file in my <code>src/main/resources</code> directory.</p>\n<pre><code>ResourceLoader resourceLoader = new DefaultResourceLoader(MyClass.class.getClassLoader());\nResource resource = resourceLoader.getResource(path);\nFile file = resource.getFile();\nreturn new String(Files.readAllBytes(file.toPath()));\n</code></pre>\n<p>This works fine when running the app but I also have a <code>@SpringBootTest</code> integration test using the same code. I would like to load the same resource from <code>main/resources</code> but it never finds the file on the provided path. It only works for files places in <code>src/test/resources</code> in that context.</p>\n<p>Does anybody know how to force the integration test to search for resources in main resource directory instead of the test one when using <code>ResourceLoader</code>?</p>\n"},{"tags":["java","spring","java-stream","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674053079,"creation_date":1674053079,"answer_id":75160975,"question_id":75153216,"body_markdown":"If you really do a plain in-memory data processing where Java&#39;s `Stream` API is enough, then indeed you don&#39;t need the whole messaging solution like Spring Integration. But if you deal with distributed requirements to process data from different systems, like from HTTP to Apache Kafka or DB, then it is better to use some tool which allows you smoothly to connect everything together. Also: no one stops you to use `Stream` API in the Spring Integration application. In the end all your code is Java anyway. Please, learn more what is EIP and why we would need a special framework to implement this messaging-based solutions: https://www.enterpriseintegrationpatterns.com/","title":"Does Streams API functionality overlap with Spring Integration?","body":"<p>If you really do a plain in-memory data processing where Java's <code>Stream</code> API is enough, then indeed you don't need the whole messaging solution like Spring Integration. But if you deal with distributed requirements to process data from different systems, like from HTTP to Apache Kafka or DB, then it is better to use some tool which allows you smoothly to connect everything together. Also: no one stops you to use <code>Stream</code> API in the Spring Integration application. In the end all your code is Java anyway. Please, learn more what is EIP and why we would need a special framework to implement this messaging-based solutions: <a href=\"https://www.enterpriseintegrationpatterns.com/\" rel=\"nofollow noreferrer\">https://www.enterpriseintegrationpatterns.com/</a></p>\n"}],"owner":{"account_id":2120350,"reputation":180,"user_id":1883734,"accept_rate":75,"display_name":"rmaitipe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75160975,"answer_count":1,"score":0,"last_activity_date":1674053079,"creation_date":1673997693,"question_id":75153216,"body_markdown":"When introducing parallel processing to an application where multiple save entity calls are being made, I see prior dev has chosen to do it via Spring Integration using ```split().channel(MessageChannels.executor(Executors.newfixedThreadPool(10))).handle(&quot;saveClass&quot;,&quot;saveMethod&quot;).aggregate().get()``` - where this method is mapped to a requestChannel using @Gateway annotation. My question is this task seems to be simpler to do using the parallelStream() and forEach() method. Does IntergrationFlow provide any benefit in this case? ","title":"Does Streams API functionality overlap with Spring Integration?","body":"<p>When introducing parallel processing to an application where multiple save entity calls are being made, I see prior dev has chosen to do it via Spring Integration using <code>split().channel(MessageChannels.executor(Executors.newfixedThreadPool(10))).handle(&quot;saveClass&quot;,&quot;saveMethod&quot;).aggregate().get()</code> - where this method is mapped to a requestChannel using @Gateway annotation. My question is this task seems to be simpler to do using the parallelStream() and forEach() method. Does IntergrationFlow provide any benefit in this case?</p>\n"},{"tags":["java","string","permutation","stringbuilder","stringindexoutofbounds"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674052904,"creation_date":1674052904,"answer_id":75160946,"question_id":75160878,"body_markdown":"After the recursive call, you need to reset each `StringBuilder` to its original state before the loop iteration. \r\n- One character was appended to `ans`, the last character should be removed.\r\n- The ith character of `newstr` was removed, so it should be added back at the correct position.\r\n\r\n```java\r\nans.append(str.charAt(i));\r\nnewstr.deleteCharAt(i);\r\npermutationsStringBuilder(newstr, ans);\r\nans.deleteCharAt(ans.length() - 1);\r\nnewstr.insert(i, str.charAt(i));\r\n```","title":"How to make permutation program using StringBuilder in java?","body":"<p>After the recursive call, you need to reset each <code>StringBuilder</code> to its original state before the loop iteration.</p>\n<ul>\n<li>One character was appended to <code>ans</code>, the last character should be removed.</li>\n<li>The ith character of <code>newstr</code> was removed, so it should be added back at the correct position.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>ans.append(str.charAt(i));\nnewstr.deleteCharAt(i);\npermutationsStringBuilder(newstr, ans);\nans.deleteCharAt(ans.length() - 1);\nnewstr.insert(i, str.charAt(i));\n</code></pre>\n"}],"owner":{"account_id":27216231,"reputation":37,"user_id":20746216,"display_name":"JavaBoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75160946,"answer_count":1,"score":1,"last_activity_date":1674052904,"creation_date":1674052599,"question_id":75160878,"body_markdown":"I am willing to create a program that outputs all the possible permutations of a string.\r\nFor example:\r\n\r\nInput\r\n`abc`\r\n\r\nOutput\r\n\r\n```\r\nabc\r\nacb\r\nbac\r\nbca\r\ncab\r\ncba\r\n```\r\nI am able to get this output when I use String in java, but I am curious do the same using StringBuilder in java.\r\n\r\nI used the following code to do get this output.\r\n\r\n\r\n```\r\npublic class Test {\r\n\tpublic static void permutations(String str, String ans) {\r\n\t\tif (str.length() == 0) {\r\n\t\t\tSystem.out.println(ans);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tString newStr = str;\r\n\t\t\tnewStr = newStr.substring(0, i) + newStr.substring(i + 1);\r\n\t\t\tpermutations(newStr, ans + str.charAt(i));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\t\t\r\n\t        permutations(&quot;abc&quot;, &quot;&quot;); // using String\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI tried to create a similar method that resembles in structure with my **permutation** method and takes StringBuilder as parameter and work for it, but I am unable to do so, it shows me StringIndexOutOfBound Exception etc.\r\n\r\nI am sharing the method I built below.\r\n\r\n\r\n```\r\n\tpublic static void permutationsStringBuilder(StringBuilder str, StringBuilder ans) {\r\n\t\tif (str.length() == 0) {\r\n\t\t\tSystem.out.println(ans);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tStringBuilder newstr = new StringBuilder(str);\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\ttry {\r\n\t\t\t\tans.append(str.charAt(i));\r\n\t\t\t\tnewstr.deleteCharAt(i);\r\n\t\t\t\tpermutationsStringBuilder(newstr, ans);\r\n\t\t\t\tans.deleteCharAt(i);\r\n\t\t\t\tnewstr.replace(i, i, &quot;&quot;+str.charAt(i));\r\n\t\t\t} catch (StringIndexOutOfBoundsException e) {\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\nOutput this is returning is: \r\n\r\n```\r\nabc\r\nccb\r\nbac\r\ncca\r\n```\r\n\r\nPlease help me with this. Assist me make it work using StringBuilder of Java.","title":"How to make permutation program using StringBuilder in java?","body":"<p>I am willing to create a program that outputs all the possible permutations of a string.\nFor example:</p>\n<p>Input\n<code>abc</code></p>\n<p>Output</p>\n<pre><code>abc\nacb\nbac\nbca\ncab\ncba\n</code></pre>\n<p>I am able to get this output when I use String in java, but I am curious do the same using StringBuilder in java.</p>\n<p>I used the following code to do get this output.</p>\n<pre><code>public class Test {\n    public static void permutations(String str, String ans) {\n        if (str.length() == 0) {\n            System.out.println(ans);\n            return;\n        }\n        for (int i = 0; i &lt; str.length(); i++) {\n            String newStr = str;\n            newStr = newStr.substring(0, i) + newStr.substring(i + 1);\n            permutations(newStr, ans + str.charAt(i));\n        }\n    }\n\n    public static void main(String[] args) {        \n            permutations(&quot;abc&quot;, &quot;&quot;); // using String\n    }\n}\n\n</code></pre>\n<p>I tried to create a similar method that resembles in structure with my <strong>permutation</strong> method and takes StringBuilder as parameter and work for it, but I am unable to do so, it shows me StringIndexOutOfBound Exception etc.</p>\n<p>I am sharing the method I built below.</p>\n<pre><code>    public static void permutationsStringBuilder(StringBuilder str, StringBuilder ans) {\n        if (str.length() == 0) {\n            System.out.println(ans);\n            return;\n        }\n        StringBuilder newstr = new StringBuilder(str);\n        for (int i = 0; i &lt; str.length(); i++) {\n            try {\n                ans.append(str.charAt(i));\n                newstr.deleteCharAt(i);\n                permutationsStringBuilder(newstr, ans);\n                ans.deleteCharAt(i);\n                newstr.replace(i, i, &quot;&quot;+str.charAt(i));\n            } catch (StringIndexOutOfBoundsException e) {\n            }\n        }\n    }\n</code></pre>\n<p>Output this is returning is:</p>\n<pre><code>abc\nccb\nbac\ncca\n</code></pre>\n<p>Please help me with this. Assist me make it work using StringBuilder of Java.</p>\n"},{"tags":["java","docker","maven","docker-maven-plugin","fabric8-maven-plugin"],"comments":[{"owner":{"account_id":4133101,"reputation":23355,"user_id":3390419,"accept_rate":30,"display_name":"Paolo"},"score":0,"creation_date":1674052216,"post_id":75158399,"comment_id":132632619,"body_markdown":"Aren&#39;t you missing the closing `&lt;/cmd&gt;` in the first example?","body":"Aren&#39;t you missing the closing <code>&lt;&#47;cmd&gt;</code> in the first example?"}],"answers":[{"tags":[],"owner":{"account_id":16842369,"reputation":635,"user_id":12177456,"display_name":"rmf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674052761,"creation_date":1674052422,"answer_id":75160842,"question_id":75158399,"body_markdown":"Moving the command to a script works:\r\n\r\nassembly.xml\r\n```\r\n&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3\r\n                              http://maven.apache.org/xsd/assembly-1.1.3.xsd&quot;&gt;\r\n    &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n            &lt;includes /&gt;\r\n            &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\r\n        &lt;/dependencySet&gt;\r\n    &lt;/dependencySets&gt;\r\n    &lt;fileSets&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${project.basedir}/src/main/docker/&lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;healthcheck.sh&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;fileMode&gt;0755&lt;/fileMode&gt;\r\n            &lt;lineEnding&gt;unix&lt;/lineEnding&gt;\r\n            &lt;outputDirectory&gt;healthcheck&lt;/outputDirectory&gt;\r\n        &lt;/fileSet&gt;\r\n    &lt;/fileSets&gt;\r\n&lt;/assembly&gt;\r\n```\r\n\r\nhealthcheck.sh\r\n```\r\n#!/bin/bash\r\n\r\npgrep -f &quot;java.*my-app.*jar&quot; &gt; /dev/null\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;healthCheck&gt;\r\n  &lt;cmd&gt;/maven/healthcheck/healthcheck.sh || exit 1&lt;/cmd&gt;\r\n&lt;/healthCheck&gt;\r\n```","title":"Docker healthcheck command always returns healthy","body":"<p>Moving the command to a script works:</p>\n<p>assembly.xml</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3\n                              http://maven.apache.org/xsd/assembly-1.1.3.xsd&quot;&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;includes /&gt;\n            &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.basedir}/src/main/docker/&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;healthcheck.sh&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;fileMode&gt;0755&lt;/fileMode&gt;\n            &lt;lineEnding&gt;unix&lt;/lineEnding&gt;\n            &lt;outputDirectory&gt;healthcheck&lt;/outputDirectory&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>healthcheck.sh</p>\n<pre><code>#!/bin/bash\n\npgrep -f &quot;java.*my-app.*jar&quot; &gt; /dev/null\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;healthCheck&gt;\n  &lt;cmd&gt;/maven/healthcheck/healthcheck.sh || exit 1&lt;/cmd&gt;\n&lt;/healthCheck&gt;\n</code></pre>\n"}],"owner":{"account_id":16842369,"reputation":635,"user_id":12177456,"display_name":"rmf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75160842,"answer_count":1,"score":0,"last_activity_date":1674052761,"creation_date":1674040595,"question_id":75158399,"body_markdown":"I am using the [docker-maven-plugin][1]. I am building a Docker container containing a Java command line application. \r\n\r\nIn my healthcheck I am checking that a Java process matching a name exists:\r\n\r\n```\r\n&lt;healthCheck&gt;\r\n  &lt;cmd&gt;pgrep -f &quot;java.*my-app-name.*jar&quot; &gt; /dev/null || exit 1&lt;/cmd&gt;\r\n&lt;/healthCheck&gt;\r\n```\r\n\r\nThe problem is, this always returns healthy. For example, if I change it to something that should not be healthy:\r\n\r\n```\r\n&lt;healthCheck&gt;\r\n  &lt;cmd&gt;pgrep -f &quot;DOES-NOT-EXIST&quot; &gt; /dev/null || exit 1&lt;/cmd&gt;\r\n&lt;/healthCheck&gt;\r\n```\r\n\r\nand run `docker ps`, the container is reporting as healthy:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is the output of `docker images &lt;IMAGE ID&gt;`:\r\n\r\n```\r\n            &quot;Healthcheck&quot;: {\r\n                &quot;Test&quot;: [\r\n                    &quot;CMD-SHELL&quot;,\r\n                    &quot;pgrep -f \\&quot;DOES-NOT-EXIST\\&quot; &gt; /dev/null || exit 1&quot;\r\n                ]\r\n            },\r\n```\r\n\r\nIf I log into the running container, the commands look like they are working as expected, so I&#39;m not sure why the container reports as healthy when it should not:\r\n\r\n```\r\n34c68bcd9436:/ # pgrep -f &quot;java.*my-app-name.*jar&quot; &gt; /dev/null || exit 1\r\n34c68bcd9436:/ # pgrep -f &quot;DOES-NOT-EXIST&quot; &gt; /dev/null || exit 1\r\nexit\r\n```\r\n\r\nHere are the healthcheck logs for the container, showing the healthcheck command always returning 0:\r\n\r\n```\r\ndocker inspect --format &quot;{{json .State.Health }}&quot; 0f607cf3bbcd | jq\r\n{\r\n  &quot;Status&quot;: &quot;healthy&quot;,\r\n  &quot;FailingStreak&quot;: 0,\r\n  &quot;Log&quot;: [\r\n    {\r\n      &quot;Start&quot;: &quot;2023-01-18T12:02:48.7530323Z&quot;,\r\n      &quot;End&quot;: &quot;2023-01-18T12:02:48.921539Z&quot;,\r\n      &quot;ExitCode&quot;: 0,\r\n      &quot;Output&quot;: &quot;&quot;\r\n    },\r\n    {\r\n      &quot;Start&quot;: &quot;2023-01-18T12:03:18.9279247Z&quot;,\r\n      &quot;End&quot;: &quot;2023-01-18T12:03:19.0777841Z&quot;,\r\n      &quot;ExitCode&quot;: 0,\r\n      &quot;Output&quot;: &quot;&quot;\r\n    },\r\n    {\r\n      &quot;Start&quot;: &quot;2023-01-18T12:03:49.0825991Z&quot;,\r\n      &quot;End&quot;: &quot;2023-01-18T12:03:49.1990431Z&quot;,\r\n      &quot;ExitCode&quot;: 0,\r\n      &quot;Output&quot;: &quot;&quot;\r\n    },\r\n    {\r\n      &quot;Start&quot;: &quot;2023-01-18T12:04:19.2065635Z&quot;,\r\n      &quot;End&quot;: &quot;2023-01-18T12:04:19.3829184Z&quot;,\r\n      &quot;ExitCode&quot;: 0,\r\n      &quot;Output&quot;: &quot;&quot;\r\n    },\r\n    {\r\n      &quot;Start&quot;: &quot;2023-01-18T12:04:49.3996451Z&quot;,\r\n      &quot;End&quot;: &quot;2023-01-18T12:04:49.5594201Z&quot;,\r\n      &quot;ExitCode&quot;: 0,\r\n      &quot;Output&quot;: &quot;&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nIf I change the healthcheck to just this:\r\n\r\n```\r\n&lt;healthCheck&gt;\r\n  &lt;cmd&gt;exit 1&lt;/cmd&gt;\r\n&lt;/healthCheck&gt;\r\n```\r\n\r\nThen it works as expected and the container reports as unhealthy, so it must be something with the pgrep command?\r\n\r\n\r\n  [1]: https://github.com/fabric8io/docker-maven-plugin\r\n  [2]: https://i.stack.imgur.com/7N44j.png","title":"Docker healthcheck command always returns healthy","body":"<p>I am using the <a href=\"https://github.com/fabric8io/docker-maven-plugin\" rel=\"nofollow noreferrer\">docker-maven-plugin</a>. I am building a Docker container containing a Java command line application.</p>\n<p>In my healthcheck I am checking that a Java process matching a name exists:</p>\n<pre><code>&lt;healthCheck&gt;\n  &lt;cmd&gt;pgrep -f &quot;java.*my-app-name.*jar&quot; &gt; /dev/null || exit 1&lt;/cmd&gt;\n&lt;/healthCheck&gt;\n</code></pre>\n<p>The problem is, this always returns healthy. For example, if I change it to something that should not be healthy:</p>\n<pre><code>&lt;healthCheck&gt;\n  &lt;cmd&gt;pgrep -f &quot;DOES-NOT-EXIST&quot; &gt; /dev/null || exit 1&lt;/cmd&gt;\n&lt;/healthCheck&gt;\n</code></pre>\n<p>and run <code>docker ps</code>, the container is reporting as healthy:</p>\n<p><a href=\"https://i.stack.imgur.com/7N44j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7N44j.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the output of <code>docker images &lt;IMAGE ID&gt;</code>:</p>\n<pre><code>            &quot;Healthcheck&quot;: {\n                &quot;Test&quot;: [\n                    &quot;CMD-SHELL&quot;,\n                    &quot;pgrep -f \\&quot;DOES-NOT-EXIST\\&quot; &gt; /dev/null || exit 1&quot;\n                ]\n            },\n</code></pre>\n<p>If I log into the running container, the commands look like they are working as expected, so I'm not sure why the container reports as healthy when it should not:</p>\n<pre><code>34c68bcd9436:/ # pgrep -f &quot;java.*my-app-name.*jar&quot; &gt; /dev/null || exit 1\n34c68bcd9436:/ # pgrep -f &quot;DOES-NOT-EXIST&quot; &gt; /dev/null || exit 1\nexit\n</code></pre>\n<p>Here are the healthcheck logs for the container, showing the healthcheck command always returning 0:</p>\n<pre><code>docker inspect --format &quot;{{json .State.Health }}&quot; 0f607cf3bbcd | jq\n{\n  &quot;Status&quot;: &quot;healthy&quot;,\n  &quot;FailingStreak&quot;: 0,\n  &quot;Log&quot;: [\n    {\n      &quot;Start&quot;: &quot;2023-01-18T12:02:48.7530323Z&quot;,\n      &quot;End&quot;: &quot;2023-01-18T12:02:48.921539Z&quot;,\n      &quot;ExitCode&quot;: 0,\n      &quot;Output&quot;: &quot;&quot;\n    },\n    {\n      &quot;Start&quot;: &quot;2023-01-18T12:03:18.9279247Z&quot;,\n      &quot;End&quot;: &quot;2023-01-18T12:03:19.0777841Z&quot;,\n      &quot;ExitCode&quot;: 0,\n      &quot;Output&quot;: &quot;&quot;\n    },\n    {\n      &quot;Start&quot;: &quot;2023-01-18T12:03:49.0825991Z&quot;,\n      &quot;End&quot;: &quot;2023-01-18T12:03:49.1990431Z&quot;,\n      &quot;ExitCode&quot;: 0,\n      &quot;Output&quot;: &quot;&quot;\n    },\n    {\n      &quot;Start&quot;: &quot;2023-01-18T12:04:19.2065635Z&quot;,\n      &quot;End&quot;: &quot;2023-01-18T12:04:19.3829184Z&quot;,\n      &quot;ExitCode&quot;: 0,\n      &quot;Output&quot;: &quot;&quot;\n    },\n    {\n      &quot;Start&quot;: &quot;2023-01-18T12:04:49.3996451Z&quot;,\n      &quot;End&quot;: &quot;2023-01-18T12:04:49.5594201Z&quot;,\n      &quot;ExitCode&quot;: 0,\n      &quot;Output&quot;: &quot;&quot;\n    }\n  ]\n}\n</code></pre>\n<p>If I change the healthcheck to just this:</p>\n<pre><code>&lt;healthCheck&gt;\n  &lt;cmd&gt;exit 1&lt;/cmd&gt;\n&lt;/healthCheck&gt;\n</code></pre>\n<p>Then it works as expected and the container reports as unhealthy, so it must be something with the pgrep command?</p>\n"},{"tags":["java","spring","email","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":7013963,"reputation":57,"user_id":5375928,"display_name":"sagar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1468476597,"creation_date":1468476597,"answer_id":38366676,"question_id":38366647,"body_markdown":"after changing port name 587 to 25 it&#39;s working fine\r\n\r\n&lt;property value=&quot;587&quot; name=&quot;port&quot; /&gt;","title":"How to configure Spring JavaMailSenderImpl for hotmail","body":"<p>after changing port name 587 to 25 it's working fine</p>\n\n<p></p>\n"}],"owner":{"account_id":7013963,"reputation":57,"user_id":5375928,"display_name":"sagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1187,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674052723,"creation_date":1468476493,"question_id":38366647,"body_markdown":"this is my XML configuration file in a maven project, I am trying to send an auto-generated message using a Hotmail id, sometimes it&#39;s working fine and sometimes I am getting an error sending mail\r\n\r\n```xml\r\n&lt;bean id=&quot; email&quot; class=&quot; org.springframework.mail.SimpleMailMessage&quot;&gt;&lt;/bean&gt;\r\n\r\n&lt;bean class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot; id=&quot;mailSender&quot;&gt;\r\n    &lt;property value=&quot;smtp.live.com&quot; name=&quot;host&quot;/&gt;\r\n    &lt;property value=&quot;587&quot; name=&quot;port&quot;/&gt;\r\n    &lt;property value=&quot;xxxxxx@hotmail.com&quot; name=&quot;username&quot;/&gt;\r\n    &lt;property value=&quot;xxxxxxxxx&quot; name=&quot;password&quot;/&gt;\r\n    &lt;property name=&quot;javaMailProperties&quot;&gt;\r\n        &lt;props&gt;\r\n            &lt;prop key=&quot;mail.transport.protocol&quot;&gt;smtp&lt;/prop&gt;\r\n            &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n            &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n            &lt;prop key=&quot;mail.smtp.socketFactory.port&quot;&gt;465&lt;/prop&gt;\r\n            &lt;prop key=&quot;mail.smtp.socketFactory.class&quot;&gt;javax.net.ssl.SSLSocketFactory&lt;/prop&gt;\r\n            &lt;prop key=&quot;mail.smtp.port&quot;&gt;465&lt;/prop&gt;\r\n        &lt;/props&gt;\r\n    &lt;/property&gt;\r\n&lt;/bean&gt;\r\n```","title":"How to configure Spring JavaMailSenderImpl for hotmail","body":"<p>this is my XML configuration file in a maven project, I am trying to send an auto-generated message using a Hotmail id, sometimes it's working fine and sometimes I am getting an error sending mail</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot; email&quot; class=&quot; org.springframework.mail.SimpleMailMessage&quot;&gt;&lt;/bean&gt;\n\n&lt;bean class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot; id=&quot;mailSender&quot;&gt;\n    &lt;property value=&quot;smtp.live.com&quot; name=&quot;host&quot;/&gt;\n    &lt;property value=&quot;587&quot; name=&quot;port&quot;/&gt;\n    &lt;property value=&quot;xxxxxx@hotmail.com&quot; name=&quot;username&quot;/&gt;\n    &lt;property value=&quot;xxxxxxxxx&quot; name=&quot;password&quot;/&gt;\n    &lt;property name=&quot;javaMailProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;mail.transport.protocol&quot;&gt;smtp&lt;/prop&gt;\n            &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;mail.smtp.socketFactory.port&quot;&gt;465&lt;/prop&gt;\n            &lt;prop key=&quot;mail.smtp.socketFactory.class&quot;&gt;javax.net.ssl.SSLSocketFactory&lt;/prop&gt;\n            &lt;prop key=&quot;mail.smtp.port&quot;&gt;465&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","substring"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1674048557,"post_id":75159917,"comment_id":132631193,"body_markdown":"The first `indexOf(&quot;is&quot;)` will return `2` because `&quot;this&quot;` also contains `&quot;is&quot;`.","body":"The first <code>indexOf(&quot;is&quot;)</code> will return <code>2</code> because <code>&quot;this&quot;</code> also contains <code>&quot;is&quot;</code>."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1674048876,"post_id":75159917,"comment_id":132631309,"body_markdown":"[Find Text Between two words in Java](https://stackoverflow.com/questions/1988333/find-text-between-two-words-in-java) might be what you are looking for.","body":"<a href=\"https://stackoverflow.com/questions/1988333/find-text-between-two-words-in-java\">Find Text Between two words in Java</a> might be what you are looking for."},{"owner":{"account_id":2371690,"reputation":799,"user_id":2076174,"accept_rate":56,"display_name":"rakesh_parashar"},"score":0,"creation_date":1674048882,"post_id":75159917,"comment_id":132631313,"body_markdown":"thanks for pointing that out, after changing this to something else like &quot;there&quot;, then I am able to get desired output. However is there a way to extract even if &quot;is&quot; word is part of another word","body":"thanks for pointing that out, after changing this to something else like &quot;there&quot;, then I am able to get desired output. However is there a way to extract even if &quot;is&quot; word is part of another word"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1674050290,"post_id":75159917,"comment_id":132631840,"body_markdown":"If your start `String` is always a word, use a regular expression to break your sentences into words (`String` `split`), and then check the `String` array of words for your start word and end word.","body":"If your start <code>String</code> is always a word, use a regular expression to break your sentences into words (<code>String</code> <code>split</code>), and then check the <code>String</code> array of words for your start word and end word."}],"answers":[{"tags":[],"owner":{"account_id":14665276,"reputation":1043,"user_id":10591290,"display_name":"TimonNetherlands"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674052404,"creation_date":1674052404,"answer_id":75160836,"question_id":75159917,"body_markdown":"You can obtain the desired result using regex:\r\n\r\n    String originalString = &quot;this is an example to extract sentence between is&quot;;\r\n\r\n    Pattern p = Pattern.compile( &quot;(?&lt;=(?:\\\\bis\\\\b))(.*)(?=(?:\\\\bis\\\\b))&quot; );\r\n    Matcher m = p.matcher( originalString );\r\n    if ( m.find() ) {\r\n        System.out.println(m.group(1));\r\n    }\r\n\r\n`(?&lt;=(?:\\\\bis\\\\b))` is a positive look behind, with a non capturing group. The word  you&#39;re looking for is placed between the boundary keywords `\\b`. The boundaries make sure it will only look for whole words (so &#39;this&#39; will be skipped). `(?=(?:\\\\bis\\\\b))` is a positive look ahead. The end result will be anything between the two groups.","title":"Extract substring where startString and endString are same","body":"<p>You can obtain the desired result using regex:</p>\n<pre><code>String originalString = &quot;this is an example to extract sentence between is&quot;;\n\nPattern p = Pattern.compile( &quot;(?&lt;=(?:\\\\bis\\\\b))(.*)(?=(?:\\\\bis\\\\b))&quot; );\nMatcher m = p.matcher( originalString );\nif ( m.find() ) {\n    System.out.println(m.group(1));\n}\n</code></pre>\n<p><code>(?&lt;=(?:\\\\bis\\\\b))</code> is a positive look behind, with a non capturing group. The word  you're looking for is placed between the boundary keywords <code>\\b</code>. The boundaries make sure it will only look for whole words (so 'this' will be skipped). <code>(?=(?:\\\\bis\\\\b))</code> is a positive look ahead. The end result will be anything between the two groups.</p>\n"}],"owner":{"account_id":2371690,"reputation":799,"user_id":2076174,"accept_rate":56,"display_name":"rakesh_parashar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674052404,"creation_date":1674048267,"question_id":75159917,"body_markdown":"I want to extract the sentence/word, where the start string and end string are same,\r\nfor example :\r\n\r\n    String originalString = &quot;this is an example to extract sentence between is&quot;;\r\nhere start string and end string is same that is : `&quot;is&quot;`\r\nSo the final output should be : `an example to extract sentence between`\r\n\r\nI tried as below, but it returned output as `&quot;is&quot;` only\r\n\r\n     String originalString = &quot;this is an example to extract sentence between is&quot;;\r\n            String startEndString = &quot;is&quot;;\r\n    \r\n            int startIndex = originalString.indexOf(startEndString);\r\n            int endIndex = originalString.indexOf(startEndString, startIndex + startEndString.length());\r\n    \r\n            String substring = originalString.substring(startIndex, endIndex);\r\n            System.out.println(substring);\r\n\r\nI also checked `org.apache.commons.lang.StringUtils` substring methods, but could not find any to fulfill this type of extract. Is there any java8 / StringUtil method / API already available to do this job? \r\n\r\n\r\n","title":"Extract substring where startString and endString are same","body":"<p>I want to extract the sentence/word, where the start string and end string are same,\nfor example :</p>\n<pre><code>String originalString = &quot;this is an example to extract sentence between is&quot;;\n</code></pre>\n<p>here start string and end string is same that is : <code>&quot;is&quot;</code>\nSo the final output should be : <code>an example to extract sentence between</code></p>\n<p>I tried as below, but it returned output as <code>&quot;is&quot;</code> only</p>\n<pre><code> String originalString = &quot;this is an example to extract sentence between is&quot;;\n        String startEndString = &quot;is&quot;;\n\n        int startIndex = originalString.indexOf(startEndString);\n        int endIndex = originalString.indexOf(startEndString, startIndex + startEndString.length());\n\n        String substring = originalString.substring(startIndex, endIndex);\n        System.out.println(substring);\n</code></pre>\n<p>I also checked <code>org.apache.commons.lang.StringUtils</code> substring methods, but could not find any to fulfill this type of extract. Is there any java8 / StringUtil method / API already available to do this job?</p>\n"},{"tags":["java","reactjs","spring-security","x-frame-options","clickjacking"],"answers":[{"tags":[],"owner":{"account_id":21514451,"reputation":1,"user_id":15856575,"display_name":"Firas FOUDHAILI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674052172,"creation_date":1674051815,"answer_id":75160709,"question_id":74548548,"body_markdown":"I finally resolved this issue by configuring the frontend web.xml file by following [this][1]\r\nif u&#39;re using nginx as a server you can add :\r\n\r\n**Header always set X-Frame-Options &quot;SAMEORIGIN&quot;**\r\n\r\nif you&#39;re using any other server u can check [mdn][2],\r\n\r\nto conclude, if you&#39;re working on a full stack application you have to configure the server configuration file otherwise spring security won&#39;t prevent you from clickjacking.\r\n\r\n\r\n  [1]: https://knowledge.broadcom.com/external/article/139277/how-to-configure-oneclicks-tomcat-server.html\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options","title":"X-Frame-Options: DENY works only on backend port endpoints","body":"<p>I finally resolved this issue by configuring the frontend web.xml file by following <a href=\"https://knowledge.broadcom.com/external/article/139277/how-to-configure-oneclicks-tomcat-server.html\" rel=\"nofollow noreferrer\">this</a>\nif u're using nginx as a server you can add :</p>\n<p><strong>Header always set X-Frame-Options &quot;SAMEORIGIN&quot;</strong></p>\n<p>if you're using any other server u can check <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options\" rel=\"nofollow noreferrer\">mdn</a>,</p>\n<p>to conclude, if you're working on a full stack application you have to configure the server configuration file otherwise spring security won't prevent you from clickjacking.</p>\n"}],"owner":{"account_id":21514451,"reputation":1,"user_id":15856575,"display_name":"Firas FOUDHAILI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75160709,"answer_count":1,"score":0,"last_activity_date":1674052172,"creation_date":1669214258,"question_id":74548548,"body_markdown":"So since i&#39;m working on spring security i&#39;ve setted the headers.frameOptions to DENY, when i try this by putting my backend endpoint in an iframe which is **localhost:8080** [here][1] , everything is working perfectly fine, the thing is, when i put the frontend **localhost:3000** in iframe, nothing happens and the application is displayed in the iframe.\r\ni&#39;m thinking that the headers configuration i&#39;m doing are applying only on APIs and not at the start of the application \r\n\r\n[at the start of the application][2] as you can see there is no configuration : X-Frame-Options: DENY\r\n[Here after i send an API][3]\r\n\r\nhere is the function\r\n```\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n    http.headers()\r\n            .httpStrictTransportSecurity()\r\n            .maxAgeInSeconds(31536000)\r\n            .includeSubDomains(true);\r\n\r\n    http.headers()\r\n            .contentTypeOptions();\r\n    http.cors().and()\r\n            .headers()\r\n            .xssProtection()\r\n            .and()\r\n            .contentSecurityPolicy(&quot;script-src &#39;self&#39;&quot;)\r\n            .and()\r\n            .httpStrictTransportSecurity().includeSubDomains(true).maxAgeInSeconds(31536000)\r\n            .and()\r\n            .contentSecurityPolicy(&quot;frame-ancestors &#39;none&#39;&quot;)\r\n            .and()\r\n            .frameOptions()\r\n            .deny()\r\n            .and()\r\n            .csrf()\r\n            .disable()\r\n            .formLogin().defaultSuccessUrl(&quot;/swagger-ui.html&quot;, true).and()\r\n            .authorizeRequests().antMatchers(AUTH_LIST).authenticated()\r\n            .antMatchers(&quot;/actuator/**&quot;).access(&quot;hasAnyRole(&#39;ADMIN&#39;) and hasIpAddress(&#39;127.0.0.1&#39;)&quot;)\r\n            .anyRequest().permitAll()\r\n            .and().httpBasic();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SA1t4.png\r\n  [2]: https://i.stack.imgur.com/wL04H.png\r\n  [3]: https://i.stack.imgur.com/Av1FB.png","title":"X-Frame-Options: DENY works only on backend port endpoints","body":"<p>So since i'm working on spring security i've setted the headers.frameOptions to DENY, when i try this by putting my backend endpoint in an iframe which is <strong>localhost:8080</strong> <a href=\"https://i.stack.imgur.com/SA1t4.png\" rel=\"nofollow noreferrer\">here</a> , everything is working perfectly fine, the thing is, when i put the frontend <strong>localhost:3000</strong> in iframe, nothing happens and the application is displayed in the iframe.\ni'm thinking that the headers configuration i'm doing are applying only on APIs and not at the start of the application</p>\n<p><a href=\"https://i.stack.imgur.com/wL04H.png\" rel=\"nofollow noreferrer\">at the start of the application</a> as you can see there is no configuration : X-Frame-Options: DENY\n<a href=\"https://i.stack.imgur.com/Av1FB.png\" rel=\"nofollow noreferrer\">Here after i send an API</a></p>\n<p>here is the function</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.headers()\n            .httpStrictTransportSecurity()\n            .maxAgeInSeconds(31536000)\n            .includeSubDomains(true);\n\n    http.headers()\n            .contentTypeOptions();\n    http.cors().and()\n            .headers()\n            .xssProtection()\n            .and()\n            .contentSecurityPolicy(&quot;script-src 'self'&quot;)\n            .and()\n            .httpStrictTransportSecurity().includeSubDomains(true).maxAgeInSeconds(31536000)\n            .and()\n            .contentSecurityPolicy(&quot;frame-ancestors 'none'&quot;)\n            .and()\n            .frameOptions()\n            .deny()\n            .and()\n            .csrf()\n            .disable()\n            .formLogin().defaultSuccessUrl(&quot;/swagger-ui.html&quot;, true).and()\n            .authorizeRequests().antMatchers(AUTH_LIST).authenticated()\n            .antMatchers(&quot;/actuator/**&quot;).access(&quot;hasAnyRole('ADMIN') and hasIpAddress('127.0.0.1')&quot;)\n            .anyRequest().permitAll()\n            .and().httpBasic();\n}\n</code></pre>\n"},{"tags":["java","reflection","annotation-processing"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1673758380,"post_id":75122911,"comment_id":132567823,"body_markdown":"It looks like a bug but maybe they are going to explain why it&#39;s not if you open a bug report.","body":"It looks like a bug but maybe they are going to explain why it&#39;s not if you open a bug report."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673758738,"post_id":75122911,"comment_id":132567856,"body_markdown":"But this begs the question: what are you actually trying to achieve with this?  (Apart from trying to see if it ... erm ... works.)","body":"But this begs the question: what are you actually trying to achieve with this?  (Apart from trying to see if it ... erm ... works.)"},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1673759178,"post_id":75122911,"comment_id":132567888,"body_markdown":"It was a class encountered during some reflection-based traversal of `String.clasd`.","body":"It was a class encountered during some reflection-based traversal of <code>String.clasd</code>."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673873397,"creation_date":1673873397,"answer_id":75134473,"question_id":75122911,"body_markdown":"Keep in mind, that you are looking at very special code for Java/JVM interaction. You get a hint when looking at the comment right before the source code:\r\n\r\n```java\r\n/* Placeholder class for DirectMethodHandles generated ahead of time */\r\nfinal class Holder {}\r\n```\r\n&lt;sup&gt;emphasis on “placeholder” and “generated”&lt;/sup&gt;\r\n\r\nWhen I run `jdk-17\\bin\\javap java.lang.invoke.DirectMethodHandle$Holder`, I get the following output:\r\n\r\n```java\r\nfinal class java.lang.invoke.DirectMethodHandle$Holder {\r\n  static int invokeInterface(java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, int);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, long);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static void invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, double);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, int, int);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, int, java.lang.Object);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, int);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, int);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, int);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, long);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, long, long);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, int, java.lang.Object);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, int);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, long, java.lang.Object);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, long);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, java.lang.Object);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object);\r\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, long);\r\n  static int invokeSpecial(java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object);\r\n  static void invokeSpecial(java.lang.Object, java.lang.Object);\r\n  static int invokeSpecialIFC(java.lang.Object, java.lang.Object, java.lang.Object, int);\r\n  static int invokeSpecialIFC(java.lang.Object, java.lang.Object, int);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, double, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, double);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, int, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, int);\r\n  static int invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, long);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static void invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, double);\r\n  static int invokeStatic(java.lang.Object, int, int, int);\r\n  static int invokeStatic(java.lang.Object, int, int);\r\n  static int invokeStatic(java.lang.Object, int);\r\n  static java.lang.Object invokeStatic(java.lang.Object, int);\r\n  static long invokeStatic(java.lang.Object, long, int);\r\n  static long invokeStatic(java.lang.Object, long, long);\r\n  static long invokeStatic(java.lang.Object, long, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static long invokeStatic(java.lang.Object, long, java.lang.Object, int, java.lang.Object);\r\n  static long invokeStatic(java.lang.Object, long, java.lang.Object, long, java.lang.Object);\r\n  static long invokeStatic(java.lang.Object, long, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, long);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, long);\r\n  static int invokeStatic(java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeStatic(java.lang.Object);\r\n  static void invokeStatic(java.lang.Object);\r\n  static java.lang.Object invokeStaticInit(java.lang.Object, java.lang.Object);\r\n  static void invokeVirtual(java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object invokeVirtual(java.lang.Object, java.lang.Object);\r\n  static java.lang.Object newInvokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object newInvokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object newInvokeSpecial(java.lang.Object, int, int);\r\n  static java.lang.Object newInvokeSpecial(java.lang.Object, int);\r\n  static java.lang.Object newInvokeSpecial(java.lang.Object, java.lang.Object);\r\n  static java.lang.Object newInvokeSpecial(java.lang.Object);\r\n  static int getBoolean(java.lang.Object, java.lang.Object);\r\n  static int getBooleanVolatile(java.lang.Object, java.lang.Object);\r\n  static void putBoolean(java.lang.Object, java.lang.Object, int);\r\n  static void putBooleanVolatile(java.lang.Object, java.lang.Object, int);\r\n  static int getBoolean(java.lang.Object);\r\n  static int getBooleanVolatile(java.lang.Object);\r\n  static void putBoolean(java.lang.Object, int);\r\n  static void putBooleanVolatile(java.lang.Object, int);\r\n  static int getByte(java.lang.Object, java.lang.Object);\r\n  static int getByteVolatile(java.lang.Object, java.lang.Object);\r\n  static void putByte(java.lang.Object, java.lang.Object, int);\r\n  static void putByteVolatile(java.lang.Object, java.lang.Object, int);\r\n  static int getByte(java.lang.Object);\r\n  static int getByteVolatile(java.lang.Object);\r\n  static void putByte(java.lang.Object, int);\r\n  static void putByteVolatile(java.lang.Object, int);\r\n  static int getShort(java.lang.Object, java.lang.Object);\r\n  static int getShortVolatile(java.lang.Object, java.lang.Object);\r\n  static void putShort(java.lang.Object, java.lang.Object, int);\r\n  static void putShortVolatile(java.lang.Object, java.lang.Object, int);\r\n  static int getShort(java.lang.Object);\r\n  static int getShortVolatile(java.lang.Object);\r\n  static void putShort(java.lang.Object, int);\r\n  static void putShortVolatile(java.lang.Object, int);\r\n  static int getChar(java.lang.Object, java.lang.Object);\r\n  static int getCharVolatile(java.lang.Object, java.lang.Object);\r\n  static void putChar(java.lang.Object, java.lang.Object, int);\r\n  static void putCharVolatile(java.lang.Object, java.lang.Object, int);\r\n  static int getChar(java.lang.Object);\r\n  static int getCharVolatile(java.lang.Object);\r\n  static void putChar(java.lang.Object, int);\r\n  static void putCharVolatile(java.lang.Object, int);\r\n  static int getInt(java.lang.Object, java.lang.Object);\r\n  static int getIntVolatile(java.lang.Object, java.lang.Object);\r\n  static void putInt(java.lang.Object, java.lang.Object, int);\r\n  static void putIntVolatile(java.lang.Object, java.lang.Object, int);\r\n  static int getInt(java.lang.Object);\r\n  static int getIntVolatile(java.lang.Object);\r\n  static void putInt(java.lang.Object, int);\r\n  static void putIntVolatile(java.lang.Object, int);\r\n  static long getLong(java.lang.Object, java.lang.Object);\r\n  static long getLongVolatile(java.lang.Object, java.lang.Object);\r\n  static void putLong(java.lang.Object, java.lang.Object, long);\r\n  static void putLongVolatile(java.lang.Object, java.lang.Object, long);\r\n  static long getLong(java.lang.Object);\r\n  static long getLongVolatile(java.lang.Object);\r\n  static void putLong(java.lang.Object, long);\r\n  static void putLongVolatile(java.lang.Object, long);\r\n  static float getFloat(java.lang.Object, java.lang.Object);\r\n  static float getFloatVolatile(java.lang.Object, java.lang.Object);\r\n  static void putFloat(java.lang.Object, java.lang.Object, float);\r\n  static void putFloatVolatile(java.lang.Object, java.lang.Object, float);\r\n  static float getFloat(java.lang.Object);\r\n  static float getFloatVolatile(java.lang.Object);\r\n  static void putFloat(java.lang.Object, float);\r\n  static void putFloatVolatile(java.lang.Object, float);\r\n  static double getDouble(java.lang.Object, java.lang.Object);\r\n  static double getDoubleVolatile(java.lang.Object, java.lang.Object);\r\n  static void putDouble(java.lang.Object, java.lang.Object, double);\r\n  static void putDoubleVolatile(java.lang.Object, java.lang.Object, double);\r\n  static double getDouble(java.lang.Object);\r\n  static double getDoubleVolatile(java.lang.Object);\r\n  static void putDouble(java.lang.Object, double);\r\n  static void putDoubleVolatile(java.lang.Object, double);\r\n  static java.lang.Object getReference(java.lang.Object, java.lang.Object);\r\n  static java.lang.Object getReferenceVolatile(java.lang.Object, java.lang.Object);\r\n  static void putReference(java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static void putReferenceVolatile(java.lang.Object, java.lang.Object, java.lang.Object);\r\n  static java.lang.Object getReference(java.lang.Object);\r\n  static java.lang.Object getReferenceVolatile(java.lang.Object);\r\n  static void putReference(java.lang.Object, java.lang.Object);\r\n  static void putReferenceVolatile(java.lang.Object, java.lang.Object);\r\n}\r\n```\r\n\r\nwhich is a strong hint that the class is not the one you get by compiling the empty one-line definition. It seems that the generator for this actual class file did not care to produce an equivalent [`InnerClasses` attribute] for the replacement class file. Since this attribute has no impact on the actual execution of the code, it shouldn’t matter.\r\n\r\nSo there’s no bug, neither in the compiler nor reflections, the mismatch is caused by the fact that the class does not originate from the source code.\r\n\r\n[`InnerClasses` attribute]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.6","title":"Why is DirectMethodHandle$Holder not a member class of DirectMethodHandle, according to reflection?","body":"<p>Keep in mind, that you are looking at very special code for Java/JVM interaction. You get a hint when looking at the comment right before the source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* Placeholder class for DirectMethodHandles generated ahead of time */\nfinal class Holder {}\n</code></pre>\n<p><sup>emphasis on “placeholder” and “generated”</sup></p>\n<p>When I run <code>jdk-17\\bin\\javap java.lang.invoke.DirectMethodHandle$Holder</code>, I get the following output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final class java.lang.invoke.DirectMethodHandle$Holder {\n  static int invokeInterface(java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, int);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, long);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static void invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, double);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, int, int);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, int, java.lang.Object);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, int);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, int);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, int);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, long);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, long, long);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, java.lang.Object, java.lang.Object);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, int, java.lang.Object);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, int);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, long, java.lang.Object);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, long);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object, java.lang.Object);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long, java.lang.Object);\n  static long invokeSpecial(java.lang.Object, java.lang.Object, long);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object, long);\n  static int invokeSpecial(java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeSpecial(java.lang.Object, java.lang.Object);\n  static void invokeSpecial(java.lang.Object, java.lang.Object);\n  static int invokeSpecialIFC(java.lang.Object, java.lang.Object, java.lang.Object, int);\n  static int invokeSpecialIFC(java.lang.Object, java.lang.Object, int);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, double, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, double);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, int, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, int);\n  static int invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, long);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static void invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, double);\n  static int invokeStatic(java.lang.Object, int, int, int);\n  static int invokeStatic(java.lang.Object, int, int);\n  static int invokeStatic(java.lang.Object, int);\n  static java.lang.Object invokeStatic(java.lang.Object, int);\n  static long invokeStatic(java.lang.Object, long, int);\n  static long invokeStatic(java.lang.Object, long, long);\n  static long invokeStatic(java.lang.Object, long, java.lang.Object, java.lang.Object, java.lang.Object);\n  static long invokeStatic(java.lang.Object, long, java.lang.Object, int, java.lang.Object);\n  static long invokeStatic(java.lang.Object, long, java.lang.Object, long, java.lang.Object);\n  static long invokeStatic(java.lang.Object, long, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, long);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object, long);\n  static int invokeStatic(java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeStatic(java.lang.Object);\n  static void invokeStatic(java.lang.Object);\n  static java.lang.Object invokeStaticInit(java.lang.Object, java.lang.Object);\n  static void invokeVirtual(java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object invokeVirtual(java.lang.Object, java.lang.Object);\n  static java.lang.Object newInvokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object newInvokeSpecial(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object newInvokeSpecial(java.lang.Object, int, int);\n  static java.lang.Object newInvokeSpecial(java.lang.Object, int);\n  static java.lang.Object newInvokeSpecial(java.lang.Object, java.lang.Object);\n  static java.lang.Object newInvokeSpecial(java.lang.Object);\n  static int getBoolean(java.lang.Object, java.lang.Object);\n  static int getBooleanVolatile(java.lang.Object, java.lang.Object);\n  static void putBoolean(java.lang.Object, java.lang.Object, int);\n  static void putBooleanVolatile(java.lang.Object, java.lang.Object, int);\n  static int getBoolean(java.lang.Object);\n  static int getBooleanVolatile(java.lang.Object);\n  static void putBoolean(java.lang.Object, int);\n  static void putBooleanVolatile(java.lang.Object, int);\n  static int getByte(java.lang.Object, java.lang.Object);\n  static int getByteVolatile(java.lang.Object, java.lang.Object);\n  static void putByte(java.lang.Object, java.lang.Object, int);\n  static void putByteVolatile(java.lang.Object, java.lang.Object, int);\n  static int getByte(java.lang.Object);\n  static int getByteVolatile(java.lang.Object);\n  static void putByte(java.lang.Object, int);\n  static void putByteVolatile(java.lang.Object, int);\n  static int getShort(java.lang.Object, java.lang.Object);\n  static int getShortVolatile(java.lang.Object, java.lang.Object);\n  static void putShort(java.lang.Object, java.lang.Object, int);\n  static void putShortVolatile(java.lang.Object, java.lang.Object, int);\n  static int getShort(java.lang.Object);\n  static int getShortVolatile(java.lang.Object);\n  static void putShort(java.lang.Object, int);\n  static void putShortVolatile(java.lang.Object, int);\n  static int getChar(java.lang.Object, java.lang.Object);\n  static int getCharVolatile(java.lang.Object, java.lang.Object);\n  static void putChar(java.lang.Object, java.lang.Object, int);\n  static void putCharVolatile(java.lang.Object, java.lang.Object, int);\n  static int getChar(java.lang.Object);\n  static int getCharVolatile(java.lang.Object);\n  static void putChar(java.lang.Object, int);\n  static void putCharVolatile(java.lang.Object, int);\n  static int getInt(java.lang.Object, java.lang.Object);\n  static int getIntVolatile(java.lang.Object, java.lang.Object);\n  static void putInt(java.lang.Object, java.lang.Object, int);\n  static void putIntVolatile(java.lang.Object, java.lang.Object, int);\n  static int getInt(java.lang.Object);\n  static int getIntVolatile(java.lang.Object);\n  static void putInt(java.lang.Object, int);\n  static void putIntVolatile(java.lang.Object, int);\n  static long getLong(java.lang.Object, java.lang.Object);\n  static long getLongVolatile(java.lang.Object, java.lang.Object);\n  static void putLong(java.lang.Object, java.lang.Object, long);\n  static void putLongVolatile(java.lang.Object, java.lang.Object, long);\n  static long getLong(java.lang.Object);\n  static long getLongVolatile(java.lang.Object);\n  static void putLong(java.lang.Object, long);\n  static void putLongVolatile(java.lang.Object, long);\n  static float getFloat(java.lang.Object, java.lang.Object);\n  static float getFloatVolatile(java.lang.Object, java.lang.Object);\n  static void putFloat(java.lang.Object, java.lang.Object, float);\n  static void putFloatVolatile(java.lang.Object, java.lang.Object, float);\n  static float getFloat(java.lang.Object);\n  static float getFloatVolatile(java.lang.Object);\n  static void putFloat(java.lang.Object, float);\n  static void putFloatVolatile(java.lang.Object, float);\n  static double getDouble(java.lang.Object, java.lang.Object);\n  static double getDoubleVolatile(java.lang.Object, java.lang.Object);\n  static void putDouble(java.lang.Object, java.lang.Object, double);\n  static void putDoubleVolatile(java.lang.Object, java.lang.Object, double);\n  static double getDouble(java.lang.Object);\n  static double getDoubleVolatile(java.lang.Object);\n  static void putDouble(java.lang.Object, double);\n  static void putDoubleVolatile(java.lang.Object, double);\n  static java.lang.Object getReference(java.lang.Object, java.lang.Object);\n  static java.lang.Object getReferenceVolatile(java.lang.Object, java.lang.Object);\n  static void putReference(java.lang.Object, java.lang.Object, java.lang.Object);\n  static void putReferenceVolatile(java.lang.Object, java.lang.Object, java.lang.Object);\n  static java.lang.Object getReference(java.lang.Object);\n  static java.lang.Object getReferenceVolatile(java.lang.Object);\n  static void putReference(java.lang.Object, java.lang.Object);\n  static void putReferenceVolatile(java.lang.Object, java.lang.Object);\n}\n</code></pre>\n<p>which is a strong hint that the class is not the one you get by compiling the empty one-line definition. It seems that the generator for this actual class file did not care to produce an equivalent <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.6\" rel=\"noreferrer\"><code>InnerClasses</code> attribute</a> for the replacement class file. Since this attribute has no impact on the actual execution of the code, it shouldn’t matter.</p>\n<p>So there’s no bug, neither in the compiler nor reflections, the mismatch is caused by the fact that the class does not originate from the source code.</p>\n"},{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674051951,"creation_date":1674051951,"answer_id":75160735,"question_id":75122911,"body_markdown":"As Holger already said, the class file does not correspond to the source code. This class file is overwritten with a different one by a jlink plugin that runs when the JDK is created.\r\n\r\n[There are several such holder classes in the jdk](https://github.com/openjdk/jdk/blob/754f6e6116b8889c49abf34d01f6fc3e9f1b3cb7/src/jdk.jlink/share/classes/jdk/tools/jlink/internal/plugins/GenerateJLIClassesPlugin.java#L157-L164):\r\n\r\n    private static final String DIRECT_METHOD_HOLDER_ENTRY =\r\n            &quot;/java.base/java/lang/invoke/DirectMethodHandle$Holder.class&quot;;\r\n    private static final String DELEGATING_METHOD_HOLDER_ENTRY =\r\n            &quot;/java.base/java/lang/invoke/DelegatingMethodHandle$Holder.class&quot;;\r\n    private static final String BASIC_FORMS_HOLDER_ENTRY =\r\n            &quot;/java.base/java/lang/invoke/LambdaForm$Holder.class&quot;;\r\n    private static final String INVOKERS_HOLDER_ENTRY =\r\n            &quot;/java.base/java/lang/invoke/Invokers$Holder.class&quot;;\r\n\r\nThese hold the contents of certain pre-generated `java.lang.invoke` implementation classes. Pre-generating these classes during jlink-time avoids having to generate them at runtime. So, this is essentially done for performance reasons.\r\n","title":"Why is DirectMethodHandle$Holder not a member class of DirectMethodHandle, according to reflection?","body":"<p>As Holger already said, the class file does not correspond to the source code. This class file is overwritten with a different one by a jlink plugin that runs when the JDK is created.</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/754f6e6116b8889c49abf34d01f6fc3e9f1b3cb7/src/jdk.jlink/share/classes/jdk/tools/jlink/internal/plugins/GenerateJLIClassesPlugin.java#L157-L164\" rel=\"nofollow noreferrer\">There are several such holder classes in the jdk</a>:</p>\n<pre><code>private static final String DIRECT_METHOD_HOLDER_ENTRY =\n        &quot;/java.base/java/lang/invoke/DirectMethodHandle$Holder.class&quot;;\nprivate static final String DELEGATING_METHOD_HOLDER_ENTRY =\n        &quot;/java.base/java/lang/invoke/DelegatingMethodHandle$Holder.class&quot;;\nprivate static final String BASIC_FORMS_HOLDER_ENTRY =\n        &quot;/java.base/java/lang/invoke/LambdaForm$Holder.class&quot;;\nprivate static final String INVOKERS_HOLDER_ENTRY =\n        &quot;/java.base/java/lang/invoke/Invokers$Holder.class&quot;;\n</code></pre>\n<p>These hold the contents of certain pre-generated <code>java.lang.invoke</code> implementation classes. Pre-generating these classes during jlink-time avoids having to generate them at runtime. So, this is essentially done for performance reasons.</p>\n"}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75160735,"answer_count":2,"score":3,"last_activity_date":1674051951,"creation_date":1673756622,"question_id":75122911,"body_markdown":"Consider the [`DirectMethodHandle$Holder` class](https://github.com/openjdk/jdk/blob/jdk-19+36/src/java.base/share/classes/java/lang/invoke/DirectMethodHandle.java#L938).  (It is one of the classes returned by `Class.forName(&quot;java.lang.invoke.DirectMethodHandle&quot;).getDeclaredClasses()`, which is [documented to return member classes](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#getDeclaredClasses()).)\r\n\r\nThe following assertion fails under JDK 19:\r\n```\r\nassert Class.forName(&quot;java.lang.invoke.DirectMethodHandle$Holder&quot;).isMemberClass();\r\n```\r\n\r\nWhy? Which [rule of section 8.5](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.5) does it violate?\r\n\r\nLike some of the commenters, I am coming to the conclusion that this is a very weird bug.  For example, using some `javax.annotation.processing` and some `javax.lang.model.*` classes, the following assertion does not fail:\r\n```\r\nassert NestingKind.MEMBER == ((TypeElement)processingEnvironment.getElementUtils().getTypeElement(&quot;java.lang.invoke.DirectMethodHandle.Holder&quot;)).getNestingKind();\r\n```\r\nSo the outputs of the mechanisms underpinning the compiler do not agree with the outputs of the reflection machinery. I&#39;ve [filed a bug against the JDK](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8300181).","title":"Why is DirectMethodHandle$Holder not a member class of DirectMethodHandle, according to reflection?","body":"<p>Consider the <a href=\"https://github.com/openjdk/jdk/blob/jdk-19+36/src/java.base/share/classes/java/lang/invoke/DirectMethodHandle.java#L938\" rel=\"nofollow noreferrer\"><code>DirectMethodHandle$Holder</code> class</a>.  (It is one of the classes returned by <code>Class.forName(&quot;java.lang.invoke.DirectMethodHandle&quot;).getDeclaredClasses()</code>, which is <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#getDeclaredClasses()\" rel=\"nofollow noreferrer\">documented to return member classes</a>.)</p>\n<p>The following assertion fails under JDK 19:</p>\n<pre><code>assert Class.forName(&quot;java.lang.invoke.DirectMethodHandle$Holder&quot;).isMemberClass();\n</code></pre>\n<p>Why? Which <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.5\" rel=\"nofollow noreferrer\">rule of section 8.5</a> does it violate?</p>\n<p>Like some of the commenters, I am coming to the conclusion that this is a very weird bug.  For example, using some <code>javax.annotation.processing</code> and some <code>javax.lang.model.*</code> classes, the following assertion does not fail:</p>\n<pre><code>assert NestingKind.MEMBER == ((TypeElement)processingEnvironment.getElementUtils().getTypeElement(&quot;java.lang.invoke.DirectMethodHandle.Holder&quot;)).getNestingKind();\n</code></pre>\n<p>So the outputs of the mechanisms underpinning the compiler do not agree with the outputs of the reflection machinery. I've <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8300181\" rel=\"nofollow noreferrer\">filed a bug against the JDK</a>.</p>\n"},{"tags":["java","networking","port","talend"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674127899,"post_id":75160730,"comment_id":132650712,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19725062,"reputation":16,"user_id":14441838,"display_name":"Osama Arif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674051932,"creation_date":1674051932,"question_id":75160730,"body_markdown":"I am trying to figure out which port(s) does Talend Open Studio use for outbound communication. Talend runs on JVM and my services primarily use Java MySQLConnector. I need to get those ports white-listed on the firewall to establish connectivity between different servers. \r\n\r\nFurthermore, if the port is identified, will multiple instances of same application utilize the same port for communication in parallel or will it use the next available port?\r\n\r\nI tried using netstat -ano to figure out the ports being used by the application, but I am unable to figure out the specific port or range.","title":"Which ports does Talend Open Studio or Java MySQL Connector Use?","body":"<p>I am trying to figure out which port(s) does Talend Open Studio use for outbound communication. Talend runs on JVM and my services primarily use Java MySQLConnector. I need to get those ports white-listed on the firewall to establish connectivity between different servers.</p>\n<p>Furthermore, if the port is identified, will multiple instances of same application utilize the same port for communication in parallel or will it use the next available port?</p>\n<p>I tried using netstat -ano to figure out the ports being used by the application, but I am unable to figure out the specific port or range.</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation-testing"],"answers":[{"tags":[],"owner":{"account_id":18784283,"reputation":44,"user_id":13698202,"display_name":"mit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674048021,"creation_date":1674048021,"answer_id":75159869,"question_id":75158994,"body_markdown":"To assert text results, we must use `getText()`. The explanation is as follows:\r\n\r\nThere are 3 methods in Selenium to check the **visibility** scope of an element\r\n 1. `isEnabled`\r\n 2. `isDisplayed`\r\n 3. `isSelected`\r\n\r\nAt times our tests fail because an element is displayed or exists in DOM, but it does not exist on the web page. So, we handle such cases by checking the visibility of the web element.\r\n\r\nWebDriver already has a predefined `getText()` method, which retrieves either the `textContent` (for Mozilla) or the `innerText` (for Chrome etc) of the element.\r\n\r\nYour case involves text verification so it&#39;s better to go for `getText`. For web element visibility verification you can use `isDisplayed`.","title":"Is it better to use WebElement.isDisplayed() or WebElement.getText() and compare the results?","body":"<p>To assert text results, we must use <code>getText()</code>. The explanation is as follows:</p>\n<p>There are 3 methods in Selenium to check the <strong>visibility</strong> scope of an element</p>\n<ol>\n<li><code>isEnabled</code></li>\n<li><code>isDisplayed</code></li>\n<li><code>isSelected</code></li>\n</ol>\n<p>At times our tests fail because an element is displayed or exists in DOM, but it does not exist on the web page. So, we handle such cases by checking the visibility of the web element.</p>\n<p>WebDriver already has a predefined <code>getText()</code> method, which retrieves either the <code>textContent</code> (for Mozilla) or the <code>innerText</code> (for Chrome etc) of the element.</p>\n<p>Your case involves text verification so it's better to go for <code>getText</code>. For web element visibility verification you can use <code>isDisplayed</code>.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674051754,"creation_date":1674049874,"answer_id":75160268,"question_id":75158994,"body_markdown":"[WebElement.isDisplayed()](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isDisplayed())\r\n--------------------------\r\nProbes if the element displayed or not within the [HTML DOM](https://www.w3schools.com/js/js_htmldom.asp).\r\n\r\nFrom the [specifications](https://w3c.github.io/webdriver/#element-displayedness):\r\n\r\n&gt; The visibility of an element is guided by what is perceptually visible\r\n&gt; to the human eye. In this context, an element’s displayedness does not\r\n&gt; relate to the visibility or display style properties.\r\n&gt; \r\n&gt; The approach recommended to implementors to ascertain an element’s\r\n&gt; visibility was originally developed by the Selenium project, and is\r\n&gt; based on crude approximations about an element&#39;s nature and\r\n&gt; relationship in the tree. An element is in general to be considered\r\n&gt; visible if any part of it is drawn on the canvas within the boundaries\r\n&gt; of the viewport.\r\n&gt; \r\n&gt; The element displayed algorithm is a boolean state where true\r\n&gt; signifies that the element is displayed and false signifies that the\r\n&gt; element is not displayed. To compute the state on element, invoke the\r\n&gt; [_Function.[[Call]](null, element, false)_](https://262.ecma-international.org/5.1/#sec-13.2.1), with [`bot.dom.isShown`](https://github.com/SeleniumHQ/selenium/blob/a6b161a159c3d581b130f03a2e6e35f577f38dec/javascript/atoms/dom.js#L573) as the\r\n&gt; this value. If doing so does not produce an error, return the return\r\n&gt; value from this function call. Otherwise return an error with error\r\n&gt; code unknown error.\r\n&gt; \r\n&gt; This function is typically exposed to GET requests with a URI Template\r\n&gt; of \r\n\r\n    /session/{session id}/element/{element id}/displayed.\r\n\r\n----------\r\n\r\n\r\n[WebElement.getText()](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#getText())\r\n----------------------\r\nGets the visible (not hidden by CSS) text of this element, including sub-elements.\r\n\r\nFrom the [specifications](https://w3c.github.io/webdriver/#get-element-text):\r\n\r\n&gt; The Get Element Text command intends to return an element’s text “as\r\n&gt; rendered”. An element’s rendered text is also used for locating a\r\n&gt; elements by their link text and partial link text.\r\n&gt; \r\n&gt; One of the major inputs to this specification was the open source\r\n&gt; Selenium project. This was in wide-spread use before this\r\n&gt; specification written, and so had set user expectations of how the Get\r\n&gt; Element Text command should work. As such, the approach presented here\r\n&gt; is known to be flawed, but provides the best compatibility with\r\n&gt; existing users.\r\n\r\n\r\n----------\r\n\r\n\r\nConclusion\r\n----------\r\nNow usage of either of the methods depends on the requirement as well as on the structure of the framework, perhaps individual choice, as `isDisplayed()` return a _`boolean`_ and `getText()` returns the _`text`_.","title":"Is it better to use WebElement.isDisplayed() or WebElement.getText() and compare the results?","body":"<h2><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isDisplayed()\" rel=\"nofollow noreferrer\">WebElement.isDisplayed()</a></h2>\n<p>Probes if the element displayed or not within the <a href=\"https://www.w3schools.com/js/js_htmldom.asp\" rel=\"nofollow noreferrer\">HTML DOM</a>.</p>\n<p>From the <a href=\"https://w3c.github.io/webdriver/#element-displayedness\" rel=\"nofollow noreferrer\">specifications</a>:</p>\n<blockquote>\n<p>The visibility of an element is guided by what is perceptually visible\nto the human eye. In this context, an element’s displayedness does not\nrelate to the visibility or display style properties.</p>\n<p>The approach recommended to implementors to ascertain an element’s\nvisibility was originally developed by the Selenium project, and is\nbased on crude approximations about an element's nature and\nrelationship in the tree. An element is in general to be considered\nvisible if any part of it is drawn on the canvas within the boundaries\nof the viewport.</p>\n<p>The element displayed algorithm is a boolean state where true\nsignifies that the element is displayed and false signifies that the\nelement is not displayed. To compute the state on element, invoke the\n<a href=\"https://262.ecma-international.org/5.1/#sec-13.2.1\" rel=\"nofollow noreferrer\"><em>Function.[[Call]](null, element, false)</em></a>, with <a href=\"https://github.com/SeleniumHQ/selenium/blob/a6b161a159c3d581b130f03a2e6e35f577f38dec/javascript/atoms/dom.js#L573\" rel=\"nofollow noreferrer\"><code>bot.dom.isShown</code></a> as the\nthis value. If doing so does not produce an error, return the return\nvalue from this function call. Otherwise return an error with error\ncode unknown error.</p>\n<p>This function is typically exposed to GET requests with a URI Template\nof</p>\n</blockquote>\n<pre><code>/session/{session id}/element/{element id}/displayed.\n</code></pre>\n<hr />\n<h2><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#getText()\" rel=\"nofollow noreferrer\">WebElement.getText()</a></h2>\n<p>Gets the visible (not hidden by CSS) text of this element, including sub-elements.</p>\n<p>From the <a href=\"https://w3c.github.io/webdriver/#get-element-text\" rel=\"nofollow noreferrer\">specifications</a>:</p>\n<blockquote>\n<p>The Get Element Text command intends to return an element’s text “as\nrendered”. An element’s rendered text is also used for locating a\nelements by their link text and partial link text.</p>\n<p>One of the major inputs to this specification was the open source\nSelenium project. This was in wide-spread use before this\nspecification written, and so had set user expectations of how the Get\nElement Text command should work. As such, the approach presented here\nis known to be flawed, but provides the best compatibility with\nexisting users.</p>\n</blockquote>\n<hr />\n<h2>Conclusion</h2>\n<p>Now usage of either of the methods depends on the requirement as well as on the structure of the framework, perhaps individual choice, as <code>isDisplayed()</code> return a <em><code>boolean</code></em> and <code>getText()</code> returns the <em><code>text</code></em>.</p>\n"}],"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674066043,"accepted_answer_id":75159869,"answer_count":2,"score":0,"last_activity_date":1674051754,"creation_date":1674043584,"question_id":75158994,"body_markdown":"If I&#39;m trying to see if a field on a web page is displaying some text, and I have the following function to dynamically do this:\r\n\r\n    public boolean isInformationFound(String info){\r\n    By infoText= By.xpath(&quot;//h5[text()=&#39;The info is:&#39;]/following::td[text()[contains(.,&#39;&quot;+info+&quot;&#39;)]]&quot;);\r\n    \t\treturn findElementBy(infoText).isDisplayed();\r\n    }\r\n\r\nand in my test case:\r\n\r\n    Assert.assertEquals(foo.isInformationFound(&quot;hello&quot;), true)\r\n\r\nalternatively, what I could do is:\r\n\r\n    public String getInfo(){\r\n    By infoText= By.xpath(&quot;//h5[text()=&#39;The info is:&#39;]/following::td&quot;);\r\n    \t\treturn findElementBy(infoText).getText();\r\n    }\r\n\r\nand then in my test case function, I would do something like:\r\n\r\n    String expected info = &quot;hello&quot;\r\n    Assert.assertEquals(info, foo.getInfo())\r\n\r\nWhich method is better practice? \r\n\r\n","title":"Is it better to use WebElement.isDisplayed() or WebElement.getText() and compare the results?","body":"<p>If I'm trying to see if a field on a web page is displaying some text, and I have the following function to dynamically do this:</p>\n<pre><code>public boolean isInformationFound(String info){\nBy infoText= By.xpath(&quot;//h5[text()='The info is:']/following::td[text()[contains(.,'&quot;+info+&quot;')]]&quot;);\n        return findElementBy(infoText).isDisplayed();\n}\n</code></pre>\n<p>and in my test case:</p>\n<pre><code>Assert.assertEquals(foo.isInformationFound(&quot;hello&quot;), true)\n</code></pre>\n<p>alternatively, what I could do is:</p>\n<pre><code>public String getInfo(){\nBy infoText= By.xpath(&quot;//h5[text()='The info is:']/following::td&quot;);\n        return findElementBy(infoText).getText();\n}\n</code></pre>\n<p>and then in my test case function, I would do something like:</p>\n<pre><code>String expected info = &quot;hello&quot;\nAssert.assertEquals(info, foo.getInfo())\n</code></pre>\n<p>Which method is better practice?</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":26876240,"reputation":21,"user_id":20457452,"display_name":"crosbee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674051646,"creation_date":1674051646,"answer_id":75160664,"question_id":75148404,"body_markdown":"Ok, I solved problem. I used AggregationBuilders to create 2 aggreagtion. First by index, second by provider.\r\n\r\n            SearchRequest searchRequest = new SearchRequest();\r\n        searchRequest.indices(&quot;_all&quot;);\r\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n        searchSourceBuilder.query(QueryBuilders.matchAllQuery()).size(0);\r\n        searchSourceBuilder.aggregation(AggregationBuilders.terms(aggregationIndexName)\r\n                .field(&quot;_index&quot;)\r\n                .size(100)\r\n                .subAggregation(AggregationBuilders.terms(aggregationProviderName)\r\n                        .field(&quot;provider.keyword&quot;)\r\n                        .size(100)));\r\n        searchRequest.source(searchSourceBuilder);","title":"how to speed up returning unique elasticsearch values?","body":"<p>Ok, I solved problem. I used AggregationBuilders to create 2 aggreagtion. First by index, second by provider.</p>\n<pre><code>        SearchRequest searchRequest = new SearchRequest();\n    searchRequest.indices(&quot;_all&quot;);\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n    searchSourceBuilder.query(QueryBuilders.matchAllQuery()).size(0);\n    searchSourceBuilder.aggregation(AggregationBuilders.terms(aggregationIndexName)\n            .field(&quot;_index&quot;)\n            .size(100)\n            .subAggregation(AggregationBuilders.terms(aggregationProviderName)\n                    .field(&quot;provider.keyword&quot;)\n                    .size(100)));\n    searchRequest.source(searchSourceBuilder);\n</code></pre>\n"}],"owner":{"account_id":26876240,"reputation":21,"user_id":20457452,"display_name":"crosbee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75160664,"answer_count":1,"score":1,"last_activity_date":1674051646,"creation_date":1673968045,"question_id":75148404,"body_markdown":"I have more than 100 index in elastic. I want return all unique values from all indexes.\r\n\r\n            String[] instanceNames = getAllIndices().toArray(String[]::new);\r\n        Map&lt;String, Map&lt;String, Set&lt;String&gt;&gt;&gt; results = new HashMap&lt;&gt;();\r\n\r\n        for (String element : instanceNames) {\r\n\r\n            SearchRequest searchRequest = new SearchRequest();\r\n            searchRequest.indices(element);\r\n            SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n            searchSourceBuilder.query(QueryBuilders.matchAllQuery);\r\n            searchSourceBuilder.aggregation(AggregationBuilders.terms(&quot;DISTINCT_VALUES&quot;).field(&quot;provider.keyword&quot;));\r\n            searchRequest.source(searchSourceBuilder);\r\n            SearchResponse searchResponse = null;\r\n            try {\r\n                searchResponse = getClient().search(searchRequest, RequestOptions.DEFAULT);\r\n            } catch (ElasticsearchException | IOException e) {\r\n                throw new ServiceException(I18n.ELASTIC_SEARCH_ERROR, e);\r\n            }\r\n\r\n\r\n            List&lt;SearchHit&gt; searchHits = Arrays.asList(searchResponse.getHits().getHits());\r\n            }\r\n\r\ninstanceNames -&gt; contains all indexes in my elasticsearch.\r\nThis metod works, but returns data is very slowly.","title":"how to speed up returning unique elasticsearch values?","body":"<p>I have more than 100 index in elastic. I want return all unique values from all indexes.</p>\n<pre><code>        String[] instanceNames = getAllIndices().toArray(String[]::new);\n    Map&lt;String, Map&lt;String, Set&lt;String&gt;&gt;&gt; results = new HashMap&lt;&gt;();\n\n    for (String element : instanceNames) {\n\n        SearchRequest searchRequest = new SearchRequest();\n        searchRequest.indices(element);\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n        searchSourceBuilder.query(QueryBuilders.matchAllQuery);\n        searchSourceBuilder.aggregation(AggregationBuilders.terms(&quot;DISTINCT_VALUES&quot;).field(&quot;provider.keyword&quot;));\n        searchRequest.source(searchSourceBuilder);\n        SearchResponse searchResponse = null;\n        try {\n            searchResponse = getClient().search(searchRequest, RequestOptions.DEFAULT);\n        } catch (ElasticsearchException | IOException e) {\n            throw new ServiceException(I18n.ELASTIC_SEARCH_ERROR, e);\n        }\n\n\n        List&lt;SearchHit&gt; searchHits = Arrays.asList(searchResponse.getHits().getHits());\n        }\n</code></pre>\n<p>instanceNames -&gt; contains all indexes in my elasticsearch.\nThis metod works, but returns data is very slowly.</p>\n"},{"tags":["java","spring-boot","jooq","jooq-codegen"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1673556650,"post_id":75096731,"comment_id":132532317,"body_markdown":"Have you tried upgrading? `MULTISET` had been introduced in jOOQ 3.15.0, and a ton of bugs have been fixed since...","body":"Have you tried upgrading? <code>MULTISET</code> had been introduced in jOOQ 3.15.0, and a ton of bugs have been fixed since..."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673889179,"creation_date":1673889179,"answer_id":75137515,"question_id":75096731,"body_markdown":"[jOOQ added `MULTISET` support in version 3.15.0][1], just one patch release before the version that you&#39;re using. Since then, there had been a ton of bugfixes in this area, see the [release notes][2]. Until version 3.17.6, the release notes reference the word *&quot;MULTISET&quot;* 65 times. I vaguely recall a bug like this.\r\n\r\nFor example, there&#39;s [#12208][3], which was fixed in jOOQ 3.16.0 and 3.15.3. You should definitely upgrade, at least to the latest 3.15 patch release, possibly even to 3.17.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\r\n  [2]: https://www.jooq.org/notes\r\n  [3]: https://github.com/jOOQ/jOOQ/issues/12208","title":"JOOQ MappingException when using multiset select","body":"<p><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\">jOOQ added <code>MULTISET</code> support in version 3.15.0</a>, just one patch release before the version that you're using. Since then, there had been a ton of bugfixes in this area, see the <a href=\"https://www.jooq.org/notes\" rel=\"nofollow noreferrer\">release notes</a>. Until version 3.17.6, the release notes reference the word <em>&quot;MULTISET&quot;</em> 65 times. I vaguely recall a bug like this.</p>\n<p>For example, there's <a href=\"https://github.com/jOOQ/jOOQ/issues/12208\" rel=\"nofollow noreferrer\">#12208</a>, which was fixed in jOOQ 3.16.0 and 3.15.3. You should definitely upgrade, at least to the latest 3.15 patch release, possibly even to 3.17.</p>\n"}],"owner":{"account_id":778064,"reputation":117,"user_id":829861,"display_name":"KeithC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75137515,"answer_count":1,"score":1,"last_activity_date":1674051580,"creation_date":1673528542,"question_id":75096731,"body_markdown":"Hi I am attempting to perform a jooq multiset select to map a one to many relationship into my POJOs.\r\n\r\n```\r\norg.jooq.exception.MappingException: An error ocurred when mapping record to class io.comp.biz.core.task.model.TaskDetails\r\n\r\n\tat org.jooq.impl.DefaultRecordMapper$MutablePOJOMapper.map(DefaultRecordMapper.java:916)\r\n\tat org.jooq.impl.DefaultRecordMapper.map(DefaultRecordMapper.java:610)\r\n\tat org.jooq.impl.AbstractRecord.into(AbstractRecord.java:804)\r\n\tat org.jooq.impl.ResultQueryTrait.fetchOneInto(ResultQueryTrait.java:530)\r\n\tat io.comp.biz.core.task.query.TaskQueryRepository.findTaskDetailsById(TaskQueryRepository.java:172)\r\n\r\n..... \r\n\r\nCaused by: org.jooq.exception.DataTypeException: No Converter found for types org.jooq.Converters$UnknownType and java.util.List\r\n\tat org.jooq.impl.Tools.converterOrFail(Tools.java:1216)\r\n\tat org.jooq.impl.Tools.converterOrFail(Tools.java:1225)\r\n\tat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:351)\r\n\tat org.jooq.impl.DefaultRecordMapper$MutablePOJOMapper.map(DefaultRecordMapper.java:943)\r\n\tat org.jooq.impl.DefaultRecordMapper$MutablePOJOMapper.map(DefaultRecordMapper.java:873)\r\n\t... 112 more\r\n```\r\n\r\nThese are my POJOS:\r\n\r\n``` java \r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Data\r\npublic class TaskDetails {\r\n    private UUID id;\r\n    private UUID tenantId;\r\n    private String title;\r\n    private String description;\r\n    private LocalDateTime createdAt;\r\n    private String priority;\r\n    private Long numericId;\r\n    private UUID assigneeId;\r\n    private UUID statusId;\r\n    private UUID reporterId;\r\n    private Boolean deleted;\r\n    private LocalDateTime modifiedAt;\r\n    private UUID modifiedBy;\r\n    private List&lt;TaskDate&gt; taskDates;\r\n}\r\n```\r\n\r\n``` java \r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Data\r\npublic class TaskDate {\r\n    private UUID id;\r\n    private UUID taskId;\r\n    private String type;\r\n    private LocalDate date;\r\n    private LocalDateTime createdAt;\r\n    private String createdBy;\r\n    private String modifiedBy;\r\n    private LocalDateTime modifiedAt;\r\n}\r\n```\r\n\r\nThis is my jooq query:\r\n\r\n``` java \r\npublic Optional&lt;TaskDetails&gt; findTaskDetailsById(UUID taskId) {\r\n        TaskDetails taskDetails =\r\n                dslContext.select(\r\n                                TASK.ID,\r\n                                TASK.TENANT_ID,\r\n                                TASK.TITLE,\r\n                                TASK.DESCRIPTION,\r\n                                TASK.CREATED_AT,\r\n                                TASK.PRIORITY,\r\n                                TASK.NUMERIC_ID,\r\n                                TASK.ASSIGNEE_ID,\r\n                                TASK.STATUS_ID,\r\n                                TASK.REPORTER_ID,\r\n                                TASK.DELETED,\r\n                                TASK.MODIFIED_AT,\r\n                                TASK.MODIFIED_BY,\r\n                                multiset(dslContext.select(TASK_DATE.ID,\r\n                                        TASK_DATE .TASK_ID,\r\n                                        TASK_DATE.TYPE,\r\n                                        TASK_DATE.DATE,\r\n                                        TASK_DATE.CREATED_AT,\r\n                                        TASK_DATE.CREATED_BY,\r\n                                        TASK_DATE.MODIFIED_BY,\r\n                                        TASK_DATE.MODIFIED_AT).from(TASK_DATE).where(TASK_DATE.TASK_ID.eq(TASK.ID))).as(&quot;taskDates&quot;).convertFrom(r -&gt; r.map(mapping(this::mapTaskDate))))\r\n                        .from(TASK)\r\n                        .where(TASK.ID.in(taskId)).fetchOneInto(TaskDetails.class);\r\n\r\n\r\n        return Optional.ofNullable(taskDetails);\r\n}\r\n\r\n    private TaskDate mapTaskDate(UUID id, UUID taskId, String type, LocalDate taskDate, LocalDateTime createdAt, String createdBy, String modifiedBy, LocalDateTime modifiedAt) {\r\n        return TaskDate.builder()\r\n                .id(id)\r\n                .taskId(taskId)\r\n                .type(type)\r\n                .date(taskDate)\r\n                .createdAt(createdAt)\r\n                .createdBy(createdBy)\r\n                .modifiedBy(modifiedBy)\r\n                .modifiedAt(modifiedAt)\r\n                .build();\r\n    }\r\n```\r\n\r\n* spring-boot: (2.6.2) with spring-boot-starter-jooq dependency\r\n* jooq version: 3.15.1\r\n\r\nFrom debugging the code i can see that jooq&#39;s AbstractRecord.java is throwing the exception when attempting to get the type of `taskDates` but I am unsure how to resolve this exception","title":"JOOQ MappingException when using multiset select","body":"<p>Hi I am attempting to perform a jooq multiset select to map a one to many relationship into my POJOs.</p>\n<pre><code>org.jooq.exception.MappingException: An error ocurred when mapping record to class io.comp.biz.core.task.model.TaskDetails\n\n    at org.jooq.impl.DefaultRecordMapper$MutablePOJOMapper.map(DefaultRecordMapper.java:916)\n    at org.jooq.impl.DefaultRecordMapper.map(DefaultRecordMapper.java:610)\n    at org.jooq.impl.AbstractRecord.into(AbstractRecord.java:804)\n    at org.jooq.impl.ResultQueryTrait.fetchOneInto(ResultQueryTrait.java:530)\n    at io.comp.biz.core.task.query.TaskQueryRepository.findTaskDetailsById(TaskQueryRepository.java:172)\n\n..... \n\nCaused by: org.jooq.exception.DataTypeException: No Converter found for types org.jooq.Converters$UnknownType and java.util.List\n    at org.jooq.impl.Tools.converterOrFail(Tools.java:1216)\n    at org.jooq.impl.Tools.converterOrFail(Tools.java:1225)\n    at org.jooq.impl.AbstractRecord.get(AbstractRecord.java:351)\n    at org.jooq.impl.DefaultRecordMapper$MutablePOJOMapper.map(DefaultRecordMapper.java:943)\n    at org.jooq.impl.DefaultRecordMapper$MutablePOJOMapper.map(DefaultRecordMapper.java:873)\n    ... 112 more\n</code></pre>\n<p>These are my POJOS:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Data\npublic class TaskDetails {\n    private UUID id;\n    private UUID tenantId;\n    private String title;\n    private String description;\n    private LocalDateTime createdAt;\n    private String priority;\n    private Long numericId;\n    private UUID assigneeId;\n    private UUID statusId;\n    private UUID reporterId;\n    private Boolean deleted;\n    private LocalDateTime modifiedAt;\n    private UUID modifiedBy;\n    private List&lt;TaskDate&gt; taskDates;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Data\npublic class TaskDate {\n    private UUID id;\n    private UUID taskId;\n    private String type;\n    private LocalDate date;\n    private LocalDateTime createdAt;\n    private String createdBy;\n    private String modifiedBy;\n    private LocalDateTime modifiedAt;\n}\n</code></pre>\n<p>This is my jooq query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;TaskDetails&gt; findTaskDetailsById(UUID taskId) {\n        TaskDetails taskDetails =\n                dslContext.select(\n                                TASK.ID,\n                                TASK.TENANT_ID,\n                                TASK.TITLE,\n                                TASK.DESCRIPTION,\n                                TASK.CREATED_AT,\n                                TASK.PRIORITY,\n                                TASK.NUMERIC_ID,\n                                TASK.ASSIGNEE_ID,\n                                TASK.STATUS_ID,\n                                TASK.REPORTER_ID,\n                                TASK.DELETED,\n                                TASK.MODIFIED_AT,\n                                TASK.MODIFIED_BY,\n                                multiset(dslContext.select(TASK_DATE.ID,\n                                        TASK_DATE .TASK_ID,\n                                        TASK_DATE.TYPE,\n                                        TASK_DATE.DATE,\n                                        TASK_DATE.CREATED_AT,\n                                        TASK_DATE.CREATED_BY,\n                                        TASK_DATE.MODIFIED_BY,\n                                        TASK_DATE.MODIFIED_AT).from(TASK_DATE).where(TASK_DATE.TASK_ID.eq(TASK.ID))).as(&quot;taskDates&quot;).convertFrom(r -&gt; r.map(mapping(this::mapTaskDate))))\n                        .from(TASK)\n                        .where(TASK.ID.in(taskId)).fetchOneInto(TaskDetails.class);\n\n\n        return Optional.ofNullable(taskDetails);\n}\n\n    private TaskDate mapTaskDate(UUID id, UUID taskId, String type, LocalDate taskDate, LocalDateTime createdAt, String createdBy, String modifiedBy, LocalDateTime modifiedAt) {\n        return TaskDate.builder()\n                .id(id)\n                .taskId(taskId)\n                .type(type)\n                .date(taskDate)\n                .createdAt(createdAt)\n                .createdBy(createdBy)\n                .modifiedBy(modifiedBy)\n                .modifiedAt(modifiedAt)\n                .build();\n    }\n</code></pre>\n<ul>\n<li>spring-boot: (2.6.2) with spring-boot-starter-jooq dependency</li>\n<li>jooq version: 3.15.1</li>\n</ul>\n<p>From debugging the code i can see that jooq's AbstractRecord.java is throwing the exception when attempting to get the type of <code>taskDates</code> but I am unsure how to resolve this exception</p>\n"},{"tags":["java","android","android-studio","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1674052357,"post_id":75160642,"comment_id":132632660,"body_markdown":"There is no way you can `mCity` outside the callback. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"There is no way you can <code>mCity</code> outside the callback. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a>."},{"owner":{"account_id":25297328,"reputation":1,"user_id":19122244,"display_name":"Afaque Memon"},"score":0,"creation_date":1674369807,"post_id":75160642,"comment_id":132697539,"body_markdown":"i did with shared preference is this a good idea or not?","body":"i did with shared preference is this a good idea or not?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1674399917,"post_id":75160642,"comment_id":132701910,"body_markdown":"SharedPrefs doesn&#39;t persist across app uninstalls. If that&#39;s not a problem, then you can go ahead with it, otherwise save the data in the Cloud.","body":"SharedPrefs doesn&#39;t persist across app uninstalls. If that&#39;s not a problem, then you can go ahead with it, otherwise save the data in the Cloud."}],"owner":{"account_id":25297328,"reputation":1,"user_id":19122244,"display_name":"Afaque Memon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674052330,"answer_count":0,"score":0,"last_activity_date":1674051557,"creation_date":1674051557,"question_id":75160642,"body_markdown":"[check this screenshot](https://i.stack.imgur.com/VkEYw.png)\r\n\r\nI want use variable of onDataChange method to use outside of the method can someone help me through this?","title":"how can i use the variable outside the onDataChange Method of firebase?","body":"<p><a href=\"https://i.stack.imgur.com/VkEYw.png\" rel=\"nofollow noreferrer\">check this screenshot</a></p>\n<p>I want use variable of onDataChange method to use outside of the method can someone help me through this?</p>\n"},{"tags":["java","amazon-sqs"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1674050820,"post_id":75160320,"comment_id":132632052,"body_markdown":"What package are you including in your project to get the `@SQSListener` annotation? The only `@SQSListener` annotation I can find is in a deprecated version of Spring Cloud, but it is spelled differently: `@SqsListener`.","body":"What package are you including in your project to get the <code>@SQSListener</code> annotation? The only <code>@SQSListener</code> annotation I can find is in a deprecated version of Spring Cloud, but it is spelled differently: <code>@SqsListener</code>."},{"owner":{"account_id":4558115,"reputation":125,"user_id":3754053,"display_name":"Max G"},"score":0,"creation_date":1674051130,"post_id":75160320,"comment_id":132632185,"body_markdown":"Thank you, I&#39;ve just fixed it. That&#39;s the one we are using.","body":"Thank you, I&#39;ve just fixed it. That&#39;s the one we are using."}],"owner":{"account_id":4558115,"reputation":125,"user_id":3754053,"display_name":"Max G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674051425,"creation_date":1674050111,"question_id":75160320,"body_markdown":"I have a Java message processor that uses the @SqsListener annotation to listen to AWS SQS messages.\r\n\r\nMy code inside the processor can generate different exceptions: \r\n- **transient exceptions**: maybe another service is down, and should be a retryable exception. Retry it 3 times, and if all tries fail, move it to the DLQ;\r\n- **permanent exceptions**: a call was not found in the database, and should not be retryable. Move it directly to the DLQ.\r\n\r\nI am trying to figure out if I can use specific exceptions to achieve that, without having to create additional code.\r\n\r\nI found [this in the AWS documentation][1], but it works only for @SqsBatch.\r\n\r\n\r\n  [1]: https://awslabs.github.io/aws-lambda-powertools-java/utilities/batch/#move-non-retryable-messages-to-a-dead-letter-queue","title":"Java SQS Listener with Retryable and NonRetryable Exceptions","body":"<p>I have a Java message processor that uses the @SqsListener annotation to listen to AWS SQS messages.</p>\n<p>My code inside the processor can generate different exceptions:</p>\n<ul>\n<li><strong>transient exceptions</strong>: maybe another service is down, and should be a retryable exception. Retry it 3 times, and if all tries fail, move it to the DLQ;</li>\n<li><strong>permanent exceptions</strong>: a call was not found in the database, and should not be retryable. Move it directly to the DLQ.</li>\n</ul>\n<p>I am trying to figure out if I can use specific exceptions to achieve that, without having to create additional code.</p>\n<p>I found <a href=\"https://awslabs.github.io/aws-lambda-powertools-java/utilities/batch/#move-non-retryable-messages-to-a-dead-letter-queue\" rel=\"nofollow noreferrer\">this in the AWS documentation</a>, but it works only for @SqsBatch.</p>\n"},{"tags":["java","ldap"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673967085,"post_id":75147971,"comment_id":132611380,"body_markdown":"Your app can&#39;t find host name `CBSL.AD`, use `ping CBSL.AD` or other network command like `nslookup CBSL.AD`, to check host.","body":"Your app can&#39;t find host name <code>CBSL.AD</code>, use <code>ping CBSL.AD</code> or other network command like <code>nslookup CBSL.AD</code>, to check host."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673967427,"post_id":75147971,"comment_id":132611537,"body_markdown":"what is `CBSL.AD.389` ? `CBSL.AD:389` or `CBSL.AD.389`","body":"what is <code>CBSL.AD.389</code> ? <code>CBSL.AD:389</code> or <code>CBSL.AD.389</code>"},{"owner":{"account_id":13173842,"reputation":68,"user_id":9515298,"display_name":"KMS"},"score":0,"creation_date":1673970584,"post_id":75147971,"comment_id":132612703,"body_markdown":"@life888888 CBSL.AD is domain and 389 is LDAP port. when I create a new user in AD., they can successfully login. this issue is raised with existing users.","body":"@life888888 CBSL.AD is domain and 389 is LDAP port. when I create a new user in AD., they can successfully login. this issue is raised with existing users."}],"owner":{"account_id":13173842,"reputation":68,"user_id":9515298,"display_name":"KMS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674051055,"creation_date":1673965930,"question_id":75147971,"body_markdown":"I wrote a java program integrated with LDAP. When an existing user tries to login with their AD credentials, am I getting the following error, but it works fine for the new users created in AD. What can be the problem?\r\n\r\n&gt; javax.naming.PartialResultException [Root exception is javax.naming.CommunicationException: CBSL.AD.389 [Root exception is java.net.UnknownHostException: CBSL.AD]]\r\n","title":"LDAP Server Communication issue for existing user","body":"<p>I wrote a java program integrated with LDAP. When an existing user tries to login with their AD credentials, am I getting the following error, but it works fine for the new users created in AD. What can be the problem?</p>\n<blockquote>\n<p>javax.naming.PartialResultException [Root exception is javax.naming.CommunicationException: CBSL.AD.389 [Root exception is java.net.UnknownHostException: CBSL.AD]]</p>\n</blockquote>\n"},{"tags":["java","oauth-2.0","office365","jakarta-mail"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1673617470,"post_id":75109768,"comment_id":132545428,"body_markdown":"What exactly do you mean by &quot;didn&#39;t help me much&quot; - Does it fail to compile? Is there unexpected behavior/output?","body":"What exactly do you mean by &quot;didn&#39;t help me much&quot; - Does it fail to compile? Is there unexpected behavior/output?"}],"owner":{"account_id":27376590,"reputation":1,"user_id":20881832,"display_name":"Gabriel M. Carvalho dos Reis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674050969,"creation_date":1673615997,"question_id":75109768,"body_markdown":"I found this code but it didn&#39;t help me much.\r\nI want to generate an Oauth 2.0 token and send an email using javax.mail\r\n\r\n```\r\npublic String getAuthToken(String tanantId,String clientId,String client_secret) throws ClientProtocolException, IOException {\r\n        CloseableHttpClient client = HttpClients.createDefault();\r\n        HttpPost loginPost = new HttpPost(&quot;https://login.microsoftonline.com/&quot; + tanantId + &quot;/oauth2/v2.0/token&quot;);\r\n        String scopes = &quot;https://outlook.office365.com/.default&quot;;\r\n        String encodedBody = &quot;client_id=&quot; + clientId + &quot;&amp;scope=&quot; + scopes + &quot;&amp;client_secret=&quot; + client_secret\r\n                + &quot;&amp;grant_type=client_credentials&quot;;\r\n        loginPost.setEntity(new StringEntity(encodedBody, ContentType.APPLICATION_FORM_URLENCODED));\r\n        loginPost.addHeader(new BasicHeader(&quot;cache-control&quot;, &quot;no-cache&quot;));\r\n        CloseableHttpResponse loginResponse = client.execute(loginPost);\r\n        InputStream inputStream = loginResponse.getEntity().getContent();\r\n        byte[] response = readAllBytes(inputStream);\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        JavaType type = objectMapper.constructType(\r\n                objectMapper.getTypeFactory().constructParametricType(Map.class, String.class, String.class));\r\n        Map&lt;String, String&gt; parsed = new ObjectMapper().readValue(response, type);\r\n        return parsed.get(&quot;access_token&quot;);\r\n  }```","title":"How can I send email with Oauth 2.0 using Java for Office 365?","body":"<p>I found this code but it didn't help me much.\nI want to generate an Oauth 2.0 token and send an email using javax.mail</p>\n<pre><code>public String getAuthToken(String tanantId,String clientId,String client_secret) throws ClientProtocolException, IOException {\n        CloseableHttpClient client = HttpClients.createDefault();\n        HttpPost loginPost = new HttpPost(&quot;https://login.microsoftonline.com/&quot; + tanantId + &quot;/oauth2/v2.0/token&quot;);\n        String scopes = &quot;https://outlook.office365.com/.default&quot;;\n        String encodedBody = &quot;client_id=&quot; + clientId + &quot;&amp;scope=&quot; + scopes + &quot;&amp;client_secret=&quot; + client_secret\n                + &quot;&amp;grant_type=client_credentials&quot;;\n        loginPost.setEntity(new StringEntity(encodedBody, ContentType.APPLICATION_FORM_URLENCODED));\n        loginPost.addHeader(new BasicHeader(&quot;cache-control&quot;, &quot;no-cache&quot;));\n        CloseableHttpResponse loginResponse = client.execute(loginPost);\n        InputStream inputStream = loginResponse.getEntity().getContent();\n        byte[] response = readAllBytes(inputStream);\n        ObjectMapper objectMapper = new ObjectMapper();\n        JavaType type = objectMapper.constructType(\n                objectMapper.getTypeFactory().constructParametricType(Map.class, String.class, String.class));\n        Map&lt;String, String&gt; parsed = new ObjectMapper().readValue(response, type);\n        return parsed.get(&quot;access_token&quot;);\n  }```\n</code></pre>\n"},{"tags":["java","sorting","lambda","java-8"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1674046103,"post_id":75159324,"comment_id":132630357,"body_markdown":"Is there a good reason you create a list of maps rather than a list containing a class with the corresponding fields?","body":"Is there a good reason you create a list of maps rather than a list containing a class with the corresponding fields?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674050958,"creation_date":1674046463,"answer_id":75159548,"question_id":75159324,"body_markdown":"Here is one way.\r\n```\r\n List&lt;Map&lt;String, String&gt;&gt; listOfMaps =new ArrayList&lt;&gt;(List.of(\r\n         Map.of(&quot;address&quot;, &quot;North Wilshire&quot;, &quot;name&quot;, &quot;Joe&quot;, &quot;age&quot;, &quot;16&quot;),\r\n         Map.of(&quot;address&quot;, &quot;South Wilshire&quot;, &quot;name&quot;, &quot;Zealot&quot;, &quot;age&quot;,\r\n                 &quot;12&quot;),\r\n         Map.of(&quot;address&quot;, &quot;South Wilshire&quot;, &quot;name&quot;, &quot;Astrid&quot;, &quot;age&quot;,\r\n                 &quot;23&quot;),\r\n         Map.of(&quot;address&quot;, &quot;North Wilshire&quot;, &quot;name&quot;, &quot;Aaron&quot;, &quot;age&quot;,\r\n                 &quot;23&quot;),\r\n         Map.of(&quot;address&quot;, &quot;South Wilshire&quot;, &quot;name&quot;, &quot;Aaron&quot;, &quot;age&quot;,\r\n                 &quot;21&quot;)));\r\n\r\n// the other map that specifies the columns\r\nList&lt;Map&lt;String, String&gt;&gt; sortCriteria = List\r\n        .of(Map.of(&quot;Column&quot;, &quot;name&quot;), Map.of(&quot;Column&quot;, &quot;age&quot;));\r\n\r\n// the comparator for that specification\r\nComparator&lt;Map&lt;String, String&gt;&gt; comp = Comparator\r\n        .comparing((Map&lt;String, String&gt; map) -&gt; map\r\n                .get(sortCriteria.get(0).get(&quot;Column&quot;)))\r\n        .thenComparing((Map&lt;String, String&gt; map) -&gt; map\r\n                .get(sortCriteria.get(1).get(&quot;Column&quot;)));\r\n\r\nlistOfMaps.sort(comp); // change comp to sort differently.\r\n\r\nlistOfMaps.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n{name=Aaron, address=South Wilshire, age=21}\r\n{name=Aaron, address=North Wilshire, age=23}\r\n{name=Astrid, address=South Wilshire, age=23}\r\n{name=Joe, address=North Wilshire, age=16}\r\n{name=Zealot, address=South Wilshire, age=12}\r\n```\r\nHowever, a much better way is to create a class or record to hold the values and use getters to get the values.  You can also mix types in a class where you can&#39;t in a map.  So the age could be an int.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to sort list of map values by another list of map values and order them","body":"<p>Here is one way.</p>\n<pre><code> List&lt;Map&lt;String, String&gt;&gt; listOfMaps =new ArrayList&lt;&gt;(List.of(\n         Map.of(&quot;address&quot;, &quot;North Wilshire&quot;, &quot;name&quot;, &quot;Joe&quot;, &quot;age&quot;, &quot;16&quot;),\n         Map.of(&quot;address&quot;, &quot;South Wilshire&quot;, &quot;name&quot;, &quot;Zealot&quot;, &quot;age&quot;,\n                 &quot;12&quot;),\n         Map.of(&quot;address&quot;, &quot;South Wilshire&quot;, &quot;name&quot;, &quot;Astrid&quot;, &quot;age&quot;,\n                 &quot;23&quot;),\n         Map.of(&quot;address&quot;, &quot;North Wilshire&quot;, &quot;name&quot;, &quot;Aaron&quot;, &quot;age&quot;,\n                 &quot;23&quot;),\n         Map.of(&quot;address&quot;, &quot;South Wilshire&quot;, &quot;name&quot;, &quot;Aaron&quot;, &quot;age&quot;,\n                 &quot;21&quot;)));\n\n// the other map that specifies the columns\nList&lt;Map&lt;String, String&gt;&gt; sortCriteria = List\n        .of(Map.of(&quot;Column&quot;, &quot;name&quot;), Map.of(&quot;Column&quot;, &quot;age&quot;));\n\n// the comparator for that specification\nComparator&lt;Map&lt;String, String&gt;&gt; comp = Comparator\n        .comparing((Map&lt;String, String&gt; map) -&gt; map\n                .get(sortCriteria.get(0).get(&quot;Column&quot;)))\n        .thenComparing((Map&lt;String, String&gt; map) -&gt; map\n                .get(sortCriteria.get(1).get(&quot;Column&quot;)));\n\nlistOfMaps.sort(comp); // change comp to sort differently.\n\nlistOfMaps.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>{name=Aaron, address=South Wilshire, age=21}\n{name=Aaron, address=North Wilshire, age=23}\n{name=Astrid, address=South Wilshire, age=23}\n{name=Joe, address=North Wilshire, age=16}\n{name=Zealot, address=South Wilshire, age=12}\n</code></pre>\n<p>However, a much better way is to create a class or record to hold the values and use getters to get the values.  You can also mix types in a class where you can't in a map.  So the age could be an int.</p>\n"}],"owner":{"account_id":25414943,"reputation":1,"user_id":19222050,"display_name":"damien borowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674060116,"answer_count":1,"score":-1,"last_activity_date":1674050958,"creation_date":1674045336,"question_id":75159324,"body_markdown":"I have a list of map with the following\r\n\r\n\r\n    [{address=North Wilshire, name=Joe, age=16},\r\n     {address=South Wilshire, name=Zealot, age=12},\r\n     {address=South Wilshire, name=Astrid, age=23},\r\n     {address=North Wilshire, name=Aaron, age=23}], \r\n     {address=South Wilshire, name=Aaron, age=21}]\r\n\r\nand I want to sort this with another list of maps as follows\r\n\r\n    [{column=name, direction=ASC}, {column=age, direction=ASC}]\r\n\r\nI want to be able to sort the list firstly by name, and then by age (if two of the names are the same, it will be sorted by value) so the final will look like the following:\r\n\r\n    [{address=South Wilshire, name=Aaron, age=21}, {address=North Wilshire, name=Aaron, age=23}, {address=South Wilshire, name=Astrid, age=23}, {address=North Wilshire, name=Joe, age=16}, {address=South Wilshire, name=Zealot, age=12}]\r\n\r\nthe map with the columns will be dynamic so maybe it will require sorting on all fields and sometimes maybe on one field\r\n\r\n\r\nI&#39;ve tried to somehow use Collections.sort along with Comparator.comparing to get the results but couldn&#39;t get it working for multiple columns: \r\n\r\n    Collections.sort(listOfMapsToSort, Comparator.comparing(o -&gt; o.get(otherListOfMap.get(0).get(&quot;column&quot;))));\r\n\r\nI tried to loop the otherListOfMap but couldn&#39;t get it right\r\n\r\n\r\n\r\n","title":"How to sort list of map values by another list of map values and order them","body":"<p>I have a list of map with the following</p>\n<pre><code>[{address=North Wilshire, name=Joe, age=16},\n {address=South Wilshire, name=Zealot, age=12},\n {address=South Wilshire, name=Astrid, age=23},\n {address=North Wilshire, name=Aaron, age=23}], \n {address=South Wilshire, name=Aaron, age=21}]\n</code></pre>\n<p>and I want to sort this with another list of maps as follows</p>\n<pre><code>[{column=name, direction=ASC}, {column=age, direction=ASC}]\n</code></pre>\n<p>I want to be able to sort the list firstly by name, and then by age (if two of the names are the same, it will be sorted by value) so the final will look like the following:</p>\n<pre><code>[{address=South Wilshire, name=Aaron, age=21}, {address=North Wilshire, name=Aaron, age=23}, {address=South Wilshire, name=Astrid, age=23}, {address=North Wilshire, name=Joe, age=16}, {address=South Wilshire, name=Zealot, age=12}]\n</code></pre>\n<p>the map with the columns will be dynamic so maybe it will require sorting on all fields and sometimes maybe on one field</p>\n<p>I've tried to somehow use Collections.sort along with Comparator.comparing to get the results but couldn't get it working for multiple columns:</p>\n<pre><code>Collections.sort(listOfMapsToSort, Comparator.comparing(o -&gt; o.get(otherListOfMap.get(0).get(&quot;column&quot;))));\n</code></pre>\n<p>I tried to loop the otherListOfMap but couldn't get it right</p>\n"},{"tags":["java","android","android-studio","ide"],"owner":{"account_id":9301106,"reputation":161,"user_id":6906562,"display_name":"Araz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":0,"score":9,"last_activity_date":1674050552,"creation_date":1620464583,"question_id":67445811,"body_markdown":"Each time I open a java file in my Android Studio editor I fold things that I don&#39;t want to see, (like comments and some functions) but then after closing and opening the project everything is unfolded again! how to make Android Studio to remember my folded areas on the code and save them alongside the files?","title":"how to keep code folding on save in android studio","body":"<p>Each time I open a java file in my Android Studio editor I fold things that I don't want to see, (like comments and some functions) but then after closing and opening the project everything is unfolded again! how to make Android Studio to remember my folded areas on the code and save them alongside the files?</p>\n"},{"tags":["java","openrewrite"],"answers":[{"tags":[],"owner":{"account_id":1861474,"reputation":121,"user_id":1685998,"display_name":"MGK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674050321,"creation_date":1674050321,"answer_id":75160369,"question_id":75143989,"body_markdown":"I found a solution. I&#39;ve added the following to my `init.gradle` file:\r\n``` groovy   \r\n rewrite {\r\n      exclusion(\r\n        &quot;**/*.gradle&quot;\r\n      )\r\n```","title":"How can I exclude files from beeing parsed by rewriteRun","body":"<p>I found a solution. I've added the following to my <code>init.gradle</code> file:</p>\n<pre><code> rewrite {\n      exclusion(\n        &quot;**/*.gradle&quot;\n      )\n</code></pre>\n"}],"owner":{"account_id":1861474,"reputation":121,"user_id":1685998,"display_name":"MGK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1674050321,"creation_date":1673945925,"question_id":75143989,"body_markdown":"I want to use the recipe `AddOrUpdateAnnotationAttribute` for adding parameters to a Java annotation. This is part of the package `org.openrewrite.java`, so I&#39;ve added only the following dependency in my `init.gradle`:\r\n\r\n``` groovy\r\n    dependencies {\r\n      rewrite(&quot;org.openrewrite:rewrite-java&quot;)\r\n    }\r\n```\r\n\r\nWhen I am running the recipe, I&#39;m getting the error \r\n\r\n&gt; There were problems parsing 1 sources:\r\n&gt;   build.gradle\r\n\r\nAs the recipe only refactors java files, I wonder, why `build.gradle` is parsed at all. How can I exclude build.gradle from being parsed?","title":"How can I exclude files from beeing parsed by rewriteRun","body":"<p>I want to use the recipe <code>AddOrUpdateAnnotationAttribute</code> for adding parameters to a Java annotation. This is part of the package <code>org.openrewrite.java</code>, so I've added only the following dependency in my <code>init.gradle</code>:</p>\n<pre><code>    dependencies {\n      rewrite(&quot;org.openrewrite:rewrite-java&quot;)\n    }\n</code></pre>\n<p>When I am running the recipe, I'm getting the error</p>\n<blockquote>\n<p>There were problems parsing 1 sources:\nbuild.gradle</p>\n</blockquote>\n<p>As the recipe only refactors java files, I wonder, why <code>build.gradle</code> is parsed at all. How can I exclude build.gradle from being parsed?</p>\n"},{"tags":["java","mysql","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1674051625,"post_id":75160368,"comment_id":132632375,"body_markdown":"Does it have `@MappedSuperclass` or `@Embeddable`? I believe either of those would be necessary. Otherwise you can try to override getter/setter and annotate those in you `Address` class","body":"Does it have <code>@MappedSuperclass</code> or <code>@Embeddable</code>? I believe either of those would be necessary. Otherwise you can try to override getter/setter and annotate those in you <code>Address</code> class"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1674059006,"post_id":75160368,"comment_id":132635263,"body_markdown":"Non-entity (ie unmapped) classes only provide inheritance behavior to the entity subclasses. You have to mark it with MappedSuperclass/Embeddable as @XtremeBaumer suggests (or as an Entity) for properties within them to be picked up and persisted.","body":"Non-entity (ie unmapped) classes only provide inheritance behavior to the entity subclasses. You have to mark it with MappedSuperclass/Embeddable as @XtremeBaumer suggests (or as an Entity) for properties within them to be picked up and persisted."}],"owner":{"account_id":16466711,"reputation":217,"user_id":11896664,"display_name":"Nitin Singhal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674050320,"creation_date":1674050320,"question_id":75160368,"body_markdown":"I have an Address class that looks like\r\n\r\n    @Entity\r\n    @Table(&quot;address)\r\n    public class Address extends com.sample.Address {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    }\r\n\r\nThis com.sample.Address has follwing fields : \r\neg : \r\n\r\n    street1\r\n    street2\r\n    zipcode\r\n    ...\r\n\r\nI want to include fields from com.sample.Address class in the DB table address with minimal code changes, so the output looks like : \r\n\r\n    Table address\r\n    id\r\n    street1\r\n    street2\r\n    zipcode\r\n    ..\r\n\r\nNote : This com.sample.Address doesn&#39;t have Entity.","title":"How to add Column fields from Parent class coming as an external Jar in Java","body":"<p>I have an Address class that looks like</p>\n<pre><code>@Entity\n@Table(&quot;address)\npublic class Address extends com.sample.Address {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n}\n</code></pre>\n<p>This com.sample.Address has follwing fields :\neg :</p>\n<pre><code>street1\nstreet2\nzipcode\n...\n</code></pre>\n<p>I want to include fields from com.sample.Address class in the DB table address with minimal code changes, so the output looks like :</p>\n<pre><code>Table address\nid\nstreet1\nstreet2\nzipcode\n..\n</code></pre>\n<p>Note : This com.sample.Address doesn't have Entity.</p>\n"},{"tags":["java","eclipse","unit-testing","testing","junit4"],"comments":[{"owner":{"account_id":7236,"reputation":26100,"user_id":12484,"accept_rate":73,"display_name":"Jon Schneider"},"score":0,"creation_date":1379076882,"post_id":6365920,"comment_id":27700485,"body_markdown":"See also: http://stackoverflow.com/questions/4794751/cant-find-run-as-junit-test-in-eclipse","body":"See also: <a href=\"http://stackoverflow.com/questions/4794751/cant-find-run-as-junit-test-in-eclipse\" title=\"cant find run as junit test in eclipse\">stackoverflow.com/questions/4794751/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":414580,"reputation":8014,"user_id":788883,"accept_rate":100,"display_name":"hoipolloi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1308185683,"creation_date":1308185683,"answer_id":6366033,"question_id":6365920,"body_markdown":"I think I see the problem. You need to have an actual test in the file before Eclipse identifies it as a test case. Try inserting the following:\r\n\r\n    @Test\r\n    public void foo() {\r\n    \t\r\n    }","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>I think I see the problem. You need to have an actual test in the file before Eclipse identifies it as a test case. Try inserting the following:</p>\n\n<pre><code>@Test\npublic void foo() {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308193315,"creation_date":1308193315,"answer_id":6366675,"question_id":6365920,"body_markdown":" 1. Make sure your class has JUnit traits (extends from `TestCase`, or use `@Test` etc);\r\n\r\n 1. Right-click &quot;Run As&quot; -&gt; &quot;Run Conciguration&quot; -&gt; Create JUnit test from left icon &quot;JUnit&quot; anyway;","title":"Missing &quot;Run as JUnit Test&quot;","body":"<ol>\n<li><p>Make sure your class has JUnit traits (extends from <code>TestCase</code>, or use <code>@Test</code> etc);</p></li>\n<li><p>Right-click \"Run As\" -> \"Run Conciguration\" -> Create JUnit test from left icon \"JUnit\" anyway;</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":174227,"reputation":27776,"user_id":403455,"accept_rate":83,"display_name":"Jeff Axelrod"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1330439292,"creation_date":1330439292,"answer_id":9483719,"question_id":6365920,"body_markdown":"In my case, Eclipse must have reached a corrupt state.  Restarting Eclipse fixed the problem.","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>In my case, Eclipse must have reached a corrupt state.  Restarting Eclipse fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1330455976,"creation_date":1330455976,"answer_id":9488116,"question_id":6365920,"body_markdown":"The eclipse shortcut to run Junit test is `Alt+Shift+X, T`. \r\nIf its not working just press `Alt+shift+X` a menu will popup just look for Junit.","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>The eclipse shortcut to run Junit test is <code>Alt+Shift+X, T</code>. \nIf its not working just press <code>Alt+shift+X</code> a menu will popup just look for Junit.</p>\n"},{"tags":[],"owner":{"account_id":1700877,"reputation":19,"user_id":1560986,"display_name":"iharbeck"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1343566993,"creation_date":1343566993,"answer_id":11709474,"question_id":6365920,"body_markdown":"Make sure to have a valid default constructor for your test class.","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>Make sure to have a valid default constructor for your test class.</p>\n"},{"tags":[],"owner":{"account_id":92586,"reputation":21,"user_id":253689,"display_name":"Tad Lamb Jr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367435233,"creation_date":1367435233,"answer_id":16324661,"question_id":6365920,"body_markdown":"In my case, the problem was different.  I was converting a TestNG test to JUnit.  The @Test annotation was satisfied by the TestNG import, but that was the wrong annotation.  I removed the TestNG import and added the JUnit import for @Test, and the right-click menu option to run as a JUnit test appeared.","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>In my case, the problem was different.  I was converting a TestNG test to JUnit.  The @Test annotation was satisfied by the TestNG import, but that was the wrong annotation.  I removed the TestNG import and added the JUnit import for @Test, and the right-click menu option to run as a JUnit test appeared.</p>\n"},{"tags":[],"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406129884,"creation_date":1406129884,"answer_id":24914933,"question_id":6365920,"body_markdown":"I ran into these symptoms when importing an existing project into a *Kepler-based Eclipse IDE for **Java Developers*** version.\r\n\r\nImporting the project into a *Luna-based Eclipse IDE for **Java EE Developers*** correctly set set it to a Java project (project icon now includes that little *J*) and now allows running JUnit tests.\r\n\r\n","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>I ran into these symptoms when importing an existing project into a <em>Kepler-based Eclipse IDE for <strong>Java Developers</em></strong> version.</p>\n\n<p>Importing the project into a <em>Luna-based Eclipse IDE for <strong>Java EE Developers</em></strong> correctly set set it to a Java project (project icon now includes that little <em>J</em>) and now allows running JUnit tests.</p>\n"},{"tags":[],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415885069,"creation_date":1415885069,"answer_id":26909946,"question_id":6365920,"body_markdown":"In my case the Java Build path (`.classpath` file) was corrupt. In particular it had a merge conflict which was unresolved. Therefore, the JUnit 4 library was missing.","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>In my case the Java Build path (<code>.classpath</code> file) was corrupt. In particular it had a merge conflict which was unresolved. Therefore, the JUnit 4 library was missing.</p>\n"},{"tags":[],"owner":{"account_id":12963018,"reputation":1,"user_id":9371641,"display_name":"Wenyu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518817008,"creation_date":1518817008,"answer_id":48835211,"question_id":6365920,"body_markdown":"I used to have a similar problem and it turned out that was because I forgot &quot;extends Specification&quot; after the &quot;ClassToBeTestedSpec&quot; in the declaration.","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>I used to have a similar problem and it turned out that was because I forgot \"extends Specification\" after the \"ClassToBeTestedSpec\" in the declaration.</p>\n"},{"tags":[],"owner":{"account_id":13519629,"reputation":1,"user_id":9753272,"display_name":"William Schultz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525701023,"creation_date":1525701023,"answer_id":50215896,"question_id":6365920,"body_markdown":"Make sure that you include **import org.junit.Test;** and the tests have **@Test** before them, I have missed that before when coping some functions from other files.","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>Make sure that you include <strong>import org.junit.Test;</strong> and the tests have <strong>@Test</strong> before them, I have missed that before when coping some functions from other files.</p>\n"},{"tags":[],"owner":{"account_id":14130185,"reputation":1,"user_id":10208396,"display_name":"Mike Delta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533902742,"creation_date":1533902742,"answer_id":51786152,"question_id":6365920,"body_markdown":"To solve the situation, a restart of eclipse wasn&#180;t enough in my case, I had to remove and re-add the project to my workspace as well. ","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>To solve the situation, a restart of eclipse wasn´t enough in my case, I had to remove and re-add the project to my workspace as well. </p>\n"},{"tags":[],"owner":{"account_id":1332871,"reputation":91,"user_id":1276325,"display_name":"user1276325"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1554175529,"creation_date":1554175529,"answer_id":55466535,"question_id":6365920,"body_markdown":"for junit5 jdk8 is needed in build path and project facets.","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>for junit5 jdk8 is needed in build path and project facets.</p>\n"},{"tags":[],"owner":{"account_id":4831654,"reputation":1706,"user_id":3899713,"display_name":"Jarda Pavl&#237;ček"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575036302,"creation_date":1575036302,"answer_id":59106283,"question_id":6365920,"body_markdown":"In case you experience it in maven project add following into pom.xml and reload project using Alt+F5. Tests do not work because old JDK version.\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>In case you experience it in maven project add following into pom.xml and reload project using Alt+F5. Tests do not work because old JDK version.</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":149092,"reputation":687,"user_id":3044557,"display_name":"Isuru Dewasurendra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578927970,"creation_date":1578927970,"answer_id":59719183,"question_id":6365920,"body_markdown":"1. check whether you have jave 8 or above and configured correct jdk in build path.\r\n2. check at least @Test is used in your test case class file\r\n3. Then go to run configuration-&gt;select Junit-&gt;right click and new configuration-&gt;browse the package-&gt;select junit5 as test runner.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rvdEW.png","title":"Missing &quot;Run as JUnit Test&quot;","body":"<ol>\n<li>check whether you have jave 8 or above and configured correct jdk in build path.</li>\n<li>check at least @Test is used in your test case class file</li>\n<li>Then go to run configuration->select Junit->right click and new configuration->browse the package->select junit5 as test runner.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/rvdEW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rvdEW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":16856943,"reputation":57,"user_id":12188660,"display_name":"mitesh keswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625141703,"creation_date":1625141703,"answer_id":68209999,"question_id":6365920,"body_markdown":"If, the configuration is of SpringRunner.class for Junit.\r\nMake sure your maven clean install with maven update and refresh is run in your project with right jdk and mavens password/configuration.","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>If, the configuration is of SpringRunner.class for Junit.\nMake sure your maven clean install with maven update and refresh is run in your project with right jdk and mavens password/configuration.</p>\n"},{"tags":[],"owner":{"account_id":4566416,"reputation":3853,"user_id":3707318,"display_name":"Peter Kelley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674050293,"creation_date":1674050293,"answer_id":75160362,"question_id":6365920,"body_markdown":"This recurred for me, this time it was that Junit simply wasn&#39;t added to the classpath (but it has in the past been). This is the first Eclipse project for me to use Junit 5. Maybe that has something to do with it? I know this is a very old post, but I think this might be needed for more recent reasons.\r\n - Right-click your project and choose &#39;properties&#39;\r\n - choose Build Path -&gt; Configure Build Path\r\n - Click on Libraries tab.\r\n - Click on Add Library button.\r\n - Click on JUnit and Next button.\r\n - Choose JUnit version. (for me, Junit 5)\r\n - Click Finish.\r\n\r\nInfo From \r\nhttps://www.eclipse.org/forums/index.php/t/304679/","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>This recurred for me, this time it was that Junit simply wasn't added to the classpath (but it has in the past been). This is the first Eclipse project for me to use Junit 5. Maybe that has something to do with it? I know this is a very old post, but I think this might be needed for more recent reasons.</p>\n<ul>\n<li>Right-click your project and choose 'properties'</li>\n<li>choose Build Path -&gt; Configure Build Path</li>\n<li>Click on Libraries tab.</li>\n<li>Click on Add Library button.</li>\n<li>Click on JUnit and Next button.</li>\n<li>Choose JUnit version. (for me, Junit 5)</li>\n<li>Click Finish.</li>\n</ul>\n<p>Info From\n<a href=\"https://www.eclipse.org/forums/index.php/t/304679/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php/t/304679/</a></p>\n"}],"owner":{"account_id":767319,"reputation":281,"user_id":800614,"display_name":"amaran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49804,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":16,"score":23,"last_activity_date":1674050293,"creation_date":1308184306,"question_id":6365920,"body_markdown":"I created a JUnit 4 test in Eclipse by right-clicking on a Java class and selecting New JUnit Test Case.  When I right-click the test class I get &quot;Run on Server&quot;, but not &quot;Run as JUnit Test&quot;.  I am using Eclipse 3.6.1.","title":"Missing &quot;Run as JUnit Test&quot;","body":"<p>I created a JUnit 4 test in Eclipse by right-clicking on a Java class and selecting New JUnit Test Case.  When I right-click the test class I get \"Run on Server\", but not \"Run as JUnit Test\".  I am using Eclipse 3.6.1.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1673998887,"post_id":75153080,"comment_id":132620595,"body_markdown":"https://stackoverflow.com/questions/26881739/unable-to-get-spring-boot-to-automatically-create-database-schema","body":"<a href=\"https://stackoverflow.com/questions/26881739/unable-to-get-spring-boot-to-automatically-create-database-schema\" title=\"unable to get spring boot to automatically create database schema\">stackoverflow.com/questions/26881739/&hellip;</a>"},{"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"score":0,"creation_date":1673999213,"post_id":75153080,"comment_id":132620652,"body_markdown":"@BerkKurkcuoglu this is not my case. Project has connection with Database, it adds the columns, constraints etc. Also I have same configurations as remarked in the solution from this post.","body":"@BerkKurkcuoglu this is not my case. Project has connection with Database, it adds the columns, constraints etc. Also I have same configurations as remarked in the solution from this post."},{"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"score":0,"creation_date":1673999332,"post_id":75153080,"comment_id":132620676,"body_markdown":"Only stuff which I did no try, is setting the mysql dialect from 5 to 8. Will try now","body":"Only stuff which I did no try, is setting the mysql dialect from 5 to 8. Will try now"},{"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"score":0,"creation_date":1673999619,"post_id":75153080,"comment_id":132620723,"body_markdown":"@BerkKurkcuoglu tried to change hibernate dialect to org.hibernate.dialect.MySQL8Dialect , still did not help.","body":"@BerkKurkcuoglu tried to change hibernate dialect to org.hibernate.dialect.MySQL8Dialect , still did not help."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1674005303,"post_id":75153080,"comment_id":132621498,"body_markdown":"change spring.jpa.hibernate.ddl-auto=none to spring.jpa.hibernate.ddl-auto=create-drop   because after creating the tables it wont update the colums so you first have to drop then create","body":"change spring.jpa.hibernate.ddl-auto=none to spring.jpa.hibernate.ddl-auto=create-drop   because after creating the tables it wont update the colums so you first have to drop then create"},{"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"score":0,"creation_date":1674005490,"post_id":75153080,"comment_id":132621532,"body_markdown":"@Anon I can not drop the tables, as I have a lot of test data inside them. Have around 160 tables, it&#39;s a big project. Isn&#39;t there any other solution ? An alternative would be to create some migrations using flyway each time I add a column definition or a nullable attribute. But that it&#39;s just a waste of time. Before updating hibernate I did not have this problem","body":"@Anon I can not drop the tables, as I have a lot of test data inside them. Have around 160 tables, it&#39;s a big project. Isn&#39;t there any other solution ? An alternative would be to create some migrations using flyway each time I add a column definition or a nullable attribute. But that it&#39;s just a waste of time. Before updating hibernate I did not have this problem"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1674009106,"post_id":75153080,"comment_id":132621994,"body_markdown":"you can try adding @ DynamicUpdate to the entity and try running it if it works you can remove after i think","body":"you can try adding @ DynamicUpdate to the entity and try running it if it works you can remove after i think"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674027480,"post_id":75153080,"comment_id":132624605,"body_markdown":"`@DynamicUpdate` won&#39;t help as that is for a totally different purpose. Also you shouldn&#39;t let hibernate manage your schema as it will not create the best schema use something like Flyway (and no it isn&#39;t a waste of time to write your migrations yourself!). If you really want you should mark the ddl to at least update, but that probably only will add new columns and not change existing ones.","body":"<code>@DynamicUpdate</code> won&#39;t help as that is for a totally different purpose. Also you shouldn&#39;t let hibernate manage your schema as it will not create the best schema use something like Flyway (and no it isn&#39;t a waste of time to write your migrations yourself!). If you really want you should mark the ddl to at least update, but that probably only will add new columns and not change existing ones."},{"owner":{"account_id":4245893,"reputation":540,"user_id":3474594,"display_name":"szymon_prz"},"score":0,"creation_date":1674027884,"post_id":75153080,"comment_id":132624688,"body_markdown":"Using flayway or liquibase is not a waste of time at all, you should manage your database schema by one of those technologies from start, then you wouldn&#39;t have this problem now and you wouldn&#39;t waste time on figuring out how to update table column. Depending on hibernate to create database schema is a really bad idea. You have now two options: change table schema manually or use flyway/liquibase to change it for you and to have all changes in the schema reflected in the code with proper history","body":"Using flayway or liquibase is not a waste of time at all, you should manage your database schema by one of those technologies from start, then you wouldn&#39;t have this problem now and you wouldn&#39;t waste time on figuring out how to update table column. Depending on hibernate to create database schema is a really bad idea. You have now two options: change table schema manually or use flyway/liquibase to change it for you and to have all changes in the schema reflected in the code with proper history"},{"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"score":0,"creation_date":1674040281,"post_id":75153080,"comment_id":132628533,"body_markdown":"@szymon_prz guys, I am already using flyway. This is not the problem I am talking about. The problem is that before, I was not needed to create migration when a column was changed from nullable=true to nullable false. Or when a default column definition is added. But now, after updating hibernate, key unique constraints+default columns are not added automatically.","body":"@szymon_prz guys, I am already using flyway. This is not the problem I am talking about. The problem is that before, I was not needed to create migration when a column was changed from nullable=true to nullable false. Or when a default column definition is added. But now, after updating hibernate, key unique constraints+default columns are not added automatically."},{"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"score":0,"creation_date":1674040333,"post_id":75153080,"comment_id":132628544,"body_markdown":"@M.Deinum, remarked in comment above. I am already using flyway. This is not the problem that I am facing.","body":"@M.Deinum, remarked in comment above. I am already using flyway. This is not the problem that I am facing."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674043194,"post_id":75153080,"comment_id":132629410,"body_markdown":"As stated (and don&#39;t shout or I&#39;ll delete the question!) using `spring.jpa.hibernate.ddl-auto=none` won&#39;t change a bit in your ddl as none is nothing, you need at least `update`. Also you shouldn&#39;t be letting hibernate manage your schema in the first place even the hibernate maintainers don&#39;t advice this and that you should only use it for prototyping/testing with in memory database. You need at least `spring.jpa.hibernate.ddl-auto=update` but that might not even be sufficient dependig on your full configuration.","body":"As stated (and don&#39;t shout or I&#39;ll delete the question!) using <code>spring.jpa.hibernate.ddl-auto=none</code> won&#39;t change a bit in your ddl as none is nothing, you need at least <code>update</code>. Also you shouldn&#39;t be letting hibernate manage your schema in the first place even the hibernate maintainers don&#39;t advice this and that you should only use it for prototyping/testing with in memory database. You need at least <code>spring.jpa.hibernate.ddl-auto=update</code> but that might not even be sufficient dependig on your full configuration."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1674044534,"post_id":75153080,"comment_id":132629819,"body_markdown":"Looking at the hibernate code generating the update (at least in the 6.x branch) it only will add new columns, it won&#39;t alter existing columns. That could be a change from previous versions but that is what the status quo is. Which isn&#39;t that weird given the fact that if you make a column non-null what should hibernate do if it encounters a null value? Also what if you add/change the default including non-null? HIbernate would need to migrate the data, which it cannot as that is on the user (which is you).","body":"Looking at the hibernate code generating the update (at least in the 6.x branch) it only will add new columns, it won&#39;t alter existing columns. That could be a change from previous versions but that is what the status quo is. Which isn&#39;t that weird given the fact that if you make a column non-null what should hibernate do if it encounters a null value? Also what if you add/change the default including non-null? HIbernate would need to migrate the data, which it cannot as that is on the user (which is you)."},{"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"score":0,"creation_date":1674046235,"post_id":75153080,"comment_id":132630406,"body_markdown":"Yes @M.Denium, you are right. In case default value is not set and column becomes non null, previously it wasn&#39;t handling that correctly. But in case a default value+non null was added, it was handling it pretty fine with updating the data. Ok, seems that there is no any alternatives than creating migrations for such change.","body":"Yes @M.Denium, you are right. In case default value is not set and column becomes non null, previously it wasn&#39;t handling that correctly. But in case a default value+non null was added, it was handling it pretty fine with updating the data. Ok, seems that there is no any alternatives than creating migrations for such change."},{"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"score":0,"creation_date":1674046482,"post_id":75153080,"comment_id":132630499,"body_markdown":"@M.Deinum, you can post the answer from comments, I will accept is as correct solution","body":"@M.Deinum, you can post the answer from comments, I will accept is as correct solution"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674049903,"creation_date":1674049903,"answer_id":75160276,"question_id":75153080,"body_markdown":"Looking at [the code][1] that is generating the `ALTER TABLE` statement, it appears to only add columns that are non-existing. It doesn&#39;t seem to alter existing columns.\r\n\r\nThat being said, AFAIK, the Hibernate team never adviced to use the DDL feature to manage your production tables but only use it for prototyping and/or quick testing. \r\n\r\nFor proper management you should use something like Flyway, more so when you migrate columns to non-null and before doing the conversion need to set a default to those columns, there are even more cases I can think off that would be problematic for altering (datatype changes, length, etc.). \r\n\r\nThat all being said, with Hibernate 5.6 and later this doesn&#39;t appear to work by design. \r\n\r\n**UPDATE:** Went back all the way to the Hibernate 3.2 code in Github and even in that code it will only work for additions not changes to the column. \r\n\r\n[1]: https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/mapping/Table.java#L432","title":"HIbernate @Column(..) changes are not reflected in Database","body":"<p>Looking at <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/mapping/Table.java#L432\" rel=\"nofollow noreferrer\">the code</a> that is generating the <code>ALTER TABLE</code> statement, it appears to only add columns that are non-existing. It doesn't seem to alter existing columns.</p>\n<p>That being said, AFAIK, the Hibernate team never adviced to use the DDL feature to manage your production tables but only use it for prototyping and/or quick testing.</p>\n<p>For proper management you should use something like Flyway, more so when you migrate columns to non-null and before doing the conversion need to set a default to those columns, there are even more cases I can think off that would be problematic for altering (datatype changes, length, etc.).</p>\n<p>That all being said, with Hibernate 5.6 and later this doesn't appear to work by design.</p>\n<p><strong>UPDATE:</strong> Went back all the way to the Hibernate 3.2 code in Github and even in that code it will only work for additions not changes to the column.</p>\n"}],"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75160276,"answer_count":1,"score":1,"last_activity_date":1674049903,"creation_date":1673996332,"question_id":75153080,"body_markdown":"I have updated recently version of:\r\n\r\n - Hibernate to -&gt; 5.6.14.Final\r\n - spring boot to -&gt; 2.7.7\r\n - java to -&gt; 17\r\n\r\nAnd remarked that changes in @Column annotation are not reflected into DB. \r\nFor example, if I add a column: \r\n\r\n    @Column(name = &quot;visible_type_test&quot;)\r\n    private VisibleType visibleTypeTest = VisibleType.VISIBLE;\r\n\r\nAnd then after running the project, decide to add nullable + columnDefinition: \r\n\r\n    @Column(name = &quot;visible_type_test&quot;, columnDefinition = &quot;int DEFAULT 1&quot;, nullable = false)\r\n    private VisibleType visibleTypeTest = VisibleType.VISIBLE;\r\n\r\nThe changes are not reflected. \r\n\r\nBut if I drop the column and run the project again, it is successfully adds all default values (changes are reflected)\r\n\r\nDo you know what could be the problem ? \r\nIn application properties I have this configuration set: \r\n\r\n    spring.jpa.hibernate.ddl-auto=none\r\n\r\nI tried switching to &#39;ddl-auto to update&#39;, but still it did not help. \r\nTried also to remove`@DynamicUpdate` annotation from entity, but also did not help.\r\n\r\nWhy it was working all this time with the current settings and now it doesn&#39;t ? Was there any hibernate updates which I am not aware of ? \r\n\r\nEdited: I am already using flyway. My problem is not about updating column name or deleting constraints. My problem is that unique constraints are not being added if I switch a column from nullable=true, to nullable=false. Also Default value is not being added to all existing values with columnDefi ition ... Default. I DID NOT NEEDED TO CREATE FLYWAY MIGRATION BEFORE IN ORDER TO DO THIS CHANGES. THEY WERE HAPPENING AUTOMATICALLY.\r\n\r\nFound a similar post here also with no answer provided: \r\nhttps://stackoverflow.com/questions/61525071/spring-boot-tables-in-database-not-updated-when-entity-field-is-modified\r\n\r\n","title":"HIbernate @Column(..) changes are not reflected in Database","body":"<p>I have updated recently version of:</p>\n<ul>\n<li>Hibernate to -&gt; 5.6.14.Final</li>\n<li>spring boot to -&gt; 2.7.7</li>\n<li>java to -&gt; 17</li>\n</ul>\n<p>And remarked that changes in @Column annotation are not reflected into DB.\nFor example, if I add a column:</p>\n<pre><code>@Column(name = &quot;visible_type_test&quot;)\nprivate VisibleType visibleTypeTest = VisibleType.VISIBLE;\n</code></pre>\n<p>And then after running the project, decide to add nullable + columnDefinition:</p>\n<pre><code>@Column(name = &quot;visible_type_test&quot;, columnDefinition = &quot;int DEFAULT 1&quot;, nullable = false)\nprivate VisibleType visibleTypeTest = VisibleType.VISIBLE;\n</code></pre>\n<p>The changes are not reflected.</p>\n<p>But if I drop the column and run the project again, it is successfully adds all default values (changes are reflected)</p>\n<p>Do you know what could be the problem ?\nIn application properties I have this configuration set:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=none\n</code></pre>\n<p>I tried switching to 'ddl-auto to update', but still it did not help.\nTried also to remove<code>@DynamicUpdate</code> annotation from entity, but also did not help.</p>\n<p>Why it was working all this time with the current settings and now it doesn't ? Was there any hibernate updates which I am not aware of ?</p>\n<p>Edited: I am already using flyway. My problem is not about updating column name or deleting constraints. My problem is that unique constraints are not being added if I switch a column from nullable=true, to nullable=false. Also Default value is not being added to all existing values with columnDefi ition ... Default. I DID NOT NEEDED TO CREATE FLYWAY MIGRATION BEFORE IN ORDER TO DO THIS CHANGES. THEY WERE HAPPENING AUTOMATICALLY.</p>\n<p>Found a similar post here also with no answer provided:\n<a href=\"https://stackoverflow.com/questions/61525071/spring-boot-tables-in-database-not-updated-when-entity-field-is-modified\">Spring boot tables in database not updated when entity field is modified</a></p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":5140045,"reputation":112591,"user_id":4117728,"accept_rate":91,"display_name":"463035818_is_not_an_ai"},"score":1,"creation_date":1674045198,"post_id":75159267,"comment_id":132630040,"body_markdown":"`\\*env` ? typo?","body":"<code>\\*env</code> ? typo?"},{"owner":{"account_id":15831028,"reputation":1,"user_id":11422335,"display_name":"Taki HARBI"},"score":0,"creation_date":1674045360,"post_id":75159267,"comment_id":132630091,"body_markdown":"Just made a mistake when asking the question in my code it is correct thank you!","body":"Just made a mistake when asking the question in my code it is correct thank you!"},{"owner":{"account_id":5140045,"reputation":112591,"user_id":4117728,"accept_rate":91,"display_name":"463035818_is_not_an_ai"},"score":0,"creation_date":1674045536,"post_id":75159267,"comment_id":132630150,"body_markdown":"a fatal error, a SIGSEGV in the software you are using is a bug in the software you are using. The message even suggests you to file a bug report. The message also suggests how to get more information by turning on core dumps, did you try that?","body":"a fatal error, a SIGSEGV in the software you are using is a bug in the software you are using. The message even suggests you to file a bug report. The message also suggests how to get more information by turning on core dumps, did you try that?"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1674045616,"post_id":75159267,"comment_id":132630180,"body_markdown":"You can&#39;t use a primitive `bool`/`jboolean`. You need to create/get an instance of `java.lang.Boolean`.","body":"You can&#39;t use a primitive <code>bool</code>/<code>jboolean</code>. You need to create/get an instance of <code>java.lang.Boolean</code>."},{"owner":{"account_id":14164783,"reputation":2654,"user_id":11680056,"display_name":"sklott"},"score":1,"creation_date":1674045688,"post_id":75159267,"comment_id":132630206,"body_markdown":"I think you need to pass `Boolean` object, not `jboolean` which is equvalent to plain `boolean` type and boxing don&#39;t work for JNI.  Also, you may be better off to return `boolean[]` and convert it to `ArrayList&lt;Boolean&gt;` on Java side, since there is JNI functions to work with arrays.","body":"I think you need to pass <code>Boolean</code> object, not <code>jboolean</code> which is equvalent to plain <code>boolean</code> type and boxing don&#39;t work for JNI.  Also, you may be better off to return <code>boolean[]</code> and convert it to <code>ArrayList&lt;Boolean&gt;</code> on Java side, since there is JNI functions to work with arrays."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1674045822,"post_id":75159267,"comment_id":132630255,"body_markdown":"Also, why are you trying to pass an empty C string to the `ArrayList` constructor?","body":"Also, why are you trying to pass an empty C string to the <code>ArrayList</code> constructor?"},{"owner":{"account_id":15831028,"reputation":1,"user_id":11422335,"display_name":"Taki HARBI"},"score":0,"creation_date":1674045948,"post_id":75159267,"comment_id":132630303,"body_markdown":"It created a log file which is not very helpful.\nI tried the same example but to create an ArrayList of Strings and it works just I need to instanciate jstring is this way  jstring str = env-&gt;NewStringUTF(&quot;test&quot;); i want a function that do the same for the Boolean","body":"It created a log file which is not very helpful. I tried the same example but to create an ArrayList of Strings and it works just I need to instanciate jstring is this way  jstring str = env-&gt;NewStringUTF(&quot;test&quot;); i want a function that do the same for the Boolean"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1674046109,"post_id":75159267,"comment_id":132630362,"body_markdown":"There is none. You&#39;ll have to write such a function yourself.","body":"There is none. You&#39;ll have to write such a function yourself."},{"owner":{"account_id":15831028,"reputation":1,"user_id":11422335,"display_name":"Taki HARBI"},"score":0,"creation_date":1674046118,"post_id":75159267,"comment_id":132630366,"body_markdown":"@Michael empty string because i dont have arguments to pass to the init function","body":"@Michael empty string because i dont have arguments to pass to the init function"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1674046224,"post_id":75159267,"comment_id":132630401,"body_markdown":"If you don&#39;t have any arguments then you shouldn&#39;t pass anything. I.e. remove the `, &quot;&quot;`","body":"If you don&#39;t have any arguments then you shouldn&#39;t pass anything. I.e. remove the <code>, &quot;&quot;</code>"},{"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"score":0,"creation_date":1674061569,"post_id":75159267,"comment_id":132636217,"body_markdown":"I bet the crash was occuring because of the empty string and another crash would have occurred once it hit the unboxed boolean being passed to the add() method.","body":"I bet the crash was occuring because of the empty string and another crash would have occurred once it hit the unboxed boolean being passed to the add() method."}],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674047687,"creation_date":1674047687,"answer_id":75159794,"question_id":75159267,"body_markdown":"`ArrayList&lt;Boolean&gt;` is the same as just `ArrayList`. At runtime, the `&lt;Boolean&gt;` doesn&#39;t exist. This is called &quot;type erasure&quot;.\r\n\r\nThe next thing to notice is that you did not try to add a `Boolean` (a kind of `Object`) but a primitive `boolean`. This probably gets interpreted as an object pointer and since it&#39;s not null it&#39;s the address of an `Object` - but `true` (the number 1) isn&#39;t a valid address of anything, and when the JVM dereferences it it crashes.\r\n\r\nYou need to get the static field `Boolean.TRUE` and add that to the `ArrayList`.","title":"How to return ArrayList&lt;Boolean&gt; in JNI java?","body":"<p><code>ArrayList&lt;Boolean&gt;</code> is the same as just <code>ArrayList</code>. At runtime, the <code>&lt;Boolean&gt;</code> doesn't exist. This is called &quot;type erasure&quot;.</p>\n<p>The next thing to notice is that you did not try to add a <code>Boolean</code> (a kind of <code>Object</code>) but a primitive <code>boolean</code>. This probably gets interpreted as an object pointer and since it's not null it's the address of an <code>Object</code> - but <code>true</code> (the number 1) isn't a valid address of anything, and when the JVM dereferences it it crashes.</p>\n<p>You need to get the static field <code>Boolean.TRUE</code> and add that to the <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":15831028,"reputation":1,"user_id":11422335,"display_name":"Taki HARBI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674049887,"creation_date":1674049887,"answer_id":75160271,"question_id":75159267,"body_markdown":"I found a way to instantiate a java Boolean Object from c++ using \r\n```Boolean.valueOf()``` function.\r\nI first get staticMethodId and then use it to create ```jobject``` and use the same object in the add method as follow:\r\n```\r\nJNIEXPORT jobject JNICALL Java_createArrayJNI_creatArray\r\n  (JNIEnv *env, jobject thisObject) {\r\n    std::vector&lt;bool&gt; cpp_vec;\r\n    cpp_vec.push_back(true);\r\n    cpp_vec.push_back(false);\r\n    cpp_vec.push_back(true);\r\n  \t\r\n    jclass java_util_class = env-&gt;FindClass(&quot;java/util/ArrayList&quot;);\r\n    jmethodID java_util_method_constructor = env-&gt;GetMethodID(java_util_class, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n    jmethodID java_add_method = env-&gt;GetMethodID(java_util_class, &quot;add&quot;, &quot;(Ljava/lang/Object;)Z&quot;);\r\n    \r\n    jobject java_util_object = env-&gt;NewObject(java_util_class, java_util_method_constructor, &quot;&quot;);\r\n    \r\n    jclass bool_class = env-&gt;FindClass(&quot;java/lang/Boolean&quot;);\r\n    jmethodID bool_init = env-&gt;GetStaticMethodID(bool_class, &quot;valueOf&quot;, &quot;(Z)Ljava/lang/Boolean;&quot;);\r\n    \r\n    for (int i=0; i&lt; cpp_vec.size(); i++){\r\n      jboolean curr_element = cpp_vec[i];\r\n      jobject bool_object = env-&gt;CallStaticObjectMethod(bool_class, bool_init, (jboolean) cpp_vec[i]);\r\n      if (bool_object == NULL){\r\n        std::cout &lt;&lt; &quot;Cannot instantiate the Boolean object&quot;;\r\n        return NULL;\r\n      } \r\n      env-&gt;CallBooleanMethod(java_util_object, java_add_method, bool_object);\r\n    }\r\n    return java_util_object;\r\n}\r\n\r\n","title":"How to return ArrayList&lt;Boolean&gt; in JNI java?","body":"<p>I found a way to instantiate a java Boolean Object from c++ using\n<code>Boolean.valueOf()</code> function.\nI first get staticMethodId and then use it to create <code>jobject</code> and use the same object in the add method as follow:</p>\n<pre><code>JNIEXPORT jobject JNICALL Java_createArrayJNI_creatArray\n  (JNIEnv *env, jobject thisObject) {\n    std::vector&lt;bool&gt; cpp_vec;\n    cpp_vec.push_back(true);\n    cpp_vec.push_back(false);\n    cpp_vec.push_back(true);\n    \n    jclass java_util_class = env-&gt;FindClass(&quot;java/util/ArrayList&quot;);\n    jmethodID java_util_method_constructor = env-&gt;GetMethodID(java_util_class, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\n    jmethodID java_add_method = env-&gt;GetMethodID(java_util_class, &quot;add&quot;, &quot;(Ljava/lang/Object;)Z&quot;);\n    \n    jobject java_util_object = env-&gt;NewObject(java_util_class, java_util_method_constructor, &quot;&quot;);\n    \n    jclass bool_class = env-&gt;FindClass(&quot;java/lang/Boolean&quot;);\n    jmethodID bool_init = env-&gt;GetStaticMethodID(bool_class, &quot;valueOf&quot;, &quot;(Z)Ljava/lang/Boolean;&quot;);\n    \n    for (int i=0; i&lt; cpp_vec.size(); i++){\n      jboolean curr_element = cpp_vec[i];\n      jobject bool_object = env-&gt;CallStaticObjectMethod(bool_class, bool_init, (jboolean) cpp_vec[i]);\n      if (bool_object == NULL){\n        std::cout &lt;&lt; &quot;Cannot instantiate the Boolean object&quot;;\n        return NULL;\n      } \n      env-&gt;CallBooleanMethod(java_util_object, java_add_method, bool_object);\n    }\n    return java_util_object;\n}\n\n</code></pre>\n"}],"owner":{"account_id":15831028,"reputation":1,"user_id":11422335,"display_name":"Taki HARBI"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75160271,"answer_count":2,"score":0,"last_activity_date":1674049887,"creation_date":1674045058,"question_id":75159267,"body_markdown":"I&#39;m new to JNI and I want to create an `ArrayList&lt;Boolean&gt;` from the C++ side.\r\n\r\nI have the following situation:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\n\r\npublic class createArrayJNI {\r\n    static {\r\n        System.loadLibrary(&quot;libnative&quot;);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        createArrayJNI jni =  new createArrayJNI();\r\n        ArrayList&lt;Boolean&gt; array = jni.creatArray();\r\n        System.err.println(array);\r\n    }\r\n\r\n    public native ArrayList&lt;Boolean&gt; creatArray();\r\n}\r\n```\r\n\r\nand my cpp file is:\r\n\r\n```cpp\r\n...\r\nJNIEXPORT jobject JNICALL Java_createArrayJNI_creatArray\r\n(JNIEnv \\*env, jobject thisObject) {\r\n\r\n    jclass java_util_class = env-&gt;FindClass(&quot;java/util/ArrayList&quot;);\r\n        jmethodID java_util_method_constructor = env-&gt;GetMethodID(java_util_class, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n        jmethodID java_add_method = env-&gt;GetMethodID(java_util_class, &quot;add&quot;, &quot;(Ljava/lang/Object;)Z&quot;);\r\n        jobject java_util_object = env-&gt;NewObject(java_util_class, java_util_method_constructor, &quot;&quot;);\r\n        jboolean a = true;\r\n         env-&gt;CallBooleanMethod(java_util_object, java_add_method, a);\r\n    \r\n         return java_util_object;\r\n}\r\n```\r\n\r\nIt shows me:\r\n\r\n```none\r\n# \r\n# A fatal error has been detected by the Java Runtime Environment:\r\n# \r\n# SIGSEGV (0xb) at pc=0x00000001099110ac, pid=24207, tid=4355\r\n# \r\n# JRE version: OpenJDK Runtime Environment Homebrew (19.0.1) (build 19.0.1)\r\n# Java VM: OpenJDK 64-Bit Server VM Homebrew (19.0.1, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\r\n# Problematic frame:\r\n# V  \\[libjvm.dylib+0x1f10ac\\]  AccessInternal::PostRuntimeDispatch\\&lt;G1BarrierSet::AccessBarrier\\&lt;598116ull, G1BarrierSet\\&gt;, (AccessInternal::BarrierType)2, 598116ull\\&gt;::oop_access_barrier(void\\*)+0xc\r\n# \r\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n# \r\n# An error report file with more information is saved as:\r\n# /Users/taki/Desktop/Preparation doctorat ERM/Projects/Julia4C/hs_err_pid24207.log\r\n# \r\n# If you would like to submit a bug report, please visit:\r\n# https://github.com/Homebrew/homebrew-core/issues\r\n# \r\nzsh: abort      /usr/bin/env  --enable-preview -XX:+ShowCodeDetailsInExceptionMessages -cp\r\n```\r\n\r\nI&#39;m pretty sure that the error comes from `env-&gt;CallBooleanMethod(java_util_object, java_add_method, a);` because the add method requires an object, and `a` is jboolean.\r\n\r\nI tried to cast the `a` variable but it didn&#39;t work as well.","title":"How to return ArrayList&lt;Boolean&gt; in JNI java?","body":"<p>I'm new to JNI and I want to create an <code>ArrayList&lt;Boolean&gt;</code> from the C++ side.</p>\n<p>I have the following situation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\n\npublic class createArrayJNI {\n    static {\n        System.loadLibrary(&quot;libnative&quot;);\n    }\n    \n    public static void main(String[] args) {\n        createArrayJNI jni =  new createArrayJNI();\n        ArrayList&lt;Boolean&gt; array = jni.creatArray();\n        System.err.println(array);\n    }\n\n    public native ArrayList&lt;Boolean&gt; creatArray();\n}\n</code></pre>\n<p>and my cpp file is:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>...\nJNIEXPORT jobject JNICALL Java_createArrayJNI_creatArray\n(JNIEnv \\*env, jobject thisObject) {\n\n    jclass java_util_class = env-&gt;FindClass(&quot;java/util/ArrayList&quot;);\n        jmethodID java_util_method_constructor = env-&gt;GetMethodID(java_util_class, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\n        jmethodID java_add_method = env-&gt;GetMethodID(java_util_class, &quot;add&quot;, &quot;(Ljava/lang/Object;)Z&quot;);\n        jobject java_util_object = env-&gt;NewObject(java_util_class, java_util_method_constructor, &quot;&quot;);\n        jboolean a = true;\n         env-&gt;CallBooleanMethod(java_util_object, java_add_method, a);\n    \n         return java_util_object;\n}\n</code></pre>\n<p>It shows me:</p>\n<pre class=\"lang-none prettyprint-override\"><code># \n# A fatal error has been detected by the Java Runtime Environment:\n# \n# SIGSEGV (0xb) at pc=0x00000001099110ac, pid=24207, tid=4355\n# \n# JRE version: OpenJDK Runtime Environment Homebrew (19.0.1) (build 19.0.1)\n# Java VM: OpenJDK 64-Bit Server VM Homebrew (19.0.1, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\n# Problematic frame:\n# V  \\[libjvm.dylib+0x1f10ac\\]  AccessInternal::PostRuntimeDispatch\\&lt;G1BarrierSet::AccessBarrier\\&lt;598116ull, G1BarrierSet\\&gt;, (AccessInternal::BarrierType)2, 598116ull\\&gt;::oop_access_barrier(void\\*)+0xc\n# \n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n# \n# An error report file with more information is saved as:\n# /Users/taki/Desktop/Preparation doctorat ERM/Projects/Julia4C/hs_err_pid24207.log\n# \n# If you would like to submit a bug report, please visit:\n# https://github.com/Homebrew/homebrew-core/issues\n# \nzsh: abort      /usr/bin/env  --enable-preview -XX:+ShowCodeDetailsInExceptionMessages -cp\n</code></pre>\n<p>I'm pretty sure that the error comes from <code>env-&gt;CallBooleanMethod(java_util_object, java_add_method, a);</code> because the add method requires an object, and <code>a</code> is jboolean.</p>\n<p>I tried to cast the <code>a</code> variable but it didn't work as well.</p>\n"},{"tags":["java","flutter","dart","gradle"],"owner":{"account_id":26515305,"reputation":17,"user_id":20149941,"display_name":"Bobb Bi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674049764,"creation_date":1674049764,"question_id":75160245,"body_markdown":"I&#39;ve cloned a project and working on trying to get it up and run, but i&#39;m hitting several errors on the way. I&#39;ve cleared most of them, but this particular one is bothering me. I haven&#39;t been able to find a solution for this. The build fails without giving any explanation.\r\n\r\n         FAILURE: Build failed with an exception.\r\n\r\n*   Where:\r\n  Script &#39;C:\\\\Users\\\\user\\\\flutter\\\\packages\\\\flutter_tools\\\\gradle\\\\flutter.gradle&#39; line: 470\r\n\r\n* What went wrong:\r\n  A problem occurred evaluating root project &#39;android&#39;.\r\n\r\n  A problem occurred configuring project &#39;:app&#39;.\r\n  Cannot run Project.afterEvaluate(Closure) when the project is already evaluated.\r\n\r\n* Try:\r\n\r\n  Run with --info or --debug option to get more log output.\r\n  Run with --scan to get full insights.\r\n\r\n* Exception is:\r\n  org.gradle.api.GradleScriptException: A problem occurred evaluating root project &#39;android&#39;.\r\n  at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n  at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\r\n  at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\r\n  at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\r\n  at\r\n\r\nI have tried to use different versions of gradle plugin but it does not seem to work. More info:\r\n\r\n    Gradle 7.5\r\n     ------------------------------------------------------------\r\n    \r\n    Build time:   2022-07-14 12:48:15 UTC\r\n    Revision:     c7db7b958189ad2b0c1472b6fe663e6d654a5103\r\n    \r\n    Kotlin:       1.6.21\r\n    Groovy:       3.0.10\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          11.0.2 (Oracle Corporation 11.0.2+9)\r\n    OS:           Windows 10 10.0 amd64\r\n\r\n`\r\n\r\nMy build.gradle\r\n\r\n    `buildscript {\r\n     ext.kotlin_version = &#39;1.6.21&#39;\r\n     repositories {\r\n     google()\r\n     jcenter()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.4.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.2.0&#39;\r\n      }\r\n\r\n     }\r\n\r\n     allprojects {\r\n     repositories {\r\n     google()\r\n     jcenter()\r\n       }\r\n     }\r\n\r\n    rootProject.buildDir = &#39;../build&#39;\r\n    subprojects {\r\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n    }\r\n    subprojects {\r\n    project.evaluationDependsOn(&#39;:app&#39;)\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n    }` `","title":"Building issue with flutter and gradle - fails without giving any reason","body":"<p>I've cloned a project and working on trying to get it up and run, but i'm hitting several errors on the way. I've cleared most of them, but this particular one is bothering me. I haven't been able to find a solution for this. The build fails without giving any explanation.</p>\n<pre><code>     FAILURE: Build failed with an exception.\n</code></pre>\n<ul>\n<li><p>Where:\nScript 'C:\\Users\\user\\flutter\\packages\\flutter_tools\\gradle\\flutter.gradle' line: 470</p>\n</li>\n<li><p>What went wrong:\nA problem occurred evaluating root project 'android'.</p>\n<p>A problem occurred configuring project ':app'.\nCannot run Project.afterEvaluate(Closure) when the project is already evaluated.</p>\n</li>\n<li><p>Try:</p>\n<p>Run with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</li>\n<li><p>Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project 'android'.\nat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\nat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\nat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\nat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\nat</p>\n</li>\n</ul>\n<p>I have tried to use different versions of gradle plugin but it does not seem to work. More info:</p>\n<pre><code>Gradle 7.5\n ------------------------------------------------------------\n\nBuild time:   2022-07-14 12:48:15 UTC\nRevision:     c7db7b958189ad2b0c1472b6fe663e6d654a5103\n\nKotlin:       1.6.21\nGroovy:       3.0.10\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          11.0.2 (Oracle Corporation 11.0.2+9)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>`</p>\n<p>My build.gradle</p>\n<pre><code>`buildscript {\n ext.kotlin_version = '1.6.21'\n repositories {\n google()\n jcenter()\n}\n\ndependencies {\n    classpath 'com.android.tools.build:gradle:7.4.0'\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    classpath 'com.google.gms:google-services:4.3.3'\n    classpath 'com.google.firebase:firebase-crashlytics-gradle:2.2.0'\n  }\n\n }\n\n allprojects {\n repositories {\n google()\n jcenter()\n   }\n }\n\nrootProject.buildDir = '../build'\nsubprojects {\nproject.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\nproject.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}` `\n</code></pre>\n"},{"tags":["java","rest","web-services","dry","pojo"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1673980282,"post_id":75150677,"comment_id":132615892,"body_markdown":"&quot;(maybe it is though?)&quot; It is. Your names are bad, but plenty of apps are structured that. Call it something like &quot;model&quot;.","body":"&quot;(maybe it is though?)&quot; It is. Your names are bad, but plenty of apps are structured that. Call it something like &quot;model&quot;."},{"owner":{"account_id":6382208,"reputation":155,"user_id":5683951,"display_name":"David Lalo"},"score":0,"creation_date":1673980894,"post_id":75150677,"comment_id":132616054,"body_markdown":"Didn&#39;t think too much about the naming at this point, just wrote the first thing that came into my head. BTW, just clarifying, the names here aren&#39;t actually what things are called in the app (i.e. app is not actually called myApp), I&#39;m just simplifying for the sake of the question. If You recommend calling it something like &quot;model&quot; is the idea that the &quot;model&quot; component would hold _all_ POJO classes in my app? I don&#39;t think having to update a common dependency in all of my services whenever I want to make a change to something that only applies to one service is a good idea...","body":"Didn&#39;t think too much about the naming at this point, just wrote the first thing that came into my head. BTW, just clarifying, the names here aren&#39;t actually what things are called in the app (i.e. app is not actually called myApp), I&#39;m just simplifying for the sake of the question. If You recommend calling it something like &quot;model&quot; is the idea that the &quot;model&quot; component would hold <i>all</i> POJO classes in my app? I don&#39;t think having to update a common dependency in all of my services whenever I want to make a change to something that only applies to one service is a good idea..."},{"owner":{"account_id":6382208,"reputation":155,"user_id":5683951,"display_name":"David Lalo"},"score":0,"creation_date":1673980985,"post_id":75150677,"comment_id":132616083,"body_markdown":"Following the example above -- I shouldn&#39;t have to redeploy or recompile /users if I change something like myApp.model.EmailContents.subject to myApp.model.EmailContents.subjectLine","body":"Following the example above -- I shouldn&#39;t have to redeploy or recompile /users if I change something like myApp.model.EmailContents.subject to myApp.model.EmailContents.subjectLine"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1673981105,"post_id":75150677,"comment_id":132616125,"body_markdown":"&quot;*is the idea that the &quot;model&quot; component would hold all POJO classes in my app?*&quot; Not necessarily. The shared ones.","body":"&quot;<i>is the idea that the &quot;model&quot; component would hold all POJO classes in my app?</i>&quot; Not necessarily. The shared ones."},{"owner":{"account_id":6382208,"reputation":155,"user_id":5683951,"display_name":"David Lalo"},"score":0,"creation_date":1673981110,"post_id":75150677,"comment_id":132616128,"body_markdown":"Btw, feel free to post Your comment as an answer. It&#39;s short, but it answers the question. I&#39;m happy to mark the question as answered if nothing more in-depth comes in the next few days","body":"Btw, feel free to post Your comment as an answer. It&#39;s short, but it answers the question. I&#39;m happy to mark the question as answered if nothing more in-depth comes in the next few days"},{"owner":{"account_id":6382208,"reputation":155,"user_id":5683951,"display_name":"David Lalo"},"score":0,"creation_date":1673981141,"post_id":75150677,"comment_id":132616135,"body_markdown":"&quot;Not necessarily. The shared ones&quot;. Ah thanks for the clarification, makes more sense now","body":"&quot;Not necessarily. The shared ones&quot;. Ah thanks for the clarification, makes more sense now"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673981264,"post_id":75150677,"comment_id":132616173,"body_markdown":"It&#39;s not clear from your question, but do all services exist in the same module (Maven/Gradle), or different modules? If they all exist in the same module then you don&#39;t even need another dependency, as you stated. Just throw the shared stuff in a common package. e.g. `com.foo.model.common.User`, `com.foo.model.emailservice.Email`","body":"It&#39;s not clear from your question, but do all services exist in the same module (Maven/Gradle), or different modules? If they all exist in the same module then you don&#39;t even need another dependency, as you stated. Just throw the shared stuff in a common package. e.g. <code>com.foo.model.common.User</code>, <code>com.foo.model.emailservice.Email</code>"},{"owner":{"account_id":6382208,"reputation":155,"user_id":5683951,"display_name":"David Lalo"},"score":0,"creation_date":1673981745,"post_id":75150677,"comment_id":132616314,"body_markdown":"You&#39;re right, I didn&#39;t specify. Each service is its own Maven project","body":"You&#39;re right, I didn&#39;t specify. Each service is its own Maven project"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674049649,"creation_date":1673990748,"answer_id":75152381,"question_id":75150677,"body_markdown":"It&#39;s always tempting to spot duplicated (or nearly duplicated) code and try to eliminate the duplication. An obvious path in that direction is to make a shared library (or module) and have different services (or applications) depend on it.\r\n\r\nDoing so, however, increases coupling between services/applications/modules, which has its own set of drawbacks in many contexts. Especially in a microservices architecture*, that kind of coupling often leads to headaches. It can even lead to loss of the value of using microservices* in the first place.\r\n\r\nIf two services* are supposed to be independent but integrated, they have an integration protocol of some kind. For REST services, for example, that&#39;s almost always HTTP and JSON**. By introducing a shared library, you have coupled them in a binary way, separate from (and more binding than) HTTP and JSON. Not a good situation; experience has taught many of us that painful lesson.\r\n\r\nInstead, focus on the public interfaces that each service exposes, and use appropriate versioning to evolve those interfaces when needed. Don&#39;t worry about some duplicate-looking classes, especially if they&#39;re anemic POJOs; that&#39;s a minor concern compared to a tightly-coupled set of services that are supposed to be independent.\r\n\r\nNot that shared code libraries are inherently bad, they&#39;re not and they have true value in many ways. Rather, my point is you need to make sure each service maintains its own definition of what important things are, so that each can remain as independent as possible - and evolve independently as much as possible.\r\n\r\nBy the way, this is somewhat related to the concept of [Bounded Contexts][1]; you might want to read more about it if you&#39;re working with microservices*.\r\n\r\n---\r\n\r\n*or whatever you call your architecture of independently-managed services/modules/apps\r\n\r\n** Could also be some kind of messaging/queueing platform, as another example\r\n\r\n\r\n  [1]: https://martinfowler.com/bliki/BoundedContext.html","title":"How to avoid duplicate POJOs in different web services, Java","body":"<p>It's always tempting to spot duplicated (or nearly duplicated) code and try to eliminate the duplication. An obvious path in that direction is to make a shared library (or module) and have different services (or applications) depend on it.</p>\n<p>Doing so, however, increases coupling between services/applications/modules, which has its own set of drawbacks in many contexts. Especially in a microservices architecture*, that kind of coupling often leads to headaches. It can even lead to loss of the value of using microservices* in the first place.</p>\n<p>If two services* are supposed to be independent but integrated, they have an integration protocol of some kind. For REST services, for example, that's almost always HTTP and JSON**. By introducing a shared library, you have coupled them in a binary way, separate from (and more binding than) HTTP and JSON. Not a good situation; experience has taught many of us that painful lesson.</p>\n<p>Instead, focus on the public interfaces that each service exposes, and use appropriate versioning to evolve those interfaces when needed. Don't worry about some duplicate-looking classes, especially if they're anemic POJOs; that's a minor concern compared to a tightly-coupled set of services that are supposed to be independent.</p>\n<p>Not that shared code libraries are inherently bad, they're not and they have true value in many ways. Rather, my point is you need to make sure each service maintains its own definition of what important things are, so that each can remain as independent as possible - and evolve independently as much as possible.</p>\n<p>By the way, this is somewhat related to the concept of <a href=\"https://martinfowler.com/bliki/BoundedContext.html\" rel=\"nofollow noreferrer\">Bounded Contexts</a>; you might want to read more about it if you're working with microservices*.</p>\n<hr />\n<p>*or whatever you call your architecture of independently-managed services/modules/apps</p>\n<p>** Could also be some kind of messaging/queueing platform, as another example</p>\n"}],"owner":{"account_id":6382208,"reputation":155,"user_id":5683951,"display_name":"David Lalo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75152381,"answer_count":1,"score":0,"last_activity_date":1674049649,"creation_date":1673979792,"question_id":75150677,"body_markdown":"I have a webapp with multiple Spring services (they each have their own ear and web-controllers) and they talk to each other via REST calls. Some of the different services use the same data POJOs. The existing code just has duplicates of those data objects in different services.\r\n\r\nFor example, my `/users` service has a `myApp.users.UserData` object, and my `/emails` service calls `/users/{userId}` and holds the result as a `myApp.emails.UserData` object. Both of these objects are identical.\r\n\r\nThe problem here is I have to keep `myApp.emails.UserData` and `myApp.users.UserData` in sync, since in reality they represent the same info and are meant to be the &quot;same&quot; class. Say I update the name of a field in `emails.UserData`, I better remember to update it in `users.UserData`, otherwise things will break.\r\n\r\nI know I could make a shared dependency called something like `SharedDataObjects`, define `myApp.sharedDataObjects.UserData` there, and just have both versions refer to that. For some reason, though, my gut feeling is that this is not a good solution... (maybe it is though?)\r\n\r\nAre there any better ways of approaching this issue? Is there something fundamentally wrong with the way the webapp structured, and if so how could that be addressed?","title":"How to avoid duplicate POJOs in different web services, Java","body":"<p>I have a webapp with multiple Spring services (they each have their own ear and web-controllers) and they talk to each other via REST calls. Some of the different services use the same data POJOs. The existing code just has duplicates of those data objects in different services.</p>\n<p>For example, my <code>/users</code> service has a <code>myApp.users.UserData</code> object, and my <code>/emails</code> service calls <code>/users/{userId}</code> and holds the result as a <code>myApp.emails.UserData</code> object. Both of these objects are identical.</p>\n<p>The problem here is I have to keep <code>myApp.emails.UserData</code> and <code>myApp.users.UserData</code> in sync, since in reality they represent the same info and are meant to be the &quot;same&quot; class. Say I update the name of a field in <code>emails.UserData</code>, I better remember to update it in <code>users.UserData</code>, otherwise things will break.</p>\n<p>I know I could make a shared dependency called something like <code>SharedDataObjects</code>, define <code>myApp.sharedDataObjects.UserData</code> there, and just have both versions refer to that. For some reason, though, my gut feeling is that this is not a good solution... (maybe it is though?)</p>\n<p>Are there any better ways of approaching this issue? Is there something fundamentally wrong with the way the webapp structured, and if so how could that be addressed?</p>\n"},{"tags":["java","parsing","cobol"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1488810325,"post_id":42627885,"comment_id":72383863,"body_markdown":"So would you mind giving some example of the data to parse? I guess 99,9% of users here have never used COBOL!","body":"So would you mind giving some example of the data to parse? I guess 99,9% of users here have never used COBOL!"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1488810606,"post_id":42627885,"comment_id":72384084,"body_markdown":"See http://stackoverflow.com/questions/3257771/how-to-format-a-number-to-s95v99-ascii-in-net","body":"See <a href=\"http://stackoverflow.com/questions/3257771/how-to-format-a-number-to-s95v99-ascii-in-net\" title=\"how to format a number to s95v99 ascii in net\">stackoverflow.com/questions/3257771/&hellip;</a>"},{"owner":{"account_id":9841032,"reputation":188,"user_id":7290045,"accept_rate":100,"display_name":"Abdul Ahad"},"score":0,"creation_date":1488810900,"post_id":42627885,"comment_id":72384327,"body_markdown":"i have read that discussion and it concludes to nowhere...","body":"i have read that discussion and it concludes to nowhere..."},{"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"score":0,"creation_date":1488810958,"post_id":42627885,"comment_id":72384373,"body_markdown":"In what format are you receiving the data? string, binary, integers?","body":"In what format are you receiving the data? string, binary, integers?"},{"owner":{"account_id":9841032,"reputation":188,"user_id":7290045,"accept_rate":100,"display_name":"Abdul Ahad"},"score":0,"creation_date":1488811027,"post_id":42627885,"comment_id":72384426,"body_markdown":"I am sending and receiving data in string format","body":"I am sending and receiving data in string format"},{"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"score":0,"creation_date":1488811149,"post_id":42627885,"comment_id":72384516,"body_markdown":"Edit that into your question, also add a code sample what you currently have where you parse the cobol string to java object, and java object to cobol string.","body":"Edit that into your question, also add a code sample what you currently have where you parse the cobol string to java object, and java object to cobol string."},{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":0,"creation_date":1488812094,"post_id":42627885,"comment_id":72385251,"body_markdown":"At first sight I think you have an encoding problem, not a parsing problem. `S9(6)V99` means that you should expect to receive a signed 8 digit field and that there is an implied decimal point after the first 6 digits. So, if you receive +12345678, that should be interpreted as +123456.78. The fact you are receiving data such as `0000016H` means that either your data layout in your java code does not match the Cobol data layout, or that the data has been encoded with a different character set.","body":"At first sight I think you have an encoding problem, not a parsing problem. <code>S9(6)V99</code> means that you should expect to receive a signed 8 digit field and that there is an implied decimal point after the first 6 digits. So, if you receive +12345678, that should be interpreted as +123456.78. The fact you are receiving data such as <code>0000016H</code> means that either your data layout in your java code does not match the Cobol data layout, or that the data has been encoded with a different character set."},{"owner":{"account_id":326781,"reputation":6715,"user_id":648746,"accept_rate":70,"display_name":"theblitz"},"score":0,"creation_date":1488812787,"post_id":42627885,"comment_id":72385754,"body_markdown":"It looks like some screwed-up version of a Packed Decimal (Comp-3). The S at the beginning means it is a signed number. If it is PD then the last character should be C (+) or D(-).","body":"It looks like some screwed-up version of a Packed Decimal (Comp-3). The S at the beginning means it is a signed number. If it is PD then the last character should be C (+) or D(-)."},{"owner":{"account_id":326781,"reputation":6715,"user_id":648746,"accept_rate":70,"display_name":"theblitz"},"score":0,"creation_date":1488813486,"post_id":42627885,"comment_id":72386254,"body_markdown":"At a second glance it does actually look like Zoned Decimal. Thus the first number is +168 and the second one is -0 (?).","body":"At a second glance it does actually look like Zoned Decimal. Thus the first number is +168 and the second one is -0 (?)."},{"owner":{"account_id":1438763,"reputation":13008,"user_id":1927206,"display_name":"Bill Woodger"},"score":1,"creation_date":1488815457,"post_id":42627885,"comment_id":72387701,"body_markdown":"So, get the sender to send it in a format where you don&#39;t have to do any coding. Chose what is convenient for you (in a fixed-width field) and it is a very minor change to the COBOL program.","body":"So, get the sender to send it in a format where you don&#39;t have to do any coding. Chose what is convenient for you (in a fixed-width field) and it is a very minor change to the COBOL program."},{"owner":{"account_id":1438763,"reputation":13008,"user_id":1927206,"display_name":"Bill Woodger"},"score":2,"creation_date":1488815704,"post_id":42627885,"comment_id":72387873,"body_markdown":"@theblitz that&#39;s not a negative zero.","body":"@theblitz that&#39;s not a negative zero."},{"owner":{"account_id":1438763,"reputation":13008,"user_id":1927206,"display_name":"Bill Woodger"},"score":0,"creation_date":1488815726,"post_id":42627885,"comment_id":72387891,"body_markdown":"And where is your data coming from? A Mainframe?","body":"And where is your data coming from? A Mainframe?"},{"owner":{"account_id":326781,"reputation":6715,"user_id":648746,"accept_rate":70,"display_name":"theblitz"},"score":0,"creation_date":1488824298,"post_id":42627885,"comment_id":72393296,"body_markdown":"@BillWoodger Yeah. My bad. My knowledge of the EBCDIC character set is kinda rusty. Thought { was D0 not C0.","body":"@BillWoodger Yeah. My bad. My knowledge of the EBCDIC character set is kinda rusty. Thought { was D0 not C0."},{"owner":{"account_id":9841032,"reputation":188,"user_id":7290045,"accept_rate":100,"display_name":"Abdul Ahad"},"score":0,"creation_date":1488825375,"post_id":42627885,"comment_id":72393894,"body_markdown":"@BillWoodger i can not force the server to change the format, actually it is a insurance clearing house(switch) with which i am communicating.","body":"@BillWoodger i can not force the server to change the format, actually it is a insurance clearing house(switch) with which i am communicating."},{"owner":{"account_id":9841032,"reputation":188,"user_id":7290045,"accept_rate":100,"display_name":"Abdul Ahad"},"score":0,"creation_date":1488825472,"post_id":42627885,"comment_id":72393958,"body_markdown":"@DaveH i have checked the guide provided by the server, the data is encoded in **s9(6)v99**, and it is not corrupted.","body":"@DaveH i have checked the guide provided by the server, the data is encoded in <b>s9(6)v99</b>, and it is not corrupted."}],"answers":[{"tags":[],"owner":{"account_id":326781,"reputation":6715,"user_id":648746,"accept_rate":70,"display_name":"theblitz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488813816,"creation_date":1488813816,"answer_id":42629326,"question_id":42627885,"body_markdown":"From what I can see it should be reasonably straightforward. This assumes, which seems to be the case from your example, that this is a Zoned Decimal.\r\n\r\nFirst you will need to get the sign of the number. Simply check the last character. If it is a non-digit then it is negative (assuming you are using F format for the positive number).\r\nOnce you have that you can then replace that character with the correct, equivalent digit.\r\n\r\nYou now have a string representation of a number.\r\n\r\nNow do \r\n\r\n    Integer result = Integer.valueOf(theInputString)\r\n\r\nthen divide by 100 and re-apply the sign.\r\nYou could also just add the sign as a &quot;-&quot; or &quot;+&quot; to the string before calling valueOf.","title":"How to parse data to and from cobol s9(6)v99 format in java","body":"<p>From what I can see it should be reasonably straightforward. This assumes, which seems to be the case from your example, that this is a Zoned Decimal.</p>\n\n<p>First you will need to get the sign of the number. Simply check the last character. If it is a non-digit then it is negative (assuming you are using F format for the positive number).\nOnce you have that you can then replace that character with the correct, equivalent digit.</p>\n\n<p>You now have a string representation of a number.</p>\n\n<p>Now do </p>\n\n<pre><code>Integer result = Integer.valueOf(theInputString)\n</code></pre>\n\n<p>then divide by 100 and re-apply the sign.\nYou could also just add the sign as a \"-\" or \"+\" to the string before calling valueOf.</p>\n"},{"tags":[],"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1488843901,"creation_date":1488842357,"answer_id":42637411,"question_id":42627885,"body_markdown":"### Suggestions\r\n\r\nIn general \r\n\r\n* Change the Cobol. If the cobol was changed to `s9(6)V99 sign leading` it would be a lot easier to handle in java. In your case, this is probably not an option\r\n* If you can get the **Cobol Copybook** use a package\r\n\r\n### Packages\r\n\r\nIf you can get the **Cobol Copybook**, why not use one of the Cobol / Java packages\r\n\r\n* [JRecord](https://sourceforge.net/projects/jrecord/)\r\n* [Cobol2J](https://sourceforge.net/projects/cobol2j/)\r\n* **Legstar**\r\n* **IBM** has software for this \r\n\r\n**Note:** Even if you do not have the Full Cobol Copybook, you could set up a Cobol Copybook for this one field and still use a package. The copybook would be:\r\n\r\n       01  MY-REC.\r\n           03 FIELD-1              PIC S9(6)V99.\r\n\r\n### What you need to know\r\n\r\nThere is no one single Cobol Zoned Decimal format, it varies from compilere to Compiler and\r\nwhat the encoding is. To decode `Zoned Decimal` you really need to know the \r\n\r\n* The Cobol Compiler\r\n* The Encoding used on the Server\r\n\r\nIn this case I would guess it is\r\n\r\n* IBM Compiler running on IBM Mainframe or AS400\r\n* US Ebdic (IBM037) or something similar (definitely not German EBCDIC (IBM273))\r\n\r\n### Interpretting Zoned decimal\r\n\r\nIn Zoned decimal:\r\n\r\n* **S** indicates it is a signed number; the sign will be `overpunched` on the last numeric digit.\r\n* **9** represents a single digit\r\n* **V** represents an `assumed` decimal place\r\n\r\nSo `s9(6)V99` is a signed number with 6 digits before the decimal place + 2 after\r\n\r\n### Effect of Encoding\r\n\r\nThe `encoding` (characterset) used by the server determines how the sign digit is represented.\r\nFor US (and UK) Ebcdic +0/-0 are `{ / }` but they are different for German Ebcdic.\r\nFor ASCII servers it is different again\r\n\r\n\r\n### Java Code\r\n\r\nThe ebcdic conversion code (note it still needs to be adjusted for the assumed decimal):\r\n\r\n\r\n\tprivate static int positiveDiff = &#39;A&#39; - &#39;1&#39;;\r\n\tprivate static int negativeDiff = &#39;J&#39; - &#39;1&#39;;\r\n\t\r\n\tprivate static char positive0EbcdicZoned = &#39;{&#39;;\r\n\tprivate static char negative0EbcdicZoned = &#39;}&#39;;\r\n\r\n\tpublic static String fromZoned(String numZoned) {\r\n\t\tString ret;\r\n\t\tString sign = &quot;&quot;;\r\n\t\tchar lastChar, ucLastChar;\r\n\r\n\t\tif (numZoned == null || ((ret = numZoned.trim()).length() == 0) || ret.equals(&quot;-&quot;)) {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\r\n\t\tlastChar = ret.charAt(ret.length() - 1);\r\n\t\tucLastChar = Character.toUpperCase(lastChar);\r\n\r\n\t\t\r\n\t\tswitch (ucLastChar) {\r\n\t\tcase &#39;A&#39;:\r\n\t\tcase &#39;B&#39;:\r\n\t\tcase &#39;C&#39;:\r\n\t\tcase &#39;D&#39;:\r\n\t\tcase &#39;E&#39;:\r\n\t\tcase &#39;F&#39;:\r\n\t\tcase &#39;G&#39;:\r\n\t\tcase &#39;H&#39;:\r\n\t\tcase &#39;I&#39;:\r\n\t\t\tlastChar = (char) (ucLastChar - positiveDiff);\r\n\t\t\tbreak;\r\n\t\tcase &#39;J&#39;:\r\n\t\tcase &#39;K&#39;:\r\n\t\tcase &#39;L&#39;:\r\n\t\tcase &#39;M&#39;:\r\n\t\tcase &#39;N&#39;:\r\n\t\tcase &#39;O&#39;:\r\n\t\tcase &#39;P&#39;:\r\n\t\tcase &#39;Q&#39;:\r\n\t\tcase &#39;R&#39;:\r\n\t\t\tsign = &quot;-&quot;;\r\n\t\t\tlastChar = (char) (ucLastChar - negativeDiff);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tif (lastChar == positive0EbcdicZoned) {\r\n\t\t\t\tlastChar = &#39;0&#39;;\r\n\t\t\t} else if (lastChar == negative0EbcdicZoned) {\r\n\t\t\t\tlastChar = &#39;0&#39;;\r\n\t\t\t\tsign = &quot;-&quot;;\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\tret = sign + ret.substring(0, ret.length() - 1) + lastChar;\r\n\r\n\t\treturn ret;\r\n\t}\r\n\r\nTo set `+0/-0` characters \r\n   \r\n    public static void setDefaultEbcidicCharacterset(String charset) {\r\n    \tif (getHold(charset).isEbcdic) {\r\n    \t\tbyte[] b = {(byte) 0xC0, (byte) 0xD0};\r\n    \t\tString s = new String(b, charset);\r\n    \t\tif (s.length() == 2) {\r\n    \t\t\tpositive0EbcdicZoned = s.charAt(0);\r\n    \t\t\tnegative0EbcdicZoned = s.charAt(1);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n----\r\n\r\nAn alternative way to derive the sign (for EBCDIC encoding) is to convert the sign back into the raw bytes:\r\n\r\n    private static final byte HIGH_NYBLE = (byte) 0xf0;\r\n\tprivate static final byte ZONED_NEGATIVE_NYBLE_VALUE = (byte) 0xD0;\r\n\r\n\t\tString Sign = &quot;&quot;;\r\n\t\tbyte signByte = signStr.getBytes(encoding)[0];\r\n\t\tif (((byte) (signByte &amp; HIGH_NYBLE)) == ZONED_NEGATIVE_NYBLE_VALUE) {\r\n\t\t\tsign = &quot;-&quot;;\r\n\t\t}\r\n\t\tbyte lastDigitBytes = (byte) (signByte | HIGH_NYBLE);\r\n\r\n----\r\n\r\n### ASCII Cobols\r\n\r\nIn this case it is EBCDIC. For ASCII based cobols it is different again. This is [JRecord](https://sourceforge.net/projects/jrecord/) generic conversion class for Ascii Zoned-Decimal:\r\n\r\n* https://sourceforge.net/p/jrecord/code/HEAD/tree/jrecord/Source/JRecord_Common/src/net/sf/JRecord/Types/TypeFjZoned.java\r\n\r\n**Note:** I am the author JRecord","title":"How to parse data to and from cobol s9(6)v99 format in java","body":"<h3>Suggestions</h3>\n\n<p>In general </p>\n\n<ul>\n<li>Change the Cobol. If the cobol was changed to <code>s9(6)V99 sign leading</code> it would be a lot easier to handle in java. In your case, this is probably not an option</li>\n<li>If you can get the <strong>Cobol Copybook</strong> use a package</li>\n</ul>\n\n<h3>Packages</h3>\n\n<p>If you can get the <strong>Cobol Copybook</strong>, why not use one of the Cobol / Java packages</p>\n\n<ul>\n<li><a href=\"https://sourceforge.net/projects/jrecord/\" rel=\"noreferrer\">JRecord</a></li>\n<li><a href=\"https://sourceforge.net/projects/cobol2j/\" rel=\"noreferrer\">Cobol2J</a></li>\n<li><strong>Legstar</strong></li>\n<li><strong>IBM</strong> has software for this </li>\n</ul>\n\n<p><strong>Note:</strong> Even if you do not have the Full Cobol Copybook, you could set up a Cobol Copybook for this one field and still use a package. The copybook would be:</p>\n\n<pre><code>   01  MY-REC.\n       03 FIELD-1              PIC S9(6)V99.\n</code></pre>\n\n<h3>What you need to know</h3>\n\n<p>There is no one single Cobol Zoned Decimal format, it varies from compilere to Compiler and\nwhat the encoding is. To decode <code>Zoned Decimal</code> you really need to know the </p>\n\n<ul>\n<li>The Cobol Compiler</li>\n<li>The Encoding used on the Server</li>\n</ul>\n\n<p>In this case I would guess it is</p>\n\n<ul>\n<li>IBM Compiler running on IBM Mainframe or AS400</li>\n<li>US Ebdic (IBM037) or something similar (definitely not German EBCDIC (IBM273))</li>\n</ul>\n\n<h3>Interpretting Zoned decimal</h3>\n\n<p>In Zoned decimal:</p>\n\n<ul>\n<li><strong>S</strong> indicates it is a signed number; the sign will be <code>overpunched</code> on the last numeric digit.</li>\n<li><strong>9</strong> represents a single digit</li>\n<li><strong>V</strong> represents an <code>assumed</code> decimal place</li>\n</ul>\n\n<p>So <code>s9(6)V99</code> is a signed number with 6 digits before the decimal place + 2 after</p>\n\n<h3>Effect of Encoding</h3>\n\n<p>The <code>encoding</code> (characterset) used by the server determines how the sign digit is represented.\nFor US (and UK) Ebcdic +0/-0 are <code>{ / }</code> but they are different for German Ebcdic.\nFor ASCII servers it is different again</p>\n\n<h3>Java Code</h3>\n\n<p>The ebcdic conversion code (note it still needs to be adjusted for the assumed decimal):</p>\n\n<pre><code>private static int positiveDiff = 'A' - '1';\nprivate static int negativeDiff = 'J' - '1';\n\nprivate static char positive0EbcdicZoned = '{';\nprivate static char negative0EbcdicZoned = '}';\n\npublic static String fromZoned(String numZoned) {\n    String ret;\n    String sign = \"\";\n    char lastChar, ucLastChar;\n\n    if (numZoned == null || ((ret = numZoned.trim()).length() == 0) || ret.equals(\"-\")) {\n        return \"\";\n    }\n\n    lastChar = ret.charAt(ret.length() - 1);\n    ucLastChar = Character.toUpperCase(lastChar);\n\n\n    switch (ucLastChar) {\n    case 'A':\n    case 'B':\n    case 'C':\n    case 'D':\n    case 'E':\n    case 'F':\n    case 'G':\n    case 'H':\n    case 'I':\n        lastChar = (char) (ucLastChar - positiveDiff);\n        break;\n    case 'J':\n    case 'K':\n    case 'L':\n    case 'M':\n    case 'N':\n    case 'O':\n    case 'P':\n    case 'Q':\n    case 'R':\n        sign = \"-\";\n        lastChar = (char) (ucLastChar - negativeDiff);\n        break;\n    default:\n        if (lastChar == positive0EbcdicZoned) {\n            lastChar = '0';\n        } else if (lastChar == negative0EbcdicZoned) {\n            lastChar = '0';\n            sign = \"-\";\n        }           \n    }\n    ret = sign + ret.substring(0, ret.length() - 1) + lastChar;\n\n    return ret;\n}\n</code></pre>\n\n<p>To set <code>+0/-0</code> characters </p>\n\n<pre><code>public static void setDefaultEbcidicCharacterset(String charset) {\n    if (getHold(charset).isEbcdic) {\n        byte[] b = {(byte) 0xC0, (byte) 0xD0};\n        String s = new String(b, charset);\n        if (s.length() == 2) {\n            positive0EbcdicZoned = s.charAt(0);\n            negative0EbcdicZoned = s.charAt(1);\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>An alternative way to derive the sign (for EBCDIC encoding) is to convert the sign back into the raw bytes:</p>\n\n<pre><code>private static final byte HIGH_NYBLE = (byte) 0xf0;\nprivate static final byte ZONED_NEGATIVE_NYBLE_VALUE = (byte) 0xD0;\n\n    String Sign = \"\";\n    byte signByte = signStr.getBytes(encoding)[0];\n    if (((byte) (signByte &amp; HIGH_NYBLE)) == ZONED_NEGATIVE_NYBLE_VALUE) {\n        sign = \"-\";\n    }\n    byte lastDigitBytes = (byte) (signByte | HIGH_NYBLE);\n</code></pre>\n\n<hr>\n\n<h3>ASCII Cobols</h3>\n\n<p>In this case it is EBCDIC. For ASCII based cobols it is different again. This is <a href=\"https://sourceforge.net/projects/jrecord/\" rel=\"noreferrer\">JRecord</a> generic conversion class for Ascii Zoned-Decimal:</p>\n\n<ul>\n<li><a href=\"https://sourceforge.net/p/jrecord/code/HEAD/tree/jrecord/Source/JRecord_Common/src/net/sf/JRecord/Types/TypeFjZoned.java\" rel=\"noreferrer\">https://sourceforge.net/p/jrecord/code/HEAD/tree/jrecord/Source/JRecord_Common/src/net/sf/JRecord/Types/TypeFjZoned.java</a></li>\n</ul>\n\n<p><strong>Note:</strong> I am the author JRecord</p>\n"},{"tags":[],"owner":{"account_id":27380675,"reputation":1,"user_id":20885329,"display_name":"user20885329"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672394841,"creation_date":1672300880,"answer_id":74948594,"question_id":42627885,"body_markdown":"It would be much easier to have cobol in the server move the values into a screen variable like\r\n\r\n```\r\n77 S-VALUE PIC  ------9,99\r\n```\r\n\r\nand export this variable which is easily readable and can be parsed into a Java double variable with:\r\n\r\n```java\r\nDouble value = Double.parseDouble(string);\r\n```\r\n\r\nor \r\n\r\n```java\r\nDouble value = new Double(string);\r\n```","title":"How to parse data to and from cobol s9(6)v99 format in java","body":"<p>It would be much easier to have cobol in the server move the values into a screen variable like</p>\n<pre><code>77 S-VALUE PIC  ------9,99\n</code></pre>\n<p>and export this variable which is easily readable and can be parsed into a Java double variable with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Double value = Double.parseDouble(string);\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Double value = new Double(string);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12154150,"reputation":3,"user_id":8873531,"display_name":"dg1974"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674049592,"creation_date":1674049592,"answer_id":75160214,"question_id":42627885,"body_markdown":"In case its for IBM COBOL, the [JZOS Record Generator][1] with SYSADATA output from the z/OS COBOL compiler can be used to generate a Java Class representing COBOL structures and the getter and setter methods doing the conversions. Its binary (bitwise) compatible to the datatypes/structures in COBOL.\r\nIt can be downloaded for free but requires an IBM ID. For compile outside z/OS the ibmjzos.jar is required, which is part of the JDK for z/OS.\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/record-generator/3.0?topic=what-is-record-generator-java","title":"How to parse data to and from cobol s9(6)v99 format in java","body":"<p>In case its for IBM COBOL, the <a href=\"https://www.ibm.com/docs/en/record-generator/3.0?topic=what-is-record-generator-java\" rel=\"nofollow noreferrer\">JZOS Record Generator</a> with SYSADATA output from the z/OS COBOL compiler can be used to generate a Java Class representing COBOL structures and the getter and setter methods doing the conversions. Its binary (bitwise) compatible to the datatypes/structures in COBOL.\nIt can be downloaded for free but requires an IBM ID. For compile outside z/OS the ibmjzos.jar is required, which is part of the JDK for z/OS.</p>\n"}],"owner":{"account_id":9841032,"reputation":188,"user_id":7290045,"accept_rate":100,"display_name":"Abdul Ahad"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42637411,"answer_count":4,"score":1,"last_activity_date":1674049592,"creation_date":1488809836,"question_id":42627885,"body_markdown":"I am sending and recieving a products information from a server as a String, the server receive and send the price of the product in COBOLS **s9(6)v99** format.I am unable to convert the given decimal from or to this format in java.\r\n\r\nCOBOL s9(6)V99 format exmaples: \r\n\r\n - 0000016H\r\n - 0000000{\r\n\r\n**Note**: Currently I have no implementation of the conversion,I am looking for a solution","title":"How to parse data to and from cobol s9(6)v99 format in java","body":"<p>I am sending and recieving a products information from a server as a String, the server receive and send the price of the product in COBOLS <strong>s9(6)v99</strong> format.I am unable to convert the given decimal from or to this format in java.</p>\n\n<p>COBOL s9(6)V99 format exmaples: </p>\n\n<ul>\n<li>0000016H</li>\n<li>0000000{</li>\n</ul>\n\n<p><strong>Note</strong>: Currently I have no implementation of the conversion,I am looking for a solution</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1674045715,"post_id":75159276,"comment_id":132630215,"body_markdown":"What do you mean by &quot;I can&#39;t send my request&quot;?","body":"What do you mean by &quot;I can&#39;t send my request&quot;?"},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1674045887,"post_id":75159276,"comment_id":132630288,"body_markdown":"You need put what error you got, but probably the error is related to the way you are trying to upload the image putting it in a `byte[]` instead in a `MultipartFile`","body":"You need put what error you got, but probably the error is related to the way you are trying to upload the image putting it in a <code>byte[]</code> instead in a <code>MultipartFile</code>"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674046285,"post_id":75159276,"comment_id":132630433,"body_markdown":"I added it but I still get the same error: 404 not found","body":"I added it but I still get the same error: 404 not found"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674046364,"post_id":75159276,"comment_id":132630465,"body_markdown":"how can I do it ? I added multipart in the controller. sorry i am learning springboot","body":"how can I do it ? I added multipart in the controller. sorry i am learning springboot"}],"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674049371,"creation_date":1674045099,"question_id":75159276,"body_markdown":"I can&#39;t send my request. I have several fields in my entity including an image field.Is it necessary to create an image entity or how to send only with a single entity that contains the field: description, name and image? Thank you very much for help\r\n\r\nentity\r\n```\r\n@Data\r\n@SuperBuilder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class Shop{\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n\r\n    private String name_shop;\r\n\r\n    private String description;\r\n\r\n    private byte[] image;\r\n}\r\n```\r\n\r\nDto\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@Builder\r\npublic class ShopDto {\r\n\r\n    private Integer id;\r\n\r\n    @NotNull(message = &quot;Le nom ne doit pas &#234;tre null&quot;)\r\n    @NotEmpty(message = &quot;le nom ne doit pas &#234;tre vide&quot;)\r\n    private String name_shop;\r\n\r\n    @NotNull(message = &quot;La description ne doit pas &#234;tre null&quot;)\r\n    @NotEmpty(message = &quot;La description ne doit pas &#234;tre vide&quot;)\r\n    private String description;\r\n\r\n    private byte[] image;\r\n\r\n\r\n\r\n    public static ShopDto fromEntity(Shop shop) {\r\n\r\n        return ShopDto.builder()\r\n                .id(shop.getId())\r\n                .name_shop(shop.getName_shop())\r\n                .description(shop.getDescription())\r\n                .image(shop.getImage())\r\n                .build();\r\n    }\r\n\r\n    public static Shop toEntity(ShopDto shop) {\r\n\r\n        return Shop.builder()\r\n                .id(shop.getId())\r\n                .name_shop(shop.getName_shop())\r\n                .description(shop.getDescription())\r\n                .image(shop.getImage();\r\n    }\r\n}\r\n```\r\nController\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/shop&quot;)\r\n@RequiredArgsConstructor\r\npublic class ShopController {\r\n\r\n    private final ShopService shopService;\r\n\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n    @PostMapping(value = &quot;/saveShop&quot;,consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public ResponseEntity&lt;Integer&gt;save(\r\n            @RequestPart(&quot;shopDto&quot;) ShopDto shopDto,\r\n            ) {\r\n        return ResponseEntity.ok(shopService.save(shopDto));\r\n    }\r\n}\r\n```\r\nRepository\r\n```\r\npublic interface ShopRepository extends JpaRepository&lt;Shop, Integer&gt; {\r\n}\r\n```\r\nService\r\n```\r\npublic interface ShopService extends AbstractService&lt;ShopDto&gt;{\r\n}\r\n```\r\nAbstractService\r\n```\r\npublic interface AbstractService&lt;T&gt;{\r\n    Integer save(T dto);\r\n}\r\n```\r\nServiceImpl\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ShopServiceImpl implements ShopService {\r\n    private final ShopRepository shopRepository;\r\n    private final ObjectsValidator&lt;ShopDto&gt; validator;\r\n\r\n    @Override\r\n    public Integer save(ShopDto dto) {\r\n        validator.validate(dto);\r\n        Shop shop = ShopDto.toEntity(dto);\r\n        return shopRepository.save(shop).getId();\r\n    }\r\n}\r\n```\r\n","title":"Entity comprising several fields and an image field. Post request","body":"<p>I can't send my request. I have several fields in my entity including an image field.Is it necessary to create an image entity or how to send only with a single entity that contains the field: description, name and image? Thank you very much for help</p>\n<p>entity</p>\n<pre><code>@Data\n@SuperBuilder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Shop{\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    private String name_shop;\n\n    private String description;\n\n    private byte[] image;\n}\n</code></pre>\n<p>Dto</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@Builder\npublic class ShopDto {\n\n    private Integer id;\n\n    @NotNull(message = &quot;Le nom ne doit pas être null&quot;)\n    @NotEmpty(message = &quot;le nom ne doit pas être vide&quot;)\n    private String name_shop;\n\n    @NotNull(message = &quot;La description ne doit pas être null&quot;)\n    @NotEmpty(message = &quot;La description ne doit pas être vide&quot;)\n    private String description;\n\n    private byte[] image;\n\n\n\n    public static ShopDto fromEntity(Shop shop) {\n\n        return ShopDto.builder()\n                .id(shop.getId())\n                .name_shop(shop.getName_shop())\n                .description(shop.getDescription())\n                .image(shop.getImage())\n                .build();\n    }\n\n    public static Shop toEntity(ShopDto shop) {\n\n        return Shop.builder()\n                .id(shop.getId())\n                .name_shop(shop.getName_shop())\n                .description(shop.getDescription())\n                .image(shop.getImage();\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/shop&quot;)\n@RequiredArgsConstructor\npublic class ShopController {\n\n    private final ShopService shopService;\n\n    @PreAuthorize(&quot;hasAnyRole('ROLE_ADMIN')&quot;)\n    @PostMapping(value = &quot;/saveShop&quot;,consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;Integer&gt;save(\n            @RequestPart(&quot;shopDto&quot;) ShopDto shopDto,\n            ) {\n        return ResponseEntity.ok(shopService.save(shopDto));\n    }\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>public interface ShopRepository extends JpaRepository&lt;Shop, Integer&gt; {\n}\n</code></pre>\n<p>Service</p>\n<pre><code>public interface ShopService extends AbstractService&lt;ShopDto&gt;{\n}\n</code></pre>\n<p>AbstractService</p>\n<pre><code>public interface AbstractService&lt;T&gt;{\n    Integer save(T dto);\n}\n</code></pre>\n<p>ServiceImpl</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ShopServiceImpl implements ShopService {\n    private final ShopRepository shopRepository;\n    private final ObjectsValidator&lt;ShopDto&gt; validator;\n\n    @Override\n    public Integer save(ShopDto dto) {\n        validator.validate(dto);\n        Shop shop = ShopDto.toEntity(dto);\n        return shopRepository.save(shop).getId();\n    }\n}\n</code></pre>\n"},{"tags":["java","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1674038456,"post_id":75157943,"comment_id":132627926,"body_markdown":"What is the value of `desName` inside `.whereEqualTo(&quot;package_name&quot;, desName)`?","body":"What is the value of <code>desName</code> inside <code>.whereEqualTo(&quot;package_name&quot;, desName)</code>?"},{"owner":{"account_id":25847319,"reputation":5,"user_id":19581931,"display_name":"caspernim"},"score":0,"creation_date":1674049017,"post_id":75157943,"comment_id":132631361,"body_markdown":"That&#39;s the destination&#39;s name, desName = intent.getStringExtra(&quot;name&quot;);\nI can see the link of the images in the logcat but it always shows &#39;Load Failed for the firebase link","body":"That&#39;s the destination&#39;s name, desName = intent.getStringExtra(&quot;name&quot;); I can see the link of the images in the logcat but it always shows &#39;Load Failed for the firebase link"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1674049555,"post_id":75157943,"comment_id":132631574,"body_markdown":"And what does `intent.getStringExtra(&quot;name&quot;)` return? What is the exact value?","body":"And what does <code>intent.getStringExtra(&quot;name&quot;)</code> return? What is the exact value?"},{"owner":{"account_id":25847319,"reputation":5,"user_id":19581931,"display_name":"caspernim"},"score":0,"creation_date":1674050074,"post_id":75157943,"comment_id":132631764,"body_markdown":"In this case its &quot;Baguio City&quot;, the activity is a Destination Details holder so it changes depending on which recyclerview card is clicked. Sorry if I can&#39;t explain it clearly, but I edited my code  I hope you can help me on why it won&#39;t load the links thank you","body":"In this case its &quot;Baguio City&quot;, the activity is a Destination Details holder so it changes depending on which recyclerview card is clicked. Sorry if I can&#39;t explain it clearly, but I edited my code  I hope you can help me on why it won&#39;t load the links thank you"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1674050914,"post_id":75157943,"comment_id":132632095,"body_markdown":"Show us the `package_name` field inside the document.","body":"Show us the <code>package_name</code> field inside the document."}],"owner":{"account_id":25847319,"reputation":5,"user_id":19581931,"display_name":"caspernim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674049226,"creation_date":1674038345,"question_id":75157943,"body_markdown":"I&#39;ve been trying to populate my SliderView with an array of images from firestore [see pic.][1]\r\n\r\nThis is my first time working on firestore with array and SliderView so I&#39;m not sure how to fetch it properly.\r\nHere is my code\r\n\r\n    albumRV = findViewById(R.id.albumrv);\r\n        packagesList = new ArrayList&lt;&gt;();\r\n        AlbumAdapter albumAdapter = new AlbumAdapter(getApplicationContext(), packagesList);\r\n        albumRV.setSliderAdapter(albumAdapter);\r\n        albumRV.setIndicatorAnimation(IndicatorAnimationType.WORM);\r\n        albumRV.setSliderTransformAnimation(SliderAnimations.DEPTHTRANSFORMATION);\r\n        albumRV.startAutoCycle();\r\n\r\n        firebaseFirestore.collection(&quot;Destinations&quot;)\r\n                .whereEqualTo(&quot;package_name&quot;, desName)\r\n                .orderBy(&quot;package_images&quot;, Query.Direction.ASCENDING)\r\n                .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                        List listImg = value.getDocumentChanges();\r\n                        if (listImg.isEmpty()) {\r\n                            Toast.makeText(DestinationDetail.this, &quot;NO RECYCLERVIEW&quot;, Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            for (DocumentChange documentChange : value.getDocumentChanges()) {\r\n                                if (documentChange.getType() == DocumentChange.Type.ADDED) {\r\n                                    Log.d(TAG, documentChange.getDocument() + &quot; =&gt; &quot;);\r\n\r\n                                    packagesList.add(documentChange.getDocument().toObject(Packages.class));\r\n                                }\r\n                                albumAdapter.notifyDataSetChanged();\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\nAnd as for my adapter\r\n\r\n    public class AlbumAdapter extends SliderViewAdapter&lt;AlbumAdapter.Holder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;Packages&gt; packagesList;\r\n\r\n\r\n    public AlbumAdapter(Context context, ArrayList&lt;Packages&gt; packagesList) {\r\n        this.context = context;\r\n        this.packagesList = packagesList;\r\n    }\r\n\r\n    @Override\r\n    public AlbumAdapter.Holder onCreateViewHolder(ViewGroup parent) {\r\n        View view = LayoutInflater.from(context)\r\n                .inflate(R.layout.images_single, parent, false);\r\n        return new Holder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(AlbumAdapter.Holder viewHolder, int position) {\r\n        Packages packages = packagesList.get(position);\r\n\r\n        Glide.with(context)\r\n                .load(packagesList.get(position).getPackage_images())\r\n                .thumbnail(0.05f)\r\n                .transition(DrawableTransitionOptions.withCrossFade())\r\n                .diskCacheStrategy(DiskCacheStrategy.DATA)\r\n                .into(viewHolder.img);\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return packagesList.size();\r\n    }\r\n\r\n    public class Holder extends  SliderViewAdapter.ViewHolder{\r\n        ImageView img;\r\n\r\n        public Holder(View itemView){\r\n            super(itemView);\r\n\r\n            img = itemView.findViewById(R.id.imageViewer);\r\n        }\r\n    }\r\n}\r\n\r\n**Edited: \r\ntried fixing it, the link of images show in my logcat but it fails to load inside the imageview\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sSXAM.jpg","title":"How to fetch an array of images from firestore?","body":"<p>I've been trying to populate my SliderView with an array of images from firestore <a href=\"https://i.stack.imgur.com/sSXAM.jpg\" rel=\"nofollow noreferrer\">see pic.</a></p>\n<p>This is my first time working on firestore with array and SliderView so I'm not sure how to fetch it properly.\nHere is my code</p>\n<pre><code>albumRV = findViewById(R.id.albumrv);\n    packagesList = new ArrayList&lt;&gt;();\n    AlbumAdapter albumAdapter = new AlbumAdapter(getApplicationContext(), packagesList);\n    albumRV.setSliderAdapter(albumAdapter);\n    albumRV.setIndicatorAnimation(IndicatorAnimationType.WORM);\n    albumRV.setSliderTransformAnimation(SliderAnimations.DEPTHTRANSFORMATION);\n    albumRV.startAutoCycle();\n\n    firebaseFirestore.collection(&quot;Destinations&quot;)\n            .whereEqualTo(&quot;package_name&quot;, desName)\n            .orderBy(&quot;package_images&quot;, Query.Direction.ASCENDING)\n            .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n                    List listImg = value.getDocumentChanges();\n                    if (listImg.isEmpty()) {\n                        Toast.makeText(DestinationDetail.this, &quot;NO RECYCLERVIEW&quot;, Toast.LENGTH_SHORT).show();\n                    } else {\n                        for (DocumentChange documentChange : value.getDocumentChanges()) {\n                            if (documentChange.getType() == DocumentChange.Type.ADDED) {\n                                Log.d(TAG, documentChange.getDocument() + &quot; =&gt; &quot;);\n\n                                packagesList.add(documentChange.getDocument().toObject(Packages.class));\n                            }\n                            albumAdapter.notifyDataSetChanged();\n\n                        }\n                    }\n                }\n            });\n</code></pre>\n<p>And as for my adapter</p>\n<pre><code>public class AlbumAdapter extends SliderViewAdapter&lt;AlbumAdapter.Holder&gt; {\n\nContext context;\nArrayList&lt;Packages&gt; packagesList;\n\n\npublic AlbumAdapter(Context context, ArrayList&lt;Packages&gt; packagesList) {\n    this.context = context;\n    this.packagesList = packagesList;\n}\n\n@Override\npublic AlbumAdapter.Holder onCreateViewHolder(ViewGroup parent) {\n    View view = LayoutInflater.from(context)\n            .inflate(R.layout.images_single, parent, false);\n    return new Holder(view);\n}\n\n@Override\npublic void onBindViewHolder(AlbumAdapter.Holder viewHolder, int position) {\n    Packages packages = packagesList.get(position);\n\n    Glide.with(context)\n            .load(packagesList.get(position).getPackage_images())\n            .thumbnail(0.05f)\n            .transition(DrawableTransitionOptions.withCrossFade())\n            .diskCacheStrategy(DiskCacheStrategy.DATA)\n            .into(viewHolder.img);\n}\n\n@Override\npublic int getCount() {\n    return packagesList.size();\n}\n\npublic class Holder extends  SliderViewAdapter.ViewHolder{\n    ImageView img;\n\n    public Holder(View itemView){\n        super(itemView);\n\n        img = itemView.findViewById(R.id.imageViewer);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>**Edited:\ntried fixing it, the link of images show in my logcat but it fails to load inside the imageview</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1674049055,"post_id":75160063,"comment_id":132631375,"body_markdown":"You cannot start activities from the background on modern versions of Android.","body":"You cannot start activities from the background on modern versions of Android."},{"owner":{"account_id":13828792,"reputation":360,"user_id":9982309,"display_name":"JTInfinite"},"score":0,"creation_date":1674049373,"post_id":75160063,"comment_id":132631514,"body_markdown":"@CommonsWare what would be the recommended procedure for bringing an app to the fore if indeed it is still running?","body":"@CommonsWare what would be the recommended procedure for bringing an app to the fore if indeed it is still running?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1674053242,"post_id":75160063,"comment_id":132633022,"body_markdown":"You could display a `Notification`.","body":"You could display a <code>Notification</code>."},{"owner":{"account_id":13828792,"reputation":360,"user_id":9982309,"display_name":"JTInfinite"},"score":0,"creation_date":1674056877,"post_id":75160063,"comment_id":132634429,"body_markdown":"@CommonsWare thanks. That&#39;s the route I&#39;ve chosen to go down which seems to be working. I assume I can&#39;t programmatically open the app because android wants to restrict that to a user click i.e. a notification click?","body":"@CommonsWare thanks. That&#39;s the route I&#39;ve chosen to go down which seems to be working. I assume I can&#39;t programmatically open the app because android wants to restrict that to a user click i.e. a notification click?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1674057129,"post_id":75160063,"comment_id":132634528,"body_markdown":"I think more specifically they want to prevent apps from interrupting the user. For example, if the user has a navigation app in the foreground, and your app decides it should take over the foreground, you might cause a car crash.","body":"I think more specifically they want to prevent apps from interrupting the user. For example, if the user has a navigation app in the foreground, and your app decides it should take over the foreground, you might cause a car crash."},{"owner":{"account_id":13828792,"reputation":360,"user_id":9982309,"display_name":"JTInfinite"},"score":0,"creation_date":1674072761,"post_id":75160063,"comment_id":132639660,"body_markdown":"@CommonsWare thanks for the insight. Makes total sense.","body":"@CommonsWare thanks for the insight. Makes total sense."}],"owner":{"account_id":13828792,"reputation":360,"user_id":9982309,"display_name":"JTInfinite"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674048932,"creation_date":1674048932,"question_id":75160063,"body_markdown":"This code does not bring my app to the front when the user has pressed the home button and the app has receded to the background. There are no error messages:\r\n\r\n```\r\nLog.d(TAG, &quot;Bringing app to foreground&quot;);\r\nIntent launchIntent = new Intent(Intent.ACTION_MAIN);\r\nlaunchIntent.addCategory(Intent.CATEGORY_LAUNCHER);\r\nComponentName componentName = new ComponentName(context.getPackageName(), context.getPackageName() + &quot;.MainActivity&quot;);\r\nlaunchIntent.setComponent(componentName);\r\ntry {\r\n     Log.d(TAG, &quot;Launching intent&quot;);\r\n     context.startActivity(launchIntent);\r\n} catch (Exception e) {\r\n      Log.e(TAG, e.getMessage());\r\n}\r\n```\r\nThere are a number of questions asking the same thing and I seem to have tried all of the answers to no avail.\r\n\r\nThis is my android manifest:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.mystuff.myapp&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/title_activity_main&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n        &lt;/activity&gt;\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\r\n        &lt;/provider&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;queries&gt;\r\n        &lt;package android:name=&quot;com.mystuff.myapp&quot; /&gt;\r\n    &lt;/queries&gt;\r\n\r\n    &lt;!-- Permissions --&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.location.gps&quot; /&gt;\r\n&lt;/manifest&gt;","title":"Android - Bringing a background app to the front","body":"<p>This code does not bring my app to the front when the user has pressed the home button and the app has receded to the background. There are no error messages:</p>\n<pre><code>Log.d(TAG, &quot;Bringing app to foreground&quot;);\nIntent launchIntent = new Intent(Intent.ACTION_MAIN);\nlaunchIntent.addCategory(Intent.CATEGORY_LAUNCHER);\nComponentName componentName = new ComponentName(context.getPackageName(), context.getPackageName() + &quot;.MainActivity&quot;);\nlaunchIntent.setComponent(componentName);\ntry {\n     Log.d(TAG, &quot;Launching intent&quot;);\n     context.startActivity(launchIntent);\n} catch (Exception e) {\n      Log.e(TAG, e.getMessage());\n}\n</code></pre>\n<p>There are a number of questions asking the same thing and I seem to have tried all of the answers to no avail.</p>\n<p>This is my android manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.mystuff.myapp&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;activity\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\n            android:name=&quot;.MainActivity&quot;\n            android:label=&quot;@string/title_activity_main&quot;\n            android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\n        &lt;/provider&gt;\n    &lt;/application&gt;\n\n    &lt;queries&gt;\n        &lt;package android:name=&quot;com.mystuff.myapp&quot; /&gt;\n    &lt;/queries&gt;\n\n    &lt;!-- Permissions --&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.location.gps&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","maven","pom.xml","el"],"answers":[{"tags":[],"owner":{"account_id":18581852,"reputation":11,"user_id":13541219,"display_name":"Jay Xu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674048869,"creation_date":1591211932,"answer_id":62180994,"question_id":62179248,"body_markdown":" I found that I should use the replaceAll method instead of replace method.","title":"Convert the EL functions represented version in the pom to the ACTUAL values maintained in properties tag","body":"<p>I found that I should use the replaceAll method instead of replace method.</p>\n"}],"owner":{"account_id":18581852,"reputation":11,"user_id":13541219,"display_name":"Jay Xu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674048869,"creation_date":1591206028,"question_id":62179248,"body_markdown":"I have a problem when using xpp3 to get the version of an artifact when the version is maintained in &lt;properties&gt; tag. \r\nI used the `org.apache.maven.model.io.xpp3.MavenXpp3Reader` to get the model, then get the Properties\r\n```\r\nMavenXpp3Reader pomReader = new MavenXpp3Reader();\r\nFileReader fileReader = new FileReader(pom);\r\nmodel = pomReader.read(fileReader);\r\n\r\n//e.g. ${rsfutil.version}-sakai_${sakairsf.sakai.version}\r\nString version = pomModel.getVersion();\r\n\r\nProperties properties = pomModel.getProperties();\r\nEnumeration&lt;?&gt; enumeration = properties.propertyNames();\r\n\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\nwhile (enumeration.hasMoreElements()){\r\n     Object o = enumeration.nextElement();\r\n     list.add((String)o);\r\n}\r\n\r\n\r\nfor (String string : list) {\r\n    if (version.contains(string)){\r\n       String property = properties.getProperty(string);\r\n       version = version.replace(Pattern.quote(&quot;${&quot;+string+&quot;}&quot;), property);\r\n    }\r\n}\r\nSystem.out.println(version);\r\n```\r\nEven the regex matched, the replace method still doesn&#39;t work.\r\n\r\nAnd the pom is like this:\r\n```\r\n  &lt;artifactId&gt;SakaiRSFComponents-evolvers&lt;/artifactId&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;uk.org.ponder.pure-poms&lt;/groupId&gt;\r\n    &lt;artifactId&gt;standard-sakai-tool&lt;/artifactId&gt;\r\n    &lt;version&gt;POM-4&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;name&gt;Sakai RSF Components Evolvers&lt;/name&gt;\r\n  &lt;groupId&gt;uk.org.ponder.sakairsf&lt;/groupId&gt;\r\n  &lt;properties&gt;\r\n    &lt;sakairsf.sakai.version&gt;2.2.x&lt;/sakairsf.sakai.version&gt;\r\n    &lt;rsfutil.version&gt;0.7.4&lt;/rsfutil.version&gt;\r\n    &lt;ponderutilcore.version&gt;1.2.4&lt;/ponderutilcore.version&gt;\r\n    &lt;jservletutil.version&gt;1.2.4&lt;/jservletutil.version&gt;\r\n    &lt;sakai.version&gt;[2.2.0,2.7.0)&lt;/sakai.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;version&gt;${rsfutil.version}-sakai_${sakairsf.sakai.version}&lt;/version&gt;\r\n...\r\n```\r\nAll I want to do is getting the actual version `0.7.4-sakai_2.2.x` instead of `${rsfutil.version}-sakai_${sakairsf.sakai.version}` .\r\n\r\nThanks!","title":"Convert the EL functions represented version in the pom to the ACTUAL values maintained in properties tag","body":"<p>I have a problem when using xpp3 to get the version of an artifact when the version is maintained in  tag. \nI used the <code>org.apache.maven.model.io.xpp3.MavenXpp3Reader</code> to get the model, then get the Properties</p>\n\n<pre><code>MavenXpp3Reader pomReader = new MavenXpp3Reader();\nFileReader fileReader = new FileReader(pom);\nmodel = pomReader.read(fileReader);\n\n//e.g. ${rsfutil.version}-sakai_${sakairsf.sakai.version}\nString version = pomModel.getVersion();\n\nProperties properties = pomModel.getProperties();\nEnumeration&lt;?&gt; enumeration = properties.propertyNames();\n\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\nwhile (enumeration.hasMoreElements()){\n     Object o = enumeration.nextElement();\n     list.add((String)o);\n}\n\n\nfor (String string : list) {\n    if (version.contains(string)){\n       String property = properties.getProperty(string);\n       version = version.replace(Pattern.quote(\"${\"+string+\"}\"), property);\n    }\n}\nSystem.out.println(version);\n</code></pre>\n\n<p>Even the regex matched, the replace method still doesn't work.</p>\n\n<p>And the pom is like this:</p>\n\n<pre><code>  &lt;artifactId&gt;SakaiRSFComponents-evolvers&lt;/artifactId&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;uk.org.ponder.pure-poms&lt;/groupId&gt;\n    &lt;artifactId&gt;standard-sakai-tool&lt;/artifactId&gt;\n    &lt;version&gt;POM-4&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;name&gt;Sakai RSF Components Evolvers&lt;/name&gt;\n  &lt;groupId&gt;uk.org.ponder.sakairsf&lt;/groupId&gt;\n  &lt;properties&gt;\n    &lt;sakairsf.sakai.version&gt;2.2.x&lt;/sakairsf.sakai.version&gt;\n    &lt;rsfutil.version&gt;0.7.4&lt;/rsfutil.version&gt;\n    &lt;ponderutilcore.version&gt;1.2.4&lt;/ponderutilcore.version&gt;\n    &lt;jservletutil.version&gt;1.2.4&lt;/jservletutil.version&gt;\n    &lt;sakai.version&gt;[2.2.0,2.7.0)&lt;/sakai.version&gt;\n  &lt;/properties&gt;\n  &lt;version&gt;${rsfutil.version}-sakai_${sakairsf.sakai.version}&lt;/version&gt;\n...\n</code></pre>\n\n<p>All I want to do is getting the actual version <code>0.7.4-sakai_2.2.x</code> instead of <code>${rsfutil.version}-sakai_${sakairsf.sakai.version}</code> .</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","google-sheets-api"],"answers":[{"tags":[],"owner":{"account_id":1964117,"reputation":1853,"user_id":1764803,"accept_rate":67,"display_name":"Ihor Bykov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655165776,"creation_date":1655165776,"answer_id":72610289,"question_id":72609855,"body_markdown":"Can you try to run `gradlew -q app:dependencies`. \r\nIt should help to identify missing dependencies ","title":"Best way to read/write data to Google Sheets","body":"<p>Can you try to run <code>gradlew -q app:dependencies</code>.\nIt should help to identify missing dependencies</p>\n"},{"tags":[],"owner":{"account_id":21672030,"reputation":19,"user_id":15989534,"display_name":"Flochocinco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674048623,"creation_date":1674048623,"answer_id":75159990,"question_id":72609855,"body_markdown":"Best way is to use google service throuh Google Cloud Platform (GCP)\r\n\r\nOne needs to create Google Cloud Platform (free) client ID for android. read this page: https://developers.google.com/fit/android/get-api-key\r\n\r\n    class GoogleHandler {\r\n    private Sheets service;\r\n    private Exception mLastError = null;\r\n\r\n    public GoogleHandler(GoogleAccountCredential credential){\r\n        NetHttpTransport HTTP_TRANSPORT = new com.google.api.client.http.javanet.NetHttpTransport();\r\n        JsonFactory jsonFactory = GsonFactory.getDefaultInstance();\r\n        this.service = new Sheets.Builder(HTTP_TRANSPORT,jsonFactory,credential)\r\n                .setApplicationName(&quot;XXXXXXXXXXXXXXXXXXXXXXXX&quot;)\r\n                .build();\r\n    }\r\n\r\n    public void readCurrentWarehouse(){\r\n        Thread thread = new Thread(){\r\n            public void run(){\r\n                String spreadsheetId = &quot;&quot;;\r\n                try{\r\n                    Spreadsheet spreadsheet = service.spreadsheets().get(spreadsheetId).execute();\r\n                    Sheet lastSheet = spreadsheet.getSheets().get(spreadsheet.getSheets().size()-1);\r\n                    String range = lastSheet.getProperties().getTitle();\r\n                    List&lt;String&gt; results = new ArrayList&lt;String&gt;();\r\n                    ValueRange response = service.spreadsheets().values().get(spreadsheetId,range).execute();\r\n                    List&lt;List&lt;Object&gt;&gt; values = response.getValues();\r\n                    if (values!=null){\r\n                        for (List row : values){\r\n                            results.add(row.get(0).toString());\r\n                        }\r\n                    }\r\n                    System.out.println(results.size());\r\n\r\n                }catch (IOException e){\r\n                    System.out.println(&quot;-------------------------------&quot;);\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n        thread.start();\r\n    }\r\n}","title":"Best way to read/write data to Google Sheets","body":"<p>Best way is to use google service throuh Google Cloud Platform (GCP)</p>\n<p>One needs to create Google Cloud Platform (free) client ID for android. read this page: <a href=\"https://developers.google.com/fit/android/get-api-key\" rel=\"nofollow noreferrer\">https://developers.google.com/fit/android/get-api-key</a></p>\n<pre><code>class GoogleHandler {\nprivate Sheets service;\nprivate Exception mLastError = null;\n\npublic GoogleHandler(GoogleAccountCredential credential){\n    NetHttpTransport HTTP_TRANSPORT = new com.google.api.client.http.javanet.NetHttpTransport();\n    JsonFactory jsonFactory = GsonFactory.getDefaultInstance();\n    this.service = new Sheets.Builder(HTTP_TRANSPORT,jsonFactory,credential)\n            .setApplicationName(&quot;XXXXXXXXXXXXXXXXXXXXXXXX&quot;)\n            .build();\n}\n\npublic void readCurrentWarehouse(){\n    Thread thread = new Thread(){\n        public void run(){\n            String spreadsheetId = &quot;&quot;;\n            try{\n                Spreadsheet spreadsheet = service.spreadsheets().get(spreadsheetId).execute();\n                Sheet lastSheet = spreadsheet.getSheets().get(spreadsheet.getSheets().size()-1);\n                String range = lastSheet.getProperties().getTitle();\n                List&lt;String&gt; results = new ArrayList&lt;String&gt;();\n                ValueRange response = service.spreadsheets().values().get(spreadsheetId,range).execute();\n                List&lt;List&lt;Object&gt;&gt; values = response.getValues();\n                if (values!=null){\n                    for (List row : values){\n                        results.add(row.get(0).toString());\n                    }\n                }\n                System.out.println(results.size());\n\n            }catch (IOException e){\n                System.out.println(&quot;-------------------------------&quot;);\n                e.printStackTrace();\n            }\n        }\n    };\n    thread.start();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":21672030,"reputation":19,"user_id":15989534,"display_name":"Flochocinco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75159990,"answer_count":2,"score":0,"last_activity_date":1674048623,"creation_date":1655160534,"question_id":72609855,"body_markdown":"I&#39;m trying to create an Android app (Java) to read and write data to a GoogleSheet.\r\n\r\nI followed this guide:\r\nhttps://developers.google.com/sheets/api/quickstart/java\r\n\r\nbut I got following error stack:\r\n```\r\nCaused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.sun.net.httpserver.HttpServer&quot; on path: DexPathList[[dex file &quot;/data/data/cn.leo.zxingview/code_cache/.overlay/base.apk/classes7.dex&quot;, zip file &quot;/data/app/~~3LMO7u4xh20M6CUbBAGxyw==/cn.leo.zxingview-TgsY52whz0D3_gD6p0ZalA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~3LMO7u4xh20M6CUbBAGxyw==/cn.leo.zxingview-TgsY52whz0D3_gD6p0ZalA==/lib/arm64, /system/lib64, /system/system_ext/lib64, /product/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver.getRedirectUri(LocalServerReceiver.java:127)\r\n```\r\n\r\nHere is the content of build.gradle dependencies section:\r\n```\r\ndependencies {\r\n    implementation &#39;com.google.oauth-client:google-oauth-client-jetty:1.32.1&#39;\r\n    implementation &#39;com.google.auth:google-auth-library-oauth2-http:0.26.0&#39;\r\n    implementation &#39;com.google.apis:google-api-services-sheets:v4-rev20210629-1.32.1&#39;\r\n    implementation &#39;com.google.apis:google-api-services-drive:v3-rev20211107-1.32.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:15.0.1&#39;\r\n    implementation &#39;pub.devrel:easypermissions:0.3.0&#39;\r\n    implementation(&#39;com.google.api-client:google-api-client-android:1.33.0&#39;) {\r\n        exclude group: &#39;org.apache.httpcomponents&#39;\r\n    }\r\n}\r\n```\r\n\r\nI know this guide has been made for java, I&#39;m surprised google doc doesn&#39;t point to an android guide...\r\n\r\nDoes anyone have an hint for me ?\r\n\r\nThanks in advance,\r\n","title":"Best way to read/write data to Google Sheets","body":"<p>I'm trying to create an Android app (Java) to read and write data to a GoogleSheet.</p>\n<p>I followed this guide:\n<a href=\"https://developers.google.com/sheets/api/quickstart/java\" rel=\"nofollow noreferrer\">https://developers.google.com/sheets/api/quickstart/java</a></p>\n<p>but I got following error stack:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.sun.net.httpserver.HttpServer&quot; on path: DexPathList[[dex file &quot;/data/data/cn.leo.zxingview/code_cache/.overlay/base.apk/classes7.dex&quot;, zip file &quot;/data/app/~~3LMO7u4xh20M6CUbBAGxyw==/cn.leo.zxingview-TgsY52whz0D3_gD6p0ZalA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~3LMO7u4xh20M6CUbBAGxyw==/cn.leo.zxingview-TgsY52whz0D3_gD6p0ZalA==/lib/arm64, /system/lib64, /system/system_ext/lib64, /product/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver.getRedirectUri(LocalServerReceiver.java:127)\n</code></pre>\n<p>Here is the content of build.gradle dependencies section:</p>\n<pre><code>dependencies {\n    implementation 'com.google.oauth-client:google-oauth-client-jetty:1.32.1'\n    implementation 'com.google.auth:google-auth-library-oauth2-http:0.26.0'\n    implementation 'com.google.apis:google-api-services-sheets:v4-rev20210629-1.32.1'\n    implementation 'com.google.apis:google-api-services-drive:v3-rev20211107-1.32.1'\n    implementation 'com.google.android.gms:play-services-auth:15.0.1'\n    implementation 'pub.devrel:easypermissions:0.3.0'\n    implementation('com.google.api-client:google-api-client-android:1.33.0') {\n        exclude group: 'org.apache.httpcomponents'\n    }\n}\n</code></pre>\n<p>I know this guide has been made for java, I'm surprised google doc doesn't point to an android guide...</p>\n<p>Does anyone have an hint for me ?</p>\n<p>Thanks in advance,</p>\n"},{"tags":["java","null","pass-by-reference","pass-by-value"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1674049969,"post_id":75159765,"comment_id":132631726,"body_markdown":"It doesn&#39;t matter whether you write `s = new Student();` or `s = null;` within the `change()` method - both statements change the local reference `s` but that change doesn&#39;t propagate to the caller.","body":"It doesn&#39;t matter whether you write <code>s = new Student();</code> or <code>s = null;</code> within the <code>change()</code> method - both statements change the local reference <code>s</code> but that change doesn&#39;t propagate to the caller."},{"owner":{"account_id":2515237,"reputation":355,"user_id":2186831,"accept_rate":50,"display_name":"user2186831"},"score":0,"creation_date":1674051569,"post_id":75159765,"comment_id":132632357,"body_markdown":"@ThomasKl&#228;ger Then how come the change in `changeValue()` method propagated to the caller. There also, the local variable s is only changed right. I am missing something. Can you help me understand please.","body":"@ThomasKl&#228;ger Then how come the change in <code>changeValue()</code> method propagated to the caller. There also, the local variable s is only changed right. I am missing something. Can you help me understand please."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1674053830,"post_id":75159765,"comment_id":132633266,"body_markdown":"In the `changeValue` method you modify the `Student` referenced by `s`. Both the local variable `s` in the main method and the parameter `s` in the `changeValue` mthod reference the same `Student` object - but this is explained in the linked question https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","body":"In the <code>changeValue</code> method you modify the <code>Student</code> referenced by <code>s</code>. Both the local variable <code>s</code> in the main method and the parameter <code>s</code> in the <code>changeValue</code> mthod reference the same <code>Student</code> object - but this is explained in the linked question <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"}],"owner":{"account_id":2515237,"reputation":355,"user_id":2186831,"accept_rate":50,"display_name":"user2186831"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674047632,"answer_count":0,"score":0,"last_activity_date":1674048448,"creation_date":1674047514,"question_id":75159765,"body_markdown":"Can someone please explain the output of the below code. Why is line 5 not printing null but line 8 printing the updated values from changeValue method. I saw many posts about pass by value but they don&#39;t give details about the assigning the &quot;null&quot; reference.\r\n\r\n    public class ObjectPassbyvalueTest {\r\n\tpublic static void main(String[] args) {\r\n\t\tStudent s = new Student(&quot;A&quot;);\r\n\t\tchange(s);\r\n\t\tSystem.out.println(s); // Why is this printing the Student Object and\r\n\t\t\t\t\t\t\t\t// not null?\r\n\r\n\t\tchangeValue(s);\r\n\t\tSystem.out.println(s); // This is printing the updated Student Object\r\n\t\t\t\t\t\t\t\t// with name &quot;B&quot;\r\n\t}\r\n\r\n\tpublic static void change(Student s) {\r\n\t\ts = null;\r\n\t}\r\n\r\n\tpublic static void changeValue(Student s) {\r\n\t\ts.name = &quot;B&quot;;\r\n\t}\r\n}\r\n\r\n    class Student {\r\n\tString name;\r\n\r\n\tpublic Student(String name) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Student [name=&quot; + name + &quot;]&quot;;\r\n\t}\r\n}\r\n\r\nOutput:\r\nStudent [name=A]\r\nStudent [name=B]","title":"Why does assigning a null reference in the calling method does not reflect in the caller","body":"<p>Can someone please explain the output of the below code. Why is line 5 not printing null but line 8 printing the updated values from changeValue method. I saw many posts about pass by value but they don't give details about the assigning the &quot;null&quot; reference.</p>\n<pre><code>public class ObjectPassbyvalueTest {\npublic static void main(String[] args) {\n    Student s = new Student(&quot;A&quot;);\n    change(s);\n    System.out.println(s); // Why is this printing the Student Object and\n                            // not null?\n\n    changeValue(s);\n    System.out.println(s); // This is printing the updated Student Object\n                            // with name &quot;B&quot;\n}\n\npublic static void change(Student s) {\n    s = null;\n}\n\npublic static void changeValue(Student s) {\n    s.name = &quot;B&quot;;\n}\n</code></pre>\n<p>}</p>\n<pre><code>class Student {\nString name;\n\npublic Student(String name) {\n    super();\n    this.name = name;\n}\n\n@Override\npublic String toString() {\n    return &quot;Student [name=&quot; + name + &quot;]&quot;;\n}\n</code></pre>\n<p>}</p>\n<p>Output:\nStudent [name=A]\nStudent [name=B]</p>\n"},{"tags":["java","server"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1473336682,"post_id":39390509,"comment_id":66107138,"body_markdown":"You can copy it, unless something is preventing you.","body":"You can copy it, unless something is preventing you."},{"owner":{"account_id":4509545,"reputation":574,"user_id":3666056,"accept_rate":62,"display_name":"jordaniac89"},"score":1,"creation_date":1473343422,"post_id":39390509,"comment_id":66112132,"body_markdown":"You could also write a web service that serves up the log files via a GET method.","body":"You could also write a web service that serves up the log files via a GET method."}],"answers":[{"tags":[],"owner":{"account_id":7473449,"reputation":391,"user_id":5680582,"display_name":"Gal Nitzan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1473336944,"creation_date":1473336944,"answer_id":39390641,"question_id":39390509,"body_markdown":"You could use an SSH library like [JSCH][1]\r\n\r\n\r\nand do something like [scp from example][2]\r\n\r\nHTH,\r\n\r\nGal\r\n\r\n  [1]: http://www.jcraft.com/jsch/\r\n  [2]: http://www.jcraft.com/jsch/examples/ScpFrom.java.html","title":"Java - Get log file from a server","body":"<p>You could use an SSH library like <a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow\">JSCH</a></p>\n\n<p>and do something like <a href=\"http://www.jcraft.com/jsch/examples/ScpFrom.java.html\" rel=\"nofollow\">scp from example</a></p>\n\n<p>HTH,</p>\n\n<p>Gal</p>\n"}],"owner":{"account_id":8177183,"reputation":433,"user_id":6155583,"accept_rate":100,"display_name":"Drextor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39390641,"answer_count":1,"score":1,"last_activity_date":1674048431,"creation_date":1473336517,"question_id":39390509,"body_markdown":"I have a Java Application and want to read in a log file. But this log file be located on a intern Server.\r\n\r\nI want to get this file ( like WinSCP ) from the server to my Application and read the file data in. How can I do this ?\r\n","title":"Java - Get log file from a server","body":"<p>I have a Java Application and want to read in a log file. But this log file be located on a intern Server.</p>\n\n<p>I want to get this file ( like WinSCP ) from the server to my Application and read the file data in. How can I do this ?</p>\n"},{"tags":["java","regex","regex-group"],"comments":[{"owner":{"account_id":17253187,"reputation":15250,"user_id":12492890,"display_name":"lemon"},"score":1,"creation_date":1674042219,"post_id":75158700,"comment_id":132629075,"body_markdown":"Avoid using `.*` if you can&#39;t control it&#39;s range of effect.","body":"Avoid using <code>.*</code> if you can&#39;t control it&#39;s range of effect."},{"owner":{"account_id":26879814,"reputation":195,"user_id":20460458,"display_name":"Marja van der Wind"},"score":1,"creation_date":1674043421,"post_id":75158700,"comment_id":132629493,"body_markdown":"Your question is quite unclear to me, as it starts with &#39;I have tried alternatives&#39;. Can you explain what goes wrong and what you expect?","body":"Your question is quite unclear to me, as it starts with &#39;I have tried alternatives&#39;. Can you explain what goes wrong and what you expect?"},{"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"score":0,"creation_date":1674045708,"post_id":75158700,"comment_id":132630211,"body_markdown":"@MarjavanderWind https://www.regular-expressions.info/alternation.html\n\nI expect to be able to parse a string like X(1) as (X,{1,&quot;&quot;) and as string like X(Y(1)Z(1) as (X,{{Y,1},{Z,1}) the issue I&#39;&#39;m having is that i need to be able to have alternate capture groups depending on if it&#39;s a single value, or if it is a &quot;map&quot;.","body":"@MarjavanderWind <a href=\"https://www.regular-expressions.info/alternation.html\" rel=\"nofollow noreferrer\">regular-expressions.info/alternation.html</a>  I expect to be able to parse a string like X(1) as (X,{1,&quot;&quot;) and as string like X(Y(1)Z(1) as (X,{{Y,1},{Z,1}) the issue I&#39;&#39;m having is that i need to be able to have alternate capture groups depending on if it&#39;s a single value, or if it is a &quot;map&quot;."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674048428,"creation_date":1674048428,"answer_id":75159946,"question_id":75158700,"body_markdown":"Since you seem to process your data line by line and the comment in your snippet indicates that your data is well formed, you could first extract the whole content of the outter braces and then check if the value contains any nested key-value pairs. With some modifications to your regex, something like below might be what you are looking for:\r\n\r\n    public static void main(final String[] args) {\r\n\r\n        Pattern outerPattern = Pattern.compile(&quot;([A-Z]+)\\\\((.*)\\\\)&quot;);\r\n        Pattern innerPattern = Pattern.compile(&quot;([A-Z]+)\\\\(([^()]*)\\\\)&quot;);\r\n\r\n        String input = &quot;&quot;&quot;\r\n                VALUE(123)\r\n                OUTERVALUE(INNERVALUE(123)OTHERVALUE(456))\r\n                &quot;&quot;&quot;;\r\n\r\n        Map&lt;String, Map&lt;String, String&gt;&gt; outer = new HashMap&lt;&gt;();\r\n\r\n        input.lines().forEach(line -&gt; {\r\n            Matcher matcher = outerPattern.matcher(line);\r\n            matcher.find();\r\n\r\n            String key   = matcher.group(1);\r\n            String value = matcher.group(2);\r\n\r\n            Map&lt;String, String&gt; innerMap = new HashMap&lt;&gt;();\r\n\r\n            if (!innerPattern.asPredicate().test(value)) {       //check if value doesn&#39;t contain any nested key-value-pairs\r\n                innerMap.put(value, &quot;&quot;);\r\n            } else {\r\n                Matcher valueMatcher = innerPattern.matcher(value);\r\n                while (valueMatcher.find()) {\r\n                    innerMap.put(valueMatcher.group(1), valueMatcher.group(2));\r\n                }\r\n            }\r\n            outer.put(key, innerMap);\r\n        });\r\n\r\n        System.out.println(outer);\r\n    }","title":"Regex reset capture groups","body":"<p>Since you seem to process your data line by line and the comment in your snippet indicates that your data is well formed, you could first extract the whole content of the outter braces and then check if the value contains any nested key-value pairs. With some modifications to your regex, something like below might be what you are looking for:</p>\n<pre><code>public static void main(final String[] args) {\n\n    Pattern outerPattern = Pattern.compile(&quot;([A-Z]+)\\\\((.*)\\\\)&quot;);\n    Pattern innerPattern = Pattern.compile(&quot;([A-Z]+)\\\\(([^()]*)\\\\)&quot;);\n\n    String input = &quot;&quot;&quot;\n            VALUE(123)\n            OUTERVALUE(INNERVALUE(123)OTHERVALUE(456))\n            &quot;&quot;&quot;;\n\n    Map&lt;String, Map&lt;String, String&gt;&gt; outer = new HashMap&lt;&gt;();\n\n    input.lines().forEach(line -&gt; {\n        Matcher matcher = outerPattern.matcher(line);\n        matcher.find();\n\n        String key   = matcher.group(1);\n        String value = matcher.group(2);\n\n        Map&lt;String, String&gt; innerMap = new HashMap&lt;&gt;();\n\n        if (!innerPattern.asPredicate().test(value)) {       //check if value doesn't contain any nested key-value-pairs\n            innerMap.put(value, &quot;&quot;);\n        } else {\n            Matcher valueMatcher = innerPattern.matcher(value);\n            while (valueMatcher.find()) {\n                innerMap.put(valueMatcher.group(1), valueMatcher.group(2));\n            }\n        }\n        outer.put(key, innerMap);\n    });\n\n    System.out.println(outer);\n}\n</code></pre>\n"}],"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674048428,"creation_date":1674042054,"question_id":75158700,"body_markdown":"I have tried alterations using &#39;|&#39; but seems to be impossible to first parse map if possible, if not, just parse the value as a whole, but keeping the capture group as no 1/2, tried with branch reset group but didn&#39;t manage that way either. Any suggestions are welcome.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    class Scratch {\r\n    \r\n      public static void main(String[] args) {\r\n\r\n        final Pattern outerKeyPattern = Pattern.compile(&quot;([A-Z]+)\\\\((.*)\\\\)&quot;, Pattern.MULTILINE);\r\n        final Pattern innerPattern = Pattern.compile(&quot;([A-Z]+)\\\\((.*?)\\\\)&quot;);\r\n\r\n        // There will always be a value in the outer, \r\n        // but sometimes it&#39;s an inner map, i.e only need to solve this case, no other exeptions\r\n     \r\n        String input = &quot;&quot;&quot;\r\n          VALUE(123)\r\n          OUTERVALUE(INNERVALUE(123)OTHERVALUE(456))\r\n          &quot;&quot;&quot;;\r\n    \r\n        Map&lt;String, Map&lt;String, String&gt;&gt; outer = new HashMap&lt;&gt;();\r\n        Matcher matcher = outerKeyPattern.matcher(input);\r\n        while (matcher.find()) {\r\n          String key = matcher.group(1);\r\n          String value = matcher.group(2);\r\n          Matcher valueMatcher = innerPattern.matcher(value);\r\n          Map&lt;String, String&gt; innerMap = new HashMap&lt;&gt;();\r\n          while (valueMatcher.find()) {\r\n            innerMap.put(valueMatcher.group(1), valueMatcher.group(2));\r\n          }\r\n          outer.put(key, innerMap);\r\n        }\r\n    \r\n        System.out.println(outer);\r\n      }\r\n    }\r\n\r\nyields output:\r\n\r\n    {VALUE={}, OUTERVALUE={INNERVALUE=123, OTHERVALUE=456}}\r\n\r\nI need to parse value also as key for the inner map and it&#39;s value as null:\r\n\r\n    {VALUE={123=}, OUTERVALUE={INNERVALUE=123, OTHERVALUE=456}}\r\n","title":"Regex reset capture groups","body":"<p>I have tried alterations using '|' but seems to be impossible to first parse map if possible, if not, just parse the value as a whole, but keeping the capture group as no 1/2, tried with branch reset group but didn't manage that way either. Any suggestions are welcome.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Scratch {\n\n  public static void main(String[] args) {\n\n    final Pattern outerKeyPattern = Pattern.compile(&quot;([A-Z]+)\\\\((.*)\\\\)&quot;, Pattern.MULTILINE);\n    final Pattern innerPattern = Pattern.compile(&quot;([A-Z]+)\\\\((.*?)\\\\)&quot;);\n\n    // There will always be a value in the outer, \n    // but sometimes it's an inner map, i.e only need to solve this case, no other exeptions\n \n    String input = &quot;&quot;&quot;\n      VALUE(123)\n      OUTERVALUE(INNERVALUE(123)OTHERVALUE(456))\n      &quot;&quot;&quot;;\n\n    Map&lt;String, Map&lt;String, String&gt;&gt; outer = new HashMap&lt;&gt;();\n    Matcher matcher = outerKeyPattern.matcher(input);\n    while (matcher.find()) {\n      String key = matcher.group(1);\n      String value = matcher.group(2);\n      Matcher valueMatcher = innerPattern.matcher(value);\n      Map&lt;String, String&gt; innerMap = new HashMap&lt;&gt;();\n      while (valueMatcher.find()) {\n        innerMap.put(valueMatcher.group(1), valueMatcher.group(2));\n      }\n      outer.put(key, innerMap);\n    }\n\n    System.out.println(outer);\n  }\n}\n</code></pre>\n<p>yields output:</p>\n<pre><code>{VALUE={}, OUTERVALUE={INNERVALUE=123, OTHERVALUE=456}}\n</code></pre>\n<p>I need to parse value also as key for the inner map and it's value as null:</p>\n<pre><code>{VALUE={123=}, OUTERVALUE={INNERVALUE=123, OTHERVALUE=456}}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","iframe","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673875165,"creation_date":1673874063,"answer_id":75134598,"question_id":75134345,"body_markdown":"To click on the element &lt;kbd&gt;Sign in with Google&lt;/kbd&gt; as the the desired element is within nested [_iframe_](https://stackoverflow.com/a/53276478/7429447) you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the parent [_frameToBeAvailableAndSwitchToIt_](https://stackoverflow.com/a/51621710/7429447).\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/63831871/7429447) for the nested [_frameToBeAvailableAndSwitchToIt_](https://stackoverflow.com/a/51621710/7429447).\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/50621712/7429447) for the desired [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447).\r\n- You can use either of the following [_locator strategies_](https://stackoverflow.com/a/48376890/7429447):\r\n\r\n\t  driver.get(&quot;https://www.redbus.in/&quot;);\r\n\t  WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t  wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div#signin-block&quot;))).click();\r\n\t  wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;ul.config-list &gt; li#signInLink&quot;))).click();\r\n\t  wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe.modalIframe&quot;)));\r\n\t  wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[title=&#39;Sign in with Google Button&#39;]&quot;)));\r\n\t  wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[text()=&#39;Sign in with Google&#39;]&quot;))).click();\r\n\t  \r\n- Browser Snapshot:\r\n\r\n![RedBus_SignIn_Google](https://i.stack.imgur.com/eDq2q.png)\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReference\r\n---------\r\nYou can find a couple of relevant discussions in:\r\n\r\n- [Is it possible to switch to an element in a frame without using driver.switchTo().frame(“frameName”) in Selenium Webdriver Java?](https://stackoverflow.com/a/47472200/7429447)\r\n- [Is there any solution to bypass the cookie iframe by using selenium webdriver?](https://stackoverflow.com/a/63831871/7429447)","title":"How to click element within multiple nested iframe using Selenium","body":"<p>To click on the element <kbd>Sign in with Google</kbd> as the the desired element is within nested <a href=\"https://stackoverflow.com/a/53276478/7429447\"><em>iframe</em></a> you have to:</p>\n<ul>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the parent <a href=\"https://stackoverflow.com/a/51621710/7429447\"><em>frameToBeAvailableAndSwitchToIt</em></a>.</p>\n</li>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/63831871/7429447\">WebDriverWait</a> for the nested <a href=\"https://stackoverflow.com/a/51621710/7429447\"><em>frameToBeAvailableAndSwitchToIt</em></a>.</p>\n</li>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/50621712/7429447\">WebDriverWait</a> for the desired <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a>.</p>\n</li>\n<li><p>You can use either of the following <a href=\"https://stackoverflow.com/a/48376890/7429447\"><em>locator strategies</em></a>:</p>\n<pre><code>driver.get(&quot;https://www.redbus.in/&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div#signin-block&quot;))).click();\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;ul.config-list &gt; li#signInLink&quot;))).click();\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe.modalIframe&quot;)));\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[title='Sign in with Google Button']&quot;)));\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[text()='Sign in with Google']&quot;))).click();\n</code></pre>\n</li>\n<li><p>Browser Snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/eDq2q.png\" alt=\"RedBus_SignIn_Google\" /></p>\n<hr />\n<h2>Reference</h2>\n<p>You can find a couple of relevant discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/47472200/7429447\">Is it possible to switch to an element in a frame without using driver.switchTo().frame(“frameName”) in Selenium Webdriver Java?</a></li>\n<li><a href=\"https://stackoverflow.com/a/63831871/7429447\">Is there any solution to bypass the cookie iframe by using selenium webdriver?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674046714,"creation_date":1674046714,"answer_id":75159605,"question_id":75134345,"body_markdown":"The below line of code won&#39;t switch to the required iframe because the ID is dynamic and each time you execute, the iframe id is different.\r\n\r\n    driver.switchTo().frame(&quot;gsi_934517_585705&quot;);\r\n\r\nTry the below code:\r\n\r\n    driver.get(&quot;https://www.redbus.in/&quot;);\r\n    driver.findElement(By.xpath(&quot;//div[@id=&#39;signin-block&#39;]&quot;)).click();      \r\n    driver.findElement(By.xpath(&quot;//li[@id=&#39;signInLink&#39; and text()=&#39;Sign In/Sign \r\n        Up&#39;]&quot;)).click();\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\r\n    int size = driver.findElements(By.tagName(&quot;iframe&quot;)).size();\r\n    //System.out.println(&quot;no of iframes&quot; + size);\r\n    //There are 2 iframes,we are interested in the second one,hence the below line\r\n    driver.switchTo().frame(1);\r\n    driver.findElement(By.xpath(&quot;//span[text()=&#39;Sign in with Google&#39; and @class=&#39;nsm7Bb-HzV7m-LgbsSe-BPrWId&#39;]&quot;)).click();\r\n    driver.close();\r\n\r\nBasically, get the number of iframes and switch to the iframe you want based on its index. Good luck. Upvote if this answers and solves your query,\r\n","title":"How to click element within multiple nested iframe using Selenium","body":"<p>The below line of code won't switch to the required iframe because the ID is dynamic and each time you execute, the iframe id is different.</p>\n<pre><code>driver.switchTo().frame(&quot;gsi_934517_585705&quot;);\n</code></pre>\n<p>Try the below code:</p>\n<pre><code>driver.get(&quot;https://www.redbus.in/&quot;);\ndriver.findElement(By.xpath(&quot;//div[@id='signin-block']&quot;)).click();      \ndriver.findElement(By.xpath(&quot;//li[@id='signInLink' and text()='Sign In/Sign \n    Up']&quot;)).click();\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\nint size = driver.findElements(By.tagName(&quot;iframe&quot;)).size();\n//System.out.println(&quot;no of iframes&quot; + size);\n//There are 2 iframes,we are interested in the second one,hence the below line\ndriver.switchTo().frame(1);\ndriver.findElement(By.xpath(&quot;//span[text()='Sign in with Google' and @class='nsm7Bb-HzV7m-LgbsSe-BPrWId']&quot;)).click();\ndriver.close();\n</code></pre>\n<p>Basically, get the number of iframes and switch to the iframe you want based on its index. Good luck. Upvote if this answers and solves your query,</p>\n"}],"owner":{"account_id":16863799,"reputation":25,"user_id":12193983,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75159605,"answer_count":2,"score":1,"last_activity_date":1674046714,"creation_date":1673872709,"question_id":75134345,"body_markdown":"While clickig the element inside the iframe getting selenium timeout of _no such frame element_ exception . It&#39;s the [RedBus web application](https://www.redbus.in/) I am using.\r\n\r\nI tried with the driver switch to ().the frame(&quot;gsi_934517_585705&quot;); with id, Name, index too but no success.\r\n\r\n    WebDriver driver= new ChromeDriver();\r\n    driver.get(&quot;https://www.redbus.in/&quot;);\r\n    driver.manage().window().maximize();\r\n    driver.findElement(By.xpath(&quot;//div[@id=&#39;signin-block&#39;]&quot;)).click();\t\t\r\n   \tdriver.findElement(By.xpath(&quot;//li[@id=&#39;signInLink&#39; and text()=&#39;Sign In/Sign Up&#39;]&quot;)).click();\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(2000));\r\n    //Thread.sleep(50000);\r\n   \tdriver.switchTo().frame(&quot;gsi_934517_585705&quot;);\r\n    driver.findElement(By.xpath(&quot;//span[text()=&#39;Sign in with Google&#39; and @class=&#39;nsm7Bb-HzV7m-LgbsSe-BPrWId&#39;]&quot;)).click();\r\n    driver.close();","title":"How to click element within multiple nested iframe using Selenium","body":"<p>While clickig the element inside the iframe getting selenium timeout of <em>no such frame element</em> exception . It's the <a href=\"https://www.redbus.in/\" rel=\"nofollow noreferrer\">RedBus web application</a> I am using.</p>\n<p>I tried with the driver switch to ().the frame(&quot;gsi_934517_585705&quot;); with id, Name, index too but no success.</p>\n<pre><code>WebDriver driver= new ChromeDriver();\ndriver.get(&quot;https://www.redbus.in/&quot;);\ndriver.manage().window().maximize();\ndriver.findElement(By.xpath(&quot;//div[@id='signin-block']&quot;)).click();      \ndriver.findElement(By.xpath(&quot;//li[@id='signInLink' and text()='Sign In/Sign Up']&quot;)).click();\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(2000));\n//Thread.sleep(50000);\ndriver.switchTo().frame(&quot;gsi_934517_585705&quot;);\ndriver.findElement(By.xpath(&quot;//span[text()='Sign in with Google' and @class='nsm7Bb-HzV7m-LgbsSe-BPrWId']&quot;)).click();\ndriver.close();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1499187786,"post_id":44911073,"comment_id":76798738,"body_markdown":"are you sure, because I didn&#39;t see any stacktrace of this method ?","body":"are you sure, because I didn&#39;t see any stacktrace of this method ?"},{"owner":{"account_id":1169697,"reputation":1416,"user_id":1147141,"accept_rate":42,"display_name":"bichito"},"score":0,"creation_date":1499188427,"post_id":44911073,"comment_id":76798995,"body_markdown":"the error does not come from Thread class. The error comes from the library that puts restrictions on what can make the send call. Can you put a breakpoint in the line you mention and step through it?","body":"the error does not come from Thread class. The error comes from the library that puts restrictions on what can make the send call. Can you put a breakpoint in the line you mention and step through it?"}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499188509,"creation_date":1499188509,"answer_id":44911289,"question_id":44911073,"body_markdown":"It means you can&#39;t use an threads that are not created by [ThreadManager](https://cloud.google.com/appengine/docs/standard/java/javadoc/com/google/appengine/api/ThreadManager). In your case you&#39;re trying to use a `ScheduledThreadPoolExecutor` which by default would use &quot;illegal&quot; threads.\r\n\r\nYou&#39;ll need to supply a `ThreadFactory` from the `ThreadManager` (most likely the `backgroundThreadFactory()`), so the threads created are &quot;proper&quot; threads and GAE doesn&#39;t complain.","title":"What is this JAVA thread error?","body":"<p>It means you can't use an threads that are not created by <a href=\"https://cloud.google.com/appengine/docs/standard/java/javadoc/com/google/appengine/api/ThreadManager\" rel=\"nofollow noreferrer\">ThreadManager</a>. In your case you're trying to use a <code>ScheduledThreadPoolExecutor</code> which by default would use \"illegal\" threads.</p>\n\n<p>You'll need to supply a <code>ThreadFactory</code> from the <code>ThreadManager</code> (most likely the <code>backgroundThreadFactory()</code>), so the threads created are \"proper\" threads and GAE doesn't complain.</p>\n"},{"tags":[],"owner":{"account_id":10119668,"reputation":1,"user_id":7477058,"display_name":"Supakit Chidthong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549395480,"creation_date":1549385830,"answer_id":54539431,"question_id":44911073,"body_markdown":"Try commenting the `com.google.appengine` dependency and try again. Hope it works.\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n            &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\r\n            &lt;version&gt;...&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"What is this JAVA thread error?","body":"<p>Try commenting the <code>com.google.appengine</code> dependency and try again. Hope it works.</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n        &lt;version&gt;...&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4514743,"reputation":897,"user_id":3669929,"accept_rate":61,"display_name":"gFontaniva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674046670,"creation_date":1499187567,"question_id":44911073,"body_markdown":"I&#39;m having this error and I&#39;m can&#39;t fix, I don&#39;t know what is wrong. I&#39;m stuck in this.\r\n\r\nWhat this error means? **com.google.apphosting.api.ApiProxy$CallNotFoundException: Can&#39;t make API call mail.Send in a thread that is neither the original request thread nor a thread created by ThreadManager**\r\n\r\nThis is the full stacktrace:\r\n\r\n        org.apache.commons.mail.EmailException: Sending the email to the following server failed : smtp.gmail.com:587\r\n    \tat org.apache.commons.mail.Email.sendMimeMessage(Email.java:1242)\r\n    \tat org.apache.commons.mail.Email.send(Email.java:1267)\r\n    \tat com.wealthsystems.sim3g.modulo.email.impl.EnviaEmailsThread.process(EnviaEmailsThread.java:123)\r\n    \tat com.wealthsystems.dao.hibernate.api.service.WsThreadService.run(WsThreadService.java:55)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: com.google.apphosting.api.ApiProxy$CallNotFoundException: Can&#39;t make API call mail.Send in a thread that is neither the original request thread nor a thread created by ThreadManager\r\n    \tat com.google.apphosting.api.ApiProxy$CallNotFoundException.foreignThread(ApiProxy.java:800)\r\n    \tat com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:112)\r\n    \tat com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:65)\r\n    \tat com.google.appengine.api.mail.MailServiceImpl.doSend(MailServiceImpl.java:101)\r\n    \tat com.google.appengine.api.mail.MailServiceImpl.send(MailServiceImpl.java:34)\r\n    \tat com.google.appengine.api.mail.stdimpl.GMTransport.sendMessage(GMTransport.java:223)\r\n    \tat javax.mail.Transport.send(Transport.java:95)\r\n    \tat javax.mail.Transport.send(Transport.java:48)\r\n    \tat org.apache.commons.mail.Email.sendMimeMessage(Email.java:1232)\r\n    \t... 10 more\r\n\r\nThis is my code that generate this error:\r\n\r\n       public static void sendMailApache(String protocol, String host, String port, String userName, String password, \r\n    \t\t   String subject, byte[] content, String para, String cc, String co) {\r\n    \t   try {\r\n    \t\t   final Email email = new SimpleEmail();\r\n    \t\t   email.setHostName(host);\r\n    \t\t   email.setSmtpPort(Integer.parseInt(port));\r\n    \t\t   email.setTLS(true);\r\n    \t\t   email.setSSL(false);\r\n    \t\t   email.setAuthenticator(new DefaultAuthenticator(userName, password));\r\n    \t\t   email.setFrom(userName);\r\n    \t\t   email.setSubject(subject);\r\n    \t\t   email.setCharset(org.apache.commons.mail.Email.ISO_8859_1);\r\n    \t\t   \r\n    \t\t   for (String str: para.split(&quot;;&quot;)) {\r\n    \t\t\t   email.addTo(str);\r\n    \t\t   }\r\n    \t\t   for (String str: cc.split(&quot;;&quot;)) {\r\n    \t\t\t   email.addCc(str);\r\n    \t\t   }\r\n    \t\t   for (String str: co.split(&quot;;&quot;)) {\r\n    \t\t\t   email.addBcc(str);\r\n    \t\t   }\r\n    \t\t   email.setMsg(content.toString());\r\n    \t\t   email.send();\r\n    \t   } catch (EmailException e) {\r\n    \t\t   throw new RuntimeException(e);\r\n    \t   }\r\n    \t}\r\n\r\nWhat this error means? What I&#39;m doing wrong?\r\n","title":"What is this JAVA thread error?","body":"<p>I'm having this error and I'm can't fix, I don't know what is wrong. I'm stuck in this.</p>\n\n<p>What this error means? <strong>com.google.apphosting.api.ApiProxy$CallNotFoundException: Can't make API call mail.Send in a thread that is neither the original request thread nor a thread created by ThreadManager</strong></p>\n\n<p>This is the full stacktrace:</p>\n\n<pre><code>    org.apache.commons.mail.EmailException: Sending the email to the following server failed : smtp.gmail.com:587\n    at org.apache.commons.mail.Email.sendMimeMessage(Email.java:1242)\n    at org.apache.commons.mail.Email.send(Email.java:1267)\n    at com.wealthsystems.sim3g.modulo.email.impl.EnviaEmailsThread.process(EnviaEmailsThread.java:123)\n    at com.wealthsystems.dao.hibernate.api.service.WsThreadService.run(WsThreadService.java:55)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: com.google.apphosting.api.ApiProxy$CallNotFoundException: Can't make API call mail.Send in a thread that is neither the original request thread nor a thread created by ThreadManager\n    at com.google.apphosting.api.ApiProxy$CallNotFoundException.foreignThread(ApiProxy.java:800)\n    at com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:112)\n    at com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:65)\n    at com.google.appengine.api.mail.MailServiceImpl.doSend(MailServiceImpl.java:101)\n    at com.google.appengine.api.mail.MailServiceImpl.send(MailServiceImpl.java:34)\n    at com.google.appengine.api.mail.stdimpl.GMTransport.sendMessage(GMTransport.java:223)\n    at javax.mail.Transport.send(Transport.java:95)\n    at javax.mail.Transport.send(Transport.java:48)\n    at org.apache.commons.mail.Email.sendMimeMessage(Email.java:1232)\n    ... 10 more\n</code></pre>\n\n<p>This is my code that generate this error:</p>\n\n<pre><code>   public static void sendMailApache(String protocol, String host, String port, String userName, String password, \n           String subject, byte[] content, String para, String cc, String co) {\n       try {\n           final Email email = new SimpleEmail();\n           email.setHostName(host);\n           email.setSmtpPort(Integer.parseInt(port));\n           email.setTLS(true);\n           email.setSSL(false);\n           email.setAuthenticator(new DefaultAuthenticator(userName, password));\n           email.setFrom(userName);\n           email.setSubject(subject);\n           email.setCharset(org.apache.commons.mail.Email.ISO_8859_1);\n\n           for (String str: para.split(\";\")) {\n               email.addTo(str);\n           }\n           for (String str: cc.split(\";\")) {\n               email.addCc(str);\n           }\n           for (String str: co.split(\";\")) {\n               email.addBcc(str);\n           }\n           email.setMsg(content.toString());\n           email.send();\n       } catch (EmailException e) {\n           throw new RuntimeException(e);\n       }\n    }\n</code></pre>\n\n<p>What this error means? What I'm doing wrong?</p>\n"},{"tags":["java","json","rest","rest-assured"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1674044498,"post_id":75159035,"comment_id":132629807,"body_markdown":"What is your usecase? Are you trying to use RestAssured in production code as rest library or are you trying to refactor your tests so that extracting this token would be reusable in different tests?","body":"What is your usecase? Are you trying to use RestAssured in production code as rest library or are you trying to refactor your tests so that extracting this token would be reusable in different tests?"},{"owner":{"account_id":27553833,"reputation":1,"user_id":21028423,"display_name":"balusero"},"score":0,"creation_date":1674045155,"post_id":75159035,"comment_id":132630031,"body_markdown":"trying to refactor as for now I have used to call this token service via postman and putting the token value as hardcoded for my different test but it has specified lifetime so I want to implement calling to token service in Rest Assured so I can use it for my different tests","body":"trying to refactor as for now I have used to call this token service via postman and putting the token value as hardcoded for my different test but it has specified lifetime so I want to implement calling to token service in Rest Assured so I can use it for my different tests"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674046660,"creation_date":1674046660,"answer_id":75159596,"question_id":75159035,"body_markdown":"I assume that you can get your response as a String. So all you need to do is to parse your Json String. For that you can use any available Json parser. The most popular ones are [Json-Jackson][1] (also known as Faster XML) or [Gson][2] (by Google). Both are very well known and popular. (My personal preference is Jackson, but it is a matter of opinion). &lt;br&gt;&lt;br&gt;\r\n\r\nHowever, For simplistic cases like this I wrote my own utility (a thin wrapper over Jackson library) that allows you to parse Json String very simply without learning relatively complex libraries. With my utility your code may look like this:\r\n\r\n    try {\r\n        Map&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(jsonStr, Map.class);\r\n        Map&lt;String, Object&gt; innerMap = map.get(&quot;createTokenResponse&quot;);\r\n        Map&lt;String, Object&gt; innerMap2 = map.get(&quot;createTokenSuccess&quot;);\r\n        String token = innerMap.get(&quot;token&quot;);\r\n    } catch (IOException e) {\r\n        e.printStacktrace();\r\n    }\r\nOr you can create your own classes such as \r\n\r\n    public class TokenResult {\r\n        String token;\r\n        //getter and setter\r\n    }\r\n    \r\n    public class TokenHolder {\r\n        private TokenResult createTokenSuccess;\r\n        //setter and getter\r\n    }\r\n    \r\n    public class TokenResponse {\r\n        private TokenHolder createTokenResponse;\r\n        //setter and getter\r\n    }\r\n\r\nAnd than your code may look like this:\r\n\r\n    try {\r\n        TokenResponse response = JsonUtils.readObjectFromJsonString(jsonStr, TokenResponse .class);\r\n        String token = response.getCreateTokenResponse().getCreateTokenSuccess().getToken();\r\n    } catch (IOException e) {\r\n        e.printStacktrace();\r\n    }\r\n\r\nHere is a Javadoc for [JsonUtils][3] class. This Utility comes as part of Open Source MgntUtils library written and maintained by me. You can get the library as maven artifact on Maven Central [here][4] or on the [github][5] (including source code and javadoc)\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://github.com/google/gson\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [4]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [5]: https://github.com/michaelgantman/Mgnt/releases","title":"How extract response to String and save it to variable","body":"<p>I assume that you can get your response as a String. So all you need to do is to parse your Json String. For that you can use any available Json parser. The most popular ones are <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Json-Jackson</a> (also known as Faster XML) or <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> (by Google). Both are very well known and popular. (My personal preference is Jackson, but it is a matter of opinion). <br><br></p>\n<p>However, For simplistic cases like this I wrote my own utility (a thin wrapper over Jackson library) that allows you to parse Json String very simply without learning relatively complex libraries. With my utility your code may look like this:</p>\n<pre><code>try {\n    Map&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(jsonStr, Map.class);\n    Map&lt;String, Object&gt; innerMap = map.get(&quot;createTokenResponse&quot;);\n    Map&lt;String, Object&gt; innerMap2 = map.get(&quot;createTokenSuccess&quot;);\n    String token = innerMap.get(&quot;token&quot;);\n} catch (IOException e) {\n    e.printStacktrace();\n}\n</code></pre>\n<p>Or you can create your own classes such as</p>\n<pre><code>public class TokenResult {\n    String token;\n    //getter and setter\n}\n\npublic class TokenHolder {\n    private TokenResult createTokenSuccess;\n    //setter and getter\n}\n\npublic class TokenResponse {\n    private TokenHolder createTokenResponse;\n    //setter and getter\n}\n</code></pre>\n<p>And than your code may look like this:</p>\n<pre><code>try {\n    TokenResponse response = JsonUtils.readObjectFromJsonString(jsonStr, TokenResponse .class);\n    String token = response.getCreateTokenResponse().getCreateTokenSuccess().getToken();\n} catch (IOException e) {\n    e.printStacktrace();\n}\n</code></pre>\n<p>Here is a Javadoc for <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils</a> class. This Utility comes as part of Open Source MgntUtils library written and maintained by me. You can get the library as maven artifact on Maven Central <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a> or on the <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">github</a> (including source code and javadoc)</p>\n"}],"owner":{"account_id":27553833,"reputation":1,"user_id":21028423,"display_name":"balusero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674046660,"creation_date":1674043780,"question_id":75159035,"body_markdown":"Being new to Java/JSON/REST Assured topics, I would like to extract a parameter of &quot;token&quot;: from a JSON response body as a String and store it as variable which I could take to some other classes and use there. However, I have tried it and have not found a way. Below is part of a code which I have created at the beginning in a same manner as other requests stored in this class, but this is the first one from which I need something from the response:\r\n\r\n```java\r\npublic FakeTokenVO fakeToken() {         \r\n  String payload = &quot;payloadthere&quot;;         \r\n  return given(specBuilder.fakeTokenRequestSpecification())                 .\r\n       body(payload)                 \r\n      .log().all()                 \r\n      .when()                 \r\n      .post(RestApiRoutes.FAKE_URI)                 \r\n      .then()                 \r\n      .log().all()                \r\n      .extract()                 \r\n      .response()                 \r\n      .as(FakeTokenVO.class); \r\n}\r\n```\r\n\r\nDon&#39;t mind about the payload and those VO classes as it is stored as data model somewhere else.\r\nResponse from the request made looks like this:\r\n\r\n```json\r\n{\r\n    &quot;createTokenResponse&quot;: {\r\n        &quot;createTokenSuccess&quot;: {\r\n            &quot;token&quot;: &quot;token_with_somewhere_about_700_characters&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is how I have tried to modify it to get the part of response which I need later (the token to authorize other requests):\r\n\r\n```java\r\n@Test     \r\npublic void fakeToken() \r\n{ \r\n    String payload = &quot;payloadthere&quot;;         \r\n    String token = given(specBuilder.fakeTokenRequestSpecification())             \r\n    .body(payload)             \r\n    .log().all()             \r\n    .when()             \r\n    .post(RestApiRoutes.FAKE_URI)             \r\n    .then()             \r\n    .log().all()             \r\n    .extract()             \r\n    .response()             \r\n    .body().path(&quot;createTokenResponse.createTokenSuccess.token&quot;);          \r\n    System.out.print(token);     \r\n}\r\n```\r\n\r\nThis test returns me a value which I needed, but I do not know how to implement it as a method instead of test. Please help how should I approach it? What am I missing there? I tried to search for answers, but I haven&#39;t found a solution yet or do not know how to implement it in my part of the code.","title":"How extract response to String and save it to variable","body":"<p>Being new to Java/JSON/REST Assured topics, I would like to extract a parameter of &quot;token&quot;: from a JSON response body as a String and store it as variable which I could take to some other classes and use there. However, I have tried it and have not found a way. Below is part of a code which I have created at the beginning in a same manner as other requests stored in this class, but this is the first one from which I need something from the response:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public FakeTokenVO fakeToken() {         \n  String payload = &quot;payloadthere&quot;;         \n  return given(specBuilder.fakeTokenRequestSpecification())                 .\n       body(payload)                 \n      .log().all()                 \n      .when()                 \n      .post(RestApiRoutes.FAKE_URI)                 \n      .then()                 \n      .log().all()                \n      .extract()                 \n      .response()                 \n      .as(FakeTokenVO.class); \n}\n</code></pre>\n<p>Don't mind about the payload and those VO classes as it is stored as data model somewhere else.\nResponse from the request made looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;createTokenResponse&quot;: {\n        &quot;createTokenSuccess&quot;: {\n            &quot;token&quot;: &quot;token_with_somewhere_about_700_characters&quot;\n        }\n    }\n}\n</code></pre>\n<p>Here is how I have tried to modify it to get the part of response which I need later (the token to authorize other requests):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test     \npublic void fakeToken() \n{ \n    String payload = &quot;payloadthere&quot;;         \n    String token = given(specBuilder.fakeTokenRequestSpecification())             \n    .body(payload)             \n    .log().all()             \n    .when()             \n    .post(RestApiRoutes.FAKE_URI)             \n    .then()             \n    .log().all()             \n    .extract()             \n    .response()             \n    .body().path(&quot;createTokenResponse.createTokenSuccess.token&quot;);          \n    System.out.print(token);     \n}\n</code></pre>\n<p>This test returns me a value which I needed, but I do not know how to implement it as a method instead of test. Please help how should I approach it? What am I missing there? I tried to search for answers, but I haven't found a solution yet or do not know how to implement it in my part of the code.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9274,"page":718,"page_size":100}
