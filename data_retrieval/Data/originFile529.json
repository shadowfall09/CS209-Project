{"items":[{"tags":["java","android","android-studio","android-layout","android-search"],"comments":[{"owner":{"account_id":16093327,"reputation":300,"user_id":12632670,"display_name":"chris oojer"},"score":0,"creation_date":1680461107,"post_id":75912620,"comment_id":133898569,"body_markdown":"Any idea?????????????????","body":"Any idea?????????????????"}],"answers":[{"tags":[],"owner":{"account_id":27829354,"reputation":186,"user_id":21248085,"display_name":"Shivrajsinh Sarvaiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680527855,"creation_date":1680527855,"answer_id":75919912,"question_id":75912620,"body_markdown":"I have made some changes in your layout it should look proper now. check below,\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/search_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        &gt;\r\n    \r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/backButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;@dimen/dp_20&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:src=&quot;@drawable/ic_back_arrow&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/searchEditText&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:hint=&quot;Search Mail&quot;\r\n            android:layout_margin=&quot;@dimen/dp_20&quot;\r\n            android:imeOptions=&quot;actionSearch&quot;\r\n            android:inputType=&quot;text&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:paddingLeft=&quot;2dp&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:textSize=&quot;16sp&quot; /&gt;\r\n    \r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/clearButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;@dimen/dp_20&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:scaleType=&quot;fitCenter&quot;\r\n            android:src=&quot;@drawable/ic_back_arrow&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nChanges I made: add `margin` to look proper, set editText width to `0dp` to fit it in middle of both imageButton. This should fix your problem. Let me know if you have doubt. consider upvotting if it helps. Cheers!!","title":"Android searchview layout not set in correct position","body":"<p>I have made some changes in your layout it should look proper now. check below,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/search_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;\n    &gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/backButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;@dimen/dp_20&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:src=&quot;@drawable/ic_back_arrow&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/searchEditText&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:hint=&quot;Search Mail&quot;\n        android:layout_margin=&quot;@dimen/dp_20&quot;\n        android:imeOptions=&quot;actionSearch&quot;\n        android:inputType=&quot;text&quot;\n        android:maxLines=&quot;1&quot;\n        android:paddingLeft=&quot;2dp&quot;\n        android:singleLine=&quot;true&quot;\n        android:textSize=&quot;16sp&quot; /&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/clearButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;@dimen/dp_20&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:scaleType=&quot;fitCenter&quot;\n        android:src=&quot;@drawable/ic_back_arrow&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Changes I made: add <code>margin</code> to look proper, set editText width to <code>0dp</code> to fit it in middle of both imageButton. This should fix your problem. Let me know if you have doubt. consider upvotting if it helps. Cheers!!</p>\n"}],"owner":{"account_id":16093327,"reputation":300,"user_id":12632670,"display_name":"chris oojer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75919912,"answer_count":1,"score":0,"last_activity_date":1680527855,"creation_date":1680445570,"question_id":75912620,"body_markdown":"I&#39;m working on my android app to build a custom searchview. I&#39;m having a problem with the layout because I can&#39;t be able to get the back button to go on the left, the search edit text to go on the middle and the clear button to go on the right.\r\n\r\nHere is what it show:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nIt should look like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHere is the main.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/action_search&quot;\r\n            android:icon=&quot;@drawable/ic_search_white_24dp&quot;\r\n            android:title=&quot;&quot;\r\n            app:actionLayout=&quot;@layout/search_view&quot;\r\n            app:showAsAction=&quot;ifRoom|collapseActionView&quot; /&gt;\r\n    \r\n    &lt;/menu&gt;\r\n\r\n\r\nHere is the search_view:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/search_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?android:attr/actionBarSize&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/backButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:src=&quot;@drawable/ic_arrow_back_grey_24dp&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/searchEditText&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;56dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:hint=&quot;Search Mail&quot;\r\n            android:imeOptions=&quot;actionSearch&quot;\r\n            android:inputType=&quot;text&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:paddingLeft=&quot;2dp&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:textColor=&quot;@color/default_textColor&quot;\r\n            android:textColorHint=&quot;@color/default_textColorHint&quot;\r\n            android:textSize=&quot;16sp&quot; /&gt;\r\n    \r\n        &lt;!--&lt;ImageButton\r\n            android:id=&quot;@+id/voiceButton&quot;\r\n            style=&quot;@style/SearchViewIcon&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:contentDescription=&quot;@string/action_voice_search&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:srcCompat=&quot;@drawable/ic_voice_search_black_24dp&quot; /&gt;--&gt;\r\n    \r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/clearButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:scaleType=&quot;fitCenter&quot;\r\n            android:src=&quot;@drawable/ic_baseline_close_24&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nHere is the app_bar_main:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n    \r\n            &lt;com.google.android.material.appbar.AppBarLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:theme=&quot;@style/Theme.MyLogin.AppBarOverlay&quot;&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.Toolbar\r\n                    android:id=&quot;@+id/toolbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;?attr/colorPrimary&quot;\r\n                    app:collapseIcon=&quot;@drawable/ic_arrow_back_grey_24dp&quot; /&gt;\r\n             &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n             &lt;include layout=&quot;@layout/content_main2&quot; /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\nHere is the mainactivity:\r\n    \r\n    Toolbar toolbar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n\r\n        mSearchItem = menu.findItem(R.id.action_search);\r\n\r\n        MenuItemCompat.setOnActionExpandListener(mSearchItem, new MenuItemCompat.OnActionExpandListener() {\r\n            @Override\r\n            public boolean onMenuItemActionCollapse(MenuItem item) {\r\n                // Called when SearchView is collapsing\r\n                if (mSearchItem.isActionViewExpanded()) {\r\n                    animateSearchToolbar(1, false, false);\r\n                }\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public boolean onMenuItemActionExpand(MenuItem item) {\r\n                // Called when SearchView is expanding\r\n                animateSearchToolbar(1, true, true);\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n\r\nCan you please show me an example how I can get the backbutton to go on the left side, searchEditText to go on the middle and clearButton to go on the right side??\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x0XsB.png\r\n  [2]: https://i.stack.imgur.com/t37Im.png","title":"Android searchview layout not set in correct position","body":"<p>I'm working on my android app to build a custom searchview. I'm having a problem with the layout because I can't be able to get the back button to go on the left, the search edit text to go on the middle and the clear button to go on the right.</p>\n<p>Here is what it show:</p>\n<p><a href=\"https://i.stack.imgur.com/x0XsB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x0XsB.png\" alt=\"enter image description here\" /></a></p>\n<p>It should look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/t37Im.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t37Im.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/action_search&quot;\n        android:icon=&quot;@drawable/ic_search_white_24dp&quot;\n        android:title=&quot;&quot;\n        app:actionLayout=&quot;@layout/search_view&quot;\n        app:showAsAction=&quot;ifRoom|collapseActionView&quot; /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>Here is the search_view:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/search_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;?android:attr/actionBarSize&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/backButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:src=&quot;@drawable/ic_arrow_back_grey_24dp&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/searchEditText&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;56dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:hint=&quot;Search Mail&quot;\n        android:imeOptions=&quot;actionSearch&quot;\n        android:inputType=&quot;text&quot;\n        android:maxLines=&quot;1&quot;\n        android:paddingLeft=&quot;2dp&quot;\n        android:singleLine=&quot;true&quot;\n        android:textColor=&quot;@color/default_textColor&quot;\n        android:textColorHint=&quot;@color/default_textColorHint&quot;\n        android:textSize=&quot;16sp&quot; /&gt;\n\n    &lt;!--&lt;ImageButton\n        android:id=&quot;@+id/voiceButton&quot;\n        style=&quot;@style/SearchViewIcon&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:contentDescription=&quot;@string/action_voice_search&quot;\n        android:visibility=&quot;gone&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/ic_voice_search_black_24dp&quot; /&gt;--&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/clearButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:scaleType=&quot;fitCenter&quot;\n        android:src=&quot;@drawable/ic_baseline_close_24&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Here is the app_bar_main:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n\n        &lt;com.google.android.material.appbar.AppBarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:theme=&quot;@style/Theme.MyLogin.AppBarOverlay&quot;&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;?attr/colorPrimary&quot;\n                app:collapseIcon=&quot;@drawable/ic_arrow_back_grey_24dp&quot; /&gt;\n         &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n         &lt;include layout=&quot;@layout/content_main2&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n</code></pre>\n<p>Here is the mainactivity:</p>\n<pre><code>Toolbar toolbar;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main2);\n    toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n}\n\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.main, menu);\n\n    mSearchItem = menu.findItem(R.id.action_search);\n\n    MenuItemCompat.setOnActionExpandListener(mSearchItem, new MenuItemCompat.OnActionExpandListener() {\n        @Override\n        public boolean onMenuItemActionCollapse(MenuItem item) {\n            // Called when SearchView is collapsing\n            if (mSearchItem.isActionViewExpanded()) {\n                animateSearchToolbar(1, false, false);\n            }\n            return true;\n        }\n\n        @Override\n        public boolean onMenuItemActionExpand(MenuItem item) {\n            // Called when SearchView is expanding\n            animateSearchToolbar(1, true, true);\n            return true;\n        }\n    });\n\n    return true;\n}\n</code></pre>\n<p>Can you please show me an example how I can get the backbutton to go on the left side, searchEditText to go on the middle and clearButton to go on the right side??</p>\n"},{"tags":["java","infinispan","qpid"],"answers":[{"tags":[],"owner":{"account_id":2471887,"reputation":1379,"user_id":2153535,"display_name":"Tristan Tarrant"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680527729,"creation_date":1680527729,"answer_id":75919897,"question_id":75877254,"body_markdown":"You are right, the behaviour is wrong. I&#39;ve created an issue https://issues.redhat.com/browse/ISPN-14732 and it will be incorporated in 14.0.8.Final.","title":"Conflict when both infinispan and qpid-broker registers URLStreamHandlers","body":"<p>You are right, the behaviour is wrong. I've created an issue <a href=\"https://issues.redhat.com/browse/ISPN-14732\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/ISPN-14732</a> and it will be incorporated in 14.0.8.Final.</p>\n"}],"owner":{"account_id":941346,"reputation":2064,"user_id":969365,"accept_rate":62,"display_name":"simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75919897,"answer_count":1,"score":1,"last_activity_date":1680527729,"creation_date":1680093131,"question_id":75877254,"body_markdown":"I&#39;m trying to upgrade `infinispan` from version 9 to 13 in our application. Since version 12.1, infinispan has a [`ClasspathURLStreamHandler`][1] that automatically registers itself (on Java &gt;= 9).\r\n\r\nThis causes issues as our application also uses `qpid-broker`, and that library also has a [`URLStreamHandler`][2] that automatically registers itself.\r\n\r\nNow, I don&#39;t fully understand how `URL.setURLStreamHandlerFactory` works - but my understanding of the problem is:\r\n\r\n1. Both infinispan and qpid-broker tries to register their respective URLStreamHandler, for the `classpath` protocol\r\n2. Only one URLStreamHandler can be registered. In this case infinispan happens to be first, and its handler is registered.\r\n3. When starting up qpid-broker, it tries to read `system.properties` using an URL `classpath:system.properties` (this happens in `org.apache.qpid.server.SystemLauncher`).\r\n4. There is no `system.properties` on the classpath (I think) - and infinispan&#39;s handler returns null, resulting in a `NullPointerException` in qpid-broker.\r\n\r\nNote that the behavior of infinispan&#39;s handler is different compared to the behaviour of qpid-broker&#39;s handler, which throws an exception on failure (e.g. `FileNotFoundException` or `MalformedURLException`) instead of returning null.\r\n\r\nQuestions:\r\n\r\n- How is the fact that libraries can (and apparently will) register things like `URLStreamHandlerFactory`, which affects the JVM globally and can only be registered *once*, usually handled in large applications like ours that can have lots of dependencies?\r\n\r\n- Could this problem be considered a bug in infinispan? If its handler would have the same behaviour as qpid-broker&#39;s, i.e. throw an exception instead of returning null, maybe it wouldn&#39;t have matter which handler is actually registered and used?\r\n\r\n- Is there some other way, beside adjusting the behaviour of infinispan&#39;s handler, to fix this problem?\r\n\r\n\r\n  [1]: https://docs.jboss.org/infinispan/12.1/apidocs/org/infinispan/commons/util/ClasspathURLStreamHandler.html\r\n  [2]: https://javadoc.io/doc/org.apache.qpid/qpid-broker-core/latest/org/apache/qpid/server/util/urlstreamhandler/classpath/Handler.html","title":"Conflict when both infinispan and qpid-broker registers URLStreamHandlers","body":"<p>I'm trying to upgrade <code>infinispan</code> from version 9 to 13 in our application. Since version 12.1, infinispan has a <a href=\"https://docs.jboss.org/infinispan/12.1/apidocs/org/infinispan/commons/util/ClasspathURLStreamHandler.html\" rel=\"nofollow noreferrer\"><code>ClasspathURLStreamHandler</code></a> that automatically registers itself (on Java &gt;= 9).</p>\n<p>This causes issues as our application also uses <code>qpid-broker</code>, and that library also has a <a href=\"https://javadoc.io/doc/org.apache.qpid/qpid-broker-core/latest/org/apache/qpid/server/util/urlstreamhandler/classpath/Handler.html\" rel=\"nofollow noreferrer\"><code>URLStreamHandler</code></a> that automatically registers itself.</p>\n<p>Now, I don't fully understand how <code>URL.setURLStreamHandlerFactory</code> works - but my understanding of the problem is:</p>\n<ol>\n<li>Both infinispan and qpid-broker tries to register their respective URLStreamHandler, for the <code>classpath</code> protocol</li>\n<li>Only one URLStreamHandler can be registered. In this case infinispan happens to be first, and its handler is registered.</li>\n<li>When starting up qpid-broker, it tries to read <code>system.properties</code> using an URL <code>classpath:system.properties</code> (this happens in <code>org.apache.qpid.server.SystemLauncher</code>).</li>\n<li>There is no <code>system.properties</code> on the classpath (I think) - and infinispan's handler returns null, resulting in a <code>NullPointerException</code> in qpid-broker.</li>\n</ol>\n<p>Note that the behavior of infinispan's handler is different compared to the behaviour of qpid-broker's handler, which throws an exception on failure (e.g. <code>FileNotFoundException</code> or <code>MalformedURLException</code>) instead of returning null.</p>\n<p>Questions:</p>\n<ul>\n<li><p>How is the fact that libraries can (and apparently will) register things like <code>URLStreamHandlerFactory</code>, which affects the JVM globally and can only be registered <em>once</em>, usually handled in large applications like ours that can have lots of dependencies?</p>\n</li>\n<li><p>Could this problem be considered a bug in infinispan? If its handler would have the same behaviour as qpid-broker's, i.e. throw an exception instead of returning null, maybe it wouldn't have matter which handler is actually registered and used?</p>\n</li>\n<li><p>Is there some other way, beside adjusting the behaviour of infinispan's handler, to fix this problem?</p>\n</li>\n</ul>\n"},{"tags":["java","arraylist","partitioning"],"comments":[{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":1,"creation_date":1543430180,"post_id":5824825,"comment_id":93920777,"body_markdown":"[Spliterator](https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html) is a mystery.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"nofollow noreferrer\">Spliterator</a> is a mystery."},{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":0,"creation_date":1578085031,"post_id":5824825,"comment_id":105336949,"body_markdown":"For java 8 here is a sample article along with the performace of each method: https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/","body":"For java 8 here is a sample article along with the performace of each method: <a href=\"https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/\" rel=\"nofollow noreferrer\">e.printstacktrace.blog/&hellip;</a>"},{"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"score":0,"creation_date":1644491138,"post_id":5824825,"comment_id":125623344,"body_markdown":"Please stop using *toReturn*. It has no meaning. Might as well use *r* or *x*. Name it &quot;partition&quot; or &quot;shard&quot; or something meaningful.","body":"Please stop using <i>toReturn</i>. It has no meaning. Might as well use <i>r</i> or <i>x</i>. Name it &quot;partition&quot; or &quot;shard&quot; or something meaningful."}],"answers":[{"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1304023959,"creation_date":1304023959,"answer_id":5824864,"question_id":5824825,"body_markdown":"If you are dealing with arrays, you can use [System.arraycopy()][1] for that. \r\n\r\n\t int[] a = {1,2,3,4,5};\r\n\t \r\n\t int[] b = new int[2];\r\n\t int[] c = new int[3];\r\n\t \r\n\t System.arraycopy(a, 0, b, 0, 2); // b will be {1,2}\r\n\t System.arraycopy(a, 2, c, 0, 3); // c will be {3,4,5}\r\n\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29","title":"Efficient way to divide a list into lists of n size","body":"<p>If you are dealing with arrays, you can use <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\" rel=\"nofollow\">System.arraycopy()</a> for that. </p>\n\n<pre><code> int[] a = {1,2,3,4,5};\n\n int[] b = new int[2];\n int[] c = new int[3];\n\n System.arraycopy(a, 0, b, 0, 2); // b will be {1,2}\n System.arraycopy(a, 2, c, 0, 3); // c will be {3,4,5}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":2,"creation_date":1450225011,"post_id":5824908,"comment_id":56345852,"body_markdown":"There is also `Iterables.partition(Iterable, int)` if you have an `Iterable` instead of a `List`","body":"There is also <code>Iterables.partition(Iterable, int)</code> if you have an <code>Iterable</code> instead of a <code>List</code>"},{"owner":{"account_id":4289727,"reputation":901,"user_id":3506427,"accept_rate":56,"display_name":"bogdan.rusu"},"score":0,"creation_date":1482227092,"post_id":5824908,"comment_id":69678002,"body_markdown":"The last link has changed, I think is this one https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Lists.html#partition(java.util.List, int)","body":"The last link has changed, I think is this one <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Lists.html#partition(java.util.List\" rel=\"nofollow noreferrer\">google.github.io/guava/releases/19.0/api/docs/com/google/com&zwnj;&#8203;mon/&hellip;</a>, int)"},{"owner":{"account_id":238002,"reputation":172,"user_id":506591,"display_name":"user506591"},"score":1,"creation_date":1485477600,"post_id":5824908,"comment_id":70953223,"body_markdown":"I have a quick question about lists.partition what happens if the input list size is less than the expected size of sublist. Does this method handle that or client needs to validate that?","body":"I have a quick question about lists.partition what happens if the input list size is less than the expected size of sublist. Does this method handle that or client needs to validate that?"},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":1,"creation_date":1485539539,"post_id":5824908,"comment_id":70982464,"body_markdown":"@user506591: Updated the Javadoc link. The last list in the partition can be smaller than the partition size. So in the case where the entire original list is smaller, the partition will contain a single list with all of its elements.","body":"@user506591: Updated the Javadoc link. The last list in the partition can be smaller than the partition size. So in the case where the entire original list is smaller, the partition will contain a single list with all of its elements."}],"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":4,"down_vote_count":0,"up_vote_count":123,"is_accepted":true,"score":123,"last_activity_date":1646846051,"creation_date":1304024184,"answer_id":5824908,"question_id":5824825,"body_markdown":"You&#39;ll want to do something that makes use of [List.subList(int, int)][1] views rather than copying each sublist. To do this really easily, use [Guava][2]&#39;s [Lists.partition(List, int)][3] method:\r\n\r\n    List&lt;Foo&gt; foos = ...\r\n    for (List&lt;Foo&gt; partition : Lists.partition(foos, n)) {\r\n      // do something with partition\r\n    }\r\n\r\nNote that this, like many things, isn&#39;t very efficient with a `List` that isn&#39;t `RandomAccess` (such as a `LinkedList`).\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#subList%28int,%20int%29\r\n  [2]: https://github.com/google/guava\r\n  [3]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-","title":"Efficient way to divide a list into lists of n size","body":"<p>You'll want to do something that makes use of <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#subList%28int,%20int%29\" rel=\"noreferrer\">List.subList(int, int)</a> views rather than copying each sublist. To do this really easily, use <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a>'s <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-\" rel=\"noreferrer\">Lists.partition(List, int)</a> method:</p>\n<pre><code>List&lt;Foo&gt; foos = ...\nfor (List&lt;Foo&gt; partition : Lists.partition(foos, n)) {\n  // do something with partition\n}\n</code></pre>\n<p>Note that this, like many things, isn't very efficient with a <code>List</code> that isn't <code>RandomAccess</code> (such as a <code>LinkedList</code>).</p>\n"},{"comments":[{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1543588483,"post_id":5825037,"comment_id":93984457,"body_markdown":"What about the items after `to`?","body":"What about the items after <code>to</code>?"}],"tags":[],"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1304024852,"creation_date":1304024852,"answer_id":5825037,"question_id":5824825,"body_markdown":"What about\r\n\r\n    Arrays.copyOfRange( original, from, to )\r\n\r\n?","title":"Efficient way to divide a list into lists of n size","body":"<p>What about</p>\n\n<pre><code>Arrays.copyOfRange( original, from, to )\n</code></pre>\n\n<p>?</p>\n"},{"tags":[],"owner":{"account_id":202319,"reputation":4688,"user_id":449325,"display_name":"alpian"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1562062392,"creation_date":1304025254,"answer_id":5825112,"question_id":5824825,"body_markdown":"Well i wrote one myself before i saw ColinD&#39;s answer (+1) and using Guava is definitely the way to go.  It was too much fun to leave alone and so the below gives you a copy of the list rather than views so GUava&#39;s is definitely more efficient than this.  I&#39;m posting this because it was fun to write rather than suggesting it is as efficient:\r\n\r\nThe Hamcrest test (one of anyway):\r\n\r\n    assertThat(chunk(asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;), 2), \r\n               equalTo(asList(asList(&quot;a&quot;, &quot;b&quot;), asList(&quot;c&quot;, &quot;d&quot;), asList(&quot;e&quot;))));\r\n\r\nThe code:\r\n\r\n    public static &lt;T&gt; Iterable&lt;Iterable&lt;T&gt;&gt; chunk(Iterable&lt;T&gt; in, int size) {\r\n        List&lt;Iterable&lt;T&gt;&gt; lists = new ArrayList();\r\n        Iterator&lt;T&gt; i = in.iterator();\r\n        while (i.hasNext()) {\r\n            List&lt;T&gt; list = new ArrayList();\r\n            for (int j=0; i.hasNext() &amp;&amp; j&lt;size; j++) {\r\n                list.add(i.next());\r\n            }\r\n            lists.add(list);\r\n        }\r\n        return lists;\r\n    }","title":"Efficient way to divide a list into lists of n size","body":"<p>Well i wrote one myself before i saw ColinD's answer (+1) and using Guava is definitely the way to go.  It was too much fun to leave alone and so the below gives you a copy of the list rather than views so GUava's is definitely more efficient than this.  I'm posting this because it was fun to write rather than suggesting it is as efficient:</p>\n\n<p>The Hamcrest test (one of anyway):</p>\n\n<pre><code>assertThat(chunk(asList(\"a\", \"b\", \"c\", \"d\", \"e\"), 2), \n           equalTo(asList(asList(\"a\", \"b\"), asList(\"c\", \"d\"), asList(\"e\"))));\n</code></pre>\n\n<p>The code:</p>\n\n<pre><code>public static &lt;T&gt; Iterable&lt;Iterable&lt;T&gt;&gt; chunk(Iterable&lt;T&gt; in, int size) {\n    List&lt;Iterable&lt;T&gt;&gt; lists = new ArrayList();\n    Iterator&lt;T&gt; i = in.iterator();\n    while (i.hasNext()) {\n        List&lt;T&gt; list = new ArrayList();\n        for (int j=0; i.hasNext() &amp;&amp; j&lt;size; j++) {\n            list.add(i.next());\n        }\n        lists.add(list);\n    }\n    return lists;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6374818,"reputation":351,"user_id":4986636,"display_name":"Alberto De Francisco Mart&#237;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1446544211,"creation_date":1446544211,"answer_id":33495955,"question_id":5824825,"body_markdown":"If you are working with a list I use the &quot;[Apache Commons Collections 4][1]&quot; library. It has a partition method in the ListUtils class:\r\n\r\n    ...\r\n    int targetSize = 100;\r\n    List&lt;Integer&gt; largeList = ...\r\n    List&lt;List&lt;Integer&gt;&gt; output = ListUtils.partition(largeList, targetSize);\r\n\r\n\r\nThis method is adapted from http://code.google.com/p/guava-libraries/\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/","title":"Efficient way to divide a list into lists of n size","body":"<p>If you are working with a list I use the \"<a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"noreferrer\">Apache Commons Collections 4</a>\" library. It has a partition method in the ListUtils class:</p>\n\n<pre><code>...\nint targetSize = 100;\nList&lt;Integer&gt; largeList = ...\nList&lt;List&lt;Integer&gt;&gt; output = ListUtils.partition(largeList, targetSize);\n</code></pre>\n\n<p>This method is adapted from <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">http://code.google.com/p/guava-libraries/</a></p>\n"},{"tags":[],"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1468475818,"creation_date":1468475818,"answer_id":38366488,"question_id":5824825,"body_markdown":"\tpublic &lt;E&gt; Iterable&lt;List&lt;E&gt;&gt; partition(List&lt;E&gt; list, final int batchSize)\r\n\t{\r\n\t\tassert(batchSize &gt; 0);\r\n\t\tassert(list != null);\r\n\t\tassert(list.size() + batchSize &lt;= Integer.MAX_VALUE); //avoid overflow\r\n\r\n\t\tint idx = 0;\r\n\r\n\t\tList&lt;List&lt;E&gt;&gt; result = new ArrayList&lt;List&lt;E&gt;&gt;();\r\n\r\n\t\tfor (idx = 0; idx + batchSize &lt;= list.size(); idx += batchSize) {\r\n\t\t\tresult.add(list.subList(idx, idx + batchSize));\r\n\t\t}\r\n\t\tif (idx &lt; list.size()) {\r\n\t\t\tresult.add(list.subList(idx, list.size()));\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n","title":"Efficient way to divide a list into lists of n size","body":"<pre><code>public &lt;E&gt; Iterable&lt;List&lt;E&gt;&gt; partition(List&lt;E&gt; list, final int batchSize)\n{\n    assert(batchSize &gt; 0);\n    assert(list != null);\n    assert(list.size() + batchSize &lt;= Integer.MAX_VALUE); //avoid overflow\n\n    int idx = 0;\n\n    List&lt;List&lt;E&gt;&gt; result = new ArrayList&lt;List&lt;E&gt;&gt;();\n\n    for (idx = 0; idx + batchSize &lt;= list.size(); idx += batchSize) {\n        result.add(list.subList(idx, idx + batchSize));\n    }\n    if (idx &lt; list.size()) {\n        result.add(list.subList(idx, list.size()));\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470915524,"creation_date":1470915524,"answer_id":38895323,"question_id":5824825,"body_markdown":"I just implemented a list partitioning, because I couldn&#39;t use a library.\r\n\r\nSo I want to share my code here:\r\n\r\n\r\n\timport java.util.Iterator;\r\n\timport java.util.List;\r\n\timport java.util.NoSuchElementException;\r\n\r\n\tpublic class ListPartitioning&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\r\n\r\n\t  private final List&lt;T&gt; list;\r\n\t  private final int partitionSize;\r\n\r\n\t  public ListPartitioning(List&lt;T&gt; list, int partitionSize) {\r\n\t\tif (list == null) {\r\n\t\t  throw new IllegalArgumentException(&quot;list must not be null&quot;);\r\n\t\t}\r\n\t\tif (partitionSize &lt; 1) {\r\n\t\t  throw new IllegalArgumentException(&quot;partitionSize must be 1 or greater&quot;);\r\n\t\t}\r\n\t\tthis.list = list;\r\n\t\tthis.partitionSize = partitionSize;\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public Iterator&lt;List&lt;T&gt;&gt; iterator() {\r\n\t\treturn new ListPartitionIterator&lt;T&gt;(list, partitionSize);\r\n\t  }\r\n\r\n\t  private static class ListPartitionIterator&lt;T&gt; implements Iterator&lt;List&lt;T&gt;&gt; {\r\n\r\n\t\tprivate int index = 0;\r\n\r\n\t\tprivate List&lt;T&gt; listToPartition;\r\n\t\tprivate int partitionSize;\r\n\t\tprivate List&lt;T&gt; nextPartition;\r\n\r\n\t\tpublic ListPartitionIterator(List&lt;T&gt; listToPartition, int partitionSize) {\r\n\t\t  this.listToPartition = listToPartition;\r\n\t\t  this.partitionSize = partitionSize;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean hasNext() {\r\n\t\t  return index &lt; listToPartition.size();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic List&lt;T&gt; next() {\r\n\t\t  if (!hasNext()) {\r\n\t\t\tthrow new NoSuchElementException();\r\n\t\t  }\r\n\r\n\t\t  int partitionStart = index;\r\n\t\t  int partitionEnd = Math.min(index + partitionSize, listToPartition.size());\r\n\r\n\t\t  nextPartition = listToPartition.subList(partitionStart, partitionEnd);\r\n\t\t  index = partitionEnd;\r\n\t\t  return nextPartition;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void remove() {\r\n\t\t  if (nextPartition == null) {\r\n\t\t\tthrow new IllegalStateException(&quot;next must be called first&quot;);\r\n\t\t  }\r\n\r\n\t\t  nextPartition.clear();\r\n\t\t  index -= partitionSize;\r\n\t\t  nextPartition = null;\r\n\t\t}\r\n\t  }\r\n\t}\r\n\r\nAnd the unit test based on testng.\r\n\r\n\timport org.testng.Assert;\r\n\timport org.testng.annotations.Test;\r\n\r\n\timport java.util.*;\r\n\r\n\r\n\tpublic class ListPartitioningTest {\r\n\r\n\t  @Test(expectedExceptions = IllegalArgumentException.class)\r\n\t  public void nullList() {\r\n\t\tListPartitioning&lt;String&gt; lists = new ListPartitioning&lt;String&gt;(null, 1);\r\n\t  }\r\n\r\n\t  @Test(groups = Group.UNIT_TEST, expectedExceptions = IllegalArgumentException.class)\r\n\t  public void wrongPartitionSize() {\r\n\t\tListPartitioning&lt;String&gt; lists = new ListPartitioning&lt;String&gt;(new ArrayList&lt;String&gt;(), 0);\r\n\t  }\r\n\r\n\r\n\t  @Test()\r\n\t  public void iteratorTest() {\r\n\t\tList&lt;Integer&gt; integers = Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15);\r\n\t\tListPartitioning&lt;Integer&gt; listPartitioning = new ListPartitioning&lt;Integer&gt;(integers, 7);\r\n\t\tIterator&lt;List&lt;Integer&gt;&gt; partitionIterator = listPartitioning.iterator();\r\n\t\tAssert.assertNotNull(partitionIterator);\r\n\r\n\t\tAssert.assertTrue(partitionIterator.hasNext(), &quot;next partition (first)&quot;);\r\n\t\tList&lt;Integer&gt; partition = partitionIterator.next();\r\n\t\tAssert.assertEquals(partition, Arrays.asList(0, 1, 2, 3, 4, 5, 6));\r\n\r\n\t\tAssert.assertTrue(partitionIterator.hasNext(), &quot;next partition (second)&quot;);\r\n\t\tpartition = partitionIterator.next();\r\n\t\tAssert.assertEquals(partition, Arrays.asList(7, 8, 9, 10, 11, 12, 13));\r\n\r\n\t\tAssert.assertTrue(partitionIterator.hasNext(), &quot;next partition (third)&quot;);\r\n\t\tpartition = partitionIterator.next();\r\n\t\tAssert.assertEquals(partition, Arrays.asList(14, 15));\r\n\r\n\t\tAssert.assertFalse(partitionIterator.hasNext());\r\n\t  }\r\n\r\n\t  @Test(expectedExceptions = NoSuchElementException.class)\r\n\t  public void noSuchElementException() {\r\n\t\tList&lt;Integer&gt; integers = Arrays.asList(1);\r\n\t\tListPartitioning&lt;Integer&gt; listPartitioning = new ListPartitioning&lt;Integer&gt;(integers, 2);\r\n\t\tIterator&lt;List&lt;Integer&gt;&gt; partitionIterator = listPartitioning.iterator();\r\n\t\tList&lt;Integer&gt; partition = partitionIterator.next();\r\n\t\tpartition = partitionIterator.next();\r\n\t  }\r\n\r\n\t  @Test(expectedExceptions = IllegalStateException.class)\r\n\t  public void removeWithoutNext() {\r\n\t\tList&lt;Integer&gt; integers = new ArrayList&lt;Integer&gt;(Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15));\r\n\t\tListPartitioning&lt;Integer&gt; listPartitioning = new ListPartitioning&lt;Integer&gt;(integers, 7);\r\n\t\tIterator&lt;List&lt;Integer&gt;&gt; partitionIterator = listPartitioning.iterator();\r\n\t\tpartitionIterator.remove();\r\n\t  }\r\n\r\n\t  @Test()\r\n\t  public void remove() {\r\n\t\tList&lt;Integer&gt; integers = new ArrayList&lt;Integer&gt;(Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15));\r\n\t\tListPartitioning&lt;Integer&gt; listPartitioning = new ListPartitioning&lt;Integer&gt;(integers, 7);\r\n\t\tIterator&lt;List&lt;Integer&gt;&gt; partitionIterator = listPartitioning.iterator();\r\n\r\n\t\tpartitionIterator.next();\r\n\t\tpartitionIterator.next();\r\n\r\n\t\tpartitionIterator.remove();\r\n\t\tAssert.assertTrue(partitionIterator.hasNext(), &quot;next partition &quot;);\r\n\t\tList&lt;Integer&gt; partition = partitionIterator.next();\r\n\t\tAssert.assertEquals(partition, Arrays.asList(14, 15));\r\n\r\n\t\tAssert.assertFalse(partitionIterator.hasNext());\r\n\r\n\t\tAssert.assertEquals(integers, Arrays.asList(0, 1, 2, 3, 4, 5, 6, 14, 15));\r\n\t  }\r\n\t}\r\n\r\n","title":"Efficient way to divide a list into lists of n size","body":"<p>I just implemented a list partitioning, because I couldn't use a library.</p>\n\n<p>So I want to share my code here:</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.List;\nimport java.util.NoSuchElementException;\n\npublic class ListPartitioning&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\n\n  private final List&lt;T&gt; list;\n  private final int partitionSize;\n\n  public ListPartitioning(List&lt;T&gt; list, int partitionSize) {\n    if (list == null) {\n      throw new IllegalArgumentException(\"list must not be null\");\n    }\n    if (partitionSize &lt; 1) {\n      throw new IllegalArgumentException(\"partitionSize must be 1 or greater\");\n    }\n    this.list = list;\n    this.partitionSize = partitionSize;\n  }\n\n  @Override\n  public Iterator&lt;List&lt;T&gt;&gt; iterator() {\n    return new ListPartitionIterator&lt;T&gt;(list, partitionSize);\n  }\n\n  private static class ListPartitionIterator&lt;T&gt; implements Iterator&lt;List&lt;T&gt;&gt; {\n\n    private int index = 0;\n\n    private List&lt;T&gt; listToPartition;\n    private int partitionSize;\n    private List&lt;T&gt; nextPartition;\n\n    public ListPartitionIterator(List&lt;T&gt; listToPartition, int partitionSize) {\n      this.listToPartition = listToPartition;\n      this.partitionSize = partitionSize;\n    }\n\n    @Override\n    public boolean hasNext() {\n      return index &lt; listToPartition.size();\n    }\n\n    @Override\n    public List&lt;T&gt; next() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n\n      int partitionStart = index;\n      int partitionEnd = Math.min(index + partitionSize, listToPartition.size());\n\n      nextPartition = listToPartition.subList(partitionStart, partitionEnd);\n      index = partitionEnd;\n      return nextPartition;\n    }\n\n    @Override\n    public void remove() {\n      if (nextPartition == null) {\n        throw new IllegalStateException(\"next must be called first\");\n      }\n\n      nextPartition.clear();\n      index -= partitionSize;\n      nextPartition = null;\n    }\n  }\n}\n</code></pre>\n\n<p>And the unit test based on testng.</p>\n\n<pre><code>import org.testng.Assert;\nimport org.testng.annotations.Test;\n\nimport java.util.*;\n\n\npublic class ListPartitioningTest {\n\n  @Test(expectedExceptions = IllegalArgumentException.class)\n  public void nullList() {\n    ListPartitioning&lt;String&gt; lists = new ListPartitioning&lt;String&gt;(null, 1);\n  }\n\n  @Test(groups = Group.UNIT_TEST, expectedExceptions = IllegalArgumentException.class)\n  public void wrongPartitionSize() {\n    ListPartitioning&lt;String&gt; lists = new ListPartitioning&lt;String&gt;(new ArrayList&lt;String&gt;(), 0);\n  }\n\n\n  @Test()\n  public void iteratorTest() {\n    List&lt;Integer&gt; integers = Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15);\n    ListPartitioning&lt;Integer&gt; listPartitioning = new ListPartitioning&lt;Integer&gt;(integers, 7);\n    Iterator&lt;List&lt;Integer&gt;&gt; partitionIterator = listPartitioning.iterator();\n    Assert.assertNotNull(partitionIterator);\n\n    Assert.assertTrue(partitionIterator.hasNext(), \"next partition (first)\");\n    List&lt;Integer&gt; partition = partitionIterator.next();\n    Assert.assertEquals(partition, Arrays.asList(0, 1, 2, 3, 4, 5, 6));\n\n    Assert.assertTrue(partitionIterator.hasNext(), \"next partition (second)\");\n    partition = partitionIterator.next();\n    Assert.assertEquals(partition, Arrays.asList(7, 8, 9, 10, 11, 12, 13));\n\n    Assert.assertTrue(partitionIterator.hasNext(), \"next partition (third)\");\n    partition = partitionIterator.next();\n    Assert.assertEquals(partition, Arrays.asList(14, 15));\n\n    Assert.assertFalse(partitionIterator.hasNext());\n  }\n\n  @Test(expectedExceptions = NoSuchElementException.class)\n  public void noSuchElementException() {\n    List&lt;Integer&gt; integers = Arrays.asList(1);\n    ListPartitioning&lt;Integer&gt; listPartitioning = new ListPartitioning&lt;Integer&gt;(integers, 2);\n    Iterator&lt;List&lt;Integer&gt;&gt; partitionIterator = listPartitioning.iterator();\n    List&lt;Integer&gt; partition = partitionIterator.next();\n    partition = partitionIterator.next();\n  }\n\n  @Test(expectedExceptions = IllegalStateException.class)\n  public void removeWithoutNext() {\n    List&lt;Integer&gt; integers = new ArrayList&lt;Integer&gt;(Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15));\n    ListPartitioning&lt;Integer&gt; listPartitioning = new ListPartitioning&lt;Integer&gt;(integers, 7);\n    Iterator&lt;List&lt;Integer&gt;&gt; partitionIterator = listPartitioning.iterator();\n    partitionIterator.remove();\n  }\n\n  @Test()\n  public void remove() {\n    List&lt;Integer&gt; integers = new ArrayList&lt;Integer&gt;(Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15));\n    ListPartitioning&lt;Integer&gt; listPartitioning = new ListPartitioning&lt;Integer&gt;(integers, 7);\n    Iterator&lt;List&lt;Integer&gt;&gt; partitionIterator = listPartitioning.iterator();\n\n    partitionIterator.next();\n    partitionIterator.next();\n\n    partitionIterator.remove();\n    Assert.assertTrue(partitionIterator.hasNext(), \"next partition \");\n    List&lt;Integer&gt; partition = partitionIterator.next();\n    Assert.assertEquals(partition, Arrays.asList(14, 15));\n\n    Assert.assertFalse(partitionIterator.hasNext());\n\n    Assert.assertEquals(integers, Arrays.asList(0, 1, 2, 3, 4, 5, 6, 14, 15));\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1477288,"reputation":5052,"user_id":1387386,"display_name":"Anatolii Shuba"},"score":3,"creation_date":1507245739,"post_id":41898691,"comment_id":80145069,"body_markdown":"Definitely best answer","body":"Definitely best answer"},{"owner":{"account_id":13728370,"reputation":454,"user_id":9906495,"display_name":"pujan kc"},"score":0,"creation_date":1609932296,"post_id":41898691,"comment_id":115973405,"body_markdown":"Thanks for the best solution.","body":"Thanks for the best solution."},{"owner":{"account_id":12606630,"reputation":105,"user_id":9167310,"display_name":"bzuo"},"score":0,"creation_date":1697959894,"post_id":41898691,"comment_id":136343018,"body_markdown":"Well, the moment I feel LeetCode stuff is useful. Thanks","body":"Well, the moment I feel LeetCode stuff is useful. Thanks"}],"tags":[],"owner":{"account_id":6665631,"reputation":1638,"user_id":5143356,"accept_rate":64,"display_name":"BrownRecluse"},"comment_count":3,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1485534771,"creation_date":1485534771,"answer_id":41898691,"question_id":5824825,"body_markdown":"For example:\r\n\r\n        int partitionSize = 10;\r\n        List&lt;List&lt;String&gt;&gt; partitions = new ArrayList&lt;&gt;();\r\n\r\n        for (int i=0; i&lt;yourlist.size(); i += partitionSize) {\r\n            partitions.add(yourlist.subList(i, Math.min(i + partitionSize, yourlist.size())));\r\n        }\r\n\r\n        for (List&lt;String&gt; list : partitions) {\r\n            //Do your stuff on each sub list\r\n        }\r\n        \r\n    ","title":"Efficient way to divide a list into lists of n size","body":"<p>For example:</p>\n\n<pre><code>    int partitionSize = 10;\n    List&lt;List&lt;String&gt;&gt; partitions = new ArrayList&lt;&gt;();\n\n    for (int i=0; i&lt;yourlist.size(); i += partitionSize) {\n        partitions.add(yourlist.subList(i, Math.min(i + partitionSize, yourlist.size())));\n    }\n\n    for (List&lt;String&gt; list : partitions) {\n        //Do your stuff on each sub list\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4947781,"reputation":115,"user_id":3982705,"display_name":"Anshu Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1527869964,"creation_date":1527866356,"answer_id":50646576,"question_id":5824825,"body_markdown":"If you don&#39;t want to use a library, here&#39;s my solution\r\n\r\n1.To partition in N equal parts:\r\n\r\n    private &lt;T&gt; List&lt;List&lt;T&gt;&gt; nPartition(List&lt;T&gt; objs, final int N) {\r\n\t\treturn new ArrayList&lt;&gt;(IntStream.range(0, objs.size()).boxed().collect(\r\n\t\t\t\tCollectors.groupingBy(e-&gt;e%N,Collectors.mapping(e-&gt;objs.get(e), Collectors.toList())\r\n\t\t\t\t\t\t)).values());\r\n\t}\r\n2. To partition in sets of N items:\r\n\r\n    private &lt;T&gt; List&lt;List&lt;T&gt;&gt; nPartition(List&lt;T&gt; objs, final int N) {\r\n\t\treturn new ArrayList&lt;&gt;(IntStream.range(0, objs.size()).boxed().collect(\r\n\t\t\t\tCollectors.groupingBy(e-&gt;e/N,Collectors.mapping(e-&gt;objs.get(e), Collectors.toList())\r\n\t\t\t\t\t\t)).values());\r\n        }\r\n\r\nIn action here:\r\nhttps://ideone.com/QiQnbE","title":"Efficient way to divide a list into lists of n size","body":"<p>If you don't want to use a library, here's my solution</p>\n\n<p>1.To partition in N equal parts:</p>\n\n<pre><code>private &lt;T&gt; List&lt;List&lt;T&gt;&gt; nPartition(List&lt;T&gt; objs, final int N) {\n    return new ArrayList&lt;&gt;(IntStream.range(0, objs.size()).boxed().collect(\n            Collectors.groupingBy(e-&gt;e%N,Collectors.mapping(e-&gt;objs.get(e), Collectors.toList())\n                    )).values());\n}\n</code></pre>\n\n<p>2. To partition in sets of N items:</p>\n\n<pre><code>private &lt;T&gt; List&lt;List&lt;T&gt;&gt; nPartition(List&lt;T&gt; objs, final int N) {\n    return new ArrayList&lt;&gt;(IntStream.range(0, objs.size()).boxed().collect(\n            Collectors.groupingBy(e-&gt;e/N,Collectors.mapping(e-&gt;objs.get(e), Collectors.toList())\n                    )).values());\n    }\n</code></pre>\n\n<p>In action here:\n<a href=\"https://ideone.com/QiQnbE\" rel=\"noreferrer\">https://ideone.com/QiQnbE</a></p>\n"},{"comments":[{"owner":{"account_id":183367,"reputation":873,"user_id":418693,"accept_rate":75,"display_name":"Arman"},"score":1,"creation_date":1641245527,"post_id":50762390,"comment_id":124751855,"body_markdown":"Note that `Lists.partition()` seems to be a Google Guava specific implementation.","body":"Note that <code>Lists.partition()</code> seems to be a Google Guava specific implementation."}],"tags":[],"owner":{"account_id":13139235,"reputation":79,"user_id":9491307,"display_name":"L. Schilling"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632405142,"creation_date":1528466549,"answer_id":50762390,"question_id":5824825,"body_markdown":"Since you want to optimise your performance you should use a parallel stream instead of a for loop. This way you can use multiple threads.\r\n\r\n    Lists.partition(A, n).parallelStream().forEach({\r\n        //do stuff with temp\r\n    });\r\n\r\nYou can also use other ways to work with the stream for example collect or map if it matches your purpose.","title":"Efficient way to divide a list into lists of n size","body":"<p>Since you want to optimise your performance you should use a parallel stream instead of a for loop. This way you can use multiple threads.</p>\n<pre><code>Lists.partition(A, n).parallelStream().forEach({\n    //do stuff with temp\n});\n</code></pre>\n<p>You can also use other ways to work with the stream for example collect or map if it matches your purpose.</p>\n"},{"comments":[{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1543588260,"post_id":50840656,"comment_id":93984346,"body_markdown":"`If you want to guarantee numPartitions array size ` What does this mean?","body":"<code>If you want to guarantee numPartitions array size </code> What does this mean?"}],"tags":[],"owner":{"account_id":3656281,"reputation":1256,"user_id":5870336,"accept_rate":71,"display_name":"Sina Madani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528902708,"creation_date":1528902708,"answer_id":50840656,"question_id":5824825,"body_markdown":"Here is a way to partition a List&lt;T&gt; into an array of sublists, which ensures all but the last sublist have equal number of elements:\r\n\r\n\tstatic &lt;T&gt; List&lt;T&gt;[] split(List&lt;T&gt; source, int numPartitions) {\r\n\t\tif (numPartitions &lt; 2)\r\n\t\t\treturn new List[]{source};\r\n\t\t\r\n\t\tfinal int sourceSize = source.size(),\r\n\t\t    partitions = numPartitions &gt; sourceSize ? sourceSize: numPartitions,\r\n\t\t    increments = sourceSize / partitions;\r\n\r\n\t\treturn IntStream.rangeClosed(0, partitions)\r\n\t\t\t.mapToObj(i -&gt; source.subList(i*increments, Math.min((i+1)*increments, sourceSize)))\r\n\t\t\t.toArray(List[]::new);\r\n    }\r\n\r\nIf you want to guarantee `numPartitions` array size then you want:\r\n\r\n    static &lt;T&gt; List&lt;T&gt;[] split(List&lt;T&gt; source, int numPartitions) {\r\n\t\tif (numPartitions &lt; 2)\r\n\t\t\treturn new List[]{source};\r\n\t\t\r\n\t\tfinal int sourceSize = source.size(),\r\n\t\t    partitions = numPartitions &gt; sourceSize ? sourceSize: numPartitions,\r\n\t\t    increments = sourceSize / partitions;\r\n\r\n\t\treturn IntStream.range(0, partitions)\r\n\t\t\t.mapToObj(i -&gt; source.subList(i*increments, i == partitions-1 ? sourceSize : (i+1)*increments))\r\n\t\t\t.toArray(List[]::new);\r\n    }","title":"Efficient way to divide a list into lists of n size","body":"<p>Here is a way to partition a List into an array of sublists, which ensures all but the last sublist have equal number of elements:</p>\n\n<pre><code>static &lt;T&gt; List&lt;T&gt;[] split(List&lt;T&gt; source, int numPartitions) {\n    if (numPartitions &lt; 2)\n        return new List[]{source};\n\n    final int sourceSize = source.size(),\n        partitions = numPartitions &gt; sourceSize ? sourceSize: numPartitions,\n        increments = sourceSize / partitions;\n\n    return IntStream.rangeClosed(0, partitions)\n        .mapToObj(i -&gt; source.subList(i*increments, Math.min((i+1)*increments, sourceSize)))\n        .toArray(List[]::new);\n}\n</code></pre>\n\n<p>If you want to guarantee <code>numPartitions</code> array size then you want:</p>\n\n<pre><code>static &lt;T&gt; List&lt;T&gt;[] split(List&lt;T&gt; source, int numPartitions) {\n    if (numPartitions &lt; 2)\n        return new List[]{source};\n\n    final int sourceSize = source.size(),\n        partitions = numPartitions &gt; sourceSize ? sourceSize: numPartitions,\n        increments = sourceSize / partitions;\n\n    return IntStream.range(0, partitions)\n        .mapToObj(i -&gt; source.subList(i*increments, i == partitions-1 ? sourceSize : (i+1)*increments))\n        .toArray(List[]::new);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12434333,"reputation":21,"user_id":9055300,"display_name":"Yong"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1542014579,"creation_date":1542011664,"answer_id":53258371,"question_id":5824825,"body_markdown":"One line using Java 8:\r\n\r\n    IntStream.range(0, list.size() / batchSize + 1)\r\n            .mapToObj(i -&gt; list.subList(i * batchSize,\r\n                    Math.min(i * batchSize + batchSize, list.size())))\r\n            .filter(s -&gt; !s.isEmpty()).collect(Collectors.toList());","title":"Efficient way to divide a list into lists of n size","body":"<p>One line using Java 8:</p>\n\n<pre><code>IntStream.range(0, list.size() / batchSize + 1)\n        .mapToObj(i -&gt; list.subList(i * batchSize,\n                Math.min(i * batchSize + batchSize, list.size())))\n        .filter(s -&gt; !s.isEmpty()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2774396,"reputation":61,"user_id":2388256,"display_name":"TodayGuessWhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543498091,"creation_date":1543498091,"answer_id":53540139,"question_id":5824825,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class SubListTest\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            List&lt;String&gt; alphabetNames = new ArrayList&lt;String&gt;();\r\n    \r\n            // populate alphabetNames array with AAA,BBB,CCC,.....\r\n            int a = (int) &#39;A&#39;;\r\n            for (int i = 0; i &lt; 26; i++)\r\n            {\r\n                char x = (char) (a + i);\r\n                char[] array = new char[3];\r\n                Arrays.fill(array, x);\r\n                alphabetNames.add(new String(array));\r\n            }\r\n    \r\n            int[] maxListSizes = new int[]\r\n            {\r\n                5, 10, 15, 20, 25, 30\r\n            };\r\n    \r\n            for (int maxListSize : maxListSizes)\r\n            {\r\n                System.out.println(&quot;######################################################&quot;);\r\n                System.out.println(&quot;Partitioning original list of size &quot; + alphabetNames.size() + &quot; in to sub lists of max size &quot;\r\n                    + maxListSize);\r\n    \r\n                ArrayList&lt;List&lt;String&gt;&gt; subListArray = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n                if (alphabetNames.size() &lt;= maxListSize)\r\n                {\r\n                    subListArray.add(alphabetNames);\r\n                }\r\n                else\r\n                {\r\n                    // based on subLists of maxListSize X\r\n                    int subListArraySize = (alphabetNames.size() + maxListSize - 1) / maxListSize;\r\n                    for (int i = 0; i &lt; subListArraySize; i++)\r\n                    {\r\n                        subListArray.add(alphabetNames.subList(i * maxListSize,\r\n                            Math.min((i * maxListSize) + maxListSize, alphabetNames.size())));\r\n                    }\r\n                }\r\n    \r\n                System.out.println(&quot;Resulting number of partitions &quot; + subListArray.size());\r\n    \r\n                for (List&lt;String&gt; subList : subListArray)\r\n                {\r\n                    System.out.println(subList);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    ######################################################\r\n    Partitioning original list of size 26 in to sub lists of max size 5\r\n    Resulting number of partitions 6\r\n    [AAA, BBB, CCC, DDD, EEE]\r\n    [FFF, GGG, HHH, III, JJJ]\r\n    [KKK, LLL, MMM, NNN, OOO]\r\n    [PPP, QQQ, RRR, SSS, TTT]\r\n    [UUU, VVV, WWW, XXX, YYY]\r\n    [ZZZ]\r\n    ######################################################\r\n    Partitioning original list of size 26 in to sub lists of max size 10\r\n    Resulting number of partitions 3\r\n    [AAA, BBB, CCC, DDD, EEE, FFF, GGG, HHH, III, JJJ]\r\n    [KKK, LLL, MMM, NNN, OOO, PPP, QQQ, RRR, SSS, TTT]\r\n    [UUU, VVV, WWW, XXX, YYY, ZZZ]\r\n    ######################################################\r\n    Partitioning original list of size 26 in to sub lists of max size 15\r\n    Resulting number of partitions 2\r\n    [AAA, BBB, CCC, DDD, EEE, FFF, GGG, HHH, III, JJJ, KKK, LLL, MMM, NNN, OOO]\r\n    [PPP, QQQ, RRR, SSS, TTT, UUU, VVV, WWW, XXX, YYY, ZZZ]\r\n    ######################################################\r\n    Partitioning original list of size 26 in to sub lists of max size 20\r\n    Resulting number of partitions 2\r\n    [AAA, BBB, CCC, DDD, EEE, FFF, GGG, HHH, III, JJJ, KKK, LLL, MMM, NNN, OOO, PPP, QQQ, RRR, SSS, TTT]\r\n    [UUU, VVV, WWW, XXX, YYY, ZZZ]\r\n    ######################################################\r\n    Partitioning original list of size 26 in to sub lists of max size 25\r\n    Resulting number of partitions 2\r\n    [AAA, BBB, CCC, DDD, EEE, FFF, GGG, HHH, III, JJJ, KKK, LLL, MMM, NNN, OOO, PPP, QQQ, RRR, SSS, TTT, UUU, VVV, WWW, XXX, YYY]\r\n    [ZZZ]\r\n    ######################################################\r\n    Partitioning original list of size 26 in to sub lists of max size 30\r\n    Resulting number of partitions 1\r\n    [AAA, BBB, CCC, DDD, EEE, FFF, GGG, HHH, III, JJJ, KKK, LLL, MMM, NNN, OOO, PPP, QQQ, RRR, SSS, TTT, UUU, VVV, WWW, XXX, YYY, ZZZ]\r\n    \r\n","title":"Efficient way to divide a list into lists of n size","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class SubListTest\n{\n    public static void main(String[] args)\n    {\n        List&lt;String&gt; alphabetNames = new ArrayList&lt;String&gt;();\n\n        // populate alphabetNames array with AAA,BBB,CCC,.....\n        int a = (int) 'A';\n        for (int i = 0; i &lt; 26; i++)\n        {\n            char x = (char) (a + i);\n            char[] array = new char[3];\n            Arrays.fill(array, x);\n            alphabetNames.add(new String(array));\n        }\n\n        int[] maxListSizes = new int[]\n        {\n            5, 10, 15, 20, 25, 30\n        };\n\n        for (int maxListSize : maxListSizes)\n        {\n            System.out.println(\"######################################################\");\n            System.out.println(\"Partitioning original list of size \" + alphabetNames.size() + \" in to sub lists of max size \"\n                + maxListSize);\n\n            ArrayList&lt;List&lt;String&gt;&gt; subListArray = new ArrayList&lt;List&lt;String&gt;&gt;();\n            if (alphabetNames.size() &lt;= maxListSize)\n            {\n                subListArray.add(alphabetNames);\n            }\n            else\n            {\n                // based on subLists of maxListSize X\n                int subListArraySize = (alphabetNames.size() + maxListSize - 1) / maxListSize;\n                for (int i = 0; i &lt; subListArraySize; i++)\n                {\n                    subListArray.add(alphabetNames.subList(i * maxListSize,\n                        Math.min((i * maxListSize) + maxListSize, alphabetNames.size())));\n                }\n            }\n\n            System.out.println(\"Resulting number of partitions \" + subListArray.size());\n\n            for (List&lt;String&gt; subList : subListArray)\n            {\n                System.out.println(subList);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>######################################################\nPartitioning original list of size 26 in to sub lists of max size 5\nResulting number of partitions 6\n[AAA, BBB, CCC, DDD, EEE]\n[FFF, GGG, HHH, III, JJJ]\n[KKK, LLL, MMM, NNN, OOO]\n[PPP, QQQ, RRR, SSS, TTT]\n[UUU, VVV, WWW, XXX, YYY]\n[ZZZ]\n######################################################\nPartitioning original list of size 26 in to sub lists of max size 10\nResulting number of partitions 3\n[AAA, BBB, CCC, DDD, EEE, FFF, GGG, HHH, III, JJJ]\n[KKK, LLL, MMM, NNN, OOO, PPP, QQQ, RRR, SSS, TTT]\n[UUU, VVV, WWW, XXX, YYY, ZZZ]\n######################################################\nPartitioning original list of size 26 in to sub lists of max size 15\nResulting number of partitions 2\n[AAA, BBB, CCC, DDD, EEE, FFF, GGG, HHH, III, JJJ, KKK, LLL, MMM, NNN, OOO]\n[PPP, QQQ, RRR, SSS, TTT, UUU, VVV, WWW, XXX, YYY, ZZZ]\n######################################################\nPartitioning original list of size 26 in to sub lists of max size 20\nResulting number of partitions 2\n[AAA, BBB, CCC, DDD, EEE, FFF, GGG, HHH, III, JJJ, KKK, LLL, MMM, NNN, OOO, PPP, QQQ, RRR, SSS, TTT]\n[UUU, VVV, WWW, XXX, YYY, ZZZ]\n######################################################\nPartitioning original list of size 26 in to sub lists of max size 25\nResulting number of partitions 2\n[AAA, BBB, CCC, DDD, EEE, FFF, GGG, HHH, III, JJJ, KKK, LLL, MMM, NNN, OOO, PPP, QQQ, RRR, SSS, TTT, UUU, VVV, WWW, XXX, YYY]\n[ZZZ]\n######################################################\nPartitioning original list of size 26 in to sub lists of max size 30\nResulting number of partitions 1\n[AAA, BBB, CCC, DDD, EEE, FFF, GGG, HHH, III, JJJ, KKK, LLL, MMM, NNN, OOO, PPP, QQQ, RRR, SSS, TTT, UUU, VVV, WWW, XXX, YYY, ZZZ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10786100,"reputation":2966,"user_id":7935057,"display_name":"Iceberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1591680358,"creation_date":1591680358,"answer_id":62275604,"question_id":5824825,"body_markdown":"\r\n// Testing data\r\n```java\r\nList&lt;Integer&gt; list = Arrays.asList(0, 1, 2,     3, 4, 5,    6, 7, 8,    9);\r\nint n = 3;\r\n```\r\n\r\n&lt;b&gt;// One line(statement) with java 8 stream and list.subList&lt;/b&gt;\r\n```java\r\nList&lt;List&lt;Integer&gt;&gt; partitions = IntStream.range(0, list.size())\r\n    .filter(i -&gt; i % n == 0)\r\n    .mapToObj(i -&gt; list.subList(i, Math.min(i + n, list.size() )))\r\n    .collect(Collectors.toList());\r\n```","title":"Efficient way to divide a list into lists of n size","body":"<p>// Testing data</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = Arrays.asList(0, 1, 2,     3, 4, 5,    6, 7, 8,    9);\nint n = 3;\n</code></pre>\n\n<p><b>// One line(statement) with java 8 stream and list.subList</b></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Integer&gt;&gt; partitions = IntStream.range(0, list.size())\n    .filter(i -&gt; i % n == 0)\n    .mapToObj(i -&gt; list.subList(i, Math.min(i + n, list.size() )))\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4003398,"reputation":111,"user_id":3298774,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650642789,"creation_date":1650642789,"answer_id":71971495,"question_id":5824825,"body_markdown":"Based on @BrownRecluse[ response][1], you can implement this method:\r\n\r\n```\r\npublic HashMap&lt;Integer,Object&gt; splitListInSubLists(List&lt;? extends Object&gt; originalList, Integer sizeSublist){\r\n\tHashMap&lt;Integer,Object&gt; sublistHashMap =  new HashMap&lt;Integer, Object&gt;();\r\n\tif ((originalList!=null) &amp;&amp; (sizeSublist!=null)) {\r\n\t    for (int i=0; i&lt;originalList.size(); i += sizeSublist) {\r\n\t\t    sublistHashMap.put(i, (Object) originalList.subList(i, Math.min(i + sizeSublist, originalList.size())));\r\n\t\t}\r\n\t}\r\n\treturn sublistHashMap;\r\n}\r\n````\r\nAnd this is a example:\r\n\r\n```` \r\n// Example - Split original List in sublists\r\nList&lt;String&gt; myLongList = Arrays.asList(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;);\r\n\t\t\r\nHashMap&lt;Integer, Object&gt; sublists = splitListInSubLists(myLongList , 3);\r\n\t\t\t\r\nfor (Object sublist : sublists.values()) {// Iterate\r\n\tList&lt;String&gt; mySublist= (List&lt;String&gt;) sublist;\r\n       // Your code ...\r\n}\r\n\r\n,,, \r\n  [1]: https://stackoverflow.com/users/5143356/brownrecluse","title":"Efficient way to divide a list into lists of n size","body":"<p>Based on @BrownRecluse[ response][1], you can implement this method:</p>\n<pre><code>public HashMap&lt;Integer,Object&gt; splitListInSubLists(List&lt;? extends Object&gt; originalList, Integer sizeSublist){\n    HashMap&lt;Integer,Object&gt; sublistHashMap =  new HashMap&lt;Integer, Object&gt;();\n    if ((originalList!=null) &amp;&amp; (sizeSublist!=null)) {\n        for (int i=0; i&lt;originalList.size(); i += sizeSublist) {\n            sublistHashMap.put(i, (Object) originalList.subList(i, Math.min(i + sizeSublist, originalList.size())));\n        }\n    }\n    return sublistHashMap;\n}\n</code></pre>\n<p>And this is a example:</p>\n<pre><code>// Example - Split original List in sublists\nList&lt;String&gt; myLongList = Arrays.asList(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;);\n        \nHashMap&lt;Integer, Object&gt; sublists = splitListInSubLists(myLongList , 3);\n            \nfor (Object sublist : sublists.values()) {// Iterate\n    List&lt;String&gt; mySublist= (List&lt;String&gt;) sublist;\n       // Your code ...\n}\n\n,,, \n  [1]: https://stackoverflow.com/users/5143356/brownrecluse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1072085,"reputation":95,"user_id":1071113,"display_name":"polarfish"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670409068,"creation_date":1670408740,"answer_id":74715119,"question_id":5824825,"body_markdown":"```\r\n# Java 9\r\npublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; partition(List&lt;T&gt; list, int size) {\r\n    return Stream.iterate(0, i -&gt; i &lt;= list.size(), i -&gt; i + size)\r\n        .map(i -&gt; list.subList(i, Math.min(i + size, list.size())))\r\n        .filter(Predicate.not(List::isEmpty))\r\n        .toList();\r\n}\r\n```\r\n\r\n```\r\ntesting partition(list, 3)\r\n\r\n[1, 2, 3, 4, 5]       &gt; [[1, 2, 3], [4, 5]]\r\n[1, 2, 3, 4, 5, 6]    &gt; [[1, 2, 3], [4, 5, 6]]\r\n[1, 2, 3, 4, 5, 6, 7] &gt; [[1, 2, 3], [4, 5, 6], [7]]\r\n[1]                   &gt; [[1]]\r\n[]                    &gt; []\r\n```","title":"Efficient way to divide a list into lists of n size","body":"<pre><code># Java 9\npublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; partition(List&lt;T&gt; list, int size) {\n    return Stream.iterate(0, i -&gt; i &lt;= list.size(), i -&gt; i + size)\n        .map(i -&gt; list.subList(i, Math.min(i + size, list.size())))\n        .filter(Predicate.not(List::isEmpty))\n        .toList();\n}\n</code></pre>\n<pre><code>testing partition(list, 3)\n\n[1, 2, 3, 4, 5]       &gt; [[1, 2, 3], [4, 5]]\n[1, 2, 3, 4, 5, 6]    &gt; [[1, 2, 3], [4, 5, 6]]\n[1, 2, 3, 4, 5, 6, 7] &gt; [[1, 2, 3], [4, 5, 6], [7]]\n[1]                   &gt; [[1]]\n[]                    &gt; []\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680527657,"creation_date":1680527657,"answer_id":75919885,"question_id":5824825,"body_markdown":"Had I compelled to do this without relying on any 3&lt;sup&gt;rd&lt;/sup&gt; party library, I&#39;d go with something like\r\n\r\n```java\r\n&lt;T&gt; List&lt;List&lt;T&gt;&gt; partitionList(List&lt;T&gt; src, int maxPartitionSize) {\r\n  final List&lt;List&lt;T&gt;&gt; res = new ArrayList&lt;&gt;();\r\n\r\n  for (int i = 0; i &lt; src.size(); i++) {\r\n    if (i % maxPartitionSize == 0) {\r\n      res.add(new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    res.get(i / maxPartitionSize).add(src.get(i));\r\n  }\r\n\r\n  return res;\r\n}\r\n```\r\n\r\nComplete example:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class ListPartitionDemo {\r\n  public static void main(String[] args) {\r\n    final List&lt;Integer&gt; toPartition = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9);\r\n    System.out.println(partitionList(toPartition, 2));\r\n  }\r\n\r\n  // public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; partitionList(List&lt;T&gt; src, int maxPartitionSize) { ... }\r\n}\r\n```\r\n\r\nresulting in\r\n\r\n```bash\r\n[[1, 2], [3, 4], [5, 6], [7, 8], [9]]\r\n```","title":"Efficient way to divide a list into lists of n size","body":"<p>Had I compelled to do this without relying on any 3<sup>rd</sup> party library, I'd go with something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; List&lt;List&lt;T&gt;&gt; partitionList(List&lt;T&gt; src, int maxPartitionSize) {\n  final List&lt;List&lt;T&gt;&gt; res = new ArrayList&lt;&gt;();\n\n  for (int i = 0; i &lt; src.size(); i++) {\n    if (i % maxPartitionSize == 0) {\n      res.add(new ArrayList&lt;&gt;());\n    }\n\n    res.get(i / maxPartitionSize).add(src.get(i));\n  }\n\n  return res;\n}\n</code></pre>\n<p>Complete example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class ListPartitionDemo {\n  public static void main(String[] args) {\n    final List&lt;Integer&gt; toPartition = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9);\n    System.out.println(partitionList(toPartition, 2));\n  }\n\n  // public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; partitionList(List&lt;T&gt; src, int maxPartitionSize) { ... }\n}\n</code></pre>\n<p>resulting in</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[[1, 2], [3, 4], [5, 6], [7, 8], [9]]\n</code></pre>\n"}],"owner":{"account_id":131705,"reputation":1409,"user_id":331892,"accept_rate":90,"display_name":"Rowhawn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147093,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":5824908,"answer_count":17,"score":71,"last_activity_date":1680527657,"creation_date":1304023761,"question_id":5824825,"body_markdown":"I have an `ArrayList`, which I want to divide into smaller `List` objects of `n` size, and perform an operation on each.\r\nMy current method of doing this is implemented with `ArrayList` objects in Java. Any pseudocode will do.\r\n\r\n    \tfor (int i = 1; i &lt;= Math.floor((A.size() / n)); i++) {\r\n    \t\t\tArrayList temp = subArray(A, ((i * n) - n),\r\n    \t\t\t\t\t(i * n) - 1);\r\n    \t\t\t// do stuff with temp\r\n    \t\t}\r\n\r\n        private ArrayList&lt;Comparable&gt; subArray(ArrayList A, int start,\r\n    \t    \t\tint end) {\r\n    \t    \tArrayList toReturn = new ArrayList();\r\n    \t    \tfor (int i = start; i &lt;= end; i++) {\r\n    \t    \t\ttoReturn.add(A.get(i));\r\n    \t    \t}\r\n    \t    \treturn toReturn;\r\n    \t    }\r\n\r\nwhere `A` is the list and `n` is the size of the desired lists\r\n\r\nI believe this way is taking too much time when working with considerably large lists of up to 1 million in size, so I&#39;m trying to figure out what would be more efficient.","title":"Efficient way to divide a list into lists of n size","body":"<p>I have an <code>ArrayList</code>, which I want to divide into smaller <code>List</code> objects of <code>n</code> size, and perform an operation on each.\nMy current method of doing this is implemented with <code>ArrayList</code> objects in Java. Any pseudocode will do.</p>\n<pre><code>    for (int i = 1; i &lt;= Math.floor((A.size() / n)); i++) {\n            ArrayList temp = subArray(A, ((i * n) - n),\n                    (i * n) - 1);\n            // do stuff with temp\n        }\n\n    private ArrayList&lt;Comparable&gt; subArray(ArrayList A, int start,\n                int end) {\n            ArrayList toReturn = new ArrayList();\n            for (int i = start; i &lt;= end; i++) {\n                toReturn.add(A.get(i));\n            }\n            return toReturn;\n        }\n</code></pre>\n<p>where <code>A</code> is the list and <code>n</code> is the size of the desired lists</p>\n<p>I believe this way is taking too much time when working with considerably large lists of up to 1 million in size, so I'm trying to figure out what would be more efficient.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1600944342,"post_id":64044759,"comment_id":113251921,"body_markdown":"why would you want to keep java 7 AND use lambda&#39;s?","body":"why would you want to keep java 7 AND use lambda&#39;s?"},{"owner":{"account_id":12607983,"reputation":318,"user_id":9168200,"display_name":"Ilam"},"score":0,"creation_date":1600944609,"post_id":64044759,"comment_id":113252049,"body_markdown":"java 7 for src/main/java , java 8 from src/test/java","body":"java 7 for src/main/java , java 8 from src/test/java"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1600945412,"post_id":64044759,"comment_id":113252446,"body_markdown":"how does that answer my question? Why would you use lambda&#39;s in a Java 7 project? Want to use lambda&#39;s? Just update the java version.","body":"how does that answer my question? Why would you use lambda&#39;s in a Java 7 project? Want to use lambda&#39;s? Just update the java version."},{"owner":{"account_id":12607983,"reputation":318,"user_id":9168200,"display_name":"Ilam"},"score":0,"creation_date":1600946168,"post_id":64044759,"comment_id":113252819,"body_markdown":"sorry if I wasn&#39;t clear. if you read the answer in this post , you might understand what I am trying to do. wanted to use java 7 in production code and java 8 in test code","body":"sorry if I wasn&#39;t clear. if you read the answer in this post , you might understand what I am trying to do. wanted to use java 7 in production code and java 8 in test code"}],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600944901,"creation_date":1600944901,"answer_id":64044965,"question_id":64044759,"body_markdown":"Running tests via another Java interpreter in Maven project is not supported in IntelliJ IDEA yet. Here is the feature request for that: \r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-85478\r\n\r\nFeel free to vote and follow it for updates. \r\n\r\nThere is a workaround described by one of the users (separate Maven profile): https://youtrack.jetbrains.com/issue/IDEA-85478#focus=Comments-27-1994481.0-0\r\n\r\nBy the way, this is supported in Gradle&lt;-&gt;IntelliJ IDEA integration: \r\n\r\n```\r\ncompileTestJava {\r\n    sourceCompatibility = &quot;1.8&quot;\r\n}\r\n```","title":"In Intellij Idea, how to run tests with different java version than my source java version","body":"<p>Running tests via another Java interpreter in Maven project is not supported in IntelliJ IDEA yet. Here is the feature request for that:</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-85478\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-85478</a></p>\n<p>Feel free to vote and follow it for updates.</p>\n<p>There is a workaround described by one of the users (separate Maven profile): <a href=\"https://youtrack.jetbrains.com/issue/IDEA-85478#focus=Comments-27-1994481.0-0\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-85478#focus=Comments-27-1994481.0-0</a></p>\n<p>By the way, this is supported in Gradle&lt;-&gt;IntelliJ IDEA integration:</p>\n<pre><code>compileTestJava {\n    sourceCompatibility = &quot;1.8&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680527021,"creation_date":1680527021,"answer_id":75919790,"question_id":64044759,"body_markdown":"Running tests with a different JDK version in Maven project is available since IntelliJ IDEA 2022.1","title":"In Intellij Idea, how to run tests with different java version than my source java version","body":"<p>Running tests with a different JDK version in Maven project is available since IntelliJ IDEA 2022.1</p>\n"}],"owner":{"account_id":12607983,"reputation":318,"user_id":9168200,"display_name":"Ilam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680527021,"creation_date":1600944138,"question_id":64044759,"body_markdown":"My main source has java version 7\r\n\r\nI want to use java 8 from my tests. so i updated the compiler plugin to\r\n\r\n \r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;3.8.1&lt;/version&gt;\r\n   &lt;configuration&gt;\r\n      &lt;source&gt;7&lt;/source&gt;\r\n      &lt;target&gt;7&lt;/target&gt;\r\n      &lt;testSource&gt;8&lt;/testSource&gt;\r\n      &lt;testTarget&gt;8&lt;/testTarget&gt;\r\n   &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nThis way I can use java 8 features in unit tests. This works fine when i run the tests using maven from commandline.\r\n\r\n \r\n\r\nBut when i run the test directly from intellij, it throws error saying &#39;lambda expressions are not supported in source 7&#39; \r\n\r\nlooks like it use the same source version for tests. \r\n\r\n \r\n\r\nHow do i configure Intellij to use different java version for tests","title":"In Intellij Idea, how to run tests with different java version than my source java version","body":"<p>My main source has java version 7</p>\n<p>I want to use java 8 from my tests. so i updated the compiler plugin to</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.8.1&lt;/version&gt;\n   &lt;configuration&gt;\n      &lt;source&gt;7&lt;/source&gt;\n      &lt;target&gt;7&lt;/target&gt;\n      &lt;testSource&gt;8&lt;/testSource&gt;\n      &lt;testTarget&gt;8&lt;/testTarget&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This way I can use java 8 features in unit tests. This works fine when i run the tests using maven from commandline.</p>\n<p>But when i run the test directly from intellij, it throws error saying 'lambda expressions are not supported in source 7'</p>\n<p>looks like it use the same source version for tests.</p>\n<p>How do i configure Intellij to use different java version for tests</p>\n"},{"tags":["java","macos","classpath"],"comments":[{"owner":{"account_id":13773045,"reputation":717,"user_id":9939999,"display_name":"Raj"},"score":0,"creation_date":1538568314,"post_id":52626634,"comment_id":92186483,"body_markdown":"https://docs.oracle.com/javase/10/install/installation-jdk-and-jre-macos.htm#JSJIG-GUID-5F4A0659-BFC5-4CB9-9920-D2DEABF29894 this may help.","body":"<a href=\"https://docs.oracle.com/javase/10/install/installation-jdk-and-jre-macos.htm#JSJIG-GUID-5F4A0659-BFC5-4CB9-9920-D2DEABF29894\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/install/&hellip;</a> this may help."},{"owner":{"account_id":11897952,"reputation":1170,"user_id":8706759,"display_name":"Ganesh Chowdhary Sadanala"},"score":0,"creation_date":1538574296,"post_id":52626634,"comment_id":92190421,"body_markdown":"I would kindly suggest you to change the question as it doesn&#39;t meet your explanation","body":"I would kindly suggest you to change the question as it doesn&#39;t meet your explanation"},{"owner":{"account_id":6565534,"reputation":309,"user_id":5075297,"accept_rate":55,"display_name":"BlaqICE"},"score":0,"creation_date":1538640595,"post_id":52626634,"comment_id":92216170,"body_markdown":"@Raj It didn&#39;t, but thanks.","body":"@Raj It didn&#39;t, but thanks."}],"answers":[{"comments":[{"owner":{"account_id":6565534,"reputation":309,"user_id":5075297,"accept_rate":55,"display_name":"BlaqICE"},"score":0,"creation_date":1538640332,"post_id":52628421,"comment_id":92216024,"body_markdown":"So is there any reason to set it other than convenience of finding class files in directories outside the current directory?","body":"So is there any reason to set it other than convenience of finding class files in directories outside the current directory?"},{"owner":{"account_id":11897952,"reputation":1170,"user_id":8706759,"display_name":"Ganesh Chowdhary Sadanala"},"score":1,"creation_date":1538658852,"post_id":52628421,"comment_id":92227116,"body_markdown":"Nope.To get a clear cut idea refer http://kevinboone.net/classpath.html","body":"Nope.To get a clear cut idea refer <a href=\"http://kevinboone.net/classpath.html\" rel=\"nofollow noreferrer\">kevinboone.net/classpath.html</a>"}],"tags":[],"owner":{"account_id":11897952,"reputation":1170,"user_id":8706759,"display_name":"Ganesh Chowdhary Sadanala"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680526948,"creation_date":1538574117,"answer_id":52628421,"question_id":52626634,"body_markdown":"WHY DO WE SET THE CLASS-PATH?\r\n\r\nCLASSPATH is an environment variable and contains paths to the jar files and path to various packages.\r\n\r\nKISS ANSWER TO YOUR QUERY:\r\n\r\nPerhaps the reason behind successful execution of \r\nyour code is that the JVM checks the current directory \r\nfirst for the perception of jar files and then follows \r\nthe classpath. So your current directory has those files.\r\n\r\nOh, you may wonder then why would we set the classpath. Setting the classpath overrides that by default path.","title":"What is the purpose of setting a CLASSPATH in Java?","body":"<p>WHY DO WE SET THE CLASS-PATH?</p>\n<p>CLASSPATH is an environment variable and contains paths to the jar files and path to various packages.</p>\n<p>KISS ANSWER TO YOUR QUERY:</p>\n<p>Perhaps the reason behind successful execution of\nyour code is that the JVM checks the current directory\nfirst for the perception of jar files and then follows\nthe classpath. So your current directory has those files.</p>\n<p>Oh, you may wonder then why would we set the classpath. Setting the classpath overrides that by default path.</p>\n"},{"comments":[{"owner":{"account_id":232697,"reputation":2142,"user_id":497719,"accept_rate":92,"display_name":"voxobscuro"},"score":0,"creation_date":1680708588,"post_id":75876075,"comment_id":133944833,"body_markdown":"To help with readability and search discovery, please put your code samples embedded as text in the document rather than as linked screenshots.","body":"To help with readability and search discovery, please put your code samples embedded as text in the document rather than as linked screenshots."}],"tags":[],"owner":{"account_id":8368809,"reputation":3,"user_id":6284549,"display_name":"DegaM"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680086517,"creation_date":1680086104,"answer_id":75876075,"question_id":52626634,"body_markdown":"Let start with [sample code][2] example why we must set class path in Java\r\n\r\nIf you see this example in the image, sample program converting List to Map\r\n\r\n 1. Created new ArrayList, and Map, using streams converting list to map.\r\n\r\nArrayList &amp; Map are ADT (abstract datatypes) it came from as part of JDK\r\nwe&#39;re make using them.\r\n\r\nIf see carefully, In our application we imported those. (These classes are available in out JDK installation location)\r\n\r\nWhen you install JDK, Under JRE[core classes files][3], these all core .class files will be available as rt.jar.\r\n\r\nWhen we compile our actual code, it depends on (ArrayList class and Map class). If you didn&#39;t tell(by setting path) these class are available in a particular location(C:\\Program Files\\Java\\jdk1.8.0_361\\jre\\lib).  JVM can&#39;t read those dependencies.\r\n\r\nThat&#39;s why its mandatory to set class path in java.\r\n\r\nAs simple as that :-)\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eQWme.png\r\n  [2]: https://i.stack.imgur.com/Ehu5l.png\r\n  [3]: https://i.stack.imgur.com/RRnu5.png","title":"What is the purpose of setting a CLASSPATH in Java?","body":"<p>Let start with <a href=\"https://i.stack.imgur.com/Ehu5l.png\" rel=\"nofollow noreferrer\">sample code</a> example why we must set class path in Java</p>\n<p>If you see this example in the image, sample program converting List to Map</p>\n<ol>\n<li>Created new ArrayList, and Map, using streams converting list to map.</li>\n</ol>\n<p>ArrayList &amp; Map are ADT (abstract datatypes) it came from as part of JDK\nwe're make using them.</p>\n<p>If see carefully, In our application we imported those. (These classes are available in out JDK installation location)</p>\n<p>When you install JDK, Under JRE<a href=\"https://i.stack.imgur.com/RRnu5.png\" rel=\"nofollow noreferrer\">core classes files</a>, these all core .class files will be available as rt.jar.</p>\n<p>When we compile our actual code, it depends on (ArrayList class and Map class). If you didn't tell(by setting path) these class are available in a particular location(C:\\Program Files\\Java\\jdk1.8.0_361\\jre\\lib).  JVM can't read those dependencies.</p>\n<p>That's why its mandatory to set class path in java.</p>\n<p>As simple as that :-)</p>\n"}],"owner":{"account_id":6565534,"reputation":309,"user_id":5075297,"accept_rate":55,"display_name":"BlaqICE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52628421,"answer_count":2,"score":0,"last_activity_date":1680526948,"creation_date":1538568169,"question_id":52626634,"body_markdown":"I just installed Java on a Mac for the first time (jdk 10.0.2 SE) and I&#39;m on macOS 10.13.6.  I just created a basic Hello World program in my home directory, compiled it and ran it, but I have nothing set on my CLASSPATH environment variable except for the current directory &quot;.&quot; My question is how am I able to compile and run this program?  How is it finding the classes from the Java library?  I&#39;ve always assumed I need to set this variable, and I have it set to my jdk installation directory in Windows. ","title":"What is the purpose of setting a CLASSPATH in Java?","body":"<p>I just installed Java on a Mac for the first time (jdk 10.0.2 SE) and I'm on macOS 10.13.6.  I just created a basic Hello World program in my home directory, compiled it and ran it, but I have nothing set on my CLASSPATH environment variable except for the current directory \".\" My question is how am I able to compile and run this program?  How is it finding the classes from the Java library?  I've always assumed I need to set this variable, and I have it set to my jdk installation directory in Windows. </p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680526587,"creation_date":1680523560,"question_id":75919311,"body_markdown":"After I change a code and run application:\r\n\r\n    mvn spring-boot:run\r\n\r\nI get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\r\n\tString cannot be resolved to a type\r\n    at com.nexus.NexusApplication.main(NexusApplication.java:9)  \r\n\r\nand than I clean &amp; run:\r\n\r\n    mvn clean &amp; mvn spring-boot:run\r\n\r\nIt works fine. The error points the following main application class. I really can&#39;t understand why and I don&#39;t know how mvn clean fixes it. \r\n\r\n    package com.nexus;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class NexusApplication {\r\n\t    public static void main(String[] args) { // This line outputs the error\r\n\t\t    SpringApplication.run(NexusApplication.class, args);\r\n\t    }\r\n    }\r\n\r\nWould you please guide me on why I have a problem with **String** type?","title":"String cannot be resolved to a type in application class of Spring Boot","body":"<p>After I change a code and run application:</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\nString cannot be resolved to a type\nat com.nexus.NexusApplication.main(NexusApplication.java:9)  \n</code></pre>\n<p>and than I clean &amp; run:</p>\n<pre><code>mvn clean &amp; mvn spring-boot:run\n</code></pre>\n<p>It works fine. The error points the following main application class. I really can't understand why and I don't know how mvn clean fixes it.</p>\n<pre><code>package com.nexus;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class NexusApplication {\n    public static void main(String[] args) { // This line outputs the error\n        SpringApplication.run(NexusApplication.class, args);\n    }\n}\n</code></pre>\n<p>Would you please guide me on why I have a problem with <strong>String</strong> type?</p>\n"},{"tags":["java","postgresql","spring-boot","flyway"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1679924195,"post_id":75837041,"comment_id":133803070,"body_markdown":"You are probably missing certificate-related stuff within your JDBC url. Check this out https://stackoverflow.com/questions/56511629/how-to-connect-to-postgresql-using-ssl-and-spring-boot","body":"You are probably missing certificate-related stuff within your JDBC url. Check this out <a href=\"https://stackoverflow.com/questions/56511629/how-to-connect-to-postgresql-using-ssl-and-spring-boot\" title=\"how to connect to postgresql using ssl and spring boot\">stackoverflow.com/questions/56511629/&hellip;</a>"},{"owner":{"account_id":4395455,"reputation":81,"user_id":3582663,"display_name":"amaurinorato"},"score":0,"creation_date":1679924478,"post_id":75837041,"comment_id":133803159,"body_markdown":"That&#39;s the thing, apparently, just flyway complains about the certificate because when I disable it, the data source is able to establish a connection with the database.So, I believe I&#39;m missing some configuration on flyway","body":"That&#39;s the thing, apparently, just flyway complains about the certificate because when I disable it, the data source is able to establish a connection with the database.So, I believe I&#39;m missing some configuration on flyway"},{"owner":{"account_id":4395455,"reputation":81,"user_id":3582663,"display_name":"amaurinorato"},"score":2,"creation_date":1680008206,"post_id":75837041,"comment_id":133820282,"body_markdown":"Well, I finally understood the problem. Basically, when I upgraded from spring 2.1.0-RELEASE to 2.7.15 the error started. So, I began jumping versions until seeing the error. And it happened to be when upgrading from 2.4.2 to 2.4.3. When I see the logs on 2.4.2 the application loads the certs before the flyway tries to apply migrations. On 2.4.3, the certs are loaded after flyway tries to apply the migrations. So, something changed in the way Spring loads configurations classes. Still looking for a solution","body":"Well, I finally understood the problem. Basically, when I upgraded from spring 2.1.0-RELEASE to 2.7.15 the error started. So, I began jumping versions until seeing the error. And it happened to be when upgrading from 2.4.2 to 2.4.3. When I see the logs on 2.4.2 the application loads the certs before the flyway tries to apply migrations. On 2.4.3, the certs are loaded after flyway tries to apply the migrations. So, something changed in the way Spring loads configurations classes. Still looking for a solution"}],"answers":[{"tags":[],"owner":{"account_id":4395455,"reputation":81,"user_id":3582663,"display_name":"amaurinorato"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680115281,"creation_date":1680115281,"answer_id":75880996,"question_id":75837041,"body_markdown":"Well, the solution was quite easy after understanding the real problem:\r\n\r\nFor some reason, I still don’t know why, when upgrading from spring 2.4.2 to 2.4.3 and above, it changed the order of beans loading. So, previously, we had the class DatasourceContextConfiguration, which was responsible for loading the certificates, loaded before flyway tries to connect to the database and apply changes.\r\nAfter the upgrade, flyway started trying to connect to the database first, before we load the certificates.\r\nSo the fix was basically, finding a way to load this bean, responsible for loading the certificates before the flyway tries to apply the migrations","title":"Problem connecting flyway with a postgres through ssl","body":"<p>Well, the solution was quite easy after understanding the real problem:</p>\n<p>For some reason, I still don’t know why, when upgrading from spring 2.4.2 to 2.4.3 and above, it changed the order of beans loading. So, previously, we had the class DatasourceContextConfiguration, which was responsible for loading the certificates, loaded before flyway tries to connect to the database and apply changes.\nAfter the upgrade, flyway started trying to connect to the database first, before we load the certificates.\nSo the fix was basically, finding a way to load this bean, responsible for loading the certificates before the flyway tries to apply the migrations</p>\n"}],"owner":{"account_id":4395455,"reputation":81,"user_id":3582663,"display_name":"amaurinorato"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680526371,"creation_date":1679682246,"question_id":75837041,"body_markdown":"I have a java application that was previously running with Postgres JDBC dependency version 42.2.5 and flyway version 5.2.1. These versions were coming from `spring-boot-dependencies` project. In this case, we were using 2.1.0.RELEASE version.\r\n\r\nSo, I had the task of upgrading those dependencies. And I did so. `spring-boot-dependencies` is now at 2.7.8. `Flyway` version is now at 7.15.0. I kept postgres in the old version for now, because of the error described below.\r\n\r\nThe thing is that after upgrading if I keep the property `spring.flyway.enabled` set to true, the application won&#39;t start. It keeps complaining about a valid certificate:\r\n\r\n```\r\nCaused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: FATAL: connection requires a valid client certificate\r\n------------------------------------------------------------------------------------------------\r\nSQL State  : 28000\r\nError Code : 0\r\nMessage    : FATAL: connection requires a valid client certificate\r\n\r\n        at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:67)\r\n        at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:70)\r\n        at org.flywaydb.core.Flyway.execute(Flyway.java:504)\r\n        at org.flywaydb.core.Flyway.migrate(Flyway.java:170)\r\n        at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n        ... 38 common frames omitted\r\nCaused by: org.postgresql.util.PSQLException: FATAL: connection requires a valid client certificate\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:514)\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:141)\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192)\r\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\r\n        at org.postgresql.Driver.makeConnection(Driver.java:454)\r\n        at org.postgresql.Driver.connect(Driver.java:256)\r\n        at org.springframework.jdbc.datasource.SimpleDriverDataSource.getConnectionFromDriver(SimpleDriverDataSource.java:144)\r\n        at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205)\r\n        at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169)\r\n        at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52)\r\n        ... 44 common frames omitted\r\n```\r\n\r\n\r\nIf I disable flyway, the application starts and can connect to the database. \r\n\r\nMy properties file looks like this:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://host:5432/db?ssl=true&amp;sslmode=require&amp;sslfactory=org.postgresql.ssl.DefaultJavaSSLFactory\r\nspring.datasource.username=user\r\nspring.datasource.password=\r\n\r\nserver.ssl.key-store=classpath:certs/keystore-dev.p12\r\nserver.ssl.key-store-password=pass\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.key-alias=app-alias\r\nserver.ssl.protocol=TLS\r\n# flyway db migration support\r\nspring.flyway.enabled=true\r\n```\r\n\r\nThe connection data is correct since the application starts and connects to the database.\r\n\r\n","title":"Problem connecting flyway with a postgres through ssl","body":"<p>I have a java application that was previously running with Postgres JDBC dependency version 42.2.5 and flyway version 5.2.1. These versions were coming from <code>spring-boot-dependencies</code> project. In this case, we were using 2.1.0.RELEASE version.</p>\n<p>So, I had the task of upgrading those dependencies. And I did so. <code>spring-boot-dependencies</code> is now at 2.7.8. <code>Flyway</code> version is now at 7.15.0. I kept postgres in the old version for now, because of the error described below.</p>\n<p>The thing is that after upgrading if I keep the property <code>spring.flyway.enabled</code> set to true, the application won't start. It keeps complaining about a valid certificate:</p>\n<pre><code>Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: FATAL: connection requires a valid client certificate\n------------------------------------------------------------------------------------------------\nSQL State  : 28000\nError Code : 0\nMessage    : FATAL: connection requires a valid client certificate\n\n        at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:67)\n        at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:70)\n        at org.flywaydb.core.Flyway.execute(Flyway.java:504)\n        at org.flywaydb.core.Flyway.migrate(Flyway.java:170)\n        at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n        ... 38 common frames omitted\nCaused by: org.postgresql.util.PSQLException: FATAL: connection requires a valid client certificate\n        at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:514)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:141)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192)\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195)\n        at org.postgresql.Driver.makeConnection(Driver.java:454)\n        at org.postgresql.Driver.connect(Driver.java:256)\n        at org.springframework.jdbc.datasource.SimpleDriverDataSource.getConnectionFromDriver(SimpleDriverDataSource.java:144)\n        at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205)\n        at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169)\n        at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:52)\n        ... 44 common frames omitted\n</code></pre>\n<p>If I disable flyway, the application starts and can connect to the database.</p>\n<p>My properties file looks like this:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://host:5432/db?ssl=true&amp;sslmode=require&amp;sslfactory=org.postgresql.ssl.DefaultJavaSSLFactory\nspring.datasource.username=user\nspring.datasource.password=\n\nserver.ssl.key-store=classpath:certs/keystore-dev.p12\nserver.ssl.key-store-password=pass\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-alias=app-alias\nserver.ssl.protocol=TLS\n# flyway db migration support\nspring.flyway.enabled=true\n</code></pre>\n<p>The connection data is correct since the application starts and connects to the database.</p>\n"},{"tags":["java","drools"],"answers":[{"comments":[{"owner":{"account_id":7482760,"reputation":9,"user_id":5687056,"display_name":"Joe"},"score":0,"creation_date":1680388703,"post_id":75908400,"comment_id":133890930,"body_markdown":"Thanks for answer! How to make this with recursive query? For example, I have query isParent(String x, String y) and output is: adam, peter. Now, how to make siblings(String x, String y) with previous query and this and get &quot;peter, john&quot; output?","body":"Thanks for answer! How to make this with recursive query? For example, I have query isParent(String x, String y) and output is: adam, peter. Now, how to make siblings(String x, String y) with previous query and this and get &quot;peter, john&quot; output?"},{"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"score":1,"creation_date":1680420440,"post_id":75908400,"comment_id":133893124,"body_markdown":"sounds like a very different question, further, is not clear what&#39;s the intent of the parameters `x, y` in both queries, further, is not clear how the output of `isParent(x, y)` should be a list when by the name of the query maybe you meant a boolean?","body":"sounds like a very different question, further, is not clear what&#39;s the intent of the parameters <code>x, y</code> in both queries, further, is not clear how the output of <code>isParent(x, y)</code> should be a list when by the name of the query maybe you meant a boolean?"}],"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680377242,"creation_date":1680377242,"answer_id":75908400,"question_id":75906526,"body_markdown":"Assuming you wanted that for every parent (name), _query_ the siblings having that parent in the working memory, you could achieve that with:\r\n\r\n```\r\nquery siblings\r\n    accumulate(\r\n        Parent( $p : parent ); $parents: collectSet($p)\r\n    )\r\n    $pName: String() from $parents\r\n    accumulate(\r\n        Parent( parent == $pName, $c: child ); $siblings: collectSet($c)\r\n    )\r\nend\r\n```\r\n\r\nthe snippet:\r\n\r\n```java\r\nsession.insert(new Parent(&quot;adam&quot;, &quot;peter&quot;));\r\nsession.insert(new Parent(&quot;adam&quot;, &quot;john&quot;));\r\n\r\nQueryResults qr = session.getQueryResults(&quot;siblings&quot;);\r\n\r\nfor (QueryResultsRow queryResultsRow : qr) {\r\n    System.out.println(queryResultsRow.get(&quot;$siblings&quot;));\r\n}\r\n```\r\n\r\nwould print out:\r\n\r\n```\r\n[peter, john]\r\n```\r\n\r\nIt would add additional sysout lines for other parents (not demonstrated here).\r\n\r\nDemonstrated with: https://github.com/tarilabs/demo20230401-so75906526/blob/3f9b08c9cc781a37376c1164d65f5144185cd9ed/src/test/java/org/drools/demo/RuleTest.java#L43-L46","title":"How to make drools query &quot;siblings&quot;","body":"<p>Assuming you wanted that for every parent (name), <em>query</em> the siblings having that parent in the working memory, you could achieve that with:</p>\n<pre><code>query siblings\n    accumulate(\n        Parent( $p : parent ); $parents: collectSet($p)\n    )\n    $pName: String() from $parents\n    accumulate(\n        Parent( parent == $pName, $c: child ); $siblings: collectSet($c)\n    )\nend\n</code></pre>\n<p>the snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>session.insert(new Parent(&quot;adam&quot;, &quot;peter&quot;));\nsession.insert(new Parent(&quot;adam&quot;, &quot;john&quot;));\n\nQueryResults qr = session.getQueryResults(&quot;siblings&quot;);\n\nfor (QueryResultsRow queryResultsRow : qr) {\n    System.out.println(queryResultsRow.get(&quot;$siblings&quot;));\n}\n</code></pre>\n<p>would print out:</p>\n<pre><code>[peter, john]\n</code></pre>\n<p>It would add additional sysout lines for other parents (not demonstrated here).</p>\n<p>Demonstrated with: <a href=\"https://github.com/tarilabs/demo20230401-so75906526/blob/3f9b08c9cc781a37376c1164d65f5144185cd9ed/src/test/java/org/drools/demo/RuleTest.java#L43-L46\" rel=\"nofollow noreferrer\">https://github.com/tarilabs/demo20230401-so75906526/blob/3f9b08c9cc781a37376c1164d65f5144185cd9ed/src/test/java/org/drools/demo/RuleTest.java#L43-L46</a></p>\n"}],"owner":{"account_id":7482760,"reputation":9,"user_id":5687056,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680526185,"creation_date":1680356125,"question_id":75906526,"body_markdown":"I have Java class with this fields:\r\n\r\n     Public class Parent {\r\n    \t@Position(0)\r\n    \tprivate String parent;\r\n    \t@Position(1)\r\n    \tprivate String child;\r\n     }\r\nThen, here are some objects in format:\r\n \r\n    kSession.insert(new Parent(&quot;adam&quot;, &quot;peter&quot;));\r\n    kSession.insert(new Parent(&quot;adam&quot;, &quot;john&quot;));\r\n\r\nHow to make query &quot;siblings&quot; in drools, in format siblings(String x, String y) and printout like &quot;peter, john&quot;?\r\n","title":"How to make drools query &quot;siblings&quot;","body":"<p>I have Java class with this fields:</p>\n<pre><code> Public class Parent {\n    @Position(0)\n    private String parent;\n    @Position(1)\n    private String child;\n }\n</code></pre>\n<p>Then, here are some objects in format:</p>\n<pre><code>kSession.insert(new Parent(&quot;adam&quot;, &quot;peter&quot;));\nkSession.insert(new Parent(&quot;adam&quot;, &quot;john&quot;));\n</code></pre>\n<p>How to make query &quot;siblings&quot; in drools, in format siblings(String x, String y) and printout like &quot;peter, john&quot;?</p>\n"},{"tags":["java","json","spring-boot","jackson","swagger"],"comments":[{"owner":{"account_id":9665570,"reputation":1115,"user_id":7172178,"accept_rate":33,"display_name":"Siddhesh"},"score":0,"creation_date":1515152425,"post_id":48112617,"comment_id":83201262,"body_markdown":"You can create different profiles to hide/ show data accordingly.","body":"You can create different profiles to hide/ show data accordingly."},{"owner":{"account_id":3659826,"reputation":494,"user_id":3049954,"display_name":"lmoglia"},"score":0,"creation_date":1527811021,"post_id":48112617,"comment_id":88278767,"body_markdown":"Hi! Did you find any kind of solution for this? Thank you!","body":"Hi! Did you find any kind of solution for this? Thank you!"}],"answers":[{"comments":[{"owner":{"account_id":11059743,"reputation":31,"user_id":8145731,"display_name":"Rana Suleman"},"score":1,"creation_date":1515158544,"post_id":48112989,"comment_id":83204782,"body_markdown":"Through this the department field will not be visible to every endpoint where I use this entity.My question is that how can I make this visible to some endpoint and not to","body":"Through this the department field will not be visible to every endpoint where I use this entity.My question is that how can I make this visible to some endpoint and not to"},{"owner":{"account_id":5073524,"reputation":420,"user_id":4071635,"display_name":"Sergey Bondarev"},"score":1,"creation_date":1531337554,"post_id":48112989,"comment_id":89563512,"body_markdown":"Good question. Any solution?","body":"Good question. Any solution?"}],"tags":[],"owner":{"account_id":2348592,"reputation":887,"user_id":2058085,"display_name":"Gnanasekaran Palanisamy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515155946,"creation_date":1515152707,"answer_id":48112989,"question_id":48112617,"body_markdown":"     public class User {\r\n         Integer id;\r\n         String  name;\r\n\r\n         @JsonIgnore\r\n         String  department;\r\n     }\r\n","title":"Hide class attributes in Swagger Request body using spring","body":"<pre><code> public class User {\n     Integer id;\n     String  name;\n\n     @JsonIgnore\n     String  department;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24969164,"reputation":66,"user_id":18832481,"display_name":"n1nja88888"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680525287,"creation_date":1680525287,"answer_id":75919547,"question_id":48112617,"body_markdown":"I&#39;ve encountered the same problem today. Here&#39;s my solution.\r\n\r\nUser Entity:\r\n```java\r\npublic class User {\r\n    public String username;\r\n    public String password;\r\n}\r\n```\r\n\r\nTest Controller:\r\n```java\r\n@ResponseBody\r\n    @PostMapping(&quot;/test&quot;)\r\n    @Operation(description = &quot;SwaggerTest&quot;)\r\n    @io.swagger.v3.oas.annotations.parameters.RequestBody(content = @Content(mediaType = &quot;application/json&quot;, examples = @ExampleObject(&quot;{username: 212}&quot;)))\r\n    @ApiResponse(content = @Content(mediaType = &quot;application/json&quot;, examples = @ExampleObject(&quot;{username: 212}&quot;)))\r\n    public User test(@RequestBody User user){\r\n        return user;\r\n    }\r\n```\r\n\r\nAnd Here&#39;s the result:\r\n\r\n[![][1]][1]\r\n\r\nBefore:\r\n\r\n[![][2]][2]\r\n\r\nBy Adding @io.swagger.v3.oas.annotations.parameters.RequestBody and @ApiResponse and setting its **content** field, you can customize what to show in swagger.\r\n\r\nAll above is based off **springdoc-openapi-ui** library.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dSBAP.png\r\n  [2]: https://i.stack.imgur.com/47Ptr.png","title":"Hide class attributes in Swagger Request body using spring","body":"<p>I've encountered the same problem today. Here's my solution.</p>\n<p>User Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    public String username;\n    public String password;\n}\n</code></pre>\n<p>Test Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseBody\n    @PostMapping(&quot;/test&quot;)\n    @Operation(description = &quot;SwaggerTest&quot;)\n    @io.swagger.v3.oas.annotations.parameters.RequestBody(content = @Content(mediaType = &quot;application/json&quot;, examples = @ExampleObject(&quot;{username: 212}&quot;)))\n    @ApiResponse(content = @Content(mediaType = &quot;application/json&quot;, examples = @ExampleObject(&quot;{username: 212}&quot;)))\n    public User test(@RequestBody User user){\n        return user;\n    }\n</code></pre>\n<p>And Here's the result:</p>\n<p><a href=\"https://i.stack.imgur.com/dSBAP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dSBAP.png\" alt=\"\" /></a></p>\n<p>Before:</p>\n<p><a href=\"https://i.stack.imgur.com/47Ptr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/47Ptr.png\" alt=\"\" /></a></p>\n<p>By Adding @io.swagger.v3.oas.annotations.parameters.RequestBody and @ApiResponse and setting its <strong>content</strong> field, you can customize what to show in swagger.</p>\n<p>All above is based off <strong>springdoc-openapi-ui</strong> library.</p>\n"}],"owner":{"account_id":11059743,"reputation":31,"user_id":8145731,"display_name":"Rana Suleman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1439,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680525287,"creation_date":1515151398,"question_id":48112617,"body_markdown":"I have a class User\r\n\r\n    public class User {\r\n\r\n    Integer id;\r\n    String  name;\r\n    String  department;\r\n\r\n    .... }\r\n\r\n\r\nMy controller \r\n\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class userResource {\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n\r\n    @Autowired\r\n    UserService userService;\r\n\r\n    @PostMapping(value = &quot;/&quot;)\r\n    public ResponseEntity&lt;StatusResponse&gt; createUser(\r\n             @RequestBody   User user) {\r\n    .....}\r\n\r\nIn Swagger it shows\r\n\r\n    {\r\n    &quot;department&quot;: &quot;string&quot;,\r\n    &quot;id&quot;: 0,\r\n    &quot;name&quot;: &quot;string&quot;\r\n     }\r\n\r\nI want to hide field department here.I have used @ApiModelProperty(hidden = true)\r\n\r\nBut I also want to use this entity in other places and want to show the department field how that is possible? ","title":"Hide class attributes in Swagger Request body using spring","body":"<p>I have a class User</p>\n\n<pre><code>public class User {\n\nInteger id;\nString  name;\nString  department;\n\n.... }\n</code></pre>\n\n<p>My controller </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/user\")\npublic class userResource {\n\n@Autowired\nUserRepository userRepository;\n\n@Autowired\nUserService userService;\n\n@PostMapping(value = \"/\")\npublic ResponseEntity&lt;StatusResponse&gt; createUser(\n         @RequestBody   User user) {\n.....}\n</code></pre>\n\n<p>In Swagger it shows</p>\n\n<pre><code>{\n\"department\": \"string\",\n\"id\": 0,\n\"name\": \"string\"\n }\n</code></pre>\n\n<p>I want to hide field department here.I have used @ApiModelProperty(hidden = true)</p>\n\n<p>But I also want to use this entity in other places and want to show the department field how that is possible? </p>\n"},{"tags":["java","spring","spring-mvc","modelattribute"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1680525764,"post_id":75918447,"comment_id":133908163,"body_markdown":"See [Form handling with Thymeleaf](https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/) to better understand model attributes in the context of form submission. The example is with Thymeleaf instead of JSP which you have here, but the basic principels are the same.","body":"See <a href=\"https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/\" rel=\"nofollow noreferrer\">Form handling with Thymeleaf</a> to better understand model attributes in the context of form submission. The example is with Thymeleaf instead of JSP which you have here, but the basic principels are the same."}],"answers":[{"comments":[{"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"score":0,"creation_date":1680530722,"post_id":75919059,"comment_id":133909563,"body_markdown":"As the first bro above said that the &quot; If it finds one, it binds the value of the attribute to the parameter. If it does not find one, it creates a new model attribute with the name of the parameter and binds the value of the request parameter to it.\n&quot; it means when i call checkLog() method , it already called addAccount() method which mean in model already have attribute &quot;zeus&quot;. i&#39;m very confused that when call checkLog(@ModelAttribute(&quot;zeus&quot;) Account u ) it should have looked for zeus and get zeus data for me instead of binding result of form","body":"As the first bro above said that the &quot; If it finds one, it binds the value of the attribute to the parameter. If it does not find one, it creates a new model attribute with the name of the parameter and binds the value of the request parameter to it. &quot; it means when i call checkLog() method , it already called addAccount() method which mean in model already have attribute &quot;zeus&quot;. i&#39;m very confused that when call checkLog(@ModelAttribute(&quot;zeus&quot;) Account u ) it should have looked for zeus and get zeus data for me instead of binding result of form"},{"owner":{"account_id":10761390,"reputation":97,"user_id":7917687,"display_name":"Ashad0203"},"score":0,"creation_date":1680581483,"post_id":75919059,"comment_id":133918278,"body_markdown":"Data is coming from the form but it is not matching user1 is not matching with zeus but the fields in the form are matching with the account fields and have hence been set from the form only.                                                    checkLog(@ModelAttribute(&quot;zeus&quot;) will look for @ModelAttribute\npublic void addAccount(Model model) {\n    Account a = new Account();\n    a.setUsername(&quot;zeus&quot;);\n    a.setPassword(&quot;123&quot;);\n    model.addAttribute(&quot;zeus&quot;, a);\n}  in the last and for fields other than username and password since these 2 fields are already coming from form.","body":"Data is coming from the form but it is not matching user1 is not matching with zeus but the fields in the form are matching with the account fields and have hence been set from the form only.                                                    checkLog(@ModelAttribute(&quot;zeus&quot;) will look for @ModelAttribute public void addAccount(Model model) {     Account a = new Account();     a.setUsername(&quot;zeus&quot;);     a.setPassword(&quot;123&quot;);     model.addAttribute(&quot;zeus&quot;, a); }  in the last and for fields other than username and password since these 2 fields are already coming from form."}],"tags":[],"owner":{"account_id":10761390,"reputation":97,"user_id":7917687,"display_name":"Ashad0203"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680522063,"creation_date":1680522063,"answer_id":75919059,"question_id":75918447,"body_markdown":"Point 1. \r\n\r\n    @ModelAttribute\r\n    public void addAccount(Model model) {\r\n        Account a = new Account();\r\n        a.setUsername(&quot;zeus&quot;);\r\n        a.setPassword(&quot;123&quot;);\r\n        model.addAttribute(&quot;zeus&quot;, a);\r\n    }\r\n\r\nThe above code is just to set default values when the value is not provided in the form.\r\n\r\n\r\nPoint 2.\r\n\r\nSince the modelAttribute value used in the &lt;form: form&gt; tag is &quot;user1&quot;, which does not match the attribute name used in the @ModelAttribute annotation in the controller method.\r\n\r\nWhen the form is submitted, Spring MVC will create a new instance of the Account class and bind the form data to this new instance. The Account instance will have default values for all properties except for &quot;username&quot; and &quot;password&quot;, which will be set to the values submitted in the form.\r\n\r\n\r\nThis is the same thing that is happening in your code","title":"How @ModelAttribute for method parameter work in Spring MVC","body":"<p>Point 1.</p>\n<pre><code>@ModelAttribute\npublic void addAccount(Model model) {\n    Account a = new Account();\n    a.setUsername(&quot;zeus&quot;);\n    a.setPassword(&quot;123&quot;);\n    model.addAttribute(&quot;zeus&quot;, a);\n}\n</code></pre>\n<p>The above code is just to set default values when the value is not provided in the form.</p>\n<p>Point 2.</p>\n<p>Since the modelAttribute value used in the &lt;form: form&gt; tag is &quot;user1&quot;, which does not match the attribute name used in the @ModelAttribute annotation in the controller method.</p>\n<p>When the form is submitted, Spring MVC will create a new instance of the Account class and bind the form data to this new instance. The Account instance will have default values for all properties except for &quot;username&quot; and &quot;password&quot;, which will be set to the values submitted in the form.</p>\n<p>This is the same thing that is happening in your code</p>\n"},{"comments":[{"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"score":0,"creation_date":1680530336,"post_id":75919410,"comment_id":133909444,"body_markdown":"i thought when write (@ModelAttribute(&quot;zeus&quot;) Account u) it will first look in the model to get attribute zeus then bind itto parameter u but it seem it didn&#39;t work that way. It bind data first then replace &quot;zeus&quot; attribute","body":"i thought when write (@ModelAttribute(&quot;zeus&quot;) Account u) it will first look in the model to get attribute zeus then bind itto parameter u but it seem it didn&#39;t work that way. It bind data first then replace &quot;zeus&quot; attribute"}],"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680525226,"creation_date":1680524240,"answer_id":75919410,"question_id":75918447,"body_markdown":"Yes, it will work that way only. If you want to checkLog with &quot;zeus&quot; you need to use\r\n``` \r\n\r\n     @RequestMapping(method = RequestMethod.POST, value = &quot;/login&quot;)\r\n    public String checkLog(@ModelAttribute Account u) {\r\n        Account a = model.getAttribute(&quot;zeus&quot;);\r\n        if(a.getUsername().equals(u.getUserame() &amp;&amp; a.getPassword().equals(u.getPassword()) {\r\n         // do your stuff here\r\n         }\r\n        return &quot;hello&quot;;\r\n    }\r\n//Understnad the flow: Just like\r\n//if you write \r\nString s1 = &quot;value1&quot;;\r\nString s2 = &quot;value2&quot;\r\nmodel.addAtribute(&quot;zeus&quot;, s1);\r\n//and in the next line if you write\r\nmodel.addAtribute(&quot;zeus&quot;, s2);\r\n//the value of zeus will change from s1 to s2 \r\n//similarly in your code the value of &quot;zeus&quot; gets changed when you write\r\n// (@ModelAttribute(&quot;zeus&quot;) Account u)\r\n```","title":"How @ModelAttribute for method parameter work in Spring MVC","body":"<p>Yes, it will work that way only. If you want to checkLog with &quot;zeus&quot; you need to use</p>\n<pre><code>\n     @RequestMapping(method = RequestMethod.POST, value = &quot;/login&quot;)\n    public String checkLog(@ModelAttribute Account u) {\n        Account a = model.getAttribute(&quot;zeus&quot;);\n        if(a.getUsername().equals(u.getUserame() &amp;&amp; a.getPassword().equals(u.getPassword()) {\n         // do your stuff here\n         }\n        return &quot;hello&quot;;\n    }\n//Understnad the flow: Just like\n//if you write \nString s1 = &quot;value1&quot;;\nString s2 = &quot;value2&quot;\nmodel.addAtribute(&quot;zeus&quot;, s1);\n//and in the next line if you write\nmodel.addAtribute(&quot;zeus&quot;, s2);\n//the value of zeus will change from s1 to s2 \n//similarly in your code the value of &quot;zeus&quot; gets changed when you write\n// (@ModelAttribute(&quot;zeus&quot;) Account u)\n</code></pre>\n"}],"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75919410,"answer_count":2,"score":0,"last_activity_date":1680525226,"creation_date":1680517575,"question_id":75918447,"body_markdown":"i&#39;m very new in spring mvc so i have very confused about how @modelAttribute work in spring mvc and i have situation right down\r\n\r\nmy JSP:\r\n  \r\n```\r\n &lt;%-- \r\n    Document   : login\r\n    Created on : Apr 3, 2023, 11:22:57 AM\r\n    Author     : MinhDuy\r\n--%&gt;\r\n\r\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;  %&gt;\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;JSP Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\r\n       \r\n\r\n        &lt;form:form action=&quot;login&quot; method=&quot;POST&quot; modelAttribute=&quot;user1&quot; &gt;\r\n            User: &lt;form:input path=&quot;username&quot;/&gt;&lt;br&gt;\r\n            Pass: &lt;form:input path=&quot;password&quot;/&gt;&lt;br&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;login&quot;&gt;\r\n\r\n        &lt;/form:form&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\nand my Controller: \r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n */\r\npackage com.mycompany.mavenproject3;\r\n\r\nimport com.mycompany.mavenproject3.Model.Account;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n/**\r\n *\r\n * @author MinhDuy\r\n */\r\n@Controller\r\npublic class TestController {\r\n\r\n   @RequestMapping(&quot;/hello&quot;)\r\n    public String test(@ModelAttribute(&quot;zeus&quot;) Account account) {\r\n        System.out.println(account);\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/login&quot;)\r\n    public String login(Model model) {\r\n        Account u = new Account();\r\n        u.setUsername(&quot;daniel&quot;);\r\n        u.setPassword(&quot;123456&quot;);\r\n        model.addAttribute(&quot;user1&quot;, u);\r\n        return &quot;login&quot;;\r\n    }\r\n\r\n     @RequestMapping(method = RequestMethod.POST, value = &quot;/login&quot;)\r\n    public String checkLog(@ModelAttribute(&quot;zeus&quot;) Account u) {\r\n        System.out.println(u);\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n\r\n    \r\n    @ModelAttribute\r\n    public void addAccount(Model model) {\r\n        Account a = new Account();\r\n        a.setUsername(&quot;zeus&quot;);\r\n        a.setPassword(&quot;123&quot;);\r\n        model.addAttribute(&quot;zeus&quot;, a);\r\n    }\r\n   \r\n}\r\n\r\n```\r\n\r\ni&#39;m very confused that when submit form and the method checkLog is called, instead of retrieving attribute named &quot;zeus&quot; in Model , spring mvc seemed get the paramater value from submitform bind to User then over written model attribute named &quot;zeus&quot;. Therefore i get OUTPUT like\r\n\r\n```\r\nUser{username=user name i submited, password=submited}\r\n```\r\ninsteed of \r\n\r\n```\r\nUser{username=zeus, password=123}\r\n```\r\n\r\n\r\n\r\n\r\ni dont know how flow of @modelAttribute, when not submit form, I can get attribute named &quot;zeus&quot; from Model (called test() function)  but when submit form it can&#39;t be done as above, please shed the light for me on this problems\r\ntks you guys very much\r\n","title":"How @ModelAttribute for method parameter work in Spring MVC","body":"<p>i'm very new in spring mvc so i have very confused about how @modelAttribute work in spring mvc and i have situation right down</p>\n<p>my JSP:</p>\n<pre><code> &lt;%-- \n    Document   : login\n    Created on : Apr 3, 2023, 11:22:57 AM\n    Author     : MinhDuy\n--%&gt;\n\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;  %&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n       \n\n        &lt;form:form action=&quot;login&quot; method=&quot;POST&quot; modelAttribute=&quot;user1&quot; &gt;\n            User: &lt;form:input path=&quot;username&quot;/&gt;&lt;br&gt;\n            Pass: &lt;form:input path=&quot;password&quot;/&gt;&lt;br&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;login&quot;&gt;\n\n        &lt;/form:form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>and my Controller:</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\npackage com.mycompany.mavenproject3;\n\nimport com.mycompany.mavenproject3.Model.Account;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n/**\n *\n * @author MinhDuy\n */\n@Controller\npublic class TestController {\n\n   @RequestMapping(&quot;/hello&quot;)\n    public String test(@ModelAttribute(&quot;zeus&quot;) Account account) {\n        System.out.println(account);\n        return &quot;hello&quot;;\n    }\n\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/login&quot;)\n    public String login(Model model) {\n        Account u = new Account();\n        u.setUsername(&quot;daniel&quot;);\n        u.setPassword(&quot;123456&quot;);\n        model.addAttribute(&quot;user1&quot;, u);\n        return &quot;login&quot;;\n    }\n\n     @RequestMapping(method = RequestMethod.POST, value = &quot;/login&quot;)\n    public String checkLog(@ModelAttribute(&quot;zeus&quot;) Account u) {\n        System.out.println(u);\n        return &quot;hello&quot;;\n    }\n\n\n    \n    @ModelAttribute\n    public void addAccount(Model model) {\n        Account a = new Account();\n        a.setUsername(&quot;zeus&quot;);\n        a.setPassword(&quot;123&quot;);\n        model.addAttribute(&quot;zeus&quot;, a);\n    }\n   \n}\n\n</code></pre>\n<p>i'm very confused that when submit form and the method checkLog is called, instead of retrieving attribute named &quot;zeus&quot; in Model , spring mvc seemed get the paramater value from submitform bind to User then over written model attribute named &quot;zeus&quot;. Therefore i get OUTPUT like</p>\n<pre><code>User{username=user name i submited, password=submited}\n</code></pre>\n<p>insteed of</p>\n<pre><code>User{username=zeus, password=123}\n</code></pre>\n<p>i dont know how flow of @modelAttribute, when not submit form, I can get attribute named &quot;zeus&quot; from Model (called test() function)  but when submit form it can't be done as above, please shed the light for me on this problems\ntks you guys very much</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":6919952,"reputation":4216,"user_id":5312929,"accept_rate":93,"display_name":"Nilabja"},"score":0,"creation_date":1680522574,"post_id":75917748,"comment_id":133907324,"body_markdown":"my suggestion would be, try android studio Flamingo or Giraffe","body":"my suggestion would be, try android studio Flamingo or Giraffe"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680534751,"post_id":75917748,"comment_id":133910804,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":27829354,"reputation":186,"user_id":21248085,"display_name":"Shivrajsinh Sarvaiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680524849,"creation_date":1680524849,"answer_id":75919497,"question_id":75917748,"body_markdown":"Try this methdod:  \r\n\r\n 1. Open File -&gt; Project Structure \r\n 2. Upgrade the `gradle version to 7.4` and `gradle plugin version to 7.3.0`\r\n 3. Invalidate cache \r\n 4. Restart the Android Studio\r\n\r\n","title":"Android studio preview screen showing blank","body":"<p>Try this methdod:</p>\n<ol>\n<li>Open File -&gt; Project Structure</li>\n<li>Upgrade the <code>gradle version to 7.4</code> and <code>gradle plugin version to 7.3.0</code></li>\n<li>Invalidate cache</li>\n<li>Restart the Android Studio</li>\n</ol>\n"}],"owner":{"account_id":28201072,"reputation":1,"user_id":21554847,"display_name":"kareem mohamed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680588961,"answer_count":1,"score":-1,"last_activity_date":1680524849,"creation_date":1680512798,"question_id":75917748,"body_markdown":"The problem is that when I use TabLayout the screen turns black and there is no error, when I run the emulator screen there is no problem with the emulator screen\r\nI hope to find a solution\r\n........\r\n[[enter image description here](https://i.stack.imgur.com/jYPkF.png)](https://i.stack.imgur.com/E19JR.png)\r\n[enter image description here][1]\r\n\r\nI made a project again and changed Theme\r\n the  problem is still there\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GlzIh.png","title":"Android studio preview screen showing blank","body":"<p>The problem is that when I use TabLayout the screen turns black and there is no error, when I run the emulator screen there is no problem with the emulator screen\nI hope to find a solution\n........\n[<a href=\"https://i.stack.imgur.com/jYPkF.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/E19JR.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/E19JR.png</a>)\n<a href=\"https://i.stack.imgur.com/GlzIh.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I made a project again and changed Theme\nthe  problem is still there</p>\n"},{"tags":["java","file","checkmarx"],"answers":[{"comments":[{"owner":{"account_id":1606450,"reputation":760,"user_id":4189632,"accept_rate":77,"display_name":"Erdnase"},"score":0,"creation_date":1699270081,"post_id":75919466,"comment_id":136506094,"body_markdown":"Isnt this for creating a new file? I am actually reading an existing file?","body":"Isnt this for creating a new file? I am actually reading an existing file?"}],"tags":[],"owner":{"account_id":6652570,"reputation":74,"user_id":5134099,"display_name":"Samit"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680524574,"creation_date":1680524574,"answer_id":75919466,"question_id":70970227,"body_markdown":"    File tempFile = File.createTempFile(TEMP_FILE_PREFIX,TEMP_FILE_SUFFIX, new File(TEMP_FOLDER));\r\n    FileWriter fw = new FileWriter(tempFile);\r\n    tempFile.setExecutable(false);\r\n    tempFile.setReadable(true);\r\n    tempFile.setWritable(true);\r\n    fw.write(CONTENT);\r\n    \r\n    this shld help, post that u can raise mitigation request with security team.","title":"Read a File without Checkmarx warning","body":"<pre><code>File tempFile = File.createTempFile(TEMP_FILE_PREFIX,TEMP_FILE_SUFFIX, new File(TEMP_FOLDER));\nFileWriter fw = new FileWriter(tempFile);\ntempFile.setExecutable(false);\ntempFile.setReadable(true);\ntempFile.setWritable(true);\nfw.write(CONTENT);\n\nthis shld help, post that u can raise mitigation request with security team.\n</code></pre>\n"}],"owner":{"account_id":1606450,"reputation":760,"user_id":4189632,"accept_rate":77,"display_name":"Erdnase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680524574,"creation_date":1643886591,"question_id":70970227,"body_markdown":"I am trying to read a file stored in filesystem in Java using the below code.\r\n\r\n    byte[] readAllBytes = null;\r\n    File templateFile = new File(&quot;/myfolder/abc.png&quot;);\r\n    readAllBytes = Files.readAllBytes(templateFile.toPath());\r\n\r\nWhile scanning this code in Checkmarx tool, the tool raises an issue of &quot;Incorrect Permission Assignment For Critical Resources&quot; . I have referred [here][1] about this issue and understand that it is about creating a file with the correct permissions so that it is not misused. But here, I am not creating a file, but I am reading a file. In this case how will I resolve this issue in Checkmarx? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62563078/fixing-incorrect-permission-assignment-for-critical-resources-cwe-732","title":"Read a File without Checkmarx warning","body":"<p>I am trying to read a file stored in filesystem in Java using the below code.</p>\n<pre><code>byte[] readAllBytes = null;\nFile templateFile = new File(&quot;/myfolder/abc.png&quot;);\nreadAllBytes = Files.readAllBytes(templateFile.toPath());\n</code></pre>\n<p>While scanning this code in Checkmarx tool, the tool raises an issue of &quot;Incorrect Permission Assignment For Critical Resources&quot; . I have referred <a href=\"https://stackoverflow.com/questions/62563078/fixing-incorrect-permission-assignment-for-critical-resources-cwe-732\">here</a> about this issue and understand that it is about creating a file with the correct permissions so that it is not misused. But here, I am not creating a file, but I am reading a file. In this case how will I resolve this issue in Checkmarx?</p>\n"},{"tags":["java","swift","cryptokit"],"answers":[{"comments":[{"owner":{"account_id":11019580,"reputation":217,"user_id":8094329,"display_name":"nirav dinmali"},"score":0,"creation_date":1680528328,"post_id":75919416,"comment_id":133908852,"body_markdown":"Thank you so so much! Am new to encryption and you explained it very well. Really, a big thanks!","body":"Thank you so so much! Am new to encryption and you explained it very well. Really, a big thanks!"}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680524265,"creation_date":1680524265,"answer_id":75919416,"question_id":75918859,"body_markdown":"When in doubt, check the documentation.\r\n\r\nThe [documentation for Base64](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Base64.html) starts out with:\r\n\r\n&gt;This class consists exclusively of static methods for obtaining encoders and decoders for the Base64 encoding scheme. The implementation of this class supports the following types of Base64 as specified in [RFC 4648](http://www.ietf.org/rfc/rfc4648.txt) and [RFC 2045](http://www.ietf.org/rfc/rfc2045.txt).\r\n\r\nIf we follow that first link, we see the Internet standard for Base64 encoding (and some other encodings).  Section 4 says:\r\n\r\n&gt;A 65-character subset of US-ASCII is used, enabling 6 bits to be\r\n&gt;represented per printable character.  (The extra 65th character, &quot;=&quot;,\r\n&gt;is used to signify a special processing function.)\r\n\r\nAnd a little lower down, it says:\r\n\r\n&gt;Padding at the end of the data is performed using the &#39;=&#39; character.  Since all base 64 input is an integral number of octets, only the following cases can arise:\r\n&gt;\r\n&gt;1. The final quantum of encoding input is an integral multiple of 24 bits; here, the final unit of encoded output will be an integral multiple of 4 characters with no &quot;=&quot; padding.\r\n&gt;2. The final quantum of encoding input is exactly 8 bits; here, the final unit of encoded output will be two characters followed by two &quot;=&quot; padding characters.\r\n&gt;3. The final quantum of encoding input is exactly 16 bits; here, the final unit of encoded output will be three characters followed by one &quot;=&quot; padding character.\r\n\r\nHopefully, this makes it clear that the `=` character **may only appear at the end** of Base64 encoded bytes.\r\n\r\nYour code has this:\r\n\r\n    String cipherText2 = &quot;Ug==&quot;;  \r\n    String tag2 = &quot;hkjeGS301OgQyGqdGDuHAA==&quot;;\r\n    decryptSimpleString(cipherText2, tag2);\r\n\r\nwhich means the first argument to decryptSimpleString, `cipherText`, is &quot;Ug==&quot;, and the second argument to decyptSimpleString, `tag`, is a longer sequence of Base64 encoded bytes.\r\n\r\nThe decryptSimpleString method contains this:\r\n\r\n    String ciphterTextWithTag = cipherText + tag;\r\n    byte[] ciphertextBytes = Base64.getDecoder().decode(ciphterTextWithTag); \r\n\r\nOops.  `cipherText` contains `=` characters, and since the Base64 specification clearly states that `=` can only appear at the end of Base64 encoded content, `cipherText + tag` is not a valid Base64 sequence.\r\n\r\nIn summary, you cannot just concatenate two Base64 sequences and assume the result is itself a valid Base64 sequence.\r\n\r\nIf you have two Base64 sequences and you want to create a single sequence of bytes from them, decode each of them separately:\r\n\r\n    Base64.Decoder decoder = Base64.getDecoder();\r\n    byte[] decodedCipherText = decoder.decode(cipherText);\r\n    byte[] decodedTag = decoder.decode(tag);\r\n\r\n    byte[] ciphertextBytes =\r\n        new byte[decodedCipherText.length + decodedTag.length];\r\n    ByteBuffer.wrap(ciphertextBytes).put(decodedCipherText).put(decodedTag);\r\n","title":"Swift AES GCM encryptor and Java decryption - Padding issues","body":"<p>When in doubt, check the documentation.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Base64.html\" rel=\"nofollow noreferrer\">documentation for Base64</a> starts out with:</p>\n<blockquote>\n<p>This class consists exclusively of static methods for obtaining encoders and decoders for the Base64 encoding scheme. The implementation of this class supports the following types of Base64 as specified in <a href=\"http://www.ietf.org/rfc/rfc4648.txt\" rel=\"nofollow noreferrer\">RFC 4648</a> and <a href=\"http://www.ietf.org/rfc/rfc2045.txt\" rel=\"nofollow noreferrer\">RFC 2045</a>.</p>\n</blockquote>\n<p>If we follow that first link, we see the Internet standard for Base64 encoding (and some other encodings).  Section 4 says:</p>\n<blockquote>\n<p>A 65-character subset of US-ASCII is used, enabling 6 bits to be\nrepresented per printable character.  (The extra 65th character, &quot;=&quot;,\nis used to signify a special processing function.)</p>\n</blockquote>\n<p>And a little lower down, it says:</p>\n<blockquote>\n<p>Padding at the end of the data is performed using the '=' character.  Since all base 64 input is an integral number of octets, only the following cases can arise:</p>\n<ol>\n<li>The final quantum of encoding input is an integral multiple of 24 bits; here, the final unit of encoded output will be an integral multiple of 4 characters with no &quot;=&quot; padding.</li>\n<li>The final quantum of encoding input is exactly 8 bits; here, the final unit of encoded output will be two characters followed by two &quot;=&quot; padding characters.</li>\n<li>The final quantum of encoding input is exactly 16 bits; here, the final unit of encoded output will be three characters followed by one &quot;=&quot; padding character.</li>\n</ol>\n</blockquote>\n<p>Hopefully, this makes it clear that the <code>=</code> character <strong>may only appear at the end</strong> of Base64 encoded bytes.</p>\n<p>Your code has this:</p>\n<pre><code>String cipherText2 = &quot;Ug==&quot;;  \nString tag2 = &quot;hkjeGS301OgQyGqdGDuHAA==&quot;;\ndecryptSimpleString(cipherText2, tag2);\n</code></pre>\n<p>which means the first argument to decryptSimpleString, <code>cipherText</code>, is &quot;Ug==&quot;, and the second argument to decyptSimpleString, <code>tag</code>, is a longer sequence of Base64 encoded bytes.</p>\n<p>The decryptSimpleString method contains this:</p>\n<pre><code>String ciphterTextWithTag = cipherText + tag;\nbyte[] ciphertextBytes = Base64.getDecoder().decode(ciphterTextWithTag); \n</code></pre>\n<p>Oops.  <code>cipherText</code> contains <code>=</code> characters, and since the Base64 specification clearly states that <code>=</code> can only appear at the end of Base64 encoded content, <code>cipherText + tag</code> is not a valid Base64 sequence.</p>\n<p>In summary, you cannot just concatenate two Base64 sequences and assume the result is itself a valid Base64 sequence.</p>\n<p>If you have two Base64 sequences and you want to create a single sequence of bytes from them, decode each of them separately:</p>\n<pre><code>Base64.Decoder decoder = Base64.getDecoder();\nbyte[] decodedCipherText = decoder.decode(cipherText);\nbyte[] decodedTag = decoder.decode(tag);\n\nbyte[] ciphertextBytes =\n    new byte[decodedCipherText.length + decodedTag.length];\nByteBuffer.wrap(ciphertextBytes).put(decodedCipherText).put(decodedTag);\n</code></pre>\n"}],"owner":{"account_id":11019580,"reputation":217,"user_id":8094329,"display_name":"nirav dinmali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75919416,"answer_count":1,"score":0,"last_activity_date":1680524265,"creation_date":1680520450,"question_id":75918859,"body_markdown":"I have a swift function to encrypt a string.\r\n \r\nWhen I give it &quot;abc&quot; it creates a ciphertext without padding. \r\n\r\nWhen I give it &quot;a&quot; it creates a ciphertext with padding &quot;==&quot;. \r\n\r\nThis behavior is understood. The problem is I need to decrypt the string in java.\r\n\r\n--------------\r\n\r\nJava code decryptes the ciphertext of &quot;abc&quot; fine, but not of &quot;a&quot;. \r\n\r\nIt throws error &quot;input byte array has incorrect ending byte at...&quot;. \r\n\r\nObviously it is not able to decrypt the padding bytes.\r\n\r\n----------------\r\n\r\nHow do I solve this issue in java code? I tried instantiating Cipher with AES/GCM/PKCS5Padding but it says cannot find any provider supporting this padding\r\n\r\n---------\r\n\r\nSWIFT ENCRYPTOR\r\n\r\n\t\r\n\r\n    static func encrypt() {\r\n            \r\n            \tlet plain = &quot;a&quot; // another string &quot;abc&quot;\r\n          \r\n            \tstatic let secret = &quot;my-xxx-bit-secret-my-secret-my-s&quot;\r\n                static let nonceString = &quot;fv1nixTVoYpSvpdA&quot;\r\n                static let nonce = try! AES.GCM.Nonce(data: Data(base64Encoded: nonceString)!)\r\n                static let symKey = SymmetricKey(data: secret.data(using: .utf8)!)\r\n    \r\n            \tlet sealedBox = try! AES.GCM.seal(plain.data(using: .utf8)!, using: symKey, nonce: nonce)\r\n            \tlet ciphertext = sealedBox.ciphertext.base64EncodedString()\r\n            \tlet tag = sealedBox.tag\r\n            \tprint(&quot;ciphertext: .\\(ciphertext).&quot;)\r\n            \tprint(&quot;tag: \\(tag.base64EncodedString())&quot;)\r\n                     \r\n}\r\n\r\nJAVA DECRYPTOR\r\n\r\n \r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.GCMParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.SecureRandom;\r\n    import java.util.Base64;\r\n\r\n    public class StringDecryptor {\r\n        public static void main(String[] args) throws Exception {\r\n    \t\r\n            String actualText1 = &quot;abc&quot;;\r\n            String cipherText1 = &quot;UoRs&quot;; \r\n            String tag1 = &quot;7VhlWAPpKka0CkmpshyOjw==&quot;;\r\n            decryptSimpleString(cipherText1, tag1);\r\n            \r\n            String actualText2 = &quot;a&quot;;\r\n            String cipherText2 = &quot;Ug==&quot;;  \r\n            String tag2 = &quot;hkjeGS301OgQyGqdGDuHAA==&quot;;\r\n            decryptSimpleString(cipherText2, tag2);\r\n         }\r\n        \r\n        public static void decryptSimpleString(String cipherText, String tag) throws Exception {\r\n            String secret = &quot;my-xxx-bit-secret-my-secret-my-s&quot;;\r\n            byte[] keyBytes = secret.getBytes(StandardCharsets.UTF_8);\r\n            \r\n            String nonce = &quot;fv1nixTVoYpSvpdA&quot;;\r\n            byte[] nonceBytes = Base64.getDecoder().decode(nonce);\r\n            \r\n            byte[] tagBytes = Base64.getDecoder().decode(tag);\r\n            \r\n            String ciphterTextWithTag = cipherText + tag;\r\n            byte[] ciphertextBytes = Base64.getDecoder().decode(ciphterTextWithTag); \r\n    \r\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            SecretKeySpec keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n            GCMParameterSpec gcmSpec = new GCMParameterSpec(128, nonceBytes);\r\n            cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmSpec);\r\n    \r\n            byte[] plaintextBytes = cipher.doFinal(ciphertextBytes);\r\n            String plaintext = new String(plaintextBytes, StandardCharsets.UTF_8);\r\n            System.out.println(&quot;plain text was &quot;+plaintext);\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n \r\n\r\nOutput of Java code\r\n\r\n    plain text was abc\r\n    \r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Input byte array has incorrect ending byte at 4\r\n    \tat java.base/java.util.Base64$Decoder.decode0(Base64.java:875)\r\n    \tat java.base/java.util.Base64$Decoder.decode(Base64.java:566)\r\n    \tat java.base/java.util.Base64$Decoder.decode(Base64.java:589)\r\n    \tat com.mydomain.crypto.StringDecryptor.decryptSimpleString(StringDecryptor.java:34)\r\n    \tat com.mydomain.crypto.StringDecryptor.main(StringDecryptor.java:21)\r\n\r\n","title":"Swift AES GCM encryptor and Java decryption - Padding issues","body":"<p>I have a swift function to encrypt a string.</p>\n<p>When I give it &quot;abc&quot; it creates a ciphertext without padding.</p>\n<p>When I give it &quot;a&quot; it creates a ciphertext with padding &quot;==&quot;.</p>\n<p>This behavior is understood. The problem is I need to decrypt the string in java.</p>\n<hr />\n<p>Java code decryptes the ciphertext of &quot;abc&quot; fine, but not of &quot;a&quot;.</p>\n<p>It throws error &quot;input byte array has incorrect ending byte at...&quot;.</p>\n<p>Obviously it is not able to decrypt the padding bytes.</p>\n<hr />\n<p>How do I solve this issue in java code? I tried instantiating Cipher with AES/GCM/PKCS5Padding but it says cannot find any provider supporting this padding</p>\n<hr />\n<p>SWIFT ENCRYPTOR</p>\n<pre><code>static func encrypt() {\n        \n            let plain = &quot;a&quot; // another string &quot;abc&quot;\n      \n            static let secret = &quot;my-xxx-bit-secret-my-secret-my-s&quot;\n            static let nonceString = &quot;fv1nixTVoYpSvpdA&quot;\n            static let nonce = try! AES.GCM.Nonce(data: Data(base64Encoded: nonceString)!)\n            static let symKey = SymmetricKey(data: secret.data(using: .utf8)!)\n\n            let sealedBox = try! AES.GCM.seal(plain.data(using: .utf8)!, using: symKey, nonce: nonce)\n            let ciphertext = sealedBox.ciphertext.base64EncodedString()\n            let tag = sealedBox.tag\n            print(&quot;ciphertext: .\\(ciphertext).&quot;)\n            print(&quot;tag: \\(tag.base64EncodedString())&quot;)\n                 \n</code></pre>\n<p>}</p>\n<p>JAVA DECRYPTOR</p>\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.nio.charset.StandardCharsets;\nimport java.security.SecureRandom;\nimport java.util.Base64;\n\npublic class StringDecryptor {\n    public static void main(String[] args) throws Exception {\n    \n        String actualText1 = &quot;abc&quot;;\n        String cipherText1 = &quot;UoRs&quot;; \n        String tag1 = &quot;7VhlWAPpKka0CkmpshyOjw==&quot;;\n        decryptSimpleString(cipherText1, tag1);\n        \n        String actualText2 = &quot;a&quot;;\n        String cipherText2 = &quot;Ug==&quot;;  \n        String tag2 = &quot;hkjeGS301OgQyGqdGDuHAA==&quot;;\n        decryptSimpleString(cipherText2, tag2);\n     }\n    \n    public static void decryptSimpleString(String cipherText, String tag) throws Exception {\n        String secret = &quot;my-xxx-bit-secret-my-secret-my-s&quot;;\n        byte[] keyBytes = secret.getBytes(StandardCharsets.UTF_8);\n        \n        String nonce = &quot;fv1nixTVoYpSvpdA&quot;;\n        byte[] nonceBytes = Base64.getDecoder().decode(nonce);\n        \n        byte[] tagBytes = Base64.getDecoder().decode(tag);\n        \n        String ciphterTextWithTag = cipherText + tag;\n        byte[] ciphertextBytes = Base64.getDecoder().decode(ciphterTextWithTag); \n\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        SecretKeySpec keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n        GCMParameterSpec gcmSpec = new GCMParameterSpec(128, nonceBytes);\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmSpec);\n\n        byte[] plaintextBytes = cipher.doFinal(ciphertextBytes);\n        String plaintext = new String(plaintextBytes, StandardCharsets.UTF_8);\n        System.out.println(&quot;plain text was &quot;+plaintext);\n    }\n    \n    \n}\n</code></pre>\n<p>Output of Java code</p>\n<pre><code>plain text was abc\n\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Input byte array has incorrect ending byte at 4\n    at java.base/java.util.Base64$Decoder.decode0(Base64.java:875)\n    at java.base/java.util.Base64$Decoder.decode(Base64.java:566)\n    at java.base/java.util.Base64$Decoder.decode(Base64.java:589)\n    at com.mydomain.crypto.StringDecryptor.decryptSimpleString(StringDecryptor.java:34)\n    at com.mydomain.crypto.StringDecryptor.main(StringDecryptor.java:21)\n</code></pre>\n"},{"tags":["java","security","zip","apache-poi"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1522486264,"post_id":49585900,"comment_id":86179827,"body_markdown":"Why don&#39;t you pre-check the file using `ZipInputStream` *before* giving the file to POI?","body":"Why don&#39;t you pre-check the file using <code>ZipInputStream</code> <i>before</i> giving the file to POI?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1522486332,"post_id":49585900,"comment_id":86179847,"body_markdown":"Are you really sure that &quot;zip-bomb-detection&quot; will be your (`apache poi`&#39; s) task? I believe most users are **not** happy with this and do setting `MinInflateRatio` to a value where your whole &quot;zip-bomb-detection&quot; effort is thwarted. So, in my humble opinion, this is unnecessary effort.","body":"Are you really sure that &quot;zip-bomb-detection&quot; will be your (<code>apache poi</code>&#39; s) task? I believe most users are <b>not</b> happy with this and do setting <code>MinInflateRatio</code> to a value where your whole &quot;zip-bomb-detection&quot; effort is thwarted. So, in my humble opinion, this is unnecessary effort."},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1522490161,"post_id":49585900,"comment_id":86180734,"body_markdown":"@AxelRichter, Yes, we want to be &quot;secure by default&quot;, otherwise open source software is always the first one to blame if companies fail to enable such checks. I think Apache POI had only a few related questions and it is very easy to disable the check if it is not wanted.","body":"@AxelRichter, Yes, we want to be &quot;secure by default&quot;, otherwise open source software is always the first one to blame if companies fail to enable such checks. I think Apache POI had only a few related questions and it is very easy to disable the check if it is not wanted."},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":1,"creation_date":1522490290,"post_id":49585900,"comment_id":86180772,"body_markdown":"@Andreas, I want to fix Apache POI itself here, so I am interested if others have had similar requirements and solved this already in some clever way.","body":"@Andreas, I want to fix Apache POI itself here, so I am interested if others have had similar requirements and solved this already in some clever way."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1526825471,"post_id":49585900,"comment_id":87885447,"body_markdown":"Have you looked into other zip libraries? Doing it yourself seems a better option than relying on internal features of the Sun/Oracle provided functionality. A quick search found [an Apache library](https://commons.apache.org/proper/commons-compress/zip.html) (hah, right back at you). Why not use / improve that?","body":"Have you looked into other zip libraries? Doing it yourself seems a better option than relying on internal features of the Sun/Oracle provided functionality. A quick search found <a href=\"https://commons.apache.org/proper/commons-compress/zip.html\" rel=\"nofollow noreferrer\">an Apache library</a> (hah, right back at you). Why not use / improve that?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1526826067,"post_id":49585900,"comment_id":87885617,"body_markdown":"The internal library is probably functional for the majority of tasks, but if your subsystem has `.zip` support from external sources as important feature, I would not rely on any internal library.","body":"The internal library is probably functional for the majority of tasks, but if your subsystem has <code>.zip</code> support from external sources as important feature, I would not rely on any internal library."}],"answers":[{"comments":[{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1552059350,"post_id":55045306,"comment_id":96880450,"body_markdown":"The reading/unzipping is built into the core of a large library, so not easy to simply work on files if there is an InputStream coming in. \nAlso performance is affected if you have to open/scan files multiple times. \n\nHowever we switched zip-functoinality to commons-compress in the meantime which allows to do this nicely on all versions of Java. \n\nAnd on overriding methods, you obviously did not look at the actual changes in Java 10, because they actively prevent you from doing this as far as I see.","body":"The reading/unzipping is built into the core of a large library, so not easy to simply work on files if there is an InputStream coming in.  Also performance is affected if you have to open/scan files multiple times.   However we switched zip-functoinality to commons-compress in the meantime which allows to do this nicely on all versions of Java.   And on overriding methods, you obviously did not look at the actual changes in Java 10, because they actively prevent you from doing this as far as I see."}],"tags":[],"owner":{"account_id":2303891,"reputation":1772,"user_id":2023577,"display_name":"user2023577"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551966307,"creation_date":1551966307,"answer_id":55045306,"question_id":49585900,"body_markdown":"I can&#39;t imagine why you needed a reflection/injection hack in the first place. You seem to pass not a filename but some instance like zipfile or zipinputstream.\r\n\r\nIf you have a file (or can save to a file first), then you can first check the zip file entries sizes (not even decompressing) before handing it to the vulnerable library. Even if you needed to pass a zipfie, you could extend the zipfile class to proxy calls.\r\n\r\nIf you have zip stream and really cannot temp-save to disk and must read as a zipinputstream somehow, then override methods of zipinputstream (getnextentry, read, etc). \r\n","title":"How to detect a zip-bomb with Java 10","body":"<p>I can't imagine why you needed a reflection/injection hack in the first place. You seem to pass not a filename but some instance like zipfile or zipinputstream.</p>\n\n<p>If you have a file (or can save to a file first), then you can first check the zip file entries sizes (not even decompressing) before handing it to the vulnerable library. Even if you needed to pass a zipfie, you could extend the zipfile class to proxy calls.</p>\n\n<p>If you have zip stream and really cannot temp-save to disk and must read as a zipinputstream somehow, then override methods of zipinputstream (getnextentry, read, etc). </p>\n"},{"comments":[{"owner":{"account_id":958942,"reputation":2012,"user_id":983716,"accept_rate":75,"display_name":"user983716"},"score":0,"creation_date":1589221101,"post_id":55066447,"comment_id":109201773,"body_markdown":"That is great!  Do you have any link?","body":"That is great!  Do you have any link?"},{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":0,"creation_date":1670322433,"post_id":55066447,"comment_id":131844358,"body_markdown":"The link gives a 404 error.","body":"The link gives a 404 error."}],"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680524254,"creation_date":1552059410,"answer_id":55066447,"question_id":49585900,"body_markdown":"After some investigation we used zip-functionality from Apache commons-compress, which allows to perform this kind of check without having to resort to reflection, so we now can do these checks with any version of Java.\r\n\r\nLook at https://github.com/apache/poi/tree/trunk/poi-ooxml/src/main/java/org/apache/poi/openxml4j/util for the resulting implementation in Apache POI, especially `ZipArchiveThresholdInputStream`.","title":"How to detect a zip-bomb with Java 10","body":"<p>After some investigation we used zip-functionality from Apache commons-compress, which allows to perform this kind of check without having to resort to reflection, so we now can do these checks with any version of Java.</p>\n<p>Look at <a href=\"https://github.com/apache/poi/tree/trunk/poi-ooxml/src/main/java/org/apache/poi/openxml4j/util\" rel=\"nofollow noreferrer\">https://github.com/apache/poi/tree/trunk/poi-ooxml/src/main/java/org/apache/poi/openxml4j/util</a> for the resulting implementation in Apache POI, especially <code>ZipArchiveThresholdInputStream</code>.</p>\n"}],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5291,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":55066447,"answer_count":2,"score":12,"last_activity_date":1680524254,"creation_date":1522485491,"question_id":49585900,"body_markdown":"Apache POI is opening zip-files on a regular basis because Microsoft Excel/Word/... files are zip-files in their newer format. In order to prevent some types of denial-of-service-attacks, it has functionality when opening Zip-files to not read files which expand a lot and thus could be used to overwhelm the main memory by providing a small malicious file which explodes when uncompressed into memory. Apache POI calls this zip-bomb-protection.\r\n\r\nUp to Java 9 it could use some workaround via reflection to inject a counting-InputStream into ZipFile/ZipEntry to detect an explosion in expanded data and this way prevent zip-bombs.\r\n\r\nHowever in Java 10 this is not possible any more because the implementation of ZipFile was changed in a way that prevents this (hard cast to ZipFile$ZipFileInputStream in ZipFile). \r\n\r\nSo we are looking for a different way to count the number of extracted bytes during extracting to be able to stop as soon as the compression ratio reaches a certain limit. \r\n\r\nIs there a way to do zip-bomb-detection differently without resorting to reflection?","title":"How to detect a zip-bomb with Java 10","body":"<p>Apache POI is opening zip-files on a regular basis because Microsoft Excel/Word/... files are zip-files in their newer format. In order to prevent some types of denial-of-service-attacks, it has functionality when opening Zip-files to not read files which expand a lot and thus could be used to overwhelm the main memory by providing a small malicious file which explodes when uncompressed into memory. Apache POI calls this zip-bomb-protection.</p>\n\n<p>Up to Java 9 it could use some workaround via reflection to inject a counting-InputStream into ZipFile/ZipEntry to detect an explosion in expanded data and this way prevent zip-bombs.</p>\n\n<p>However in Java 10 this is not possible any more because the implementation of ZipFile was changed in a way that prevents this (hard cast to ZipFile$ZipFileInputStream in ZipFile). </p>\n\n<p>So we are looking for a different way to count the number of extracted bytes during extracting to be able to stop as soon as the compression ratio reaches a certain limit. </p>\n\n<p>Is there a way to do zip-bomb-detection differently without resorting to reflection?</p>\n"},{"tags":["java","inheritance","interface","extends","implements"],"comments":[{"owner":{"account_id":5850137,"reputation":3193,"user_id":4609016,"accept_rate":73,"display_name":"User Learning"},"score":9,"creation_date":1438668908,"post_id":10839131,"comment_id":51530389,"body_markdown":"[link](http://stackoverflow.com/a/22025689/4609016) This example made some understanding easily about the Interface and abstract class ie implements and extends in java.","body":"<a href=\"http://stackoverflow.com/a/22025689/4609016\">link</a> This example made some understanding easily about the Interface and abstract class ie implements and extends in java."},{"owner":{"account_id":6608852,"reputation":1803,"user_id":6458245,"accept_rate":59,"display_name":"JobHunter69"},"score":0,"creation_date":1591373300,"post_id":10839131,"comment_id":110041243,"body_markdown":"extends is an element of the extension space","body":"extends is an element of the extension space"}],"answers":[{"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":25,"creation_date":1338488968,"post_id":10839149,"comment_id":14113535,"body_markdown":"And extends is also for when you&#39;re extending an interface :-).","body":"And extends is also for when you&#39;re extending an interface :-)."}],"tags":[],"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"comment_count":1,"down_vote_count":3,"up_vote_count":47,"is_accepted":false,"score":44,"last_activity_date":1338488836,"creation_date":1338488836,"answer_id":10839149,"question_id":10839131,"body_markdown":"`extends` is for when you&#39;re inheriting from a *base class* (i.e. extending its functionality).\r\n\r\n`implements` is for when you&#39;re implementing an *interface*.\r\n\r\nHere is a good place to start: [*Interfaces and Inheritance*](http://docs.oracle.com/javase/tutorial/java/IandI/index.html).","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p><code>extends</code> is for when you're inheriting from a <em>base class</em> (i.e. extending its functionality).</p>\n\n<p><code>implements</code> is for when you're implementing an <em>interface</em>.</p>\n\n<p>Here is a good place to start: <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/index.html\" rel=\"noreferrer\"><em>Interfaces and Inheritance</em></a>.</p>\n"},{"comments":[{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":55,"creation_date":1338489621,"post_id":10839155,"comment_id":14113773,"body_markdown":"An interface can contain way more than method declarations: Constant fields, annotations, interfaces and even classes.","body":"An interface can contain way more than method declarations: Constant fields, annotations, interfaces and even classes."},{"owner":{"account_id":2908007,"reputation":401,"user_id":2492854,"accept_rate":32,"display_name":"user2492854"},"score":0,"creation_date":1386176111,"post_id":10839155,"comment_id":30430442,"body_markdown":"are they something like  modules and mixins in ruby?","body":"are they something like  modules and mixins in ruby?"},{"owner":{"account_id":24366,"reputation":7247,"user_id":61938,"accept_rate":71,"display_name":"Rob Grant"},"score":0,"creation_date":1406559118,"post_id":10839155,"comment_id":38866132,"body_markdown":"@user2492854 a little bit, but there won&#39;t be any implemented methods in an interface. It&#39;s literally a description of an interface, not an implementation.","body":"@user2492854 a little bit, but there won&#39;t be any implemented methods in an interface. It&#39;s literally a description of an interface, not an implementation."},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":43,"creation_date":1417066108,"post_id":10839155,"comment_id":42820034,"body_markdown":"A new feature in **Java 8** allows implementation of `default` behavior for methods in interfaces, making the custom implementation of those methods optional. Therefore the statement *&quot;you can only specify methods, but not implement them&quot;* is only fully correct for **Java 7 and below**.","body":"A new feature in <b>Java 8</b> allows implementation of <code>default</code> behavior for methods in interfaces, making the custom implementation of those methods optional. Therefore the statement <i>&quot;you can only specify methods, but not implement them&quot;</i> is only fully correct for <b>Java 7 and below</b>."},{"owner":{"account_id":1452549,"reputation":346,"user_id":1369022,"display_name":"weiheng"},"score":10,"creation_date":1476252607,"post_id":10839155,"comment_id":67261280,"body_markdown":"&quot;extends is for extending a class&quot;, is a little bit confusing. Sine **an interface and extends an interface too** . For example: `public interface ListIterator&lt;E&gt; extends Iterator&lt;E&gt;`","body":"&quot;extends is for extending a class&quot;, is a little bit confusing. Sine <b>an interface and extends an interface too</b> . For example: <code>public interface ListIterator&lt;E&gt; extends Iterator&lt;E&gt;</code>"},{"owner":{"account_id":1787313,"reputation":147,"user_id":1628498,"accept_rate":82,"display_name":"blinking-in-the-light"},"score":0,"creation_date":1485113028,"post_id":10839155,"comment_id":70778430,"body_markdown":"Thanks for making the distinction that Oracle&#39;s own tutorial forgot to; that you make *either* a class or an interface, not both. I was banging my head against a wall wondering why I couldn&#39;t make an interface *for* my class.","body":"Thanks for making the distinction that Oracle&#39;s own tutorial forgot to; that you make <i>either</i> a class or an interface, not both. I was banging my head against a wall wondering why I couldn&#39;t make an interface <i>for</i> my class."},{"owner":{"account_id":134414,"reputation":49880,"user_id":336527,"accept_rate":86,"display_name":"max"},"score":0,"creation_date":1493927893,"post_id":10839155,"comment_id":74624186,"body_markdown":"`Also java doesn&#39;t support multiple inheritance for classes. This is solved by using multiple interfaces`: how so? The lack of multiple inheritance of classes means that you cannot combine implementation from multiple sources, and I don&#39;t think multiple interfaces change that in any way?","body":"<code>Also java doesn&#39;t support multiple inheritance for classes. This is solved by using multiple interfaces</code>: how so? The lack of multiple inheritance of classes means that you cannot combine implementation from multiple sources, and I don&#39;t think multiple interfaces change that in any way?"},{"owner":{"account_id":11824738,"reputation":3658,"user_id":8652920,"display_name":"notacorn"},"score":0,"creation_date":1615070654,"post_id":10839155,"comment_id":117579508,"body_markdown":"`extends` is for extending classes **or** interfaces","body":"<code>extends</code> is for extending classes <b>or</b> interfaces"},{"owner":{"account_id":11592287,"reputation":714,"user_id":8492297,"display_name":"Luis Alfredo Serrano D&#237;az"},"score":0,"creation_date":1663195995,"post_id":10839155,"comment_id":130185129,"body_markdown":"In PHP interfaces can be extended or implemented","body":"In PHP interfaces can be extended or implemented"}],"tags":[],"owner":{"account_id":477079,"reputation":9686,"user_id":888350,"accept_rate":66,"display_name":"tgoossens"},"comment_count":9,"down_vote_count":5,"up_vote_count":853,"is_accepted":true,"score":848,"last_activity_date":1598643676,"creation_date":1338488850,"answer_id":10839155,"question_id":10839131,"body_markdown":"`extends` is for _extending_ a class.\r\n\r\n`implements` is for _implementing_ an interface\r\n\r\nThe difference between an interface and a regular class is that in an interface you can not implement any of the declared methods.  Only the class that &quot;implements&quot; the interface can implement the methods.  The C++ equivalent of an interface would be an abstract class (not EXACTLY the same but pretty much).\r\n \r\n\r\nAlso java doesn&#39;t support **multiple inheritance** for classes. This is solved by using multiple interfaces.\r\n\r\n     public interface ExampleInterface {\r\n        public void doAction();\r\n        public String doThis(int number);\r\n     }\r\n\r\n     public class sub implements ExampleInterface {\r\n         public void doAction() {\r\n           //specify what must happen\r\n         }\r\n\r\n         public String doThis(int number) {\r\n           //specfiy what must happen\r\n         }\r\n     }\r\n\r\n\r\nnow extending a class\r\n\r\n     public class SuperClass {\r\n        public int getNb() {\r\n             //specify what must happen\r\n            return 1;\r\n         }\r\n\r\n         public int getNb2() {\r\n             //specify what must happen\r\n            return 2;\r\n         }\r\n     }\r\n\r\n     public class SubClass extends SuperClass {\r\n          //you can override the implementation\r\n          @Override\r\n          public int getNb2() {\r\n            return 3;\r\n         }\r\n     }\r\n\r\nin this case\r\n     \r\n      Subclass s = new SubClass();\r\n      s.getNb(); //returns 1\r\n      s.getNb2(); //returns 3\r\n\r\n      SuperClass sup = new SuperClass();\r\n      sup.getNb(); //returns 1\r\n      sup.getNb2(); //returns 2\r\n\r\nAlso, note that an `@Override` tag is not required for implementing an interface, as there is nothing in the original interface methods _to be overridden_\r\n\r\nI suggest you do some more research on **dynamic binding, polymorphism and in general inheritance in Object-oriented programming**","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p><code>extends</code> is for <em>extending</em> a class.</p>\n<p><code>implements</code> is for <em>implementing</em> an interface</p>\n<p>The difference between an interface and a regular class is that in an interface you can not implement any of the declared methods.  Only the class that &quot;implements&quot; the interface can implement the methods.  The C++ equivalent of an interface would be an abstract class (not EXACTLY the same but pretty much).</p>\n<p>Also java doesn't support <strong>multiple inheritance</strong> for classes. This is solved by using multiple interfaces.</p>\n<pre><code> public interface ExampleInterface {\n    public void doAction();\n    public String doThis(int number);\n }\n\n public class sub implements ExampleInterface {\n     public void doAction() {\n       //specify what must happen\n     }\n\n     public String doThis(int number) {\n       //specfiy what must happen\n     }\n }\n</code></pre>\n<p>now extending a class</p>\n<pre><code> public class SuperClass {\n    public int getNb() {\n         //specify what must happen\n        return 1;\n     }\n\n     public int getNb2() {\n         //specify what must happen\n        return 2;\n     }\n }\n\n public class SubClass extends SuperClass {\n      //you can override the implementation\n      @Override\n      public int getNb2() {\n        return 3;\n     }\n }\n</code></pre>\n<p>in this case</p>\n<pre><code>  Subclass s = new SubClass();\n  s.getNb(); //returns 1\n  s.getNb2(); //returns 3\n\n  SuperClass sup = new SuperClass();\n  sup.getNb(); //returns 1\n  sup.getNb2(); //returns 2\n</code></pre>\n<p>Also, note that an <code>@Override</code> tag is not required for implementing an interface, as there is nothing in the original interface methods <em>to be overridden</em></p>\n<p>I suggest you do some more research on <strong>dynamic binding, polymorphism and in general inheritance in Object-oriented programming</strong></p>\n"},{"tags":[],"owner":{"account_id":439593,"reputation":15022,"user_id":828625,"accept_rate":88,"display_name":"Kazekage Gaara"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1338489212,"creation_date":1338488860,"answer_id":10839157,"question_id":10839131,"body_markdown":"Implements is used for Interfaces and extends is used to extend a class.\r\n\r\nTo make it more clearer in easier terms,an interface is like it sound - an interface - a model, that you need to apply,follow, along with your ideas to it.\r\n\r\nExtend is used for classes,here,you are extending something that already exists by adding more functionality to it.\r\n\r\n\r\nA few more notes:\r\n\r\nan interface can extend another interface.\r\n\r\nAnd when you need to choose between implementing an interface or extending a class for a particular scenario, go for implementing an interface. Because a class can implement multiple interfaces but extend only one class.","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>Implements is used for Interfaces and extends is used to extend a class.</p>\n\n<p>To make it more clearer in easier terms,an interface is like it sound - an interface - a model, that you need to apply,follow, along with your ideas to it.</p>\n\n<p>Extend is used for classes,here,you are extending something that already exists by adding more functionality to it.</p>\n\n<p>A few more notes:</p>\n\n<p>an interface can extend another interface.</p>\n\n<p>And when you need to choose between implementing an interface or extending a class for a particular scenario, go for implementing an interface. Because a class can implement multiple interfaces but extend only one class.</p>\n"},{"tags":[],"owner":{"account_id":1517366,"reputation":581,"user_id":1418062,"display_name":"Daniel"},"comment_count":0,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1499958869,"creation_date":1338488961,"answer_id":10839178,"question_id":10839131,"body_markdown":"Both keywords are used when creating your own new class in the Java language.\r\n\r\nDifference:   `implements` means you are using the elements of a Java Interface in your class.  `extends` means that you are creating a subclass of the base class you are extending. You can only extend one class in your child class, but you can implement as many interfaces as you would like. \r\n\r\nRefer to oracle documentation page on [interface][1] for more details. \r\n\r\nThis can help to clarify what an interface is, and the conventions around using them.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>Both keywords are used when creating your own new class in the Java language.</p>\n\n<p>Difference:   <code>implements</code> means you are using the elements of a Java Interface in your class.  <code>extends</code> means that you are creating a subclass of the base class you are extending. You can only extend one class in your child class, but you can implement as many interfaces as you would like. </p>\n\n<p>Refer to oracle documentation page on <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html\" rel=\"noreferrer\">interface</a> for more details. </p>\n\n<p>This can help to clarify what an interface is, and the conventions around using them.</p>\n"},{"tags":[],"owner":{"account_id":156080,"reputation":34089,"user_id":373151,"accept_rate":74,"display_name":"Hari Menon"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1438243465,"creation_date":1338488979,"answer_id":10839184,"question_id":10839131,"body_markdown":"A `class` can only &quot;implement&quot; an `interface`. A class only &quot;extends&quot; a `class`. Likewise, an `interface` can extend another `interface`.\r\n\r\nA `class` can only extend one other `class`. A `class` can implement several `interface`s. \r\n\r\nIf instead you are more interested in knowing when to use `abstract class`es and `interface`s, refer to this thread: https://stackoverflow.com/questions/761194/interface-vs-abstract-class-general-oo","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>A <code>class</code> can only \"implement\" an <code>interface</code>. A class only \"extends\" a <code>class</code>. Likewise, an <code>interface</code> can extend another <code>interface</code>.</p>\n\n<p>A <code>class</code> can only extend one other <code>class</code>. A <code>class</code> can implement several <code>interface</code>s. </p>\n\n<p>If instead you are more interested in knowing when to use <code>abstract class</code>es and <code>interface</code>s, refer to this thread: <a href=\"https://stackoverflow.com/questions/761194/interface-vs-abstract-class-general-oo\">Interface vs Abstract Class (general OO)</a></p>\n"},{"tags":[],"owner":{"account_id":1175614,"reputation":11274,"user_id":1151724,"accept_rate":78,"display_name":"CodeClown42"},"comment_count":0,"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1450378952,"creation_date":1338489407,"answer_id":10839299,"question_id":10839131,"body_markdown":"I notice you have some C++ questions in your profile.  If you understand the concept of *multiple-inheritance* from C++ (referring to classes that inherit characteristics from more than one other class), Java does not allow this, but it does have keyword `interface`, which is sort of like a pure virtual class in C++.  As mentioned by lots of people, you `extend` a class (and you can only extend from one), and you `implement` an interface -- but your class can implement as many interfaces as you like.\r\n\r\nIe, these keywords and the rules governing their use delineate the possibilities for multiple-inheritance in Java (you can only have one super class, but you can implement multiple interfaces).","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>I notice you have some C++ questions in your profile.  If you understand the concept of <em>multiple-inheritance</em> from C++ (referring to classes that inherit characteristics from more than one other class), Java does not allow this, but it does have keyword <code>interface</code>, which is sort of like a pure virtual class in C++.  As mentioned by lots of people, you <code>extend</code> a class (and you can only extend from one), and you <code>implement</code> an interface -- but your class can implement as many interfaces as you like.</p>\n\n<p>Ie, these keywords and the rules governing their use delineate the possibilities for multiple-inheritance in Java (you can only have one super class, but you can implement multiple interfaces).</p>\n"},{"tags":[],"owner":{"account_id":4634666,"reputation":2759,"user_id":3756232,"accept_rate":40,"display_name":"Guru"},"comment_count":0,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1630905582,"creation_date":1418030596,"answer_id":27354862,"question_id":10839131,"body_markdown":"***Extends*** : This is used to get attributes of a parent class into child class and may contain already defined methods that can be overridden in the child class.\r\n\r\n***Implements*** : This is used to implement an interface (parent class with functions signatures only but not their definitions) by defining it in the child class.\r\n\r\nThere is one special condition: &quot;What if I want a new Interface to be the child of an existing interface?&quot;. In the above condition, the child interface **extends** the parent interface.","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p><em><strong>Extends</strong></em> : This is used to get attributes of a parent class into child class and may contain already defined methods that can be overridden in the child class.</p>\n<p><em><strong>Implements</strong></em> : This is used to implement an interface (parent class with functions signatures only but not their definitions) by defining it in the child class.</p>\n<p>There is one special condition: &quot;What if I want a new Interface to be the child of an existing interface?&quot;. In the above condition, the child interface <strong>extends</strong> the parent interface.</p>\n"},{"tags":[],"owner":{"account_id":6847823,"reputation":4801,"user_id":5265992,"display_name":"nullify0844"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1502798572,"creation_date":1440535509,"answer_id":32213713,"question_id":10839131,"body_markdown":"An interface is a description of the actions that an object can do... for example when you flip a light switch, the light goes on, you don&#39;t care how, just that it does. In Object Oriented Programming, an Interface is a description of all functions that an object must have in order to be an &quot;X&quot;. Again, as an example, anything that &quot;ACTS LIKE&quot; a light, should have a turn_on() method and a turn_off() method. The purpose of interfaces is to allow the computer to enforce these properties and to know that an object of TYPE T (whatever the interface is ) must have functions called X,Y,Z, etc.\r\n\r\nAn interface is a programming structure/syntax that allows the computer to enforce certain properties on an object (class). For example, say we have a car class and a scooter class and a truck class. Each of these three classes should have a start_engine() action. How the &quot;engine is started&quot; for each vehicle is left to each particular class, but the fact that they must have a start_engine action is the domain of the [interface][1].\r\n\r\n\r\n  [1]: http://www.cs.utah.edu/~germain/PPS/Topics/interfaces.html","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>An interface is a description of the actions that an object can do... for example when you flip a light switch, the light goes on, you don't care how, just that it does. In Object Oriented Programming, an Interface is a description of all functions that an object must have in order to be an \"X\". Again, as an example, anything that \"ACTS LIKE\" a light, should have a turn_on() method and a turn_off() method. The purpose of interfaces is to allow the computer to enforce these properties and to know that an object of TYPE T (whatever the interface is ) must have functions called X,Y,Z, etc.</p>\n\n<p>An interface is a programming structure/syntax that allows the computer to enforce certain properties on an object (class). For example, say we have a car class and a scooter class and a truck class. Each of these three classes should have a start_engine() action. How the \"engine is started\" for each vehicle is left to each particular class, but the fact that they must have a start_engine action is the domain of the <a href=\"http://www.cs.utah.edu/~germain/PPS/Topics/interfaces.html\" rel=\"noreferrer\">interface</a>.</p>\n"},{"tags":[],"owner":{"account_id":2817209,"reputation":329,"user_id":2421906,"display_name":"Nikhil Arora"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1452942702,"creation_date":1452942702,"answer_id":34826272,"question_id":10839131,"body_markdown":"\r\nWhen a subclass extends a class, it allows the subclass to inherit (reuse) and override code defined in the supertype.\r\nWhen a class implements an interface, it allows an object created from the class to be used in any context that expects a value of the interface.\r\n\r\nThe real catch here is that while we are implementing anything it simply means we are using those methods as it is. There is no scope for change in their values and return types. \r\n\r\nBut when we are extending anything then it becomes an extension of your class. You can change it, use it, reuse use it and it does not necessarily need to return the same values as it does in superclass. ","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>When a subclass extends a class, it allows the subclass to inherit (reuse) and override code defined in the supertype.\nWhen a class implements an interface, it allows an object created from the class to be used in any context that expects a value of the interface.</p>\n\n<p>The real catch here is that while we are implementing anything it simply means we are using those methods as it is. There is no scope for change in their values and return types. </p>\n\n<p>But when we are extending anything then it becomes an extension of your class. You can change it, use it, reuse use it and it does not necessarily need to return the same values as it does in superclass. </p>\n"},{"comments":[{"owner":{"account_id":2755342,"reputation":1081,"user_id":2373609,"accept_rate":90,"display_name":"MatthewRock"},"score":0,"creation_date":1483632039,"post_id":34977257,"comment_id":70184216,"body_markdown":"Is that really so? I always thought &quot;has a&quot; refers to having something, possessing it. You could say that cat &quot;has a&quot; climbing ability, but I would say reword your example. Cat &quot;is a&quot; Climber&quot;, man &quot;is a&quot; &quot;thinker, learner, climber&quot;. Since man &quot;is a&quot; thinker, he can do what a thinker can do. It is even clearer when working with some protocols - if you have a house, it has a door, but it doesn&#39;t implement pushingHandle. It also &quot;is a&quot; MaterialObject, meaning it implements interface for obeying gravity; it doesn&#39;t have a &quot;GravityObeyingSkill&quot; or something similar.","body":"Is that really so? I always thought &quot;has a&quot; refers to having something, possessing it. You could say that cat &quot;has a&quot; climbing ability, but I would say reword your example. Cat &quot;is a&quot; Climber&quot;, man &quot;is a&quot; &quot;thinker, learner, climber&quot;. Since man &quot;is a&quot; thinker, he can do what a thinker can do. It is even clearer when working with some protocols - if you have a house, it has a door, but it doesn&#39;t implement pushingHandle. It also &quot;is a&quot; MaterialObject, meaning it implements interface for obeying gravity; it doesn&#39;t have a &quot;GravityObeyingSkill&quot; or something similar."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1483669835,"post_id":34977257,"comment_id":70202079,"body_markdown":"If Man is a thinker,  I will establish relation with extends and not implements. Thinker may have some state and other roles/features  but I will implement thinking capability only with interface. IS A is standard term used for inheritance.","body":"If Man is a thinker,  I will establish relation with extends and not implements. Thinker may have some state and other roles/features  but I will implement thinking capability only with interface. IS A is standard term used for inheritance."}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":2,"down_vote_count":2,"up_vote_count":69,"is_accepted":false,"score":67,"last_activity_date":1680524123,"creation_date":1453647541,"answer_id":34977257,"question_id":10839131,"body_markdown":"Generally **implements** used for implementing an *interface* and **extends** used for *extension* of base class behaviour or *abstract* class. \r\n\r\n**extends**: A derived class can extend a base class. You may redefine the behaviour of an established relation. Derived class &quot;***is a***&quot; base class type\r\n\r\n**implements**: You are implementing a contract. The class implementing the interface &quot;***has a***&quot; capability. \r\n\r\nWith java 8 release, interface can have *default* methods in interface, which provides implementation in interface itself.\r\n\r\nRefer to this question for when to use each of them:\r\n\r\nhttps://stackoverflow.com/questions/761194/interface-vs-abstract-class-general-oo/33963650#33963650\r\n\r\n\r\nExample to understand things.\r\n\r\n    public class ExtendsAndImplementsDemo{\r\n    \tpublic static void main(String args[]){\r\n    \t\t\r\n    \t\tDog dog = new Dog(&quot;Tiger&quot;,16);\r\n    \t\tCat cat = new Cat(&quot;July&quot;,20);\r\n    \t\t\t\r\n    \t\tSystem.out.println(&quot;Dog:&quot;+dog);\r\n    \t\tSystem.out.println(&quot;Cat:&quot;+cat);\r\n    \t\t\r\n    \t\tdog.remember();\r\n    \t\tdog.protectOwner();\r\n    \t\tLearn dl = dog;\r\n    \t\tdl.learn();\r\n    \t\t\t\t\r\n    \t\tcat.remember();\r\n    \t\tcat.protectOwner();\r\n    \t\t\r\n    \t\tClimb c = cat;\r\n    \t\tc.climb();\r\n    \t\t\r\n    \t\tMan man = new Man(&quot;Ravindra&quot;,40);\r\n    \t\tSystem.out.println(man);\r\n    \t\t\r\n    \t\tClimb cm = man;\r\n    \t\tcm.climb();\r\n    \t\tThink t = man;\r\n    \t\tt.think();\r\n    \t\tLearn l = man;\r\n    \t\tl.learn();\r\n    \t\tApply a = man;\r\n    \t\ta.apply();\r\n    \t\t\r\n    \t}\r\n    }\r\n    \r\n    abstract class Animal{\r\n        String name;\r\n        int lifeExpentency;\r\n        public Animal(String name,int lifeExpentency ){\r\n            this.name = name;\r\n            this.lifeExpentency=lifeExpentency;\r\n        }\r\n        abstract public void remember();\r\n        abstract public void protectOwner();\r\n       \r\n        public String toString(){\r\n            return this.getClass().getSimpleName()+&quot;:&quot;+name+&quot;:&quot;+lifeExpentency;\r\n        }\r\n    }\r\n    class Dog extends Animal implements Learn{\r\n    \t\r\n    \tpublic Dog(String name,int age){\r\n    \t\tsuper(name,age);\r\n    \t}\r\n    \tpublic void remember(){\r\n    \t\tSystem.out.println(this.getClass().getSimpleName()+&quot; can remember for 5 minutes&quot;);\r\n    \t}\r\n    \tpublic void protectOwner(){\r\n    \t\tSystem.out.println(this.getClass().getSimpleName()+ &quot; will protect owner&quot;);\r\n    \t}\r\n    \tpublic void learn(){\r\n    \t\tSystem.out.println(this.getClass().getSimpleName()+ &quot; can learn:&quot;);\r\n    \t}\r\n    }\r\n    class Cat extends Animal implements Climb {\r\n    \tpublic Cat(String name,int age){\r\n    \t\tsuper(name,age);\r\n    \t}\r\n    \tpublic void remember(){\r\n    \t\tSystem.out.println(this.getClass().getSimpleName() + &quot; can remember for 16 hours&quot;);\r\n    \t}\r\n    \tpublic void protectOwner(){\r\n    \t\tSystem.out.println(this.getClass().getSimpleName()+ &quot; won&#39;t protect owner&quot;);\r\n    \t}\r\n    \tpublic void climb(){\r\n    \t\tSystem.out.println(this.getClass().getSimpleName()+ &quot; can climb&quot;);\r\n    \t}\r\n    }\r\n    interface Climb{\r\n    \tpublic void climb();\r\n    }\r\n    interface Think {\r\n    \tpublic void think();\r\n    }\r\n    \r\n    interface Learn {\r\n    \tpublic void learn();\r\n    }\r\n    interface Apply{\r\n    \tpublic void apply();\r\n    }\r\n    \r\n    class Man implements Think,Learn,Apply,Climb{\r\n    \tString name;\r\n    \tint age;\r\n    \r\n    \tpublic Man(String name,int age){\r\n    \t\tthis.name = name;\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \tpublic void think(){\r\n    \t\tSystem.out.println(&quot;I can think:&quot;+this.getClass().getSimpleName());\r\n    \t}\r\n    \tpublic void learn(){\r\n    \t\tSystem.out.println(&quot;I can learn:&quot;+this.getClass().getSimpleName());\r\n    \t}\r\n    \tpublic void apply(){\r\n    \t\tSystem.out.println(&quot;I can apply:&quot;+this.getClass().getSimpleName());\r\n    \t}\r\n    \tpublic void climb(){\r\n    \t\tSystem.out.println(&quot;I can climb:&quot;+this.getClass().getSimpleName());\r\n    \t}\r\n    \tpublic String toString(){\r\n    \t\treturn &quot;Man :&quot;+name+&quot;:Age:&quot;+age;\r\n    \t}\r\n    }\r\n\r\noutput:\r\n    \r\n    Dog:Dog:Tiger:16\r\n    Cat:Cat:July:20\r\n    Dog can remember for 5 minutes\r\n    Dog will protect owner\r\n    Dog can learn:\r\n    Cat can remember for 16 hours\r\n    Cat won&#39;t protect owner\r\n    Cat can climb\r\n    Man :Ravindra:Age:40\r\n    I can climb:Man\r\n    I can think:Man\r\n    I can learn:Man\r\n    I can apply:Man\r\n\r\nImportant points to understand:\r\n\r\n1. *Dog* and *Cat* are animals and they extended `remember`() and `protectOwner`() by sharing `name,lifeExpentency` from `Animal`\r\n2. *Cat can climb() but Dog does not. Dog can think() but Cat does not*. These specific capabilities are added to `Cat` and `Dog` by implementing that capability.\r\n3. *Man is not an animal but he can `Think,Learn,Apply,Climb`*\r\n\r\nBy going through these examples, you can understand that\r\n\r\n ***Unrelated classes can have capabilities through interface but related classes override behaviour through extension of base classes.***","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>Generally <strong>implements</strong> used for implementing an <em>interface</em> and <strong>extends</strong> used for <em>extension</em> of base class behaviour or <em>abstract</em> class.</p>\n<p><strong>extends</strong>: A derived class can extend a base class. You may redefine the behaviour of an established relation. Derived class &quot;<em><strong>is a</strong></em>&quot; base class type</p>\n<p><strong>implements</strong>: You are implementing a contract. The class implementing the interface &quot;<em><strong>has a</strong></em>&quot; capability.</p>\n<p>With java 8 release, interface can have <em>default</em> methods in interface, which provides implementation in interface itself.</p>\n<p>Refer to this question for when to use each of them:</p>\n<p><a href=\"https://stackoverflow.com/questions/761194/interface-vs-abstract-class-general-oo/33963650#33963650\">Interface vs Abstract Class (general OO)</a></p>\n<p>Example to understand things.</p>\n<pre><code>public class ExtendsAndImplementsDemo{\n    public static void main(String args[]){\n        \n        Dog dog = new Dog(&quot;Tiger&quot;,16);\n        Cat cat = new Cat(&quot;July&quot;,20);\n            \n        System.out.println(&quot;Dog:&quot;+dog);\n        System.out.println(&quot;Cat:&quot;+cat);\n        \n        dog.remember();\n        dog.protectOwner();\n        Learn dl = dog;\n        dl.learn();\n                \n        cat.remember();\n        cat.protectOwner();\n        \n        Climb c = cat;\n        c.climb();\n        \n        Man man = new Man(&quot;Ravindra&quot;,40);\n        System.out.println(man);\n        \n        Climb cm = man;\n        cm.climb();\n        Think t = man;\n        t.think();\n        Learn l = man;\n        l.learn();\n        Apply a = man;\n        a.apply();\n        \n    }\n}\n\nabstract class Animal{\n    String name;\n    int lifeExpentency;\n    public Animal(String name,int lifeExpentency ){\n        this.name = name;\n        this.lifeExpentency=lifeExpentency;\n    }\n    abstract public void remember();\n    abstract public void protectOwner();\n   \n    public String toString(){\n        return this.getClass().getSimpleName()+&quot;:&quot;+name+&quot;:&quot;+lifeExpentency;\n    }\n}\nclass Dog extends Animal implements Learn{\n    \n    public Dog(String name,int age){\n        super(name,age);\n    }\n    public void remember(){\n        System.out.println(this.getClass().getSimpleName()+&quot; can remember for 5 minutes&quot;);\n    }\n    public void protectOwner(){\n        System.out.println(this.getClass().getSimpleName()+ &quot; will protect owner&quot;);\n    }\n    public void learn(){\n        System.out.println(this.getClass().getSimpleName()+ &quot; can learn:&quot;);\n    }\n}\nclass Cat extends Animal implements Climb {\n    public Cat(String name,int age){\n        super(name,age);\n    }\n    public void remember(){\n        System.out.println(this.getClass().getSimpleName() + &quot; can remember for 16 hours&quot;);\n    }\n    public void protectOwner(){\n        System.out.println(this.getClass().getSimpleName()+ &quot; won't protect owner&quot;);\n    }\n    public void climb(){\n        System.out.println(this.getClass().getSimpleName()+ &quot; can climb&quot;);\n    }\n}\ninterface Climb{\n    public void climb();\n}\ninterface Think {\n    public void think();\n}\n\ninterface Learn {\n    public void learn();\n}\ninterface Apply{\n    public void apply();\n}\n\nclass Man implements Think,Learn,Apply,Climb{\n    String name;\n    int age;\n\n    public Man(String name,int age){\n        this.name = name;\n        this.age = age;\n    }\n    public void think(){\n        System.out.println(&quot;I can think:&quot;+this.getClass().getSimpleName());\n    }\n    public void learn(){\n        System.out.println(&quot;I can learn:&quot;+this.getClass().getSimpleName());\n    }\n    public void apply(){\n        System.out.println(&quot;I can apply:&quot;+this.getClass().getSimpleName());\n    }\n    public void climb(){\n        System.out.println(&quot;I can climb:&quot;+this.getClass().getSimpleName());\n    }\n    public String toString(){\n        return &quot;Man :&quot;+name+&quot;:Age:&quot;+age;\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Dog:Dog:Tiger:16\nCat:Cat:July:20\nDog can remember for 5 minutes\nDog will protect owner\nDog can learn:\nCat can remember for 16 hours\nCat won't protect owner\nCat can climb\nMan :Ravindra:Age:40\nI can climb:Man\nI can think:Man\nI can learn:Man\nI can apply:Man\n</code></pre>\n<p>Important points to understand:</p>\n<ol>\n<li><em>Dog</em> and <em>Cat</em> are animals and they extended <code>remember</code>() and <code>protectOwner</code>() by sharing <code>name,lifeExpentency</code> from <code>Animal</code></li>\n<li><em>Cat can climb() but Dog does not. Dog can think() but Cat does not</em>. These specific capabilities are added to <code>Cat</code> and <code>Dog</code> by implementing that capability.</li>\n<li><em>Man is not an animal but he can <code>Think,Learn,Apply,Climb</code></em></li>\n</ol>\n<p>By going through these examples, you can understand that</p>\n<p><em><strong>Unrelated classes can have capabilities through interface but related classes override behaviour through extension of base classes.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1464161987,"creation_date":1464161987,"answer_id":37430695,"question_id":10839131,"body_markdown":"- A extends B:\r\n\r\n    A and B are both classes or both interfaces\r\n\r\n- A implements B\r\n\r\n    A is a class and B is an interface\r\n\r\n- The remaining case where A is an interface and B is a class is not legal in Java.","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<ul>\n<li><p>A extends B:</p>\n\n<p>A and B are both classes or both interfaces</p></li>\n<li><p>A implements B</p>\n\n<p>A is a class and B is an interface</p></li>\n<li><p>The remaining case where A is an interface and B is a class is not legal in Java.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1601878096,"creation_date":1491216381,"answer_id":43182572,"question_id":10839131,"body_markdown":"We use *SubClass* extends *SuperClass* only when the subclass wants to use some functionality (methods or instance variables) that is already declared in the *SuperClass*, or if I want to slightly modify the functionality of the *SuperClass* (Method overriding). But say, I have an Animal class(*SuperClass*) and a Dog class (*SubClass*) and there are few methods that I have defined in the Animal class eg. *doEat*(); , *doSleep*(); ... and many more.\r\n\r\nNow, my Dog class can simply extend the Animal class, if i want my dog to use any of the methods declared in the Animal class I can invoke those methods by simply creating a Dog object. So this way I can guarantee that I have a dog that can eat and sleep and do whatever else I want the dog to do.\r\n\r\nNow, imagine, one day some Cat lover comes into our workspace and she tries to extend the Animal class(cats also eat and sleep). She makes a Cat object and starts invoking the methods.\r\n\r\nBut, say, someone tries to make an object of the Animal class. You can tell how a cat sleeps, you can tell how a dog eats, you can tell how an elephant drinks.\r\nBut it does not make any sense in making an object of the Animal class. Because it is a template and we do not want any general way of eating.\r\n\r\nSo instead, I will prefer to make an abstract class that no one can instantiate but can be used as a template for other classes. \r\n\r\n\r\n**So to conclude, Interface is nothing but an abstract class(a pure abstract class) which contains no method implementations but only the definitions(the templates). So whoever implements the interface just knows that they have the templates of *doEat*(); and *doSleep*(); but they have to define their own *doEat*(); and *doSleep*(); methods according to their need.**\r\n\r\nYou extend only when you want to reuse some part of the SuperClass(but keep in mind, you can always override the methods of your SuperClass according to your need) and you implement when you want the templates and you want to define them on your own(according to your need).\r\n\r\nI will share with you a piece of code: You try it with different sets of inputs and look at the results.\r\n\r\n\r\n\r\n    class AnimalClass {\r\n\t\r\n\tpublic void doEat() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Animal Eating...&quot;);\r\n\t}\r\n\t\r\n\tpublic void sleep() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Animal Sleeping...&quot;);\r\n\t}\r\n\t\r\n    }\r\n\r\n    public class Dog extends AnimalClass implements AnimalInterface, Herbi{\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tAnimalInterface a = new Dog();\r\n\t\tDog obj = new Dog();\r\n\t\tobj.doEat();\r\n\t\ta.eating();\r\n\t\t\r\n\t\tobj.eating();\r\n\t\tobj.herbiEating();\r\n\t}\r\n\t\r\n\tpublic void doEat() {\r\n\t\tSystem.out.println(&quot;Dog eating...&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void eating() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Eating through an interface...&quot;);\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void herbiEating() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Herbi eating through an interface...&quot;);\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n    }\r\n\r\n\r\n\r\n**Defined Interfaces** :\r\n\r\n        \r\n    public interface AnimalInterface {\r\n\t\r\n\tpublic void eating();\r\n\r\n    }\r\n\r\n\r\n    interface Herbi {\r\n\t\r\n\tpublic void herbiEating();\r\n\t\r\n    }","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>We use <em>SubClass</em> extends <em>SuperClass</em> only when the subclass wants to use some functionality (methods or instance variables) that is already declared in the <em>SuperClass</em>, or if I want to slightly modify the functionality of the <em>SuperClass</em> (Method overriding). But say, I have an Animal class(<em>SuperClass</em>) and a Dog class (<em>SubClass</em>) and there are few methods that I have defined in the Animal class eg. <em>doEat</em>(); , <em>doSleep</em>(); ... and many more.</p>\n<p>Now, my Dog class can simply extend the Animal class, if i want my dog to use any of the methods declared in the Animal class I can invoke those methods by simply creating a Dog object. So this way I can guarantee that I have a dog that can eat and sleep and do whatever else I want the dog to do.</p>\n<p>Now, imagine, one day some Cat lover comes into our workspace and she tries to extend the Animal class(cats also eat and sleep). She makes a Cat object and starts invoking the methods.</p>\n<p>But, say, someone tries to make an object of the Animal class. You can tell how a cat sleeps, you can tell how a dog eats, you can tell how an elephant drinks.\nBut it does not make any sense in making an object of the Animal class. Because it is a template and we do not want any general way of eating.</p>\n<p>So instead, I will prefer to make an abstract class that no one can instantiate but can be used as a template for other classes.</p>\n<p><strong>So to conclude, Interface is nothing but an abstract class(a pure abstract class) which contains no method implementations but only the definitions(the templates). So whoever implements the interface just knows that they have the templates of <em>doEat</em>(); and <em>doSleep</em>(); but they have to define their own <em>doEat</em>(); and <em>doSleep</em>(); methods according to their need.</strong></p>\n<p>You extend only when you want to reuse some part of the SuperClass(but keep in mind, you can always override the methods of your SuperClass according to your need) and you implement when you want the templates and you want to define them on your own(according to your need).</p>\n<p>I will share with you a piece of code: You try it with different sets of inputs and look at the results.</p>\n<pre><code>class AnimalClass {\n\npublic void doEat() {\n    \n    System.out.println(&quot;Animal Eating...&quot;);\n}\n\npublic void sleep() {\n    \n    System.out.println(&quot;Animal Sleeping...&quot;);\n}\n\n}\n\npublic class Dog extends AnimalClass implements AnimalInterface, Herbi{\n\npublic static void main(String[] args) {\n    \n    AnimalInterface a = new Dog();\n    Dog obj = new Dog();\n    obj.doEat();\n    a.eating();\n    \n    obj.eating();\n    obj.herbiEating();\n}\n\npublic void doEat() {\n    System.out.println(&quot;Dog eating...&quot;);\n}\n\n@Override\npublic void eating() {\n    \n    System.out.println(&quot;Eating through an interface...&quot;);\n    // TODO Auto-generated method stub\n    \n}\n\n@Override\npublic void herbiEating() {\n    \n    System.out.println(&quot;Herbi eating through an interface...&quot;);\n    // TODO Auto-generated method stub\n    \n}\n\n\n}\n</code></pre>\n<p><strong>Defined Interfaces</strong> :</p>\n<pre><code>public interface AnimalInterface {\n\npublic void eating();\n\n}\n\n\ninterface Herbi {\n\npublic void herbiEating();\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2694517,"reputation":6631,"user_id":2326961,"accept_rate":70,"display_name":"G&#233;ry Ogam"},"score":2,"creation_date":1608131048,"post_id":45697719,"comment_id":115489311,"body_markdown":"If the figures used the correct UML notations (hollow triangles) this answer would be perfect.","body":"If the figures used the correct UML notations (hollow triangles) this answer would be perfect."}],"tags":[],"owner":{"account_id":10104128,"reputation":4849,"user_id":7467246,"accept_rate":67,"display_name":"Priyantha"},"comment_count":1,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1502816281,"creation_date":1502816281,"answer_id":45697719,"question_id":10839131,"body_markdown":"As shown in the figure given below, a class extends another class, an interface extends another interface but a class implements an interface.\r\n[![enter image description here][1]][1]\r\n\r\nFor more [details][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Jrgs.jpg\r\n  [2]: https://www.javatpoint.com/interface-in-java","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>As shown in the figure given below, a class extends another class, an interface extends another interface but a class implements an interface.\n<a href=\"https://i.stack.imgur.com/4Jrgs.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4Jrgs.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>For more <a href=\"https://www.javatpoint.com/interface-in-java\" rel=\"noreferrer\">details</a></p>\n"},{"tags":[],"owner":{"account_id":8567287,"reputation":1175,"user_id":6419406,"display_name":"Irteza Asad"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1504280646,"creation_date":1504280646,"answer_id":46003792,"question_id":10839131,"body_markdown":"In the most simple terms **extends** is used to inherit from a **class** and **implements** is used to apply an **interface** in your class\r\n\r\n**extends**:\r\n\r\n    public class Bicycle {\r\n        //properties and methods\r\n    }\r\n    public class MountainBike extends Bicycle {\r\n        //new properties and methods\r\n    }\r\n\r\n**implements**:\r\n\r\n    public interface Relatable {\r\n        //stuff you want to put\r\n    }\r\n    public class RectanglePlus implements Relatable {\r\n        //your class code\r\n    }\r\n\r\n \r\nif you still have confusion read this: https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\r\nhttps://docs.oracle.com/javase/tutorial/java/IandI/usinginterface.html\r\n","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>In the most simple terms <strong>extends</strong> is used to inherit from a <strong>class</strong> and <strong>implements</strong> is used to apply an <strong>interface</strong> in your class</p>\n\n<p><strong>extends</strong>:</p>\n\n<pre><code>public class Bicycle {\n    //properties and methods\n}\npublic class MountainBike extends Bicycle {\n    //new properties and methods\n}\n</code></pre>\n\n<p><strong>implements</strong>:</p>\n\n<pre><code>public interface Relatable {\n    //stuff you want to put\n}\npublic class RectanglePlus implements Relatable {\n    //your class code\n}\n</code></pre>\n\n<p>if you still have confusion read this: <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html</a>\n<a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/usinginterface.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/IandI/usinginterface.html</a></p>\n"},{"tags":[],"owner":{"account_id":12609725,"reputation":235,"user_id":9169330,"display_name":"Alekya"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1630677656,"creation_date":1534934668,"answer_id":51965093,"question_id":10839131,"body_markdown":"`extends` is used when you want attributes of parent class/interface in your child class/interface and `implements` is used when you want attributes of an interface in your class.\r\n\r\nExample:\r\n\r\n\r\n 1. Extends using class\r\n\r\n        class Parent{\r\n        \r\n        }\r\n\r\n        class Child extends Parent {\r\n    \r\n        }\r\n\r\n 2. Extends using interface\r\n\r\n        interface Parent {\r\n    \r\n        }\r\n    \r\n        interface Child extends Parent {\r\n        \r\n        }\r\n\r\n 3. Implements\r\n\r\n        interface A {\r\n\r\n        }\r\n\r\n        class B implements A {\r\n\r\n        }\r\n\r\n4. Combination of extends and implements\r\n\r\n        interface A {\r\n    \r\n        }\r\n    \r\n        class B {\r\n    \r\n        }\r\n    \r\n        class C implements A, extends B {\r\n    \r\n        }\r\n\r\n\r\n","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p><code>extends</code> is used when you want attributes of parent class/interface in your child class/interface and <code>implements</code> is used when you want attributes of an interface in your class.</p>\n<p>Example:</p>\n<ol>\n<li><p>Extends using class</p>\n<pre><code>class Parent{\n\n}\n\nclass Child extends Parent {\n\n}\n</code></pre>\n</li>\n<li><p>Extends using interface</p>\n<pre><code>interface Parent {\n\n}\n\ninterface Child extends Parent {\n\n}\n</code></pre>\n</li>\n<li><p>Implements</p>\n<pre><code>interface A {\n\n}\n\nclass B implements A {\n\n}\n</code></pre>\n</li>\n<li><p>Combination of extends and implements</p>\n<pre><code> interface A {\n\n }\n\n class B {\n\n }\n\n class C implements A, extends B {\n\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10894943,"reputation":529,"user_id":8009264,"display_name":"Yuresh Karunanayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558374492,"creation_date":1558374492,"answer_id":56225854,"question_id":10839131,"body_markdown":"**extends** \r\n\r\n- class extends only one class \r\n- interface extends one or more interfaces\r\n\r\n**implements**\r\n\r\n- class implements one or more interfaces\r\n- interfaces &#39;can not&#39; implements anything\r\n\r\n**abstract classes also act like class, with extends and implements**","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p><strong>extends</strong> </p>\n\n<ul>\n<li>class extends only one class </li>\n<li>interface extends one or more interfaces</li>\n</ul>\n\n<p><strong>implements</strong></p>\n\n<ul>\n<li>class implements one or more interfaces</li>\n<li>interfaces 'can not' implements anything</li>\n</ul>\n\n<p><strong>abstract classes also act like class, with extends and implements</strong></p>\n"},{"tags":[],"owner":{"account_id":12397977,"reputation":247,"user_id":9036713,"display_name":"Kavinda Pushpitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559545717,"creation_date":1559545717,"answer_id":56422578,"question_id":10839131,"body_markdown":"Those two keywords are directly attached with Inheritance it is a core concept of OOP.\r\nWhen we inherit some class to another class we can use **extends** but when we are going to inherit some interfaces to our class we can&#39;t use extends we should use **implements** and we can use **extends** keyword to inherit interface from another interface.","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>Those two keywords are directly attached with Inheritance it is a core concept of OOP.\nWhen we inherit some class to another class we can use <strong>extends</strong> but when we are going to inherit some interfaces to our class we can't use extends we should use <strong>implements</strong> and we can use <strong>extends</strong> keyword to inherit interface from another interface.</p>\n"},{"tags":[],"owner":{"account_id":1434614,"reputation":1470,"user_id":1468898,"accept_rate":75,"display_name":"Martin Komischke"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1574255594,"creation_date":1570626084,"answer_id":58304765,"question_id":10839131,"body_markdown":"*Classes* and *Interfaces* are both **contracts**.\r\nThey provide methods and properties other parts of an application relies on.\r\n\r\nYou define an *interface* when you are not interested in the implementation details of this contract. The only thing to care about is that the contract (the interface) exists.\r\n\r\nIn this case you leave it up to the class which **implements** the interface to care about the details how the contract is fulfilled. Only classes can implement interfaces.\r\n\r\n**extends** is used when you would like to replace details of an existing contract.\r\nThis way you replace one way to fulfill a contract with a different way. Classes can extend other classes, and interfaces can extend other interfaces.","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p><em>Classes</em> and <em>Interfaces</em> are both <strong>contracts</strong>.\nThey provide methods and properties other parts of an application relies on.</p>\n\n<p>You define an <em>interface</em> when you are not interested in the implementation details of this contract. The only thing to care about is that the contract (the interface) exists.</p>\n\n<p>In this case you leave it up to the class which <strong>implements</strong> the interface to care about the details how the contract is fulfilled. Only classes can implement interfaces.</p>\n\n<p><strong>extends</strong> is used when you would like to replace details of an existing contract.\nThis way you replace one way to fulfill a contract with a different way. Classes can extend other classes, and interfaces can extend other interfaces.</p>\n"},{"tags":[],"owner":{"account_id":17325264,"reputation":121,"user_id":12549638,"display_name":"Jude Ukana"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607189024,"creation_date":1607189024,"answer_id":65159833,"question_id":10839131,"body_markdown":"In Java a class(sub class) extends another class(super class) and can override the methods defined in the super class.\r\n\r\nWhile implements is used when a class seeks to declare the methods defined in the Interface the said class is extending.","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>In Java a class(sub class) extends another class(super class) and can override the methods defined in the super class.</p>\n<p>While implements is used when a class seeks to declare the methods defined in the Interface the said class is extending.</p>\n"}],"owner":{"account_id":192965,"reputation":11096,"user_id":434407,"accept_rate":70,"display_name":"Saad Masood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1307482,"favorite_count":0,"down_vote_count":4,"up_vote_count":817,"accepted_answer_id":10839155,"answer_count":19,"score":813,"last_activity_date":1680524123,"creation_date":1338488747,"question_id":10839131,"body_markdown":"Please explain in an easy to understand language or a link to some article.","title":"Implements vs extends: When to use? What&#39;s the difference?","body":"<p>Please explain in an easy to understand language or a link to some article.</p>\n"},{"tags":["java","android","kotlin","video-streaming","streaming"],"comments":[{"owner":{"account_id":12694317,"reputation":1,"user_id":9223264,"display_name":"Jaspalsinh Gohil"},"score":1,"creation_date":1680524737,"post_id":75919375,"comment_id":133907885,"body_markdown":"@Panstastix check this libstreaming  API  on Github : https://github.com/fyhertz/libstreaming","body":"@Panstastix check this libstreaming  API  on Github : <a href=\"https://github.com/fyhertz/libstreaming\" rel=\"nofollow noreferrer\">github.com/fyhertz/libstreaming</a>"}],"owner":{"account_id":26292251,"reputation":69,"user_id":19959092,"display_name":"Pantastix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680523971,"creation_date":1680523971,"question_id":75919375,"body_markdown":"Is it possible to start a RSTP server on an android device and then receive this content on a desktop PC?\r\nI want to stream the camera preview (as PreviewView) via RSTP to a desktop PC. How is it possible to do this on the android side?\r\n\r\nGiven is the code which initializes the camera and sets the preview view\r\n\r\nCameraActivity\r\n```\r\n private fun startCamera() {\r\n        cameraManager = CameraManager(\r\n            owner = this,\r\n            context = applicationContext,\r\n            viewPreview = binding.pvViewCamera,\r\n            onSuccess = ::onSuccess,\r\n            onError = ::onError\r\n        )\r\n        cameraManager.startCamera(onFrontCamera = false)\r\n    }\r\n```\r\n\r\nCameraManager:\r\n```\r\nprivate fun controlWhichCameraToDisplay(frontCamera: Boolean?): Int {\r\n        lensFacing = when (frontCamera) {\r\n            true -&gt; CameraSelector.LENS_FACING_FRONT\r\n            else -&gt; CameraSelector.LENS_FACING_BACK\r\n        }\r\n        return lensFacing\r\n    }\r\n\r\n    fun startCamera(onFrontCamera: Boolean?) {\r\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(context)\r\n        cameraProviderFuture.addListener({\r\n            cameraProvider = cameraProviderFuture.get()\r\n            controlWhichCameraToDisplay(frontCamera = onFrontCamera)\r\n            bindCameraUseCases()\r\n        }, ContextCompat.getMainExecutor(context))\r\n    }\r\n\r\n    private fun bindCameraUseCases() {\r\n        cameraProvider?.let { cameraProvider -&gt;\r\n            val cameraSelector = getCameraSelector()\r\n            val previewView = getPreviewUseCase()\r\n            imageCapture = getImageCapture()\r\n            cameraProvider.unbindAll()\r\n            try {\r\n                camera = cameraProvider.bindToLifecycle(\r\n                    owner,\r\n                    cameraSelector,\r\n                    previewView,\r\n                    imageCapture\r\n                )\r\n                camera?.cameraControl?.setLinearZoom(0.0f)\r\n                previewView.setSurfaceProvider(viewPreview.surfaceProvider)\r\n\r\n            } catch (exc: Exception) {\r\n                Log.e(TAG, &quot;Use case binding failed $exc&quot;)\r\n            }\r\n        } ?: throw IllegalStateException(&quot;Camera initialization failed.&quot;)\r\n    }\r\n```\r\nIn the activity_camera.xml I have the PreviewView\r\n```\r\n&lt;androidx.camera.view.PreviewView\r\n            android:id=&quot;@+id/pv_view_camera&quot;\r\n            android:layout_width=&quot;@dimen/match_constraints&quot;\r\n            android:layout_height=&quot;@dimen/match_constraints&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:ignore=&quot;MissingClass&quot; /&gt;\r\n```","title":"Is it possible to start a RSTP server on an android device? (kotlin)","body":"<p>Is it possible to start a RSTP server on an android device and then receive this content on a desktop PC?\nI want to stream the camera preview (as PreviewView) via RSTP to a desktop PC. How is it possible to do this on the android side?</p>\n<p>Given is the code which initializes the camera and sets the preview view</p>\n<p>CameraActivity</p>\n<pre><code> private fun startCamera() {\n        cameraManager = CameraManager(\n            owner = this,\n            context = applicationContext,\n            viewPreview = binding.pvViewCamera,\n            onSuccess = ::onSuccess,\n            onError = ::onError\n        )\n        cameraManager.startCamera(onFrontCamera = false)\n    }\n</code></pre>\n<p>CameraManager:</p>\n<pre><code>private fun controlWhichCameraToDisplay(frontCamera: Boolean?): Int {\n        lensFacing = when (frontCamera) {\n            true -&gt; CameraSelector.LENS_FACING_FRONT\n            else -&gt; CameraSelector.LENS_FACING_BACK\n        }\n        return lensFacing\n    }\n\n    fun startCamera(onFrontCamera: Boolean?) {\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(context)\n        cameraProviderFuture.addListener({\n            cameraProvider = cameraProviderFuture.get()\n            controlWhichCameraToDisplay(frontCamera = onFrontCamera)\n            bindCameraUseCases()\n        }, ContextCompat.getMainExecutor(context))\n    }\n\n    private fun bindCameraUseCases() {\n        cameraProvider?.let { cameraProvider -&gt;\n            val cameraSelector = getCameraSelector()\n            val previewView = getPreviewUseCase()\n            imageCapture = getImageCapture()\n            cameraProvider.unbindAll()\n            try {\n                camera = cameraProvider.bindToLifecycle(\n                    owner,\n                    cameraSelector,\n                    previewView,\n                    imageCapture\n                )\n                camera?.cameraControl?.setLinearZoom(0.0f)\n                previewView.setSurfaceProvider(viewPreview.surfaceProvider)\n\n            } catch (exc: Exception) {\n                Log.e(TAG, &quot;Use case binding failed $exc&quot;)\n            }\n        } ?: throw IllegalStateException(&quot;Camera initialization failed.&quot;)\n    }\n</code></pre>\n<p>In the activity_camera.xml I have the PreviewView</p>\n<pre><code>&lt;androidx.camera.view.PreviewView\n            android:id=&quot;@+id/pv_view_camera&quot;\n            android:layout_width=&quot;@dimen/match_constraints&quot;\n            android:layout_height=&quot;@dimen/match_constraints&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:ignore=&quot;MissingClass&quot; /&gt;\n</code></pre>\n"},{"tags":["java","properties","kubernetes-helm","quarkus","testcontainers"],"answers":[{"comments":[{"owner":{"account_id":3717953,"reputation":253,"user_id":3093641,"accept_rate":25,"display_name":"javanoob"},"score":0,"creation_date":1680589804,"post_id":75919316,"comment_id":133919333,"body_markdown":"Thanks Jose. Much love for quarkus-helm :)","body":"Thanks Jose. Much love for quarkus-helm :)"},{"owner":{"account_id":3717953,"reputation":253,"user_id":3093641,"accept_rate":25,"display_name":"javanoob"},"score":0,"creation_date":1696580032,"post_id":75919316,"comment_id":136174046,"body_markdown":"I also found this example in the latest quarkus helm documentation on how to solve this: https://docs.quarkiverse.io/quarkus-helm/dev/example-config.html","body":"I also found this example in the latest quarkus helm documentation on how to solve this: <a href=\"https://docs.quarkiverse.io/quarkus-helm/dev/example-config.html\" rel=\"nofollow noreferrer\">docs.quarkiverse.io/quarkus-helm/dev/example-config.html</a>"}],"tags":[],"owner":{"account_id":3826141,"reputation":111,"user_id":3172944,"display_name":"Jose Carvajal"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680523610,"creation_date":1680523610,"answer_id":75919316,"question_id":75918379,"body_markdown":"Unfortunately, mapping system properties to env properties only work for String values. \r\n\r\nTo map other types, you would need to use the Quarkus Helm Values configuration which supports more complex types like [integers](https://quarkiverse.github.io/quarkiverse-docs/quarkus-helm/dev/index.html#quarkus-helm_quarkus.helm.values.-values-.value-as-int), [booleans](https://quarkiverse.github.io/quarkiverse-docs/quarkus-helm/dev/index.html#quarkus-helm_quarkus.helm.values.-values-.value-as-bool), [maps](https://quarkiverse.github.io/quarkiverse-docs/quarkus-helm/dev/index.html#quarkus-helm_quarkus.helm.values.-values-.value-as-map-value-as-map) and [lists](https://quarkiverse.github.io/quarkiverse-docs/quarkus-helm/dev/index.html#quarkus-helm_quarkus.helm.values.-values-.value-as-list). \r\n\r\nFor example, after using the system property like:\r\n\r\n```\r\nicap.port=${ICAP_PORT}\r\n```\r\n\r\nThen you can configure the Quarkus Helm Values extension to use the integer as follows:\r\n\r\n```\r\nquarkus.helm.values.&quot;envs.ICAP_PORT&quot;.value-as-int=1111\r\n```","title":"Quarkus Helm problem mapping int env variables","body":"<p>Unfortunately, mapping system properties to env properties only work for String values.</p>\n<p>To map other types, you would need to use the Quarkus Helm Values configuration which supports more complex types like <a href=\"https://quarkiverse.github.io/quarkiverse-docs/quarkus-helm/dev/index.html#quarkus-helm_quarkus.helm.values.-values-.value-as-int\" rel=\"nofollow noreferrer\">integers</a>, <a href=\"https://quarkiverse.github.io/quarkiverse-docs/quarkus-helm/dev/index.html#quarkus-helm_quarkus.helm.values.-values-.value-as-bool\" rel=\"nofollow noreferrer\">booleans</a>, <a href=\"https://quarkiverse.github.io/quarkiverse-docs/quarkus-helm/dev/index.html#quarkus-helm_quarkus.helm.values.-values-.value-as-map-value-as-map\" rel=\"nofollow noreferrer\">maps</a> and <a href=\"https://quarkiverse.github.io/quarkiverse-docs/quarkus-helm/dev/index.html#quarkus-helm_quarkus.helm.values.-values-.value-as-list\" rel=\"nofollow noreferrer\">lists</a>.</p>\n<p>For example, after using the system property like:</p>\n<pre><code>icap.port=${ICAP_PORT}\n</code></pre>\n<p>Then you can configure the Quarkus Helm Values extension to use the integer as follows:</p>\n<pre><code>quarkus.helm.values.&quot;envs.ICAP_PORT&quot;.value-as-int=1111\n</code></pre>\n"}],"owner":{"account_id":3717953,"reputation":253,"user_id":3093641,"accept_rate":25,"display_name":"javanoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75919316,"answer_count":1,"score":0,"last_activity_date":1680523610,"creation_date":1680517115,"question_id":75918379,"body_markdown":"I use these properties:\r\n```\r\nicap.is-enabled=${ICAP_ENABLED:&#39;false&#39;}\r\nicap.hostname=${ICAP_HOSTNAME:localhost}\r\nicap.port=${ICAP_PORT:&#39;1344&#39;}\r\nicap.request-source=${ICAP_SOURCE:file}\r\nicap.servicename=${ICAP_SERVICENAME:srv_clamav}\r\nicap.username=${ICAP_USERNAME:user}\r\n```\r\n\r\nI use these extensions in my build.gradle:\r\n```\r\n    implementation &#39;io.quarkus:quarkus-kubernetes&#39;\r\n    implementation &#39;io.quarkiverse.helm:quarkus-helm:0.2.8&#39;\r\n```\r\n\r\nAnd the result are these entries in my values.yaml file in my helm build folder:\r\n```\r\n  envs:\r\n    ICAP_SOURCE: file\r\n    ICAP_HOSTNAME: localhost\r\n    ICAP_SERVICENAME: srv_clamav\r\n    ICAP_USERNAME: user\r\n    ICAP_PORT: &#39;&#39;&#39;1344&#39;&#39;&#39;\r\n    ICAP_ENABLED: &#39;&#39;&#39;false&#39;&#39;&#39;\r\n```\r\n\r\nI use the variables like this in my application:\r\n```\r\n@ConfigMapping(prefix = &quot;icap&quot;)\r\npublic interface IcapConfig {\r\n\r\n    boolean isEnabled();\r\n\r\n    String hostname();\r\n\r\n    int port();\r\n\r\n    String servicename();\r\n\r\n    String username();\r\n\r\n    String requestSource();\r\n}\r\n```\r\n\r\nThe env variable &quot;ICAP_PORT&quot; is the problem. Either Helm or the application will complain about the type of the variable. \r\n\r\n\r\n\r\nMy workaround at the moment is this properties configuration:\r\n```\r\nicap.port=1344\r\nquarkus.kubernetes.env-vars.icap-port.value=&#39;1344&#39; \r\n```\r\n\r\nHowever, I wonder what the correct way of configuring an int properties value would be here? ","title":"Quarkus Helm problem mapping int env variables","body":"<p>I use these properties:</p>\n<pre><code>icap.is-enabled=${ICAP_ENABLED:'false'}\nicap.hostname=${ICAP_HOSTNAME:localhost}\nicap.port=${ICAP_PORT:'1344'}\nicap.request-source=${ICAP_SOURCE:file}\nicap.servicename=${ICAP_SERVICENAME:srv_clamav}\nicap.username=${ICAP_USERNAME:user}\n</code></pre>\n<p>I use these extensions in my build.gradle:</p>\n<pre><code>    implementation 'io.quarkus:quarkus-kubernetes'\n    implementation 'io.quarkiverse.helm:quarkus-helm:0.2.8'\n</code></pre>\n<p>And the result are these entries in my values.yaml file in my helm build folder:</p>\n<pre><code>  envs:\n    ICAP_SOURCE: file\n    ICAP_HOSTNAME: localhost\n    ICAP_SERVICENAME: srv_clamav\n    ICAP_USERNAME: user\n    ICAP_PORT: '''1344'''\n    ICAP_ENABLED: '''false'''\n</code></pre>\n<p>I use the variables like this in my application:</p>\n<pre><code>@ConfigMapping(prefix = &quot;icap&quot;)\npublic interface IcapConfig {\n\n    boolean isEnabled();\n\n    String hostname();\n\n    int port();\n\n    String servicename();\n\n    String username();\n\n    String requestSource();\n}\n</code></pre>\n<p>The env variable &quot;ICAP_PORT&quot; is the problem. Either Helm or the application will complain about the type of the variable.</p>\n<p>My workaround at the moment is this properties configuration:</p>\n<pre><code>icap.port=1344\nquarkus.kubernetes.env-vars.icap-port.value='1344' \n</code></pre>\n<p>However, I wonder what the correct way of configuring an int properties value would be here?</p>\n"},{"tags":["java","hibernate","tomcat","connection-pooling"],"owner":{"account_id":2421964,"reputation":1296,"user_id":2114737,"accept_rate":83,"display_name":"Esko Piirainen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680523324,"creation_date":1680520858,"question_id":75918918,"body_markdown":"As you can see from the stacktrace, Hibernate `StatelessSession` `close` method calls `clearBatch` of some `sun.proxy` package unknown to me. That calls tomcat jdbc pool and then JVM generated `sun.reflect` methods throws an exception:\r\n```\r\njava.lang.NullPointerException\r\nsun.reflect.GeneratedMethodAccessor629.invoke(Unknown Source)\r\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\njava.lang.reflect.Method.invoke(Method.java:498)\r\norg.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:138)\r\ncom.sun.proxy.$Proxy43.clearBatch(Unknown Source)\r\norg.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.clearBatch(AbstractBatchImpl.java:165)\r\norg.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.releaseStatements(AbstractBatchImpl.java:156)\r\norg.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release(AbstractBatchImpl.java:195)\r\norg.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:192)\r\norg.hibernate.internal.StatelessSessionImpl.managedClose(StatelessSessionImpl.java:380)\r\norg.hibernate.internal.StatelessSessionImpl.close(StatelessSessionImpl.java:358)\r\n```\r\n\r\n`session.close()` is called in my program in the `finally` block:\r\n```\r\n\t\t@Override\r\n\t\tpublic int insertGeos(Iterable&lt;OccurrenceGeo&gt; geos) {\r\n\t\t\tStatelessSession session = null;\r\n\t\t\ttry {\r\n\t\t\t\tsession = dao.getETLEntityConnection();\r\n\t\t\t\tsession.beginTransaction();\r\n\t\t\t\tint i = 0;\r\n\t\t\t\tfor (OccurrenceGeo geo : geos) {\r\n\t\t\t\t\tsession.insert(geo);\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\tif (i % 100 == 0) reportStatus(&quot;Geos: &quot; + i);\r\n\t\t\t\t}\r\n\t\t\t\tsession.getTransaction().commit();\r\n\t\t\t\treturn i;\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tif (session != null) session.getTransaction().rollback();\r\n\t\t\t\tthrow e;\r\n\t\t\t} finally {\r\n\t\t\t\tif (session != null) session.close();\r\n\t\t\t}\r\n\t\t}\r\n```\r\n\r\nIt is worth noting that the for loop takes multiple hours to insert these &#39;geos&#39;, so this might have something to do with database timeouts etc. But `NullPointerException` is a weird symptom.\r\nTo my understanding, the program did not go to `catch`-block,\r\n\r\nThis doesn&#39;t happen every time. In fact it happens rarely, but still too often.\r\n\r\nAny ideas?\r\n\r\n - Java openjdk-1.8.0.362.b08-1.el7_9.x86_64\r\n - Tomcat jdbc pool 8.5.32\r\n - Hibernate 5.1.1.\r\n\r\nYeah.. the stack is quite old. Fixing that would be one idea.\r\n\r\n\r\n\r\n","title":"org.apahce.tomcat.jdbc.pool: NullPointerException in JVM internals (sun.reflect) when closing Hibernate connection","body":"<p>As you can see from the stacktrace, Hibernate <code>StatelessSession</code> <code>close</code> method calls <code>clearBatch</code> of some <code>sun.proxy</code> package unknown to me. That calls tomcat jdbc pool and then JVM generated <code>sun.reflect</code> methods throws an exception:</p>\n<pre><code>java.lang.NullPointerException\nsun.reflect.GeneratedMethodAccessor629.invoke(Unknown Source)\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.lang.reflect.Method.invoke(Method.java:498)\norg.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:138)\ncom.sun.proxy.$Proxy43.clearBatch(Unknown Source)\norg.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.clearBatch(AbstractBatchImpl.java:165)\norg.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.releaseStatements(AbstractBatchImpl.java:156)\norg.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release(AbstractBatchImpl.java:195)\norg.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:192)\norg.hibernate.internal.StatelessSessionImpl.managedClose(StatelessSessionImpl.java:380)\norg.hibernate.internal.StatelessSessionImpl.close(StatelessSessionImpl.java:358)\n</code></pre>\n<p><code>session.close()</code> is called in my program in the <code>finally</code> block:</p>\n<pre><code>        @Override\n        public int insertGeos(Iterable&lt;OccurrenceGeo&gt; geos) {\n            StatelessSession session = null;\n            try {\n                session = dao.getETLEntityConnection();\n                session.beginTransaction();\n                int i = 0;\n                for (OccurrenceGeo geo : geos) {\n                    session.insert(geo);\n                    i++;\n                    if (i % 100 == 0) reportStatus(&quot;Geos: &quot; + i);\n                }\n                session.getTransaction().commit();\n                return i;\n            } catch (Exception e) {\n                if (session != null) session.getTransaction().rollback();\n                throw e;\n            } finally {\n                if (session != null) session.close();\n            }\n        }\n</code></pre>\n<p>It is worth noting that the for loop takes multiple hours to insert these 'geos', so this might have something to do with database timeouts etc. But <code>NullPointerException</code> is a weird symptom.\nTo my understanding, the program did not go to <code>catch</code>-block,</p>\n<p>This doesn't happen every time. In fact it happens rarely, but still too often.</p>\n<p>Any ideas?</p>\n<ul>\n<li>Java openjdk-1.8.0.362.b08-1.el7_9.x86_64</li>\n<li>Tomcat jdbc pool 8.5.32</li>\n<li>Hibernate 5.1.1.</li>\n</ul>\n<p>Yeah.. the stack is quite old. Fixing that would be one idea.</p>\n"},{"tags":["java","kotlin","disruptor-pattern","lmax"],"comments":[{"owner":{"account_id":47929,"reputation":4545,"user_id":142182,"accept_rate":78,"display_name":"Slugart"},"score":0,"creation_date":1680563865,"post_id":75919265,"comment_id":133916619,"body_markdown":"I don&#39;t see why this would be useful.   `Executors.newSingleThreadExecutor()` would use one thread for all the event handlers of the disruptor which defeats the point of having multiple event handlers.  Otherwise, if you only have one event handler only one thread will be created using `ThreadFactory` which will be equivalent to `Executors.newSingleThreadExecutor()`","body":"I don&#39;t see why this would be useful.   <code>Executors.newSingleThreadExecutor()</code> would use one thread for all the event handlers of the disruptor which defeats the point of having multiple event handlers.  Otherwise, if you only have one event handler only one thread will be created using <code>ThreadFactory</code> which will be equivalent to <code>Executors.newSingleThreadExecutor()</code>"},{"owner":{"account_id":9714590,"reputation":119,"user_id":7205417,"display_name":"Lukasz G."},"score":0,"creation_date":1680635812,"post_id":75919265,"comment_id":133930955,"body_markdown":"I am not sure this is correct. I have analysed the code of the RingBuffer and it seems to create the number of threads equal to the size of the ring buffer - unless I misunderstood/misread.\n\nAnd yes, in my case there is only one event handler.","body":"I am not sure this is correct. I have analysed the code of the RingBuffer and it seems to create the number of threads equal to the size of the ring buffer - unless I misunderstood/misread.  And yes, in my case there is only one event handler."},{"owner":{"account_id":47929,"reputation":4545,"user_id":142182,"accept_rate":78,"display_name":"Slugart"},"score":0,"creation_date":1680650264,"post_id":75919265,"comment_id":133933599,"body_markdown":"The `ThreadFactory` is only used here https://github.com/LMAX-Exchange/disruptor/blob/e6f783b22a558ae15e6e835ba9e75de8a9c51238/src/main/java/com/lmax/disruptor/dsl/Disruptor.java#L343 in the `Disruptor` class and as you can see one thread is started per `Consumer`  - a `Consumer` is created per `EventHandler` provided to the `Disruptor`.","body":"The <code>ThreadFactory</code> is only used here <a href=\"https://github.com/LMAX-Exchange/disruptor/blob/e6f783b22a558ae15e6e835ba9e75de8a9c51238/src/main/java/com/lmax/disruptor/dsl/Disruptor.java#L343\" rel=\"nofollow noreferrer\">github.com/LMAX-Exchange/disruptor/blob/&hellip;</a> in the <code>Disruptor</code> class and as you can see one thread is started per <code>Consumer</code>  - a <code>Consumer</code> is created per <code>EventHandler</code> provided to the <code>Disruptor</code>."},{"owner":{"account_id":47929,"reputation":4545,"user_id":142182,"accept_rate":78,"display_name":"Slugart"},"score":0,"creation_date":1680650343,"post_id":75919265,"comment_id":133933607,"body_markdown":"Where in the `RingBuffer` did you see threads being started / defined?","body":"Where in the <code>RingBuffer</code> did you see threads being started / defined?"},{"owner":{"account_id":9714590,"reputation":119,"user_id":7205417,"display_name":"Lukasz G."},"score":0,"creation_date":1680761946,"post_id":75919265,"comment_id":133953639,"body_markdown":"I see. \n\nThe code I was referring to is this:  https://github.com/LMAX-Exchange/disruptor/blob/e6f783b22a558ae15e6e835ba9e75de8a9c51238/src/main/java/com/lmax/disruptor/RingBuffer.java#L64\n\nBut I clearly misread it. I thought it was calling the `threadFactory`, but it calls `eventFactory`. My mistake.","body":"I see.   The code I was referring to is this:  <a href=\"https://github.com/LMAX-Exchange/disruptor/blob/e6f783b22a558ae15e6e835ba9e75de8a9c51238/src/main/java/com/lmax/disruptor/RingBuffer.java#L64\" rel=\"nofollow noreferrer\">github.com/LMAX-Exchange/disruptor/blob/&hellip;</a>  But I clearly misread it. I thought it was calling the <code>threadFactory</code>, but it calls <code>eventFactory</code>. My mistake."}],"owner":{"account_id":9714590,"reputation":119,"user_id":7205417,"display_name":"Lukasz G."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680523297,"creation_date":1680523297,"question_id":75919265,"body_markdown":"Version 3 of the LMAX Disruptor deprecated the constructor that takes an Executor. So the following gives a compile warning:\r\n\r\n    Disruptor(eventFactory, bufferSize, Executors.newSingleThreadExecutor())\r\n\r\nThe new approach uses the `ThreadFactory`.\r\n\r\nHow do I instantiate an equivalent Disruptor without causing a warning?","title":"How to instantiate LMAX Disruptor for sequential processing","body":"<p>Version 3 of the LMAX Disruptor deprecated the constructor that takes an Executor. So the following gives a compile warning:</p>\n<pre><code>Disruptor(eventFactory, bufferSize, Executors.newSingleThreadExecutor())\n</code></pre>\n<p>The new approach uses the <code>ThreadFactory</code>.</p>\n<p>How do I instantiate an equivalent Disruptor without causing a warning?</p>\n"},{"tags":["java","ssl","tls1.2","vert.x"],"owner":{"account_id":15837135,"reputation":51,"user_id":11426685,"display_name":"0stack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680522879,"creation_date":1680522879,"question_id":75919194,"body_markdown":"currently I am trying to connect to some device through TLSv1.2 with vert.x and I get some errors like `Failed to create SSL connection` and also `org.bouncycastle.tls.TlsFatalAlertReceived: handshake_failure(40)`\r\n\r\nI have already setup an truststore and an keystore and build an prototype with plain code and this WORKS! I also start that application with VM arg \r\n\r\n`-Djdk.tls.namedGroups=&quot;brainpoolP256r1&quot;`\r\n\r\nPROTOTYPE\r\n```\r\npublic static SSLSocket createSocket(String host, int port) throws IOException {\r\n\r\n        SSLSocket socket = (SSLSocket) SSLSocketFactory.getDefault().createSocket(host, port);\r\n        socket.setEnabledProtocols(new String[]{&quot;TLSv1.2&quot;});\r\n        socket.setEnabledCipherSuites(new String[]{&quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;});\r\n        SSLParameters sslParams = new SSLParameters();\r\n        sslParams.setServerNames(\r\n                Collections.singletonList(new SNIHostName(&quot;XXX&quot;)));\r\n        socket.setSSLParameters(sslParams);\r\n\r\n        return socket;\r\n    }\r\n```\r\n\r\nBut I want to use vert.x... Here is my setup code for vert.x\r\n\r\n`&lt;vertx.version&gt;4.3.4&lt;/vertx.version&gt;`\r\n\r\nVERTX\r\n\r\n```\r\n    public TlsClientStarter(Vertx vertx, String certificatesPath, int appTimeOut) throws Exception {\r\n        Security.insertProviderAt(new BouncyCastleProvider(), 1);\r\n        Security.insertProviderAt(new BouncyCastleJsseProvider(), 1);\r\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl:handshake&quot;);\r\n\r\n        this.vertx = vertx;\r\n\r\n        NetClientOptions options = new NetClientOptions()\r\n                .addEnabledSecureTransportProtocol(&quot;TLSv1.2&quot;)\r\n                .addEnabledCipherSuite(&quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;)\r\n                .setConnectTimeout(appTimeOut)\r\n                .setReconnectAttempts(20)\r\n                .setReconnectInterval(500)\r\n                .setLogActivity(true)\r\n                .setSsl(true)\r\n                .setTrustStoreOptions(new JksOptions()\r\n                        .setPath(&quot;/path/to/truststore.jks&quot;)\r\n                        .setPassword(&quot;password&quot;))\r\n                .setKeyStoreOptions(new JksOptions()\r\n                        .setPath(&quot;/path/to/keystore.jks&quot;)\r\n                        .setPassword(&quot;keystorePassword&quot;));\r\n\r\n        client = vertx.createNetClient(options);\r\n    }\r\n\r\npublic CompletableFuture&lt;String&gt; connectToEntity(String host, int port) {\r\n        CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\r\n        try {\r\n            logger.info(&quot;Connect to entity&quot;);\r\n            client.connect(port, host, res -&gt; {\r\n                if (res.succeeded()) {\r\n                    logger.info(&quot;Connected!&quot;);\r\n                    socket = res.result();\r\n                    future.complete(&quot;Connected!&quot;);\r\n                } else {\r\n                    logger.error(&quot;Failed to connect: &quot; + res.cause().getMessage());\r\n                    future.completeExceptionally(res.cause());\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Failed to connect: &quot; + e.getMessage());\r\n            future.completeExceptionally(e);\r\n        }\r\n        return future;\r\n    }\r\n```\r\n\r\nSo I am a really newbie about this TLS/SSL stuff so please let me know if you could help me about that.\r\n\r\nLOG\r\n```\r\nApr. 03, 2023 1:25:29 PM org.bouncycastle.jsse.provider.PropertyUtils getStringSecurityProperty\r\nINFORMATION: Found string security property [jdk.tls.disabledAlgorithms]: SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\nApr. 03, 2023 1:25:29 PM org.bouncycastle.jsse.provider.PropertyUtils getStringSecurityProperty\r\nINFORMATION: Found string security property [jdk.certpath.disabledAlgorithms]: MD2, MD5, SHA1 jdkCA &amp; usage TLSServer, RSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224\r\nApr. 03, 2023 1:25:29 PM org.bouncycastle.jsse.provider.DisabledAlgorithmConstraints create\r\nWARNUNG: Ignoring unsupported entry in &#39;jdk.certpath.disabledAlgorithms&#39;: SHA1 jdkCA &amp; usage TLSServer\r\nApr. 03, 2023 1:25:29 PM org.bouncycastle.jsse.provider.PropertyUtils getStringSystemProperty\r\nINFORMATION: Found string system property [java.home]: C:\\Users\\TobiasToKoehler\\.jdks\\openjdk-17.0.2\r\nApr. 03, 2023 1:25:30 PM org.bouncycastle.jsse.provider.ProvTlsClient notifyAlertReceived\r\nINFORMATION: Client received fatal(2) handshake_failure(40) alert\r\n2023-04-03 13:25:30,162 ERROR c.s.k.s.TlsClientStarter [vert.x-eventloop-thread-0] Failed to connect: Failed to create SSL connection\r\n2023-04-03 13:25:30,163 INFO c.s.k.s.TlsClientStarter [main] Disconnect\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.ExecutionException: javax.net.ssl.SSLHandshakeException: Failed to create SSL connection\r\n\tat XXX.ScenarioStarter.main(ScenarioStarter.java:68)\r\nCaused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: javax.net.ssl.SSLHandshakeException: Failed to create SSL connection\r\n\tat XXX.scenarios.FullSupplyScenario.startScenario(FullSupplyScenario.java:109)\r\n\tat XXX.ScenarioStarter.main(ScenarioStarter.java:52)\r\nCaused by: java.util.concurrent.ExecutionException: javax.net.ssl.SSLHandshakeException: Failed to create SSL connection\r\n\tat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2096)\r\n\tat XXX.scenarios.FullSupplyScenario.startScenario(FullSupplyScenario.java:49)\r\n\t... 1 more\r\nCaused by: javax.net.ssl.SSLHandshakeException: Failed to create SSL connection\r\n\tat io.vertx.core.net.impl.ChannelProvider$1.userEventTriggered(ChannelProvider.java:130)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:346)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:332)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:324)\r\n\tat io.netty.handler.ssl.SslHandler.handleUnwrapThrowable(SslHandler.java:1260)\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1241)\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: javax.net.ssl.SSLException: org.bouncycastle.tls.TlsFatalAlertReceived: handshake_failure(40)\r\n\tat org.bouncycastle.jsse.provider.ProvSSLEngine.unwrap(ProvSSLEngine.java:500)\r\n\tat java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\r\n\tat io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296)\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343)\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236)\r\n\t... 20 more\r\nCaused by: org.bouncycastle.tls.TlsFatalAlertReceived: handshake_failure(40)\r\n\tat org.bouncycastle.tls.TlsProtocol.handleAlertMessage(TlsProtocol.java:244)\r\n\tat org.bouncycastle.tls.TlsProtocol.processAlertQueue(TlsProtocol.java:736)\r\n\tat org.bouncycastle.tls.TlsProtocol.processRecord(TlsProtocol.java:559)\r\n\tat org.bouncycastle.tls.RecordStream.readFullRecord(RecordStream.java:207)\r\n\tat org.bouncycastle.tls.TlsProtocol.safeReadFullRecord(TlsProtocol.java:922)\r\n\tat org.bouncycastle.tls.TlsProtocol.offerInput(TlsProtocol.java:1364)\r\n\tat org.bouncycastle.jsse.provider.ProvSSLEngine.unwrap(ProvSSLEngine.java:481)\r\n\t... 24 more\r\n```\r\nTHANKS!","title":"Vert.X failed to create SSL connection","body":"<p>currently I am trying to connect to some device through TLSv1.2 with vert.x and I get some errors like <code>Failed to create SSL connection</code> and also <code>org.bouncycastle.tls.TlsFatalAlertReceived: handshake_failure(40)</code></p>\n<p>I have already setup an truststore and an keystore and build an prototype with plain code and this WORKS! I also start that application with VM arg</p>\n<p><code>-Djdk.tls.namedGroups=&quot;brainpoolP256r1&quot;</code></p>\n<p>PROTOTYPE</p>\n<pre><code>public static SSLSocket createSocket(String host, int port) throws IOException {\n\n        SSLSocket socket = (SSLSocket) SSLSocketFactory.getDefault().createSocket(host, port);\n        socket.setEnabledProtocols(new String[]{&quot;TLSv1.2&quot;});\n        socket.setEnabledCipherSuites(new String[]{&quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;});\n        SSLParameters sslParams = new SSLParameters();\n        sslParams.setServerNames(\n                Collections.singletonList(new SNIHostName(&quot;XXX&quot;)));\n        socket.setSSLParameters(sslParams);\n\n        return socket;\n    }\n</code></pre>\n<p>But I want to use vert.x... Here is my setup code for vert.x</p>\n<p><code>&lt;vertx.version&gt;4.3.4&lt;/vertx.version&gt;</code></p>\n<p>VERTX</p>\n<pre><code>    public TlsClientStarter(Vertx vertx, String certificatesPath, int appTimeOut) throws Exception {\n        Security.insertProviderAt(new BouncyCastleProvider(), 1);\n        Security.insertProviderAt(new BouncyCastleJsseProvider(), 1);\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl:handshake&quot;);\n\n        this.vertx = vertx;\n\n        NetClientOptions options = new NetClientOptions()\n                .addEnabledSecureTransportProtocol(&quot;TLSv1.2&quot;)\n                .addEnabledCipherSuite(&quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;)\n                .setConnectTimeout(appTimeOut)\n                .setReconnectAttempts(20)\n                .setReconnectInterval(500)\n                .setLogActivity(true)\n                .setSsl(true)\n                .setTrustStoreOptions(new JksOptions()\n                        .setPath(&quot;/path/to/truststore.jks&quot;)\n                        .setPassword(&quot;password&quot;))\n                .setKeyStoreOptions(new JksOptions()\n                        .setPath(&quot;/path/to/keystore.jks&quot;)\n                        .setPassword(&quot;keystorePassword&quot;));\n\n        client = vertx.createNetClient(options);\n    }\n\npublic CompletableFuture&lt;String&gt; connectToEntity(String host, int port) {\n        CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\n        try {\n            logger.info(&quot;Connect to entity&quot;);\n            client.connect(port, host, res -&gt; {\n                if (res.succeeded()) {\n                    logger.info(&quot;Connected!&quot;);\n                    socket = res.result();\n                    future.complete(&quot;Connected!&quot;);\n                } else {\n                    logger.error(&quot;Failed to connect: &quot; + res.cause().getMessage());\n                    future.completeExceptionally(res.cause());\n                }\n            });\n        } catch (Exception e) {\n            logger.error(&quot;Failed to connect: &quot; + e.getMessage());\n            future.completeExceptionally(e);\n        }\n        return future;\n    }\n</code></pre>\n<p>So I am a really newbie about this TLS/SSL stuff so please let me know if you could help me about that.</p>\n<p>LOG</p>\n<pre><code>Apr. 03, 2023 1:25:29 PM org.bouncycastle.jsse.provider.PropertyUtils getStringSecurityProperty\nINFORMATION: Found string security property [jdk.tls.disabledAlgorithms]: SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\nApr. 03, 2023 1:25:29 PM org.bouncycastle.jsse.provider.PropertyUtils getStringSecurityProperty\nINFORMATION: Found string security property [jdk.certpath.disabledAlgorithms]: MD2, MD5, SHA1 jdkCA &amp; usage TLSServer, RSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224\nApr. 03, 2023 1:25:29 PM org.bouncycastle.jsse.provider.DisabledAlgorithmConstraints create\nWARNUNG: Ignoring unsupported entry in 'jdk.certpath.disabledAlgorithms': SHA1 jdkCA &amp; usage TLSServer\nApr. 03, 2023 1:25:29 PM org.bouncycastle.jsse.provider.PropertyUtils getStringSystemProperty\nINFORMATION: Found string system property [java.home]: C:\\Users\\TobiasToKoehler\\.jdks\\openjdk-17.0.2\nApr. 03, 2023 1:25:30 PM org.bouncycastle.jsse.provider.ProvTlsClient notifyAlertReceived\nINFORMATION: Client received fatal(2) handshake_failure(40) alert\n2023-04-03 13:25:30,162 ERROR c.s.k.s.TlsClientStarter [vert.x-eventloop-thread-0] Failed to connect: Failed to create SSL connection\n2023-04-03 13:25:30,163 INFO c.s.k.s.TlsClientStarter [main] Disconnect\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.ExecutionException: javax.net.ssl.SSLHandshakeException: Failed to create SSL connection\n    at XXX.ScenarioStarter.main(ScenarioStarter.java:68)\nCaused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: javax.net.ssl.SSLHandshakeException: Failed to create SSL connection\n    at XXX.scenarios.FullSupplyScenario.startScenario(FullSupplyScenario.java:109)\n    at XXX.ScenarioStarter.main(ScenarioStarter.java:52)\nCaused by: java.util.concurrent.ExecutionException: javax.net.ssl.SSLHandshakeException: Failed to create SSL connection\n    at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2096)\n    at XXX.scenarios.FullSupplyScenario.startScenario(FullSupplyScenario.java:49)\n    ... 1 more\nCaused by: javax.net.ssl.SSLHandshakeException: Failed to create SSL connection\n    at io.vertx.core.net.impl.ChannelProvider$1.userEventTriggered(ChannelProvider.java:130)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:346)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:332)\n    at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:324)\n    at io.netty.handler.ssl.SslHandler.handleUnwrapThrowable(SslHandler.java:1260)\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1241)\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javax.net.ssl.SSLException: org.bouncycastle.tls.TlsFatalAlertReceived: handshake_failure(40)\n    at org.bouncycastle.jsse.provider.ProvSSLEngine.unwrap(ProvSSLEngine.java:500)\n    at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\n    at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296)\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343)\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236)\n    ... 20 more\nCaused by: org.bouncycastle.tls.TlsFatalAlertReceived: handshake_failure(40)\n    at org.bouncycastle.tls.TlsProtocol.handleAlertMessage(TlsProtocol.java:244)\n    at org.bouncycastle.tls.TlsProtocol.processAlertQueue(TlsProtocol.java:736)\n    at org.bouncycastle.tls.TlsProtocol.processRecord(TlsProtocol.java:559)\n    at org.bouncycastle.tls.RecordStream.readFullRecord(RecordStream.java:207)\n    at org.bouncycastle.tls.TlsProtocol.safeReadFullRecord(TlsProtocol.java:922)\n    at org.bouncycastle.tls.TlsProtocol.offerInput(TlsProtocol.java:1364)\n    at org.bouncycastle.jsse.provider.ProvSSLEngine.unwrap(ProvSSLEngine.java:481)\n    ... 24 more\n</code></pre>\n<p>THANKS!</p>\n"},{"tags":["java","exception","try-catch","throw","throws"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1680522016,"post_id":75919026,"comment_id":133907192,"body_markdown":"My opinion is that catching and re-throwing is not handling anything.  One thing that might be acceptable would be wrapping a caught exception with a custom uncaught one, but I&#39;m generally not in favor.","body":"My opinion is that catching and re-throwing is not handling anything.  One thing that might be acceptable would be wrapping a caught exception with a custom uncaught one, but I&#39;m generally not in favor."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1680522020,"post_id":75919026,"comment_id":133907195,"body_markdown":"That entirely depends on the specific situation, and whether having a more specific exception adds value.","body":"That entirely depends on the specific situation, and whether having a more specific exception adds value."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1680522095,"post_id":75919026,"comment_id":133907216,"body_markdown":"@duffymo So you would rather a method threw an (imaginary) `LowLevelKernelException` than an `IOException` when the user unplugs the USB pendrive mid-access? I strongly disagree: failure to wrap exceptions leaks implementation details and should be frowned upon in the same way as failure to mark private methods `private`.","body":"@duffymo So you would rather a method threw an (imaginary) <code>LowLevelKernelException</code> than an <code>IOException</code> when the user unplugs the USB pendrive mid-access? I strongly disagree: failure to wrap exceptions leaks implementation details and should be frowned upon in the same way as failure to mark private methods <code>private</code>."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1680522350,"post_id":75919026,"comment_id":133907265,"body_markdown":"Fair point, @KonradRudolph.  I said &quot;generally not in favor&quot;, but that was not meant to be a blanket condemnation.","body":"Fair point, @KonradRudolph.  I said &quot;generally not in favor&quot;, but that was not meant to be a blanket condemnation."}],"answers":[{"tags":[],"owner":{"account_id":16983218,"reputation":697,"user_id":12284585,"display_name":"tturbo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680522762,"creation_date":1680522762,"answer_id":75919175,"question_id":75919026,"body_markdown":"Well, you converting a general `Exception` in the more specific one `XYZException`. If this is the aim, it can make sense. Especially if `XYZException` is a user defined exception that helps to narrow the error down.\r\n\r\nOn reason could be, that a other (more upper) error handler specifically catches the `XYZException` and handles it. While if it would have thrown the general `Exception` it does not know how to handle it.\r\n\r\n```java\r\npublic static void main(String[] args){\r\n    try {\r\n      fun1&lt;Type&gt;(&quot;String&quot;);\r\n    } catch (final XYZException e) {\r\n      //Recover to XYZException or do something else specific to XYZException \r\n    } catch (final Exception e) {\r\n      // Log the error and end the program, as we don&#39;t know how to recover\r\n    }\r\n```\r\n\r\nFor Example: As fun1 is a generic function, if `fun1&lt;Type1&gt;(&quot;..&quot;)` throws an XYZException you could for example try again with `fun1&lt;Type2&gt;(&quot;..&quot;)`. Both, fun1 and fun2 do not know what Type2 would be so they can&#39;t recover on their own.\r\n\r\n","title":"Try-Catch vs re throwing an exception?","body":"<p>Well, you converting a general <code>Exception</code> in the more specific one <code>XYZException</code>. If this is the aim, it can make sense. Especially if <code>XYZException</code> is a user defined exception that helps to narrow the error down.</p>\n<p>On reason could be, that a other (more upper) error handler specifically catches the <code>XYZException</code> and handles it. While if it would have thrown the general <code>Exception</code> it does not know how to handle it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args){\n    try {\n      fun1&lt;Type&gt;(&quot;String&quot;);\n    } catch (final XYZException e) {\n      //Recover to XYZException or do something else specific to XYZException \n    } catch (final Exception e) {\n      // Log the error and end the program, as we don't know how to recover\n    }\n</code></pre>\n<p>For Example: As fun1 is a generic function, if <code>fun1&lt;Type1&gt;(&quot;..&quot;)</code> throws an XYZException you could for example try again with <code>fun1&lt;Type2&gt;(&quot;..&quot;)</code>. Both, fun1 and fun2 do not know what Type2 would be so they can't recover on their own.</p>\n"}],"owner":{"account_id":4787365,"reputation":369,"user_id":3867445,"accept_rate":17,"display_name":"Surbhi Jain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680528436,"answer_count":1,"score":1,"last_activity_date":1680522762,"creation_date":1680521761,"question_id":75919026,"body_markdown":"I have a function fun1(), which calls fun2(), which might throw an Exception :\r\n\r\n```java\r\npublic &lt;T&gt; T fun1(final String abc) throws XYZException {\r\n    try {\r\n\r\n        fun2()\r\n\r\n    } catch (final Exception e) {\r\n        throw new XYZException();\r\n    }\r\n}\r\n\r\n```\r\n\r\n1. If we are re-throwing the exception, does try catch make sense here? \r\n2. Should we add throws in the method definition line?","title":"Try-Catch vs re throwing an exception?","body":"<p>I have a function fun1(), which calls fun2(), which might throw an Exception :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; T fun1(final String abc) throws XYZException {\n    try {\n\n        fun2()\n\n    } catch (final Exception e) {\n        throw new XYZException();\n    }\n}\n\n</code></pre>\n<ol>\n<li>If we are re-throwing the exception, does try catch make sense here?</li>\n<li>Should we add throws in the method definition line?</li>\n</ol>\n"},{"tags":["java","eclipse","hibernate"],"answers":[{"comments":[{"owner":{"account_id":21415586,"reputation":21,"user_id":15774888,"display_name":"Jerrish Carol"},"score":0,"creation_date":1680432079,"post_id":75910905,"comment_id":133894423,"body_markdown":"I tried but didn&#39;t seem working...","body":"I tried but didn&#39;t seem working..."}],"tags":[],"owner":{"account_id":28192965,"reputation":1,"user_id":21548074,"display_name":"Erhan Arslan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680424476,"creation_date":1680424476,"answer_id":75910905,"question_id":75910866,"body_markdown":"try to add the word &quot;hibernate&quot; at the start of property desc.\r\n\r\nsample.\r\n\r\n    &lt;property name = &quot;hibernate.dialect&quot;&gt;\r\n             org.hibernate.dialect.MySQLDialect\r\n          &lt;/property&gt;\r\n          \r\n          &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;\r\n             com.mysql.jdbc.Driver\r\n          &lt;/property&gt;\r\n          \r\n          &lt;property name = &quot;hibernate.connection.url&quot;&gt;\r\n             jdbc:mysql://localhost/test\r\n          &lt;/property&gt;\r\n          \r\n          &lt;property name = &quot;hibernate.connection.username&quot;&gt;\r\n             root\r\n          &lt;/property&gt;\r\n          \r\n          &lt;property name = &quot;hibernate.connection.password&quot;&gt;\r\n             root123\r\n          &lt;/property&gt;\r\n\r\n","title":"java.sql.SQLException: The url cannot be null , Cannot invoke &quot;String.substring(int)&quot; because &quot;this.proxoolAlias&quot; is null","body":"<p>try to add the word &quot;hibernate&quot; at the start of property desc.</p>\n<p>sample.</p>\n<pre><code>&lt;property name = &quot;hibernate.dialect&quot;&gt;\n         org.hibernate.dialect.MySQLDialect\n      &lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;\n         com.mysql.jdbc.Driver\n      &lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.url&quot;&gt;\n         jdbc:mysql://localhost/test\n      &lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.username&quot;&gt;\n         root\n      &lt;/property&gt;\n      \n      &lt;property name = &quot;hibernate.connection.password&quot;&gt;\n         root123\n      &lt;/property&gt;\n</code></pre>\n"}],"owner":{"account_id":21415586,"reputation":21,"user_id":15774888,"display_name":"Jerrish Carol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680522722,"creation_date":1680423759,"question_id":75910866,"body_markdown":"[![Project directory structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xEiUZ.png\r\n\r\nI am self learning and working on a basic hibernate program which has Player class and here I am trying to connect it to mysql database.\r\n\r\nPlayer.java:\r\n\r\n```\r\npackage com.to;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n\r\n@Table\r\npublic class Player {\r\n\t\r\n\t@Id\r\n\tprivate int playerId;\r\n\tprivate String playerName; \r\n\tprivate int age;\r\n\tprivate String teamName;\r\n\t\r\n\tpublic Player(int playerId, String playerName, int age, String teamName) {\r\n\t\tsuper();\r\n\t\tthis.playerId = playerId;\r\n\t\tthis.playerName = playerName;\r\n\t\tthis.age = age;\r\n\t\tthis.teamName = teamName;\r\n\t}\r\n\r\n\tpublic int getPlayerId() {\r\n\t\treturn playerId;\r\n\t}\r\n\r\n\tpublic void setPlayerId(int playerId) {\r\n\t\tthis.playerId = playerId;\r\n\t}\r\n\r\n\tpublic String getPlayerName() {\r\n\t\treturn playerName;\r\n\t}\r\n\r\n\tpublic void setPlayerName(String playerName) {\r\n\t\tthis.playerName = playerName;\r\n\t}\r\n\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n\r\n\tpublic void setAge(int age) {\r\n\t\tthis.age = age;\r\n\t}\r\n\r\n\tpublic String getTeamName() {\r\n\t\treturn teamName;\r\n\t}\r\n\r\n\tpublic void setTeamName(String teamName) {\r\n\t\tthis.teamName = teamName;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Player [playerId=&quot; + playerId + &quot;, playerName=&quot; + playerName + &quot;, age=&quot; + age + &quot;, teamName=&quot; + teamName\r\n\t\t\t\t+ &quot;]&quot;;\r\n\t} \r\n\t\r\n\tpublic Player() {\r\n\t\t\r\n\t}\t\r\n\r\n}\r\n```\r\n\r\nHibernateMain.java:\r\n\r\n```\r\npackage com.control;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\nimport com.to.Player;\r\n\r\npublic class HibernateMain {\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\tConfiguration config = new Configuration().configure();\r\n\t\tconfig.addAnnotatedClass(com.to.Player.class);\r\n\t\tStandardServiceRegistryBuilder builder = \r\n\t\t\t\t\tnew StandardServiceRegistryBuilder().applySettings(config.getProperties());\r\n\t    SessionFactory factory = config.buildSessionFactory(builder.build());\r\n\t    \r\n\t    Session session = factory.openSession();\r\n\t    Transaction transaction = session.beginTransaction();\r\n\t    Player p1 = new Player(10,&quot;Amit&quot;,30,&quot;India&quot;);\r\n\t    session.save(p1);\r\n\t    transaction.commit();\r\n\t    session.close();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nhibernate.cfg.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!--\r\n ~ Hibernate Search, full-text search for your domain model\r\n ~\r\n ~ License: GNU Lesser General Public License (LGPL), version 2.1 or later\r\n ~ See the lgpl.txt file in the root directory or &lt;http://www.gnu.org/licenses/lgpl-2.1.html&gt;.\r\n  --&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n  &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/simplilearn_db&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;hr&lt;/property&gt;\r\n\r\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\n        &lt;!-- SQL dialect --&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n        \r\n\r\n        &lt;!-- Enable Hibernate&#39;s automatic session context management --&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\n        &lt;!-- Disable the second-level cache  --&gt;\r\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n\r\n        &lt;!-- Echo all executed SQL to stdout --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nI am encountering the below listed...\r\n```\r\nWARN: HHH000342: Could not obtain connection to query metadata\r\njava.sql.SQLException: The url cannot be null\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:252)\r\n\tat org.hibernate.proxool.internal.ProxoolConnectionProvider.getConnection(ProxoolConnectionProvider.java:69)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:86)\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:479)\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:85)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:689)\r\n\tat com.hibernatedemo.control.HibernateMain.main(HibernateMain.java:21)\r\n\r\nApr 02, 2023 1:02:36 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\nHibernate: \r\n    \r\n    drop table if exists Player\r\nApr 02, 2023 1:02:37 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nWARN: SQL Error: 0, SQLState: 08001\r\nApr 02, 2023 1:02:37 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nERROR: The url cannot be null\r\nApr 02, 2023 1:02:37 PM org.hibernate.proxool.internal.ProxoolConnectionProvider stop\r\nWARN: HHH030006: Exception occurred when closing the Proxool pool\r\njava.lang.NullPointerException: Cannot invoke &quot;String.substring(int)&quot; because &quot;this.proxoolAlias&quot; is null\r\n\tat org.hibernate.proxool.internal.ProxoolConnectionProvider.stop(ProxoolConnectionProvider.java:233)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.stopService(AbstractServiceRegistryImpl.java:390)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:373)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.destroy(StandardServiceRegistryImpl.java:129)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.deRegisterChild(AbstractServiceRegistryImpl.java:423)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:380)\r\n\tat org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.destroy(SessionFactoryServiceRegistryImpl.java:103)\r\n\tat org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:824)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:404)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:708)\r\n\tat com.hibernatedemo.control.HibernateMain.main(HibernateMain.java:21)\r\n\r\nApr 02, 2023 1:02:37 PM org.hibernate.service.internal.AbstractServiceRegistryImpl stopService\r\nINFO: HHH000369: Error stopping service [class org.hibernate.proxool.internal.ProxoolConnectionProvider]\r\norg.hibernate.HibernateException: HHH030006: Exception occurred when closing the Proxool pool\r\n\tat org.hibernate.proxool.internal.ProxoolConnectionProvider.stop(ProxoolConnectionProvider.java:241)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.stopService(AbstractServiceRegistryImpl.java:390)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:373)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.destroy(StandardServiceRegistryImpl.java:129)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.deRegisterChild(AbstractServiceRegistryImpl.java:423)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:380)\r\n\tat org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.destroy(SessionFactoryServiceRegistryImpl.java:103)\r\n\tat org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:824)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:404)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:708)\r\n\tat com.hibernatedemo.control.HibernateMain.main(HibernateMain.java:21)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;String.substring(int)&quot; because &quot;this.proxoolAlias&quot; is null\r\n\tat org.hibernate.proxool.internal.ProxoolConnectionProvider.stop(ProxoolConnectionProvider.java:233)\r\n\t... 11 more\r\n\r\nException in thread &quot;main&quot; org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:77)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:53)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:708)\r\n\tat com.hibernatedemo.control.HibernateMain.main(HibernateMain.java:21)\r\n\r\n```\r\n\r\nI&#39;ve also checked the username and password for database, It is all correct...\r\n\r\nI tried checking with hibernate version issues and also added javaassist 3.20.0 jar but didn&#39;t work either.\r\n\r\nEDIT: It seems like the ProxoolConnectionProvider.java file is missing and I think that is the reason to this issue...Is there any option to add it to the project...?\r\n\r\n","title":"java.sql.SQLException: The url cannot be null , Cannot invoke &quot;String.substring(int)&quot; because &quot;this.proxoolAlias&quot; is null","body":"<p><a href=\"https://i.stack.imgur.com/xEiUZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xEiUZ.png\" alt=\"Project directory structure\" /></a></p>\n<p>I am self learning and working on a basic hibernate program which has Player class and here I am trying to connect it to mysql database.</p>\n<p>Player.java:</p>\n<pre><code>package com.to;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n\n@Table\npublic class Player {\n    \n    @Id\n    private int playerId;\n    private String playerName; \n    private int age;\n    private String teamName;\n    \n    public Player(int playerId, String playerName, int age, String teamName) {\n        super();\n        this.playerId = playerId;\n        this.playerName = playerName;\n        this.age = age;\n        this.teamName = teamName;\n    }\n\n    public int getPlayerId() {\n        return playerId;\n    }\n\n    public void setPlayerId(int playerId) {\n        this.playerId = playerId;\n    }\n\n    public String getPlayerName() {\n        return playerName;\n    }\n\n    public void setPlayerName(String playerName) {\n        this.playerName = playerName;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String getTeamName() {\n        return teamName;\n    }\n\n    public void setTeamName(String teamName) {\n        this.teamName = teamName;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Player [playerId=&quot; + playerId + &quot;, playerName=&quot; + playerName + &quot;, age=&quot; + age + &quot;, teamName=&quot; + teamName\n                + &quot;]&quot;;\n    } \n    \n    public Player() {\n        \n    }   \n\n}\n</code></pre>\n<p>HibernateMain.java:</p>\n<pre><code>package com.control;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\n\nimport com.to.Player;\n\npublic class HibernateMain {\n    \n    public static void main(String args[]) {\n        Configuration config = new Configuration().configure();\n        config.addAnnotatedClass(com.to.Player.class);\n        StandardServiceRegistryBuilder builder = \n                    new StandardServiceRegistryBuilder().applySettings(config.getProperties());\n        SessionFactory factory = config.buildSessionFactory(builder.build());\n        \n        Session session = factory.openSession();\n        Transaction transaction = session.beginTransaction();\n        Player p1 = new Player(10,&quot;Amit&quot;,30,&quot;India&quot;);\n        session.save(p1);\n        transaction.commit();\n        session.close();\n    }\n\n}\n</code></pre>\n<p>hibernate.cfg.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!--\n ~ Hibernate Search, full-text search for your domain model\n ~\n ~ License: GNU Lesser General Public License (LGPL), version 2.1 or later\n ~ See the lgpl.txt file in the root directory or &lt;http://www.gnu.org/licenses/lgpl-2.1.html&gt;.\n  --&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n  &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/simplilearn_db&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;hr&lt;/property&gt;\n\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\n\n        &lt;!-- SQL dialect --&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n        \n\n        &lt;!-- Enable Hibernate's automatic session context management --&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n\n        &lt;!-- Disable the second-level cache  --&gt;\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n\n        &lt;!-- Echo all executed SQL to stdout --&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>I am encountering the below listed...</p>\n<pre><code>WARN: HHH000342: Could not obtain connection to query metadata\njava.sql.SQLException: The url cannot be null\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:252)\n    at org.hibernate.proxool.internal.ProxoolConnectionProvider.getConnection(ProxoolConnectionProvider.java:69)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:86)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:479)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:85)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:689)\n    at com.hibernatedemo.control.HibernateMain.main(HibernateMain.java:21)\n\nApr 02, 2023 1:02:36 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\nHibernate: \n    \n    drop table if exists Player\nApr 02, 2023 1:02:37 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 0, SQLState: 08001\nApr 02, 2023 1:02:37 PM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: The url cannot be null\nApr 02, 2023 1:02:37 PM org.hibernate.proxool.internal.ProxoolConnectionProvider stop\nWARN: HHH030006: Exception occurred when closing the Proxool pool\njava.lang.NullPointerException: Cannot invoke &quot;String.substring(int)&quot; because &quot;this.proxoolAlias&quot; is null\n    at org.hibernate.proxool.internal.ProxoolConnectionProvider.stop(ProxoolConnectionProvider.java:233)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.stopService(AbstractServiceRegistryImpl.java:390)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:373)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.destroy(StandardServiceRegistryImpl.java:129)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.deRegisterChild(AbstractServiceRegistryImpl.java:423)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:380)\n    at org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.destroy(SessionFactoryServiceRegistryImpl.java:103)\n    at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:824)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:404)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:708)\n    at com.hibernatedemo.control.HibernateMain.main(HibernateMain.java:21)\n\nApr 02, 2023 1:02:37 PM org.hibernate.service.internal.AbstractServiceRegistryImpl stopService\nINFO: HHH000369: Error stopping service [class org.hibernate.proxool.internal.ProxoolConnectionProvider]\norg.hibernate.HibernateException: HHH030006: Exception occurred when closing the Proxool pool\n    at org.hibernate.proxool.internal.ProxoolConnectionProvider.stop(ProxoolConnectionProvider.java:241)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.stopService(AbstractServiceRegistryImpl.java:390)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:373)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.destroy(StandardServiceRegistryImpl.java:129)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.deRegisterChild(AbstractServiceRegistryImpl.java:423)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.destroy(AbstractServiceRegistryImpl.java:380)\n    at org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.destroy(SessionFactoryServiceRegistryImpl.java:103)\n    at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:824)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:404)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:708)\n    at com.hibernatedemo.control.HibernateMain.main(HibernateMain.java:21)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;String.substring(int)&quot; because &quot;this.proxoolAlias&quot; is null\n    at org.hibernate.proxool.internal.ProxoolConnectionProvider.stop(ProxoolConnectionProvider.java:233)\n    ... 11 more\n\nException in thread &quot;main&quot; org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:77)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:53)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:708)\n    at com.hibernatedemo.control.HibernateMain.main(HibernateMain.java:21)\n\n</code></pre>\n<p>I've also checked the username and password for database, It is all correct...</p>\n<p>I tried checking with hibernate version issues and also added javaassist 3.20.0 jar but didn't work either.</p>\n<p>EDIT: It seems like the ProxoolConnectionProvider.java file is missing and I think that is the reason to this issue...Is there any option to add it to the project...?</p>\n"},{"tags":["java","android","stripe-payments","payment-gateway"],"answers":[{"comments":[{"owner":{"account_id":8327775,"reputation":475,"user_id":6257318,"accept_rate":93,"display_name":"Addi.Star"},"score":0,"creation_date":1684783627,"post_id":71837872,"comment_id":134564579,"body_markdown":"Hi can you please provide a working example, i am having the same problem.\n\n&lt;https://stackoverflow.com/questions/76309259/stripe-android-sdk-paymentresult-is-not-providing-transaction-details&gt;","body":"Hi can you please provide a working example, i am having the same problem.  &lt;<a href=\"https://stackoverflow.com/questions/76309259/stripe-android-sdk-paymentresult-is-not-providing-transaction-details\" title=\"stripe android sdk paymentresult is not providing transaction details\">stackoverflow.com/questions/76309259/&hellip;</a>&gt;"}],"tags":[],"owner":{"account_id":132746,"reputation":1266,"user_id":333638,"display_name":"qichuan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649743949,"creation_date":1649743949,"answer_id":71837872,"question_id":71815532,"body_markdown":"You can&#39;t get the PaymentIntent ID from the `PaymentsheetResult`.\r\n\r\nBut you can derive the PaymentIntent ID from the `clientSecret` that you pass to initialize the PaymentSheet. The format of `clientSecret` is `pi_ABC_secret_123`, and anything before the `_secret` is the PayementIntent ID (e.g., `pi_ABC`). ","title":"How to get Stripe payment transaction details in JAVA (Stripe Android SDK) after payment completed","body":"<p>You can't get the PaymentIntent ID from the <code>PaymentsheetResult</code>.</p>\n<p>But you can derive the PaymentIntent ID from the <code>clientSecret</code> that you pass to initialize the PaymentSheet. The format of <code>clientSecret</code> is <code>pi_ABC_secret_123</code>, and anything before the <code>_secret</code> is the PayementIntent ID (e.g., <code>pi_ABC</code>).</p>\n"}],"owner":{"account_id":8048126,"reputation":693,"user_id":6067690,"accept_rate":40,"display_name":"Istiyak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680522571,"creation_date":1649584907,"question_id":71815532,"body_markdown":"I am using `com.stripe:stripe-android:20.0.0` SDK for the android stripe payment process. I did all the code and payment get success and fire on payment success event. But I did not find any way to get my succeeded payment Transaction ID or any Transaction details like other payment gateways. Even the `paymentSheetResult` object has no other details attributes. \r\n\r\n     private void onPaymentSheetResult(\r\n            final PaymentSheetResult paymentSheetResult\r\n    ) {\r\n        if (paymentSheetResult instanceof PaymentSheetResult.Completed) {\r\n\r\n            PaymentSheetResult pr = paymentSheetResult;\r\n            showToast(&quot;Payment complete!&quot;);\r\n        } else if (paymentSheetResult instanceof PaymentSheetResult.Canceled) {\r\n            Log.i(TAG, &quot;Payment canceled!&quot;);\r\n        } else if (paymentSheetResult instanceof PaymentSheetResult.Failed) {\r\n            Throwable error = ((PaymentSheetResult.Failed) paymentSheetResult).getError();\r\n            showAlert(&quot;Payment failed&quot;, error.getLocalizedMessage());\r\n        }\r\n    }","title":"How to get Stripe payment transaction details in JAVA (Stripe Android SDK) after payment completed","body":"<p>I am using <code>com.stripe:stripe-android:20.0.0</code> SDK for the android stripe payment process. I did all the code and payment get success and fire on payment success event. But I did not find any way to get my succeeded payment Transaction ID or any Transaction details like other payment gateways. Even the <code>paymentSheetResult</code> object has no other details attributes.</p>\n<pre><code> private void onPaymentSheetResult(\n        final PaymentSheetResult paymentSheetResult\n) {\n    if (paymentSheetResult instanceof PaymentSheetResult.Completed) {\n\n        PaymentSheetResult pr = paymentSheetResult;\n        showToast(&quot;Payment complete!&quot;);\n    } else if (paymentSheetResult instanceof PaymentSheetResult.Canceled) {\n        Log.i(TAG, &quot;Payment canceled!&quot;);\n    } else if (paymentSheetResult instanceof PaymentSheetResult.Failed) {\n        Throwable error = ((PaymentSheetResult.Failed) paymentSheetResult).getError();\n        showAlert(&quot;Payment failed&quot;, error.getLocalizedMessage());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","runtime","javabeans","jco"],"answers":[{"tags":[],"owner":{"account_id":24733817,"reputation":56,"user_id":18621464,"display_name":"Kamii0909"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680522507,"creation_date":1680522507,"answer_id":75919135,"question_id":75918727,"body_markdown":"I&#39;m not an expert on SAP technology, but you probably want to create 2 separate `SessionManager`s and inject them by name(`@Qualifier`).\r\n\r\n```java\r\nclass SAPConfig {\r\n  // return a bean of BHD here\r\n  @Bean(&quot;BHDSAPServer&quot;)\r\n  SessionManager createBHDServer() { ... } \r\n  \r\n  // return a bean of AHD here\r\n  @Bean(&quot;AHDSAPServer&quot;)\r\n  SessionManager createAHDServer() { ... }\r\n}\r\n\r\n// this snippet is in SAPUserRepository\r\npublic SapUserRepository(\r\n  @Qualifier(&quot;BHDSAPServer&quot;) SessionManager bhdSessionManager,\r\n  @Qualifier(&quot;AHDSAPServer&quot;) SessionManager ahdSessionManager) {\r\n    this.bhdSessionManager = bhdSessionManager;\r\n    this.ahdSessionManager = ahdSessionManager;\r\n}\r\n```\r\n\r\nHow do Spring wants to know which Server you want to connect to in your repository? You have to tell it to Spring yourself. The above code is one of such way. \r\n\r\nNow if you want to have AHD Server as a fallback (if connect to BHD fails, connect to AHD), you can create a nice wrapper like \r\n\r\n```\r\n@Component\r\nclass ChainedSAPServer {\r\n  Map&lt;String, SessionManager&gt; sessionManagers;\r\n  \r\n  // Spring will automatically inject (@Autowired) every\r\n  // SessionManager coercible (can be cast to SessionManager)\r\n  // beans in this constructor. If you happen to not use \r\n  // classpath scanning (@ComponentScan), Spring will also\r\n  // \r\n  ChainedSAPServer(List&lt;SessionManager&gt; sessionManagers) {\r\n    this.sessionManagers = sessionManagers\r\n       .stream()\r\n       .collect(Collectors.toMap(sm -&gt; sm.getName(), Function.identity());\r\n  }\r\n\r\n  Session openSession() {\r\n    // check each session manager one by one, if one fails go to next\r\n  }\r\n\r\n  // You can also smartly decide which SessionManager is\r\n  // responsible for what usage. You can simply inject only\r\n  // this wrapper to your repositories.\r\n  Session openSessionWith(String sessionManagerName) {\r\n    return sessionManagers.get(sessionManagerName).openSession();\r\n  }\r\n}\r\n```\r\n","title":"Spring bean change configuration on runtime","body":"<p>I'm not an expert on SAP technology, but you probably want to create 2 separate <code>SessionManager</code>s and inject them by name(<code>@Qualifier</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SAPConfig {\n  // return a bean of BHD here\n  @Bean(&quot;BHDSAPServer&quot;)\n  SessionManager createBHDServer() { ... } \n  \n  // return a bean of AHD here\n  @Bean(&quot;AHDSAPServer&quot;)\n  SessionManager createAHDServer() { ... }\n}\n\n// this snippet is in SAPUserRepository\npublic SapUserRepository(\n  @Qualifier(&quot;BHDSAPServer&quot;) SessionManager bhdSessionManager,\n  @Qualifier(&quot;AHDSAPServer&quot;) SessionManager ahdSessionManager) {\n    this.bhdSessionManager = bhdSessionManager;\n    this.ahdSessionManager = ahdSessionManager;\n}\n</code></pre>\n<p>How do Spring wants to know which Server you want to connect to in your repository? You have to tell it to Spring yourself. The above code is one of such way.</p>\n<p>Now if you want to have AHD Server as a fallback (if connect to BHD fails, connect to AHD), you can create a nice wrapper like</p>\n<pre><code>@Component\nclass ChainedSAPServer {\n  Map&lt;String, SessionManager&gt; sessionManagers;\n  \n  // Spring will automatically inject (@Autowired) every\n  // SessionManager coercible (can be cast to SessionManager)\n  // beans in this constructor. If you happen to not use \n  // classpath scanning (@ComponentScan), Spring will also\n  // \n  ChainedSAPServer(List&lt;SessionManager&gt; sessionManagers) {\n    this.sessionManagers = sessionManagers\n       .stream()\n       .collect(Collectors.toMap(sm -&gt; sm.getName(), Function.identity());\n  }\n\n  Session openSession() {\n    // check each session manager one by one, if one fails go to next\n  }\n\n  // You can also smartly decide which SessionManager is\n  // responsible for what usage. You can simply inject only\n  // this wrapper to your repositories.\n  Session openSessionWith(String sessionManagerName) {\n    return sessionManagers.get(sessionManagerName).openSession();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19020071,"reputation":55,"user_id":13884320,"display_name":"Cemal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680522507,"creation_date":1680519615,"question_id":75918727,"body_markdown":"I need to session manager to connection SAP server. I use spring bean to create session manager. I get SAP server configuration from `hibersap.xml`. I was connecting to a single server before. But now I need to connect to two or more servers. In order to read the necessary configuration from `hibersap.xml`, I need to update the spring bean on runtime, how can I do it?\r\n\r\nSession manager of 2 separate whose names are BHD and AHD.\r\n\r\n    &lt;session-manager name=&quot;BHD&quot;&gt;\r\n\t\t&lt;context&gt;org.hibersap.execution.jco.JCoContext&lt;/context&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;jco.client.client&quot; value=&quot;111&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;jco.client.user&quot; value=&quot;AAA&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;jco.client.passwd&quot; value=&quot;11Q1Q1Q1Q&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;jco.client.ashost&quot; value=&quot;11.11.11.11&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;jco.client.sysnr&quot; value=&quot;00&quot; /&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;annotated-classes&gt;\r\n\t\t\t&lt;annotated-class&gt;com.ldap.connection.sap.bapi.RfcLdapParameters&lt;/annotated-class&gt;\r\n\t\t\t&lt;annotated-class&gt;com.ldap.connection.sap.bapi.RfcSapUserDetails&lt;/annotated-class&gt;\r\n\t\t\t&lt;annotated-class&gt;com.ldap.connection.sap.bapi.UsernameAndMailModel&lt;/annotated-class&gt;\r\n\t\t&lt;/annotated-classes&gt;\r\n\t&lt;/session-manager&gt;\r\n\t&lt;session-manager name=&quot;AHD&quot;&gt;\r\n\t\t&lt;context&gt;org.hibersap.execution.jco.JCoContext&lt;/context&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;jco.client.client&quot; value=&quot;222&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;jco.client.user&quot; value=&quot;BBB&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;jco.client.passwd&quot; value=&quot;2Q2Q2Q2Q22&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;jco.client.ashost&quot; value=&quot;22.22.22.22&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;jco.client.sysnr&quot; value=&quot;00&quot; /&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;annotated-classes&gt;\r\n\t\t\t&lt;annotated-class&gt;com.ldap.connection.sap.bapi.RfcLdapParameters&lt;/annotated-class&gt;\r\n\t\t\t&lt;annotated-class&gt;com.ldap.connection.sap.bapi.RfcSapUserDetails&lt;/annotated-class&gt;\r\n\t\t\t&lt;annotated-class&gt;com.ldap.connection.sap.bapi.UsernameAndMailModel&lt;/annotated-class&gt;\r\n\t\t&lt;/annotated-classes&gt;\r\n\t&lt;/session-manager&gt;\r\n\r\n\r\n\r\n\r\nUpdating the BHD value in this line (-&gt; `configuration = new AnnotationConfiguration(&quot;BHD&quot;)`) below to AHD will solve the problem. but how can I do that at runtime?\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class HibersapConfiguration {\t\r\n\t\r\n    @Bean\r\n\tpublic SessionManager sessionManager() {\r\n\t\tString sname = System.getProperty(&quot;java.systemname&quot;);\r\n\t\tAnnotationConfiguration configuration = null;\r\n\t\t\r\n\t\tif(sname != null) {\r\n\t\t\tif(BtcConstants.LIVE_SYSTEM_NAME.equals(sname)) {\r\n\t\t\t\tlog.info(&quot;SAP &#252;retim canlı sisteme bağlanılıyor...&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(BtcConstants.DEV_SYSTEM_NAME.equals(sname)){\r\n\t\t\t\tconfiguration = new AnnotationConfiguration(&quot;BHD&quot;);\r\n\t\t\t\tlog.info(&quot;SAP &#252;retim dev sisteme bağlanılıyor...&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}else {\r\n\t\t\tconfiguration = new AnnotationConfiguration(&quot;BHD&quot;);\r\n\t\t\tlog.info(&quot;Local&#39;den SAP &#252;retim dev sisteme bağlanılıyor...&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn configuration.buildSessionManager();\r\n\t } }\r\n\r\nThe repository where I inject the session manager:\r\n\r\n    @Slf4j\r\n    @Repository\r\n    public class SapUserRepository implements SapUserRepositoryI {\r\n\r\n\tprivate final SessionManager sessionManager;\r\n\r\n\tpublic SapUserRepository(SessionManager sessionManager) {\r\n\t\tthis.sessionManager = sessionManager;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;SapUser&gt; findPersonalDetailFromSap(Date currentDate, String pernr) {\r\n\r\n\t\tList&lt;SapUser&gt; sapUserList = new ArrayList&lt;SapUser&gt;();\r\n\t\tRfcSapUserDetails details = new RfcSapUserDetails();\r\n\t\tdetails.setCurrentDate(currentDate);\r\n\t\tdetails.setPernr(pernr);\r\n\t\t\r\n\t\tSession session = null;\r\n\t\tif(sessionManager != null) {\r\n\t\t\tlog.info(&quot;&#39;findPersonalDetailFromSap&#39; i&#231;in session a&#231;ıldı&quot;);\r\n\t\t\tsession = sessionManager.openSession();\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tlog.info(&quot;Personel verileri &#231;ekiliyor...&quot;);\r\n\t\t\t\tsession.execute(details);\r\n\t\t\t\tsapUserList = details.getSapUserList();\r\n\t\t\t} finally {\r\n\t\t\t\tsession.close();\r\n\t\t\t\tlog.info(&quot;session kapatıldı&quot;);\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tlog.error(&quot;sessionManager null geldi !&quot;);\r\n\t\t}\r\n\r\n\t\treturn sapUserList;\r\n\t}","title":"Spring bean change configuration on runtime","body":"<p>I need to session manager to connection SAP server. I use spring bean to create session manager. I get SAP server configuration from <code>hibersap.xml</code>. I was connecting to a single server before. But now I need to connect to two or more servers. In order to read the necessary configuration from <code>hibersap.xml</code>, I need to update the spring bean on runtime, how can I do it?</p>\n<p>Session manager of 2 separate whose names are BHD and AHD.</p>\n<pre><code>&lt;session-manager name=&quot;BHD&quot;&gt;\n    &lt;context&gt;org.hibersap.execution.jco.JCoContext&lt;/context&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;jco.client.client&quot; value=&quot;111&quot; /&gt;\n        &lt;property name=&quot;jco.client.user&quot; value=&quot;AAA&quot; /&gt;\n        &lt;property name=&quot;jco.client.passwd&quot; value=&quot;11Q1Q1Q1Q&quot; /&gt;\n        &lt;property name=&quot;jco.client.ashost&quot; value=&quot;11.11.11.11&quot; /&gt;\n        &lt;property name=&quot;jco.client.sysnr&quot; value=&quot;00&quot; /&gt;\n    &lt;/properties&gt;\n    &lt;annotated-classes&gt;\n        &lt;annotated-class&gt;com.ldap.connection.sap.bapi.RfcLdapParameters&lt;/annotated-class&gt;\n        &lt;annotated-class&gt;com.ldap.connection.sap.bapi.RfcSapUserDetails&lt;/annotated-class&gt;\n        &lt;annotated-class&gt;com.ldap.connection.sap.bapi.UsernameAndMailModel&lt;/annotated-class&gt;\n    &lt;/annotated-classes&gt;\n&lt;/session-manager&gt;\n&lt;session-manager name=&quot;AHD&quot;&gt;\n    &lt;context&gt;org.hibersap.execution.jco.JCoContext&lt;/context&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;jco.client.client&quot; value=&quot;222&quot; /&gt;\n        &lt;property name=&quot;jco.client.user&quot; value=&quot;BBB&quot; /&gt;\n        &lt;property name=&quot;jco.client.passwd&quot; value=&quot;2Q2Q2Q2Q22&quot; /&gt;\n        &lt;property name=&quot;jco.client.ashost&quot; value=&quot;22.22.22.22&quot; /&gt;\n        &lt;property name=&quot;jco.client.sysnr&quot; value=&quot;00&quot; /&gt;\n    &lt;/properties&gt;\n    &lt;annotated-classes&gt;\n        &lt;annotated-class&gt;com.ldap.connection.sap.bapi.RfcLdapParameters&lt;/annotated-class&gt;\n        &lt;annotated-class&gt;com.ldap.connection.sap.bapi.RfcSapUserDetails&lt;/annotated-class&gt;\n        &lt;annotated-class&gt;com.ldap.connection.sap.bapi.UsernameAndMailModel&lt;/annotated-class&gt;\n    &lt;/annotated-classes&gt;\n&lt;/session-manager&gt;\n</code></pre>\n<p>Updating the BHD value in this line (-&gt; <code>configuration = new AnnotationConfiguration(&quot;BHD&quot;)</code>) below to AHD will solve the problem. but how can I do that at runtime?</p>\n<pre><code>@Configuration\n@Slf4j\npublic class HibersapConfiguration {    \n\n@Bean\npublic SessionManager sessionManager() {\n    String sname = System.getProperty(&quot;java.systemname&quot;);\n    AnnotationConfiguration configuration = null;\n    \n    if(sname != null) {\n        if(BtcConstants.LIVE_SYSTEM_NAME.equals(sname)) {\n            log.info(&quot;SAP üretim canlı sisteme bağlanılıyor...&quot;);\n        }\n        \n        if(BtcConstants.DEV_SYSTEM_NAME.equals(sname)){\n            configuration = new AnnotationConfiguration(&quot;BHD&quot;);\n            log.info(&quot;SAP üretim dev sisteme bağlanılıyor...&quot;);\n        }\n        \n    }else {\n        configuration = new AnnotationConfiguration(&quot;BHD&quot;);\n        log.info(&quot;Local'den SAP üretim dev sisteme bağlanılıyor...&quot;);\n    }\n    \n    \n    return configuration.buildSessionManager();\n } }\n</code></pre>\n<p>The repository where I inject the session manager:</p>\n<pre><code>@Slf4j\n@Repository\npublic class SapUserRepository implements SapUserRepositoryI {\n\nprivate final SessionManager sessionManager;\n\npublic SapUserRepository(SessionManager sessionManager) {\n    this.sessionManager = sessionManager;\n}\n\n@Override\npublic List&lt;SapUser&gt; findPersonalDetailFromSap(Date currentDate, String pernr) {\n\n    List&lt;SapUser&gt; sapUserList = new ArrayList&lt;SapUser&gt;();\n    RfcSapUserDetails details = new RfcSapUserDetails();\n    details.setCurrentDate(currentDate);\n    details.setPernr(pernr);\n    \n    Session session = null;\n    if(sessionManager != null) {\n        log.info(&quot;'findPersonalDetailFromSap' için session açıldı&quot;);\n        session = sessionManager.openSession();\n        \n        try {\n            log.info(&quot;Personel verileri çekiliyor...&quot;);\n            session.execute(details);\n            sapUserList = details.getSapUserList();\n        } finally {\n            session.close();\n            log.info(&quot;session kapatıldı&quot;);\n        }\n    }else {\n        log.error(&quot;sessionManager null geldi !&quot;);\n    }\n\n    return sapUserList;\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":25768053,"reputation":13,"user_id":19517460,"display_name":"puneet Shah"},"score":0,"creation_date":1680522663,"post_id":75919129,"comment_id":133907342,"body_markdown":"when `i` is incremented a RPC is made to generate the jobid","body":"when <code>i</code> is incremented a RPC is made to generate the jobid"},{"owner":{"account_id":25768053,"reputation":13,"user_id":19517460,"display_name":"puneet Shah"},"score":0,"creation_date":1680522745,"post_id":75919129,"comment_id":133907360,"body_markdown":"and for that `i-th` element it will checks whether status is DONE/EXIT. Then only increment `i` and do RPC call again","body":"and for that <code>i-th</code> element it will checks whether status is DONE/EXIT. Then only increment <code>i</code> and do RPC call again"},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1680522763,"post_id":75919129,"comment_id":133907369,"body_markdown":"inside the while you are calling, status = invokeAPI(jobId); with the same id always, the program will stuck","body":"inside the while you are calling, status = invokeAPI(jobId); with the same id always, the program will stuck"},{"owner":{"account_id":25768053,"reputation":13,"user_id":19517460,"display_name":"puneet Shah"},"score":0,"creation_date":1680586397,"post_id":75919129,"comment_id":133918862,"body_markdown":"on `0` index we will get jobid (RPC call) so for loop won&#39;t increment to index `1`(to get next jobid) unless index `0` status is DONE (to get status again RPC call)","body":"on <code>0</code> index we will get jobid (RPC call) so for loop won&#39;t increment to index <code>1</code>(to get next jobid) unless index <code>0</code> status is DONE (to get status again RPC call)"}],"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680522479,"creation_date":1680522479,"answer_id":75919129,"question_id":75919041,"body_markdown":"You can try using while, but make sure you update the value of jobId : \r\n\r\n\tint i = 0;\r\n    while(i&lt;programs.size()){\r\n    \t\tString status = &quot;&quot;;\r\n    \t\tString jobId = invokeAPI(userId, data); // RPC call\r\n    \t\tif (status.equals(&quot;DONE&quot;)) {\r\n    \t\t\ti++;\r\n    \t\t} else {\r\n    \t\t\t// i&#39;m not sure how would you like to update the jobId othewise you will always hav same status diffrent\r\n    \t\t\t//than DONE\r\n    \t\t\twhile (!status.equals(&quot;DONE&quot;)) {\r\n    \t\t\t\tif (status.equals(&quot;EXIT&quot;)) {\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tstatus = invokeAPI(jobId); // RPC Call\r\n    \t\t\t\tThread.sleep(60000);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"Wait for loop next iteration untill a condition is met in while loop","body":"<p>You can try using while, but make sure you update the value of jobId :</p>\n<pre><code>int i = 0;\nwhile(i&lt;programs.size()){\n        String status = &quot;&quot;;\n        String jobId = invokeAPI(userId, data); // RPC call\n        if (status.equals(&quot;DONE&quot;)) {\n            i++;\n        } else {\n            // i'm not sure how would you like to update the jobId othewise you will always hav same status diffrent\n            //than DONE\n            while (!status.equals(&quot;DONE&quot;)) {\n                if (status.equals(&quot;EXIT&quot;)) {\n                    break;\n                }\n                status = invokeAPI(jobId); // RPC Call\n                Thread.sleep(60000);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25768053,"reputation":13,"user_id":19517460,"display_name":"puneet Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680522479,"creation_date":1680521915,"question_id":75919041,"body_markdown":"I am trying to write a condition in for loop, \r\n\r\n      for (int i = 0; i &lt; programs.size(); i++) {\r\n    \tString status = &quot;&quot;;\r\n    \t...\r\n    \tString jobId = invokeAPI(userId, data); // RPC call\r\n    \twhile (!status.equals(&quot;DONE&quot;)) {\r\n    \t\tif (status.equals(&quot;EXIT&quot;)) {\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\tstatus = invokeAPI(jobId); // RPC Call\r\n    \t\tThread.sleep(60000);\r\n    \t}\r\n    }\r\n\r\n\r\nWhen status is `DONE` then increment the `for-loop` counter. In current implementation after `Thread.sleep` it starts execution from first line with 0th index.\r\n\r\nHow to modify this section so that the for-loop counter will increment once status is `DONE`?","title":"Wait for loop next iteration untill a condition is met in while loop","body":"<p>I am trying to write a condition in for loop,</p>\n<pre><code>  for (int i = 0; i &lt; programs.size(); i++) {\n    String status = &quot;&quot;;\n    ...\n    String jobId = invokeAPI(userId, data); // RPC call\n    while (!status.equals(&quot;DONE&quot;)) {\n        if (status.equals(&quot;EXIT&quot;)) {\n            break;\n        }\n        status = invokeAPI(jobId); // RPC Call\n        Thread.sleep(60000);\n    }\n}\n</code></pre>\n<p>When status is <code>DONE</code> then increment the <code>for-loop</code> counter. In current implementation after <code>Thread.sleep</code> it starts execution from first line with 0th index.</p>\n<p>How to modify this section so that the for-loop counter will increment once status is <code>DONE</code>?</p>\n"},{"tags":["java","javascript","reactjs"],"comments":[{"owner":{"account_id":9249213,"reputation":22744,"user_id":6870228,"display_name":"Keith"},"score":1,"creation_date":1680516161,"post_id":75918132,"comment_id":133905955,"body_markdown":"`nameArr.map`   your filter needs to return a boolean, so what your after here is `return nameArray.some(name =&gt; ..)` or `return nameArray.every(name =&gt;...)`  depending on if you want an OR or  AND..    ps. Don&#39;t forget the `return`, JS doesn&#39;t use implicit returns unless it&#39;s an arrow function without `{}`..","body":"<code>nameArr.map</code>   your filter needs to return a boolean, so what your after here is <code>return nameArray.some(name =&gt; ..)</code> or <code>return nameArray.every(name =&gt;...)</code>  depending on if you want an OR or  AND..    ps. Don&#39;t forget the <code>return</code>, JS doesn&#39;t use implicit returns unless it&#39;s an arrow function without <code>{}</code>.."},{"owner":{"account_id":8101819,"reputation":187,"user_id":6104654,"accept_rate":4,"display_name":"learningcoding"},"score":1,"creation_date":1680518900,"post_id":75918132,"comment_id":133906540,"body_markdown":"thank you, I replaced it like you said with some and returned it and now its working as I want it.","body":"thank you, I replaced it like you said with some and returned it and now its working as I want it."}],"answers":[{"comments":[{"owner":{"account_id":8101819,"reputation":187,"user_id":6104654,"accept_rate":4,"display_name":"learningcoding"},"score":0,"creation_date":1680518598,"post_id":75918357,"comment_id":133906474,"body_markdown":"thank you. with your code I would search all words including the input at any position, however, I want to only return matches where inputs start with typed letter. so in my example, I would like to show &#39;&#39;funny stories&quot; when user either types &quot;f&quot; or &quot;s&quot;, however, I do not want to show said book when user types a letter like &quot;u&quot; (as its not in the beginning)","body":"thank you. with your code I would search all words including the input at any position, however, I want to only return matches where inputs start with typed letter. so in my example, I would like to show &#39;&#39;funny stories&quot; when user either types &quot;f&quot; or &quot;s&quot;, however, I do not want to show said book when user types a letter like &quot;u&quot; (as its not in the beginning)"},{"owner":{"account_id":28201695,"reputation":11,"user_id":21555379,"display_name":"Mainak Banerjee"},"score":0,"creation_date":1680521952,"post_id":75918357,"comment_id":133907182,"body_markdown":"In that case, you can use regExp of javascript. I have edited my answer with RegExp. I hope this will solve your problem.","body":"In that case, you can use regExp of javascript. I have edited my answer with RegExp. I hope this will solve your problem."}],"tags":[],"owner":{"account_id":28201695,"reputation":11,"user_id":21555379,"display_name":"Mainak Banerjee"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680521901,"creation_date":1680516992,"answer_id":75918357,"question_id":75918132,"body_markdown":"You can use the `includes` string method to filter the search.\r\nHere is the approach\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const filteredSuggestions = suggestions\r\n        .filter(({name}) =&gt; {\r\n                return name?.toLowerCase().includes(searchInput.toLowerCase())\r\n    });\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\nThis will match all words including the input at any position. \r\n\r\nBut if you want to match only those words whose first letter is matching with the input value then you can use RegExp.\r\n\r\nFor example\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const regex = new RegExp(`\\\\b${userInput}`, &quot;i&quot;);\r\n    const filteredSuggestions = suggestions\r\n        .filter(({name}) =&gt; {\r\n                return regex.test(result)\r\n    });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIn this case, if your search input is &#39;s&#39; it will return both &quot;Funny stories&quot;, and &quot;Serious stories&quot;. As it will match the first letter of any word in the search result.\r\n\r\nBut if you want to match only the first letter of the first word of search results then you can use the below RegExp\r\n\r\n    const regex = new RegExp(`^${userInput}`, &quot;i&quot;);\r\n\r\n\r\nIn this case, if your search input is &#39;s&#39; it will only return &quot;Serious stories&quot;.\r\n","title":"Javascript How do I filter search results based on multiple input words?","body":"<p>You can use the <code>includes</code> string method to filter the search.\nHere is the approach</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const filteredSuggestions = suggestions\n    .filter(({name}) =&gt; {\n            return name?.toLowerCase().includes(searchInput.toLowerCase())\n});</code></pre>\r\n</div>\r\n</div>\r\n\nThis will match all words including the input at any position.</p>\n<p>But if you want to match only those words whose first letter is matching with the input value then you can use RegExp.</p>\n<p>For example</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const regex = new RegExp(`\\\\b${userInput}`, \"i\");\nconst filteredSuggestions = suggestions\n    .filter(({name}) =&gt; {\n            return regex.test(result)\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>In this case, if your search input is 's' it will return both &quot;Funny stories&quot;, and &quot;Serious stories&quot;. As it will match the first letter of any word in the search result.</p>\n<p>But if you want to match only the first letter of the first word of search results then you can use the below RegExp</p>\n<pre><code>const regex = new RegExp(`^${userInput}`, &quot;i&quot;);\n</code></pre>\n<p>In this case, if your search input is 's' it will only return &quot;Serious stories&quot;.</p>\n"},{"tags":[],"owner":{"account_id":13464892,"reputation":66,"user_id":9715555,"display_name":"Juan Castillo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680520643,"creation_date":1680520643,"answer_id":75918890,"question_id":75918132,"body_markdown":"How about using **[startsWith function][1]**:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const books = [\r\n      &#39;funny stories&#39;,\r\n      &#39;tales&#39;,\r\n      &#39;science&#39;,\r\n      &#39;medicine&#39;\r\n    ],\r\n    display = document.getElementById(&#39;display&#39;),\r\n    input = document.getElementById(&#39;input&#39;),\r\n    results = document.getElementById(&#39;results&#39;);\r\n      \r\n    display.innerHTML = JSON.stringify(books);\r\n\r\n    function onSearch(event)\r\n    {\r\n      const value = event.target.value.trim();\r\n\r\n      if( value )\r\n      {\r\n        const filtered = books.filter(book =&gt; book.startsWith(value));\r\n        results.innerHTML = filtered.length ? JSON.stringify(filtered) : &#39;&#39;;\r\n      }\r\n      else\r\n      {\r\n        results.innerHTML = &quot;&quot;;\r\n      }\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    &lt;div id=&quot;display&quot;&gt;\r\n\r\n    &lt;/div&gt;\r\n\r\n    &lt;br&gt;\r\n\r\n    &lt;input id=&quot;input&quot; onkeyup=&quot;onSearch(event)&quot; type=&quot;text&quot;&gt;\r\n\r\n    &lt;br&gt; &lt;br&gt;\r\n\r\n    &lt;div id=&quot;results&quot;&gt;\r\n\r\n    &lt;/div&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith","title":"Javascript How do I filter search results based on multiple input words?","body":"<p>How about using <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\" rel=\"nofollow noreferrer\">startsWith function</a></strong>:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const books = [\n  'funny stories',\n  'tales',\n  'science',\n  'medicine'\n],\ndisplay = document.getElementById('display'),\ninput = document.getElementById('input'),\nresults = document.getElementById('results');\n  \ndisplay.innerHTML = JSON.stringify(books);\n\nfunction onSearch(event)\n{\n  const value = event.target.value.trim();\n\n  if( value )\n  {\n    const filtered = books.filter(book =&gt; book.startsWith(value));\n    results.innerHTML = filtered.length ? JSON.stringify(filtered) : '';\n  }\n  else\n  {\n    results.innerHTML = \"\";\n  }\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"display\"&gt;\n\n&lt;/div&gt;\n\n&lt;br&gt;\n\n&lt;input id=\"input\" onkeyup=\"onSearch(event)\" type=\"text\"&gt;\n\n&lt;br&gt; &lt;br&gt;\n\n&lt;div id=\"results\"&gt;\n\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":8101819,"reputation":187,"user_id":6104654,"accept_rate":4,"display_name":"learningcoding"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680521901,"creation_date":1680515581,"question_id":75918132,"body_markdown":"I want to filter search results based on the input. so far I only filter starting with the first word typed and Im not sure how to filter based on (possible) multiple words/inputs.\r\nIf I search for example: &quot;funny stories&quot; and one of the book name is stories, I want to return that as a match, just like when input is &quot;funny&quot;. With my current code I would only return said book if I start typing funny.\r\n\r\n```\r\nconst filteredSuggestions = suggestions\r\n    .filter(({name}) =&gt; {\r\n            const match = name.substr(0, searchInput.length);\r\n            return match &amp;&amp; match.toLowerCase() === searchInput.toLowerCase();\r\n});\r\n```\r\n\r\nI tried (its not working):\r\n```\r\nconst filteredSuggestions = suggestions\r\n    .filter(({name}) =&gt; {\r\n         const nameArr = name.split(&quot; &quot;);\r\n        nameArr.map(name =&gt; {\r\n            const match = name.substr(0, searchInput.length);\r\n            return match &amp;&amp; match.toLowerCase() === searchInput.toLowerCase();\r\n        })\r\n});\r\n```\r\n","title":"Javascript How do I filter search results based on multiple input words?","body":"<p>I want to filter search results based on the input. so far I only filter starting with the first word typed and Im not sure how to filter based on (possible) multiple words/inputs.\nIf I search for example: &quot;funny stories&quot; and one of the book name is stories, I want to return that as a match, just like when input is &quot;funny&quot;. With my current code I would only return said book if I start typing funny.</p>\n<pre><code>const filteredSuggestions = suggestions\n    .filter(({name}) =&gt; {\n            const match = name.substr(0, searchInput.length);\n            return match &amp;&amp; match.toLowerCase() === searchInput.toLowerCase();\n});\n</code></pre>\n<p>I tried (its not working):</p>\n<pre><code>const filteredSuggestions = suggestions\n    .filter(({name}) =&gt; {\n         const nameArr = name.split(&quot; &quot;);\n        nameArr.map(name =&gt; {\n            const match = name.substr(0, searchInput.length);\n            return match &amp;&amp; match.toLowerCase() === searchInput.toLowerCase();\n        })\n});\n</code></pre>\n"},{"tags":["java","arrays","list","arraylist","append"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":1,"creation_date":1680519433,"post_id":75918655,"comment_id":133906639,"body_markdown":"Show us what you tried.","body":"Show us what you tried."}],"answers":[{"tags":[],"owner":{"account_id":70770,"reputation":56,"user_id":1415881,"display_name":"silviup"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680520794,"creation_date":1680520794,"answer_id":75918905,"question_id":75918655,"body_markdown":"This is called zipping collections, see this post: &lt;https://www.baeldung.com/java-collections-zip&gt;\r\n\r\n```\r\nIntStream\r\n  .range(0, Math.min(list1.size(), list2.size()))\r\n  .mapToObj(i -&gt; list1.get(i) + &quot;:&quot; + list2.get(i))\r\n  // ...\r\n```","title":"Adding elements of an array parallelly to elements of another array in Java","body":"<p>This is called zipping collections, see this post: <a href=\"https://www.baeldung.com/java-collections-zip\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-collections-zip</a></p>\n<pre><code>IntStream\n  .range(0, Math.min(list1.size(), list2.size()))\n  .mapToObj(i -&gt; list1.get(i) + &quot;:&quot; + list2.get(i))\n  // ...\n</code></pre>\n"}],"owner":{"account_id":21917974,"reputation":1,"user_id":16201602,"display_name":"user16201602"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680521289,"creation_date":1680519097,"question_id":75918655,"body_markdown":"I have two lists:\r\n\r\n    List&lt;String&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));  \r\n    \r\n    List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3));\r\n\r\n  \r\n\r\nI want to add them in such a way that the result is 1a2b3c and suppose if a is null, then the result should be 2b3c.\r\n\r\nI am new to programming so not sure how to do this change.\r\n\r\nI tried doing it using separate checks for all the values and it is working that way. But want to know if there is any simpler way to do this.","title":"Adding elements of an array parallelly to elements of another array in Java","body":"<p>I have two lists:</p>\n<pre><code>List&lt;String&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));  \n\nList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3));\n</code></pre>\n<p>I want to add them in such a way that the result is 1a2b3c and suppose if a is null, then the result should be 2b3c.</p>\n<p>I am new to programming so not sure how to do this change.</p>\n<p>I tried doing it using separate checks for all the values and it is working that way. But want to know if there is any simpler way to do this.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1680270831,"post_id":75899194,"comment_id":133874622,"body_markdown":"`CascadeType.ALL` includes `CascadeType.PERSIST`, so it should work. Are `MachineData` and `MachineMetaData` annotated with `@Entity`? Please post the actual code of those classes. It makes things much easier.","body":"<code>CascadeType.ALL</code> includes <code>CascadeType.PERSIST</code>, so it should work. Are <code>MachineData</code> and <code>MachineMetaData</code> annotated with <code>@Entity</code>? Please post the actual code of those classes. It makes things much easier."},{"owner":{"account_id":17703336,"reputation":109,"user_id":12852531,"display_name":"benjaminv2"},"score":0,"creation_date":1680270990,"post_id":75899194,"comment_id":133874668,"body_markdown":"Yes, they are annotated with @Entity.","body":"Yes, they are annotated with @Entity."},{"owner":{"account_id":17703336,"reputation":109,"user_id":12852531,"display_name":"benjaminv2"},"score":0,"creation_date":1680271824,"post_id":75899194,"comment_id":133874896,"body_markdown":"@QBrute added the classes.","body":"@QBrute added the classes."},{"owner":{"account_id":17703336,"reputation":109,"user_id":12852531,"display_name":"benjaminv2"},"score":1,"creation_date":1680520822,"post_id":75899194,"comment_id":133906946,"body_markdown":"I managed to solve the issue. Went ahead and followed Vlad Mihalceas guide on OneToOne Mappings in combination with the github link. The persist worked fine after removing the unnecessary ID mappings in my ProductLinkMetaData and FirmwareMetaData classes. The guide can be found here: \n\nhttps://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/","body":"I managed to solve the issue. Went ahead and followed Vlad Mihalceas guide on OneToOne Mappings in combination with the github link. The persist worked fine after removing the unnecessary ID mappings in my ProductLinkMetaData and FirmwareMetaData classes. The guide can be found here:   <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17703336,"reputation":109,"user_id":12852531,"display_name":"benjaminv2"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680521013,"creation_date":1680521013,"answer_id":75918934,"question_id":75899194,"body_markdown":"Solved by following Vlad Mihalceas [OneToOne mapping instructions][1] in combination with the code from his [github link][2]. Removing the unnecessary ID mappings from the entities and using a shared PK did the trick.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\r\n  [2]: https://github.com/vladmihalcea/high-performance-java-persistence/tree/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/association","title":"Is it possible to merge multiple non persisted child entities at once?","body":"<p>Solved by following Vlad Mihalceas <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">OneToOne mapping instructions</a> in combination with the code from his <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/tree/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/association\" rel=\"nofollow noreferrer\">github link</a>. Removing the unnecessary ID mappings from the entities and using a shared PK did the trick.</p>\n"}],"owner":{"account_id":17703336,"reputation":109,"user_id":12852531,"display_name":"benjaminv2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75918934,"answer_count":1,"score":1,"last_activity_date":1680521013,"creation_date":1680269901,"question_id":75899194,"body_markdown":"I am trying to save multiple new entities to the database via a parent entity cascadeType. The structure is as follows:\r\n\r\nMachine (cascadeType ALL defined here)\r\n - ProductLinkBox\r\n\r\nProductLinkBox (cascadeType ALL defined here)\r\n- ProductLinkMetaData\r\n\r\nProductLinkMetaData (cascadeType ALL defined here)\r\n- FirmwareMetaData\r\n\r\nIn the end I call MachineRepository.save on the machine object. The Machine and ProductLinkBox object is successfully persisted, but nothing else. Do I need to manually persist all of the other types as well? Is hibernate not able to automatically persist all of the other parent - child relations?\r\n\r\nMachine.java\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;TAB_MACHINE&quot;)\r\n    public class Machine extends AbstractEntity {\r\n    \r\n      @Id\r\n      @Column(name = &quot;ID&quot;)\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;machineIdGenerator&quot;)\r\n      @SequenceGenerator(\r\n          name = &quot;machineIdGenerator&quot;,\r\n          sequenceName = &quot;SEQ_MACHINE_ID&quot;,\r\n          allocationSize = 1,\r\n          initialValue = 10)\r\n      Long id;\r\n    \r\n    \r\n      @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;machine&quot;, fetch = FetchType.LAZY, orphanRemoval = true)\r\n      private List&lt;ProductLinkBox&gt; productLinkBoxes;\r\n\r\n\r\nProductLinkBoxes.java\r\n\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;TAB_PRODUCT_LINK_BOX&quot;)\r\n    public class ProductLinkBox extends AbstractEntity {\r\n    \r\n      @Id\r\n      @Column(name = &quot;ID&quot;)\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;productLinkBoxIdGenerator&quot;)\r\n      @SequenceGenerator(\r\n          name = &quot;productLinkBoxIdGenerator&quot;,\r\n          sequenceName = &quot;SEQ_PRODUCT_LINK_BOX_ID&quot;,\r\n          allocationSize = 1,\r\n          initialValue = 10)\r\n      Long id;\r\n    \r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;MACHINE_ID&quot;)\r\n      private Machine machine;\r\n    \r\n      @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;productLinkBox&quot;)\r\n      private ProductLinkMetaData productLinkMetaData;\r\n\r\n\r\nProductLinkMetaData.java\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;TAB_PRODUCT_LINK_META_DATA&quot;)\r\n    public class ProductLinkMetaData extends AbstractEntity {\r\n    \r\n      @Id\r\n      @Column(name = &quot;ID&quot;)\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;productLinkMetaDataIdGenerator&quot;)\r\n      @SequenceGenerator(\r\n          name = &quot;productLinkMetaDataIdGenerator&quot;,\r\n          sequenceName = &quot;SEQ_PRODUCT_LINK_META_DATA_ID&quot;,\r\n          allocationSize = 1,\r\n          initialValue = 10)\r\n      Long id;\r\n    \r\n      @OneToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;PRODUCT_LINK_BOX_ID&quot;)\r\n      @MapsId\r\n      private ProductLinkBox productLinkBox;\r\n    \r\n      @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;productLinkMetaData&quot;)\r\n      private FirmwareMetaData firmwareMetaData;\r\n\r\nFirmwareMetaData.java\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;TAB_FIRMWARE_META_DATA&quot;)\r\n    public class FirmwareMetaData extends AbstractEntity {\r\n    \r\n      @Id\r\n      @Column(name = &quot;ID&quot;)\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;firmwareMetaDataIdGenerator&quot;)\r\n      @SequenceGenerator(\r\n          name = &quot;firmwareMetaDataIdGenerator&quot;,\r\n          sequenceName = &quot;SEQ_FIRMWARE_META_DATA_ID&quot;,\r\n          allocationSize = 1,\r\n          initialValue = 10)\r\n      Long id;\r\n    \r\n      @OneToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;PRODUCT_LINK_META_DATA_ID&quot;)\r\n      @MapsId\r\n      private ProductLinkMetaData productLinkMetaData;\r\n\r\n\r\nEDIT: Solved by following Vlad Mihalceas [OneToOne mapping instructions][1] in combination with the code from his [github link][2].\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\r\n  [2]: https://github.com/vladmihalcea/high-performance-java-persistence/tree/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/association","title":"Is it possible to merge multiple non persisted child entities at once?","body":"<p>I am trying to save multiple new entities to the database via a parent entity cascadeType. The structure is as follows:</p>\n<p>Machine (cascadeType ALL defined here)</p>\n<ul>\n<li>ProductLinkBox</li>\n</ul>\n<p>ProductLinkBox (cascadeType ALL defined here)</p>\n<ul>\n<li>ProductLinkMetaData</li>\n</ul>\n<p>ProductLinkMetaData (cascadeType ALL defined here)</p>\n<ul>\n<li>FirmwareMetaData</li>\n</ul>\n<p>In the end I call MachineRepository.save on the machine object. The Machine and ProductLinkBox object is successfully persisted, but nothing else. Do I need to manually persist all of the other types as well? Is hibernate not able to automatically persist all of the other parent - child relations?</p>\n<p>Machine.java</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;TAB_MACHINE&quot;)\npublic class Machine extends AbstractEntity {\n\n  @Id\n  @Column(name = &quot;ID&quot;)\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;machineIdGenerator&quot;)\n  @SequenceGenerator(\n      name = &quot;machineIdGenerator&quot;,\n      sequenceName = &quot;SEQ_MACHINE_ID&quot;,\n      allocationSize = 1,\n      initialValue = 10)\n  Long id;\n\n\n  @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;machine&quot;, fetch = FetchType.LAZY, orphanRemoval = true)\n  private List&lt;ProductLinkBox&gt; productLinkBoxes;\n</code></pre>\n<p>ProductLinkBoxes.java</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;TAB_PRODUCT_LINK_BOX&quot;)\npublic class ProductLinkBox extends AbstractEntity {\n\n  @Id\n  @Column(name = &quot;ID&quot;)\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;productLinkBoxIdGenerator&quot;)\n  @SequenceGenerator(\n      name = &quot;productLinkBoxIdGenerator&quot;,\n      sequenceName = &quot;SEQ_PRODUCT_LINK_BOX_ID&quot;,\n      allocationSize = 1,\n      initialValue = 10)\n  Long id;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;MACHINE_ID&quot;)\n  private Machine machine;\n\n  @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;productLinkBox&quot;)\n  private ProductLinkMetaData productLinkMetaData;\n</code></pre>\n<p>ProductLinkMetaData.java</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;TAB_PRODUCT_LINK_META_DATA&quot;)\npublic class ProductLinkMetaData extends AbstractEntity {\n\n  @Id\n  @Column(name = &quot;ID&quot;)\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;productLinkMetaDataIdGenerator&quot;)\n  @SequenceGenerator(\n      name = &quot;productLinkMetaDataIdGenerator&quot;,\n      sequenceName = &quot;SEQ_PRODUCT_LINK_META_DATA_ID&quot;,\n      allocationSize = 1,\n      initialValue = 10)\n  Long id;\n\n  @OneToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;PRODUCT_LINK_BOX_ID&quot;)\n  @MapsId\n  private ProductLinkBox productLinkBox;\n\n  @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;productLinkMetaData&quot;)\n  private FirmwareMetaData firmwareMetaData;\n</code></pre>\n<p>FirmwareMetaData.java</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;TAB_FIRMWARE_META_DATA&quot;)\npublic class FirmwareMetaData extends AbstractEntity {\n\n  @Id\n  @Column(name = &quot;ID&quot;)\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;firmwareMetaDataIdGenerator&quot;)\n  @SequenceGenerator(\n      name = &quot;firmwareMetaDataIdGenerator&quot;,\n      sequenceName = &quot;SEQ_FIRMWARE_META_DATA_ID&quot;,\n      allocationSize = 1,\n      initialValue = 10)\n  Long id;\n\n  @OneToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;PRODUCT_LINK_META_DATA_ID&quot;)\n  @MapsId\n  private ProductLinkMetaData productLinkMetaData;\n</code></pre>\n<p>EDIT: Solved by following Vlad Mihalceas <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">OneToOne mapping instructions</a> in combination with the code from his <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/tree/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/association\" rel=\"nofollow noreferrer\">github link</a>.</p>\n"},{"tags":["java","flutter","crashlytics"],"answers":[{"tags":[],"owner":{"account_id":23052429,"reputation":16032,"user_id":17169037,"display_name":"Kaushik Chandru"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661737673,"creation_date":1661737673,"answer_id":73523451,"question_id":73523197,"body_markdown":"A few points you could check\r\n\r\n1. Google services.json. Have you added the sha256 of release keys. Please go to play store select app integrity. Copy the sha256 of sign in (NOT upload) certificates and add this to firebase. Download a new copy of Google services.json and add this to the project and build\r\n\r\n2. Please check the implementation of google signin too","title":"(Flutter) Caused by java.lang.NoSuchMethodException (Crashlytics)","body":"<p>A few points you could check</p>\n<ol>\n<li><p>Google services.json. Have you added the sha256 of release keys. Please go to play store select app integrity. Copy the sha256 of sign in (NOT upload) certificates and add this to firebase. Download a new copy of Google services.json and add this to the project and build</p>\n</li>\n<li><p>Please check the implementation of google signin too</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22300496,"reputation":339,"user_id":16525780,"display_name":"user16525780"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661817882,"creation_date":1661817882,"answer_id":73535817,"question_id":73523197,"body_markdown":"Removing the firebase_analytics solved the problem.","title":"(Flutter) Caused by java.lang.NoSuchMethodException (Crashlytics)","body":"<p>Removing the firebase_analytics solved the problem.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673758340,"post_id":75116448,"comment_id":132567814,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75116448/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8862250,"reputation":1,"user_id":6618222,"display_name":"L&#234; Minh Ho&#224;ng"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673681394,"creation_date":1673681394,"answer_id":75116448,"question_id":73523197,"body_markdown":"In android/build.gradle add this line\r\n\r\n    subprojects {\r\n        project.evaluationDependsOn(&#39;:app&#39;)\r\n    }","title":"(Flutter) Caused by java.lang.NoSuchMethodException (Crashlytics)","body":"<p>In android/build.gradle add this line</p>\n<pre><code>subprojects {\n    project.evaluationDependsOn(':app')\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14651182,"reputation":31,"user_id":10581155,"display_name":"J. Belterman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680520868,"creation_date":1680520825,"answer_id":75918912,"question_id":73523197,"body_markdown":"I managed to get my flutter project working again while still depending on firebase_analytics by customizing the proguard configuration.\r\n\r\nTo do this, add a &#39;proguard-rules.pro&#39; file to the &#39;android/app&#39; directory and add the following rule \r\n\r\n&gt; -keep class com.google.android.gms.measurement.internal.** { *; }\r\n\r\nThen configure gradle to use your custom proguard file by adding the following line to the &#39;android/app/build.gradle&#39; under &#39;android.buildTypes.release&#39;\r\n\r\n&gt; proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n\r\nFor more context:\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            shrinkResources true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }","title":"(Flutter) Caused by java.lang.NoSuchMethodException (Crashlytics)","body":"<p>I managed to get my flutter project working again while still depending on firebase_analytics by customizing the proguard configuration.</p>\n<p>To do this, add a 'proguard-rules.pro' file to the 'android/app' directory and add the following rule</p>\n<blockquote>\n<p>-keep class com.google.android.gms.measurement.internal.** { *; }</p>\n</blockquote>\n<p>Then configure gradle to use your custom proguard file by adding the following line to the 'android/app/build.gradle' under 'android.buildTypes.release'</p>\n<blockquote>\n<p>proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'</p>\n</blockquote>\n<p>For more context:</p>\n<pre><code>buildTypes {\n    release {\n        minifyEnabled true\n        shrinkResources true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22300496,"reputation":339,"user_id":16525780,"display_name":"user16525780"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73535817,"answer_count":4,"score":1,"last_activity_date":1680520868,"creation_date":1661733184,"question_id":73523197,"body_markdown":"My app crashed immediately after launch, and Crashlytics showed this stack:\r\n\r\n    Fatal Exception: java.lang.ExceptionInInitializerError\r\n    \r\n    keyboard_arrow_up\r\n    com.google.android.gms.measurement.internal.zzij.&lt;init&gt; (zzij.java:34)\r\n    com.google.android.gms.measurement.internal.zzge.&lt;init&gt; (zzge.java:3)\r\n    com.google.android.gms.measurement.internal.zzge.zzp (zzge.java:4)\r\n    com.google.android.gms.measurement.internal.AppMeasurementDynamiteService.initialize (AppMeasurementDynamiteService.java:2)\r\n    com.google.android.gms.internal.measurement.zzcx.zza (zzcx.java:4)\r\n    com.google.android.gms.internal.measurement.zzdt.run (zzdt.java:12)\r\n    java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\n    java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n    java.lang.Thread.run (Thread.java:923)\r\n    \r\n    Caused by java.lang.RuntimeException\r\n    java.lang.NoSuchMethodException: com.google.android.gms.measurement.internal.i.values []\r\n    \r\n    keyboard_arrow_up\r\n    java.lang.Enum.enumValues (Enum.java:270)\r\n    java.lang.Enum.access$000 (Enum.java:61)\r\n    java.lang.Enum$1.create (Enum.java:277)\r\n    java.lang.Enum$1.create (Enum.java:275)\r\n    libcore.util.BasicLruCache.get (BasicLruCache.java:63)\r\n    java.lang.Enum.getSharedConstants (Enum.java:289)\r\n    java.lang.Class.getEnumConstantsShared (Class.java:2428)\r\n    java.util.EnumMap.getKeyUniverse (EnumMap.java:755)\r\n    java.util.EnumMap.&lt;init&gt; (EnumMap.java:138)\r\n    com.google.android.gms.measurement.internal.zzai.&lt;init&gt; (zzai.java:7)\r\n    com.google.android.gms.measurement.internal.zzai.&lt;clinit&gt; (zzai.java:3)\r\n    com.google.android.gms.measurement.internal.zzij.&lt;init&gt; (zzij.java:34)\r\n    com.google.android.gms.measurement.internal.zzge.&lt;init&gt; (zzge.java:3)\r\n    com.google.android.gms.measurement.internal.zzge.zzp (zzge.java:4)\r\n    com.google.android.gms.measurement.internal.AppMeasurementDynamiteService.initialize (AppMeasurementDynamiteService.java:2)\r\n    com.google.android.gms.internal.measurement.zzcx.zza (zzcx.java:4)\r\n    com.google.android.gms.internal.measurement.zzdt.run (zzdt.java:12)\r\n    java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\n    java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n    java.lang.Thread.run (Thread.java:923)\r\n    \r\n    Caused by java.lang.NoSuchMethodException\r\n    com.google.android.gms.measurement.internal.i.values []\r\n    \r\n    keyboard_arrow_up\r\n    arrow_right\r\n    java.lang.Class.getMethod (Class.java:2072)\r\n    java.lang.Class.getDeclaredMethod (Class.java:2050)\r\n    java.lang.Enum.enumValues (Enum.java:267)\r\n    java.lang.Enum.access$000 (Enum.java:61)\r\n    java.lang.Enum$1.create (Enum.java:277)\r\n    java.lang.Enum$1.create (Enum.java:275)\r\n    libcore.util.BasicLruCache.get (BasicLruCache.java:63)\r\n    java.lang.Enum.getSharedConstants (Enum.java:289)\r\n    java.lang.Class.getEnumConstantsShared (Class.java:2428)\r\n    java.util.EnumMap.getKeyUniverse (EnumMap.java:755)\r\n    java.util.EnumMap.&lt;init&gt; (EnumMap.java:138)\r\n    com.google.android.gms.measurement.internal.zzai.&lt;init&gt; (zzai.java:7)\r\n    com.google.android.gms.measurement.internal.zzai.&lt;clinit&gt; (zzai.java:3)\r\n    com.google.android.gms.measurement.internal.zzij.&lt;init&gt; (zzij.java:34)\r\n    com.google.android.gms.measurement.internal.zzge.&lt;init&gt; (zzge.java:3)\r\n    com.google.android.gms.measurement.internal.zzge.zzp (zzge.java:4)\r\n    com.google.android.gms.measurement.internal.AppMeasurementDynamiteService.initialize (AppMeasurementDynamiteService.java:2)\r\n    com.google.android.gms.internal.measurement.zzcx.zza (zzcx.java:4)\r\n    com.google.android.gms.internal.measurement.zzdt.run (zzdt.java:12)\r\n    java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\n    java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n    java.lang.Thread.run (Thread.java:923)\r\n\r\n\r\nIt does not occur with `flutter run`, but when I install from Google Play, this happens with no exception.\r\n\r\nMy pubspec.yaml:\r\n\r\n    environment:\r\n      sdk: &quot;&gt;=2.17.0 &lt;3.0.0&quot;\r\n    \r\n    dependencies:\r\n      flutter:\r\n        sdk: flutter\r\n    \r\n      flutter_staggered_grid_view: ^0.6.2\r\n      firebase_core: ^1.21.1\r\n      firebase_analytics: ^9.3.3\r\n      firebase_auth: ^3.7.0\r\n      cloud_firestore: ^3.4.6\r\n      firebase_storage: ^10.3.7\r\n      google_sign_in: ^5.1.0\r\n      sign_in_with_apple: ^4.1.0\r\n      crypto: ^3.0.1\r\n      url_launcher: ^6.0.12\r\n      image_picker: ^0.8.4\r\n      cached_network_image: ^3.2.0\r\n      pull_to_refresh: ^2.0.0\r\n      intl: ^0.17.0\r\n      flutter_image_compress: ^1.1.0\r\n      flutter_launcher_icons: ^0.10.0\r\n      transparent_image: ^2.0.0\r\n      cupertino_icons: ^1.0.2\r\n      zoom_widget: ^0.2.1\r\n      advance_pdf_viewer: ^2.0.0\r\n      permission_handler: ^10.0.0\r\n      flutter_colorpicker: ^1.0.3\r\n      dotted_border: ^2.0.0+2\r\n      screenshot: ^1.2.3\r\n      image: ^3.2.0\r\n      pdf: ^3.8.1\r\n      printing: ^5.9.1\r\n      share_plus: ^4.0.10\r\n      path_provider: ^2.0.11\r\n      file_picker: ^5.0.1\r\n      pdf_render: ^1.1.0\r\n      webview_flutter: ^3.0.4\r\n      google_mobile_ads: ^2.0.1\r\n      firebase_crashlytics: ^2.8.9\r\n    \r\n    dev_dependencies:\r\n      flutter_test:\r\n        sdk: flutter\r\n    \r\n      flutter_lints: ^2.0.1\r\n\r\nUpdated all dependencies to latest major version.\r\n\r\nWhat could be causing the error??\r\nThis has been my headache for weeks..","title":"(Flutter) Caused by java.lang.NoSuchMethodException (Crashlytics)","body":"<p>My app crashed immediately after launch, and Crashlytics showed this stack:</p>\n<pre><code>Fatal Exception: java.lang.ExceptionInInitializerError\n\nkeyboard_arrow_up\ncom.google.android.gms.measurement.internal.zzij.&lt;init&gt; (zzij.java:34)\ncom.google.android.gms.measurement.internal.zzge.&lt;init&gt; (zzge.java:3)\ncom.google.android.gms.measurement.internal.zzge.zzp (zzge.java:4)\ncom.google.android.gms.measurement.internal.AppMeasurementDynamiteService.initialize (AppMeasurementDynamiteService.java:2)\ncom.google.android.gms.internal.measurement.zzcx.zza (zzcx.java:4)\ncom.google.android.gms.internal.measurement.zzdt.run (zzdt.java:12)\njava.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\njava.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\njava.lang.Thread.run (Thread.java:923)\n\nCaused by java.lang.RuntimeException\njava.lang.NoSuchMethodException: com.google.android.gms.measurement.internal.i.values []\n\nkeyboard_arrow_up\njava.lang.Enum.enumValues (Enum.java:270)\njava.lang.Enum.access$000 (Enum.java:61)\njava.lang.Enum$1.create (Enum.java:277)\njava.lang.Enum$1.create (Enum.java:275)\nlibcore.util.BasicLruCache.get (BasicLruCache.java:63)\njava.lang.Enum.getSharedConstants (Enum.java:289)\njava.lang.Class.getEnumConstantsShared (Class.java:2428)\njava.util.EnumMap.getKeyUniverse (EnumMap.java:755)\njava.util.EnumMap.&lt;init&gt; (EnumMap.java:138)\ncom.google.android.gms.measurement.internal.zzai.&lt;init&gt; (zzai.java:7)\ncom.google.android.gms.measurement.internal.zzai.&lt;clinit&gt; (zzai.java:3)\ncom.google.android.gms.measurement.internal.zzij.&lt;init&gt; (zzij.java:34)\ncom.google.android.gms.measurement.internal.zzge.&lt;init&gt; (zzge.java:3)\ncom.google.android.gms.measurement.internal.zzge.zzp (zzge.java:4)\ncom.google.android.gms.measurement.internal.AppMeasurementDynamiteService.initialize (AppMeasurementDynamiteService.java:2)\ncom.google.android.gms.internal.measurement.zzcx.zza (zzcx.java:4)\ncom.google.android.gms.internal.measurement.zzdt.run (zzdt.java:12)\njava.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\njava.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\njava.lang.Thread.run (Thread.java:923)\n\nCaused by java.lang.NoSuchMethodException\ncom.google.android.gms.measurement.internal.i.values []\n\nkeyboard_arrow_up\narrow_right\njava.lang.Class.getMethod (Class.java:2072)\njava.lang.Class.getDeclaredMethod (Class.java:2050)\njava.lang.Enum.enumValues (Enum.java:267)\njava.lang.Enum.access$000 (Enum.java:61)\njava.lang.Enum$1.create (Enum.java:277)\njava.lang.Enum$1.create (Enum.java:275)\nlibcore.util.BasicLruCache.get (BasicLruCache.java:63)\njava.lang.Enum.getSharedConstants (Enum.java:289)\njava.lang.Class.getEnumConstantsShared (Class.java:2428)\njava.util.EnumMap.getKeyUniverse (EnumMap.java:755)\njava.util.EnumMap.&lt;init&gt; (EnumMap.java:138)\ncom.google.android.gms.measurement.internal.zzai.&lt;init&gt; (zzai.java:7)\ncom.google.android.gms.measurement.internal.zzai.&lt;clinit&gt; (zzai.java:3)\ncom.google.android.gms.measurement.internal.zzij.&lt;init&gt; (zzij.java:34)\ncom.google.android.gms.measurement.internal.zzge.&lt;init&gt; (zzge.java:3)\ncom.google.android.gms.measurement.internal.zzge.zzp (zzge.java:4)\ncom.google.android.gms.measurement.internal.AppMeasurementDynamiteService.initialize (AppMeasurementDynamiteService.java:2)\ncom.google.android.gms.internal.measurement.zzcx.zza (zzcx.java:4)\ncom.google.android.gms.internal.measurement.zzdt.run (zzdt.java:12)\njava.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\njava.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\njava.lang.Thread.run (Thread.java:923)\n</code></pre>\n<p>It does not occur with <code>flutter run</code>, but when I install from Google Play, this happens with no exception.</p>\n<p>My pubspec.yaml:</p>\n<pre><code>environment:\n  sdk: &quot;&gt;=2.17.0 &lt;3.0.0&quot;\n\ndependencies:\n  flutter:\n    sdk: flutter\n\n  flutter_staggered_grid_view: ^0.6.2\n  firebase_core: ^1.21.1\n  firebase_analytics: ^9.3.3\n  firebase_auth: ^3.7.0\n  cloud_firestore: ^3.4.6\n  firebase_storage: ^10.3.7\n  google_sign_in: ^5.1.0\n  sign_in_with_apple: ^4.1.0\n  crypto: ^3.0.1\n  url_launcher: ^6.0.12\n  image_picker: ^0.8.4\n  cached_network_image: ^3.2.0\n  pull_to_refresh: ^2.0.0\n  intl: ^0.17.0\n  flutter_image_compress: ^1.1.0\n  flutter_launcher_icons: ^0.10.0\n  transparent_image: ^2.0.0\n  cupertino_icons: ^1.0.2\n  zoom_widget: ^0.2.1\n  advance_pdf_viewer: ^2.0.0\n  permission_handler: ^10.0.0\n  flutter_colorpicker: ^1.0.3\n  dotted_border: ^2.0.0+2\n  screenshot: ^1.2.3\n  image: ^3.2.0\n  pdf: ^3.8.1\n  printing: ^5.9.1\n  share_plus: ^4.0.10\n  path_provider: ^2.0.11\n  file_picker: ^5.0.1\n  pdf_render: ^1.1.0\n  webview_flutter: ^3.0.4\n  google_mobile_ads: ^2.0.1\n  firebase_crashlytics: ^2.8.9\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  flutter_lints: ^2.0.1\n</code></pre>\n<p>Updated all dependencies to latest major version.</p>\n<p>What could be causing the error??\nThis has been my headache for weeks..</p>\n"},{"tags":["java","android","runtime-error"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":1,"creation_date":1680520904,"post_id":75918778,"comment_id":133906963,"body_markdown":"That `.so` library file is probably not built for Android architectures. If you have the file and a linux terminal shell, then run `file libraryfile.so` and see what output you get.","body":"That <code>.so</code> library file is probably not built for Android architectures. If you have the file and a linux terminal shell, then run <code>file libraryfile.so</code> and see what output you get."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1680535948,"post_id":75918778,"comment_id":133911116,"body_markdown":"The path `.../files/` shows that the problematic library is not included in the standard libs folder within your APK file. Thus your `abiFilters `has no effect on this library. Try to find out where this library comes from and why it is stored in the wrong location (I assume it has been extracted or downloaded from somewhere). AFAIK loading so files from /data/data is not possible on recent Android versions anymore.","body":"The path <code>...&#47;files&#47;</code> shows that the problematic library is not included in the standard libs folder within your APK file. Thus your <code>abiFilters </code>has no effect on this library. Try to find out where this library comes from and why it is stored in the wrong location (I assume it has been extracted or downloaded from somewhere). AFAIK loading so files from /data/data is not possible on recent Android versions anymore."},{"owner":{"account_id":16682306,"reputation":1,"user_id":12057071,"display_name":"Sorder Saikat"},"score":0,"creation_date":1680543980,"post_id":75918778,"comment_id":133913084,"body_markdown":"/data/data is not possible then now what will be the possible path,any idea.that will help me","body":"/data/data is not possible then now what will be the possible path,any idea.that will help me"}],"owner":{"account_id":16682306,"reputation":1,"user_id":12057071,"display_name":"Sorder Saikat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680520852,"creation_date":1680519897,"question_id":75918778,"body_markdown":"```\r\nE/AndroidRuntime: FATAL EXCEPTION: Thread-4\r\n    Process: com.bcurre.bconvert, PID: 15051\r\n    java.lang.UnsatisfiedLinkError: dlopen failed: &quot;/data/data/com.bcurre.bconvert/files/libroyalfrencharchitect.so&quot; has bad ELF magic: 3c21444f\r\n        at java.lang.Runtime.load0(Runtime.java:929)\r\n        at java.lang.System.load(System.java:1625)\r\n        at com.bcurre.bconvert.api.LoaderApiClient.lambda$loadNativeLib$1(LoaderApiClient.java:77)\r\n        at com.bcurre.bconvert.api.-$$Lambda$LoaderApiClient$no9_-A5nZsIWK_uFv-_aOGoGt6w.run(Unknown Source:6)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n```\r\nhow to solve this problem I also try abiFilters = [&#39;x86&#39;, &#39;x86_64&#39;,&#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;] but still this error showing. \r\n```\r\nprivate static void loadNativeLib(String requestedFile, String nativeVariant, String path){\r\n\r\n        new Thread(() -&gt; {\r\n\r\n            try {\r\n                Response response = MainActivity.retrofitClient.create(LoaderApiInterface.class)\r\n                        .getFile(nativeVariant).execute();\r\n\r\n                ResponseBody responseBody = (ResponseBody) response.body();\r\n\r\n                String dirPath = path + &quot;/&quot; + requestedFile;\r\n                FileOutputStream fileOutputStream = new FileOutputStream(dirPath);\r\n                fileOutputStream.write(responseBody.bytes());\r\n                System.out.println(dirPath.toString());\r\n                System.load(dirPath);\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(e.toString());\r\n                throw new RuntimeException(&quot;Unable to start loader due to the native lib not being loaded&quot;);\r\n            }\r\n        }).start();\r\n```\r\nThis is the code. In System.load(dirPath); it shows the error. How to fix that?","title":"java.lang.UnsatisfiedLinkError: dlopen failed: &quot;/data/data/com.bcurre.bconvert/files/libroyalfrencharchitect.so&quot; has bad ELF magic: 3c21444f","body":"<pre><code>E/AndroidRuntime: FATAL EXCEPTION: Thread-4\n    Process: com.bcurre.bconvert, PID: 15051\n    java.lang.UnsatisfiedLinkError: dlopen failed: &quot;/data/data/com.bcurre.bconvert/files/libroyalfrencharchitect.so&quot; has bad ELF magic: 3c21444f\n        at java.lang.Runtime.load0(Runtime.java:929)\n        at java.lang.System.load(System.java:1625)\n        at com.bcurre.bconvert.api.LoaderApiClient.lambda$loadNativeLib$1(LoaderApiClient.java:77)\n        at com.bcurre.bconvert.api.-$$Lambda$LoaderApiClient$no9_-A5nZsIWK_uFv-_aOGoGt6w.run(Unknown Source:6)\n        at java.lang.Thread.run(Thread.java:1012)\n</code></pre>\n<p>how to solve this problem I also try abiFilters = ['x86', 'x86_64','armeabi-v7a', 'arm64-v8a'] but still this error showing.</p>\n<pre><code>private static void loadNativeLib(String requestedFile, String nativeVariant, String path){\n\n        new Thread(() -&gt; {\n\n            try {\n                Response response = MainActivity.retrofitClient.create(LoaderApiInterface.class)\n                        .getFile(nativeVariant).execute();\n\n                ResponseBody responseBody = (ResponseBody) response.body();\n\n                String dirPath = path + &quot;/&quot; + requestedFile;\n                FileOutputStream fileOutputStream = new FileOutputStream(dirPath);\n                fileOutputStream.write(responseBody.bytes());\n                System.out.println(dirPath.toString());\n                System.load(dirPath);\n\n            } catch (Exception e) {\n                System.out.println(e.toString());\n                throw new RuntimeException(&quot;Unable to start loader due to the native lib not being loaded&quot;);\n            }\n        }).start();\n</code></pre>\n<p>This is the code. In System.load(dirPath); it shows the error. How to fix that?</p>\n"},{"tags":["java","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":8835692,"reputation":1670,"user_id":6629569,"accept_rate":71,"display_name":"Abby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680520702,"creation_date":1680520702,"answer_id":75918896,"question_id":75779818,"body_markdown":"The callback will be canceled when you throw a [`ProcessCanceledException`](https://github.com/JetBrains/intellij-community/blob/b9b4071d57b09efea0bd52ad8bced121ab123661/platform/util/base/src/com/intellij/openapi/progress/ProcessCanceledException.java#L23) from the `run()` method.\r\nThe code in `onCancel()` will then be executed.\r\n\r\nFrom the definition and JavaDoc of the `onCancel()` method in the [`Task`](https://github.com/JetBrains/intellij-community/blob/b9b4071d57b09efea0bd52ad8bced121ab123661/platform/core-api/src/com/intellij/openapi/progress/Task.java#L66-L71) interface:\r\n\r\n```java\r\n/**\r\n * This callback will be invoked on AWT dispatch thread.\r\n * &lt;p&gt;\r\n * Callback executed when run() throws {@link ProcessCanceledException} or if its {@link ProgressIndicator} was canceled.\r\n */\r\npublic void onCancel() { }\r\n```","title":"How do I cancel a Task.Backgroundable using the IntelliJ Plugin SDK","body":"<p>The callback will be canceled when you throw a <a href=\"https://github.com/JetBrains/intellij-community/blob/b9b4071d57b09efea0bd52ad8bced121ab123661/platform/util/base/src/com/intellij/openapi/progress/ProcessCanceledException.java#L23\" rel=\"nofollow noreferrer\"><code>ProcessCanceledException</code></a> from the <code>run()</code> method.\nThe code in <code>onCancel()</code> will then be executed.</p>\n<p>From the definition and JavaDoc of the <code>onCancel()</code> method in the <a href=\"https://github.com/JetBrains/intellij-community/blob/b9b4071d57b09efea0bd52ad8bced121ab123661/platform/core-api/src/com/intellij/openapi/progress/Task.java#L66-L71\" rel=\"nofollow noreferrer\"><code>Task</code></a> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * This callback will be invoked on AWT dispatch thread.\n * &lt;p&gt;\n * Callback executed when run() throws {@link ProcessCanceledException} or if its {@link ProgressIndicator} was canceled.\n */\npublic void onCancel() { }\n</code></pre>\n"}],"owner":{"account_id":6747721,"reputation":1617,"user_id":5198805,"accept_rate":40,"display_name":"Ryu S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75918896,"answer_count":1,"score":1,"last_activity_date":1680520702,"creation_date":1679194182,"question_id":75779818,"body_markdown":"If I create a background task like so... I can cancel it in the UI by clicking the &quot;X&quot;... however, I would also like the ability to cancel it programmatically.\r\n\r\n\r\n    public class MyTaskLauncher {\r\n         public Map&lt;String, Task.Backgroundable&gt; myTasks = new HashMap&lt;&gt;();\r\n         public myTaskLaunchMethod(){\r\n             Task.Backgroundable myBgTask = new Task.Backgroundable(null, &quot;MyTask&quot;, true, null) {\r\n\r\n                    @Override\r\n                    public void onCancel() {\r\n                        super.onCancel();\r\n                        System.out.println(&quot;cancelling&quot;)\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFinished() {\r\n                        super.onFinished();\r\n                    }\r\n\r\n                    @Override\r\n                    public void run(@NotNull ProgressIndicator progressIndicator) {\r\n                        \r\n                        //do some work that I want to cancel programmatically somewhere else in my code\r\n                    }\r\n                };\r\n\r\n                Log.trace(&quot;Starting task...&quot;);\r\n                ProgressManager.getInstance().run(myBgTask);\r\n                myTasks.put(&quot;task1&quot;, myBgTask);\r\n          }\r\n     }\r\n\r\n\r\nnow the task runs, but if a particular event happens, I need to immediately stop that task.\r\n\r\n\r\n         // somewhere else in my code, functionality I&#39;m looking for.\r\n         MyTaskLauncher.myTasks.get(&quot;task1&quot;).CancelTask()","title":"How do I cancel a Task.Backgroundable using the IntelliJ Plugin SDK","body":"<p>If I create a background task like so... I can cancel it in the UI by clicking the &quot;X&quot;... however, I would also like the ability to cancel it programmatically.</p>\n<pre><code>public class MyTaskLauncher {\n     public Map&lt;String, Task.Backgroundable&gt; myTasks = new HashMap&lt;&gt;();\n     public myTaskLaunchMethod(){\n         Task.Backgroundable myBgTask = new Task.Backgroundable(null, &quot;MyTask&quot;, true, null) {\n\n                @Override\n                public void onCancel() {\n                    super.onCancel();\n                    System.out.println(&quot;cancelling&quot;)\n                }\n\n                @Override\n                public void onFinished() {\n                    super.onFinished();\n                }\n\n                @Override\n                public void run(@NotNull ProgressIndicator progressIndicator) {\n                    \n                    //do some work that I want to cancel programmatically somewhere else in my code\n                }\n            };\n\n            Log.trace(&quot;Starting task...&quot;);\n            ProgressManager.getInstance().run(myBgTask);\n            myTasks.put(&quot;task1&quot;, myBgTask);\n      }\n }\n</code></pre>\n<p>now the task runs, but if a particular event happens, I need to immediately stop that task.</p>\n<pre><code>     // somewhere else in my code, functionality I'm looking for.\n     MyTaskLauncher.myTasks.get(&quot;task1&quot;).CancelTask()\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1680512101,"post_id":75917624,"comment_id":133904991,"body_markdown":"Your query is native SQL.  Are you running it as an HQL query?","body":"Your query is native SQL.  Are you running it as an HQL query?"},{"owner":{"account_id":27683979,"reputation":11,"user_id":21132113,"display_name":"Rajoli Hemanth Kumar"},"score":0,"creation_date":1680513232,"post_id":75917624,"comment_id":133905233,"body_markdown":"Running as a HQL","body":"Running as a HQL"}],"owner":{"account_id":27683979,"reputation":11,"user_id":21132113,"display_name":"Rajoli Hemanth Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680520549,"creation_date":1680511907,"question_id":75917624,"body_markdown":"here is my query\r\nSELECT DISTINCT c FROM Candidate c INNER JOIN (SELECT ja from JobApplication ja INNER JOIN Job j ON ja.jId=j.id where j.companyId = 364) as fillterappli ON fillterappli.caId=c.id\r\n\r\n\r\nhere is the Error:\r\n14:18:37.706 [http-nio-8080-exec-1] ERROR o.h.hql.internal.ast.ErrorTracker - line 1:75: unexpected token: (\r\n","title":"Hibernet SubQuery problem using in springboot java","body":"<p>here is my query\nSELECT DISTINCT c FROM Candidate c INNER JOIN (SELECT ja from JobApplication ja INNER JOIN Job j ON ja.jId=j.id where j.companyId = 364) as fillterappli ON fillterappli.caId=c.id</p>\n<p>here is the Error:\n14:18:37.706 [http-nio-8080-exec-1] ERROR o.h.hql.internal.ast.ErrorTracker - line 1:75: unexpected token: (</p>\n"},{"tags":["java","build.gradle","rest-assured","serenity-bdd"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1680528381,"post_id":75918733,"comment_id":133908870,"body_markdown":"don&#39;t see serenity bdd code path here.","body":"don&#39;t see serenity bdd code path here."},{"owner":{"account_id":2665015,"reputation":2661,"user_id":2303693,"accept_rate":67,"display_name":"Shabar"},"score":1,"creation_date":1680609132,"post_id":75918733,"comment_id":133923804,"body_markdown":"Weird thing happened here. The root cause seems like due to skipping all the feature files from top level (e.g. `@skip Feature: xxxxx`)and leave ONLY one scenario unskipped in one feature file (did this just for testing). Once removed all feature level `@skip` tags it worked. Not sure the reason behind still","body":"Weird thing happened here. The root cause seems like due to skipping all the feature files from top level (e.g. <code>@skip Feature: xxxxx</code>)and leave ONLY one scenario unskipped in one feature file (did this just for testing). Once removed all feature level <code>@skip</code> tags it worked. Not sure the reason behind still"}],"owner":{"account_id":2665015,"reputation":2661,"user_id":2303693,"accept_rate":67,"display_name":"Shabar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680519647,"creation_date":1680519647,"question_id":75918733,"body_markdown":"I have below method to call the rest endpoint via SerenityBDD\r\n\r\n    public class RequestSpecs {\r\n    ...\r\n    ...\r\n    public static Response request(Function&lt;RequestSpecification, Response&gt; method, RequestSpecification spec) {\r\n        RequestSpecification call = ((RequestSpecification)SerenityRest.rest().spec(spec).log().all()).when();\r\n        return (Response)((ValidatableResponse)((ValidatableResponse)((Response)method.apply(call)).then()).log().all()).extract().response();    //&gt;&gt;&gt; ****** RequestSpecs.java:32 **********\r\n    }\r\n\r\nI get follwing error when run test using gradle runner locally.\r\n\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;io.restassured.response.ResponseOptions.statusLine()&quot; because &quot;responseOptions&quot; is null\r\n            at io.restassured.internal.print.ResponsePrinter.print(ResponsePrinter.java:49)\r\n            at io.restassured.internal.ValidatableResponseOptionsImpl.logResponse(ValidatableResponseOptionsImpl.java:400)\r\n            at io.restassured.internal.ValidatableResponseOptionsImpl.logResponse(ValidatableResponseOptionsImpl.java:396)\r\n            at io.restassured.internal.ValidatableResponseOptionsImpl.logResponse(ValidatableResponseOptionsImpl.java:392)\r\n            at io.restassured.internal.ValidatableResponseOptionsImpl.all(ValidatableResponseOptionsImpl.java:348)\r\n            at io.restassured.internal.ValidatableResponseImpl.super$2$all(ValidatableResponseImpl.groovy)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n            at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n            at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\r\n            at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuperN(ScriptBytecodeAdapter.java:144)\r\n            at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuper0(ScriptBytecodeAdapter.java:164)\r\n            at io.restassured.internal.ValidatableResponseImpl.all(ValidatableResponseImpl.groovy:100)\r\n            at io.restassured.internal.ValidatableResponseImpl.all(ValidatableResponseImpl.groovy)\r\n            at com.abc.apiautomation.specs.RequestSpecs.request(RequestSpecs.java:32)\r\n\r\nHowever if the application start-up via IntelliJ IDE and run SerenityBDD tests wont have any issues.\r\n\r\nVersions:\r\n\r\n    gradle-7.4.2\r\n    \r\n    serenityCucumber        : &quot;2.6.0&quot;,\r\n    serenityReports         : &quot;3.1.0&quot;,\r\n    cucumberCore            : &quot;6.10.4&quot;,\r\n    restAssured             : &quot;2.6.0&quot;,\r\n    vintage                 : &quot;5.8.1&quot;,","title":"RestAssured responseOptions is NULL","body":"<p>I have below method to call the rest endpoint via SerenityBDD</p>\n<pre><code>public class RequestSpecs {\n...\n...\npublic static Response request(Function&lt;RequestSpecification, Response&gt; method, RequestSpecification spec) {\n    RequestSpecification call = ((RequestSpecification)SerenityRest.rest().spec(spec).log().all()).when();\n    return (Response)((ValidatableResponse)((ValidatableResponse)((Response)method.apply(call)).then()).log().all()).extract().response();    //&gt;&gt;&gt; ****** RequestSpecs.java:32 **********\n}\n</code></pre>\n<p>I get follwing error when run test using gradle runner locally.</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;io.restassured.response.ResponseOptions.statusLine()&quot; because &quot;responseOptions&quot; is null\n        at io.restassured.internal.print.ResponsePrinter.print(ResponsePrinter.java:49)\n        at io.restassured.internal.ValidatableResponseOptionsImpl.logResponse(ValidatableResponseOptionsImpl.java:400)\n        at io.restassured.internal.ValidatableResponseOptionsImpl.logResponse(ValidatableResponseOptionsImpl.java:396)\n        at io.restassured.internal.ValidatableResponseOptionsImpl.logResponse(ValidatableResponseOptionsImpl.java:392)\n        at io.restassured.internal.ValidatableResponseOptionsImpl.all(ValidatableResponseOptionsImpl.java:348)\n        at io.restassured.internal.ValidatableResponseImpl.super$2$all(ValidatableResponseImpl.groovy)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\n        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuperN(ScriptBytecodeAdapter.java:144)\n        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuper0(ScriptBytecodeAdapter.java:164)\n        at io.restassured.internal.ValidatableResponseImpl.all(ValidatableResponseImpl.groovy:100)\n        at io.restassured.internal.ValidatableResponseImpl.all(ValidatableResponseImpl.groovy)\n        at com.abc.apiautomation.specs.RequestSpecs.request(RequestSpecs.java:32)\n</code></pre>\n<p>However if the application start-up via IntelliJ IDE and run SerenityBDD tests wont have any issues.</p>\n<p>Versions:</p>\n<pre><code>gradle-7.4.2\n\nserenityCucumber        : &quot;2.6.0&quot;,\nserenityReports         : &quot;3.1.0&quot;,\ncucumberCore            : &quot;6.10.4&quot;,\nrestAssured             : &quot;2.6.0&quot;,\nvintage                 : &quot;5.8.1&quot;,\n</code></pre>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1680148184,"post_id":75883940,"comment_id":133849715,"body_markdown":"Can you try `Mono.fromSupplier({...}).subscribeOn(RANGE_SCHEDULER_POOL)`?","body":"Can you try <code>Mono.fromSupplier({...}).subscribeOn(RANGE_SCHEDULER_POOL)</code>?"},{"owner":{"account_id":15942701,"reputation":3,"user_id":11504136,"display_name":"MiaoZi"},"score":0,"creation_date":1680151946,"post_id":75883940,"comment_id":133850057,"body_markdown":"how should i write","body":"how should i write"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1680184275,"post_id":75883940,"comment_id":133857813,"body_markdown":"Just add it anywhere to the supplier. Like it wrote it. Or it could be `supplier.map(obj -&gt; obj).subscribeOn(RANGE_SCHEDULER_POOL)`","body":"Just add it anywhere to the supplier. Like it wrote it. Or it could be <code>supplier.map(obj -&gt; obj).subscribeOn(RANGE_SCHEDULER_POOL)</code>"}],"answers":[{"tags":[],"owner":{"account_id":10544009,"reputation":151,"user_id":7768922,"display_name":"confused"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680519586,"creation_date":1680506092,"answer_id":75916861,"question_id":75883940,"body_markdown":"The Custom thread pool executor in your code uses a `LinkedBlockingQueue` as a workQueue. Executors in java have some guidelines on how and when a new thread will be spawned in case a new task arrives. This is defined as follows:\r\n\r\nWhen a new task comes\r\n\r\n - If number of active threads are &lt; `corePoolSize`, then that task is not queued and a new thread is created for the same.\r\n - If number of active threads are =&gt; `corePoolSize`, then the task will be added into the queue.\r\n - If a request cannot be queued and number of active threads &gt;= `corePoolSize`, then a new thread will be created without exceeding the `maxPoolSize`\r\n\r\nIn your case since you have a `LinkedBlockingQueue` with capacity of 1024, Executor will not spawn a new thread other than the limit of `corePoolSize` until the queue capacity is full.\r\nIf you play around with queue capacity to 5 or 10, you will see pool size increasing.\r\n\r\nExample modifiying your execuotor to have workqueue capacity of 5 \r\n\r\n    ThreadPoolExecutor RANGE_SCHEDULER_POOL =\r\n                new ThreadPoolExecutor(\r\n                        3,\r\n                        256,\r\n                        30L,\r\n                        TimeUnit.SECONDS,\r\n                        new LinkedBlockingQueue&lt;&gt;(5),\r\n                        new ThreadFactoryBuilder().setNameFormat(&quot;Range-Scheduler-%d&quot;).build(),\r\n                        new ThreadPoolExecutor.CallerRunsPolicy()\r\n                );\r\n\r\nreturns the below output with pool size increasing from 3 to 15\r\n\r\n    java.util.concurrent.ThreadPoolExecutor@69a10787[Running, pool size = 15, active threads = 15, queued tasks = 5, completed tasks = 20]\r\n    java.util.concurrent.ThreadPoolExecutor@69a10787[Running, pool size = 15, active threads = 15, queued tasks = 5, completed tasks = 20]\r\n    java.util.concurrent.ThreadPoolExecutor@69a10787[Running, pool size = 15, active threads = 15, queued tasks = 5, completed tasks = 20]\r\n\r\n\r\nYou can get more info on these [here][1] and [here][2]\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n  [2]: https://stackoverflow.com/a/65512697/7768922","title":"reactor.core does not use all the threads in a Scheduler while parallel processing","body":"<p>The Custom thread pool executor in your code uses a <code>LinkedBlockingQueue</code> as a workQueue. Executors in java have some guidelines on how and when a new thread will be spawned in case a new task arrives. This is defined as follows:</p>\n<p>When a new task comes</p>\n<ul>\n<li>If number of active threads are &lt; <code>corePoolSize</code>, then that task is not queued and a new thread is created for the same.</li>\n<li>If number of active threads are =&gt; <code>corePoolSize</code>, then the task will be added into the queue.</li>\n<li>If a request cannot be queued and number of active threads &gt;= <code>corePoolSize</code>, then a new thread will be created without exceeding the <code>maxPoolSize</code></li>\n</ul>\n<p>In your case since you have a <code>LinkedBlockingQueue</code> with capacity of 1024, Executor will not spawn a new thread other than the limit of <code>corePoolSize</code> until the queue capacity is full.\nIf you play around with queue capacity to 5 or 10, you will see pool size increasing.</p>\n<p>Example modifiying your execuotor to have workqueue capacity of 5</p>\n<pre><code>ThreadPoolExecutor RANGE_SCHEDULER_POOL =\n            new ThreadPoolExecutor(\n                    3,\n                    256,\n                    30L,\n                    TimeUnit.SECONDS,\n                    new LinkedBlockingQueue&lt;&gt;(5),\n                    new ThreadFactoryBuilder().setNameFormat(&quot;Range-Scheduler-%d&quot;).build(),\n                    new ThreadPoolExecutor.CallerRunsPolicy()\n            );\n</code></pre>\n<p>returns the below output with pool size increasing from 3 to 15</p>\n<pre><code>java.util.concurrent.ThreadPoolExecutor@69a10787[Running, pool size = 15, active threads = 15, queued tasks = 5, completed tasks = 20]\njava.util.concurrent.ThreadPoolExecutor@69a10787[Running, pool size = 15, active threads = 15, queued tasks = 5, completed tasks = 20]\njava.util.concurrent.ThreadPoolExecutor@69a10787[Running, pool size = 15, active threads = 15, queued tasks = 5, completed tasks = 20]\n</code></pre>\n<p>You can get more info on these <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/a/65512697/7768922\">here</a></p>\n"}],"owner":{"account_id":15942701,"reputation":3,"user_id":11504136,"display_name":"MiaoZi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916861,"answer_count":1,"score":0,"last_activity_date":1680519586,"creation_date":1680147888,"question_id":75883940,"body_markdown":"Why only the number of core threads can be used but not the maximum number of threads?\r\n\r\n```\r\n@Test\r\npublic void testParallel() throws InterruptedException {\r\n  ThreadPoolExecutor RANGE_SCHEDULER_POOL =\r\n      new ThreadPoolExecutor(3, 256,\r\n          30L, TimeUnit.SECONDS,\r\n          new LinkedBlockingQueue&lt;&gt;(1024),\r\n          new ThreadFactoryBuilder().setNameFormat(&quot;Range-Scheduler-%d&quot;).build(),\r\n          new ThreadPoolExecutor.CallerRunsPolicy());\r\n  RANGE_SCHEDULER_POOL.allowCoreThreadTimeOut(true);\r\n  Scheduler RANGE_SCHEDULERS_POOL = Schedulers.fromExecutor(RANGE_SCHEDULER_POOL);\r\n  ParallelFlux&lt;String&gt; parallelFlux = Flux.range(1, 500).parallel(20).runOn(RANGE_SCHEDULERS_POOL).flatMap(index -&gt; {\r\n      Mono&lt;String&gt; supplier = Mono.fromSupplier(() -&gt; {\r\n          Random random = new Random();\r\n          try {\r\n              Thread.sleep(random.nextInt(1000));\r\n          } catch (InterruptedException e) {\r\n          }\r\n          return String.format(&quot;mono1-%s-%d%n&quot;, Thread.currentThread().getName(), index);\r\n      });\r\n      return supplier.map(obj -&gt; obj);\r\n  });\r\n\r\n  Mono&lt;List&lt;String&gt;&gt; mono1 = parallelFlux.collectSortedList(Comparator.comparingInt(Object::hashCode));\r\n  mono1.subscribe(System.out::println, Throwable::printStackTrace);\r\n\r\n  Thread th = new Thread(() -&gt; {\r\n      while (true){\r\n          System.out.println(RANGE_SCHEDULER_POOL);\r\n          try {\r\n              Thread.sleep(1000);\r\n          } catch (InterruptedException ignored) {}\r\n      }\r\n  });\r\n  th.start();\r\n  Thread.sleep(60_000_000);\r\n}\r\n```\r\n\r\noutput\r\n\r\njava.util.concurrent.ThreadPoolExecutor@6fc2ae19[Running, pool size = 3, active threads = 3, queued tasks = 17, completed tasks = 20]\r\njava.util.concurrent.ThreadPoolExecutor@6fc2ae19[Running, pool size = 3, active threads = 3, queued tasks = 17, completed tasks = 20]\r\njava.util.concurrent.ThreadPoolExecutor@6fc2ae19[Running, pool size = 3, active threads = 3, queued tasks = 17, completed tasks = 20]\r\n\r\nHow to use the maximum number of threads?","title":"reactor.core does not use all the threads in a Scheduler while parallel processing","body":"<p>Why only the number of core threads can be used but not the maximum number of threads?</p>\n<pre><code>@Test\npublic void testParallel() throws InterruptedException {\n  ThreadPoolExecutor RANGE_SCHEDULER_POOL =\n      new ThreadPoolExecutor(3, 256,\n          30L, TimeUnit.SECONDS,\n          new LinkedBlockingQueue&lt;&gt;(1024),\n          new ThreadFactoryBuilder().setNameFormat(&quot;Range-Scheduler-%d&quot;).build(),\n          new ThreadPoolExecutor.CallerRunsPolicy());\n  RANGE_SCHEDULER_POOL.allowCoreThreadTimeOut(true);\n  Scheduler RANGE_SCHEDULERS_POOL = Schedulers.fromExecutor(RANGE_SCHEDULER_POOL);\n  ParallelFlux&lt;String&gt; parallelFlux = Flux.range(1, 500).parallel(20).runOn(RANGE_SCHEDULERS_POOL).flatMap(index -&gt; {\n      Mono&lt;String&gt; supplier = Mono.fromSupplier(() -&gt; {\n          Random random = new Random();\n          try {\n              Thread.sleep(random.nextInt(1000));\n          } catch (InterruptedException e) {\n          }\n          return String.format(&quot;mono1-%s-%d%n&quot;, Thread.currentThread().getName(), index);\n      });\n      return supplier.map(obj -&gt; obj);\n  });\n\n  Mono&lt;List&lt;String&gt;&gt; mono1 = parallelFlux.collectSortedList(Comparator.comparingInt(Object::hashCode));\n  mono1.subscribe(System.out::println, Throwable::printStackTrace);\n\n  Thread th = new Thread(() -&gt; {\n      while (true){\n          System.out.println(RANGE_SCHEDULER_POOL);\n          try {\n              Thread.sleep(1000);\n          } catch (InterruptedException ignored) {}\n      }\n  });\n  th.start();\n  Thread.sleep(60_000_000);\n}\n</code></pre>\n<p>output</p>\n<p>java.util.concurrent.ThreadPoolExecutor@6fc2ae19[Running, pool size = 3, active threads = 3, queued tasks = 17, completed tasks = 20]\njava.util.concurrent.ThreadPoolExecutor@6fc2ae19[Running, pool size = 3, active threads = 3, queued tasks = 17, completed tasks = 20]\njava.util.concurrent.ThreadPoolExecutor@6fc2ae19[Running, pool size = 3, active threads = 3, queued tasks = 17, completed tasks = 20]</p>\n<p>How to use the maximum number of threads?</p>\n"},{"tags":["java","selenium-webdriver","xpath","css-selectors","xpath-1.0"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1553581302,"post_id":55349041,"comment_id":97425759,"body_markdown":"Remove `&#39;` from `/a[1]&#39;]`","body":"Remove <code>&#39;</code> from <code>&#47;a[1]&#39;]</code>"}],"answers":[{"tags":[],"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553569635,"creation_date":1553569635,"answer_id":55349273,"question_id":55349041,"body_markdown":"Welcome to SO. Here is the simple xpath.\r\n\r\n    //*[@id=&#39;main-nav]//a[@class=&#39;main-item&#39; and .=&#39;Business Loans&#39;]\r\n\r\nIf you want to use the one which you mentioned, here is the corrected.\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;main-nav&#39;]/ul/li[1]/a[1]&quot;))","title":"org.openqa.selenium.InvalidSelectorException: invalid selector while trying to locate an element","body":"<p>Welcome to SO. Here is the simple xpath.</p>\n\n<pre><code>//*[@id='main-nav]//a[@class='main-item' and .='Business Loans']\n</code></pre>\n\n<p>If you want to use the one which you mentioned, here is the corrected.</p>\n\n<pre><code>driver.findElement(By.xpath(\"//*[@id='main-nav']/ul/li[1]/a[1]\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14981114,"reputation":56,"user_id":10815081,"display_name":"Sandeep K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553576033,"creation_date":1553576033,"answer_id":55350072,"question_id":55349041,"body_markdown":"Try contains function in xpath, it can extract all the elements which matches a particular text value\r\n\r\n    //a[contains(text(),&#39;Business Loans&#39;)]\r\n","title":"org.openqa.selenium.InvalidSelectorException: invalid selector while trying to locate an element","body":"<p>Try contains function in xpath, it can extract all the elements which matches a particular text value</p>\n\n<pre><code>//a[contains(text(),'Business Loans')]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1553583614,"creation_date":1553583614,"answer_id":55351415,"question_id":55349041,"body_markdown":"This error message...\r\n\r\n\torg.openqa.selenium.InvalidSelectorException: invalid selector\r\n\t\r\n...implies that your `xpath` was not a valid one.\r\n\r\nYou can&#39;t use the single quote i.e. **`&#39;`** or the double quote i.e. **`&quot;`** for both `By` value and _attribute_ values.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nYou can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- _cssSelector_:\r\n\r\n        WebElement element = driver.findElement(By.cssSelector(&quot;#main-nav a.main-item&quot;));\r\n\r\n- _xpath_:\r\n\r\n        WebElement element = driver.findElement(By.xpath(&quot;//a[@class=&#39;main-item&#39; and text()=&#39;Business Loans&#39;]&quot;));","title":"org.openqa.selenium.InvalidSelectorException: invalid selector while trying to locate an element","body":"<p>This error message...</p>\n\n<pre><code>org.openqa.selenium.InvalidSelectorException: invalid selector\n</code></pre>\n\n<p>...implies that your <code>xpath</code> was not a valid one.</p>\n\n<p>You can't use the single quote i.e. <strong><code>'</code></strong> or the double quote i.e. <strong><code>\"</code></strong> for both <code>By</code> value and <em>attribute</em> values.</p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n\n<ul>\n<li><p><em>cssSelector</em>:</p>\n\n<pre><code>WebElement element = driver.findElement(By.cssSelector(\"#main-nav a.main-item\"));\n</code></pre></li>\n<li><p><em>xpath</em>:</p>\n\n<pre><code>WebElement element = driver.findElement(By.xpath(\"//a[@class='main-item' and text()='Business Loans']\"));\n</code></pre></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1680602104,"post_id":75918709,"comment_id":133922134,"body_markdown":"This is not an answer to the question. You should create a new question for this.","body":"This is not an answer to the question. You should create a new question for this."}],"tags":[],"owner":{"account_id":27772109,"reputation":1,"user_id":21202228,"display_name":"Brinda"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1680519502,"creation_date":1680519502,"answer_id":75918709,"question_id":55349041,"body_markdown":"my element is displayed as\r\n\r\n&lt;button id=&quot;addNewRecordButton&quot; type=&quot;button&quot; class=&quot;btn btn-primary&quot;&gt;Add&lt;/button&gt;\r\n\r\n my xpath is\r\n\r\n//button[@id=&quot;addNewRecordButton&quot; ]\r\n\r\nI got error message as\r\n   InvalidSelectorException\r\nhow to fix this exception and click specific element.\r\n","title":"org.openqa.selenium.InvalidSelectorException: invalid selector while trying to locate an element","body":"<p>my element is displayed as</p>\n<p>Add</p>\n<p>my xpath is</p>\n<p>//button[@id=&quot;addNewRecordButton&quot; ]</p>\n<p>I got error message as\nInvalidSelectorException\nhow to fix this exception and click specific element.</p>\n"}],"owner":{"account_id":15605027,"reputation":1,"user_id":11258029,"display_name":"ravi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11600,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1680519502,"creation_date":1553567611,"question_id":55349041,"body_markdown":"My element is displayed as:\r\n\r\n    &lt;a class=&quot;main-item&quot; href=&quot;#&quot;&gt;Business Loans&lt;/a&gt;\r\n\r\nxpath is:\r\n\r\n    //*[@id=&#39;main-nav&#39;]/ul/li[1]/a[1]&#39;]\r\n\r\nThis returns `invalid element locator`\r\n\r\n    //*[@id=&#39;main-nav&#39;]/ul/li[1]/a&#39;]\r\n    \r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;main-nav&#39;]/ul/li[1]/a[1]&#39;]&quot;))\r\n\r\nI am trying to get the element.","title":"org.openqa.selenium.InvalidSelectorException: invalid selector while trying to locate an element","body":"<p>My element is displayed as:</p>\n\n<pre><code>&lt;a class=\"main-item\" href=\"#\"&gt;Business Loans&lt;/a&gt;\n</code></pre>\n\n<p>xpath is:</p>\n\n<pre><code>//*[@id='main-nav']/ul/li[1]/a[1]']\n</code></pre>\n\n<p>This returns <code>invalid element locator</code></p>\n\n<pre><code>//*[@id='main-nav']/ul/li[1]/a']\n\ndriver.findElement(By.xpath(\"//*[@id='main-nav']/ul/li[1]/a[1]']\"))\n</code></pre>\n\n<p>I am trying to get the element.</p>\n"},{"tags":["java","postgresql","spring-boot","jpa","spring-el"],"owner":{"account_id":5812179,"reputation":113,"user_id":4586638,"accept_rate":67,"display_name":"CuriousCurie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680519375,"creation_date":1680519375,"question_id":75918695,"body_markdown":"I am trying to write native query for multi-insert in JPA but facing issues. \r\n\r\nSo basically I want to run the query in form of:\r\nINSERT INTO table(c1,c2,c3) VALUES (1,2,3), (4,5,6), (7,8,9);\r\n\r\nMy model class is:\r\n\r\n\r\n```\r\npublic class TimeSeries {\r\n\r\n    @EmbeddedId\r\n    private TimeSeriesId id;\r\n\r\n    @Column(name = &quot;ts_value&quot;, precision = 15)\r\n    @JsonView(Views.Public.class)\r\n    private Double value;\r\n\r\n    @Column(name = &quot;original_value&quot;)\r\n    @JsonView(Views.Public.class)\r\n    private String originalValue;\r\n\r\n    @Column(name = &quot;is_imputed&quot;)\r\n    @JsonView(Views.Public.class)\r\n    private boolean isImputed;\r\n\r\n    @Column(name = &quot;transaction_id&quot;)\r\n    @JsonView(Views.Public.class)\r\n    private UUID transactionId;\r\n\r\n    public TimeSeries (TimeSeriesId id, Double value, String originalValue,\r\n                       boolean isImputed, UUID transactionId)\r\n    {\r\n        this.id = id;\r\n        this.value = value;\r\n        this.originalValue = originalValue;\r\n        this.isImputed = isImputed;\r\n        this.transactionId = transactionId;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class TimeSeriesId implements Serializable {\r\n\r\n    @Column(name = &quot;time_stamp&quot;)\r\n    @JsonView(Views.Public.class)\r\n    private Long time;\r\n\r\n    @Column(name = &quot;instrument_id&quot;)\r\n    @Type(type = &quot;org.hibernate.type.PostgresUUIDType&quot;)\r\n    @JsonView(Views.Public.class)\r\n    private UUID instrumentId;\r\n}\r\n```\r\n\r\nThe method in my Repo is:\r\n\r\n```\r\n    @Modifying\r\n    @Query(value = &quot;INSERT INTO gem_configurator.timeseries (time_stamp, instrument_id, ts_value, original_value, is_imputed, transaction_id) VALUES (:tsValues)&quot;, nativeQuery = true)\r\n    void multiInsertTimeSeries(@Param(&quot;tsValues&quot;) List&lt;TimeSeries&gt; tsValues);\r\n```\r\n\r\nSo, when I send List of TimeSeries (take size to be 20 for example) to multiInsertTimeSeries, the query is formed like this:\r\n \r\n\r\n&gt; INSERT INTO gem_configurator.timeseries (time_stamp, instrument_id,\r\n&gt; ts_value, original_value, is_imputed, transaction_id) VALUES (?, ?, ?,\r\n&gt; ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 2023-04-03\r\n&gt; 16:10:08.994 DEBUG 17228 --- [nio-8081-exec-2]\r\n&gt; o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute native\r\n&gt; bulk manipulation query [INSERT INTO gem_configurator.timeseries\r\n&gt; (time_stamp, instrument_id, ts_value, original_value, is_imputed,\r\n&gt; transaction_id) VALUES (:tsValues_0, :tsValues_1, :tsValues_2,\r\n&gt; :tsValues_3, :tsValues_4, :tsValues_5, :tsValues_6, :tsValues_7,\r\n&gt; :tsValues_8, :tsValues_9, :tsValues_10, :tsValues_11, :tsValues_12,\r\n&gt; :tsValues_13, :tsValues_14, :tsValues_15, :tsValues_16, :tsValues_17,\r\n&gt; :tsValues_18, :tsValues_19)]\r\n&gt; \r\n&gt; org.postgresql.util.PSQLException: The column index is out of range:\r\n&gt; 21, number of columns: 20.\r\n\r\nIt seems that its trying to insert all fields of TimeSeries object in place of a single ? whereas it should be like (?,?,?...)\r\n\r\n\r\n\r\nI also tried with SPEL by writing following query:\r\n` @Query(value = &quot;INSERT INTO gem_configurator.timeseries (time_stamp, instrument_id, ts_value, original_value, is_imputed, transaction_id) VALUES (:#{#tsValues.![id.time]}, :#{#tsValues.![id.instrumentId]}, :#{#tsValues.![value]}, :#{#tsValues.![originalValue]}, :#{#tsValues.![isImputed]}, :#{#tsValues.![transactionId]})&quot;, nativeQuery = true)`\r\n\r\nIt seems to be running fine when size of list is 1 but for size greater than 1, this is also running into similar problem. \r\n\r\nCan someone please highlight what am I doing wrong?","title":"Creating custom/native query for multi insert in JPA","body":"<p>I am trying to write native query for multi-insert in JPA but facing issues.</p>\n<p>So basically I want to run the query in form of:\nINSERT INTO table(c1,c2,c3) VALUES (1,2,3), (4,5,6), (7,8,9);</p>\n<p>My model class is:</p>\n<pre><code>public class TimeSeries {\n\n    @EmbeddedId\n    private TimeSeriesId id;\n\n    @Column(name = &quot;ts_value&quot;, precision = 15)\n    @JsonView(Views.Public.class)\n    private Double value;\n\n    @Column(name = &quot;original_value&quot;)\n    @JsonView(Views.Public.class)\n    private String originalValue;\n\n    @Column(name = &quot;is_imputed&quot;)\n    @JsonView(Views.Public.class)\n    private boolean isImputed;\n\n    @Column(name = &quot;transaction_id&quot;)\n    @JsonView(Views.Public.class)\n    private UUID transactionId;\n\n    public TimeSeries (TimeSeriesId id, Double value, String originalValue,\n                       boolean isImputed, UUID transactionId)\n    {\n        this.id = id;\n        this.value = value;\n        this.originalValue = originalValue;\n        this.isImputed = isImputed;\n        this.transactionId = transactionId;\n    }\n}\n</code></pre>\n<pre><code>public class TimeSeriesId implements Serializable {\n\n    @Column(name = &quot;time_stamp&quot;)\n    @JsonView(Views.Public.class)\n    private Long time;\n\n    @Column(name = &quot;instrument_id&quot;)\n    @Type(type = &quot;org.hibernate.type.PostgresUUIDType&quot;)\n    @JsonView(Views.Public.class)\n    private UUID instrumentId;\n}\n</code></pre>\n<p>The method in my Repo is:</p>\n<pre><code>    @Modifying\n    @Query(value = &quot;INSERT INTO gem_configurator.timeseries (time_stamp, instrument_id, ts_value, original_value, is_imputed, transaction_id) VALUES (:tsValues)&quot;, nativeQuery = true)\n    void multiInsertTimeSeries(@Param(&quot;tsValues&quot;) List&lt;TimeSeries&gt; tsValues);\n</code></pre>\n<p>So, when I send List of TimeSeries (take size to be 20 for example) to multiInsertTimeSeries, the query is formed like this:</p>\n<blockquote>\n<p>INSERT INTO gem_configurator.timeseries (time_stamp, instrument_id,\nts_value, original_value, is_imputed, transaction_id) VALUES (?, ?, ?,\n?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 2023-04-03\n16:10:08.994 DEBUG 17228 --- [nio-8081-exec-2]\no.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute native\nbulk manipulation query [INSERT INTO gem_configurator.timeseries\n(time_stamp, instrument_id, ts_value, original_value, is_imputed,\ntransaction_id) VALUES (:tsValues_0, :tsValues_1, :tsValues_2,\n:tsValues_3, :tsValues_4, :tsValues_5, :tsValues_6, :tsValues_7,\n:tsValues_8, :tsValues_9, :tsValues_10, :tsValues_11, :tsValues_12,\n:tsValues_13, :tsValues_14, :tsValues_15, :tsValues_16, :tsValues_17,\n:tsValues_18, :tsValues_19)]</p>\n<p>org.postgresql.util.PSQLException: The column index is out of range:\n21, number of columns: 20.</p>\n</blockquote>\n<p>It seems that its trying to insert all fields of TimeSeries object in place of a single ? whereas it should be like (?,?,?...)</p>\n<p>I also tried with SPEL by writing following query:\n<code> @Query(value = &quot;INSERT INTO gem_configurator.timeseries (time_stamp, instrument_id, ts_value, original_value, is_imputed, transaction_id) VALUES (:#{#tsValues.![id.time]}, :#{#tsValues.![id.instrumentId]}, :#{#tsValues.![value]}, :#{#tsValues.![originalValue]}, :#{#tsValues.![isImputed]}, :#{#tsValues.![transactionId]})&quot;, nativeQuery = true)</code></p>\n<p>It seems to be running fine when size of list is 1 but for size greater than 1, this is also running into similar problem.</p>\n<p>Can someone please highlight what am I doing wrong?</p>\n"},{"tags":["java","semantics"],"comments":[{"owner":{"account_id":2676494,"reputation":7508,"user_id":2312796,"accept_rate":86,"display_name":"greedybuddha"},"score":0,"creation_date":1368747583,"post_id":16599183,"comment_id":23859869,"body_markdown":"Because it&#39;s a raw primitive, not a statement.","body":"Because it&#39;s a raw primitive, not a statement."},{"owner":{"account_id":323163,"reputation":2243,"user_id":643011,"accept_rate":75,"display_name":"user643011"},"score":0,"creation_date":1368747792,"post_id":16599183,"comment_id":23862859,"body_markdown":"Read this: http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf Particularly the chapter about statements.","body":"Read this: <a href=\"http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/jls7.pdf</a> Particularly the chapter about statements."}],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1368748739,"creation_date":1368747783,"answer_id":16599239,"question_id":16599183,"body_markdown":"Java restricts the types of expressions that are allowed in so-called &quot;expression statements&quot;. Only meaningful expressions that have potential side effects are allowed. It disallows semantically meaningless statements like `0;` or `a + b;`. They&#39;re simply excluded from the language grammar.\r\n\r\nA function call like `foo()` can, and usually does, have side effects, so it is not a meaningless statement. The compiler doesn&#39;t deeply inspect the body of `foo()` to check whether it actually does anything. Calling a function *can* have side effects, so it is syntactically valid.\r\n\r\nThis reflects a philosophical difference between C/C++ and Java. Java prohibits various constructs which result in dead or meaningless code.\r\n\r\n    return;\r\n    foo();    // unreachable statement\r\n\r\nC and C++ are relatively laissez faire about it all. Write whatever you want; they don&#39;t have time to babysit you.\r\n\r\n---\r\n\r\nQuoting from the [Java Language Specification, &amp;sect;14.8 Expression Statements](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.8):\r\n\r\n&gt; Certain kinds of expressions may be used as statements by following\r\n&gt; them with semicolons.\r\n&gt; \r\n&gt;     ExpressionStatement:\r\n&gt;         StatementExpression ;\r\n&gt;     \r\n&gt;     StatementExpression:\r\n&gt;         Assignment\r\n&gt;         PreIncrementExpression\r\n&gt;         PreDecrementExpression\r\n&gt;         PostIncrementExpression\r\n&gt;         PostDecrementExpression\r\n&gt;         MethodInvocation\r\n&gt;         ClassInstanceCreationExpression\r\n&gt; \r\n&gt; An expression statement is executed by evaluating the expression; if\r\n&gt; the expression has a value, the value is discarded.\r\n&gt; \r\n&gt; Execution of the expression statement completes normally if and only\r\n&gt; if evaluation of the expression completes normally.\r\n&gt; \r\n&gt; Unlike C and C++, the Java programming language allows only certain\r\n&gt; forms of expressions to be used as expression statements. Note that\r\n&gt; the Java programming language does not allow a &quot;cast to void&quot; - void\r\n&gt; is not a type - so the traditional C trick of writing an expression\r\n&gt; statement such as:\r\n&gt; \r\n&gt;     (void)... ;  // incorrect!\r\n&gt; \r\n&gt; does not work. On the other hand, the Java programming language allows\r\n&gt; all the most useful kinds of expressions in expressions statements,\r\n&gt; and it does not require a method invocation used as an expression\r\n&gt; statement to invoke a void method, so such a trick is almost never\r\n&gt; needed. If a trick is needed, either an assignment statement (&#167;15.26)\r\n&gt; or a local variable declaration statement (&#167;14.4) can be used instead.","title":"&#39;not a statement&#39; in Java","body":"<p>Java restricts the types of expressions that are allowed in so-called \"expression statements\". Only meaningful expressions that have potential side effects are allowed. It disallows semantically meaningless statements like <code>0;</code> or <code>a + b;</code>. They're simply excluded from the language grammar.</p>\n\n<p>A function call like <code>foo()</code> can, and usually does, have side effects, so it is not a meaningless statement. The compiler doesn't deeply inspect the body of <code>foo()</code> to check whether it actually does anything. Calling a function <em>can</em> have side effects, so it is syntactically valid.</p>\n\n<p>This reflects a philosophical difference between C/C++ and Java. Java prohibits various constructs which result in dead or meaningless code.</p>\n\n<pre><code>return;\nfoo();    // unreachable statement\n</code></pre>\n\n<p>C and C++ are relatively laissez faire about it all. Write whatever you want; they don't have time to babysit you.</p>\n\n<hr>\n\n<p>Quoting from the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.8\" rel=\"noreferrer\">Java Language Specification, &sect;14.8 Expression Statements</a>:</p>\n\n<blockquote>\n  <p>Certain kinds of expressions may be used as statements by following\n  them with semicolons.</p>\n\n<pre><code>ExpressionStatement:\n    StatementExpression ;\n\nStatementExpression:\n    Assignment\n    PreIncrementExpression\n    PreDecrementExpression\n    PostIncrementExpression\n    PostDecrementExpression\n    MethodInvocation\n    ClassInstanceCreationExpression\n</code></pre>\n  \n  <p>An expression statement is executed by evaluating the expression; if\n  the expression has a value, the value is discarded.</p>\n  \n  <p>Execution of the expression statement completes normally if and only\n  if evaluation of the expression completes normally.</p>\n  \n  <p>Unlike C and C++, the Java programming language allows only certain\n  forms of expressions to be used as expression statements. Note that\n  the Java programming language does not allow a \"cast to void\" - void\n  is not a type - so the traditional C trick of writing an expression\n  statement such as:</p>\n\n<pre><code>(void)... ;  // incorrect!\n</code></pre>\n  \n  <p>does not work. On the other hand, the Java programming language allows\n  all the most useful kinds of expressions in expressions statements,\n  and it does not require a method invocation used as an expression\n  statement to invoke a void method, so such a trick is almost never\n  needed. If a trick is needed, either an assignment statement (§15.26)\n  or a local variable declaration statement (§14.4) can be used instead.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1550912328,"post_id":54839337,"comment_id":96453458,"body_markdown":"This answer does not address the question. This question is about how to fix the code in any way. The question is about explaining why one thing is allowed by then language, but another similar things generates a compile error.","body":"This answer does not address the question. This question is about how to fix the code in any way. The question is about explaining why one thing is allowed by then language, but another similar things generates a compile error."},{"owner":{"account_id":15181783,"reputation":81,"user_id":10954880,"display_name":"SaravanaKumar KKB"},"score":0,"creation_date":1550924947,"post_id":54839337,"comment_id":96456562,"body_markdown":"@Lii I have modified my answer bit.","body":"@Lii I have modified my answer bit."}],"tags":[],"owner":{"account_id":15181783,"reputation":81,"user_id":10954880,"display_name":"SaravanaKumar KKB"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598350894,"creation_date":1550907594,"answer_id":54839337,"question_id":16599183,"body_markdown":"In the first statement you are actually calling a function and second statement doesn&#39;t give any value. Incase you want to process the return value, you need to call a variable for return type\r\n    \r\nEg:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        int n = foo();\r\n    \r\n         //do whatever you want with return \r\n    }\r\n\r\n    public static int foo() {\r\n        return 0;\r\n    }\r\n}\r\n```","title":"&#39;not a statement&#39; in Java","body":"<p>In the first statement you are actually calling a function and second statement doesn't give any value. Incase you want to process the return value, you need to call a variable for return type</p>\n<p>Eg:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        int n = foo();\n    \n         //do whatever you want with return \n    }\n\n    public static int foo() {\n        return 0;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1679573,"reputation":2844,"user_id":1544197,"accept_rate":68,"display_name":"Skyler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34160,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":16599239,"answer_count":2,"score":12,"last_activity_date":1680519166,"creation_date":1368747379,"question_id":16599183,"body_markdown":"I suppose this is more a question about language theory than anything else. Why is the first statement in main legal, when the second is not? Don&#39;t they evaluate to be the same thing?\r\n\r\n```lang-java\r\npublic class Main {\r\n        public static void main(String[] args) {\r\n                foo();\r\n                0;\r\n        }\r\n        public static int foo(){\r\n                return 0;\r\n        }\r\n}\r\n```\r\n\r\n","title":"&#39;not a statement&#39; in Java","body":"<p>I suppose this is more a question about language theory than anything else. Why is the first statement in main legal, when the second is not? Don't they evaluate to be the same thing?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n        public static void main(String[] args) {\n                foo();\n                0;\n        }\n        public static int foo(){\n                return 0;\n        }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","zxing"],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680518679,"creation_date":1680518679,"answer_id":75918586,"question_id":75908001,"body_markdown":"After revising of the dummy data class, the issue disappeared.","title":"Spring Boot QR Code Example JUnit Tests (Integration Test and Service Test) Zxing Issues (com.google.zxing.NotFoundException and 400 BadRequest )","body":"<p>After revising of the dummy data class, the issue disappeared.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75918586,"answer_count":1,"score":0,"last_activity_date":1680518679,"creation_date":1680372313,"question_id":75908001,"body_markdown":"I tried to implement an example of QR Code Generator in Spring Boot. \r\nI have a problem in Service Test and Controller Test.\r\nIn Service Test, I cannot decode the byte values in `QRCodeReader().decode(binaryBitmap)`\r\nI get this error message shown below when I run any test method \r\n\r\n    `com.google.zxing.NotFoundException`\r\n\r\nIn Controller Test, I get this error message shown below when I run any test method \r\n\r\n    ```\r\n    MockHttpServletResponse:\r\n               Status = 400\r\n        Error message = null\r\n              Headers = [Content-Type:&quot;application/problem+json&quot;]\r\n         Content type = application/problem+json\r\n                 Body = {&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Required part &#39;text&#39; is not present.&quot;,&quot;instance&quot;:&quot;/api/v1/qr-generator&quot;}\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    \r\n    java.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;400&gt;\r\n    Expected :201\r\n    Actual   :400\r\n    ```\r\n\r\nHow can I fix it?\r\n\r\nHere is the link : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/qr-generator-example","title":"Spring Boot QR Code Example JUnit Tests (Integration Test and Service Test) Zxing Issues (com.google.zxing.NotFoundException and 400 BadRequest )","body":"<p>I tried to implement an example of QR Code Generator in Spring Boot.\nI have a problem in Service Test and Controller Test.\nIn Service Test, I cannot decode the byte values in <code>QRCodeReader().decode(binaryBitmap)</code>\nI get this error message shown below when I run any test method</p>\n<pre><code>`com.google.zxing.NotFoundException`\n</code></pre>\n<p>In Controller Test, I get this error message shown below when I run any test method</p>\n<pre><code>```\nMockHttpServletResponse:\n           Status = 400\n    Error message = null\n          Headers = [Content-Type:&quot;application/problem+json&quot;]\n     Content type = application/problem+json\n             Body = {&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Required part 'text' is not present.&quot;,&quot;instance&quot;:&quot;/api/v1/qr-generator&quot;}\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;400&gt;\nExpected :201\nActual   :400\n```\n</code></pre>\n<p>How can I fix it?</p>\n<p>Here is the link : <a href=\"https://github.com/Rapter1990/qr-generator-example\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1680516538,"post_id":75918269,"comment_id":133906041,"body_markdown":"You also have to run your Java program as administrator.","body":"You also have to run your Java program as administrator."}],"owner":{"account_id":28201557,"reputation":9,"user_id":21555263,"display_name":"Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680518394,"creation_date":1680516347,"question_id":75918269,"body_markdown":"I have a command in bat file to stop services **net stop &quot;serviceName&quot;**. If I call the .bat file from java program  service is not getting stopped.\r\n\r\nIn my code i have written as \r\n\r\nProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, batchFilePath);\r\nProcess process = processBuilder.start();\r\n\r\nCode is running fine. But service is not getting stopped. Looks like need to run the .bat file as adminstrator from java. \r\n\r\nCan any one has any idea how to do that?","title":"Running .bat file as administrator from java program","body":"<p>I have a command in bat file to stop services <strong>net stop &quot;serviceName&quot;</strong>. If I call the .bat file from java program  service is not getting stopped.</p>\n<p>In my code i have written as</p>\n<p>ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, batchFilePath);\nProcess process = processBuilder.start();</p>\n<p>Code is running fine. But service is not getting stopped. Looks like need to run the .bat file as adminstrator from java.</p>\n<p>Can any one has any idea how to do that?</p>\n"},{"tags":["java","json","spring","java-time","localtime"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1680512546,"post_id":75917439,"comment_id":133905093,"body_markdown":"What do you mean by &quot;What I am getting is: 11:43&quot;? How do you &quot;get&quot; it?","body":"What do you mean by &quot;What I am getting is: 11:43&quot;? How do you &quot;get&quot; it?"},{"owner":{"account_id":2985148,"reputation":385,"user_id":2534177,"accept_rate":67,"display_name":"Soumav"},"score":0,"creation_date":1680515562,"post_id":75917439,"comment_id":133905787,"body_markdown":"I am getting the response in json format in Postman. Have exposed an endpoint (controller&gt;service) that uses this model class to serialize it to send the response after fetching the data from cassandra.","body":"I am getting the response in json format in Postman. Have exposed an endpoint (controller&gt;service) that uses this model class to serialize it to send the response after fetching the data from cassandra."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680548048,"post_id":75917439,"comment_id":133914035,"body_markdown":"Does it matter? Wouldn&#39;t the receiver of your JSON understand `11:43` alone? I mean, it’s not only unambiguous, it’s also allowed according to [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).","body":"Does it matter? Wouldn&#39;t the receiver of your JSON understand <code>11:43</code> alone? I mean, it’s not only unambiguous, it’s also allowed according to <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680550608,"post_id":75917439,"comment_id":133914540,"body_markdown":"I cannot reproduce. From `String json = new ObjectMapper().registerModule(new JavaTimeModule()).writeValueAsString(new Test());` I get `{&quot;delgtexpytm&quot;:&quot;11:43:00&quot;}`. So with the `:00` that I understnad that you want. How did you do? Could you please create a [mre]?","body":"I cannot reproduce. From <code>String json = new ObjectMapper().registerModule(new JavaTimeModule()).writeValueAsString(new Test());</code> I get <code>{&quot;delgtexpytm&quot;:&quot;11:43:00&quot;}</code>. So with the <code>:00</code> that I understnad that you want. How did you do? Could you please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"answers":[{"comments":[{"owner":{"account_id":2985148,"reputation":385,"user_id":2534177,"accept_rate":67,"display_name":"Soumav"},"score":0,"creation_date":1680514540,"post_id":75917498,"comment_id":133905566,"body_markdown":"Tried this as well, didn&#39;t seem to work.","body":"Tried this as well, didn&#39;t seem to work."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1680527392,"post_id":75917498,"comment_id":133908563,"body_markdown":"Thanks for giving it a try.","body":"Thanks for giving it a try."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680511059,"creation_date":1680511059,"answer_id":75917498,"question_id":75917439,"body_markdown":"**Untested**\r\n\r\nTry to override the [`shape`][1] property to [`STRING`][2] to specify the JSON type to be used. I guess it should help as long as the following explanation from the JavaDoc for the `shape`:\r\n\r\n&gt; Structure to use for serialization: definition of mapping depends on datatype, but usually has straight-forward counterpart in data format (JSON).\r\n\r\n```\r\n@JsonFormat(pattern=&quot;HH:mm:ss&quot;, shape=JsonFormat.Shape.STRING)\r\nprivate LocalTime delgtexpytm;\r\n```\r\n\r\n  [1]: https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.14.2/com/fasterxml/jackson/annotation/JsonFormat.html#shape--\r\n  [2]: https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-annotations/2.14.2/com/fasterxml/jackson/annotation/JsonFormat.Shape.html#STRING","title":"LocalTime truncating trailing 00 values","body":"<p><strong>Untested</strong></p>\n<p>Try to override the <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.14.2/com/fasterxml/jackson/annotation/JsonFormat.html#shape--\" rel=\"nofollow noreferrer\"><code>shape</code></a> property to <a href=\"https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-annotations/2.14.2/com/fasterxml/jackson/annotation/JsonFormat.Shape.html#STRING\" rel=\"nofollow noreferrer\"><code>STRING</code></a> to specify the JSON type to be used. I guess it should help as long as the following explanation from the JavaDoc for the <code>shape</code>:</p>\n<blockquote>\n<p>Structure to use for serialization: definition of mapping depends on datatype, but usually has straight-forward counterpart in data format (JSON).</p>\n</blockquote>\n<pre><code>@JsonFormat(pattern=&quot;HH:mm:ss&quot;, shape=JsonFormat.Shape.STRING)\nprivate LocalTime delgtexpytm;\n</code></pre>\n"}],"owner":{"account_id":2985148,"reputation":385,"user_id":2534177,"accept_rate":67,"display_name":"Soumav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680517861,"creation_date":1680510628,"question_id":75917439,"body_markdown":"The original time value stored in my cassandra DB is : 11:43:00.000000000\r\n\r\nI am trying to fetch it in my JSON response as : **11:43:00**\r\n\r\nWhat I am getting is: **11:43**\r\n\r\nWhat I have tried so far in my model class:\r\n\r\n    import java.time.LocalTime;\r\n    @Getter @Setter @RequiredArgsConstructor @AllArgsConstructor\r\n    public class Test {\r\n    ...\r\n    @JsonFormat(pattern=&quot;HH:mm:ss&quot;)\r\n    private LocalTime delgtexpytm;\r\nAND\r\n\r\n    @JsonFormat(pattern=&quot;KK:mm:ss&quot;)\r\n    private LocalTime delgtexpytm;\r\n\r\nBut both of them are trimming the trailing 00.","title":"LocalTime truncating trailing 00 values","body":"<p>The original time value stored in my cassandra DB is : 11:43:00.000000000</p>\n<p>I am trying to fetch it in my JSON response as : <strong>11:43:00</strong></p>\n<p>What I am getting is: <strong>11:43</strong></p>\n<p>What I have tried so far in my model class:</p>\n<pre><code>import java.time.LocalTime;\n@Getter @Setter @RequiredArgsConstructor @AllArgsConstructor\npublic class Test {\n...\n@JsonFormat(pattern=&quot;HH:mm:ss&quot;)\nprivate LocalTime delgtexpytm;\n</code></pre>\n<p>AND</p>\n<pre><code>@JsonFormat(pattern=&quot;KK:mm:ss&quot;)\nprivate LocalTime delgtexpytm;\n</code></pre>\n<p>But both of them are trimming the trailing 00.</p>\n"},{"tags":["java","netbeans","jframe","jpanel"],"comments":[{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":3,"creation_date":1422035509,"post_id":28115745,"comment_id":44605689,"body_markdown":"post code and we help you","body":"post code and we help you"},{"owner":{"account_id":3394295,"reputation":3090,"user_id":2932994,"accept_rate":52,"display_name":"simonides"},"score":0,"creation_date":1422037256,"post_id":28115745,"comment_id":44606595,"body_markdown":"Maybe you should give JavaFX a try, it&#39;s a lot more straight forward. But you should clearly improve this question in terms of what you already tried and what doesn&#39;t work.","body":"Maybe you should give JavaFX a try, it&#39;s a lot more straight forward. But you should clearly improve this question in terms of what you already tried and what doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":5360582,"reputation":453,"user_id":4271966,"display_name":"David Coler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422036829,"creation_date":1422036829,"answer_id":28116155,"question_id":28115745,"body_markdown":"that is not just a panel you want to pop up that would be considered a whole other frame.  I would suggest making a different JFrame class that when the button is clicked instantiates the other frame.","title":"Making a JPanel Popup","body":"<p>that is not just a panel you want to pop up that would be considered a whole other frame.  I would suggest making a different JFrame class that when the button is clicked instantiates the other frame.</p>\n"},{"tags":[],"owner":{"account_id":5323439,"reputation":1540,"user_id":4458300,"accept_rate":80,"display_name":"Vulovic Vukasin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459350132,"creation_date":1422036872,"answer_id":28116169,"question_id":28115745,"body_markdown":"Ok so,for this you will need 2 JFrames. First one is where the buttons and everything is and the second one is the one that will popup. You will have 3 classes: `Main`, `classWhere1stJframeis`, `ClassWhere2ndJframeis`.\r\n\r\nThis is `main`:\r\n\r\n    package proba;\r\n\r\n    import javax.swing.JFrame;\r\n\r\n    public class mejn {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    // TODO Auto-generated method stub\r\n\r\n\t\t    Frame1 frejm = new Frame1();\r\n\t\t    frejm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t    frejm.setVisible(true);\r\n\t\t    frejm.setSize(250, 300);\r\n\t    }\r\n    }\r\n\r\nThis is `Frame1`:\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n\r\n    public class Frame1 extends JFrame {\r\n\t    JFrame Frame = new JFrame();\r\n\t    JButton Button1 = new JButton();\r\n\t\r\n\t    public Frame1()\r\n\t    {\r\n\t\t    super(&quot;The title&quot;);\r\n\r\n\t\t    Frame = new JFrame();\r\n\t\t    Button1 = new JButton();\r\n\t\t    Frame.add(Button1);\r\n\r\n\t\t    thehandler handler = new thehandler();\r\n\t\t    Button1.addActionListener(handler);\r\n\t    }\r\n\t\r\n\r\n\t    private class thehandler implements ActionListener\r\n\t    {\r\n\t\t    public void actionPerformed(ActionEvent event)\r\n\t\t    {\r\n\t\t\t    if(event.getSource()==Button1)\r\n\t\t\t    {\r\n\t\t\t\t    Frejm2 frejm = new Frejm2();\r\n\t\t\t\t    frejm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t    frejm.setVisible(true);\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\n\r\nThis is `Frame2`:\r\n\r\n    import javax.swing.JFrame;\r\n\r\n    public class Frejm2 extends JFrame {\r\n\t    JFrame Frame2 = new JFrame();\r\n\t\r\n\t    public Frejm2()\r\n\t    {\r\n\t\t    super(&quot;Title&quot;);\r\n\t    }\r\n    }","title":"Making a JPanel Popup","body":"<p>Ok so,for this you will need 2 JFrames. First one is where the buttons and everything is and the second one is the one that will popup. You will have 3 classes: <code>Main</code>, <code>classWhere1stJframeis</code>, <code>ClassWhere2ndJframeis</code>.</p>\n\n<p>This is <code>main</code>:</p>\n\n<pre><code>package proba;\n\nimport javax.swing.JFrame;\n\npublic class mejn {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        Frame1 frejm = new Frame1();\n        frejm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frejm.setVisible(true);\n        frejm.setSize(250, 300);\n    }\n}\n</code></pre>\n\n<p>This is <code>Frame1</code>:</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\n\npublic class Frame1 extends JFrame {\n    JFrame Frame = new JFrame();\n    JButton Button1 = new JButton();\n\n    public Frame1()\n    {\n        super(\"The title\");\n\n        Frame = new JFrame();\n        Button1 = new JButton();\n        Frame.add(Button1);\n\n        thehandler handler = new thehandler();\n        Button1.addActionListener(handler);\n    }\n\n\n    private class thehandler implements ActionListener\n    {\n        public void actionPerformed(ActionEvent event)\n        {\n            if(event.getSource()==Button1)\n            {\n                Frejm2 frejm = new Frejm2();\n                frejm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frejm.setVisible(true);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is <code>Frame2</code>:</p>\n\n<pre><code>import javax.swing.JFrame;\n\npublic class Frejm2 extends JFrame {\n    JFrame Frame2 = new JFrame();\n\n    public Frejm2()\n    {\n        super(\"Title\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680517738,"creation_date":1680517738,"answer_id":75918463,"question_id":28115745,"body_markdown":"Very likely you do not want a JFrame to popup but a modal dialog, and you might want your code to continue once the user has entered the necessary information.\r\n\r\nThe code for your button would look like this:\r\n\r\n    JButton button = new JButton(&quot;Nova Festa...&quot;);\r\n    button.addActionListener(new ActionListener() {\r\n\r\n        NovaFestaPanel nfp = new NovaFestaPanel();  // this is a panel you create that contains all the fields that you expect and getters/setters for them\r\n        nfp.setXXXX(); // use the setters to prepopulate the panel if you need\r\n\r\n        if (JOptionPane.showInputDialog(this, nfp)==JOptionPane.OK_OPTION) {\r\n\r\n            // the user entered some data and pressed the OK button.\r\n            // use the getters and do the needful with these values\r\n            String xxxx = nfp.getXXXX();\r\n\r\n        }\r\n    });","title":"Making a JPanel Popup","body":"<p>Very likely you do not want a JFrame to popup but a modal dialog, and you might want your code to continue once the user has entered the necessary information.</p>\n<p>The code for your button would look like this:</p>\n<pre><code>JButton button = new JButton(&quot;Nova Festa...&quot;);\nbutton.addActionListener(new ActionListener() {\n\n    NovaFestaPanel nfp = new NovaFestaPanel();  // this is a panel you create that contains all the fields that you expect and getters/setters for them\n    nfp.setXXXX(); // use the setters to prepopulate the panel if you need\n\n    if (JOptionPane.showInputDialog(this, nfp)==JOptionPane.OK_OPTION) {\n\n        // the user entered some data and pressed the OK button.\n        // use the getters and do the needful with these values\n        String xxxx = nfp.getXXXX();\n\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":5541860,"reputation":11,"user_id":4398089,"display_name":"Henry Fantacussi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14867,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680517738,"creation_date":1422035337,"question_id":28115745,"body_markdown":"I&#39;m developing an app for computer, and i have a JFrame with a lot of JPanel on it, and when i click on a button, i want another JPanel to popup.\r\n\r\nExample: When i click on this button\r\nhttp://i62.tinypic.com/c2fzr.jpg\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nI want this window to popup\r\nhttp://i62.tinypic.com/2qi0in7.jpg[![enter image description here][2]][2]\r\n\r\n\r\n\r\nI already tried making a popup menu, but i don&#39;t want a menu, i want a window, and i can&#39;t seen to find out how to do it :(\r\nIt&#39;s probably easy, but i don&#39;t have enough knowledge in java\r\n\r\nAny help? thanks guys!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R5V0x.png\r\n  [2]: https://i.stack.imgur.com/FSbHQ.png","title":"Making a JPanel Popup","body":"<p>I'm developing an app for computer, and i have a JFrame with a lot of JPanel on it, and when i click on a button, i want another JPanel to popup.</p>\n\n<p>Example: When i click on this button\n<a href=\"http://i62.tinypic.com/c2fzr.jpg\" rel=\"nofollow noreferrer\">http://i62.tinypic.com/c2fzr.jpg</a>\n<a href=\"https://i.stack.imgur.com/R5V0x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R5V0x.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want this window to popup\n<a href=\"http://i62.tinypic.com/2qi0in7.jpg\" rel=\"nofollow noreferrer\">http://i62.tinypic.com/2qi0in7.jpg</a><a href=\"https://i.stack.imgur.com/FSbHQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FSbHQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I already tried making a popup menu, but i don't want a menu, i want a window, and i can't seen to find out how to do it :(\nIt's probably easy, but i don't have enough knowledge in java</p>\n\n<p>Any help? thanks guys!</p>\n"},{"tags":["java","string","concatenation"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":5,"creation_date":1413478757,"post_id":26409907,"comment_id":41468073,"body_markdown":"Youve posted too early. Try something first then come back if you get stuck","body":"Youve posted too early. Try something first then come back if you get stuck"},{"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"score":1,"creation_date":1413478931,"post_id":26409907,"comment_id":41468151,"body_markdown":"Hint: Think about the way you add numbers by hand.","body":"Hint: Think about the way you add numbers by hand."}],"answers":[{"tags":[],"owner":{"account_id":929187,"reputation":222,"user_id":959385,"display_name":"Joshua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413478922,"creation_date":1413478922,"answer_id":26409978,"question_id":26409907,"body_markdown":"Basically you find the length of the string. Loop over each individual character (I would start at the end of the string and work backwards). Then for each iteration of the loop you would take the char convert that to an int (through type casting) and add it to your total. Each time you step make sure to multiple your number by a power of ten. take that value then add them and then output your answer. (not gonna give you code cus its a homework assignment ;) )\r\n ","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<p>Basically you find the length of the string. Loop over each individual character (I would start at the end of the string and work backwards). Then for each iteration of the loop you would take the char convert that to an int (through type casting) and add it to your total. Each time you step make sure to multiple your number by a power of ten. take that value then add them and then output your answer. (not gonna give you code cus its a homework assignment ;) )</p>\n"},{"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1413479182,"post_id":26410027,"comment_id":41468281,"body_markdown":"The assignment clearly requires adding the numbers *as strings* without converting them to integers.","body":"The assignment clearly requires adding the numbers <i>as strings</i> without converting them to integers."},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":1,"creation_date":1413480590,"post_id":26410027,"comment_id":41468988,"body_markdown":"@DavidConrad I think what OP means was that you cannot parse the entire Sting as integer and add them up. I think converting single char into digits are allowed.","body":"@DavidConrad I think what OP means was that you cannot parse the entire Sting as integer and add them up. I think converting single char into digits are allowed."}],"tags":[],"owner":{"account_id":2192098,"reputation":6127,"user_id":1938826,"accept_rate":85,"display_name":"James Parsons"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413484813,"creation_date":1413479098,"answer_id":26410027,"question_id":26409907,"body_markdown":"    int a = Integer.valueOf(args[0]);\r\n    int b = Integer.valueOf(args[1]);\r\n\r\nVery simple. I found a lot just looking at Google. Or:\r\n\r\n    Integer i = new Integer(args[x]);","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<pre><code>int a = Integer.valueOf(args[0]);\nint b = Integer.valueOf(args[1]);\n</code></pre>\n\n<p>Very simple. I found a lot just looking at Google. Or:</p>\n\n<pre><code>Integer i = new Integer(args[x]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5198179,"reputation":106,"user_id":4158614,"display_name":"Saptak Bhattacharya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413977502,"creation_date":1413977502,"answer_id":26506447,"question_id":26409907,"body_markdown":"Try this one:-\r\n\r\nFirst,you take the input.Let s1 and s2 be the 2 strings.The required loop is like this:-\r\n\r\n    String ar[]={s1,s2};\r\n    int n=0;\r\n    for(int i=0;i&lt;2;i++)\r\n    n+=Integer.parseInt(ar[i]);\r\n    System.out.println(&quot;The sum is:-&quot;+n);\r\n","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<p>Try this one:-</p>\n\n<p>First,you take the input.Let s1 and s2 be the 2 strings.The required loop is like this:-</p>\n\n<pre><code>String ar[]={s1,s2};\nint n=0;\nfor(int i=0;i&lt;2;i++)\nn+=Integer.parseInt(ar[i]);\nSystem.out.println(\"The sum is:-\"+n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3490910,"reputation":917,"user_id":2920626,"accept_rate":78,"display_name":"Michael Sacks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1416346439,"creation_date":1416346439,"answer_id":27004473,"question_id":26409907,"body_markdown":"Just use &quot;+&quot; to add them together. I think that you are overthinking the question.","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<p>Just use \"+\" to add them together. I think that you are overthinking the question.</p>\n"},{"tags":[],"owner":{"account_id":5158628,"reputation":13,"user_id":4131101,"display_name":"Animesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615313054,"creation_date":1615313054,"answer_id":66552375,"question_id":26409907,"body_markdown":"      public String addStrings(String num1, String num2) {\r\n          StringBuilder sb = new StringBuilder();\r\n          int carry = 0;\r\n          int i = num1.length() - 1;\r\n          int j = num2.length() - 1;\r\n    \r\n          while (i &gt; -1 || j &gt; -1) {\r\n              int sum = carry + (i &lt; 0 ? 0 : num1.charAt(i--) - 48);\r\n              sum += j &lt; 0 ? 0 : num2.charAt(j--) - 48;\r\n              sb.append(sum % 10);\r\n              carry = sum / 10;\r\n          }\r\n          return sb.append(carry == 1 ? &quot;1&quot; : &quot;&quot;).reverse().toString();\r\n      }","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<pre><code>  public String addStrings(String num1, String num2) {\n      StringBuilder sb = new StringBuilder();\n      int carry = 0;\n      int i = num1.length() - 1;\n      int j = num2.length() - 1;\n\n      while (i &gt; -1 || j &gt; -1) {\n          int sum = carry + (i &lt; 0 ? 0 : num1.charAt(i--) - 48);\n          sum += j &lt; 0 ? 0 : num2.charAt(j--) - 48;\n          sb.append(sum % 10);\n          carry = sum / 10;\n      }\n      return sb.append(carry == 1 ? &quot;1&quot; : &quot;&quot;).reverse().toString();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7984541,"reputation":41,"user_id":6024537,"display_name":"Lohit Barki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680517668,"creation_date":1680517668,"answer_id":75918456,"question_id":26409907,"body_markdown":"**Need to parse each character of a Strings to calculate the sum as below:**\r\n\r\n    private static String calcSum(String a, String b) {\r\n        StringBuilder res = new StringBuilder();\r\n        int carry = 0;\r\n        int sum = 0;\r\n        for(int i=a.length()-1, j=b.length()-1; i&gt;=0 || j&gt;=0; i--,j--) {\r\n            char charA = (i&gt;=0)? a.charAt(i) : &#39;0&#39;;\r\n            char charB = (j&gt;=0)? b.charAt(j) : &#39;0&#39;;\r\n            sum = charA-&#39;0&#39; + charB-&#39;0&#39; + carry;\r\n            carry = (sum&gt;=10)? 1 : 0;\r\n            res.append(sum%10);\r\n        }\r\n        if(sum&gt;=10) {\r\n            res.append(1);\r\n        }\r\n        return res.reverse().toString();\r\n    }","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<p><strong>Need to parse each character of a Strings to calculate the sum as below:</strong></p>\n<pre><code>private static String calcSum(String a, String b) {\n    StringBuilder res = new StringBuilder();\n    int carry = 0;\n    int sum = 0;\n    for(int i=a.length()-1, j=b.length()-1; i&gt;=0 || j&gt;=0; i--,j--) {\n        char charA = (i&gt;=0)? a.charAt(i) : '0';\n        char charB = (j&gt;=0)? b.charAt(j) : '0';\n        sum = charA-'0' + charB-'0' + carry;\n        carry = (sum&gt;=10)? 1 : 0;\n        res.append(sum%10);\n    }\n    if(sum&gt;=10) {\n        res.append(1);\n    }\n    return res.reverse().toString();\n}\n</code></pre>\n"}],"owner":{"account_id":4107191,"reputation":50,"user_id":3370848,"accept_rate":43,"display_name":"TommyConnor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2379,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":27004473,"answer_count":6,"score":-4,"last_activity_date":1680517668,"creation_date":1413478647,"question_id":26409907,"body_markdown":"I need to have 2 command line arguments as 2 numbers that are strings. Then using a loop, add the numbers together. For example,\r\n\r\n&gt;&gt;&gt;Java AddStrings 123 456\r\n\r\n&gt;&gt;&gt;The sum is: 579\r\n\r\nIt&#39;s for an assignment in class, having trouble figuring out what the loop would be. I can&#39;t just convert the strings to integers using parse.Int either. Any ideas?\r\n","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<p>I need to have 2 command line arguments as 2 numbers that are strings. Then using a loop, add the numbers together. For example,</p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>Java AddStrings 123 456</p>\n      \n      <p>The sum is: 579</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>It's for an assignment in class, having trouble figuring out what the loop would be. I can't just convert the strings to integers using parse.Int either. Any ideas?</p>\n"},{"tags":["java","string","nlp"],"answers":[{"tags":[],"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232977661,"creation_date":1232977661,"answer_id":479842,"question_id":479825,"body_markdown":"From the java docs, it explains why this doesn&#39;t work. \r\n\r\n&gt; If this String object represents an\r\n&gt; empty character sequence, or the first\r\n&gt; and last characters of character\r\n&gt; sequence represented by this String\r\n&gt; object both have codes greater than\r\n&gt; &#39;\\u0020&#39; (the space character), then a\r\n&gt; reference to this String object is\r\n&gt; returned.\r\n\r\n\r\nYou could role your own version easily enough. perhaps the method codePointAt could be used for this purpose.\r\n\r\nhttp://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html","title":"Problem trimming Japanese string in java","body":"<p>From the java docs, it explains why this doesn't work. </p>\n\n<blockquote>\n  <p>If this String object represents an\n  empty character sequence, or the first\n  and last characters of character\n  sequence represented by this String\n  object both have codes greater than\n  '\\u0020' (the space character), then a\n  reference to this String object is\n  returned.</p>\n</blockquote>\n\n<p>You could role your own version easily enough. perhaps the method codePointAt could be used for this purpose.</p>\n\n<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html</a></p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1232977668,"creation_date":1232977668,"answer_id":479843,"question_id":479825,"body_markdown":"You&#39;ll have to write your own `trim()` method based on `Character.isWhitespace()` - unfortunately, `trim()` does not do what its API doc claims: it strips only ASCII spaces, not any other kind of whitespace.","title":"Problem trimming Japanese string in java","body":"<p>You'll have to write your own <code>trim()</code> method based on <code>Character.isWhitespace()</code> - unfortunately, <code>trim()</code> does not do what its API doc claims: it strips only ASCII spaces, not any other kind of whitespace.</p>\n"},{"comments":[{"owner":{"account_id":60584,"reputation":9058,"user_id":180904,"accept_rate":83,"display_name":"Ashika Umanga Umagiliya"},"score":0,"creation_date":1575854810,"post_id":479846,"comment_id":104694198,"body_markdown":"this doesnt really work for Japanese space character.","body":"this doesnt really work for Japanese space character."}],"tags":[],"owner":{"account_id":9045,"reputation":33861,"user_id":16534,"accept_rate":95,"display_name":"Mike Sickler"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1232977712,"creation_date":1232977712,"answer_id":479846,"question_id":479825,"body_markdown":"Try the Apache Commons&#39; [StringUtils][1] class. The StringUtils.strip() method should work for you.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-release/org/apache/commons/lang/StringUtils.html","title":"Problem trimming Japanese string in java","body":"<p>Try the Apache Commons' <a href=\"http://commons.apache.org/lang/api-release/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> class. The StringUtils.strip() method should work for you.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1232979185,"creation_date":1232979185,"answer_id":479907,"question_id":479825,"body_markdown":"Have a look at [Unicode Normalization][1] and the [Normalizer][2] class. The class is new in Java 6, but you&#39;ll find an equivalent version in the [ICU4J][3] library if you&#39;re on an earlier JRE.\r\n\r\n\t\tint character = 12288;\r\n\t\tchar[] ch = Character.toChars(character);\r\n\t\tString input = new String(ch);\r\n\t\tString normalized = Normalizer.normalize(input, Normalizer.Form.NFKC);\r\n\r\n\t\tSystem.out.println(&quot;Hex value:\\t&quot; + Integer.toHexString(character));\r\n\t\tSystem.out.println(&quot;Trimmed length           :\\t&quot;\r\n\t\t\t\t+ input.trim().length());\r\n\t\tSystem.out.println(&quot;Normalized trimmed length:\\t&quot;\r\n\t\t\t\t+ normalized.trim().length());\r\n\r\n  [1]: http://www.unicode.org/charts/normalization/index.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/text/Normalizer.html\r\n  [3]: http://icu-project.org/","title":"Problem trimming Japanese string in java","body":"<p>Have a look at <a href=\"http://www.unicode.org/charts/normalization/index.html\" rel=\"nofollow noreferrer\">Unicode Normalization</a> and the <a href=\"http://java.sun.com/javase/6/docs/api/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">Normalizer</a> class. The class is new in Java 6, but you'll find an equivalent version in the <a href=\"http://icu-project.org/\" rel=\"nofollow noreferrer\">ICU4J</a> library if you're on an earlier JRE.</p>\n\n<pre><code>    int character = 12288;\n    char[] ch = Character.toChars(character);\n    String input = new String(ch);\n    String normalized = Normalizer.normalize(input, Normalizer.Form.NFKC);\n\n    System.out.println(\"Hex value:\\t\" + Integer.toHexString(character));\n    System.out.println(\"Trimmed length           :\\t\"\n            + input.trim().length());\n    System.out.println(\"Normalized trimmed length:\\t\"\n            + normalized.trim().length());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14793,"reputation":5730,"user_id":30729,"accept_rate":80,"display_name":"Pablo Retyk"},"score":0,"creation_date":1232980374,"post_id":479946,"comment_id":296741,"body_markdown":"this will also replace the white character in the middle of the string","body":"this will also replace the white character in the middle of the string"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1232984418,"post_id":479946,"comment_id":296937,"body_markdown":"Be warned that regular expressions are *much* slower than the standard trim() method. If performance is a problem (or becomes one), it would probably be worth your time to write your own trim() without the regex. At the very least, use a compiled Pattern to do the replaceAll().","body":"Be warned that regular expressions are <i>much</i> slower than the standard trim() method. If performance is a problem (or becomes one), it would probably be worth your time to write your own trim() without the regex. At the very least, use a compiled Pattern to do the replaceAll()."},{"owner":{"account_id":20669,"reputation":815,"user_id":49642,"display_name":"Phil"},"score":0,"creation_date":1232985229,"post_id":479946,"comment_id":296979,"body_markdown":"hmm, not generalizable to other languages.  I much prefer the ICU4J method.","body":"hmm, not generalizable to other languages.  I much prefer the ICU4J method."},{"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"score":0,"creation_date":1232988154,"post_id":479946,"comment_id":297141,"body_markdown":"Phil, I&#39;m not sure I understand your comment, why is it not generalizable to other languages? It should work for all Unicode whitespace.","body":"Phil, I&#39;m not sure I understand your comment, why is it not generalizable to other languages? It should work for all Unicode whitespace."},{"owner":{"account_id":161896,"reputation":538,"user_id":383000,"display_name":"el_stack"},"score":0,"creation_date":1389837152,"post_id":479946,"comment_id":31837213,"body_markdown":"Thanks so much! I wish I could upvote this 10 times.","body":"Thanks so much! I wish I could upvote this 10 times."}],"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1232980324,"creation_date":1232979950,"answer_id":479946,"question_id":479825,"body_markdown":"As an alternative to the `StringUtils` class mentioned by Mike, you can also use a Unicode-aware regular expression, using only Java&#39;s own libraries:\r\n\r\n    &quot;　ユーザー名&quot;.replaceAll(&quot;\\\\p{Z}&quot;, &quot;&quot;)\r\n\r\nOr, to really only trim, and not remove whitespace inside the string:\r\n\r\n    &quot;　ユーザ ー名 &quot;.replaceAll(&quot;(^\\\\p{Z}+|\\\\p{Z}+$)&quot;, &quot;&quot;)\r\n\r\n","title":"Problem trimming Japanese string in java","body":"<p>As an alternative to the <code>StringUtils</code> class mentioned by Mike, you can also use a Unicode-aware regular expression, using only Java's own libraries:</p>\n\n<pre><code>\"　ユーザー名\".replaceAll(\"\\\\p{Z}\", \"\")\n</code></pre>\n\n<p>Or, to really only trim, and not remove whitespace inside the string:</p>\n\n<pre><code>\"　ユーザ ー名 \".replaceAll(\"(^\\\\p{Z}+|\\\\p{Z}+$)\", \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26607116,"reputation":1,"user_id":20227767,"display_name":"ToanLT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680517610,"creation_date":1680517610,"answer_id":75918450,"question_id":479825,"body_markdown":"I think this is simple way to trim Japanese string in java\r\n\r\n\r\n    public static int getTrimmedLength(CharSequence s) {\r\n        int len = s.length();\r\n\r\n        int start = 0;\r\n        while (start &lt; len &amp;&amp; Character.isWhitespace(s.charAt(start))) {\r\n            start++;\r\n        }\r\n\r\n        int end = len;\r\n        while (end &gt; start &amp;&amp; Character.isWhitespace(s.charAt(end - 1))) {\r\n            end--;\r\n        }\r\n\r\n        return end - start;\r\n    }\r\n\r\n    public static String trimWhitespace(CharSequence s) {\r\n        StringBuilder sb = new StringBuilder(s);\r\n\r\n        while (sb.length() &gt; 0 &amp;&amp; Character.isWhitespace(sb.charAt(0))) {\r\n            sb.deleteCharAt(0);\r\n        }\r\n\r\n        while (sb.length() &gt; 0 &amp;&amp; Character.isWhitespace(sb.charAt(sb.length() - 1))) {\r\n            sb.deleteCharAt(sb.length() - 1);\r\n        }\r\n\r\n        return sb.toString();\r\n    }","title":"Problem trimming Japanese string in java","body":"<p>I think this is simple way to trim Japanese string in java</p>\n<pre><code>public static int getTrimmedLength(CharSequence s) {\n    int len = s.length();\n\n    int start = 0;\n    while (start &lt; len &amp;&amp; Character.isWhitespace(s.charAt(start))) {\n        start++;\n    }\n\n    int end = len;\n    while (end &gt; start &amp;&amp; Character.isWhitespace(s.charAt(end - 1))) {\n        end--;\n    }\n\n    return end - start;\n}\n\npublic static String trimWhitespace(CharSequence s) {\n    StringBuilder sb = new StringBuilder(s);\n\n    while (sb.length() &gt; 0 &amp;&amp; Character.isWhitespace(sb.charAt(0))) {\n        sb.deleteCharAt(0);\n    }\n\n    while (sb.length() &gt; 0 &amp;&amp; Character.isWhitespace(sb.charAt(sb.length() - 1))) {\n        sb.deleteCharAt(sb.length() - 1);\n    }\n\n    return sb.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":14793,"reputation":5730,"user_id":30729,"accept_rate":80,"display_name":"Pablo Retyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5675,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":479946,"answer_count":6,"score":5,"last_activity_date":1680517610,"creation_date":1232977194,"question_id":479825,"body_markdown":"I have the following string (japanese) &quot;　ユーザー名&quot; , the first character is &quot;like&quot; whitespace but its number in unicode is 12288, so if I do &quot;　ユーザー名&quot;.trim() I get the same string (trim doesn&#39;t work).\r\nIf i do trim in c++ it works ok.\r\nDoes anyone know how to solve this issue in java?\r\nIs there a special trim method for unicode?","title":"Problem trimming Japanese string in java","body":"<p>I have the following string (japanese) \"　ユーザー名\" , the first character is \"like\" whitespace but its number in unicode is 12288, so if I do \"　ユーザー名\".trim() I get the same string (trim doesn't work).\nIf i do trim in c++ it works ok.\nDoes anyone know how to solve this issue in java?\nIs there a special trim method for unicode?</p>\n"},{"tags":["java","spring","hibernate","grails-orm","spring-orm"],"answers":[{"tags":[],"owner":{"account_id":10766816,"reputation":1303,"user_id":7921521,"display_name":"Mazen Embaby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633950711,"creation_date":1633950711,"answer_id":69525271,"question_id":69524727,"body_markdown":"First, I am not sure you query caching is enabled you can enabled by\r\n\r\n    &lt;property\r\n        name=&quot;hibernate.cache.use_query_cache&quot;\r\n    value=&quot;true&quot; /&gt;\r\nsecond individual queries are not cached , \r\n\r\n&gt; most queries do not benefit from caching or their results. So by default, individual queries are not cached even after enabling query caching. Each particular query that needs to be cached must be manually set as cacheable. This way, the query looks for existing cache results or adds the query results to the cache when being executed.\r\n\r\n\r\nyou can read [docs][1] query caching section.\r\n\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#caching-query","title":"Unable to clear Hibernate queryCache","body":"<p>First, I am not sure you query caching is enabled you can enabled by</p>\n<pre><code>&lt;property\n    name=&quot;hibernate.cache.use_query_cache&quot;\nvalue=&quot;true&quot; /&gt;\n</code></pre>\n<p>second individual queries are not cached ,</p>\n<blockquote>\n<p>most queries do not benefit from caching or their results. So by default, individual queries are not cached even after enabling query caching. Each particular query that needs to be cached must be manually set as cacheable. This way, the query looks for existing cache results or adds the query results to the cache when being executed.</p>\n</blockquote>\n<p>you can read <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#caching-query\" rel=\"nofollow noreferrer\">docs</a> query caching section.</p>\n"},{"tags":[],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680517320,"creation_date":1680517320,"answer_id":75918413,"question_id":69524727,"body_markdown":"You should read this [document][1].\r\n\r\nEvicting entities with JPA\r\n\r\n    entityManager.getEntityManagerFactory().getCache().evict( Person.class );\r\n\r\nEvicting entities with Hibernate native API\r\n\r\n    session.getSessionFactory().getCache().evictQueryRegion( &quot;query.cache.person&quot; );\r\n\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#caching","title":"Unable to clear Hibernate queryCache","body":"<p>You should read this <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#caching\" rel=\"nofollow noreferrer\">document</a>.</p>\n<p>Evicting entities with JPA</p>\n<pre><code>entityManager.getEntityManagerFactory().getCache().evict( Person.class );\n</code></pre>\n<p>Evicting entities with Hibernate native API</p>\n<pre><code>session.getSessionFactory().getCache().evictQueryRegion( &quot;query.cache.person&quot; );\n</code></pre>\n"}],"owner":{"account_id":6500704,"reputation":125,"user_id":5031645,"display_name":"Soven K Rout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680517320,"creation_date":1633948193,"question_id":69524727,"body_markdown":"While using Hibernate-core-5.1.14 I was using `sessionFactory.getQueryCache().clear()` to clear Query Cache. After migrating to Hibernate-core-5.4.18 since now no such method getQueryCache() is available SessionFactoryImpl so I am unable to clear it. \r\n\r\nOn referring to migration documents [sessionfactory-hierarchy-cleanup][1] I got to know that \r\n\r\n&gt; SessionFactory and SessionFactoryImplementor each had a number of methods dealing with cache regions. Many of these methods have been deprecated since 5.0 and those will be removed. However, the functionality has been moved into the org.hibernate.Cache and org.hibernate.engine.spi.CacheImplementor contracts helping implement JPA’s javax.persistence.Cache role.\r\n\r\nThen on searching found `getDefaultQueryCache()` as alternative provided by Hibernate available in `org.hibernate.engine.spi.CacheImplementor`. In order to clear Query Cache I tried using it like `CacheImplementor.getDefaultQueryResultsCache().clear()` but I am unable to get QueryCache only on call of `getDefaultQueryCache()`. Any hint or guidance regarding getting to solution is highly appreciable.  \r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/5.2/migration-guide.adoc#sessionfactory-hierarchy-cleanup","title":"Unable to clear Hibernate queryCache","body":"<p>While using Hibernate-core-5.1.14 I was using <code>sessionFactory.getQueryCache().clear()</code> to clear Query Cache. After migrating to Hibernate-core-5.4.18 since now no such method getQueryCache() is available SessionFactoryImpl so I am unable to clear it.</p>\n<p>On referring to migration documents <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.2/migration-guide.adoc#sessionfactory-hierarchy-cleanup\" rel=\"nofollow noreferrer\">sessionfactory-hierarchy-cleanup</a> I got to know that</p>\n<blockquote>\n<p>SessionFactory and SessionFactoryImplementor each had a number of methods dealing with cache regions. Many of these methods have been deprecated since 5.0 and those will be removed. However, the functionality has been moved into the org.hibernate.Cache and org.hibernate.engine.spi.CacheImplementor contracts helping implement JPA’s javax.persistence.Cache role.</p>\n</blockquote>\n<p>Then on searching found <code>getDefaultQueryCache()</code> as alternative provided by Hibernate available in <code>org.hibernate.engine.spi.CacheImplementor</code>. In order to clear Query Cache I tried using it like <code>CacheImplementor.getDefaultQueryResultsCache().clear()</code> but I am unable to get QueryCache only on call of <code>getDefaultQueryCache()</code>. Any hint or guidance regarding getting to solution is highly appreciable.</p>\n"},{"tags":["java","ubuntu","intellij-idea","linux-mint","flatpak"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1549159603,"post_id":54499133,"comment_id":95803589,"body_markdown":"You can try installing IntelliJ IDEA from http://www.jetbrains.com/idea/download/index.html and see if it works better. .tar.gz distribution can be launched using `./idea.sh`. Note that you can also create a launcher script using Tools | Create Command-line Launcher. This should work with any version. Then just `sudo idea`. In the file chooser dialog there is [an option to show hidden files and directories](https://i.imgur.com/x89Xr0a.png). Does it help if you enable it? You can also just download and and unpack the standard JDK distribution (Oracle JDK or OpenJDK).","body":"You can try installing IntelliJ IDEA from <a href=\"http://www.jetbrains.com/idea/download/index.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download/index.html</a> and see if it works better. .tar.gz distribution can be launched using <code>.&#47;idea.sh</code>. Note that you can also create a launcher script using Tools | Create Command-line Launcher. This should work with any version. Then just <code>sudo idea</code>. In the file chooser dialog there is <a href=\"https://i.imgur.com/x89Xr0a.png\" rel=\"nofollow noreferrer\">an option to show hidden files and directories</a>. Does it help if you enable it? You can also just download and and unpack the standard JDK distribution (Oracle JDK or OpenJDK)."},{"owner":{"account_id":9245404,"reputation":2155,"user_id":6867430,"display_name":"ivanivan"},"score":1,"creation_date":1549162420,"post_id":54499133,"comment_id":95803943,"body_markdown":"Do you have a `$JAVA_HOME` env. var set?","body":"Do you have a <code>$JAVA_HOME</code> env. var set?"},{"owner":{"account_id":3203449,"reputation":592,"user_id":3439849,"accept_rate":100,"display_name":"Jason"},"score":0,"creation_date":1549169033,"post_id":54499133,"comment_id":95804836,"body_markdown":"@CrazyCoder installing by just downloading the .tar.gz and running ./idea.sh worked like a charm. In fact, the installation was obviously healthier in that it was able to detect my JDK without having to specify it manually. I can&#39;t seem to accept your comment as an answer, though.","body":"@CrazyCoder installing by just downloading the .tar.gz and running ./idea.sh worked like a charm. In fact, the installation was obviously healthier in that it was able to detect my JDK without having to specify it manually. I can&#39;t seem to accept your comment as an answer, though."},{"owner":{"account_id":1979463,"reputation":2311,"user_id":1776419,"accept_rate":100,"display_name":"Darren Smith"},"score":0,"creation_date":1630408056,"post_id":54499133,"comment_id":121942413,"body_markdown":"could be related: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360007708559-Mounted-directories-not-visible-in-Open-File-or-Project-menu","body":"could be related: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360007708559-Mounted-directories-not-visible-in-Open-File-or-Project-menu\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a>"},{"owner":{"account_id":3059088,"reputation":191,"user_id":2592155,"display_name":"Jonathan Cole"},"score":0,"creation_date":1645643535,"post_id":54499133,"comment_id":125929981,"body_markdown":"Had same issue Linux Mint 20, Intellij 2021.3.1 community, chmod 777 as test worked, so I just chose download JDK from Intellij/File/Project Structure/SDKs/+ using Oracle OpenJDK 17.0.2","body":"Had same issue Linux Mint 20, Intellij 2021.3.1 community, chmod 777 as test worked, so I just chose download JDK from Intellij/File/Project Structure/SDKs/+ using Oracle OpenJDK 17.0.2"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1578589939,"creation_date":1549179215,"answer_id":54500834,"question_id":54499133,"body_markdown":"You can try installing IntelliJ IDEA from [here][1] and see if it works better. `.tar.gz` distribution can be launched using `./idea.sh`. Note that you can also create a launcher script using &lt;kbd&gt;Tools&lt;/kbd&gt;&gt;&lt;kbd&gt;Create Command-line Launcher&lt;/kbd&gt;. This should work with any version.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/download/index.html","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<p>You can try installing IntelliJ IDEA from <a href=\"https://www.jetbrains.com/idea/download/index.html\" rel=\"nofollow noreferrer\">here</a> and see if it works better. <code>.tar.gz</code> distribution can be launched using <code>./idea.sh</code>. Note that you can also create a launcher script using <kbd>Tools</kbd>><kbd>Create Command-line Launcher</kbd>. This should work with any version.</p>\n"},{"comments":[{"owner":{"account_id":243799,"reputation":9073,"user_id":516188,"accept_rate":94,"display_name":"Emmanuel Touzery"},"score":0,"creation_date":1565618810,"post_id":55965546,"comment_id":101398899,"body_markdown":"if one installs the JDK through flatpak, which folder should we then give to intellij to find the JDK? I&#39;m not sure where the org.freedesktop.Sdk.Extension.openjdk8 files end up begin on disk or where intellij running as a flatpak would see them (which may not be the same thing)","body":"if one installs the JDK through flatpak, which folder should we then give to intellij to find the JDK? I&#39;m not sure where the org.freedesktop.Sdk.Extension.openjdk8 files end up begin on disk or where intellij running as a flatpak would see them (which may not be the same thing)"},{"owner":{"account_id":243799,"reputation":9073,"user_id":516188,"accept_rate":94,"display_name":"Emmanuel Touzery"},"score":0,"creation_date":1565677100,"post_id":55965546,"comment_id":101416446,"body_markdown":"so the path in flatpak is `/usr/lib/sdk/openjdk8/jvm/java-8-openjdk`. More info [in the github intellij flatpak bug tracker](https://github.com/flathub/com.jetbrains.IntelliJ-IDEA-Ultimate/issues/8).","body":"so the path in flatpak is <code>&#47;usr&#47;lib&#47;sdk&#47;openjdk8&#47;jvm&#47;java-8-openjdk</code>. More info <a href=\"https://github.com/flathub/com.jetbrains.IntelliJ-IDEA-Ultimate/issues/8\" rel=\"nofollow noreferrer\">in the github intellij flatpak bug tracker</a>."}],"tags":[],"owner":{"account_id":932134,"reputation":370,"user_id":961806,"display_name":"Kevin Dubois"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1556870376,"creation_date":1556870376,"answer_id":55965546,"question_id":54499133,"body_markdown":"I had the same problem with IntelliJ installed with Flatpak on Fedora 29. I believe (but correct me if I&#39;m wrong) that Linux Mint&#39;s Software Manager also uses flatpaks.  \r\n\r\nIt turns out this is one of those &quot;it&#39;s a feature not a bug&quot; situations due to the way Flatpak sandboxes applications.  As per the documentation at http://docs.flatpak.org/en/latest/sandbox-permissions.html:\r\n\r\n&gt; Sandbox Permissions\r\nOne of Flatpak’s main goals is to increase the security of desktop systems by isolating applications from one another. This is achieved using sandboxing and means that, by default, applications that are run with Flatpak have extremely limited access to the host environment. This includes:\r\n&gt; \r\n&gt; No access to any host files except the runtime, the app and\r\n&gt; ~/.var/app/$APPID. Only the last of these is writable. No access to\r\n&gt; the network. No access to any device nodes (apart from /dev/null,\r\n&gt; etc). No access to processes outside the sandbox. Limited syscalls.\r\n&gt; For instance, apps can’t use nonstandard network socket types or\r\n&gt; ptrace other processes. Limited access to the session D-Bus instance -\r\n&gt; an app can only own its own name on the bus. No access to host\r\n&gt; services like X11, system D-Bus, or PulseAudio. Most applications will\r\n&gt; need access to some of these resources in order to be useful. This is\r\n&gt; primarily done during the finishing build stage, which can be\r\n&gt; configured through the finish-args section of the manifest file (see\r\n&gt; Manifests).\r\n\r\nOne way around this is to install JDK versions using flatpak as well, eg. \r\n\r\n    flatpak install flathub org.freedesktop.Sdk.Extension.openjdk9 org.freedesktop.Sdk.Extension.openjdk10 org.freedesktop.Sdk.Extension.openjdk11\r\n\r\nAnother way around this is the solution CrazyCoder provided, which is to install IntelliJ using their tar.gz.  This eliminates the entire sandbox constraint altogether.","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<p>I had the same problem with IntelliJ installed with Flatpak on Fedora 29. I believe (but correct me if I'm wrong) that Linux Mint's Software Manager also uses flatpaks.  </p>\n\n<p>It turns out this is one of those \"it's a feature not a bug\" situations due to the way Flatpak sandboxes applications.  As per the documentation at <a href=\"http://docs.flatpak.org/en/latest/sandbox-permissions.html\" rel=\"noreferrer\">http://docs.flatpak.org/en/latest/sandbox-permissions.html</a>:</p>\n\n<blockquote>\n  <p>Sandbox Permissions\n  One of Flatpak’s main goals is to increase the security of desktop systems by isolating applications from one another. This is achieved using sandboxing and means that, by default, applications that are run with Flatpak have extremely limited access to the host environment. This includes:</p>\n  \n  <p>No access to any host files except the runtime, the app and\n  ~/.var/app/$APPID. Only the last of these is writable. No access to\n  the network. No access to any device nodes (apart from /dev/null,\n  etc). No access to processes outside the sandbox. Limited syscalls.\n  For instance, apps can’t use nonstandard network socket types or\n  ptrace other processes. Limited access to the session D-Bus instance -\n  an app can only own its own name on the bus. No access to host\n  services like X11, system D-Bus, or PulseAudio. Most applications will\n  need access to some of these resources in order to be useful. This is\n  primarily done during the finishing build stage, which can be\n  configured through the finish-args section of the manifest file (see\n  Manifests).</p>\n</blockquote>\n\n<p>One way around this is to install JDK versions using flatpak as well, eg. </p>\n\n<pre><code>flatpak install flathub org.freedesktop.Sdk.Extension.openjdk9 org.freedesktop.Sdk.Extension.openjdk10 org.freedesktop.Sdk.Extension.openjdk11\n</code></pre>\n\n<p>Another way around this is the solution CrazyCoder provided, which is to install IntelliJ using their tar.gz.  This eliminates the entire sandbox constraint altogether.</p>\n"},{"tags":[],"owner":{"account_id":3871364,"reputation":509,"user_id":4335271,"display_name":"Carolus"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1680517262,"creation_date":1578582100,"answer_id":59666752,"question_id":54499133,"body_markdown":"As others said - sandboxing is a feature, not a bug.\r\n\r\nI think @Kevin Dubois&#39; answer should perhaps be preferred where applicable (installing via flatpak the thing you want to share), but there is another solution to this problem if you would like to **continue using flatpak**\r\n\r\n\r\n# How to find `/etc` and `/usr` paths in a flatpak:\r\n\r\nAs mentioned at the end of [this][2] section of the documentation:\r\n\r\n* `/etc` is mounted at `/var/run/host/etc` for the flatpakked software\r\n* `/usr` is mounted at `/var/run/host/usr` for the flatpakked software\r\n\r\nYou also need to grant the `--filesystem=host:ro` permission to your app if it doesn&#39;t have it yet (see below on how).\r\n\r\n# If you need to find or manage other paths:\r\n\r\n**NB:** It is generally a good idea to give software as little extra access as possible. That&#39;s why it is preferable to use the *optional* `:ro` suffix when granting access to a path to make it accessible in *read-only*. *You* will also be partly responsible if some software abuses the access it has to your device.\r\n\r\n\r\nThere&#39;s some useful path variables in the [filesystem permissions reference][3] and a lot of additional information about filesystem permissions [here][2].\r\n\r\n## GUI option:\r\n\r\n[Flatseal][1] is the most convenient option.\r\n\r\nIt only manages permissions on the user-level, so if you need to change settings for all users (usually not), then turn to the next section.\r\n\r\n## CLI option:\r\n\r\nThe examples below are for managing the path `/var/lib/gems` for the flatpak app `com.jetbrains.IntelliJ-IDEA-Community`. The 3 last commands are given with the `--user` flag for a user-level change. Without the flag and with `sudo` prepended the change would be applied to all users.\r\n\r\n### To check current permissions:\r\n```bash\r\nflatpak info --show-permissions com.jetbrains.IntelliJ-IDEA-Community\r\n```\r\n\r\n### To grant access:\r\n```bash\r\nflatpak override --user --filesystem=&quot;/var/lib/gems&quot;:ro com.jetbrains.IntelliJ-IDEA-Community\r\n```\r\n\r\n### To forbid access:\r\n```bash\r\nflatpak override --user --nofilesystem=&quot;/var/lib/gems&quot; com.jetbrains.IntelliJ-IDEA-Community\r\n```\r\n\r\n### To reset permissions to the initial state:\r\n```bash\r\nflatpak override --user --reset com.jetbrains.IntelliJ-IDEA-Community\r\n```\r\n\r\n  [1]: https://flathub.org/apps/details/com.github.tchx84.Flatseal\r\n  [2]: https://docs.flatpak.org/en/latest/sandbox-permissions.html#filesystem-access\r\n  [3]: https://docs.flatpak.org/en/latest/sandbox-permissions-reference.html#filesystem-permissions","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<p>As others said - sandboxing is a feature, not a bug.</p>\n<p>I think @Kevin Dubois' answer should perhaps be preferred where applicable (installing via flatpak the thing you want to share), but there is another solution to this problem if you would like to <strong>continue using flatpak</strong></p>\n<h1>How to find <code>/etc</code> and <code>/usr</code> paths in a flatpak:</h1>\n<p>As mentioned at the end of <a href=\"https://docs.flatpak.org/en/latest/sandbox-permissions.html#filesystem-access\" rel=\"nofollow noreferrer\">this</a> section of the documentation:</p>\n<ul>\n<li><code>/etc</code> is mounted at <code>/var/run/host/etc</code> for the flatpakked software</li>\n<li><code>/usr</code> is mounted at <code>/var/run/host/usr</code> for the flatpakked software</li>\n</ul>\n<p>You also need to grant the <code>--filesystem=host:ro</code> permission to your app if it doesn't have it yet (see below on how).</p>\n<h1>If you need to find or manage other paths:</h1>\n<p><strong>NB:</strong> It is generally a good idea to give software as little extra access as possible. That's why it is preferable to use the <em>optional</em> <code>:ro</code> suffix when granting access to a path to make it accessible in <em>read-only</em>. <em>You</em> will also be partly responsible if some software abuses the access it has to your device.</p>\n<p>There's some useful path variables in the <a href=\"https://docs.flatpak.org/en/latest/sandbox-permissions-reference.html#filesystem-permissions\" rel=\"nofollow noreferrer\">filesystem permissions reference</a> and a lot of additional information about filesystem permissions <a href=\"https://docs.flatpak.org/en/latest/sandbox-permissions.html#filesystem-access\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h2>GUI option:</h2>\n<p><a href=\"https://flathub.org/apps/details/com.github.tchx84.Flatseal\" rel=\"nofollow noreferrer\">Flatseal</a> is the most convenient option.</p>\n<p>It only manages permissions on the user-level, so if you need to change settings for all users (usually not), then turn to the next section.</p>\n<h2>CLI option:</h2>\n<p>The examples below are for managing the path <code>/var/lib/gems</code> for the flatpak app <code>com.jetbrains.IntelliJ-IDEA-Community</code>. The 3 last commands are given with the <code>--user</code> flag for a user-level change. Without the flag and with <code>sudo</code> prepended the change would be applied to all users.</p>\n<h3>To check current permissions:</h3>\n<pre class=\"lang-bash prettyprint-override\"><code>flatpak info --show-permissions com.jetbrains.IntelliJ-IDEA-Community\n</code></pre>\n<h3>To grant access:</h3>\n<pre class=\"lang-bash prettyprint-override\"><code>flatpak override --user --filesystem=&quot;/var/lib/gems&quot;:ro com.jetbrains.IntelliJ-IDEA-Community\n</code></pre>\n<h3>To forbid access:</h3>\n<pre class=\"lang-bash prettyprint-override\"><code>flatpak override --user --nofilesystem=&quot;/var/lib/gems&quot; com.jetbrains.IntelliJ-IDEA-Community\n</code></pre>\n<h3>To reset permissions to the initial state:</h3>\n<pre class=\"lang-bash prettyprint-override\"><code>flatpak override --user --reset com.jetbrains.IntelliJ-IDEA-Community\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2278942,"reputation":456,"user_id":2004561,"accept_rate":25,"display_name":"Ed Griffin"},"score":0,"creation_date":1637344274,"post_id":65043348,"comment_id":123809895,"body_markdown":"Yes, the host directory /usr/lib/jvm/... can be found mounted under /var/run/host/usr/lib/jvm/... from the flatpak application.","body":"Yes, the host directory /usr/lib/jvm/... can be found mounted under /var/run/host/usr/lib/jvm/... from the flatpak application."}],"tags":[],"owner":{"account_id":20078330,"reputation":51,"user_id":14721566,"display_name":"Camilla"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606507891,"creation_date":1606507891,"answer_id":65043348,"question_id":54499133,"body_markdown":"The hint to the mounted directories by @Carolus worked perfectly for me:\r\nOn my Linx Mint the jdk had been installed within /usr/lib/jvm/java-11-openjdk. \r\n\r\n(found by usage of &quot;which java&quot; and using the result with &quot;readlink -e &quot;)\r\n\r\nSelected /var/run/host/usr/lib/jvm/java-11-openjdk\r\nwithin the Idea addJdk dialog instead and it works! No change of flatpak permissions was required.","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<p>The hint to the mounted directories by @Carolus worked perfectly for me:\nOn my Linx Mint the jdk had been installed within /usr/lib/jvm/java-11-openjdk.</p>\n<p>(found by usage of &quot;which java&quot; and using the result with &quot;readlink -e &quot;)</p>\n<p>Selected /var/run/host/usr/lib/jvm/java-11-openjdk\nwithin the Idea addJdk dialog instead and it works! No change of flatpak permissions was required.</p>\n"},{"tags":[],"owner":{"account_id":19775706,"reputation":75,"user_id":14481700,"display_name":"cmcdev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607555223,"creation_date":1607555223,"answer_id":65226241,"question_id":54499133,"body_markdown":"# To prevent overriding permissions with flatpak #\r\n\r\n## Move jvm folder to a new folder in home directory ##\r\nFlatpak has specific blacklisted directories, while home is whitelisted. \r\n    \r\n    mkdir ~/ForceHome\r\n\r\n    sudo mv /usr/lib/jvm ~/ForceHome\r\n## Create a symbolic link in /usr/lib/jvm ## \r\nThis in case any files are still pointing there, and so you can point to /usr/lib/jvm with programs that can access that folder.\r\n\r\n    sudo ln -s ~/ForceHome/jvm /usr/lib/jvm\r\n\r\n## Select /ForceHome/jvm/jdk_version  when selecting the sdk in Intellij ##\r\nreplace jdk_version with the openjdk version that you have downloaded\r\n","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<h1>To prevent overriding permissions with flatpak</h1>\n<h2>Move jvm folder to a new folder in home directory</h2>\n<p>Flatpak has specific blacklisted directories, while home is whitelisted.</p>\n<pre><code>mkdir ~/ForceHome\n\nsudo mv /usr/lib/jvm ~/ForceHome\n</code></pre>\n<h2>Create a symbolic link in /usr/lib/jvm</h2>\n<p>This in case any files are still pointing there, and so you can point to /usr/lib/jvm with programs that can access that folder.</p>\n<pre><code>sudo ln -s ~/ForceHome/jvm /usr/lib/jvm\n</code></pre>\n<h2>Select /ForceHome/jvm/jdk_version  when selecting the sdk in Intellij</h2>\n<p>replace jdk_version with the openjdk version that you have downloaded</p>\n"}],"owner":{"account_id":3203449,"reputation":592,"user_id":3439849,"accept_rate":100,"display_name":"Jason"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10528,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":54500834,"answer_count":5,"score":10,"last_activity_date":1680517262,"creation_date":1549157213,"question_id":54499133,"body_markdown":"My system is Linux Mint 18.3 Cinnamon 64-bit.\r\n\r\nI&#39;ve installed IntelliJ-IDEA and Default-jdk (openjdk-8-jdk) using the software manager.\r\n\r\nI can see what I believe to be the JDK folder under either `/usr/lib/jvm/java-1.8.0-openjdk-amd64` or `/etc/java-8-openjdk` when browsing with the file manager (Nemo) or the terminal. But it doesn&#39;t matter because IntelliJ can&#39;t see either folder anyway. In fact, when trying to &lt;kbd&gt;Select Home Directory for JDK&lt;/kbd&gt;, IntelliJ only seems to have visibility to 14 sub-folders (out of hundreds) under `/usr/lib`.\r\n\r\nNot even sure how to launch IDEA from the command-line using `sudo`, e.g. to test that the issue is permission-related, since it is apparently being launched vicariously via flatpak.\r\n\r\nSeems like this should be simple. I&#39;m not sure what I&#39;m doing wrong.","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<p>My system is Linux Mint 18.3 Cinnamon 64-bit.</p>\n\n<p>I've installed IntelliJ-IDEA and Default-jdk (openjdk-8-jdk) using the software manager.</p>\n\n<p>I can see what I believe to be the JDK folder under either <code>/usr/lib/jvm/java-1.8.0-openjdk-amd64</code> or <code>/etc/java-8-openjdk</code> when browsing with the file manager (Nemo) or the terminal. But it doesn't matter because IntelliJ can't see either folder anyway. In fact, when trying to <kbd>Select Home Directory for JDK</kbd>, IntelliJ only seems to have visibility to 14 sub-folders (out of hundreds) under <code>/usr/lib</code>.</p>\n\n<p>Not even sure how to launch IDEA from the command-line using <code>sudo</code>, e.g. to test that the issue is permission-related, since it is apparently being launched vicariously via flatpak.</p>\n\n<p>Seems like this should be simple. I'm not sure what I'm doing wrong.</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1680383617,"post_id":75908877,"comment_id":133890376,"body_markdown":"can u add complete error msg ?","body":"can u add complete error msg ?"},{"owner":{"account_id":23755104,"reputation":123,"user_id":17771314,"display_name":"Nemanja"},"score":0,"creation_date":1680383901,"post_id":75908877,"comment_id":133890409,"body_markdown":"@RyuzakiL Added the stack trace.","body":"@RyuzakiL Added the stack trace."}],"answers":[{"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1680384533,"post_id":75908904,"comment_id":133890483,"body_markdown":"Indeed it looks like `id` is not named.","body":"Indeed it looks like <code>id</code> is not named."},{"owner":{"account_id":23755104,"reputation":123,"user_id":17771314,"display_name":"Nemanja"},"score":0,"creation_date":1680384858,"post_id":75908904,"comment_id":133890524,"body_markdown":"@JoopEggen Elaborate please.","body":"@JoopEggen Elaborate please."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1680449062,"post_id":75908904,"comment_id":133896730,"body_markdown":"@Nemanja missing `@Column name`","body":"@Nemanja missing <code>@Column name</code>"},{"owner":{"account_id":23755104,"reputation":123,"user_id":17771314,"display_name":"Nemanja"},"score":0,"creation_date":1682232795,"post_id":75908904,"comment_id":134180815,"body_markdown":"Wrong answer. The error was because the colleague ran hibernate drop-create on database. Previous version of the database had a column that wasn&#39;t created by Hibernate mapping and that&#39;s why on runtime when accessing it I was getting this stack trace. As for column name, I was suprised to see what are you pointing at since you have been on SO for 11 years, and don&#39;t know that we use @Column for giving the additional information about the field. It is not mandatory to define it and would not cause the NullPointerException. All the best to you.","body":"Wrong answer. The error was because the colleague ran hibernate drop-create on database. Previous version of the database had a column that wasn&#39;t created by Hibernate mapping and that&#39;s why on runtime when accessing it I was getting this stack trace. As for column name, I was suprised to see what are you pointing at since you have been on SO for 11 years, and don&#39;t know that we use @Column for giving the additional information about the field. It is not mandatory to define it and would not cause the NullPointerException. All the best to you."}],"tags":[],"owner":{"account_id":27527834,"reputation":5,"user_id":21006854,"display_name":"Ashok Kumar Singh"},"comment_count":4,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1680383839,"creation_date":1680383839,"answer_id":75908904,"question_id":75908877,"body_markdown":"Looks like this says that you are trying to call the &quot;toLowerCase()&quot; method on null.\r\n\r\nPlease ensure that columnName is not null before calling the toLowerCase() method.\r\n\r\nyou can first check columnName is not null and if it is not, it assigns the lowercase version. \r\n","title":"&quot;columnName&quot; is null","body":"<p>Looks like this says that you are trying to call the &quot;toLowerCase()&quot; method on null.</p>\n<p>Please ensure that columnName is not null before calling the toLowerCase() method.</p>\n<p>you can first check columnName is not null and if it is not, it assigns the lowercase version.</p>\n"}],"owner":{"account_id":23755104,"reputation":123,"user_id":17771314,"display_name":"Nemanja"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1681146545,"answer_count":1,"score":1,"last_activity_date":1680516971,"creation_date":1680383434,"question_id":75908877,"body_markdown":"I don&#39;t understand why I&#39;m getting this error:\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null\r\n\r\nThis is my product table in my database:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YNEhA.png\r\n\r\n\r\nAnd this is the Product model: \r\n\r\n    @Entity\r\n    @Table(name = &quot;product&quot;, schema = &quot;auction_app_schema&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Product {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;product_name&quot;, nullable = false)\r\n        private String productName;\r\n    \r\n        @Column(name = &quot;description&quot;, nullable = false)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;start_price&quot;, nullable = false)\r\n        private Float startPrice;\r\n    \r\n        @ElementCollection\r\n        @CollectionTable(name = &quot;product_images&quot;, joinColumns = @JoinColumn(name = &quot;product_id&quot;))\r\n        @Column(name = &quot;image&quot;)\r\n        private List&lt;String&gt; images;\r\n    \r\n        @Column(name = &quot;start_date&quot;, nullable = false)\r\n        private LocalDateTime startDate;\r\n    \r\n        @Column(name = &quot;end_date&quot;, nullable = false)\r\n        private LocalDateTime endDate;\r\n    \r\n        @Formula(&quot;(SELECT COUNT(*) FROM auction_app_schema.bid b INNER JOIN auction_app_schema.product p ON p.id = b.product_id WHERE b.product_id = p.id)&quot;)\r\n        private BigInteger numberOfBids;\r\n    \r\n        @Formula(&quot;(SELECT b.price FROM auction_app_schema.product p INNER JOIN auction_app_schema.bid b ON p.id =b.product_id ORDER BY b.price DESC LIMIT 1)&quot;)\r\n        private BigDecimal highestBid;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;category_id&quot;, nullable = false)\r\n        private Category category;\r\n    }\r\n\r\n\r\nHere is the repository function: \r\n\r\n    @Query(value = &quot;SELECT p.id, p.description, p.product_name, p.start_price, p.start_date, p.end_date, p.category_id, p.is_highlighted, pi.image\\n&quot; +\r\n            &quot;FROM auction_app_schema.product p\\n&quot; +\r\n            &quot;INNER JOIN auction_app_schema.category c ON p.category_id = c.id\\n&quot; +\r\n            &quot;INNER JOIN auction_app_schema.product_images pi ON p.id = pi.product_id\\n&quot; +\r\n            &quot;WHERE c.id = ? LIMIT ? OFFSET ?&quot;, nativeQuery = true)\r\n    List&lt;Product&gt; findProductsByCategoryId(Long categoryId, int limit, int offset);\r\n\r\n\r\nContext: This same query executed directly in database works, soon as I send request to server I get the `NullPointerException` even when I have all the columns in my database. I didn&#39;t run into this problem with PostgreSQL until now. Hibernate is just not picking up my schema, I think.\r\n\r\nThis is almost the whole stack trace: \r\n\r\n    FROM auction_app_schema.product p\r\n    INNER JOIN auction_app_schema.category c ON p.category_id = c.id\r\n    INNER JOIN auction_app_schema.product_images pi ON p.id = pi.product_id\r\n    WHERE c.id = ? LIMIT ? OFFSET ?\r\n    2023-04-01 22:56:55.147 ERROR 18404 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null] with root cause\r\n    \r\n        java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null\r\n        \tat org.postgresql.jdbc.PgResultSet.findColumnIndex(PgResultSet.java:2791) ~[postgresql-42.2.23.jar:42.2.23]\r\n        \tat org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2750) ~[postgresql-42.2.23.jar:42.2.23]\r\n        \tat org.postgresql.jdbc.PgResultSet.getBigDecimal(PgResultSet.java:410) ~[postgresql-42.2.23.jar:42.2.23]\r\n        \tat com.zaxxer.hikari.pool.HikariProxyResultSet.getBigDecimal(HikariProxyResultSet.java) ~[HikariCP-4.0.3.jar:na]\r\n        \tat org.hibernate.type.descriptor.sql.DecimalTypeDescriptor$2.doExtract(DecimalTypeDescriptor.java:63) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3131) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1863) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1791) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1764) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.getRow(Loader.java:1616) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1039) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.processResultSet(Loader.java:990) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.doQuery(Loader.java:959) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2141) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1169) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:176) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.5.jar:2.5.5]\r\n        \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.5.jar:2.5.5]\r\n        \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.5.jar:2.5.5]\r\n        \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.5.jar:2.5.5]\r\n\r\n","title":"&quot;columnName&quot; is null","body":"<p>I don't understand why I'm getting this error:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke\n&quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null</p>\n</blockquote>\n<p>This is my product table in my database:</p>\n<p><a href=\"https://i.stack.imgur.com/YNEhA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YNEhA.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is the Product model:</p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;, schema = &quot;auction_app_schema&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;product_name&quot;, nullable = false)\n    private String productName;\n\n    @Column(name = &quot;description&quot;, nullable = false)\n    private String description;\n\n    @Column(name = &quot;start_price&quot;, nullable = false)\n    private Float startPrice;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;product_images&quot;, joinColumns = @JoinColumn(name = &quot;product_id&quot;))\n    @Column(name = &quot;image&quot;)\n    private List&lt;String&gt; images;\n\n    @Column(name = &quot;start_date&quot;, nullable = false)\n    private LocalDateTime startDate;\n\n    @Column(name = &quot;end_date&quot;, nullable = false)\n    private LocalDateTime endDate;\n\n    @Formula(&quot;(SELECT COUNT(*) FROM auction_app_schema.bid b INNER JOIN auction_app_schema.product p ON p.id = b.product_id WHERE b.product_id = p.id)&quot;)\n    private BigInteger numberOfBids;\n\n    @Formula(&quot;(SELECT b.price FROM auction_app_schema.product p INNER JOIN auction_app_schema.bid b ON p.id =b.product_id ORDER BY b.price DESC LIMIT 1)&quot;)\n    private BigDecimal highestBid;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;, nullable = false)\n    private Category category;\n}\n</code></pre>\n<p>Here is the repository function:</p>\n<pre><code>@Query(value = &quot;SELECT p.id, p.description, p.product_name, p.start_price, p.start_date, p.end_date, p.category_id, p.is_highlighted, pi.image\\n&quot; +\n        &quot;FROM auction_app_schema.product p\\n&quot; +\n        &quot;INNER JOIN auction_app_schema.category c ON p.category_id = c.id\\n&quot; +\n        &quot;INNER JOIN auction_app_schema.product_images pi ON p.id = pi.product_id\\n&quot; +\n        &quot;WHERE c.id = ? LIMIT ? OFFSET ?&quot;, nativeQuery = true)\nList&lt;Product&gt; findProductsByCategoryId(Long categoryId, int limit, int offset);\n</code></pre>\n<p>Context: This same query executed directly in database works, soon as I send request to server I get the <code>NullPointerException</code> even when I have all the columns in my database. I didn't run into this problem with PostgreSQL until now. Hibernate is just not picking up my schema, I think.</p>\n<p>This is almost the whole stack trace:</p>\n<pre><code>FROM auction_app_schema.product p\nINNER JOIN auction_app_schema.category c ON p.category_id = c.id\nINNER JOIN auction_app_schema.product_images pi ON p.id = pi.product_id\nWHERE c.id = ? LIMIT ? OFFSET ?\n2023-04-01 22:56:55.147 ERROR 18404 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null] with root cause\n\n    java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null\n        at org.postgresql.jdbc.PgResultSet.findColumnIndex(PgResultSet.java:2791) ~[postgresql-42.2.23.jar:42.2.23]\n        at org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2750) ~[postgresql-42.2.23.jar:42.2.23]\n        at org.postgresql.jdbc.PgResultSet.getBigDecimal(PgResultSet.java:410) ~[postgresql-42.2.23.jar:42.2.23]\n        at com.zaxxer.hikari.pool.HikariProxyResultSet.getBigDecimal(HikariProxyResultSet.java) ~[HikariCP-4.0.3.jar:na]\n        at org.hibernate.type.descriptor.sql.DecimalTypeDescriptor$2.doExtract(DecimalTypeDescriptor.java:63) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3131) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1863) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1791) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1764) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.getRow(Loader.java:1616) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1039) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.processResultSet(Loader.java:990) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.doQuery(Loader.java:959) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2141) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1169) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:176) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.5.jar:2.5.5]\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.5.jar:2.5.5]\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.5.jar:2.5.5]\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.5.jar:2.5.5]\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680516525,"creation_date":1680516525,"answer_id":75918294,"question_id":75918219,"body_markdown":"You can use Collectors.toMap(...)\r\n\r\n    ids.stream().collect(Collectors.toMap( \r\n        Function.identity(), \r\n        id -&gt; new HashMap&lt;String, String&gt;() \r\n    ));\r\n\r\n\r\n`Collectors.toMap` requires two parameters: firstly, a key mapper, in our case, we&#39;ll use the current id from the stream, so `id -&gt; id` or simply `Function.identity()`. \r\n\r\nThen, for the value mapper, for each id, we are creating a new HashMap&lt;String String&gt;(), Additionally, you can declare it as `__ -&gt; new HashMap&lt;String, String&gt;()` (using &quot;__&quot; as the name of the element from the steram would suggest you are not interested in its value, and all the value mappers are returning the same).\r\n","title":"How to generate map with included map basing on list of integers?","body":"<p>You can use Collectors.toMap(...)</p>\n<pre><code>ids.stream().collect(Collectors.toMap( \n    Function.identity(), \n    id -&gt; new HashMap&lt;String, String&gt;() \n));\n</code></pre>\n<p><code>Collectors.toMap</code> requires two parameters: firstly, a key mapper, in our case, we'll use the current id from the stream, so <code>id -&gt; id</code> or simply <code>Function.identity()</code>.</p>\n<p>Then, for the value mapper, for each id, we are creating a new HashMap(), Additionally, you can declare it as <code>__ -&gt; new HashMap&lt;String, String&gt;()</code> (using &quot;__&quot; as the name of the element from the steram would suggest you are not interested in its value, and all the value mappers are returning the same).</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680516537,"creation_date":1680516537,"answer_id":75918298,"question_id":75918219,"body_markdown":"You are looking to [collect][1] the stream to map using [Collectors.toMap()][2]. Example:\r\n```\r\npublic class Test {\r\n\r\n  public static void main(String[] args) {\r\n    List&lt;Integer&gt; ids = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\r\n    Map&lt;Integer, Map&lt;String, String&gt;&gt; result = ids.stream()\r\n            .collect(Collectors.toMap(num -&gt; num, num -&gt; new HashMap&lt;&gt;()));\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-","title":"How to generate map with included map basing on list of integers?","body":"<p>You are looking to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">collect</a> the stream to map using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow noreferrer\">Collectors.toMap()</a>. Example:</p>\n<pre><code>public class Test {\n\n  public static void main(String[] args) {\n    List&lt;Integer&gt; ids = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\n    Map&lt;Integer, Map&lt;String, String&gt;&gt; result = ids.stream()\n            .collect(Collectors.toMap(num -&gt; num, num -&gt; new HashMap&lt;&gt;()));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75918294,"answer_count":2,"score":-1,"last_activity_date":1680516537,"creation_date":1680516052,"question_id":75918219,"body_markdown":"I have list of ids like \r\n\r\n    List&lt;Integer&gt; ids = new ArrayList(){1,2,3};\r\n\r\nI need to transform this to the map of next structure:\r\n\r\n`Map&lt;Integer, Map&lt;String, String&gt;&gt;` where keys will be ids from the list and map will be just empty map. Of course I can create new map, after that I can iterate over the list and to put id and new HashMap&lt;String,String&gt; to that new map. But is it possible to do that in one stream? Using `generate()` and `collect()` methods?\r\n\r\n","title":"How to generate map with included map basing on list of integers?","body":"<p>I have list of ids like</p>\n<pre><code>List&lt;Integer&gt; ids = new ArrayList(){1,2,3};\n</code></pre>\n<p>I need to transform this to the map of next structure:</p>\n<p><code>Map&lt;Integer, Map&lt;String, String&gt;&gt;</code> where keys will be ids from the list and map will be just empty map. Of course I can create new map, after that I can iterate over the list and to put id and new HashMap&lt;String,String&gt; to that new map. But is it possible to do that in one stream? Using <code>generate()</code> and <code>collect()</code> methods?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":19013769,"reputation":73,"user_id":13879173,"display_name":"Ivanovich"},"score":0,"creation_date":1653509114,"post_id":72383297,"comment_id":127872947,"body_markdown":"Tried both, no result :(","body":"Tried both, no result :("},{"owner":{"account_id":20007603,"reputation":59,"user_id":14665256,"display_name":"aglamp"},"score":0,"creation_date":1653600865,"post_id":72383297,"comment_id":127897423,"body_markdown":"Maybe try to change/remove the scope of mysql driver dependency  from runtime to provided or something else &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;  \n        &lt;/dependency&gt;","body":"Maybe try to change/remove the scope of mysql driver dependency  from runtime to provided or something else &lt;dependency&gt;             &lt;groupId&gt;mysql&lt;/groupId&gt;             &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;             &lt;scope&gt;runtime&lt;/scope&gt;           &lt;/dependency&gt;"},{"owner":{"account_id":19013769,"reputation":73,"user_id":13879173,"display_name":"Ivanovich"},"score":0,"creation_date":1653676849,"post_id":72383297,"comment_id":127917336,"body_markdown":"Still not solved @a_glampedakis","body":"Still not solved @a_glampedakis"}],"tags":[],"owner":{"account_id":20007603,"reputation":59,"user_id":14665256,"display_name":"aglamp"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653508809,"creation_date":1653507542,"answer_id":72383297,"question_id":72383247,"body_markdown":"Try to remove this dependency :   \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;m not sure if it can be combined with mysql driver:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can also try changing this one:\r\n\r\n    spring.datasource.driver-class-name -&gt; spring.datasource.driverClassName\r\n\r\nOr, according to [Baeldung][1] change it to :\r\n\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-failed-to-configure-data-source","title":"Spring: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Try to remove this dependency :</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'm not sure if it can be combined with mysql driver:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can also try changing this one:</p>\n<pre><code>spring.datasource.driver-class-name -&gt; spring.datasource.driverClassName\n</code></pre>\n<p>Or, according to <a href=\"https://www.baeldung.com/spring-boot-failed-to-configure-data-source\" rel=\"nofollow noreferrer\">Baeldung</a> change it to :</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7579549,"reputation":1057,"user_id":5750634,"accept_rate":80,"display_name":"ashif-ismail"},"score":0,"creation_date":1663751962,"post_id":73057374,"comment_id":130311147,"body_markdown":"don&#39;t write foolish answers","body":"don&#39;t write foolish answers"}],"tags":[],"owner":{"display_name":"user18308772"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658346386,"creation_date":1658346386,"answer_id":73057374,"question_id":72383247,"body_markdown":"Check your pom.xml file and make sure its packaging is **war**. It worked for me :)\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;","title":"Spring: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Check your pom.xml file and make sure its packaging is <strong>war</strong>. It worked for me :)</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17001208,"reputation":199,"user_id":12298563,"display_name":"shashika11"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665599734,"creation_date":1665599734,"answer_id":74046558,"question_id":72383247,"body_markdown":"I too faced the same problem. I also tried different solutions given in the answers, but nothing worked for me. I finally found out that the problem is with the pom.xml (if your dependency manager is maven). I had the following block there &amp; after removing it the problem was resolved.\r\n\r\n       &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;/src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;../src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\nThe problem was that spring auto-configuration could not detect the correct resource folder. Removing this will make no harm to your program.","title":"Spring: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>I too faced the same problem. I also tried different solutions given in the answers, but nothing worked for me. I finally found out that the problem is with the pom.xml (if your dependency manager is maven). I had the following block there &amp; after removing it the problem was resolved.</p>\n<pre><code>   &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;/src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;../src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n<p>The problem was that spring auto-configuration could not detect the correct resource folder. Removing this will make no harm to your program.</p>\n"},{"tags":[],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677858935,"creation_date":1677858935,"answer_id":75629274,"question_id":72383247,"body_markdown":"For some odd reason i had an empty `application.properties` file at `target\\classes` folder. I just deleted.","title":"Spring: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>For some odd reason i had an empty <code>application.properties</code> file at <code>target\\classes</code> folder. I just deleted.</p>\n"}],"owner":{"account_id":19013769,"reputation":73,"user_id":13879173,"display_name":"Ivanovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15761,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1680516100,"creation_date":1653507230,"question_id":72383247,"body_markdown":"Been working in developing microservices with Spring. I&#39;ve written several, succesfully, however, this last one is failling and I don&#39;t know why.\r\n\r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n\r\nMy application.properties:\r\n\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/Sat\r\n    spring.datasource.username=user_auto\r\n    spring.datasource.password=\r\n\r\n(Don&#39;t worry, the password is included in the application.properties)\r\n\r\nAlready trying added and removing: \r\n\r\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration \r\n\r\nMy pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.8&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.sat.serviciodescargamasiva.automatizador&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;automatizador&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;automatizador&lt;/name&gt;\r\n    \t&lt;description&gt;Servicio de automatizador del SAT&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud-gcp.version&gt;3.2.1&lt;/spring-cloud-gcp.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter-storage&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n    \t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.yml&lt;/include&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.xml&lt;/include&gt;\r\n    \t\t\t\t&lt;/includes&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nMy main:\r\n\r\n@SpringBootApplication\r\npublic class AutoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AutoApplication.class, args);\r\n\t}\r\n}\r\n\r\nI&#39;m writing my code in IntelliJ. Help, I don&#39;t know what to do! I think I&#39;ve ran out of possible solutions.\r\n\r\nThanks in advance for your time!\r\n","title":"Spring: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Been working in developing microservices with Spring. I've written several, succesfully, however, this last one is failling and I don't know why.</p>\n<pre><code>Description:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>My application.properties:</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/Sat\nspring.datasource.username=user_auto\nspring.datasource.password=\n</code></pre>\n<p>(Don't worry, the password is included in the application.properties)</p>\n<p>Already trying added and removing:</p>\n<p>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration</p>\n<p>My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.sat.serviciodescargamasiva.automatizador&lt;/groupId&gt;\n    &lt;artifactId&gt;automatizador&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;automatizador&lt;/name&gt;\n    &lt;description&gt;Servicio de automatizador del SAT&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud-gcp.version&gt;3.2.1&lt;/spring-cloud-gcp.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-storage&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.yml&lt;/include&gt;\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My main:</p>\n<p>@SpringBootApplication\npublic class AutoApplication {</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(AutoApplication.class, args);\n}\n</code></pre>\n<p>}</p>\n<p>I'm writing my code in IntelliJ. Help, I don't know what to do! I think I've ran out of possible solutions.</p>\n<p>Thanks in advance for your time!</p>\n"},{"tags":["java","android","kotlin","webview"],"owner":{"account_id":9653069,"reputation":146,"user_id":7163567,"display_name":"khoshrang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680515407,"creation_date":1680515407,"question_id":75918092,"body_markdown":"i&#39;m using amn android webview in my app, users can open sites in my app like any other browser the problem is usesrs can,t login to some sites like instagram they get this error:\r\n\r\n    csrf token missing or incorrect \r\n\r\n1. i have to use webviews, not chrome costumetabs or other browser libraries\r\n2. i&#39;m not using any kind of injection, it&#39;s simple browsing functionality\r\n\r\nhow can i solve this?\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pcreN.jpg","title":"android webview : csrf token missing or incorrect","body":"<p>i'm using amn android webview in my app, users can open sites in my app like any other browser the problem is usesrs can,t login to some sites like instagram they get this error:</p>\n<pre><code>csrf token missing or incorrect \n</code></pre>\n<ol>\n<li>i have to use webviews, not chrome costumetabs or other browser libraries</li>\n<li>i'm not using any kind of injection, it's simple browsing functionality</li>\n</ol>\n<p>how can i solve this?</p>\n<p><a href=\"https://i.stack.imgur.com/pcreN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pcreN.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","encryption","google-bigquery","google-cloud-kms"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680506793,"post_id":75916844,"comment_id":133903875,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1680506805,"post_id":75916844,"comment_id":133903878,"body_markdown":"Your post misses the encryption Java code. `getCiphertext` is not a standard J2SE method, so it is unclear what library you use.","body":"Your post misses the encryption Java code. <code>getCiphertext</code> is not a standard J2SE method, so it is unclear what library you use."},{"owner":{"account_id":10907453,"reputation":1572,"user_id":8017771,"accept_rate":29,"display_name":"User-8017771"},"score":0,"creation_date":1680515225,"post_id":75916844,"comment_id":133905699,"body_markdown":"Have updated the code where I&#39;m encrypting.","body":"Have updated the code where I&#39;m encrypting."},{"owner":{"account_id":23157436,"reputation":2052,"user_id":17258510,"display_name":"kiran mathew"},"score":0,"creation_date":1680616456,"post_id":75916844,"comment_id":133925860,"body_markdown":"Do this [link1](https://cloud.google.com/kms/docs/encrypt-decrypt#kms-encrypt-symmetric-java) and [link2](https://cloud.google.com/bigquery/docs/reference/standard-sql/aead_encryption_functions#deterministic_decrypt_bytes) help you?","body":"Do this <a href=\"https://cloud.google.com/kms/docs/encrypt-decrypt#kms-encrypt-symmetric-java\" rel=\"nofollow noreferrer\">link1</a> and <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/aead_encryption_functions#deterministic_decrypt_bytes\" rel=\"nofollow noreferrer\">link2</a> help you?"}],"owner":{"account_id":10907453,"reputation":1572,"user_id":8017771,"accept_rate":29,"display_name":"User-8017771"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680515165,"creation_date":1680505895,"question_id":75916844,"body_markdown":"We have some columns which need encryption when pushed to BigQuery. For that we&#39;re using column level encryption. \r\n\r\nSo, when we push the data to BigQuery via java, the data is encrypted when it is pushed. However when we try to decrypt the data using select statements in BigQuery, the decryption fails. \r\n\r\nJava cipher text:\r\n````java\r\nKeyManagementServiceClient client = KeyManagementServiceClient.create();\r\n\r\nCryptoKeyName cryptoKey = CryptoKeyName.of(&quot;project&quot;, &quot;region&quot;, &quot;column-encryption-keyrings&quot;, &quot;column-encryption-key&quot;);\r\n\r\nEncryptResponse response = client.encrypt(cryptoKey, ByteString.copyFromUtf8(&quot;abcde&quot;));\r\n\r\nString encryptedCipher = new String(Base64.getEncoder().encode(response.getCiphertext().toByteArray()))\r\n````\r\n\r\nUsing BQ for decryption: \r\n````sql\r\nSELECT\r\n  DETERMINISTIC_DECRYPT_BYTES(\r\n    KEYS.KEYSET_CHAIN(kms_resource_name, first_level_keyset),\r\n    encryptedCipher,\r\n   &#39;&#39;\r\n  ) AS decryptedData\r\n\r\n```` \r\nThe error that we get is decryption failed. \r\n\r\nFirstly is this even possible? If yes, is there something that I&#39;m missing? \r\n\r\n-- Updated: \r\nHave updated the code where I&#39;m encrypting. The same encryptedCipher string I copy from the logs and try to decrypt in BigQuery, where I get the error. ","title":"Encrypted in Java and decrypting the same string in BigQuery not working","body":"<p>We have some columns which need encryption when pushed to BigQuery. For that we're using column level encryption.</p>\n<p>So, when we push the data to BigQuery via java, the data is encrypted when it is pushed. However when we try to decrypt the data using select statements in BigQuery, the decryption fails.</p>\n<p>Java cipher text:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyManagementServiceClient client = KeyManagementServiceClient.create();\n\nCryptoKeyName cryptoKey = CryptoKeyName.of(&quot;project&quot;, &quot;region&quot;, &quot;column-encryption-keyrings&quot;, &quot;column-encryption-key&quot;);\n\nEncryptResponse response = client.encrypt(cryptoKey, ByteString.copyFromUtf8(&quot;abcde&quot;));\n\nString encryptedCipher = new String(Base64.getEncoder().encode(response.getCiphertext().toByteArray()))\n</code></pre>\n<p>Using BQ for decryption:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT\n  DETERMINISTIC_DECRYPT_BYTES(\n    KEYS.KEYSET_CHAIN(kms_resource_name, first_level_keyset),\n    encryptedCipher,\n   ''\n  ) AS decryptedData\n\n</code></pre>\n<p>The error that we get is decryption failed.</p>\n<p>Firstly is this even possible? If yes, is there something that I'm missing?</p>\n<p>-- Updated:\nHave updated the code where I'm encrypting. The same encryptedCipher string I copy from the logs and try to decrypt in BigQuery, where I get the error.</p>\n"},{"tags":["java","spring-boot","model-view-controller","parameters"],"answers":[{"tags":[],"owner":{"account_id":324951,"reputation":935,"user_id":6722664,"display_name":"Sagar Gandhi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680450314,"creation_date":1680450314,"answer_id":75913030,"question_id":75912825,"body_markdown":"    RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\r\n    public String userlogin( @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String pass,Model model) {\r\n\r\n  \r\nAs you have defined the RequestParam, It needs to be as part of request URL , not a body. \r\n\r\nhttp://localhost:8080/spring-mvc-basics/api/login?username=abc\r\n\r\ne.g. https://www.baeldung.com/spring-request-param\r\n\r\nIf you intent to take it as part of body (which it must since password should not be in URL) then use following where loginInfo is DTO which stores username and password.\r\n\r\n     RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\r\n        public String userlogin( @RequestBody LoginInfo loginInfo) {\r\n\r\n","title":"Java Spring: Required parameter &#39;username&#39; is not present","body":"<pre><code>RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\npublic String userlogin( @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String pass,Model model) {\n</code></pre>\n<p>As you have defined the RequestParam, It needs to be as part of request URL , not a body.</p>\n<p>http://localhost:8080/spring-mvc-basics/api/login?username=abc</p>\n<p>e.g. <a href=\"https://www.baeldung.com/spring-request-param\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-param</a></p>\n<p>If you intent to take it as part of body (which it must since password should not be in URL) then use following where loginInfo is DTO which stores username and password.</p>\n<pre><code> RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\n    public String userlogin( @RequestBody LoginInfo loginInfo) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27868102,"reputation":34,"user_id":21279235,"display_name":"LQF-developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680514340,"creation_date":1680514340,"answer_id":75917955,"question_id":75912825,"body_markdown":" Http request does not contain `userName` as you explicitly set the `username` to be needed.\r\n     \r\n      // you code -&gt; @RequestParam(&quot;username&quot;) String username,\r\n     // the http request(Missing username!)-&gt; do action=&quot;userlogin&quot; method=&quot;post&quot;. This is my code:\r\n\r\n\r\n    ","title":"Java Spring: Required parameter &#39;username&#39; is not present","body":"<p>Http request does not contain <code>userName</code> as you explicitly set the <code>username</code> to be needed.</p>\n<pre><code>  // you code -&gt; @RequestParam(&quot;username&quot;) String username,\n // the http request(Missing username!)-&gt; do action=&quot;userlogin&quot; method=&quot;post&quot;. This is my code:\n</code></pre>\n"}],"owner":{"account_id":27079642,"reputation":45,"user_id":20628970,"display_name":"L&#234; Trung Hiếu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680514340,"creation_date":1680447915,"question_id":75912825,"body_markdown":"When I send the form, it will do action=&quot;userlogin&quot; method=&quot;post&quot;.\r\nThis is my code:\r\n\r\n    package com.home_project.oop_project.controllers;\r\n\r\n    import java.sql.*;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n\r\n    @Controller\r\n    public class UserController {\r\n\r\n    int adminlogcheck = 0;\r\n\tString usernameforclass = &quot;&quot;;\r\n\r\n\t//Some code\r\n\t@GetMapping(&quot;userlogin&quot;)\r\n\tpublic String userlog(Model model) {\r\n\t\t\r\n\t\treturn &quot;userLogin&quot;;\r\n\t}\r\n\t@RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\r\n\tpublic String userlogin( @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String pass,Model model) {\r\n\t\ttry\r\n\t\t{\r\n\t\t\tSystem.out.println(username);\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/springproject&quot;,&quot;root&quot;,&quot;&quot;);\r\n\t\t\tStatement stmt = con.createStatement();\r\n\t\t\tResultSet rst = stmt.executeQuery(&quot;select * from users where username = &#39;&quot;+username+&quot;&#39; and password = &#39;&quot;+ pass+&quot;&#39; ;&quot;);\r\n\t\t\tif(rst.next()) {\r\n\t\t\t\tusernameforclass = rst.getString(2);\r\n\t\t\t\treturn &quot;redirect:/index&quot;;\r\n\t\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmodel.addAttribute(&quot;message&quot;, &quot;Invalid Username or Password&quot;);\r\n\t\t\t\treturn &quot;userLogin&quot;;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Exception:&quot;+e);\r\n\t\t}\r\n\t\treturn &quot;userLogin&quot;;\r\n\t    }\r\n    }\r\n\r\n\r\n\r\nBut it won&#39;t go to &#39;index&#39; as I expected. When I check the issue by postman, it say: &quot; &quot;trace&quot;: &quot;org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;username&#39; for method parameter type String is not present\\r\\n\\tat&quot; and &quot;message&quot;: &quot;Required parameter &#39;username&#39; is not present.&quot;\r\nWhat should I do. Thanks","title":"Java Spring: Required parameter &#39;username&#39; is not present","body":"<p>When I send the form, it will do action=&quot;userlogin&quot; method=&quot;post&quot;.\nThis is my code:</p>\n<pre><code>package com.home_project.oop_project.controllers;\n\nimport java.sql.*;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\npublic class UserController {\n\nint adminlogcheck = 0;\nString usernameforclass = &quot;&quot;;\n\n//Some code\n@GetMapping(&quot;userlogin&quot;)\npublic String userlog(Model model) {\n    \n    return &quot;userLogin&quot;;\n}\n@RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\npublic String userlogin( @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String pass,Model model) {\n    try\n    {\n        System.out.println(username);\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/springproject&quot;,&quot;root&quot;,&quot;&quot;);\n        Statement stmt = con.createStatement();\n        ResultSet rst = stmt.executeQuery(&quot;select * from users where username = '&quot;+username+&quot;' and password = '&quot;+ pass+&quot;' ;&quot;);\n        if(rst.next()) {\n            usernameforclass = rst.getString(2);\n            return &quot;redirect:/index&quot;;\n            }\n        else {\n            model.addAttribute(&quot;message&quot;, &quot;Invalid Username or Password&quot;);\n            return &quot;userLogin&quot;;\n        }\n        \n    }\n    catch(Exception e)\n    {\n        System.out.println(&quot;Exception:&quot;+e);\n    }\n    return &quot;userLogin&quot;;\n    }\n}\n</code></pre>\n<p>But it won't go to 'index' as I expected. When I check the issue by postman, it say: &quot; &quot;trace&quot;: &quot;org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'username' for method parameter type String is not present\\r\\n\\tat&quot; and &quot;message&quot;: &quot;Required parameter 'username' is not present.&quot;\nWhat should I do. Thanks</p>\n"},{"tags":["java","file","jar","java-io","getresource"],"comments":[{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":0,"creation_date":1253044244,"post_id":1429172,"comment_id":1273262,"body_markdown":"Just a thought - why not zip/jar images into a separate file and read the entries in it from your class in another jar?","body":"Just a thought - why not zip/jar images into a separate file and read the entries in it from your class in another jar?"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":4,"creation_date":1253044716,"post_id":1429172,"comment_id":1273297,"body_markdown":"Because it would need an &quot;extra&quot; step for distribution/installation. :( You know, end users.","body":"Because it would need an &quot;extra&quot; step for distribution/installation. :( You know, end users."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1253045072,"post_id":1429172,"comment_id":30597540,"body_markdown":"Given that you have created the jar, you might as well include the list of files within it rather than attempting any tricks.","body":"Given that you have created the jar, you might as well include the list of files within it rather than attempting any tricks."},{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":0,"creation_date":1253045492,"post_id":1429172,"comment_id":1273380,"body_markdown":"Well, I might be mistaken but jars can be embedded inside other jars. The one-jar(TM) packaging solution http://www.ibm.com/developerworks/java/library/j-onejar/ works on this basis. Except, in your case you do not require the ability load classes.","body":"Well, I might be mistaken but jars can be embedded inside other jars. The one-jar(TM) packaging solution <a href=\"http://www.ibm.com/developerworks/java/library/j-onejar/\" rel=\"nofollow noreferrer\">ibm.com/developerworks/java/library/j-onejar</a> works on this basis. Except, in your case you do not require the ability load classes."}],"answers":[{"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1253043474,"post_id":1429212,"comment_id":1273196,"body_markdown":"This jar contains the main program and the resources. How do I refer to the self jar?  from within the jar file?","body":"This jar contains the main program and the resources. How do I refer to the self jar?  from within the jar file?"},{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":0,"creation_date":1253043562,"post_id":1429212,"comment_id":1273207,"body_markdown":"To refer to the JAR file, just use &quot;blah.JAR&quot; as the String. You can use `new File(&quot;blah.JAR&quot;)` to create a File object that represents the JAR, for example. Just replace &quot;blah.JAR&quot; with the name of your JAR.","body":"To refer to the JAR file, just use &quot;blah.JAR&quot; as the String. You can use <code>new File(&quot;blah.JAR&quot;)</code> to create a File object that represents the JAR, for example. Just replace &quot;blah.JAR&quot; with the name of your JAR."},{"owner":{"account_id":51748,"reputation":6271,"user_id":154630,"accept_rate":69,"display_name":"Mikeb"},"score":0,"creation_date":1253045482,"post_id":1429212,"comment_id":1273377,"body_markdown":"If its the same jar that you are already running out of, the class loader should be able to see stuff inside the jar ... I misunderstood what you were trying to do initially.","body":"If its the same jar that you are already running out of, the class loader should be able to see stuff inside the jar ... I misunderstood what you were trying to do initially."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":2,"creation_date":1253050055,"post_id":1429212,"comment_id":1273776,"body_markdown":"Well yes, I already have that, the problem is when I need something like: &quot;...getResourceAsStream(&quot;*.jpg&quot;); ... &quot; That is, dynamically, list the files contained.","body":"Well yes, I already have that, the problem is when I need something like: &quot;...getResourceAsStream(&quot;*.jpg&quot;); ... &quot; That is, dynamically, list the files contained."}],"tags":[],"owner":{"account_id":51748,"reputation":6271,"user_id":154630,"accept_rate":69,"display_name":"Mikeb"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1253048481,"creation_date":1253043319,"answer_id":1429212,"question_id":1429172,"body_markdown":"A jar file is just a zip file with a structured manifest. You can open the jar file with the usual java zip tools and scan the file contents that way, inflate streams, etc. Then use that in a getResourceAsStream call, and it should be all hunky dory.\r\n\r\nEDIT / after clarification\r\n\r\nIt took me a minute to remember all the bits and pieces and I&#39;m sure there are cleaner ways to do it, but I wanted to see that I wasn&#39;t crazy. In my project image.jpg is a file in some part of the main jar file. I get the class loader of the main class (SomeClass is the entry point) and use it to discover the image.jpg resource. Then some stream magic to get it into this ImageInputStream thing and everything is fine.\r\n\r\n    InputStream inputStream = SomeClass.class.getClassLoader().getResourceAsStream(&quot;image.jpg&quot;);\r\n    JPEGImageReaderSpi imageReaderSpi = new JPEGImageReaderSpi();\r\n    ImageReader ir = imageReaderSpi.createReaderInstance();\r\n    ImageInputStream iis = new MemoryCacheImageInputStream(inputStream);\r\n    ir.setInput(iis);\r\n    ....\r\n    ir.read(0); //will hand us a buffered image\r\n","title":"How to list the files inside a JAR file?","body":"<p>A jar file is just a zip file with a structured manifest. You can open the jar file with the usual java zip tools and scan the file contents that way, inflate streams, etc. Then use that in a getResourceAsStream call, and it should be all hunky dory.</p>\n\n<p>EDIT / after clarification</p>\n\n<p>It took me a minute to remember all the bits and pieces and I'm sure there are cleaner ways to do it, but I wanted to see that I wasn't crazy. In my project image.jpg is a file in some part of the main jar file. I get the class loader of the main class (SomeClass is the entry point) and use it to discover the image.jpg resource. Then some stream magic to get it into this ImageInputStream thing and everything is fine.</p>\n\n<pre><code>InputStream inputStream = SomeClass.class.getClassLoader().getResourceAsStream(\"image.jpg\");\nJPEGImageReaderSpi imageReaderSpi = new JPEGImageReaderSpi();\nImageReader ir = imageReaderSpi.createReaderInstance();\nImageInputStream iis = new MemoryCacheImageInputStream(inputStream);\nir.setInput(iis);\n....\nir.read(0); //will hand us a buffered image\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1253043618,"post_id":1429220,"comment_id":1273212,"body_markdown":"Reading your answer another question raised. What would yield the call: this.getClass().getResource(&quot;/my_directory&quot;);   It should return an URL that could in turn be .... used as directory? Nahh... let me try it.","body":"Reading your answer another question raised. What would yield the call: this.getClass().getResource(&quot;/my_directory&quot;);   It should return an URL that could in turn be .... used as directory? Nahh... let me try it."},{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":0,"creation_date":1253043688,"post_id":1429220,"comment_id":1273219,"body_markdown":"You always know the location of the JAR - it&#39;s in &quot;.&quot;. As long as the name of the JAR is known to be something, you can use a String constant somewhere. Now, if people go changing the name of the JAR...","body":"You always know the location of the JAR - it&#39;s in &quot;.&quot;. As long as the name of the JAR is known to be something, you can use a String constant somewhere. Now, if people go changing the name of the JAR..."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1253043991,"post_id":1429220,"comment_id":1273239,"body_markdown":"@Thomas: That&#39;s assuming you&#39;re running the app from the current directory. What&#39;s wrong with &quot;java -jar foo/bar/baz.jar&quot;?","body":"@Thomas: That&#39;s assuming you&#39;re running the app from the current directory. What&#39;s wrong with &quot;java -jar foo/bar/baz.jar&quot;?"},{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":0,"creation_date":1253044228,"post_id":1429220,"comment_id":1273261,"body_markdown":"I believe (and would have to verify), that if you had code in your Jar that was `new File(&quot;baz.jar)`, the File object would represent your JAR file.","body":"I believe (and would have to verify), that if you had code in your Jar that was <code>new File(&quot;baz.jar)</code>, the File object would represent your JAR file."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1253046037,"post_id":1429220,"comment_id":1273418,"body_markdown":"@Thomas: I don&#39;t believe so. I believe it&#39;s would be relative to the current working directory of the process. I&#39;d have to check too though :)","body":"@Thomas: I don&#39;t believe so. I believe it&#39;s would be relative to the current working directory of the process. I&#39;d have to check too though :)"},{"owner":{"account_id":36295,"reputation":1716,"user_id":103412,"accept_rate":88,"display_name":"Torsten"},"score":0,"creation_date":1536677649,"post_id":1429220,"comment_id":91505422,"body_markdown":"One liner for this solution: `new JarFile(new File(ThisClassName.class.getProtectionDomain().getCodeSource().getLocation().toURI())).entries()`","body":"One liner for this solution: <code>new JarFile(new File(ThisClassName.class.getProtectionDomain().getCodeSource&zwnj;&#8203;().getLocation().toU&zwnj;&#8203;RI())).entries()</code>"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302868642,"creation_date":1253043428,"answer_id":1429220,"question_id":1429172,"body_markdown":"Given an actual JAR file, you can list the contents using `JarFile.entries()`. You will need to know the location of the JAR file though - you can&#39;t just ask the classloader to list everything it could get at.\r\n\r\nYou should be able to work out the location of the JAR file based on the URL returned from `ThisClassName.class.getResource(&quot;ThisClassName.class&quot;)`, but it may be a tiny bit fiddly.\r\n","title":"How to list the files inside a JAR file?","body":"<p>Given an actual JAR file, you can list the contents using <code>JarFile.entries()</code>. You will need to know the location of the JAR file though - you can't just ask the classloader to list everything it could get at.</p>\n\n<p>You should be able to work out the location of the JAR file based on the URL returned from <code>ThisClassName.class.getResource(\"ThisClassName.class\")</code>, but it may be a tiny bit fiddly.</p>\n"},{"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":1,"creation_date":1253043694,"post_id":1429233,"comment_id":1273221,"body_markdown":"I guess the big problem is to know the jar file name in first place. It is the jar where the Main-Class: lives.","body":"I guess the big problem is to know the jar file name in first place. It is the jar where the Main-Class: lives."}],"tags":[],"owner":{"account_id":712,"reputation":6325,"user_id":931,"accept_rate":59,"display_name":"Ran Biron"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1253044310,"creation_date":1253043586,"answer_id":1429233,"question_id":1429172,"body_markdown":"Here&#39;s a method I wrote for a &quot;run all JUnits under a package&quot;. You should be able to adapt it to your needs.\r\n\r\n    private static void findClassesInJar(List&lt;String&gt; classFiles, String path) throws IOException {\r\n        final String[] parts = path.split(&quot;\\\\Q.jar\\\\\\\\E&quot;);\r\n        if (parts.length == 2) {\r\n            String jarFilename = parts[0] + &quot;.jar&quot;;\r\n            String relativePath = parts[1].replace(File.separatorChar, &#39;/&#39;);\r\n            JarFile jarFile = new JarFile(jarFilename);\r\n            final Enumeration&lt;JarEntry&gt; entries = jarFile.entries();\r\n            while (entries.hasMoreElements()) {\r\n                final JarEntry entry = entries.nextElement();\r\n                final String entryName = entry.getName();\r\n                if (entryName.startsWith(relativePath)) {\r\n                    classFiles.add(entryName.replace(&#39;/&#39;, File.separatorChar));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nEdit:\r\nAh, in that case, you might want this snippet as well (same use case :) )\r\n\r\n    private static File findClassesDir(Class&lt;?&gt; clazz) {\r\n        try {\r\n            String path = clazz.getProtectionDomain().getCodeSource().getLocation().getFile();\r\n            final String codeSourcePath = URLDecoder.decode(path, &quot;UTF-8&quot;);\r\n            final String thisClassPath = new File(codeSourcePath, clazz.getPackage().getName().repalce(&#39;.&#39;, File.separatorChar));\r\n        } catch (UnsupportedEncodingException e) {\r\n            throw new AssertionError(&quot;impossible&quot;, e);\r\n        }\r\n    }\r\n\r\n","title":"How to list the files inside a JAR file?","body":"<p>Here's a method I wrote for a \"run all JUnits under a package\". You should be able to adapt it to your needs.</p>\n\n<pre><code>private static void findClassesInJar(List&lt;String&gt; classFiles, String path) throws IOException {\n    final String[] parts = path.split(\"\\\\Q.jar\\\\\\\\E\");\n    if (parts.length == 2) {\n        String jarFilename = parts[0] + \".jar\";\n        String relativePath = parts[1].replace(File.separatorChar, '/');\n        JarFile jarFile = new JarFile(jarFilename);\n        final Enumeration&lt;JarEntry&gt; entries = jarFile.entries();\n        while (entries.hasMoreElements()) {\n            final JarEntry entry = entries.nextElement();\n            final String entryName = entry.getName();\n            if (entryName.startsWith(relativePath)) {\n                classFiles.add(entryName.replace('/', File.separatorChar));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Edit:\nAh, in that case, you might want this snippet as well (same use case :) )</p>\n\n<pre><code>private static File findClassesDir(Class&lt;?&gt; clazz) {\n    try {\n        String path = clazz.getProtectionDomain().getCodeSource().getLocation().getFile();\n        final String codeSourcePath = URLDecoder.decode(path, \"UTF-8\");\n        final String thisClassPath = new File(codeSourcePath, clazz.getPackage().getName().repalce('.', File.separatorChar));\n    } catch (UnsupportedEncodingException e) {\n        throw new AssertionError(\"impossible\", e);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12969,"reputation":7584,"user_id":25812,"accept_rate":100,"display_name":"Newtopian"},"score":0,"creation_date":1274260650,"post_id":1429275,"comment_id":2908822,"body_markdown":"hey thanks...  been looking for a way to do this for a few hours now !!","body":"hey thanks...  been looking for a way to do this for a few hours now !!"},{"owner":{"account_id":950987,"reputation":1532,"user_id":977145,"accept_rate":53,"display_name":"Ensom Hodder"},"score":13,"creation_date":1344724789,"post_id":1429275,"comment_id":15869540,"body_markdown":"Yes this code works if we want to list all entries inside this jar file. But if I just want to list a subdirectory inside the jar, for example, **example.jar/dir1/dir2/**, how can I directly list all files inside this subdirectory? Or I need to unzip this jar file? I highly appreciate your help !","body":"Yes this code works if we want to list all entries inside this jar file. But if I just want to list a subdirectory inside the jar, for example, <b>example.jar/dir1/dir2/</b>, how can I directly list all files inside this subdirectory? Or I need to unzip this jar file? I highly appreciate your help !"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1438596793,"post_id":1429275,"comment_id":51498294,"body_markdown":"Mentioned Java 7 approach is listed in [@acheron55&#39;s answer](http://stackoverflow.com/a/28057735/603516).","body":"Mentioned Java 7 approach is listed in <a href=\"http://stackoverflow.com/a/28057735/603516\">@acheron55&#39;s answer</a>."},{"owner":{"account_id":1286307,"reputation":631,"user_id":1239295,"accept_rate":67,"display_name":"Bruce Sun"},"score":1,"creation_date":1453443459,"post_id":1429275,"comment_id":57612420,"body_markdown":"@Vadzim Are you sure acheron55&#39;s answer is for Java 7? I didn&#39;t found Files.walk() or java.util.Stream in Java 7, but in Java 8: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html","body":"@Vadzim Are you sure acheron55&#39;s answer is for Java 7? I didn&#39;t found Files.walk() or java.util.Stream in Java 7, but in Java 8: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html</a>"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1453457636,"post_id":1429275,"comment_id":57619732,"body_markdown":"@BruceSun, in java 7 you can use [Files.walkFileTree(...)](http://stackoverflow.com/a/3154643/603516) instead.","body":"@BruceSun, in java 7 you can use <a href=\"http://stackoverflow.com/a/3154643/603516\">Files.walkFileTree(...)</a> instead."},{"owner":{"account_id":1920862,"reputation":3756,"user_id":1732418,"accept_rate":53,"display_name":"tribbloid"},"score":0,"creation_date":1472942630,"post_id":1429275,"comment_id":65956746,"body_markdown":"This only works for extracting class, useless on resources which is most situation","body":"This only works for extracting class, useless on resources which is most situation"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1473034514,"post_id":1429275,"comment_id":65977108,"body_markdown":"@tribbloid That&#39;s not correct. This can be used to extract any file in the archive. What gave you your incorrect understanding?","body":"@tribbloid That&#39;s not correct. This can be used to extract any file in the archive. What gave you your incorrect understanding?"},{"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"score":0,"creation_date":1576340984,"post_id":1429275,"comment_id":104871805,"body_markdown":"Best solution. Solved the problem.","body":"Best solution. Solved the problem."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":8,"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1467404592,"creation_date":1253044130,"answer_id":1429275,"question_id":1429172,"body_markdown":"    CodeSource src = MyClass.class.getProtectionDomain().getCodeSource();\r\n    if (src != null) {\r\n      URL jar = src.getLocation();\r\n      ZipInputStream zip = new ZipInputStream(jar.openStream());\r\n      while(true) {\r\n        ZipEntry e = zip.getNextEntry();\r\n        if (e == null)\r\n          break;\r\n        String name = e.getName();\r\n        if (name.startsWith(&quot;path/to/your/dir/&quot;)) {\r\n          /* Do something with this entry. */\r\n          ...\r\n        }\r\n      }\r\n    } \r\n    else {\r\n      /* Fail... */\r\n    }\r\n\r\nNote that in Java 7, you can create a `FileSystem` from the JAR (zip) file, and then use NIO&#39;s directory walking and filtering mechanisms to search through it. This would make it easier to write code that handles JARs and &quot;exploded&quot; directories.","title":"How to list the files inside a JAR file?","body":"<pre><code>CodeSource src = MyClass.class.getProtectionDomain().getCodeSource();\nif (src != null) {\n  URL jar = src.getLocation();\n  ZipInputStream zip = new ZipInputStream(jar.openStream());\n  while(true) {\n    ZipEntry e = zip.getNextEntry();\n    if (e == null)\n      break;\n    String name = e.getName();\n    if (name.startsWith(\"path/to/your/dir/\")) {\n      /* Do something with this entry. */\n      ...\n    }\n  }\n} \nelse {\n  /* Fail... */\n}\n</code></pre>\n\n<p>Note that in Java 7, you can create a <code>FileSystem</code> from the JAR (zip) file, and then use NIO's directory walking and filtering mechanisms to search through it. This would make it easier to write code that handles JARs and \"exploded\" directories.</p>\n"},{"comments":[{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":1,"creation_date":1257883139,"post_id":1431328,"comment_id":1587817,"body_markdown":"huh - interesting that this would have been down moded without comment...  We use the above technique all the time and it works just fine.","body":"huh - interesting that this would have been down moded without comment...  We use the above technique all the time and it works just fine."},{"owner":{"account_id":55310,"reputation":4734,"user_id":165629,"accept_rate":90,"display_name":"Tuukka Mustonen"},"score":0,"creation_date":1284541341,"post_id":1431328,"comment_id":3921303,"body_markdown":"An old issue, but to me this seems like a fine hack. Upvoted back to zero :)","body":"An old issue, but to me this seems like a fine hack. Upvoted back to zero :)"},{"owner":{"account_id":2331977,"reputation":1709,"user_id":2045169,"accept_rate":91,"display_name":"jr."},"score":0,"creation_date":1385264444,"post_id":1431328,"comment_id":30069487,"body_markdown":"Upvoted, because this is the only solution listed here for the case when a class does not have a `CodeSource`.","body":"Upvoted, because this is the only solution listed here for the case when a class does not have a <code>CodeSource</code>."},{"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"score":0,"creation_date":1659956076,"post_id":1431328,"comment_id":129410209,"body_markdown":"Need to remember that a classloader&#39;s `getResources` will search for all classloader paths, so it&#39;ll include resources from other jars. So, better to place own resources into uniquely named folder hierarchy.","body":"Need to remember that a classloader&#39;s <code>getResources</code> will search for all classloader paths, so it&#39;ll include resources from other jars. So, better to place own resources into uniquely named folder hierarchy."}],"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"comment_count":4,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1253083290,"creation_date":1253083290,"answer_id":1431328,"question_id":1429172,"body_markdown":"&gt;&gt; So I guess my main problem would be, how to know the name of the jar where my main class lives.\r\n\r\n\r\nAssuming that your project is packed in a Jar (not necessarily true!), you can use ClassLoader.getResource() or findResource() with the class name (followed by .class) to get the jar that contains a given class.  You&#39;ll have to parse the jar name from the URL that gets returned (not that tough), which I will leave as an exercise for the reader :-)\r\n\r\nBe sure to test for the case where the class is not part of a jar.\r\n\r\n","title":"How to list the files inside a JAR file?","body":"<blockquote>\n  <blockquote>\n    <p>So I guess my main problem would be, how to know the name of the jar where my main class lives.</p>\n  </blockquote>\n</blockquote>\n\n<p>Assuming that your project is packed in a Jar (not necessarily true!), you can use ClassLoader.getResource() or findResource() with the class name (followed by .class) to get the jar that contains a given class.  You'll have to parse the jar name from the URL that gets returned (not that tough), which I will leave as an exercise for the reader :-)</p>\n\n<p>Be sure to test for the case where the class is not part of a jar.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1397636265,"creation_date":1253137305,"answer_id":1435649,"question_id":1429172,"body_markdown":"erickson&#39;s [answer][1]  worked perfectly: \r\n\r\nHere&#39;s the working code.\r\n\r\n    CodeSource src = MyClass.class.getProtectionDomain().getCodeSource();\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n    if( src != null ) {\r\n        URL jar = src.getLocation();\r\n        ZipInputStream zip = new ZipInputStream( jar.openStream());\r\n        ZipEntry ze = null;\r\n\r\n        while( ( ze = zip.getNextEntry() ) != null ) {\r\n            String entryName = ze.getName();\r\n            if( entryName.startsWith(&quot;images&quot;) &amp;&amp;  entryName.endsWith(&quot;.png&quot;) ) {\r\n                list.add( entryName  );\r\n            }\r\n        }\r\n\r\n     }\r\n     webimages = list.toArray( new String[ list.size() ] );\r\n\r\n\r\nAnd I have just modify my load method from this:\r\n\r\n    File[] webimages = ... \r\n    BufferedImage image = ImageIO.read(this.getClass().getResource(webimages[nextIndex].getName() ));\r\n\r\nTo this:\r\n\r\n    String  [] webimages = ...\r\n\r\n    BufferedImage image = ImageIO.read(this.getClass().getResource(webimages[nextIndex]));\r\n\r\n  [1]: https://stackoverflow.com/questions/1429172/list-files-inside-a-jar/1429275#1429275","title":"How to list the files inside a JAR file?","body":"<p>erickson's <a href=\"https://stackoverflow.com/questions/1429172/list-files-inside-a-jar/1429275#1429275\">answer</a>  worked perfectly: </p>\n\n<p>Here's the working code.</p>\n\n<pre><code>CodeSource src = MyClass.class.getProtectionDomain().getCodeSource();\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\nif( src != null ) {\n    URL jar = src.getLocation();\n    ZipInputStream zip = new ZipInputStream( jar.openStream());\n    ZipEntry ze = null;\n\n    while( ( ze = zip.getNextEntry() ) != null ) {\n        String entryName = ze.getName();\n        if( entryName.startsWith(\"images\") &amp;&amp;  entryName.endsWith(\".png\") ) {\n            list.add( entryName  );\n        }\n    }\n\n }\n webimages = list.toArray( new String[ list.size() ] );\n</code></pre>\n\n<p>And I have just modify my load method from this:</p>\n\n<pre><code>File[] webimages = ... \nBufferedImage image = ImageIO.read(this.getClass().getResource(webimages[nextIndex].getName() ));\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>String  [] webimages = ...\n\nBufferedImage image = ImageIO.read(this.getClass().getResource(webimages[nextIndex]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61890,"reputation":1140,"user_id":184199,"accept_rate":60,"display_name":"jgran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301591687,"creation_date":1254727291,"answer_id":1518653,"question_id":1429172,"body_markdown":"There are two very useful utilities both called JarScan:\r\n \r\n 1. [www.inetfeedback.com/jarscan][1]\r\n\r\n 2. [jarscan.dev.java.net][2]\r\n\r\nSee also this question: *[JarScan, scan all JAR files in all subfolders for specific class][3]*\r\n\r\n  [1]: http://www.inetfeedback.com/jarscan\r\n  [2]: http://jarscan.dev.java.net\r\n  [3]: https://stackoverflow.com/questions/759923\r\n","title":"How to list the files inside a JAR file?","body":"<p>There are two very useful utilities both called JarScan:</p>\n\n<ol>\n<li><p><a href=\"http://www.inetfeedback.com/jarscan\" rel=\"nofollow noreferrer\">www.inetfeedback.com/jarscan</a></p></li>\n<li><p><a href=\"http://jarscan.dev.java.net\" rel=\"nofollow noreferrer\">jarscan.dev.java.net</a></p></li>\n</ol>\n\n<p>See also this question: <em><a href=\"https://stackoverflow.com/questions/759923\">JarScan, scan all JAR files in all subfolders for specific class</a></em></p>\n"},{"tags":[],"owner":{"account_id":388323,"reputation":1955,"user_id":747179,"display_name":"berni"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1306538920,"creation_date":1306538920,"answer_id":6158607,"question_id":1429172,"body_markdown":"Some time ago I made a function that gets classess from inside JAR:\r\n\r\n\tpublic static Class[] getClasses(String packageName) \r\n\tthrows ClassNotFoundException{\r\n\t\tArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt; ();\r\n\r\n\t\tpackageName = packageName.replaceAll(&quot;\\\\.&quot; , &quot;/&quot;);\r\n\t\tFile f = new File(jarName);\r\n\t\tif(f.exists()){\r\n\t\t\ttry{\r\n\t\t\t\tJarInputStream jarFile = new JarInputStream(\r\n\t\t\t\t\t\tnew FileInputStream (jarName));\r\n\t\t\t\tJarEntry jarEntry;\r\n\r\n\t\t\t\twhile(true) {\r\n\t\t\t\t\tjarEntry=jarFile.getNextJarEntry ();\r\n\t\t\t\t\tif(jarEntry == null){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif((jarEntry.getName ().startsWith (packageName)) &amp;&amp;\r\n\t\t\t\t\t\t\t(jarEntry.getName ().endsWith (&quot;.class&quot;)) ) {\r\n\t\t\t\t\t\tclasses.add(Class.forName(jarEntry.getName().\r\n\t\t\t\t\t\t\t\treplaceAll(&quot;/&quot;, &quot;\\\\.&quot;).\r\n\t\t\t\t\t\t\t\tsubstring(0, jarEntry.getName().length() - 6)));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch( Exception e){\r\n\t\t\t\te.printStackTrace ();\r\n\t\t\t}\r\n\t\t\tClass[] classesA = new Class[classes.size()];\r\n\t\t\tclasses.toArray(classesA);\r\n\t\t\treturn classesA;\r\n\t\t}else\r\n\t\t\treturn null;\r\n\t}","title":"How to list the files inside a JAR file?","body":"<p>Some time ago I made a function that gets classess from inside JAR:</p>\n\n<pre><code>public static Class[] getClasses(String packageName) \nthrows ClassNotFoundException{\n    ArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt; ();\n\n    packageName = packageName.replaceAll(\"\\\\.\" , \"/\");\n    File f = new File(jarName);\n    if(f.exists()){\n        try{\n            JarInputStream jarFile = new JarInputStream(\n                    new FileInputStream (jarName));\n            JarEntry jarEntry;\n\n            while(true) {\n                jarEntry=jarFile.getNextJarEntry ();\n                if(jarEntry == null){\n                    break;\n                }\n                if((jarEntry.getName ().startsWith (packageName)) &amp;&amp;\n                        (jarEntry.getName ().endsWith (\".class\")) ) {\n                    classes.add(Class.forName(jarEntry.getName().\n                            replaceAll(\"/\", \"\\\\.\").\n                            substring(0, jarEntry.getName().length() - 6)));\n                }\n            }\n        }\n        catch( Exception e){\n            e.printStackTrace ();\n        }\n        Class[] classesA = new Class[classes.size()];\n        classes.toArray(classesA);\n        return classesA;\n    }else\n        return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":401994,"reputation":1812,"user_id":768894,"accept_rate":59,"display_name":"EMM"},"score":7,"creation_date":1439652979,"post_id":28057735,"comment_id":51954186,"body_markdown":"Fantastic!!! but URI uri = MyClass.class.getResource(&quot;/resources&quot;).toURI(); should have MyClass.class.getClassLoader().getResource(&quot;/resources&quot;).toURI(); i.e, getClassLoader(). Otherwise it was not working for me.","body":"Fantastic!!! but URI uri = MyClass.class.getResource(&quot;/resources&quot;).toURI(); should have MyClass.class.getClassLoader().getResource(&quot;/resources&quot;).toU&zwnj;&#8203;RI(); i.e, getClassLoader(). Otherwise it was not working for me."},{"owner":{"account_id":2142752,"reputation":99,"user_id":1901037,"display_name":"gmjonker"},"score":15,"creation_date":1457611412,"post_id":28057735,"comment_id":59490340,"body_markdown":"Don&#39;t forget to close `fileSystem`!","body":"Don&#39;t forget to close <code>fileSystem</code>!"},{"owner":{"account_id":1058082,"reputation":18227,"user_id":1060349,"accept_rate":72,"display_name":"toto_tico"},"score":4,"creation_date":1461107563,"post_id":28057735,"comment_id":61045902,"body_markdown":"This should be the first answer for 1.8 (`walk` method  in `Files` is only available in 1.8). The only problem is that the resources directory appears in  the `Files.walk(myPath, 1)`, not just the files. I guess the first element can be simply ignored","body":"This should be the first answer for 1.8 (<code>walk</code> method  in <code>Files</code> is only available in 1.8). The only problem is that the resources directory appears in  the <code>Files.walk(myPath, 1)</code>, not just the files. I guess the first element can be simply ignored"},{"owner":{"account_id":1896086,"reputation":5499,"user_id":1713031,"accept_rate":71,"display_name":"acheron55"},"score":0,"creation_date":1461242325,"post_id":28057735,"comment_id":61117105,"body_markdown":"@toto_tico I think it is 1.7, I wasn&#39;t using 1.8 when writing that answer","body":"@toto_tico I think it is 1.7, I wasn&#39;t using 1.8 when writing that answer"},{"owner":{"account_id":39705,"reputation":3960,"user_id":114626,"accept_rate":54,"display_name":"Eyal Roth"},"score":1,"creation_date":1465488068,"post_id":28057735,"comment_id":62933119,"body_markdown":"This is a good idea, but it is also unsafe. I&#39;ve added an [answer](http://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/37730853#37730853) with a safer approach.","body":"This is a good idea, but it is also unsafe. I&#39;ve added an <a href=\"http://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/37730853#37730853\">answer</a> with a safer approach."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1476178848,"post_id":28057735,"comment_id":67227823,"body_markdown":"I have added a Java 7 implementation of this code and tested it on application servers too.  See http://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/39974405#39974405","body":"I have added a Java 7 implementation of this code and tested it on application servers too.  See <a href=\"http://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/39974405#39974405\" title=\"how do i list the files inside a jar file\">stackoverflow.com/questions/1429172/&hellip;</a>"},{"owner":{"account_id":5573451,"reputation":641,"user_id":4417811,"display_name":"Stefan Bormann"},"score":0,"creation_date":1476353505,"post_id":28057735,"comment_id":67313078,"body_markdown":"What is the use case for the else path for `uri.getScheme().equals(&quot;jar&quot;)`?","body":"What is the use case for the else path for <code>uri.getScheme().equals(&quot;jar&quot;)</code>?"},{"owner":{"account_id":3452182,"reputation":5640,"user_id":2891595,"accept_rate":31,"display_name":"phip1611"},"score":1,"creation_date":1522527809,"post_id":28057735,"comment_id":86191725,"body_markdown":"@StefanBormann for if you run it regular (in your IDE) and not in a built jar","body":"@StefanBormann for if you run it regular (in your IDE) and not in a built jar"},{"owner":{"account_id":3452182,"reputation":5640,"user_id":2891595,"accept_rate":31,"display_name":"phip1611"},"score":7,"creation_date":1522527861,"post_id":28057735,"comment_id":86191746,"body_markdown":"`myPath = fileSystem.getPath(&quot;/resources&quot;);` doesn&#39;t work for me; it doesn&#39;t find anything. It should be &quot;images&quot; in my case and the &quot;images&quot;-directory is definitely included in my jar!","body":"<code>myPath = fileSystem.getPath(&quot;&#47;resources&quot;);</code> doesn&#39;t work for me; it doesn&#39;t find anything. It should be &quot;images&quot; in my case and the &quot;images&quot;-directory is definitely included in my jar!"}],"tags":[],"owner":{"account_id":1896086,"reputation":5499,"user_id":1713031,"accept_rate":71,"display_name":"acheron55"},"comment_count":9,"down_vote_count":1,"up_vote_count":106,"is_accepted":false,"score":105,"last_activity_date":1474169658,"creation_date":1421800797,"answer_id":28057735,"question_id":1429172,"body_markdown":"Code that works for both IDE&#39;s and .jar files:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.nio.file.*;\r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n    \r\n    public class ResourceWalker {\r\n    \tpublic static void main(String[] args) throws URISyntaxException, IOException {\r\n    \t\tURI uri = ResourceWalker.class.getResource(&quot;/resources&quot;).toURI();\r\n    \t    Path myPath;\r\n    \t    if (uri.getScheme().equals(&quot;jar&quot;)) {\r\n    \t        FileSystem fileSystem = FileSystems.newFileSystem(uri, Collections.&lt;String, Object&gt;emptyMap());\r\n    \t        myPath = fileSystem.getPath(&quot;/resources&quot;);\r\n    \t    } else {\r\n    \t        myPath = Paths.get(uri);\r\n    \t    }\r\n    \t    Stream&lt;Path&gt; walk = Files.walk(myPath, 1);\r\n    \t    for (Iterator&lt;Path&gt; it = walk.iterator(); it.hasNext();){\r\n    \t        System.out.println(it.next());\r\n    \t    }\r\n    \t}\r\n    }","title":"How to list the files inside a JAR file?","body":"<p>Code that works for both IDE's and .jar files:</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.nio.file.*;\nimport java.util.*;\nimport java.util.stream.*;\n\npublic class ResourceWalker {\n    public static void main(String[] args) throws URISyntaxException, IOException {\n        URI uri = ResourceWalker.class.getResource(\"/resources\").toURI();\n        Path myPath;\n        if (uri.getScheme().equals(\"jar\")) {\n            FileSystem fileSystem = FileSystems.newFileSystem(uri, Collections.&lt;String, Object&gt;emptyMap());\n            myPath = fileSystem.getPath(\"/resources\");\n        } else {\n            myPath = Paths.get(uri);\n        }\n        Stream&lt;Path&gt; walk = Files.walk(myPath, 1);\n        for (Iterator&lt;Path&gt; it = walk.iterator(); it.hasNext();){\n            System.out.println(it.next());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232450,"reputation":1114,"user_id":497300,"display_name":"trung"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434510021,"creation_date":1434510021,"answer_id":30881586,"question_id":1429172,"body_markdown":"Just a different way of listing/reading files from a jar URL and it does it recursively for nested jars\r\n\r\nhttps://gist.github.com/trung/2cd90faab7f75b3bcbaa\r\n    \r\n    URL urlResource = Thead.currentThread().getContextClassLoader().getResource(&quot;foo&quot;);\r\n    JarReader.read(urlResource, new InputStreamCallback() {\r\n        @Override\r\n\t\tpublic void onFile(String name, InputStream is) throws IOException {\r\n            // got file name and content stream \r\n        }\r\n    });\r\n","title":"How to list the files inside a JAR file?","body":"<p>Just a different way of listing/reading files from a jar URL and it does it recursively for nested jars</p>\n\n<p><a href=\"https://gist.github.com/trung/2cd90faab7f75b3bcbaa\" rel=\"nofollow\">https://gist.github.com/trung/2cd90faab7f75b3bcbaa</a></p>\n\n<pre><code>URL urlResource = Thead.currentThread().getContextClassLoader().getResource(\"foo\");\nJarReader.read(urlResource, new InputStreamCallback() {\n    @Override\n    public void onFile(String name, InputStream is) throws IOException {\n        // got file name and content stream \n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1565795030,"post_id":31784566,"comment_id":101464370,"body_markdown":"Beware that reflections still doesn&#39;t support Java 9 and above: https://github.com/ronmamo/reflections/issues/186. There are links to competing libraries there.","body":"Beware that reflections still doesn&#39;t support Java 9 and above: <a href=\"https://github.com/ronmamo/reflections/issues/186\" rel=\"nofollow noreferrer\">github.com/ronmamo/reflections/issues/186</a>. There are links to competing libraries there."}],"tags":[],"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1438596196,"creation_date":1438596196,"answer_id":31784566,"question_id":1429172,"body_markdown":"Here is an example of using [Reflections][1] library to recursively scan classpath by regex name pattern augmented with a couple of [Guava][2] perks to to fetch resources contents:\r\n\r\n    Reflections reflections = new Reflections(&quot;com.example.package&quot;, new ResourcesScanner());\r\n    Set&lt;String&gt; paths = reflections.getResources(Pattern.compile(&quot;.*\\\\.template$&quot;));\r\n\r\n    Map&lt;String, String&gt; templates = new LinkedHashMap&lt;&gt;();\r\n    for (String path : paths) {\r\n        log.info(&quot;Found &quot; + path);\r\n        String templateName = Files.getNameWithoutExtension(path);\r\n        URL resource = getClass().getClassLoader().getResource(path);\r\n        String text = Resources.toString(resource, StandardCharsets.UTF_8);\r\n        templates.put(templateName, text);\r\n    }\r\n\r\nThis works with both jars and exploded classes.\r\n\r\n\r\n  [1]: https://github.com/ronmamo/reflections\r\n  [2]: https://github.com/google/guava","title":"How to list the files inside a JAR file?","body":"<p>Here is an example of using <a href=\"https://github.com/ronmamo/reflections\" rel=\"noreferrer\">Reflections</a> library to recursively scan classpath by regex name pattern augmented with a couple of <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> perks to to fetch resources contents:</p>\n\n<pre><code>Reflections reflections = new Reflections(\"com.example.package\", new ResourcesScanner());\nSet&lt;String&gt; paths = reflections.getResources(Pattern.compile(\".*\\\\.template$\"));\n\nMap&lt;String, String&gt; templates = new LinkedHashMap&lt;&gt;();\nfor (String path : paths) {\n    log.info(\"Found \" + path);\n    String templateName = Files.getNameWithoutExtension(path);\n    URL resource = getClass().getClassLoader().getResource(path);\n    String text = Resources.toString(resource, StandardCharsets.UTF_8);\n    templates.put(templateName, text);\n}\n</code></pre>\n\n<p>This works with both jars and exploded classes.</p>\n"},{"comments":[{"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"score":2,"creation_date":1491384453,"post_id":37730853,"comment_id":73524085,"body_markdown":"Synchronization of external resources, like FS, does not have much sense within one VM. There can be other applications accessing it outside your VM. Besides even inside your own application, your locking based on filenames can be easily bypassed. With this things it is better to rely on OS synchronization mechanisms, like file locking.","body":"Synchronization of external resources, like FS, does not have much sense within one VM. There can be other applications accessing it outside your VM. Besides even inside your own application, your locking based on filenames can be easily bypassed. With this things it is better to rely on OS synchronization mechanisms, like file locking."},{"owner":{"account_id":39705,"reputation":3960,"user_id":114626,"accept_rate":54,"display_name":"Eyal Roth"},"score":0,"creation_date":1491476536,"post_id":37730853,"comment_id":73575171,"body_markdown":"@Espinosa The file-name lock mechanism could totally be bypassed; my answer is not safe enough as well, but I believe it&#39;s the most you can get with Java NIO&#39;s with minimal effort. Relying on the OS to manage the locks, or not being in control of which applications access which files is a bad practice IMHO, unless you&#39;re building a costumer-based app -- say, a text editor. Not managing locks on your own will either cause exceptions to be thrown, or cause threads to block the application - both should be avoided.","body":"@Espinosa The file-name lock mechanism could totally be bypassed; my answer is not safe enough as well, but I believe it&#39;s the most you can get with Java NIO&#39;s with minimal effort. Relying on the OS to manage the locks, or not being in control of which applications access which files is a bad practice IMHO, unless you&#39;re building a costumer-based app -- say, a text editor. Not managing locks on your own will either cause exceptions to be thrown, or cause threads to block the application - both should be avoided."}],"tags":[],"owner":{"account_id":39705,"reputation":3960,"user_id":114626,"accept_rate":54,"display_name":"Eyal Roth"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1680514268,"creation_date":1465487650,"answer_id":37730853,"question_id":1429172,"body_markdown":"I would like to expand on acheron55&#39;s [answer][1], since it is a very non-safe solution, for several reasons:\r\n\r\n 1. It doesn&#39;t close the `FileSystem` object.\r\n 2. It doesn&#39;t check if the `FileSystem` object already exists.\r\n 3. It isn&#39;t thread-safe.\r\n\r\nThis is somewhat a safer solution:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static ConcurrentMap&lt;String, Object&gt; locks = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    public void walk(String path) throws Exception {\r\n\r\n        URI uri = getClass().getResource(path).toURI();\r\n        if (&quot;jar&quot;.equals(uri.getScheme())) {\r\n            safeWalkJar(path, uri);\r\n        } else {\r\n            Files.walk(Paths.get(path));\r\n        }\r\n    }\r\n\r\n    private void safeWalkJar(String path, URI uri) throws Exception {\r\n    \r\n        synchronized (getLock(uri)) {    \r\n            // this&#39;ll close the FileSystem object at the end\r\n            try (FileSystem fs = getFileSystem(uri)) {\r\n                Files.walk(fs.getPath(path));\r\n            }\r\n        }\r\n    }\r\n    \r\n    private Object getLock(URI uri) {\r\n    \r\n        String fileName = parseFileName(uri);  \r\n        locks.computeIfAbsent(fileName, s -&gt; new Object());\r\n        return locks.get(fileName);\r\n    }\r\n    \r\n    private String parseFileName(URI uri) {\r\n        \r\n        String schemeSpecificPart = uri.getSchemeSpecificPart();\r\n        return schemeSpecificPart.substring(0, schemeSpecificPart.indexOf(&quot;!&quot;));\r\n    }\r\n    \r\n    private FileSystem getFileSystem(URI uri) throws IOException {\r\n    \r\n        try {\r\n            return FileSystems.getFileSystem(uri);\r\n        } catch (FileSystemNotFoundException e) {\r\n            return FileSystems.newFileSystem(uri, Collections.&lt;String, String&gt;emptyMap());\r\n        }\r\n    }\t\r\n\r\nThere&#39;s no real need to synchronize over the file name; one could simply synchronize on the same object every time (or make the method `synchronized`), it&#39;s purely an optimization.\r\n\r\nI would say that this is still a problematic solution, since there might be other parts in the code that use the `FileSystem` interface over the same files, and it could interfere with them (even in a single threaded application).  \r\nAlso, it doesn&#39;t check for `null`s (for instance, on `getClass().getResource()`.\r\n\r\nThis particular Java NIO interface is kind of horrible, since it introduces a global/singleton non thread-safe resource, and its documentation is extremely vague (a lot of unknowns due to provider specific implementations). Results may vary for other `FileSystem` providers (not JAR). Maybe there&#39;s a good reason for it being that way; I don&#39;t know, I haven&#39;t researched the implementations.\r\n\r\n  [1]: https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/28057735#28057735","title":"How to list the files inside a JAR file?","body":"<p>I would like to expand on acheron55's <a href=\"https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/28057735#28057735\">answer</a>, since it is a very non-safe solution, for several reasons:</p>\n<ol>\n<li>It doesn't close the <code>FileSystem</code> object.</li>\n<li>It doesn't check if the <code>FileSystem</code> object already exists.</li>\n<li>It isn't thread-safe.</li>\n</ol>\n<p>This is somewhat a safer solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static ConcurrentMap&lt;String, Object&gt; locks = new ConcurrentHashMap&lt;&gt;();\n\npublic void walk(String path) throws Exception {\n\n    URI uri = getClass().getResource(path).toURI();\n    if (&quot;jar&quot;.equals(uri.getScheme())) {\n        safeWalkJar(path, uri);\n    } else {\n        Files.walk(Paths.get(path));\n    }\n}\n\nprivate void safeWalkJar(String path, URI uri) throws Exception {\n\n    synchronized (getLock(uri)) {    \n        // this'll close the FileSystem object at the end\n        try (FileSystem fs = getFileSystem(uri)) {\n            Files.walk(fs.getPath(path));\n        }\n    }\n}\n\nprivate Object getLock(URI uri) {\n\n    String fileName = parseFileName(uri);  \n    locks.computeIfAbsent(fileName, s -&gt; new Object());\n    return locks.get(fileName);\n}\n\nprivate String parseFileName(URI uri) {\n    \n    String schemeSpecificPart = uri.getSchemeSpecificPart();\n    return schemeSpecificPart.substring(0, schemeSpecificPart.indexOf(&quot;!&quot;));\n}\n\nprivate FileSystem getFileSystem(URI uri) throws IOException {\n\n    try {\n        return FileSystems.getFileSystem(uri);\n    } catch (FileSystemNotFoundException e) {\n        return FileSystems.newFileSystem(uri, Collections.&lt;String, String&gt;emptyMap());\n    }\n}   \n</code></pre>\n<p>There's no real need to synchronize over the file name; one could simply synchronize on the same object every time (or make the method <code>synchronized</code>), it's purely an optimization.</p>\n<p>I would say that this is still a problematic solution, since there might be other parts in the code that use the <code>FileSystem</code> interface over the same files, and it could interfere with them (even in a single threaded application).<br />\nAlso, it doesn't check for <code>null</code>s (for instance, on <code>getClass().getResource()</code>.</p>\n<p>This particular Java NIO interface is kind of horrible, since it introduces a global/singleton non thread-safe resource, and its documentation is extremely vague (a lot of unknowns due to provider specific implementations). Results may vary for other <code>FileSystem</code> providers (not JAR). Maybe there's a good reason for it being that way; I don't know, I haven't researched the implementations.</p>\n"},{"comments":[{"owner":{"account_id":4886037,"reputation":119,"user_id":7340677,"display_name":"Betalord"},"score":0,"creation_date":1609968903,"post_id":39974405,"comment_id":115989584,"body_markdown":"This code doesn&#39;t work for me, I get `NullPointerException` on line with `ResourceWalker.class.getResource(&quot;/resources&quot;).toURI()`, and if I use &quot;&quot; as parameter, I get the following error:\n\n`Starting from: rsrc:com/betalord/sgx/util/`\n`java.nio.file.FileSystemNotFoundException: Provider &quot;rsrc&quot; not installed`","body":"This code doesn&#39;t work for me, I get <code>NullPointerException</code> on line with <code>ResourceWalker.class.getResource(&quot;&#47;resources&quot;).toURI()</code>, and if I use &quot;&quot; as parameter, I get the following error:  <code>Starting from: rsrc:com&#47;betalord&#47;sgx&#47;util&#47;</code> <code>java.nio.file.FileSystemNotFoundException: Provider &quot;rsrc&quot; not installed</code>"}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1476178687,"creation_date":1476178687,"answer_id":39974405,"question_id":1429172,"body_markdown":"I&#39;ve ported [acheron55&#39;s answer][1] to Java 7 and closed the `FileSystem` object.  This code works in IDE&#39;s, in jar files and in a jar inside a war on Tomcat 7; but note that it does **not** work in a jar inside a war on JBoss 7 (it gives `FileSystemNotFoundException: Provider &quot;vfs&quot; not installed`, see also [this post][2]).  Furthermore, like the original code, it is not thread safe, as suggested by [errr][3].  For these reasons I have abandoned this solution; however, if you can accept these issues, here is my ready-made code:\r\n\r\n    import java.io.IOException;\r\n    import java.net.*;\r\n    import java.nio.file.*;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    import java.util.Collections;\r\n    \r\n    public class ResourceWalker {\r\n    \r\n        public static void main(String[] args) throws URISyntaxException, IOException {\r\n            URI uri = ResourceWalker.class.getResource(&quot;/resources&quot;).toURI();\r\n            System.out.println(&quot;Starting from: &quot; + uri);\r\n            try (FileSystem fileSystem = (uri.getScheme().equals(&quot;jar&quot;) ? FileSystems.newFileSystem(uri, Collections.&lt;String, Object&gt;emptyMap()) : null)) {\r\n            \tPath myPath = Paths.get(uri);\r\n    \t        Files.walkFileTree(myPath, new SimpleFileVisitor&lt;Path&gt;() { \r\n    \t            @Override\r\n    \t            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n    \t                System.out.println(file);\r\n    \t                return FileVisitResult.CONTINUE;\r\n    \t            }\r\n    \t        });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/28057735#28057735\r\n  [2]: https://stackoverflow.com/questions/27001497/jboss-wildfly-8-x-provider-vfs-not-installed-when-using-java-nio-paths\r\n  [3]: https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/#answer-37730853","title":"How to list the files inside a JAR file?","body":"<p>I've ported <a href=\"https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/28057735#28057735\">acheron55's answer</a> to Java 7 and closed the <code>FileSystem</code> object.  This code works in IDE's, in jar files and in a jar inside a war on Tomcat 7; but note that it does <strong>not</strong> work in a jar inside a war on JBoss 7 (it gives <code>FileSystemNotFoundException: Provider \"vfs\" not installed</code>, see also <a href=\"https://stackoverflow.com/questions/27001497/jboss-wildfly-8-x-provider-vfs-not-installed-when-using-java-nio-paths\">this post</a>).  Furthermore, like the original code, it is not thread safe, as suggested by <a href=\"https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/#answer-37730853\">errr</a>.  For these reasons I have abandoned this solution; however, if you can accept these issues, here is my ready-made code:</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.*;\nimport java.nio.file.*;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.Collections;\n\npublic class ResourceWalker {\n\n    public static void main(String[] args) throws URISyntaxException, IOException {\n        URI uri = ResourceWalker.class.getResource(\"/resources\").toURI();\n        System.out.println(\"Starting from: \" + uri);\n        try (FileSystem fileSystem = (uri.getScheme().equals(\"jar\") ? FileSystems.newFileSystem(uri, Collections.&lt;String, Object&gt;emptyMap()) : null)) {\n            Path myPath = Paths.get(uri);\n            Files.walkFileTree(myPath, new SimpleFileVisitor&lt;Path&gt;() { \n                @Override\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n                    System.out.println(file);\n                    return FileVisitResult.CONTINUE;\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"score":3,"creation_date":1566675824,"post_id":57640937,"comment_id":101733750,"body_markdown":"While this code snippet may solve the problem, it doesn&#39;t explain why or how it answers the question. Please [include an explanation for your code](//meta.stackexchange.com/q/114762/269535), as that really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion.","body":"While this code snippet may solve the problem, it doesn&#39;t explain why or how it answers the question. Please <a href=\"//meta.stackexchange.com/q/114762/269535\">include an explanation for your code</a>, as that really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."},{"owner":{"account_id":1710753,"reputation":993,"user_id":1568881,"accept_rate":40,"display_name":"Aguid"},"score":0,"creation_date":1588718241,"post_id":57640937,"comment_id":109006245,"body_markdown":"data is empty when we execute the code from a jar file.","body":"data is empty when we execute the code from a jar file."}],"tags":[],"owner":{"account_id":13245437,"reputation":21,"user_id":9564718,"display_name":"Felix G."},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566675818,"creation_date":1566674631,"answer_id":57640937,"question_id":1429172,"body_markdown":"    public static ArrayList&lt;String&gt; listItems(String path) throws Exception{\r\n        InputStream in = ClassLoader.getSystemClassLoader().getResourceAsStream(path);\r\n        byte[] b = new byte[in.available()];\r\n        in.read(b);\r\n        String data = new String(b);\r\n        String[] s = data.split(&quot;\\n&quot;);\r\n        List&lt;String&gt; a = Arrays.asList(s);\r\n        ArrayList&lt;String&gt; m = new ArrayList&lt;&gt;(a);\r\n        return m;\r\n    }","title":"How to list the files inside a JAR file?","body":"<pre><code>public static ArrayList&lt;String&gt; listItems(String path) throws Exception{\n    InputStream in = ClassLoader.getSystemClassLoader().getResourceAsStream(path);\n    byte[] b = new byte[in.available()];\n    in.read(b);\n    String data = new String(b);\n    String[] s = data.split(\"\\n\");\n    List&lt;String&gt; a = Arrays.asList(s);\n    ArrayList&lt;String&gt; m = new ArrayList&lt;&gt;(a);\n    return m;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570275106,"creation_date":1570274446,"answer_id":58247828,"question_id":1429172,"body_markdown":"The most robust mechanism for listing all resources in the classpath is currently [to use this pattern with ClassGraph][1], because it handles the [widest possible array of classpath specification mechanisms][2], including the new JPMS module system. (I am the author of ClassGraph.)\r\n\r\n&gt; How to know the name of the JAR file where my main class lives?\r\n\r\n    URI mainClasspathElementURI;\r\n    try (ScanResult scanResult = new ClassGraph().whitelistPackages(&quot;x.y.z&quot;)\r\n            .enableClassInfo().scan()) {\r\n        mainClasspathElementURI =\r\n                scanResult.getClassInfo(&quot;x.y.z.MainClass&quot;).getClasspathElementURI();\r\n    }\r\n\r\n&gt; How can I read the contents of a directory in a similar fashion within a JAR file? \r\n\r\n    List&lt;String&gt; classpathElementResourcePaths;\r\n    try (ScanResult scanResult = new ClassGraph().overrideClasspath(mainClasspathElementURI)\r\n            .scan()) {\r\n        classpathElementResourcePaths = scanResult.getAllResources().getPaths();\r\n    }\r\n\r\nThere are [lots of other ways to deal with resources][3] too.\r\n\r\n\r\n  [1]: https://github.com/classgraph/classgraph/wiki/Code-examples#finding-and-reading-resource-files\r\n  [2]: https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\r\n  [3]: https://github.com/classgraph/classgraph/wiki/API:-Resource#resourcelist","title":"How to list the files inside a JAR file?","body":"<p>The most robust mechanism for listing all resources in the classpath is currently <a href=\"https://github.com/classgraph/classgraph/wiki/Code-examples#finding-and-reading-resource-files\" rel=\"nofollow noreferrer\">to use this pattern with ClassGraph</a>, because it handles the <a href=\"https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\" rel=\"nofollow noreferrer\">widest possible array of classpath specification mechanisms</a>, including the new JPMS module system. (I am the author of ClassGraph.)</p>\n\n<blockquote>\n  <p>How to know the name of the JAR file where my main class lives?</p>\n</blockquote>\n\n<pre><code>URI mainClasspathElementURI;\ntry (ScanResult scanResult = new ClassGraph().whitelistPackages(\"x.y.z\")\n        .enableClassInfo().scan()) {\n    mainClasspathElementURI =\n            scanResult.getClassInfo(\"x.y.z.MainClass\").getClasspathElementURI();\n}\n</code></pre>\n\n<blockquote>\n  <p>How can I read the contents of a directory in a similar fashion within a JAR file? </p>\n</blockquote>\n\n<pre><code>List&lt;String&gt; classpathElementResourcePaths;\ntry (ScanResult scanResult = new ClassGraph().overrideClasspath(mainClasspathElementURI)\n        .scan()) {\n    classpathElementResourcePaths = scanResult.getAllResources().getPaths();\n}\n</code></pre>\n\n<p>There are <a href=\"https://github.com/classgraph/classgraph/wiki/API:-Resource#resourcelist\" rel=\"nofollow noreferrer\">lots of other ways to deal with resources</a> too.</p>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609797620,"creation_date":1592893564,"answer_id":62528557,"question_id":1429172,"body_markdown":"One more for the road that&#39;s a bit more flexible for matching specific filenames because it uses wildcard globbing. In a functional style this could resemble:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.io.IOException;\r\n    import java.net.URISyntaxException;\r\n    import java.nio.file.FileSystem;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.function.Consumer;\r\n    \r\n    import static java.nio.file.FileSystems.getDefault;\r\n    import static java.nio.file.FileSystems.newFileSystem;\r\n    import static java.util.Collections.emptyMap;\r\n    \r\n    /**\r\n     * Responsible for finding file resources.\r\n     */\r\n    public class ResourceWalker {\r\n      /**\r\n       * Globbing pattern to match font names.\r\n       */\r\n      public static final String GLOB_FONTS = &quot;**.{ttf,otf}&quot;;\r\n    \r\n      /**\r\n       * @param directory The root directory to scan for files matching the glob.\r\n       * @param c         The consumer function to call for each matching path\r\n       *                  found.\r\n       * @throws URISyntaxException Could not convert the resource to a URI.\r\n       * @throws IOException        Could not walk the tree.\r\n       */\r\n      public static void walk(\r\n        final String directory, final String glob, final Consumer&lt;Path&gt; c )\r\n        throws URISyntaxException, IOException {\r\n        final var resource = ResourceWalker.class.getResource( directory );\r\n        final var matcher = getDefault().getPathMatcher( &quot;glob:&quot; + glob );\r\n    \r\n        if( resource != null ) {\r\n          final var uri = resource.toURI();\r\n          final Path path;\r\n          FileSystem fs = null;\r\n    \r\n          if( &quot;jar&quot;.equals( uri.getScheme() ) ) {\r\n            fs = newFileSystem( uri, emptyMap() );\r\n            path = fs.getPath( directory );\r\n          }\r\n          else {\r\n            path = Paths.get( uri );\r\n          }\r\n    \r\n          try( final var walk = Files.walk( path, 10 ) ) {\r\n            for( final var it = walk.iterator(); it.hasNext(); ) {\r\n              final Path p = it.next();\r\n              if( matcher.matches( p ) ) {\r\n                c.accept( p );\r\n              }\r\n            }\r\n          } finally {\r\n            if( fs != null ) { fs.close(); }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nConsider parameterizing the file extensions, left an exercise for the reader.\r\n\r\nBe careful with `Files.walk`. According to the documentation: \r\n\r\n&gt; This method must be used within a try-with-resources statement or similar control structure to ensure that the stream&#39;s open directories are closed promptly after the stream&#39;s operations have completed.\r\n\r\nLikewise, `newFileSystem` must be closed, but not before the walker has had a chance to visit the file system paths.","title":"How to list the files inside a JAR file?","body":"<p>One more for the road that's a bit more flexible for matching specific filenames because it uses wildcard globbing. In a functional style this could resemble:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.net.URISyntaxException;\nimport java.nio.file.FileSystem;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.function.Consumer;\n\nimport static java.nio.file.FileSystems.getDefault;\nimport static java.nio.file.FileSystems.newFileSystem;\nimport static java.util.Collections.emptyMap;\n\n/**\n * Responsible for finding file resources.\n */\npublic class ResourceWalker {\n  /**\n   * Globbing pattern to match font names.\n   */\n  public static final String GLOB_FONTS = &quot;**.{ttf,otf}&quot;;\n\n  /**\n   * @param directory The root directory to scan for files matching the glob.\n   * @param c         The consumer function to call for each matching path\n   *                  found.\n   * @throws URISyntaxException Could not convert the resource to a URI.\n   * @throws IOException        Could not walk the tree.\n   */\n  public static void walk(\n    final String directory, final String glob, final Consumer&lt;Path&gt; c )\n    throws URISyntaxException, IOException {\n    final var resource = ResourceWalker.class.getResource( directory );\n    final var matcher = getDefault().getPathMatcher( &quot;glob:&quot; + glob );\n\n    if( resource != null ) {\n      final var uri = resource.toURI();\n      final Path path;\n      FileSystem fs = null;\n\n      if( &quot;jar&quot;.equals( uri.getScheme() ) ) {\n        fs = newFileSystem( uri, emptyMap() );\n        path = fs.getPath( directory );\n      }\n      else {\n        path = Paths.get( uri );\n      }\n\n      try( final var walk = Files.walk( path, 10 ) ) {\n        for( final var it = walk.iterator(); it.hasNext(); ) {\n          final Path p = it.next();\n          if( matcher.matches( p ) ) {\n            c.accept( p );\n          }\n        }\n      } finally {\n        if( fs != null ) { fs.close(); }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Consider parameterizing the file extensions, left an exercise for the reader.</p>\n<p>Be careful with <code>Files.walk</code>. According to the documentation:</p>\n<blockquote>\n<p>This method must be used within a try-with-resources statement or similar control structure to ensure that the stream's open directories are closed promptly after the stream's operations have completed.</p>\n</blockquote>\n<p>Likewise, <code>newFileSystem</code> must be closed, but not before the walker has had a chance to visit the file system paths.</p>\n"},{"comments":[{"owner":{"account_id":2277980,"reputation":188,"user_id":2003795,"display_name":"Tinkerbell"},"score":1,"creation_date":1627390807,"post_id":68179822,"comment_id":121139354,"body_markdown":"simple and sweet, worked great within a jar in a docker","body":"simple and sweet, worked great within a jar in a docker"},{"owner":{"account_id":24186806,"reputation":192,"user_id":18146547,"display_name":"Игорь Мешалкин"},"score":0,"creation_date":1698657554,"post_id":68179822,"comment_id":136428424,"body_markdown":"You are great man. All next generations should to remember and respect to you. Thank you very mutch.","body":"You are great man. All next generations should to remember and respect to you. Thank you very mutch."}],"tags":[],"owner":{"account_id":2545685,"reputation":949,"user_id":2210548,"accept_rate":80,"display_name":"Kraiss"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1624973823,"creation_date":1624973823,"answer_id":68179822,"question_id":1429172,"body_markdown":"Just to mention that if you are already using Spring, you can take advantage of the `PathMatchingResourcePatternResolver`.\r\n\r\nFor instance to get all the PNG files from a `images` folder in resources\r\n\r\n    ClassLoader cl = this.getClass().getClassLoader(); \r\n    ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(cl);\r\n    Resource[] resources = resolver.getResources(&quot;images/*.png&quot;);\r\n    for (Resource r: resources){\r\n        logger.info(r.getFilename());\r\n        // From your example\r\n        // ImageIO.read(cl.getResource(&quot;images/&quot; + r.getFilename()));\r\n    }","title":"How to list the files inside a JAR file?","body":"<p>Just to mention that if you are already using Spring, you can take advantage of the <code>PathMatchingResourcePatternResolver</code>.</p>\n<p>For instance to get all the PNG files from a <code>images</code> folder in resources</p>\n<pre><code>ClassLoader cl = this.getClass().getClassLoader(); \nResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(cl);\nResource[] resources = resolver.getResources(&quot;images/*.png&quot;);\nfor (Resource r: resources){\n    logger.info(r.getFilename());\n    // From your example\n    // ImageIO.read(cl.getResource(&quot;images/&quot; + r.getFilename()));\n}\n</code></pre>\n"}],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174998,"favorite_count":0,"down_vote_count":0,"up_vote_count":150,"accepted_answer_id":1429275,"answer_count":17,"score":150,"last_activity_date":1680514268,"creation_date":1253042920,"question_id":1429172,"body_markdown":"I have this code which reads all the files from a directory.\r\n\r\n        File textFolder = new File(&quot;text_directory&quot;);\r\n\r\n        File [] texFiles = textFolder.listFiles( new FileFilter() {\r\n               public boolean accept( File file ) {\r\n                   return file.getName().endsWith(&quot;.txt&quot;);\r\n               }\r\n        });\r\n\t\r\nIt works great. It fills the array with all the files that end with &quot;.txt&quot; from directory &quot;text_directory&quot;.\r\n\r\nHow can I read the contents of a directory in a similar fashion **within** a JAR file? \r\n\r\nSo what I really want to do is, to list  all the images inside my JAR file, so I can load them with: \r\n\r\n    ImageIO.read(this.getClass().getResource(&quot;CompanyLogo.png&quot;));\r\n\r\n(That one works because the &quot;CompanyLogo&quot; is &quot;hardcoded&quot; but the number of images inside the JAR file could be from 10 to 200 variable length.) \r\n\r\n**EDIT**\r\n\r\nSo I guess my main problem would be: How to know the **name of the JAR file** where my main class lives?\r\n\r\nGranted I could read it using `java.util.Zip`.\r\n\r\nMy Structure is like this:\r\n\r\nThey are like:\r\n\r\n    my.jar!/Main.class\r\n    my.jar!/Aux.class\r\n    my.jar!/Other.class\r\n    my.jar!/images/image01.png\r\n    my.jar!/images/image02a.png\r\n    my.jar!/images/imwge034.png\r\n    my.jar!/images/imagAe01q.png\r\n    my.jar!/META-INF/manifest \r\n\r\nRight now I&#39;m able to load for instance &quot;images/image01.png&quot; using: \r\n\r\n        ImageIO.read(this.getClass().getResource(&quot;images/image01.png));\r\n\r\nBut only because I know the file name, for the rest I have to load them dynamically.\r\n","title":"How to list the files inside a JAR file?","body":"<p>I have this code which reads all the files from a directory.</p>\n\n<pre><code>    File textFolder = new File(\"text_directory\");\n\n    File [] texFiles = textFolder.listFiles( new FileFilter() {\n           public boolean accept( File file ) {\n               return file.getName().endsWith(\".txt\");\n           }\n    });\n</code></pre>\n\n<p>It works great. It fills the array with all the files that end with \".txt\" from directory \"text_directory\".</p>\n\n<p>How can I read the contents of a directory in a similar fashion <strong>within</strong> a JAR file? </p>\n\n<p>So what I really want to do is, to list  all the images inside my JAR file, so I can load them with: </p>\n\n<pre><code>ImageIO.read(this.getClass().getResource(\"CompanyLogo.png\"));\n</code></pre>\n\n<p>(That one works because the \"CompanyLogo\" is \"hardcoded\" but the number of images inside the JAR file could be from 10 to 200 variable length.) </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>So I guess my main problem would be: How to know the <strong>name of the JAR file</strong> where my main class lives?</p>\n\n<p>Granted I could read it using <code>java.util.Zip</code>.</p>\n\n<p>My Structure is like this:</p>\n\n<p>They are like:</p>\n\n<pre><code>my.jar!/Main.class\nmy.jar!/Aux.class\nmy.jar!/Other.class\nmy.jar!/images/image01.png\nmy.jar!/images/image02a.png\nmy.jar!/images/imwge034.png\nmy.jar!/images/imagAe01q.png\nmy.jar!/META-INF/manifest \n</code></pre>\n\n<p>Right now I'm able to load for instance \"images/image01.png\" using: </p>\n\n<pre><code>    ImageIO.read(this.getClass().getResource(\"images/image01.png));\n</code></pre>\n\n<p>But only because I know the file name, for the rest I have to load them dynamically.</p>\n"},{"tags":["java","mysql","sql","jdbc"],"answers":[{"comments":[{"owner":{"account_id":1384959,"reputation":8191,"user_id":1317240,"accept_rate":69,"display_name":"Aman Deep Gautam"},"score":0,"creation_date":1386684527,"post_id":20496658,"comment_id":30636197,"body_markdown":"it is working. Thats&#39;s what I have written in question. But I do not want that","body":"it is working. Thats&#39;s what I have written in question. But I do not want that"}],"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1386685072,"creation_date":1386684469,"answer_id":20496658,"question_id":20496616,"body_markdown":"Besides all you should change your query like \r\n\r\n\r\n    SELECT * FROM RandomStones LIMIT 1000;\r\n\r\nOr\r\n\r\n\r\n    PreparedStatement stmt = connection.prepareStatement(qry);\r\n    stmt.setFetchSize(1000);\r\n    stmt.executeQuery();\r\n\r\n&gt;To set the fetch size for a query, call [`setFetchSize()`][1] on the statement object prior to executing the query. If you set the fetch size to N, then N rows are fetched with each trip to the database.\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/A97335_02/apps.102/a83724/resltse5.htm","title":"fetchsize in resultset set to 0 by default","body":"<p>Besides all you should change your query like </p>\n\n<pre><code>SELECT * FROM RandomStones LIMIT 1000;\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>PreparedStatement stmt = connection.prepareStatement(qry);\nstmt.setFetchSize(1000);\nstmt.executeQuery();\n</code></pre>\n\n<blockquote>\n  <p>To set the fetch size for a query, call <a href=\"http://docs.oracle.com/cd/A97335_02/apps.102/a83724/resltse5.htm\" rel=\"nofollow\"><code>setFetchSize()</code></a> on the statement object prior to executing the query. If you set the fetch size to N, then N rows are fetched with each trip to the database.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1384959,"reputation":8191,"user_id":1317240,"accept_rate":69,"display_name":"Aman Deep Gautam"},"score":0,"creation_date":1386685294,"post_id":20496877,"comment_id":30636730,"body_markdown":"Can&#39;t we retrieve in chunks rather than row by row?","body":"Can&#39;t we retrieve in chunks rather than row by row?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1386691434,"post_id":20496877,"comment_id":30640936,"body_markdown":"@AmanDeepGautam Not in the MySQL JDBC driver, that implementation is either everything, or one by one.","body":"@AmanDeepGautam Not in the MySQL JDBC driver, that implementation is either everything, or one by one."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1386685118,"creation_date":1386685118,"answer_id":20496877,"question_id":20496616,"body_markdown":"The MySQL JDBC driver always fetches all rows, unless the fetch size is set to `Integer.MIN_VALUE`.\r\n\r\nSee the [MySQL Connector/J JDBC API Implementation Notes][1]:\r\n\r\n&gt; By default, ResultSets are completely retrieved and stored in memory.\r\n&gt; In most cases this is the most efficient way to operate, and due to\r\n&gt; the design of the MySQL network protocol is easier to implement. If\r\n&gt; you are working with ResultSets that have a large number of rows or\r\n&gt; large values, and cannot allocate heap space in your JVM for the\r\n&gt; memory required, you can tell the driver to stream the results back\r\n&gt; one row at a time.\r\n&gt; \r\n&gt; To enable this functionality, create a Statement instance in the\r\n&gt; following manner:\r\n&gt; \r\n&gt;     stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\r\n&gt;                   java.sql.ResultSet.CONCUR_READ_ONLY);\r\n&gt;     stmt.setFetchSize(Integer.MIN_VALUE);\r\n&gt; \r\n&gt; The combination of a forward-only, read-only result set, with a fetch\r\n&gt; size of Integer.MIN_VALUE serves as a signal to the driver to stream\r\n&gt; result sets row-by-row. After this, any result sets created with the\r\n&gt; statement will be retrieved row-by-row.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.6/en/connector-j-reference-implementation-notes.html","title":"fetchsize in resultset set to 0 by default","body":"<p>The MySQL JDBC driver always fetches all rows, unless the fetch size is set to <code>Integer.MIN_VALUE</code>.</p>\n\n<p>See the <a href=\"http://dev.mysql.com/doc/refman/5.6/en/connector-j-reference-implementation-notes.html\">MySQL Connector/J JDBC API Implementation Notes</a>:</p>\n\n<blockquote>\n  <p>By default, ResultSets are completely retrieved and stored in memory.\n  In most cases this is the most efficient way to operate, and due to\n  the design of the MySQL network protocol is easier to implement. If\n  you are working with ResultSets that have a large number of rows or\n  large values, and cannot allocate heap space in your JVM for the\n  memory required, you can tell the driver to stream the results back\n  one row at a time.</p>\n  \n  <p>To enable this functionality, create a Statement instance in the\n  following manner:</p>\n\n<pre><code>stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\n              java.sql.ResultSet.CONCUR_READ_ONLY);\nstmt.setFetchSize(Integer.MIN_VALUE);\n</code></pre>\n  \n  <p>The combination of a forward-only, read-only result set, with a fetch\n  size of Integer.MIN_VALUE serves as a signal to the driver to stream\n  result sets row-by-row. After this, any result sets created with the\n  statement will be retrieved row-by-row.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2583296,"reputation":11,"user_id":2239510,"display_name":"Bolt Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546587923,"creation_date":1546587923,"answer_id":54034893,"question_id":20496616,"body_markdown":"In [MySQL connector-j 5.1 implementation notes][1], they said there are 2 ways to handle this situation.\r\n\r\n[enter image description here][2]\r\n\r\nThe 1st is to make the statement retrieve data row by row, the 2nd can support batch retrieve.\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-implementation-notes.html\r\n  [2]: https://i.stack.imgur.com/btDrY.png","title":"fetchsize in resultset set to 0 by default","body":"<p>In <a href=\"https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-implementation-notes.html\" rel=\"nofollow noreferrer\">MySQL connector-j 5.1 implementation notes</a>, they said there are 2 ways to handle this situation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/btDrY.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>The 1st is to make the statement retrieve data row by row, the 2nd can support batch retrieve.</p>\n"},{"tags":[],"owner":{"account_id":4135644,"reputation":365,"user_id":3392380,"display_name":"Sodrul Amin Shaon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680513886,"creation_date":1680513886,"answer_id":75917881,"question_id":20496616,"body_markdown":"According to the [mysql performance enhancement documents][1] we must set `useCursorFetch` connection property to `true`. Only then, `setFetchSize` will work on statement object. For example, look at the code snipped below.\r\n\r\n\r\n    DriverManager.registerDriver((Driver) Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance());\r\n    \r\n    Properties properties = new Properties();\r\n    properties.setProperty(&quot;user&quot;, &quot;USERNAME&quot;);\r\n    properties.setProperty(&quot;password&quot;, &quot;PASSWORD&quot;);\r\n    properties.setProperty(&quot;useCursorFetch&quot;, &quot;true&quot;);\r\n    \r\n    Connection conn = DriverManager.getConnection(DB_URL, properties);\r\n    \r\n    Statement statement = conn.createStatement();\r\n    statement.setFetchSize(100);\r\n    \r\n    ResultSet resultSet = statement.executeQuery(SELECT_QUERY);\r\n    \r\n    System.out.println(&quot;Fetch size in resultSet: &quot; + resultSet.getFetchSize());\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-performance-extensions.html#cj-conn-prop_useCursorFetch","title":"fetchsize in resultset set to 0 by default","body":"<p>According to the <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-performance-extensions.html#cj-conn-prop_useCursorFetch\" rel=\"nofollow noreferrer\">mysql performance enhancement documents</a> we must set <code>useCursorFetch</code> connection property to <code>true</code>. Only then, <code>setFetchSize</code> will work on statement object. For example, look at the code snipped below.</p>\n<pre><code>DriverManager.registerDriver((Driver) Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance());\n\nProperties properties = new Properties();\nproperties.setProperty(&quot;user&quot;, &quot;USERNAME&quot;);\nproperties.setProperty(&quot;password&quot;, &quot;PASSWORD&quot;);\nproperties.setProperty(&quot;useCursorFetch&quot;, &quot;true&quot;);\n\nConnection conn = DriverManager.getConnection(DB_URL, properties);\n\nStatement statement = conn.createStatement();\nstatement.setFetchSize(100);\n\nResultSet resultSet = statement.executeQuery(SELECT_QUERY);\n\nSystem.out.println(&quot;Fetch size in resultSet: &quot; + resultSet.getFetchSize());\n</code></pre>\n"}],"owner":{"account_id":1384959,"reputation":8191,"user_id":1317240,"accept_rate":69,"display_name":"Aman Deep Gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11805,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20496877,"answer_count":4,"score":3,"last_activity_date":1680513886,"creation_date":1386684352,"question_id":20496616,"body_markdown":"I have to query a database and result set is very big. I am using `MySQL` as data base. To avoid the &quot;OutOfMemoryError&quot; after a lot of search I got two options: One using `LIMIT`(specific to database) and other is using `jdbc` fetchSize attribute.\r\n\r\nI have tested the option 1(`LIMIT`) an it is working but it is not the desired solution. I do not want to do it.\r\n\r\nUsing `jdbc` I found out that `ResultSet` size is set to 0 by default. How can I change this to some other value. I tried the following:\r\n\r\na) First Try:\r\n\r\n    rs = preparedStatement.executeQuery();\r\n    rs.setFetchSize(1000);  //Not possible as exception occurs before.\r\n\r\nb) Second T Even if this is not there then also I need to communicate to databse multiple timry:\r\n\r\n    rs.setFetchSize(1000);  //Null pointer exception(rs is null).\r\n    rs = preparedStatement.executeQuery();\r\n\r\nc) Third Try:\r\n\r\n    preparedStatement = dbConnection.createStatement(query);\r\n\tpreparedStatement.setFetchSize(1000);\r\n\r\nNone of this is working. Any help appreciated!\r\n\r\n**Edit:**\r\n\r\nI do not want a solution using limit because:\r\na) I have millions of rows in my result set. Now doing multiple query is slow. My assumption is that database takes multiple queries like \r\n\r\n    SELECT *  FROM a LIMIT 0, 1000\r\n    SELECT *  FROM a LIMIT 1000, 2000\r\n\r\nas two different queries.\r\n\r\nb) The code is looks messy because you need to have additional counters.","title":"fetchsize in resultset set to 0 by default","body":"<p>I have to query a database and result set is very big. I am using <code>MySQL</code> as data base. To avoid the \"OutOfMemoryError\" after a lot of search I got two options: One using <code>LIMIT</code>(specific to database) and other is using <code>jdbc</code> fetchSize attribute.</p>\n\n<p>I have tested the option 1(<code>LIMIT</code>) an it is working but it is not the desired solution. I do not want to do it.</p>\n\n<p>Using <code>jdbc</code> I found out that <code>ResultSet</code> size is set to 0 by default. How can I change this to some other value. I tried the following:</p>\n\n<p>a) First Try:</p>\n\n<pre><code>rs = preparedStatement.executeQuery();\nrs.setFetchSize(1000);  //Not possible as exception occurs before.\n</code></pre>\n\n<p>b) Second T Even if this is not there then also I need to communicate to databse multiple timry:</p>\n\n<pre><code>rs.setFetchSize(1000);  //Null pointer exception(rs is null).\nrs = preparedStatement.executeQuery();\n</code></pre>\n\n<p>c) Third Try:</p>\n\n<pre><code>preparedStatement = dbConnection.createStatement(query);\npreparedStatement.setFetchSize(1000);\n</code></pre>\n\n<p>None of this is working. Any help appreciated!</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I do not want a solution using limit because:\na) I have millions of rows in my result set. Now doing multiple query is slow. My assumption is that database takes multiple queries like </p>\n\n<pre><code>SELECT *  FROM a LIMIT 0, 1000\nSELECT *  FROM a LIMIT 1000, 2000\n</code></pre>\n\n<p>as two different queries.</p>\n\n<p>b) The code is looks messy because you need to have additional counters.</p>\n"},{"tags":["java","jpa","persistence","toplink"],"answers":[{"comments":[{"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"score":6,"creation_date":1405778437,"post_id":1285436,"comment_id":38569990,"body_markdown":"I am using Derby and it wasn&#39;t necessary to specify this (I did, but then removed it once I solved the problem, just to make sure). I was getting the error finally because persistence.xml was not in the src/META-INF folder, even though it had been in a folder in the Eclipse source path for the project. I&#39;m thinking somewhere it&#39;s hard-wired to be on src/*","body":"I am using Derby and it wasn&#39;t necessary to specify this (I did, but then removed it once I solved the problem, just to make sure). I was getting the error finally because persistence.xml was not in the src/META-INF folder, even though it had been in a folder in the Eclipse source path for the project. I&#39;m thinking somewhere it&#39;s hard-wired to be on src/*"},{"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"score":6,"creation_date":1418640969,"post_id":1285436,"comment_id":43397442,"body_markdown":"**this was not necessary in my case, but *classpathing* hibernate-entitymanager*.jar** as stated in *Ualter Jr*s answer below. I am using a standalone GWT app with *hibernate-core-4.3.7.jar*, *hibernate-entitymanager-4.3.7.Final.jar* and *hibernate-jpa-2.1-api-1.0.0.jar*.","body":"<b>this was not necessary in my case, but <i>classpathing</i> hibernate-entitymanager*.jar</b> as stated in <i>Ualter Jr</i>s answer below. I am using a standalone GWT app with <i>hibernate-core-4.3.7.jar</i>, <i>hibernate-entitymanager-4.3.7.Final.jar</i> and <i>hibernate-jpa-2.1-api-1.0.0.jar</i>."},{"owner":{"account_id":1083825,"reputation":1223,"user_id":1080041,"display_name":"Hong"},"score":4,"creation_date":1438932687,"post_id":1285436,"comment_id":51662120,"body_markdown":"Same with @AndreasDietrich, after replacing &quot;hibernate-core-4.3.10&quot; artifact with &quot;hibernate-entitymanager-4.3.10&quot; in pom.xml (I use maven), this error is gone. Actually, http://hibernate.org/orm/downloads/ says that you should use &quot;hibernate-entitymanager-4.3.10&quot; for JPA.","body":"Same with @AndreasDietrich, after replacing &quot;hibernate-core-4.3.10&quot; artifact with &quot;hibernate-entitymanager-4.3.10&quot; in pom.xml (I use maven), this error is gone. Actually, <a href=\"http://hibernate.org/orm/downloads/\" rel=\"nofollow noreferrer\">hibernate.org/orm/downloads</a> says that you should use &quot;hibernate-entitymanager-4.3.10&quot; for JPA."},{"owner":{"account_id":357977,"reputation":527,"user_id":698471,"display_name":"Javi Vazquez"},"score":1,"creation_date":1442468235,"post_id":1285436,"comment_id":53096503,"body_markdown":"Apart from this, I also had to **move up from hibernate-entitymanager-3.4.0.GA to 3.6.10.Final**. Just in case you still have a legacy codebase using Hibernate 3.","body":"Apart from this, I also had to <b>move up from hibernate-entitymanager-3.4.0.GA to 3.6.10.Final</b>. Just in case you still have a legacy codebase using Hibernate 3."},{"owner":{"account_id":338358,"reputation":1820,"user_id":667183,"accept_rate":93,"display_name":"Robert Heine"},"score":6,"creation_date":1451392537,"post_id":1285436,"comment_id":56763072,"body_markdown":"I&#39;m a bit suprised you don&#39;t run into a problem with your `&lt;provider/&gt;`, while using hibernate-4 you should change your provider to `&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;`, see http://stackoverflow.com/questions/23041964/jpa-2-1-hibernate-4-3-deprecation-warning .","body":"I&#39;m a bit suprised you don&#39;t run into a problem with your <code>&lt;provider&#47;&gt;</code>, while using hibernate-4 you should change your provider to <code>&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;&#47;pr&zwnj;&#8203;ovider&gt;</code>, see <a href=\"http://stackoverflow.com/questions/23041964/jpa-2-1-hibernate-4-3-deprecation-warning\" title=\"jpa 2 1 hibernate 4 3 deprecation warning\">stackoverflow.com/questions/23041964/&hellip;</a> ."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1519846682,"post_id":1285436,"comment_id":85079570,"body_markdown":"It&#39;s also possible that your maven project isn&#39;t generating the classpath in `Manifest.mf`. Check the contents of this file in your generated war.","body":"It&#39;s also possible that your maven project isn&#39;t generating the classpath in <code>Manifest.mf</code>. Check the contents of this file in your generated war."}],"tags":[],"owner":{"display_name":"Chris"},"comment_count":6,"down_vote_count":1,"up_vote_count":90,"is_accepted":true,"score":89,"last_activity_date":1466392494,"creation_date":1250459706,"answer_id":1285436,"question_id":1158159,"body_markdown":"After `&lt;persistence-unit name=&quot;agisdb&quot;&gt;`, define the persistence provider name:\r\n\r\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n","title":"No Persistence provider for EntityManager named","body":"<p>After <code>&lt;persistence-unit name=\"agisdb\"&gt;</code>, define the persistence provider name:</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":472722,"reputation":1663,"user_id":881375,"accept_rate":83,"display_name":"tomasb"},"score":10,"creation_date":1351120823,"post_id":1856503,"comment_id":17736205,"body_markdown":"this didn&#39;t work for me, brought the Persistence unit not found: &#39;null&#39; error. Moving it back to /src/main/resources/META-INF/persistence.xml","body":"this didn&#39;t work for me, brought the Persistence unit not found: &#39;null&#39; error. Moving it back to /src/main/resources/META-INF/persistence.xml"},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":1,"creation_date":1360499321,"post_id":1856503,"comment_id":20723185,"body_markdown":"I guess this applies for those who&#39;s using **toplink** (or other web-related stuff), for everyone else other answers here may be more appropriate.","body":"I guess this applies for those who&#39;s using <b>toplink</b> (or other web-related stuff), for everyone else other answers here may be more appropriate."},{"owner":{"account_id":2003593,"reputation":1131,"user_id":1794049,"accept_rate":56,"display_name":"Frizz1977"},"score":2,"creation_date":1470199244,"post_id":1856503,"comment_id":64844571,"body_markdown":"Thanks, for me the path is target/classes/META-INF","body":"Thanks, for me the path is target/classes/META-INF"},{"owner":{"account_id":278584,"reputation":1977,"user_id":573240,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1545988686,"post_id":1856503,"comment_id":94750225,"body_markdown":"Same, for some weird reason it needs to be in a META-INF directory, otherwise won&#39;t work...","body":"Same, for some weird reason it needs to be in a META-INF directory, otherwise won&#39;t work..."}],"tags":[],"owner":{"account_id":79758,"reputation":824,"user_id":225932,"display_name":"user225932"},"comment_count":4,"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1466668899,"creation_date":1260131348,"answer_id":1856503,"question_id":1158159,"body_markdown":"Make sure that the `persistence.xml` file is in the directory: `&lt;webroot&gt;/WEB-INF/classes/META-INF` ","title":"No Persistence provider for EntityManager named","body":"<p>Make sure that the <code>persistence.xml</code> file is in the directory: <code>&lt;webroot&gt;/WEB-INF/classes/META-INF</code> </p>\n"},{"tags":[],"owner":{"account_id":99858,"reputation":903,"user_id":269514,"display_name":"Gilberto"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1273782802,"creation_date":1273782802,"answer_id":2830108,"question_id":1158159,"body_markdown":"Maybe you defined one provider like `&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;` but referencing another one in jar. That happened with me: my persistence.xml provider was openjpa but I was using eclipselink in my classpath.\r\nHope this help!","title":"No Persistence provider for EntityManager named","body":"<p>Maybe you defined one provider like <code>&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;</code> but referencing another one in jar. That happened with me: my persistence.xml provider was openjpa but I was using eclipselink in my classpath.\nHope this help!</p>\n"},{"tags":[],"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1277486787,"creation_date":1277486787,"answer_id":3120061,"question_id":1158159,"body_markdown":"Corner case: if you are using m2Eclipse, it automatically puts in excludes on your resources folders. Then when you try to run tests inside eclipse, the subsequent absence of persistence.xml will produce this error.","title":"No Persistence provider for EntityManager named","body":"<p>Corner case: if you are using m2Eclipse, it automatically puts in excludes on your resources folders. Then when you try to run tests inside eclipse, the subsequent absence of persistence.xml will produce this error.</p>\n"},{"tags":[],"owner":{"account_id":646969,"reputation":21,"user_id":428505,"display_name":"mahesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362529050,"creation_date":1282573920,"answer_id":3548530,"question_id":1158159,"body_markdown":"It happenes when the entity manager is trying to point to many persistence units. Do the following steps:\r\n\r\n 1. open the related file in your editor (provided your project has been closed in your IDE)\r\n 2. delete all the persistence and entity manager related code\r\n 3. save the file\r\n 4. open the project in your IDE\r\n 5. now bind the db or table of your choice","title":"No Persistence provider for EntityManager named","body":"<p>It happenes when the entity manager is trying to point to many persistence units. Do the following steps:</p>\n\n<ol>\n<li>open the related file in your editor (provided your project has been closed in your IDE)</li>\n<li>delete all the persistence and entity manager related code</li>\n<li>save the file</li>\n<li>open the project in your IDE</li>\n<li>now bind the db or table of your choice</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":402144,"reputation":10539,"user_id":769137,"accept_rate":83,"display_name":"Vedran"},"score":3,"creation_date":1338832818,"post_id":5121210,"comment_id":14188156,"body_markdown":"Took me a few hours to figure this was the cause. For other people searching for this bloody jar, in case of Hibernate 4.1.3, its in hibernate-release-4.1.3.Final\\lib\\jpa\\hibernate-entitymanager-4.1.3.Final.jar","body":"Took me a few hours to figure this was the cause. For other people searching for this bloody jar, in case of Hibernate 4.1.3, its in hibernate-release-4.1.3.Final\\lib\\jpa\\hibernate-entitymanage&zwnj;&#8203;r-4.1.3.Final.jar"},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":9,"creation_date":1360499453,"post_id":5121210,"comment_id":20723216,"body_markdown":"And for those of us who are using Maven, that would be groupid `org.hibernate` artifactid `hibernate-entitymanager`","body":"And for those of us who are using Maven, that would be groupid <code>org.hibernate</code> artifactid <code>hibernate-entitymanager</code>"},{"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":2,"creation_date":1362529635,"post_id":5121210,"comment_id":21482982,"body_markdown":"It&#39;s been eclipselink.jar for me, which was missing in the path. No hibernate*something.jar in the path at all.","body":"It&#39;s been eclipselink.jar for me, which was missing in the path. No hibernate*something.jar in the path at all."},{"owner":{"account_id":102164,"reputation":1904,"user_id":274414,"display_name":"David Mann"},"score":4,"creation_date":1383166574,"post_id":5121210,"comment_id":29252015,"body_markdown":"Just spent a few hours confirming persistence.xml was on class path, and comparing every facet of a project this worked for and a project it didn&#39;t work for. Very misleading error message since it can happen if persistence.xml is missing, if the PU with that name is missing, or apparently if a hibernate jar is missing!","body":"Just spent a few hours confirming persistence.xml was on class path, and comparing every facet of a project this worked for and a project it didn&#39;t work for. Very misleading error message since it can happen if persistence.xml is missing, if the PU with that name is missing, or apparently if a hibernate jar is missing!"},{"owner":{"account_id":140209,"reputation":7367,"user_id":346344,"accept_rate":0,"display_name":"Marek"},"score":0,"creation_date":1409070278,"post_id":5121210,"comment_id":39823342,"body_markdown":"For me it was `org.eclipse.persistence.jpa` with scope test.","body":"For me it was <code>org.eclipse.persistence.jpa</code> with scope test."},{"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"score":0,"creation_date":1527520189,"post_id":5121210,"comment_id":88148338,"body_markdown":"&lt;dependency&gt;\n  \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  \t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n  \t\t&lt;version&gt;4.3.0.Final&lt;/version&gt;\n  \t&lt;/dependency&gt;","body":"&lt;dependency&gt;   \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;   \t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;   \t\t&lt;version&gt;4.3.0.Final&lt;/version&gt;   \t&lt;/dependency&gt;"},{"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"score":0,"creation_date":1602030812,"post_id":5121210,"comment_id":113589084,"body_markdown":"&quot;For newer versions, you should use `hibernate-core.jar` instead of the deprecated `hibernate-entitymanager`&quot; - THANK YOU.  I tried a bunch before this worked for me.  Is this documented somewhere besides stackoverflow?","body":"&quot;For newer versions, you should use <code>hibernate-core.jar</code> instead of the deprecated <code>hibernate-entitymanager</code>&quot; - THANK YOU.  I tried a bunch before this worked for me.  Is this documented somewhere besides stackoverflow?"}],"tags":[],"owner":{"account_id":281453,"reputation":2359,"user_id":577769,"display_name":"Ualter Jr."},"comment_count":7,"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1498743599,"creation_date":1298659008,"answer_id":5121210,"question_id":1158159,"body_markdown":"Put the `&quot;hibernate-entitymanager.jar&quot;` in the classpath of application.  \r\nFor newer versions, you should use `&quot;hibernate-core.jar&quot;` instead of the deprecated `hibernate-entitymanager`\r\n\r\nIf you are running through some IDE, like **Eclipse**: `Project Properties -&gt; Java Build Path -&gt; Libraries.` \r\n\r\nOtherwise put it in the `/lib` of your application.","title":"No Persistence provider for EntityManager named","body":"<p>Put the <code>\"hibernate-entitymanager.jar\"</code> in the classpath of application.<br>\nFor newer versions, you should use <code>\"hibernate-core.jar\"</code> instead of the deprecated <code>hibernate-entitymanager</code></p>\n\n<p>If you are running through some IDE, like <strong>Eclipse</strong>: <code>Project Properties -&gt; Java Build Path -&gt; Libraries.</code> </p>\n\n<p>Otherwise put it in the <code>/lib</code> of your application.</p>\n"},{"tags":[],"owner":{"account_id":52933,"reputation":572,"user_id":158258,"display_name":"R&#243;n&#225;n &#211; Braon&#225;in"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305192332,"creation_date":1305192332,"answer_id":5975921,"question_id":1158159,"body_markdown":"The question has been answered already, but just wanted to post a tip that was holding me up. This exception was being thrown after previous errors. I was getting this:\r\n\r\n    property toplink.platform.class.name is deprecated, property toplink.target-database should be used instead.\r\n\r\nEven though I had changed the persistence.xml to include the new property name:\r\n\r\n    &lt;property name=&quot;toplink.target-database&quot; value=&quot;oracle.toplink.platform.database.oracle.Oracle10Platform&quot;/&gt;\r\n\r\nFollowing the message about the deprecated property name I was getting the same PersistenceException like above and a whole other string of exceptions. My tip: make sure to check the beginning of the exception sausage.\r\n\r\nThere seems to be a bug in Glassfish v2.1.1 where redeploys or undeploys and deploys are not updating the persistence.xml, which is being cached somewhere. I had to restart the server and then it worked.","title":"No Persistence provider for EntityManager named","body":"<p>The question has been answered already, but just wanted to post a tip that was holding me up. This exception was being thrown after previous errors. I was getting this:</p>\n\n<pre><code>property toplink.platform.class.name is deprecated, property toplink.target-database should be used instead.\n</code></pre>\n\n<p>Even though I had changed the persistence.xml to include the new property name:</p>\n\n<pre><code>&lt;property name=\"toplink.target-database\" value=\"oracle.toplink.platform.database.oracle.Oracle10Platform\"/&gt;\n</code></pre>\n\n<p>Following the message about the deprecated property name I was getting the same PersistenceException like above and a whole other string of exceptions. My tip: make sure to check the beginning of the exception sausage.</p>\n\n<p>There seems to be a bug in Glassfish v2.1.1 where redeploys or undeploys and deploys are not updating the persistence.xml, which is being cached somewhere. I had to restart the server and then it worked.</p>\n"},{"comments":[{"owner":{"account_id":31773,"reputation":143,"user_id":87530,"display_name":"Mark Miller"},"score":0,"creation_date":1341297327,"post_id":7175247,"comment_id":14876464,"body_markdown":"This was the exact problem I was having with org.eclipse.persistence.jpa 2.4.0. I literally spent 2 hours pulling my hair out wondering why it couldn&#39;t find my persisence.xml. All the examples do not seem to incorporate this. oh well ... many many thanks!","body":"This was the exact problem I was having with org.eclipse.persistence.jpa 2.4.0. I literally spent 2 hours pulling my hair out wondering why it couldn&#39;t find my persisence.xml. All the examples do not seem to incorporate this. oh well ... many many thanks!"},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1664375550,"post_id":7175247,"comment_id":130458039,"body_markdown":"&#39;PersistenceProvider&#39; is abstract; cannot be instantiated","body":"&#39;PersistenceProvider&#39; is abstract; cannot be instantiated"}],"tags":[],"owner":{"account_id":537173,"reputation":2954,"user_id":905817,"accept_rate":64,"display_name":"col.panic"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1481640519,"creation_date":1314188206,"answer_id":7175247,"question_id":1158159,"body_markdown":"There is another point: If you face this problem within an Eclipse RCP environment, you might have to change the Factory generation from `Persistence.createEntityManagerFactory` to `new PersistenceProvider().createEntityManagerFactory`\r\n\r\nsee [ECF][1] for a detailed discussion on this.\r\n\r\n\r\n  [1]: http://www.eclipse.org/forums/index.php?t=msg&amp;goto=541155&amp;","title":"No Persistence provider for EntityManager named","body":"<p>There is another point: If you face this problem within an Eclipse RCP environment, you might have to change the Factory generation from <code>Persistence.createEntityManagerFactory</code> to <code>new PersistenceProvider().createEntityManagerFactory</code></p>\n\n<p>see <a href=\"http://www.eclipse.org/forums/index.php?t=msg&amp;goto=541155&amp;\" rel=\"nofollow noreferrer\">ECF</a> for a detailed discussion on this.</p>\n"},{"comments":[{"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"score":0,"creation_date":1405777930,"post_id":8283556,"comment_id":38569858,"body_markdown":"Eclipse 4.4.0 doesn&#39;t want to nest SRC folders, so I was putting META-INF at the top level, thinking persistence.xml being on the classpath would be adequate. NOT! I had to create manually a src/META-INF (in the operating system) and move the persistence.xml file by hand. Perhaps it&#39;s possible to do this in Eclipse, but I couldn&#39;t figure it out.","body":"Eclipse 4.4.0 doesn&#39;t want to nest SRC folders, so I was putting META-INF at the top level, thinking persistence.xml being on the classpath would be adequate. NOT! I had to create manually a src/META-INF (in the operating system) and move the persistence.xml file by hand. Perhaps it&#39;s possible to do this in Eclipse, but I couldn&#39;t figure it out."}],"tags":[],"owner":{"account_id":1067409,"reputation":31,"user_id":1067570,"display_name":"harcharan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1322366360,"creation_date":1322366360,"answer_id":8283556,"question_id":1158159,"body_markdown":"Make sure you have created persistence.xml file under the &#39;src&#39; folder. I created under the project folder and that was my problem.","title":"No Persistence provider for EntityManager named","body":"<p>Make sure you have created persistence.xml file under the 'src' folder. I created under the project folder and that was my problem.</p>\n"},{"tags":[],"owner":{"account_id":408635,"reputation":1045,"user_id":779419,"display_name":"schieferstapel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350552874,"creation_date":1350552874,"answer_id":12951518,"question_id":1158159,"body_markdown":"In an OSGi-context, it&#39;s necessary to list your persistence units in the bundle&#39;s MANIFEST.MF, e.g.\r\n\r\n    JPA-PersistenceUnits: my-persistence-unit\r\n\r\nOtherwise, the JPA-bundle won&#39;t know your bundle contains persistence units.\r\n\r\nSee http://wiki.eclipse.org/EclipseLink/Examples/OSGi/Developing_with_EclipseLink_OSGi_in_PDE .\r\n","title":"No Persistence provider for EntityManager named","body":"<p>In an OSGi-context, it's necessary to list your persistence units in the bundle's MANIFEST.MF, e.g.</p>\n\n<pre><code>JPA-PersistenceUnits: my-persistence-unit\n</code></pre>\n\n<p>Otherwise, the JPA-bundle won't know your bundle contains persistence units.</p>\n\n<p>See <a href=\"http://wiki.eclipse.org/EclipseLink/Examples/OSGi/Developing_with_EclipseLink_OSGi_in_PDE\" rel=\"nofollow\">http://wiki.eclipse.org/EclipseLink/Examples/OSGi/Developing_with_EclipseLink_OSGi_in_PDE</a> .</p>\n"},{"tags":[],"owner":{"account_id":980935,"reputation":11,"user_id":1000668,"display_name":"yeafee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372509366,"creation_date":1372509009,"answer_id":17380177,"question_id":1158159,"body_markdown":"You need the following jar files in the classpath:\r\n\r\n 1. antlr-2.7.6.jar \r\n 2. commons-collections-3.1.jar\r\n 3. dom4j-1.6.1.jar \r\n 4. hibernate-commons-annotations-4.0.1.Final.jar \r\n 5. hibernate-core-4.0.1.Final.jar \r\n 6. hibernate-entitymanager.jar \r\n 7. hibernate-jpa-2.0-api-1.0.0.Final.jar \r\n 8. javassist-3.9.0.jar \r\n 9. jboss-logging-3.1.1.GA.jar  \r\n 10. jta-1.1.jar \r\n 11. slf4j-api-1.5.8.jar \r\n 12. xxx-jdbc-driver.jar\r\n\r\n","title":"No Persistence provider for EntityManager named","body":"<p>You need the following jar files in the classpath:</p>\n\n<ol>\n<li>antlr-2.7.6.jar </li>\n<li>commons-collections-3.1.jar</li>\n<li>dom4j-1.6.1.jar </li>\n<li>hibernate-commons-annotations-4.0.1.Final.jar </li>\n<li>hibernate-core-4.0.1.Final.jar </li>\n<li>hibernate-entitymanager.jar </li>\n<li>hibernate-jpa-2.0-api-1.0.0.Final.jar </li>\n<li>javassist-3.9.0.jar </li>\n<li>jboss-logging-3.1.1.GA.jar  </li>\n<li>jta-1.1.jar </li>\n<li>slf4j-api-1.5.8.jar </li>\n<li>xxx-jdbc-driver.jar</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2663348,"reputation":277,"user_id":2302497,"accept_rate":61,"display_name":"Jocelyn"},"score":0,"creation_date":1394190473,"post_id":18660896,"comment_id":33788448,"body_markdown":"Solved my problem. Excluded pattern was set to &quot;**&quot; after a fetch/pull. I don&#39;t know why...","body":"Solved my problem. Excluded pattern was set to &quot;**&quot; after a fetch/pull. I don&#39;t know why..."}],"tags":[],"owner":{"account_id":3271176,"reputation":8031,"user_id":2754530,"display_name":"wypieprz"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378479927,"creation_date":1378479927,"answer_id":18660896,"question_id":1158159,"body_markdown":"If you are using Eclipse make sure that exclusion pattern does not remove your `persistence.xml` from source folders on build path.&lt;br&gt;\r\n\r\n1. Go to **Properties -&gt; Java Build Path -&gt; Source** tab\r\n2. Check your exclusion pattern which is located at&lt;br&gt;`MyProject/src/main/java -&gt; Excluded: &lt;your_pattern&gt;`&lt;br&gt;tree node\r\n3. Optionally, set it to `Excluded: (None)` by selecting the node and clicking **Edit...** button on the left.\r\n\r\n\r\n\r\n\r\n","title":"No Persistence provider for EntityManager named","body":"<p>If you are using Eclipse make sure that exclusion pattern does not remove your <code>persistence.xml</code> from source folders on build path.<br></p>\n\n<ol>\n<li>Go to <strong>Properties -> Java Build Path -> Source</strong> tab</li>\n<li>Check your exclusion pattern which is located at<br><code>MyProject/src/main/java -&gt; Excluded: &lt;your_pattern&gt;</code><br>tree node</li>\n<li>Optionally, set it to <code>Excluded: (None)</code> by selecting the node and clicking <strong>Edit...</strong> button on the left.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":492994,"reputation":3705,"user_id":1271412,"accept_rate":78,"display_name":"petertc"},"score":0,"creation_date":1439430929,"post_id":19473423,"comment_id":51862398,"body_markdown":"Works for version 4.3.11.","body":"Works for version 4.3.11."},{"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"score":0,"creation_date":1518226198,"post_id":19473423,"comment_id":84431946,"body_markdown":"It&#39;s deprecated, see above. Use hibernate-core instead.","body":"It&#39;s deprecated, see above. Use hibernate-core instead."}],"tags":[],"owner":{"account_id":1153814,"reputation":3543,"user_id":1134961,"accept_rate":50,"display_name":"technocrat"},"comment_count":2,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1382237735,"creation_date":1382237735,"answer_id":19473423,"question_id":1158159,"body_markdown":"I needed this in my pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.2.6.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"No Persistence provider for EntityManager named","body":"<p>I needed this in my pom.xml file:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;4.2.6.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2671187,"reputation":3406,"user_id":2308571,"display_name":"jgitter"},"score":0,"creation_date":1398129078,"post_id":22221342,"comment_id":35502396,"body_markdown":"/facepalm - I forgot to add the maven dependency for the hibernate provider.  Thank you!","body":"/facepalm - I forgot to add the maven dependency for the hibernate provider.  Thank you!"}],"tags":[],"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1394100909,"creation_date":1394100909,"answer_id":22221342,"question_id":1158159,"body_markdown":"Quick advice:\r\n\r\n- check if persistence.xml is in your classpath\r\n- check if hibernate provider is in your classpath\r\n\r\nWith using JPA in standalone application (outside of JavaEE), a persistence provider needs to be specified somewhere. This can be done in two ways that I know of:\r\n\r\n- either add provider element into the persistence unit: `&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;` (as described in correct answere by Chris: https://stackoverflow.com/a/1285436/784594)\r\n- or provider for interface javax.persistence.spi.PersistenceProvider must be specified as a service, see here: http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html (this is usually included when you include hibernate,or another JPA implementation, into your classpath\r\n\r\nIn my case, I found out that due to maven misconfiguration, hibernate-entitymanager jar was not included as a dependency, even if it was a transient dependency of other module.","title":"No Persistence provider for EntityManager named","body":"<p>Quick advice:</p>\n\n<ul>\n<li>check if persistence.xml is in your classpath</li>\n<li>check if hibernate provider is in your classpath</li>\n</ul>\n\n<p>With using JPA in standalone application (outside of JavaEE), a persistence provider needs to be specified somewhere. This can be done in two ways that I know of:</p>\n\n<ul>\n<li>either add provider element into the persistence unit: <code>&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;</code> (as described in correct answere by Chris: <a href=\"https://stackoverflow.com/a/1285436/784594\">https://stackoverflow.com/a/1285436/784594</a>)</li>\n<li>or provider for interface javax.persistence.spi.PersistenceProvider must be specified as a service, see here: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html</a> (this is usually included when you include hibernate,or another JPA implementation, into your classpath</li>\n</ul>\n\n<p>In my case, I found out that due to maven misconfiguration, hibernate-entitymanager jar was not included as a dependency, even if it was a transient dependency of other module.</p>\n"},{"tags":[],"owner":{"account_id":1821370,"reputation":3732,"user_id":1655365,"display_name":"E_X"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397391053,"creation_date":1397388704,"answer_id":23042200,"question_id":1158159,"body_markdown":"I faced the same problem, but on [EclipseLink version 2.5.0][1].\r\n\r\nI solved my problem by adding yet another jar file which was necessarily (**javax.persistence_2.1.0.v201304241213.jar.jar**);\r\n\r\nJars needed:&lt;br&gt;\r\n     - javax.persistence_2.1.0.v201304241213.jar&lt;br&gt;\r\n     - eclipselink.jar&lt;br&gt;\r\n     - jdbc.jar (depending on the database used).&lt;br&gt;\r\n\r\n\r\nI hope this helps.\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipselink/","title":"No Persistence provider for EntityManager named","body":"<p>I faced the same problem, but on <a href=\"https://www.eclipse.org/eclipselink/\" rel=\"nofollow\">EclipseLink version 2.5.0</a>.</p>\n\n<p>I solved my problem by adding yet another jar file which was necessarily (<strong>javax.persistence_2.1.0.v201304241213.jar.jar</strong>);</p>\n\n<p>Jars needed:<br>\n     - javax.persistence_2.1.0.v201304241213.jar<br>\n     - eclipselink.jar<br>\n     - jdbc.jar (depending on the database used).<br></p>\n\n<p>I hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":252146,"reputation":4740,"user_id":529977,"accept_rate":62,"display_name":"childno͡.de"},"score":0,"creation_date":1402061552,"post_id":23288034,"comment_id":37140947,"body_markdown":"That&#39;s exactly what happened for me using Tomcat.. I just added a full header to clarify for new users","body":"That&#39;s exactly what happened for me using Tomcat.. I just added a full header to clarify for new users"}],"tags":[],"owner":{"account_id":2168496,"reputation":3257,"user_id":1921062,"accept_rate":84,"display_name":"Ludovic Guillaume"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398414627,"creation_date":1398414627,"answer_id":23288034,"question_id":1158159,"body_markdown":"I also had this error but the issue was the namespace uri in the `persistence.xml`.\r\n\r\nI replaced `http://xmlns.jcp.org/xml/ns/persistence` to `http://java.sun.com/xml/ns/persistence` and the version 2.1 to 2.0.\r\n\r\nIt&#39;s now working.","title":"No Persistence provider for EntityManager named","body":"<p>I also had this error but the issue was the namespace uri in the <code>persistence.xml</code>.</p>\n\n<p>I replaced <code>http://xmlns.jcp.org/xml/ns/persistence</code> to <code>http://java.sun.com/xml/ns/persistence</code> and the version 2.1 to 2.0.</p>\n\n<p>It's now working.</p>\n"},{"tags":[],"owner":{"account_id":4324171,"reputation":2565,"user_id":3531437,"accept_rate":67,"display_name":"vijayinani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401046580,"creation_date":1401046580,"answer_id":23859218,"question_id":1158159,"body_markdown":"You need to add the hibernate-entitymanager-x.jar in the classpath.\r\n\r\nIn Hibernate 4.x, if the jar is present, then no need to add the &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt; in persistence.xml file.\r\n","title":"No Persistence provider for EntityManager named","body":"<p>You need to add the hibernate-entitymanager-x.jar in the classpath.</p>\n\n<p>In Hibernate 4.x, if the jar is present, then no need to add the org.hibernate.ejb.HibernatePersistence in persistence.xml file.</p>\n"},{"tags":[],"owner":{"account_id":2986718,"reputation":443,"user_id":2535334,"display_name":"Zakaria Bouazza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401181917,"creation_date":1401181917,"answer_id":23885375,"question_id":1158159,"body_markdown":"I just copied the META-INF into src and worked!","title":"No Persistence provider for EntityManager named","body":"<p>I just copied the META-INF into src and worked!</p>\n"},{"tags":[],"owner":{"account_id":2844304,"reputation":895,"user_id":2443142,"accept_rate":83,"display_name":"burseaner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412245527,"creation_date":1412245527,"answer_id":26158882,"question_id":1158159,"body_markdown":"If there are different names in `Persistence.createEntityManagerFactory(&quot;JPAService&quot;)` in different classes than you get the error. **By refactoring it is possible to get different names** which was in my case. In one class the auto-generated `Persistence.createEntityManagerFactory(&quot;JPAService&quot;)`in `private void initComponents()`, ContactsTable class differed from `Persistence.createEntityManagerFactory(&quot;JPAServiceExtended&quot;)` in DBManager class.\r\n\r\n","title":"No Persistence provider for EntityManager named","body":"<p>If there are different names in <code>Persistence.createEntityManagerFactory(\"JPAService\")</code> in different classes than you get the error. <strong>By refactoring it is possible to get different names</strong> which was in my case. In one class the auto-generated <code>Persistence.createEntityManagerFactory(\"JPAService\")</code>in <code>private void initComponents()</code>, ContactsTable class differed from <code>Persistence.createEntityManagerFactory(\"JPAServiceExtended\")</code> in DBManager class.</p>\n"},{"tags":[],"owner":{"account_id":6354047,"reputation":580,"user_id":4932044,"display_name":"Pramod Kumar Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481025213,"creation_date":1481025213,"answer_id":40994767,"question_id":1158159,"body_markdown":"**Hibernate 5.2.5**    \r\nJar Files Required in the class path. This is within a required folder of Hibernate 5.2.5 Final release. It can be downloaded from &lt;http://hibernate.org/orm/downloads/&gt;\r\n\r\n1. antlr-2.7.7 \r\n2. cdi-api-1.1 \r\n3. classmate-1.3.0\r\n4. dom4j-1.6.1\r\n5. el-api-2.2\r\n6. geronimo-jta_1.1_spec-1.1.1\r\n7. hibernate-commons-annotation-5.0.1.Final\r\n8. hibernate-core-5.2.5.Final\r\n9. hibernate-jpa-2.1-api-1.0.0.Final\r\n10. jandex-2.0.3.Final\r\n11. javassist-3.20.0-GA\r\n12. javax.inject-1\r\n13. jboss-interceptor-api_1.1_spec-1.0.0.Beta1\r\n14. jboss-logging-3.3.0.Final\r\n15. jsr250-api-1.0\r\n\r\nCreate an xml file **&quot;persistence.xml&quot;** in \r\n\r\n**YourProject/src/META-INF/persistence.xml**\r\n\r\npersistence.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n             version=&quot;2.1&quot;&gt;\r\n             \r\n    &lt;persistence-unit name=&quot;sample&quot;&gt;\r\n    \t\r\n    \t&lt;class&gt;org.pramod.data.object.UserDetail&lt;/class&gt;\r\n    \t&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/hibernate_project&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot;/&gt;\r\n            \r\n            &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot; value=&quot;false&quot;/&gt;\r\n            \r\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n\r\n1. please note down the information mentioned in the &lt; persistance &gt; tag and version should be 2.1.\r\n2. please note the name &lt; persistance-unit &gt; tag, name is mentioned as **&quot;sample&quot;**. This name needs to be used exactly same while loading your \r\n\r\n**EntityManagerFactor = Persistance.createEntityManagerFactory(&quot;sample&quot;);**. &quot;sample&quot; can be changed as per your naming convention.\r\n\r\nNow create a Entity class. with name as per my example UserDetail, in the package **org.pramod.data.object**\r\n\r\n\r\nUserDetail.java\r\n\r\n    package org.pramod.data.object;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_detail&quot;)\r\n    public class UserDetail {\r\n\t    @Id\r\n        @Column(name=&quot;user_id&quot;)\r\n\t    private int id;\r\n        @Column(name=&quot;user_name&quot;)\r\n\t    private String userName;\r\n\t\r\n\t    public int getId() {\r\n\t\t    return id;\r\n\t    }\r\n\t    public void setId(int id) {\r\n\t\t    this.id = id;\r\n\t    }\r\n\t    public String getUserName() {\r\n\t\t    return userName;\r\n\t    }\r\n\t    public void setUserName(String userName) {\r\n\t\t    this.userName = userName;\r\n\t    }\t\r\n\t    @Override\r\n\t    public String toString() {\r\n\t\t   return &quot;UserDetail [id=&quot; + id + &quot;, userName=&quot; + userName + &quot;]&quot;;\r\n\t    }\r\n    }\r\n\r\nNow create a class with main method. \r\n\r\nHibernateTest.java\r\n\r\n    package org.pramod.hibernate;\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n    import org.pramod.data.object.UserDetail;\r\n\r\n    public class HibernateTest {\r\n\t    private static EntityManagerFactory entityManagerFactory;\r\n\t\r\n\t    public static void main(String[] args)  {\r\n\t\t    UserDetail user = new UserDetail();\r\n\t\t    user.setId(1);\r\n\t\t    user.setUserName(&quot;Pramod Sharma&quot;);\r\n\t\t\r\n\t\t    try {\r\n\t\t\t    entityManagerFactory = Persistence.createEntityManagerFactory(&quot;sample&quot;);\r\n\t\t\t    EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n\t\t\t    entityManager.getTransaction().begin();\r\n\t\t\t    entityManager.persist( user );\r\n\t\t\t    entityManager.getTransaction().commit();\r\n\t\t\t    System.out.println(&quot;successfull&quot;);\r\n\t\t\t    entityManager.close();\r\n\t\t    } catch (Exception e) {\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n\t\t\r\n\t    }\r\n\r\n    }\r\n\r\nOutput will be\r\n\r\n    UserDetail [id=1, userName=Pramod Sharma]\r\n    Hibernate: drop table if exists user_details\r\n    Hibernate: create table user_details (user_id integer not null, user_name varchar(255), primary key (user_id))\r\n    Hibernate: insert into user_details (user_name, user_id) values (?, ?)\r\n    successfull","title":"No Persistence provider for EntityManager named","body":"<p><strong>Hibernate 5.2.5</strong><br>\nJar Files Required in the class path. This is within a required folder of Hibernate 5.2.5 Final release. It can be downloaded from <a href=\"http://hibernate.org/orm/downloads/\" rel=\"nofollow noreferrer\">http://hibernate.org/orm/downloads/</a></p>\n\n<ol>\n<li>antlr-2.7.7 </li>\n<li>cdi-api-1.1 </li>\n<li>classmate-1.3.0</li>\n<li>dom4j-1.6.1</li>\n<li>el-api-2.2</li>\n<li>geronimo-jta_1.1_spec-1.1.1</li>\n<li>hibernate-commons-annotation-5.0.1.Final</li>\n<li>hibernate-core-5.2.5.Final</li>\n<li>hibernate-jpa-2.1-api-1.0.0.Final</li>\n<li>jandex-2.0.3.Final</li>\n<li>javassist-3.20.0-GA</li>\n<li>javax.inject-1</li>\n<li>jboss-interceptor-api_1.1_spec-1.0.0.Beta1</li>\n<li>jboss-logging-3.3.0.Final</li>\n<li>jsr250-api-1.0</li>\n</ol>\n\n<p>Create an xml file <strong>\"persistence.xml\"</strong> in </p>\n\n<p><strong>YourProject/src/META-INF/persistence.xml</strong></p>\n\n<p>persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;persistence xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence\n         http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"\n         version=\"2.1\"&gt;\n\n&lt;persistence-unit name=\"sample\"&gt;\n\n    &lt;class&gt;org.pramod.data.object.UserDetail&lt;/class&gt;\n    &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n    &lt;properties&gt;\n        &lt;property name=\"hibernate.connection.driver_class\" value=\"com.mysql.jdbc.Driver\"/&gt;\n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQLDialect\"/&gt;\n        &lt;property name=\"hibernate.connection.url\" value=\"jdbc:mysql://localhost:3306/hibernate_project\"/&gt;\n        &lt;property name=\"hibernate.connection.username\" value=\"root\"/&gt;\n        &lt;property name=\"hibernate.connection.password\" value=\"root\"/&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create-drop\"/&gt;\n        &lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt;\n        &lt;property name=\"hibernate.format_sql\" value=\"false\"/&gt;\n\n        &lt;property name=\"hibernate.cache.use_second_level_cache\" value=\"false\"/&gt;\n\n        &lt;property name=\"hibernate.archive.autodetection\" value=\"true\"/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n\n<ol>\n<li>please note down the information mentioned in the &lt; persistance > tag and version should be 2.1.</li>\n<li>please note the name &lt; persistance-unit > tag, name is mentioned as <strong>\"sample\"</strong>. This name needs to be used exactly same while loading your </li>\n</ol>\n\n<p><strong>EntityManagerFactor = Persistance.createEntityManagerFactory(\"sample\");</strong>. \"sample\" can be changed as per your naming convention.</p>\n\n<p>Now create a Entity class. with name as per my example UserDetail, in the package <strong>org.pramod.data.object</strong></p>\n\n<p>UserDetail.java</p>\n\n<pre><code>package org.pramod.data.object;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"user_detail\")\npublic class UserDetail {\n    @Id\n    @Column(name=\"user_id\")\n    private int id;\n    @Column(name=\"user_name\")\n    private String userName;\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getUserName() {\n        return userName;\n    }\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }   \n    @Override\n    public String toString() {\n       return \"UserDetail [id=\" + id + \", userName=\" + userName + \"]\";\n    }\n}\n</code></pre>\n\n<p>Now create a class with main method. </p>\n\n<p>HibernateTest.java</p>\n\n<pre><code>package org.pramod.hibernate;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\nimport org.pramod.data.object.UserDetail;\n\npublic class HibernateTest {\n    private static EntityManagerFactory entityManagerFactory;\n\n    public static void main(String[] args)  {\n        UserDetail user = new UserDetail();\n        user.setId(1);\n        user.setUserName(\"Pramod Sharma\");\n\n        try {\n            entityManagerFactory = Persistence.createEntityManagerFactory(\"sample\");\n            EntityManager entityManager = entityManagerFactory.createEntityManager();\n            entityManager.getTransaction().begin();\n            entityManager.persist( user );\n            entityManager.getTransaction().commit();\n            System.out.println(\"successfull\");\n            entityManager.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Output will be</p>\n\n<pre><code>UserDetail [id=1, userName=Pramod Sharma]\nHibernate: drop table if exists user_details\nHibernate: create table user_details (user_id integer not null, user_name varchar(255), primary key (user_id))\nHibernate: insert into user_details (user_name, user_id) values (?, ?)\nsuccessfull\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1803471,"reputation":71,"user_id":1641163,"display_name":"esfandia"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481790771,"creation_date":1481790771,"answer_id":41159628,"question_id":1158159,"body_markdown":"If you&#39;re using Maven, it could be that it is not looking at the right place for the META-INF folder. Others have mentioned copying the folder, but another way that worked for me was to tell Maven where to look for it, using the `&lt;resources&gt;` tag. See: http://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html","title":"No Persistence provider for EntityManager named","body":"<p>If you're using Maven, it could be that it is not looking at the right place for the META-INF folder. Others have mentioned copying the folder, but another way that worked for me was to tell Maven where to look for it, using the <code>&lt;resources&gt;</code> tag. See: <a href=\"http://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html</a></p>\n"},{"comments":[{"owner":{"account_id":1549791,"reputation":733,"user_id":1442464,"accept_rate":100,"display_name":"joshpt"},"score":3,"creation_date":1511062649,"post_id":43396513,"comment_id":81699483,"body_markdown":"Was upgrading from Hibernate 4.3.5 to 5.2.12 and this provider name change fixed the problem for me. That setting appears to allow JPA to use the core .jar file instead of the entity-manger .jar that shows as deprecated on the Maven central repository. Thanks so much for sharing.","body":"Was upgrading from Hibernate 4.3.5 to 5.2.12 and this provider name change fixed the problem for me. That setting appears to allow JPA to use the core .jar file instead of the entity-manger .jar that shows as deprecated on the Maven central repository. Thanks so much for sharing."}],"tags":[],"owner":{"account_id":445792,"reputation":1039,"user_id":838444,"display_name":"Sneg"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1492098025,"creation_date":1492098025,"answer_id":43396513,"question_id":1158159,"body_markdown":"Faced the same issue and couldn&#39;t find solution for quite a long time. In my case it helped to replace\r\n\r\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n\r\nwith\r\n\r\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\nTook solution from [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22103666/838444","title":"No Persistence provider for EntityManager named","body":"<p>Faced the same issue and couldn't find solution for quite a long time. In my case it helped to replace</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n</code></pre>\n\n<p>Took solution from <a href=\"https://stackoverflow.com/a/22103666/838444\">here</a></p>\n"},{"comments":[{"owner":{"account_id":4306298,"reputation":1246,"user_id":3518580,"accept_rate":25,"display_name":"Doogle"},"score":0,"creation_date":1548838241,"post_id":51011354,"comment_id":95682357,"body_markdown":"Thanks a ton for the configuration details Really helped resolving it.","body":"Thanks a ton for the configuration details Really helped resolving it."}],"tags":[],"owner":{"account_id":4607286,"reputation":256,"user_id":3736395,"display_name":"MickG"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1529854283,"creation_date":1529854283,"answer_id":51011354,"question_id":1158159,"body_markdown":"I&#39;m some years late to the party here but I hit the same exception while trying to get Hibernate 3.5.1 working with HSQLDB and a desktop JavaFX program. I got it to work with the help of this thread and a lot of trial and error. It seems you get this error for a whole variety of problems:\r\n\r\n    No Persistence provider for EntityManager named mick\r\n\r\nI tried building the hibernate tutorial examples but because I was using Java 10 I wasn&#39;t able to get them to build and run easily. I gave up on that, not really wanting to waste time fixing its problems. Setting up a module-info.java file (Jigsaw) is another hairball many people haven&#39;t discovered yet.\r\n\r\nSomewhat confusing is that these (below) were the only two files I needed in my build.gradle file. The Hibernate documentation isn&#39;t clear about exactly which Jars you need to include. Entity-manager was causing confusion and is no longer required in the latest Hibernate version, and neither is javax.persistence-api. Note, I&#39;m using Java 10 here so I had to include the jaxb-api, to get around some xml-bind errors, as well as add an entry for the java persistence module in my module-info.java file.\r\n\r\nBuild.gradle\r\n\r\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\r\n    compile(&#39;org.hibernate:hibernate-core:5.3.1.Final&#39;)\r\n\r\n    // https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\r\n    compile group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.3.0&#39;\r\n\r\nModule-info.java\r\n\r\n    // Used for HsqlDB - add the hibernate-core jar to build.gradle too\r\n    requires java.persistence;\r\n\r\nWith hibernate 5.3.1 you don&#39;t need to specify the provider, below, in your persistence.xml file. If one is not provided the Hibernate provider is chosen by default.\r\n\r\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\nThe persistence.xml file should be located in the correct directory so:\r\n\r\n    src/main/resources/META-INF/persistence.xml\r\n\r\nStepping through the hibernate source code in the Intellij debugger, where it checks for a dialect, also threw the exact same exception, because of a missing dialect property in the persistence.xml file. I added this (add the correct one for your DB type):\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.HSQLDialect&quot;/&gt;\r\n\r\nI still got the same exception after this, so stepping through the debugger again in Intellij revealed the test entity I was trying to persist (simple parent-child example) had missing annotations for the OneToMany, ManyToOne relationships. I fixed this and the exception went away and my entities were persisted ok.\r\n\r\nHere&#39;s my full final persistence.xml:\r\n\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n                http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n             version=&quot;2.1&quot;&gt;\r\n\r\n    &lt;persistence-unit name=&quot;mick&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;description&gt;\r\n            Persistence unit for the JPA tutorial of the Hibernate Getting Started Guide\r\n        &lt;/description&gt;\r\n\r\n        &lt;!-- Provided in latest release of hibernate\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        --&gt;\r\n\r\n        &lt;class&gt;com.micks.scenebuilderdemo.database.Parent&lt;/class&gt;\r\n        &lt;class&gt;com.micks.scenebuilderdemo.database.Child&lt;/class&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.hsqldb.jdbc.JDBCDriver&quot;/&gt;\r\n\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n                      value=&quot;jdbc:hsqldb:file:./database/database;DB_CLOSE_DELAY=-1;MVCC=TRUE&quot;/&gt;\r\n\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;sa&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\r\n\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.HSQLDialect&quot;/&gt;\r\n        &lt;/properties&gt;\r\n\r\n    &lt;/persistence-unit&gt;\r\n\r\n    &lt;/persistence&gt;\r\n\r\nI probably wasted about half a day on this gem. My advice would be to start very simple - a single test entity with one or two fields, as it seems like this exception can have many causes.","title":"No Persistence provider for EntityManager named","body":"<p>I'm some years late to the party here but I hit the same exception while trying to get Hibernate 3.5.1 working with HSQLDB and a desktop JavaFX program. I got it to work with the help of this thread and a lot of trial and error. It seems you get this error for a whole variety of problems:</p>\n\n<pre><code>No Persistence provider for EntityManager named mick\n</code></pre>\n\n<p>I tried building the hibernate tutorial examples but because I was using Java 10 I wasn't able to get them to build and run easily. I gave up on that, not really wanting to waste time fixing its problems. Setting up a module-info.java file (Jigsaw) is another hairball many people haven't discovered yet.</p>\n\n<p>Somewhat confusing is that these (below) were the only two files I needed in my build.gradle file. The Hibernate documentation isn't clear about exactly which Jars you need to include. Entity-manager was causing confusion and is no longer required in the latest Hibernate version, and neither is javax.persistence-api. Note, I'm using Java 10 here so I had to include the jaxb-api, to get around some xml-bind errors, as well as add an entry for the java persistence module in my module-info.java file.</p>\n\n<p>Build.gradle</p>\n\n<pre><code>// https://mvnrepository.com/artifact/org.hibernate/hibernate-core\ncompile('org.hibernate:hibernate-core:5.3.1.Final')\n\n// https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\ncompile group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.0'\n</code></pre>\n\n<p>Module-info.java</p>\n\n<pre><code>// Used for HsqlDB - add the hibernate-core jar to build.gradle too\nrequires java.persistence;\n</code></pre>\n\n<p>With hibernate 5.3.1 you don't need to specify the provider, below, in your persistence.xml file. If one is not provided the Hibernate provider is chosen by default.</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n</code></pre>\n\n<p>The persistence.xml file should be located in the correct directory so:</p>\n\n<pre><code>src/main/resources/META-INF/persistence.xml\n</code></pre>\n\n<p>Stepping through the hibernate source code in the Intellij debugger, where it checks for a dialect, also threw the exact same exception, because of a missing dialect property in the persistence.xml file. I added this (add the correct one for your DB type):</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.HSQLDialect\"/&gt;\n</code></pre>\n\n<p>I still got the same exception after this, so stepping through the debugger again in Intellij revealed the test entity I was trying to persist (simple parent-child example) had missing annotations for the OneToMany, ManyToOne relationships. I fixed this and the exception went away and my entities were persisted ok.</p>\n\n<p>Here's my full final persistence.xml:</p>\n\n<pre><code>&lt;persistence xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence\n            http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"\n         version=\"2.1\"&gt;\n\n&lt;persistence-unit name=\"mick\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;description&gt;\n        Persistence unit for the JPA tutorial of the Hibernate Getting Started Guide\n    &lt;/description&gt;\n\n    &lt;!-- Provided in latest release of hibernate\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    --&gt;\n\n    &lt;class&gt;com.micks.scenebuilderdemo.database.Parent&lt;/class&gt;\n    &lt;class&gt;com.micks.scenebuilderdemo.database.Child&lt;/class&gt;\n\n    &lt;properties&gt;\n        &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.hsqldb.jdbc.JDBCDriver\"/&gt;\n\n        &lt;property name=\"javax.persistence.jdbc.url\"\n                  value=\"jdbc:hsqldb:file:./database/database;DB_CLOSE_DELAY=-1;MVCC=TRUE\"/&gt;\n\n        &lt;property name=\"javax.persistence.jdbc.user\" value=\"sa\"/&gt;\n        &lt;property name=\"javax.persistence.jdbc.password\" value=\"\"/&gt;\n\n        &lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\"/&gt;\n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.HSQLDialect\"/&gt;\n    &lt;/properties&gt;\n\n&lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n\n<p>I probably wasted about half a day on this gem. My advice would be to start very simple - a single test entity with one or two fields, as it seems like this exception can have many causes.</p>\n"},{"tags":[],"owner":{"account_id":3795432,"reputation":541,"user_id":3150652,"display_name":"Dhwaneel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530686296,"creation_date":1530686296,"answer_id":51167249,"question_id":1158159,"body_markdown":"Mine got resolved by adding  &lt;provider&gt; info in persistence.xml  e.g. `&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;` and then making sure you have the library on classpath e.g. in Maven add dependency like\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"No Persistence provider for EntityManager named","body":"<p>Mine got resolved by adding   info in persistence.xml  e.g. <code>&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;</code> and then making sure you have the library on classpath e.g. in Maven add dependency like</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n  &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n  &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904621,"reputation":1045,"user_id":2490336,"accept_rate":0,"display_name":"Atul Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537950530,"creation_date":1537950530,"answer_id":52513277,"question_id":1158159,"body_markdown":"Verify the peristent unit name\r\n\r\n    &lt;persistence-unit name=&quot;com.myapp.model.jpa&quot;\r\n\t\ttransaction-type=&quot;RESOURCE_LOCAL&quot;&gt;    \r\n    public static final String PERSISTENCE_UNIT_NAME = &quot;com.myapp.model.jpa&quot;;\r\n    Persistence.createEntityManagerFactory(**PERSISTENCE_UNIT_NAME**);","title":"No Persistence provider for EntityManager named","body":"<p>Verify the peristent unit name</p>\n\n<pre><code>&lt;persistence-unit name=\"com.myapp.model.jpa\"\n    transaction-type=\"RESOURCE_LOCAL\"&gt;    \npublic static final String PERSISTENCE_UNIT_NAME = \"com.myapp.model.jpa\";\nPersistence.createEntityManagerFactory(**PERSISTENCE_UNIT_NAME**);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15940699,"reputation":31,"user_id":11502595,"display_name":"Wojtek Pir&#243;g"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562872560,"creation_date":1562872560,"answer_id":56995948,"question_id":1158159,"body_markdown":"In my case it was about mistake in two properties as below. When I changed them ‘No Persistence provider for EntityManager named’ disappered.\r\n\r\nSo you could try test connection with your properties to check if everything is correct.\r\n\r\n```\r\n&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;...”/&gt;\r\n&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;...”/&gt;\r\n```\r\n\r\nStrange error, I was totally confused because of it.","title":"No Persistence provider for EntityManager named","body":"<p>In my case it was about mistake in two properties as below. When I changed them ‘No Persistence provider for EntityManager named’ disappered.</p>\n\n<p>So you could try test connection with your properties to check if everything is correct.</p>\n\n<pre><code>&lt;property name=\"javax.persistence.jdbc.url\" value=\"...”/&gt;\n&lt;property name=\"javax.persistence.jdbc.password\" value=\"...”/&gt;\n</code></pre>\n\n<p>Strange error, I was totally confused because of it.</p>\n"},{"comments":[{"owner":{"account_id":3339986,"reputation":521,"user_id":2806467,"display_name":"Kike Lebowski"},"score":0,"creation_date":1611076533,"post_id":59027085,"comment_id":116331979,"body_markdown":"This was my solution too. I have a maven project and i created manually this folder (META-INF) under resources. Then i made sure that in war file META-INF folder was placed under: \\WEB-INF\\classes\\META-INF","body":"This was my solution too. I have a maven project and i created manually this folder (META-INF) under resources. Then i made sure that in war file META-INF folder was placed under: \\WEB-INF\\classes\\META-INF"}],"tags":[],"owner":{"account_id":14817760,"reputation":71,"user_id":10701129,"display_name":"sch001"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574667580,"creation_date":1574667267,"answer_id":59027085,"question_id":1158159,"body_markdown":"In my case, previously I use idea to generate entity by database schema, and the `persistence.xml` is automatically generated in `src/main/java/META-INF`,and according to https://stackoverflow.com/a/23890419/10701129, I move it to `src/main/resources/META-INF`, also marked META-INF as source root. It works for me.\r\n\r\nBut just simply marking original META-INF(that is, src/main/java/META-INF) as source root, doesn&#39;t work, which confuses me.\r\n\r\nand this is the structre:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UQN5x.png","title":"No Persistence provider for EntityManager named","body":"<p>In my case, previously I use idea to generate entity by database schema, and the <code>persistence.xml</code> is automatically generated in <code>src/main/java/META-INF</code>,and according to <a href=\"https://stackoverflow.com/a/23890419/10701129\">https://stackoverflow.com/a/23890419/10701129</a>, I move it to <code>src/main/resources/META-INF</code>, also marked META-INF as source root. It works for me.</p>\n\n<p>But just simply marking original META-INF(that is, src/main/java/META-INF) as source root, doesn't work, which confuses me.</p>\n\n<p>and this is the structre:\n<a href=\"https://i.stack.imgur.com/UQN5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UQN5x.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3603414,"reputation":153,"user_id":3006199,"display_name":"Klendatho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579003224,"creation_date":1579000503,"answer_id":59732672,"question_id":1158159,"body_markdown":"Try also copying the persistence.xml manually to the folder `&lt;project root&gt;\\bin\\META-INF`. This fixed the problem in Eclipse Neon with `EclipseLink 2.5.2` using a simple plug-in project.\r\n","title":"No Persistence provider for EntityManager named","body":"<p>Try also copying the persistence.xml manually to the folder <code>&lt;project root&gt;\\bin\\META-INF</code>. This fixed the problem in Eclipse Neon with <code>EclipseLink 2.5.2</code> using a simple plug-in project.</p>\n"},{"tags":[],"owner":{"account_id":14853653,"reputation":369,"user_id":10726803,"display_name":"keemsisi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586918104,"creation_date":1586918104,"answer_id":61220387,"question_id":1158159,"body_markdown":"**Had the same issue,  but this actually worked for me :**\r\n\r\n    mvn install -e  -Dmaven.repo.local=$WORKSPACE/.repository.\r\n\r\nNB : The maven command above will reinstall all your project dependencies from scratch. Your console will be loaded with verbose logs due to the network request maven is making.","title":"No Persistence provider for EntityManager named","body":"<p><strong>Had the same issue,  but this actually worked for me :</strong></p>\n\n<pre><code>mvn install -e  -Dmaven.repo.local=$WORKSPACE/.repository.\n</code></pre>\n\n<p>NB : The maven command above will reinstall all your project dependencies from scratch. Your console will be loaded with verbose logs due to the network request maven is making.</p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605239922,"creation_date":1601180494,"answer_id":64084771,"question_id":1158159,"body_markdown":"You have to use the absolute path of the file otherwise this will not work. Then with that path we build the file and pass it to the configuration.\r\n\r\n    @Throws(HibernateException::class)\r\n    fun getSessionFactory() : SessionFactory {\r\n        return Configuration()\r\n                    .configure(getFile())\r\n                    .buildSessionFactory()\r\n        }\r\n\r\n\r\n    private fun getFile(canonicalName: String): File {\r\n        val absolutePathCurrentModule = System.getProperty(&quot;user.dir&quot;)\r\n        val pathFromProjectRoot = absolutePathCurrentModule.dropLastWhile { it != &#39;/&#39; }\r\n        val absolutePathFromProjectRoot = &quot;${pathFromProjectRoot}module-name/src/main/resources/$canonicalName&quot;\r\n        println(&quot;Absolute Path of secret-hibernate.cfg.xml: $absolutePathFromProjectRoot&quot;)\r\n        return File(absolutePathFromProjectRoot)\r\n    }\r\n\r\nGL\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4033090/5279996","title":"No Persistence provider for EntityManager named","body":"<p>You have to use the absolute path of the file otherwise this will not work. Then with that path we build the file and pass it to the configuration.</p>\n<pre><code>@Throws(HibernateException::class)\nfun getSessionFactory() : SessionFactory {\n    return Configuration()\n                .configure(getFile())\n                .buildSessionFactory()\n    }\n\n\nprivate fun getFile(canonicalName: String): File {\n    val absolutePathCurrentModule = System.getProperty(&quot;user.dir&quot;)\n    val pathFromProjectRoot = absolutePathCurrentModule.dropLastWhile { it != '/' }\n    val absolutePathFromProjectRoot = &quot;${pathFromProjectRoot}module-name/src/main/resources/$canonicalName&quot;\n    println(&quot;Absolute Path of secret-hibernate.cfg.xml: $absolutePathFromProjectRoot&quot;)\n    return File(absolutePathFromProjectRoot)\n}\n</code></pre>\n<p>GL</p>\n<p><a href=\"https://stackoverflow.com/a/4033090/5279996\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":3169753,"reputation":764,"user_id":2679033,"display_name":"Rajitha Bhanuka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607393759,"creation_date":1607393759,"answer_id":65192148,"question_id":1158159,"body_markdown":"I had the same problem, I removed &quot;@ManagedBean&quot; from my bean class now working.","title":"No Persistence provider for EntityManager named","body":"<p>I had the same problem, I removed &quot;@ManagedBean&quot; from my bean class now working.</p>\n"},{"tags":[],"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627253005,"creation_date":1627253005,"answer_id":68523022,"question_id":1158159,"body_markdown":"I ran into this problem when I moved all my java classes to a different package.\r\nFinally, I figured out that if I change the packages of myclasses, then I need to update persistence.xml with the new packages in all the persistence-unit/class elements that refer to my java classes. ","title":"No Persistence provider for EntityManager named","body":"<p>I ran into this problem when I moved all my java classes to a different package.\nFinally, I figured out that if I change the packages of myclasses, then I need to update persistence.xml with the new packages in all the persistence-unit/class elements that refer to my java classes.</p>\n"},{"tags":[],"owner":{"account_id":1407112,"reputation":2835,"user_id":1334515,"accept_rate":80,"display_name":"stephenfrank"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680513057,"creation_date":1680513057,"answer_id":75917786,"question_id":1158159,"body_markdown":"I had already set up persistence.xml and installed all the Hibernate dependencies and was still stuck with this error.\r\n\r\nIn my case, I had imported the wrong `Persistence` class. \r\n\r\nI replaced  \r\n`import javax.persistence.Persistence`  \r\nwith  \r\n`import jakarta.persistence.Persistence`  \r\n\r\nThis solved it. I wish the error message was more descriptive or helpful but there you have it.","title":"No Persistence provider for EntityManager named","body":"<p>I had already set up persistence.xml and installed all the Hibernate dependencies and was still stuck with this error.</p>\n<p>In my case, I had imported the wrong <code>Persistence</code> class.</p>\n<p>I replaced<br />\n<code>import javax.persistence.Persistence</code><br />\nwith<br />\n<code>import jakarta.persistence.Persistence</code></p>\n<p>This solved it. I wish the error message was more descriptive or helpful but there you have it.</p>\n"}],"owner":{"account_id":45317,"reputation":2242,"user_id":133548,"accept_rate":59,"display_name":"Robert A Henru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465980,"favorite_count":0,"down_vote_count":0,"up_vote_count":172,"accepted_answer_id":1285436,"answer_count":33,"score":172,"last_activity_date":1680513057,"creation_date":1248168549,"question_id":1158159,"body_markdown":"I have my `persistence.xml` with the same name using `TopLink` under the `META-INF` directory.\r\nThen, I have my code calling it with:\r\n\r\n    EntityManagerFactory emfdb = Persistence.createEntityManagerFactory(&quot;agisdb&quot;);\r\n\r\nYet, I got the following error message:\r\n\r\n&lt;pre&gt;\r\n2009-07-21 09:22:41,018 [main] ERROR - No Persistence provider for EntityManager named agisdb\r\njavax.persistence.PersistenceException: No Persistence provider for EntityManager named agisdb\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:89)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:60)\r\n&lt;/pre&gt;\r\n\r\nHere is the `persistence.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;1.0&quot;&gt;\r\n        &lt;persistence-unit name=&quot;agisdb&quot;&gt;\r\n            &lt;class&gt;com.agis.livedb.domain.AddressEntity&lt;/class&gt;\r\n            &lt;class&gt;com.agis.livedb.domain.TrafficCameraEntity&lt;/class&gt;\r\n            &lt;class&gt;com.agis.livedb.domain.TrafficPhotoEntity&lt;/class&gt;\r\n            &lt;class&gt;com.agis.livedb.domain.TrafficReportEntity&lt;/class&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;toplink.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/agisdb&quot;/&gt;\r\n                &lt;property name=&quot;toplink.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n                &lt;property name=&quot;toplink.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n                &lt;property name=&quot;toplink.jdbc.password&quot; value=&quot;password&quot;/&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nIt should have been in the classpath. Yet, I got the above error.","title":"No Persistence provider for EntityManager named","body":"<p>I have my <code>persistence.xml</code> with the same name using <code>TopLink</code> under the <code>META-INF</code> directory.\nThen, I have my code calling it with:</p>\n\n<pre><code>EntityManagerFactory emfdb = Persistence.createEntityManagerFactory(\"agisdb\");\n</code></pre>\n\n<p>Yet, I got the following error message:</p>\n\n<pre>\n2009-07-21 09:22:41,018 [main] ERROR - No Persistence provider for EntityManager named agisdb\njavax.persistence.PersistenceException: No Persistence provider for EntityManager named agisdb\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:89)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:60)\n</pre>\n\n<p>Here is the <code>persistence.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" version=\"1.0\"&gt;\n    &lt;persistence-unit name=\"agisdb\"&gt;\n        &lt;class&gt;com.agis.livedb.domain.AddressEntity&lt;/class&gt;\n        &lt;class&gt;com.agis.livedb.domain.TrafficCameraEntity&lt;/class&gt;\n        &lt;class&gt;com.agis.livedb.domain.TrafficPhotoEntity&lt;/class&gt;\n        &lt;class&gt;com.agis.livedb.domain.TrafficReportEntity&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=\"toplink.jdbc.url\" value=\"jdbc:mysql://localhost:3306/agisdb\"/&gt;\n            &lt;property name=\"toplink.jdbc.driver\" value=\"com.mysql.jdbc.Driver\"/&gt;\n            &lt;property name=\"toplink.jdbc.user\" value=\"root\"/&gt;\n            &lt;property name=\"toplink.jdbc.password\" value=\"password\"/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>It should have been in the classpath. Yet, I got the above error.</p>\n"},{"tags":["java","android","database","path","android-version"],"comments":[{"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"score":0,"creation_date":1680501453,"post_id":75895618,"comment_id":133902982,"body_markdown":"@blackapps Done. hope its clear now and yeah... can you help me?","body":"@blackapps Done. hope its clear now and yeah... can you help me?"},{"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"score":0,"creation_date":1680504793,"post_id":75895618,"comment_id":133903493,"body_markdown":"@blackapps my Bad! hope now its readable.","body":"@blackapps my Bad! hope now its readable."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680506850,"post_id":75895618,"comment_id":133903885,"body_markdown":"`android.database.sqlite.SQLiteException: no such table: Technical`","body":"<code>android.database.sqlite.SQLiteException: no such table: Technical</code>"},{"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"score":0,"creation_date":1680508559,"post_id":75895618,"comment_id":133904255,"body_markdown":"@blackapps this exception occurs only in android 28 as i mentioned before ... there is table Technical which is readable in other API versions inclucding API 26 and 27","body":"@blackapps this exception occurs only in android 28 as i mentioned before ... there is table Technical which is readable in other API versions inclucding API 26 and 27"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680510786,"post_id":75895618,"comment_id":133904721,"body_markdown":"You never named an sql exception. You talked about null exception.","body":"You never named an sql exception. You talked about null exception."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680511085,"post_id":75895618,"comment_id":133904788,"body_markdown":"Your code to copy a file from assets has nothing to do with that exception. You better post the code that throws that exception.","body":"Your code to copy a file from assets has nothing to do with that exception. You better post the code that throws that exception."},{"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"score":0,"creation_date":1680513118,"post_id":75895618,"comment_id":133905208,"body_markdown":"@blackapps i specified null exception like no table found. Anyways i posted the entire code where the exception is pointed","body":"@blackapps i specified null exception like no table found. Anyways i posted the entire code where the exception is pointed"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680517710,"post_id":75895618,"comment_id":133906294,"body_markdown":"copyDataBase() is nowhere called. We dont know what DataBaseTechnical would be. You are not telling which statement causes the exception.","body":"copyDataBase() is nowhere called. We dont know what DataBaseTechnical would be. You are not telling which statement causes the exception."}],"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680512986,"creation_date":1680245404,"question_id":75895618,"body_markdown":"I know people asked for this question already. I followed the same answers which accepted by the user [Answer](https://stackoverflow.com/questions/8700262/how-to-insert-data-into-the-database-file-which-is-in-the-assets-folder). It worked fine for other Android versions but except Android 9.\r\n\r\n    private static String DB_NAME = &quot;QuotesData.db&quot;;\r\n    private static String DB_PATH = &quot;/data/data/[PACKAGE NAME]/databases/&quot;;\r\n    private void copyDataBase() throws IOException {\r\n\r\n        InputStream myInput = context.getAssets().open(DB_NAME);\r\n\r\n        String outFileName = DB_PATH + DB_NAME;\r\n\r\n        OutputStream myOutput = new FileOutputStream(outFileName);\r\n\r\n        byte[] buffer = new byte[1024];\r\n        int length;\r\n        while ((length = myInput.read(buffer)) &gt; 0) {\r\n            myOutput.write(buffer, 0, length);\r\n        }\r\n\r\n        myOutput.flush();\r\n        myOutput.close();\r\n        myInput.close();\r\n\r\n    }\r\n\r\nI&#39;m getting null exception like no such table found.\r\n\r\n**Logcat**\r\n\r\n     E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.in22labs.neet, PID: 23832\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.in22labs.neet/com.in22labs.neet.Quiz.Exammode}: android.database.sqlite.SQLiteException: no such table: Technical (code 1 SQLITE_ERROR): , while compiling: SELECT Id FROM Technical WHERE TopicId =&#39;Che1&#39;\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:193)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n\r\nCan anyone help? It perfectly works with other Android versions (Even in Android 8.1).\r\n\r\n     @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_exammode);\r\n        init();\r\n\r\n        Intent receivedIntent = this.getIntent();\r\n        subject = receivedIntent.getStringExtra(&quot;subject&quot;);\r\n        topicid = receivedIntent.getStringExtra(&quot;TopicId&quot;);\r\n        Log.e(&quot;Test&quot;,&quot;Exam page Created&quot;);\r\n\r\n        ConnectionDetector cd=new ConnectionDetector(Exammode.this);\r\n   \r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setTitle(&quot;NEET&quot;);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawer, toolbar, R.string.open, R.string.close);\r\n        drawer.setDrawerListener(toggle);\r\n        toggle.syncState();\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        dbt = new DataBaseTechnical(Exammode.this);\r\n\r\n        getQno=dbt.getQuesNo(topicid);\r\n        InsertQuestionRandom();\r\n\r\n**InsertQuestionRandom method**\r\n\r\n     private void InsertQuestionRandom() {\r\n        System.out.println(&quot;Before shuffling, ArrayList contains : &quot; +getQno);\r\n        Collections.shuffle(getQno);\r\n        System.out.println(&quot;After shuffling, ArrayList contains : &quot; + getQno);\r\n        //Toast.makeText(myContext, (CharSequence) arrayList,Toast.LENGTH_SHORT).show();\r\n        for(int i=0; i&lt;20 ;i++)\r\n        {\r\n            int Shuff=getQno.get(i);\r\n            dbt.SelectQuestSet(Shuff);\r\n        }\r\n    }","title":"How to populate Database from path file in API 28 (Android 9)","body":"<p>I know people asked for this question already. I followed the same answers which accepted by the user <a href=\"https://stackoverflow.com/questions/8700262/how-to-insert-data-into-the-database-file-which-is-in-the-assets-folder\">Answer</a>. It worked fine for other Android versions but except Android 9.</p>\n<pre><code>private static String DB_NAME = &quot;QuotesData.db&quot;;\nprivate static String DB_PATH = &quot;/data/data/[PACKAGE NAME]/databases/&quot;;\nprivate void copyDataBase() throws IOException {\n\n    InputStream myInput = context.getAssets().open(DB_NAME);\n\n    String outFileName = DB_PATH + DB_NAME;\n\n    OutputStream myOutput = new FileOutputStream(outFileName);\n\n    byte[] buffer = new byte[1024];\n    int length;\n    while ((length = myInput.read(buffer)) &gt; 0) {\n        myOutput.write(buffer, 0, length);\n    }\n\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n\n}\n</code></pre>\n<p>I'm getting null exception like no such table found.</p>\n<p><strong>Logcat</strong></p>\n<pre><code> E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.in22labs.neet, PID: 23832\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.in22labs.neet/com.in22labs.neet.Quiz.Exammode}: android.database.sqlite.SQLiteException: no such table: Technical (code 1 SQLITE_ERROR): , while compiling: SELECT Id FROM Technical WHERE TopicId ='Che1'\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n<p>Can anyone help? It perfectly works with other Android versions (Even in Android 8.1).</p>\n<pre><code> @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_exammode);\n    init();\n\n    Intent receivedIntent = this.getIntent();\n    subject = receivedIntent.getStringExtra(&quot;subject&quot;);\n    topicid = receivedIntent.getStringExtra(&quot;TopicId&quot;);\n    Log.e(&quot;Test&quot;,&quot;Exam page Created&quot;);\n\n    ConnectionDetector cd=new ConnectionDetector(Exammode.this);\n\n    setSupportActionBar(toolbar);\n    getSupportActionBar().setTitle(&quot;NEET&quot;);\n    ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n            this, drawer, toolbar, R.string.open, R.string.close);\n    drawer.setDrawerListener(toggle);\n    toggle.syncState();\n    navigationView.setNavigationItemSelectedListener(this);\n\n    dbt = new DataBaseTechnical(Exammode.this);\n\n    getQno=dbt.getQuesNo(topicid);\n    InsertQuestionRandom();\n</code></pre>\n<p><strong>InsertQuestionRandom method</strong></p>\n<pre><code> private void InsertQuestionRandom() {\n    System.out.println(&quot;Before shuffling, ArrayList contains : &quot; +getQno);\n    Collections.shuffle(getQno);\n    System.out.println(&quot;After shuffling, ArrayList contains : &quot; + getQno);\n    //Toast.makeText(myContext, (CharSequence) arrayList,Toast.LENGTH_SHORT).show();\n    for(int i=0; i&lt;20 ;i++)\n    {\n        int Shuff=getQno.get(i);\n        dbt.SelectQuestSet(Shuff);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-shell","jline"],"owner":{"account_id":21024771,"reputation":29,"user_id":15450353,"display_name":"JCodeX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680512569,"creation_date":1680271972,"question_id":75899537,"body_markdown":"I have certain use case which requires opening of a new terminal tab/window from current terminal window, both terminal will be running in different context.\r\nFor eg. a chat application is running on the main terminal and whenever a new chat request comes in, it opens a new terminal window where the chat happens, and the main terminal shows all connection request and metrics.","title":"How to open a new terminal tab using Spring boot dependency Spring Shell","body":"<p>I have certain use case which requires opening of a new terminal tab/window from current terminal window, both terminal will be running in different context.\nFor eg. a chat application is running on the main terminal and whenever a new chat request comes in, it opens a new terminal window where the chat happens, and the main terminal shows all connection request and metrics.</p>\n"},{"tags":["java","android","android-studio","gradle","fdroid"],"comments":[{"owner":{"account_id":18779088,"reputation":31,"user_id":13694157,"display_name":"XCosmo"},"score":0,"creation_date":1680514511,"post_id":75916344,"comment_id":133905556,"body_markdown":"Please help me with this problem. Anyone??","body":"Please help me with this problem. Anyone??"},{"owner":{"account_id":18779088,"reputation":31,"user_id":13694157,"display_name":"XCosmo"},"score":0,"creation_date":1680667381,"post_id":75916344,"comment_id":133935147,"body_markdown":"Nobody can solve this problem?? &#128517; Please guys...","body":"Nobody can solve this problem?? 😅 Please guys..."}],"owner":{"account_id":18779088,"reputation":31,"user_id":13694157,"display_name":"XCosmo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680512568,"creation_date":1680500868,"question_id":75916344,"body_markdown":"I&#39;m using a F-Droid open source project called &quot;mumla-3.6.3&quot;. While importing this project in android studio  Electric Eel 2022.1.1, I&#39;m getting sync build successful with this warning:\r\n\r\n`Unable to resolve dependency for &#39;:app@betaDebugUnitTest/compileClasspath&#39;: Could not resolve project :libraries:humla.`\r\n\r\nBut then when I try to make Project, I&#39;m getting error as:\r\n\r\n```\r\nCould not determine the dependencies of task &#39;:app:compileBetaDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all task dependencies for configuration &#39;:app:betaDebugCompileClasspath&#39;.\r\n   &gt; Could not resolve project :libraries:humla.\r\n     Required by:\r\n         project :app\r\n      &gt; No matching configuration of project :libraries:humla was found. The consumer was configured to find an API of a component, preferably optimized for Android, as well as attribute &#39;com.android.build.api.attributes.BuildTypeAttr&#39; with value &#39;debug&#39;, attribute &#39;release&#39; with value &#39;beta&#39; but:\r\n          - None of the consumable configurations have attributes.\r\n```\r\n\r\nMy app build.gradle file content is:\r\n\r\n```\r\n/*\r\n * Copyright (C) 2014 Andrew Comminos\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\r\n */\r\n\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n    }\r\n}\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    google()\r\n}\r\n\r\ndef gitDescribe = { -&gt;\r\n    def stdout = new ByteArrayOutputStream()\r\n    exec {\r\n        commandLine &quot;cmd&quot;, &quot;git&quot;, &quot;describe&quot;, &quot;--tags&quot;, &quot;--always&quot;\r\n        standardOutput = stdout\r\n    }\r\n    return stdout.toString().trim()\r\n}\r\n\r\ndef signingFile = file &#39;signing.gradle&#39;\r\nif (signingFile.exists()) apply from: signingFile\r\ndef signingBetaFile = file &#39;signing-beta.gradle&#39;\r\nif (signingBetaFile.exists()) apply from: signingBetaFile\r\n\r\nallprojects {\r\n    tasks.withType(JavaCompile) {\r\n        // TODO include deprecations at some point, but currently they are *many*\r\n        options.compilerArgs &lt;&lt; &quot;-Xlint:all&quot; &lt;&lt; &quot;-Xlint:-deprecation&quot; &lt;&lt; &quot;-Xlint:-dep-ann&quot;\r\n    }\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n\r\n    defaultConfig {\r\n        minSdkVersion 14\r\n        targetSdkVersion 31\r\n        multiDexEnabled true\r\n\r\n        applicationId &quot;se.lublin.mumla&quot;\r\n        versionCode 98\r\n        versionName gitDescribe()\r\n\r\n        setProperty(&quot;archivesBaseName&quot;, &quot;mumla&quot;)\r\n        buildConfigField &quot;long&quot;, &quot;TIMESTAMP&quot;, System.currentTimeMillis() + &quot;L&quot;\r\n\r\n        testInstrumentationRunner &quot;android.test.InstrumentationTestRunner&quot;\r\n    }\r\n\r\n    flavorDimensions &quot;release&quot;\r\n    productFlavors {\r\n        official {\r\n            dimension &quot;release&quot;\r\n            applicationId &quot;se.lublin.mumla&quot;\r\n        }\r\n        donation {\r\n            dimension &quot;release&quot;\r\n            applicationId &quot;se.lublin.mumla.donation&quot;\r\n        }\r\n        beta {\r\n            dimension &quot;release&quot;\r\n            applicationId &quot;se.lublin.mumla.beta&quot;\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        // signingConfig beta will override\r\n        release {\r\n            if (android.hasProperty(&quot;signingConfigs&quot;)) {\r\n                if (signingConfigs.hasProperty(&quot;release&quot;)) {\r\n                    signingConfig signingConfigs.release\r\n                }\r\n                if (signingConfigs.hasProperty(&quot;beta&quot;)) {\r\n                    signingConfig signingConfigs.beta\r\n                }\r\n            }\r\n        }\r\n        debug {\r\n            versionNameSuffix &quot;-debug&quot;\r\n            if (android.hasProperty(&quot;signingConfigs&quot;)) {\r\n                if (signingConfigs.hasProperty(&quot;beta&quot;)) {\r\n                    signingConfig signingConfigs.beta\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // betas may be released every minute\r\n    // TODO? dynamic stuff, have to rebuild a lot\r\n    applicationVariants.all { variant -&gt;\r\n        if (variant.flavorName == &quot;beta&quot;) {\r\n            variant.outputs.each { output -&gt;\r\n                output.versionCodeOverride = System.currentTimeSeconds() / 60\r\n            }\r\n        }\r\n    }\r\n\r\n    lintOptions {\r\n        quiet false\r\n\r\n        // spongycastle-related\r\n        disable &quot;InvalidPackage&quot;\r\n\r\n        disable &quot;MissingTranslation&quot;\r\n\r\n        ignoreWarnings false\r\n        abortOnError true\r\n        explainIssues true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    /*implementation project(&quot;:libraries:humla&quot;) {\r\n        targetConfiguration = &quot;runtime&quot;\r\n    }*/\r\n    implementation project(&quot;:libraries:humla&quot;)\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.documentfile:documentfile:1.0.1&#39;\r\n    implementation &#39;androidx.fragment:fragment:1.5.6&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.0&#39;\r\n    implementation &#39;androidx.exifinterface:exifinterface:1.3.6&#39;\r\n    implementation &#39;org.jsoup:jsoup:1.13.1&#39;\r\n    implementation &#39;info.guardianproject.netcipher:netcipher:2.1.0&#39;\r\n}\r\n\r\n```\r\nMy project settings.gradle file content is:\r\n\r\n```\r\n/*\r\n * Copyright (C) 2014 Andrew Comminos\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\r\n */\r\n\r\n\r\ninclude &#39;:libraries:humla&#39;, &#39;:app&#39;\r\n\r\n```\r\nMy project build.gradle file has NO content in it as:\r\n\r\n```\r\n/*\r\n * Copyright (C) 2014 Andrew Comminos\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\r\n */\r\n\r\n\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n```\r\n\r\n","title":"Unable to resolve dependency for &#39;:app@betaDebug/compileClasspath&#39;: Could not resolve project :libraries:humla","body":"<p>I'm using a F-Droid open source project called &quot;mumla-3.6.3&quot;. While importing this project in android studio  Electric Eel 2022.1.1, I'm getting sync build successful with this warning:</p>\n<p><code>Unable to resolve dependency for ':app@betaDebugUnitTest/compileClasspath': Could not resolve project :libraries:humla.</code></p>\n<p>But then when I try to make Project, I'm getting error as:</p>\n<pre><code>Could not determine the dependencies of task ':app:compileBetaDebugJavaWithJavac'.\n&gt; Could not resolve all task dependencies for configuration ':app:betaDebugCompileClasspath'.\n   &gt; Could not resolve project :libraries:humla.\n     Required by:\n         project :app\n      &gt; No matching configuration of project :libraries:humla was found. The consumer was configured to find an API of a component, preferably optimized for Android, as well as attribute 'com.android.build.api.attributes.BuildTypeAttr' with value 'debug', attribute 'release' with value 'beta' but:\n          - None of the consumable configurations have attributes.\n</code></pre>\n<p>My app build.gradle file content is:</p>\n<pre><code>/*\n * Copyright (C) 2014 Andrew Comminos\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\n */\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.4'\n    }\n}\napply plugin: 'com.android.application'\n\nrepositories {\n    mavenCentral()\n    google()\n}\n\ndef gitDescribe = { -&gt;\n    def stdout = new ByteArrayOutputStream()\n    exec {\n        commandLine &quot;cmd&quot;, &quot;git&quot;, &quot;describe&quot;, &quot;--tags&quot;, &quot;--always&quot;\n        standardOutput = stdout\n    }\n    return stdout.toString().trim()\n}\n\ndef signingFile = file 'signing.gradle'\nif (signingFile.exists()) apply from: signingFile\ndef signingBetaFile = file 'signing-beta.gradle'\nif (signingBetaFile.exists()) apply from: signingBetaFile\n\nallprojects {\n    tasks.withType(JavaCompile) {\n        // TODO include deprecations at some point, but currently they are *many*\n        options.compilerArgs &lt;&lt; &quot;-Xlint:all&quot; &lt;&lt; &quot;-Xlint:-deprecation&quot; &lt;&lt; &quot;-Xlint:-dep-ann&quot;\n    }\n}\n\nandroid {\n    compileSdkVersion 31\n\n    defaultConfig {\n        minSdkVersion 14\n        targetSdkVersion 31\n        multiDexEnabled true\n\n        applicationId &quot;se.lublin.mumla&quot;\n        versionCode 98\n        versionName gitDescribe()\n\n        setProperty(&quot;archivesBaseName&quot;, &quot;mumla&quot;)\n        buildConfigField &quot;long&quot;, &quot;TIMESTAMP&quot;, System.currentTimeMillis() + &quot;L&quot;\n\n        testInstrumentationRunner &quot;android.test.InstrumentationTestRunner&quot;\n    }\n\n    flavorDimensions &quot;release&quot;\n    productFlavors {\n        official {\n            dimension &quot;release&quot;\n            applicationId &quot;se.lublin.mumla&quot;\n        }\n        donation {\n            dimension &quot;release&quot;\n            applicationId &quot;se.lublin.mumla.donation&quot;\n        }\n        beta {\n            dimension &quot;release&quot;\n            applicationId &quot;se.lublin.mumla.beta&quot;\n        }\n    }\n\n    buildTypes {\n        // signingConfig beta will override\n        release {\n            if (android.hasProperty(&quot;signingConfigs&quot;)) {\n                if (signingConfigs.hasProperty(&quot;release&quot;)) {\n                    signingConfig signingConfigs.release\n                }\n                if (signingConfigs.hasProperty(&quot;beta&quot;)) {\n                    signingConfig signingConfigs.beta\n                }\n            }\n        }\n        debug {\n            versionNameSuffix &quot;-debug&quot;\n            if (android.hasProperty(&quot;signingConfigs&quot;)) {\n                if (signingConfigs.hasProperty(&quot;beta&quot;)) {\n                    signingConfig signingConfigs.beta\n                }\n            }\n        }\n    }\n\n    // betas may be released every minute\n    // TODO? dynamic stuff, have to rebuild a lot\n    applicationVariants.all { variant -&gt;\n        if (variant.flavorName == &quot;beta&quot;) {\n            variant.outputs.each { output -&gt;\n                output.versionCodeOverride = System.currentTimeSeconds() / 60\n            }\n        }\n    }\n\n    lintOptions {\n        quiet false\n\n        // spongycastle-related\n        disable &quot;InvalidPackage&quot;\n\n        disable &quot;MissingTranslation&quot;\n\n        ignoreWarnings false\n        abortOnError true\n        explainIssues true\n    }\n}\n\ndependencies {\n    implementation 'androidx.multidex:multidex:2.0.1'\n    /*implementation project(&quot;:libraries:humla&quot;) {\n        targetConfiguration = &quot;runtime&quot;\n    }*/\n    implementation project(&quot;:libraries:humla&quot;)\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.documentfile:documentfile:1.0.1'\n    implementation 'androidx.fragment:fragment:1.5.6'\n    implementation 'androidx.recyclerview:recyclerview:1.3.0'\n    implementation 'androidx.exifinterface:exifinterface:1.3.6'\n    implementation 'org.jsoup:jsoup:1.13.1'\n    implementation 'info.guardianproject.netcipher:netcipher:2.1.0'\n}\n\n</code></pre>\n<p>My project settings.gradle file content is:</p>\n<pre><code>/*\n * Copyright (C) 2014 Andrew Comminos\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\n */\n\n\ninclude ':libraries:humla', ':app'\n\n</code></pre>\n<p>My project build.gradle file has NO content in it as:</p>\n<pre><code>/*\n * Copyright (C) 2014 Andrew Comminos\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\n */\n\n\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\n</code></pre>\n"},{"tags":["java","builder","lombok"],"comments":[{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":1,"creation_date":1587045610,"post_id":61252122,"comment_id":108359205,"body_markdown":"`@Builder` from lombok is used only to instantiate an object. Besides `builder` is a static method, you cannot invoke it on an object instance.","body":"<code>@Builder</code> from lombok is used only to instantiate an object. Besides <code>builder</code> is a static method, you cannot invoke it on an object instance."},{"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"score":0,"creation_date":1587046021,"post_id":61252122,"comment_id":108359472,"body_markdown":"@Andronicus I am able to invoke `obj1.builder().a3(&quot;Java&quot;).build()`. But problem is that only that attribute `a3` is set and all remaining fields are `null`. Even though those fields are there in `obj1`.","body":"@Andronicus I am able to invoke <code>obj1.builder().a3(&quot;Java&quot;).build()</code>. But problem is that only that attribute <code>a3</code> is set and all remaining fields are <code>null</code>. Even though those fields are there in <code>obj1</code>."}],"answers":[{"tags":[],"owner":{"account_id":8667078,"reputation":575,"user_id":6487148,"display_name":"the_tech_maddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587046294,"creation_date":1587045985,"answer_id":61252271,"question_id":61252122,"body_markdown":"Actually, you have to enable `toBuilder()` in the annotation. `toBuilder()` allows you to edit the current object.\r\n\r\n```java\r\n@Builder(toBuilder = true)\r\n```\r\n\r\nand then doing `obj1.toBuilder().a3(&quot;Java&quot;).build()` should work.","title":"Update specific field of Object using Builder in java","body":"<p>Actually, you have to enable <code>toBuilder()</code> in the annotation. <code>toBuilder()</code> allows you to edit the current object.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Builder(toBuilder = true)\n</code></pre>\n\n<p>and then doing <code>obj1.toBuilder().a3(\"Java\").build()</code> should work.</p>\n"},{"comments":[{"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"score":0,"creation_date":1587046137,"post_id":61252281,"comment_id":108359549,"body_markdown":"I am okay that new `A` get created, but i want all values of other attributes of `old object`.","body":"I am okay that new <code>A</code> get created, but i want all values of other attributes of <code>old object</code>."},{"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"score":0,"creation_date":1588689041,"post_id":61252281,"comment_id":108990990,"body_markdown":"Hello Mate, I am facing issue with lambda expression with @Builder pattern.","body":"Hello Mate, I am facing issue with lambda expression with @Builder pattern."}],"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1587046146,"creation_date":1587046003,"answer_id":61252281,"question_id":61252122,"body_markdown":"`obj1.builder()` is an allowed but confusing way to say `A.builder()`. It&#39;s not recommended to call a static method on an instance. Either way, a completely new `A` will be created.\r\n\r\n    @Builder(toBuilder = true)\r\n\r\nmight be what you are looking for\r\n\r\n&gt; If true, generate an instance method to obtain a builder that is initialized with the values of this instance. Legal only if `@Builder` is used on a constructor, on the type itself, or on a static method that returns an instance of the declaring type.\r\n&gt;\r\n&gt; \t  boolean toBuilder() default false;\r\n\r\n\r\n","title":"Update specific field of Object using Builder in java","body":"<p><code>obj1.builder()</code> is an allowed but confusing way to say <code>A.builder()</code>. It's not recommended to call a static method on an instance. Either way, a completely new <code>A</code> will be created.</p>\n\n<pre><code>@Builder(toBuilder = true)\n</code></pre>\n\n<p>might be what you are looking for</p>\n\n<blockquote>\n  <p>If true, generate an instance method to obtain a builder that is initialized with the values of this instance. Legal only if <code>@Builder</code> is used on a constructor, on the type itself, or on a static method that returns an instance of the declaring type.</p>\n\n<pre><code>boolean toBuilder() default false;\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680960319,"post_id":75917693,"comment_id":133984244,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75917693/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":3234009,"reputation":11,"user_id":2728619,"display_name":"akhtar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680512407,"creation_date":1680512407,"answer_id":75917693,"question_id":61252122,"body_markdown":"There is no way you can update the fields in existing object using lombok Builder method.\r\nAs few people suggested about `toBuilder = true`, it creates completely new object but doesn&#39;t update the existing object.\r\n\r\nOnly way is using `@Setter` annotation.","title":"Update specific field of Object using Builder in java","body":"<p>There is no way you can update the fields in existing object using lombok Builder method.\nAs few people suggested about <code>toBuilder = true</code>, it creates completely new object but doesn't update the existing object.</p>\n<p>Only way is using <code>@Setter</code> annotation.</p>\n"}],"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5061,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61252281,"answer_count":3,"score":1,"last_activity_date":1680512407,"creation_date":1587045536,"question_id":61252122,"body_markdown":"I have two class with me as mentioned below.\r\nI wanted to create two instances of **`class A`**.\r\n\r\nI want to create instance obj2 from existing instance obj1 with updated value of a3 attribute as **`&quot;Java&quot;`**.\r\n\r\nI had tried below line using **Builder**, but it&#39;s not working.\r\n\r\n    A obj2 = obj1.builder().a3(&quot;Java&quot;).build();\r\n\r\nI am able to do it with calling constructor, but I wanted to do it **`Builder`** pattern only.\r\n\r\n    @Builder\r\n    @Data\r\n    class A {\r\n        String a1;\r\n        String a2;\r\n        String a3;\r\n        B b;\r\n    \r\n        A(String b1, String b2, String b3, B b) {\r\n            this.a1 = b1;\r\n            this.a2 = b2;\r\n            this.a3 = b3;\r\n            this.b = b;\r\n        }\r\n    }\r\n    \r\n    @Builder\r\n    @Data\r\n    class B {\r\n        String b1;\r\n        String b2;\r\n        String b3;\r\n    \r\n        B(String b1, String b2, String b3) {\r\n            this.b1 = b1;\r\n            this.b2 = b2;\r\n            this.b3 = b3;\r\n        }\r\n    \r\n    }\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            B b = new B(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;);\r\n            A obj1 = new A(&quot;a1&quot;, &quot;b1&quot;, &quot;b1&quot;, b);\r\n            A obj2 = new A(&quot;x1&quot;, &quot;y1&quot;, &quot;z1&quot;, b);\r\n    List&lt;A&gt; list= new ArrayList&lt;&gt;();\r\n    list.add(obj1);\r\n    list.add(obj2);\r\n    list.forEach(a -&gt; {a.toBuilder().a1(&quot;newA1&quot;).a2(&quot;newA2&quot;).build()});\r\n\r\n            A obj3 = obj1.toBuilder().a3(&quot;Java&quot;).build();\r\n        }\r\n    }\r\n\r\n}\r\n}\r\n\r\nAs mentioned in updated code , i have list of A with me, and i want to update **`a1 and a2`** attributes of all element in list using builder. But builder is not working fine with lambda.\r\nIf i will use setter with below code it&#39;s working fine.\r\n\r\n    list.forEach(a -&gt; {\r\n    a.setA1(&quot;newA1&quot;);\r\n    a.setA2(&quot;newA2&quot;);\r\n    });\r\n\r\nI am not able to get updated values for **`a1 and a2`** in case of **`Builder`** with **`Lambda`**","title":"Update specific field of Object using Builder in java","body":"<p>I have two class with me as mentioned below.\nI wanted to create two instances of <strong><code>class A</code></strong>.</p>\n\n<p>I want to create instance obj2 from existing instance obj1 with updated value of a3 attribute as <strong><code>\"Java\"</code></strong>.</p>\n\n<p>I had tried below line using <strong>Builder</strong>, but it's not working.</p>\n\n<pre><code>A obj2 = obj1.builder().a3(\"Java\").build();\n</code></pre>\n\n<p>I am able to do it with calling constructor, but I wanted to do it <strong><code>Builder</code></strong> pattern only.</p>\n\n<pre><code>@Builder\n@Data\nclass A {\n    String a1;\n    String a2;\n    String a3;\n    B b;\n\n    A(String b1, String b2, String b3, B b) {\n        this.a1 = b1;\n        this.a2 = b2;\n        this.a3 = b3;\n        this.b = b;\n    }\n}\n\n@Builder\n@Data\nclass B {\n    String b1;\n    String b2;\n    String b3;\n\n    B(String b1, String b2, String b3) {\n        this.b1 = b1;\n        this.b2 = b2;\n        this.b3 = b3;\n    }\n\n}\n\nclass Main {\n    public static void main(String[] args) {\n\n        B b = new B(\"a\", \"b\", \"b\");\n        A obj1 = new A(\"a1\", \"b1\", \"b1\", b);\n        A obj2 = new A(\"x1\", \"y1\", \"z1\", b);\nList&lt;A&gt; list= new ArrayList&lt;&gt;();\nlist.add(obj1);\nlist.add(obj2);\nlist.forEach(a -&gt; {a.toBuilder().a1(\"newA1\").a2(\"newA2\").build()});\n\n        A obj3 = obj1.toBuilder().a3(\"Java\").build();\n    }\n}\n</code></pre>\n\n<p>}\n}</p>\n\n<p>As mentioned in updated code , i have list of A with me, and i want to update <strong><code>a1 and a2</code></strong> attributes of all element in list using builder. But builder is not working fine with lambda.\nIf i will use setter with below code it's working fine.</p>\n\n<pre><code>list.forEach(a -&gt; {\na.setA1(\"newA1\");\na.setA2(\"newA2\");\n});\n</code></pre>\n\n<p>I am not able to get updated values for <strong><code>a1 and a2</code></strong> in case of <strong><code>Builder</code></strong> with <strong><code>Lambda</code></strong></p>\n"},{"tags":["java","spring-boot","model-view-controller","struts2","playback"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1680187899,"post_id":75883912,"comment_id":133858885,"body_markdown":"There&#39;s no integration available to Spring Boot. However, if you work with Struts2, then it integrates to Spring via plugin. Merely you can find links to Struts documentation in [this](https://stackoverflow.com/a/40932062/573032) answer.","body":"There&#39;s no integration available to Spring Boot. However, if you work with Struts2, then it integrates to Spring via plugin. Merely you can find links to Struts documentation in <a href=\"https://stackoverflow.com/a/40932062/573032\">this</a> answer."}],"answers":[{"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1680189883,"post_id":75885024,"comment_id":133859452,"body_markdown":"The first two links aren&#39;t Spring Boot-related. Just adding the dependencies doesn&#39;t really do anything.","body":"The first two links aren&#39;t Spring Boot-related. Just adding the dependencies doesn&#39;t really do anything."}],"tags":[],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680189823,"creation_date":1680159481,"answer_id":75885024,"question_id":75883912,"body_markdown":"Did you try to add those dependencies to your pom.xml file?\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n  &lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\r\n  &lt;version&gt;2.5.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n  &lt;artifactId&gt;struts2-junit-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.5.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n  &lt;artifactId&gt;struts2-convention-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.5.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHere you also have few articles and documentation about integrating Spring app with Struts:\r\n\r\nhttps://www.baeldung.com/struts-2-intro\r\n\r\nhttps://struts.apache.org/getting-started/spring\r\n\r\nI&#39;ve also found a sample project here:\r\n\r\nhttps://github.com/linux-china/struts2-spring-boot-integration","title":"Spring-Boot based","body":"<p>Did you try to add those dependencies to your pom.xml file?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n  &lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\n  &lt;version&gt;2.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n  &lt;artifactId&gt;struts2-junit-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n  &lt;artifactId&gt;struts2-convention-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here you also have few articles and documentation about integrating Spring app with Struts:</p>\n<p><a href=\"https://www.baeldung.com/struts-2-intro\" rel=\"nofollow noreferrer\">https://www.baeldung.com/struts-2-intro</a></p>\n<p><a href=\"https://struts.apache.org/getting-started/spring\" rel=\"nofollow noreferrer\">https://struts.apache.org/getting-started/spring</a></p>\n<p>I've also found a sample project here:</p>\n<p><a href=\"https://github.com/linux-china/struts2-spring-boot-integration\" rel=\"nofollow noreferrer\">https://github.com/linux-china/struts2-spring-boot-integration</a></p>\n"}],"owner":{"account_id":25539641,"reputation":1,"user_id":19325977,"display_name":"Ben Billion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680511820,"creation_date":1680147587,"question_id":75883912,"body_markdown":"How can Spring Boot be integrated with other Java frameworks such as Play or Struts?\r\n\r\nI am working on a Java web application using Spring Boot and I would like to know how I can integrate it with other Java frameworks such as Play or Struts. I have looked through the Spring Boot documentation and searched online, but I haven&#39;t been able to find any clear guidance on this topic.\r\n\r\nCan anyone provide guidance or examples of how to integrate Spring Boot with Play or Struts? Specifically, I am interested in understanding how to handle routing, request handling, and dependency injection when combining these frameworks.\r\n\r\nI have tried experimenting with different approaches, but I keep running into issues with conflicting dependencies or incompatible configuration options. I am hoping that someone with more experience in this area can provide some guidance or best practices.\r\n","title":"Spring-Boot based","body":"<p>How can Spring Boot be integrated with other Java frameworks such as Play or Struts?</p>\n<p>I am working on a Java web application using Spring Boot and I would like to know how I can integrate it with other Java frameworks such as Play or Struts. I have looked through the Spring Boot documentation and searched online, but I haven't been able to find any clear guidance on this topic.</p>\n<p>Can anyone provide guidance or examples of how to integrate Spring Boot with Play or Struts? Specifically, I am interested in understanding how to handle routing, request handling, and dependency injection when combining these frameworks.</p>\n<p>I have tried experimenting with different approaches, but I keep running into issues with conflicting dependencies or incompatible configuration options. I am hoping that someone with more experience in this area can provide some guidance or best practices.</p>\n"},{"tags":["java","android","http","server","android-volley"],"answers":[{"comments":[{"owner":{"account_id":15010219,"reputation":55,"user_id":10834931,"display_name":"Darian Pudic"},"score":0,"creation_date":1680169786,"post_id":75884371,"comment_id":133853758,"body_markdown":"1. / 5. I attached server logs to Google Drive (https://drive.google.com/file/d/1rwgibmjPeaOw4L2Nf2IVlbaAACF0IH16/view?usp=sharing). You can check for klopator.php, that is the script of interest in this case. You will notice error 403 for some cases (reason unknown)\n\n2. do you have maybe some links with working examples?\n\n3. I just contacted customer support of my hosting. Server CAN handle concurrent requests","body":"1. / 5. I attached server logs to Google Drive (<a href=\"https://drive.google.com/file/d/1rwgibmjPeaOw4L2Nf2IVlbaAACF0IH16/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1rwgibmjPeaOw4L2Nf2IVlbaAACF0IH16/&hellip;</a>&zwnj;&#8203;). You can check for klopator.php, that is the script of interest in this case. You will notice error 403 for some cases (reason unknown)  2. do you have maybe some links with working examples?  3. I just contacted customer support of my hosting. Server CAN handle concurrent requests"},{"owner":{"account_id":15010219,"reputation":55,"user_id":10834931,"display_name":"Darian Pudic"},"score":0,"creation_date":1680169972,"post_id":75884371,"comment_id":133853797,"body_markdown":"Regarding 4: I already started analysis how Retrofit would fit to my needs. I noticed that Retrofit requires REST API. I don&#39;t have endpoints on my server, I have only one script which I am targeting (https://gdedakliknem.com/klopator.php). Can I put this as base URL and also as endpoint in API interface (i.e. @POST(&quot;https://gdedakliknem.com/klopator.php/&quot;)?","body":"Regarding 4: I already started analysis how Retrofit would fit to my needs. I noticed that Retrofit requires REST API. I don&#39;t have endpoints on my server, I have only one script which I am targeting (<a href=\"https://gdedakliknem.com/klopator.php\" rel=\"nofollow noreferrer\">gdedakliknem.com/klopator.php</a>). Can I put this as base URL and also as endpoint in API interface (i.e. @POST(&quot;<a href=\"https://gdedakliknem.com/klopator.php/&quot;\" rel=\"nofollow noreferrer\">gdedakliknem.com/klopator.php/&quot;</a>)?"},{"owner":{"account_id":9120570,"reputation":437,"user_id":6786113,"display_name":"Sagar"},"score":0,"creation_date":1680183024,"post_id":75884371,"comment_id":133857405,"body_markdown":"I am not sure what your scripts are but I have used scripts like rest many times","body":"I am not sure what your scripts are but I have used scripts like rest many times"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1680334053,"post_id":75884371,"comment_id":133883907,"body_markdown":"@DarianPudic Note that 403 means &quot;Forbidden&quot;, not &quot;Authorization required&quot; (which is 401).","body":"@DarianPudic Note that 403 means &quot;Forbidden&quot;, not &quot;Authorization required&quot; (which is 401)."}],"tags":[],"owner":{"account_id":9120570,"reputation":437,"user_id":6786113,"display_name":"Sagar"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680153623,"creation_date":1680153623,"answer_id":75884371,"question_id":75861145,"body_markdown":"Please do the following steps and check if it&#39;s working for you\r\n1) Check if you are getting any timeout or network connectivity issues or server errors.\r\n2) Try to use RequestBody or MultiPartRequest.\r\n3) Check if your server can handle concurrent requests.\r\n4) There are better libraries than Volly for this kind of task eg. Retrofit,  for handling multiple file upload\r\n5) Also Check server logs for any errors.","title":"Volley throws AuthFailureError","body":"<p>Please do the following steps and check if it's working for you</p>\n<ol>\n<li>Check if you are getting any timeout or network connectivity issues or server errors.</li>\n<li>Try to use RequestBody or MultiPartRequest.</li>\n<li>Check if your server can handle concurrent requests.</li>\n<li>There are better libraries than Volly for this kind of task eg. Retrofit,  for handling multiple file upload</li>\n<li>Also Check server logs for any errors.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15010219,"reputation":55,"user_id":10834931,"display_name":"Darian Pudic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680511755,"creation_date":1680511755,"answer_id":75917602,"question_id":75861145,"body_markdown":"Thanks everyone for answers. The problem was in ModSecurity, an Apache module that works as a web application firewall. I contacted hosting provider and they told be that was the issue.\r\n\r\nIf you are experiencing the same issue, check your server logs and provide them to your hosting provider to investigate if this is your issue. ","title":"Volley throws AuthFailureError","body":"<p>Thanks everyone for answers. The problem was in ModSecurity, an Apache module that works as a web application firewall. I contacted hosting provider and they told be that was the issue.</p>\n<p>If you are experiencing the same issue, check your server logs and provide them to your hosting provider to investigate if this is your issue.</p>\n"}],"owner":{"account_id":15010219,"reputation":55,"user_id":10834931,"display_name":"Darian Pudic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75917602,"answer_count":2,"score":0,"last_activity_date":1680511755,"creation_date":1679959019,"question_id":75861145,"body_markdown":"I am using Volley to upload pictures from Android application to server. In case when I have more than 3 pictures for upload, Volley throws AuthFailureError, even though I don&#39;t use any kind of authentication. For each picture, I am using separate request, which is sent when I receive response for previous one. Here is a code. Does anyone know what is the problem? Or shall I simply switch to Retrofit? Thanks!\r\n\r\n    private void sendRequest(String control){\r\n\r\n        Toast.makeText(MainReviewActivity.this, control, Toast.LENGTH_LONG).show();\r\n\r\n        //Toast.makeText(AfterLoginActivity.this, control, Toast.LENGTH_LONG).show();\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, UploadUrl, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                try {\r\n                    waiting_search_results = 0;\r\n                    JSONObject jsonObject = new JSONObject(response);\r\n                    String Response = jsonObject.getString(&quot;response&quot;);\r\n                    if (control.equals(&quot;review_page_restaurant_search&quot;) || control.equals(&quot;review_page_meal_search&quot;)){\r\n                        prepareSearchResultDataFromServer(control, Response);\r\n                    } else{\r\n                        if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                            if (Response.equals(&quot;Success&quot;)){\r\n                                // check if there are pics to send\r\n                                Log.d(&quot;debug:&quot;, &quot;Perform review - positive resp received&quot;);\r\n                                enablePicSending = 1;\r\n                            } else{\r\n                                loadingDialog.dismissDialog();\r\n                                Toast.makeText(MainReviewActivity.this, &quot;Greška u slanju ocene, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        } else{\r\n                            // control equals &quot;review_page_upload_pic&quot;\r\n                            Log.d(&quot;debug:&quot;, &quot;Uploading pic - resp received&quot;);\r\n                            waitingPicSendingResp = 0;\r\n                        }\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(final VolleyError error) {\r\n                loadingDialog.dismissDialog();\r\n                Log.d(&quot;debug:&quot;, &quot;Error occurred: &quot; + error);\r\n                //Bundle bundle = new Bundle();\r\n                //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\r\n                //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Volley failed during: &quot; + control + &quot;, reason: &quot; + error);\r\n                //mFirebaseAnalytics.logEvent(&quot;Sending_failed&quot;, bundle);\r\n                Toast.makeText(MainReviewActivity.this, error.toString(), Toast.LENGTH_LONG).show();\r\n                if (control.equals(&quot;review_page_upload_pic&quot;)){\r\n                    Toast.makeText(MainReviewActivity.this, &quot;Slanje slika nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\r\n                } else{\r\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                        Toast.makeText(MainReviewActivity.this, &quot;Slanje ocene nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\r\n                    } else{\r\n                        Toast.makeText(MainReviewActivity.this, &quot;Greška u komunikaciji&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n                finish();\r\n            }\r\n        })\r\n\r\n        {\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n\r\n                params.put(&quot;control&quot;, control);\r\n                params.put(&quot;city&quot;, selectedCity);\r\n                if (control.equals(&quot;review_page_restaurant_search&quot;)){\r\n                    params.put(&quot;search_word&quot;, search_word);\r\n                } else{\r\n                    if (control.equals(&quot;review_page_meal_search&quot;)){\r\n                        params.put(&quot;search_word&quot;, search_word);\r\n                        params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                    } else{\r\n                        if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                            params.put(&quot;reviewer_pic&quot;, reviewer_pic);\r\n                            params.put(&quot;reviewer_name&quot;, person_name);\r\n                            params.put(&quot;reviewer_nick&quot;, reviewer_nick);\r\n                            params.put(&quot;review_date&quot;, date);\r\n                            params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                            params.put(&quot;ambient&quot;, ambientGrade);\r\n                            params.put(&quot;quick&quot;, quickGrade);\r\n                            params.put(&quot;ratio&quot;, ratioGrade);\r\n                            params.put(&quot;personnel&quot;, personnelGrade);\r\n                            params.put(&quot;restaurant_comment&quot;, restaurantComment);\r\n                            params.put(&quot;meal&quot;, selectedMeal);\r\n                            params.put(&quot;amount&quot;, amountGrade);\r\n                            params.put(&quot;taste&quot;, tasteGrade);\r\n                            params.put(&quot;price&quot;, priceGrade);\r\n                            params.put(&quot;meal_comment&quot;, mealComment);\r\n                        } else{\r\n                            if (control.equals(&quot;review_page_upload_pic&quot;)){\r\n                                Log.d(&quot;debug:&quot;, &quot;Triggering pic sending: &quot; + picType);\r\n                                Log.d(&quot;debug:&quot;, &quot;Restaurant: &quot; + selectedRestaurant);\r\n                                Log.d(&quot;debug:&quot;, &quot;Meal: &quot; + selectedMeal);\r\n                                //Bundle bundle = new Bundle();\r\n                                //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\r\n                                //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Triggering pic sending: &quot; + picType + &quot;, restaurant: &quot; + selectedRestaurant + &quot;, meal: &quot; + selectedMeal);\r\n                                //mFirebaseAnalytics.logEvent(&quot;Pic_sending&quot;, bundle);\r\n                                params.put(&quot;type&quot;, picType);\r\n                                params.put(&quot;pic&quot;, pic);\r\n                                params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                                params.put(&quot;meal&quot;, selectedMeal);\r\n                            } else{\r\n                                // should not happen\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return params;\r\n            }\r\n\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                headers.put(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n\r\n                return headers;\r\n            }\r\n\r\n            @Override\r\n            public String getBodyContentType() {\r\n                return &quot;application/x-www-form-urlencoded&quot;;\r\n            }\r\n        };\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(MainReviewActivity.this);\r\n        requestQueue.add(stringRequest);\r\n    }\r\n\r\n**EDIT**\r\nI read more about `Authentication failure` and I noticed in documentation that when that happens, server shall provide `WWW-Authenticate` response header, so I tried to read it with `parseNetworkResponse` function. In the moment of Toasting (i.e. the moment after parsing the latest network response), my observations are following: `WWW-Authenticate` header is missing, some pictures are not uploaded to server, server provided response 200, but Volley called onErrorResponse method (from which I am Toasting). How is it possible to receive response 200, but AuthFailureError is detected in OnErrorResponse method? New code, with parsing network response and debug Toasts:\r\n\r\n    private void sendRequest(String control){\r\n\r\n        //Toast.makeText(MainReviewActivity.this, control, Toast.LENGTH_LONG).show();\r\n\r\n        //Toast.makeText(AfterLoginActivity.this, control, Toast.LENGTH_LONG).show();\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, UploadUrl, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                try {\r\n                    waiting_search_results = 0;\r\n                    JSONObject jsonObject = new JSONObject(response);\r\n                    String Response = jsonObject.getString(&quot;response&quot;);\r\n                    if (control.equals(&quot;review_page_restaurant_search&quot;) || control.equals(&quot;review_page_meal_search&quot;)){\r\n                        prepareSearchResultDataFromServer(control, Response);\r\n                    } else{\r\n                        if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                            if (Response.equals(&quot;Success&quot;)){\r\n                                // check if there are pics to send\r\n                                Log.d(&quot;debug:&quot;, &quot;Perform review - positive resp received&quot;);\r\n                                enablePicSending = 1;\r\n                            } else{\r\n                                loadingDialog.dismissDialog();\r\n                                Toast.makeText(MainReviewActivity.this, &quot;Greška u slanju ocene, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        } else{\r\n                            // control equals &quot;review_page_upload_pic&quot;\r\n                            success_count++;\r\n                            //Toast.makeText(MainReviewActivity.this, Response, Toast.LENGTH_LONG).show();\r\n                            Log.d(&quot;debug:&quot;, &quot;Uploading pic - resp received&quot;);\r\n                            waitingPicSendingResp = 0;\r\n                        }\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(final VolleyError error) {\r\n                loadingDialog.dismissDialog();\r\n                Log.d(&quot;debug:&quot;, &quot;Error occurred: &quot; + error);\r\n                error_count++;\r\n                Toast.makeText(MainReviewActivity.this, &quot;Parse count: &quot; + String.valueOf(parse_count), Toast.LENGTH_LONG).show();\r\n                Toast.makeText(MainReviewActivity.this, &quot;Error count: &quot; + String.valueOf(error_count), Toast.LENGTH_LONG).show();\r\n                Toast.makeText(MainReviewActivity.this, &quot;Success count: &quot; + String.valueOf(success_count), Toast.LENGTH_LONG).show();\r\n                for (int i = 0; i &lt; names.length; i++){\r\n                    Toast.makeText(MainReviewActivity.this, &quot;Name: &quot; + names[i] + &quot; Value: &quot; + values[i], Toast.LENGTH_LONG).show();\r\n                }\r\n                //Toast.makeText(MainReviewActivity.this, &quot;Success: &quot; + String.valueOf(success_count) + &quot; Error: &quot; + String.valueOf(error_count) + &quot;Parse: &quot; + String.valueOf(parse_count), Toast.LENGTH_LONG).show();\r\n                //Toast.makeText(MainReviewActivity.this, error.getCause().toString(), Toast.LENGTH_LONG).show();\r\n                //Toast.makeText(MainReviewActivity.this, error.getCause().getMessage(), Toast.LENGTH_LONG).show();\r\n                //Toast.makeText(MainReviewActivity.this, error.getLocalizedMessage(), Toast.LENGTH_LONG).show();\r\n                //Bundle bundle = new Bundle();\r\n                //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\r\n                //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Volley failed during: &quot; + control + &quot;, reason: &quot; + error);\r\n                //mFirebaseAnalytics.logEvent(&quot;Sending_failed&quot;, bundle);\r\n                //Toast.makeText(MainReviewActivity.this, error.toString(), Toast.LENGTH_LONG).show();\r\n                if (control.equals(&quot;review_page_upload_pic&quot;)){\r\n                    Toast.makeText(MainReviewActivity.this, &quot;Slanje pojedinih slika nije uspelo, ali je ocena poslata uspešno&quot;, Toast.LENGTH_LONG).show();\r\n                } else{\r\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                        Toast.makeText(MainReviewActivity.this, &quot;Slanje ocene nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\r\n                    } else{\r\n                        Toast.makeText(MainReviewActivity.this, &quot;Greška u komunikaciji&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n                finish();\r\n            }\r\n        })\r\n\r\n        {\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n\r\n                params.put(&quot;control&quot;, control);\r\n                params.put(&quot;city&quot;, selectedCity);\r\n                if (control.equals(&quot;review_page_restaurant_search&quot;)){\r\n                    params.put(&quot;search_word&quot;, search_word);\r\n                } else{\r\n                    if (control.equals(&quot;review_page_meal_search&quot;)){\r\n                        params.put(&quot;search_word&quot;, search_word);\r\n                        params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                    } else{\r\n                        if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                            params.put(&quot;reviewer_pic&quot;, reviewer_pic);\r\n                            params.put(&quot;reviewer_name&quot;, person_name);\r\n                            params.put(&quot;reviewer_nick&quot;, reviewer_nick);\r\n                            params.put(&quot;review_date&quot;, date);\r\n                            params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                            params.put(&quot;ambient&quot;, ambientGrade);\r\n                            params.put(&quot;quick&quot;, quickGrade);\r\n                            params.put(&quot;ratio&quot;, ratioGrade);\r\n                            params.put(&quot;personnel&quot;, personnelGrade);\r\n                            params.put(&quot;restaurant_comment&quot;, restaurantComment);\r\n                            params.put(&quot;meal&quot;, selectedMeal);\r\n                            params.put(&quot;amount&quot;, amountGrade);\r\n                            params.put(&quot;taste&quot;, tasteGrade);\r\n                            params.put(&quot;price&quot;, priceGrade);\r\n                            params.put(&quot;meal_comment&quot;, mealComment);\r\n                        } else{\r\n                            if (control.equals(&quot;review_page_upload_pic&quot;)){\r\n                                Log.d(&quot;debug:&quot;, &quot;Triggering pic sending: &quot; + picType);\r\n                                Log.d(&quot;debug:&quot;, &quot;Restaurant: &quot; + selectedRestaurant);\r\n                                Log.d(&quot;debug:&quot;, &quot;Meal: &quot; + selectedMeal);\r\n                                //Bundle bundle = new Bundle();\r\n                                //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\r\n                                //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Triggering pic sending: &quot; + picType + &quot;, restaurant: &quot; + selectedRestaurant + &quot;, meal: &quot; + selectedMeal);\r\n                                //mFirebaseAnalytics.logEvent(&quot;Pic_sending&quot;, bundle);\r\n                                params.put(&quot;type&quot;, picType);\r\n                                params.put(&quot;pic&quot;, pic);\r\n                                params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                                params.put(&quot;meal&quot;, selectedMeal);\r\n                            } else{\r\n                                // should not happen\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return params;\r\n            }\r\n\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                headers.put(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n                headers.put(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n                return headers;\r\n            }\r\n\r\n            @Override\r\n            public String getBodyContentType()\r\n            {\r\n                return &quot;application/x-www-form-urlencoded&quot;;\r\n            }\r\n\r\n            @Override\r\n            protected Response&lt;String&gt; parseNetworkResponse(NetworkResponse response) {\r\n\r\n                parse_count++;\r\n\r\n                names = new String[response.allHeaders.size()];\r\n                values = new String[response.allHeaders.size()];\r\n\r\n                for (int i = 0; i &lt; response.allHeaders.size(); i++){\r\n                    names[i] = response.allHeaders.get(i).getName();\r\n                    values[i] = response.allHeaders.get(i).getValue();\r\n                    Log.d(&quot;debug:&quot;, &quot;parse_count&quot; + parse_count);\r\n                    Log.d(&quot;debug:&quot;, &quot;names&quot; + i + &quot;: &quot; + names[i]);\r\n                    Log.d(&quot;debug:&quot;, &quot;values&quot; + i + &quot;: &quot; + values[i]);\r\n                }\r\n\r\n                return super.parseNetworkResponse(response);\r\n            }\r\n        };\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(MainReviewActivity.this);\r\n        requestQueue.add(stringRequest);\r\n    }","title":"Volley throws AuthFailureError","body":"<p>I am using Volley to upload pictures from Android application to server. In case when I have more than 3 pictures for upload, Volley throws AuthFailureError, even though I don't use any kind of authentication. For each picture, I am using separate request, which is sent when I receive response for previous one. Here is a code. Does anyone know what is the problem? Or shall I simply switch to Retrofit? Thanks!</p>\n<pre><code>private void sendRequest(String control){\n\n    Toast.makeText(MainReviewActivity.this, control, Toast.LENGTH_LONG).show();\n\n    //Toast.makeText(AfterLoginActivity.this, control, Toast.LENGTH_LONG).show();\n\n    StringRequest stringRequest = new StringRequest(Request.Method.POST, UploadUrl, new Response.Listener&lt;String&gt;() {\n        @Override\n        public void onResponse(String response) {\n            try {\n                waiting_search_results = 0;\n                JSONObject jsonObject = new JSONObject(response);\n                String Response = jsonObject.getString(&quot;response&quot;);\n                if (control.equals(&quot;review_page_restaurant_search&quot;) || control.equals(&quot;review_page_meal_search&quot;)){\n                    prepareSearchResultDataFromServer(control, Response);\n                } else{\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\n                        if (Response.equals(&quot;Success&quot;)){\n                            // check if there are pics to send\n                            Log.d(&quot;debug:&quot;, &quot;Perform review - positive resp received&quot;);\n                            enablePicSending = 1;\n                        } else{\n                            loadingDialog.dismissDialog();\n                            Toast.makeText(MainReviewActivity.this, &quot;Greška u slanju ocene, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    } else{\n                        // control equals &quot;review_page_upload_pic&quot;\n                        Log.d(&quot;debug:&quot;, &quot;Uploading pic - resp received&quot;);\n                        waitingPicSendingResp = 0;\n                    }\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(final VolleyError error) {\n            loadingDialog.dismissDialog();\n            Log.d(&quot;debug:&quot;, &quot;Error occurred: &quot; + error);\n            //Bundle bundle = new Bundle();\n            //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\n            //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Volley failed during: &quot; + control + &quot;, reason: &quot; + error);\n            //mFirebaseAnalytics.logEvent(&quot;Sending_failed&quot;, bundle);\n            Toast.makeText(MainReviewActivity.this, error.toString(), Toast.LENGTH_LONG).show();\n            if (control.equals(&quot;review_page_upload_pic&quot;)){\n                Toast.makeText(MainReviewActivity.this, &quot;Slanje slika nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\n            } else{\n                if (control.equals(&quot;review_page_perform_review&quot;)){\n                    Toast.makeText(MainReviewActivity.this, &quot;Slanje ocene nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\n                } else{\n                    Toast.makeText(MainReviewActivity.this, &quot;Greška u komunikaciji&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n            finish();\n        }\n    })\n\n    {\n        @Override\n        protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n\n            params.put(&quot;control&quot;, control);\n            params.put(&quot;city&quot;, selectedCity);\n            if (control.equals(&quot;review_page_restaurant_search&quot;)){\n                params.put(&quot;search_word&quot;, search_word);\n            } else{\n                if (control.equals(&quot;review_page_meal_search&quot;)){\n                    params.put(&quot;search_word&quot;, search_word);\n                    params.put(&quot;restaurant&quot;, selectedRestaurant);\n                } else{\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\n                        params.put(&quot;reviewer_pic&quot;, reviewer_pic);\n                        params.put(&quot;reviewer_name&quot;, person_name);\n                        params.put(&quot;reviewer_nick&quot;, reviewer_nick);\n                        params.put(&quot;review_date&quot;, date);\n                        params.put(&quot;restaurant&quot;, selectedRestaurant);\n                        params.put(&quot;ambient&quot;, ambientGrade);\n                        params.put(&quot;quick&quot;, quickGrade);\n                        params.put(&quot;ratio&quot;, ratioGrade);\n                        params.put(&quot;personnel&quot;, personnelGrade);\n                        params.put(&quot;restaurant_comment&quot;, restaurantComment);\n                        params.put(&quot;meal&quot;, selectedMeal);\n                        params.put(&quot;amount&quot;, amountGrade);\n                        params.put(&quot;taste&quot;, tasteGrade);\n                        params.put(&quot;price&quot;, priceGrade);\n                        params.put(&quot;meal_comment&quot;, mealComment);\n                    } else{\n                        if (control.equals(&quot;review_page_upload_pic&quot;)){\n                            Log.d(&quot;debug:&quot;, &quot;Triggering pic sending: &quot; + picType);\n                            Log.d(&quot;debug:&quot;, &quot;Restaurant: &quot; + selectedRestaurant);\n                            Log.d(&quot;debug:&quot;, &quot;Meal: &quot; + selectedMeal);\n                            //Bundle bundle = new Bundle();\n                            //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\n                            //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Triggering pic sending: &quot; + picType + &quot;, restaurant: &quot; + selectedRestaurant + &quot;, meal: &quot; + selectedMeal);\n                            //mFirebaseAnalytics.logEvent(&quot;Pic_sending&quot;, bundle);\n                            params.put(&quot;type&quot;, picType);\n                            params.put(&quot;pic&quot;, pic);\n                            params.put(&quot;restaurant&quot;, selectedRestaurant);\n                            params.put(&quot;meal&quot;, selectedMeal);\n                        } else{\n                            // should not happen\n                        }\n                    }\n                }\n            }\n\n            return params;\n        }\n\n        @Override\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n            HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n            headers.put(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\n\n            return headers;\n        }\n\n        @Override\n        public String getBodyContentType() {\n            return &quot;application/x-www-form-urlencoded&quot;;\n        }\n    };\n\n    RequestQueue requestQueue = Volley.newRequestQueue(MainReviewActivity.this);\n    requestQueue.add(stringRequest);\n}\n</code></pre>\n<p><strong>EDIT</strong>\nI read more about <code>Authentication failure</code> and I noticed in documentation that when that happens, server shall provide <code>WWW-Authenticate</code> response header, so I tried to read it with <code>parseNetworkResponse</code> function. In the moment of Toasting (i.e. the moment after parsing the latest network response), my observations are following: <code>WWW-Authenticate</code> header is missing, some pictures are not uploaded to server, server provided response 200, but Volley called onErrorResponse method (from which I am Toasting). How is it possible to receive response 200, but AuthFailureError is detected in OnErrorResponse method? New code, with parsing network response and debug Toasts:</p>\n<pre><code>private void sendRequest(String control){\n\n    //Toast.makeText(MainReviewActivity.this, control, Toast.LENGTH_LONG).show();\n\n    //Toast.makeText(AfterLoginActivity.this, control, Toast.LENGTH_LONG).show();\n\n    StringRequest stringRequest = new StringRequest(Request.Method.POST, UploadUrl, new Response.Listener&lt;String&gt;() {\n        @Override\n        public void onResponse(String response) {\n            try {\n                waiting_search_results = 0;\n                JSONObject jsonObject = new JSONObject(response);\n                String Response = jsonObject.getString(&quot;response&quot;);\n                if (control.equals(&quot;review_page_restaurant_search&quot;) || control.equals(&quot;review_page_meal_search&quot;)){\n                    prepareSearchResultDataFromServer(control, Response);\n                } else{\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\n                        if (Response.equals(&quot;Success&quot;)){\n                            // check if there are pics to send\n                            Log.d(&quot;debug:&quot;, &quot;Perform review - positive resp received&quot;);\n                            enablePicSending = 1;\n                        } else{\n                            loadingDialog.dismissDialog();\n                            Toast.makeText(MainReviewActivity.this, &quot;Greška u slanju ocene, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    } else{\n                        // control equals &quot;review_page_upload_pic&quot;\n                        success_count++;\n                        //Toast.makeText(MainReviewActivity.this, Response, Toast.LENGTH_LONG).show();\n                        Log.d(&quot;debug:&quot;, &quot;Uploading pic - resp received&quot;);\n                        waitingPicSendingResp = 0;\n                    }\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(final VolleyError error) {\n            loadingDialog.dismissDialog();\n            Log.d(&quot;debug:&quot;, &quot;Error occurred: &quot; + error);\n            error_count++;\n            Toast.makeText(MainReviewActivity.this, &quot;Parse count: &quot; + String.valueOf(parse_count), Toast.LENGTH_LONG).show();\n            Toast.makeText(MainReviewActivity.this, &quot;Error count: &quot; + String.valueOf(error_count), Toast.LENGTH_LONG).show();\n            Toast.makeText(MainReviewActivity.this, &quot;Success count: &quot; + String.valueOf(success_count), Toast.LENGTH_LONG).show();\n            for (int i = 0; i &lt; names.length; i++){\n                Toast.makeText(MainReviewActivity.this, &quot;Name: &quot; + names[i] + &quot; Value: &quot; + values[i], Toast.LENGTH_LONG).show();\n            }\n            //Toast.makeText(MainReviewActivity.this, &quot;Success: &quot; + String.valueOf(success_count) + &quot; Error: &quot; + String.valueOf(error_count) + &quot;Parse: &quot; + String.valueOf(parse_count), Toast.LENGTH_LONG).show();\n            //Toast.makeText(MainReviewActivity.this, error.getCause().toString(), Toast.LENGTH_LONG).show();\n            //Toast.makeText(MainReviewActivity.this, error.getCause().getMessage(), Toast.LENGTH_LONG).show();\n            //Toast.makeText(MainReviewActivity.this, error.getLocalizedMessage(), Toast.LENGTH_LONG).show();\n            //Bundle bundle = new Bundle();\n            //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\n            //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Volley failed during: &quot; + control + &quot;, reason: &quot; + error);\n            //mFirebaseAnalytics.logEvent(&quot;Sending_failed&quot;, bundle);\n            //Toast.makeText(MainReviewActivity.this, error.toString(), Toast.LENGTH_LONG).show();\n            if (control.equals(&quot;review_page_upload_pic&quot;)){\n                Toast.makeText(MainReviewActivity.this, &quot;Slanje pojedinih slika nije uspelo, ali je ocena poslata uspešno&quot;, Toast.LENGTH_LONG).show();\n            } else{\n                if (control.equals(&quot;review_page_perform_review&quot;)){\n                    Toast.makeText(MainReviewActivity.this, &quot;Slanje ocene nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\n                } else{\n                    Toast.makeText(MainReviewActivity.this, &quot;Greška u komunikaciji&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n            finish();\n        }\n    })\n\n    {\n        @Override\n        protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n\n            params.put(&quot;control&quot;, control);\n            params.put(&quot;city&quot;, selectedCity);\n            if (control.equals(&quot;review_page_restaurant_search&quot;)){\n                params.put(&quot;search_word&quot;, search_word);\n            } else{\n                if (control.equals(&quot;review_page_meal_search&quot;)){\n                    params.put(&quot;search_word&quot;, search_word);\n                    params.put(&quot;restaurant&quot;, selectedRestaurant);\n                } else{\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\n                        params.put(&quot;reviewer_pic&quot;, reviewer_pic);\n                        params.put(&quot;reviewer_name&quot;, person_name);\n                        params.put(&quot;reviewer_nick&quot;, reviewer_nick);\n                        params.put(&quot;review_date&quot;, date);\n                        params.put(&quot;restaurant&quot;, selectedRestaurant);\n                        params.put(&quot;ambient&quot;, ambientGrade);\n                        params.put(&quot;quick&quot;, quickGrade);\n                        params.put(&quot;ratio&quot;, ratioGrade);\n                        params.put(&quot;personnel&quot;, personnelGrade);\n                        params.put(&quot;restaurant_comment&quot;, restaurantComment);\n                        params.put(&quot;meal&quot;, selectedMeal);\n                        params.put(&quot;amount&quot;, amountGrade);\n                        params.put(&quot;taste&quot;, tasteGrade);\n                        params.put(&quot;price&quot;, priceGrade);\n                        params.put(&quot;meal_comment&quot;, mealComment);\n                    } else{\n                        if (control.equals(&quot;review_page_upload_pic&quot;)){\n                            Log.d(&quot;debug:&quot;, &quot;Triggering pic sending: &quot; + picType);\n                            Log.d(&quot;debug:&quot;, &quot;Restaurant: &quot; + selectedRestaurant);\n                            Log.d(&quot;debug:&quot;, &quot;Meal: &quot; + selectedMeal);\n                            //Bundle bundle = new Bundle();\n                            //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\n                            //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Triggering pic sending: &quot; + picType + &quot;, restaurant: &quot; + selectedRestaurant + &quot;, meal: &quot; + selectedMeal);\n                            //mFirebaseAnalytics.logEvent(&quot;Pic_sending&quot;, bundle);\n                            params.put(&quot;type&quot;, picType);\n                            params.put(&quot;pic&quot;, pic);\n                            params.put(&quot;restaurant&quot;, selectedRestaurant);\n                            params.put(&quot;meal&quot;, selectedMeal);\n                        } else{\n                            // should not happen\n                        }\n                    }\n                }\n            }\n\n            return params;\n        }\n\n        @Override\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n            HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n            headers.put(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\n            headers.put(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n            return headers;\n        }\n\n        @Override\n        public String getBodyContentType()\n        {\n            return &quot;application/x-www-form-urlencoded&quot;;\n        }\n\n        @Override\n        protected Response&lt;String&gt; parseNetworkResponse(NetworkResponse response) {\n\n            parse_count++;\n\n            names = new String[response.allHeaders.size()];\n            values = new String[response.allHeaders.size()];\n\n            for (int i = 0; i &lt; response.allHeaders.size(); i++){\n                names[i] = response.allHeaders.get(i).getName();\n                values[i] = response.allHeaders.get(i).getValue();\n                Log.d(&quot;debug:&quot;, &quot;parse_count&quot; + parse_count);\n                Log.d(&quot;debug:&quot;, &quot;names&quot; + i + &quot;: &quot; + names[i]);\n                Log.d(&quot;debug:&quot;, &quot;values&quot; + i + &quot;: &quot; + values[i]);\n            }\n\n            return super.parseNetworkResponse(response);\n        }\n    };\n\n    RequestQueue requestQueue = Volley.newRequestQueue(MainReviewActivity.this);\n    requestQueue.add(stringRequest);\n}\n</code></pre>\n"},{"tags":["java","soap","wsdl","cxf"],"owner":{"account_id":9928788,"reputation":67,"user_id":7349475,"display_name":"George Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680511701,"creation_date":1680511701,"question_id":75917591,"body_markdown":"The proxy, stub code (the auto generated client and server code) when using WSDL first approach and using Apache CXF libraries have entries as follows in one of the auto generated class (highlighted one class as an example)\r\n\r\nThe below auto generated class AdviceType  is in package \r\noasis.names.tc.saml._1_0.assertion;\r\n\r\nAn extract from the class is as follows\r\n```\r\npackage oasis.names.tc.saml._1_0.assertion;\r\n//...\r\npublic class AdviceType {\r\n\r\n    @XmlElementRefs({\r\n        @XmlElementRef(name = &quot;AssertionIDReference&quot;, namespace = &quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;, type = JAXBElement.class, required = false),\r\n        @XmlElementRef(name = &quot;Assertion&quot;, namespace = &quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;, type = JAXBElement.class, required = false)\r\n    })\r\n//.......\r\n```\r\nIf I change the package from **oasis.names.tc.saml._1_0.assertion** to  **com.mycompany.cxf.common.saml10** and for the auto generated class, will it affect any functionality? The reason I ask is that @XmlElementRef has a namespsace argument and I am not sure it has any relation to package name.\r\n\r\nThe WSDL file I use is a legacy SPML based one which has couple of xsd files referenced.\r\nExtract from the saml specific .xsd file used by wsdl\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;schema targetNamespace=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot; xmlns=http://www.w3.org/2001/XMLSchema xmlns:saml=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot; xmlns:ds=http://www.w3.org/2000/09/xmldsig# elementFormDefault=&quot;unqualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;1.1&quot;&gt;\r\n              &lt;import namespace=http://www.w3.org/2000/09/xmldsig# schemaLocation=&quot;xmldsig-core-schema.xsd&quot;/&gt; \r\n```\r\n\r\n","title":"Query on namespace and auto generated package","body":"<p>The proxy, stub code (the auto generated client and server code) when using WSDL first approach and using Apache CXF libraries have entries as follows in one of the auto generated class (highlighted one class as an example)</p>\n<p>The below auto generated class AdviceType  is in package\noasis.names.tc.saml._1_0.assertion;</p>\n<p>An extract from the class is as follows</p>\n<pre><code>package oasis.names.tc.saml._1_0.assertion;\n//...\npublic class AdviceType {\n\n    @XmlElementRefs({\n        @XmlElementRef(name = &quot;AssertionIDReference&quot;, namespace = &quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;, type = JAXBElement.class, required = false),\n        @XmlElementRef(name = &quot;Assertion&quot;, namespace = &quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;, type = JAXBElement.class, required = false)\n    })\n//.......\n</code></pre>\n<p>If I change the package from <strong>oasis.names.tc.saml._1_0.assertion</strong> to  <strong>com.mycompany.cxf.common.saml10</strong> and for the auto generated class, will it affect any functionality? The reason I ask is that @XmlElementRef has a namespsace argument and I am not sure it has any relation to package name.</p>\n<p>The WSDL file I use is a legacy SPML based one which has couple of xsd files referenced.\nExtract from the saml specific .xsd file used by wsdl</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;schema targetNamespace=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot; xmlns=http://www.w3.org/2001/XMLSchema xmlns:saml=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot; xmlns:ds=http://www.w3.org/2000/09/xmldsig# elementFormDefault=&quot;unqualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;1.1&quot;&gt;\n              &lt;import namespace=http://www.w3.org/2000/09/xmldsig# schemaLocation=&quot;xmldsig-core-schema.xsd&quot;/&gt; \n</code></pre>\n"},{"tags":["java","spring-boot","jenkins","redis"],"owner":{"account_id":25341942,"reputation":1,"user_id":19160221,"display_name":"Sahal Ghafur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680511624,"creation_date":1680511624,"question_id":75917575,"body_markdown":"I&#39;ve been trying to setup Redis Configuration on my spring boot project. It runs fine on my local but fails on Jenkins. There are 5 integration tests which use Redis and they are the one&#39;s which are failing with the following error\r\n\r\n`{&quot;status&quot;:500,&quot;error&quot;:&quot;org.springframework.data.redis.RedisConnectionFailureException&quot;,&quot;message&quot;:&quot;Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379&quot;}`\r\n\r\n\r\nRedisConfiguration.java\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class RedisConfig {\r\n    private RedisProperties redisProperties;\r\n    private RedisClient redisClient;\r\n    private StatefulRedisConnection&lt;String, String&gt; connection;\r\n    @Bean\r\n    public RedisCommands&lt;String,String&gt; connectionFactory() {\r\n        RedisURI redisURI = RedisURI.builder().withHost(redisProperties.getHost()).withPort(redisProperties.getPort()).build();\r\n        redisClient = RedisClient.create(redisURI);\r\n        StatefulRedisConnection&lt;String, String&gt; connection = redisClient.connect();\r\n        System.out.println(&quot;Connected to Redis&quot;);\r\n        return connection.sync();\r\n    }\r\n\r\n    public RedisClusterCommands&lt;String, String&gt; getCommands() {\r\n        return connection.sync();\r\n    }\r\n    public void close() {\r\n        connection.close();\r\n        redisClient.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nWhat&#39;s weird is when I write the below configuration\r\n\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class RedisClusterConfig {\r\n    @Value(&quot;${spring.data.redis.host}&quot;)\r\n    private String redisHostname;\r\n    @Value(&quot;${spring.data.redis.port}&quot;)\r\n    private int redisPort;\r\n    private RedisClusterClient redisClient;\r\n    private StatefulRedisClusterConnection&lt;String, String&gt; connection;\r\n    @Bean\r\n    public RedisAdvancedClusterCommands&lt;String,String&gt; connectionFactory() {\r\n        RedisURI redisURI = RedisURI.builder().withHost(redisHostname).withPort(redisPort).build();\r\n        redisClient = RedisClusterClient.create(redisURI);\r\n        StatefulRedisClusterConnection&lt;String, String&gt; connection = redisClient.connect();\r\n        System.out.println(&quot;Connected to Redis&quot;);\r\n        return connection.sync();\r\n    }\r\n\r\n    public RedisClusterCommands&lt;String, String&gt; getCommands() {\r\n        return connection.sync();\r\n    }\r\n    public void close() {\r\n        connection.close();\r\n        redisClient.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nI get the following error\r\n\r\n`Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.lettuce.core.cluster.api.sync.RedisAdvancedClusterCommands]: Factory method &#39;connectionFactory&#39; threw exception; nested exception is io.lettuce.core.RedisException: Cannot retrieve initial cluster partitions from initial URIs [RedisURI [host=&#39;1d81a8ca99e5&#39;, port=6379]]`\r\n\r\nThe above host is the host that Jenkins sets during runtime. How do I fix this?\r\n\r\n\r\n\r\nI&#39;ve actually tried almost everything but whenever I set @Configuration for Redis, it fails on Jenkins. It passes easily without RedisConfiguration being set. But I do want to set the configuration so it can support Redis Cluster without setting it&#39;s nodes","title":"Spring Boot Test fails on Jenkins","body":"<p>I've been trying to setup Redis Configuration on my spring boot project. It runs fine on my local but fails on Jenkins. There are 5 integration tests which use Redis and they are the one's which are failing with the following error</p>\n<p><code>{&quot;status&quot;:500,&quot;error&quot;:&quot;org.springframework.data.redis.RedisConnectionFailureException&quot;,&quot;message&quot;:&quot;Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379&quot;}</code></p>\n<p>RedisConfiguration.java</p>\n<pre><code>@Configuration\n@Slf4j\npublic class RedisConfig {\n    private RedisProperties redisProperties;\n    private RedisClient redisClient;\n    private StatefulRedisConnection&lt;String, String&gt; connection;\n    @Bean\n    public RedisCommands&lt;String,String&gt; connectionFactory() {\n        RedisURI redisURI = RedisURI.builder().withHost(redisProperties.getHost()).withPort(redisProperties.getPort()).build();\n        redisClient = RedisClient.create(redisURI);\n        StatefulRedisConnection&lt;String, String&gt; connection = redisClient.connect();\n        System.out.println(&quot;Connected to Redis&quot;);\n        return connection.sync();\n    }\n\n    public RedisClusterCommands&lt;String, String&gt; getCommands() {\n        return connection.sync();\n    }\n    public void close() {\n        connection.close();\n        redisClient.shutdown();\n    }\n}\n</code></pre>\n<p>What's weird is when I write the below configuration</p>\n<pre><code>@Configuration\n@Slf4j\npublic class RedisClusterConfig {\n    @Value(&quot;${spring.data.redis.host}&quot;)\n    private String redisHostname;\n    @Value(&quot;${spring.data.redis.port}&quot;)\n    private int redisPort;\n    private RedisClusterClient redisClient;\n    private StatefulRedisClusterConnection&lt;String, String&gt; connection;\n    @Bean\n    public RedisAdvancedClusterCommands&lt;String,String&gt; connectionFactory() {\n        RedisURI redisURI = RedisURI.builder().withHost(redisHostname).withPort(redisPort).build();\n        redisClient = RedisClusterClient.create(redisURI);\n        StatefulRedisClusterConnection&lt;String, String&gt; connection = redisClient.connect();\n        System.out.println(&quot;Connected to Redis&quot;);\n        return connection.sync();\n    }\n\n    public RedisClusterCommands&lt;String, String&gt; getCommands() {\n        return connection.sync();\n    }\n    public void close() {\n        connection.close();\n        redisClient.shutdown();\n    }\n}\n</code></pre>\n<p>I get the following error</p>\n<p><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.lettuce.core.cluster.api.sync.RedisAdvancedClusterCommands]: Factory method 'connectionFactory' threw exception; nested exception is io.lettuce.core.RedisException: Cannot retrieve initial cluster partitions from initial URIs [RedisURI [host='1d81a8ca99e5', port=6379]]</code></p>\n<p>The above host is the host that Jenkins sets during runtime. How do I fix this?</p>\n<p>I've actually tried almost everything but whenever I set @Configuration for Redis, it fails on Jenkins. It passes easily without RedisConfiguration being set. But I do want to set the configuration so it can support Redis Cluster without setting it's nodes</p>\n"},{"tags":["java","classpath","java-11","java-module","java-platform-module-system"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1549905393,"post_id":54635667,"comment_id":96063758,"body_markdown":"Dp share what change have you made to the `ClassLoader` with which you&#39;re trying to patch the existing module.","body":"Dp share what change have you made to the <code>ClassLoader</code> with which you&#39;re trying to patch the existing module."},{"owner":{"account_id":6411226,"reputation":457,"user_id":4970931,"accept_rate":88,"display_name":"Haasip Satang"},"score":0,"creation_date":1549906339,"post_id":54635667,"comment_id":96064209,"body_markdown":"@nullpointer I tried various changes, originally I wanted to simply add a field and change something in loadClass. But I just figured that only having the class in the folder is enough already to get this error, no changes needed.","body":"@nullpointer I tried various changes, originally I wanted to simply add a field and change something in loadClass. But I just figured that only having the class in the folder is enough already to get this error, no changes needed."},{"owner":{"account_id":6411226,"reputation":457,"user_id":4970931,"accept_rate":88,"display_name":"Haasip Satang"},"score":0,"creation_date":1549969348,"post_id":54635667,"comment_id":96088253,"body_markdown":"@ZhekaKozlov Thanks for commenting but I believe you are talking about the former `java.endorsed.dirs` functionally, aren&#39;t you? I didn&#39;t read nowhere that patching java.base is not allowed. Matter of fact is it even works depending on the compiler being used as you can see from the description above. So I&#39;d appreciate if you could share some technical details or link to a spec confirming this &quot;you should not...&quot;.","body":"@ZhekaKozlov Thanks for commenting but I believe you are talking about the former <code>java.endorsed.dirs</code> functionally, aren&#39;t you? I didn&#39;t read nowhere that patching java.base is not allowed. Matter of fact is it even works depending on the compiler being used as you can see from the description above. So I&#39;d appreciate if you could share some technical details or link to a spec confirming this &quot;you should not...&quot;."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1549974196,"post_id":54635667,"comment_id":96091225,"body_markdown":"Sorry, forget what I said. `java.base` is indeed not an upgradeable module but this has nothing to do with patching. I confused these two unrelated things. You are allowed to patch `java.base` if you want.","body":"Sorry, forget what I said. <code>java.base</code> is indeed not an upgradeable module but this has nothing to do with patching. I confused these two unrelated things. You are allowed to patch <code>java.base</code> if you want."}],"answers":[{"comments":[{"owner":{"account_id":6411226,"reputation":457,"user_id":4970931,"accept_rate":88,"display_name":"Haasip Satang"},"score":0,"creation_date":1550003761,"post_id":54654523,"comment_id":96107995,"body_markdown":"Compiling with `-XDstringConcat=inline` works. I didn&#39;t think that was the only reason since I saw other `invokedynamic` instructions in `ClassLoader`. But as you pointed out they are not executed during bootstrapping and hence do not cause any issue. Thanks.","body":"Compiling with <code>-XDstringConcat=inline</code> works. I didn&#39;t think that was the only reason since I saw other <code>invokedynamic</code> instructions in <code>ClassLoader</code>. But as you pointed out they are not executed during bootstrapping and hence do not cause any issue. Thanks."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":3,"creation_date":1550013230,"post_id":54654523,"comment_id":96111626,"body_markdown":"Indeed, this flag seems to be added specifically for the java.base module (as well as a couple of other modules): http://hg.openjdk.java.net/jdk/jdk/file/fedc89081b57/make/CompileJavaModules.gmk#l41","body":"Indeed, this flag seems to be added specifically for the java.base module (as well as a couple of other modules): <a href=\"http://hg.openjdk.java.net/jdk/jdk/file/fedc89081b57/make/CompileJavaModules.gmk#l41\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk/jdk/file/fedc89081b57/make/&hellip;</a>"},{"owner":{"account_id":6411226,"reputation":457,"user_id":4970931,"accept_rate":88,"display_name":"Haasip Satang"},"score":0,"creation_date":1550015877,"post_id":54654523,"comment_id":96112294,"body_markdown":"@Holger: One more question related to patching: Which IDE do you use? Eclipse does not seem to have good support for patching modules yet (at least not when it comes to patching java.base). It shows errors like classes or fields cannot be resolved (but then compiles it anyway), code completion does not work when trying to access a new member added to a patched class from another patched class, etc. All up anyting but really usable yet IMHO.","body":"@Holger: One more question related to patching: Which IDE do you use? Eclipse does not seem to have good support for patching modules yet (at least not when it comes to patching java.base). It shows errors like classes or fields cannot be resolved (but then compiles it anyway), code completion does not work when trying to access a new member added to a patched class from another patched class, etc. All up anyting but really usable yet IMHO."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1550046701,"post_id":54654523,"comment_id":96121599,"body_markdown":"Unfortunately, I can not recommend any. I’m mostly using Eclipse with non-modular software. I’m also using Netbeans, but I’m not happy with its quality, especially since maintained by the Apache Foundation. I’m still hoping for a better future release, but perhaps, I’ll give IntelliJ a try. As said, at the moment, it’s not my main focus, so I can’t give a substantiated advice.","body":"Unfortunately, I can not recommend any. I’m mostly using Eclipse with non-modular software. I’m also using Netbeans, but I’m not happy with its quality, especially since maintained by the Apache Foundation. I’m still hoping for a better future release, but perhaps, I’ll give IntelliJ a try. As said, at the moment, it’s not my main focus, so I can’t give a substantiated advice."},{"owner":{"account_id":6411226,"reputation":457,"user_id":4970931,"accept_rate":88,"display_name":"Haasip Satang"},"score":0,"creation_date":1550095153,"post_id":54654523,"comment_id":96149077,"body_markdown":"@Holger ok, thanks. Same here, mainly Eclipse. But with modules (especially patches) it&#39;s still bad. Just opened a [bug](https://bugs.eclipse.org/bugs/show_bug.cgi?id=544424)","body":"@Holger ok, thanks. Same here, mainly Eclipse. But with modules (especially patches) it&#39;s still bad. Just opened a <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=544424\" rel=\"nofollow noreferrer\">bug</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1680512731,"post_id":54654523,"comment_id":133905131,"body_markdown":"@HaasipSatang There are some warts with eclipse &amp; patching &amp; launching, but for development it is fine. Make sure that: 1) The compiler doesn&#39;t use the --release option. 2) The project used to patch is used to patch the target module (Build Path -&gt; Module Dependencies -&gt; Patch with...) 3) does not contain the main method (eclipse doesn&#39;t like that). Create an extra project for the main.","body":"@HaasipSatang There are some warts with eclipse &amp; patching &amp; launching, but for development it is fine. Make sure that: 1) The compiler doesn&#39;t use the --release option. 2) The project used to patch is used to patch the target module (Build Path -&gt; Module Dependencies -&gt; Patch with...) 3) does not contain the main method (eclipse doesn&#39;t like that). Create an extra project for the main."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":6,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1549988676,"creation_date":1549988676,"answer_id":54654523,"question_id":54635667,"body_markdown":"You did already point into the right direction. It works when you compile the class with your current version of Eclipse, because that compiler does not follow [JEP 280] yet, so it doesn’t use `invokedynamic` for string concatenation.\r\n\r\nThis does not imply that using `invokedynamic` in `ClassLoader` is problematic in general. It is only problematic in certain critical code paths executed during the bootstrapping of the `java.lang.invoke` package and apparently, this class does use string concatenation on this code path.\r\n\r\nIn case of `javac`, you can force the use of the old string concatenation code via the option  \r\n`-XDstringConcat=inline`. Looking into the bytecode of the `ClassLoader.class` as shipped with the JDK, it seems this class has been compiled with this option. In fact, looking at some samples, it seems the entire `java.base` module has been compiled with that option, in contrast to, e.g. `java.desktop`, whose classes use `invokedynamic` for string concatenation.\r\n\r\nSo the conclusion is, to patch classes in the `java.base` module (in OpenJDK and derivatives), compile them using the  `-XDstringConcat=inline` option when using `javac`.\r\n\r\n[JEP 280]: http://openjdk.java.net/jeps/280","title":"Patching java.base results in java.lang.LinkageError","body":"<p>You did already point into the right direction. It works when you compile the class with your current version of Eclipse, because that compiler does not follow <a href=\"http://openjdk.java.net/jeps/280\" rel=\"noreferrer\">JEP 280</a> yet, so it doesn’t use <code>invokedynamic</code> for string concatenation.</p>\n\n<p>This does not imply that using <code>invokedynamic</code> in <code>ClassLoader</code> is problematic in general. It is only problematic in certain critical code paths executed during the bootstrapping of the <code>java.lang.invoke</code> package and apparently, this class does use string concatenation on this code path.</p>\n\n<p>In case of <code>javac</code>, you can force the use of the old string concatenation code via the option<br>\n<code>-XDstringConcat=inline</code>. Looking into the bytecode of the <code>ClassLoader.class</code> as shipped with the JDK, it seems this class has been compiled with this option. In fact, looking at some samples, it seems the entire <code>java.base</code> module has been compiled with that option, in contrast to, e.g. <code>java.desktop</code>, whose classes use <code>invokedynamic</code> for string concatenation.</p>\n\n<p>So the conclusion is, to patch classes in the <code>java.base</code> module (in OpenJDK and derivatives), compile them using the  <code>-XDstringConcat=inline</code> option when using <code>javac</code>.</p>\n"}],"owner":{"account_id":6411226,"reputation":457,"user_id":4970931,"accept_rate":88,"display_name":"Haasip Satang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54654523,"answer_count":1,"score":4,"last_activity_date":1680511499,"creation_date":1549904905,"question_id":54635667,"body_markdown":"I am trying to do the same thing in Java 11 that could be done with `-Xbootclasspath/p:path` in pre java 9. \r\n\r\nAs a simple example I modified one of the `valueOf` methods of `java.lang.Integer` and compiled the project with:\r\n\r\n`javac --module-source-path=src/java.base --patch-module java.base=src/java.base -d mods  $(find src -name &#39;*.java&#39;)`\r\n\r\nI then ran a simple sample using: \r\n\r\n`java --patch-module java.base=&lt;pathToMyModifiedJavaBaseClasses&gt; -p lib -m my.moduleA/my.moduleA.Main`\r\n\r\nThat worked an I&#39;m seeing the modifications displayed (a simple print out I did from `valueOf`). \r\n\r\nWhen I try, however, to do the same thing with `java.lang.ClassLoader` I get the following error when executing the program (compile works): \r\n\r\n`Error occurred during initialization of boot layer\r\njava.lang.LinkageError: loader &#39;bootstrap&#39; attempted duplicate class definition for java.lang.invoke.SimpleMethodHandle.`\r\n\r\nI do not even need to make changes in `java.lang.ClassLoader`. The sheer existence of that class in my patch folder seems to be provocing this error. (I only wanted to add a field though at the bottom of the class)\r\n\r\nNOTE: I just figured that it works when the `ClassLoader` class is compiled with Eclipse. One of the few differences I know is that the Eclipse compiler does not seem to follow [JEP 280][1] yet. But there are `invokedynamic` instructions in the bytecode resulting from `javac` as well, so I doubt that this is the problem. \r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/280","title":"Patching java.base results in java.lang.LinkageError","body":"<p>I am trying to do the same thing in Java 11 that could be done with <code>-Xbootclasspath/p:path</code> in pre java 9. </p>\n\n<p>As a simple example I modified one of the <code>valueOf</code> methods of <code>java.lang.Integer</code> and compiled the project with:</p>\n\n<p><code>javac --module-source-path=src/java.base --patch-module java.base=src/java.base -d mods  $(find src -name '*.java')</code></p>\n\n<p>I then ran a simple sample using: </p>\n\n<p><code>java --patch-module java.base=&lt;pathToMyModifiedJavaBaseClasses&gt; -p lib -m my.moduleA/my.moduleA.Main</code></p>\n\n<p>That worked an I'm seeing the modifications displayed (a simple print out I did from <code>valueOf</code>). </p>\n\n<p>When I try, however, to do the same thing with <code>java.lang.ClassLoader</code> I get the following error when executing the program (compile works): </p>\n\n<p><code>Error occurred during initialization of boot layer\njava.lang.LinkageError: loader 'bootstrap' attempted duplicate class definition for java.lang.invoke.SimpleMethodHandle.</code></p>\n\n<p>I do not even need to make changes in <code>java.lang.ClassLoader</code>. The sheer existence of that class in my patch folder seems to be provocing this error. (I only wanted to add a field though at the bottom of the class)</p>\n\n<p>NOTE: I just figured that it works when the <code>ClassLoader</code> class is compiled with Eclipse. One of the few differences I know is that the Eclipse compiler does not seem to follow <a href=\"http://openjdk.java.net/jeps/280\" rel=\"nofollow noreferrer\">JEP 280</a> yet. But there are <code>invokedynamic</code> instructions in the bytecode resulting from <code>javac</code> as well, so I doubt that this is the problem. </p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":2433008,"reputation":35432,"user_id":2123530,"display_name":"β.εηοιτ.βε"},"score":1,"creation_date":1680510990,"post_id":75917461,"comment_id":133904770,"body_markdown":"If you are using the _exec form_ for the entrypoint, each space have to be replaced by a separate string &gt; `[&quot;java&quot;, &quot;-cp&quot;, &quot;/tmp/xyz.jar&quot;, &quot;-Dloader.main=com.x.y.MainClass&quot;, &quot;--spring.profiles.active=dev&quot;, &quot;--runId=test&quot;, &quot;--tasksFile=/tmp/xyz.csv&quot;]`: https://docs.docker.com/engine/reference/builder/#entrypoint","body":"If you are using the <i>exec form</i> for the entrypoint, each space have to be replaced by a separate string &gt; <code>[&quot;java&quot;, &quot;-cp&quot;, &quot;&#47;tmp&#47;xyz.jar&quot;, &quot;-Dloader.main=com.x.y.MainClass&quot;, &quot;--spring.profiles.active=dev&quot;, &quot;--runId=test&quot;, &quot;--tasksFile=&#47;tmp&#47;xyz.csv&quot;]</code>: <a href=\"https://docs.docker.com/engine/reference/builder/#entrypoint\" rel=\"nofollow noreferrer\">docs.docker.com/engine/reference/builder/#entrypoint</a>"},{"owner":{"account_id":2433008,"reputation":35432,"user_id":2123530,"display_name":"β.εηοιτ.βε"},"score":0,"creation_date":1680511234,"post_id":75917461,"comment_id":133904825,"body_markdown":"Could be closed as a duplicated of: https://stackoverflow.com/q/71475076/2123530","body":"Could be closed as a duplicated of: <a href=\"https://stackoverflow.com/q/71475076/2123530\">stackoverflow.com/q/71475076/2123530</a>"},{"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"score":0,"creation_date":1680526859,"post_id":75917461,"comment_id":133908426,"body_markdown":"suggested change worked. Thanks!","body":"suggested change worked. Thanks!"}],"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680515406,"answer_count":0,"score":0,"last_activity_date":1680511455,"creation_date":1680510744,"question_id":75917461,"body_markdown":"I have requirement to run Java JAR using the `java -cp` command.  \r\nWhen trying to run the Docker image using the `docker run` command, it&#39;s giving me the error\r\n&gt; no such file or directory: unknown.\r\n\r\nMy _Dockerfile_:\r\n\r\n```shell\r\nFROM openjdk:8-jre-slim\r\nVOLUME /tmp\r\nARG JAR_VERSION\r\nEXPOSE 8080\r\nWORKDIR /tmp\r\nCOPY xyz/xyz.jar  /tmp/xyz.jar \r\nCOPY xyz/xyz.csv /tmp/xyz.csv\r\nENTRYPOINT [&quot;java -cp /tmp/xyz.jar -Dloader.main=com.x.y.MainClass --spring.profiles.active=dev --runId=test --tasksFile=/tmp/xyz.csv &quot;]\r\n```\r\n\r\n","title":"How to run java -cp command inside docker container","body":"<p>I have requirement to run Java JAR using the <code>java -cp</code> command.<br />\nWhen trying to run the Docker image using the <code>docker run</code> command, it's giving me the error</p>\n<blockquote>\n<p>no such file or directory: unknown.</p>\n</blockquote>\n<p>My <em>Dockerfile</em>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>FROM openjdk:8-jre-slim\nVOLUME /tmp\nARG JAR_VERSION\nEXPOSE 8080\nWORKDIR /tmp\nCOPY xyz/xyz.jar  /tmp/xyz.jar \nCOPY xyz/xyz.csv /tmp/xyz.csv\nENTRYPOINT [&quot;java -cp /tmp/xyz.jar -Dloader.main=com.x.y.MainClass --spring.profiles.active=dev --runId=test --tasksFile=/tmp/xyz.csv &quot;]\n</code></pre>\n"},{"tags":["java","spring","hibernate","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680078882,"post_id":75874577,"comment_id":133834357,"body_markdown":"If there is no transaction created there is no proxy or the code you show here isn&#39;t the actual code you use (and the method is not `public` or `final` or ... Make sure the class is spring managed. Tip instead of injecting the `LocalSessionFactoryBean` into your `transactionManager` method, inject a `SessionFactory`. Spring will inject the proper thing (saves yuo from calling `getObject`).","body":"If there is no transaction created there is no proxy or the code you show here isn&#39;t the actual code you use (and the method is not <code>public</code> or <code>final</code> or ... Make sure the class is spring managed. Tip instead of injecting the <code>LocalSessionFactoryBean</code> into your <code>transactionManager</code> method, inject a <code>SessionFactory</code>. Spring will inject the proper thing (saves yuo from calling <code>getObject</code>)."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1680081502,"post_id":75874577,"comment_id":133835133,"body_markdown":"@M.Deinum: my class is indeed spring managed. It is indeed not the real code but the idea is the same. I know that in the real code the first &quot;readOnly&quot; transaction is created since I do have an exception because of the readOnly. Both methods and classes are public.","body":"@M.Deinum: my class is indeed spring managed. It is indeed not the real code but the idea is the same. I know that in the real code the first &quot;readOnly&quot; transaction is created since I do have an exception because of the readOnly. Both methods and classes are public."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680082472,"post_id":75874577,"comment_id":133835374,"body_markdown":"Is the class or rather the instance you have really managed by spring? However the little information you provided here doesn&#39;t show anything that shouldn&#39;t work. So we would need more information to help you solve this.","body":"Is the class or rather the instance you have really managed by spring? However the little information you provided here doesn&#39;t show anything that shouldn&#39;t work. So we would need more information to help you solve this."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1680095846,"post_id":75874577,"comment_id":133838927,"body_markdown":"@M.Deinum I do think that both service classes are managed by Spring since they are both instantiated using @Service/@Autowired annotations (I&#39;ve edited my example to show this). However, I am probably confused about what Spring managed really means. What type of information can I add to help?","body":"@M.Deinum I do think that both service classes are managed by Spring since they are both instantiated using @Service/@Autowired annotations (I&#39;ve edited my example to show this). However, I am probably confused about what Spring managed really means. What type of information can I add to help?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680099163,"post_id":75874577,"comment_id":133840019,"body_markdown":"`@Autowired` doesn&#39;t instantiate anything, make sure you aren&#39;t using `new` in your code for objects that should be spring managed. Your sample is too simplistic to represent your real use case, provide a representative sample.","body":"<code>@Autowired</code> doesn&#39;t instantiate anything, make sure you aren&#39;t using <code>new</code> in your code for objects that should be spring managed. Your sample is too simplistic to represent your real use case, provide a representative sample."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1680102603,"post_id":75874577,"comment_id":133841170,"body_markdown":"@M.Deinum I have modify my example again to try and give a more representative example. The issue is that since my business code is sensitive, I cannot share it. Concerning the Spring management I made sure that no &quot;new&quot; was involved. Moreover, i&#39;ve added an `@Value` in my &quot;Service3&quot; to test if spring does instantiate this service. I do see &quot;myTestProp&quot; value in console log when running my code.","body":"@M.Deinum I have modify my example again to try and give a more representative example. The issue is that since my business code is sensitive, I cannot share it. Concerning the Spring management I made sure that no &quot;new&quot; was involved. Moreover, i&#39;ve added an <code>@Value</code> in my &quot;Service3&quot; to test if spring does instantiate this service. I do see &quot;myTestProp&quot; value in console log when running my code."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680112865,"post_id":75874577,"comment_id":133843866,"body_markdown":"The fact that Spring instantiates something doesn&#39;t mean that that is the instance in use (trust me I have seen weird setups in all my years with Spring). I&#39;m sorry but adding additional classes in the mix won&#39;t change it. There must be something specific in your code that does this, as you have here a dumbed down version of your code (whilst you might think you haven&#39;t) from this point it is impossible to answer.","body":"The fact that Spring instantiates something doesn&#39;t mean that that is the instance in use (trust me I have seen weird setups in all my years with Spring). I&#39;m sorry but adding additional classes in the mix won&#39;t change it. There must be something specific in your code that does this, as you have here a dumbed down version of your code (whilst you might think you haven&#39;t) from this point it is impossible to answer."}],"answers":[{"comments":[{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1680103022,"post_id":75878085,"comment_id":133841313,"body_markdown":"My bad, I think my example was not explicit enough. I do need method1 to be in a readOnly transaction while method2 shall be in a new readOnly=false transaction.","body":"My bad, I think my example was not explicit enough. I do need method1 to be in a readOnly transaction while method2 shall be in a new readOnly=false transaction."}],"tags":[],"owner":{"account_id":1820389,"reputation":76,"user_id":1654586,"display_name":"Pankaj Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680097538,"creation_date":1680097538,"answer_id":75878085,"question_id":75874577,"body_markdown":"In posted class method1() is calling method2() and both annotated with transactional. As I have used in my application according to that You can add  @Transactional(propagation = Propagation.REQUIRES_NEW,readOnly = true) on your method1(), it will work for both method1() and method2(). Because method2() is called inside method1().\r\n\r\n \r\n\r\n       @Service\r\n    public class Foo{\r\n    \r\n      @Autowired\r\n      private Bar bar;\r\n    \r\n      @Transactional(propagation = Propagation.REQUIRES_NEW,readOnly = true)\r\n      public void method1()\r\n      {\r\n        bar.method2();\r\n      }\r\n    \r\n    }\r\n    \r\n    @Service\r\n    public class Bar{\r\n    \r\n     \r\n         public void method2()\r\n          {\r\n            ...\r\n          }\r\n    \r\n       }  \r\n  ","title":"Unable to create a new transaction using @Transactional(propagation = Propagation.REQUIRES_NEW) with HibernateTransactionManager","body":"<p>In posted class method1() is calling method2() and both annotated with transactional. As I have used in my application according to that You can add  @Transactional(propagation = Propagation.REQUIRES_NEW,readOnly = true) on your method1(), it will work for both method1() and method2(). Because method2() is called inside method1().</p>\n<pre><code>   @Service\npublic class Foo{\n\n  @Autowired\n  private Bar bar;\n\n  @Transactional(propagation = Propagation.REQUIRES_NEW,readOnly = true)\n  public void method1()\n  {\n    bar.method2();\n  }\n\n}\n\n@Service\npublic class Bar{\n\n \n     public void method2()\n      {\n        ...\n      }\n\n   }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680510946,"creation_date":1680510946,"answer_id":75917490,"question_id":75874577,"body_markdown":"I have resolved my issue.\r\n\r\nAs **M. Deinum** stated in his comments, it was a pure Spring Configuration issue.\r\n\r\nThe fact is that during the refactoring of the legacy code, the following block of code made its way into a java Spring Configuration file.\r\n\r\n    @Bean\r\n      MethodInvokingFactoryBean methodInvokingFactoryBean(DefaultSecurityManager securityManager)\r\n      {\r\n        MethodInvokingFactoryBean methodInvokingFactoryBean = new MethodInvokingFactoryBean();\r\n    \r\n        methodInvokingFactoryBean.setStaticMethod(&quot;org.apache.shiro.SecurityUtils.setSecurityManager&quot;);\r\n        methodInvokingFactoryBean.setArguments(securityManager);\r\n    \r\n        return methodInvokingFactoryBean;\r\n      }\r\n\r\nMy DefaultSecurityManager is dependent on my Service where my `@Transactional(propagation = Propagation.REQUIRES_NEW)` is.\r\n\r\nThis block of code disrupts the normal flow/init of Spring and the `@Transactional` annotation get ignored.\r\n\r\nThis explains why during Spring init my method is not identified as transactional and no new transaction is started when the method is called.\r\n\r\nReplacing the wrong block of code by a simple call to the correct Set method does resolve the issue\r\n\r\n    SecurityUtils.setSecurityManager(result);\r\n\r\nThank you all for your time and help. ","title":"Unable to create a new transaction using @Transactional(propagation = Propagation.REQUIRES_NEW) with HibernateTransactionManager","body":"<p>I have resolved my issue.</p>\n<p>As <strong>M. Deinum</strong> stated in his comments, it was a pure Spring Configuration issue.</p>\n<p>The fact is that during the refactoring of the legacy code, the following block of code made its way into a java Spring Configuration file.</p>\n<pre><code>@Bean\n  MethodInvokingFactoryBean methodInvokingFactoryBean(DefaultSecurityManager securityManager)\n  {\n    MethodInvokingFactoryBean methodInvokingFactoryBean = new MethodInvokingFactoryBean();\n\n    methodInvokingFactoryBean.setStaticMethod(&quot;org.apache.shiro.SecurityUtils.setSecurityManager&quot;);\n    methodInvokingFactoryBean.setArguments(securityManager);\n\n    return methodInvokingFactoryBean;\n  }\n</code></pre>\n<p>My DefaultSecurityManager is dependent on my Service where my <code>@Transactional(propagation = Propagation.REQUIRES_NEW)</code> is.</p>\n<p>This block of code disrupts the normal flow/init of Spring and the <code>@Transactional</code> annotation get ignored.</p>\n<p>This explains why during Spring init my method is not identified as transactional and no new transaction is started when the method is called.</p>\n<p>Replacing the wrong block of code by a simple call to the correct Set method does resolve the issue</p>\n<pre><code>SecurityUtils.setSecurityManager(result);\n</code></pre>\n<p>Thank you all for your time and help.</p>\n"}],"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75878085,"answer_count":2,"score":2,"last_activity_date":1680510946,"creation_date":1680076728,"question_id":75874577,"body_markdown":"I am currently refactoring some legacy code.\r\n\r\nWe are moving from .xml spring context files to java class based Spring configuration.\r\n\r\nHere is the TransactionConfiguration.java class that I have created for Spring initiation of my TransactionManager.\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\npublic class TransactionConfiguration\r\n{\r\n  private String[] packagesToScan = {...redacted...};\r\n\r\n  @Bean\r\n  public DataSource dataSource(@Value(&quot;${db.driverClassName}&quot;) String driverClassName, @Value(&quot;${db.url}&quot;) String jdbcUrl,\r\n          @Value(&quot;${db.usr.login}&quot;) String username, @Value(&quot;${db.usr.password}&quot;) String pwd, @Value(&quot;${db.maxPoolSize}&quot;) int maxPoolSize)\r\n  {\r\n    HikariDataSource dataSource = new HikariDataSource();\r\n    dataSource.setDriverClassName(driverClassName);\r\n    dataSource.setJdbcUrl(jdbcUrl);\r\n    dataSource.setUsername(username);\r\n    dataSource.setPassword(pwd);\r\n    dataSource.setMaximumPoolSize(maxPoolSize);\r\n    return dataSource;\r\n  }\r\n\r\n  @Bean\r\n  public LocalSessionFactoryBean sessionFactory(DataSource dataSource, @Value(&quot;${db.schema}&quot;) String dbSchema, @Value(&quot;${db.dialect}&quot;) String dbDialect,\r\n          @Value(&quot;${db.show.sql}&quot;) Boolean dbShowSql, @Value(&quot;${db.hbm2ddl.auto}&quot;) String hbm2dll)\r\n  {\r\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n    sessionFactory.setDataSource(dataSource);\r\n    sessionFactory.setPackagesToScan(packagesToScan);\r\n\r\n    Properties hibernateProperties = new Properties();\r\n    hibernateProperties.put(&quot;hibernate.default_schema&quot;, dbSchema);\r\n    hibernateProperties.put(&quot;hibernate.dialect&quot;, dbDialect);\r\n    hibernateProperties.put(&quot;hibernate.show_sql&quot;, dbShowSql);\r\n    hibernateProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, hbm2dll);\r\n\r\n    sessionFactory.setHibernateProperties(hibernateProperties);\r\n\r\n    return sessionFactory;\r\n  }\r\n\r\n  @Bean\r\n  public PlatformTransactionManager transactionManager(LocalSessionFactoryBean sessionFactory)\r\n  {\r\n    HibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n    transactionManager.setSessionFactory(sessionFactory.getObject());\r\n    return transactionManager;\r\n  }\r\n```\r\n\r\nThis works fine and my application is able to read/write in database.\r\n\r\nHowever, at some point, I need to create a write transaction from a readOnly transaction.\r\n\r\nI&#39;ve tried to use @Transactional(propagation = Propagation.REQUIRES_NEW) annotation to ensure the creation of a new write transaction but it does not work.\r\n\r\n\r\n```\r\n@Service\r\npublic class Service1{\r\n\r\n  @Autowired\r\n  private Service2 service2;\r\n\r\n  @Transactional(readOnly = true)\r\n  public void method1()\r\n  {\r\n    [... read only treatment...]\r\n\r\n    service2.method2();\r\n\r\n    [... read only treatment...]\r\n  }\r\n\r\n}\r\n\r\n@Service\r\npublic class Service2{\r\n\r\n  @Autowired\r\n  private Service3 service3;\r\n\r\n  \r\n  public void method2()\r\n  {\r\n    [... read only treatment...]\r\n\r\n    method3();\r\n\r\n    [... read only treatment...]\r\n  }\r\n\r\n  private void method3()\r\n  {\r\n    [... read only treatment...]\r\n\r\n    service3.method4();\r\n\r\n    [... read only treatment...]\r\n  }\r\n\r\n}\r\n\r\n@Service\r\npublic class Service3{\r\n\r\n  @Value(&quot;${my.test.prop}&quot;)\r\n  private String myTestProp;\r\n\r\n  @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n  public void method4()\r\n  {\r\n    System.out.println(myTestProp);    \r\n\r\n    [... write treatment...]\r\n  }\r\n\r\n}\r\n```\r\n\r\nIt did work in the legacy code with .xml configuration and declaration of a TransactionProxyFactoryBean\r\n\r\n\r\n```\r\n&lt;bean class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;\r\n\t\t&lt;property name=&quot;transactionAttributes&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;method1&quot;&gt;PROPAGATION_REQUIRED,readOnly&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;method2&quot;&gt;PROPAGATION_REQUIRES_NEW&lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\nI made sure that the two methods are in separate classes so Spring Aop does interact with the second @Transactional annotation\r\n\r\nI did activate logback to log transaction creation and I see that no new transaction is created.\r\n\r\n\r\n\r\nI have tried to switch to JPATransactionManager but it did not improve my issue (in fact it did poorly since readOnly instruction was ignored...)\r\n\r\nI also tried a NESTED propagation but again it did not start a new Nested transaction\r\n\r\n\r\nEDIT:\r\n\r\nSpring version 5.3.6\r\n\r\nHibernate version 5.4.33 ","title":"Unable to create a new transaction using @Transactional(propagation = Propagation.REQUIRES_NEW) with HibernateTransactionManager","body":"<p>I am currently refactoring some legacy code.</p>\n<p>We are moving from .xml spring context files to java class based Spring configuration.</p>\n<p>Here is the TransactionConfiguration.java class that I have created for Spring initiation of my TransactionManager.</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class TransactionConfiguration\n{\n  private String[] packagesToScan = {...redacted...};\n\n  @Bean\n  public DataSource dataSource(@Value(&quot;${db.driverClassName}&quot;) String driverClassName, @Value(&quot;${db.url}&quot;) String jdbcUrl,\n          @Value(&quot;${db.usr.login}&quot;) String username, @Value(&quot;${db.usr.password}&quot;) String pwd, @Value(&quot;${db.maxPoolSize}&quot;) int maxPoolSize)\n  {\n    HikariDataSource dataSource = new HikariDataSource();\n    dataSource.setDriverClassName(driverClassName);\n    dataSource.setJdbcUrl(jdbcUrl);\n    dataSource.setUsername(username);\n    dataSource.setPassword(pwd);\n    dataSource.setMaximumPoolSize(maxPoolSize);\n    return dataSource;\n  }\n\n  @Bean\n  public LocalSessionFactoryBean sessionFactory(DataSource dataSource, @Value(&quot;${db.schema}&quot;) String dbSchema, @Value(&quot;${db.dialect}&quot;) String dbDialect,\n          @Value(&quot;${db.show.sql}&quot;) Boolean dbShowSql, @Value(&quot;${db.hbm2ddl.auto}&quot;) String hbm2dll)\n  {\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n    sessionFactory.setDataSource(dataSource);\n    sessionFactory.setPackagesToScan(packagesToScan);\n\n    Properties hibernateProperties = new Properties();\n    hibernateProperties.put(&quot;hibernate.default_schema&quot;, dbSchema);\n    hibernateProperties.put(&quot;hibernate.dialect&quot;, dbDialect);\n    hibernateProperties.put(&quot;hibernate.show_sql&quot;, dbShowSql);\n    hibernateProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, hbm2dll);\n\n    sessionFactory.setHibernateProperties(hibernateProperties);\n\n    return sessionFactory;\n  }\n\n  @Bean\n  public PlatformTransactionManager transactionManager(LocalSessionFactoryBean sessionFactory)\n  {\n    HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n    transactionManager.setSessionFactory(sessionFactory.getObject());\n    return transactionManager;\n  }\n</code></pre>\n<p>This works fine and my application is able to read/write in database.</p>\n<p>However, at some point, I need to create a write transaction from a readOnly transaction.</p>\n<p>I've tried to use @Transactional(propagation = Propagation.REQUIRES_NEW) annotation to ensure the creation of a new write transaction but it does not work.</p>\n<pre><code>@Service\npublic class Service1{\n\n  @Autowired\n  private Service2 service2;\n\n  @Transactional(readOnly = true)\n  public void method1()\n  {\n    [... read only treatment...]\n\n    service2.method2();\n\n    [... read only treatment...]\n  }\n\n}\n\n@Service\npublic class Service2{\n\n  @Autowired\n  private Service3 service3;\n\n  \n  public void method2()\n  {\n    [... read only treatment...]\n\n    method3();\n\n    [... read only treatment...]\n  }\n\n  private void method3()\n  {\n    [... read only treatment...]\n\n    service3.method4();\n\n    [... read only treatment...]\n  }\n\n}\n\n@Service\npublic class Service3{\n\n  @Value(&quot;${my.test.prop}&quot;)\n  private String myTestProp;\n\n  @Transactional(propagation = Propagation.REQUIRES_NEW)\n  public void method4()\n  {\n    System.out.println(myTestProp);    \n\n    [... write treatment...]\n  }\n\n}\n</code></pre>\n<p>It did work in the legacy code with .xml configuration and declaration of a TransactionProxyFactoryBean</p>\n<pre><code>&lt;bean class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\n        &lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;\n        &lt;property name=&quot;transactionAttributes&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;method1&quot;&gt;PROPAGATION_REQUIRED,readOnly&lt;/prop&gt;\n                &lt;prop key=&quot;method2&quot;&gt;PROPAGATION_REQUIRES_NEW&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>I made sure that the two methods are in separate classes so Spring Aop does interact with the second @Transactional annotation</p>\n<p>I did activate logback to log transaction creation and I see that no new transaction is created.</p>\n<p>I have tried to switch to JPATransactionManager but it did not improve my issue (in fact it did poorly since readOnly instruction was ignored...)</p>\n<p>I also tried a NESTED propagation but again it did not start a new Nested transaction</p>\n<p>EDIT:</p>\n<p>Spring version 5.3.6</p>\n<p>Hibernate version 5.4.33</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":16101320,"reputation":121,"user_id":11622006,"display_name":"Slongtong"},"score":0,"creation_date":1680963648,"post_id":75917435,"comment_id":133984691,"body_markdown":"You have 2 different keys and only 1 field named &quot;test&quot; in configuration property class. You shoud use 2 fields , named &quot;Test&quot; and &quot;test&quot; , or Map&lt;string,DatamartType&gt; where keys will be &quot;Test&quot; and &quot;test&quot; in your case). Main problem in your example - you want to map 2 objects to 1 field. There is no field named &quot;Test&quot; thats why &quot;always use the last test&quot;.","body":"You have 2 different keys and only 1 field named &quot;test&quot; in configuration property class. You shoud use 2 fields , named &quot;Test&quot; and &quot;test&quot; , or Map&lt;string,DatamartType&gt; where keys will be &quot;Test&quot; and &quot;test&quot; in your case). Main problem in your example - you want to map 2 objects to 1 field. There is no field named &quot;Test&quot; thats why &quot;always use the last test&quot;."},{"owner":{"account_id":19681212,"reputation":1,"user_id":15862454,"display_name":"Efrem Zapryagaev"},"score":0,"creation_date":1681097169,"post_id":75917435,"comment_id":133998487,"body_markdown":"1)Only 1 filed for exmaple. &quot;Test&quot; its wrong name, should be used camelCase. But even if such a name is used, there will be null.\n2)In Map&lt;String,DatamartType&gt; parameters are not correct. Test.streamname = test.delete and test.streamname = test.delete","body":"1)Only 1 filed for exmaple. &quot;Test&quot; its wrong name, should be used camelCase. But even if such a name is used, there will be null. 2)In Map&lt;String,DatamartType&gt; parameters are not correct. Test.streamname = test.delete and test.streamname = test.delete"},{"owner":{"account_id":16101320,"reputation":121,"user_id":11622006,"display_name":"Slongtong"},"score":0,"creation_date":1681141341,"post_id":75917435,"comment_id":134005081,"body_markdown":"from https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/source/ConfigurationPropertyName.html\n\n&quot;User created names may contain the characters &quot;a-z&quot; &quot;0-9&quot;) and &quot;-&quot;, they must be lower-case and must start with an alphanumeric character.&quot;\n\nso you can use arrays and additional field to store key, for example","body":"from <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/source/ConfigurationPropertyName.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>  &quot;User created names may contain the characters &quot;a-z&quot; &quot;0-9&quot;) and &quot;-&quot;, they must be lower-case and must start with an alphanumeric character.&quot;  so you can use arrays and additional field to store key, for example"}],"owner":{"account_id":19681212,"reputation":1,"user_id":15862454,"display_name":"Efrem Zapryagaev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680510597,"creation_date":1680510597,"question_id":75917435,"body_markdown":"i have an import config datamart.yaml.\r\n\r\n```\r\nspring:\r\n  config:\r\n    import: datamart.yaml\r\n```\r\n\r\nIn datamart many properties with the same name, differ in first letter\r\n\r\n```\r\ndatamarts:\r\n  Test:\r\n    streamname: test\r\n    header: test\r\n    priority: 1\r\n    action: upload\r\n  test:\r\n    streamname: test.delete\r\n    header: test\r\n    priority: 111\r\n    action: delete\r\n```\r\n\r\nThe problem is that spring can&#39;t split the parameters and always use last `test`\r\n\r\n```\r\n@Data\r\n@Component\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ConfigurationProperties(prefix = &quot;datamarts&quot;, ignoreUnknownFields = false)\r\npublic class DatamartProperties {\r\n\r\n    private DatamartType test = new DatamartType();\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public static class DatamartType {\r\n\r\n        private String streamname;\r\n        private String header;\r\n        private int priority;\r\n        private String action;\r\n\r\n    }\r\n}\r\n```\r\n\r\nI try to set params from enviroment and its wokred. But Is there any easier way for set params using spring autoconfiguration\r\n\r\n```\r\n@Data\r\n@Component\r\npublic class DatamartProperties {\r\n\r\n    private final ApplicationContext applicationContext;\r\n\r\n    private final DatamartType test;\r\n    private final DatamartType testDelete;\r\n    \r\n    public DatamartProperties(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n\r\n        this.test = new DatamartType(\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.streamname&quot;, String.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.header&quot;, String.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.priority&quot;, Integer.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.action&quot;, String.class)\r\n        );\r\n\r\n        this.testDelete = new DatamartType(\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.streamname&quot;, String.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.header&quot;, String.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.priority&quot;, Integer.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.action&quot;, String.class)\r\n        );\r\n}\r\n```","title":"How to read properties from config with the same name in sping boot app","body":"<p>i have an import config datamart.yaml.</p>\n<pre><code>spring:\n  config:\n    import: datamart.yaml\n</code></pre>\n<p>In datamart many properties with the same name, differ in first letter</p>\n<pre><code>datamarts:\n  Test:\n    streamname: test\n    header: test\n    priority: 1\n    action: upload\n  test:\n    streamname: test.delete\n    header: test\n    priority: 111\n    action: delete\n</code></pre>\n<p>The problem is that spring can't split the parameters and always use last <code>test</code></p>\n<pre><code>@Data\n@Component\n@AllArgsConstructor\n@NoArgsConstructor\n@ConfigurationProperties(prefix = &quot;datamarts&quot;, ignoreUnknownFields = false)\npublic class DatamartProperties {\n\n    private DatamartType test = new DatamartType();\n\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public static class DatamartType {\n\n        private String streamname;\n        private String header;\n        private int priority;\n        private String action;\n\n    }\n}\n</code></pre>\n<p>I try to set params from enviroment and its wokred. But Is there any easier way for set params using spring autoconfiguration</p>\n<pre><code>@Data\n@Component\npublic class DatamartProperties {\n\n    private final ApplicationContext applicationContext;\n\n    private final DatamartType test;\n    private final DatamartType testDelete;\n    \n    public DatamartProperties(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n\n        this.test = new DatamartType(\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.streamname&quot;, String.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.header&quot;, String.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.priority&quot;, Integer.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.action&quot;, String.class)\n        );\n\n        this.testDelete = new DatamartType(\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.streamname&quot;, String.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.header&quot;, String.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.priority&quot;, Integer.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.action&quot;, String.class)\n        );\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":27906771,"reputation":1,"user_id":21309793,"display_name":"kert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680510140,"creation_date":1680509948,"question_id":75917350,"body_markdown":"\r\nI have developed a logging system and error handling, and want to record request response logs, business layer logs, and error logs. However, when I join the upload process, an error occurs that prompts me for a type conversion failure. In addition, is it correct to design logs and error handling like this, such as placing request responses in an interceptor, and using aop for processing in the business layer. Unified return values and error handling use controlleradvice\r\n\r\nThe following is the code I implemented\r\n\r\nthis is filter\r\n\r\n```\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request);\r\n            ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\r\n            filterChain.doFilter(requestWrapper,responseWrapper);\r\n            responseWrapper.copyBodyToResponse();\r\n\r\n    }\r\n```\r\n\r\nthis loginterceptor\r\n```\r\n public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        Date date = new Date();\r\n        SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.sss&quot;);\r\n        String dateFormat = format.format(date);\r\n        makeLog(dateFormat, request, (ContentCachingResponseWrapper) response);\r\n        return true;\r\n    }\r\n\r\n    private void makeLog(String date,HttpServletRequest request,ContentCachingResponseWrapper response) throws IOException {\r\n        String responseData = new String(response.getContentAsByteArray());\r\n        LogInfo logInfo = new LogInfo();\r\n        logInfo.setUri(request.getRequestURI());\r\n        logInfo.setCreateTime(date);\r\n        logInfo.setRequest(request.getInputStream().readAllBytes());\r\n        logInfo.setResponse(responseData);\r\n        logInfo.setClientIP(request.getRemoteAddr());\r\n        log.info(&quot;logData：{}&quot;,logInfo);\r\n        loggerService.insert(logInfo);\r\n    }\r\n```\r\nthis is exceptioncontroller\r\n\r\n```\r\npublic class ExceptionAdvice {\r\n    @ExceptionHandler(DataAccessException.class)\r\n    public ResultVO sqlHandler(DataAccessException  e){\r\n        Throwable cause = e.getCause();\r\n        ResultVO resultVO = new ResultVO();\r\n        if (cause instanceof SQLException sqlException){\r\n            log.error(sqlException.getMessage());\r\n            resultVO.setCode(sqlException.getSQLState());\r\n            resultVO.setMessage(sqlException.getMessage());\r\n        }else {\r\n            resultVO.setMessage(cause.getMessage());\r\n        }\r\n        return resultVO;\r\n    }\r\n    @ExceptionHandler(BusinessException.class)\r\n    public ResultVO businessHandler(BusinessException e){\r\n        log.error(e.getMessage());\r\n        ResultVO resultVO = new ResultVO();\r\n        resultVO.setCode(e.getErrCode().getCode());\r\n        resultVO.setMessage(e.getErrCode().getMsg());\r\n        return resultVO;\r\n    }\r\n    @ExceptionHandler(Exception.class)\r\n    public ResultVO err(Exception e){\r\n        log.error(e.getMessage());\r\n        e.printStackTrace();\r\n        ResultVO resultVO = new ResultVO();\r\n        resultVO.setCode(&quot;500&quot;);\r\n        resultVO.setMessage(e.getMessage());\r\n        return resultVO;\r\n    }\r\n```\r\nthis is result\r\n\r\n```\r\npublic class ResultAdvice implements ResponseBodyAdvice&lt;Object&gt; {\r\n    @Override\r\n    public boolean supports(MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n        //System.out.println(&quot;====================================================supports&quot;);\r\n        return !returnType.getParameterType().equals(ResultVO.class);\r\n    }\r\n\r\n    @Override\r\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\r\n        System.out.println(&quot;====================================================beforeBodyWrite&quot;);\r\n        ResultVO resultVO = new ResultVO(body);\r\n        resultVO.setCode(&quot;1&quot;);\r\n        resultVO.setMessage(&quot;success！！&quot;);\r\n\r\n        return resultVO;\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I was running, his error was not expected, such as a database connection failure, He reported an error from mybatis &quot;org. springframework. jdbc. CannotGetJdbcConnectionException: Failed to obtain JDBC Connection r n # # The error may exist at com/kert/compute/dao/LogMapper. java (best guess)&quot; \\r\\n### The error may involve com.kert.compute.dao.LogMapper.insert\\r\\n### The error occurred while executing an update\\r\\n### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection&quot;，\r\n\r\nWhen uploading a file, the message &quot;class org. apache. catalina. connector. ResponseFacade cannot be cast to class org. springframework. web. util. ContentCachingResponseWrapper (org. apache. catalina. connector. ResponseFacade and org. springframework. web. util. ContentCachingResponseWrapper are in unnamed module of loader &#39;app&#39;)&quot; is reported\r\n","title":"How to design unified error handling and logging in spring boot","body":"<p>I have developed a logging system and error handling, and want to record request response logs, business layer logs, and error logs. However, when I join the upload process, an error occurs that prompts me for a type conversion failure. In addition, is it correct to design logs and error handling like this, such as placing request responses in an interceptor, and using aop for processing in the business layer. Unified return values and error handling use controlleradvice</p>\n<p>The following is the code I implemented</p>\n<p>this is filter</p>\n<pre><code>    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request);\n            ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\n            filterChain.doFilter(requestWrapper,responseWrapper);\n            responseWrapper.copyBodyToResponse();\n\n    }\n</code></pre>\n<p>this loginterceptor</p>\n<pre><code> public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        Date date = new Date();\n        SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.sss&quot;);\n        String dateFormat = format.format(date);\n        makeLog(dateFormat, request, (ContentCachingResponseWrapper) response);\n        return true;\n    }\n\n    private void makeLog(String date,HttpServletRequest request,ContentCachingResponseWrapper response) throws IOException {\n        String responseData = new String(response.getContentAsByteArray());\n        LogInfo logInfo = new LogInfo();\n        logInfo.setUri(request.getRequestURI());\n        logInfo.setCreateTime(date);\n        logInfo.setRequest(request.getInputStream().readAllBytes());\n        logInfo.setResponse(responseData);\n        logInfo.setClientIP(request.getRemoteAddr());\n        log.info(&quot;logData：{}&quot;,logInfo);\n        loggerService.insert(logInfo);\n    }\n</code></pre>\n<p>this is exceptioncontroller</p>\n<pre><code>public class ExceptionAdvice {\n    @ExceptionHandler(DataAccessException.class)\n    public ResultVO sqlHandler(DataAccessException  e){\n        Throwable cause = e.getCause();\n        ResultVO resultVO = new ResultVO();\n        if (cause instanceof SQLException sqlException){\n            log.error(sqlException.getMessage());\n            resultVO.setCode(sqlException.getSQLState());\n            resultVO.setMessage(sqlException.getMessage());\n        }else {\n            resultVO.setMessage(cause.getMessage());\n        }\n        return resultVO;\n    }\n    @ExceptionHandler(BusinessException.class)\n    public ResultVO businessHandler(BusinessException e){\n        log.error(e.getMessage());\n        ResultVO resultVO = new ResultVO();\n        resultVO.setCode(e.getErrCode().getCode());\n        resultVO.setMessage(e.getErrCode().getMsg());\n        return resultVO;\n    }\n    @ExceptionHandler(Exception.class)\n    public ResultVO err(Exception e){\n        log.error(e.getMessage());\n        e.printStackTrace();\n        ResultVO resultVO = new ResultVO();\n        resultVO.setCode(&quot;500&quot;);\n        resultVO.setMessage(e.getMessage());\n        return resultVO;\n    }\n</code></pre>\n<p>this is result</p>\n<pre><code>public class ResultAdvice implements ResponseBodyAdvice&lt;Object&gt; {\n    @Override\n    public boolean supports(MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n        //System.out.println(&quot;====================================================supports&quot;);\n        return !returnType.getParameterType().equals(ResultVO.class);\n    }\n\n    @Override\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\n        System.out.println(&quot;====================================================beforeBodyWrite&quot;);\n        ResultVO resultVO = new ResultVO(body);\n        resultVO.setCode(&quot;1&quot;);\n        resultVO.setMessage(&quot;success！！&quot;);\n\n        return resultVO;\n    }\n</code></pre>\n<p>When I was running, his error was not expected, such as a database connection failure, He reported an error from mybatis &quot;org. springframework. jdbc. CannotGetJdbcConnectionException: Failed to obtain JDBC Connection r n # # The error may exist at com/kert/compute/dao/LogMapper. java (best guess)&quot; \\r\\n### The error may involve com.kert.compute.dao.LogMapper.insert\\r\\n### The error occurred while executing an update\\r\\n### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection&quot;，</p>\n<p>When uploading a file, the message &quot;class org. apache. catalina. connector. ResponseFacade cannot be cast to class org. springframework. web. util. ContentCachingResponseWrapper (org. apache. catalina. connector. ResponseFacade and org. springframework. web. util. ContentCachingResponseWrapper are in unnamed module of loader 'app')&quot; is reported</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679326268,"post_id":75792048,"comment_id":133697470,"body_markdown":"How about the inheritance? Base class BaseEntity with property a. Another class extends BaseEntity and adds properties b and c. And so on.","body":"How about the inheritance? Base class BaseEntity with property a. Another class extends BaseEntity and adds properties b and c. And so on."},{"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"score":0,"creation_date":1679326406,"post_id":75792048,"comment_id":133697515,"body_markdown":"The issue is that the schema is not known in advance, only on application start.","body":"The issue is that the schema is not known in advance, only on application start."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1679328781,"post_id":75792048,"comment_id":133698163,"body_markdown":"I think something like Hibernate is the wrong tool for your use case. Use plain JDBC, check via metadata which columns are actually present and map the columns manually. Hibernate/JPA has the requirement to know the database structure in advance.","body":"I think something like Hibernate is the wrong tool for your use case. Use plain JDBC, check via metadata which columns are actually present and map the columns manually. Hibernate/JPA has the requirement to know the database structure in advance."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1679328913,"post_id":75792048,"comment_id":133698204,"body_markdown":"Maybe MyBatis is able to process generic result sets. Look here: https://stackoverflow.com/questions/26918434/mybatis-query-result-in-a-hashmap","body":"Maybe MyBatis is able to process generic result sets. Look here: <a href=\"https://stackoverflow.com/questions/26918434/mybatis-query-result-in-a-hashmap\" title=\"mybatis query result in a hashmap\">stackoverflow.com/questions/26918434/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679387874,"creation_date":1679387874,"answer_id":75798896,"question_id":75792048,"body_markdown":"you have two Option in this situation \r\n\r\n1. Use a NoSQL database: If you need to add columns dynamically and frequently, you might consider using a NoSQL database that supports dynamic schemas. NoSQL databases like MongoDB is designed to handle dynamic data and allow you to store documents or key-value pairs without enforcing a fixed schema.\r\n\r\n2. Use a JSON or XML column: Some databases like PostgreSQL or MySQL support JSON or XML columns that can store semi-structured data. You can store your dynamic data as a JSON or XML document in a single column and query it using SQL or NoSQL-like queries.\r\n\r\nFor example, if you are using PostgreSQL, you can define a JSON column in your my_table table like this:\r\n\r\n    ALTER TABLE my_table ADD COLUMN dynamic_data jsonb;\r\n\r\nYou can then insert JSON documents into the dynamic_data column and query them using PostgreSQL&#39;s JSON functions.\r\n\r\nAlternatively, you can use Hibernate&#39;s @Type annotation to map a JSON or XML column to a Java object. For example:\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyEntity {\r\n    \r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n    \r\n       @Type(type = &quot;jsonb&quot;)\r\n       @Column(columnDefinition = &quot;jsonb&quot;)\r\n       private Map&lt;String, Object&gt; dynamicData;\r\n    \r\n    }","title":"How do I load an entity from a relational DB when only part of the table schema is known in advance?","body":"<p>you have two Option in this situation</p>\n<ol>\n<li><p>Use a NoSQL database: If you need to add columns dynamically and frequently, you might consider using a NoSQL database that supports dynamic schemas. NoSQL databases like MongoDB is designed to handle dynamic data and allow you to store documents or key-value pairs without enforcing a fixed schema.</p>\n</li>\n<li><p>Use a JSON or XML column: Some databases like PostgreSQL or MySQL support JSON or XML columns that can store semi-structured data. You can store your dynamic data as a JSON or XML document in a single column and query it using SQL or NoSQL-like queries.</p>\n</li>\n</ol>\n<p>For example, if you are using PostgreSQL, you can define a JSON column in your my_table table like this:</p>\n<pre><code>ALTER TABLE my_table ADD COLUMN dynamic_data jsonb;\n</code></pre>\n<p>You can then insert JSON documents into the dynamic_data column and query them using PostgreSQL's JSON functions.</p>\n<p>Alternatively, you can use Hibernate's @Type annotation to map a JSON or XML column to a Java object. For example:</p>\n<pre><code>@Entity\n@Table(name = &quot;my_table&quot;)\npublic class MyEntity {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   @Type(type = &quot;jsonb&quot;)\n   @Column(columnDefinition = &quot;jsonb&quot;)\n   private Map&lt;String, Object&gt; dynamicData;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680510083,"creation_date":1680510083,"answer_id":75917372,"question_id":75792048,"body_markdown":"In the end I went with Spring AOP. The cutpoint intercepts every repository method decorated with a custom annotation. When that happens the cutpoint method issues another query of `SELECT *` (in the case of reads) and populates the entity with the extra properties.","title":"How do I load an entity from a relational DB when only part of the table schema is known in advance?","body":"<p>In the end I went with Spring AOP. The cutpoint intercepts every repository method decorated with a custom annotation. When that happens the cutpoint method issues another query of <code>SELECT *</code> (in the case of reads) and populates the entity with the extra properties.</p>\n"}],"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75917372,"answer_count":2,"score":0,"last_activity_date":1680510083,"creation_date":1679325092,"question_id":75792048,"body_markdown":"I have an entity mapped to a table. This table usually has some columns on top of the mapped properties. For example if the entity is defined as:\r\n```\r\n@Entity\r\nclass MyEntity {\r\n  private String a;\r\n}\r\n```\r\nThen the table has column `a`. In one schema it may also have columns `b` and `c`, in another `d`, `e` and `f`. I thought it would be simple to override `EntityManager`&#39;s `load` method to load all the properties defined in `MyEntity` and subsequently load all the others into a `Map&lt;String, Object&gt;`, but I can&#39;t find a way to do it.\r\nHere&#39;s what I considered so far:\r\n1. I found [this SO question](https://stackoverflow.com/questions/3657758/jpa-hibernate-mapping-dynamic-columns-as-a-list-of-objects), which led to [this](https://www.infoq.com/articles/hibernate-custom-fields/) post which maybe solves the issue but requires loading the mapping on startup, which doesn&#39;t solve my problem since I&#39;m constantly switching between schemas and therefore would have to reload the mapping over and over.\r\n1. Overriding [RelationalMappingContext](https://docs.spring.io/spring-data/jdbc/docs/current/api/org/springframework/data/relational/core/mapping/RelationalMappingContext.html) also assumes a constant schema.\r\n1. There should be a way to supply `EntityManager` as a bean but I can&#39;t figure out how and I&#39;m not sure if that wouldn&#39;t run into the same issues as 1 &amp; 2.\r\n1. I can do something complicated with bytecode manipulation but this would require having an Entity per schema, which is too complicated.\r\n1. So I&#39;m forced to consider overriding all methods in `CrudRepository` and providing my own implementation. That would be very hacky and unwieldy.\r\n\r\nAny other ideas?","title":"How do I load an entity from a relational DB when only part of the table schema is known in advance?","body":"<p>I have an entity mapped to a table. This table usually has some columns on top of the mapped properties. For example if the entity is defined as:</p>\n<pre><code>@Entity\nclass MyEntity {\n  private String a;\n}\n</code></pre>\n<p>Then the table has column <code>a</code>. In one schema it may also have columns <code>b</code> and <code>c</code>, in another <code>d</code>, <code>e</code> and <code>f</code>. I thought it would be simple to override <code>EntityManager</code>'s <code>load</code> method to load all the properties defined in <code>MyEntity</code> and subsequently load all the others into a <code>Map&lt;String, Object&gt;</code>, but I can't find a way to do it.\nHere's what I considered so far:</p>\n<ol>\n<li>I found <a href=\"https://stackoverflow.com/questions/3657758/jpa-hibernate-mapping-dynamic-columns-as-a-list-of-objects\">this SO question</a>, which led to <a href=\"https://www.infoq.com/articles/hibernate-custom-fields/\" rel=\"nofollow noreferrer\">this</a> post which maybe solves the issue but requires loading the mapping on startup, which doesn't solve my problem since I'm constantly switching between schemas and therefore would have to reload the mapping over and over.</li>\n<li>Overriding <a href=\"https://docs.spring.io/spring-data/jdbc/docs/current/api/org/springframework/data/relational/core/mapping/RelationalMappingContext.html\" rel=\"nofollow noreferrer\">RelationalMappingContext</a> also assumes a constant schema.</li>\n<li>There should be a way to supply <code>EntityManager</code> as a bean but I can't figure out how and I'm not sure if that wouldn't run into the same issues as 1 &amp; 2.</li>\n<li>I can do something complicated with bytecode manipulation but this would require having an Entity per schema, which is too complicated.</li>\n<li>So I'm forced to consider overriding all methods in <code>CrudRepository</code> and providing my own implementation. That would be very hacky and unwieldy.</li>\n</ol>\n<p>Any other ideas?</p>\n"},{"tags":["java","android","ios","render","samsung-mobile"],"answers":[{"tags":[],"owner":{"account_id":28199332,"reputation":21,"user_id":21553392,"display_name":"deva eelic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680510026,"creation_date":1680510026,"answer_id":75917363,"question_id":75684805,"body_markdown":"Change the Material Design library version in your Android Studio project&#39;s build.gradle file to a version before 1.8.0. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    dependencies {\r\n      &#39;com.google.android.material:material:1.7.0&#39;\r\n     }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Activity layout screen disappears when I add a tab layout","body":"<p>Change the Material Design library version in your Android Studio project's build.gradle file to a version before 1.8.0.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>dependencies {\n  'com.google.android.material:material:1.7.0'\n }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":16644223,"reputation":29,"user_id":12028911,"display_name":"TacticalPeter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680510026,"creation_date":1678365872,"question_id":75684805,"body_markdown":"This is how the screen looks, with nothing on it:\r\n[![enter image description here][1]][1]\r\n\r\nThis is how the screen looks, when I add the tab layout:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI have tried refreshing it, closing the app and opening it again\r\n\r\nI get three rendering errors with the following messages:\r\n\r\n\r\n```Failed to find style with 2131032999```\r\n\r\n```Style ResourceReference{namespace=apk/res-auto, type=attr, name=textAppearanceButton} is not of type STYLE (instead attr)```\r\n\r\n\r\n\r\n```\r\n\r\n    java.lang.NullPointerException\r\n    \tat android.content.res.Resources_Theme_Delegate.obtainStyledAttributes(Resources_Theme_Delegate.java:74)\r\n    \tat android.content.res.Resources$Theme.obtainStyledAttributes(Resources.java:1631)\r\n    \tat android.content.Context.obtainStyledAttributes(Context.java:874)\r\n    \tat android.widget.TextView.setTextAppearance(TextView.java:3965)\r\n    \tat androidx.appcompat.widget.AppCompatTextView.setTextAppearance(AppCompatTextView.java:216)\r\n    \tat com.google.android.material.textview.MaterialTextView.setTextAppearance(MaterialTextView.java:106)\r\n    \tat android.widget.TextView.setTextAppearance(TextView.java:3954)\r\n    \tat androidx.core.widget.TextViewCompat.setTextAppearance(TextViewCompat.java:289)\r\n    \tat com.google.android.material.tabs.TabLayout$TabView.updateTab(TabLayout.java:2772)\r\n    \tat com.google.android.material.tabs.TabLayout$TabView.update(TabLayout.java:2801)\r\n    \tat com.google.android.material.tabs.TabLayout$TabView.setTab(TabLayout.java:2713)\r\n    \tat com.google.android.material.tabs.TabLayout.createTabView(TabLayout.java:1673)\r\n    \tat com.google.android.material.tabs.TabLayout.newTab(TabLayout.java:956)\r\n    \tat com.google.android.material.tabs.TabLayout.addTabFromItemView(TabLayout.java:824)\r\n    \tat com.google.android.material.tabs.TabLayout.addViewInternal(TabLayout.java:1730)\r\n    \tat com.google.android.material.tabs.TabLayout.addView(TabLayout.java:1720)\r\n    \tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1131)\r\n    \tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n    \tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n    \tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n    \tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\r\n    \tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n    \tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n    \tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:686)\r\n    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:505)\r\n    \tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:360)\r\n    \tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:443)\r\n    \tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\r\n    \tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:722)\r\n    \tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$9(RenderTask.java:879)\r\n    \tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:194)\r\n    \tat com.android.tools.idea.rendering.RenderExecutor$PriorityRunnable.run(RenderExecutor.kt:292)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cU6K7.png\r\n  [2]: https://i.stack.imgur.com/v7Wk5.png","title":"Activity layout screen disappears when I add a tab layout","body":"<p>This is how the screen looks, with nothing on it:\n<a href=\"https://i.stack.imgur.com/cU6K7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cU6K7.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how the screen looks, when I add the tab layout:\n<a href=\"https://i.stack.imgur.com/v7Wk5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v7Wk5.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried refreshing it, closing the app and opening it again</p>\n<p>I get three rendering errors with the following messages:</p>\n<p><code>Failed to find style with 2131032999</code></p>\n<p><code>Style ResourceReference{namespace=apk/res-auto, type=attr, name=textAppearanceButton} is not of type STYLE (instead attr)</code></p>\n<pre><code>\n    java.lang.NullPointerException\n        at android.content.res.Resources_Theme_Delegate.obtainStyledAttributes(Resources_Theme_Delegate.java:74)\n        at android.content.res.Resources$Theme.obtainStyledAttributes(Resources.java:1631)\n        at android.content.Context.obtainStyledAttributes(Context.java:874)\n        at android.widget.TextView.setTextAppearance(TextView.java:3965)\n        at androidx.appcompat.widget.AppCompatTextView.setTextAppearance(AppCompatTextView.java:216)\n        at com.google.android.material.textview.MaterialTextView.setTextAppearance(MaterialTextView.java:106)\n        at android.widget.TextView.setTextAppearance(TextView.java:3954)\n        at androidx.core.widget.TextViewCompat.setTextAppearance(TextViewCompat.java:289)\n        at com.google.android.material.tabs.TabLayout$TabView.updateTab(TabLayout.java:2772)\n        at com.google.android.material.tabs.TabLayout$TabView.update(TabLayout.java:2801)\n        at com.google.android.material.tabs.TabLayout$TabView.setTab(TabLayout.java:2713)\n        at com.google.android.material.tabs.TabLayout.createTabView(TabLayout.java:1673)\n        at com.google.android.material.tabs.TabLayout.newTab(TabLayout.java:956)\n        at com.google.android.material.tabs.TabLayout.addTabFromItemView(TabLayout.java:824)\n        at com.google.android.material.tabs.TabLayout.addViewInternal(TabLayout.java:1730)\n        at com.google.android.material.tabs.TabLayout.addView(TabLayout.java:1720)\n        at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1131)\n        at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n        at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\n        at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:686)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:505)\n        at com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:360)\n        at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:443)\n        at com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\n        at com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:722)\n        at com.android.tools.idea.rendering.RenderTask.lambda$inflate$9(RenderTask.java:879)\n        at com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:194)\n        at com.android.tools.idea.rendering.RenderExecutor$PriorityRunnable.run(RenderExecutor.kt:292)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n\n</code></pre>\n"},{"tags":["java","spring","postgresql","jdbc","connection"],"comments":[{"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"score":0,"creation_date":1680466424,"post_id":75914323,"comment_id":133899389,"body_markdown":"Are you  using some connection pool?","body":"Are you  using some connection pool?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680466558,"post_id":75914323,"comment_id":133899407,"body_markdown":"PreDestroy is the right one. Please check the Java version in use. If 11+ then add a dependency for javax.annotation-api","body":"PreDestroy is the right one. Please check the Java version in use. If 11+ then add a dependency for javax.annotation-api"},{"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"score":0,"creation_date":1680467317,"post_id":75914323,"comment_id":133899530,"body_markdown":"@Mar-Z adding the dependency was the first thing I did!! Still no result:(","body":"@Mar-Z adding the dependency was the first thing I did!! Still no result:("},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680515091,"post_id":75914323,"comment_id":133905675,"body_markdown":"Ditch your approach and inject the `JdbcTemplate` from Spring, that together with proper transaction management will do proper resource manageme.t","body":"Ditch your approach and inject the <code>JdbcTemplate</code> from Spring, that together with proper transaction management will do proper resource manageme.t"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680509895,"creation_date":1680465603,"question_id":75914323,"body_markdown":"I have a simple class that can search all tables in PostgreSQL and generate a ```SELECT``` query for them. Works fine but need advice on closing java.sql.Connection\r\nI&#39;d like my object to keep the database connection while the instance still exists. To do this, I created a private ```Connection connection``` field so that the connection to the database is not established and closed after each method is called (during one session), but is created once and closed after the main thread stops or after the bean is disposed of. I tried to use ```@PreDestroy``` and implement a ```DisposableBean``` interface but didn&#39;t see any clear result. So what is the correct approach to close such a connection?\r\n\r\nQueryBuilder class\r\n```\r\n@Component\r\npublic class PostgreSQLQueryBuilder implements SQLQueryBuilder{\r\n\r\n    private DatabaseMetaData metaData;\r\n    private Connection connection; // I need to close this somehow\r\n\r\n    @Autowired\r\n    public PostgreSQLQueryBuilder(DataSource dataSource) {\r\n        try {\r\n            this.connection = dataSource.getConnection();\r\n            this.metaData = connection.getMetaData();\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;Connection exception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String queryForTable(String tableName){\r\n        String resultQuery = null;\r\n        List&lt;String&gt; columnList = new ArrayList&lt;&gt;();\r\n        if (getTables().contains(tableName)) {\r\n            try (ResultSet columns = metaData.getColumns(null, null, tableName, null)) {\r\n                //some logic\r\n                return resultQuery;\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;Exception&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return resultQuery;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;String&gt; getTables() {\r\n        List&lt;String&gt; tables = new ArrayList&lt;&gt;();\r\n        try (ResultSet schemaRs = metaData.getSchemas()) {\r\n            while (schemaRs.next()) {\r\n                String currentSchema = schemaRs.getString(1);\r\n                try (ResultSet tableRS = metaData.getTables(null, currentSchema, &quot;%&quot;, new String[]{&quot;TABLE&quot;, &quot;SYSTEM TABLE&quot;})) {\r\n                    while (tableRS.next()) {\r\n                        tables.add(tableRS.getString(&quot;TABLE_NAME&quot;));\r\n                    }\r\n                }\r\n            }\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;Exception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        return tables;\r\n    }\r\n    // I tried this\r\n    @PreDestroy\r\n    private void closeConnections(){\r\n        try{\r\n           this.connection.close()\r\n           //this is not printed\r\n           System.out.println(&quot;Connection closed&quot;)\r\n        }catch(Exception e){\r\n           //some logic\r\n        }\r\n    }\r\n}\r\n```\r\nTesting class:\r\n```\r\npublic class SQLQueryExtenderTest {\r\n  public static void main(String[] args) throws Exception{\r\n    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(Config.class);\r\n    applicationContext.start();\r\n    SQLQueryBuilder queryBuilder = applicationContext.getBean(SQLQueryBuilder.class);\r\n    List&lt;String&gt; tables = queryBuilder.getTables();\r\n    System.out.println(tables);\r\n    System.out.println(queryBuilder.queryForTable(&quot;some_table&quot;));\r\n    System.out.println(queryBuilder.queryForTable(&quot;person&quot;));\r\n    System.out.println(queryBuilder.queryForTable(null));\r\n    }\r\n//I expect the connection to be closed at this point\r\n}\r\n```","title":"Java JDBC+Spring Connection closing","body":"<p>I have a simple class that can search all tables in PostgreSQL and generate a <code>SELECT</code> query for them. Works fine but need advice on closing java.sql.Connection\nI'd like my object to keep the database connection while the instance still exists. To do this, I created a private <code>Connection connection</code> field so that the connection to the database is not established and closed after each method is called (during one session), but is created once and closed after the main thread stops or after the bean is disposed of. I tried to use <code>@PreDestroy</code> and implement a <code>DisposableBean</code> interface but didn't see any clear result. So what is the correct approach to close such a connection?</p>\n<p>QueryBuilder class</p>\n<pre><code>@Component\npublic class PostgreSQLQueryBuilder implements SQLQueryBuilder{\n\n    private DatabaseMetaData metaData;\n    private Connection connection; // I need to close this somehow\n\n    @Autowired\n    public PostgreSQLQueryBuilder(DataSource dataSource) {\n        try {\n            this.connection = dataSource.getConnection();\n            this.metaData = connection.getMetaData();\n        } catch (SQLException e) {\n            System.out.println(&quot;Connection exception&quot;);\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public String queryForTable(String tableName){\n        String resultQuery = null;\n        List&lt;String&gt; columnList = new ArrayList&lt;&gt;();\n        if (getTables().contains(tableName)) {\n            try (ResultSet columns = metaData.getColumns(null, null, tableName, null)) {\n                //some logic\n                return resultQuery;\n            } catch (SQLException e) {\n                System.out.println(&quot;Exception&quot;);\n                e.printStackTrace();\n            }\n        }\n        return resultQuery;\n    }\n\n    @Override\n    public List&lt;String&gt; getTables() {\n        List&lt;String&gt; tables = new ArrayList&lt;&gt;();\n        try (ResultSet schemaRs = metaData.getSchemas()) {\n            while (schemaRs.next()) {\n                String currentSchema = schemaRs.getString(1);\n                try (ResultSet tableRS = metaData.getTables(null, currentSchema, &quot;%&quot;, new String[]{&quot;TABLE&quot;, &quot;SYSTEM TABLE&quot;})) {\n                    while (tableRS.next()) {\n                        tables.add(tableRS.getString(&quot;TABLE_NAME&quot;));\n                    }\n                }\n            }\n        } catch (SQLException e) {\n            System.out.println(&quot;Exception&quot;);\n            e.printStackTrace();\n        }\n        return tables;\n    }\n    // I tried this\n    @PreDestroy\n    private void closeConnections(){\n        try{\n           this.connection.close()\n           //this is not printed\n           System.out.println(&quot;Connection closed&quot;)\n        }catch(Exception e){\n           //some logic\n        }\n    }\n}\n</code></pre>\n<p>Testing class:</p>\n<pre><code>public class SQLQueryExtenderTest {\n  public static void main(String[] args) throws Exception{\n    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(Config.class);\n    applicationContext.start();\n    SQLQueryBuilder queryBuilder = applicationContext.getBean(SQLQueryBuilder.class);\n    List&lt;String&gt; tables = queryBuilder.getTables();\n    System.out.println(tables);\n    System.out.println(queryBuilder.queryForTable(&quot;some_table&quot;));\n    System.out.println(queryBuilder.queryForTable(&quot;person&quot;));\n    System.out.println(queryBuilder.queryForTable(null));\n    }\n//I expect the connection to be closed at this point\n}\n</code></pre>\n"},{"tags":["java","maven","confluence","atlassian-plugin-sdk"],"answers":[{"comments":[{"owner":{"account_id":200910,"reputation":3887,"user_id":447040,"accept_rate":66,"display_name":"Gobliins"},"score":0,"creation_date":1680508708,"post_id":75898385,"comment_id":133904288,"body_markdown":"Thx for the answer. Been there already. Problem is, the mentioned classes are marked as Internal and are not for plugin use.","body":"Thx for the answer. Been there already. Problem is, the mentioned classes are marked as Internal and are not for plugin use."},{"owner":{"account_id":3483662,"reputation":926,"user_id":2915087,"accept_rate":0,"display_name":"Krzysztof Bogdan"},"score":0,"creation_date":1680525651,"post_id":75898385,"comment_id":133908132,"body_markdown":"@Gobliins I did not confirmed it but there is somebody who claims that `@Internal` is not a problem: https://community.developer.atlassian.com/t/broken-java-api-in-confluence-8-eap-contentsearch-getbyid-etc/62907/15?u=krzysztofbogdan1","body":"@Gobliins I did not confirmed it but there is somebody who claims that <code>@Internal</code> is not a problem: <a href=\"https://community.developer.atlassian.com/t/broken-java-api-in-confluence-8-eap-contentsearch-getbyid-etc/62907/15?u=krzysztofbogdan1\" rel=\"nofollow noreferrer\">community.developer.atlassian.com/t/&hellip;</a>"}],"tags":[],"owner":{"account_id":3483662,"reputation":926,"user_id":2915087,"accept_rate":0,"display_name":"Krzysztof Bogdan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680264621,"creation_date":1680264621,"answer_id":75898385,"question_id":75889207,"body_markdown":"I think, here is the best answer provided by a Atlassian staff member:\r\nhttps://community.developer.atlassian.com/t/broken-java-api-in-confluence-8-eap-contentsearch-getbyid-etc/62907/8\r\n\r\nSummary: `SearchFilter` is replaced with `SearchQuery` and\r\n`SiteSearchPermissionsSearchFilter` by [`SiteSearchPermissionsQuery`][1].\r\n\r\n\r\n  [1]: https://docs.atlassian.com/ConfluenceServer/javadoc/8.0.2/com/atlassian/confluence/impl/search/v2/SiteSearchPermissionsQuery.html","title":"Confluence 8.0 plugin, searchFilter deprecated / removed","body":"<p>I think, here is the best answer provided by a Atlassian staff member:\n<a href=\"https://community.developer.atlassian.com/t/broken-java-api-in-confluence-8-eap-contentsearch-getbyid-etc/62907/8\" rel=\"nofollow noreferrer\">https://community.developer.atlassian.com/t/broken-java-api-in-confluence-8-eap-contentsearch-getbyid-etc/62907/8</a></p>\n<p>Summary: <code>SearchFilter</code> is replaced with <code>SearchQuery</code> and\n<code>SiteSearchPermissionsSearchFilter</code> by <a href=\"https://docs.atlassian.com/ConfluenceServer/javadoc/8.0.2/com/atlassian/confluence/impl/search/v2/SiteSearchPermissionsQuery.html\" rel=\"nofollow noreferrer\"><code>SiteSearchPermissionsQuery</code></a>.</p>\n"}],"owner":{"account_id":200910,"reputation":3887,"user_id":447040,"accept_rate":66,"display_name":"Gobliins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680509304,"creation_date":1680184637,"question_id":75889207,"body_markdown":"With Confluence Version 8.0 the:\r\n\r\n    import com.atlassian.confluence.search.v2.searchfilter.SiteSearchPermissionsSearchFilter;\r\nhas been removed and the docs say:\r\n\r\n    com.atlassian.confluence.search.v2.searchfilter (use the equivalent class that extends SearchQuery in 8.0)\r\n\r\nWhich is now the right way to create a searchQuery / searchFilter?\r\n\r\nCurrent (Deprecated) Code:\r\n\r\n    import com.atlassian.confluence.search.v2.query.BooleanQuery;\r\n    import com.atlassian.confluence.search.v2.searchfilter.SiteSearchPermissionsSearchFilter;\r\n\r\n    ....\r\n\r\n    ContentSearch search = new ContentSearch(BooleanQuery.composeAndQuery(allQueries), RELEVANCE_SORT, SiteSearchPermissionsSearchFilter.getInstance(), 0, 1);\r\n\r\n\r\nHow can this be done with the Confluence 8.0 API?\r\n\r\nEdit:\r\nWe are developing a Plugin and the corresponding 8.0 classes from the docs \r\nSiteSearchPermissionsSearchFilter, SiteSearchPermissionsQuery are marked as Internal (not for plugin use)\r\n","title":"Confluence 8.0 plugin, searchFilter deprecated / removed","body":"<p>With Confluence Version 8.0 the:</p>\n<pre><code>import com.atlassian.confluence.search.v2.searchfilter.SiteSearchPermissionsSearchFilter;\n</code></pre>\n<p>has been removed and the docs say:</p>\n<pre><code>com.atlassian.confluence.search.v2.searchfilter (use the equivalent class that extends SearchQuery in 8.0)\n</code></pre>\n<p>Which is now the right way to create a searchQuery / searchFilter?</p>\n<p>Current (Deprecated) Code:</p>\n<pre><code>import com.atlassian.confluence.search.v2.query.BooleanQuery;\nimport com.atlassian.confluence.search.v2.searchfilter.SiteSearchPermissionsSearchFilter;\n\n....\n\nContentSearch search = new ContentSearch(BooleanQuery.composeAndQuery(allQueries), RELEVANCE_SORT, SiteSearchPermissionsSearchFilter.getInstance(), 0, 1);\n</code></pre>\n<p>How can this be done with the Confluence 8.0 API?</p>\n<p>Edit:\nWe are developing a Plugin and the corresponding 8.0 classes from the docs\nSiteSearchPermissionsSearchFilter, SiteSearchPermissionsQuery are marked as Internal (not for plugin use)</p>\n"},{"tags":["java","json","rest"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1680367954,"post_id":75907534,"comment_id":133888195,"body_markdown":"Your response actually looks like `List&lt;Root&gt;`, not `RestResponse`","body":"Your response actually looks like <code>List&lt;Root&gt;</code>, not <code>RestResponse</code>"},{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1680368008,"post_id":75907534,"comment_id":133888206,"body_markdown":"but I can not add generics as return object in postForEntity","body":"but I can not add generics as return object in postForEntity"},{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1680368090,"post_id":75907534,"comment_id":133888225,"body_markdown":"wait a minute, I have a workaround","body":"wait a minute, I have a workaround"}],"answers":[{"comments":[{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":1,"creation_date":1680368979,"post_id":75907647,"comment_id":133888372,"body_markdown":"ah ok thx so there is no way to cast in postForEntity and I need to return string and then use mapper thx","body":"ah ok thx so there is no way to cast in postForEntity and I need to return string and then use mapper thx"}],"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680368483,"creation_date":1680368483,"answer_id":75907647,"question_id":75907534,"body_markdown":"There is no way to explicitly ask `RestTemplate` to deserialize into `List&lt;Root&gt;`, but you can ask `ObjectMapper`! (if you are using Spring, there is one already available in context) The trick is to store type information into `TypeReference&lt;T&gt;`.\r\n\r\n```\r\n    ObjectMapper mapper = ...;\r\n    ResponseEntity&lt;String&gt; rawResult = restTemplate.postForEntity(uri, entity, String.class);\r\n    List&lt;Root&gt; result = mapper.readValue(rawResult.getBody(), new TypeReference&lt;List&lt;Root&gt;&gt;(){\r\n        /*yes, this is anonymous class*/\r\n    });\r\n```    ","title":"How to parse JSON response from rest request without name of root element in java","body":"<p>There is no way to explicitly ask <code>RestTemplate</code> to deserialize into <code>List&lt;Root&gt;</code>, but you can ask <code>ObjectMapper</code>! (if you are using Spring, there is one already available in context) The trick is to store type information into <code>TypeReference&lt;T&gt;</code>.</p>\n<pre><code>    ObjectMapper mapper = ...;\n    ResponseEntity&lt;String&gt; rawResult = restTemplate.postForEntity(uri, entity, String.class);\n    List&lt;Root&gt; result = mapper.readValue(rawResult.getBody(), new TypeReference&lt;List&lt;Root&gt;&gt;(){\n        /*yes, this is anonymous class*/\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680451289,"creation_date":1680387996,"answer_id":75909163,"question_id":75907534,"body_markdown":"With **RestTemplate** you could fetch an array of entities and convert it to a list:\r\n\r\n```\r\nRoot[] rootArray = restTemplate.getForObject(uri, Root[].class);\r\nList&lt;Root&gt; roots = Arrays.stream(rootArray).collect(Collectors.toList());\r\n```\r\n\r\nIf you need an unmodifiable list you could use `List.of()` or `Arrays.asList()`.\r\n\r\n---\r\nConverting with ObjectMapper you could do a similar thing:\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nRoot[] root = mapper.readValue(myJsonString, Root[].class);\r\n```","title":"How to parse JSON response from rest request without name of root element in java","body":"<p>With <strong>RestTemplate</strong> you could fetch an array of entities and convert it to a list:</p>\n<pre><code>Root[] rootArray = restTemplate.getForObject(uri, Root[].class);\nList&lt;Root&gt; roots = Arrays.stream(rootArray).collect(Collectors.toList());\n</code></pre>\n<p>If you need an unmodifiable list you could use <code>List.of()</code> or <code>Arrays.asList()</code>.</p>\n<hr />\n<p>Converting with ObjectMapper you could do a similar thing:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nRoot[] root = mapper.readValue(myJsonString, Root[].class);\n</code></pre>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680508966,"creation_date":1680367483,"question_id":75907534,"body_markdown":"I got a response to my request:\r\n\r\n    [\r\n       {\r\n          &quot;data&quot;:{\r\n             &quot;channel&quot;:{\r\n                &quot;id&quot;:&quot;708087644&quot;,            \r\n                &quot;__typename&quot;:&quot;User&quot;\r\n             }\r\n          },\r\n          &quot;extensions&quot;:{\r\n             &quot;durationMilliseconds&quot;:112,\r\n             &quot;operationName&quot;:&quot;ViewerCardModLogsMessagesBySender&quot;,\r\n             &quot;requestID&quot;:&quot;01GWVKPD13BQGBZS64TY4824B9&quot;\r\n          }\r\n       }\r\n    ]\r\n\r\nI am trying to create a Java class where I can parse this response:\r\n\r\n    ResponseEntity&lt;RestResponse&gt; result = restTemplate.postForEntity(uri, entity, RestResponse.class);\r\n\r\nHowever, I still got an exception:\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `org.tomass.twitch.RestResponse` from Array value (token `JsonToken.START_ARRAY`)\r\n     at [Source: (PushbackInputStream); line: 1, column: 1]\r\n\r\n`RestResponse` looks like this:\r\n\r\n    public class RestResponse implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private List&lt;Root&gt; root = new ArrayList&lt;&gt;();\r\n    \r\n        public List&lt;Root&gt; getRoot() {\r\n            return root;\r\n        }\r\n    \r\n        public void setRoot(List&lt;Root&gt; root) {\r\n            this.root = root;\r\n        }\r\n    \r\n        public static class Root {\r\n    \r\n            private Data data;\r\n    \r\n            // getters &amp; setters\r\n    \r\n            public class Data {\r\n                private Channel channel;\r\n    \r\n                // getters &amp; setters\r\n            }\r\n        }\r\n    }\r\n\r\nWhen editing the response and the name of the root list then it works: `&quot;{\\&quot;root\\&quot;:` \r\nbut I don&#39;t know how to parse it without it.","title":"How to parse JSON response from rest request without name of root element in java","body":"<p>I got a response to my request:</p>\n<pre><code>[\n   {\n      &quot;data&quot;:{\n         &quot;channel&quot;:{\n            &quot;id&quot;:&quot;708087644&quot;,            \n            &quot;__typename&quot;:&quot;User&quot;\n         }\n      },\n      &quot;extensions&quot;:{\n         &quot;durationMilliseconds&quot;:112,\n         &quot;operationName&quot;:&quot;ViewerCardModLogsMessagesBySender&quot;,\n         &quot;requestID&quot;:&quot;01GWVKPD13BQGBZS64TY4824B9&quot;\n      }\n   }\n]\n</code></pre>\n<p>I am trying to create a Java class where I can parse this response:</p>\n<pre><code>ResponseEntity&lt;RestResponse&gt; result = restTemplate.postForEntity(uri, entity, RestResponse.class);\n</code></pre>\n<p>However, I still got an exception:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `org.tomass.twitch.RestResponse` from Array value (token `JsonToken.START_ARRAY`)\n at [Source: (PushbackInputStream); line: 1, column: 1]\n</code></pre>\n<p><code>RestResponse</code> looks like this:</p>\n<pre><code>public class RestResponse implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    private List&lt;Root&gt; root = new ArrayList&lt;&gt;();\n\n    public List&lt;Root&gt; getRoot() {\n        return root;\n    }\n\n    public void setRoot(List&lt;Root&gt; root) {\n        this.root = root;\n    }\n\n    public static class Root {\n\n        private Data data;\n\n        // getters &amp; setters\n\n        public class Data {\n            private Channel channel;\n\n            // getters &amp; setters\n        }\n    }\n}\n</code></pre>\n<p>When editing the response and the name of the root list then it works: <code>&quot;{\\&quot;root\\&quot;:</code>\nbut I don't know how to parse it without it.</p>\n"},{"tags":["java","authentication","jakarta-ee","jwt","principal"],"owner":{"account_id":28200708,"reputation":1,"user_id":21554540,"display_name":"krokybrokyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680508960,"creation_date":1680508960,"question_id":75917227,"body_markdown":"I want to add JWT auth to my Jakarta EE Liberty project. I get the following error:\r\n\r\n[ERROR   ] CWWKS5604E: A JsonWebToken Principal can&#39;t be injected because one is not available. Protect the requesting resource so authentication occurs before the resource is accessed.\r\n\r\nThis is the app:\r\n\r\n\r\n```\r\n@ApplicationPath(&quot;rest&quot;)\r\n@LoginConfig(authMethod = &quot;MP-JWT&quot;)\r\n@DeclareRoles({ &quot;somerole&quot;, &quot;anotherrole })\r\npublic class ApplicationConfig extends Application {\r\n```\r\n\r\n\r\n```\r\nimport java.security.Principal;\r\n\r\nimport org.eclipse.microprofile.jwt.JsonWebToken;\r\n\r\nimport jakarta.annotation.security.RolesAllowed;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.Path;\r\n\r\n\r\n@RolesAllowed(&quot;somerole&quot;)\r\n@Path(&quot;/testjwt&quot;)\r\npublic class TestJWT\r\n{  \r\n    @Inject\r\n    private JsonWebToken token;\r\n    \r\n    @Inject\r\n    private Principal principal;\r\n    \r\n\r\n    @GET\r\n    public String ping() {\r\n        return &quot;Ping OK&quot;;\r\n    }\r\n    \r\n    @GET\r\n    @Path(&quot;hey&quot;)\r\n    public String p() {\r\n        return &quot;hey&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAccording to [this thred](https://stackoverflow.com/questions/67669555/websphere-liberty-jwt-a-jsonwebtoken-principal-cant-be-injected-because-one), the problem was with @PermitAll and resources not being protected and should be solved by using RolesAllowed. But I do have RolesAllowed tag, I tried to add it everywhere, ... And I still get the same error. Why? How to solve id? What else do I need to do to be able to use JWT?","title":"Liberty JWT : A JsonWebToken Principal can&#39;t be injected because one is not available","body":"<p>I want to add JWT auth to my Jakarta EE Liberty project. I get the following error:</p>\n<p>[ERROR   ] CWWKS5604E: A JsonWebToken Principal can't be injected because one is not available. Protect the requesting resource so authentication occurs before the resource is accessed.</p>\n<p>This is the app:</p>\n<pre><code>@ApplicationPath(&quot;rest&quot;)\n@LoginConfig(authMethod = &quot;MP-JWT&quot;)\n@DeclareRoles({ &quot;somerole&quot;, &quot;anotherrole })\npublic class ApplicationConfig extends Application {\n</code></pre>\n<pre><code>import java.security.Principal;\n\nimport org.eclipse.microprofile.jwt.JsonWebToken;\n\nimport jakarta.annotation.security.RolesAllowed;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\n\n\n@RolesAllowed(&quot;somerole&quot;)\n@Path(&quot;/testjwt&quot;)\npublic class TestJWT\n{  \n    @Inject\n    private JsonWebToken token;\n    \n    @Inject\n    private Principal principal;\n    \n\n    @GET\n    public String ping() {\n        return &quot;Ping OK&quot;;\n    }\n    \n    @GET\n    @Path(&quot;hey&quot;)\n    public String p() {\n        return &quot;hey&quot;;\n    }\n}\n</code></pre>\n<p>According to <a href=\"https://stackoverflow.com/questions/67669555/websphere-liberty-jwt-a-jsonwebtoken-principal-cant-be-injected-because-one\">this thred</a>, the problem was with @PermitAll and resources not being protected and should be solved by using RolesAllowed. But I do have RolesAllowed tag, I tried to add it everywhere, ... And I still get the same error. Why? How to solve id? What else do I need to do to be able to use JWT?</p>\n"},{"tags":["java","xml","jmeter","beanshell","readxml"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1455604154,"creation_date":1455604154,"answer_id":35425312,"question_id":35423876,"body_markdown":"Try out the following:\r\n\r\n 1. Add [Beanshell Sampler][1] to your Test Plan\r\n 2. Put the following code into the sampler&#39;s &quot;Script&quot; area:\r\n\r\n        import org.apache.commons.io.FileUtils;\r\n\r\n        try {\r\n            String content = FileUtils.readFileToString(new File(&quot;C:/QC/qa/Testlink/Jmeter/Expected/test.xml&quot;));\r\n            vars.put(&quot;content&quot;, content);\r\n\r\n        } catch (Throwable ex) {\r\n            log.info(&quot;Failed to read \\&quot;test.xml\\&quot; file&quot;, ex);\r\n            throw ex;\r\n        }\r\n\r\n 3. Add [Debug Sampler][2] and [View Results Tree][3] listener to your Test Plan\r\n 4. Run the test\r\n 5. Make sure that Beanshell Sampler is green and `${content}` variable is set. If not - look into **jmeter.log** file and search for the line `Failed to read &quot;test.xml&quot; file`. If exception stacktrace below this line tells you nothing - post it here. \r\n\r\nSee [How to Use BeanShell: JMeter&#39;s Favorite Built-in Component][4] guide for more information on using Beanshell in your JMeter test. \r\n\r\n\r\n  [1]: http://jmeter.apache.org/usermanual/component_reference.html#BeanShell_Sampler\r\n  [2]: http://jmeter.apache.org/usermanual/component_reference.html#Debug_Sampler\r\n  [3]: http://jmeter.apache.org/usermanual/component_reference.html#View_Results_Tree\r\n  [4]: https://blazemeter.com/blog/queen-jmeters-built-componentshow-use-beanshell","title":"How to read XML file in JMeter?","body":"<p>Try out the following:</p>\n\n<ol>\n<li>Add <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#BeanShell_Sampler\" rel=\"noreferrer\">Beanshell Sampler</a> to your Test Plan</li>\n<li><p>Put the following code into the sampler's \"Script\" area:</p>\n\n<pre><code>import org.apache.commons.io.FileUtils;\n\ntry {\n    String content = FileUtils.readFileToString(new File(\"C:/QC/qa/Testlink/Jmeter/Expected/test.xml\"));\n    vars.put(\"content\", content);\n\n} catch (Throwable ex) {\n    log.info(\"Failed to read \\\"test.xml\\\" file\", ex);\n    throw ex;\n}\n</code></pre></li>\n<li><p>Add <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#Debug_Sampler\" rel=\"noreferrer\">Debug Sampler</a> and <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#View_Results_Tree\" rel=\"noreferrer\">View Results Tree</a> listener to your Test Plan</p></li>\n<li>Run the test</li>\n<li>Make sure that Beanshell Sampler is green and <code>${content}</code> variable is set. If not - look into <strong>jmeter.log</strong> file and search for the line <code>Failed to read \"test.xml\" file</code>. If exception stacktrace below this line tells you nothing - post it here. </li>\n</ol>\n\n<p>See <a href=\"https://blazemeter.com/blog/queen-jmeters-built-componentshow-use-beanshell\" rel=\"noreferrer\">How to Use BeanShell: JMeter's Favorite Built-in Component</a> guide for more information on using Beanshell in your JMeter test. </p>\n"},{"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1680369172,"post_id":75857467,"comment_id":133888399,"body_markdown":"Please add the supporting condition into your answer, links get broken over time.","body":"Please add the supporting condition into your answer, links get broken over time."}],"tags":[],"owner":{"account_id":16020189,"reputation":13,"user_id":11561870,"display_name":"Jan Rohan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680508637,"creation_date":1679930126,"answer_id":75857467,"question_id":35423876,"body_markdown":"maybe this will be also helpful for anyone. JMETER also can use HTTP request to read the file from your local disk, credit goes to this page - you can use **&quot;file&quot;** in protocol field: \r\n\r\nLike that (HTTP Request sampler):\r\n[![enter image description here][1]][1]\r\n\r\nhttps://www.blazemeter.com/blog/extracting-data-files-jmeter\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8aYWP.png","title":"How to read XML file in JMeter?","body":"<p>maybe this will be also helpful for anyone. JMETER also can use HTTP request to read the file from your local disk, credit goes to this page - you can use <strong>&quot;file&quot;</strong> in protocol field:</p>\n<p>Like that (HTTP Request sampler):\n<a href=\"https://i.stack.imgur.com/8aYWP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8aYWP.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://www.blazemeter.com/blog/extracting-data-files-jmeter\" rel=\"nofollow noreferrer\">https://www.blazemeter.com/blog/extracting-data-files-jmeter</a></p>\n"}],"owner":{"account_id":7849127,"reputation":33,"user_id":5933140,"display_name":"Akshay Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10463,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35425312,"answer_count":2,"score":3,"last_activity_date":1680508637,"creation_date":1455597593,"question_id":35423876,"body_markdown":"I have tried:\r\n\r\n `//${__FileToString(C:\\\\QC\\\\qa\\\\Testlink\\\\Jmeter\\\\Expected\\\\test.xml,ASCII,${xmlFile})};`\r\n\r\nFound error message :\r\n*`org.apache.jorphan.util.JMeterException: Error invoking bsh method: eval\tIn file: inline evaluation of: ``//&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  &lt;feed xmlns=&quot;http://www.w3.org/2005/At . . . &#39;&#39; Encountered &quot;&lt;&quot; at line 2, column 1.`*\r\n\r\nalso, I tried with `${__StringFromFile}` and got the same error message and even with beanshell script that is:\r\n\r\n    import org.apache.jmeter.services.FileServer;\r\n    \r\n      //Open the file  \r\n      FileInputStream fstream = new FileInputStream(&quot;C://QC//qa//Testlink//Jmeter//Expected//test.xml&quot;);  \r\n      //Get the object of DataInputStream  \r\n      DataInputStream instream = new DataInputStream(fstream);  \r\n      BufferedReader br = new BufferedReader(new InputStreamReader(instream));","title":"How to read XML file in JMeter?","body":"<p>I have tried:</p>\n\n<p><code>//${__FileToString(C:\\\\QC\\\\qa\\\\Testlink\\\\Jmeter\\\\Expected\\\\test.xml,ASCII,${xmlFile})};</code></p>\n\n<p>Found error message :\n<em><code>org.apache.jorphan.util.JMeterException: Error invoking bsh method: eval  In file: inline evaluation of: ``//&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;  &lt;feed xmlns=\"http://www.w3.org/2005/At . . . '' Encountered \"&lt;\" at line 2, column 1.</code></em></p>\n\n<p>also, I tried with <code>${__StringFromFile}</code> and got the same error message and even with beanshell script that is:</p>\n\n<pre><code>import org.apache.jmeter.services.FileServer;\n\n  //Open the file  \n  FileInputStream fstream = new FileInputStream(\"C://QC//qa//Testlink//Jmeter//Expected//test.xml\");  \n  //Get the object of DataInputStream  \n  DataInputStream instream = new DataInputStream(fstream);  \n  BufferedReader br = new BufferedReader(new InputStreamReader(instream));\n</code></pre>\n"},{"tags":["java","json","encoding","xss","owasp"],"owner":{"account_id":23384526,"reputation":1,"user_id":17450095,"display_name":"Sriharsha Nanduri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680506994,"creation_date":1680506994,"question_id":75916968,"body_markdown":"I&#39;m using [owasp-java-encoder](https://github.com/OWASP/owasp-java-encoder) to encode user input from client side (frontend) before passing it on to my backend controller/server to prevent any code injection via input field but I&#39;m facing an issue when the payload is a JSON. \r\n\r\nFor ex: if the JSON payload is something like\r\n\r\n`{&quot;foo&quot;:&quot;[\\&quot;end\\&quot;]&quot;,&quot;foo2&quot;:&quot;[\\&quot;get\\&quot;,\\&quot;end\\&quot;]&quot;}`\r\n\r\nthen encoded output is :\r\n\r\n`{&amp;#34;foo&amp;#34;:&amp;#34;[\\&amp;#34;end\\&amp;#34;]&amp;#34;,&amp;#34;foo2&amp;#34;:&amp;#34;[\\&amp;#34;get\\&amp;#34;,\\&amp;#34;end\\&amp;#34;]&amp;#34;}`\r\n\r\nso essentially what&#39;s happening is double quotes (&quot;) and single quotes (&#39;) are also being encoded so when this encoded string is passed to backend and expected to perform JSON operations on it, errors are being thrown.\r\n\r\nany idea or suggestions on how to skip encoding double quotes (&quot;) and single quotes (&#39;)? or any special way to encode JSON using this library?\r\n\r\nI tried using a custom encoding logic but we are expected to use owasp-java-encoder only for encoding purpose.\r\n\r\nI&#39;m expecting to have some mechanism to encode only elements in JSON instead of how JSON.","title":"How to prevent encoding JSON string when using owasp-java-encoder?","body":"<p>I'm using <a href=\"https://github.com/OWASP/owasp-java-encoder\" rel=\"nofollow noreferrer\">owasp-java-encoder</a> to encode user input from client side (frontend) before passing it on to my backend controller/server to prevent any code injection via input field but I'm facing an issue when the payload is a JSON.</p>\n<p>For ex: if the JSON payload is something like</p>\n<p><code>{&quot;foo&quot;:&quot;[\\&quot;end\\&quot;]&quot;,&quot;foo2&quot;:&quot;[\\&quot;get\\&quot;,\\&quot;end\\&quot;]&quot;}</code></p>\n<p>then encoded output is :</p>\n<p><code>{&amp;#34;foo&amp;#34;:&amp;#34;[\\&amp;#34;end\\&amp;#34;]&amp;#34;,&amp;#34;foo2&amp;#34;:&amp;#34;[\\&amp;#34;get\\&amp;#34;,\\&amp;#34;end\\&amp;#34;]&amp;#34;}</code></p>\n<p>so essentially what's happening is double quotes (&quot;) and single quotes (') are also being encoded so when this encoded string is passed to backend and expected to perform JSON operations on it, errors are being thrown.</p>\n<p>any idea or suggestions on how to skip encoding double quotes (&quot;) and single quotes (')? or any special way to encode JSON using this library?</p>\n<p>I tried using a custom encoding logic but we are expected to use owasp-java-encoder only for encoding purpose.</p>\n<p>I'm expecting to have some mechanism to encode only elements in JSON instead of how JSON.</p>\n"},{"tags":["java","arrays","sorting","loops","max"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1373660849,"post_id":17623468,"comment_id":25656353,"body_markdown":"It looks like you need to reconsider how to update when you find a new element in the top 5.","body":"It looks like you need to reconsider how to update when you find a new element in the top 5."},{"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"score":0,"creation_date":1373660985,"post_id":17623468,"comment_id":25656423,"body_markdown":"there are some index-preserving approaches in [this discussion](http://stackoverflow.com/questions/951848/java-array-sort-quick-way-to-get-a-sorted-list-of-indices-of-an-array?rq=1)","body":"there are some index-preserving approaches in <a href=\"http://stackoverflow.com/questions/951848/java-array-sort-quick-way-to-get-a-sorted-list-of-indices-of-an-array?rq=1\">this discussion</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1373661618,"post_id":17623468,"comment_id":25656734,"body_markdown":"(To be clear, your approach is already pretty close to right; you just need to rework that third loop.)","body":"(To be clear, your approach is already pretty close to right; you just need to rework that third loop.)"},{"owner":{"account_id":1534856,"reputation":8614,"user_id":1431182,"accept_rate":84,"display_name":"mistahenry"},"score":0,"creation_date":1373661739,"post_id":17623468,"comment_id":25656794,"body_markdown":"can you use arraylists? that might lead to an easier algorithm","body":"can you use arraylists? that might lead to an easier algorithm"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1373662366,"post_id":17623468,"comment_id":25657097,"body_markdown":"Start by getting the index of the *first* maximum.","body":"Start by getting the index of the <i>first</i> maximum."}],"answers":[{"comments":[{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1373661226,"post_id":17623521,"comment_id":25656521,"body_markdown":"@TheNewIdiot - the correct usage is `lg` not `log`. And 4.a is not the same as 5, because it&#39;s not a different step - it&#39;s what happens during the iteration.","body":"@TheNewIdiot - the correct usage is <code>lg</code> not <code>log</code>. And 4.a is not the same as 5, because it&#39;s not a different step - it&#39;s what happens during the iteration."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1373661827,"post_id":17623521,"comment_id":25656833,"body_markdown":"@Hunter Kind of. `lg` means `log base 2`. When in big `O` notation, they do condense to one another because they are on the same order, that&#39;s correct. However, if that change had been reviewed it would have been rejected as &quot;too minor&quot;, and the changing of 4.a to 5 would be rejected as &quot;incorrect&quot;.","body":"@Hunter Kind of. <code>lg</code> means <code>log base 2</code>. When in big <code>O</code> notation, they do condense to one another because they are on the same order, that&#39;s correct. However, if that change had been reviewed it would have been rejected as &quot;too minor&quot;, and the changing of 4.a to 5 would be rejected as &quot;incorrect&quot;."}],"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1373662831,"creation_date":1373660988,"answer_id":17623521,"question_id":17623468,"body_markdown":"Sorting is an option, at the expense of extra memory. Consider the following algorithm.\r\n\r\n    1. Allocate additional array and copy into - O(n)\r\n    2. Sort additional array - O(n lg n)\r\n    3. Lop off the top k elements (in this case 5) - O(n), since k could be up to n\r\n    4. Iterate over the original array - O(n)\r\n        4.a search the top k elements for to see if they contain the current element - O(lg n)\r\n\r\nSo it step 4 is (n * lg n), just like the sort. The entire algorithm is n lg n, and is very simple to code.\r\n\r\nHere&#39;s a quick and dirty example. There may be bugs in it, and obviously null checking and the like come into play.\r\n\r\nimport java.util.Arrays;\r\n\r\n    class ArrayTest {\r\n    \r\n        public static void main(String[] args) {\r\n            int[] arr = {1, 3, 5, 7, 9, 2, 4, 6, 8, 10};\r\n            int[] indexes = indexesOfTopElements(arr,3);\r\n            for(int i = 0; i &lt; indexes.length; i++) {\r\n                int index = indexes[i];\r\n                System.out.println(index + &quot; &quot; + arr[index]);\r\n            }\r\n        }\r\n    \r\n        static int[] indexesOfTopElements(int[] orig, int nummax) {\r\n            int[] copy = Arrays.copyOf(orig,orig.length);\r\n            Arrays.sort(copy);\r\n            int[] honey = Arrays.copyOfRange(copy,copy.length - nummax, copy.length);\r\n            int[] result = new int[nummax];\r\n            int resultPos = 0;\r\n            for(int i = 0; i &lt; orig.length; i++) {\r\n                int onTrial = orig[i];\r\n                int index = Arrays.binarySearch(honey,onTrial);\r\n                if(index &lt; 0) continue;\r\n                result[resultPos++] = i;\r\n            }\r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\nThere are other things you can do to reduce the overhead of this operation. For example instead of sorting, you could opt to use a queue that just tracks the largest 5. Being `int`s they values would probably have to be boxed to be added to a collection (unless you rolled your own) which adds to overhead significantly.","title":"Get indices of n maximums in java array","body":"<p>Sorting is an option, at the expense of extra memory. Consider the following algorithm.</p>\n\n<pre><code>1. Allocate additional array and copy into - O(n)\n2. Sort additional array - O(n lg n)\n3. Lop off the top k elements (in this case 5) - O(n), since k could be up to n\n4. Iterate over the original array - O(n)\n    4.a search the top k elements for to see if they contain the current element - O(lg n)\n</code></pre>\n\n<p>So it step 4 is (n * lg n), just like the sort. The entire algorithm is n lg n, and is very simple to code.</p>\n\n<p>Here's a quick and dirty example. There may be bugs in it, and obviously null checking and the like come into play.</p>\n\n<p>import java.util.Arrays;</p>\n\n<pre><code>class ArrayTest {\n\n    public static void main(String[] args) {\n        int[] arr = {1, 3, 5, 7, 9, 2, 4, 6, 8, 10};\n        int[] indexes = indexesOfTopElements(arr,3);\n        for(int i = 0; i &lt; indexes.length; i++) {\n            int index = indexes[i];\n            System.out.println(index + \" \" + arr[index]);\n        }\n    }\n\n    static int[] indexesOfTopElements(int[] orig, int nummax) {\n        int[] copy = Arrays.copyOf(orig,orig.length);\n        Arrays.sort(copy);\n        int[] honey = Arrays.copyOfRange(copy,copy.length - nummax, copy.length);\n        int[] result = new int[nummax];\n        int resultPos = 0;\n        for(int i = 0; i &lt; orig.length; i++) {\n            int onTrial = orig[i];\n            int index = Arrays.binarySearch(honey,onTrial);\n            if(index &lt; 0) continue;\n            result[resultPos++] = i;\n        }\n        return result;\n    }\n\n}\n</code></pre>\n\n<p>There are other things you can do to reduce the overhead of this operation. For example instead of sorting, you could opt to use a queue that just tracks the largest 5. Being <code>int</code>s they values would probably have to be boxed to be added to a collection (unless you rolled your own) which adds to overhead significantly.</p>\n"},{"comments":[{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":1,"creation_date":1373661267,"post_id":17623542,"comment_id":25656539,"body_markdown":"OP wants to preserve the indexes in the original array.","body":"OP wants to preserve the indexes in the original array."}],"tags":[],"owner":{"account_id":175348,"reputation":7565,"user_id":405303,"accept_rate":50,"display_name":"Jon Kiparsky"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1373662024,"creation_date":1373661091,"answer_id":17623542,"question_id":17623468,"body_markdown":"Arrays.sort(myArray), then take the final 5 elements. \r\n\r\nSort a copy if you want to preserve the original order.\r\n\r\nIf you want the indices, there isn&#39;t a quick-and-dirty solution as there would be in python or some other languages. You sort and scan, but that&#39;s ugly. \r\n\r\nOr you could go objecty - this is java, after all. \r\nMake an ArrayMaxFilter object. It&#39;ll have a private class ArrayElement, which consists of an index and a value and has a natural ordering by value. It&#39;ll have a method which takes a pair of ints, index and value, creates an ArrayElement of them, and drops them into a priority queue of length 5. (or however many you want to find). Submit each index/value pair from the array, then report out the values remaining in the queue. \r\n(yes, a priority queue traditionally keeps the lowest values, but you can flip this in your implementation)","title":"Get indices of n maximums in java array","body":"<p>Arrays.sort(myArray), then take the final 5 elements. </p>\n\n<p>Sort a copy if you want to preserve the original order.</p>\n\n<p>If you want the indices, there isn't a quick-and-dirty solution as there would be in python or some other languages. You sort and scan, but that's ugly. </p>\n\n<p>Or you could go objecty - this is java, after all. \nMake an ArrayMaxFilter object. It'll have a private class ArrayElement, which consists of an index and a value and has a natural ordering by value. It'll have a method which takes a pair of ints, index and value, creates an ArrayElement of them, and drops them into a priority queue of length 5. (or however many you want to find). Submit each index/value pair from the array, then report out the values remaining in the queue. \n(yes, a priority queue traditionally keeps the lowest values, but you can flip this in your implementation)</p>\n"},{"comments":[{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":0,"creation_date":1373662750,"post_id":17623748,"comment_id":25657266,"body_markdown":"it&#39;s similar that my answer xD","body":"it&#39;s similar that my answer xD"}],"tags":[],"owner":{"account_id":3009188,"reputation":283,"user_id":2553050,"display_name":"MarcelK"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373661963,"creation_date":1373661963,"answer_id":17623748,"question_id":17623468,"body_markdown":"My quick and a bit &quot;think outside the box&quot; idea would be to use the [`EvictingQueue`][1] that holds an maximum of 5 elements. You&#39;d had to pre-fill it with the first five elements from your array (do it in a ascending order, so the first element you add is the lowest from the five). \r\n\r\nThan you have to iterate through the array and add a new element to the queue whenever the current value is greater than the lowest value in the queue. To remember the indexes, create a wrapper object (a value/index pair). \r\n\r\nAfter iterating through the whole array, you have your five maximum value/index pairs in the queue (in descending order).\r\n\r\nIt&#39;s a O(n) solution.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/EvictingQueue.html","title":"Get indices of n maximums in java array","body":"<p>My quick and a bit \"think outside the box\" idea would be to use the <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/EvictingQueue.html\" rel=\"nofollow\"><code>EvictingQueue</code></a> that holds an maximum of 5 elements. You'd had to pre-fill it with the first five elements from your array (do it in a ascending order, so the first element you add is the lowest from the five). </p>\n\n<p>Than you have to iterate through the array and add a new element to the queue whenever the current value is greater than the lowest value in the queue. To remember the indexes, create a wrapper object (a value/index pair). </p>\n\n<p>After iterating through the whole array, you have your five maximum value/index pairs in the queue (in descending order).</p>\n\n<p>It's a O(n) solution.</p>\n"},{"tags":[],"owner":{"account_id":1534856,"reputation":8614,"user_id":1431182,"accept_rate":84,"display_name":"mistahenry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373664112,"creation_date":1373664112,"answer_id":17624192,"question_id":17623468,"body_markdown":"Here is my solution. Create a class that pairs an indice with a value:\r\n\r\n    public class IndiceValuePair{\r\n        private int indice;\r\n        private int value;\r\n    \r\n        public IndiceValuePair(int ind, int val){\r\n            indice = ind;\r\n            value = val;\r\n        }\r\n        public int getIndice(){\r\n            return indice;\r\n        }\r\n        public int getValue(){\r\n            return value;\r\n        }\r\n    }\r\n\r\nand then use this class in your main method:\r\n\r\n    public static void main(String[] args){\r\n        Random rand = new Random();\r\n        int[] myArray = new int[10];\r\n        IndiceValuePair[] pairs = new IndiceValuePair[5];\r\n        System.out.println(&quot;Here are the indices and their values:&quot;);\r\n        for(int i = 0; i &lt; myArray.length; i++) {\r\n            myArray[i] = rand.nextInt(100);\r\n            System.out.println(i+ &quot;: &quot; + myArray[i]);\r\n            for(int j = 0; j &lt; pairs.length; j++){\r\n                //for the first five entries\r\n                if(pairs[j] == null){\r\n                    pairs[j] = new IndiceValuePair(i, myArray[i]);\r\n                    break;\r\n                }\r\n                else if(pairs[j].getValue() &lt; myArray[i]){\r\n                    //inserts the new pair into its correct spot\r\n                    for(int k = 4; k &gt; j; k--){\r\n                        pairs[k] = pairs [k-1];\r\n                    }\r\n                    pairs[j] = new IndiceValuePair(i, myArray[i]);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;\\n5 Max indices and their values&quot;);\r\n        for(int i = 0; i &lt; pairs.length; i++){\r\n            System.out.println(pairs[i].getIndice() + &quot;: &quot; + pairs[i].getValue());\r\n        }\r\n    }\r\n\r\nand example output from a run:\r\n\r\n    Here are the indices and their values:\r\n    0: 13\r\n    1: 71\r\n    2: 45\r\n    3: 38\r\n    4: 43\r\n    5: 9\r\n    6: 4\r\n    7: 5\r\n    8: 59\r\n    9: 60\r\n    \r\n    5 Max indices and their values\r\n    1: 71\r\n    9: 60\r\n    8: 59\r\n    2: 45\r\n    4: 43\r\n\r\nThe example I provided only generates ten ints with a value between 0 and 99 just so that I could see that it worked. You can easily change this to fit 1000 values of any size. Also, rather than run 3 separate for loops, I checked to see if the newest value I add is a max value right after I add to to `myArray`. Give it a run and see if it works for you","title":"Get indices of n maximums in java array","body":"<p>Here is my solution. Create a class that pairs an indice with a value:</p>\n\n<pre><code>public class IndiceValuePair{\n    private int indice;\n    private int value;\n\n    public IndiceValuePair(int ind, int val){\n        indice = ind;\n        value = val;\n    }\n    public int getIndice(){\n        return indice;\n    }\n    public int getValue(){\n        return value;\n    }\n}\n</code></pre>\n\n<p>and then use this class in your main method:</p>\n\n<pre><code>public static void main(String[] args){\n    Random rand = new Random();\n    int[] myArray = new int[10];\n    IndiceValuePair[] pairs = new IndiceValuePair[5];\n    System.out.println(\"Here are the indices and their values:\");\n    for(int i = 0; i &lt; myArray.length; i++) {\n        myArray[i] = rand.nextInt(100);\n        System.out.println(i+ \": \" + myArray[i]);\n        for(int j = 0; j &lt; pairs.length; j++){\n            //for the first five entries\n            if(pairs[j] == null){\n                pairs[j] = new IndiceValuePair(i, myArray[i]);\n                break;\n            }\n            else if(pairs[j].getValue() &lt; myArray[i]){\n                //inserts the new pair into its correct spot\n                for(int k = 4; k &gt; j; k--){\n                    pairs[k] = pairs [k-1];\n                }\n                pairs[j] = new IndiceValuePair(i, myArray[i]);\n                break;\n            }\n        }\n    }\n    System.out.println(\"\\n5 Max indices and their values\");\n    for(int i = 0; i &lt; pairs.length; i++){\n        System.out.println(pairs[i].getIndice() + \": \" + pairs[i].getValue());\n    }\n}\n</code></pre>\n\n<p>and example output from a run:</p>\n\n<pre><code>Here are the indices and their values:\n0: 13\n1: 71\n2: 45\n3: 38\n4: 43\n5: 9\n6: 4\n7: 5\n8: 59\n9: 60\n\n5 Max indices and their values\n1: 71\n9: 60\n8: 59\n2: 45\n4: 43\n</code></pre>\n\n<p>The example I provided only generates ten ints with a value between 0 and 99 just so that I could see that it worked. You can easily change this to fit 1000 values of any size. Also, rather than run 3 separate for loops, I checked to see if the newest value I add is a max value right after I add to to <code>myArray</code>. Give it a run and see if it works for you</p>\n"},{"comments":[{"owner":{"account_id":2097759,"reputation":2294,"user_id":1866159,"accept_rate":100,"display_name":"Rishi Dua"},"score":0,"creation_date":1406366066,"post_id":24969066,"comment_id":38812699,"body_markdown":"Try using some condition to avoid continue: http://programmers.stackexchange.com/questions/58237/are-break-and-continue-bad-programming-practices","body":"Try using some condition to avoid continue: <a href=\"http://programmers.stackexchange.com/questions/58237/are-break-and-continue-bad-programming-practices\" title=\"are break and continue bad programming practices\">programmers.stackexchange.com/questions/58237/&hellip;</a>"}],"tags":[],"owner":{"account_id":4803430,"reputation":31,"user_id":3879337,"display_name":"user3879337"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406363080,"creation_date":1406363080,"answer_id":24969066,"question_id":17623468,"body_markdown":"a bit late in answering, you could also use this function that I wrote:\r\n\r\n\r\n\r\n\r\n\r\n\t/**\r\n\t  * Return the indexes correspond to the top-k largest in an array.\r\n\t  */\r\n\tpublic static int[] maxKIndex(double[] array, int top_k) {\r\n\t\tdouble[] max = new double[top_k];\r\n\t\tint[] maxIndex = new int[top_k];\r\n\t\tArrays.fill(max, Double.NEGATIVE_INFINITY);\r\n\t\tArrays.fill(maxIndex, -1);\r\n\t\t\r\n\t\ttop: for(int i = 0; i &lt; array.length; i++) {\r\n\t\t\tfor(int j = 0; j &lt; top_k; j++) {\r\n\t\t\t\tif(array[i] &gt; max[j]) {\r\n\t\t\t\t\tfor(int x = top_k - 1; x &gt; j; x--) {\r\n\t\t\t\t\t\tmaxIndex[x] = maxIndex[x-1]; max[x] = max[x-1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmaxIndex[j] = i; max[j] = array[i];\r\n\t\t\t\t\tcontinue top;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn maxIndex;\r\n\t}","title":"Get indices of n maximums in java array","body":"<p>a bit late in answering, you could also use this function that I wrote:</p>\n\n<pre><code>/**\n  * Return the indexes correspond to the top-k largest in an array.\n  */\npublic static int[] maxKIndex(double[] array, int top_k) {\n    double[] max = new double[top_k];\n    int[] maxIndex = new int[top_k];\n    Arrays.fill(max, Double.NEGATIVE_INFINITY);\n    Arrays.fill(maxIndex, -1);\n\n    top: for(int i = 0; i &lt; array.length; i++) {\n        for(int j = 0; j &lt; top_k; j++) {\n            if(array[i] &gt; max[j]) {\n                for(int x = top_k - 1; x &gt; j; x--) {\n                    maxIndex[x] = maxIndex[x-1]; max[x] = max[x-1];\n                }\n                maxIndex[j] = i; max[j] = array[i];\n                continue top;\n            }\n        }\n    }\n    return maxIndex;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3349789,"reputation":1181,"user_id":2814058,"accept_rate":100,"display_name":"Klaus"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1532180815,"creation_date":1532180815,"answer_id":51456688,"question_id":17623468,"body_markdown":"Sorry to answer this old question but I am missing an implementation which has all following properties:\r\n\r\n - Easy to read\r\n - Performant\r\n - Handling of multiple same values\r\n\r\nTherefore I implemented it:\r\n\r\n    \tprivate int[] getBestKIndices(float[] array, int num) {\r\n\t\t\t//create sort able array with index and value pair\r\n\t\t\tIndexValuePair[] pairs = new IndexValuePair[array.length];\r\n\t\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\t\tpairs[i] = new IndexValuePair(i, array[i]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//sort\r\n\t\t\tArrays.sort(pairs, new Comparator&lt;IndexValuePair&gt;() {\r\n\t\t\t\tpublic int compare(IndexValuePair o1, IndexValuePair o2) {\r\n\t\t\t\t\treturn Float.compare(o2.value, o1.value);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\r\n\t\t\t//extract the indices\r\n\t\t\tint[] result = new int[num];\r\n\t\t\tfor (int i = 0; i &lt; num; i++) {\r\n\t\t\t\tresult[i] = pairs[i].index;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\r\n\t\tprivate class IndexValuePair {\r\n\t\t\tprivate int index;\r\n\t\t\tprivate float value;\r\n\t\r\n\t\t\tpublic IndexValuePair(int index, float value) {\r\n\t\t\t\tthis.index = index;\r\n\t\t\t\tthis.value = value;\r\n\t\t\t}\r\n\t\t}","title":"Get indices of n maximums in java array","body":"<p>Sorry to answer this old question but I am missing an implementation which has all following properties:</p>\n\n<ul>\n<li>Easy to read</li>\n<li>Performant</li>\n<li>Handling of multiple same values</li>\n</ul>\n\n<p>Therefore I implemented it:</p>\n\n<pre><code>    private int[] getBestKIndices(float[] array, int num) {\n        //create sort able array with index and value pair\n        IndexValuePair[] pairs = new IndexValuePair[array.length];\n        for (int i = 0; i &lt; array.length; i++) {\n            pairs[i] = new IndexValuePair(i, array[i]);\n        }\n\n        //sort\n        Arrays.sort(pairs, new Comparator&lt;IndexValuePair&gt;() {\n            public int compare(IndexValuePair o1, IndexValuePair o2) {\n                return Float.compare(o2.value, o1.value);\n            }\n        });\n\n        //extract the indices\n        int[] result = new int[num];\n        for (int i = 0; i &lt; num; i++) {\n            result[i] = pairs[i].index;\n        }\n        return result;\n    }\n\n    private class IndexValuePair {\n        private int index;\n        private float value;\n\n        public IndexValuePair(int index, float value) {\n            this.index = index;\n            this.value = value;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6260136,"reputation":1982,"user_id":4867531,"display_name":"ixeption"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679473038,"creation_date":1679472732,"answer_id":75809754,"question_id":17623468,"body_markdown":"I would suggest to use a PriorityQueue, which is a minmax head and has a complexity of O(n log k):\r\n\r\n    private int[] getTopKIndices(double[] array, int num) {\r\n    PriorityQueue&lt;IndexValuePair&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble((IndexValuePair value) -&gt; value.value));\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        queue.offer(new IndexValuePair(i, array[i]));\r\n        if (queue.size() &gt; num) {\r\n            queue.poll();\r\n        }\r\n    }\r\n\r\n    int[] result = new int[num];\r\n    for (int i = 0; i &lt; num; i++) {\r\n        result[num - 1 - i] = queue.poll().index;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nYou could also use Google Guava for that (also n log k):\r\n\r\n    import com.google.common.collect.Ordering;    \r\n    private static int[] getTopKIndices(double[] array, int num) {\r\n            List&lt;IndexValuePair&gt; pairs = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                pairs.add(new IndexValuePair(i, array[i]));\r\n            }\r\n    \r\n            Comparator&lt;IndexValuePair&gt; valueComparator = Comparator.comparingDouble(value -&gt; value.value);\r\n            List&lt;IndexValuePair&gt; topKPairs = Ordering.from(valueComparator).greatestOf(pairs, num);\r\n    \r\n            int[] result = new int[num];\r\n            for (int i = 0; i &lt; num; i++) {\r\n                result[i] = topKPairs.get(i).index;\r\n            }\r\n\r\nSimply comparing these implementaion in Java with Top 10 for 5 Mio entries gives you:\r\n\r\n    45411 ms for the solution with simple sorting\r\n    1815 ms for the priority queue\r\n    2086 ms for the guava solution","title":"Get indices of n maximums in java array","body":"<p>I would suggest to use a PriorityQueue, which is a minmax head and has a complexity of O(n log k):</p>\n<pre><code>private int[] getTopKIndices(double[] array, int num) {\nPriorityQueue&lt;IndexValuePair&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble((IndexValuePair value) -&gt; value.value));\n\nfor (int i = 0; i &lt; array.length; i++) {\n    queue.offer(new IndexValuePair(i, array[i]));\n    if (queue.size() &gt; num) {\n        queue.poll();\n    }\n}\n\nint[] result = new int[num];\nfor (int i = 0; i &lt; num; i++) {\n    result[num - 1 - i] = queue.poll().index;\n}\n\nreturn result;\n</code></pre>\n<p>}</p>\n<p>You could also use Google Guava for that (also n log k):</p>\n<pre><code>import com.google.common.collect.Ordering;    \nprivate static int[] getTopKIndices(double[] array, int num) {\n        List&lt;IndexValuePair&gt; pairs = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; array.length; i++) {\n            pairs.add(new IndexValuePair(i, array[i]));\n        }\n\n        Comparator&lt;IndexValuePair&gt; valueComparator = Comparator.comparingDouble(value -&gt; value.value);\n        List&lt;IndexValuePair&gt; topKPairs = Ordering.from(valueComparator).greatestOf(pairs, num);\n\n        int[] result = new int[num];\n        for (int i = 0; i &lt; num; i++) {\n            result[i] = topKPairs.get(i).index;\n        }\n</code></pre>\n<p>Simply comparing these implementaion in Java with Top 10 for 5 Mio entries gives you:</p>\n<pre><code>45411 ms for the solution with simple sorting\n1815 ms for the priority queue\n2086 ms for the guava solution\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26429480,"reputation":11,"user_id":20075890,"display_name":"Wilson Ng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680506716,"creation_date":1680506589,"answer_id":75916913,"question_id":17623468,"body_markdown":"Easy O(nlogn) heap solution:\r\n```\r\n    public static List&lt;Integer&gt; getTopKIndices(List&lt;Double&gt; scores, int k) {\r\n        Comparator&lt;Map.Entry&lt;Integer, Double&gt;&gt; comparator = Map.Entry.comparingByValue();\r\n        PriorityQueue&lt;Map.Entry&lt;Integer, Double&gt;&gt; heap = new PriorityQueue&lt;&gt;(scores.size(), comparator.reversed());\r\n\r\n        for (int i = 0; i &lt; scores.size(); i++)\r\n            heap.add(new AbstractMap.SimpleEntry&lt;&gt;(i, scores.get(i)));\r\n        \r\n        List&lt;Integer&gt; topKIndices = new LinkedList&lt;&gt;();\r\n        for (int i = 0; i &lt; k &amp;&amp; !heap.isEmpty(); i++)\r\n            topKIndices.add(heap.poll().getKey());\r\n\r\n        return topKIndices;\r\n    }\r\n```","title":"Get indices of n maximums in java array","body":"<p>Easy O(nlogn) heap solution:</p>\n<pre><code>    public static List&lt;Integer&gt; getTopKIndices(List&lt;Double&gt; scores, int k) {\n        Comparator&lt;Map.Entry&lt;Integer, Double&gt;&gt; comparator = Map.Entry.comparingByValue();\n        PriorityQueue&lt;Map.Entry&lt;Integer, Double&gt;&gt; heap = new PriorityQueue&lt;&gt;(scores.size(), comparator.reversed());\n\n        for (int i = 0; i &lt; scores.size(); i++)\n            heap.add(new AbstractMap.SimpleEntry&lt;&gt;(i, scores.get(i)));\n        \n        List&lt;Integer&gt; topKIndices = new LinkedList&lt;&gt;();\n        for (int i = 0; i &lt; k &amp;&amp; !heap.isEmpty(); i++)\n            topKIndices.add(heap.poll().getKey());\n\n        return topKIndices;\n    }\n</code></pre>\n"}],"owner":{"account_id":2789385,"reputation":7148,"user_id":2399935,"accept_rate":86,"display_name":"Brian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9508,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":17623521,"answer_count":8,"score":9,"last_activity_date":1680506716,"creation_date":1373660734,"question_id":17623468,"body_markdown":"I have an array of size 1000. How can I find the indices (indexes) of the five maximum elements?  \r\n  \r\nAn example with setup code and my attempt are displayed below:\r\n\r\n    Random rand = new Random();\r\n    int[] myArray = new int[1000];\r\n    int[] maxIndices = new int[5];\r\n    int[] maxValues = new int[5];\r\n\r\n    for (int i = 0; i &lt; myArray.length; i++) {\r\n      myArray[i] = rand.nextInt();\r\n    }\r\n\r\n    for (int i = 0; i &lt; 5; i++) {\r\n      maxIndices[i] = i;\r\n      maxValues[i] = myArray[i];\r\n    }\r\n\r\n    for (int i = 0; i &lt; maxIndices.length; i++) {\r\n      for (int j = 0; j &lt; myArray.length; j++) {\r\n        if (myArray[j] &gt; maxValues[i]) {\r\n          maxIndices[i] = j;\r\n          maxValues[i] = myArray[j];\r\n        }\r\n      }\r\n    }\r\n\r\n    for (int i = 0; i &lt; maxIndices.length; i++) {\r\n      System.out.println(&quot;Index: &quot; + maxIndices[i]);\r\n    }\r\n\r\nI know the problem is that it is constantly assigning the highest maximum value to all the maximum elements. I am unsure how to remedy this because I have to preserve the values and the indices of `myArray`.  \r\n  \r\nI don&#39;t think sorting is an option because I need to preserve the indices. In fact, it is the indices that I need specifically.\r\n\r\n    ","title":"Get indices of n maximums in java array","body":"<p>I have an array of size 1000. How can I find the indices (indexes) of the five maximum elements?  </p>\n\n<p>An example with setup code and my attempt are displayed below:</p>\n\n<pre><code>Random rand = new Random();\nint[] myArray = new int[1000];\nint[] maxIndices = new int[5];\nint[] maxValues = new int[5];\n\nfor (int i = 0; i &lt; myArray.length; i++) {\n  myArray[i] = rand.nextInt();\n}\n\nfor (int i = 0; i &lt; 5; i++) {\n  maxIndices[i] = i;\n  maxValues[i] = myArray[i];\n}\n\nfor (int i = 0; i &lt; maxIndices.length; i++) {\n  for (int j = 0; j &lt; myArray.length; j++) {\n    if (myArray[j] &gt; maxValues[i]) {\n      maxIndices[i] = j;\n      maxValues[i] = myArray[j];\n    }\n  }\n}\n\nfor (int i = 0; i &lt; maxIndices.length; i++) {\n  System.out.println(\"Index: \" + maxIndices[i]);\n}\n</code></pre>\n\n<p>I know the problem is that it is constantly assigning the highest maximum value to all the maximum elements. I am unsure how to remedy this because I have to preserve the values and the indices of <code>myArray</code>.  </p>\n\n<p>I don't think sorting is an option because I need to preserve the indices. In fact, it is the indices that I need specifically.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1680464385,"post_id":75914190,"comment_id":133899061,"body_markdown":"Not automatically. Best you can do is to try and build a replace regex. Even so it may not be complete. Reason being there is noway for the IDE to tel the difference of say `String returnCar()` and `String returnVehicle()` methods, the method names are for the developer to chose. In the example given if both methods should be of type `Car` the IDE have no way to know.","body":"Not automatically. Best you can do is to try and build a replace regex. Even so it may not be complete. Reason being there is noway for the IDE to tel the difference of say <code>String returnCar()</code> and <code>String returnVehicle()</code> methods, the method names are for the developer to chose. In the example given if both methods should be of type <code>Car</code> the IDE have no way to know."},{"owner":{"account_id":23343204,"reputation":33,"user_id":17417859,"display_name":"back2back"},"score":0,"creation_date":1680464629,"post_id":75914190,"comment_id":133899109,"body_markdown":"Thank you. I was trying to avoid doing it manually since there are more than 100 changes. But I think that is the only way to do it.","body":"Thank you. I was trying to avoid doing it manually since there are more than 100 changes. But I think that is the only way to do it."}],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680506531,"creation_date":1680506531,"answer_id":75916904,"question_id":75914190,"body_markdown":"You might be able to use [Type migration][1] in IntelliJ IDEA.\r\n\r\nFrom the docs: \r\n&quot;The Type Migration refactoring lets you automatically change a member type (such as from integer to string), and data flow dependent type entries (such as method return types, local variables, parameters, and so on) across the entire project.\r\n\r\nIt also lets you automatically convert variable or method return type between arrays and collections. If any conflicts are found IntelliJ IDEA displays the appropriate message.&quot;\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/type-migration.html","title":"Refactor field type everywhere in Java Project IntelliJ","body":"<p>You might be able to use <a href=\"https://www.jetbrains.com/help/idea/type-migration.html\" rel=\"nofollow noreferrer\">Type migration</a> in IntelliJ IDEA.</p>\n<p>From the docs:\n&quot;The Type Migration refactoring lets you automatically change a member type (such as from integer to string), and data flow dependent type entries (such as method return types, local variables, parameters, and so on) across the entire project.</p>\n<p>It also lets you automatically convert variable or method return type between arrays and collections. If any conflicts are found IntelliJ IDEA displays the appropriate message.&quot;</p>\n"}],"owner":{"account_id":23343204,"reputation":33,"user_id":17417859,"display_name":"back2back"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680506531,"creation_date":1680463789,"question_id":75914190,"body_markdown":"I have a field in my java project. I want to change the field&#39;s type everywhere in the project.\r\n\r\nI have:\r\n\r\n    String car\r\n\r\nI want to change it everywhere to\r\n\r\n    Vehicle car\r\n\r\n\r\nA simple replace will not work because apart from changing where it used, I also want to change the return type of functions where it is being returned.\r\n\r\nFor example-\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public String returnCar{\r\n      ......\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI want to change this to \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public Car returnCar{\r\n      ...\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nI there a way of refactoring like this in IntelliJ?\r\n\r\nThanks\r\n","title":"Refactor field type everywhere in Java Project IntelliJ","body":"<p>I have a field in my java project. I want to change the field's type everywhere in the project.</p>\n<p>I have:</p>\n<pre><code>String car\n</code></pre>\n<p>I want to change it everywhere to</p>\n<pre><code>Vehicle car\n</code></pre>\n<p>A simple replace will not work because apart from changing where it used, I also want to change the return type of functions where it is being returned.</p>\n<p>For example-</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public String returnCar{\n  ......\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I want to change this to</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public Car returnCar{\n  ...\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I there a way of refactoring like this in IntelliJ?</p>\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":3,"creation_date":1680455375,"post_id":75913322,"comment_id":133897707,"body_markdown":"The data seems to be valid JSON data, why don&#39;t you parse it to an JSON object using the built-in JSON library or a third party one so accessing the fields is getting more easier?","body":"The data seems to be valid JSON data, why don&#39;t you parse it to an JSON object using the built-in JSON library or a third party one so accessing the fields is getting more easier?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1680455539,"post_id":75913322,"comment_id":133897731,"body_markdown":"Possible duplicate of https://stackoverflow.com/q/14185338/150978","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/14185338/150978\">stackoverflow.com/q/14185338/150978</a>"}],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680497479,"creation_date":1680497479,"answer_id":75916120,"question_id":75913322,"body_markdown":"Are you trying to say you want to process the URL only if there&#39;s a value in the ***ingr*** query? If so:\r\n\r\n    fun shouldCallAPI(uriString: String) =\r\n        Uri\r\n            .parse(uriString)\r\n            .getQueryParameter(&quot;ingr&quot;)\r\n            .isNullOrEmpty()\r\n            .not()\r\n\r\n ","title":"How to parse a link?","body":"<p>Are you trying to say you want to process the URL only if there's a value in the <em><strong>ingr</strong></em> query? If so:</p>\n<pre><code>fun shouldCallAPI(uriString: String) =\n    Uri\n        .parse(uriString)\n        .getQueryParameter(&quot;ingr&quot;)\n        .isNullOrEmpty()\n        .not()\n</code></pre>\n"}],"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680506503,"creation_date":1680453640,"question_id":75913322,"body_markdown":"How to parse a link only if a value came from the search and it is not empty?\r\nThe problem is that even a link without a value at the end gives the result https://api.edamam.com/api/food-database/v2/parser?app_id=e5bc806d&amp;app_key=5f7521ffeefe491b936cea6271e13d3d&amp;ingr=\r\n\r\n\r\nAnd I need to display values ​​only if a value comes from the searchView at the end, how to organize it correctly? I&#39;ve tried it this way and it still doesn&#39;t work!\r\n\r\n    @Override\r\n    protected String doInBackground(String... strings) {\r\n        String current = &quot;&quot;;\r\n    \r\n        try {\r\n            URL url;\r\n            HttpURLConnection urlConnection = null;\r\n            SEARCH_TEXT = binding.searchs.getQuery().toString();\r\n    \r\n            try {\r\n    \r\n                url = new URL(PARSE_URL + END_URL + SEARCH_TEXT);\r\n                urlConnection = (HttpURLConnection) url.openConnection();\r\n                InputStream is = urlConnection.getInputStream();\r\n                InputStreamReader isr = new InputStreamReader(is);\r\n    \r\n                int data = isr.read();\r\n                while (data != -1) {\r\n                    current += (char) data;\r\n                    data = isr.read();\r\n                }\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if(urlConnection != null) {\r\n                    urlConnection.disconnect();\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return current;\r\n    }","title":"How to parse a link?","body":"<p>How to parse a link only if a value came from the search and it is not empty?\nThe problem is that even a link without a value at the end gives the result <a href=\"https://api.edamam.com/api/food-database/v2/parser?app_id=e5bc806d&amp;app_key=5f7521ffeefe491b936cea6271e13d3d&amp;ingr=\" rel=\"nofollow noreferrer\">https://api.edamam.com/api/food-database/v2/parser?app_id=e5bc806d&amp;app_key=5f7521ffeefe491b936cea6271e13d3d&amp;ingr=</a></p>\n<p>And I need to display values ​​only if a value comes from the searchView at the end, how to organize it correctly? I've tried it this way and it still doesn't work!</p>\n<pre><code>@Override\nprotected String doInBackground(String... strings) {\n    String current = &quot;&quot;;\n\n    try {\n        URL url;\n        HttpURLConnection urlConnection = null;\n        SEARCH_TEXT = binding.searchs.getQuery().toString();\n\n        try {\n\n            url = new URL(PARSE_URL + END_URL + SEARCH_TEXT);\n            urlConnection = (HttpURLConnection) url.openConnection();\n            InputStream is = urlConnection.getInputStream();\n            InputStreamReader isr = new InputStreamReader(is);\n\n            int data = isr.read();\n            while (data != -1) {\n                current += (char) data;\n                data = isr.read();\n            }\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if(urlConnection != null) {\n                urlConnection.disconnect();\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return current;\n}\n</code></pre>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":9248237,"reputation":391,"user_id":6869491,"display_name":"Amit Verma"},"score":0,"creation_date":1503151663,"post_id":45772321,"comment_id":78503063,"body_markdown":"you are getting text input error please check have implement all the dependencies correctly, and clean your project and rebuild this then run your app hope it will solve  your issue","body":"you are getting text input error please check have implement all the dependencies correctly, and clean your project and rebuild this then run your app hope it will solve  your issue"}],"answers":[{"comments":[{"owner":{"account_id":7292081,"reputation":13504,"user_id":5558150,"accept_rate":100,"display_name":"Bhuvanesh BS"},"score":0,"creation_date":1505412670,"post_id":45772512,"comment_id":79414957,"body_markdown":"Mark it as accepted answer if it is helped you to resolve your issue. It will help others.","body":"Mark it as accepted answer if it is helped you to resolve your issue. It will help others."}],"tags":[],"owner":{"account_id":7292081,"reputation":13504,"user_id":5558150,"accept_rate":100,"display_name":"Bhuvanesh BS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503151562,"creation_date":1503151562,"answer_id":45772512,"question_id":45772321,"body_markdown":"You have to include multiDex in your application. In your **manifest**, you have not included the **MulitiDexApplication**.\r\n\r\nIn you error code. See this line.\r\n\r\n    Didn&#39;t find class &quot;android.support.v4.view.animation.FastOutSlowInInterpolator&quot; on path: DexPathList[\r\n\r\nAdd this to your dependencies.\r\n\r\n    compile &#39;com.android.support:multidex:1.0.1&#39;\r\n\r\nIn your Gradle add `multiDexEnabled` true.\r\n\r\n    android {\r\n        defaultConfig {\r\n            ...\r\n            minSdkVersion 21 \r\n            targetSdkVersion 26\r\n            multiDexEnabled true    // add this line\r\n        }\r\n        ...\r\n    }\r\n\r\nIn your `manifest` add multiDex application class.\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.myapp&quot;&gt;\r\n        &lt;application\r\n                android:name=&quot;android.support.multidex.MultiDexApplication&quot; &gt;\r\n            ...\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nFinally clean and rebuild your project.\r\n\r\nFor more info: https://developer.android.com/studio/build/multidex.html\r\n\r\nHope it helps:)\r\n","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;","body":"<p>You have to include multiDex in your application. In your <strong>manifest</strong>, you have not included the <strong>MulitiDexApplication</strong>.</p>\n\n<p>In you error code. See this line.</p>\n\n<pre><code>Didn't find class \"android.support.v4.view.animation.FastOutSlowInInterpolator\" on path: DexPathList[\n</code></pre>\n\n<p>Add this to your dependencies.</p>\n\n<pre><code>compile 'com.android.support:multidex:1.0.1'\n</code></pre>\n\n<p>In your Gradle add <code>multiDexEnabled</code> true.</p>\n\n<pre><code>android {\n    defaultConfig {\n        ...\n        minSdkVersion 21 \n        targetSdkVersion 26\n        multiDexEnabled true    // add this line\n    }\n    ...\n}\n</code></pre>\n\n<p>In your <code>manifest</code> add multiDex application class.</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.myapp\"&gt;\n    &lt;application\n            android:name=\"android.support.multidex.MultiDexApplication\" &gt;\n        ...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Finally clean and rebuild your project.</p>\n\n<p>For more info: <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/multidex.html</a></p>\n\n<p>Hope it helps:)</p>\n"},{"tags":[],"owner":{"account_id":8452233,"reputation":1,"user_id":6340720,"display_name":"Z.quibbler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680506434,"creation_date":1680505472,"answer_id":75916794,"question_id":45772321,"body_markdown":"Add this to your build.gradle\r\n\r\n    implementation &quot;androidx.interpolator:interpolator:1.0.0&quot;\r\n\r\nbecause google has extract interpolator to this lib.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;","body":"<p>Add this to your build.gradle</p>\n<pre><code>implementation &quot;androidx.interpolator:interpolator:1.0.0&quot;\n</code></pre>\n<p>because google has extract interpolator to this lib.</p>\n"}],"owner":{"account_id":9194600,"reputation":63,"user_id":6833762,"accept_rate":20,"display_name":"Dinesh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680506434,"creation_date":1503150505,"question_id":45772321,"body_markdown":"I&#39;m facing an issue with my new app. I created a app for shopping cart and i created a signin and signup page and it is now showing error message\r\n\r\nError:\r\n   \r\n    08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: FATAL EXCEPTION: main `Error`\r\n                                                                        Process: com.example.dinidev.ecom, PID: 2902\r\n                                                                        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.dinidev.ecom/com.example.dinidev.ecom.Signin}: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\r\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\r\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n                                                                            at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                            at android.os.Looper.loop(Looper.java:154)\r\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n                                                                         Caused by: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\r\n                                                                         Caused by: android.view.InflateException: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\r\n                                                                         Caused by: java.lang.reflect.InvocationTargetException\r\n                                                                            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n                                                                            at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\r\n                                                                            at android.view.LayoutInflater.createView(LayoutInflater.java:645)\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:518)\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\r\n                                                                            at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414)\r\n                                                                            at android.app.Activity.setContentView(Activity.java:2414)\r\n                                                                            at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16)\r\n                                                                            at android.app.Activity.performCreate(Activity.java:6662)\r\n                                                                            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\r\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n                                                                            at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                            at android.os.Looper.loop(Looper.java:154)\r\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n                                                                         Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;\r\n                                                                            at android.support.design.widget.AnimationUtils.&lt;clinit&gt;(AnimationUtils.java:30)\r\n                                                                            at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:200)\r\n                                                                            at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:183)\r\n                                                                            at java.lang.reflect.Constructor.newInstance0(Native Method)&#160;\r\n                                                                            at java.lang.reflect.Constructor.newInstance(Constructor.java:430)&#160;\r\n                                                                            at android.view.LayoutInflater.createView(LayoutInflater.java:645)&#160;\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)&#160;\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)&#160;\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:518)&#160;\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:426)&#160;\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:377)&#160;\r\n                                                                            at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414)&#160;\r\n                                                                            at android.app.Activity.setContentView(Activity.java:2414)&#160;\r\n                                                                            at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16)&#160;\r\n                                                                            at android.app.Activity.performCreate(Activity.java:6662)&#160;\r\n                                                                            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)&#160;\r\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)&#160;\r\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)&#160;\r\n                                                                            at android.app.ActivityThread.-wrap12(ActivityThread.java)&#160;\r\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)&#160;\r\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n                                                                            at android.os.Looper.loop(Looper.java:154)&#160;\r\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6077)&#160;\r\n                                                                            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)&#160;\r\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)&#160;\r\n    08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;android.support.v4.view.animation.FastOutSlowInInterpolator&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.dinidev.ecom-2/base.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_dependencies_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_0_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_1_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_2_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_3_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_4_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_5_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_6_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_7_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_8_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_9_apk.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.dinidev.ecom-2/lib/x86, /system/lib, /vendor/lib]]\r\n                                                                            at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n                                                                            at java.lang.ClassLoader.loadClass(ClassLoader.java:380)\r\n                                                                            at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n                                                                            \t... 30 more\r\n\r\n\r\n\r\nmodule app:`Build.gradle`\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.2&quot;\r\n        defaultConfig {\r\n        applicationId &quot;com.example.dinidev.ecom&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 25\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner \r\n    &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n    dependencies {\r\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n         exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    })\r\n    compile &#39;com.android.support:appcompat-v7:25.3.1&#39;\r\n    compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n\r\n    compile &#39;com.android.support:design:25.3.1&#39;\r\n    compile &#39;com.android.support:cardview-v7:25.3.1&#39;\r\n    compile &#39;com.android.support:support-v4:25.3.1&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:25.3.1&#39;\r\n    compile &#39;com.google.code.gson:gson:2.2.4&#39;\r\n    compile &#39;com.android.support:multidex:1.0.1&#39;\r\n\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n    }`Code`\r\n\r\nactivity_main xml `It is opening and working properly`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/profile1&quot;\r\n    tools:context=&quot;com.example.dinidev.ecom.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/guest&quot;\r\n        android:layout_width=&quot;168dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@+id/signin&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;31dp&quot;\r\n        android:background=&quot;@android:color/holo_blue_light&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:text=&quot;@string/Guest_User&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;@dimen/eighteen_sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteY=&quot;487dp&quot; /&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/signin&quot;\r\n        android:layout_width=&quot;178dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignBaseline=&quot;@+id/signup&quot;\r\n        android:layout_alignBottom=&quot;@+id/signup&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;12dp&quot;\r\n        android:layout_marginStart=&quot;12dp&quot;\r\n        android:background=&quot;@android:color/holo_blue_light&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:text=&quot;@string/login&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;@dimen/eighteen_sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        tools:layout_editor_absoluteX=&quot;8dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;487dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/signup&quot;\r\n        android:layout_width=&quot;168dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;27dp&quot;\r\n        android:layout_marginEnd=&quot;12dp&quot;\r\n        android:layout_marginRight=&quot;12dp&quot;\r\n        android:background=&quot;@android:color/holo_blue_light&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:text=&quot;@string/New_User&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;@dimen/eighteen_sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteY=&quot;487dp&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\nlogin_page xml `It is not opening`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:background=&quot;@drawable/login_background&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/loginPage_logo&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;@dimen/fourty_seven_dp&quot;\r\n            android:text=&quot;@string/logo&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;@dimen/fourty_four_sp&quot;\r\n            android:textStyle=&quot;italic|bold&quot;/&gt;\r\n    &lt;/RelativeLayout&gt; `It is not opening it shows error as app stopped working message`\r\n\r\nMainActivity class\r\n\r\nMain activity is working fine but when I click login it stops action \r\n\r\n    package com.example.dinidev.ecom;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    public class MainActivity extends AppCompatActivity {\r\n    Button signin;\r\n    final Context context = this;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        addListenerOnButton();\r\n    }\r\n\r\n    private void addListenerOnButton() {\r\n        /** Login Button Click */\r\n        signin = (Button) findViewById(R.id.signin);\r\n        signin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(context, Signin.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n     }\r\n\r\n\r\nSignin class\r\n\r\nWhen i debug the line it shows save instance : null message\r\n\r\n\r\n    package com.example.dinidev.ecom;\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    public class Signin extends Activity{\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.login_page);\r\n    }\r\n    }\r\n\r\n\r\nAndroidmanifest\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.dinidev.ecom&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:label=&quot;@string/register_label&quot;\r\n            android:name=&quot;.Signup&quot;&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:label=&quot;@string/register_label&quot;\r\n            android:name=&quot;.Signin&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;","body":"<p>I'm facing an issue with my new app. I created a app for shopping cart and i created a signin and signup page and it is now showing error message</p>\n\n<p>Error:</p>\n\n<pre><code>08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: FATAL EXCEPTION: main `Error`\n                                                                    Process: com.example.dinidev.ecom, PID: 2902\n                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.dinidev.ecom/com.example.dinidev.ecom.Signin}: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\n                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\n                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n                                                                        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                        at android.os.Looper.loop(Looper.java:154)\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:6077)\n                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n                                                                     Caused by: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\n                                                                     Caused by: android.view.InflateException: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\n                                                                     Caused by: java.lang.reflect.InvocationTargetException\n                                                                        at java.lang.reflect.Constructor.newInstance0(Native Method)\n                                                                        at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\n                                                                        at android.view.LayoutInflater.createView(LayoutInflater.java:645)\n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)\n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:518)\n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\n                                                                        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414)\n                                                                        at android.app.Activity.setContentView(Activity.java:2414)\n                                                                        at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16)\n                                                                        at android.app.Activity.performCreate(Activity.java:6662)\n                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\n                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n                                                                        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                        at android.os.Looper.loop(Looper.java:154)\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:6077)\n                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n                                                                     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;\n                                                                        at android.support.design.widget.AnimationUtils.&lt;clinit&gt;(AnimationUtils.java:30)\n                                                                        at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:200)\n                                                                        at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:183)\n                                                                        at java.lang.reflect.Constructor.newInstance0(Native Method) \n                                                                        at java.lang.reflect.Constructor.newInstance(Constructor.java:430) \n                                                                        at android.view.LayoutInflater.createView(LayoutInflater.java:645) \n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787) \n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727) \n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:858) \n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821) \n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861) \n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821) \n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:518) \n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:426) \n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:377) \n                                                                        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414) \n                                                                        at android.app.Activity.setContentView(Activity.java:2414) \n                                                                        at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16) \n                                                                        at android.app.Activity.performCreate(Activity.java:6662) \n                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118) \n                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599) \n                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707) \n                                                                        at android.app.ActivityThread.-wrap12(ActivityThread.java) \n                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460) \n                                                                        at android.os.Handler.dispatchMessage(Handler.java:102) \n                                                                        at android.os.Looper.loop(Looper.java:154) \n                                                                        at android.app.ActivityThread.main(ActivityThread.java:6077) \n                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865) \n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755) \n08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.support.v4.view.animation.FastOutSlowInInterpolator\" on path: DexPathList[[zip file \"/data/app/com.example.dinidev.ecom-2/base.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_dependencies_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_0_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_1_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_2_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_3_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_4_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_5_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_6_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_7_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_8_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/com.example.dinidev.ecom-2/lib/x86, /system/lib, /vendor/lib]]\n                                                                        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n                                                                        at java.lang.ClassLoader.loadClass(ClassLoader.java:380)\n                                                                        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n                                                                            ... 30 more\n</code></pre>\n\n<p>module app:<code>Build.gradle</code></p>\n\n<pre><code>apply plugin: 'com.android.application'\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n    applicationId \"com.example.dinidev.ecom\"\n    minSdkVersion 15\n    targetSdkVersion 25\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \n\"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\nandroidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n     exclude group: 'com.android.support', module: 'support-annotations'\n})\ncompile 'com.android.support:appcompat-v7:25.3.1'\ncompile 'com.android.support.constraint:constraint-layout:1.0.2'\n\ncompile 'com.android.support:design:25.3.1'\ncompile 'com.android.support:cardview-v7:25.3.1'\ncompile 'com.android.support:support-v4:25.3.1'\ncompile 'com.android.support:recyclerview-v7:25.3.1'\ncompile 'com.google.code.gson:gson:2.2.4'\ncompile 'com.android.support:multidex:1.0.1'\n\ntestCompile 'junit:junit:4.12'\n}`Code`\n</code></pre>\n\n<p>activity_main xml <code>It is opening and working properly</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@drawable/profile1\"\ntools:context=\"com.example.dinidev.ecom.MainActivity\"&gt;\n\n\n&lt;Button\n    android:id=\"@+id/guest\"\n    android:layout_width=\"168dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_above=\"@+id/signin\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginBottom=\"31dp\"\n    android:background=\"@android:color/holo_blue_light\"\n    android:clickable=\"true\"\n    android:text=\"@string/Guest_User\"\n    android:textColor=\"@color/white\"\n    android:textSize=\"@dimen/eighteen_sp\"\n    android:textStyle=\"bold\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    tools:layout_editor_absoluteY=\"487dp\" /&gt;\n\n\n&lt;Button\n    android:id=\"@+id/signin\"\n    android:layout_width=\"178dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignBaseline=\"@+id/signup\"\n    android:layout_alignBottom=\"@+id/signup\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_alignParentStart=\"true\"\n    android:layout_marginLeft=\"12dp\"\n    android:layout_marginStart=\"12dp\"\n    android:background=\"@android:color/holo_blue_light\"\n    android:clickable=\"true\"\n    android:text=\"@string/login\"\n    android:textColor=\"@color/white\"\n    android:textSize=\"@dimen/eighteen_sp\"\n    android:textStyle=\"bold\"\n    tools:layout_editor_absoluteX=\"8dp\"\n    tools:layout_editor_absoluteY=\"487dp\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/signup\"\n    android:layout_width=\"168dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentBottom=\"true\"\n    android:layout_alignParentEnd=\"true\"\n    android:layout_alignParentRight=\"true\"\n    android:layout_marginBottom=\"27dp\"\n    android:layout_marginEnd=\"12dp\"\n    android:layout_marginRight=\"12dp\"\n    android:background=\"@android:color/holo_blue_light\"\n    android:clickable=\"true\"\n    android:text=\"@string/New_User\"\n    android:textColor=\"@color/white\"\n    android:textSize=\"@dimen/eighteen_sp\"\n    android:textStyle=\"bold\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    tools:layout_editor_absoluteY=\"487dp\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>login_page xml <code>It is not opening</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:background=\"@drawable/login_background\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/loginPage_logo\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"@dimen/fourty_seven_dp\"\n        android:text=\"@string/logo\"\n        android:textColor=\"@color/white\"\n        android:textSize=\"@dimen/fourty_four_sp\"\n        android:textStyle=\"italic|bold\"/&gt;\n&lt;/RelativeLayout&gt; `It is not opening it shows error as app stopped working message`\n</code></pre>\n\n<p>MainActivity class</p>\n\n<p>Main activity is working fine but when I click login it stops action </p>\n\n<pre><code>package com.example.dinidev.ecom;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\npublic class MainActivity extends AppCompatActivity {\nButton signin;\nfinal Context context = this;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    addListenerOnButton();\n}\n\nprivate void addListenerOnButton() {\n    /** Login Button Click */\n    signin = (Button) findViewById(R.id.signin);\n    signin.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(context, Signin.class);\n            startActivity(intent);\n        }\n    });\n }\n</code></pre>\n\n<p>Signin class</p>\n\n<p>When i debug the line it shows save instance : null message</p>\n\n<pre><code>package com.example.dinidev.ecom;\nimport android.app.Activity;\nimport android.os.Bundle;\npublic class Signin extends Activity{\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.login_page);\n}\n}\n</code></pre>\n\n<p>Androidmanifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.dinidev.ecom\"&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:label=\"@string/register_label\"\n        android:name=\".Signup\"&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:label=\"@string/register_label\"\n        android:name=\".Signin\"&gt;\n    &lt;/activity&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","object","oop"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680098057,"post_id":75867109,"comment_id":133839653,"body_markdown":"Why would you want to store four obviously separate pieces of data in a single variable?","body":"Why would you want to store four obviously separate pieces of data in a single variable?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680258994,"post_id":75867109,"comment_id":133871697,"body_markdown":"You should use different classes for each type, and use the `dataType` as the &quot;discriminator&quot;.","body":"You should use different classes for each type, and use the <code>dataType</code> as the &quot;discriminator&quot;."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680259105,"post_id":75867109,"comment_id":133871722,"body_markdown":"Also, shouldn&#39;t the type of the last example be &quot;LIST&quot;, not &quot;RANGE&quot;?","body":"Also, shouldn&#39;t the type of the last example be &quot;LIST&quot;, not &quot;RANGE&quot;?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680259126,"post_id":75867109,"comment_id":133871730,"body_markdown":"@VGR Such requirement is pretty common","body":"@VGR Such requirement is pretty common"}],"answers":[{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680016427,"creation_date":1680016427,"answer_id":75868060,"question_id":75867109,"body_markdown":"At glance, I can see that you can use a HashMap variable.\r\n\r\n    HashMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n\r\nNow you can enter any type of data without any issue.\r\nMake sure that you use proper validation against null values.\r\nHope this help.","title":"How to store an input with various data types into a single variable (String, Int, Date, List)","body":"<p>At glance, I can see that you can use a HashMap variable.</p>\n<pre><code>HashMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n</code></pre>\n<p>Now you can enter any type of data without any issue.\nMake sure that you use proper validation against null values.\nHope this help.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680262805,"creation_date":1680261880,"answer_id":75897987,"question_id":75867109,"body_markdown":"You can achieve this with polymorphic serialization and deserialization. This example uses records and sealed types, but should also work when rewritten to not use sealed and using &quot;normal&quot; POJOs.\r\n\r\nI use Jackson (`com.fasterxml.jackson.core:jackson-databind:2.14.2`) for this, with the `@JsonSubTypes` annotation to declare the mapping from the `dataType` property to the appropriate classes. I have only listed the examples in your question, but doing this for QUANTITY and DATE should follow from this.\r\n\r\nDefine an interface as the root of the types:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\n\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;dataType&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = AmountValue.class, name = &quot;AMOUNT&quot;),\r\n        @JsonSubTypes.Type(value = RangeValue.class, name = &quot;RANGE&quot;),\r\n        @JsonSubTypes.Type(value = ListValue.class, name = &quot;LIST&quot;),\r\n})\r\npublic sealed interface Condition \r\n        permits AmountValue, \r\n                ListValue, \r\n                RangeValue {\r\n\r\n    String condition();\r\n\r\n}\r\n```\r\n\r\nAnd the individual records of each type:\r\n\r\n```java\r\npublic record AmountValue(\r\n        String condition, \r\n        String value) implements Condition {\r\n}\r\n```\r\n\r\n```java\r\npublic record RangeValue(\r\n        String condition, \r\n        int minValue, \r\n        int maxValue) implements Condition {\r\n}\r\n```\r\n\r\n```java\r\npublic record ListValue(\r\n        String condition, \r\n        List&lt;String&gt; valueList) implements Condition {\r\n\r\n    public ListValue {\r\n        valueList = List.copyOf(valueList);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAn example for serializing and deserializing:\r\n\r\n```java\r\npublic class Example {\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        var conditionHolder = new ConditionHolder(\r\n                new AmountValue(&quot;Basket Value&quot;, &quot;5&quot;),\r\n                new RangeValue(&quot;Percentile&quot;, 10, 60),\r\n                new ListValue(&quot;Percentile&quot;, List.of(&quot;option1&quot;, &quot;option2&quot;)));\r\n\r\n        var mapper = new ObjectMapper()\r\n                .configure(SerializationFeature.INDENT_OUTPUT, true);\r\n\r\n        System.out.println(&quot;serialized format&quot;);\r\n        System.out.println(mapper.writeValueAsString(conditionHolder));\r\n        System.out.println(&quot;===============================&quot;);\r\n        System.out.println(&quot;deserialized result&quot;);\r\n\r\n        ConditionHolder deserialized = mapper.readValue(&quot;&quot;&quot;\r\n                {\r\n                  &quot;conditionList&quot; : [ {\r\n                    &quot;dataType&quot; : &quot;AMOUNT&quot;,\r\n                    &quot;condition&quot; : &quot;Basket Value&quot;,\r\n                    &quot;value&quot; : &quot;5&quot;\r\n                  }, {\r\n                    &quot;dataType&quot; : &quot;RANGE&quot;,\r\n                    &quot;condition&quot; : &quot;Percentile&quot;,\r\n                    &quot;minValue&quot; : 10,\r\n                    &quot;maxValue&quot; : 60\r\n                  }, {\r\n                    &quot;dataType&quot; : &quot;LIST&quot;,\r\n                    &quot;condition&quot; : &quot;Percentile&quot;,\r\n                    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\r\n                  } ]\r\n                }\r\n                &quot;&quot;&quot;, ConditionHolder.class);\r\n        System.out.println(deserialized);\r\n    }\r\n\r\n    public record ConditionHolder(List&lt;Condition&gt; conditionList) {\r\n\r\n        public ConditionHolder {\r\n            conditionList = List.copyOf(conditionList);\r\n        }\r\n\r\n        public ConditionHolder(Condition... conditions) {\r\n            this(List.of(conditions));\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput (with added linebreaks in deserialized result for readability):\r\n\r\n```none\r\nserialized format\r\n{\r\n  &quot;conditionList&quot; : [ {\r\n    &quot;dataType&quot; : &quot;AMOUNT&quot;,\r\n    &quot;condition&quot; : &quot;Basket Value&quot;,\r\n    &quot;value&quot; : &quot;5&quot;\r\n  }, {\r\n    &quot;dataType&quot; : &quot;RANGE&quot;,\r\n    &quot;condition&quot; : &quot;Percentile&quot;,\r\n    &quot;minValue&quot; : 10,\r\n    &quot;maxValue&quot; : 60\r\n  }, {\r\n    &quot;dataType&quot; : &quot;LIST&quot;,\r\n    &quot;condition&quot; : &quot;Percentile&quot;,\r\n    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\r\n  } ]\r\n}\r\n===============================\r\ndeserialized result\r\nConditionHolder[conditionList=[\r\n  AmountValue[condition=Basket Value, value=5], \r\n  RangeValue[condition=Percentile, minValue=10, maxValue=60],\r\n  ListValue[condition=Percentile, valueList=[option1, option2]]\r\n]]\r\n```\r\n\r\nObviously, to actually use these types and their value in code, you will have to do `instanceof` checks, but once pattern matching switch lands (probably in Java 21), that type of handling can be further simplified. Alternatively, it might be possible to define necessary evaluation or behaviour through methods in `Condition`, but if that is possible depends on the problem you&#39;re trying to solve.\r\n\r\nIf you need to &quot;manually&quot; perform the serialization or deserialization (e.g. because the library you use doesn&#39;t provide support for polymorphic serialization/deserialization), then you need to mimic what Jackson does. That is, for serialization, determine the actual type, add the _discriminator_ property (`dataType`) with the right value to the JSON object, and then the properties of the actual object. For deserialization, use the _discriminator_ property (`dataType`) to decide which type to create, and read the properties of that type from the JSON object.","title":"How to store an input with various data types into a single variable (String, Int, Date, List)","body":"<p>You can achieve this with polymorphic serialization and deserialization. This example uses records and sealed types, but should also work when rewritten to not use sealed and using &quot;normal&quot; POJOs.</p>\n<p>I use Jackson (<code>com.fasterxml.jackson.core:jackson-databind:2.14.2</code>) for this, with the <code>@JsonSubTypes</code> annotation to declare the mapping from the <code>dataType</code> property to the appropriate classes. I have only listed the examples in your question, but doing this for QUANTITY and DATE should follow from this.</p>\n<p>Define an interface as the root of the types:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;dataType&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = AmountValue.class, name = &quot;AMOUNT&quot;),\n        @JsonSubTypes.Type(value = RangeValue.class, name = &quot;RANGE&quot;),\n        @JsonSubTypes.Type(value = ListValue.class, name = &quot;LIST&quot;),\n})\npublic sealed interface Condition \n        permits AmountValue, \n                ListValue, \n                RangeValue {\n\n    String condition();\n\n}\n</code></pre>\n<p>And the individual records of each type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record AmountValue(\n        String condition, \n        String value) implements Condition {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public record RangeValue(\n        String condition, \n        int minValue, \n        int maxValue) implements Condition {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public record ListValue(\n        String condition, \n        List&lt;String&gt; valueList) implements Condition {\n\n    public ListValue {\n        valueList = List.copyOf(valueList);\n    }\n\n}\n</code></pre>\n<p>An example for serializing and deserializing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        var conditionHolder = new ConditionHolder(\n                new AmountValue(&quot;Basket Value&quot;, &quot;5&quot;),\n                new RangeValue(&quot;Percentile&quot;, 10, 60),\n                new ListValue(&quot;Percentile&quot;, List.of(&quot;option1&quot;, &quot;option2&quot;)));\n\n        var mapper = new ObjectMapper()\n                .configure(SerializationFeature.INDENT_OUTPUT, true);\n\n        System.out.println(&quot;serialized format&quot;);\n        System.out.println(mapper.writeValueAsString(conditionHolder));\n        System.out.println(&quot;===============================&quot;);\n        System.out.println(&quot;deserialized result&quot;);\n\n        ConditionHolder deserialized = mapper.readValue(&quot;&quot;&quot;\n                {\n                  &quot;conditionList&quot; : [ {\n                    &quot;dataType&quot; : &quot;AMOUNT&quot;,\n                    &quot;condition&quot; : &quot;Basket Value&quot;,\n                    &quot;value&quot; : &quot;5&quot;\n                  }, {\n                    &quot;dataType&quot; : &quot;RANGE&quot;,\n                    &quot;condition&quot; : &quot;Percentile&quot;,\n                    &quot;minValue&quot; : 10,\n                    &quot;maxValue&quot; : 60\n                  }, {\n                    &quot;dataType&quot; : &quot;LIST&quot;,\n                    &quot;condition&quot; : &quot;Percentile&quot;,\n                    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\n                  } ]\n                }\n                &quot;&quot;&quot;, ConditionHolder.class);\n        System.out.println(deserialized);\n    }\n\n    public record ConditionHolder(List&lt;Condition&gt; conditionList) {\n\n        public ConditionHolder {\n            conditionList = List.copyOf(conditionList);\n        }\n\n        public ConditionHolder(Condition... conditions) {\n            this(List.of(conditions));\n        }\n\n    }\n\n}\n</code></pre>\n<p>Output (with added linebreaks in deserialized result for readability):</p>\n<pre class=\"lang-none prettyprint-override\"><code>serialized format\n{\n  &quot;conditionList&quot; : [ {\n    &quot;dataType&quot; : &quot;AMOUNT&quot;,\n    &quot;condition&quot; : &quot;Basket Value&quot;,\n    &quot;value&quot; : &quot;5&quot;\n  }, {\n    &quot;dataType&quot; : &quot;RANGE&quot;,\n    &quot;condition&quot; : &quot;Percentile&quot;,\n    &quot;minValue&quot; : 10,\n    &quot;maxValue&quot; : 60\n  }, {\n    &quot;dataType&quot; : &quot;LIST&quot;,\n    &quot;condition&quot; : &quot;Percentile&quot;,\n    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\n  } ]\n}\n===============================\ndeserialized result\nConditionHolder[conditionList=[\n  AmountValue[condition=Basket Value, value=5], \n  RangeValue[condition=Percentile, minValue=10, maxValue=60],\n  ListValue[condition=Percentile, valueList=[option1, option2]]\n]]\n</code></pre>\n<p>Obviously, to actually use these types and their value in code, you will have to do <code>instanceof</code> checks, but once pattern matching switch lands (probably in Java 21), that type of handling can be further simplified. Alternatively, it might be possible to define necessary evaluation or behaviour through methods in <code>Condition</code>, but if that is possible depends on the problem you're trying to solve.</p>\n<p>If you need to &quot;manually&quot; perform the serialization or deserialization (e.g. because the library you use doesn't provide support for polymorphic serialization/deserialization), then you need to mimic what Jackson does. That is, for serialization, determine the actual type, add the <em>discriminator</em> property (<code>dataType</code>) with the right value to the JSON object, and then the properties of the actual object. For deserialization, use the <em>discriminator</em> property (<code>dataType</code>) to decide which type to create, and read the properties of that type from the JSON object.</p>\n"}],"owner":{"account_id":5194812,"reputation":31,"user_id":4156532,"display_name":"rma_ranasinghe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680505812,"creation_date":1680011147,"question_id":75867109,"body_markdown":"In the UI, I need to support to select the condition and based on the condition must provide the input. Inputs can be one of the listed below:\r\n\r\n- QUANTITY\r\n- DATE\r\n- AMOUNT\r\n- LIST - [&quot;Option1&quot;, &quot;Option2&quot;] - Multiple Selection \r\n- RANGE - (Min and Max)\r\n\r\nOnce selected it will get populated as a JSON. \r\n\r\nThe Java class looks like the below with the fields and its getters and setters: \r\n```java\r\nprivate String condition;\r\nprivate String value;\r\nprivate List&lt;String&gt; valueList;\r\nprivate String valueType;\r\nprivate int minValue;\r\nprivate int maxValue;\r\n```\r\n\r\nFor AMOUNT, as the below: \r\n\r\n```json\r\n{\r\n  &quot;condition&quot;: &quot;Basket Value&quot;,\r\n  &quot;value&quot;: &quot;5&quot;,\r\n  &quot;dataType&quot;: &quot;AMOUNT&quot;,\r\n}\r\n```\r\n\r\nFor RANGE, as the below: \r\n\r\n```json\r\n{\r\n  &quot;condition&quot;: &quot;Percentile&quot;,\r\n  &quot;dataType&quot;: &quot;RANGE&quot;,\r\n  &quot;minValue&quot;: 10,\r\n  &quot;maxValue&quot;: 60\r\n}\r\n``` \r\nFor LIST, as the below: \r\n\r\n```json\r\n{\r\n  &quot;condition&quot;: &quot;Options&quot;,\r\n  &quot;dataType&quot;: &quot;LIST&quot;,\r\n  &quot;valueList&quot;: [&quot;option1&quot;, &quot;option2&quot;]\r\n}\r\n``` \r\nInstead of having `value`, `valueList`, `attributeMin`, and `attributeMax`. How can I store it in a single variable? \r\n\r\nIs using `Object` the best solution? Is there any other solution? I cannot use `var` in Java for this. \r\n\r\n```java\r\nObject inputValue;\r\n```\r\n\r\nThe data will be saved to MongoDB. \r\n","title":"How to store an input with various data types into a single variable (String, Int, Date, List)","body":"<p>In the UI, I need to support to select the condition and based on the condition must provide the input. Inputs can be one of the listed below:</p>\n<ul>\n<li>QUANTITY</li>\n<li>DATE</li>\n<li>AMOUNT</li>\n<li>LIST - [&quot;Option1&quot;, &quot;Option2&quot;] - Multiple Selection</li>\n<li>RANGE - (Min and Max)</li>\n</ul>\n<p>Once selected it will get populated as a JSON.</p>\n<p>The Java class looks like the below with the fields and its getters and setters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String condition;\nprivate String value;\nprivate List&lt;String&gt; valueList;\nprivate String valueType;\nprivate int minValue;\nprivate int maxValue;\n</code></pre>\n<p>For AMOUNT, as the below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;condition&quot;: &quot;Basket Value&quot;,\n  &quot;value&quot;: &quot;5&quot;,\n  &quot;dataType&quot;: &quot;AMOUNT&quot;,\n}\n</code></pre>\n<p>For RANGE, as the below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;condition&quot;: &quot;Percentile&quot;,\n  &quot;dataType&quot;: &quot;RANGE&quot;,\n  &quot;minValue&quot;: 10,\n  &quot;maxValue&quot;: 60\n}\n</code></pre>\n<p>For LIST, as the below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;condition&quot;: &quot;Options&quot;,\n  &quot;dataType&quot;: &quot;LIST&quot;,\n  &quot;valueList&quot;: [&quot;option1&quot;, &quot;option2&quot;]\n}\n</code></pre>\n<p>Instead of having <code>value</code>, <code>valueList</code>, <code>attributeMin</code>, and <code>attributeMax</code>. How can I store it in a single variable?</p>\n<p>Is using <code>Object</code> the best solution? Is there any other solution? I cannot use <code>var</code> in Java for this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object inputValue;\n</code></pre>\n<p>The data will be saved to MongoDB.</p>\n"},{"tags":["java","multithreading","spring-boot","concurrency","guava"],"answers":[{"tags":[],"owner":{"account_id":131689,"reputation":451,"user_id":331864,"accept_rate":67,"display_name":"isomeme"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680389187,"creation_date":1680389187,"answer_id":75909235,"question_id":75898065,"body_markdown":"It&#39;s always a good idea to provide a code sample so we can see what is producing the behavior you&#39;re trying to change.\r\n\r\nPer the [Javadoc](https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html), an idle `RateLimiter` will allow a burst of up to `permitsPerSecond` approvals, then begin issuing permits at intervals of 1/pps seconds.\r\n\r\nIt&#39;s useful to think of the `RateLimiter` as maintaining a bag of tokens. Acquiring a permit removes a token. Periodically a new token is added if there are less than pps tokens already. That isn&#39;t precisely how it actually works, but it&#39;s close enough to help you understand what&#39;s going on.\r\n\r\nSo, in other words, it seems that `RateLimiter` already behaves how you want it to. Perhaps I have misunderstood your question?","title":"Guava&#39;s Rate Limiter - change rate at which permits are issued","body":"<p>It's always a good idea to provide a code sample so we can see what is producing the behavior you're trying to change.</p>\n<p>Per the <a href=\"https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html\" rel=\"nofollow noreferrer\">Javadoc</a>, an idle <code>RateLimiter</code> will allow a burst of up to <code>permitsPerSecond</code> approvals, then begin issuing permits at intervals of 1/pps seconds.</p>\n<p>It's useful to think of the <code>RateLimiter</code> as maintaining a bag of tokens. Acquiring a permit removes a token. Periodically a new token is added if there are less than pps tokens already. That isn't precisely how it actually works, but it's close enough to help you understand what's going on.</p>\n<p>So, in other words, it seems that <code>RateLimiter</code> already behaves how you want it to. Perhaps I have misunderstood your question?</p>\n"}],"owner":{"account_id":18348376,"reputation":1,"user_id":13363096,"display_name":"kheptan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680505425,"creation_date":1680262444,"question_id":75898065,"body_markdown":"i want to implement a throttle mechanism in spring boot for all our application requests\r\ni&#39;ve chosen to catch all http requests in the OncePerRequestFilter and use the guava rate-limiter with 3 cases\r\none general with 1000 requests /second and the other two will limit requests by ip /hour/second\r\n\r\nlets say i have 5 permits/second for an api call\r\nand if i got 5 threads arriving at the same time or in an interval smaller than 200 milliseconds i still want them all to pass\r\n\r\nEX.\r\n```\r\n0............ 1 sec\r\n 12345 -------\r\n\r\n0 ............ 1 sec\r\n   ------12345\r\n```\r\nhow can i get this to work \r\n\r\ntesting this and only gives access only to two or three threads then  blocks the rest, which is normal as the permits rate are at fixed intervals (only after 200ms)\r\n","title":"Guava&#39;s Rate Limiter - change rate at which permits are issued","body":"<p>i want to implement a throttle mechanism in spring boot for all our application requests\ni've chosen to catch all http requests in the OncePerRequestFilter and use the guava rate-limiter with 3 cases\none general with 1000 requests /second and the other two will limit requests by ip /hour/second</p>\n<p>lets say i have 5 permits/second for an api call\nand if i got 5 threads arriving at the same time or in an interval smaller than 200 milliseconds i still want them all to pass</p>\n<p>EX.</p>\n<pre><code>0............ 1 sec\n 12345 -------\n\n0 ............ 1 sec\n   ------12345\n</code></pre>\n<p>how can i get this to work</p>\n<p>testing this and only gives access only to two or three threads then  blocks the rest, which is normal as the permits rate are at fixed intervals (only after 200ms)</p>\n"},{"tags":["java","spring-boot","maven","dependencies","pom.xml"],"comments":[{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1680502042,"post_id":75916334,"comment_id":133903070,"body_markdown":"What&#39;s the problem when you are using it as a dependency in other project ? Maven will import it if your lib is present in your local .m2 folder.","body":"What&#39;s the problem when you are using it as a dependency in other project ? Maven will import it if your lib is present in your local .m2 folder."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1680511984,"post_id":75916334,"comment_id":133904968,"body_markdown":"Spring boot jars are finalized for deployment and not further consumption.  Reconsider your approach","body":"Spring boot jars are finalized for deployment and not further consumption.  Reconsider your approach"},{"owner":{"account_id":17170928,"reputation":23,"user_id":12428091,"display_name":"Steve"},"score":0,"creation_date":1680587928,"post_id":75916334,"comment_id":133919050,"body_markdown":"Thanks Throbjorn. That is a good point. I really should have utility.jar that&#39;s just built with the maven-jar-plugin and then imported into my app.","body":"Thanks Throbjorn. That is a good point. I really should have utility.jar that&#39;s just built with the maven-jar-plugin and then imported into my app."}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680504672,"creation_date":1680504672,"answer_id":75916704,"question_id":75916334,"body_markdown":"Have a look at the article https://www.baeldung.com/maven-artifact-classifiers, following dependency should work for you:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n            &lt;artifactId&gt;utility&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;importable&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Maven pom to include importable jar from another project","body":"<p>Have a look at the article <a href=\"https://www.baeldung.com/maven-artifact-classifiers\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-artifact-classifiers</a>, following dependency should work for you:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.acme&lt;/groupId&gt;\n            &lt;artifactId&gt;utility&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;classifier&gt;importable&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":17170928,"reputation":23,"user_id":12428091,"display_name":"Steve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680505222,"creation_date":1680500767,"question_id":75916334,"body_markdown":"I have a project creating a Utility jar using Maven and it is stored in the local repository. I want to import that jar into my Application project. Because Maven now puts BOOT-INF in-front of the class path, I put the following into the Utility Jar to generate an importable version.\r\n\t\r\n```\r\n&lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t   &lt;plugin&gt;\r\n\t\t        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;executions&gt;\r\n\t\t            &lt;execution&gt;\r\n\t\t                &lt;goals&gt;\r\n\t\t                    &lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t                &lt;/goals&gt;\r\n\t\t                &lt;phase&gt;package&lt;/phase&gt;\r\n\t\t                &lt;configuration&gt;\r\n\t\t                    &lt;!--to be imported on other projects--&gt;\r\n\t\t                    &lt;classifier&gt;importable&lt;/classifier&gt;\r\n\t\t                &lt;/configuration&gt;\r\n\t\t            &lt;/execution&gt;\r\n\t\t        &lt;/executions&gt;\r\n\t\t    &lt;/plugin&gt;\r\n\t\t    &lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t    &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n```\r\nIt&#39;s version 1.0 so it creates the following in the repository ...\r\n```\r\nutility-1.0-importable.jar\r\nutility-1.0.jar\r\n```\r\n... and some other stuff.\r\nThe importable jar does NOT put BOOT-INF in-front of the directories for my classes and so that&#39;s the jar I want to include in my Application pom.xml.\r\n\r\nI just don&#39;t know how to refer to it as the following refers to the utility-1.0.jar, which has the BOOT-INF and consequently the classes are not found.\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;utility&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nHow do I refer to the importable jar?\r\n(This is all brand new and so the latest versions of everything are being used.)\r\n\r\nI&#39;ve been wading through heaps of posts about including dependent maven projects but they don&#39;t seem to explain just what precisely goes into the dependent project and what goes into the application project. \r\n","title":"Maven pom to include importable jar from another project","body":"<p>I have a project creating a Utility jar using Maven and it is stored in the local repository. I want to import that jar into my Application project. Because Maven now puts BOOT-INF in-front of the class path, I put the following into the Utility Jar to generate an importable version.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;!--to be imported on other projects--&gt;\n                            &lt;classifier&gt;importable&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n<p>It's version 1.0 so it creates the following in the repository ...</p>\n<pre><code>utility-1.0-importable.jar\nutility-1.0.jar\n</code></pre>\n<p>... and some other stuff.\nThe importable jar does NOT put BOOT-INF in-front of the directories for my classes and so that's the jar I want to include in my Application pom.xml.</p>\n<p>I just don't know how to refer to it as the following refers to the utility-1.0.jar, which has the BOOT-INF and consequently the classes are not found.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.acme&lt;/groupId&gt;\n            &lt;artifactId&gt;utility&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>How do I refer to the importable jar?\n(This is all brand new and so the latest versions of everything are being used.)</p>\n<p>I've been wading through heaps of posts about including dependent maven projects but they don't seem to explain just what precisely goes into the dependent project and what goes into the application project.</p>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":3135286,"reputation":1144,"user_id":2651902,"accept_rate":35,"display_name":"RaT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680504172,"creation_date":1679918645,"question_id":75855545,"body_markdown":"```\r\npublic class A {\r\n\r\n\tprivate B\tb;\r\n\r\n\t@NotNull\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;B_ID&quot;)\r\n\tpublic B getB() {\r\n\t\treturn this.b;\r\n\t}\r\n\r\n\tpublic void seB(B b) {\r\n\t\tthis.b = b;\r\n\t}\r\n}\r\n\r\npublic class B {\r\n\r\n\tprivate Set&lt;A&gt; a   = new HashSet&lt;&gt;(0);\r\n\t\r\n\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;b&quot;, cascade = { CascadeType.ALL }, orphanRemoval = true)\r\n\tpublic Set&lt;A&gt; getA() {\r\n\t\treturn this.a;\r\n\t}\r\n\t\r\n\tpublic void setA(Set&lt;A&gt; a) {\r\n\t\tthis.a = a;\r\n\t}\r\n}\r\n```\r\nI have two entity with ManyToOne mapping, like above.\r\n\r\nWhen I fetch object A with HQL eager fetch like ```SELECT ai FROM A ai LEFT JOIN FETCH ai.b b LEFT JOIN FETCH b.a where id=1```\r\nthe object received from query (suppose A a= getByQuery()) and the grand child of that object are same\r\n```a == a.getB().getA().get(0)```\r\n\r\nWhen I fetch only parent object from query ```SELECT ai FROM A ai where id=1```\r\nAnd thenlazy fetch the child and grandchild elements then they are not same objects\r\n```a != a.getB().getA().get(0)```\r\n\r\nIt is like hibernate didn&#39;t return same object from session cache, rather it creates new object with same id and returned during lazy fetch.\r\n\r\nI am not able to understand why it is happening, how can I avoid it. How can I debug and check the reason of it in hibernate code.","title":"Hibernate returning different object from session cache","body":"<pre><code>public class A {\n\n    private B   b;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;B_ID&quot;)\n    public B getB() {\n        return this.b;\n    }\n\n    public void seB(B b) {\n        this.b = b;\n    }\n}\n\npublic class B {\n\n    private Set&lt;A&gt; a   = new HashSet&lt;&gt;(0);\n    \n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;b&quot;, cascade = { CascadeType.ALL }, orphanRemoval = true)\n    public Set&lt;A&gt; getA() {\n        return this.a;\n    }\n    \n    public void setA(Set&lt;A&gt; a) {\n        this.a = a;\n    }\n}\n</code></pre>\n<p>I have two entity with ManyToOne mapping, like above.</p>\n<p>When I fetch object A with HQL eager fetch like <code>SELECT ai FROM A ai LEFT JOIN FETCH ai.b b LEFT JOIN FETCH b.a where id=1</code>\nthe object received from query (suppose A a= getByQuery()) and the grand child of that object are same\n<code>a == a.getB().getA().get(0)</code></p>\n<p>When I fetch only parent object from query <code>SELECT ai FROM A ai where id=1</code>\nAnd thenlazy fetch the child and grandchild elements then they are not same objects\n<code>a != a.getB().getA().get(0)</code></p>\n<p>It is like hibernate didn't return same object from session cache, rather it creates new object with same id and returned during lazy fetch.</p>\n<p>I am not able to understand why it is happening, how can I avoid it. How can I debug and check the reason of it in hibernate code.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1680496747,"post_id":75916040,"comment_id":133902555,"body_markdown":"why use this `for (int x = 1; x &gt; 0; x++)` loop.  I suggest just having an endless loop, then control your counter variable separately.  e.g. `while (true) {`","body":"why use this <code>for (int x = 1; x &gt; 0; x++)</code> loop.  I suggest just having an endless loop, then control your counter variable separately.  e.g. <code>while (true) {</code>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1680496831,"post_id":75916040,"comment_id":133902563,"body_markdown":"Also it is the general opinion that using exceptions for code control is not a good idea.","body":"Also it is the general opinion that using exceptions for code control is not a good idea."}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680500651,"post_id":75916251,"comment_id":133902900,"body_markdown":"No need to create a new `Scanner` instance in each loop iteration, is there?","body":"No need to create a new <code>Scanner</code> instance in each loop iteration, is there?"}],"tags":[],"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680503438,"creation_date":1680499577,"answer_id":75916251,"question_id":75916040,"body_markdown":"try this,\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int min = 1;\r\n        int max = 50;\r\n        int rndm = (int) (Math.random() * (max - min) + 1) + min;\r\n        int x = 0;\r\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        while(true) {    \r\n            System.out.print(&quot;Guess the randomized number: &quot;);\r\n            int jv = sc.nextInt();\r\n            try {\r\n                if (jv &lt; min || jv &gt; max) {\r\n                    throw new IllegalArgumentException();\r\n                }\r\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\r\n                    x++;\r\n                    if (jv == rndm) {\r\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\r\n                                + &quot;Your guess is correct!&quot;);\r\n                        int atmpts = x;\r\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    else if (jv &gt; rndm) {\r\n                        System.out.println(&quot;Too high! Try again.&quot;);\r\n                    }\r\n                    else if (jv &lt; rndm) {\r\n                        System.out.println(&quot;Too low! Try again.&quot;);\r\n                    }\r\n                }\r\n            }\r\n            catch (IllegalArgumentException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\r\n            }\r\n            catch (InputMismatchException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\r\n            }\r\n        }\r\n    }","title":"Number of attempts is inaccurate (for loop)","body":"<p>try this,</p>\n<pre><code>public static void main(String[] args) {\n\n    int min = 1;\n    int max = 50;\n    int rndm = (int) (Math.random() * (max - min) + 1) + min;\n    int x = 0;\n    System.out.println(&quot;Guess a number from 1 to 50!&quot;);\n    Scanner sc = new Scanner(System.in);\n    while(true) {    \n        System.out.print(&quot;Guess the randomized number: &quot;);\n        int jv = sc.nextInt();\n        try {\n            if (jv &lt; min || jv &gt; max) {\n                throw new IllegalArgumentException();\n            }\n            else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\n                x++;\n                if (jv == rndm) {\n                    System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\n                            + &quot;Your guess is correct!&quot;);\n                    int atmpts = x;\n                    System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\n                    System.exit(0);\n                }\n                else if (jv &gt; rndm) {\n                    System.out.println(&quot;Too high! Try again.&quot;);\n                }\n                else if (jv &lt; rndm) {\n                    System.out.println(&quot;Too low! Try again.&quot;);\n                }\n            }\n        }\n        catch (IllegalArgumentException ex) {\n            System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\n        }\n        catch (InputMismatchException ex) {\n            System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680499677,"creation_date":1680499677,"answer_id":75916256,"question_id":75916040,"body_markdown":"No need to create a new `Scanner` each time you need to get input from the user. Create the `Scanner` once, before entering the loop.\r\n\r\nThis line of code is incorrect:\r\n```java\r\nx = x--;\r\n```\r\nIt should be:\r\n```java\r\n--x;\r\n```\r\nRefer to Oracle&#39;s Java [tutorials](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html).\r\n\r\nHere is your code with my corrections as described above:  \r\n(Note that I use class [Random](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html) to get a random number.)\r\n```java\r\nimport java.util.InputMismatchException;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int min = 1;\r\n        int max = 50;\r\n        Random rand = new Random();\r\n        int rndm = rand.nextInt(1, 51); // (int) (Math.random() * (max - min) + 1) + min;\r\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        for (int x = 1; x &gt; 0; x++) {\r\n            System.out.print(&quot;Guess the randomized number: &quot;);\r\n            int jv = sc.nextInt();\r\n            try {\r\n                if (jv &lt; min || jv &gt; max) {\r\n                    throw new IllegalArgumentException();\r\n                }\r\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\r\n                    if (jv == rndm) {\r\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\r\n                                + &quot;Your guess is correct!&quot;);\r\n                        int atmpts = x;\r\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    else if (jv &gt; rndm) {\r\n                        System.out.println(&quot;Too high! Try again.&quot;);\r\n                    }\r\n                    else if (jv &lt; rndm) {\r\n                        System.out.println(&quot;Too low! Try again.&quot;);\r\n                    }\r\n                }\r\n            }\r\n            catch (IllegalArgumentException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\r\n                --x;\r\n            }\r\n            catch (InputMismatchException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\r\n                --x;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Number of attempts is inaccurate (for loop)","body":"<p>No need to create a new <code>Scanner</code> each time you need to get input from the user. Create the <code>Scanner</code> once, before entering the loop.</p>\n<p>This line of code is incorrect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>x = x--;\n</code></pre>\n<p>It should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>--x;\n</code></pre>\n<p>Refer to Oracle's Java <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"nofollow noreferrer\">tutorials</a>.</p>\n<p>Here is your code with my corrections as described above:<br />\n(Note that I use class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\">Random</a> to get a random number.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.InputMismatchException;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        int min = 1;\n        int max = 50;\n        Random rand = new Random();\n        int rndm = rand.nextInt(1, 51); // (int) (Math.random() * (max - min) + 1) + min;\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\n        Scanner sc = new Scanner(System.in);\n        for (int x = 1; x &gt; 0; x++) {\n            System.out.print(&quot;Guess the randomized number: &quot;);\n            int jv = sc.nextInt();\n            try {\n                if (jv &lt; min || jv &gt; max) {\n                    throw new IllegalArgumentException();\n                }\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\n                    if (jv == rndm) {\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\n                                + &quot;Your guess is correct!&quot;);\n                        int atmpts = x;\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\n                        System.exit(0);\n                    }\n                    else if (jv &gt; rndm) {\n                        System.out.println(&quot;Too high! Try again.&quot;);\n                    }\n                    else if (jv &lt; rndm) {\n                        System.out.println(&quot;Too low! Try again.&quot;);\n                    }\n                }\n            }\n            catch (IllegalArgumentException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\n                --x;\n            }\n            catch (InputMismatchException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\n                --x;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23015564,"reputation":5,"user_id":17137392,"display_name":"Alex L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916256,"answer_count":2,"score":0,"last_activity_date":1680503438,"creation_date":1680496125,"question_id":75916040,"body_markdown":"Is it possible to display the number of guesses/attempts made not counting the ones when an exception is thrown? Because the number of attempts I&#39;m getting when I execute the program includes the exceptions. I used decrement for whenever an exception is thrown but that&#39;s not working.\r\n\r\nHere&#39;s my code:\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int min = 1;\r\n        int max = 50;\r\n        int rndm = (int) (Math.random() * (max - min) + 1) + min;\r\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\r\n        for (int x = 1; x &gt; 0; x++) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.print(&quot;Guess the randomized number: &quot;);\r\n            int jv = sc.nextInt();\r\n            try {\r\n                if (jv &lt; min || jv &gt; max) {\r\n                    throw new IllegalArgumentException();\r\n                }\r\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\r\n                    if (jv == rndm) {\r\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\r\n                                + &quot;Your guess is correct!&quot;);\r\n                        int atmpts = x;\r\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    else if (jv &gt; rndm) {\r\n                        System.out.println(&quot;Too high! Try again.&quot;);\r\n                    }\r\n                    else if (jv &lt; rndm) {\r\n                        System.out.println(&quot;Too low! Try again.&quot;);\r\n                    }\r\n                }\r\n            }\r\n            catch (IllegalArgumentException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\r\n                x = x--;\r\n            }\r\n            catch (InputMismatchException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\r\n                x = x--;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Number of attempts is inaccurate (for loop)","body":"<p>Is it possible to display the number of guesses/attempts made not counting the ones when an exception is thrown? Because the number of attempts I'm getting when I execute the program includes the exceptions. I used decrement for whenever an exception is thrown but that's not working.</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        int min = 1;\n        int max = 50;\n        int rndm = (int) (Math.random() * (max - min) + 1) + min;\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\n        for (int x = 1; x &gt; 0; x++) {\n            Scanner sc = new Scanner(System.in);\n            System.out.print(&quot;Guess the randomized number: &quot;);\n            int jv = sc.nextInt();\n            try {\n                if (jv &lt; min || jv &gt; max) {\n                    throw new IllegalArgumentException();\n                }\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\n                    if (jv == rndm) {\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\n                                + &quot;Your guess is correct!&quot;);\n                        int atmpts = x;\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\n                        System.exit(0);\n                    }\n                    else if (jv &gt; rndm) {\n                        System.out.println(&quot;Too high! Try again.&quot;);\n                    }\n                    else if (jv &lt; rndm) {\n                        System.out.println(&quot;Too low! Try again.&quot;);\n                    }\n                }\n            }\n            catch (IllegalArgumentException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\n                x = x--;\n            }\n            catch (InputMismatchException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\n                x = x--;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","antlr4"],"comments":[{"owner":{"account_id":175495,"reputation":2169,"user_id":405555,"accept_rate":80,"display_name":"Elliveny"},"score":0,"creation_date":1680334295,"post_id":75904566,"comment_id":133883938,"body_markdown":"Ok, so I installed microsoft-jdk-17.0.6-windows-x64.msi from https://learn.microsoft.com/en-us/java/openjdk/download. This has given me a new java.exe in &quot;C:\\Program Files\\Microsoft\\jdk-17.0.6.10-hotspot&quot;. After rebooting, java --version gives me &#39;openjdk 17.0.6 2023-01-17 LTS - OpenJDK Runtime Environment Microsoft-7209853 (build 17.0.6+10-LTS) - OpenJDK 64-Bit Server VM Microsoft-7209853 (build 17.0.6+10-LTS, mixed mode, sharing)&#39; and now I get the &#39;ANTLR Parser Generator  Version 4.12.0&#39; help when I execute the jar file :-) - Still wondering if the JDK was the best choice though?","body":"Ok, so I installed microsoft-jdk-17.0.6-windows-x64.msi from <a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/java/openjdk/download</a>. This has given me a new java.exe in &quot;C:\\Program Files\\Microsoft\\jdk-17.0.6.10-hotspot&quot;. After rebooting, java --version gives me &#39;openjdk 17.0.6 2023-01-17 LTS - OpenJDK Runtime Environment Microsoft-7209853 (build 17.0.6+10-LTS) - OpenJDK 64-Bit Server VM Microsoft-7209853 (build 17.0.6+10-LTS, mixed mode, sharing)&#39; and now I get the &#39;ANTLR Parser Generator  Version 4.12.0&#39; help when I execute the jar file :-) - Still wondering if the JDK was the best choice though?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680426421,"post_id":75904566,"comment_id":133893763,"body_markdown":"As far as I&#39;m aware, the java.com site is only retained and only offers Java 8 for &quot;historic reasons&quot;. So the fact it recommends &quot;Version 8 Update 361&quot; has no bearing on what the wider Java community does and uses. For example, if you go to https://www.java.com/en/, it has a blurb _&quot;Are you a software developer looking for JDK downloads?&quot;_ which points you to https://www.oracle.com/java/technologies/downloads/ (which right now will recommend Java 17 and/or Java 20). Also there are a lot of different &quot;vendors&quot; for Java: Oracle, Eclipse Adoptium, Microsoft, Azul, IBM and others.","body":"As far as I&#39;m aware, the java.com site is only retained and only offers Java 8 for &quot;historic reasons&quot;. So the fact it recommends &quot;Version 8 Update 361&quot; has no bearing on what the wider Java community does and uses. For example, if you go to <a href=\"https://www.java.com/en/\" rel=\"nofollow noreferrer\">java.com/en</a>, it has a blurb <i>&quot;Are you a software developer looking for JDK downloads?&quot;</i> which points you to <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/downloads</a> (which right now will recommend Java 17 and/or Java 20). Also there are a lot of different &quot;vendors&quot; for Java: Oracle, Eclipse Adoptium, Microsoft, Azul, IBM and others."},{"owner":{"account_id":175495,"reputation":2169,"user_id":405555,"accept_rate":80,"display_name":"Elliveny"},"score":0,"creation_date":1680503092,"post_id":75904566,"comment_id":133903220,"body_markdown":"Thanks @MarkRotteveel - it seems bizarre to me that Java 8 has a recent release date, it&#39;s very misleading. I see my question was closed, with reference to a &#39;duplicate&#39; which I did see, but which has such an overwhelming number of replies and which discusses subjects way outside the issue I was trying to fix that I couldn&#39;t see an answer there. I hope this question stays around for the benefit of others who are looking for a simple answer to &#39;how can I get the latest version of Antlr running on Windows 10&#39;.","body":"Thanks @MarkRotteveel - it seems bizarre to me that Java 8 has a recent release date, it&#39;s very misleading. I see my question was closed, with reference to a &#39;duplicate&#39; which I did see, but which has such an overwhelming number of replies and which discusses subjects way outside the issue I was trying to fix that I couldn&#39;t see an answer there. I hope this question stays around for the benefit of others who are looking for a simple answer to &#39;how can I get the latest version of Antlr running on Windows 10&#39;."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680506494,"post_id":75904566,"comment_id":133903828,"body_markdown":"Java 8 is still maintained, just like Java 11, Java 17, and Java 20 (Java 20 is supported until the release of Java 21). In any case. from the accepted answer on the duplicate, you should be able to understand the exception, and that you need Java 11 or higher to be able to run classes of &quot;class file version 55.0&quot;.","body":"Java 8 is still maintained, just like Java 11, Java 17, and Java 20 (Java 20 is supported until the release of Java 21). In any case. from the accepted answer on the duplicate, you should be able to understand the exception, and that you need Java 11 or higher to be able to run classes of &quot;class file version 55.0&quot;."}],"owner":{"account_id":175495,"reputation":2169,"user_id":405555,"accept_rate":80,"display_name":"Elliveny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680426331,"answer_count":0,"score":0,"last_activity_date":1680503432,"creation_date":1680329716,"question_id":75904566,"body_markdown":"I&#39;m learning Antlr and trying to use the [latest jar file][1] (4.12.0) on a Windows 10 machine. \r\n\r\nI get an error when I try to run it:\r\n\r\n    java -jar antlr-4.12.0-complete.jar\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/antlr/v4/Tool \r\n    has been compiled by a more recent version of the Java Runtime (class file version 55.0), \r\n    this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nI uninstalled all versions of Java, cleared out my PATH and environment variables of any Java references, rebooted and downloaded what appears to be the latest Java version on the [java.com downloads page][2]. It says &#39;Recommended Version 8 Update 361 Release date: January 17, 2023&#39;.\r\n\r\nAfter the install (and a reboot for good measure) I&#39;m disappointed to see the same error.\r\n\r\nI don&#39;t work with Java and am unfamiliar with versions but I&#39;ve tried to work this out. Right now I&#39;ve found a &#39;[Microsoft Build of OpenJDK][3]&#39;, a &#39;[JDK 20 reached General Availability on 21 March 2023][4]&#39; and a &#39;[Java SE Development Kit 20][5]&#39; and am doing some reading, but am feeling thoroughly confused by it all. I think I just need a Java runtime of the right version but haven&#39;t found one yet.\r\n\r\nSo, help please, what do I need to install to get Antlr working?\r\n\r\n  [1]: https://www.antlr.org/download.html\r\n  [2]: https://www.java.com/en/download/manual.jsp\r\n  [3]: https://learn.microsoft.com/en-us/java/openjdk/download\r\n  [4]: https://openjdk.org/projects/jdk/20/\r\n  [5]: https://www.oracle.com/java/technologies/downloads/#java20","title":"What version of Java do I need to run the latest version of Antlr on Windows?","body":"<p>I'm learning Antlr and trying to use the <a href=\"https://www.antlr.org/download.html\" rel=\"nofollow noreferrer\">latest jar file</a> (4.12.0) on a Windows 10 machine.</p>\n<p>I get an error when I try to run it:</p>\n<pre><code>java -jar antlr-4.12.0-complete.jar\n\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/antlr/v4/Tool \nhas been compiled by a more recent version of the Java Runtime (class file version 55.0), \nthis version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>I uninstalled all versions of Java, cleared out my PATH and environment variables of any Java references, rebooted and downloaded what appears to be the latest Java version on the <a href=\"https://www.java.com/en/download/manual.jsp\" rel=\"nofollow noreferrer\">java.com downloads page</a>. It says 'Recommended Version 8 Update 361 Release date: January 17, 2023'.</p>\n<p>After the install (and a reboot for good measure) I'm disappointed to see the same error.</p>\n<p>I don't work with Java and am unfamiliar with versions but I've tried to work this out. Right now I've found a '<a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">Microsoft Build of OpenJDK</a>', a '<a href=\"https://openjdk.org/projects/jdk/20/\" rel=\"nofollow noreferrer\">JDK 20 reached General Availability on 21 March 2023</a>' and a '<a href=\"https://www.oracle.com/java/technologies/downloads/#java20\" rel=\"nofollow noreferrer\">Java SE Development Kit 20</a>' and am doing some reading, but am feeling thoroughly confused by it all. I think I just need a Java runtime of the right version but haven't found one yet.</p>\n<p>So, help please, what do I need to install to get Antlr working?</p>\n"},{"tags":["java","split"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1680488420,"post_id":75915626,"comment_id":133901807,"body_markdown":"How are you seeing this result? Do you have `System.out.println()` or something in your code? If so, please [edit] your question to include that. In general, you should add enough code to your question so that anyone can compile and run it themselves to get the same result.","body":"How are you seeing this result? Do you have <code>System.out.println()</code> or something in your code? If so, please <a href=\"https://stackoverflow.com/posts/75915626/edit\">edit</a> your question to include that. In general, you should add enough code to your question so that anyone can compile and run it themselves to get the same result."}],"answers":[{"comments":[{"owner":{"account_id":8602157,"reputation":1,"user_id":6443349,"display_name":"Azka"},"score":0,"creation_date":1680489377,"post_id":75915638,"comment_id":133901891,"body_markdown":"i tried this one. but MRS is gone. can we keep it? so, it will give output like \n1. Alison Quek Yong Hoon \n2. MRS Alison Teng Yong Hoon","body":"i tried this one. but MRS is gone. can we keep it? so, it will give output like  1. Alison Quek Yong Hoon  2. MRS Alison Teng Yong Hoon"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680495923,"post_id":75915638,"comment_id":133902496,"body_markdown":"Your regexp uses positive lookbehind. You want positive lookahead for that. So, `(?=)`, not `(?&lt;=)`.","body":"Your regexp uses positive lookbehind. You want positive lookahead for that. So, <code>(?=)</code>, not <code>(?&lt;=)</code>."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680488518,"creation_date":1680488518,"answer_id":75915638,"question_id":75915626,"body_markdown":"The regexp you pass to `split` needs to _match_ the entire &#39;thing that separates&#39;. In your case, you want it to match the M, the R, the S, and any spaces around it.\r\n\r\nYour regexp instead matches 0 characters: It has nothing but lookbehind. It only matches that 0-char-sized position in the input which precedes MRS followed by precisely one space or one dot, because of the lookahead, but that&#39;s what is matched and thus removed, and therefore, 0 characters (nothing) is removed.\r\n\r\nWhat you want is much simpler: `input.split(&quot;\\\\s*MRS[ .]&quot;)`.\r\n\r\nThis matches &#39;any amount of spaces, followed by MRS, followed by either a space or a dot&#39;. It will then return everything in between what this matches, removing the stuff that matches (i.e. removing the &#39;spaces, MRS, space-or-dot&#39; parts, and returning everything in between).\r\n","title":"How to Split Title in Java","body":"<p>The regexp you pass to <code>split</code> needs to <em>match</em> the entire 'thing that separates'. In your case, you want it to match the M, the R, the S, and any spaces around it.</p>\n<p>Your regexp instead matches 0 characters: It has nothing but lookbehind. It only matches that 0-char-sized position in the input which precedes MRS followed by precisely one space or one dot, because of the lookahead, but that's what is matched and thus removed, and therefore, 0 characters (nothing) is removed.</p>\n<p>What you want is much simpler: <code>input.split(&quot;\\\\s*MRS[ .]&quot;)</code>.</p>\n<p>This matches 'any amount of spaces, followed by MRS, followed by either a space or a dot'. It will then return everything in between what this matches, removing the stuff that matches (i.e. removing the 'spaces, MRS, space-or-dot' parts, and returning everything in between).</p>\n"},{"comments":[{"owner":{"account_id":8602157,"reputation":1,"user_id":6443349,"display_name":"Azka"},"score":0,"creation_date":1680490063,"post_id":75915650,"comment_id":133901966,"body_markdown":"This one works!\nThank you so much.","body":"This one works! Thank you so much."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1680490217,"post_id":75915650,"comment_id":133901981,"body_markdown":"If green checkmark to the left would be possible it would be appreciated.","body":"If green checkmark to the left would be possible it would be appreciated."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680489682,"creation_date":1680488712,"answer_id":75915650,"question_id":75915626,"body_markdown":"Split on `\\s+MRS\\s+` and then prepend `MRS` to the second part of the split:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\r\n    String[] parts = input.split(&quot;\\\\s+MRS\\\\s+&quot;);\r\n    parts[1] = &quot;MRS &quot; + parts[1];\r\n    System.out.println(Arrays.toString(parts));\r\n\r\n    // [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]\r\n\r\nIf you really want to use a lookaround, then you should be using a positive _lookahead_:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\r\n    String[] parts = input.split(&quot;\\\\s+(?=MRS\\\\b)&quot;);\r\n    System.out.println(Arrays.toString(parts));\r\n\r\n    // [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]","title":"How to Split Title in Java","body":"<p>Split on <code>\\s+MRS\\s+</code> and then prepend <code>MRS</code> to the second part of the split:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\nString[] parts = input.split(&quot;\\\\s+MRS\\\\s+&quot;);\nparts[1] = &quot;MRS &quot; + parts[1];\nSystem.out.println(Arrays.toString(parts));\n\n// [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]\n</code></pre>\n<p>If you really want to use a lookaround, then you should be using a positive <em>lookahead</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\nString[] parts = input.split(&quot;\\\\s+(?=MRS\\\\b)&quot;);\nSystem.out.println(Arrays.toString(parts));\n\n// [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680502971,"creation_date":1680502971,"answer_id":75916529,"question_id":75915626,"body_markdown":"If you want to split it with a single regular expression, you can use this:\r\n``` lang-regex\r\n\\s(?=MRS)\r\n```\r\nThis is a single whitespace followed by the string &quot;MRS&quot;, but &quot;MRS&quot; is not included in the match.\r\n\r\nIf you want to extend that by one or more whitespaces, you can use `\\s+(?=MRS)`.\r\n\r\nTested in jshell:\r\n``` lang-jshell\r\njshell&gt; &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;.split(&quot;\\\\s(?=MRS)&quot;)\r\n$1 ==&gt; String[2] { &quot;Alison Quek Yong Hoon&quot;, &quot;MRS Alison Teng Yong Hoon&quot; }\r\n```","title":"How to Split Title in Java","body":"<p>If you want to split it with a single regular expression, you can use this:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>\\s(?=MRS)\n</code></pre>\n<p>This is a single whitespace followed by the string &quot;MRS&quot;, but &quot;MRS&quot; is not included in the match.</p>\n<p>If you want to extend that by one or more whitespaces, you can use <code>\\s+(?=MRS)</code>.</p>\n<p>Tested in jshell:</p>\n<pre class=\"lang-jshell prettyprint-override\"><code>jshell&gt; &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;.split(&quot;\\\\s(?=MRS)&quot;)\n$1 ==&gt; String[2] { &quot;Alison Quek Yong Hoon&quot;, &quot;MRS Alison Teng Yong Hoon&quot; }\n</code></pre>\n"}],"owner":{"account_id":8602157,"reputation":1,"user_id":6443349,"display_name":"Azka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680502971,"creation_date":1680488244,"question_id":75915626,"body_markdown":"I tried to split below\r\n&lt;br&gt;String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;&lt;br&gt;\r\nString[] output = input.split(&quot;(?&lt;=(MRS\\\\s|MRS\\\\.))&quot;);\r\n\r\n\r\n\r\nresult i got :\r\n1. Alison Quek Yong Hoon MRS\r\n2. Alison Teng Yong Hoon\r\n\r\nmy expected result are : \r\n1. Alison Quek Yong Hoon\r\n2. MRS Alison Teng Yong Hoon","title":"How to Split Title in Java","body":"<p>I tried to split below\n<br>String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;<br>\nString[] output = input.split(&quot;(?&lt;=(MRS\\s|MRS\\.))&quot;);</p>\n<p>result i got :</p>\n<ol>\n<li>Alison Quek Yong Hoon MRS</li>\n<li>Alison Teng Yong Hoon</li>\n</ol>\n<p>my expected result are :</p>\n<ol>\n<li>Alison Quek Yong Hoon</li>\n<li>MRS Alison Teng Yong Hoon</li>\n</ol>\n"},{"tags":["java","docker","shell","containers","container-image"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1680516036,"post_id":75915891,"comment_id":133905922,"body_markdown":"Does [What are shell form and exec form?](https://stackoverflow.com/questions/47904974/what-are-shell-form-and-exec-form) answer your question?  Are you referring to the two syntaxes of `CMD`, launching the `CMD` from an entrypoint wrapper script, something else?","body":"Does <a href=\"https://stackoverflow.com/questions/47904974/what-are-shell-form-and-exec-form\">What are shell form and exec form?</a> answer your question?  Are you referring to the two syntaxes of <code>CMD</code>, launching the <code>CMD</code> from an entrypoint wrapper script, something else?"}],"answers":[{"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680502227,"creation_date":1680502227,"answer_id":75916456,"question_id":75915891,"body_markdown":"As per the best practices is concerned there is no such recommendation for invoking java Processes.\r\n\r\nAs both approaches have their own pros and cons. it certainly depends on what your app does or is there any reconfiguration is required in such cases writing a shell makes sense.\r\n\r\nAn interesting read on this scenario https://stackoverflow.com/questions/75910305/how-can-i-make-the-dotnet-command-the-second-command-in-docker/75910448#75910448\r\n\r\nRegarding SIGTERM scenario. The only difference will be if you invoke the java process directly Sigterm will be received by the Java process and in the case of the Shell program your shell PID will receive the shutdown event. \r\n\r\nSo to conclude I think usage depends on your requirements. Hope this helps.","title":"Invoking Java from container - directly or shell","body":"<p>As per the best practices is concerned there is no such recommendation for invoking java Processes.</p>\n<p>As both approaches have their own pros and cons. it certainly depends on what your app does or is there any reconfiguration is required in such cases writing a shell makes sense.</p>\n<p>An interesting read on this scenario <a href=\"https://stackoverflow.com/questions/75910305/how-can-i-make-the-dotnet-command-the-second-command-in-docker/75910448#75910448\">How can I make the dotnet command the second command in docker?</a></p>\n<p>Regarding SIGTERM scenario. The only difference will be if you invoke the java process directly Sigterm will be received by the Java process and in the case of the Shell program your shell PID will receive the shutdown event.</p>\n<p>So to conclude I think usage depends on your requirements. Hope this helps.</p>\n"}],"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680502227,"creation_date":1680493667,"question_id":75915891,"body_markdown":"Is there a recommended practice to invoke Java process between invoking directly vs using shell as entry point?\r\n\r\nI understand that shell will add extra file to maintain as downside, but provides flexibility in setting up JVM, e.g. JFR, memory conf, etc.\r\n\r\nBut any issues of using one over the other, e.g. SIGTERM?","title":"Invoking Java from container - directly or shell","body":"<p>Is there a recommended practice to invoke Java process between invoking directly vs using shell as entry point?</p>\n<p>I understand that shell will add extra file to maintain as downside, but provides flexibility in setting up JVM, e.g. JFR, memory conf, etc.</p>\n<p>But any issues of using one over the other, e.g. SIGTERM?</p>\n"},{"tags":["java","servlets"],"owner":{"account_id":28154193,"reputation":1,"user_id":21515170,"display_name":"SHEKHAR CHAVAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680501919,"creation_date":1680500347,"question_id":75916312,"body_markdown":"I am working with a servlet project in which the user inputs data in a form and if  the terms and conditions are not met then the form is displayed.\r\nHowever, the above functionality does not seem to work?\r\nHow do I fix it?\r\n\r\nI am using NetBeans.\r\n\r\nRegisterServlet.java\r\n\r\n```\r\nRegisterServlet.java\r\n\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n */\r\npackage com.packages;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\n \r\n/**\r\n *\r\n * @author soura\r\n */\r\npublic class RegisterServlet extends HttpServlet{\r\n    @Override\r\n    public void doPost(HttpServletRequest request,HttpServletResponse response)throws ServletException,IOException{\r\n        response.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out=response.getWriter();\r\n        out.println(&quot;&lt;h1&gt;Welcome to Register Servlet&lt;/h1&gt;&quot;);\r\n        String name=request.getParameter(&quot;user_name&quot;);\r\n        String password=request.getParameter(&quot;user_password&quot;);\r\n        String email=request.getParameter(&quot;user_mail&quot;);\r\n        String gender=request.getParameter(&quot;user_gender&quot;);\r\n        String course=request.getParameter(&quot;user_course&quot;);\r\n         \r\n         String condition=request.getParameter(&quot;conditiontocheck&quot;);\r\n          \r\n         if(condition!=null){\r\n            if(condition.equals(&quot;checked&quot;)){\r\n                out.println(&quot;&lt;h2&gt;Name:&lt;/h2&gt;&quot;+name);\r\n                out.println(&quot;&lt;h2&gt;Password:&lt;/h2&gt;&quot;+password);\r\n                out.println(&quot;&lt;h2&gt;Email:&lt;/h2&gt;&quot;+email);\r\n                out.println(&quot;&lt;h2&gt;Gensder:&lt;/h2&gt;&quot;+gender);\r\n                out.println(&quot;&lt;h2&gt;Course:&lt;/h2&gt;&quot;+course);      \r\n            }else{\r\n             out.println(&quot;The terms and conditions have not been applied.&quot;); \r\n            }\r\n         }\r\n         else{\r\n            out.println(&quot;The terms and conditions have not been applied.&quot;); \r\n           RequestDispatcher rd=request.getRequestDispatcher(&quot;/index.html&quot;);\r\n            rd.include(request,response);\r\n         }\r\n    }   \r\n}\r\n```\r\n\r\n\r\nI was expecting that when I run the app on netbeans and don&#39;t click on terms and conditions agree the browser displays the form with details with the text &quot;the terms and consitions have not been agreed&quot;\r\n\r\nHowever, the form is displayed without the details I entered.","title":"include() method in Requestdispatcher not working in servlet","body":"<p>I am working with a servlet project in which the user inputs data in a form and if  the terms and conditions are not met then the form is displayed.\nHowever, the above functionality does not seem to work?\nHow do I fix it?</p>\n<p>I am using NetBeans.</p>\n<p>RegisterServlet.java</p>\n<pre><code>RegisterServlet.java\n\n/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\npackage com.packages;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport javax.servlet.*;\nimport javax.servlet.http.*;\n \n/**\n *\n * @author soura\n */\npublic class RegisterServlet extends HttpServlet{\n    @Override\n    public void doPost(HttpServletRequest request,HttpServletResponse response)throws ServletException,IOException{\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out=response.getWriter();\n        out.println(&quot;&lt;h1&gt;Welcome to Register Servlet&lt;/h1&gt;&quot;);\n        String name=request.getParameter(&quot;user_name&quot;);\n        String password=request.getParameter(&quot;user_password&quot;);\n        String email=request.getParameter(&quot;user_mail&quot;);\n        String gender=request.getParameter(&quot;user_gender&quot;);\n        String course=request.getParameter(&quot;user_course&quot;);\n         \n         String condition=request.getParameter(&quot;conditiontocheck&quot;);\n          \n         if(condition!=null){\n            if(condition.equals(&quot;checked&quot;)){\n                out.println(&quot;&lt;h2&gt;Name:&lt;/h2&gt;&quot;+name);\n                out.println(&quot;&lt;h2&gt;Password:&lt;/h2&gt;&quot;+password);\n                out.println(&quot;&lt;h2&gt;Email:&lt;/h2&gt;&quot;+email);\n                out.println(&quot;&lt;h2&gt;Gensder:&lt;/h2&gt;&quot;+gender);\n                out.println(&quot;&lt;h2&gt;Course:&lt;/h2&gt;&quot;+course);      \n            }else{\n             out.println(&quot;The terms and conditions have not been applied.&quot;); \n            }\n         }\n         else{\n            out.println(&quot;The terms and conditions have not been applied.&quot;); \n           RequestDispatcher rd=request.getRequestDispatcher(&quot;/index.html&quot;);\n            rd.include(request,response);\n         }\n    }   \n}\n</code></pre>\n<p>I was expecting that when I run the app on netbeans and don't click on terms and conditions agree the browser displays the form with details with the text &quot;the terms and consitions have not been agreed&quot;</p>\n<p>However, the form is displayed without the details I entered.</p>\n"},{"tags":["java","json","junit-jupiter","spring-webtestclient"],"answers":[{"tags":[],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680501727,"creation_date":1680501727,"answer_id":75916412,"question_id":75887814,"body_markdown":"Solved it by checking the size of the json properties. Not exactly what I wanted (because now I have to change 2 values of something changes), but it&#39;s still a viable solution: \r\n\r\n    .jsonPath(&quot;$.length()&quot;).isEqualTo(4);\r\n\r\nHamcrest Matchers did not work for me. \r\n\r\nSee also this answer: https://stackoverflow.com/a/74195945/3824715","title":"WebTestClient assertThat json has only specific keys","body":"<p>Solved it by checking the size of the json properties. Not exactly what I wanted (because now I have to change 2 values of something changes), but it's still a viable solution:</p>\n<pre><code>.jsonPath(&quot;$.length()&quot;).isEqualTo(4);\n</code></pre>\n<p>Hamcrest Matchers did not work for me.</p>\n<p>See also this answer: <a href=\"https://stackoverflow.com/a/74195945/3824715\">https://stackoverflow.com/a/74195945/3824715</a></p>\n"}],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916412,"answer_count":1,"score":0,"last_activity_date":1680501727,"creation_date":1680176686,"question_id":75887814,"body_markdown":"I&#39;m testing my endpoints like so:  \r\n\r\n            webTestClient.get().uri(BASE_URL).\r\n                .exchange().expectStatus().isOk().expectBody()\r\n                .jsonPath(&quot;$.name&quot;).isEqualTo(&quot;test1&quot;)\r\n                .jsonPath(&quot;$.street&quot;).isEqualTo(&quot;test1&quot;)\r\n                .jsonPath(&quot;$.id&quot;).isEqualTo(1);\r\n\r\nIs there any way I can make sure that the json has only those 3 fields and not more? ","title":"WebTestClient assertThat json has only specific keys","body":"<p>I'm testing my endpoints like so:</p>\n<pre><code>        webTestClient.get().uri(BASE_URL).\n            .exchange().expectStatus().isOk().expectBody()\n            .jsonPath(&quot;$.name&quot;).isEqualTo(&quot;test1&quot;)\n            .jsonPath(&quot;$.street&quot;).isEqualTo(&quot;test1&quot;)\n            .jsonPath(&quot;$.id&quot;).isEqualTo(1);\n</code></pre>\n<p>Is there any way I can make sure that the json has only those 3 fields and not more?</p>\n"},{"tags":["java","android","notifications","firebase-cloud-messaging","custom-notification"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680358055,"creation_date":1680358055,"answer_id":75906725,"question_id":75906005,"body_markdown":"When the app is not running, notification messages are displayed by the system and not by your application code.\r\n\r\nIf you always want your application code to handle the display, you should send only data messages.\r\n\r\nFor more on this, have a look at the Firebase documentation on [messages types](https://firebase.google.com/docs/cloud-messaging/concept-options#notifications_and_data_messages).","title":"I have RemoteViews for my (FCM) custom notification which is working great if app is running but when app is close system sending default notification","body":"<p>When the app is not running, notification messages are displayed by the system and not by your application code.</p>\n<p>If you always want your application code to handle the display, you should send only data messages.</p>\n<p>For more on this, have a look at the Firebase documentation on <a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options#notifications_and_data_messages\" rel=\"nofollow noreferrer\">messages types</a>.</p>\n"}],"owner":{"account_id":28186517,"reputation":1,"user_id":21542602,"display_name":"K Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680501009,"creation_date":1680349750,"question_id":75906005,"body_markdown":"I am trying to create custom notification which data is coming from Firebase cloud messaging and it is working fine if app is running but when app is closed system taking default notification.\r\n\r\nSo what is solution or alternative for this?\r\n\r\n\r\n```\r\n@Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        if (remoteMessage.getNotification() != null) {\r\n            Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived: &quot; + remoteMessage.getData().toString());\r\n            try {\r\n                if (remoteMessage.getNotification().getImageUrl() != null &amp;&amp; !remoteMessage.getNotification().getImageUrl().toString().isEmpty()) {\r\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), remoteMessage.getNotification().getImageUrl().toString());\r\n                } else {\r\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), &quot;&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived Exception : &quot; + e.getMessage());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\n// i added this code in my onMessageReceived \r\npublic void showNotification(String title, String message, String type, String imageUrl) throws IOException {\r\n      \r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.putExtra(&quot;type&quot;, type);\r\n        String channel_id = &quot;notification_channel&quot;;\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, Build.VERSION.SDK_INT &lt; 31 ? PendingIntent.FLAG_ONE_SHOT : PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) == PackageManager.PERMISSION_GRANTED) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n\r\n                NotificationChannel notificationChannel = new NotificationChannel(channel_id, &quot;web_app&quot;, NotificationManager.IMPORTANCE_HIGH);\r\n                NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n                notificationManager.createNotificationChannel(notificationChannel);\r\n\r\n                // Attach the custom Expand layout\r\n                RemoteViews notificationLayout = new RemoteViews(getPackageName(), R.layout.notification_layout);\r\n                notificationLayout.setTextViewText(R.id.notification_text, title);\r\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\r\n                notificationLayout.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\r\n\r\n                // Attach the custom Init layout\r\n                RemoteViews notificationLayoutInit = new RemoteViews(getPackageName(), R.layout.notification_init_layout);\r\n                notificationLayoutInit.setTextViewText(R.id.notification_text, title);\r\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\r\n                notificationLayoutInit.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\r\n\r\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\r\n                        .setSmallIcon(R.mipmap.app_launcher)\r\n                        .setAutoCancel(true)\r\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\r\n                        .setOnlyAlertOnce(true)\r\n                        .setContentIntent(pendingIntent)\r\n                        .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\r\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\r\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                        .setCustomContentView(notificationLayoutInit)\r\n                        .setCustomBigContentView(notificationLayout);\r\n\r\n                // Show the notification\r\n                notificationManager.notify(1, builder.build());\r\n\r\n            } else {\r\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\r\n                        .setSmallIcon(R.mipmap.app_launcher)\r\n                        .setAutoCancel(true)\r\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\r\n                        .setOnlyAlertOnce(true)\r\n                        .setContentIntent(pendingIntent)\r\n//                        .setContentTitle(title)\r\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\r\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                        .setContentText(title);\r\n                if (imageUrl != null &amp;&amp; !imageUrl.isEmpty()) {\r\n                    builder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(getBitmapFromUrl(imageUrl)));\r\n                }\r\n                NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\r\n                notificationManager.notify(0, builder.build());\r\n            }\r\n        }\r\n```\r\n\r\nI want to show my custom notification even if app is closed. Can i use service for that and if yes than how?","title":"I have RemoteViews for my (FCM) custom notification which is working great if app is running but when app is close system sending default notification","body":"<p>I am trying to create custom notification which data is coming from Firebase cloud messaging and it is working fine if app is running but when app is closed system taking default notification.</p>\n<p>So what is solution or alternative for this?</p>\n<pre><code>@Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        if (remoteMessage.getNotification() != null) {\n            Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived: &quot; + remoteMessage.getData().toString());\n            try {\n                if (remoteMessage.getNotification().getImageUrl() != null &amp;&amp; !remoteMessage.getNotification().getImageUrl().toString().isEmpty()) {\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), remoteMessage.getNotification().getImageUrl().toString());\n                } else {\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), &quot;&quot;);\n                }\n            } catch (Exception e) {\n                Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived Exception : &quot; + e.getMessage());\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<pre><code>// i added this code in my onMessageReceived \npublic void showNotification(String title, String message, String type, String imageUrl) throws IOException {\n      \n        Intent intent = new Intent(this, MainActivity.class);\n        intent.putExtra(&quot;type&quot;, type);\n        String channel_id = &quot;notification_channel&quot;;\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, Build.VERSION.SDK_INT &lt; 31 ? PendingIntent.FLAG_ONE_SHOT : PendingIntent.FLAG_IMMUTABLE);\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) == PackageManager.PERMISSION_GRANTED) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n                NotificationChannel notificationChannel = new NotificationChannel(channel_id, &quot;web_app&quot;, NotificationManager.IMPORTANCE_HIGH);\n                NotificationManager notificationManager = getSystemService(NotificationManager.class);\n                notificationManager.createNotificationChannel(notificationChannel);\n\n                // Attach the custom Expand layout\n                RemoteViews notificationLayout = new RemoteViews(getPackageName(), R.layout.notification_layout);\n                notificationLayout.setTextViewText(R.id.notification_text, title);\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\n                notificationLayout.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\n\n                // Attach the custom Init layout\n                RemoteViews notificationLayoutInit = new RemoteViews(getPackageName(), R.layout.notification_init_layout);\n                notificationLayoutInit.setTextViewText(R.id.notification_text, title);\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\n                notificationLayoutInit.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\n\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\n                        .setSmallIcon(R.mipmap.app_launcher)\n                        .setAutoCancel(true)\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\n                        .setOnlyAlertOnce(true)\n                        .setContentIntent(pendingIntent)\n                        .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\n                        .setCustomContentView(notificationLayoutInit)\n                        .setCustomBigContentView(notificationLayout);\n\n                // Show the notification\n                notificationManager.notify(1, builder.build());\n\n            } else {\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\n                        .setSmallIcon(R.mipmap.app_launcher)\n                        .setAutoCancel(true)\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\n                        .setOnlyAlertOnce(true)\n                        .setContentIntent(pendingIntent)\n//                        .setContentTitle(title)\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\n                        .setContentText(title);\n                if (imageUrl != null &amp;&amp; !imageUrl.isEmpty()) {\n                    builder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(getBitmapFromUrl(imageUrl)));\n                }\n                NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\n                notificationManager.notify(0, builder.build());\n            }\n        }\n</code></pre>\n<p>I want to show my custom notification even if app is closed. Can i use service for that and if yes than how?</p>\n"},{"tags":["java","hazelcast","vert.x"],"answers":[{"comments":[{"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"score":0,"creation_date":1680504912,"post_id":75916349,"comment_id":133903520,"body_markdown":"Thank you, İ found same solution.","body":"Thank you, İ found same solution."}],"tags":[],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680500966,"creation_date":1680500966,"answer_id":75916349,"question_id":75835123,"body_markdown":"When creating the member you can do something like this\r\n\r\n    Config config = ...;\r\n    config.getMapConfig(MAP_NAME)\r\n      .getMapStoreConfig().setEnabled(true)\r\n      .setImplementation(new MyMapStore&lt;&gt;());\r\nYou can use setImplementation() to pass an object. The MyMapStore will contain the connection object","title":"How to inject object into Hazelcast MapStore in no-Spring application","body":"<p>When creating the member you can do something like this</p>\n<pre><code>Config config = ...;\nconfig.getMapConfig(MAP_NAME)\n  .getMapStoreConfig().setEnabled(true)\n  .setImplementation(new MyMapStore&lt;&gt;());\n</code></pre>\n<p>You can use setImplementation() to pass an object. The MyMapStore will contain the connection object</p>\n"}],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916349,"answer_count":1,"score":0,"last_activity_date":1680500966,"creation_date":1679669415,"question_id":75835123,"body_markdown":"\r\nI need to pass (inject) already created object into Hazelcast MapStore. In the example (from Hazelcast documentation) below shown how to pass properties into MapStore from xml configuration and create new object using these properties inside store init method.\r\n\r\nBut how to pass already constructed connection object in Vert.x? As it is **not Spring** project, I can&#39;t use @SpringAware and bean injection.\r\n````\r\n&lt;hazelcast&gt;\r\n    ...\r\n    &lt;map name=&quot;supplements&quot;&gt;\r\n        &lt;map-store enabled=&quot;true&quot; initial-mode=&quot;LAZY&quot;&gt;\r\n            &lt;class-name&gt;com.hazelcast.loader.YourMapStoreImplementation&lt;/class-name&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;mongo.url&quot;&gt;mongodb://localhost:27017&lt;/property&gt;\r\n                &lt;property name=&quot;mongo.db&quot;&gt;mydb&lt;/property&gt;\r\n                &lt;property name=&quot;mongo.collection&quot;&gt;supplements&lt;/property&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/map-store&gt;\r\n    &lt;/map&gt;\r\n    ...\r\n&lt;/hazelcast&gt;\r\n````\r\n\r\n&gt; After specifying the database properties in your configuration, you\r\n&gt; need to implement the MapLoaderLifecycleSupport interface and give\r\n&gt; those properties in the init() method, as shown below:\r\n\r\n````\r\npublic class YourMapStoreImplementation implements MapStore&lt;String, Supplement&gt;, MapLoaderLifecycleSupport {\r\n\r\n    private MongoClient mongoClient;\r\n    private MongoCollection collection;\r\n\r\n    public YourMapStoreImplementation() {\r\n    }\r\n\r\n    @Override\r\n    public void init(HazelcastInstance hazelcastInstance, Properties properties, String mapName) {\r\n        String mongoUrl = (String) properties.get(&quot;mongo.url&quot;);\r\n        String dbName = (String) properties.get(&quot;mongo.db&quot;);\r\n        String collectionName = (String) properties.get(&quot;mongo.collection&quot;);\r\n        this.mongoClient = new MongoClient(new MongoClientURI(mongoUrl));\r\n        this.collection = mongoClient.getDatabase(dbName).getCollection(collectionName);\r\n    }\r\n````","title":"How to inject object into Hazelcast MapStore in no-Spring application","body":"<p>I need to pass (inject) already created object into Hazelcast MapStore. In the example (from Hazelcast documentation) below shown how to pass properties into MapStore from xml configuration and create new object using these properties inside store init method.</p>\n<p>But how to pass already constructed connection object in Vert.x? As it is <strong>not Spring</strong> project, I can't use @SpringAware and bean injection.</p>\n<pre><code>&lt;hazelcast&gt;\n    ...\n    &lt;map name=&quot;supplements&quot;&gt;\n        &lt;map-store enabled=&quot;true&quot; initial-mode=&quot;LAZY&quot;&gt;\n            &lt;class-name&gt;com.hazelcast.loader.YourMapStoreImplementation&lt;/class-name&gt;\n            &lt;properties&gt;\n                &lt;property name=&quot;mongo.url&quot;&gt;mongodb://localhost:27017&lt;/property&gt;\n                &lt;property name=&quot;mongo.db&quot;&gt;mydb&lt;/property&gt;\n                &lt;property name=&quot;mongo.collection&quot;&gt;supplements&lt;/property&gt;\n            &lt;/properties&gt;\n        &lt;/map-store&gt;\n    &lt;/map&gt;\n    ...\n&lt;/hazelcast&gt;\n</code></pre>\n<blockquote>\n<p>After specifying the database properties in your configuration, you\nneed to implement the MapLoaderLifecycleSupport interface and give\nthose properties in the init() method, as shown below:</p>\n</blockquote>\n<pre><code>public class YourMapStoreImplementation implements MapStore&lt;String, Supplement&gt;, MapLoaderLifecycleSupport {\n\n    private MongoClient mongoClient;\n    private MongoCollection collection;\n\n    public YourMapStoreImplementation() {\n    }\n\n    @Override\n    public void init(HazelcastInstance hazelcastInstance, Properties properties, String mapName) {\n        String mongoUrl = (String) properties.get(&quot;mongo.url&quot;);\n        String dbName = (String) properties.get(&quot;mongo.db&quot;);\n        String collectionName = (String) properties.get(&quot;mongo.collection&quot;);\n        this.mongoClient = new MongoClient(new MongoClientURI(mongoUrl));\n        this.collection = mongoClient.getDatabase(dbName).getCollection(collectionName);\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":3567986,"reputation":392,"user_id":2979045,"display_name":"fshdn19"},"score":0,"creation_date":1680489254,"post_id":75915290,"comment_id":133901875,"body_markdown":"Can you let me know why you dont use `onResume` / `onPause` to Play/Pause your playback but On/Off screen event?","body":"Can you let me know why you dont use <code>onResume</code> / <code>onPause</code> to Play/Pause your playback but On/Off screen event?"},{"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"score":0,"creation_date":1680493077,"post_id":75915290,"comment_id":133902251,"body_markdown":"If you turn off the power button while playing a video on your Android phone, it won&#39;t play for a long time. After all, even if you turn off the power, the app processor will continue to shut down when you turn on the power that runs in the background.","body":"If you turn off the power button while playing a video on your Android phone, it won&#39;t play for a long time. After all, even if you turn off the power, the app processor will continue to shut down when you turn on the power that runs in the background."},{"owner":{"account_id":3567986,"reputation":392,"user_id":2979045,"display_name":"fshdn19"},"score":0,"creation_date":1680493150,"post_id":75915290,"comment_id":133902257,"body_markdown":"I mean you can `onResume` / `onPause` to Play/Pause your playback instead of the above solution","body":"I mean you can <code>onResume</code> / <code>onPause</code> to Play/Pause your playback instead of the above solution"},{"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"score":0,"creation_date":1680493505,"post_id":75915290,"comment_id":133902287,"body_markdown":"Is it correct to use the onResum() method in mediaPlayer?","body":"Is it correct to use the onResum() method in mediaPlayer?"},{"owner":{"account_id":3567986,"reputation":392,"user_id":2979045,"display_name":"fshdn19"},"score":0,"creation_date":1680493806,"post_id":75915290,"comment_id":133902312,"body_markdown":"on `onResume` of activity or fragment, make a call to your mediaplayer to play your playback. And on `onPause` to pause the playback","body":"on <code>onResume</code> of activity or fragment, make a call to your mediaplayer to play your playback. And on <code>onPause</code> to pause the playback"},{"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"score":0,"creation_date":1680494681,"post_id":75915290,"comment_id":133902376,"body_markdown":"Calling the onResume() function will cause the app to bounce in the foreground when launched. Any other workaround?","body":"Calling the onResume() function will cause the app to bounce in the foreground when launched. Any other workaround?"}],"answers":[{"tags":[],"owner":{"account_id":7758137,"reputation":1831,"user_id":6059583,"accept_rate":62,"display_name":"Jeeva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680500503,"creation_date":1680500503,"answer_id":75916321,"question_id":75915290,"body_markdown":"    IntentFilter powerButtonOffFilter = new IntentFilter();\r\n    powerButtonOffFilter.addAction(Intent.ACTION_SCREEN_OFF);\r\n    powerButtonOffFilter.addAction(Intent.ACTION_SCREEN_ON);\r\n    registerReceiver(powerButtonOnOffReciever, powerButtonOffFilter);\r\n&lt;br&gt;\r\nIn your code you have used same intent filter which only listens for for action screen on as it replaces the screen off due to your code logic.\r\nWhen you want to listen to multiple broadcast using single intent filter you have to group them and then listen.","title":"Android java video playback background pause doesn&#39;t work Please tell me how to solve it","body":"<pre><code>IntentFilter powerButtonOffFilter = new IntentFilter();\npowerButtonOffFilter.addAction(Intent.ACTION_SCREEN_OFF);\npowerButtonOffFilter.addAction(Intent.ACTION_SCREEN_ON);\nregisterReceiver(powerButtonOnOffReciever, powerButtonOffFilter);\n</code></pre>\n<br>\nIn your code you have used same intent filter which only listens for for action screen on as it replaces the screen off due to your code logic.\nWhen you want to listen to multiple broadcast using single intent filter you have to group them and then listen.\n"}],"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680500503,"creation_date":1680481125,"question_id":75915290,"body_markdown":"MainActivity.java\r\n\r\n```\r\n\r\n@SuppressLint(&quot;WrongViewCast&quot;)\r\n    @Override\r\n    protected void onCreate(final Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        IntentFilter powerButtonOff = new IntentFilter(Intent.ACTION_SCREEN_OFF);\r\n        IntentFilter powerButtonOn = new IntentFilter(Intent.ACTION_SCREEN_ON);\r\n\r\n        registerReceiver(powerButtonOnOff, powerButtonOff);\r\n        registerReceiver(powerButtonOnOff, powerButtonOn);\r\n```\r\n\r\n\r\n\r\n\r\nMainActivity.java\r\n\r\n```\r\nprivate void unregisterBroadcast(){\r\n        unregisterReceiver(powerButtonOnOff);\r\n    }\r\n\r\n\r\n    BroadcastReceiver powerButtonOnOff = new BroadcastReceiver() {\r\n\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if(mediaPlayer == null){\r\n                mediaPlayer = MediaPlayer.create(context,R.id.videoView);\r\n            }\r\n            if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\r\n                try {\r\n                    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\r\n                        mediaPlayer.stop();\r\n                        mediaPlayer.release();\r\n                        mediaPlayer = null;\r\n\r\n\r\n                    } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\r\n                        mediaPlayer.start();\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n```\r\n\r\nMainActivity.java\r\n\r\n```\r\n @Override\r\n    protected void onDestroy() {\r\n      unregisterBroadcast();\r\n```\r\n\r\nAndroidManifest.xml\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.DEVICE_POWER&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\r\n```\r\n\r\nhello. The code above should pause playback when the phone is turned off while the video is playing in the app, but it doesn&#39;t stop. So I tried the onReceive method by applying the code, but it didn&#39;t work, so I don&#39;t know the cause.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIn Android Java MainActivity.java, if you turn OFF through the onReceive method power key event, the app process screen bounces. I used WAKE_LOCK in AndroidManifest.xml to avoid bouncing, but it doesn&#39;t work out well. help.","title":"Android java video playback background pause doesn&#39;t work Please tell me how to solve it","body":"<p>MainActivity.java</p>\n<pre><code>\n@SuppressLint(&quot;WrongViewCast&quot;)\n    @Override\n    protected void onCreate(final Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        IntentFilter powerButtonOff = new IntentFilter(Intent.ACTION_SCREEN_OFF);\n        IntentFilter powerButtonOn = new IntentFilter(Intent.ACTION_SCREEN_ON);\n\n        registerReceiver(powerButtonOnOff, powerButtonOff);\n        registerReceiver(powerButtonOnOff, powerButtonOn);\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>private void unregisterBroadcast(){\n        unregisterReceiver(powerButtonOnOff);\n    }\n\n\n    BroadcastReceiver powerButtonOnOff = new BroadcastReceiver() {\n\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if(mediaPlayer == null){\n                mediaPlayer = MediaPlayer.create(context,R.id.videoView);\n            }\n            if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\n                try {\n                    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\n                        mediaPlayer.stop();\n                        mediaPlayer.release();\n                        mediaPlayer = null;\n\n\n                    } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\n                        mediaPlayer.start();\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    };\n\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code> @Override\n    protected void onDestroy() {\n      unregisterBroadcast();\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.DEVICE_POWER&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\n</code></pre>\n<p>hello. The code above should pause playback when the phone is turned off while the video is playing in the app, but it doesn't stop. So I tried the onReceive method by applying the code, but it didn't work, so I don't know the cause.</p>\n<p>In Android Java MainActivity.java, if you turn OFF through the onReceive method power key event, the app process screen bounces. I used WAKE_LOCK in AndroidManifest.xml to avoid bouncing, but it doesn't work out well. help.</p>\n"},{"tags":["java","spring-boot","rest","swagger","multipart"],"answers":[{"comments":[{"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"score":0,"creation_date":1680409659,"post_id":75907317,"comment_id":133892389,"body_markdown":"i dont understand how it can helps me?","body":"i dont understand how it can helps me?"},{"owner":{"account_id":3611476,"reputation":59,"user_id":3012347,"display_name":"Max"},"score":0,"creation_date":1680422907,"post_id":75907317,"comment_id":133893372,"body_markdown":"Well, maybe you can provide more context like the exact error message and the lines of your `deviceSummaryMapper` where the error occurs.\n\nI just provided code according your title how you would response with a binary object, when you have an `InputStream`.","body":"Well, maybe you can provide more context like the exact error message and the lines of your <code>deviceSummaryMapper</code> where the error occurs.  I just provided code according your title how you would response with a binary object, when you have an <code>InputStream</code>."}],"tags":[],"owner":{"account_id":3611476,"reputation":59,"user_id":3012347,"display_name":"Max"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680364973,"creation_date":1680364973,"answer_id":75907317,"question_id":75907037,"body_markdown":"You can use [`readAllBytes()`][1] on your InputStream and use the byte-array constructor of String.\r\n\r\n```java\r\nInputStream route;\r\n…\r\nbyte[] routeBytes = route.readAllBytes();\r\nString routeBinary = new String(routeBytes, StandardCharsets.UTF_8); // for UTF-8 encoding\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--","title":"Spring REST how to response object with binary field","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\" rel=\"nofollow noreferrer\"><code>readAllBytes()</code></a> on your InputStream and use the byte-array constructor of String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream route;\n…\nbyte[] routeBytes = route.readAllBytes();\nString routeBinary = new String(routeBytes, StandardCharsets.UTF_8); // for UTF-8 encoding\n</code></pre>\n"}],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680500048,"creation_date":1680361788,"question_id":75907037,"body_markdown":"how can i send response with Spring MVC this object:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class DeviceSummaryResponse {\r\n    \r\n        @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\r\n        private ConfigResponse config;\r\n    \r\n        @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\r\n        private InputStream route;\r\n    }\r\n\r\n\r\ni try this, but it dont work due to &#39;route&#39; field, converter error.\r\n\r\n\r\n    @GetMapping(DEVICE_ID_PATH)\r\n    public ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\r\n    \r\n        log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\r\n    \r\n        var deviceSummary = mobileComplexService.getSummary(id);\r\n    \r\n        return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\r\n    }\r\n\r\n\r\n\r\ni need to do as described in the specification:\r\n\r\n```yaml\r\nDeviceSummaryResponse:\r\n      type: object\r\n      properties:\r\n        config:\r\n          type: object\r\n          properties:\r\n           ...\r\n          ...\r\n        route:\r\n          type: string\r\n          format: binary\r\n          description: GPX файл с маршрутом устройства\r\n      required:\r\n        - config\r\n        - route\r\n```\r\n\r\nthank you very much in advance","title":"Spring REST how to response object with binary field","body":"<p>how can i send response with Spring MVC this object:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class DeviceSummaryResponse {\n\n    @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\n    private ConfigResponse config;\n\n    @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\n    private InputStream route;\n}\n</code></pre>\n<p>i try this, but it dont work due to 'route' field, converter error.</p>\n<pre><code>@GetMapping(DEVICE_ID_PATH)\npublic ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\n\n    log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\n\n    var deviceSummary = mobileComplexService.getSummary(id);\n\n    return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\n}\n</code></pre>\n<p>i need to do as described in the specification:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>DeviceSummaryResponse:\n      type: object\n      properties:\n        config:\n          type: object\n          properties:\n           ...\n          ...\n        route:\n          type: string\n          format: binary\n          description: GPX файл с маршрутом устройства\n      required:\n        - config\n        - route\n</code></pre>\n<p>thank you very much in advance</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1680507412,"post_id":75916257,"comment_id":133903996,"body_markdown":"I suspect you will need to change your design a bit. The timeline/animation is Designed to move from point A to point B in the animations. You dont really want to interrupt it, you can, but it isn&#39;t really the design. You should probably go with a more traditional approach where your actors to update each step.","body":"I suspect you will need to change your design a bit. The timeline/animation is Designed to move from point A to point B in the animations. You dont really want to interrupt it, you can, but it isn&#39;t really the design. You should probably go with a more traditional approach where your actors to update each step."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1680553818,"post_id":75916257,"comment_id":133915198,"body_markdown":"Builders are outdated but you can get some ideas from https://carlfx.wordpress.com/2012/04/09/javafx-2-gametutorial-part-2/.","body":"Builders are outdated but you can get some ideas from <a href=\"https://carlfx.wordpress.com/2012/04/09/javafx-2-gametutorial-part-2/\" rel=\"nofollow noreferrer\">carlfx.wordpress.com/2012/04/09/javafx-2-gametutorial-part-2</a>&zwnj;&#8203;."}],"owner":{"account_id":28199375,"reputation":11,"user_id":21553429,"display_name":"Sera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680500004,"creation_date":1680499690,"question_id":75916257,"body_markdown":"How to make the carGroup, and carGroup1 keep bouncing and when they reach and touch the border or the touch each other, they rotate to the opposite side, I am new to JavaFX and searched about the collision problem but I got confused on how to make these 2 cars bounce and whenever they touch either the border or each other, they rotate to the opposite side and continue bouncing. Here is my code in which I tried to create the 2 cars groups and animate them, but I face difficulties and the bouncing and collision parts\r\n\r\n```\r\n\r\nimport javafx.animation.KeyFrame;\r\nimport javafx.animation.KeyValue;\r\nimport javafx.animation.Timeline;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Bounds;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.Border;\r\nimport javafx.scene.layout.BorderStroke;\r\nimport javafx.scene.layout.BorderStrokeStyle;\r\nimport javafx.scene.layout.BorderWidths;\r\nimport javafx.scene.layout.CornerRadii;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.shape.Shape;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\npublic class ShapeTest extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        Pane pane = new Pane();\r\n        Scene scene = new Scene(pane, 300, 300);\r\n\r\n        //=======================================================================\r\n        // CAR 1\r\n        // create the car body\r\n        Rectangle body = new Rectangle(150, 50, 100, 50);\r\n        body.setFill(Color.RED);\r\n\r\n        // create the wheels\r\n        Circle wheel1 = new Circle(175, 100, 15);\r\n        Circle wheel2 = new Circle(225, 100, 15);\r\n\r\n        // create the car roof\r\n        Rectangle roof = new Rectangle(160, 30, 80, 20);\r\n        roof.setFill(Color.DARKBLUE);\r\n\r\n        // create the windows\r\n        Rectangle window1 = new Rectangle(170, 35, 25, 15);\r\n        Rectangle window2 = new Rectangle(205, 35, 25, 15);\r\n        Shape windows = Shape.union(window1, window2);\r\n        windows.setFill(Color.LIGHTBLUE);\r\n\r\n        // create the car group and add the shapes to it\r\n        Group carGroup = new Group();\r\n        carGroup.getChildren().addAll(body, wheel1, wheel2, roof, windows);\r\n        carGroup.setLayoutX(5); // initial X position\r\n        carGroup.setLayoutY(5); // initial Y position\r\n\r\n        // add the car group to the pane\r\n        pane.getChildren().add(carGroup);\r\n\r\n        pane.setBorder(new Border(new BorderStroke(Color.RED,\r\n                BorderStrokeStyle.SOLID, CornerRadii.EMPTY, BorderWidths.DEFAULT)));\r\n\r\n        carGroup.relocate(5, 5);\r\n\r\n        // move the carGroup along the X axis\r\n        KeyValue kvX = new KeyValue(carGroup.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup.getBoundsInLocal().getMaxX());\r\n        KeyFrame kfX = new KeyFrame(Duration.seconds(1), kvX);\r\n        Timeline timelineX = new Timeline(kfX);\r\n        timelineX.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        // move the carGroup along the Y axis\r\n        KeyValue kvY = new KeyValue(carGroup.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup.getBoundsInLocal().getMaxY());\r\n        KeyFrame kfY = new KeyFrame(Duration.seconds(1), kvY);\r\n        Timeline timelineY = new Timeline(kfY);\r\n        timelineY.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        timelineX.play();\r\n        timelineY.play();\r\n\r\n        //=======================================================================\r\n        // CAR 2\r\n        // create the car body\r\n        Rectangle body1 = new Rectangle(150, 50, 100, 50);\r\n        body1.setFill(Color.YELLOW);\r\n\r\n        // create the wheels\r\n        Circle wheel11 = new Circle(175, 100, 15);\r\n        Circle wheel22 = new Circle(225, 100, 15);\r\n\r\n        // create the car roof\r\n        Rectangle roof1 = new Rectangle(160, 30, 80, 20);\r\n        roof1.setFill(Color.CYAN);\r\n\r\n        // create the windows\r\n        Rectangle window11 = new Rectangle(170, 35, 25, 15);\r\n        Rectangle window22 = new Rectangle(205, 35, 25, 15);\r\n        Shape windows1 = Shape.union(window11, window22);\r\n        windows1.setFill(Color.PINK);\r\n\r\n        // create the car group and add the shapes to it\r\n        Group carGroup1 = new Group();\r\n        carGroup1.getChildren().addAll(body1, wheel11, wheel22, roof1, windows1);\r\n        carGroup1.setLayoutX(5); // initial X position\r\n        carGroup1.setLayoutY(5); // initial Y position\r\n\r\n        // add the car group to the pane\r\n        pane.getChildren().add(carGroup1);\r\n\r\n        carGroup1.relocate(20, 20);\r\n\r\n        // move the carGroup along the X axis\r\n        KeyValue kvX1 = new KeyValue(carGroup1.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup1.getBoundsInLocal().getMaxX());\r\n        KeyFrame kfX1 = new KeyFrame(Duration.seconds(1), kvX1);\r\n        Timeline timelineX1 = new Timeline(kfX);\r\n        timelineX1.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        // move the carGroup along the Y axis\r\n        KeyValue kvY1 = new KeyValue(carGroup1.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup1.getBoundsInLocal().getMaxY());\r\n        KeyFrame kfY1 = new KeyFrame(Duration.seconds(1), kvY1);\r\n        Timeline timelineY1 = new Timeline(kfY1);\r\n        timelineY1.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        timelineX1.play();\r\n        timelineY1.play();\r\n\r\n        //=======================================================================\r\n        // set the stage properties and show it\r\n        stage.setTitle(&quot;Moving Cars&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```","title":"How to bounce 2 shapes concurrently in JAVAFX with avoiding collision?","body":"<p>How to make the carGroup, and carGroup1 keep bouncing and when they reach and touch the border or the touch each other, they rotate to the opposite side, I am new to JavaFX and searched about the collision problem but I got confused on how to make these 2 cars bounce and whenever they touch either the border or each other, they rotate to the opposite side and continue bouncing. Here is my code in which I tried to create the 2 cars groups and animate them, but I face difficulties and the bouncing and collision parts</p>\n<pre><code>\nimport javafx.animation.KeyFrame;\nimport javafx.animation.KeyValue;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.geometry.Bounds;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Border;\nimport javafx.scene.layout.BorderStroke;\nimport javafx.scene.layout.BorderStrokeStyle;\nimport javafx.scene.layout.BorderWidths;\nimport javafx.scene.layout.CornerRadii;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.shape.Shape;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class ShapeTest extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        Pane pane = new Pane();\n        Scene scene = new Scene(pane, 300, 300);\n\n        //=======================================================================\n        // CAR 1\n        // create the car body\n        Rectangle body = new Rectangle(150, 50, 100, 50);\n        body.setFill(Color.RED);\n\n        // create the wheels\n        Circle wheel1 = new Circle(175, 100, 15);\n        Circle wheel2 = new Circle(225, 100, 15);\n\n        // create the car roof\n        Rectangle roof = new Rectangle(160, 30, 80, 20);\n        roof.setFill(Color.DARKBLUE);\n\n        // create the windows\n        Rectangle window1 = new Rectangle(170, 35, 25, 15);\n        Rectangle window2 = new Rectangle(205, 35, 25, 15);\n        Shape windows = Shape.union(window1, window2);\n        windows.setFill(Color.LIGHTBLUE);\n\n        // create the car group and add the shapes to it\n        Group carGroup = new Group();\n        carGroup.getChildren().addAll(body, wheel1, wheel2, roof, windows);\n        carGroup.setLayoutX(5); // initial X position\n        carGroup.setLayoutY(5); // initial Y position\n\n        // add the car group to the pane\n        pane.getChildren().add(carGroup);\n\n        pane.setBorder(new Border(new BorderStroke(Color.RED,\n                BorderStrokeStyle.SOLID, CornerRadii.EMPTY, BorderWidths.DEFAULT)));\n\n        carGroup.relocate(5, 5);\n\n        // move the carGroup along the X axis\n        KeyValue kvX = new KeyValue(carGroup.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup.getBoundsInLocal().getMaxX());\n        KeyFrame kfX = new KeyFrame(Duration.seconds(1), kvX);\n        Timeline timelineX = new Timeline(kfX);\n        timelineX.setCycleCount(Timeline.INDEFINITE);\n\n        // move the carGroup along the Y axis\n        KeyValue kvY = new KeyValue(carGroup.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup.getBoundsInLocal().getMaxY());\n        KeyFrame kfY = new KeyFrame(Duration.seconds(1), kvY);\n        Timeline timelineY = new Timeline(kfY);\n        timelineY.setCycleCount(Timeline.INDEFINITE);\n\n        timelineX.play();\n        timelineY.play();\n\n        //=======================================================================\n        // CAR 2\n        // create the car body\n        Rectangle body1 = new Rectangle(150, 50, 100, 50);\n        body1.setFill(Color.YELLOW);\n\n        // create the wheels\n        Circle wheel11 = new Circle(175, 100, 15);\n        Circle wheel22 = new Circle(225, 100, 15);\n\n        // create the car roof\n        Rectangle roof1 = new Rectangle(160, 30, 80, 20);\n        roof1.setFill(Color.CYAN);\n\n        // create the windows\n        Rectangle window11 = new Rectangle(170, 35, 25, 15);\n        Rectangle window22 = new Rectangle(205, 35, 25, 15);\n        Shape windows1 = Shape.union(window11, window22);\n        windows1.setFill(Color.PINK);\n\n        // create the car group and add the shapes to it\n        Group carGroup1 = new Group();\n        carGroup1.getChildren().addAll(body1, wheel11, wheel22, roof1, windows1);\n        carGroup1.setLayoutX(5); // initial X position\n        carGroup1.setLayoutY(5); // initial Y position\n\n        // add the car group to the pane\n        pane.getChildren().add(carGroup1);\n\n        carGroup1.relocate(20, 20);\n\n        // move the carGroup along the X axis\n        KeyValue kvX1 = new KeyValue(carGroup1.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup1.getBoundsInLocal().getMaxX());\n        KeyFrame kfX1 = new KeyFrame(Duration.seconds(1), kvX1);\n        Timeline timelineX1 = new Timeline(kfX);\n        timelineX1.setCycleCount(Timeline.INDEFINITE);\n\n        // move the carGroup along the Y axis\n        KeyValue kvY1 = new KeyValue(carGroup1.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup1.getBoundsInLocal().getMaxY());\n        KeyFrame kfY1 = new KeyFrame(Duration.seconds(1), kvY1);\n        Timeline timelineY1 = new Timeline(kfY1);\n        timelineY1.setCycleCount(Timeline.INDEFINITE);\n\n        timelineX1.play();\n        timelineY1.play();\n\n        //=======================================================================\n        // set the stage properties and show it\n        stage.setTitle(&quot;Moving Cars&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","email","gmail"],"answers":[{"tags":[],"owner":{"account_id":21776732,"reputation":46,"user_id":16079033,"display_name":"ProgrammingSolver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680276148,"creation_date":1680276148,"answer_id":75900199,"question_id":75898881,"body_markdown":"Google email has built-in limits for emails sent. These limits are server-side and not-client side, so they are immutable. If you want to send over 100 emails an hour, you need to create a custom email domain.","title":"How to send bulk mail with java spring email best practices","body":"<p>Google email has built-in limits for emails sent. These limits are server-side and not-client side, so they are immutable. If you want to send over 100 emails an hour, you need to create a custom email domain.</p>\n"}],"owner":{"account_id":15648762,"reputation":106,"user_id":11290530,"display_name":"Fatih AKSOY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680499768,"creation_date":1680267830,"question_id":75898881,"body_markdown":"I want to send 2000 emails in the same hour. I&#39;m doing this with spring mail and google smtp.But google says you can send me 100 emails in 1 hour.\r\n\r\nI couldn&#39;t find anything about limit increase.Is there a way to do this?\r\n\r\nOr is there another solution you can suggest as best practices?","title":"How to send bulk mail with java spring email best practices","body":"<p>I want to send 2000 emails in the same hour. I'm doing this with spring mail and google smtp.But google says you can send me 100 emails in 1 hour.</p>\n<p>I couldn't find anything about limit increase.Is there a way to do this?</p>\n<p>Or is there another solution you can suggest as best practices?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1680538853,"post_id":75916218,"comment_id":133911837,"body_markdown":"How do you build the query in Spring Data Elasticsearch?","body":"How do you build the query in Spring Data Elasticsearch?"},{"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"score":0,"creation_date":1680576540,"post_id":75916218,"comment_id":133917832,"body_markdown":"We use combinations of Querybuilders and repository interface when building query","body":"We use combinations of Querybuilders and repository interface when building query"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680499093,"creation_date":1680499093,"question_id":75916218,"body_markdown":"We have an existing &quot;person&quot; index that has &quot;status&quot; field in it. We have several (around 6) existing queries for retrieving person document with different parameters and logic. \r\n\r\nHowever, we have a new requirement that only &quot;active&quot; status will be retrieved from all queries. Is it possible to apply a &quot;template&quot; and append it to all queries searching on the person index without updating all queries one by one to apply filter for status?\r\nThis is the query that we need to append for every existing queries we have:\r\n\r\n    {\r\n    &quot;bool&quot;: {\r\n        &quot;should&quot;: [\r\n            {\r\n                &quot;nested&quot;: {\r\n                    &quot;path&quot;: &quot;additionalAttributes&quot;,\r\n                    &quot;query&quot;: {\r\n                        &quot;terms&quot;: {\r\n                            &quot;additionalAttributes.status&quot;: [\r\n                                &quot;active&quot;\r\n                            ]\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                &quot;bool&quot;: {\r\n                    &quot;must_not&quot;: [\r\n                        {\r\n                            &quot;nested&quot;: {\r\n                                &quot;path&quot;: &quot;additionalAttributes&quot;,\r\n                                &quot;query&quot;: {\r\n                                    &quot;exists&quot;: {\r\n                                        &quot;field&quot;: &quot;additionalAttributes.status&quot;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}","title":"ElasticSearch + Spring - Query template that will append to existing query for further filtering out results","body":"<p>We have an existing &quot;person&quot; index that has &quot;status&quot; field in it. We have several (around 6) existing queries for retrieving person document with different parameters and logic.</p>\n<p>However, we have a new requirement that only &quot;active&quot; status will be retrieved from all queries. Is it possible to apply a &quot;template&quot; and append it to all queries searching on the person index without updating all queries one by one to apply filter for status?\nThis is the query that we need to append for every existing queries we have:</p>\n<pre><code>{\n&quot;bool&quot;: {\n    &quot;should&quot;: [\n        {\n            &quot;nested&quot;: {\n                &quot;path&quot;: &quot;additionalAttributes&quot;,\n                &quot;query&quot;: {\n                    &quot;terms&quot;: {\n                        &quot;additionalAttributes.status&quot;: [\n                            &quot;active&quot;\n                        ]\n                    }\n                }\n            }\n        },\n        {\n            &quot;bool&quot;: {\n                &quot;must_not&quot;: [\n                    {\n                        &quot;nested&quot;: {\n                            &quot;path&quot;: &quot;additionalAttributes&quot;,\n                            &quot;query&quot;: {\n                                &quot;exists&quot;: {\n                                    &quot;field&quot;: &quot;additionalAttributes.status&quot;\n                                }\n                            }\n                        }\n                    }\n                ]\n            }\n        }\n    ]\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","datetime","jackson","jodatime"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1680499440,"post_id":75916213,"comment_id":133902767,"body_markdown":"By the way, the [*Joda-Time*](https://www.joda.org/joda-time/) project is now in maintenance-mode, as noted on its home page. It was years ago supplanted by its official successor, the *java.time* classes built into Java 8 as defined by JSR 310. Both *Joda-Time* and *java.time* are led by the same man, [Stephen Colebourne](https://stackoverflow.com/users/38896/jodastephen).","body":"By the way, the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><i>Joda-Time</i></a> project is now in maintenance-mode, as noted on its home page. It was years ago supplanted by its official successor, the <i>java.time</i> classes built into Java 8 as defined by JSR 310. Both <i>Joda-Time</i> and <i>java.time</i> are led by the same man, <a href=\"https://stackoverflow.com/users/38896/jodastephen\">Stephen Colebourne</a>."}],"owner":{"account_id":12186602,"reputation":148,"user_id":8896134,"display_name":"Pranav Totala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680499020,"creation_date":1680499020,"question_id":75916213,"body_markdown":"I am getting an error in converting string to datetime: \r\n\r\n    Can not instantiate value of type [simple type, class org.joda.time.DateTime] from String value (&#39;2023-03-28T18:29:59.000Z&#39;); no single-String constructor\r\n\r\nDependencies are as follows: \r\n\r\n    com.fasterxml.jackson.datatype:jackson-datatype-joda:jar:2.7.6:compile\r\n    com.fasterxml.jackson.core:jackson-core:jar:2.7.6:compile\r\n    joda-time:joda-time:jar:2.9.9:compile\r\n\r\nThe part of code is:\r\n\r\n    import org.joda.time.DateTime;\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor(suppressConstructorProperties = true)\r\n    @RequiredArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class CollectionEntity {\r\n        @JsonProperty(&quot;collection_id&quot;)\r\n        private String id;\r\n\r\n        @JsonProperty(&quot;collection_start_date&quot;)\r\n        private DateTime startDate;\r\n    }\r\nAnd loading this directly via jersey request:\r\n\r\n    @PUT\r\n    @Timed\r\n    @ExceptionMetered\r\n    @Path(&quot;/getProductsList&quot;)\r\n    public Response getProductsList(CollectionEntity collections) {}\r\n\r\nThis has been working in other services and hence makes me believe it is a dependency issue, but cannot figure the above error. Any help is appreciated. **Also note, this is just taking int EPOCH values as input in collection_start_date and correctly converting them**","title":"Can not instantiate value org.joda.time.DateTime no single-String constructor","body":"<p>I am getting an error in converting string to datetime:</p>\n<pre><code>Can not instantiate value of type [simple type, class org.joda.time.DateTime] from String value ('2023-03-28T18:29:59.000Z'); no single-String constructor\n</code></pre>\n<p>Dependencies are as follows:</p>\n<pre><code>com.fasterxml.jackson.datatype:jackson-datatype-joda:jar:2.7.6:compile\ncom.fasterxml.jackson.core:jackson-core:jar:2.7.6:compile\njoda-time:joda-time:jar:2.9.9:compile\n</code></pre>\n<p>The part of code is:</p>\n<pre><code>import org.joda.time.DateTime;\n\n@Data\n@Builder\n@AllArgsConstructor(suppressConstructorProperties = true)\n@RequiredArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_DEFAULT)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CollectionEntity {\n    @JsonProperty(&quot;collection_id&quot;)\n    private String id;\n\n    @JsonProperty(&quot;collection_start_date&quot;)\n    private DateTime startDate;\n}\n</code></pre>\n<p>And loading this directly via jersey request:</p>\n<pre><code>@PUT\n@Timed\n@ExceptionMetered\n@Path(&quot;/getProductsList&quot;)\npublic Response getProductsList(CollectionEntity collections) {}\n</code></pre>\n<p>This has been working in other services and hence makes me believe it is a dependency issue, but cannot figure the above error. Any help is appreciated. <strong>Also note, this is just taking int EPOCH values as input in collection_start_date and correctly converting them</strong></p>\n"},{"tags":["java","binary-search-tree","inorder","preorder","postorder"],"answers":[{"comments":[{"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"score":0,"creation_date":1680461400,"post_id":75913978,"comment_id":133898611,"body_markdown":"I&#39;m not allowed to change the parameter of the getNextItem method","body":"I&#39;m not allowed to change the parameter of the getNextItem method"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680467174,"post_id":75913978,"comment_id":133899514,"body_markdown":"@MarcusAvailo, such &quot;rules&quot; should be listed in your question.","body":"@MarcusAvailo, such &quot;rules&quot; should be listed in your question."},{"owner":{"account_id":252934,"reputation":3119,"user_id":1644618,"display_name":"yerlilbilgin"},"score":1,"creation_date":1680469401,"post_id":75913978,"comment_id":133899806,"body_markdown":"I tried to expand the answer a bit more to cover that need, but indeed you need to list those rules in your question.","body":"I tried to expand the answer a bit more to cover that need, but indeed you need to list those rules in your question."}],"tags":[],"owner":{"account_id":252934,"reputation":3119,"user_id":1644618,"display_name":"yerlilbilgin"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680469297,"creation_date":1680461150,"answer_id":75913978,"question_id":75913896,"body_markdown":"First of all, I think your `*successor` methods need to be recursive; otherwise you won&#39;t get the correct successor according to the ordering method. Assuming that you have done that:\r\n\r\nThe `getNextItem` implies that you keep a cursor (e.g. a current node to traverse on), or you provide a `currentNode` as a parameter. If you don&#39;t want an iterative behavior (e.g. if you don&#39;t want a cursor), then the second option would be better for you; which is to provide a `currentNode` as a parameter, and then select the appropriate method WRT the order type).\r\n\r\n```java\r\n   //..previous code\r\n   public Comparable getNextItem(int orderType, TreeNode currentNode) {\r\n        TreeNode successor = null;\r\n        switch (orderType) {\r\n            case INORDER:\r\n                successor = inOrderSuccessor(currentNode);\r\n                break;\r\n            case PREORDER:\r\n                successor = preOrderSuccessor(currentNode);\r\n                break;\r\n            case POSTORDER:\r\n                successor = postOrderSuccessor(currentNode);\r\n                break;\r\n         } //end of switch\r\n         \r\n         return successor.data;\r\n    }\r\n   //..the rest\r\n```\r\n\r\nPlease be aware of null checks and so on.\r\n\r\nEDIT: If you aren&#39;t allowed to change the parameters of the `getNextItem` method, then your tree needs to behave as an iterator, hence you need a cursor. Since you already have a field called `currentNode`, then you can use that as a cursor, initially setting it to `root`.\r\n\r\nThen it should look like this:\r\n\r\n\r\n```java\r\n   //..previous code\r\n   public Comparable getNextItem(int orderType) {\r\n        TreeNode successor = null;\r\n        switch (orderType) {\r\n            case INORDER:\r\n                successor = inOrderSuccessor(this.currentNode);\r\n                break;\r\n            case PREORDER:\r\n                successor = preOrderSuccessor(this.currentNode);\r\n                break;\r\n            case POSTORDER:\r\n                successor = postOrderSuccessor(this.currentNode);\r\n                break;\r\n         } //end of switch\r\n         //keep the cursor up to date.\r\n         this.currentNode = successor;\r\n         return successor.data;\r\n    }\r\n   //..the rest\r\n```\r\n\r\nFor this option to work properly, you also need to have a `reset` method which sets the `currentNode` to `root`, as well as keeping an eye on `null` values. \r\n\r\nI would suggest a few refactors as well, like to encapsulate node management in the binary tree and make sure that your order algorithms work correctly.\r\n\r\n\r\n","title":"How do I call one function in another function?","body":"<p>First of all, I think your <code>*successor</code> methods need to be recursive; otherwise you won't get the correct successor according to the ordering method. Assuming that you have done that:</p>\n<p>The <code>getNextItem</code> implies that you keep a cursor (e.g. a current node to traverse on), or you provide a <code>currentNode</code> as a parameter. If you don't want an iterative behavior (e.g. if you don't want a cursor), then the second option would be better for you; which is to provide a <code>currentNode</code> as a parameter, and then select the appropriate method WRT the order type).</p>\n<pre class=\"lang-java prettyprint-override\"><code>   //..previous code\n   public Comparable getNextItem(int orderType, TreeNode currentNode) {\n        TreeNode successor = null;\n        switch (orderType) {\n            case INORDER:\n                successor = inOrderSuccessor(currentNode);\n                break;\n            case PREORDER:\n                successor = preOrderSuccessor(currentNode);\n                break;\n            case POSTORDER:\n                successor = postOrderSuccessor(currentNode);\n                break;\n         } //end of switch\n         \n         return successor.data;\n    }\n   //..the rest\n</code></pre>\n<p>Please be aware of null checks and so on.</p>\n<p>EDIT: If you aren't allowed to change the parameters of the <code>getNextItem</code> method, then your tree needs to behave as an iterator, hence you need a cursor. Since you already have a field called <code>currentNode</code>, then you can use that as a cursor, initially setting it to <code>root</code>.</p>\n<p>Then it should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   //..previous code\n   public Comparable getNextItem(int orderType) {\n        TreeNode successor = null;\n        switch (orderType) {\n            case INORDER:\n                successor = inOrderSuccessor(this.currentNode);\n                break;\n            case PREORDER:\n                successor = preOrderSuccessor(this.currentNode);\n                break;\n            case POSTORDER:\n                successor = postOrderSuccessor(this.currentNode);\n                break;\n         } //end of switch\n         //keep the cursor up to date.\n         this.currentNode = successor;\n         return successor.data;\n    }\n   //..the rest\n</code></pre>\n<p>For this option to work properly, you also need to have a <code>reset</code> method which sets the <code>currentNode</code> to <code>root</code>, as well as keeping an eye on <code>null</code> values.</p>\n<p>I would suggest a few refactors as well, like to encapsulate node management in the binary tree and make sure that your order algorithms work correctly.</p>\n"},{"comments":[{"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"score":0,"creation_date":1680473902,"post_id":75914603,"comment_id":133900302,"body_markdown":"Thank you, your answer worked. However, I tried fitting it with my insert method, and it didn&#39;t work the one you have is public void insert(int newData) but mines is public void insert(Comparable item). So when I tried running it, it gave me an error.","body":"Thank you, your answer worked. However, I tried fitting it with my insert method, and it didn&#39;t work the one you have is public void insert(int newData) but mines is public void insert(Comparable item). So when I tried running it, it gave me an error."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680505213,"post_id":75914603,"comment_id":133903574,"body_markdown":"That&#39;s not what you have in the question, though. Your question has `TreeNode insert(TreeNode node, int data)`. If you want a `Comparable` instead of `int`, then you must make that change all the way down to your `TreeNode` class with its `data` member.","body":"That&#39;s not what you have in the question, though. Your question has <code>TreeNode insert(TreeNode node, int data)</code>. If you want a <code>Comparable</code> instead of <code>int</code>, then you must make that change all the way down to your <code>TreeNode</code> class with its <code>data</code> member."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680498382,"creation_date":1680469443,"answer_id":75914603,"question_id":75913896,"body_markdown":"I would suggest starting with `currentNode = null`, so that the very first call of `getNextItem` will actually return the data of the very *first* node in the given traversal order.\r\n\r\nI would also have the class manage its `root` member itself, so that the main program does not have to update it after calling `insert`.\r\n\r\nThe name `minValue` is not really representative of what it does, as it does not return a node&#39;s value, but a node. It could be a method on the `TreeNode` class.\r\n\r\nHere is how it could look:\r\n\r\n```\r\nclass BinaryTree {\r\n    public static final int INORDER = 1;\r\n    public static final int PREORDER = 2;\r\n    public static final int POSTORDER = 3;\r\n    TreeNode root, currentNode;\r\n\r\n    public class TreeNode {\r\n        int data;\r\n        TreeNode left, right, parent;\r\n\r\n        public TreeNode(int data) {\r\n            this.data = data;\r\n            left = right = parent = null; // There should be no root here.\r\n        }\r\n            \r\n        TreeNode minNode() {\r\n            return left == null ? this : left.minNode();\r\n        }\r\n    }\r\n\r\n    public BinaryTree() {\r\n        root = null;\r\n    }\r\n \r\n    public void insert(int newData) {\r\n        root = root == null ? new TreeNode(newData) : insert(root, newData);\r\n    }\r\n    \r\n    private TreeNode insert(TreeNode node, int newData) {\r\n        if (node == null) return new TreeNode(newData);\r\n        if (newData &lt; node.data) {\r\n            node.left = insert(node.left, newData);\r\n            node.left.parent = node;\r\n        } else if (newData &gt; node.data) { \r\n            node.right = insert(node.right, newData);\r\n            node.right.parent = node;\r\n        }\r\n        return node;\r\n    }\r\n\r\n    private TreeNode inOrderSuccessor(TreeNode node) {\r\n        if (node == null) return root.minNode();\r\n        if (node.right != null) return node.right.minNode();\r\n        while (node.parent != null) {\r\n            if (node == node.parent.left) return node.parent;\r\n            node = node.parent;\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private TreeNode preOrderSuccessor(TreeNode node) {\r\n        if (node == null) return root;\r\n        if (node.left != null) return node.left;\r\n        if (node.right != null) return node.right;\r\n        while (node.parent != null) {\r\n            if (node == node.parent.left &amp;&amp; node.parent.right != null) {\r\n                return node.parent.right;\r\n            }\r\n            node = node.parent;\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private TreeNode postOrderSuccessor(TreeNode node) {\r\n        if (node == null) return root.minNode();\r\n        if (node.parent == null) return null;\r\n        if (node.parent.right == node || node.parent.right == null) return node.parent;\r\n        node = node.parent.right;\r\n        while (node.left == null &amp;&amp; node.right != null) {\r\n            node = node.right;\r\n        }\r\n        return node.minNode();\r\n    }\r\n    \r\n\r\n    public Comparable getNextItem(int orderType) {\r\n        if (root == null) return null;\r\n        switch (orderType) {\r\n            case INORDER:\r\n                currentNode = inOrderSuccessor(currentNode);\r\n                break;\r\n            case PREORDER:\r\n                currentNode = preOrderSuccessor(currentNode);\r\n                break;\r\n            case POSTORDER:\r\n                currentNode = postOrderSuccessor(currentNode);\r\n                break;\r\n        }\r\n        return currentNode == null ? null : currentNode.data;\r\n    }\r\n    \r\n    public void reset() {\r\n        currentNode = null;\r\n    }\r\n\r\n    void print() {\r\n        print(root, &quot;&quot;);\r\n    }\r\n\r\n    void print(TreeNode node, String tab) {\r\n        if (node == null) return;\r\n        print(node.right, tab + &quot;  &quot;);\r\n        System.out.println(tab + node.data);\r\n        print(node.left, tab + &quot;  &quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Main tree = new BinaryTree();\r\n        tree.insert(8);\r\n        tree.insert(3);\r\n        tree.insert(10);\r\n        tree.insert(9);\r\n        tree.insert(1);\r\n        tree.insert(6);\r\n        tree.insert(7);\r\n        tree.print();\r\n        tree.reset();\r\n        System.out.println(&quot;In-order traversal:&quot;);\r\n        while (true) {\r\n            Comparable data = tree.getNextItem(INORDER);\r\n            if (data == null) break;\r\n            System.out.print(data + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n\r\n        tree.reset();\r\n        System.out.println(&quot;Pre-order traversal:&quot;);\r\n        while (true) {\r\n            Comparable data = tree.getNextItem(PREORDER);\r\n            if (data == null) break;\r\n            System.out.print(data + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n\r\n        tree.reset();\r\n        System.out.println(&quot;Post-order traversal:&quot;);\r\n        while (true) {\r\n            Comparable  data = tree.getNextItem(POSTORDER);\r\n            if (data == null) break;\r\n            System.out.print(data + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n```","title":"How do I call one function in another function?","body":"<p>I would suggest starting with <code>currentNode = null</code>, so that the very first call of <code>getNextItem</code> will actually return the data of the very <em>first</em> node in the given traversal order.</p>\n<p>I would also have the class manage its <code>root</code> member itself, so that the main program does not have to update it after calling <code>insert</code>.</p>\n<p>The name <code>minValue</code> is not really representative of what it does, as it does not return a node's value, but a node. It could be a method on the <code>TreeNode</code> class.</p>\n<p>Here is how it could look:</p>\n<pre><code>class BinaryTree {\n    public static final int INORDER = 1;\n    public static final int PREORDER = 2;\n    public static final int POSTORDER = 3;\n    TreeNode root, currentNode;\n\n    public class TreeNode {\n        int data;\n        TreeNode left, right, parent;\n\n        public TreeNode(int data) {\n            this.data = data;\n            left = right = parent = null; // There should be no root here.\n        }\n            \n        TreeNode minNode() {\n            return left == null ? this : left.minNode();\n        }\n    }\n\n    public BinaryTree() {\n        root = null;\n    }\n \n    public void insert(int newData) {\n        root = root == null ? new TreeNode(newData) : insert(root, newData);\n    }\n    \n    private TreeNode insert(TreeNode node, int newData) {\n        if (node == null) return new TreeNode(newData);\n        if (newData &lt; node.data) {\n            node.left = insert(node.left, newData);\n            node.left.parent = node;\n        } else if (newData &gt; node.data) { \n            node.right = insert(node.right, newData);\n            node.right.parent = node;\n        }\n        return node;\n    }\n\n    private TreeNode inOrderSuccessor(TreeNode node) {\n        if (node == null) return root.minNode();\n        if (node.right != null) return node.right.minNode();\n        while (node.parent != null) {\n            if (node == node.parent.left) return node.parent;\n            node = node.parent;\n        }\n        return null;\n    }\n    \n    private TreeNode preOrderSuccessor(TreeNode node) {\n        if (node == null) return root;\n        if (node.left != null) return node.left;\n        if (node.right != null) return node.right;\n        while (node.parent != null) {\n            if (node == node.parent.left &amp;&amp; node.parent.right != null) {\n                return node.parent.right;\n            }\n            node = node.parent;\n        }\n        return null;\n    }\n    \n    private TreeNode postOrderSuccessor(TreeNode node) {\n        if (node == null) return root.minNode();\n        if (node.parent == null) return null;\n        if (node.parent.right == node || node.parent.right == null) return node.parent;\n        node = node.parent.right;\n        while (node.left == null &amp;&amp; node.right != null) {\n            node = node.right;\n        }\n        return node.minNode();\n    }\n    \n\n    public Comparable getNextItem(int orderType) {\n        if (root == null) return null;\n        switch (orderType) {\n            case INORDER:\n                currentNode = inOrderSuccessor(currentNode);\n                break;\n            case PREORDER:\n                currentNode = preOrderSuccessor(currentNode);\n                break;\n            case POSTORDER:\n                currentNode = postOrderSuccessor(currentNode);\n                break;\n        }\n        return currentNode == null ? null : currentNode.data;\n    }\n    \n    public void reset() {\n        currentNode = null;\n    }\n\n    void print() {\n        print(root, &quot;&quot;);\n    }\n\n    void print(TreeNode node, String tab) {\n        if (node == null) return;\n        print(node.right, tab + &quot;  &quot;);\n        System.out.println(tab + node.data);\n        print(node.left, tab + &quot;  &quot;);\n    }\n\n    public static void main(String[] args) {\n        Main tree = new BinaryTree();\n        tree.insert(8);\n        tree.insert(3);\n        tree.insert(10);\n        tree.insert(9);\n        tree.insert(1);\n        tree.insert(6);\n        tree.insert(7);\n        tree.print();\n        tree.reset();\n        System.out.println(&quot;In-order traversal:&quot;);\n        while (true) {\n            Comparable data = tree.getNextItem(INORDER);\n            if (data == null) break;\n            System.out.print(data + &quot; &quot;);\n        }\n        System.out.println();\n\n        tree.reset();\n        System.out.println(&quot;Pre-order traversal:&quot;);\n        while (true) {\n            Comparable data = tree.getNextItem(PREORDER);\n            if (data == null) break;\n            System.out.print(data + &quot; &quot;);\n        }\n        System.out.println();\n\n        tree.reset();\n        System.out.println(&quot;Post-order traversal:&quot;);\n        while (true) {\n            Comparable  data = tree.getNextItem(POSTORDER);\n            if (data == null) break;\n            System.out.print(data + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914603,"answer_count":2,"score":0,"last_activity_date":1680498382,"creation_date":1680460099,"question_id":75913896,"body_markdown":"I created functions that are able to get the successor Node in a binary search tree traversing it in all 3 ways, in order, post order, and pre order. My challenge now is try to put them all in a getNextItem method, and call each of those aforementioned functions using the getNextItem method. I know what the skeleton of the getNextItem method should be I just don&#39;t know how to complete it. I also included the insert and main method if anyone wanted to test my functions. Please note I cannot change the parameters in the getNextItem method.\r\n\r\n\r\n\r\n```\r\npublic class BinaryTree {\r\n    public static final int INORDER = 1;\r\n    public static final int PREORDER = 2;\r\n    public static final int POSTORDER = 3;\r\n    TreeNode root;\r\n    TreeNode currentNode;\r\n\r\n    class TreeNode {\r\n        int data;\r\n        TreeNode left, right, parent, root;\r\n\r\n        TreeNode(int data) {\r\n            this.data = data;\r\n            left = right = parent = root = null;\r\n        }\r\n    }\r\n\r\n    TreeNode insert(TreeNode node, int data) {\r\n        if (node == null) {\r\n            return (new TreeNode(data));\r\n        }\r\n        else {\r\n            TreeNode temp = null;\r\n\r\n            if (data &lt;= node.data) {\r\n                temp = insert(node.left, data);\r\n                node.left = temp;\r\n                temp.parent = node;\r\n            }\r\n            else {\r\n                temp = insert(node.right, data);\r\n                node.right = temp;\r\n                temp.parent = node;\r\n            }\r\n\r\n            return node;\r\n        }\r\n    }\r\n\r\n    public Comparable getNextItem(int orderType) {\r\n        switch (orderType) {\r\n            case INORDER:\r\n                break;\r\n            case PREORDER:\r\n                break;\r\n            case POSTORDER:\r\n                break;\r\n        return;\r\n    }\r\n\r\n    TreeNode inOrderSuccessor(TreeNode n) {\r\n        if (n.right != null) {\r\n            return minValue(n.right);\r\n        }\r\n\r\n        TreeNode p = n.parent;\r\n        while (p != null &amp;&amp; n == p.right) {\r\n            n = p;\r\n            p = p.parent;\r\n        }\r\n        return p;\r\n    }\r\n\r\n    TreeNode minValue(TreeNode node) {\r\n        TreeNode current = node;\r\n        while (current.left != null) {\r\n            current = current.left;\r\n        }\r\n        return current;\r\n    }\r\n\r\n    TreeNode preorderSuccessor(TreeNode n) {\r\n        if (n.left != null)\r\n            return n.left;\r\n\r\n        if (n.right != null)\r\n            return n.right;\r\n\r\n        TreeNode curr = n, parent = curr.parent;\r\n        while (parent != null &amp;&amp; parent.right == curr) {\r\n            curr = curr.parent;\r\n            parent = parent.parent;\r\n        }\r\n\r\n        if (parent == null)\r\n            return null;\r\n\r\n        return parent.right;\r\n    }\r\n\r\n    TreeNode postorderSuccessor(TreeNode n) {\r\n        if (n == null)\r\n            return null;\r\n\r\n        TreeNode parent = n.parent;\r\n        if (parent.right == null || parent.right == n)\r\n            return parent;\r\n\r\n        TreeNode curr = parent.right;\r\n        while (curr.left != null)\r\n            curr = curr.left;\r\n\r\n        return curr;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        BinaryTree tree = new BinaryTree();\r\n        TreeNode root = null, temp = null, suc = null, suc2 = null, suc3 = null, min = null;\r\n        root = tree.insert(root, 20);\r\n        root = tree.insert(root, 8);\r\n        root = tree.insert(root, 22);\r\n        root = tree.insert(root, 4);\r\n        root = tree.insert(root, 12);\r\n        root = tree.insert(root, 10);\r\n        root = tree.insert(root, 14);\r\n        temp = root.left.right.right;\r\n        suc = tree.inOrderSuccessor(temp);\r\n        System.out.println(\r\n                &quot;Inorder successor of &quot;\r\n                        + temp.data + &quot; is &quot; + suc.data);\r\n        suc = tree.preorderSuccessor(temp);\r\n        System.out.println(\r\n                &quot;Preorder successor of &quot;\r\n                        + temp.data + &quot; is &quot; + suc.data);\r\n        suc = tree.postorderSuccessor(temp);\r\n        System.out.println(\r\n                &quot;Postorder successor of &quot;\r\n                        + temp.data + &quot; is &quot; + suc.data);\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n```","title":"How do I call one function in another function?","body":"<p>I created functions that are able to get the successor Node in a binary search tree traversing it in all 3 ways, in order, post order, and pre order. My challenge now is try to put them all in a getNextItem method, and call each of those aforementioned functions using the getNextItem method. I know what the skeleton of the getNextItem method should be I just don't know how to complete it. I also included the insert and main method if anyone wanted to test my functions. Please note I cannot change the parameters in the getNextItem method.</p>\n<pre><code>public class BinaryTree {\n    public static final int INORDER = 1;\n    public static final int PREORDER = 2;\n    public static final int POSTORDER = 3;\n    TreeNode root;\n    TreeNode currentNode;\n\n    class TreeNode {\n        int data;\n        TreeNode left, right, parent, root;\n\n        TreeNode(int data) {\n            this.data = data;\n            left = right = parent = root = null;\n        }\n    }\n\n    TreeNode insert(TreeNode node, int data) {\n        if (node == null) {\n            return (new TreeNode(data));\n        }\n        else {\n            TreeNode temp = null;\n\n            if (data &lt;= node.data) {\n                temp = insert(node.left, data);\n                node.left = temp;\n                temp.parent = node;\n            }\n            else {\n                temp = insert(node.right, data);\n                node.right = temp;\n                temp.parent = node;\n            }\n\n            return node;\n        }\n    }\n\n    public Comparable getNextItem(int orderType) {\n        switch (orderType) {\n            case INORDER:\n                break;\n            case PREORDER:\n                break;\n            case POSTORDER:\n                break;\n        return;\n    }\n\n    TreeNode inOrderSuccessor(TreeNode n) {\n        if (n.right != null) {\n            return minValue(n.right);\n        }\n\n        TreeNode p = n.parent;\n        while (p != null &amp;&amp; n == p.right) {\n            n = p;\n            p = p.parent;\n        }\n        return p;\n    }\n\n    TreeNode minValue(TreeNode node) {\n        TreeNode current = node;\n        while (current.left != null) {\n            current = current.left;\n        }\n        return current;\n    }\n\n    TreeNode preorderSuccessor(TreeNode n) {\n        if (n.left != null)\n            return n.left;\n\n        if (n.right != null)\n            return n.right;\n\n        TreeNode curr = n, parent = curr.parent;\n        while (parent != null &amp;&amp; parent.right == curr) {\n            curr = curr.parent;\n            parent = parent.parent;\n        }\n\n        if (parent == null)\n            return null;\n\n        return parent.right;\n    }\n\n    TreeNode postorderSuccessor(TreeNode n) {\n        if (n == null)\n            return null;\n\n        TreeNode parent = n.parent;\n        if (parent.right == null || parent.right == n)\n            return parent;\n\n        TreeNode curr = parent.right;\n        while (curr.left != null)\n            curr = curr.left;\n\n        return curr;\n    }\n\n\n    public static void main(String[] args) {\n        BinaryTree tree = new BinaryTree();\n        TreeNode root = null, temp = null, suc = null, suc2 = null, suc3 = null, min = null;\n        root = tree.insert(root, 20);\n        root = tree.insert(root, 8);\n        root = tree.insert(root, 22);\n        root = tree.insert(root, 4);\n        root = tree.insert(root, 12);\n        root = tree.insert(root, 10);\n        root = tree.insert(root, 14);\n        temp = root.left.right.right;\n        suc = tree.inOrderSuccessor(temp);\n        System.out.println(\n                &quot;Inorder successor of &quot;\n                        + temp.data + &quot; is &quot; + suc.data);\n        suc = tree.preorderSuccessor(temp);\n        System.out.println(\n                &quot;Preorder successor of &quot;\n                        + temp.data + &quot; is &quot; + suc.data);\n        suc = tree.postorderSuccessor(temp);\n        System.out.println(\n                &quot;Postorder successor of &quot;\n                        + temp.data + &quot; is &quot; + suc.data);\n\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":["java","iterator","iteration"],"answers":[{"tags":[],"owner":{"account_id":160574,"reputation":15892,"user_id":380734,"accept_rate":81,"display_name":"Noel M"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1283353535,"creation_date":1283266784,"answer_id":3610271,"question_id":3610261,"body_markdown":"You could create your own implementation of the `Iterator` interface which iterates over the iterators:\r\n\r\n    public class IteratorOfIterators implements Iterator {\r\n        private final List&lt;Iterator&gt; iterators;\r\n    \r\n        public IteratorOfIterators(List&lt;Iterator&gt; iterators) {\r\n            this.iterators = iterators;\r\n        }\r\n\r\n        public IteratorOfIterators(Iterator... iterators) {\r\n            this.iterators = Arrays.asList(iterators);\r\n        }\r\n\r\n    \r\n        public boolean hasNext() { /* implementation */ }\r\n    \r\n        public Object next() { /* implementation */ }\r\n    \r\n        public void remove() { /* implementation */ }\r\n    }\r\n\r\n_(I&#39;ve not added generics to the Iterator for brevity.)_ The implementation is not too hard, but isn&#39;t the most trivial, you need to keep track of which `Iterator` you are currently iterating over, and calling `next()` you&#39;ll need to iterate as far as you can through the iterators until you find a `hasNext()` that returns `true`, or you may hit the end of the last iterator.\r\n\r\n&lt;strike&gt;I&#39;m not aware of any implementation that already exists for this.&lt;/strike&gt;\r\n\r\n*Update:*&lt;br/&gt;\r\nI&#39;ve up-voted [Andrew Duffy&#39;s][1] answer - no need to re-invent the wheel. I really need to look into Guava in more depth.\r\n\r\nI&#39;ve added another constructor for a variable number of arguments - almost getting off topic, as how the class is constructed here isn&#39;t really of interest, just the concept of how it works.\r\n\r\n  [1]: https://stackoverflow.com/questions/3610261/is-it-possible-to-merge-iterators-in-java/3610310#3610310","title":"Is it possible to merge iterators in Java?","body":"<p>You could create your own implementation of the <code>Iterator</code> interface which iterates over the iterators:</p>\n\n<pre><code>public class IteratorOfIterators implements Iterator {\n    private final List&lt;Iterator&gt; iterators;\n\n    public IteratorOfIterators(List&lt;Iterator&gt; iterators) {\n        this.iterators = iterators;\n    }\n\n    public IteratorOfIterators(Iterator... iterators) {\n        this.iterators = Arrays.asList(iterators);\n    }\n\n\n    public boolean hasNext() { /* implementation */ }\n\n    public Object next() { /* implementation */ }\n\n    public void remove() { /* implementation */ }\n}\n</code></pre>\n\n<p><em>(I've not added generics to the Iterator for brevity.)</em> The implementation is not too hard, but isn't the most trivial, you need to keep track of which <code>Iterator</code> you are currently iterating over, and calling <code>next()</code> you'll need to iterate as far as you can through the iterators until you find a <code>hasNext()</code> that returns <code>true</code>, or you may hit the end of the last iterator.</p>\n\n<p><strike>I'm not aware of any implementation that already exists for this.</strike></p>\n\n<p><em>Update:</em><br/>\nI've up-voted <a href=\"https://stackoverflow.com/questions/3610261/is-it-possible-to-merge-iterators-in-java/3610310#3610310\">Andrew Duffy's</a> answer - no need to re-invent the wheel. I really need to look into Guava in more depth.</p>\n\n<p>I've added another constructor for a variable number of arguments - almost getting off topic, as how the class is constructed here isn't really of interest, just the concept of how it works.</p>\n"},{"comments":[{"owner":{"account_id":18638,"reputation":6820,"user_id":42902,"display_name":"Andrew Duffy"},"score":0,"creation_date":1283267434,"post_id":3610310,"comment_id":3791020,"body_markdown":"There appears to be no way to get that second link working properly :(","body":"There appears to be no way to get that second link working properly :("},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":4,"creation_date":1283268158,"post_id":3610310,"comment_id":3791171,"body_markdown":"@youssef @Colin: The intent of the link is to go to the `concat()` method immediately without scrolling (using the `#` hash fragment). That part was however not correctly URL-encoded. I fixed it (long live Firefox with automagic URL-encoding when copypasting links from its address bar).","body":"@youssef @Colin: The intent of the link is to go to the <code>concat()</code> method immediately without scrolling (using the <code>#</code> hash fragment). That part was however not correctly URL-encoded. I fixed it (long live Firefox with automagic URL-encoding when copypasting links from its address bar)."},{"owner":{"account_id":42318,"reputation":1948,"user_id":123250,"accept_rate":38,"display_name":"Jahanzeb Farooq"},"score":0,"creation_date":1283268545,"post_id":3610310,"comment_id":3791230,"body_markdown":"Hmm interesting. Though cannot use it as we aren&#39;t using Guava in our software.","body":"Hmm interesting. Though cannot use it as we aren&#39;t using Guava in our software."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":0,"creation_date":1283269580,"post_id":3610310,"comment_id":3791440,"body_markdown":"@BalusC Yes, and he originally had the URL basically the same as you have it now.","body":"@BalusC Yes, and he originally had the URL basically the same as you have it now."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":0,"creation_date":1283269651,"post_id":3610310,"comment_id":3791453,"body_markdown":"@Jahanzeb Farooq Well you should be! =) That said, obviously that&#39;s often not a decision you can just make yourself.","body":"@Jahanzeb Farooq Well you should be! =) That said, obviously that&#39;s often not a decision you can just make yourself."},{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":0,"creation_date":1396452515,"post_id":3610310,"comment_id":34796715,"body_markdown":"I think Iterators.concat is useful for small collections, but not Iterables which access databases. The concat method converts first all given iterators into an array list and then returns it iterator. The Commons Collections seem to work with less memory, as it does not convert it to an ArrayList, but keeps both iterators untouched, until it is necessary. Please be aware of this behaviour!","body":"I think Iterators.concat is useful for small collections, but not Iterables which access databases. The concat method converts first all given iterators into an array list and then returns it iterator. The Commons Collections seem to work with less memory, as it does not convert it to an ArrayList, but keeps both iterators untouched, until it is necessary. Please be aware of this behaviour!"},{"owner":{"account_id":61723,"reputation":2977,"user_id":183802,"display_name":"David"},"score":2,"creation_date":1398452075,"post_id":3610310,"comment_id":35670026,"body_markdown":"@guerda: You&#39;re mistaken. Iterators.concat is lazy; it doesn&#39;t buffer elements in a list.","body":"@guerda: You&#39;re mistaken. Iterators.concat is lazy; it doesn&#39;t buffer elements in a list."},{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":0,"creation_date":1398673013,"post_id":3610310,"comment_id":35733811,"body_markdown":"@David: Are you sure? I assumed it because of this implementation: http://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/collect/Iterators.java?r=9dcde66ab9bfcdbe007b69d4912a297894bece59#524","body":"@David: Are you sure? I assumed it because of this implementation: <a href=\"http://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/collect/Iterators.java?r=9dcde66ab9bfcdbe007b69d4912a297894bece59#524\" rel=\"nofollow noreferrer\">code.google.com/p/guava-libraries/source/browse/guava/src/co&zwnj;&#8203;m/&hellip;</a>"},{"owner":{"account_id":61723,"reputation":2977,"user_id":183802,"display_name":"David"},"score":1,"creation_date":1398714413,"post_id":3610310,"comment_id":35759748,"body_markdown":"@guerda: Yes. The code you&#39;re referring to creates an array _of iterators_; it doesn&#39;t have anything to do with the contents of those iterators.","body":"@guerda: Yes. The code you&#39;re referring to creates an array <i>of iterators</i>; it doesn&#39;t have anything to do with the contents of those iterators."}],"tags":[],"owner":{"account_id":18638,"reputation":6820,"user_id":42902,"display_name":"Andrew Duffy"},"comment_count":9,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1474039274,"creation_date":1283267032,"answer_id":3610310,"question_id":3610261,"body_markdown":"[Guava][1] (formerly Google Collections) has [Iterators.concat][2].\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable,%20java.lang.Iterable)","title":"Is it possible to merge iterators in Java?","body":"<p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> (formerly Google Collections) has <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable,%20java.lang.Iterable)\" rel=\"noreferrer\">Iterators.concat</a>.</p>\n"},{"comments":[{"owner":{"account_id":42318,"reputation":1948,"user_id":123250,"accept_rate":38,"display_name":"Jahanzeb Farooq"},"score":1,"creation_date":1283267469,"post_id":3610331,"comment_id":3791025,"body_markdown":"Thanks. But I still have to call the method twice.","body":"Thanks. But I still have to call the method twice."},{"owner":{"account_id":70701,"reputation":3641,"user_id":204782,"accept_rate":57,"display_name":"Alb"},"score":0,"creation_date":1283275154,"post_id":3610331,"comment_id":3792359,"body_markdown":"This seems to me to be the simplest solution (without Guava) for your specific case. Yes you have to call methodX twice but you&#39;d have to  make two method calls anyway, one to merge the iterators, and one to do what methodX does.\n\nYour own solution with the flag seems more complicated and probably more code.","body":"This seems to me to be the simplest solution (without Guava) for your specific case. Yes you have to call methodX twice but you&#39;d have to  make two method calls anyway, one to merge the iterators, and one to do what methodX does.  Your own solution with the flag seems more complicated and probably more code."}],"tags":[],"owner":{"account_id":168371,"reputation":16522,"user_id":393786,"accept_rate":78,"display_name":"mhshams"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574781416,"creation_date":1283267163,"answer_id":3610331,"question_id":3610261,"body_markdown":"move your loop to a method and pass the iterator to method.\r\n\r\n    void methodX(Iterator x) {\r\n        while (x.hasNext()) {\r\n            ....\r\n        }\r\n    }\r\n&lt;!----&gt;","title":"Is it possible to merge iterators in Java?","body":"<p>move your loop to a method and pass the iterator to method.</p>\n\n<pre><code>void methodX(Iterator x) {\n    while (x.hasNext()) {\n        ....\n    }\n}\n</code></pre>\n\n\n"},{"comments":[{"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1509393742,"post_id":3610332,"comment_id":80993581,"body_markdown":"OP does not necessarily need to iterate both at once. He is looking more to iterate one, then the other. Your second solution will fail once the first iterator has been processed.","body":"OP does not necessarily need to iterate both at once. He is looking more to iterate one, then the other. Your second solution will fail once the first iterator has been processed."}],"tags":[],"owner":{"account_id":119365,"reputation":1330,"user_id":311017,"accept_rate":100,"display_name":"Youssef"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283267595,"creation_date":1283267170,"answer_id":3610332,"question_id":3610261,"body_markdown":"every `Iterator` object holds own memory location (**adress**), so you can&#39;t simply &quot;merge&quot; them. except if you extend `iterator` class and write your own implementation there.\r\n\r\n\r\nIf you are dealing with the **same number of objects** in both iterators an alternative solution  would be to process two iterators in one loop like this :\r\n\r\n      \r\n       while (iterator1.hasNext() &amp;&amp; iterator2.hasNext()) {\r\n          // code\r\n        }\r\n\r\n\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>every <code>Iterator</code> object holds own memory location (<strong>adress</strong>), so you can't simply \"merge\" them. except if you extend <code>iterator</code> class and write your own implementation there.</p>\n\n<p>If you are dealing with the <strong>same number of objects</strong> in both iterators an alternative solution  would be to process two iterators in one loop like this :</p>\n\n<pre><code>   while (iterator1.hasNext() &amp;&amp; iterator2.hasNext()) {\n      // code\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8569,"reputation":12752,"user_id":15514,"accept_rate":95,"display_name":"Christoffer"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1283275680,"creation_date":1283275680,"answer_id":3611579,"question_id":3610261,"body_markdown":"I haven&#39;t written Java code in a while, and this got me curious to whether I&#39;ve still &quot;got it&quot;.\r\n\r\nFirst try:\r\n\r\n    import java.util.Iterator;\r\n    import java.util.Arrays; /* For sample code */\r\n    \r\n    public class IteratorIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n        private final Iterator&lt;T&gt; is[];\r\n        private int current;\r\n\r\n        public IteratorIterator(Iterator&lt;T&gt;... iterators)\r\n        {\r\n                is = iterators;\r\n                current = 0;\r\n        }\r\n\r\n        public boolean hasNext() {\r\n                while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\r\n                        current++;\r\n\r\n                return current &lt; is.length;\r\n        }\r\n\r\n        public T next() {\r\n                while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\r\n                        current++;\r\n\r\n                return is[current].next();\r\n        }\r\n\r\n        public void remove() { /* not implemented */ }\r\n\r\n        /* Sample use */\r\n        public static void main(String... args)\r\n        {\r\n                Iterator&lt;Integer&gt; a = Arrays.asList(1,2,3,4).iterator();\r\n                Iterator&lt;Integer&gt; b = Arrays.asList(10,11,12).iterator();\r\n                Iterator&lt;Integer&gt; c = Arrays.asList(99, 98, 97).iterator();\r\n\r\n                Iterator&lt;Integer&gt; ii = new IteratorIterator&lt;Integer&gt;(a,b,c);\r\n\r\n                while ( ii.hasNext() )\r\n                        System.out.println(ii.next());\r\n        }\r\n    }\r\n\r\nYou *could* of course use more Collection classes rather than a pure array + index counter, but this actually feels a bit cleaner than the alternative. Or am I just biased from writing mostly C these days? \r\n\r\nAnyway, there you go. The answer to you question is &quot;yes, probably&quot;.","title":"Is it possible to merge iterators in Java?","body":"<p>I haven't written Java code in a while, and this got me curious to whether I've still \"got it\".</p>\n\n<p>First try:</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.Arrays; /* For sample code */\n\npublic class IteratorIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n    private final Iterator&lt;T&gt; is[];\n    private int current;\n\n    public IteratorIterator(Iterator&lt;T&gt;... iterators)\n    {\n            is = iterators;\n            current = 0;\n    }\n\n    public boolean hasNext() {\n            while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\n                    current++;\n\n            return current &lt; is.length;\n    }\n\n    public T next() {\n            while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\n                    current++;\n\n            return is[current].next();\n    }\n\n    public void remove() { /* not implemented */ }\n\n    /* Sample use */\n    public static void main(String... args)\n    {\n            Iterator&lt;Integer&gt; a = Arrays.asList(1,2,3,4).iterator();\n            Iterator&lt;Integer&gt; b = Arrays.asList(10,11,12).iterator();\n            Iterator&lt;Integer&gt; c = Arrays.asList(99, 98, 97).iterator();\n\n            Iterator&lt;Integer&gt; ii = new IteratorIterator&lt;Integer&gt;(a,b,c);\n\n            while ( ii.hasNext() )\n                    System.out.println(ii.next());\n    }\n}\n</code></pre>\n\n<p>You <em>could</em> of course use more Collection classes rather than a pure array + index counter, but this actually feels a bit cleaner than the alternative. Or am I just biased from writing mostly C these days? </p>\n\n<p>Anyway, there you go. The answer to you question is \"yes, probably\".</p>\n"},{"comments":[{"owner":{"account_id":4081370,"reputation":363,"user_id":3537255,"display_name":"Fabian"},"score":3,"creation_date":1410460133,"post_id":3614702,"comment_id":40345164,"body_markdown":"This has some drawbacks, in particular if you want to use lazy iterators or if the collections are very large.","body":"This has some drawbacks, in particular if you want to use lazy iterators or if the collections are very large."},{"owner":{"account_id":361030,"reputation":3779,"user_id":703382,"accept_rate":92,"display_name":"Navin"},"score":0,"creation_date":1442721726,"post_id":3614702,"comment_id":53196553,"body_markdown":"So many reasons not to use this. Iterators don&#39;t have to come from a collection or set. Even if they did, you shouldn&#39;t copy all those references unless you know you&#39;ll go through them all.","body":"So many reasons not to use this. Iterators don&#39;t have to come from a collection or set. Even if they did, you shouldn&#39;t copy all those references unless you know you&#39;ll go through them all."},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1496148537,"post_id":3614702,"comment_id":75533420,"body_markdown":"It does not necessarily come from a collection, go back to the basics, an iterator is anything able to iterate and doesn&#39;t need to be a collection, they call it abstraction.","body":"It does not necessarily come from a collection, go back to the basics, an iterator is anything able to iterate and doesn&#39;t need to be a collection, they call it abstraction."}],"tags":[],"owner":{"account_id":304715,"reputation":50,"user_id":614391,"accept_rate":50,"display_name":"p01ntbl4nk"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1283309047,"creation_date":1283309047,"answer_id":3614702,"question_id":3610261,"body_markdown":"an iterator comes FROM a collection or a set.  \r\nwhy not use the method already available  \r\n`Collection.addAll(Collection c);`  \r\nand then create your iterator from the last object.  \r\nthis way, your iterator will iterate all the contents of both collection.","title":"Is it possible to merge iterators in Java?","body":"<p>an iterator comes FROM a collection or a set.<br>\nwhy not use the method already available<br>\n<code>Collection.addAll(Collection c);</code><br>\nand then create your iterator from the last object.<br>\nthis way, your iterator will iterate all the contents of both collection.</p>\n"},{"comments":[{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":2,"creation_date":1396452544,"post_id":3614740,"comment_id":34796737,"body_markdown":"I think this method is less resource intensive, as it does not convert all iterators to an ArrayList.","body":"I think this method is less resource intensive, as it does not convert all iterators to an ArrayList."},{"owner":{"account_id":15443473,"reputation":749,"user_id":11141271,"display_name":"TeamDman"},"score":0,"creation_date":1639275842,"post_id":3614740,"comment_id":124306811,"body_markdown":"The javadoc on the guava one currently mentiones explicitly that the concatenated iterators are not polled until necessary.","body":"The javadoc on the guava one currently mentiones explicitly that the concatenated iterators are not polled until necessary."}],"tags":[],"owner":{"account_id":144764,"reputation":2527,"user_id":354063,"accept_rate":94,"display_name":"Ither"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1396452242,"creation_date":1283309796,"answer_id":3614740,"question_id":3610261,"body_markdown":"Also the [Apache Commons Collection][1] have several classes for manipulating Iterators, like the [IteratorChain][2], that wraps a number of Iterators. \r\n\r\n\r\n  [1]: http://commons.apache.org/collections\r\n  [2]: https://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/iterators/IteratorChain.html","title":"Is it possible to merge iterators in Java?","body":"<p>Also the <a href=\"http://commons.apache.org/collections\" rel=\"noreferrer\">Apache Commons Collection</a> have several classes for manipulating Iterators, like the <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/iterators/IteratorChain.html\" rel=\"noreferrer\">IteratorChain</a>, that wraps a number of Iterators. </p>\n"},{"tags":[],"owner":{"account_id":173934,"reputation":5023,"user_id":402963,"accept_rate":100,"display_name":"Billworth Vandory"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286365248,"creation_date":1286365248,"answer_id":3872031,"question_id":3610261,"body_markdown":"I would refactor the original design from:\r\n\r\n    Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\r\n    Iterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\r\n\r\nTo something like:\r\n\r\n    Iterator&lt;User&gt; users = userService.getUsersInGroup(group.getId(), User.PRIMARY, User.SECONDARY, ...);\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>I would refactor the original design from:</p>\n\n<pre><code>Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\nIterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\n</code></pre>\n\n<p>To something like:</p>\n\n<pre><code>Iterator&lt;User&gt; users = userService.getUsersInGroup(group.getId(), User.PRIMARY, User.SECONDARY, ...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":915710,"reputation":30644,"user_id":948550,"accept_rate":93,"display_name":"Reut Sharabani"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1448469637,"creation_date":1448469637,"answer_id":33921910,"question_id":3610261,"body_markdown":"You can use [my version][1] of an extendable iterator. It uses a double-ended queue of iterators which to me makes sense:\r\n\r\n    import java.util.Deque;\r\n    import java.util.Iterator;\r\n    import java.util.concurrent.ConcurrentLinkedDeque;\r\n    \r\n    public class ExtendableIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    \t\r\n    \tpublic Deque&lt;Iterator&lt;T&gt;&gt; its = new ConcurrentLinkedDeque&lt;Iterator&lt;T&gt;&gt;();\r\n    \r\n    \tpublic ExtendableIterator() {\r\n    \t\r\n    \t}\r\n    \r\n    \tpublic ExtendableIterator(Iterator&lt;T&gt; it) {\r\n    \t\tthis();\r\n    \t\tthis.extend(it);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean hasNext() {\r\n    \t\t// this is true since we never hold empty iterators\r\n    \t\treturn !its.isEmpty() &amp;&amp; its.peekLast().hasNext();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic T next() {\r\n    \t\tT next = its.peekFirst().next();\r\n    \t\tif (!its.peekFirst().hasNext()) {\r\n    \t\t\tits.removeFirst();\r\n    \t\t}\r\n    \t\treturn next;\r\n    \t}\r\n    \t\r\n    \tpublic void extend(Iterator&lt;T&gt; it) {\r\n    \t\tif (it.hasNext()) {\r\n    \t\t\tits.addLast(it);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://gist.github.com/reutsharabani/03a457b401b81e448ce2","title":"Is it possible to merge iterators in Java?","body":"<p>You can use <a href=\"https://gist.github.com/reutsharabani/03a457b401b81e448ce2\" rel=\"nofollow\">my version</a> of an extendable iterator. It uses a double-ended queue of iterators which to me makes sense:</p>\n\n<pre><code>import java.util.Deque;\nimport java.util.Iterator;\nimport java.util.concurrent.ConcurrentLinkedDeque;\n\npublic class ExtendableIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n\n    public Deque&lt;Iterator&lt;T&gt;&gt; its = new ConcurrentLinkedDeque&lt;Iterator&lt;T&gt;&gt;();\n\n    public ExtendableIterator() {\n\n    }\n\n    public ExtendableIterator(Iterator&lt;T&gt; it) {\n        this();\n        this.extend(it);\n    }\n\n    @Override\n    public boolean hasNext() {\n        // this is true since we never hold empty iterators\n        return !its.isEmpty() &amp;&amp; its.peekLast().hasNext();\n    }\n\n    @Override\n    public T next() {\n        T next = its.peekFirst().next();\n        if (!its.peekFirst().hasNext()) {\n            its.removeFirst();\n        }\n        return next;\n    }\n\n    public void extend(Iterator&lt;T&gt; it) {\n        if (it.hasNext()) {\n            its.addLast(it);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2824199,"reputation":164,"user_id":2427160,"display_name":"Nic Stray"},"score":0,"creation_date":1677174847,"post_id":41488126,"comment_id":133290700,"body_markdown":"Why not use the List returned by Arrays.asList() directly, instead of the LinkedList? Because of the possible changes in the array &quot;iterables&quot;? Is this something I have to be worried about, even without multithreading? I would have to rewiev some of my code...","body":"Why not use the List returned by Arrays.asList() directly, instead of the LinkedList? Because of the possible changes in the array &quot;iterables&quot;? Is this something I have to be worried about, even without multithreading? I would have to rewiev some of my code..."},{"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"score":0,"creation_date":1677593574,"post_id":41488126,"comment_id":133365800,"body_markdown":"@NicStray the `LinkedList` here is only used to make a defensive copy, which will iterate over the elements. it&#39;s a design choice. you may chose to use `asList(..)` directly and avoid the copy operations, but then you must ensure not to modify the original iterables before using the `Iterator`. the choice is yours...","body":"@NicStray the <code>LinkedList</code> here is only used to make a defensive copy, which will iterate over the elements. it&#39;s a design choice. you may chose to use <code>asList(..)</code> directly and avoid the copy operations, but then you must ensure not to modify the original iterables before using the <code>Iterator</code>. the choice is yours..."},{"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"score":1,"creation_date":1677594293,"post_id":41488126,"comment_id":133366010,"body_markdown":"@NicStray the copy constructor of the `LinkedList` here is called. if you want to use `asList(..)` directly, you need to have an index variable or otherwise change the code, since remove will not work anymore.","body":"@NicStray the copy constructor of the <code>LinkedList</code> here is called. if you want to use <code>asList(..)</code> directly, you need to have an index variable or otherwise change the code, since remove will not work anymore."}],"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483628336,"creation_date":1483628336,"answer_id":41488126,"question_id":3610261,"body_markdown":"The Merged Iterator:\r\n\r\n    import static java.util.Arrays.asList;\r\n    \r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.NoSuchElementException;\r\n    \r\n    \r\n    public class ConcatIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    \r\n        private final List&lt;Iterable&lt;T&gt;&gt; iterables;\r\n        private Iterator&lt;T&gt; current;\r\n    \r\n        @SafeVarargs\r\n        public ConcatIterator(final Iterable&lt;T&gt;... iterables) {\r\n            this.iterables = new LinkedList&lt;&gt;(asList(iterables));\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasNext() {\r\n            checkNext();\r\n            return current != null &amp;&amp; current.hasNext();\r\n        }\r\n    \r\n        @Override\r\n        public T next() {\r\n            checkNext();\r\n            if (current == null || !current.hasNext()) throw new NoSuchElementException();\r\n            return current.next();\r\n        }\r\n    \r\n        @Override\r\n        public void remove() {\r\n            if (current == null) throw new IllegalStateException();\r\n            current.remove();\r\n        }\r\n    \r\n        private void checkNext() {\r\n            while ((current == null || !current.hasNext()) &amp;&amp; !iterables.isEmpty()) {\r\n                current = iterables.remove(0).iterator();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThe `concat` method to create an `Iterable`:\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; Iterable&lt;T&gt; concat(final Iterable&lt;T&gt;... iterables) {\r\n        return () -&gt; new ConcatIterator&lt;&gt;(iterables);\r\n    }\r\n\r\nSimple JUnit test:\r\n\r\n    @Test\r\n    public void testConcat() throws Exception {\r\n        final Iterable&lt;Integer&gt; it1 = asList(1, 2, 3);\r\n        final Iterable&lt;Integer&gt; it2 = asList(4, 5);\r\n        int j = 1;\r\n        for (final int i : concat(it1, it2)) {\r\n            assertEquals(j, i);\r\n            j++;\r\n        }\r\n    }\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>The Merged Iterator:</p>\n\n<pre><code>import static java.util.Arrays.asList;\n\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.NoSuchElementException;\n\n\npublic class ConcatIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n\n    private final List&lt;Iterable&lt;T&gt;&gt; iterables;\n    private Iterator&lt;T&gt; current;\n\n    @SafeVarargs\n    public ConcatIterator(final Iterable&lt;T&gt;... iterables) {\n        this.iterables = new LinkedList&lt;&gt;(asList(iterables));\n    }\n\n    @Override\n    public boolean hasNext() {\n        checkNext();\n        return current != null &amp;&amp; current.hasNext();\n    }\n\n    @Override\n    public T next() {\n        checkNext();\n        if (current == null || !current.hasNext()) throw new NoSuchElementException();\n        return current.next();\n    }\n\n    @Override\n    public void remove() {\n        if (current == null) throw new IllegalStateException();\n        current.remove();\n    }\n\n    private void checkNext() {\n        while ((current == null || !current.hasNext()) &amp;&amp; !iterables.isEmpty()) {\n            current = iterables.remove(0).iterator();\n        }\n    }\n\n}\n</code></pre>\n\n<p>The <code>concat</code> method to create an <code>Iterable</code>:</p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; Iterable&lt;T&gt; concat(final Iterable&lt;T&gt;... iterables) {\n    return () -&gt; new ConcatIterator&lt;&gt;(iterables);\n}\n</code></pre>\n\n<p>Simple JUnit test:</p>\n\n<pre><code>@Test\npublic void testConcat() throws Exception {\n    final Iterable&lt;Integer&gt; it1 = asList(1, 2, 3);\n    final Iterable&lt;Integer&gt; it2 = asList(4, 5);\n    int j = 1;\n    for (final int i : concat(it1, it2)) {\n        assertEquals(j, i);\n        j++;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16641188,"reputation":449,"user_id":12026681,"display_name":"lue"},"score":0,"creation_date":1580728698,"post_id":44626289,"comment_id":106180112,"body_markdown":"The last comma must be removed","body":"The last comma must be removed"}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499677703,"creation_date":1497862964,"answer_id":44626289,"question_id":3610261,"body_markdown":"You can try [`ConcatIterator`](http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterator.html) from [Cactoos](http://www.cactoos.org):\r\n\r\n    Iterator&lt;String&gt; names = new ConcatIterator&lt;&gt;(\r\n      Arrays.asList(&quot;Sarah&quot;, &quot;Mary&quot;).iterator(),\r\n      Arrays.asList(&quot;Jeff&quot;, &quot;Johnny&quot;).iterator(),\r\n    );\r\n\r\nAlso check [`ConcatIterable`](http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterable.html), which concatenates `Iterable`s.","title":"Is it possible to merge iterators in Java?","body":"<p>You can try <a href=\"http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterator.html\" rel=\"nofollow noreferrer\"><code>ConcatIterator</code></a> from <a href=\"http://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a>:</p>\n\n<pre><code>Iterator&lt;String&gt; names = new ConcatIterator&lt;&gt;(\n  Arrays.asList(\"Sarah\", \"Mary\").iterator(),\n  Arrays.asList(\"Jeff\", \"Johnny\").iterator(),\n);\n</code></pre>\n\n<p>Also check <a href=\"http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterable.html\" rel=\"nofollow noreferrer\"><code>ConcatIterable</code></a>, which concatenates <code>Iterable</code>s.</p>\n"},{"tags":[],"owner":{"account_id":13055416,"reputation":81,"user_id":9434443,"display_name":"clelson"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1545153797,"creation_date":1520000138,"answer_id":49070952,"question_id":3610261,"body_markdown":"    public class IteratorJoin&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    \tprivate final Iterator&lt;T&gt; first, next;\r\n    \t\r\n    \tpublic IteratorJoin(Iterator&lt;T&gt; first, Iterator&lt;T&gt; next) {\r\n    \t\tthis.first = first;\r\n    \t\tthis.next = next;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean hasNext() {\r\n    \t\treturn first.hasNext() || next.hasNext();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T next() {\r\n    \t\tif (first.hasNext())\r\n    \t\t\treturn first.next();\r\n    \t\treturn next.next();\r\n    \t}\r\n    }\r\n","title":"Is it possible to merge iterators in Java?","body":"<pre><code>public class IteratorJoin&lt;T&gt; implements Iterator&lt;T&gt; {\n    private final Iterator&lt;T&gt; first, next;\n\n    public IteratorJoin(Iterator&lt;T&gt; first, Iterator&lt;T&gt; next) {\n        this.first = first;\n        this.next = next;\n    }\n\n    @Override\n    public boolean hasNext() {\n        return first.hasNext() || next.hasNext();\n    }\n\n    @Override\n    public T next() {\n        if (first.hasNext())\n            return first.next();\n        return next.next();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553111316,"creation_date":1553110581,"answer_id":55268906,"question_id":3610261,"body_markdown":"In the [Apache Commons Collections](https://commons.apache.org/proper/commons-collections/) there is [`public static &lt;E&gt; Iterator&lt;E&gt; org.apache.commons.collections4.IteratorUtils.chainedIterator(Collection&lt;Iterator&lt;? extends E&gt;&gt; iterators)`](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/IteratorUtils.html#chainedIterator-java.util.Collection-) that says\r\n\r\n&gt;Gets an iterator that iterates through a collections of Iterators one after another.\r\n\r\nwhich should be what you want.\r\n\r\n\timport java.util.Arrays;\r\n\timport java.util.Iterator;\r\n\t\r\n\timport org.apache.commons.collections4.IteratorUtils;\r\n    //also works: import org.apache.commons.collections.IteratorUtils;\r\n\t\r\n\tclass Scratch {\r\n\t\tpublic static void main( String[] args ) {\r\n\t\t\tfinal Iterator&lt;String&gt; combinedIterator = IteratorUtils.chainedIterator(\r\n\t\t\t\t\tArrays.asList( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ).iterator(),\r\n\t\t\t\t\tArrays.asList( &quot;1&quot;, &quot;2&quot;, &quot;3&quot; ).iterator()\r\n\t\t\t\t);\r\n\t\t\twhile( combinedIterator.hasNext() ){\r\n\t\t\t\tSystem.out.println( combinedIterator.next() );\r\n\t\t\t}\r\n            // &quot;abc123&quot; will have been printed out\r\n\t\t}\r\n\t}\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>In the <a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"nofollow noreferrer\">Apache Commons Collections</a> there is <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/IteratorUtils.html#chainedIterator-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>public static &lt;E&gt; Iterator&lt;E&gt; org.apache.commons.collections4.IteratorUtils.chainedIterator(Collection&lt;Iterator&lt;? extends E&gt;&gt; iterators)</code></a> that says</p>\n\n<blockquote>\n  <p>Gets an iterator that iterates through a collections of Iterators one after another.</p>\n</blockquote>\n\n<p>which should be what you want.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Iterator;\n\nimport org.apache.commons.collections4.IteratorUtils;\n//also works: import org.apache.commons.collections.IteratorUtils;\n\nclass Scratch {\n    public static void main( String[] args ) {\n        final Iterator&lt;String&gt; combinedIterator = IteratorUtils.chainedIterator(\n                Arrays.asList( \"a\", \"b\", \"c\" ).iterator(),\n                Arrays.asList( \"1\", \"2\", \"3\" ).iterator()\n            );\n        while( combinedIterator.hasNext() ){\n            System.out.println( combinedIterator.next() );\n        }\n        // \"abc123\" will have been printed out\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36538,"reputation":8134,"user_id":104261,"display_name":"Taras Alenin"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1680496519,"creation_date":1566001118,"answer_id":57532382,"question_id":3610261,"body_markdown":"Starting with Java 8 and later this can be done without external dependencies using [Stream API][1]. This also allows concatenation of iterator with other types of streams.\r\n\r\n```java\r\nStreams.concat(\r\n   StreamSupport.stream(&lt;iter1&gt;, false), \r\n   StreamSupport.stream(&lt;iter2&gt;, false));\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-","title":"Is it possible to merge iterators in Java?","body":"<p>Starting with Java 8 and later this can be done without external dependencies using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-\" rel=\"nofollow noreferrer\">Stream API</a>. This also allows concatenation of iterator with other types of streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Streams.concat(\n   StreamSupport.stream(&lt;iter1&gt;, false), \n   StreamSupport.stream(&lt;iter2&gt;, false));\n</code></pre>\n"}],"owner":{"account_id":42318,"reputation":1948,"user_id":123250,"accept_rate":38,"display_name":"Jahanzeb Farooq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43874,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":14,"score":54,"last_activity_date":1680496519,"creation_date":1283266724,"question_id":3610261,"body_markdown":"Is it possible to merge iterators in Java? I have two iterators and I want to combine/merge them so that I could iterate though their elements in one go (in same loop) rather than two steps. Is that possible? \r\n\r\nNote that the number of elements in the two lists can be different therefore one loop over both lists is not the solution. \r\n\r\n    Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\r\n    Iterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\r\n    \r\n    while(pUsers.hasNext()) {\r\n      User user = pUsers.next();\r\n      .....\r\n    }\r\n\r\n    while(sUsers.hasNext()) {\r\n      User user = sUsers.next();\r\n      .....\r\n    }\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>Is it possible to merge iterators in Java? I have two iterators and I want to combine/merge them so that I could iterate though their elements in one go (in same loop) rather than two steps. Is that possible? </p>\n\n<p>Note that the number of elements in the two lists can be different therefore one loop over both lists is not the solution. </p>\n\n<pre><code>Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\nIterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\n\nwhile(pUsers.hasNext()) {\n  User user = pUsers.next();\n  .....\n}\n\nwhile(sUsers.hasNext()) {\n  User user = sUsers.next();\n  .....\n}\n</code></pre>\n"},{"tags":["java","compiler-construction","antlr4","lexer"],"answers":[{"comments":[{"owner":{"account_id":10907252,"reputation":319,"user_id":8017619,"display_name":"pain"},"score":0,"creation_date":1680506855,"post_id":75916027,"comment_id":133903888,"body_markdown":"The answer is great and fully answers my confusion. I spent a whole morning consulting chat-gpt, but all the answers given were wrong.","body":"The answer is great and fully answers my confusion. I spent a whole morning consulting chat-gpt, but all the answers given were wrong."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680495825,"creation_date":1680495825,"answer_id":75916027,"question_id":75915913,"body_markdown":"It&#39;s not trying to exclude something like:\r\n\r\n```java\r\nchar x = `\\r`;\r\n```\r\n\r\nIt&#39;s trying to exclude:\r\n\r\n```java\r\nchar x = &#39;\r\n&#39;;\r\n```\r\n\r\nThat last one is illegal java. A `&#39;` (opening a char literal) can be followed by either an EscapeSequence, or a character, but by exception, not a newline character. (as in, literally pressing enter in your editor, not `\\n` which isn&#39;t a newline, it&#39;s an escape sequence that represents a new line).\r\n\r\nIn other words, after the single quote, any character is fine, EXCEPT backslash which needs to be excluded, as `EscapeSequence` handles this, and EXCEPT the literal unicode values `0D`/`0A` (CR and LF, in antlrspeak, `\\r` and `\\n`).\r\n\r\nIt gets a little confusing perhaps - just make sure you very very carefully count the backslashes:\r\n\r\n```\r\n[&#39;\\\\\\r\\n]\r\n```\r\n\r\nThat is excluding 4 unicode values, and only 4:\r\n\r\n* a single quote. `char x = &#39;&#39;;` is not legal java.\r\n* a backslash. Because the ANTLR grammar needs to hop on over to the `EscapeSequence` part to parse that. `char x = &#39;\\&#39;;` is not legal.\r\n* a newline, either one (CR or LF) - because you can&#39;t actually start a new line in the middle of your char literal.\r\n\r\nIn contrast, the escape sequences aren&#39;t looking for `\\n`, they are looking for a backslash symbol and then the actual letter &#39;n&#39;.\r\n","title":"How to understand the CHAR_LITERAL rule in java antlr4 lexer file","body":"<p>It's not trying to exclude something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char x = `\\r`;\n</code></pre>\n<p>It's trying to exclude:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char x = '\n';\n</code></pre>\n<p>That last one is illegal java. A <code>'</code> (opening a char literal) can be followed by either an EscapeSequence, or a character, but by exception, not a newline character. (as in, literally pressing enter in your editor, not <code>\\n</code> which isn't a newline, it's an escape sequence that represents a new line).</p>\n<p>In other words, after the single quote, any character is fine, EXCEPT backslash which needs to be excluded, as <code>EscapeSequence</code> handles this, and EXCEPT the literal unicode values <code>0D</code>/<code>0A</code> (CR and LF, in antlrspeak, <code>\\r</code> and <code>\\n</code>).</p>\n<p>It gets a little confusing perhaps - just make sure you very very carefully count the backslashes:</p>\n<pre><code>['\\\\\\r\\n]\n</code></pre>\n<p>That is excluding 4 unicode values, and only 4:</p>\n<ul>\n<li>a single quote. <code>char x = '';</code> is not legal java.</li>\n<li>a backslash. Because the ANTLR grammar needs to hop on over to the <code>EscapeSequence</code> part to parse that. <code>char x = '\\';</code> is not legal.</li>\n<li>a newline, either one (CR or LF) - because you can't actually start a new line in the middle of your char literal.</li>\n</ul>\n<p>In contrast, the escape sequences aren't looking for <code>\\n</code>, they are looking for a backslash symbol and then the actual letter 'n'.</p>\n"}],"owner":{"account_id":10907252,"reputation":319,"user_id":8017619,"display_name":"pain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916027,"answer_count":1,"score":0,"last_activity_date":1680495825,"creation_date":1680493867,"question_id":75915913,"body_markdown":"[java antlr4 lexer file](https://github.com/antlr/grammars-v4/blob/master/java/java/JavaLexer.g4)\r\n\r\n```g4\r\nCHAR_LITERAL:       &#39;\\&#39;&#39; (~[&#39;\\\\\\r\\n] | EscapeSequence) &#39;\\&#39;&#39;;\r\n\r\nfragment EscapeSequence\r\n    : &#39;\\\\&#39; &#39;u005c&#39;? [btnfr&quot;&#39;\\\\]\r\n    | &#39;\\\\&#39; &#39;u005c&#39;? ([0-3]? [0-7])? [0-7]\r\n    | &#39;\\\\&#39; &#39;u&#39;+ HexDigit HexDigit HexDigit HexDigit\r\n    ;\r\n```\r\n\r\nWhy &#39;\\r&#39;, &#39;\\n&#39;, &#39;&#39;&#39;, &#39;\\&#39; is excluded in first part，and &#39;\\b&#39;, &#39;\\t&#39;, &#39;\\f&#39;, &#39;&quot;&#39; not excluded in first part?\r\n\r\nIf I change the rule to this, is it equivalent to the previous rule\r\n\r\n```g4\r\nCHAR_LITERAL:       &#39;\\&#39;&#39; (~[&#39;\\\\\\r\\n\\b\\f\\t\\&quot;] | EscapeSequence) &#39;\\&#39;&#39;;\r\n```\r\n\r\nOr change it to this\r\n\r\n```g4\r\nCHAR_LITERAL:       &#39;\\&#39;&#39; (~[&#39;\\\\] | EscapeSequence) &#39;\\&#39;&#39;;\r\n```","title":"How to understand the CHAR_LITERAL rule in java antlr4 lexer file","body":"<p><a href=\"https://github.com/antlr/grammars-v4/blob/master/java/java/JavaLexer.g4\" rel=\"nofollow noreferrer\">java antlr4 lexer file</a></p>\n<pre><code>CHAR_LITERAL:       '\\'' (~['\\\\\\r\\n] | EscapeSequence) '\\'';\n\nfragment EscapeSequence\n    : '\\\\' 'u005c'? [btnfr&quot;'\\\\]\n    | '\\\\' 'u005c'? ([0-3]? [0-7])? [0-7]\n    | '\\\\' 'u'+ HexDigit HexDigit HexDigit HexDigit\n    ;\n</code></pre>\n<p>Why '\\r', '\\n', ''', '' is excluded in first part，and '\\b', '\\t', '\\f', '&quot;' not excluded in first part?</p>\n<p>If I change the rule to this, is it equivalent to the previous rule</p>\n<pre><code>CHAR_LITERAL:       '\\'' (~['\\\\\\r\\n\\b\\f\\t\\&quot;] | EscapeSequence) '\\'';\n</code></pre>\n<p>Or change it to this</p>\n<pre><code>CHAR_LITERAL:       '\\'' (~['\\\\] | EscapeSequence) '\\'';\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9696,"page":529,"page_size":100}
