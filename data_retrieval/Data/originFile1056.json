{"items":[{"tags":["java","mongodb","spring-boot","mongodb-query","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662482875,"creation_date":1662482875,"answer_id":73625370,"question_id":73625253,"body_markdown":"Should it be ```collectionName``` instead of ```viewName``` in the aggregate?       \r\n\r\n    CommandResult result = mongoTemplate.executeCommand(&quot;{&quot; +\r\n                &quot;aggregate: &#39;&quot; + collectionName + &quot;&#39;, &quot; +\r\n                &quot;pipeline: [ { $project: { travelDate: 1, trainNumber: 1, to: 1 } },  { $merge: { into: \\&quot;destStationList\\&quot;, whenMatched: \\&quot;replace\\&quot;, whenNotMatched: \\&quot;insert\\&quot; } } ],&quot; +\r\n                &quot;cursor: { }&quot;+\r\n                &quot;}&quot;);\r\n\r\nYou may also want to use the ```viewName``` variable rather than hardcode it into the String.","title":"Cannot create Mongo Materialized view using Java Spring Boot","body":"<p>Should it be <code>collectionName</code> instead of <code>viewName</code> in the aggregate?</p>\n<pre><code>CommandResult result = mongoTemplate.executeCommand(&quot;{&quot; +\n            &quot;aggregate: '&quot; + collectionName + &quot;', &quot; +\n            &quot;pipeline: [ { $project: { travelDate: 1, trainNumber: 1, to: 1 } },  { $merge: { into: \\&quot;destStationList\\&quot;, whenMatched: \\&quot;replace\\&quot;, whenNotMatched: \\&quot;insert\\&quot; } } ],&quot; +\n            &quot;cursor: { }&quot;+\n            &quot;}&quot;);\n</code></pre>\n<p>You may also want to use the <code>viewName</code> variable rather than hardcode it into the String.</p>\n"}],"owner":{"account_id":4316220,"reputation":13,"user_id":3525974,"display_name":"SSM Tariq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662482875,"creation_date":1662482111,"question_id":73625253,"body_markdown":"I have a collection name **Order** with many properties. I wanna create a materialized view with 3 fields from **Order** to destStationList. I&#39;m using the following java method to do that. \r\n```\r\n    private void createMaterializedView() {\r\n        String collectionName = &quot;orders&quot;;\r\n        String viewName = &quot;destStationList&quot;;\r\n\r\n        // Attempt to create the view\r\n        if(mongoTemplate.collectionExists(viewName)){\r\n            mongoTemplate.dropCollection(viewName);\r\n        }\r\n\r\n        CommandResult result = mongoTemplate.executeCommand(&quot;{&quot; +\r\n                &quot;aggregate: &#39;&quot; + viewName + &quot;&#39;, &quot; +\r\n                &quot;pipeline: [ { $project: { travelDate: 1, trainNumber: 1, to: 1 } },  { $merge: { into: \\&quot;destStationList\\&quot;, whenMatched: \\&quot;replace\\&quot;, whenNotMatched: \\&quot;insert\\&quot; } } ],&quot; +\r\n                &quot;cursor: { }&quot;+\r\n                &quot;}&quot;);\r\n\r\n        if(result.ok()) {\r\n            LOGGER.info(&quot;Successfully created view &#39;{}&#39; on collection &#39;{}&#39;&quot;, viewName, collectionName);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Failed to create view &#39;&quot; + viewName + &quot;&#39; on collection &#39;&quot; + collectionName + &quot;&#39; - &quot; + result.getErrorMessage());\r\n        }\r\n    }\r\n```\r\n\r\nI have tested the following mongo shell command to check that in my local mongodb. It works well.\r\n```\r\ndb.runCommand( { \r\n  aggregate: &quot;order&quot;, \r\n  pipeline: [ { $project: { travelDate: 1, trainNumber: 1, to: 1 } },  { $merge: { into: &quot;destStationList&quot;, whenMatched: &quot;replace&quot;, whenNotMatched: &quot;insert&quot; } } ],\r\n  cursor: { } \r\n} );\r\n```\r\nFor your information, I&#39;m using MongoDB version 4.4.\r\n\r\nThe problem is that executing the java method shows that the view is created successfully. But when I run the command `mongoTemplate.collectionExists(&quot;destStationList&quot;)` it returns false and also cannot retrieve data by querying from the view.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0mtLS.png\r\n\r\nCan anyone please help me with it? How can I create a mongo materialized view using java?","title":"Cannot create Mongo Materialized view using Java Spring Boot","body":"<p>I have a collection name <strong>Order</strong> with many properties. I wanna create a materialized view with 3 fields from <strong>Order</strong> to destStationList. I'm using the following java method to do that.</p>\n<pre><code>    private void createMaterializedView() {\n        String collectionName = &quot;orders&quot;;\n        String viewName = &quot;destStationList&quot;;\n\n        // Attempt to create the view\n        if(mongoTemplate.collectionExists(viewName)){\n            mongoTemplate.dropCollection(viewName);\n        }\n\n        CommandResult result = mongoTemplate.executeCommand(&quot;{&quot; +\n                &quot;aggregate: '&quot; + viewName + &quot;', &quot; +\n                &quot;pipeline: [ { $project: { travelDate: 1, trainNumber: 1, to: 1 } },  { $merge: { into: \\&quot;destStationList\\&quot;, whenMatched: \\&quot;replace\\&quot;, whenNotMatched: \\&quot;insert\\&quot; } } ],&quot; +\n                &quot;cursor: { }&quot;+\n                &quot;}&quot;);\n\n        if(result.ok()) {\n            LOGGER.info(&quot;Successfully created view '{}' on collection '{}'&quot;, viewName, collectionName);\n        }\n        else {\n            System.out.println(&quot;Failed to create view '&quot; + viewName + &quot;' on collection '&quot; + collectionName + &quot;' - &quot; + result.getErrorMessage());\n        }\n    }\n</code></pre>\n<p>I have tested the following mongo shell command to check that in my local mongodb. It works well.</p>\n<pre><code>db.runCommand( { \n  aggregate: &quot;order&quot;, \n  pipeline: [ { $project: { travelDate: 1, trainNumber: 1, to: 1 } },  { $merge: { into: &quot;destStationList&quot;, whenMatched: &quot;replace&quot;, whenNotMatched: &quot;insert&quot; } } ],\n  cursor: { } \n} );\n</code></pre>\n<p>For your information, I'm using MongoDB version 4.4.</p>\n<p>The problem is that executing the java method shows that the view is created successfully. But when I run the command <code>mongoTemplate.collectionExists(&quot;destStationList&quot;)</code> it returns false and also cannot retrieve data by querying from the view.</p>\n<p><a href=\"https://i.stack.imgur.com/0mtLS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0mtLS.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone please help me with it? How can I create a mongo materialized view using java?</p>\n"},{"tags":["java","android","kotlin","android-statusbar"],"comments":[{"owner":{"account_id":25944897,"reputation":354,"user_id":19663739,"display_name":"Uday Dodiya"},"score":1,"creation_date":1662379675,"post_id":73609092,"comment_id":129985717,"body_markdown":"i think you looking like following https://stackoverflow.com/questions/29069070/completely-transparent-status-bar-and-navigation-bar-on-lollipop","body":"i think you looking like following <a href=\"https://stackoverflow.com/questions/29069070/completely-transparent-status-bar-and-navigation-bar-on-lollipop\" title=\"completely transparent status bar and navigation bar on lollipop\">stackoverflow.com/questions/29069070/&hellip;</a>"},{"owner":{"account_id":10238057,"reputation":859,"user_id":7556310,"display_name":"Vijay E"},"score":0,"creation_date":1662380058,"post_id":73609092,"comment_id":129985848,"body_markdown":"Thanks for the link however I&#39;m unable to achieve full screen with transparent status bar with this link. It only shows how we can achieve transparent status bar. Right now I&#39;m unable to draw anything on status bar. it is always dark color. Im using\n@style/Theme.MaterialComponents.DayNight.NoActionBar.Bridge\ntheme","body":"Thanks for the link however I&#39;m unable to achieve full screen with transparent status bar with this link. It only shows how we can achieve transparent status bar. Right now I&#39;m unable to draw anything on status bar. it is always dark color. Im using @style/Theme.MaterialComponents.DayNight.NoActionBar.Bridge theme"},{"owner":{"account_id":2019300,"reputation":3388,"user_id":1805857,"accept_rate":64,"display_name":"Rohit"},"score":0,"creation_date":1662381407,"post_id":73609092,"comment_id":129986363,"body_markdown":"you can extend that theme and add extra things into that","body":"you can extend that theme and add extra things into that"},{"owner":{"account_id":10238057,"reputation":859,"user_id":7556310,"display_name":"Vijay E"},"score":0,"creation_date":1662381560,"post_id":73609092,"comment_id":129986421,"body_markdown":"Im adding more info on what I have done with theme.","body":"Im adding more info on what I have done with theme."}],"answers":[{"tags":[],"owner":{"account_id":26045599,"reputation":91,"user_id":19749681,"display_name":"Hitesh Khatri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662470344,"creation_date":1662469814,"answer_id":73622633,"question_id":73609092,"body_markdown":"try this:\r\n\r\n```java\r\ngetWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\r\n```\r\n\r\n   ","title":"How to full screen activity with transparent status bar?","body":"<p>try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662470351,"creation_date":1662470351,"answer_id":73622755,"question_id":73609092,"body_markdown":"You can use like this.\r\n\r\nFor `Kotlin`:\r\n\r\n```kotlin\r\nwindow.setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS)\r\n```\r\n\r\nFor `Java`:\r\n\r\n```java\r\ngetWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\r\n```\r\n","title":"How to full screen activity with transparent status bar?","body":"<p>You can use like this.</p>\n<p>For <code>Kotlin</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>window.setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS)\n</code></pre>\n<p>For <code>Java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\n</code></pre>\n"}],"owner":{"account_id":10238057,"reputation":859,"user_id":7556310,"display_name":"Vijay E"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662482380,"creation_date":1662379463,"question_id":73609092,"body_markdown":"I would like to show transparent status bar without using immersive mode. Just like the image below. I have tried lot of solutions however I&#39;m unable to achieve this. Please refer the image below.\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6jESb.jpg\r\n\r\nThis is the output I&#39;m looking for. Please note here that I&#39;m looking for solution which doesn&#39;t affect navigation bar at all. I don&#39;t want any modifications to navigation bar just like image below.\r\nThanks in advance!\r\n\r\nMy theme:\r\n\r\n```xml\r\n&lt;style name=&quot;AppTheme&quot; parent=&quot;@style/Theme.MaterialComponents.DayNight.NoActionBar.Bridge&quot;&gt;\r\n&lt;item name=&quot;android:colorEdgeEffect&quot;&gt;@color/color_subtitle_text&lt;/item&gt;\r\n&lt;item name=&quot;android:windowDrawsSystemBarBackgrounds&quot;&gt;true&lt;/item&gt;\r\n&lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\r\n```","title":"How to full screen activity with transparent status bar?","body":"<p>I would like to show transparent status bar without using immersive mode. Just like the image below. I have tried lot of solutions however I'm unable to achieve this. Please refer the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/6jESb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6jESb.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This is the output I'm looking for. Please note here that I'm looking for solution which doesn't affect navigation bar at all. I don't want any modifications to navigation bar just like image below.\nThanks in advance!</p>\n<p>My theme:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;style name=&quot;AppTheme&quot; parent=&quot;@style/Theme.MaterialComponents.DayNight.NoActionBar.Bridge&quot;&gt;\n&lt;item name=&quot;android:colorEdgeEffect&quot;&gt;@color/color_subtitle_text&lt;/item&gt;\n&lt;item name=&quot;android:windowDrawsSystemBarBackgrounds&quot;&gt;true&lt;/item&gt;\n&lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\n</code></pre>\n"},{"tags":["java","date"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662482091,"creation_date":1661985878,"answer_id":73562637,"question_id":73562195,"body_markdown":"# tl;dr\r\n\r\nNo, you cannot use a possibly-null reference variable itself to see if it is null. You must check from outside the variable.\r\n\r\n    Objects                     // Handle utility class.\r\n    .requireNonNull( myDate )   // Throws exception if reference variable holds no reference, is null.\r\n    .toInstant()                // Convert from terrible legacy class `java.util.Date` to modern class `java.time.Instant`. \r\n    .isBefore(                  // Compare one `Instant` object to another.\r\n        Instant.now()           // Capture the current moment as seen with an offset of zero hours-minutes-seconds from UTC.\r\n    )                           // Returns true or false.\r\n\r\n\r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe `Date` &amp; `Calendar` classes are terribly flawed. They were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n# `java.time.Instant`\r\n\r\nWhen handed a `java.util.Date` object, immediately convert to its replacement, [`java.time.Instant`][1]. Use the new conversion methods added to the old classes.\r\n\r\n    Instant instant = myJavaUtilDate.toInstant() ;\r\n\r\nFor comparing, call any of the `Instant` methods: [`equals`][2], [`isBefore`][3], `isAfter`. \r\n\r\n# Null-check\r\n\r\nAs for checking for nulls… If your object reference such as `Calendar atPtmtCalendar` is null then you cannot call any methods with which to check for nulls. So your question “Is there any way to check for null values by using atPtmtCalendar?” makes no sense. So your null-check must be separate from your use of the possibly null variable.\r\n\r\nI would prefer directly replacing your null check with a call to [`Objects.nonNull`][4] for easier reading.\r\n\r\n    if( null != myVar ) { … }              // Not my favorite.\r\n    if( Objects.nonNull( myVar ) ) { … }   // Preferred by me.\r\n\r\nIf the variable should never be null, then throw an exception if it is indeed null. To do so, call [`Objects.requireNonNull`][5].  Optionally, you can pass text for the error message within the exception. \r\n\r\n    if( Objects.requireNonNull( myVar ) ) { … } \r\n\r\nIf null is a legitimate value in your particular scenario, then your called method should return an [`Optional`][6]. \r\n\r\n    Optional&lt; Date &gt; date = whatever.getDate() ;\r\n\r\nYour code can then use any of the several handy methods on `Optional` to handle the case of a missing payload.\r\n\r\n# Example code\r\n\r\nPutting all this together:\r\n\r\n    boolean isPastDate = \r\n        Objects\r\n        .requireNonNull( myDate )\r\n        .toInstant()\r\n        .isBefore( \r\n            Instant.now() \r\n        ) \r\n    ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#equals(java.lang.Object)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#isBefore(java.time.Instant)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#nonNull(java.lang.Object)\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html","title":"How to check for empty values in Calendar object?","body":"<h1>tl;dr</h1>\n<p>No, you cannot use a possibly-null reference variable itself to see if it is null. You must check from outside the variable.</p>\n<pre><code>Objects                     // Handle utility class.\n.requireNonNull( myDate )   // Throws exception if reference variable holds no reference, is null.\n.toInstant()                // Convert from terrible legacy class `java.util.Date` to modern class `java.time.Instant`. \n.isBefore(                  // Compare one `Instant` object to another.\n    Instant.now()           // Capture the current moment as seen with an offset of zero hours-minutes-seconds from UTC.\n)                           // Returns true or false.\n</code></pre>\n<h1>Avoid legacy date-time classes</h1>\n<p>The <code>Date</code> &amp; <code>Calendar</code> classes are terribly flawed. They were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1><code>java.time.Instant</code></h1>\n<p>When handed a <code>java.util.Date</code> object, immediately convert to its replacement, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>java.time.Instant</code></a>. Use the new conversion methods added to the old classes.</p>\n<pre><code>Instant instant = myJavaUtilDate.toInstant() ;\n</code></pre>\n<p>For comparing, call any of the <code>Instant</code> methods: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#isBefore(java.time.Instant)\" rel=\"nofollow noreferrer\"><code>isBefore</code></a>, <code>isAfter</code>.</p>\n<h1>Null-check</h1>\n<p>As for checking for nulls… If your object reference such as <code>Calendar atPtmtCalendar</code> is null then you cannot call any methods with which to check for nulls. So your question “Is there any way to check for null values by using atPtmtCalendar?” makes no sense. So your null-check must be separate from your use of the possibly null variable.</p>\n<p>I would prefer directly replacing your null check with a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#nonNull(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Objects.nonNull</code></a> for easier reading.</p>\n<pre><code>if( null != myVar ) { … }              // Not my favorite.\nif( Objects.nonNull( myVar ) ) { … }   // Preferred by me.\n</code></pre>\n<p>If the variable should never be null, then throw an exception if it is indeed null. To do so, call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\" rel=\"nofollow noreferrer\"><code>Objects.requireNonNull</code></a>.  Optionally, you can pass text for the error message within the exception.</p>\n<pre><code>if( Objects.requireNonNull( myVar ) ) { … } \n</code></pre>\n<p>If null is a legitimate value in your particular scenario, then your called method should return an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a>.</p>\n<pre><code>Optional&lt; Date &gt; date = whatever.getDate() ;\n</code></pre>\n<p>Your code can then use any of the several handy methods on <code>Optional</code> to handle the case of a missing payload.</p>\n<h1>Example code</h1>\n<p>Putting all this together:</p>\n<pre><code>boolean isPastDate = \n    Objects\n    .requireNonNull( myDate )\n    .toInstant()\n    .isBefore( \n        Instant.now() \n    ) \n;\n</code></pre>\n"}],"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73562637,"answer_count":1,"score":1,"last_activity_date":1662482091,"creation_date":1661982186,"question_id":73562195,"body_markdown":"I am using calendar API to compare dates as so:\r\n\r\n    Date date = DateHelper.getDate(stringDate) This returns a date object\r\n    Calendar atPtmtCalendar = Calendar.getInstance(); \r\n    if(date != null){\r\n        atPtmtCalendar.setTime(date)\r\n    }\r\n   The problem is that I am currently checking the variable date for null values rather than atPmtCalendar as so:\r\n\r\n    if(date != null){\r\n         Boolean isBefore = atPtmtCalendar.before(otherCalendarDate)\r\n    }\r\n\r\n\r\n\r\nIs there any way to check for null values by using atPtmtCalendar?","title":"How to check for empty values in Calendar object?","body":"<p>I am using calendar API to compare dates as so:</p>\n<pre><code>Date date = DateHelper.getDate(stringDate) This returns a date object\nCalendar atPtmtCalendar = Calendar.getInstance(); \nif(date != null){\n    atPtmtCalendar.setTime(date)\n}\n</code></pre>\n<p>The problem is that I am currently checking the variable date for null values rather than atPmtCalendar as so:</p>\n<pre><code>if(date != null){\n     Boolean isBefore = atPtmtCalendar.before(otherCalendarDate)\n}\n</code></pre>\n<p>Is there any way to check for null values by using atPtmtCalendar?</p>\n"},{"tags":["java","memory","jvm","dynamic-memory-allocation"],"comments":[{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1662462716,"post_id":73616236,"comment_id":130005942,"body_markdown":"The log doesn&#39;t contain much information. Do you have full error details available? Can you share them? Did the app crash or became unresponsive only?","body":"The log doesn&#39;t contain much information. Do you have full error details available? Can you share them? Did the app crash or became unresponsive only?"},{"owner":{"account_id":463465,"reputation":4099,"user_id":866390,"accept_rate":51,"display_name":"Joe Almore"},"score":0,"creation_date":1662476178,"post_id":73616236,"comment_id":130011369,"body_markdown":"@JurajMartinka Yes, the app crashed (closed). you may find more details about the error above in the new edited post. The rest of the file are memory addresses and irrelevant stuff.","body":"@JurajMartinka Yes, the app crashed (closed). you may find more details about the error above in the new edited post. The rest of the file are memory addresses and irrelevant stuff."},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1662476452,"post_id":73616236,"comment_id":130011495,"body_markdown":"Can you give more details about your java app and the environment? How exactly do you run it (docker or simple java app running on the host)? What JVM properties do you set?","body":"Can you give more details about your java app and the environment? How exactly do you run it (docker or simple java app running on the host)? What JVM properties do you set?"},{"owner":{"account_id":463465,"reputation":4099,"user_id":866390,"accept_rate":51,"display_name":"Joe Almore"},"score":0,"creation_date":1662481960,"post_id":73616236,"comment_id":130013585,"body_markdown":"@JurajMartinka Please, see updated question with command line.","body":"@JurajMartinka Please, see updated question with command line."},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1662544681,"post_id":73616236,"comment_id":130028377,"body_markdown":"So I assume you run this command directly on the host and are running it manually without any sort of orchestrator (systemd or similar). The JVM by default, should request 1/4 of available RAM as MaxHeapSize - since you don&#39;t pass `-Xmx`, it should be about 8 GB. It&#39;s not clear to me why the problem happens but maybe you can set `ulimit -c unlimited` as the error message says and also provide more diagnostic info as produced by `jcmd VM.info` the next time you run it(not sure if available in Java 8). Finally, I would really suggest updating to JDK 17, or at least 11.","body":"So I assume you run this command directly on the host and are running it manually without any sort of orchestrator (systemd or similar). The JVM by default, should request 1/4 of available RAM as MaxHeapSize - since you don&#39;t pass <code>-Xmx</code>, it should be about 8 GB. It&#39;s not clear to me why the problem happens but maybe you can set <code>ulimit -c unlimited</code> as the error message says and also provide more diagnostic info as produced by <code>jcmd VM.info</code> the next time you run it(not sure if available in Java 8). Finally, I would really suggest updating to JDK 17, or at least 11."}],"owner":{"account_id":463465,"reputation":4099,"user_id":866390,"accept_rate":51,"display_name":"Joe Almore"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662481939,"creation_date":1662432795,"question_id":73616236,"body_markdown":"I am running a Java application in a Linux Server with 32GB of memory and suddenly the application stopped working and returned this error in a log file. At the moment of the exception there was still about 25GB of memory available.\r\n\r\nThese were the details at the moment of the crash:\r\n\r\n    #\r\n    # There is insufficient memory for the Java Runtime Environment to continue.\r\n    # Native memory allocation (mmap) failed to map 12288 bytes for committing reserved memory.\r\n    # Possible reasons:\r\n    #   The system is out of physical RAM or swap space\r\n    #   The process is running with CompressedOops enabled, and the Java Heap may be blocking the growth of the native heap\r\n    # Possible solutions:\r\n    #   Reduce memory load on the system\r\n    #   Increase physical memory or swap space\r\n    #   Check if swap backing store is full\r\n    #   Decrease Java heap size (-Xmx/-Xms)\r\n    #   Decrease number of Java threads\r\n    #   Decrease Java thread stack sizes (-Xss)\r\n    #   Set larger code cache with -XX:ReservedCodeCacheSize=\r\n    #   JVM is running with Zero Based Compressed Oops mode in which the Java heap is\r\n    #     placed in the first 32GB address space. The Java Heap base address is the\r\n    #     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\r\n    #     to set the Java Heap base and to place the Java Heap above 32GB virtual address.\r\n    # This output file may be truncated or incomplete.\r\n    #\r\n    #  Out of Memory Error (os_linux.cpp:2798), pid=505585, tid=0x00007f80491d7640\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment (8.0_342-b07) (build 1.8.0_342-8u342-b07-0ubuntu1~22.04-b07)\r\n    # Java VM: OpenJDK 64-Bit Server VM (25.342-b07 mixed mode linux-amd64 compressed oops)\r\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\n\r\n    Memory: 4k page, physical 32875188k(25987732k free), swap 0k(0k free)\r\n    \r\n    vm_info: OpenJDK 64-Bit Server VM (25.342-b07) for linux-amd64 JRE (1.8.0_342-8u342-b07-0ubuntu1~22.04-b07), built on Jul 23 2022 16:13:07 by &quot;buildd&quot; with gcc 11.2.0\r\n\r\nThis message contains some possible solutions. But instead of trying each one of those solutions and cross my fingers for it to no happen again, I need to determine the exact reason why this OutOfMemory happened, try to reproduce it again and apply the correct solution.\r\n\r\nI am starting an Apache Felix instance and the command line I use to start the java app is:\r\n\r\n    java -Dorg.osgi.framework.bootdelegation=sun.*,com.sun.* -Dfile.encoding=UTF-8 -jar bin/felix.jar &amp;","title":"JRE: There is insufficient memory for the Java Runtime Environment to continue","body":"<p>I am running a Java application in a Linux Server with 32GB of memory and suddenly the application stopped working and returned this error in a log file. At the moment of the exception there was still about 25GB of memory available.</p>\n<p>These were the details at the moment of the crash:</p>\n<pre><code>#\n# There is insufficient memory for the Java Runtime Environment to continue.\n# Native memory allocation (mmap) failed to map 12288 bytes for committing reserved memory.\n# Possible reasons:\n#   The system is out of physical RAM or swap space\n#   The process is running with CompressedOops enabled, and the Java Heap may be blocking the growth of the native heap\n# Possible solutions:\n#   Reduce memory load on the system\n#   Increase physical memory or swap space\n#   Check if swap backing store is full\n#   Decrease Java heap size (-Xmx/-Xms)\n#   Decrease number of Java threads\n#   Decrease Java thread stack sizes (-Xss)\n#   Set larger code cache with -XX:ReservedCodeCacheSize=\n#   JVM is running with Zero Based Compressed Oops mode in which the Java heap is\n#     placed in the first 32GB address space. The Java Heap base address is the\n#     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\n#     to set the Java Heap base and to place the Java Heap above 32GB virtual address.\n# This output file may be truncated or incomplete.\n#\n#  Out of Memory Error (os_linux.cpp:2798), pid=505585, tid=0x00007f80491d7640\n#\n# JRE version: OpenJDK Runtime Environment (8.0_342-b07) (build 1.8.0_342-8u342-b07-0ubuntu1~22.04-b07)\n# Java VM: OpenJDK 64-Bit Server VM (25.342-b07 mixed mode linux-amd64 compressed oops)\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n\nMemory: 4k page, physical 32875188k(25987732k free), swap 0k(0k free)\n\nvm_info: OpenJDK 64-Bit Server VM (25.342-b07) for linux-amd64 JRE (1.8.0_342-8u342-b07-0ubuntu1~22.04-b07), built on Jul 23 2022 16:13:07 by &quot;buildd&quot; with gcc 11.2.0\n</code></pre>\n<p>This message contains some possible solutions. But instead of trying each one of those solutions and cross my fingers for it to no happen again, I need to determine the exact reason why this OutOfMemory happened, try to reproduce it again and apply the correct solution.</p>\n<p>I am starting an Apache Felix instance and the command line I use to start the java app is:</p>\n<pre><code>java -Dorg.osgi.framework.bootdelegation=sun.*,com.sun.* -Dfile.encoding=UTF-8 -jar bin/felix.jar &amp;\n</code></pre>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1662481987,"post_id":73625203,"comment_id":130013590,"body_markdown":"&quot;Things are fine&quot; very much depends on what your goal and use case is.","body":"&quot;Things are fine&quot; very much depends on what your goal and use case is."},{"owner":{"account_id":24504962,"reputation":73,"user_id":18420110,"display_name":"flanker5"},"score":0,"creation_date":1662482110,"post_id":73625203,"comment_id":130013624,"body_markdown":"static methods can&#39;t be overwritten","body":"static methods can&#39;t be overwritten"},{"owner":{"account_id":7836,"reputation":16939,"user_id":13757,"accept_rate":74,"display_name":"nsayer"},"score":0,"creation_date":1662488763,"post_id":73625203,"comment_id":130015664,"body_markdown":"@luk2302 You could have been helpful, but you&#39;ve been *so* much more.","body":"@luk2302 You could have been helpful, but you&#39;ve been <i>so</i> much more."}],"owner":{"account_id":7836,"reputation":16939,"user_id":13757,"accept_rate":74,"display_name":"nsayer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1662481916,"answer_count":0,"score":0,"last_activity_date":1662481838,"creation_date":1662481838,"question_id":73625203,"body_markdown":"test.java:\r\n\r\n    public class test\r\n    {\r\n      protected static void testMethod() {}\r\n    }\r\n\r\ntestb.java:\r\n\r\n    public class testb extends test\r\n    {\r\n      @Override\r\n      protected static void testMethod() {}\r\n    }\r\n\r\nThe result:\r\n\r\n    % javac test.java testb.java\r\n    testb.java:5: error: method does not override or implement a method from a supertype\r\n    @Override\r\n    ^\r\n    1 error\r\n\r\n\r\nDoes @Override not work on static methods? If I remove it, things are fine.","title":"@Override on static methods?","body":"<p>test.java:</p>\n<pre><code>public class test\n{\n  protected static void testMethod() {}\n}\n</code></pre>\n<p>testb.java:</p>\n<pre><code>public class testb extends test\n{\n  @Override\n  protected static void testMethod() {}\n}\n</code></pre>\n<p>The result:</p>\n<pre><code>% javac test.java testb.java\ntestb.java:5: error: method does not override or implement a method from a supertype\n@Override\n^\n1 error\n</code></pre>\n<p>Does @Override not work on static methods? If I remove it, things are fine.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1297247647,"post_id":4943518,"comment_id":5512864,"body_markdown":"there are few different memory leaks in java: heap, direct buffers, perm. gen space, you can be a  victim of any of them. Show the error to get more info. My bet is &#39;heap&#39;, though. In that case you (most likely) get some `static` declared structure and add stuff to it. Alternatively you just execute some DB query that returned too much data and in such case you need to increase the max. memory for available for java. Either way, my recommendations go for reading some book on the topic. Lacking the theory behind is a bad practice.","body":"there are few different memory leaks in java: heap, direct buffers, perm. gen space, you can be a  victim of any of them. Show the error to get more info. My bet is &#39;heap&#39;, though. In that case you (most likely) get some <code>static</code> declared structure and add stuff to it. Alternatively you just execute some DB query that returned too much data and in such case you need to increase the max. memory for available for java. Either way, my recommendations go for reading some book on the topic. Lacking the theory behind is a bad practice."}],"answers":[{"tags":[],"owner":{"account_id":103447,"reputation":6421,"user_id":277084,"accept_rate":100,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297247148,"creation_date":1297247148,"answer_id":4943562,"question_id":4943518,"body_markdown":"Think of it like a bucket for holding water: a leak means it&#39;s losing water, but simply being &quot;out of space&quot; means you&#39;re trying to put too much into it! So a bucket can be out of space without any question of having a leak.\r\n","title":"What is the difference between an OutOfMemoryError and a memory leak","body":"<p>Think of it like a bucket for holding water: a leak means it's losing water, but simply being \"out of space\" means you're trying to put too much into it! So a bucket can be out of space without any question of having a leak.</p>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1662481361,"creation_date":1297247178,"answer_id":4943570,"question_id":4943518,"body_markdown":"A memory leak in Java is when objects you aren&#39;t using cannot be garbage collected because you still have a reference to them somewhere.\r\n\r\nAn `OutOfMemoryError` is thrown when there is no memory left to allocate new objects. This can be caused by a memory leak, but can also happen if you&#39;re just trying to hold too much data in memory at once.\r\n\r\nThe JDK includes useful tools like jhat and visualVM that allow you to inspect the objects in memory and the references between them. Using these you can often find the objects that are causing the problem.\r\n\r\nExample\r\n----\r\nHere is a particularly silly memory leak. The old objects are never used, but cannot be garbage collected. While it may seem ridiculous, you can easily create an equivalent leak by mistake in large projects.\r\n\r\n    public class Leaky\r\n    {\r\n      private static List&lt;Object&gt; neverRead = new ArrayList&lt;Object&gt;();\r\n      public static void main(String[] args)\r\n      {\r\n        while(true)\r\n        {\r\n          neverRead.add(new Object());\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nThis one is not a memory leak, but will usually cause an `OutOfMemoryError` somewhere.\r\n\r\n    public class Allocaty\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        long[] array = new long[Integer.MAX_VALUE];\r\n        long value = 1L;\r\n        for(int ii=Integer.MAX_VALUE; ii&gt;=0; ii--)\r\n        {\r\n          array[ii] = value++;\r\n        }\r\n        String str = Arrays.toString(array);\r\n        System.out.printf(&quot;%d: %s&quot;, array.length, str);\r\n      }\r\n    }","title":"What is the difference between an OutOfMemoryError and a memory leak","body":"<p>A memory leak in Java is when objects you aren't using cannot be garbage collected because you still have a reference to them somewhere.</p>\n<p>An <code>OutOfMemoryError</code> is thrown when there is no memory left to allocate new objects. This can be caused by a memory leak, but can also happen if you're just trying to hold too much data in memory at once.</p>\n<p>The JDK includes useful tools like jhat and visualVM that allow you to inspect the objects in memory and the references between them. Using these you can often find the objects that are causing the problem.</p>\n<h2>Example</h2>\n<p>Here is a particularly silly memory leak. The old objects are never used, but cannot be garbage collected. While it may seem ridiculous, you can easily create an equivalent leak by mistake in large projects.</p>\n<pre><code>public class Leaky\n{\n  private static List&lt;Object&gt; neverRead = new ArrayList&lt;Object&gt;();\n  public static void main(String[] args)\n  {\n    while(true)\n    {\n      neverRead.add(new Object());\n    }\n  }\n}\n</code></pre>\n<p>This one is not a memory leak, but will usually cause an <code>OutOfMemoryError</code> somewhere.</p>\n<pre><code>public class Allocaty\n{\n  public static void main(String[] args)\n  {\n    long[] array = new long[Integer.MAX_VALUE];\n    long value = 1L;\n    for(int ii=Integer.MAX_VALUE; ii&gt;=0; ii--)\n    {\n      array[ii] = value++;\n    }\n    String str = Arrays.toString(array);\n    System.out.printf(&quot;%d: %s&quot;, array.length, str);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297249441,"creation_date":1297247288,"answer_id":4943583,"question_id":4943518,"body_markdown":"&gt; When i discussed some told like this one is different from java memory leak.If so what is the difference between OutofMemory Error and Java Memory leak.\r\n\r\nThe two are closely related.  `OutOfMemoryError` is an Error (not an exception, and therefore won&#39;t be caught by a `catch(Exception e)` block) that gets thrown when the JVM runs out of memory.  A memory leak is a *possible* cause of the JVM running out of memory.  And in your case as described, I&#39;d say it is the *probable* cause.\r\n\r\n(There are other possible causes as well as memory leaks.  You may be trying to run the application on a problem that is too big for the configured heap size.  Alternatively, your might have a bug that causes it to allocate (say) a ridiculously large array.)\r\n\r\n","title":"What is the difference between an OutOfMemoryError and a memory leak","body":"<blockquote>\n  <p>When i discussed some told like this one is different from java memory leak.If so what is the difference between OutofMemory Error and Java Memory leak.</p>\n</blockquote>\n\n<p>The two are closely related.  <code>OutOfMemoryError</code> is an Error (not an exception, and therefore won't be caught by a <code>catch(Exception e)</code> block) that gets thrown when the JVM runs out of memory.  A memory leak is a <em>possible</em> cause of the JVM running out of memory.  And in your case as described, I'd say it is the <em>probable</em> cause.</p>\n\n<p>(There are other possible causes as well as memory leaks.  You may be trying to run the application on a problem that is too big for the configured heap size.  Alternatively, your might have a bug that causes it to allocate (say) a ridiculously large array.)</p>\n"}],"owner":{"account_id":165825,"reputation":401,"user_id":389568,"accept_rate":50,"display_name":"Raghavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4805,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4943570,"answer_count":3,"score":1,"last_activity_date":1662481361,"creation_date":1297246946,"question_id":4943518,"body_markdown":"I am working on a Java application, whose architecture is something like Java-EE component as one end and C++ component as the other.\r\n\r\nWhen I execute the app continiously I get `java.lang.OutOfMemoryError` in Java heap. I was told this is different from a Java memory leak. If so what is the difference between `OutOfMemoryError` and Java memory leak? And how can I analyse this with a Java profiler?","title":"What is the difference between an OutOfMemoryError and a memory leak","body":"<p>I am working on a Java application, whose architecture is something like Java-EE component as one end and C++ component as the other.</p>\n\n<p>When I execute the app continiously I get <code>java.lang.OutOfMemoryError</code> in Java heap. I was told this is different from a Java memory leak. If so what is the difference between <code>OutOfMemoryError</code> and Java memory leak? And how can I analyse this with a Java profiler?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662479834,"post_id":73624806,"comment_id":130012912,"body_markdown":"I&#39;m pretty sure that `.addEntity(MstarstarHoldings.class)` is not what you want to have here. Also note that your query returns 4 values (sum(holdings), mstar_investment_id, start_date and is_deleted) but that cast to `Long` indicates you only want one.","body":"I&#39;m pretty sure that <code>.addEntity(MstarstarHoldings.class)</code> is not what you want to have here. Also note that your query returns 4 values (sum(holdings), mstar_investment_id, start_date and is_deleted) but that cast to <code>Long</code> indicates you only want one."},{"owner":{"account_id":26259648,"reputation":23,"user_id":19931184,"display_name":"Pratik"},"score":0,"creation_date":1662479919,"post_id":73624806,"comment_id":130012940,"body_markdown":"Then what we can have there? Any workaround you can suggest?","body":"Then what we can have there? Any workaround you can suggest?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662480165,"post_id":73624806,"comment_id":130013033,"body_markdown":"Didn&#39;t use that in a while but how about  just `createNativeQuery(&quot;the query&quot;, Long.class)` and just not using `addEntity()`? Alternatively have a look at `addScalar()` for which you might have to provide an alias to `sum(holdings)`.","body":"Didn&#39;t use that in a while but how about  just <code>createNativeQuery(&quot;the query&quot;, Long.class)</code> and just not using <code>addEntity()</code>? Alternatively have a look at <code>addScalar()</code> for which you might have to provide an alias to <code>sum(holdings)</code>."},{"owner":{"account_id":26259648,"reputation":23,"user_id":19931184,"display_name":"Pratik"},"score":0,"creation_date":1662480776,"post_id":73624806,"comment_id":130013214,"body_markdown":"Just tried some updates in the code. Can you check the updated question?","body":"Just tried some updates in the code. Can you check the updated question?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662481493,"post_id":73624806,"comment_id":130013443,"body_markdown":"It seems you only updated the query and I&#39;m also not sure using `holdings` as the alias for `sum(holdings)` would work (try to &quot;unroll&quot; it: holdings = sum(holdings)? or sum(sum(sum(sum(holdings)))) etc.?).","body":"It seems you only updated the query and I&#39;m also not sure using <code>holdings</code> as the alias for <code>sum(holdings)</code> would work (try to &quot;unroll&quot; it: holdings = sum(holdings)? or sum(sum(sum(sum(holdings)))) etc.?)."},{"owner":{"account_id":26259648,"reputation":23,"user_id":19931184,"display_name":"Pratik"},"score":0,"creation_date":1662481632,"post_id":73624806,"comment_id":130013489,"body_markdown":"Used add scalar both with and withour MstarHoldings.addentity. Getting column does not exist error.","body":"Used add scalar both with and withour MstarHoldings.addentity. Getting column does not exist error."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662481818,"post_id":73624806,"comment_id":130013550,"body_markdown":"Well, does that column exist? Is the name spelled correctly?","body":"Well, does that column exist? Is the name spelled correctly?"},{"owner":{"account_id":26259648,"reputation":23,"user_id":19931184,"display_name":"Pratik"},"score":0,"creation_date":1662481940,"post_id":73624806,"comment_id":130013578,"body_markdown":"That is an alias column name. select sum(holdings) holdings","body":"That is an alias column name. select sum(holdings) holdings"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662529736,"post_id":73624806,"comment_id":130023241,"body_markdown":"Check my comments above. You can&#39;t use the alias inside `sum()` as well as to gie a name to the sum itself. Also, at some point you need to use the real column name or the DB doesn&#39;t know what the alias is refering to.","body":"Check my comments above. You can&#39;t use the alias inside <code>sum()</code> as well as to gie a name to the sum itself. Also, at some point you need to use the real column name or the DB doesn&#39;t know what the alias is refering to."}],"owner":{"account_id":26259648,"reputation":23,"user_id":19931184,"display_name":"Pratik"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662480644,"creation_date":1662479740,"question_id":73624806,"body_markdown":"I have one class named MstarHoldings and that is an object referring to the table MstarHoldings in the database which has three primary keys investmentId, start_date, and holder_id. I want to use an aggregate function sum and execute a query. I am trying the following code. I did that and I am trying to fetch single query.\r\n\r\n    Long sum = (Long) rdsSession.createNativeQuery(DBQueries.GET_FLOAT_SHARES)\r\n    \t\t\t\t\t\t\t\t.setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t.setParameter(&quot;startDate&quot;, filteredStartDate.get(i), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t.setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE).addEntity(MstarstarHoldings.class)\r\n    \t\t\r\n    \t\t\t\t\t\t\t\t.getSingleResult();\r\nThe query is as follows.\r\n\r\n    select sum(holdings) holdings &quot;\r\n\t\t\t+ &quot;where morningstar_investment_id = :investmentId and start_date between :startDate and :endDate\r\n\r\nI cannot include holder_id which is the primary key because I want only one result from this query and if I include holder_id, it gives me two records. Now I am getting the following error.\r\n\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not execute query\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103)\r\nCaused by: org.postgresql.util.PSQLException: ERROR: column &quot;holdings&quot; does not exist\r\n  Position: 12\r\n\r\nIs there any particular way and get one value without getting this error\r\n","title":"Getting aggregate function column does not exist error in hibernate","body":"<p>I have one class named MstarHoldings and that is an object referring to the table MstarHoldings in the database which has three primary keys investmentId, start_date, and holder_id. I want to use an aggregate function sum and execute a query. I am trying the following code. I did that and I am trying to fetch single query.</p>\n<pre><code>Long sum = (Long) rdsSession.createNativeQuery(DBQueries.GET_FLOAT_SHARES)\n                                .setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\n                                .setParameter(&quot;startDate&quot;, filteredStartDate.get(i), LocalDateType.INSTANCE)\n                                .setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE).addEntity(MstarstarHoldings.class)\n        \n                                .getSingleResult();\n</code></pre>\n<p>The query is as follows.</p>\n<pre><code>select sum(holdings) holdings &quot;\n        + &quot;where morningstar_investment_id = :investmentId and start_date between :startDate and :endDate\n</code></pre>\n<p>I cannot include holder_id which is the primary key because I want only one result from this query and if I include holder_id, it gives me two records. Now I am getting the following error.</p>\n<p>Caused by: org.hibernate.exception.SQLGrammarException: could not execute query\nat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103)\nCaused by: org.postgresql.util.PSQLException: ERROR: column &quot;holdings&quot; does not exist\nPosition: 12</p>\n<p>Is there any particular way and get one value without getting this error</p>\n"},{"tags":["java","rest","dictionary"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1661331941,"post_id":73470322,"comment_id":129744361,"body_markdown":"Are you sure that happens on the headers of the http response, and it&#39;s not rather some settings of postman like don&#39;t show blank values? Normally if you correctly insert the header then it should be there even if value is empty, you can easily test this by getting the response and printing all the headers code wise (without relying on postman or any other rest client which may be applying some further setting)","body":"Are you sure that happens on the headers of the http response, and it&#39;s not rather some settings of postman like don&#39;t show blank values? Normally if you correctly insert the header then it should be there even if value is empty, you can easily test this by getting the response and printing all the headers code wise (without relying on postman or any other rest client which may be applying some further setting)"},{"owner":{"account_id":10073203,"reputation":55,"user_id":7446167,"display_name":"Wijdane KHATTAT"},"score":0,"creation_date":1661333716,"post_id":73470322,"comment_id":129745086,"body_markdown":"Normally if you correctly insert the header then it should be there even if value is empty =&gt; Can you explain what do you mean by insert correctly the header please ?","body":"Normally if you correctly insert the header then it should be there even if value is empty =&gt; Can you explain what do you mean by insert correctly the header please ?"},{"owner":{"account_id":4447289,"reputation":738,"user_id":3620242,"display_name":"maddy23285"},"score":0,"creation_date":1661336642,"post_id":73470322,"comment_id":129746207,"body_markdown":"Check whether you have this property enabled in your `application.properties` file `spring.jackson.default-property-inclusion=non_empty` or `spring.jackson.default-property-inclusion=non_null` if yes, the remove this property and try again.","body":"Check whether you have this property enabled in your <code>application.properties</code> file <code>spring.jackson.default-property-inclusion=non_empty</code> or <code>spring.jackson.default-property-inclusion=non_null</code> if yes, the remove this property and try again."},{"owner":{"account_id":10073203,"reputation":55,"user_id":7446167,"display_name":"Wijdane KHATTAT"},"score":0,"creation_date":1661338292,"post_id":73470322,"comment_id":129746823,"body_markdown":"I already search for those properties but I didn&#39;t find them inside project.","body":"I already search for those properties but I didn&#39;t find them inside project."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1661340165,"post_id":73470322,"comment_id":129747490,"body_markdown":"Instead of postman, try doing the same request with curl and check the content of the headers. Are the empty values there?","body":"Instead of postman, try doing the same request with curl and check the content of the headers. Are the empty values there?"},{"owner":{"account_id":10073203,"reputation":55,"user_id":7446167,"display_name":"Wijdane KHATTAT"},"score":0,"creation_date":1661342368,"post_id":73470322,"comment_id":129748306,"body_markdown":"It gives : $ curl -X GET &quot;http://localhost:8080/api/rest/v1/streetsByCityAndZipcode?city=CHATELAIN&amp;zipcode=53200&quot;\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  2091    0  2091    0     0   1731      0 --:--:--  0:00:01 --:--:--  1730{&quot;ALLEE DES POMMIERS&quot;:&quot;04469046&quot;,&quot;BELLEVUE&quot;:&quot;01043345&quot;,&quot;CHATEAU DE MISE&quot;:&quot;01043376&quot;,&quot;CHATEAU DE MORTRAISE&quot;:&quot;01043346&quot;,&quot;CHEMIN DES VALLEES&quot;:&quot;03950740&quot;,&quot;FERME DE MORTRAISE&quot;:&quot;04214242&quot;, ...}   without empty values","body":"It gives : $ curl -X GET &quot;<a href=\"http://localhost:8080/api/rest/v1/streetsByCityAndZipcode?city=CHATELAIN&amp;zipcode=53200\" rel=\"nofollow noreferrer\">localhost:8080/api/rest/v1/&hellip;</a>&quot;   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current                                  Dload  Upload   Total   Spent    Left  Speed 100  2091    0  2091    0     0   1731      0 --:--:--  0:00:01 --:--:--  1730{&quot;ALLEE DES POMMIERS&quot;:&quot;04469046&quot;,&quot;BELLEVUE&quot;:&quot;01043345&quot;,&quot;CHATEAU DE MISE&quot;:&quot;01043376&quot;,&quot;CHATEAU DE MORTRAISE&quot;:&quot;01043346&quot;,&quot;CHEMIN DES VALLEES&quot;:&quot;03950740&quot;,&quot;FERME DE MORTRAISE&quot;:&quot;04214242&quot;, ...}   without empty values"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1661343965,"post_id":73470322,"comment_id":129748950,"body_markdown":"Ok, so it seems spring doing that. You confirm that before you return, your map contains the keys with empty values?","body":"Ok, so it seems spring doing that. You confirm that before you return, your map contains the keys with empty values?"},{"owner":{"account_id":10073203,"reputation":55,"user_id":7446167,"display_name":"Wijdane KHATTAT"},"score":0,"creation_date":1661344410,"post_id":73470322,"comment_id":129749143,"body_markdown":"Yes, I confirm.","body":"Yes, I confirm."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1661344418,"post_id":73470322,"comment_id":129749147,"body_markdown":"Anyway, it&#39;s definitely about the serializer used for the map by spring. You have at least two options here, either you return your own class instead of Map&lt;String, String&gt; (and in that object you annotate the map property to include empty values), or you customize the map serializer by injecting your own JsonSerializer for map into the spring &#39;s object mapper (there may be a spring property done for that already but I don&#39;t know it by hearth)","body":"Anyway, it&#39;s definitely about the serializer used for the map by spring. You have at least two options here, either you return your own class instead of Map&lt;String, String&gt; (and in that object you annotate the map property to include empty values), or you customize the map serializer by injecting your own JsonSerializer for map into the spring &#39;s object mapper (there may be a spring property done for that already but I don&#39;t know it by hearth)"}],"answers":[{"tags":[],"owner":{"account_id":10073203,"reputation":55,"user_id":7446167,"display_name":"Wijdane KHATTAT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662480122,"creation_date":1661423139,"answer_id":73485896,"question_id":73470322,"body_markdown":"I found the issue, it was due to this Bean config, when I remove it, it works as fine (or change SerializationInclusion to m.getObjectMapper().setSerializationInclusion(Include.ALWAYS)) : \r\n\r\n     @Bean\r\n     public JacksonFix jacksonFix(RequestMappingHandlerAdapter \r\n                                               annotationMethodHandlerAdapter) {\r\n            return new JacksonFix(annotationMethodHandlerAdapter);\r\n     }\r\n\r\n```\r\npublic class JacksonFix {\r\n    private RequestMappingHandlerAdapter annotationMethodHandlerAdapter;\r\n\r\n    public JacksonFix(RequestMappingHandlerAdapter annotationMethodHandlerAdapter) {\r\n        this.annotationMethodHandlerAdapter = annotationMethodHandlerAdapter;\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = this.annotationMethodHandlerAdapter.getMessageConverters();\r\n        Iterator var2 = messageConverters.iterator();\r\n\r\n        while(var2.hasNext()) {\r\n            HttpMessageConverter&lt;?&gt; messageConverter = (HttpMessageConverter)var2.next();\r\n            if (messageConverter instanceof MappingJackson2HttpMessageConverter) {\r\n                MappingJackson2HttpMessageConverter m = (MappingJackson2HttpMessageConverter)messageConverter;\r\n                m.getObjectMapper().setSerializationInclusion(Include.NON_EMPTY);\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Java Map empty string value is omitted when sending response to postman","body":"<p>I found the issue, it was due to this Bean config, when I remove it, it works as fine (or change SerializationInclusion to m.getObjectMapper().setSerializationInclusion(Include.ALWAYS)) :</p>\n<pre><code> @Bean\n public JacksonFix jacksonFix(RequestMappingHandlerAdapter \n                                           annotationMethodHandlerAdapter) {\n        return new JacksonFix(annotationMethodHandlerAdapter);\n }\n</code></pre>\n<pre><code>public class JacksonFix {\n    private RequestMappingHandlerAdapter annotationMethodHandlerAdapter;\n\n    public JacksonFix(RequestMappingHandlerAdapter annotationMethodHandlerAdapter) {\n        this.annotationMethodHandlerAdapter = annotationMethodHandlerAdapter;\n    }\n\n    @PostConstruct\n    public void init() {\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = this.annotationMethodHandlerAdapter.getMessageConverters();\n        Iterator var2 = messageConverters.iterator();\n\n        while(var2.hasNext()) {\n            HttpMessageConverter&lt;?&gt; messageConverter = (HttpMessageConverter)var2.next();\n            if (messageConverter instanceof MappingJackson2HttpMessageConverter) {\n                MappingJackson2HttpMessageConverter m = (MappingJackson2HttpMessageConverter)messageConverter;\n                m.getObjectMapper().setSerializationInclusion(Include.NON_EMPTY);\n            }\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10073203,"reputation":55,"user_id":7446167,"display_name":"Wijdane KHATTAT"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662480122,"creation_date":1661331724,"question_id":73470322,"body_markdown":"My map is : Map&lt;String, String&gt;. The issue is empty values are not sended to the postman even though when I debbug are there.\r\n\r\nThis is the api :\r\n```\r\n@GetMapping(value = Routes.URI_SUFFIX_DATA_ZIPCODES_BY_CITY_AND_ZIPCODE, produces = {MediaType.APPLICATION_JSON_VALUE})\r\n@RegisterMetricCallReceived(appService = &quot;getStreetsByCityAndZipCode&quot;, version = &quot;v1&quot;, type = TYPE_REST)\r\npublic Map&lt;String,String&gt; getStreetsByCityAndZipCode(HttpServletRequest request,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   @RequestParam(name = &quot;city&quot;) String city,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   @RequestParam(name = &quot;zipcode&quot;) String zipcode) {\r\n\r\n\t\tGetStreetByCityAndZipcode query = new GetStreetByCityAndZipcode();\r\n\t\tquery.setCity(city);\r\n\t\tquery.setZipcode(zipcode);\r\n\t\tMap&lt;String, String&gt; result = service.getStreets(&quot;eligibility&quot;, query).orElse(null);\r\n\t\treturn result;\r\n\t}\r\n```\r\n\r\nWhen I debugg result object , it&#39;s like that :\r\n ```\r\n&quot;PLACE DU PRIEURE&quot; -&gt; &quot;01043406&quot;\r\n&quot;ROUTE DE BIERNE&quot; -&gt; &quot;&quot;\r\n&quot;ROUTE DE GENNES SUR GLAIZE&quot; -&gt; &quot;01043405&quot;\r\n&quot;RUE COURTE&quot; -&gt; &quot;01043399&quot;\r\n&quot;RUE D ANJOU&quot; -&gt; &quot;01043398&quot;\r\n&quot;RUE DE GENNES&quot; -&gt; &quot;04311435&quot;\r\n&quot;RUE DE L EGLISE&quot; -&gt; &quot;01043397&quot;\r\n&quot;RUE DE LA CHENAIE&quot; -&gt; &quot;04106244&quot;\r\n&quot;RUE DE LA POSTE&quot; -&gt; &quot;01043400&quot;\r\n&quot;RUE DES GRANDS JARDINS&quot; -&gt; &quot;01043401&quot;\r\n&quot;RUE DES JARDINS&quot; -&gt; &quot;&quot;\r\n&quot;RUE DES SPORTS&quot; -&gt; &quot;04415887&quot;\r\n ```\r\n\r\nBut from postman, I don&#39;t receive this two :\r\n ```\r\n&quot;ROUTE DE BIERNE&quot; -&gt; &quot;&quot;\r\n&quot;RUE DES JARDINS&quot; -&gt; &quot;&quot;\r\n ```\r\nI receive just others which have not empty values:\r\n ```\r\n&quot;PLACE DU PRIEURE&quot; -&gt; &quot;01043406&quot;\r\n&quot;ROUTE DE GENNES SUR GLAIZE&quot; -&gt; &quot;01043405&quot;\r\n&quot;RUE COURTE&quot; -&gt; &quot;01043399&quot;\r\n&quot;RUE D ANJOU&quot; -&gt; &quot;01043398&quot;\r\n&quot;RUE DE GENNES&quot; -&gt; &quot;04311435&quot;\r\n&quot;RUE DE L EGLISE&quot; -&gt; &quot;01043397&quot;\r\n&quot;RUE DE LA CHENAIE&quot; -&gt; &quot;04106244&quot;\r\n&quot;RUE DE LA POSTE&quot; -&gt; &quot;01043400&quot;\r\n&quot;RUE DES GRANDS JARDINS&quot; -&gt; &quot;01043401&quot;\r\n&quot;RUE DES SPORTS&quot; -&gt; &quot;04415887&quot;\r\n ```\r\n","title":"Java Map empty string value is omitted when sending response to postman","body":"<p>My map is : Map&lt;String, String&gt;. The issue is empty values are not sended to the postman even though when I debbug are there.</p>\n<p>This is the api :</p>\n<pre><code>@GetMapping(value = Routes.URI_SUFFIX_DATA_ZIPCODES_BY_CITY_AND_ZIPCODE, produces = {MediaType.APPLICATION_JSON_VALUE})\n@RegisterMetricCallReceived(appService = &quot;getStreetsByCityAndZipCode&quot;, version = &quot;v1&quot;, type = TYPE_REST)\npublic Map&lt;String,String&gt; getStreetsByCityAndZipCode(HttpServletRequest request,\n                                                               @RequestParam(name = &quot;city&quot;) String city,\n                                                               @RequestParam(name = &quot;zipcode&quot;) String zipcode) {\n\n        GetStreetByCityAndZipcode query = new GetStreetByCityAndZipcode();\n        query.setCity(city);\n        query.setZipcode(zipcode);\n        Map&lt;String, String&gt; result = service.getStreets(&quot;eligibility&quot;, query).orElse(null);\n        return result;\n    }\n</code></pre>\n<p>When I debugg result object , it's like that :</p>\n<pre><code>&quot;PLACE DU PRIEURE&quot; -&gt; &quot;01043406&quot;\n&quot;ROUTE DE BIERNE&quot; -&gt; &quot;&quot;\n&quot;ROUTE DE GENNES SUR GLAIZE&quot; -&gt; &quot;01043405&quot;\n&quot;RUE COURTE&quot; -&gt; &quot;01043399&quot;\n&quot;RUE D ANJOU&quot; -&gt; &quot;01043398&quot;\n&quot;RUE DE GENNES&quot; -&gt; &quot;04311435&quot;\n&quot;RUE DE L EGLISE&quot; -&gt; &quot;01043397&quot;\n&quot;RUE DE LA CHENAIE&quot; -&gt; &quot;04106244&quot;\n&quot;RUE DE LA POSTE&quot; -&gt; &quot;01043400&quot;\n&quot;RUE DES GRANDS JARDINS&quot; -&gt; &quot;01043401&quot;\n&quot;RUE DES JARDINS&quot; -&gt; &quot;&quot;\n&quot;RUE DES SPORTS&quot; -&gt; &quot;04415887&quot;\n</code></pre>\n<p>But from postman, I don't receive this two :</p>\n<pre><code>&quot;ROUTE DE BIERNE&quot; -&gt; &quot;&quot;\n&quot;RUE DES JARDINS&quot; -&gt; &quot;&quot;\n</code></pre>\n<p>I receive just others which have not empty values:</p>\n<pre><code>&quot;PLACE DU PRIEURE&quot; -&gt; &quot;01043406&quot;\n&quot;ROUTE DE GENNES SUR GLAIZE&quot; -&gt; &quot;01043405&quot;\n&quot;RUE COURTE&quot; -&gt; &quot;01043399&quot;\n&quot;RUE D ANJOU&quot; -&gt; &quot;01043398&quot;\n&quot;RUE DE GENNES&quot; -&gt; &quot;04311435&quot;\n&quot;RUE DE L EGLISE&quot; -&gt; &quot;01043397&quot;\n&quot;RUE DE LA CHENAIE&quot; -&gt; &quot;04106244&quot;\n&quot;RUE DE LA POSTE&quot; -&gt; &quot;01043400&quot;\n&quot;RUE DES GRANDS JARDINS&quot; -&gt; &quot;01043401&quot;\n&quot;RUE DES SPORTS&quot; -&gt; &quot;04415887&quot;\n</code></pre>\n"},{"tags":["java","android","picasso"],"comments":[{"owner":{"account_id":1631718,"reputation":6686,"user_id":1506104,"accept_rate":64,"display_name":"user1506104"},"score":0,"creation_date":1508051658,"post_id":46752615,"comment_id":80450979,"body_markdown":"Possible duplicate of [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1508051783,"post_id":46752615,"comment_id":80451013,"body_markdown":"That Picasso operation is asynchronous. The image will not have been loaded into the `ImageView` by the time you try to retrieve it in the next line.","body":"That Picasso operation is asynchronous. The image will not have been loaded into the <code>ImageView</code> by the time you try to retrieve it in the next line."},{"owner":{"account_id":9447028,"reputation":153,"user_id":8076748,"accept_rate":33,"display_name":"Raj kumar"},"score":0,"creation_date":1508051871,"post_id":46752615,"comment_id":80451034,"body_markdown":"@MikeM. any code snippet please.","body":"@MikeM. any code snippet please."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1508052264,"post_id":46752615,"comment_id":80451115,"body_markdown":"I don&#39;t use Picasso, but it looks like `into()` is pretty flexible. I&#39;d probably do something like is shown in [this answer](https://stackoverflow.com/a/38542241), and get the `Bitmap` you need in the `onBitmapLoaded()` method.","body":"I don&#39;t use Picasso, but it looks like <code>into()</code> is pretty flexible. I&#39;d probably do something like is shown in <a href=\"https://stackoverflow.com/a/38542241\">this answer</a>, and get the <code>Bitmap</code> you need in the <code>onBitmapLoaded()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":2065639,"reputation":28794,"user_id":1841194,"accept_rate":93,"display_name":"frogatto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1508052966,"creation_date":1508052417,"answer_id":46752715,"question_id":46752615,"body_markdown":"You don&#39;t need a `ImageView` merely for downloading a image and getting its byte array. Using Picasso you can register a callback to be called when download completes.\r\n\r\n    private Target target = new Target() {\r\n        @Override\r\n        public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\r\n        }\r\n    \r\n        @Override\r\n        public void onBitmapFailed(Drawable errorDrawable) {\r\n        }\r\n    \r\n        @Override\r\n        public void onPrepareLoad(Drawable placeHolderDrawable) {\r\n        }\r\n    }\r\n\r\nUsing this callback, you can asynchronously download images:\r\n\r\n    Picasso.with(context).load(url).into(target);\r\n\r\nAlso to convert a Bitmap to a byte array, you can first compress the bitmap and then save it into a output stream:\r\n\r\n    ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n    bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n    byte[] byteArray = stream.toByteArray();\r\n\r\nIf you don&#39;t want to compress, you can use `Bitmap.copyPixelsToBuffer` method.","title":"Android - Bitmap Null object reference","body":"<p>You don't need a <code>ImageView</code> merely for downloading a image and getting its byte array. Using Picasso you can register a callback to be called when download completes.</p>\n\n<pre><code>private Target target = new Target() {\n    @Override\n    public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\n    }\n\n    @Override\n    public void onBitmapFailed(Drawable errorDrawable) {\n    }\n\n    @Override\n    public void onPrepareLoad(Drawable placeHolderDrawable) {\n    }\n}\n</code></pre>\n\n<p>Using this callback, you can asynchronously download images:</p>\n\n<pre><code>Picasso.with(context).load(url).into(target);\n</code></pre>\n\n<p>Also to convert a Bitmap to a byte array, you can first compress the bitmap and then save it into a output stream:</p>\n\n<pre><code>ByteArrayOutputStream stream = new ByteArrayOutputStream();\nbmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\nbyte[] byteArray = stream.toByteArray();\n</code></pre>\n\n<p>If you don't want to compress, you can use <code>Bitmap.copyPixelsToBuffer</code> method.</p>\n"},{"tags":[],"owner":{"account_id":2128309,"reputation":6169,"user_id":1889825,"accept_rate":38,"display_name":"Somnath Kadam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662479781,"creation_date":1662479781,"answer_id":73624813,"question_id":46752615,"body_markdown":"Thanks @frogatto, here I give detail example,\r\n\r\n    .....\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    \t.....\r\n    \r\n    \tcallingMethod();\r\n    \r\n    }\r\n    \r\n    //any method where you need byte array from image url\r\n    private void callingMethod() {\r\n    \r\n    \tTarget target = new Target() {\r\n    \t\t@Override\r\n    \t\tpublic void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\r\n    \t\t\t// Bitmap is loaded, use image here\r\n    \t\t\tByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n    \t\t\tbitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n    \t\t\tbyte[] image_arr = stream.toByteArray();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onBitmapFailed(Exception e, Drawable errorDrawable) {\r\n    \r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onPrepareLoad(Drawable placeHolderDrawable) {\r\n    \r\n    \t\t}\r\n    \t};\r\n    \r\n    \tPicasso.get().load(imageURL).into(target);\r\n    \r\n    }","title":"Android - Bitmap Null object reference","body":"<p>Thanks @frogatto, here I give detail example,</p>\n<pre><code>.....\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    .....\n\n    callingMethod();\n\n}\n\n//any method where you need byte array from image url\nprivate void callingMethod() {\n\n    Target target = new Target() {\n        @Override\n        public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\n            // Bitmap is loaded, use image here\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\n            byte[] image_arr = stream.toByteArray();\n        }\n\n        @Override\n        public void onBitmapFailed(Exception e, Drawable errorDrawable) {\n\n        }\n\n        @Override\n        public void onPrepareLoad(Drawable placeHolderDrawable) {\n\n        }\n    };\n\n    Picasso.get().load(imageURL).into(target);\n\n}\n</code></pre>\n"}],"owner":{"account_id":9447028,"reputation":153,"user_id":8076748,"accept_rate":33,"display_name":"Raj kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46752715,"answer_count":2,"score":0,"last_activity_date":1662479781,"creation_date":1508051561,"question_id":46752615,"body_markdown":"In my application I am downloading the image using Picasso and converting that image in to byte array.i am calling below this method to download and convert the image to byte array.                                                              \r\n\r\n       private byte[] convertToByte(String url) {\r\n\r\n        Picasso.with(list_my_posts.this).load(url).fit().centerCrop().into(img);\r\n        Bitmap bitmap=((BitmapDrawable)img.getDrawable()).getBitmap();\r\n        ByteArrayOutputStream stream=new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.PNG,100,stream);\r\n        byteArray= stream.toByteArray();\r\n\r\n        Toast.makeText(getApplicationContext(),&quot;Downloaded Successfully&quot;,Toast.LENGTH_LONG).show();\r\n\r\n        return byteArray;\r\n    }\r\n\r\nMy problem is I am getting error like this.                                      \r\n**Log**\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.graphics.Bitmap android.graphics.drawable.BitmapDrawable.getBitmap()&#39; on a null object reference\r\nCan anyone help me to solve this issue.","title":"Android - Bitmap Null object reference","body":"<p>In my application I am downloading the image using Picasso and converting that image in to byte array.i am calling below this method to download and convert the image to byte array.</p>\n<pre><code>   private byte[] convertToByte(String url) {\n\n    Picasso.with(list_my_posts.this).load(url).fit().centerCrop().into(img);\n    Bitmap bitmap=((BitmapDrawable)img.getDrawable()).getBitmap();\n    ByteArrayOutputStream stream=new ByteArrayOutputStream();\n    bitmap.compress(Bitmap.CompressFormat.PNG,100,stream);\n    byteArray= stream.toByteArray();\n\n    Toast.makeText(getApplicationContext(),&quot;Downloaded Successfully&quot;,Toast.LENGTH_LONG).show();\n\n    return byteArray;\n}\n</code></pre>\n<p>My problem is I am getting error like this.<br />\n<strong>Log</strong></p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'android.graphics.Bitmap android.graphics.drawable.BitmapDrawable.getBitmap()' on a null object reference\n</code></pre>\n<p>Can anyone help me to solve this issue.</p>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":1,"creation_date":1471960988,"post_id":39103392,"comment_id":65553413,"body_markdown":"Encoding issue, likely.","body":"Encoding issue, likely."},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":1,"creation_date":1471961061,"post_id":39103392,"comment_id":65553471,"body_markdown":"This is an invalid json String. Report the error to the server side dev","body":"This is an invalid json String. Report the error to the server side dev"},{"owner":{"account_id":9061976,"reputation":39,"user_id":6748245,"display_name":"asl"},"score":0,"creation_date":1471961189,"post_id":39103392,"comment_id":65553602,"body_markdown":"Hi Sharon. this is not complete JSON string. this is just the beginning part.","body":"Hi Sharon. this is not complete JSON string. this is just the beginning part."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1471961353,"post_id":39103392,"comment_id":65553741,"body_markdown":"Are you saying the browser doesn&#39;t **render** the character? That&#39;s largely different than it being in the actual raw response","body":"Are you saying the browser doesn&#39;t <b>render</b> the character? That&#39;s largely different than it being in the actual raw response"},{"owner":{"account_id":1019629,"reputation":14292,"user_id":1469259,"accept_rate":88,"display_name":"CupawnTae"},"score":1,"creation_date":1471962215,"post_id":39103392,"comment_id":65554447,"body_markdown":"That&#39;s a UTF-16 &quot;byte order mark&quot; - see https://en.wikipedia.org/wiki/Byte_order_mark","body":"That&#39;s a UTF-16 &quot;byte order mark&quot; - see <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Byte_order_mark</a>"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1471962503,"post_id":39103392,"comment_id":65554680,"body_markdown":"@CupawnTae You should post that as an answer - including that it&#39;s UTF-16 LE which you can see from the characters &quot;&#255;&#254;&quot;","body":"@CupawnTae You should post that as an answer - including that it&#39;s UTF-16 LE which you can see from the characters &quot;&#255;&#254;&quot;"},{"owner":{"account_id":9061976,"reputation":39,"user_id":6748245,"display_name":"asl"},"score":0,"creation_date":1471962527,"post_id":39103392,"comment_id":65554698,"body_markdown":"Thank you .. i will look into that.","body":"Thank you .. i will look into that."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1471962561,"post_id":39103392,"comment_id":65554734,"body_markdown":"That is broken!   A server should not put a BOM there!","body":"That is broken!   A server should not put a BOM there!"},{"owner":{"account_id":1019629,"reputation":14292,"user_id":1469259,"accept_rate":88,"display_name":"CupawnTae"},"score":0,"creation_date":1471962836,"post_id":39103392,"comment_id":65554957,"body_markdown":"@ErwinBolwidt done","body":"@ErwinBolwidt done"}],"answers":[{"tags":[],"owner":{"account_id":1019629,"reputation":14292,"user_id":1469259,"accept_rate":88,"display_name":"CupawnTae"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1471962799,"creation_date":1471962799,"answer_id":39104077,"question_id":39103392,"body_markdown":"It&#39;s a UTF-16 (little endian) &quot;byte order mark&quot; - see http://en.wikipedia.org/wiki/Byte_order_mark\n\n&gt; The byte order mark (BOM) is a Unicode character, U+FEFF BYTE ORDER MARK (BOM), whose appearance as a magic number at the start of a text stream can signal several things to a program consuming the text:\n&gt;\n&gt; - What byte order, or endianness, the text stream is stored in;\n&gt; - The fact that the text stream is Unicode, to a high level of confidence;\n&gt; - Which of several Unicode encodings that text stream is encoded as.\nBOM use is optional, and, if used, should appear at the start of the text stream.\n\nYou need to find out where the BOM is being added and eliminate it.","title":"I am getting some special character in my JSON response and i cant parse the JSON because of that","body":"<p>It's a UTF-16 (little endian) &quot;byte order mark&quot; - see <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Byte_order_mark</a></p>\n<blockquote>\n<p>The byte order mark (BOM) is a Unicode character, U+FEFF BYTE ORDER MARK (BOM), whose appearance as a magic number at the start of a text stream can signal several things to a program consuming the text:</p>\n<ul>\n<li>What byte order, or endianness, the text stream is stored in;</li>\n<li>The fact that the text stream is Unicode, to a high level of confidence;</li>\n<li>Which of several Unicode encodings that text stream is encoded as.\nBOM use is optional, and, if used, should appear at the start of the text stream.</li>\n</ul>\n</blockquote>\n<p>You need to find out where the BOM is being added and eliminate it.</p>\n"},{"tags":[],"owner":{"account_id":128127,"reputation":1197,"user_id":325736,"display_name":"Ville Laitila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662479654,"creation_date":1662479654,"answer_id":73624792,"question_id":39103392,"body_markdown":"Sometimes it is just easier to...\r\n\r\n    if s.startswith(&#39;&#239;&#187;&#191;&#39;):\r\n        s = s[len(&#39;&#239;&#187;&#191;&#39;):]\r\n    elif s.startswith(&#39;&#255;&#254;&#39;):\r\n        s = s[len(&#39;&#255;&#254;&#39;):]\r\n\r\n\r\nin order to gettings things done if in hurry and there are no ways to secure the production of payloads from different unreliable sources. \r\n","title":"I am getting some special character in my JSON response and i cant parse the JSON because of that","body":"<p>Sometimes it is just easier to...</p>\n<pre><code>if s.startswith('ï»¿'):\n    s = s[len('ï»¿'):]\nelif s.startswith('ÿþ'):\n    s = s[len('ÿþ'):]\n</code></pre>\n<p>in order to gettings things done if in hurry and there are no ways to secure the production of payloads from different unreliable sources.</p>\n"}],"owner":{"account_id":9061976,"reputation":39,"user_id":6748245,"display_name":"asl"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1117,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":39104077,"answer_count":2,"score":1,"last_activity_date":1662479654,"creation_date":1471960950,"question_id":39103392,"body_markdown":"I am getting some special character in my JSON response. When I paste the URL in the browser I cannot see any special character in the response but when I get the content as a string I get some special character and it is triggering some error. \r\n\r\nI tried saving the response to a text file and take it from there but still special character is coming. \r\n\r\nSample response is given below \r\n\r\n    &#255;&#254;{&quot;Symbol&quot;:&quot;H&quot;,&quot;Company Name&quot;:&quot;ABC&quot;}\r\n\r\n(sample is not complete JSON response. I am just posting the beginning.)\r\n\r\nWhy is this happening and how to avoid the special character?\r\n","title":"I am getting some special character in my JSON response and i cant parse the JSON because of that","body":"<p>I am getting some special character in my JSON response. When I paste the URL in the browser I cannot see any special character in the response but when I get the content as a string I get some special character and it is triggering some error. </p>\n\n<p>I tried saving the response to a text file and take it from there but still special character is coming. </p>\n\n<p>Sample response is given below </p>\n\n<pre><code>ÿþ{\"Symbol\":\"H\",\"Company Name\":\"ABC\"}\n</code></pre>\n\n<p>(sample is not complete JSON response. I am just posting the beginning.)</p>\n\n<p>Why is this happening and how to avoid the special character?</p>\n"},{"tags":["java","spring","spring-boot","insomnia"],"comments":[{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1662481783,"post_id":73624732,"comment_id":130013536,"body_markdown":"What is *Insomnia*? also, please have a look at [how to ask a question page](https://stackoverflow.com/help/how-to-ask).","body":"What is <i>Insomnia</i>? also, please have a look at <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question page</a>."},{"owner":{"account_id":26262012,"reputation":3,"user_id":19933176,"display_name":"insomnius"},"score":0,"creation_date":1662650953,"post_id":73624732,"comment_id":130060036,"body_markdown":"It&#39;s a desktop client for interacting with HTTP-based APIs, so you can send requests.","body":"It&#39;s a desktop client for interacting with HTTP-based APIs, so you can send requests."}],"owner":{"account_id":26262012,"reputation":3,"user_id":19933176,"display_name":"insomnius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662479300,"creation_date":1662479300,"question_id":73624732,"body_markdown":"I heard it is possible to create/define models for REST applications (e.g. in Java/Spring Boot) with Insomnia. \r\nHowever I couldn&#39;t find anything helpful so far. \r\nAlso in the documentation and the plugin section I found nothing. \r\nDid anyone hear about this?","title":"Create models for REST application in Spring Boot with Insomnia","body":"<p>I heard it is possible to create/define models for REST applications (e.g. in Java/Spring Boot) with Insomnia.\nHowever I couldn't find anything helpful so far.\nAlso in the documentation and the plugin section I found nothing.\nDid anyone hear about this?</p>\n"},{"tags":["java","spring","spring-mvc","jpa"],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662479278,"creation_date":1662479278,"answer_id":73624727,"question_id":73623376,"body_markdown":"Use entity manager to fetch the entity you want to delete and then call entity manager remove\r\n```\r\n// Fetch taxInfo using PK\r\n\r\nGeoTaxInfoPK taxInfoPK = new GeoTaxInfoPK();\r\ntaxInfoPK.setReqId(id);\r\ntaxInfoPK.setGeoTaxInfoId(geoTaxInfoId);\r\n\r\nGeoTaxInfo taxInfo = entityManager.find(GeoTaxInfo.class, taxInfoPK);\r\n\r\n// Delete taxInfo\r\n\r\nentityManager.remove(taxInfo);\r\n```","title":"Deleting or removing the previous entity that was first created and saved when the method is executed again","body":"<p>Use entity manager to fetch the entity you want to delete and then call entity manager remove</p>\n<pre><code>// Fetch taxInfo using PK\n\nGeoTaxInfoPK taxInfoPK = new GeoTaxInfoPK();\ntaxInfoPK.setReqId(id);\ntaxInfoPK.setGeoTaxInfoId(geoTaxInfoId);\n\nGeoTaxInfo taxInfo = entityManager.find(GeoTaxInfo.class, taxInfoPK);\n\n// Delete taxInfo\n\nentityManager.remove(taxInfo);\n</code></pre>\n"}],"owner":{"account_id":20785132,"reputation":31,"user_id":16750862,"display_name":"user16750862"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662479278,"creation_date":1662473015,"question_id":73623376,"body_markdown":"          if (&quot;LOCAL&quot;.equals(data.getCustGrp()) &amp;&amp; StringUtils.isNotBlank(data.getTaxCd1())) {\r\n            doCreateARDefaultTaxRecord(&quot;01&quot;, data.getTaxCd1(), data.getId().getReqId(), entityManager, true, true, true);\r\n            doCreateARDefaultTaxRecord(&quot;11&quot;, data.getTaxCd1(), data.getId().getReqId(), entityManager, false, false, false);\r\n            doCreateARDefaultTaxRecord(&quot;02&quot;, data.getTaxCd1(), data.getId().getReqId(), entityManager, false, false, false);\r\n            doCreateARDefaultTaxRecord(&quot;07&quot;, data.getTaxCd1(), data.getId().getReqId(), entityManager, false, false, false);\r\n            doCreateARDefaultTaxRecord(&quot;12&quot;, data.getTaxCd1(), data.getId().getReqId(), entityManager, false, false, false);\r\n          } else {\r\n            doCreateDefaultTaxRecord(&quot;&quot;, &quot;1&quot;, data.getId().getReqId(), entityManager, true, true);\r\n          }\r\n\r\nI have the `if()` statement above in which it creates a single entry if it fails to meet the condition. However, when the user make changes from the UI, `if()` statement above will be executed again and check the conditions, if it now does meet the conditions, it now creates a set of predefined entries. BUT the problem is, the first entry that was created is there alongside with the predefined entries that was created after that.\r\n\r\nNow, what I am trying to achieve is to delete the single entry that was created by `doCreateDefaultTaxRecord`. I have tried `entityManager.merge()` and `entityManager.remove()` but I still can&#39;t figure it out to work.\r\n\r\nAre there any ways to implement the behavior? So that when it goes to execute `doCreateARDefaultTaxRecord`, it will first delete the single entry that has been created by `doCreateDefaultTaxRecord` and proceed to do the rest.\r\n```\r\n  private void doCreateARDefaultTaxRecord(String defaultTaxcd, String dataTaxCd, long reqId, EntityManager entityManager, boolean taxSepIndc,\r\n      boolean contPntIndc, boolean cntryUse) {\r\n    TaxInfoService taxService = new TaxInfoService();\r\n    GeoTaxInfo taxInfo = new GeoTaxInfo();\r\n    GeoTaxInfoPK taxInfoPK = new GeoTaxInfoPK();\r\n    Admin reqAdmin = null;\r\n\r\n    try {\r\n      reqAdmin = new AdminService().getCurrentRecordById(reqId, entityManager);\r\n    } catch (Exception ex) {\r\n      LOG.error(&quot;doCreateARDefaultTaxRecord : &quot; + ex.getMessage());\r\n      reqAdmin = new Admin();\r\n    }\r\n\r\n    if (taxService.getTaxInfoCountByReqId(entityManager, reqId) &lt;= 4 &amp;&amp; reqAdmin.getReqType().equalsIgnoreCase(CmrConstants.REQ_TYPE_CREATE)) {\r\n\r\n      entityManager.remove(taxInfo);\r\n\r\n      taxInfoPK.setReqId(reqId);\r\n      taxInfoPK.setGeoTaxInfoId(taxService.generateGeoTaxInfoID(entityManager, reqId));\r\n\r\n      taxInfo.setTaxCd(defaultTaxcd); /* predefined value */\r\n\r\n      if (taxSepIndc) {\r\n        taxInfo.setTaxSeparationIndc(&quot;07&quot;); /* predefined value */\r\n      } else {\r\n        taxInfo.setTaxSeparationIndc(&quot;N&quot;); /* predefined value */\r\n      }\r\n\r\n      if (cntryUse) {\r\n        taxInfo.setCntryUse(&quot;&quot;); /* predefined value */\r\n      } else {\r\n        taxInfo.setCntryUse(&quot;0000&quot;); /* predefined value */\r\n      }\r\n\r\n      if (contPntIndc) {\r\n        taxInfo.setContractPrintIndc(&quot;&quot;); /* predefined value */\r\n      } else {\r\n        taxInfo.setContractPrintIndc(&quot;N&quot;); /* predefined value */\r\n      }\r\n\r\n      taxInfo.setTaxNum(dataTaxCd);\r\n\r\n      taxInfo.setCreateById(reqAdmin.getRequesterId());\r\n      taxInfo.setCreateTs(SystemUtil.getCurrentTimestamp());\r\n      taxInfo.setId(taxInfoPK);\r\n      entityManager.merge(taxInfo);\r\n      entityManager.flush();\r\n    }\r\n  }\r\n```\r\n```\r\n  private void doCreateDefaultTaxRecord(String defaultBillingPrintIndc, String defaultTaxSepIndc, long reqId, EntityManager entMan, boolean indcFlag,\r\n      boolean dumTaxCd) {\r\n    TaxInfoService taxService = new TaxInfoService();\r\n    GeoTaxInfo taxInfo = new GeoTaxInfo();\r\n    GeoTaxInfoPK taxInfoPK = new GeoTaxInfoPK();\r\n    Admin reqAdmin = null;\r\n    try {\r\n      reqAdmin = new AdminService().getCurrentRecordById(reqId, entMan);\r\n    } catch (Exception ex) {\r\n      LOG.error(&quot;doCreateDefaultTaxRecord : &quot; + ex.getMessage());\r\n      reqAdmin = new Admin();\r\n    }\r\n    if (taxService.getTaxInfoCountByReqId(entMan, reqId) &lt;= 0 &amp;&amp; reqAdmin.getReqType().equalsIgnoreCase(CmrConstants.REQ_TYPE_CREATE)) {\r\n      taxInfoPK.setReqId(reqId);\r\n      taxInfoPK.setGeoTaxInfoId(taxService.generateGeoTaxInfoID(entMan, reqId));\r\n      if (indcFlag) {\r\n        taxInfo.setTaxSeparationIndc(defaultTaxSepIndc);\r\n      } else {\r\n        taxInfo.setTaxSeparationIndc(defaultTaxSepIndc);\r\n        taxInfo.setBillingPrintIndc(defaultBillingPrintIndc);\r\n      }\r\n      taxInfo.setContractPrintIndc(&quot;&quot;);/* dummy value */\r\n      taxInfo.setCntryUse(&quot;&quot;);/* dummy value */\r\n\r\n      if (dumTaxCd) {\r\n        taxInfo.setTaxCd(&quot;&quot;);/* dummy value */\r\n      } else {\r\n        taxInfo.setTaxCd(&quot;01&quot;);/* dummy value */\r\n      }\r\n\r\n      taxInfo.setTaxNum(&quot;&quot;);/* dummy value */\r\n      \r\n      taxInfo.setCreateById(reqAdmin.getRequesterId());\r\n      taxInfo.setCreateTs(SystemUtil.getCurrentTimestamp());\r\n      taxInfo.setId(taxInfoPK);\r\n      entMan.persist(taxInfo);\r\n      entMan.flush();\r\n    }\r\n  }\r\n```","title":"Deleting or removing the previous entity that was first created and saved when the method is executed again","body":"<pre><code>      if (&quot;LOCAL&quot;.equals(data.getCustGrp()) &amp;&amp; StringUtils.isNotBlank(data.getTaxCd1())) {\n        doCreateARDefaultTaxRecord(&quot;01&quot;, data.getTaxCd1(), data.getId().getReqId(), entityManager, true, true, true);\n        doCreateARDefaultTaxRecord(&quot;11&quot;, data.getTaxCd1(), data.getId().getReqId(), entityManager, false, false, false);\n        doCreateARDefaultTaxRecord(&quot;02&quot;, data.getTaxCd1(), data.getId().getReqId(), entityManager, false, false, false);\n        doCreateARDefaultTaxRecord(&quot;07&quot;, data.getTaxCd1(), data.getId().getReqId(), entityManager, false, false, false);\n        doCreateARDefaultTaxRecord(&quot;12&quot;, data.getTaxCd1(), data.getId().getReqId(), entityManager, false, false, false);\n      } else {\n        doCreateDefaultTaxRecord(&quot;&quot;, &quot;1&quot;, data.getId().getReqId(), entityManager, true, true);\n      }\n</code></pre>\n<p>I have the <code>if()</code> statement above in which it creates a single entry if it fails to meet the condition. However, when the user make changes from the UI, <code>if()</code> statement above will be executed again and check the conditions, if it now does meet the conditions, it now creates a set of predefined entries. BUT the problem is, the first entry that was created is there alongside with the predefined entries that was created after that.</p>\n<p>Now, what I am trying to achieve is to delete the single entry that was created by <code>doCreateDefaultTaxRecord</code>. I have tried <code>entityManager.merge()</code> and <code>entityManager.remove()</code> but I still can't figure it out to work.</p>\n<p>Are there any ways to implement the behavior? So that when it goes to execute <code>doCreateARDefaultTaxRecord</code>, it will first delete the single entry that has been created by <code>doCreateDefaultTaxRecord</code> and proceed to do the rest.</p>\n<pre><code>  private void doCreateARDefaultTaxRecord(String defaultTaxcd, String dataTaxCd, long reqId, EntityManager entityManager, boolean taxSepIndc,\n      boolean contPntIndc, boolean cntryUse) {\n    TaxInfoService taxService = new TaxInfoService();\n    GeoTaxInfo taxInfo = new GeoTaxInfo();\n    GeoTaxInfoPK taxInfoPK = new GeoTaxInfoPK();\n    Admin reqAdmin = null;\n\n    try {\n      reqAdmin = new AdminService().getCurrentRecordById(reqId, entityManager);\n    } catch (Exception ex) {\n      LOG.error(&quot;doCreateARDefaultTaxRecord : &quot; + ex.getMessage());\n      reqAdmin = new Admin();\n    }\n\n    if (taxService.getTaxInfoCountByReqId(entityManager, reqId) &lt;= 4 &amp;&amp; reqAdmin.getReqType().equalsIgnoreCase(CmrConstants.REQ_TYPE_CREATE)) {\n\n      entityManager.remove(taxInfo);\n\n      taxInfoPK.setReqId(reqId);\n      taxInfoPK.setGeoTaxInfoId(taxService.generateGeoTaxInfoID(entityManager, reqId));\n\n      taxInfo.setTaxCd(defaultTaxcd); /* predefined value */\n\n      if (taxSepIndc) {\n        taxInfo.setTaxSeparationIndc(&quot;07&quot;); /* predefined value */\n      } else {\n        taxInfo.setTaxSeparationIndc(&quot;N&quot;); /* predefined value */\n      }\n\n      if (cntryUse) {\n        taxInfo.setCntryUse(&quot;&quot;); /* predefined value */\n      } else {\n        taxInfo.setCntryUse(&quot;0000&quot;); /* predefined value */\n      }\n\n      if (contPntIndc) {\n        taxInfo.setContractPrintIndc(&quot;&quot;); /* predefined value */\n      } else {\n        taxInfo.setContractPrintIndc(&quot;N&quot;); /* predefined value */\n      }\n\n      taxInfo.setTaxNum(dataTaxCd);\n\n      taxInfo.setCreateById(reqAdmin.getRequesterId());\n      taxInfo.setCreateTs(SystemUtil.getCurrentTimestamp());\n      taxInfo.setId(taxInfoPK);\n      entityManager.merge(taxInfo);\n      entityManager.flush();\n    }\n  }\n</code></pre>\n<pre><code>  private void doCreateDefaultTaxRecord(String defaultBillingPrintIndc, String defaultTaxSepIndc, long reqId, EntityManager entMan, boolean indcFlag,\n      boolean dumTaxCd) {\n    TaxInfoService taxService = new TaxInfoService();\n    GeoTaxInfo taxInfo = new GeoTaxInfo();\n    GeoTaxInfoPK taxInfoPK = new GeoTaxInfoPK();\n    Admin reqAdmin = null;\n    try {\n      reqAdmin = new AdminService().getCurrentRecordById(reqId, entMan);\n    } catch (Exception ex) {\n      LOG.error(&quot;doCreateDefaultTaxRecord : &quot; + ex.getMessage());\n      reqAdmin = new Admin();\n    }\n    if (taxService.getTaxInfoCountByReqId(entMan, reqId) &lt;= 0 &amp;&amp; reqAdmin.getReqType().equalsIgnoreCase(CmrConstants.REQ_TYPE_CREATE)) {\n      taxInfoPK.setReqId(reqId);\n      taxInfoPK.setGeoTaxInfoId(taxService.generateGeoTaxInfoID(entMan, reqId));\n      if (indcFlag) {\n        taxInfo.setTaxSeparationIndc(defaultTaxSepIndc);\n      } else {\n        taxInfo.setTaxSeparationIndc(defaultTaxSepIndc);\n        taxInfo.setBillingPrintIndc(defaultBillingPrintIndc);\n      }\n      taxInfo.setContractPrintIndc(&quot;&quot;);/* dummy value */\n      taxInfo.setCntryUse(&quot;&quot;);/* dummy value */\n\n      if (dumTaxCd) {\n        taxInfo.setTaxCd(&quot;&quot;);/* dummy value */\n      } else {\n        taxInfo.setTaxCd(&quot;01&quot;);/* dummy value */\n      }\n\n      taxInfo.setTaxNum(&quot;&quot;);/* dummy value */\n      \n      taxInfo.setCreateById(reqAdmin.getRequesterId());\n      taxInfo.setCreateTs(SystemUtil.getCurrentTimestamp());\n      taxInfo.setId(taxInfoPK);\n      entMan.persist(taxInfo);\n      entMan.flush();\n    }\n  }\n</code></pre>\n"},{"tags":["java","sftp","jsch","private-key"],"answers":[{"tags":[],"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1595999798,"creation_date":1595950056,"answer_id":63137680,"question_id":63137475,"body_markdown":"The stacktrace is telling you what&#39;s wrong.  \r\n\r\n&gt; Can&#39;t change directory: /Inbox/ARR_SI_MedicalTranscriptionBillCorp_PD_20200724_32137.TXT\r\n\r\nProblem is with:\r\n```\r\nchannelSftp.cd(SFTPWORKINGDIR);\r\n```\r\n\r\nHere you are passing filename but its expecting a directory (`cd` stands for Change Directory). You cannot do CD to a file.\r\n\r\n\r\nIf you pass a folder/path it would work. Try the following :\r\n\r\n```\r\nchannelSftp.cd(&quot;/Inbox/a_folder/&quot;);\r\n```\r\n\r\n----------\r\n\r\n**How to Download All:**\r\nReference: https://ganeshtiwaridotcomdotnp.blogspot.com/2020/07/download-files-from-ftp-using-jsch-java.html\r\n\r\nIn order to download all files, first list all files in root folder, iterate over it.. if its a file download, if its a folder list the content and keep doing it recursively for sub folders.\r\n\r\n**The following is an example of how to download files from a defined folder:**\r\n \r\n\r\n    import com.jcraft.jsch.*;\r\n    \r\n    import java.util.Properties;\r\n    import java.util.Vector;\r\n    \r\n    public class JschDownload {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Session session = null;\r\n            Channel channel = null;\r\n            JSch jsch = new JSch();\r\n            try {\r\n                session = jsch.getSession(&quot;demo&quot;, &quot;test.rebex.net&quot;, 22);\r\n                session.setPassword(&quot;password&quot;);\r\n                Properties config = new Properties();\r\n                config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                session.setConfig(config);\r\n                session.connect();\r\n                System.out.println(&quot;session connect&quot;);\r\n    \r\n    \r\n                channel = session.openChannel(&quot;sftp&quot;);\r\n                channel.connect();\r\n                System.out.println(&quot;Connected&quot;);\r\n    \r\n                ChannelSftp channelSftp = (ChannelSftp) channel;\r\n                downloadFromFolder(channelSftp, &quot;/&quot;);\r\n                downloadFromFolder(channelSftp, &quot;/pub/example/&quot;);\r\n    \r\n                System.out.println(&quot;File Uploaded to FTP Server Sucessfully.&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n    \r\n            } finally {\r\n                if (channel != null) {\r\n                    channel.disconnect();\r\n                }\r\n                session.disconnect();\r\n            }\r\n    \r\n        }\r\n    \r\n        static void downloadFromFolder(ChannelSftp channelSftp, String folder) throws SftpException {\r\n            Vector&lt;ChannelSftp.LsEntry&gt; entries = channelSftp.ls(folder);\r\n            System.out.println(entries);\r\n    \r\n            //download all from root folder\r\n            for (ChannelSftp.LsEntry en : entries) {\r\n                if (en.getFilename().equals(&quot;.&quot;) || en.getFilename().equals(&quot;..&quot;) || en.getAttrs().isDir()) {\r\n                    continue;\r\n                }\r\n    \r\n                System.out.println(en.getFilename());\r\n                channelSftp.get(folder + en.getFilename(), en.getFilename());\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n \r\n\r\nRefer to http://www.jcraft.com/jsch/examples/ for examples and documentation of the jsch library.","title":"downloading all files from sftp server in java","body":"<p>The stacktrace is telling you what's wrong.</p>\n<blockquote>\n<p>Can't change directory: /Inbox/ARR_SI_MedicalTranscriptionBillCorp_PD_20200724_32137.TXT</p>\n</blockquote>\n<p>Problem is with:</p>\n<pre><code>channelSftp.cd(SFTPWORKINGDIR);\n</code></pre>\n<p>Here you are passing filename but its expecting a directory (<code>cd</code> stands for Change Directory). You cannot do CD to a file.</p>\n<p>If you pass a folder/path it would work. Try the following :</p>\n<pre><code>channelSftp.cd(&quot;/Inbox/a_folder/&quot;);\n</code></pre>\n<hr />\n<p><strong>How to Download All:</strong>\nReference: <a href=\"https://ganeshtiwaridotcomdotnp.blogspot.com/2020/07/download-files-from-ftp-using-jsch-java.html\" rel=\"nofollow noreferrer\">https://ganeshtiwaridotcomdotnp.blogspot.com/2020/07/download-files-from-ftp-using-jsch-java.html</a></p>\n<p>In order to download all files, first list all files in root folder, iterate over it.. if its a file download, if its a folder list the content and keep doing it recursively for sub folders.</p>\n<p><strong>The following is an example of how to download files from a defined folder:</strong></p>\n<pre><code>import com.jcraft.jsch.*;\n\nimport java.util.Properties;\nimport java.util.Vector;\n\npublic class JschDownload {\n\n    public static void main(String[] args) {\n\n        Session session = null;\n        Channel channel = null;\n        JSch jsch = new JSch();\n        try {\n            session = jsch.getSession(&quot;demo&quot;, &quot;test.rebex.net&quot;, 22);\n            session.setPassword(&quot;password&quot;);\n            Properties config = new Properties();\n            config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n            session.setConfig(config);\n            session.connect();\n            System.out.println(&quot;session connect&quot;);\n\n\n            channel = session.openChannel(&quot;sftp&quot;);\n            channel.connect();\n            System.out.println(&quot;Connected&quot;);\n\n            ChannelSftp channelSftp = (ChannelSftp) channel;\n            downloadFromFolder(channelSftp, &quot;/&quot;);\n            downloadFromFolder(channelSftp, &quot;/pub/example/&quot;);\n\n            System.out.println(&quot;File Uploaded to FTP Server Sucessfully.&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        } finally {\n            if (channel != null) {\n                channel.disconnect();\n            }\n            session.disconnect();\n        }\n\n    }\n\n    static void downloadFromFolder(ChannelSftp channelSftp, String folder) throws SftpException {\n        Vector&lt;ChannelSftp.LsEntry&gt; entries = channelSftp.ls(folder);\n        System.out.println(entries);\n\n        //download all from root folder\n        for (ChannelSftp.LsEntry en : entries) {\n            if (en.getFilename().equals(&quot;.&quot;) || en.getFilename().equals(&quot;..&quot;) || en.getAttrs().isDir()) {\n                continue;\n            }\n\n            System.out.println(en.getFilename());\n            channelSftp.get(folder + en.getFilename(), en.getFilename());\n        }\n    }\n\n}\n</code></pre>\n<p>Refer to <a href=\"http://www.jcraft.com/jsch/examples/\" rel=\"nofollow noreferrer\">http://www.jcraft.com/jsch/examples/</a> for examples and documentation of the jsch library.</p>\n"},{"tags":[],"owner":{"account_id":15224382,"reputation":1,"user_id":10985429,"display_name":"Nadhem Mohamed Rached"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662478388,"creation_date":1662478341,"answer_id":73624559,"question_id":63137475,"body_markdown":"here a recursive methode to get all files in sub folder also  \r\n\r\n    private void downloadFromFolder( String remotePath, String localPath ) throws SftpException {\r\n    \t try\r\n    \t {\r\n        Vector&lt;ChannelSftp.LsEntry&gt; entries = channel.ls(remotePath);\r\n        System.out.println(entries);\r\n\r\n        //download all from root folder\r\n        for (ChannelSftp.LsEntry en : entries) {\r\n        \tif(!en.getFilename().equals(&quot;.&quot;) &amp;&amp; !en.getFilename().equals(&quot;..&quot;) &amp;&amp; en.getAttrs().isDir())\r\n        \t{\r\n        \t    Path path = Paths.get(localPath + &quot;\\\\&quot; + en.getFilename());\r\n        \t    Files.createDirectories(path);\r\n        \t\tdownloadFromFolder(remotePath + &quot;/&quot; + en.getFilename(),path.toString());\r\n        \t\tcontinue;\r\n        \t}\r\n            if (en.getFilename().equals(&quot;.&quot;) || en.getFilename().equals(&quot;..&quot;)) {\r\n                continue;\r\n            }\r\n\r\n            System.out.println(en.getFilename());\r\n            channel.get(remotePath + &quot;/&quot; + en.getFilename(), localPath + &quot;\\\\&quot; + en.getFilename());\r\n        }\r\n    \t }catch(Exception e)\r\n    \t {\r\n    \t\t \r\n    \t }\r\n    }","title":"downloading all files from sftp server in java","body":"<p>here a recursive methode to get all files in sub folder also</p>\n<pre><code>private void downloadFromFolder( String remotePath, String localPath ) throws SftpException {\n     try\n     {\n    Vector&lt;ChannelSftp.LsEntry&gt; entries = channel.ls(remotePath);\n    System.out.println(entries);\n\n    //download all from root folder\n    for (ChannelSftp.LsEntry en : entries) {\n        if(!en.getFilename().equals(&quot;.&quot;) &amp;&amp; !en.getFilename().equals(&quot;..&quot;) &amp;&amp; en.getAttrs().isDir())\n        {\n            Path path = Paths.get(localPath + &quot;\\\\&quot; + en.getFilename());\n            Files.createDirectories(path);\n            downloadFromFolder(remotePath + &quot;/&quot; + en.getFilename(),path.toString());\n            continue;\n        }\n        if (en.getFilename().equals(&quot;.&quot;) || en.getFilename().equals(&quot;..&quot;)) {\n            continue;\n        }\n\n        System.out.println(en.getFilename());\n        channel.get(remotePath + &quot;/&quot; + en.getFilename(), localPath + &quot;\\\\&quot; + en.getFilename());\n    }\n     }catch(Exception e)\n     {\n         \n     }\n}\n</code></pre>\n"}],"owner":{"account_id":981581,"reputation":1284,"user_id":1065397,"accept_rate":100,"display_name":"Adeel Aslam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5836,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63137680,"answer_count":2,"score":1,"last_activity_date":1662478388,"creation_date":1595949401,"question_id":63137475,"body_markdown":"I am trying to Download All files from folder on SFTP server , Below is my Code Please suggest changes so i can download All available files from remote directory and can save to Local Directory\r\n\r\n    package svb.ftp.bs.load;\r\n    \r\n    import com.jcraft.jsch.JSchException;\r\n    import com.jcraft.jsch.SftpException;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    \r\n    import com.jcraft.jsch.Channel;\r\n    import com.jcraft.jsch.ChannelSftp;\r\n    import com.jcraft.jsch.JSch;\r\n    \r\n    import java.io.InputStream;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.io.StringWriter;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.apache.commons.net.ftp.FTP;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    import com.jcraft.jsch.Channel;\r\n    import com.jcraft.jsch.ChannelExec;\r\n    import com.jcraft.jsch.ChannelSftp;\r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.JSchException;\r\n    import com.jcraft.jsch.Session;\r\n    import com.jcraft.jsch.SftpException;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    import java.util.Vector;\r\n    \r\n    public class downloadFtp {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String SFTPHOST = &quot;host&quot;;\r\n            int SFTPPORT = 22;\r\n            String SFTPUSER = &quot;user&quot;;\r\n            String SFTPPASS = &quot;Pass&quot;;\r\n            String privateKey = &quot;E:\\\\Oracle\\\\mywork\\\\DownloadFTP\\\\ppk.ppk&quot;;\r\n            String SFTPWORKINGDIR = &quot;Inbox/ARR_SI_MedicalTranscriptionBillCorp_PD_20200724_32137.TXT&quot;;\r\n    \r\n            com.jcraft.jsch.Session session = null;\r\n            Channel channel = null;\r\n            ChannelSftp channelSftp = null;\r\n            JSch jsch = new JSch();\r\n            try {\r\n                jsch.addIdentity(privateKey);\r\n                session = jsch.getSession(SFTPUSER, SFTPHOST, SFTPPORT);\r\n                session.setPassword(SFTPPASS);\r\n                java.util.Properties config = new java.util.Properties();\r\n                config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                session.setConfig(config);\r\n                session.connect();\r\n                channel = session.openChannel(&quot;sftp&quot;);\r\n                channel.connect();\r\n                System.out.println(&quot;Connected&quot;);\r\n                channelSftp = (ChannelSftp) channel;\r\n                channelSftp.cd(SFTPWORKINGDIR);\r\n    \r\n                \r\n                InputStream is = channelSftp.get(SFTPWORKINGDIR);\r\n                IOUtils.copy(is, System.out);\r\n                is.close();\r\n    \r\n    \r\n                System.out.println(&quot;File Uploaded to FTP Server Sucessfully.&quot;);\r\n            } catch (JSchException jse) {\r\n                // TODO: Add catch code\r\n                jse.printStackTrace();\r\n            } catch (SftpException se) {\r\n                // TODO: Add catch code\r\n                se.printStackTrace();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n           \r\n    \r\n        }\r\n    }\r\n\r\nCurrently when i run the code it show below error\r\n\r\n    4: Can&#39;t change directory: /Inbox/ARR_SI_MedicalTranscriptionBillCorp_PD_20200724_32137.TXT\r\n    \tat com.jcraft.jsch.ChannelSftp.cd(ChannelSftp.java:350)\r\n    \tat svb.ftp.bs.load.downloadFtp.main(downloadFtp.java:67)\r\n    Process exited with exit code 0.\r\n\r\n","title":"downloading all files from sftp server in java","body":"<p>I am trying to Download All files from folder on SFTP server , Below is my Code Please suggest changes so i can download All available files from remote directory and can save to Local Directory</p>\n<pre><code>package svb.ftp.bs.load;\n\nimport com.jcraft.jsch.JSchException;\nimport com.jcraft.jsch.SftpException;\n\nimport java.io.FileNotFoundException;\nimport java.io.File;\nimport java.io.FileInputStream;\n\nimport com.jcraft.jsch.Channel;\nimport com.jcraft.jsch.ChannelSftp;\nimport com.jcraft.jsch.JSch;\n\nimport java.io.InputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.io.StringWriter;\n\nimport java.util.List;\n\nimport org.apache.commons.net.ftp.FTP;\n\nimport org.apache.commons.io.IOUtils;\n\nimport org.junit.Test;\n\nimport com.jcraft.jsch.Channel;\nimport com.jcraft.jsch.ChannelExec;\nimport com.jcraft.jsch.ChannelSftp;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.JSchException;\nimport com.jcraft.jsch.Session;\nimport com.jcraft.jsch.SftpException;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport java.util.Vector;\n\npublic class downloadFtp {\n\n    public static void main(String[] args) {\n\n        String SFTPHOST = &quot;host&quot;;\n        int SFTPPORT = 22;\n        String SFTPUSER = &quot;user&quot;;\n        String SFTPPASS = &quot;Pass&quot;;\n        String privateKey = &quot;E:\\\\Oracle\\\\mywork\\\\DownloadFTP\\\\ppk.ppk&quot;;\n        String SFTPWORKINGDIR = &quot;Inbox/ARR_SI_MedicalTranscriptionBillCorp_PD_20200724_32137.TXT&quot;;\n\n        com.jcraft.jsch.Session session = null;\n        Channel channel = null;\n        ChannelSftp channelSftp = null;\n        JSch jsch = new JSch();\n        try {\n            jsch.addIdentity(privateKey);\n            session = jsch.getSession(SFTPUSER, SFTPHOST, SFTPPORT);\n            session.setPassword(SFTPPASS);\n            java.util.Properties config = new java.util.Properties();\n            config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n            session.setConfig(config);\n            session.connect();\n            channel = session.openChannel(&quot;sftp&quot;);\n            channel.connect();\n            System.out.println(&quot;Connected&quot;);\n            channelSftp = (ChannelSftp) channel;\n            channelSftp.cd(SFTPWORKINGDIR);\n\n            \n            InputStream is = channelSftp.get(SFTPWORKINGDIR);\n            IOUtils.copy(is, System.out);\n            is.close();\n\n\n            System.out.println(&quot;File Uploaded to FTP Server Sucessfully.&quot;);\n        } catch (JSchException jse) {\n            // TODO: Add catch code\n            jse.printStackTrace();\n        } catch (SftpException se) {\n            // TODO: Add catch code\n            se.printStackTrace();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n       \n\n    }\n}\n</code></pre>\n<p>Currently when i run the code it show below error</p>\n<pre><code>4: Can't change directory: /Inbox/ARR_SI_MedicalTranscriptionBillCorp_PD_20200724_32137.TXT\n    at com.jcraft.jsch.ChannelSftp.cd(ChannelSftp.java:350)\n    at svb.ftp.bs.load.downloadFtp.main(downloadFtp.java:67)\nProcess exited with exit code 0.\n</code></pre>\n"},{"tags":["java","mysql","sql","jdbc"],"comments":[{"owner":{"account_id":2482826,"reputation":13761,"user_id":2161954,"accept_rate":93,"display_name":"SnakeDoc"},"score":1,"creation_date":1390550981,"post_id":21327012,"comment_id":32149335,"body_markdown":"This thread may be informative: http://www.java-forums.org/jdbc/69824-proper-use-preparedstatment.html","body":"This thread may be informative: <a href=\"http://www.java-forums.org/jdbc/69824-proper-use-preparedstatment.html\" rel=\"nofollow noreferrer\">java-forums.org/jdbc/69824-proper-use-preparedstatment.html</a>"},{"owner":{"display_name":"user330315"},"score":4,"creation_date":1390565277,"post_id":21327012,"comment_id":32157472,"body_markdown":"Re-using the `Statement` instance is definitely possible even recommended for performance reasons.","body":"Re-using the <code>Statement</code> instance is definitely possible even recommended for performance reasons."},{"owner":{"account_id":17067803,"reputation":453,"user_id":12743240,"display_name":"gcr"},"score":0,"creation_date":1615578071,"post_id":21327012,"comment_id":117743969,"body_markdown":"That link is dead. I only mention it because it says ```Database error\nThe database has encountered a problem``` which is pretty ironic.","body":"That link is dead. I only mention it because it says <code>Database error The database has encountered a problem</code> which is pretty ironic."}],"answers":[{"tags":[],"owner":{"account_id":404199,"reputation":5595,"user_id":772385,"accept_rate":100,"display_name":"Durandal"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1452609989,"creation_date":1390549562,"answer_id":21327137,"question_id":21327012,"body_markdown":"Yes you can re-use a `Statement`(specifically a `PreparedStatement`) and should do so in general with JDBC. It would be inefficient &amp; bad style if you didn&#39;t re-use your statement and immediately created another identical `Statement` object. As far as closing it, it would be appropriate to close it in a finally block, just as you are in this snippet.\r\n\r\nFor an example of what you&#39;re asking check out this link: [jOOq Docs][1]\r\n\r\n\r\n  [1]: http://www.jooq.org/doc/3.2/manual/sql-execution/reusing-statements/#N129B1","title":"Execute multiple queries using a single JDBC Statement object","body":"<p>Yes you can re-use a <code>Statement</code>(specifically a <code>PreparedStatement</code>) and should do so in general with JDBC. It would be inefficient &amp; bad style if you didn't re-use your statement and immediately created another identical <code>Statement</code> object. As far as closing it, it would be appropriate to close it in a finally block, just as you are in this snippet.</p>\n\n<p>For an example of what you're asking check out this link: <a href=\"http://www.jooq.org/doc/3.2/manual/sql-execution/reusing-statements/#N129B1\" rel=\"noreferrer\">jOOq Docs</a></p>\n"},{"tags":[],"owner":{"account_id":3308297,"reputation":1129,"user_id":2782393,"display_name":"Grmpfhmbl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1390550055,"creation_date":1390550055,"answer_id":21327262,"question_id":21327012,"body_markdown":"I can&#39;t find anything in the [API docs][1] that would state, that you shouldn&#39;t call `executeQuery()` on a given `PreparedStatement` instance more than once.\r\n\r\nHowever your code does not close the `PreparedStatement` - a call to `executeQuery()` would throw a `SQLException` in that case - but the `ResultSet` that is returned by `executeQuery()`. A ResultSet is [automatically closed][2], when you reexecute a `PreparedStatement`. Depending on your circumstances you should close it, when you don&#39;t need it anymore. I would close it, because i think it&#39;s bad style not to do so.\r\n\r\n***UPDATE*** Upps, I missed your comment between the two try blocks. If you close your PreparedStatement at this point, you shouldn&#39;t be able to call executeQuery() again without getting a SQLException.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#executeQuery%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#close%28%29","title":"Execute multiple queries using a single JDBC Statement object","body":"<p>I can't find anything in the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#executeQuery%28%29\" rel=\"nofollow\">API docs</a> that would state, that you shouldn't call <code>executeQuery()</code> on a given <code>PreparedStatement</code> instance more than once.</p>\n\n<p>However your code does not close the <code>PreparedStatement</code> - a call to <code>executeQuery()</code> would throw a <code>SQLException</code> in that case - but the <code>ResultSet</code> that is returned by <code>executeQuery()</code>. A ResultSet is <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#close%28%29\" rel=\"nofollow\">automatically closed</a>, when you reexecute a <code>PreparedStatement</code>. Depending on your circumstances you should close it, when you don't need it anymore. I would close it, because i think it's bad style not to do so.</p>\n\n<p><em><strong>UPDATE</em></strong> Upps, I missed your comment between the two try blocks. If you close your PreparedStatement at this point, you shouldn't be able to call executeQuery() again without getting a SQLException.</p>\n"},{"tags":[],"owner":{"account_id":2482826,"reputation":13761,"user_id":2161954,"accept_rate":93,"display_name":"SnakeDoc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1438848303,"creation_date":1390550495,"answer_id":21327383,"question_id":21327012,"body_markdown":"A `Prepared Statement` tells the database to remember your query and to be prepared to accept parameterized variables to execute in that query. It&#39;s a lot like a stored procedure. \r\n\r\n`Prepared Statement` accomplishes two main things:\r\n\r\n1. It automatically escapes your query variables to help guard against SQL Injection.\r\n\r\n2. It tells the database to remember the query and be ready to take variables.\r\n\r\nNumber 2 is important because it means the database only has to interpret your query once, and then it has the procedure ready to go. So it improves performance.\r\n\r\nYou should not close a prepared statement and/or the database connection in between execute calls. Doing so is incredibly in-efficient and it will cause more overhead than using a plain old `Statement` since you instruct the database each time to create a procedure and remember it. Even if the database is configured for &quot;hot spots&quot; and remembers your query anyways even if you close the `PreparedStatement`, you still incur network overhead as well as small processing time.\r\n\r\nIn short, keep the `Connection` and `PreparedStatement` open until you are done with them.\r\n\r\nEdit: To comment on not returning a `ResultSet` from the execution, this is fine. `executeQuery` will return the `ResultSet` for whatever query just executed.","title":"Execute multiple queries using a single JDBC Statement object","body":"<p>A <code>Prepared Statement</code> tells the database to remember your query and to be prepared to accept parameterized variables to execute in that query. It's a lot like a stored procedure. </p>\n\n<p><code>Prepared Statement</code> accomplishes two main things:</p>\n\n<ol>\n<li><p>It automatically escapes your query variables to help guard against SQL Injection.</p></li>\n<li><p>It tells the database to remember the query and be ready to take variables.</p></li>\n</ol>\n\n<p>Number 2 is important because it means the database only has to interpret your query once, and then it has the procedure ready to go. So it improves performance.</p>\n\n<p>You should not close a prepared statement and/or the database connection in between execute calls. Doing so is incredibly in-efficient and it will cause more overhead than using a plain old <code>Statement</code> since you instruct the database each time to create a procedure and remember it. Even if the database is configured for \"hot spots\" and remembers your query anyways even if you close the <code>PreparedStatement</code>, you still incur network overhead as well as small processing time.</p>\n\n<p>In short, keep the <code>Connection</code> and <code>PreparedStatement</code> open until you are done with them.</p>\n\n<p>Edit: To comment on not returning a <code>ResultSet</code> from the execution, this is fine. <code>executeQuery</code> will return the <code>ResultSet</code> for whatever query just executed.</p>\n"},{"tags":[],"owner":{"account_id":1994409,"reputation":187,"user_id":1787652,"accept_rate":50,"display_name":"mojiayi"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1390550926,"creation_date":1390550926,"answer_id":21327506,"question_id":21327012,"body_markdown":"Firstly I am confused about your code\r\n\r\n    s = con.prepareStatement();\r\n\r\nIs it work well?I can&#39;t find such function in JAVA API,at least one parameter is needed.Maybe you want to invoke this function\r\n\r\n    s = con.createStatement();\r\n\r\nI just ran my code to access DB2 for twice with one single Statement instance without close it between two operation.It&#39;s work well.I think you can try it yourself too.\r\n\r\n\t\tString sql = &quot;&quot;;\r\n\t\tString sql2 = &quot;&quot;;\r\n\t\tString driver = &quot;com.ibm.db2.jcc.DB2Driver&quot;;\r\n\t\tString url = &quot;jdbc:db2://ip:port/DBNAME&quot;;\r\n\t\tString user = &quot;user&quot;;\r\n\t\tString password = &quot;password&quot;;\r\n\t\tClass.forName(driver).newInstance();\r\n\t\tConnection conn = DriverManager.getConnection(url, user, password);\r\n\t\tStatement statement = conn.createStatement();\r\n\t\tResultSet resultSet = statement.executeQuery(sql);\r\n\t\tint count = 0;\r\n\t\twhile (resultSet.next()) {\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Result row count of query number one is: &quot; + count);\r\n\t\tcount = 0;\r\n\t\tresultSet = statement.executeQuery(sql2);\r\n\t\twhile (resultSet.next()) {\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Result row count of query number two is: &quot; + count);","title":"Execute multiple queries using a single JDBC Statement object","body":"<p>Firstly I am confused about your code</p>\n\n<pre><code>s = con.prepareStatement();\n</code></pre>\n\n<p>Is it work well?I can't find such function in JAVA API,at least one parameter is needed.Maybe you want to invoke this function</p>\n\n<pre><code>s = con.createStatement();\n</code></pre>\n\n<p>I just ran my code to access DB2 for twice with one single Statement instance without close it between two operation.It's work well.I think you can try it yourself too.</p>\n\n<pre><code>    String sql = \"\";\n    String sql2 = \"\";\n    String driver = \"com.ibm.db2.jcc.DB2Driver\";\n    String url = \"jdbc:db2://ip:port/DBNAME\";\n    String user = \"user\";\n    String password = \"password\";\n    Class.forName(driver).newInstance();\n    Connection conn = DriverManager.getConnection(url, user, password);\n    Statement statement = conn.createStatement();\n    ResultSet resultSet = statement.executeQuery(sql);\n    int count = 0;\n    while (resultSet.next()) {\n        count++;\n    }\n    System.out.println(\"Result row count of query number one is: \" + count);\n    count = 0;\n    resultSet = statement.executeQuery(sql2);\n    while (resultSet.next()) {\n        count++;\n    }\n    System.out.println(\"Result row count of query number two is: \" + count);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1390565214,"creation_date":1390564866,"answer_id":21332157,"question_id":21327012,"body_markdown":"I am not sure why you are asking. The API design and documentation show it is perfectly fine (and even intended) to reuse a `Statement` object for multiple `execute`, `executeUpdate` and `executeQuery` calls. If it wouldn&#39;t be allowed that would be explicitly documented in the Java doc (and likely the API would be different).\r\n\r\nFurthermore the apidoc of [`Statement`][1] says:\r\n\r\n&gt; All execution methods in the `Statement` interface implicitly close a statment&#39;s [*sic*] current `ResultSet` object if an open one exists.\r\n\r\nThis is an indication that you can use it multiple times.\r\n\r\nTL;DR: Yes, you can call `execute` on single `Statement` object multiple times, as long as you realize that any previously opened `ResultSet` will be closed.\r\n\r\nYour example incorrectly uses `PreparedStatement`, and you cannot (or: should not) be able to call any of the [`execute...` methods accepting a `String`][2] on a `PreparedStatement`:\r\n\r\n&gt; `SQLException` - if [...] the method is called on a `PreparedStatement` or `CallableStatement`\r\n\r\nBut to answer for `PreparedStatement` as well: the whole purpose of a `PreparedStatement` is to precompile a statement with parameter placeholders and reuse it for multiple executions with different parameter values.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#execute%28java.lang.String%29","title":"Execute multiple queries using a single JDBC Statement object","body":"<p>I am not sure why you are asking. The API design and documentation show it is perfectly fine (and even intended) to reuse a <code>Statement</code> object for multiple <code>execute</code>, <code>executeUpdate</code> and <code>executeQuery</code> calls. If it wouldn't be allowed that would be explicitly documented in the Java doc (and likely the API would be different).</p>\n\n<p>Furthermore the apidoc of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html\" rel=\"noreferrer\"><code>Statement</code></a> says:</p>\n\n<blockquote>\n  <p>All execution methods in the <code>Statement</code> interface implicitly close a statment's [<em>sic</em>] current <code>ResultSet</code> object if an open one exists.</p>\n</blockquote>\n\n<p>This is an indication that you can use it multiple times.</p>\n\n<p>TL;DR: Yes, you can call <code>execute</code> on single <code>Statement</code> object multiple times, as long as you realize that any previously opened <code>ResultSet</code> will be closed.</p>\n\n<p>Your example incorrectly uses <code>PreparedStatement</code>, and you cannot (or: should not) be able to call any of the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#execute%28java.lang.String%29\" rel=\"noreferrer\"><code>execute...</code> methods accepting a <code>String</code></a> on a <code>PreparedStatement</code>:</p>\n\n<blockquote>\n  <p><code>SQLException</code> - if [...] the method is called on a <code>PreparedStatement</code> or <code>CallableStatement</code></p>\n</blockquote>\n\n<p>But to answer for <code>PreparedStatement</code> as well: the whole purpose of a <code>PreparedStatement</code> is to precompile a statement with parameter placeholders and reuse it for multiple executions with different parameter values.</p>\n"}],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93878,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":21332157,"answer_count":5,"score":29,"last_activity_date":1662478345,"creation_date":1390549092,"question_id":21327012,"body_markdown":"In JDBC, can I use single `Statement` object to call `executeQuery(&quot;&quot;)` multiple times? Is it safe? Or should I close the statement object after each query, and create new object for executing another query.\r\n\r\nE.G:\r\n\r\n    Connection con;\r\n    Statement s;\r\n    ResultSet rs;\r\n    ResultSet rs2;\r\n    try\r\n    {\r\n        con = getConnection();\r\n        // Initially I was creating the Statement object in an\r\n        // incorrect way. It was just intended to be a pseudocode.\r\n        // But too many answerers misinterpretted it wrongly. Sorry \r\n        // for that. I corrected the question now. Following is the \r\n        // wrong way, commented out now. \r\n        // s = con.prepareStatement();\r\n        \r\n        // Following is the way which is correct and fits for my question.\r\n        s = con.createStatement();\r\n    \r\n        try\r\n        {\r\n            rs = s.executeQuery(&quot;.......................&quot;);\r\n    \r\n            // process the result set rs\r\n        }\r\n        finally\r\n        {\r\n            close(rs);\r\n        }\r\n    \r\n        // I know what to do to rs here\r\n        // But I am asking, should I close the Statement s here? Or can I use it again for the next query?\r\n    \r\n        try\r\n        {\r\n            rs2 = s.executeQuery(&quot;.......................&quot;);\r\n    \r\n            // process the result set rs2\r\n        }\r\n        finally\r\n        {\r\n            close(rs2);\r\n        }\r\n    }\r\n    finally\r\n    {\r\n        close(s);\r\n        close(con);\r\n    }\r\n","title":"Execute multiple queries using a single JDBC Statement object","body":"<p>In JDBC, can I use single <code>Statement</code> object to call <code>executeQuery(&quot;&quot;)</code> multiple times? Is it safe? Or should I close the statement object after each query, and create new object for executing another query.</p>\n<p>E.G:</p>\n<pre><code>Connection con;\nStatement s;\nResultSet rs;\nResultSet rs2;\ntry\n{\n    con = getConnection();\n    // Initially I was creating the Statement object in an\n    // incorrect way. It was just intended to be a pseudocode.\n    // But too many answerers misinterpretted it wrongly. Sorry \n    // for that. I corrected the question now. Following is the \n    // wrong way, commented out now. \n    // s = con.prepareStatement();\n    \n    // Following is the way which is correct and fits for my question.\n    s = con.createStatement();\n\n    try\n    {\n        rs = s.executeQuery(&quot;.......................&quot;);\n\n        // process the result set rs\n    }\n    finally\n    {\n        close(rs);\n    }\n\n    // I know what to do to rs here\n    // But I am asking, should I close the Statement s here? Or can I use it again for the next query?\n\n    try\n    {\n        rs2 = s.executeQuery(&quot;.......................&quot;);\n\n        // process the result set rs2\n    }\n    finally\n    {\n        close(rs2);\n    }\n}\nfinally\n{\n    close(s);\n    close(con);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","http","http-protocols"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1662477122,"post_id":73624058,"comment_id":130011797,"body_markdown":"Are you sure that this actually does time out?","body":"Are you sure that this actually does time out?"},{"owner":{"account_id":21734037,"reputation":55,"user_id":16042294,"display_name":"Pouria Saleh"},"score":0,"creation_date":1662524955,"post_id":73624058,"comment_id":130022369,"body_markdown":"some how because I heard timeout duration is 20-60 seconds","body":"some how because I heard timeout duration is 20-60 seconds"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1662478235,"creation_date":1662476676,"answer_id":73624173,"question_id":73624058,"body_markdown":"For the &quot;default container&quot; that would be:\r\n\r\n[`server.tomcat.connection-timeout`](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.tomcat.connection-timeout)   \r\n\r\n[tag:spring-boot] property.\r\n\r\nIn this case (JSON body), also:\r\n\r\n[`server.tomcat.max-swallow-size`](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.tomcat.max-swallow-size)\r\n\r\nsounds important.\r\n\r\nAlso relevant:\r\n\r\n    server.tomcat.keep-alive-timeout\r\n    // Time to wait for another HTTP request before the connection is closed. When not set the connectionTimeout is used. When set to -1 there will be no timeout.\r\n\r\nand maybe: \r\n\r\n    server.tomcat.max-connections\r\n\r\nAnd:\r\n    \r\n    server.tomcat.max-keep-alive-requests\r\n\r\nFor other/reactive containers best: search the linked site for &quot;timeout&quot; :)","title":"increase HTTP request connection timeout in spring boot","body":"<p>For the &quot;default container&quot; that would be:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.tomcat.connection-timeout\" rel=\"noreferrer\"><code>server.tomcat.connection-timeout</code></a></p>\n<p><a href=\"/questions/tagged/spring-boot\" class=\"post-tag\" title=\"show questions tagged &#39;spring-boot&#39;\" rel=\"tag\" aria-labelledby=\"spring-boot-container\">spring-boot</a> property.</p>\n<p>In this case (JSON body), also:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.tomcat.max-swallow-size\" rel=\"noreferrer\"><code>server.tomcat.max-swallow-size</code></a></p>\n<p>sounds important.</p>\n<p>Also relevant:</p>\n<pre><code>server.tomcat.keep-alive-timeout\n// Time to wait for another HTTP request before the connection is closed. When not set the connectionTimeout is used. When set to -1 there will be no timeout.\n</code></pre>\n<p>and maybe:</p>\n<pre><code>server.tomcat.max-connections\n</code></pre>\n<p>And:</p>\n<pre><code>server.tomcat.max-keep-alive-requests\n</code></pre>\n<p>For other/reactive containers best: search the linked site for &quot;timeout&quot; :)</p>\n"}],"owner":{"account_id":21734037,"reputation":55,"user_id":16042294,"display_name":"Pouria Saleh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4377,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1662478235,"creation_date":1662476039,"question_id":73624058,"body_markdown":"I&#39;m going to send an array of about 5 millions of records in json format in my spring boot app . is there any way to increase http request timeout in order to prevent from connection timeout?","title":"increase HTTP request connection timeout in spring boot","body":"<p>I'm going to send an array of about 5 millions of records in json format in my spring boot app . is there any way to increase http request timeout in order to prevent from connection timeout?</p>\n"},{"tags":["java","sql-server","postgresql"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1662478734,"post_id":73624184,"comment_id":130012502,"body_markdown":"The jTDS driver is horribly outdated. You should be using the Microsoft JDBC driver instead.","body":"The jTDS driver is horribly outdated. You should be using the Microsoft JDBC driver instead."},{"owner":{"account_id":21344626,"reputation":735,"user_id":15714806,"display_name":"Den"},"score":0,"creation_date":1666624312,"post_id":73624184,"comment_id":130975647,"body_markdown":"Have you resolve this issue? I have the same problem...","body":"Have you resolve this issue? I have the same problem..."},{"owner":{"account_id":4517644,"reputation":148,"user_id":3671974,"display_name":"Udi Aslan"},"score":0,"creation_date":1667226716,"post_id":73624184,"comment_id":131114014,"body_markdown":"SQL server may listen to more than one port!\nRun\nUSE MASTER\nGO\nxp_readerrorlog 0, 1, N&#39;Server is listening on&#39;\nGO\nAnd try to take the other port. \nThis worked for me.","body":"SQL server may listen to more than one port! Run USE MASTER GO xp_readerrorlog 0, 1, N&#39;Server is listening on&#39; GO And try to take the other port.  This worked for me."}],"owner":{"account_id":4517644,"reputation":148,"user_id":3671974,"display_name":"Udi Aslan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1662477981,"creation_date":1662476749,"question_id":73624184,"body_markdown":"I&#39;m trying to migrate my current SQL server (2017) to postgres (14.5) using migration toolkit (version 55).\r\n\r\nI set up he configuration file as follows:\r\n\r\n```none\r\nSRC_DB_URL=jdbc:jtds:sqlserver://localhost:55555/EFDemoDB;integratedSecurity=true;\r\nSRC_DB_USER=\r\nSRC_DB_PASSWORD=\r\nTARGET_DB_URL=jdbc:postgresql://localhost:55555/EFDemoDB\r\nTARGET_DB_USER=postgres\r\nTARGET_DB_PASSWORD=55555\r\n```\r\nAnd ran the migration tool using the following command line: \r\n\r\n```none\r\n.\\runMTK.bat  -sourcedbtype sqlserver -targetdbtype postgresql guest\r\n```\r\n\r\nThe migration tool stared executing and successfully:\r\n\r\n1. connected to the SRC DB\r\n2. connected to the TARGET DB\r\n3. Created the schema on the TARGET DB (tables, indexes and FK)\r\n\r\n**And here comes the funny part:**\r\n\r\n4. The Data loader started to work and immediately generated this error:\r\n\r\n```none\r\ncom.edb.MTKException: MTK-11009: Error Connecting Database &quot;SQL Server&quot;\r\nDB-08S01: java.sql.SQLException: I/O Error: Software caused connection abort: recv failed\r\n```\r\n\r\nPlease note: it doesn&#39;t matter if I use SQL authentication or windows authentication against SQL Server, I get the same results!\r\n\r\nHere is the full log file of the migration\r\n\r\n```none\r\n2022-09-01 23:58:18 Running EnterpriseDB Migration Toolkit (Build 55.2.3) ...\r\n\r\n2022-09-01 23:58:18 Source database connectivity info...\r\n\r\n2022-09-01 23:58:18 conn=jdbc:jtds:sqlserver://localhost:*****/EFDemoDB;integratedSecurity=true;\r\n\r\n2022-09-01 23:58:18 user =\r\n\r\n2022-09-01 23:58:18 password=******\r\n\r\n2022-09-01 23:58:18 Connecting with source SQL Server database server...\r\n\r\n2022-09-01 23:58:18 Connected to Microsoft SQL Server, version &#39;14.00.3445&#39;\r\n\r\n2022-09-01 23:58:18 Importing sql server schema guest...\r\n\r\n2022-09-01 23:58:18 Getting Table Definitions\r\n\r\n2022-09-01 23:58:19 Creating Tables...\r\n\r\n2022-09-01 23:58:19 Creating Table: guest.addresses\r\n\r\n2022-09-01 23:58:19 Creating Table: guest.emailaddresses\r\n\r\n2022-09-01 23:58:19 Creating Table: guest.people\r\n\r\n**2022-09-01 23:58:19 Created 3 tables.**\r\n\r\n2022-09-01 23:58:19 Initializing Data Loader 1...\r\n\r\n**2022-09-01 23:58:19 Data loader task failed to initialize. Reason: MTK-11009: Error Connecting Database &quot;SQL Server&quot;\r\nDB-08S01: java.sql.SQLException: I/O Error: Software caused connection abort: recv failed\r\njava.net.SocketException: Software caused connection abort: recv failed**\r\n\r\n**2022-09-01 23:58:19 MTK-11009: Error Connecting Database &quot;SQL Server&quot;\r\nDB-08S01: java.sql.SQLException: I/O Error: Software caused connection abort: recv failed\r\njava.net.SocketException: Software caused connection abort: recv failed**\r\n\r\n2022-09-01 23:58:19 Stack Trace:\r\ncom.edb.MTKException: MTK-11009: Error Connecting Database &quot;SQL Server&quot;\r\nDB-08S01: java.sql.SQLException: I/O Error: Software caused connection abort: recv failed\r\njava.net.SocketException: Software caused connection abort: recv failed\r\n\tat com.edb.common.MTKFactory.createMTKConnection(MTKFactory.java:277) ~[edb-migrationtoolkit.jar:?]\r\n\tat com.edb.MigrationToolkit.createNewSourceConnection(MigrationToolkit.java:7242) ~[edb-migrationtoolkit.jar:?]\r\n\tat com.edb.DataLoader.initialize(DataLoader.java:287) ~[edb-migrationtoolkit.jar:?]\r\n\tat com.edb.DataLoader.&lt;init&gt;(DataLoader.java:225) ~[edb-migrationtoolkit.jar:?]\r\n\tat com.edb.MigrationToolkit.copyTables(MigrationToolkit.java:5073) ~[edb-migrationtoolkit.jar:?]\r\n\tat com.edb.MigrationToolkit.copyTables(MigrationToolkit.java:4831) ~[edb-migrationtoolkit.jar:?]\r\n\tat com.edb.MigrationToolkit.importSchema(MigrationToolkit.java:4383) ~[edb-migrationtoolkit.jar:?]\r\n\tat com.edb.MigrationToolkit.main(MigrationToolkit.java:2166) [edb-migrationtoolkit.jar:?]\r\nCaused by: java.sql.SQLException: I/O Error: Software caused connection abort: recv failed\r\n\tat net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2481) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:632) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664) ~[?:1.8.0_341]\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247) ~[?:1.8.0_341]\r\n\tat com.edb.common.JTDSConnection.&lt;init&gt;(JTDSConnection.java:50) ~[edb-migrationtoolkit.jar:?]\r\n\tat com.edb.common.MTKFactory.createMTKConnection(MTKFactory.java:274) ~[edb-migrationtoolkit.jar:?]\r\n\t... 7 more\r\nCaused by: java.net.SocketException: Software caused connection abort: recv failed\r\n\tat java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_341]\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116) ~[?:1.8.0_341]\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:171) ~[?:1.8.0_341]\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141) ~[?:1.8.0_341]\r\n\tat java.io.DataInputStream.readFully(DataInputStream.java:195) ~[?:1.8.0_341]\r\n\tat java.io.DataInputStream.readFully(DataInputStream.java:169) ~[?:1.8.0_341]\r\n\tat net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:850) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:731) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:477) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:114) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2368) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:632) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184) ~[jtds-1.3.1.jar:1.3.1]\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664) ~[?:1.8.0_341]\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247) ~[?:1.8.0_341]\r\n\tat com.edb.common.JTDSConnection.&lt;init&gt;(JTDSConnection.java:50) ~[edb-migrationtoolkit.jar:?]\r\n\tat com.edb.common.MTKFactory.createMTKConnection(MTKFactory.java:274) ~[edb-migrationtoolkit.jar:?]\r\n\t... 7 more\r\n2022-09-01 23:58:19 \r\n\r\n2022-09-01 23:58:19 One or more schema objects could not be imported during the migration process. Please review the migration output for more details.\r\n\r\n2022-09-01 23:58:19 Total Elapsed Migration Time (sec): 1.122\r\n```","title":"Migrating data from sql server to postgres generated: java.net.SocketException: Software caused connection abort: recv failed","body":"<p>I'm trying to migrate my current SQL server (2017) to postgres (14.5) using migration toolkit (version 55).</p>\n<p>I set up he configuration file as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SRC_DB_URL=jdbc:jtds:sqlserver://localhost:55555/EFDemoDB;integratedSecurity=true;\nSRC_DB_USER=\nSRC_DB_PASSWORD=\nTARGET_DB_URL=jdbc:postgresql://localhost:55555/EFDemoDB\nTARGET_DB_USER=postgres\nTARGET_DB_PASSWORD=55555\n</code></pre>\n<p>And ran the migration tool using the following command line:</p>\n<pre class=\"lang-none prettyprint-override\"><code>.\\runMTK.bat  -sourcedbtype sqlserver -targetdbtype postgresql guest\n</code></pre>\n<p>The migration tool stared executing and successfully:</p>\n<ol>\n<li>connected to the SRC DB</li>\n<li>connected to the TARGET DB</li>\n<li>Created the schema on the TARGET DB (tables, indexes and FK)</li>\n</ol>\n<p><strong>And here comes the funny part:</strong></p>\n<ol start=\"4\">\n<li>The Data loader started to work and immediately generated this error:</li>\n</ol>\n<pre class=\"lang-none prettyprint-override\"><code>com.edb.MTKException: MTK-11009: Error Connecting Database &quot;SQL Server&quot;\nDB-08S01: java.sql.SQLException: I/O Error: Software caused connection abort: recv failed\n</code></pre>\n<p>Please note: it doesn't matter if I use SQL authentication or windows authentication against SQL Server, I get the same results!</p>\n<p>Here is the full log file of the migration</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-09-01 23:58:18 Running EnterpriseDB Migration Toolkit (Build 55.2.3) ...\n\n2022-09-01 23:58:18 Source database connectivity info...\n\n2022-09-01 23:58:18 conn=jdbc:jtds:sqlserver://localhost:*****/EFDemoDB;integratedSecurity=true;\n\n2022-09-01 23:58:18 user =\n\n2022-09-01 23:58:18 password=******\n\n2022-09-01 23:58:18 Connecting with source SQL Server database server...\n\n2022-09-01 23:58:18 Connected to Microsoft SQL Server, version '14.00.3445'\n\n2022-09-01 23:58:18 Importing sql server schema guest...\n\n2022-09-01 23:58:18 Getting Table Definitions\n\n2022-09-01 23:58:19 Creating Tables...\n\n2022-09-01 23:58:19 Creating Table: guest.addresses\n\n2022-09-01 23:58:19 Creating Table: guest.emailaddresses\n\n2022-09-01 23:58:19 Creating Table: guest.people\n\n**2022-09-01 23:58:19 Created 3 tables.**\n\n2022-09-01 23:58:19 Initializing Data Loader 1...\n\n**2022-09-01 23:58:19 Data loader task failed to initialize. Reason: MTK-11009: Error Connecting Database &quot;SQL Server&quot;\nDB-08S01: java.sql.SQLException: I/O Error: Software caused connection abort: recv failed\njava.net.SocketException: Software caused connection abort: recv failed**\n\n**2022-09-01 23:58:19 MTK-11009: Error Connecting Database &quot;SQL Server&quot;\nDB-08S01: java.sql.SQLException: I/O Error: Software caused connection abort: recv failed\njava.net.SocketException: Software caused connection abort: recv failed**\n\n2022-09-01 23:58:19 Stack Trace:\ncom.edb.MTKException: MTK-11009: Error Connecting Database &quot;SQL Server&quot;\nDB-08S01: java.sql.SQLException: I/O Error: Software caused connection abort: recv failed\njava.net.SocketException: Software caused connection abort: recv failed\n    at com.edb.common.MTKFactory.createMTKConnection(MTKFactory.java:277) ~[edb-migrationtoolkit.jar:?]\n    at com.edb.MigrationToolkit.createNewSourceConnection(MigrationToolkit.java:7242) ~[edb-migrationtoolkit.jar:?]\n    at com.edb.DataLoader.initialize(DataLoader.java:287) ~[edb-migrationtoolkit.jar:?]\n    at com.edb.DataLoader.&lt;init&gt;(DataLoader.java:225) ~[edb-migrationtoolkit.jar:?]\n    at com.edb.MigrationToolkit.copyTables(MigrationToolkit.java:5073) ~[edb-migrationtoolkit.jar:?]\n    at com.edb.MigrationToolkit.copyTables(MigrationToolkit.java:4831) ~[edb-migrationtoolkit.jar:?]\n    at com.edb.MigrationToolkit.importSchema(MigrationToolkit.java:4383) ~[edb-migrationtoolkit.jar:?]\n    at com.edb.MigrationToolkit.main(MigrationToolkit.java:2166) [edb-migrationtoolkit.jar:?]\nCaused by: java.sql.SQLException: I/O Error: Software caused connection abort: recv failed\n    at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2481) ~[jtds-1.3.1.jar:1.3.1]\n    at net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:632) ~[jtds-1.3.1.jar:1.3.1]\n    at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371) ~[jtds-1.3.1.jar:1.3.1]\n    at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184) ~[jtds-1.3.1.jar:1.3.1]\n    at java.sql.DriverManager.getConnection(DriverManager.java:664) ~[?:1.8.0_341]\n    at java.sql.DriverManager.getConnection(DriverManager.java:247) ~[?:1.8.0_341]\n    at com.edb.common.JTDSConnection.&lt;init&gt;(JTDSConnection.java:50) ~[edb-migrationtoolkit.jar:?]\n    at com.edb.common.MTKFactory.createMTKConnection(MTKFactory.java:274) ~[edb-migrationtoolkit.jar:?]\n    ... 7 more\nCaused by: java.net.SocketException: Software caused connection abort: recv failed\n    at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_341]\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116) ~[?:1.8.0_341]\n    at java.net.SocketInputStream.read(SocketInputStream.java:171) ~[?:1.8.0_341]\n    at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[?:1.8.0_341]\n    at java.io.DataInputStream.readFully(DataInputStream.java:195) ~[?:1.8.0_341]\n    at java.io.DataInputStream.readFully(DataInputStream.java:169) ~[?:1.8.0_341]\n    at net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:850) ~[jtds-1.3.1.jar:1.3.1]\n    at net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:731) ~[jtds-1.3.1.jar:1.3.1]\n    at net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:477) ~[jtds-1.3.1.jar:1.3.1]\n    at net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:114) ~[jtds-1.3.1.jar:1.3.1]\n    at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2368) ~[jtds-1.3.1.jar:1.3.1]\n    at net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:632) ~[jtds-1.3.1.jar:1.3.1]\n    at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371) ~[jtds-1.3.1.jar:1.3.1]\n    at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184) ~[jtds-1.3.1.jar:1.3.1]\n    at java.sql.DriverManager.getConnection(DriverManager.java:664) ~[?:1.8.0_341]\n    at java.sql.DriverManager.getConnection(DriverManager.java:247) ~[?:1.8.0_341]\n    at com.edb.common.JTDSConnection.&lt;init&gt;(JTDSConnection.java:50) ~[edb-migrationtoolkit.jar:?]\n    at com.edb.common.MTKFactory.createMTKConnection(MTKFactory.java:274) ~[edb-migrationtoolkit.jar:?]\n    ... 7 more\n2022-09-01 23:58:19 \n\n2022-09-01 23:58:19 One or more schema objects could not be imported during the migration process. Please review the migration output for more details.\n\n2022-09-01 23:58:19 Total Elapsed Migration Time (sec): 1.122\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1662415340,"post_id":73611743,"comment_id":129995978,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":25898463,"reputation":66,"user_id":19624734,"display_name":"lpettinato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662392529,"creation_date":1662392529,"answer_id":73611817,"question_id":73611743,"body_markdown":"Just add it again as dependency in your pom.xml","title":"How to override dependency exclusions from a lib on an app that uses same version of dependency","body":"<p>Just add it again as dependency in your pom.xml</p>\n"}],"owner":{"account_id":24817909,"reputation":21,"user_id":18698545,"display_name":"Akhila K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662477520,"creation_date":1662392124,"question_id":73611743,"body_markdown":"I have a lib where I&#39;ve excluded dependency from an inhouse artifact and when I use the lib in my client application, it throws:\r\n```\r\njava.lang.ClassNotFoundException: io.confluent.monitoring.clients.interceptor.MonitoringProducerInterceptor\r\n```\r\nHow do I override this exclusion and not exclude this dependency in my app?","title":"How to override dependency exclusions from a lib on an app that uses same version of dependency","body":"<p>I have a lib where I've excluded dependency from an inhouse artifact and when I use the lib in my client application, it throws:</p>\n<pre><code>java.lang.ClassNotFoundException: io.confluent.monitoring.clients.interceptor.MonitoringProducerInterceptor\n</code></pre>\n<p>How do I override this exclusion and not exclude this dependency in my app?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":9662,"reputation":8462,"user_id":17945,"accept_rate":36,"display_name":"reinierpost"},"score":1,"creation_date":1276676154,"post_id":3051595,"comment_id":3123646,"body_markdown":"Your question is ill-specified.  The terms &quot;Latin characters&quot; and &quot;Cyrillic characters&quot; are ill-specified: there exist many different &quot;Latin&quot; and &quot;Cyrillic&quot; character sets.  If you&#39;re thinking of something specific, such as two specific Windows character sets, please say so in your question.  In Java, Strings use Unicode, not any such character sets, so the question as formulated doesn&#39;t make sense, and you are probably going to need transliterations from/to such character sets and Unicode.","body":"Your question is ill-specified.  The terms &quot;Latin characters&quot; and &quot;Cyrillic characters&quot; are ill-specified: there exist many different &quot;Latin&quot; and &quot;Cyrillic&quot; character sets.  If you&#39;re thinking of something specific, such as two specific Windows character sets, please say so in your question.  In Java, Strings use Unicode, not any such character sets, so the question as formulated doesn&#39;t make sense, and you are probably going to need transliterations from/to such character sets and Unicode."},{"owner":{"account_id":9185902,"reputation":481,"user_id":6828137,"accept_rate":57,"display_name":"p_sutherland"},"score":0,"creation_date":1498414995,"post_id":3051595,"comment_id":76479576,"body_markdown":"@reinierpost The OP uses the PHP example to specify the Latin and Cyrillic characters that he is interested in &#39;translating&#39;","body":"@reinierpost The OP uses the PHP example to specify the Latin and Cyrillic characters that he is interested in &#39;translating&#39;"}],"answers":[{"tags":[],"owner":{"account_id":78263,"reputation":11435,"user_id":222851,"accept_rate":88,"display_name":"pakore"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1276677509,"creation_date":1276676270,"answer_id":3051626,"question_id":3051595,"body_markdown":"First of all you need a conversion table, defining the translation for every character.\r\n\r\nThen you read the string char by char, and use the translation table to get the translation. Easy, right?\r\n\r\nyou can use something like this:\r\n\r\n    class Translator {\r\n     HashMap&lt;String,String&gt; translation = new HashMap&lt;String,String&gt;();\r\n\r\n     public Translator(){\r\n      //Populate the translation table here;\r\n     }\r\n \r\n     public String translate(String origin){\r\n      String destiny=&quot;&quot;;\r\n      for(int i=0;i&lt;origin.length();i++){\r\n       char character = origin.charAt(i);\r\n       destiny = destiny + translation.get(Character.toString(character));\r\n      }\r\n     return destiny;\r\n     }\r\n    }\r\n\r\nAlternatively you could use \r\n\r\n    replaceEach(String text, String[] searchList, String[] replacementList) \r\n               Replaces all occurrences of Strings within another String.\r\n\r\nFrom `org.apache.commons.lang.StringUtils` .\r\nYou could populate a `String[]` with the latin characters (but as `String`), then populate another `String[]` with the cyrillic characters as `String`, and use that function.\r\n\r\n    String[] latinCharacters = [] //Populate them\r\n    String[] cyrillicCharacters = [] //Populate them\r\n    \r\n    public String translate(String origin){\r\n    return replaceEach(origin,latinCharacters,cyrillicCharacters);\r\n    }\r\n\r\n\r\n","title":"Translating strings character by character","body":"<p>First of all you need a conversion table, defining the translation for every character.</p>\n\n<p>Then you read the string char by char, and use the translation table to get the translation. Easy, right?</p>\n\n<p>you can use something like this:</p>\n\n<pre><code>class Translator {\n HashMap&lt;String,String&gt; translation = new HashMap&lt;String,String&gt;();\n\n public Translator(){\n  //Populate the translation table here;\n }\n\n public String translate(String origin){\n  String destiny=\"\";\n  for(int i=0;i&lt;origin.length();i++){\n   char character = origin.charAt(i);\n   destiny = destiny + translation.get(Character.toString(character));\n  }\n return destiny;\n }\n}\n</code></pre>\n\n<p>Alternatively you could use </p>\n\n<pre><code>replaceEach(String text, String[] searchList, String[] replacementList) \n           Replaces all occurrences of Strings within another String.\n</code></pre>\n\n<p>From <code>org.apache.commons.lang.StringUtils</code> .\nYou could populate a <code>String[]</code> with the latin characters (but as <code>String</code>), then populate another <code>String[]</code> with the cyrillic characters as <code>String</code>, and use that function.</p>\n\n<pre><code>String[] latinCharacters = [] //Populate them\nString[] cyrillicCharacters = [] //Populate them\n\npublic String translate(String origin){\nreturn replaceEach(origin,latinCharacters,cyrillicCharacters);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15254316,"reputation":1,"user_id":16007661,"display_name":"Serhio Duran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662477342,"creation_date":1662477342,"answer_id":73624334,"question_id":3051595,"body_markdown":"Easy variant: You call translateNameRusToEn method with your string\r\n\r\n    public class TranslateCharactersUtil {\r\n\r\n    public static final Map&lt;Character, String&gt; alphabetCharacters = new LinkedHashMap&lt;&gt;() {{\r\n        put(&#39;а&#39;, &quot;a&quot;); put(&#39;б&#39;, &quot;b&quot;); put(&#39;в&#39;, &quot;v&quot;); put(&#39;г&#39;, &quot;g&quot;); put(&#39;д&#39;, &quot;d&quot;);\r\n        put(&#39;е&#39;, &quot;e&quot;); put(&#39;э&#39;, &quot;e&quot;); put(&#39;ё&#39;, &quot;yo&quot;); put(&#39;ж&#39;, &quot;zh&quot;); put(&#39;з&#39;, &quot;z&quot;);\r\n        put(&#39;и&#39;, &quot;i&quot;); put(&#39;й&#39;, &quot;j&quot;); put(&#39;к&#39;, &quot;k&quot;); put(&#39;л&#39;, &quot;l&quot;); put(&#39;м&#39;, &quot;m&quot;);\r\n        put(&#39;н&#39;, &quot;n&quot;); put(&#39;о&#39;, &quot;o&quot;); put(&#39;п&#39;, &quot;p&quot;); put(&#39;р&#39;, &quot;r&quot;); put(&#39;с&#39;, &quot;s&quot;);\r\n        put(&#39;т&#39;, &quot;t&quot;); put(&#39;у&#39;, &quot;u&quot;); put(&#39;ф&#39;, &quot;f&quot;); put(&#39;х&#39;, &quot;h&quot;); put(&#39;ц&#39;, &quot;ts&quot;);\r\n        put(&#39;ч&#39;, &quot;ch&quot;); put(&#39;ш&#39;, &quot;sh&quot;); put(&#39;щ&#39;, &quot;sch&quot;); put(&#39;ь&#39;, &quot;&quot;); put(&#39;ъ&#39;, &quot;&quot;);\r\n        put(&#39;ы&#39;, &quot;y&quot;); put(&#39;ю&#39;, &quot;yu&quot;);put(&#39;я&#39;, &quot;ya&quot;); put(&#39; &#39;, &quot;-&quot;); put(&#39;.&#39;, &quot;&quot;);\r\n        put(&#39;,&#39;, &quot;&quot;);\r\n    }};\r\n\r\n\r\n    public String translateNameRusToEn(String name) {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        char[] chars = name.toLowerCase().toCharArray();\r\n        for (char symbol : chars) {\r\n          char[] newSymbols = getFromMap(symbol);\r\n            for (char newSymbol : newSymbols) {\r\n                stringBuilder.append(newSymbol);\r\n            }\r\n        }\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n    private char[] getFromMap(char symbol) {\r\n       return alphabetCharacters.getOrDefault(symbol, &quot;?&quot;).toCharArray();\r\n    }\r\n}","title":"Translating strings character by character","body":"<p>Easy variant: You call translateNameRusToEn method with your string</p>\n<pre><code>public class TranslateCharactersUtil {\n\npublic static final Map&lt;Character, String&gt; alphabetCharacters = new LinkedHashMap&lt;&gt;() {{\n    put('а', &quot;a&quot;); put('б', &quot;b&quot;); put('в', &quot;v&quot;); put('г', &quot;g&quot;); put('д', &quot;d&quot;);\n    put('е', &quot;e&quot;); put('э', &quot;e&quot;); put('ё', &quot;yo&quot;); put('ж', &quot;zh&quot;); put('з', &quot;z&quot;);\n    put('и', &quot;i&quot;); put('й', &quot;j&quot;); put('к', &quot;k&quot;); put('л', &quot;l&quot;); put('м', &quot;m&quot;);\n    put('н', &quot;n&quot;); put('о', &quot;o&quot;); put('п', &quot;p&quot;); put('р', &quot;r&quot;); put('с', &quot;s&quot;);\n    put('т', &quot;t&quot;); put('у', &quot;u&quot;); put('ф', &quot;f&quot;); put('х', &quot;h&quot;); put('ц', &quot;ts&quot;);\n    put('ч', &quot;ch&quot;); put('ш', &quot;sh&quot;); put('щ', &quot;sch&quot;); put('ь', &quot;&quot;); put('ъ', &quot;&quot;);\n    put('ы', &quot;y&quot;); put('ю', &quot;yu&quot;);put('я', &quot;ya&quot;); put(' ', &quot;-&quot;); put('.', &quot;&quot;);\n    put(',', &quot;&quot;);\n}};\n\n\npublic String translateNameRusToEn(String name) {\n    StringBuilder stringBuilder = new StringBuilder();\n    char[] chars = name.toLowerCase().toCharArray();\n    for (char symbol : chars) {\n      char[] newSymbols = getFromMap(symbol);\n        for (char newSymbol : newSymbols) {\n            stringBuilder.append(newSymbol);\n        }\n    }\n    return stringBuilder.toString();\n}\n\nprivate char[] getFromMap(char symbol) {\n   return alphabetCharacters.getOrDefault(symbol, &quot;?&quot;).toCharArray();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":68634,"reputation":34723,"user_id":200145,"accept_rate":89,"display_name":"Emanuil Rusev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9433,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1662477342,"creation_date":1276675759,"question_id":3051595,"body_markdown":"How should I go about implementing a method that gets a String composed of Latin characters to translate it into a String composed of a different set of characters, let&#39;s say Cyrillic.\r\n\r\nHere&#39;s how it&#39;s done in PHP for example:\r\n\r\n    function latin_to_cyrillic($string)\r\n    {\r\n     $array = array(\r\n      &quot;а&quot; =&gt; &quot;a&quot;,\r\n      &quot;б&quot; =&gt; &quot;b&quot;,\r\n      &quot;в&quot; =&gt; &quot;v&quot;,\r\n      &quot;г&quot; =&gt; &quot;g&quot;,\r\n      &quot;д&quot; =&gt; &quot;d&quot;,\r\n      &quot;е&quot; =&gt; &quot;e&quot;,\r\n      &quot;ж&quot; =&gt; &quot;zh&quot;,\r\n      &quot;з&quot; =&gt; &quot;z&quot;,\r\n      &quot;и&quot; =&gt; &quot;i&quot;,\r\n      &quot;й&quot; =&gt; &quot;y&quot;,\r\n      &quot;к&quot; =&gt; &quot;k&quot;,\r\n      &quot;л&quot; =&gt; &quot;l&quot;,\r\n      &quot;м&quot; =&gt; &quot;m&quot;,\r\n      &quot;н&quot; =&gt; &quot;n&quot;,\r\n      &quot;о&quot; =&gt; &quot;o&quot;,\r\n      &quot;п&quot; =&gt; &quot;p&quot;,\r\n      &quot;р&quot; =&gt; &quot;r&quot;,\r\n      &quot;с&quot; =&gt; &quot;s&quot;,\r\n      &quot;т&quot; =&gt; &quot;t&quot;,\r\n      &quot;у&quot; =&gt; &quot;u&quot;,\r\n      &quot;ф&quot; =&gt; &quot;f&quot;,\r\n      &quot;х&quot; =&gt; &quot;h&quot;,\r\n      &quot;ц&quot; =&gt; &quot;ts&quot;,\r\n      &quot;ч&quot; =&gt; &quot;ch&quot;,\r\n      &quot;ш&quot; =&gt; &quot;sh&quot;,\r\n      &quot;щ&quot; =&gt; &quot;sht&quot;,\r\n      &quot;ь&quot; =&gt; &quot;y&quot;,\r\n      &quot;ъ&quot; =&gt; &quot;a&quot;,\r\n      &quot;ю&quot; =&gt; &quot;yu&quot;,\r\n      &quot;я&quot; =&gt; &quot;ya&quot;,\r\n      &quot;А&quot; =&gt; &quot;A&quot;,\r\n      &quot;Б&quot; =&gt; &quot;B&quot;,\r\n      &quot;В&quot; =&gt; &quot;V&quot;,\r\n      &quot;Г&quot; =&gt; &quot;G&quot;,\r\n      &quot;Д&quot; =&gt; &quot;D&quot;,\r\n      &quot;Е&quot; =&gt; &quot;E&quot;,\r\n      &quot;Ж&quot; =&gt; &quot;Zh&quot;,\r\n      &quot;З&quot; =&gt; &quot;Z&quot;,\r\n      &quot;И&quot; =&gt; &quot;I&quot;,\r\n      &quot;Й&quot; =&gt; &quot;Y&quot;,\r\n      &quot;К&quot; =&gt; &quot;K&quot;,\r\n      &quot;Л&quot; =&gt; &quot;L&quot;,\r\n      &quot;М&quot; =&gt; &quot;M&quot;,\r\n      &quot;Н&quot; =&gt; &quot;N&quot;,\r\n      &quot;О&quot; =&gt; &quot;O&quot;,\r\n      &quot;П&quot; =&gt; &quot;P&quot;,\r\n      &quot;Р&quot; =&gt; &quot;R&quot;,\r\n      &quot;С&quot; =&gt; &quot;S&quot;,\r\n      &quot;Т&quot; =&gt; &quot;T&quot;,\r\n      &quot;У&quot; =&gt; &quot;U&quot;,\r\n      &quot;Ф&quot; =&gt; &quot;F&quot;,\r\n      &quot;Х&quot; =&gt; &quot;H&quot;,\r\n      &quot;Ц&quot; =&gt; &quot;Ts&quot;,\r\n      &quot;Ч&quot; =&gt; &quot;Ch&quot;,\r\n      &quot;Ш&quot; =&gt; &quot;Sh&quot;,\r\n      &quot;Щ&quot; =&gt; &quot;Sht&quot;,\r\n      &quot;Ь&quot; =&gt; &quot;Y&quot;,\r\n      &quot;Ъ&quot; =&gt; &quot;A&quot;,\r\n      &quot;Ю&quot; =&gt; &quot;Yu&quot;,\r\n      &quot;Я&quot; =&gt; &quot;Ya&quot;,\r\n      &quot;–&quot; =&gt; &quot;-&quot;);\r\n    \r\n     return str_replace(array_values($array), array_keys($array), $string);\r\n\r\n    }\r\n","title":"Translating strings character by character","body":"<p>How should I go about implementing a method that gets a String composed of Latin characters to translate it into a String composed of a different set of characters, let's say Cyrillic.</p>\n\n<p>Here's how it's done in PHP for example:</p>\n\n<pre><code>function latin_to_cyrillic($string)\n{\n $array = array(\n  \"а\" =&gt; \"a\",\n  \"б\" =&gt; \"b\",\n  \"в\" =&gt; \"v\",\n  \"г\" =&gt; \"g\",\n  \"д\" =&gt; \"d\",\n  \"е\" =&gt; \"e\",\n  \"ж\" =&gt; \"zh\",\n  \"з\" =&gt; \"z\",\n  \"и\" =&gt; \"i\",\n  \"й\" =&gt; \"y\",\n  \"к\" =&gt; \"k\",\n  \"л\" =&gt; \"l\",\n  \"м\" =&gt; \"m\",\n  \"н\" =&gt; \"n\",\n  \"о\" =&gt; \"o\",\n  \"п\" =&gt; \"p\",\n  \"р\" =&gt; \"r\",\n  \"с\" =&gt; \"s\",\n  \"т\" =&gt; \"t\",\n  \"у\" =&gt; \"u\",\n  \"ф\" =&gt; \"f\",\n  \"х\" =&gt; \"h\",\n  \"ц\" =&gt; \"ts\",\n  \"ч\" =&gt; \"ch\",\n  \"ш\" =&gt; \"sh\",\n  \"щ\" =&gt; \"sht\",\n  \"ь\" =&gt; \"y\",\n  \"ъ\" =&gt; \"a\",\n  \"ю\" =&gt; \"yu\",\n  \"я\" =&gt; \"ya\",\n  \"А\" =&gt; \"A\",\n  \"Б\" =&gt; \"B\",\n  \"В\" =&gt; \"V\",\n  \"Г\" =&gt; \"G\",\n  \"Д\" =&gt; \"D\",\n  \"Е\" =&gt; \"E\",\n  \"Ж\" =&gt; \"Zh\",\n  \"З\" =&gt; \"Z\",\n  \"И\" =&gt; \"I\",\n  \"Й\" =&gt; \"Y\",\n  \"К\" =&gt; \"K\",\n  \"Л\" =&gt; \"L\",\n  \"М\" =&gt; \"M\",\n  \"Н\" =&gt; \"N\",\n  \"О\" =&gt; \"O\",\n  \"П\" =&gt; \"P\",\n  \"Р\" =&gt; \"R\",\n  \"С\" =&gt; \"S\",\n  \"Т\" =&gt; \"T\",\n  \"У\" =&gt; \"U\",\n  \"Ф\" =&gt; \"F\",\n  \"Х\" =&gt; \"H\",\n  \"Ц\" =&gt; \"Ts\",\n  \"Ч\" =&gt; \"Ch\",\n  \"Ш\" =&gt; \"Sh\",\n  \"Щ\" =&gt; \"Sht\",\n  \"Ь\" =&gt; \"Y\",\n  \"Ъ\" =&gt; \"A\",\n  \"Ю\" =&gt; \"Yu\",\n  \"Я\" =&gt; \"Ya\",\n  \"–\" =&gt; \"-\");\n\n return str_replace(array_values($array), array_keys($array), $string);\n\n}\n</code></pre>\n"},{"tags":["java","oracle","jpa","spring-data","eclipselink"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1648477039,"post_id":71648833,"comment_id":126627138,"body_markdown":"Which database system are you using? Some JDBC drivers default to fetching all rows, and need to be explicitly configured not to do that.","body":"Which database system are you using? Some JDBC drivers default to fetching all rows, and need to be explicitly configured not to do that."},{"owner":{"account_id":18142761,"reputation":53,"user_id":13196423,"display_name":"Antxl"},"score":0,"creation_date":1648514193,"post_id":71648833,"comment_id":126638095,"body_markdown":"We are using Oracle. @rotteveel","body":"We are using Oracle. @rotteveel"}],"answers":[{"tags":[],"owner":{"account_id":11019791,"reputation":1,"user_id":8094466,"display_name":"Viktar Kavalchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662477302,"creation_date":1662477302,"answer_id":73624326,"question_id":71648833,"body_markdown":"Have the same issue, what I found is that spring-data-jpa starting from 1.11.8 version changed implementation of JpaQueryExecution.doExecute. So instead of running persistenceProvider.executeQueryWithResultStream it calls Query.getResultStream method. The default implementation for getResultStream method is getResultList().stream(). That means that instead of real streaming and using scrollable cursors it tries to put all the data in memory. Eclipselink do not overrides default behavior for getResultStream method till current version 3.0.\r\n\r\nA few options could be used here:\r\n 1. Instead of spring-data use directly JDBC like spring-data did on versions before 1.11.8.\r\n 2. Instead of eclipselink use hibernate or any other persistence provider who has full support of JPA 2.2 features.","title":"How can I avoid Stream&lt;X&gt; return type method in JpaRepository loading all data into memory with EclipseLink JPA?","body":"<p>Have the same issue, what I found is that spring-data-jpa starting from 1.11.8 version changed implementation of JpaQueryExecution.doExecute. So instead of running persistenceProvider.executeQueryWithResultStream it calls Query.getResultStream method. The default implementation for getResultStream method is getResultList().stream(). That means that instead of real streaming and using scrollable cursors it tries to put all the data in memory. Eclipselink do not overrides default behavior for getResultStream method till current version 3.0.</p>\n<p>A few options could be used here:</p>\n<ol>\n<li>Instead of spring-data use directly JDBC like spring-data did on versions before 1.11.8.</li>\n<li>Instead of eclipselink use hibernate or any other persistence provider who has full support of JPA 2.2 features.</li>\n</ol>\n"}],"owner":{"account_id":18142761,"reputation":53,"user_id":13196423,"display_name":"Antxl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662477302,"creation_date":1648476572,"question_id":71648833,"body_markdown":"We are using Spring data 2.4.4 + EclipseLink 2.7.0 (JPA 2.2) in our project. \r\n\r\nRecently, we are developing a function allowing user downloading data by xlsx, and when I test interface with large dataset, it ran out of memory (`OutOfMemoryError`) unsurprisingly. So we are considering using `Stream` tpye method in `JpaRepository` expecting EclipseLink will return a `Stream` implemented by `CursoredStream` or `ScrollableCursor`. However, it seems to behave just like getting a `List`.\r\n\r\nTo verify, I defined a method that would fetch all job orders from db:\r\n``` java\r\n@Query(&quot;select jo from JobOrder jo order by jo.oid&quot;)\r\nStream&lt;JobOrder&gt; streamAll();\r\n```\r\nAnd wrap it with a transaction:\r\n``` java\r\n@Repository\r\npublic class JobOrderTestDAO {\r\n    @Autowired\r\n    private JobOrderRepository repository;\r\n\r\n    @Transactional(readOnly = true)\r\n    public Stream&lt;JobOrder&gt; testGetAllByStream() {\r\n        return repository.streamAll();\r\n    }\r\n}\r\n```\r\nFinally, in the test, I limit the stream size to 10 and print their `oid` in console. If `Cursor` is used as container, results should be returned immediately. \r\n``` java\r\n@Autowired\r\nprivate JobOrderTestDAO testDAO;\r\n\r\n@Test\r\nvoid testGetAllByStream() {\r\n    Stream&lt;JobOrder&gt; joStream = testDAO.testGetAllByStream();\r\n    joStream.limit(10).forEach(System.out::println);\r\n    joStream.close();\r\n}\r\n```\r\nHowever, no results returned, only to find memory exploding. We checked the source code, EclipseLink seems not providing real-streaming solution for `getResultStream()` that said to &quot;provide additional capabilities&quot;. \r\n``` java\r\ndefault Stream&lt;X&gt; getResultStream() {\r\n    return getResultList().stream();\r\n}\r\n```\r\nNow we&#39;re using a somehow tricky workaround by downgrading JPA to 2.1.x. Since `StreamExecutor` will explicitly calling `Cursor` based function.\r\n```\r\nprotected Object doExecute(final AbstractJpaQuery query, JpaParametersParameterAccessor accessor) {\r\n\r\n\tif (!SurroundingTransactionDetectorMethodInterceptor.INSTANCE.isSurroundingTransactionActive()) {\r\n\t\tthrow new InvalidDataAccessApiUsageException(NO_SURROUNDING_TRANSACTION);\r\n\t}\r\n\r\n\tQuery jpaQuery = query.createQuery(accessor);\r\n\r\n\t// JPA 2.2 on the classpath\r\n\tif (streamMethod != null) {\r\n\t\treturn ReflectionUtils.invokeMethod(streamMethod, jpaQuery);\r\n\t}\r\n\r\n\t// Fall back to legacy stream execution\r\n\tPersistenceProvider persistenceProvider = PersistenceProvider.fromEntityManager(query.getEntityManager());\r\n    //Implementation here is using Cursor\r\n\tCloseableIterator&lt;Object&gt; iter = persistenceProvider.executeQueryWithResultStream(jpaQuery);\r\n\r\n\treturn StreamUtils.createStreamFromIterator(iter);\r\n}\r\n```\r\nIt may not be a good practice to exclude a jar that match the versions and reinclude a jar that has been out of date. Thus, we are seeking for a solution, that might possibly keep `JpaRepository` and `JpaSpecificationExecutor` instead of coding directly with `ExpressionBuilder` and with stream underlying `Stream`. \r\n\r\n","title":"How can I avoid Stream&lt;X&gt; return type method in JpaRepository loading all data into memory with EclipseLink JPA?","body":"<p>We are using Spring data 2.4.4 + EclipseLink 2.7.0 (JPA 2.2) in our project.</p>\n<p>Recently, we are developing a function allowing user downloading data by xlsx, and when I test interface with large dataset, it ran out of memory (<code>OutOfMemoryError</code>) unsurprisingly. So we are considering using <code>Stream</code> tpye method in <code>JpaRepository</code> expecting EclipseLink will return a <code>Stream</code> implemented by <code>CursoredStream</code> or <code>ScrollableCursor</code>. However, it seems to behave just like getting a <code>List</code>.</p>\n<p>To verify, I defined a method that would fetch all job orders from db:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select jo from JobOrder jo order by jo.oid&quot;)\nStream&lt;JobOrder&gt; streamAll();\n</code></pre>\n<p>And wrap it with a transaction:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class JobOrderTestDAO {\n    @Autowired\n    private JobOrderRepository repository;\n\n    @Transactional(readOnly = true)\n    public Stream&lt;JobOrder&gt; testGetAllByStream() {\n        return repository.streamAll();\n    }\n}\n</code></pre>\n<p>Finally, in the test, I limit the stream size to 10 and print their <code>oid</code> in console. If <code>Cursor</code> is used as container, results should be returned immediately.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate JobOrderTestDAO testDAO;\n\n@Test\nvoid testGetAllByStream() {\n    Stream&lt;JobOrder&gt; joStream = testDAO.testGetAllByStream();\n    joStream.limit(10).forEach(System.out::println);\n    joStream.close();\n}\n</code></pre>\n<p>However, no results returned, only to find memory exploding. We checked the source code, EclipseLink seems not providing real-streaming solution for <code>getResultStream()</code> that said to &quot;provide additional capabilities&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>default Stream&lt;X&gt; getResultStream() {\n    return getResultList().stream();\n}\n</code></pre>\n<p>Now we're using a somehow tricky workaround by downgrading JPA to 2.1.x. Since <code>StreamExecutor</code> will explicitly calling <code>Cursor</code> based function.</p>\n<pre><code>protected Object doExecute(final AbstractJpaQuery query, JpaParametersParameterAccessor accessor) {\n\n    if (!SurroundingTransactionDetectorMethodInterceptor.INSTANCE.isSurroundingTransactionActive()) {\n        throw new InvalidDataAccessApiUsageException(NO_SURROUNDING_TRANSACTION);\n    }\n\n    Query jpaQuery = query.createQuery(accessor);\n\n    // JPA 2.2 on the classpath\n    if (streamMethod != null) {\n        return ReflectionUtils.invokeMethod(streamMethod, jpaQuery);\n    }\n\n    // Fall back to legacy stream execution\n    PersistenceProvider persistenceProvider = PersistenceProvider.fromEntityManager(query.getEntityManager());\n    //Implementation here is using Cursor\n    CloseableIterator&lt;Object&gt; iter = persistenceProvider.executeQueryWithResultStream(jpaQuery);\n\n    return StreamUtils.createStreamFromIterator(iter);\n}\n</code></pre>\n<p>It may not be a good practice to exclude a jar that match the versions and reinclude a jar that has been out of date. Thus, we are seeking for a solution, that might possibly keep <code>JpaRepository</code> and <code>JpaSpecificationExecutor</code> instead of coding directly with <code>ExpressionBuilder</code> and with stream underlying <code>Stream</code>.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662482338,"post_id":73624254,"comment_id":130013682,"body_markdown":"Remove `@ExtendWith`, `@ContextConfiguration` and `@ WebAppConfiguration`. Remove the `@BeforeEach` method. Add `@AutoConfigureMockMvc` and `@Autowired` to `MockMvc`. You are using a resource service so shouldn&#39;t you be passing a token?","body":"Remove <code>@ExtendWith</code>, <code>@ContextConfiguration</code> and <code>@ WebAppConfiguration</code>. Remove the <code>@BeforeEach</code> method. Add <code>@AutoConfigureMockMvc</code> and <code>@Autowired</code> to <code>MockMvc</code>. You are using a resource service so shouldn&#39;t you be passing a token?"},{"owner":{"account_id":2066878,"reputation":729,"user_id":1842240,"accept_rate":50,"display_name":"tiefenauer"},"score":0,"creation_date":1662536668,"post_id":73624254,"comment_id":130025333,"body_markdown":"removed the annotations and added `@AutoConfigureMockMvc` to the class/`@Autowired` to MockMvc. However the Principal is still `null`. I am planning to pass a JWT, yes, but for the moment I would like to resolve this problem first since it&#39;s unrelated and blocking (I suppose injecting the JWT would also not work because of `HttpSecurity`","body":"removed the annotations and added <code>@AutoConfigureMockMvc</code> to the class/<code>@Autowired</code> to MockMvc. However the Principal is still <code>null</code>. I am planning to pass a JWT, yes, but for the moment I would like to resolve this problem first since it&#39;s unrelated and blocking (I suppose injecting the JWT would also not work because of <code>HttpSecurity</code>"}],"owner":{"account_id":2066878,"reputation":729,"user_id":1842240,"accept_rate":50,"display_name":"tiefenauer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662477029,"creation_date":1662477029,"question_id":73624254,"body_markdown":"I have the following controller:\r\n\r\n```java\r\n@CrossOrigin\r\n@RestController\r\n@RequestMapping(&quot;api&quot;)\r\npublic class MyController {\r\n\r\n    @GetMapping(&quot;/principal&quot;)\r\n    public void principalEndpoint(Principal user) {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        System.out.println(user);\r\n        System.out.println(authentication);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand the corresponding integration test whcich uses `@WithMockUser` as described in [the docs](https://docs.spring.io/spring-security/reference/servlet/test/index.html):\r\n\r\n```java\r\n/**\r\n * implementation according to https://docs.spring.io/spring-security/reference/servlet/test/index.html\r\n */\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@WebAppConfiguration\r\n@ContextConfiguration\r\npublic class MyControllerIT {\r\n\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n\r\n    private MockMvc mvc;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        mvc = MockMvcBuilders\r\n                .webAppContextSetup(context)\r\n                .apply(springSecurity())\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    @WithMockUser(value = &quot;Dani&quot;, username = &quot;TAATIDA3&quot;)\r\n    public void testWithPrincipal() throws Exception {\r\n        mvc.perform(get(&quot;/api/principal&quot;).principal(new PrincipalImpl()))\r\n                .andExpect(status().isOk());\r\n    }\r\n\r\n}\r\n```\r\n\r\n`PrincipalImpl` is a simple implementation of `Principal`:\r\n\r\n```java\r\npublic class PrincipalImpl implements Principal {\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;MOCKUSER&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI also have the following SpringBoot configuration to authorize requests under the `/api` path:\r\n\r\n```java\r\n@Configuration\r\n@EnableResourceServer\r\n@EnableCaching\r\n@EnableScheduling\r\n@EnableMongoAuditing\r\npublic class MyApiConfig extends ResourceServerConfigurerAdapter {\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http.antMatcher(&quot;/api/**&quot;).authorizeRequests()\r\n                .antMatchers(&quot;/api/**&quot;).not().anonymous();\r\n    }\r\n}\r\n```\r\n\r\nMy problem is that the request dispatched by `mockMvc` in `MyControllerIT` fails because a HTTP Status 401 is returned (not authorized). It would work if I change the `HttpSecurity` configuration to this\r\n\r\n```java\r\n        http.antMatcher(&quot;/api/**&quot;).authorizeRequests()\r\n                .antMatchers(&quot;/api/**&quot;).permitAll();\r\n```\r\n\r\nthen the request succeeds (HTTP status 200), but no `Principal` is injected and the Authentication object from `SecurityContextHolder.getContext().getAuthentication()` is from an anonymous user:\r\n\r\n```\r\nnull\r\nAnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n```\r\n\r\nIf I change the paths in `MyApiConfig` e.g. to this:\r\n```java\r\n        http.antMatcher(&quot;/someOtherApi/**&quot;).authorizeRequests()\r\n                .antMatchers(&quot;/someOtherApi/**&quot;).permitAll();\r\n```\r\n\r\nthen the call from `MyControllerIT` succeeds and also a `Principal` is injected, which is what I want. However, in this case the actual api under `/api/**` is not secured anymore...\r\n\r\nI&#39;m quite new to the concepts of Spring Boot Security. Somehow I would have to override the `MyApiConfig` to configure `HttpSecurity` differently for tests (or use a separate configuration for test while at the same time excluding `MyApiConfig`). How do I do that, or what&#39;s the best way to make the HttpSecurity setup not interfere with MockMvc setup?","title":"Spring Boot: Integration test with HttpSecurity","body":"<p>I have the following controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CrossOrigin\n@RestController\n@RequestMapping(&quot;api&quot;)\npublic class MyController {\n\n    @GetMapping(&quot;/principal&quot;)\n    public void principalEndpoint(Principal user) {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        System.out.println(user);\n        System.out.println(authentication);\n    }\n\n}\n</code></pre>\n<p>and the corresponding integration test whcich uses <code>@WithMockUser</code> as described in <a href=\"https://docs.spring.io/spring-security/reference/servlet/test/index.html\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * implementation according to https://docs.spring.io/spring-security/reference/servlet/test/index.html\n */\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@WebAppConfiguration\n@ContextConfiguration\npublic class MyControllerIT {\n\n    @Autowired\n    private WebApplicationContext context;\n\n    private MockMvc mvc;\n\n    @BeforeEach\n    public void setup() {\n        mvc = MockMvcBuilders\n                .webAppContextSetup(context)\n                .apply(springSecurity())\n                .build();\n    }\n\n    @Test\n    @WithMockUser(value = &quot;Dani&quot;, username = &quot;TAATIDA3&quot;)\n    public void testWithPrincipal() throws Exception {\n        mvc.perform(get(&quot;/api/principal&quot;).principal(new PrincipalImpl()))\n                .andExpect(status().isOk());\n    }\n\n}\n</code></pre>\n<p><code>PrincipalImpl</code> is a simple implementation of <code>Principal</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrincipalImpl implements Principal {\n\n    @Override\n    public String getName() {\n        return &quot;MOCKUSER&quot;;\n    }\n}\n</code></pre>\n<p>I also have the following SpringBoot configuration to authorize requests under the <code>/api</code> path:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableResourceServer\n@EnableCaching\n@EnableScheduling\n@EnableMongoAuditing\npublic class MyApiConfig extends ResourceServerConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.antMatcher(&quot;/api/**&quot;).authorizeRequests()\n                .antMatchers(&quot;/api/**&quot;).not().anonymous();\n    }\n}\n</code></pre>\n<p>My problem is that the request dispatched by <code>mockMvc</code> in <code>MyControllerIT</code> fails because a HTTP Status 401 is returned (not authorized). It would work if I change the <code>HttpSecurity</code> configuration to this</p>\n<pre class=\"lang-java prettyprint-override\"><code>        http.antMatcher(&quot;/api/**&quot;).authorizeRequests()\n                .antMatchers(&quot;/api/**&quot;).permitAll();\n</code></pre>\n<p>then the request succeeds (HTTP status 200), but no <code>Principal</code> is injected and the Authentication object from <code>SecurityContextHolder.getContext().getAuthentication()</code> is from an anonymous user:</p>\n<pre><code>null\nAnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n</code></pre>\n<p>If I change the paths in <code>MyApiConfig</code> e.g. to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        http.antMatcher(&quot;/someOtherApi/**&quot;).authorizeRequests()\n                .antMatchers(&quot;/someOtherApi/**&quot;).permitAll();\n</code></pre>\n<p>then the call from <code>MyControllerIT</code> succeeds and also a <code>Principal</code> is injected, which is what I want. However, in this case the actual api under <code>/api/**</code> is not secured anymore...</p>\n<p>I'm quite new to the concepts of Spring Boot Security. Somehow I would have to override the <code>MyApiConfig</code> to configure <code>HttpSecurity</code> differently for tests (or use a separate configuration for test while at the same time excluding <code>MyApiConfig</code>). How do I do that, or what's the best way to make the HttpSecurity setup not interfere with MockMvc setup?</p>\n"},{"tags":["java","timeout","stack-trace","long-running-processes","mutiny"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1662477175,"post_id":73624220,"comment_id":130011831,"body_markdown":"Personally I don&#39;t think a stack trace will help, because as you have found catching something in the act of timing-out is going to be very difficult.  I think instrumenting your code is a better approach.  That means throwing exceptions so the code can catch them (and take action) and logging entry and exit of key methods so you can tell who is executing when the time-out occurs.  Yes this can be a pain but it&#39;s probably necessary.  (That said there might be something way down in the OS that monitors time-outs, as there needs to be an actual timer for that to work.)","body":"Personally I don&#39;t think a stack trace will help, because as you have found catching something in the act of timing-out is going to be very difficult.  I think instrumenting your code is a better approach.  That means throwing exceptions so the code can catch them (and take action) and logging entry and exit of key methods so you can tell who is executing when the time-out occurs.  Yes this can be a pain but it&#39;s probably necessary.  (That said there might be something way down in the OS that monitors time-outs, as there needs to be an actual timer for that to work.)"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1662477494,"post_id":73624220,"comment_id":130011974,"body_markdown":"Also you might want to explain your actual problem in more detail.  When `Thread.sleep()` expires, that&#39;s normal and isn&#39;t going to thrown an exception or &quot;cancel&quot; a task.  A network timeout is more of a &quot;problem&quot; and might have some hooks to investigate it, but we&#39;d need to know the details of what exactly is timing out (all setup code for whatever is timing out) so we can make some sort of useful suggestion.","body":"Also you might want to explain your actual problem in more detail.  When <code>Thread.sleep()</code> expires, that&#39;s normal and isn&#39;t going to thrown an exception or &quot;cancel&quot; a task.  A network timeout is more of a &quot;problem&quot; and might have some hooks to investigate it, but we&#39;d need to know the details of what exactly is timing out (all setup code for whatever is timing out) so we can make some sort of useful suggestion."},{"owner":{"account_id":1513705,"reputation":801,"user_id":1415210,"display_name":"Bob Claerhout"},"score":0,"creation_date":1662478020,"post_id":73624220,"comment_id":130012198,"body_markdown":"I would argue that the stacktrace is actually really helpful. I&#39;m aware that I can add more logging and drill down the issue like that. However, I&#39;m looking for a more elegant approach.","body":"I would argue that the stacktrace is actually really helpful. I&#39;m aware that I can add more logging and drill down the issue like that. However, I&#39;m looking for a more elegant approach."},{"owner":{"account_id":1513705,"reputation":801,"user_id":1415210,"display_name":"Bob Claerhout"},"score":0,"creation_date":1662478150,"post_id":73624220,"comment_id":130012264,"body_markdown":"Considering the actual problem. The `Thread.sleep` never expires, that&#39;s the point. I&#39;m getting the `TimeOutException` from Mutiny. The `Thread.Sleep` isn&#39;t interrupted neither. I&#39;m more looking for a solution on how I can achieve this in general. The functional code does a lot of different things: fetching data from the database, executing some HTTP posts, processing some stuff, sending messages to a kafka broker...","body":"Considering the actual problem. The <code>Thread.sleep</code> never expires, that&#39;s the point. I&#39;m getting the <code>TimeOutException</code> from Mutiny. The <code>Thread.Sleep</code> isn&#39;t interrupted neither. I&#39;m more looking for a solution on how I can achieve this in general. The functional code does a lot of different things: fetching data from the database, executing some HTTP posts, processing some stuff, sending messages to a kafka broker..."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1662482315,"post_id":73624220,"comment_id":130013679,"body_markdown":"I think I see.  So is the above a [mcve]?  If you&#39;ve got code that reproduces the problem, please show us the whole code.  I&#39;m not sure how to reproduce your issue with the code above.","body":"I think I see.  So is the above a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?  If you&#39;ve got code that reproduces the problem, please show us the whole code.  I&#39;m not sure how to reproduce your issue with the code above."},{"owner":{"account_id":1513705,"reputation":801,"user_id":1415210,"display_name":"Bob Claerhout"},"score":0,"creation_date":1662631569,"post_id":73624220,"comment_id":130052484,"body_markdown":"yes, this is the minimal reproducible example. If you put this in a test or an application, it will timeout and I don&#39;t have a clue on where I can get the stacktrace upon timeouting","body":"yes, this is the minimal reproducible example. If you put this in a test or an application, it will timeout and I don&#39;t have a clue on where I can get the stacktrace upon timeouting"}],"owner":{"account_id":1513705,"reputation":801,"user_id":1415210,"display_name":"Bob Claerhout"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662476896,"creation_date":1662476896,"question_id":73624220,"body_markdown":"I&#39;m trying to get the stacktrace of the `Thread.sleep` in the following code snippet. Right now, the only stacktrace I&#39;m getting is the one created by Mutiny upon timing out (which isn&#39;t helpful). I&#39;ve tried following things:\r\n\r\n - Catch any exception on the long running code, that&#39;s not triggered\r\n - `onCancellation` is invoked but the thread stacktrace is the one from the `TimeOut`\r\n - `onTermination` is invoked but the throwable is `null`\r\n  - `onFailure` after the timeout contains the stacktrace of the `TimeOut`\r\n\r\nTo give more context, in our case, we have a lot more going on which is long running and I can&#39;t pinpoint what exactly is causing the timeout. I would like to get the stacktrace of the long running code when the timeout happens so I know what needs to be fixed.\r\n\r\n    Uni.createFrom()\r\n      .completionStage(CompletableFuture.supplyAsync(() -&gt; {\r\n          try {\r\n              Thread.sleep(20000);\r\n          } catch (Exception e) {\r\n              e.printStackTrace(); //not triggered\r\n          }\r\n          return &quot;item&quot;;\r\n      }))\r\n      .onCancellation().invoke(() -&gt;{\r\n          // stacktrace of timeout exception\r\n      })\r\n      .onTermination().invoke((s, throwable, aBoolean) -&gt; {\r\n          // throwable is NULL\r\n      })\r\n      .ifNoItem().after(Duration.ofMillis(100)).fail()\r\n      .onFailure().invoke(ex -&gt; {\r\n          ex.printStackTrace(); //try to get the stacktrace of the Thread.sleep\r\n      })\r\n      .onFailure().recoverWithItem(&quot;error&quot;)\r\n      .await().atMost(DEFAULT_TIMEOUT);\r\n    }\r\n\r\nThanks for assistance in advance!","title":"How can I get the stacktrace of a long running statement in a mutiny TimeOut","body":"<p>I'm trying to get the stacktrace of the <code>Thread.sleep</code> in the following code snippet. Right now, the only stacktrace I'm getting is the one created by Mutiny upon timing out (which isn't helpful). I've tried following things:</p>\n<ul>\n<li>Catch any exception on the long running code, that's not triggered</li>\n<li><code>onCancellation</code> is invoked but the thread stacktrace is the one from the <code>TimeOut</code></li>\n<li><code>onTermination</code> is invoked but the throwable is <code>null</code></li>\n<li><code>onFailure</code> after the timeout contains the stacktrace of the <code>TimeOut</code></li>\n</ul>\n<p>To give more context, in our case, we have a lot more going on which is long running and I can't pinpoint what exactly is causing the timeout. I would like to get the stacktrace of the long running code when the timeout happens so I know what needs to be fixed.</p>\n<pre><code>Uni.createFrom()\n  .completionStage(CompletableFuture.supplyAsync(() -&gt; {\n      try {\n          Thread.sleep(20000);\n      } catch (Exception e) {\n          e.printStackTrace(); //not triggered\n      }\n      return &quot;item&quot;;\n  }))\n  .onCancellation().invoke(() -&gt;{\n      // stacktrace of timeout exception\n  })\n  .onTermination().invoke((s, throwable, aBoolean) -&gt; {\n      // throwable is NULL\n  })\n  .ifNoItem().after(Duration.ofMillis(100)).fail()\n  .onFailure().invoke(ex -&gt; {\n      ex.printStackTrace(); //try to get the stacktrace of the Thread.sleep\n  })\n  .onFailure().recoverWithItem(&quot;error&quot;)\n  .await().atMost(DEFAULT_TIMEOUT);\n}\n</code></pre>\n<p>Thanks for assistance in advance!</p>\n"},{"tags":["java","algorithm","dynamic-programming"],"answers":[{"tags":[],"owner":{"account_id":1810904,"reputation":2972,"user_id":1646996,"accept_rate":84,"display_name":"qqibrow"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1421091429,"creation_date":1421045280,"answer_id":27896691,"question_id":27880842,"body_markdown":"Try to understand the algorithm using this way.\r\n\r\n`table[i][j]` means using the first `i` types of coins to make change for value `j`. then:\r\n\r\n`table[i][j] = table[i-1][j] + table[i][j-S[i]]`\r\n\r\nClearly when making up `j` coins, you have two choices. not using the ith coin or using the ith coin. When not using the ith coin, the solution number is `table[i-1][j]`. When using the ith coin, the solution number is `table[i][j-S[i]]`, which means using the first i coins to make up j-S[i] value.Therefore, the total is the sum of both, which is ` table[i-1][j] + table[i][j-S[i]]`\r\n\r\nIn the code, you will see the for loop. the outer loop iterate over i and the inner loop iterate over j. the `+=` statement calculate `table[i][j]` based on the equation above. \r\n\r\nEDIT\r\n\r\n`table[j]` in your code is actually the `table[i][j]` I am talking above and `i` is the value in your loop. after the loop `table[N]` means `table[M][N]`, representing using first `M` coins, which are all the coins, to make value for `N`.\r\n\r\nI will provide more detail based on the code:\r\n\r\n     for(int i=0; i&lt;m; i++)\r\n            for(int j=S[i]; j&lt;=n; j++)\r\n                table[j] += table[j-S[i]];\r\n\r\nWhen `i = 0`, `table[j]` means using the first 1 coins to make changes for value `j`. for example, `table[2]` right now means using `coins {1}` to make change for 2. So: \r\n\r\n    table[1] = table[1] + table[1 - S[0]] = table[1] + table[0] = 1 + 0= 1\r\n    table[2] = table[2] + table[2 - S[0]] = table[2] + table[1] = 0 + 1= 1\r\n    table[3] = 1\r\n    table[4] = 1\r\n\r\nAfter that, we got the results when i = 0. `table[1] ~ table[4]` now means using `coin {1}` to make change for values 1, 2, 3, 4 separately. \r\n\r\nWhen i = 1, `table[j]` means using `coin {1, 2}` to make changes for value `j`.\r\n\r\n    table[2] = table[2] + table[2 - S[1]] = table[2] + table[0] = 1 + 1= 2\r\n    table[3] = table[3] + table[3 - S[1]] = 1 + 1 = 2\r\n    table[4] = table[4] + table[4 - S[1]] = table[4] + table[2] = 1 + 2 = 3\r\n\r\nThe following process is the same. \r\n\r\nFinally, We take `table[4]` when `i = 1` out and analyze it:\r\n\r\n    table[4] = table[4] + table[4 - S[1]] = table[4] + table[2] = 1 + 2 = 3\r\n\r\nHere `table[4]` on the left is the value we are calculating and actually it is `table[i=1][4]`. `table[4]` on the right represents the previous value and in this case, `table[i=0][4]`. It could expand to:\r\n\r\n    table[i=1][4] = table[i=0][4] + table[i=1][4 - S[1]]\r\n\r\nthe equation is exactly \r\n\r\n    table[i][j] = table[i-1][j] + table[i][j-S[i]]\r\n\r\nEDIT Follow-Up question\r\n\r\nIf you think you really understand this question, try to solve the same problem with a new constraint. What if every coin can only be used once? For example, N = 4 and S = {1,2,3}, only one solution {1,3} so the output should be 1. And For N = 10 and S = {2, 5, 3, 6}, still only one solution {2, 3, 5} and the output is 1.\r\n\r\nHint: only one line change of original code is enough.\r\n\r\nAnswer:http://ideone.com/t1JnEz\r\n    ","title":"space optimized solution for coin change","body":"<p>Try to understand the algorithm using this way.</p>\n\n<p><code>table[i][j]</code> means using the first <code>i</code> types of coins to make change for value <code>j</code>. then:</p>\n\n<p><code>table[i][j] = table[i-1][j] + table[i][j-S[i]]</code></p>\n\n<p>Clearly when making up <code>j</code> coins, you have two choices. not using the ith coin or using the ith coin. When not using the ith coin, the solution number is <code>table[i-1][j]</code>. When using the ith coin, the solution number is <code>table[i][j-S[i]]</code>, which means using the first i coins to make up j-S[i] value.Therefore, the total is the sum of both, which is <code>table[i-1][j] + table[i][j-S[i]]</code></p>\n\n<p>In the code, you will see the for loop. the outer loop iterate over i and the inner loop iterate over j. the <code>+=</code> statement calculate <code>table[i][j]</code> based on the equation above. </p>\n\n<p>EDIT</p>\n\n<p><code>table[j]</code> in your code is actually the <code>table[i][j]</code> I am talking above and <code>i</code> is the value in your loop. after the loop <code>table[N]</code> means <code>table[M][N]</code>, representing using first <code>M</code> coins, which are all the coins, to make value for <code>N</code>.</p>\n\n<p>I will provide more detail based on the code:</p>\n\n<pre><code> for(int i=0; i&lt;m; i++)\n        for(int j=S[i]; j&lt;=n; j++)\n            table[j] += table[j-S[i]];\n</code></pre>\n\n<p>When <code>i = 0</code>, <code>table[j]</code> means using the first 1 coins to make changes for value <code>j</code>. for example, <code>table[2]</code> right now means using <code>coins {1}</code> to make change for 2. So: </p>\n\n<pre><code>table[1] = table[1] + table[1 - S[0]] = table[1] + table[0] = 1 + 0= 1\ntable[2] = table[2] + table[2 - S[0]] = table[2] + table[1] = 0 + 1= 1\ntable[3] = 1\ntable[4] = 1\n</code></pre>\n\n<p>After that, we got the results when i = 0. <code>table[1] ~ table[4]</code> now means using <code>coin {1}</code> to make change for values 1, 2, 3, 4 separately. </p>\n\n<p>When i = 1, <code>table[j]</code> means using <code>coin {1, 2}</code> to make changes for value <code>j</code>.</p>\n\n<pre><code>table[2] = table[2] + table[2 - S[1]] = table[2] + table[0] = 1 + 1= 2\ntable[3] = table[3] + table[3 - S[1]] = 1 + 1 = 2\ntable[4] = table[4] + table[4 - S[1]] = table[4] + table[2] = 1 + 2 = 3\n</code></pre>\n\n<p>The following process is the same. </p>\n\n<p>Finally, We take <code>table[4]</code> when <code>i = 1</code> out and analyze it:</p>\n\n<pre><code>table[4] = table[4] + table[4 - S[1]] = table[4] + table[2] = 1 + 2 = 3\n</code></pre>\n\n<p>Here <code>table[4]</code> on the left is the value we are calculating and actually it is <code>table[i=1][4]</code>. <code>table[4]</code> on the right represents the previous value and in this case, <code>table[i=0][4]</code>. It could expand to:</p>\n\n<pre><code>table[i=1][4] = table[i=0][4] + table[i=1][4 - S[1]]\n</code></pre>\n\n<p>the equation is exactly </p>\n\n<pre><code>table[i][j] = table[i-1][j] + table[i][j-S[i]]\n</code></pre>\n\n<p>EDIT Follow-Up question</p>\n\n<p>If you think you really understand this question, try to solve the same problem with a new constraint. What if every coin can only be used once? For example, N = 4 and S = {1,2,3}, only one solution {1,3} so the output should be 1. And For N = 10 and S = {2, 5, 3, 6}, still only one solution {2, 3, 5} and the output is 1.</p>\n\n<p>Hint: only one line change of original code is enough.</p>\n\n<p>Answer:<a href=\"http://ideone.com/t1JnEz\" rel=\"nofollow\">http://ideone.com/t1JnEz</a></p>\n"},{"tags":[],"owner":{"account_id":1479724,"reputation":161,"user_id":1389377,"display_name":"sunilnmu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1421064546,"creation_date":1421064546,"answer_id":27901672,"question_id":27880842,"body_markdown":"First note that table[i] is number of ways for coin change when N=i.\r\n\r\nGiven Algorithm fills this array (table[]) as per given set of coin (S[]). \r\nInitially all values in table[] are initialized to 0. And table[0] set to 0 (this is base case N=0).\r\n\r\nEach coin adds up values in table[] in following manner.\r\n \r\nFor coin of value X, following are updates to table[] - \r\n\r\n1. ***table[X] = table[X] + 1*** \r\n   \r\n   This is easy to understand. Specifically this adds solution {X}.\r\n \r\n2.  ***for all Y &gt; X***\r\n\t\r\n    ***table[Y] = table[Y] + table[Y-X]***\r\n\t\r\n\tThis is tricky to understand. Take example X = 3, and consider case for Y = 4.\r\n\t\r\n    4 = 3 + 1 i.e. 4 can be obtained by combining 3 and 1. And by definition number of ways to get 1  are table[1]. So that many ways are added to table[4]. Thats why above expression uses table[Y-X].\r\n\t\r\n\r\nFollowing line in your algorithm represents the same (above two steps)  -\r\n \r\n\ttable[j] += table[j-S[i]];\t\r\n\r\nAt the end of algorithm, table[n] contains solution for n.\r\n","title":"space optimized solution for coin change","body":"<p>First note that table[i] is number of ways for coin change when N=i.</p>\n\n<p>Given Algorithm fills this array (table[]) as per given set of coin (S[]). \nInitially all values in table[] are initialized to 0. And table[0] set to 0 (this is base case N=0).</p>\n\n<p>Each coin adds up values in table[] in following manner.</p>\n\n<p>For coin of value X, following are updates to table[] - </p>\n\n<ol>\n<li><p><strong><em>table[X] = table[X] + 1</em></strong> </p>\n\n<p>This is easy to understand. Specifically this adds solution {X}.</p></li>\n<li><p><strong><em>for all Y > X</em></strong></p>\n\n<p><strong><em>table[Y] = table[Y] + table[Y-X]</em></strong></p>\n\n<p>This is tricky to understand. Take example X = 3, and consider case for Y = 4.</p>\n\n<p>4 = 3 + 1 i.e. 4 can be obtained by combining 3 and 1. And by definition number of ways to get 1  are table[1]. So that many ways are added to table[4]. Thats why above expression uses table[Y-X].</p></li>\n</ol>\n\n<p>Following line in your algorithm represents the same (above two steps)  -</p>\n\n<pre><code>table[j] += table[j-S[i]];  \n</code></pre>\n\n<p>At the end of algorithm, table[n] contains solution for n.</p>\n"},{"tags":[],"owner":{"account_id":10894838,"reputation":573,"user_id":8009192,"display_name":"Siddhant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567110229,"creation_date":1567110229,"answer_id":57717304,"question_id":27880842,"body_markdown":"Will try to explain it for others..\r\n\r\nConsider this piece of code - \r\n\r\n    dp = [[0 for i in range(len(coins))] for j in range(n+1)]\r\n    for i in range(n+1):\r\n        for j in range(len(coins)):\r\n            if i == 0:\r\n                dp[i][j] = 1\r\n            elif j == 0:\r\n                dp[i][j] = 0\r\n            else:\r\n                dp[i][j] = dp[i][j-1]\r\n\r\n            if i - coins[j] &gt;= 0:\r\n                dp[i][j] += dp[i-coins[j]][j]\r\n\r\n    print dp[n][len(coins)-1]\r\n\r\nThis approach is fairly basic, with no space optimisation. At first we may think that we are only accessing information from the column index `j - 1` so we can drop the columns but that&#39;s not true since we&#39;re also accessing `dp[i - coins[j]][j]`. Therefore information contained at `j&#39;th` index is useful and we cannot drop the columns.\r\n\r\nNow consider this,\r\n\r\n    dp = [[0 for i in range(n+1)] for j in range(len(coins))]\r\n    for i in range(len(coins)):\r\n        for j in range(n+1):\r\n            if j == 0:\r\n                dp[i][j] = 1\r\n            elif i == 0:\r\n                dp[i][j] = 0\r\n            else:\r\n                dp[i][j] = dp[i-1][j]\r\n\r\n            if j - coins[i] &gt;= 0:\r\n                dp[i][j] += dp[i][j-coins[i]]\r\n\r\n    print dp[len(coins)-1][n]\r\n\r\nAll that we&#39;ve done is reversed the order of for loops. On observing carefully, we can see that `dp[i][j-coins[i]]` is from the same row as `dp[i][j]`. So does that mean we don&#39;t need to maintain information from other rows? Yes we don&#39;t. \r\n\r\nNow there&#39;s two ways to go about this, either maintain two arrays, one for `dp[i]`, another for `dp[i-1]`, or drop the row index altogether which will lead to all data being accumulated at `dp[j]` for all values of `i`.\r\n\r\nCode for the second approach - \r\n\r\n    dp = [0 for i in range(n+1)]\r\n\r\n    dp[0] = 1\r\n    for i in range(len(coins)):\r\n        for j in range(coins[i], n+1):\r\n            dp[j] += dp[j-coins[i]]\r\n\r\n    return dp[n]","title":"space optimized solution for coin change","body":"<p>Will try to explain it for others..</p>\n\n<p>Consider this piece of code - </p>\n\n<pre><code>dp = [[0 for i in range(len(coins))] for j in range(n+1)]\nfor i in range(n+1):\n    for j in range(len(coins)):\n        if i == 0:\n            dp[i][j] = 1\n        elif j == 0:\n            dp[i][j] = 0\n        else:\n            dp[i][j] = dp[i][j-1]\n\n        if i - coins[j] &gt;= 0:\n            dp[i][j] += dp[i-coins[j]][j]\n\nprint dp[n][len(coins)-1]\n</code></pre>\n\n<p>This approach is fairly basic, with no space optimisation. At first we may think that we are only accessing information from the column index <code>j - 1</code> so we can drop the columns but that's not true since we're also accessing <code>dp[i - coins[j]][j]</code>. Therefore information contained at <code>j'th</code> index is useful and we cannot drop the columns.</p>\n\n<p>Now consider this,</p>\n\n<pre><code>dp = [[0 for i in range(n+1)] for j in range(len(coins))]\nfor i in range(len(coins)):\n    for j in range(n+1):\n        if j == 0:\n            dp[i][j] = 1\n        elif i == 0:\n            dp[i][j] = 0\n        else:\n            dp[i][j] = dp[i-1][j]\n\n        if j - coins[i] &gt;= 0:\n            dp[i][j] += dp[i][j-coins[i]]\n\nprint dp[len(coins)-1][n]\n</code></pre>\n\n<p>All that we've done is reversed the order of for loops. On observing carefully, we can see that <code>dp[i][j-coins[i]]</code> is from the same row as <code>dp[i][j]</code>. So does that mean we don't need to maintain information from other rows? Yes we don't. </p>\n\n<p>Now there's two ways to go about this, either maintain two arrays, one for <code>dp[i]</code>, another for <code>dp[i-1]</code>, or drop the row index altogether which will lead to all data being accumulated at <code>dp[j]</code> for all values of <code>i</code>.</p>\n\n<p>Code for the second approach - </p>\n\n<pre><code>dp = [0 for i in range(n+1)]\n\ndp[0] = 1\nfor i in range(len(coins)):\n    for j in range(coins[i], n+1):\n        dp[j] += dp[j-coins[i]]\n\nreturn dp[n]\n</code></pre>\n"}],"owner":{"account_id":5587565,"reputation":1426,"user_id":4427735,"accept_rate":100,"display_name":"Walt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2089,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":27901672,"answer_count":3,"score":11,"last_activity_date":1662476251,"creation_date":1420921391,"question_id":27880842,"body_markdown":"Given a value N, if we want to make change for N cents, and we have infinite supply of each of S = { S1, S2, .. , Sm} valued coins, how many ways can we make the change? The order of coins doesn’t matter.\r\n\r\nFor example, for N = 4 and S = {1,2,3}, there are four solutions: {1,1,1,1},{1,1,2},{2,2},{1,3}. So output should be 4. For N = 10 and S = {2, 5, 3, 6}, there are five solutions: {2,2,2,2,2}, {2,2,3,3}, {2,2,6}, {2,3,5} and {5,5}. So the output should be 5.\r\n\r\nI found the 3 approaches [HERE][1]. But not able to understand the space optimized dynamic programming approach where only a single dimensional array table[] is used. \r\n\r\n    int count( int S[], int m, int n )\r\n    {\r\n        // table[i] will be storing the number of solutions for\r\n        // value i. We need n+1 rows as the table is consturcted\r\n        // in bottom up manner using the base case (n = 0)\r\n        int table[n+1];\r\n     \r\n        // Initialize all table values as 0\r\n        memset(table, 0, sizeof(table));\r\n     \r\n        // Base case (If given value is 0)\r\n        table[0] = 1;\r\n     \r\n        // Pick all coins one by one and update the table[] values\r\n        // after the index greater than or equal to the value of the\r\n        // picked coin\r\n        for(int i=0; i&lt;m; i++)\r\n            for(int j=S[i]; j&lt;=n; j++)\r\n                table[j] += table[j-S[i]];\r\n     \r\n        return table[n];\r\n    }\r\n\r\n\r\n  [1]: http://www.geeksforgeeks.org/dynamic-programming-set-7-coin-change/","title":"space optimized solution for coin change","body":"<p>Given a value N, if we want to make change for N cents, and we have infinite supply of each of S = { S1, S2, .. , Sm} valued coins, how many ways can we make the change? The order of coins doesn’t matter.</p>\n\n<p>For example, for N = 4 and S = {1,2,3}, there are four solutions: {1,1,1,1},{1,1,2},{2,2},{1,3}. So output should be 4. For N = 10 and S = {2, 5, 3, 6}, there are five solutions: {2,2,2,2,2}, {2,2,3,3}, {2,2,6}, {2,3,5} and {5,5}. So the output should be 5.</p>\n\n<p>I found the 3 approaches <a href=\"http://www.geeksforgeeks.org/dynamic-programming-set-7-coin-change/\">HERE</a>. But not able to understand the space optimized dynamic programming approach where only a single dimensional array table[] is used. </p>\n\n<pre><code>int count( int S[], int m, int n )\n{\n    // table[i] will be storing the number of solutions for\n    // value i. We need n+1 rows as the table is consturcted\n    // in bottom up manner using the base case (n = 0)\n    int table[n+1];\n\n    // Initialize all table values as 0\n    memset(table, 0, sizeof(table));\n\n    // Base case (If given value is 0)\n    table[0] = 1;\n\n    // Pick all coins one by one and update the table[] values\n    // after the index greater than or equal to the value of the\n    // picked coin\n    for(int i=0; i&lt;m; i++)\n        for(int j=S[i]; j&lt;=n; j++)\n            table[j] += table[j-S[i]];\n\n    return table[n];\n}\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1662455344,"post_id":73617120,"comment_id":130003433,"body_markdown":"Could you please add the code snippet as well ?","body":"Could you please add the code snippet as well ?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662476152,"creation_date":1662476152,"answer_id":73624083,"question_id":73617120,"body_markdown":"You would need to track and manually `seek` the consumer to the last un-processed offset(s) for each topic partition. You may also want to `pause()` the consumer and halt any poll loop until each record is processed ","title":"Kafka Consumer I want it to poll the msg until consumer tell it to go to the next offset","body":"<p>You would need to track and manually <code>seek</code> the consumer to the last un-processed offset(s) for each topic partition. You may also want to <code>pause()</code> the consumer and halt any poll loop until each record is processed</p>\n"}],"owner":{"account_id":26213081,"reputation":1,"user_id":19891599,"display_name":"MikeG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662476190,"creation_date":1662442446,"question_id":73617120,"body_markdown":"I am building an event driven software in java to listen to a Kafka Topic and sent the messages to a other server from my application. I want the Kafka consumer to keep polling the same message if my application wasn&#39;t able to sent the data successfully to the second server. to do this I had set manual commit offset and only incremented the offset when the message was sent successfully to the second server but the broker will only resend the message if my application(consumer) restarts. its a issue since I don&#39;t want my application to restart. Let me know if you have any solutions to this issue.","title":"Kafka Consumer I want it to poll the msg until consumer tell it to go to the next offset","body":"<p>I am building an event driven software in java to listen to a Kafka Topic and sent the messages to a other server from my application. I want the Kafka consumer to keep polling the same message if my application wasn't able to sent the data successfully to the second server. to do this I had set manual commit offset and only incremented the offset when the message was sent successfully to the second server but the broker will only resend the message if my application(consumer) restarts. its a issue since I don't want my application to restart. Let me know if you have any solutions to this issue.</p>\n"},{"tags":["java","string","bigdecimal","typeconverter"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1528806003,"post_id":50816293,"comment_id":88639045,"body_markdown":"`BigDecimal` doesn&#39;t format itself. It represents a _number_ not a `String`. Unless I&#39;m misunderstanding what you want to do? I see you are using `DecimalFormat` to go from a `String` to a `BigDecimal`. To reverse the operation you&#39;d do `decimalFormat.format(bigDecimal)`. This will return a formatted `String` of the `BigDecimal`.","body":"<code>BigDecimal</code> doesn&#39;t format itself. It represents a <i>number</i> not a <code>String</code>. Unless I&#39;m misunderstanding what you want to do? I see you are using <code>DecimalFormat</code> to go from a <code>String</code> to a <code>BigDecimal</code>. To reverse the operation you&#39;d do <code>decimalFormat.format(bigDecimal)</code>. This will return a formatted <code>String</code> of the <code>BigDecimal</code>."},{"owner":{"account_id":10206684,"reputation":117,"user_id":7535195,"accept_rate":50,"display_name":"Unity"},"score":0,"creation_date":1528806406,"post_id":50816293,"comment_id":88639334,"body_markdown":"I have String that are in this format 37,717,840.33 or in this format 37 717 840,33 I would like to convert them to bigdecimal while preserving the format/ pattern (keeping the , and the . in place as they were in the string)","body":"I have String that are in this format 37,717,840.33 or in this format 37 717 840,33 I would like to convert them to bigdecimal while preserving the format/ pattern (keeping the , and the . in place as they were in the string)"}],"answers":[{"tags":[],"owner":{"account_id":2322328,"reputation":1012,"user_id":2037710,"display_name":"Guilherme Mussi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1528804167,"creation_date":1528804167,"answer_id":50816465,"question_id":50816293,"body_markdown":"Remove the commas from the string.\r\n\r\n    String price = &quot;1,000,000,000.999999999999999&quot;;\r\n    BigDecimal result = new BigDecimal(value.replaceAll(&quot;,&quot;, &quot;&quot;));\r\n    System.out.println(result);","title":"Convert String to BigDecimal without losing format","body":"<p>Remove the commas from the string.</p>\n\n<pre><code>String price = \"1,000,000,000.999999999999999\";\nBigDecimal result = new BigDecimal(value.replaceAll(\",\", \"\"));\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662475911,"creation_date":1528902609,"answer_id":50840624,"question_id":50816293,"body_markdown":"A [`BigDecimal`][1] is an &quot;[i]mmutable, arbitrary-precision signed decimal number[]&quot;.\r\n\r\nWhat is &quot;arbitrary-precision&quot;? This [Wikipedia article][2] has this to say in its introduction:\r\n\r\n&gt;In computer science, arbitrary-precision arithmetic, also called bignum arithmetic, multiple-precision arithmetic, or sometimes infinite-precision arithmetic, indicates that calculations are performed on numbers whose digits of precision are limited only by the available memory of the host system. This contrasts with the faster fixed-precision arithmetic found in most arithmetic logic unit (ALU) hardware, which typically offers between 8 and 64 bits of precision.\r\n\r\nIn other words, `BigDecimal` is a special type of `Number` that allows &quot;perfect&quot; (it can&#39;t handle irrational numbers) precision. This is in contrast to `Double` (or the primitive type, `double`) which has &quot;fixed-precision&quot; and therefore can&#39;t represent all the numbers that `BigDecimal` can. This increase in precision comes at the cost of increased memory use and much slower mathematical operations (computers can handle `double`s and such at a hardware level).\r\n\r\nWhy am I bringing all this up? Because I want to point out that a `BigDecimal` is nothing more than a _fancy number_. And numbers, at least in Java, have no concept of formatting. With that in mind you realize it makes no sense to expect a `BigDecimal` to maintain the format of the `String` used to create it. There are hints at this in your own code; you had to use the intermediary `DecimalFormat` object to parse your `String` into a `BigDecimal`. Why would you have to do this when `BigDecimal` has a constructor that takes a `String`? It&#39;s because the `BigDecimal` constructor is very limited. If you were to try to convert your `String` using the constructor you&#39;d get a `NumberFormatExcepton` with the following message: &quot;_Character , is neither a decimal digit number, decimal point, nor &quot;e&quot; notation exponential mark._&quot;\r\n\r\nAs you can see, it is the `DecimalFormat` that understands the `String` in your code. The reason for this is because _that&#39;s what `DecimalFormat` is designed for_. The class exists so you can parse `String`s into `Number`s and `Number`s into `String`s using a specified pattern (which is normally based on the user&#39;s `Locale`). When you want to display a `Number` such as a `BigDecimal` but in a formatted fashion you have to use a class such as `DecimalFormat`. Some options to convert a number into a `String` would be:\r\n\r\n* [`DecimalFormat`][3]\r\n   * Or more generally, its superclass [`NumberFormat`][4]\r\n* [`String#format(String, Object...)`][5]\r\n   * This uses its own pattern rules as specified in the Javadoc of [`Formatter`][6]\r\n* [`PrintStream#printf(String, Object...)`][7]\r\n   * This uses the same rules as `String#format(String, Object...)`.\r\n   * `System.out` is a `PrintStream`\r\n\r\nAs I pointed out in the question comments, in your case you should be able to get back the formatted `String` by calling \r\n\r\n    String formattedString = decimalFormat.format(bigDecimal);\r\n\r\non the same `DecimalFormat` or at least one that was configured the same.\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html\r\n[2]: https://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic\r\n[3]: https://docs.oracle.com/javase/10/docs/api/java/text/DecimalFormat.html\r\n[4]: https://docs.oracle.com/javase/10/docs/api/java/text/NumberFormat.html\r\n[5]: https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#format(java.lang.String,java.lang.Object...)\r\n[6]: https://docs.oracle.com/javase/10/docs/api/java/util/Formatter.html\r\n[7]: https://docs.oracle.com/javase/10/docs/api/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)","title":"Convert String to BigDecimal without losing format","body":"<p>A <a href=\"https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a> is an &quot;[i]mmutable, arbitrary-precision signed decimal number[]&quot;.</p>\n<p>What is &quot;arbitrary-precision&quot;? This <a href=\"https://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic\" rel=\"nofollow noreferrer\">Wikipedia article</a> has this to say in its introduction:</p>\n<blockquote>\n<p>In computer science, arbitrary-precision arithmetic, also called bignum arithmetic, multiple-precision arithmetic, or sometimes infinite-precision arithmetic, indicates that calculations are performed on numbers whose digits of precision are limited only by the available memory of the host system. This contrasts with the faster fixed-precision arithmetic found in most arithmetic logic unit (ALU) hardware, which typically offers between 8 and 64 bits of precision.</p>\n</blockquote>\n<p>In other words, <code>BigDecimal</code> is a special type of <code>Number</code> that allows &quot;perfect&quot; (it can't handle irrational numbers) precision. This is in contrast to <code>Double</code> (or the primitive type, <code>double</code>) which has &quot;fixed-precision&quot; and therefore can't represent all the numbers that <code>BigDecimal</code> can. This increase in precision comes at the cost of increased memory use and much slower mathematical operations (computers can handle <code>double</code>s and such at a hardware level).</p>\n<p>Why am I bringing all this up? Because I want to point out that a <code>BigDecimal</code> is nothing more than a <em>fancy number</em>. And numbers, at least in Java, have no concept of formatting. With that in mind you realize it makes no sense to expect a <code>BigDecimal</code> to maintain the format of the <code>String</code> used to create it. There are hints at this in your own code; you had to use the intermediary <code>DecimalFormat</code> object to parse your <code>String</code> into a <code>BigDecimal</code>. Why would you have to do this when <code>BigDecimal</code> has a constructor that takes a <code>String</code>? It's because the <code>BigDecimal</code> constructor is very limited. If you were to try to convert your <code>String</code> using the constructor you'd get a <code>NumberFormatExcepton</code> with the following message: &quot;<em>Character , is neither a decimal digit number, decimal point, nor &quot;e&quot; notation exponential mark.</em>&quot;</p>\n<p>As you can see, it is the <code>DecimalFormat</code> that understands the <code>String</code> in your code. The reason for this is because <em>that's what <code>DecimalFormat</code> is designed for</em>. The class exists so you can parse <code>String</code>s into <code>Number</code>s and <code>Number</code>s into <code>String</code>s using a specified pattern (which is normally based on the user's <code>Locale</code>). When you want to display a <code>Number</code> such as a <code>BigDecimal</code> but in a formatted fashion you have to use a class such as <code>DecimalFormat</code>. Some options to convert a number into a <code>String</code> would be:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/10/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\"><code>DecimalFormat</code></a>\n<ul>\n<li>Or more generally, its superclass <a href=\"https://docs.oracle.com/javase/10/docs/api/java/text/NumberFormat.html\" rel=\"nofollow noreferrer\"><code>NumberFormat</code></a></li>\n</ul>\n</li>\n<li><a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String#format(String, Object...)</code></a>\n<ul>\n<li>This uses its own pattern rules as specified in the Javadoc of <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\"><code>Formatter</code></a></li>\n</ul>\n</li>\n<li><a href=\"https://docs.oracle.com/javase/10/docs/api/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>PrintStream#printf(String, Object...)</code></a>\n<ul>\n<li>This uses the same rules as <code>String#format(String, Object...)</code>.</li>\n<li><code>System.out</code> is a <code>PrintStream</code></li>\n</ul>\n</li>\n</ul>\n<p>As I pointed out in the question comments, in your case you should be able to get back the formatted <code>String</code> by calling</p>\n<pre><code>String formattedString = decimalFormat.format(bigDecimal);\n</code></pre>\n<p>on the same <code>DecimalFormat</code> or at least one that was configured the same.</p>\n"},{"tags":[],"owner":{"account_id":20933995,"reputation":1,"user_id":15379621,"display_name":"Joscef Idk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615514265,"creation_date":1615514265,"answer_id":66593144,"question_id":50816293,"body_markdown":"Remove the commas from the string.\r\n\r\nimport java.math.BigDecimal;\r\n\r\n-------------------------\r\n        \r\n        String price = &quot;1,000,000,000.999999999999999&quot;;\r\n        BigDecimal result = new BigDecimal(price.replaceAll(&quot;,&quot;, &quot;&quot;));\r\n        System.out.println(&quot;Prueba: &quot; + result.toString());\r\n\r\n//Result: 1000000000.999999999999999\r\n\r\n","title":"Convert String to BigDecimal without losing format","body":"<p>Remove the commas from the string.</p>\n<p>import java.math.BigDecimal;</p>\n<hr />\n<pre><code>    String price = &quot;1,000,000,000.999999999999999&quot;;\n    BigDecimal result = new BigDecimal(price.replaceAll(&quot;,&quot;, &quot;&quot;));\n    System.out.println(&quot;Prueba: &quot; + result.toString());\n</code></pre>\n<p>//Result: 1000000000.999999999999999</p>\n"}],"owner":{"account_id":10206684,"reputation":117,"user_id":7535195,"accept_rate":50,"display_name":"Unity"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32952,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":50840624,"answer_count":3,"score":3,"last_activity_date":1662475911,"creation_date":1528803695,"question_id":50816293,"body_markdown":"I&#39;m trying to convert a string to a BigDecimal but I can&#39;t manage to preserve the format. the String is a price/number with a format which can either be #,###.00 or # ###,00 \r\n\r\nthis is what i&#39;ve tried but it doesn&#39;t keep the format intact. \r\n37,717,840.33  ==&gt; 37717840.33\r\n\r\n\r\n    public static BigDecimal convertStringtoDecimal(String patternDecimalFormat, \r\n    String pattern, String price) { \r\n\t\t \r\n\t\tDecimalFormatSymbols symbols = new DecimalFormatSymbols();\r\n\t\tsymbols.setDecimalSeparator(pattern.charAt(0));\r\n\t\tsymbols.setGroupingSeparator(pattern.charAt(1));\r\n\t\tDecimalFormat decimalFormat = new DecimalFormat(patternDecimalFormat, symbols);\r\n\t\tdecimalFormat.setParseBigDecimal(true);\r\n \r\n\t\tBigDecimal bigDecimal = null;\r\n\t\ttry {\r\n\t\t\tbigDecimal = (BigDecimal) decimalFormat.parse(price);\r\n\t\t} catch (ParseException e) { \r\n\t\t\r\n\t\t\tLOGGER.warn(&quot;Exception convertion string to dec&quot;, e);\r\n\t\t}\r\n\t\treturn bigDecimal ;\r\n\t\r\n\t}","title":"Convert String to BigDecimal without losing format","body":"<p>I'm trying to convert a string to a BigDecimal but I can't manage to preserve the format. the String is a price/number with a format which can either be #,###.00 or # ###,00 </p>\n\n<p>this is what i've tried but it doesn't keep the format intact. \n37,717,840.33  ==> 37717840.33</p>\n\n<pre><code>public static BigDecimal convertStringtoDecimal(String patternDecimalFormat, \nString pattern, String price) { \n\n    DecimalFormatSymbols symbols = new DecimalFormatSymbols();\n    symbols.setDecimalSeparator(pattern.charAt(0));\n    symbols.setGroupingSeparator(pattern.charAt(1));\n    DecimalFormat decimalFormat = new DecimalFormat(patternDecimalFormat, symbols);\n    decimalFormat.setParseBigDecimal(true);\n\n    BigDecimal bigDecimal = null;\n    try {\n        bigDecimal = (BigDecimal) decimalFormat.parse(price);\n    } catch (ParseException e) { \n\n        LOGGER.warn(\"Exception convertion string to dec\", e);\n    }\n    return bigDecimal ;\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","credentials"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":1,"creation_date":1662472441,"post_id":73622885,"comment_id":130009777,"body_markdown":"Do you get an error?","body":"Do you get an error?"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1662473147,"post_id":73622885,"comment_id":130010095,"body_markdown":"&quot;Please tell me what I&#39;m doing wrong&quot; You need to first tell us what exactly isn&#39;t working. Please provide details of any error or unexpected behavior you are encountering.","body":"&quot;Please tell me what I&#39;m doing wrong&quot; You need to first tell us what exactly isn&#39;t working. Please provide details of any error or unexpected behavior you are encountering."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662475761,"creation_date":1662474466,"answer_id":73623701,"question_id":73622885,"body_markdown":"Understand how credentials work when using the **AWS SDK for Java V2** SDK. You can read about them in the AWS Java V2 Developer Guide here: \r\n\r\n[Using credentials][1]\r\n\r\nSpecifically, read about the Credential retrieval order in that doc topic. \r\n\r\nAs far as what service you are using, it does not matter. An S3 Service Client works the same way as other Java Service clients in terms of handling creds. \r\n\r\nThe topic linked about describes this way to handle creds. As described in this topic, you can use the shared credentials and config files:\r\n\r\n**The SDK uses the ProfileCredentialsProvider to load credentials from the [default] credentials profile in the shared credentials and config files.**\r\n\r\nYou can create a file named **credentials** - as shown here: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn that file - specify your keys: \r\n\r\n[default]\r\naws_access_key_id=Axxxxxxxxxxxxxxxxxxxxxxxxxxx\r\naws_secret_access_key=Kxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\n\r\nThen you can use this code to create a service client: \r\n\r\n      AthenaClient athenaClient = AthenaClient.builder()\r\n                .region(Region.US_WEST_2)\r\n                .credentialsProvider(ProfileCredentialsProvider.create())\r\n                .build();\r\n\r\n\r\nAnd also - ensure you are using the correct POM in your Java project that uses Amazon Athena. See: \r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/athena\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\r\n  [2]: https://i.stack.imgur.com/lWv1S.png","title":"How to explicitly provide AWS credentials for Amazon Athena Service Client object","body":"<p>Understand how credentials work when using the <strong>AWS SDK for Java V2</strong> SDK. You can read about them in the AWS Java V2 Developer Guide here:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">Using credentials</a></p>\n<p>Specifically, read about the Credential retrieval order in that doc topic.</p>\n<p>As far as what service you are using, it does not matter. An S3 Service Client works the same way as other Java Service clients in terms of handling creds.</p>\n<p>The topic linked about describes this way to handle creds. As described in this topic, you can use the shared credentials and config files:</p>\n<p><strong>The SDK uses the ProfileCredentialsProvider to load credentials from the [default] credentials profile in the shared credentials and config files.</strong></p>\n<p>You can create a file named <strong>credentials</strong> - as shown here:</p>\n<p><a href=\"https://i.stack.imgur.com/lWv1S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lWv1S.png\" alt=\"enter image description here\" /></a></p>\n<p>In that file - specify your keys:</p>\n<p>[default]\naws_access_key_id=Axxxxxxxxxxxxxxxxxxxxxxxxxxx\naws_secret_access_key=Kxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</p>\n<p>Then you can use this code to create a service client:</p>\n<pre><code>  AthenaClient athenaClient = AthenaClient.builder()\n            .region(Region.US_WEST_2)\n            .credentialsProvider(ProfileCredentialsProvider.create())\n            .build();\n</code></pre>\n<p>And also - ensure you are using the correct POM in your Java project that uses Amazon Athena. See:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/athena\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/athena</a></p>\n"}],"owner":{"account_id":21742375,"reputation":63,"user_id":16049548,"display_name":"Skullruss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1505,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662475761,"creation_date":1662470883,"question_id":73622885,"body_markdown":"The Amazon documentation says to use:\r\n```\r\nAwsBasicCredentials awsCreds = AwsBasicCredentials.create(\r\n  &quot;your_access_key_id&quot;,\r\n  &quot;your_secret_access_key&quot;);\r\n\r\nS3Client s3 = S3Client.builder()\r\n            .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\r\n            .build();\r\n```\r\n\r\nBut that&#39;s for the S3Client, when I try to use the same structure for my AthenaClient my app won&#39;t even run and it fails to initialize. \r\n\r\nFor my application I&#39;m grabbing the credentials from a repo with a configuration file for this app.\r\n\r\n```\r\nstatic @Value(&quot;${AWS_ACCESS_KEY_ID}&quot;) String amazonAccessId;\r\n\r\nstatic @Value(&quot;${AWS_SECRET_ACCESS_KEY}&quot;) String amazonSecretKey;\r\n\r\nAwsBasicCredentials awsCreds = AwsBasicCredentials.create(\r\n                &quot;your_access_key_id&quot;,\r\n                &quot;your_secret_access_key&quot;);\r\n        \r\n\r\nAthenaClient athenaClient = AthenaClient.builder()\r\n                .region(Region.US_WEST_2)\r\n                .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\r\n                .build();\r\n```\r\n\r\nI want to provide the credentials this way so that when I push the code from my local machine the code still functions, instead of relying on my environment variables. Please tell me what I&#39;m doing wrong, because the documentation does not.","title":"How to explicitly provide AWS credentials for Amazon Athena Service Client object","body":"<p>The Amazon documentation says to use:</p>\n<pre><code>AwsBasicCredentials awsCreds = AwsBasicCredentials.create(\n  &quot;your_access_key_id&quot;,\n  &quot;your_secret_access_key&quot;);\n\nS3Client s3 = S3Client.builder()\n            .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\n            .build();\n</code></pre>\n<p>But that's for the S3Client, when I try to use the same structure for my AthenaClient my app won't even run and it fails to initialize.</p>\n<p>For my application I'm grabbing the credentials from a repo with a configuration file for this app.</p>\n<pre><code>static @Value(&quot;${AWS_ACCESS_KEY_ID}&quot;) String amazonAccessId;\n\nstatic @Value(&quot;${AWS_SECRET_ACCESS_KEY}&quot;) String amazonSecretKey;\n\nAwsBasicCredentials awsCreds = AwsBasicCredentials.create(\n                &quot;your_access_key_id&quot;,\n                &quot;your_secret_access_key&quot;);\n        \n\nAthenaClient athenaClient = AthenaClient.builder()\n                .region(Region.US_WEST_2)\n                .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\n                .build();\n</code></pre>\n<p>I want to provide the credentials this way so that when I push the code from my local machine the code still functions, instead of relying on my environment variables. Please tell me what I'm doing wrong, because the documentation does not.</p>\n"},{"tags":["java","math","decimal","rounding"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1662470356,"post_id":73622713,"comment_id":130008871,"body_markdown":"Without seeing your code it isn&#39;t possible to say what you&#39;ve done wrong.","body":"Without seeing your code it isn&#39;t possible to say what you&#39;ve done wrong."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":4,"creation_date":1662470427,"post_id":73622713,"comment_id":130008896,"body_markdown":"nobody can read that.  Post code and data as TEXT please.","body":"nobody can read that.  Post code and data as TEXT please."},{"owner":{"account_id":20869460,"reputation":11,"user_id":15329765,"display_name":"liligirthlord"},"score":0,"creation_date":1662470471,"post_id":73622713,"comment_id":130008918,"body_markdown":"@tgdavies Well I attached a link to a screenshot of the code on the top of the post..","body":"@tgdavies Well I attached a link to a screenshot of the code on the top of the post.."},{"owner":{"account_id":20869460,"reputation":11,"user_id":15329765,"display_name":"liligirthlord"},"score":0,"creation_date":1662470682,"post_id":73622713,"comment_id":130009009,"body_markdown":"@OldProgrammer Ok, changed it!","body":"@OldProgrammer Ok, changed it!"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1662476998,"post_id":73622713,"comment_id":130011737,"body_markdown":"You are hopefully aware that floating point (double) is just a finite sum of (negative) powers of 2, merely approximating the decimal value like 15.57. In reality you could easily get something like 15.5699999984. `System.out.printf(&quot;Two decimals %.2f!%n&quot;, 15.57);` would output the number in two decimals. And then there is BigDecimal, a fixed point implementation.","body":"You are hopefully aware that floating point (double) is just a finite sum of (negative) powers of 2, merely approximating the decimal value like 15.57. In reality you could easily get something like 15.5699999984. <code>System.out.printf(&quot;Two decimals %.2f!%n&quot;, 15.57);</code> would output the number in two decimals. And then there is BigDecimal, a fixed point implementation."}],"answers":[{"tags":[],"owner":{"account_id":247108,"reputation":4740,"user_id":521624,"accept_rate":71,"display_name":"Guillaume Brunerie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662475624,"creation_date":1662475624,"answer_id":73623961,"question_id":73622713,"body_markdown":"The `Math.round` function rounds its argument to the nearest integer, so it is expected that it rounds 15.57 to 16.\r\n\r\nIf you want to limit to number of digits after the decimal point, you can use `calcCharge.toFixed(2)` (without the `Math.round`). Or you can do `Math.round(calcCharge * 100) / 100`.","title":"Rounding to 2 decimals with the math method","body":"<p>The <code>Math.round</code> function rounds its argument to the nearest integer, so it is expected that it rounds 15.57 to 16.</p>\n<p>If you want to limit to number of digits after the decimal point, you can use <code>calcCharge.toFixed(2)</code> (without the <code>Math.round</code>). Or you can do <code>Math.round(calcCharge * 100) / 100</code>.</p>\n"}],"owner":{"account_id":20869460,"reputation":11,"user_id":15329765,"display_name":"liligirthlord"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1662475624,"creation_date":1662470161,"question_id":73622713,"body_markdown":"So I&#39;m working on an assignment where I&#39;m supposed to do a table with different values etc. But I have run into a problem where the (charging time/laddningstid(h)) round up to 16.0 when I want it so say 15.57. Since 35.8/2.3 = 15.57.\r\n\r\nSo my question is what have I done wrong here? How can I make it say the correct value instead of 16.0\r\n\r\nCODE: \r\n\r\n```java\r\nclass Main {\r\n  public static void main(String[] args) {\r\n\r\n    double batteryEffect = 35.8;\r\n    int current = 10;\r\n    int current1 = 16;\r\n    int current2 = 32;\r\n\r\n    int voltage = 230;\r\n    int voltage1 = 400;\r\n\r\n    \r\n    double calcEffect = 0;\r\n\r\n    int noOfDecimals = 2;\r\n    double scale = 0;\r\n    scale = Math.pow(10, noOfDecimals);\r\n    calcEffect = Math.round(current*voltage)*scale/scale/1000;\r\n\r\n    \r\n    double calcCharge = 0;\r\n\r\n    calcCharge = Math.round(batteryEffect/calcEffect)*scale/scale;\r\n    \r\n\r\n    System.out.print(&quot;Batteri&quot; + &quot; &quot; + batteryEffect + &quot;(kWh)&quot;);\r\n    System.out.print(&quot;\\n&quot;);\r\n    System.out.print(&quot;\\nStr&#246;m(A)\\tSp&#228;nning(V)\\tLaddeffekt(kW)\\tLaddningstid(h)&quot;);  \r\n    System.out.print(&quot;\\n=======================================================&quot;);\r\n    System.out.print(&quot;\\n&quot;);\r\n    System.out.print(current + &quot;\\t\\t\\t&quot; + voltage + &quot;\\t\\t\\t&quot;  + calcEffect + &quot;\\t\\t\\t\\t&quot; + calcCharge);\r\n    System.out.print(&quot;\\n&quot;);\r\n    System.out.print(current1 + &quot;\\t\\t\\t&quot; + voltage);\r\n  }\r\n}\r\n```\r\n\r\nEDIT: My bad I didn&#39;t know the picture was gonna get that small first time posting here.","title":"Rounding to 2 decimals with the math method","body":"<p>So I'm working on an assignment where I'm supposed to do a table with different values etc. But I have run into a problem where the (charging time/laddningstid(h)) round up to 16.0 when I want it so say 15.57. Since 35.8/2.3 = 15.57.</p>\n<p>So my question is what have I done wrong here? How can I make it say the correct value instead of 16.0</p>\n<p>CODE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n  public static void main(String[] args) {\n\n    double batteryEffect = 35.8;\n    int current = 10;\n    int current1 = 16;\n    int current2 = 32;\n\n    int voltage = 230;\n    int voltage1 = 400;\n\n    \n    double calcEffect = 0;\n\n    int noOfDecimals = 2;\n    double scale = 0;\n    scale = Math.pow(10, noOfDecimals);\n    calcEffect = Math.round(current*voltage)*scale/scale/1000;\n\n    \n    double calcCharge = 0;\n\n    calcCharge = Math.round(batteryEffect/calcEffect)*scale/scale;\n    \n\n    System.out.print(&quot;Batteri&quot; + &quot; &quot; + batteryEffect + &quot;(kWh)&quot;);\n    System.out.print(&quot;\\n&quot;);\n    System.out.print(&quot;\\nStröm(A)\\tSpänning(V)\\tLaddeffekt(kW)\\tLaddningstid(h)&quot;);  \n    System.out.print(&quot;\\n=======================================================&quot;);\n    System.out.print(&quot;\\n&quot;);\n    System.out.print(current + &quot;\\t\\t\\t&quot; + voltage + &quot;\\t\\t\\t&quot;  + calcEffect + &quot;\\t\\t\\t\\t&quot; + calcCharge);\n    System.out.print(&quot;\\n&quot;);\n    System.out.print(current1 + &quot;\\t\\t\\t&quot; + voltage);\n  }\n}\n</code></pre>\n<p>EDIT: My bad I didn't know the picture was gonna get that small first time posting here.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1662133593,"post_id":73585032,"comment_id":129943310,"body_markdown":"Does it help if you delete .idea directory and reimport the project from pom.xml per https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start?","body":"Does it help if you delete .idea directory and reimport the project from pom.xml per <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662133803,"post_id":73585032,"comment_id":129943375,"body_markdown":"Did you refresh your Maven import in IntelliJ (e.g. using the refresh button on the Maven tab, or the hovering refresh button that appears when you modify pom.xml)?","body":"Did you refresh your Maven import in IntelliJ (e.g. using the refresh button on the Maven tab, or the hovering refresh button that appears when you modify pom.xml)?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662133823,"post_id":73585032,"comment_id":129943385,"body_markdown":"@CrazyCoder Deleting your .idea configuration sounds like overkill.","body":"@CrazyCoder Deleting your .idea configuration sounds like overkill."},{"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"score":0,"creation_date":1662134825,"post_id":73585032,"comment_id":129943696,"body_markdown":"I tried to delete the .idea directory. Also reinstalled IntelliJ and I am not able to get the right version.","body":"I tried to delete the .idea directory. Also reinstalled IntelliJ and I am not able to get the right version."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1662134869,"post_id":73585032,"comment_id":129943716,"body_markdown":"Please share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"score":0,"creation_date":1662134903,"post_id":73585032,"comment_id":129943724,"body_markdown":"I tried all the options in the maven tab, to download sources, and refresh updates. Nothing works.","body":"I tried all the options in the maven tab, to download sources, and refresh updates. Nothing works."},{"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"score":0,"creation_date":1662148380,"post_id":73585032,"comment_id":129947591,"body_markdown":"Since the libraries are on a private repository, I cannot share them, but I will try to recreate a simple project with two libraries.","body":"Since the libraries are on a private repository, I cannot share them, but I will try to recreate a simple project with two libraries."}],"answers":[{"tags":[],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662475559,"creation_date":1662475559,"answer_id":73623944,"question_id":73585032,"body_markdown":"I solved this issue by downgrading the version with IntelliJ. The version that worked for me was: **IntelliJ 2019.1.4**.\r\n\r\nI hope that IntelliJ fixes this issue since working with older versions is not ideal.","title":"Intellij doesn&#39;t update to correct version of the dependency","body":"<p>I solved this issue by downgrading the version with IntelliJ. The version that worked for me was: <strong>IntelliJ 2019.1.4</strong>.</p>\n<p>I hope that IntelliJ fixes this issue since working with older versions is not ideal.</p>\n"}],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73623944,"answer_count":1,"score":0,"last_activity_date":1662475559,"creation_date":1662133266,"question_id":73585032,"body_markdown":"I am using IntelliJ Ultimate version 2022.1. I have the following pom.file:\r\n\r\n```\r\n....\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.dexi&lt;/groupId&gt;\r\n      &lt;artifactId&gt;webi-common-rest-service&lt;/artifactId&gt;\r\n      &lt;version&gt;1.15.61&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have run from the terminal and from IntelliJ the command ``` mvn clean install```.\r\nTo check if I have the correct version of the library I run the command ```mvn dependency:tree``` and the result is as follows:\r\n\r\n```\r\n[INFO] +- io.dexi:webi-common-rest-service:jar:1.15.61:compile\r\n[INFO] |  +- com.squareup.retrofit2:retrofit:jar:2.4.0:compile\r\n[INFO] |  |  \\- com.squareup.okhttp3:okhttp:jar:3.10.0:compile\r\n[INFO] |  +- com.squareup.okio:okio:jar:1.13.0:compile\r\n\r\n```\r\n\r\nIt retrieves the correct version of the library(1.15.61). But when I open a file of that library in the IntelliJ it defaults to the wrong version as is shown below:\r\n[![enter image description here][1]][1]\r\n\r\nI have tried to update the IntelliJ to the latest version and download the latest patches but the problem still persisted.\r\n\r\nAlso, I tried to invalidate caches and restart IntelliJ.  Despite everything I do, this IntelliJ does not show the correct version library.\r\n\r\n  [1]: https://i.stack.imgur.com/lRfRS.png","title":"Intellij doesn&#39;t update to correct version of the dependency","body":"<p>I am using IntelliJ Ultimate version 2022.1. I have the following pom.file:</p>\n<pre><code>....\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.dexi&lt;/groupId&gt;\n      &lt;artifactId&gt;webi-common-rest-service&lt;/artifactId&gt;\n      &lt;version&gt;1.15.61&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have run from the terminal and from IntelliJ the command <code> mvn clean install</code>.\nTo check if I have the correct version of the library I run the command <code>mvn dependency:tree</code> and the result is as follows:</p>\n<pre><code>[INFO] +- io.dexi:webi-common-rest-service:jar:1.15.61:compile\n[INFO] |  +- com.squareup.retrofit2:retrofit:jar:2.4.0:compile\n[INFO] |  |  \\- com.squareup.okhttp3:okhttp:jar:3.10.0:compile\n[INFO] |  +- com.squareup.okio:okio:jar:1.13.0:compile\n\n</code></pre>\n<p>It retrieves the correct version of the library(1.15.61). But when I open a file of that library in the IntelliJ it defaults to the wrong version as is shown below:\n<a href=\"https://i.stack.imgur.com/lRfRS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lRfRS.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried to update the IntelliJ to the latest version and download the latest patches but the problem still persisted.</p>\n<p>Also, I tried to invalidate caches and restart IntelliJ.  Despite everything I do, this IntelliJ does not show the correct version library.</p>\n"},{"tags":["java","listview","javafx","textarea"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1662469467,"post_id":73621791,"comment_id":130008479,"body_markdown":"don&#39;t hard-code sizing constraints ..","body":"don&#39;t hard-code sizing constraints .."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1662470203,"post_id":73621791,"comment_id":130008801,"body_markdown":"As well as not hard-coding the sizes (what are you expecting to happen if you, for example, hard-code the preferred height of the `HBox` to `200`?), don&#39;t use layout panes that essentially rely on hard-coded sizes. These include `AnchorPane` and `Pane`. For the specific example you have, get rid of both `Pane`s and the `AnchorPane` and place the `HBox` directly in the center of the `BorderPane`. You may also be able to get rid of the `HBox`, since it has only one child node, and place the `VBox` directly in the center.","body":"As well as not hard-coding the sizes (what are you expecting to happen if you, for example, hard-code the preferred height of the <code>HBox</code> to <code>200</code>?), don&#39;t use layout panes that essentially rely on hard-coded sizes. These include <code>AnchorPane</code> and <code>Pane</code>. For the specific example you have, get rid of both <code>Pane</code>s and the <code>AnchorPane</code> and place the <code>HBox</code> directly in the center of the <code>BorderPane</code>. You may also be able to get rid of the <code>HBox</code>, since it has only one child node, and place the <code>VBox</code> directly in the center."},{"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"score":0,"creation_date":1662473007,"post_id":73621791,"comment_id":130010054,"body_markdown":"Dear @James_D can you write it as an answer, your comment solved my issue and I would like to vote it up and mark as an answer! Thank you very much for the help!","body":"Dear @James_D can you write it as an answer, your comment solved my issue and I would like to vote it up and mark as an answer! Thank you very much for the help!"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1662475458,"creation_date":1662474330,"answer_id":73623678,"question_id":73621791,"body_markdown":"Don&#39;t hard-code sizes, and don&#39;t use layout panes such as `Pane` and `AnchorPane` that rely on hard-coded sizes except in very rare circumstances. \r\n\r\n(You may sometimes need to set the max size to `Double.MAX_VALUE` to allow a control to grow beyond its preferred size, but even that is not necessary in this example, as far as I can tell.)\r\n\r\nYour FXML has an empty `Pane` and at least two redundant wrapper containers which only wrap one node (the other `Pane` and the `AnchorPane`). Remove all of these and the hard-coded values and it will work:\r\n\r\n&lt;!-- language:lang-xml --&gt;\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.control.ListView?&gt;\r\n    &lt;?import javafx.scene.control.TextArea?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    &lt;BorderPane xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;center&gt;\r\n            &lt;HBox&gt;\r\n                &lt;children&gt;\r\n                    &lt;VBox HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n                        &lt;children&gt;\r\n                            &lt;TextArea VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                            &lt;ListView VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                        &lt;/children&gt;\r\n                    &lt;/VBox&gt;\r\n                &lt;/children&gt;\r\n            &lt;/HBox&gt;\r\n        &lt;/center&gt;\r\n    &lt;/BorderPane&gt;\r\n\r\nDepending on your real use-case, you may not need the `HBox` either:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.ListView?&gt;\r\n    &lt;?import javafx.scene.control.TextArea?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    &lt;BorderPane xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;center&gt;\r\n                &lt;VBox&gt;\r\n                    &lt;children&gt;\r\n                        &lt;TextArea VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                        &lt;ListView VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                    &lt;/children&gt;\r\n                &lt;/VBox&gt;\r\n        &lt;/center&gt;\r\n    &lt;/BorderPane&gt;","title":"JavaFX: expanding TextArea, Listview (Vgrow/Hgrow = &#39;ALWAYS&#39; doesn&#39;t work)","body":"<p>Don't hard-code sizes, and don't use layout panes such as <code>Pane</code> and <code>AnchorPane</code> that rely on hard-coded sizes except in very rare circumstances.</p>\n<p>(You may sometimes need to set the max size to <code>Double.MAX_VALUE</code> to allow a control to grow beyond its preferred size, but even that is not necessary in this example, as far as I can tell.)</p>\n<p>Your FXML has an empty <code>Pane</code> and at least two redundant wrapper containers which only wrap one node (the other <code>Pane</code> and the <code>AnchorPane</code>). Remove all of these and the hard-coded values and it will work:</p>\n\n\n<pre><code>&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.control.TextArea?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;center&gt;\n        &lt;HBox&gt;\n            &lt;children&gt;\n                &lt;VBox HBox.hgrow=&quot;ALWAYS&quot;&gt;\n                    &lt;children&gt;\n                        &lt;TextArea VBox.vgrow=&quot;ALWAYS&quot; /&gt;\n                        &lt;ListView VBox.vgrow=&quot;ALWAYS&quot; /&gt;\n                    &lt;/children&gt;\n                &lt;/VBox&gt;\n            &lt;/children&gt;\n        &lt;/HBox&gt;\n    &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>Depending on your real use-case, you may not need the <code>HBox</code> either:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.control.TextArea?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;center&gt;\n            &lt;VBox&gt;\n                &lt;children&gt;\n                    &lt;TextArea VBox.vgrow=&quot;ALWAYS&quot; /&gt;\n                    &lt;ListView VBox.vgrow=&quot;ALWAYS&quot; /&gt;\n                &lt;/children&gt;\n            &lt;/VBox&gt;\n    &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n"}],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73623678,"answer_count":1,"score":0,"last_activity_date":1662475458,"creation_date":1662466054,"question_id":73621791,"body_markdown":"I have a simple JavaFX application, a BorderLayout with an AnchorPane and inside two panes, one contains a HBox and a VBox with a TextArea and a ListView. I would like them to increase in width, as I increase the window size. I have tried Vgrow/Hgrow = &#39;ALWAYS&#39; and Max Width/Max Height = &#39;MAX_VALUE&#39; on the the controls but nothing works.- (I use Scene Builder to create the fxml)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe FXML is the following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.ListView?&gt;\r\n    &lt;?import javafx.scene.control.TextArea?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.layout.BorderPane?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    &lt;?import javafx.scene.layout.Pane?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    \r\n    &lt;BorderPane maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n       &lt;center&gt;\r\n          &lt;AnchorPane maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n             &lt;children&gt;\r\n                &lt;Pane maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot; /&gt;\r\n                &lt;Pane maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;200.0&quot;&gt;\r\n                   &lt;children&gt;\r\n                      &lt;HBox maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot;&gt;\r\n                         &lt;children&gt;\r\n                            &lt;VBox maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n                               &lt;children&gt;\r\n                                  &lt;TextArea maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                                  &lt;ListView maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                               &lt;/children&gt;\r\n                            &lt;/VBox&gt;\r\n                         &lt;/children&gt;\r\n                      &lt;/HBox&gt;\r\n                   &lt;/children&gt;\r\n                &lt;/Pane&gt;\r\n             &lt;/children&gt;\r\n          &lt;/AnchorPane&gt;\r\n       &lt;/center&gt;\r\n    &lt;/BorderPane&gt;\r\n\r\nMy java application class (HelloApplication):\r\n\r\n    package com.example.demo;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n**UPDATE:** I removed the unnecessary AnchorPane and other Panes, kept only a VBox and placed it in another BorderLayout, take a look, now seems perfect :) \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sAcmO.jpg\r\n  [2]: https://i.stack.imgur.com/NFbPr.jpg","title":"JavaFX: expanding TextArea, Listview (Vgrow/Hgrow = &#39;ALWAYS&#39; doesn&#39;t work)","body":"<p>I have a simple JavaFX application, a BorderLayout with an AnchorPane and inside two panes, one contains a HBox and a VBox with a TextArea and a ListView. I would like them to increase in width, as I increase the window size. I have tried Vgrow/Hgrow = 'ALWAYS' and Max Width/Max Height = 'MAX_VALUE' on the the controls but nothing works.- (I use Scene Builder to create the fxml)</p>\n<p><a href=\"https://i.stack.imgur.com/sAcmO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sAcmO.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The FXML is the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.control.TextArea?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;BorderPane maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;center&gt;\n      &lt;AnchorPane maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;children&gt;\n            &lt;Pane maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot; /&gt;\n            &lt;Pane maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;200.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;HBox maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;VBox maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\n                           &lt;children&gt;\n                              &lt;TextArea maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\n                              &lt;ListView maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\n                           &lt;/children&gt;\n                        &lt;/VBox&gt;\n                     &lt;/children&gt;\n                  &lt;/HBox&gt;\n               &lt;/children&gt;\n            &lt;/Pane&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>My java application class (HelloApplication):</p>\n<pre><code>package com.example.demo;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><strong>UPDATE:</strong> I removed the unnecessary AnchorPane and other Panes, kept only a VBox and placed it in another BorderLayout, take a look, now seems perfect :)</p>\n<p><a href=\"https://i.stack.imgur.com/NFbPr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NFbPr.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","tags","cloud"],"answers":[{"tags":[],"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1509727758,"creation_date":1509727758,"answer_id":47100755,"question_id":47100653,"body_markdown":"It seems like you imported `CreateTagsRequest` from `com.amazonaws.services.workspaces.model` instead of from `com.amazonaws.services.ec2.model`. Notice the difference there between `wokspaces` and `ec2` in the middle.","title":"Set a tag to EC2 instance using JAVA","body":"<p>It seems like you imported <code>CreateTagsRequest</code> from <code>com.amazonaws.services.workspaces.model</code> instead of from <code>com.amazonaws.services.ec2.model</code>. Notice the difference there between <code>wokspaces</code> and <code>ec2</code> in the middle.</p>\n"},{"tags":[],"owner":{"account_id":6825376,"reputation":792,"user_id":5251241,"display_name":"Randhir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607497207,"creation_date":1607497207,"answer_id":65212042,"question_id":47100653,"body_markdown":"Used **withResources**(instanceId) method from CreateTagsRequest class instead of **withResourceId**(instanceId) and it worked. \r\n\r\nBelow code for reference:\r\n\r\n    \t Collection&lt;Tag&gt; tags = new ArrayList&lt;Tag&gt;();\r\n\t     Tag t = new Tag();\r\n         t.setKey(&quot;keyname&quot;);\r\n         t.setValue(&quot;keyvalue&quot;);\r\n         tags.add(t);\r\n         \r\n         CreateTagsRequest createTagsRequest = new CreateTagsRequest();  \r\n         createTagsRequest.withTags(tags);\r\n         createTagsRequest.withResources(instanceId);\r\n         \r\n         ec2Client.createTags(createTagsRequest);","title":"Set a tag to EC2 instance using JAVA","body":"<p>Used <strong>withResources</strong>(instanceId) method from CreateTagsRequest class instead of <strong>withResourceId</strong>(instanceId) and it worked.</p>\n<p>Below code for reference:</p>\n<pre><code>     Collection&lt;Tag&gt; tags = new ArrayList&lt;Tag&gt;();\n     Tag t = new Tag();\n     t.setKey(&quot;keyname&quot;);\n     t.setValue(&quot;keyvalue&quot;);\n     tags.add(t);\n     \n     CreateTagsRequest createTagsRequest = new CreateTagsRequest();  \n     createTagsRequest.withTags(tags);\n     createTagsRequest.withResources(instanceId);\n     \n     ec2Client.createTags(createTagsRequest);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":953871,"reputation":3455,"user_id":979521,"display_name":"Brad Rippe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662475437,"creation_date":1662475437,"answer_id":73623918,"question_id":47100653,"body_markdown":"An update for AWS SDK version:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n        &lt;version&gt;2.17.230&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI used the following code:\r\n   \r\n\r\n    Region region = Region.US_WEST_2;\r\n    Ec2Client ec2 = Ec2Client.builder()\r\n                   .region(region)\r\n                   .credentialsProvider(ProfileCredentialsProvider.create())\r\n                   .build();\r\n\r\n    try {\r\n        ArrayList&lt;Tag&gt; tags = new ArrayList&lt;Tag&gt;();\r\n        tags.add(Tag.builder().key(&quot;tag&quot;).value(&quot;value&quot;).build());\r\n        CreateTagsRequest request = CreateTagsRequest.builder()\r\n                .resources(&quot;instanceId&quot;)\r\n                .tags(tags).build();\r\n        ec2.createTags(request);\r\n    } catch (Ec2Exception e) {\r\n        System.out.println(&quot;Error setting instance id &quot; + instanceId + &quot; with tag &quot; + tag +  &quot; to value &quot; + value);\r\n        System.err.println(e.awsErrorDetails().errorCode());\r\n    \r\n    }\r\n    System.out.println(&quot;SET instance id &quot; + instanceId + &quot; with tag &quot; + tag + &quot; to value &quot; + value);\r\n\r\n","title":"Set a tag to EC2 instance using JAVA","body":"<p>An update for AWS SDK version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;bom&lt;/artifactId&gt;\n    &lt;version&gt;2.17.230&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I used the following code:</p>\n<pre><code>Region region = Region.US_WEST_2;\nEc2Client ec2 = Ec2Client.builder()\n               .region(region)\n               .credentialsProvider(ProfileCredentialsProvider.create())\n               .build();\n\ntry {\n    ArrayList&lt;Tag&gt; tags = new ArrayList&lt;Tag&gt;();\n    tags.add(Tag.builder().key(&quot;tag&quot;).value(&quot;value&quot;).build());\n    CreateTagsRequest request = CreateTagsRequest.builder()\n            .resources(&quot;instanceId&quot;)\n            .tags(tags).build();\n    ec2.createTags(request);\n} catch (Ec2Exception e) {\n    System.out.println(&quot;Error setting instance id &quot; + instanceId + &quot; with tag &quot; + tag +  &quot; to value &quot; + value);\n    System.err.println(e.awsErrorDetails().errorCode());\n\n}\nSystem.out.println(&quot;SET instance id &quot; + instanceId + &quot; with tag &quot; + tag + &quot; to value &quot; + value);\n</code></pre>\n"}],"owner":{"account_id":11634630,"reputation":855,"user_id":8521468,"accept_rate":73,"display_name":"jonb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1361,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47100755,"answer_count":3,"score":2,"last_activity_date":1662475437,"creation_date":1509727487,"question_id":47100653,"body_markdown":"This is the last code I tried: \r\n\r\n    System.out.println(&quot;Manager not exists. Going to create.&quot;);\r\n\t            // Basic 32-bit Amazon Linux AMI 1.0 (AMI Id: ami-08728661)\r\n\t            RunInstancesRequest request = new RunInstancesRequest(&quot;ami-acd005d5&quot;, 1, 1);\r\n\t            request.setInstanceType(InstanceType.T2Micro.toString());\r\n\t            List&lt;Instance&gt; instances = ec2.runInstances(request).getReservation().getInstances();\r\n\t            System.out.println(&quot;Launch instances: &quot; + instances);\r\n\t            Instance instance = instances.get(0);\r\n\t            \r\n\t            Collection&lt;String&gt; resources = new ArrayList();\r\n\t            resources.add(instance.getInstanceId());\r\n\t            Collection&lt;Tag&gt; tags = new ArrayList();\r\n\t            tags.add(new Tag(&quot;Name&quot;, &quot;Manager&quot;));\r\n\t            CreateTagsRequest createTagsRequest = new CreateTagsRequest();\t\r\n\t            createTagsRequest.setResourceId(instance.getInstanceId());\r\n\t            createTagsRequest.setTags(tags);\r\n\t            CreateTagsResult tagsRsults = createTags(createTagsRequest);\r\n\t            \r\nIt doesn&#39;t compile on line createTagsRequest.setTags(tags): \r\n\r\n    The method setTags(java.util.Collection&lt;com.amazonaws.services.workspaces.model.Tag&gt;) in the type CreateTagsRequest is not applicable for the arguments (java.util.Collection&lt;com.amazonaws.services.ec2.model.Tag&gt;)\r\n\r\nIt offers me to change &#39;setTags&#39; to &#39;withTags&#39; and the opposite (Circular situation) .\r\nTried several methods, looked at the AWS documentation and Javadoc. \r\n\r\nThis is my imports: \r\n\r\n        import com.amazonaws.services.ec2.AmazonEC2;\r\n    import com.amazonaws.services.ec2.AmazonEC2ClientBuilder;\r\n    import com.amazonaws.services.ec2.model.Instance;\r\n    import com.amazonaws.services.ec2.model.InstanceStateName;\r\n    import com.amazonaws.services.ec2.model.InstanceType;\r\n    import com.amazonaws.services.ec2.model.Reservation;\r\n    import com.amazonaws.services.ec2.model.RunInstancesRequest;\r\n    import com.amazonaws.services.ec2.model.Tag;\r\n\r\nEdit: \r\nCurrent code not working: \r\n\r\n    Collection&lt;Tag&gt; tags = new ArrayList&lt;Tag&gt;();\r\n    Tag t = new Tag();\r\n                t.setKey(&quot;Name&quot;);\r\n                t.setValue(&quot;Manager&quot;);\r\n                tags.add(t);\r\n                CreateTagsRequest createTagsRequest = new CreateTagsRequest();\t\r\n                createTagsRequest.withTags(tags);\r\n                createTagsRequest.withResourceId(instance.getInstanceId());\r\n                ec2.createTags(createTagsRequest);\r\n\r\n","title":"Set a tag to EC2 instance using JAVA","body":"<p>This is the last code I tried: </p>\n\n<pre><code>System.out.println(\"Manager not exists. Going to create.\");\n            // Basic 32-bit Amazon Linux AMI 1.0 (AMI Id: ami-08728661)\n            RunInstancesRequest request = new RunInstancesRequest(\"ami-acd005d5\", 1, 1);\n            request.setInstanceType(InstanceType.T2Micro.toString());\n            List&lt;Instance&gt; instances = ec2.runInstances(request).getReservation().getInstances();\n            System.out.println(\"Launch instances: \" + instances);\n            Instance instance = instances.get(0);\n\n            Collection&lt;String&gt; resources = new ArrayList();\n            resources.add(instance.getInstanceId());\n            Collection&lt;Tag&gt; tags = new ArrayList();\n            tags.add(new Tag(\"Name\", \"Manager\"));\n            CreateTagsRequest createTagsRequest = new CreateTagsRequest();  \n            createTagsRequest.setResourceId(instance.getInstanceId());\n            createTagsRequest.setTags(tags);\n            CreateTagsResult tagsRsults = createTags(createTagsRequest);\n</code></pre>\n\n<p>It doesn't compile on line createTagsRequest.setTags(tags): </p>\n\n<pre><code>The method setTags(java.util.Collection&lt;com.amazonaws.services.workspaces.model.Tag&gt;) in the type CreateTagsRequest is not applicable for the arguments (java.util.Collection&lt;com.amazonaws.services.ec2.model.Tag&gt;)\n</code></pre>\n\n<p>It offers me to change 'setTags' to 'withTags' and the opposite (Circular situation) .\nTried several methods, looked at the AWS documentation and Javadoc. </p>\n\n<p>This is my imports: </p>\n\n<pre><code>    import com.amazonaws.services.ec2.AmazonEC2;\nimport com.amazonaws.services.ec2.AmazonEC2ClientBuilder;\nimport com.amazonaws.services.ec2.model.Instance;\nimport com.amazonaws.services.ec2.model.InstanceStateName;\nimport com.amazonaws.services.ec2.model.InstanceType;\nimport com.amazonaws.services.ec2.model.Reservation;\nimport com.amazonaws.services.ec2.model.RunInstancesRequest;\nimport com.amazonaws.services.ec2.model.Tag;\n</code></pre>\n\n<p>Edit: \nCurrent code not working: </p>\n\n<pre><code>Collection&lt;Tag&gt; tags = new ArrayList&lt;Tag&gt;();\nTag t = new Tag();\n            t.setKey(\"Name\");\n            t.setValue(\"Manager\");\n            tags.add(t);\n            CreateTagsRequest createTagsRequest = new CreateTagsRequest();  \n            createTagsRequest.withTags(tags);\n            createTagsRequest.withResourceId(instance.getInstanceId());\n            ec2.createTags(createTagsRequest);\n</code></pre>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662475240,"creation_date":1662475240,"answer_id":73623872,"question_id":73623500,"body_markdown":"It&#39;s possible, but you would need to call `consumer.close()` then create a new instance with new config properties.\r\n\r\nI&#39;m not sure what you mean by &quot;warmup/take time&quot; since your JVM would already be &quot;warm&quot; and the network connection to bootstrap to Kafka and fetch shouldn&#39;t be &quot;slow&quot;.\r\n\r\nIf you really want to control resource utilization in Kafka cluster, use throttling quotas at the server side, rather than force clients to modify properties at runtime. ","title":"Increase/Reduce max.poll.records dynamically","body":"<p>It's possible, but you would need to call <code>consumer.close()</code> then create a new instance with new config properties.</p>\n<p>I'm not sure what you mean by &quot;warmup/take time&quot; since your JVM would already be &quot;warm&quot; and the network connection to bootstrap to Kafka and fetch shouldn't be &quot;slow&quot;.</p>\n<p>If you really want to control resource utilization in Kafka cluster, use throttling quotas at the server side, rather than force clients to modify properties at runtime.</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662475240,"creation_date":1662473508,"question_id":73623500,"body_markdown":"Using Apache Kafka client from Java, is there any way to change a `Kafka consumer` config once has been created?.\r\n\r\nI want to `increase/reduce` `max.poll.records` depending of the number of consumers in the cluster.\r\n\r\nThe only way is destroy, and recreate the consumer?. If that&#39;s the case, is bad since create a new consumer it will take time, and also the warmup.\r\n\r\n","title":"Increase/Reduce max.poll.records dynamically","body":"<p>Using Apache Kafka client from Java, is there any way to change a <code>Kafka consumer</code> config once has been created?.</p>\n<p>I want to <code>increase/reduce</code> <code>max.poll.records</code> depending of the number of consumers in the cluster.</p>\n<p>The only way is destroy, and recreate the consumer?. If that's the case, is bad since create a new consumer it will take time, and also the warmup.</p>\n"},{"tags":["java","selenium","testng-eclipse"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1662474906,"post_id":73623679,"comment_id":130010837,"body_markdown":"Are you sure the automatically invoked constructor of `DynamicProperties` always gets an initialized `WebDriver` passed?","body":"Are you sure the automatically invoked constructor of <code>DynamicProperties</code> always gets an initialized <code>WebDriver</code> passed?"},{"owner":{"account_id":10001672,"reputation":511,"user_id":7397403,"display_name":"ketanvj"},"score":0,"creation_date":1662477023,"post_id":73623679,"comment_id":130011756,"body_markdown":"@Muhammad Kamran, you have kept the following code at class level. I suggest you to move that into a method. As when you initialize the object, these lines get executed before the constructor is called.  `By vis = By.xpath(&quot;//button[@id=enableAfter&#39;]&quot;);\n    WebElement visibleAfterFive = driver.findElement(vis);\n    Boolean button = visibleAfterFive.isDisplayed();`","body":"@Muhammad Kamran, you have kept the following code at class level. I suggest you to move that into a method. As when you initialize the object, these lines get executed before the constructor is called.  <code>By vis = By.xpath(&quot;&#47;&#47;button[@id=enableAfter&#39;]&quot;);     WebElement visibleAfterFive = driver.findElement(vis);     Boolean button = visibleAfterFive.isDisplayed();</code>"},{"owner":{"account_id":25468319,"reputation":1,"user_id":19266984,"display_name":"Muhammad Kamran"},"score":0,"creation_date":1662548090,"post_id":73623679,"comment_id":130029668,"body_markdown":"@deHaar yeah, I think so.","body":"@deHaar yeah, I think so."}],"owner":{"account_id":25468319,"reputation":1,"user_id":19266984,"display_name":"Muhammad Kamran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662475965,"answer_count":0,"score":0,"last_activity_date":1662474697,"creation_date":1662474335,"question_id":73623679,"body_markdown":"I have to assert whether the page has button enabled or not but each time I run my code I get the mentioned error. Can anyone please have a look at this ?\r\n\r\n**Here is my class that has selector for the button.**\r\n```java\r\npublic class DynamicProperties {\r\n\r\n\tWebDriver driver;\r\n\t//Constructor that will be automatically called as soon as the object of the class is created\r\n\tpublic DynamicProperties(WebDriver driver) {\r\n\t\tthis.driver = driver;\r\n\t}\r\n\t\r\n\t//Locators for the page title and the logout button\r\n\tBy vis = By.xpath(&quot;//button[@id=enableAfter&#39;]&quot;);\r\n\tWebElement visibleAfterFive = driver.findElement(vis);\r\n\tBoolean button = visibleAfterFive.isDisplayed();\r\n\t\r\n\tpublic Boolean getButton() {\r\n\t\treturn button;\r\n\t}\r\n}\r\n```\r\n**And here is my Test Case Running Class:**\r\n```java\r\npublic class TestCase9_DynamicProperties {\r\n\r\n\t@Test(priority=1, description = &quot;Testing the button&quot;) \r\n\tpublic void checkEnableAfter() throws InterruptedException {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Link to chromedriver&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.get(&quot;https://demoqa.com/dynamic-properties&quot;);\r\n\t\t\r\n\t\tDynamicProperties DP = new DynamicProperties(driver);\r\n\t\tThread.sleep(5000);\r\n\t\t\r\n\t\tboolean button = DP.getButton();\r\n\t\tboolean actualValue = true;\r\n\t\tAssert.assertEquals(button,actualValue);\r\n\t\tdriver.quit();\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null. Selenium java","body":"<p>I have to assert whether the page has button enabled or not but each time I run my code I get the mentioned error. Can anyone please have a look at this ?</p>\n<p><strong>Here is my class that has selector for the button.</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DynamicProperties {\n\n    WebDriver driver;\n    //Constructor that will be automatically called as soon as the object of the class is created\n    public DynamicProperties(WebDriver driver) {\n        this.driver = driver;\n    }\n    \n    //Locators for the page title and the logout button\n    By vis = By.xpath(&quot;//button[@id=enableAfter']&quot;);\n    WebElement visibleAfterFive = driver.findElement(vis);\n    Boolean button = visibleAfterFive.isDisplayed();\n    \n    public Boolean getButton() {\n        return button;\n    }\n}\n</code></pre>\n<p><strong>And here is my Test Case Running Class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestCase9_DynamicProperties {\n\n    @Test(priority=1, description = &quot;Testing the button&quot;) \n    public void checkEnableAfter() throws InterruptedException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Link to chromedriver&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;https://demoqa.com/dynamic-properties&quot;);\n        \n        DynamicProperties DP = new DynamicProperties(driver);\n        Thread.sleep(5000);\n        \n        boolean button = DP.getButton();\n        boolean actualValue = true;\n        Assert.assertEquals(button,actualValue);\n        driver.quit();\n    }\n}\n</code></pre>\n"},{"tags":["java","file-io","out-of-memory","arrays"],"comments":[{"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"score":1,"creation_date":1377775554,"post_id":18508836,"comment_id":27215580,"body_markdown":"In the sample code you mentioned, you are simply loading the entire file in `ByteArrayOutputStream`. What is the use case ? Do really need the entire file data in a `byte[]` ?","body":"In the sample code you mentioned, you are simply loading the entire file in <code>ByteArrayOutputStream</code>. What is the use case ? Do really need the entire file data in a <code>byte[]</code> ?"},{"owner":{"account_id":6301885,"reputation":385,"user_id":4896247,"accept_rate":25,"display_name":"Bhupi"},"score":0,"creation_date":1438636224,"post_id":18508836,"comment_id":51521332,"body_markdown":"Can you let me know which JDK version you are planning to use , i have different solution for JDK 8 and JDK7 or lesser.","body":"Can you let me know which JDK version you are planning to use , i have different solution for JDK 8 and JDK7 or lesser."},{"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"score":1,"creation_date":1438682773,"post_id":18508836,"comment_id":51538507,"body_markdown":"@Luffy does it make sense to answer this question without knowing **why** so much data is read into memory?","body":"@Luffy does it make sense to answer this question without knowing <b>why</b> so much data is read into memory?"},{"owner":{"account_id":409026,"reputation":1559,"user_id":780036,"display_name":"formixian"},"score":0,"creation_date":1438717890,"post_id":18508836,"comment_id":132260036,"body_markdown":"You should increase heap size as stated in the following answer: https://stackoverflow.com/questions/1565388/increase-heap-size-in-java But remember that the Java runtime and you code take some space as well so add some buffer to the desired maximum.","body":"You should increase heap size as stated in the following answer: <a href=\"https://stackoverflow.com/questions/1565388/increase-heap-size-in-java\" title=\"increase heap size in java\">stackoverflow.com/questions/1565388/increase-heap-size-in-ja&zwnj;&#8203;va</a> But remember that the Java runtime and you code take some space as well so add some buffer to the desired maximum."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1662474214,"post_id":18508836,"comment_id":132260037,"body_markdown":"What if the input files are unbounded in size and not within your control?","body":"What if the input files are unbounded in size and not within your control?"},{"owner":{"account_id":409026,"reputation":1559,"user_id":780036,"display_name":"formixian"},"score":0,"creation_date":1672277863,"post_id":18508836,"comment_id":132260038,"body_markdown":"Not controlling the file size is basically always the case when you release your software but most of the time, you can ballpark file sizes that will be fed to your program. When you cannot guess, what I&#39;ve seen in other java commercial app is a piece of documentation that explains how to configure the java runtime max heap parameter to fit your needs. The insallation default is usually set to an amount of heap covering 95% of cases.","body":"Not controlling the file size is basically always the case when you release your software but most of the time, you can ballpark file sizes that will be fed to your program. When you cannot guess, what I&#39;ve seen in other java commercial app is a piece of documentation that explains how to configure the java runtime max heap parameter to fit your needs. The insallation default is usually set to an amount of heap covering 95% of cases."}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1377773693,"creation_date":1377773215,"answer_id":18508873,"question_id":18508836,"body_markdown":"The Java virtual machine (JVM) runs with a fixed upper memory limit, which you can modify thus:\r\n\r\n    java -Xmx1024m ....\r\n\r\ne.g. the above option (-Xmx...) sets the limit to 1024 megabytes. You can amend as necessary (within limits of your machine, OS etc.) Note that this is different from traditional applications which would allocate more and more memory from the OS upon demand. \r\n\r\nHowever a better solution is to rework your application such that you don&#39;t need to load the *whole* file into memory at one go. That way you don&#39;t have to tune your JVM, and you don&#39;t impose a huge memory footprint.\r\n\r\n","title":"Java OutOfMemoryError in reading a large text file","body":"<p>The Java virtual machine (JVM) runs with a fixed upper memory limit, which you can modify thus:</p>\n\n<pre><code>java -Xmx1024m ....\n</code></pre>\n\n<p>e.g. the above option (-Xmx...) sets the limit to 1024 megabytes. You can amend as necessary (within limits of your machine, OS etc.) Note that this is different from traditional applications which would allocate more and more memory from the OS upon demand. </p>\n\n<p>However a better solution is to rework your application such that you don't need to load the <em>whole</em> file into memory at one go. That way you don't have to tune your JVM, and you don't impose a huge memory footprint.</p>\n"},{"tags":[],"owner":{"account_id":3219770,"reputation":99,"user_id":2717498,"accept_rate":67,"display_name":"sigi"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1377773268,"creation_date":1377773268,"answer_id":18508892,"question_id":18508836,"body_markdown":"You can&#39;t read 10GB Textfile in memory. You have to read X MB first, do something with it and than read the next X MB.","title":"Java OutOfMemoryError in reading a large text file","body":"<p>You can't read 10GB Textfile in memory. You have to read X MB first, do something with it and than read the next X MB.</p>\n"},{"tags":[],"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1377773483,"creation_date":1377773483,"answer_id":18508974,"question_id":18508836,"body_markdown":"`ByteArrayOutputStream` writes to an in-memory buffer. If this is really how you want it to work, then you have to size the JVM heap after the maximum possible size of the input. Also, if possible, you may check the input size before even start processing to save time and resources.\r\n\r\nThe alternative approach is a streaming solution, where the amount of memory used at runtime is known (maybe configurable but still known before the program starts), but if it&#39;s feasible or not depends entirely on you application&#39;s domain (because you can&#39;t use an in-memory buffer anymore) and maybe the architecture of the rest of your code if you can&#39;t/don&#39;t want to change it.","title":"Java OutOfMemoryError in reading a large text file","body":"<p><code>ByteArrayOutputStream</code> writes to an in-memory buffer. If this is really how you want it to work, then you have to size the JVM heap after the maximum possible size of the input. Also, if possible, you may check the input size before even start processing to save time and resources.</p>\n\n<p>The alternative approach is a streaming solution, where the amount of memory used at runtime is known (maybe configurable but still known before the program starts), but if it's feasible or not depends entirely on you application's domain (because you can't use an in-memory buffer anymore) and maybe the architecture of the rest of your code if you can't/don't want to change it.</p>\n"},{"tags":[],"owner":{"account_id":2003605,"reputation":3524,"user_id":1794058,"accept_rate":29,"display_name":"Ritesh Waghela"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1377773527,"creation_date":1377773527,"answer_id":18508983,"question_id":18508836,"body_markdown":"Try using a large buffer read size may be 10 mb and then check.","title":"Java OutOfMemoryError in reading a large text file","body":"<p>Try using a large buffer read size may be 10 mb and then check.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1377773648,"creation_date":1377773648,"answer_id":18509028,"question_id":18508836,"body_markdown":"The problem is inherent in what you&#39;re doing. Reading entire files into memory is always and everywhere a bad idea. You&#39;re really not going to be able to read a 10GB file into memory with current technology unless you have some pretty startling hardware. Find a way to process them line by line, record by record, chunk by chunk, ...","title":"Java OutOfMemoryError in reading a large text file","body":"<p>The problem is inherent in what you're doing. Reading entire files into memory is always and everywhere a bad idea. You're really not going to be able to read a 10GB file into memory with current technology unless you have some pretty startling hardware. Find a way to process them line by line, record by record, chunk by chunk, ...</p>\n"},{"tags":[],"owner":{"account_id":1203958,"reputation":18288,"user_id":1174054,"accept_rate":38,"display_name":"Takahiko Kawasaki"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1377775511,"creation_date":1377775040,"answer_id":18509499,"question_id":18508836,"body_markdown":"Try to use **java.nio.MappedByteBuffer**.\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/nio/MappedByteBuffer.html\r\n\r\nYou can map a file&#39;s content onto memory without copying it manually. High-level Operating Systems offer memory-mapping and Java has API to utilize the feature.\r\n\r\nIf my understanding is correct, memory-mapping does not load a file&#39;s entire content onto memory (meaning &quot;loaded and unloaded partially as necessary&quot;), so I guess a 10GB file won&#39;t eat up your memory.","title":"Java OutOfMemoryError in reading a large text file","body":"<p>Try to use <strong>java.nio.MappedByteBuffer</strong>.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/MappedByteBuffer.html\">http://docs.oracle.com/javase/7/docs/api/java/nio/MappedByteBuffer.html</a></p>\n\n<p>You can map a file's content onto memory without copying it manually. High-level Operating Systems offer memory-mapping and Java has API to utilize the feature.</p>\n\n<p>If my understanding is correct, memory-mapping does not load a file's entire content onto memory (meaning \"loaded and unloaded partially as necessary\"), so I guess a 10GB file won't eat up your memory.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1457564379,"creation_date":1438260220,"answer_id":31724120,"question_id":18508836,"body_markdown":"Is it mandatory to get entire `ByteArray()` of output stream?\r\n\r\n    byte[] data = bArrStream.toByteArray();\r\n\r\nBest approach is read line by line &amp; write it line by line. You can use `BufferedReader` or `Scanner` to read large files as below.\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class FileReadExample {\r\n      public static void main(String args[]) throws FileNotFoundException {\r\n        File fileObj = new File(args[0]);\r\n    \t\r\n    \tlong t1 = System.currentTimeMillis();\r\n    \ttry {\r\n    \t\t// BufferedReader object for reading the file\r\n    \t\tBufferedReader br = new BufferedReader(new FileReader(fileObj)); \r\n            // Reading each line of file using BufferedReader class\r\n    \t\tString str;\r\n            while ( (str = br.readLine()) != null) {\r\n                System.out.println(str);\r\n            }\r\n        }catch(Exception err){\r\n    \t\terr.printStackTrace();\r\n    \t}\r\n    \tlong t2 = System.currentTimeMillis();\r\n    \tSystem.out.println(&quot;Time taken for BufferedReader:&quot;+(t2-t1));\r\n    \t\r\n    \tt1 = System.currentTimeMillis();\r\n        try (\r\n    \t\t// Scanner object for reading the file\r\n    \t\tScanner scnr = new Scanner(fileObj);) {\r\n            // Reading each line of file using Scanner class\r\n            while (scnr.hasNextLine()) {\r\n                String strLine = scnr.nextLine();\r\n                // print data on console\r\n                System.out.println(strLine);\r\n            }\r\n        }\r\n    \tt2 = System.currentTimeMillis();\r\n    \tSystem.out.println(&quot;Time taken for scanner:&quot;+(t2-t1));\r\n    \t\r\n      }\r\n    }\r\n\r\nYou can replace `System.out` with your `ByteArrayOutputStream` in above example.\r\n\r\nPlease have a look at below article for more details: [Read Large File][1]\r\n\r\nHave a look at related SE question:\r\n\r\nhttps://stackoverflow.com/questions/2231369/scanner-vs-bufferedreader\r\n\r\n\r\n\r\n  [1]: http://www.devmanuals.com/tutorials/java/corejava/files/java-read-large-file-efficiently.html","title":"Java OutOfMemoryError in reading a large text file","body":"<p>Is it mandatory to get entire <code>ByteArray()</code> of output stream?</p>\n\n<pre><code>byte[] data = bArrStream.toByteArray();\n</code></pre>\n\n<p>Best approach is read line by line &amp; write it line by line. You can use <code>BufferedReader</code> or <code>Scanner</code> to read large files as below.</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class FileReadExample {\n  public static void main(String args[]) throws FileNotFoundException {\n    File fileObj = new File(args[0]);\n\n    long t1 = System.currentTimeMillis();\n    try {\n        // BufferedReader object for reading the file\n        BufferedReader br = new BufferedReader(new FileReader(fileObj)); \n        // Reading each line of file using BufferedReader class\n        String str;\n        while ( (str = br.readLine()) != null) {\n            System.out.println(str);\n        }\n    }catch(Exception err){\n        err.printStackTrace();\n    }\n    long t2 = System.currentTimeMillis();\n    System.out.println(\"Time taken for BufferedReader:\"+(t2-t1));\n\n    t1 = System.currentTimeMillis();\n    try (\n        // Scanner object for reading the file\n        Scanner scnr = new Scanner(fileObj);) {\n        // Reading each line of file using Scanner class\n        while (scnr.hasNextLine()) {\n            String strLine = scnr.nextLine();\n            // print data on console\n            System.out.println(strLine);\n        }\n    }\n    t2 = System.currentTimeMillis();\n    System.out.println(\"Time taken for scanner:\"+(t2-t1));\n\n  }\n}\n</code></pre>\n\n<p>You can replace <code>System.out</code> with your <code>ByteArrayOutputStream</code> in above example.</p>\n\n<p>Please have a look at below article for more details: <a href=\"http://www.devmanuals.com/tutorials/java/corejava/files/java-read-large-file-efficiently.html\" rel=\"nofollow noreferrer\">Read Large File</a></p>\n\n<p>Have a look at related SE question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2231369/scanner-vs-bufferedreader\">Scanner vs. BufferedReader</a></p>\n"},{"tags":[],"owner":{"account_id":1199260,"reputation":827,"user_id":1170270,"display_name":"ttekin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1438336685,"creation_date":1438336685,"answer_id":31743395,"question_id":18508836,"body_markdown":"Even though you can increase the JVM memory limit, it is needless and allocating a huge memory like 10GB to process a file sounds overkill and resource intensive. \r\n\r\nCurrently you are using a &quot;ByteArrayOutputStream&quot; which keeps an internal memory to keep the data. This line in your code keeps appending the last read 2KB file chunk to the end of this buffer:\r\n\r\n    bArrStream.write(localbuffer, 0, i);\r\n\r\nbArrStream keeps growing and eventually you run out of memory. \r\n\r\nInstead you should reorganize your algorithm and process the file in a streaming way:\r\n\r\n    InputStream inFileReader = channelSFtp.get(path); // file reading from ssh.\r\n    byte[] localbuffer = new byte[2048];\r\n\r\n    int i = 0;\r\n    while (-1 != (i = inFileReader.read(buffer))) {\r\n        //Deal with the current read 2KB file chunk here\r\n    }\r\n\r\n    inFileReader.close();","title":"Java OutOfMemoryError in reading a large text file","body":"<p>Even though you can increase the JVM memory limit, it is needless and allocating a huge memory like 10GB to process a file sounds overkill and resource intensive. </p>\n\n<p>Currently you are using a \"ByteArrayOutputStream\" which keeps an internal memory to keep the data. This line in your code keeps appending the last read 2KB file chunk to the end of this buffer:</p>\n\n<pre><code>bArrStream.write(localbuffer, 0, i);\n</code></pre>\n\n<p>bArrStream keeps growing and eventually you run out of memory. </p>\n\n<p>Instead you should reorganize your algorithm and process the file in a streaming way:</p>\n\n<pre><code>InputStream inFileReader = channelSFtp.get(path); // file reading from ssh.\nbyte[] localbuffer = new byte[2048];\n\nint i = 0;\nwhile (-1 != (i = inFileReader.read(buffer))) {\n    //Deal with the current read 2KB file chunk here\n}\n\ninFileReader.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3779925,"reputation":732,"user_id":3435210,"accept_rate":83,"display_name":"mussdroid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662474251,"creation_date":1438663379,"answer_id":31800848,"question_id":18508836,"body_markdown":"Assuming that you are reading large txt file and the data is set  line by line  , use line by line reading approach. As I know you can read up to 6GB may be more.\r\n\r\n...\r\n\r\n    // Open the file\r\n     FileInputStream fstream = new FileInputStream(&quot;textfile.txt&quot;);\r\n     BufferedReader br = new BufferedReader(new InputStreamReader(fstream));\r\n    \r\n      String strLine;\r\n    \r\n     //Read File Line By Line\r\n     while ((strLine = br.readLine()) != null)   {\r\n      // Print the content on the console\r\n      System.out.println (strLine);\r\n     }\r\n    \r\n     //Close the input stream\r\n     br.close();\r\n \r\n[Refrence for the code fragment][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java","title":"Java OutOfMemoryError in reading a large text file","body":"<p>Assuming that you are reading large txt file and the data is set  line by line  , use line by line reading approach. As I know you can read up to 6GB may be more.</p>\n<p>...</p>\n<pre><code>// Open the file\n FileInputStream fstream = new FileInputStream(&quot;textfile.txt&quot;);\n BufferedReader br = new BufferedReader(new InputStreamReader(fstream));\n\n  String strLine;\n\n //Read File Line By Line\n while ((strLine = br.readLine()) != null)   {\n  // Print the content on the console\n  System.out.println (strLine);\n }\n\n //Close the input stream\n br.close();\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java\">Refrence for the code fragment</a></p>\n"},{"tags":[],"owner":{"account_id":443166,"reputation":4002,"user_id":834219,"accept_rate":97,"display_name":"Som Bhattacharyya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1438668261,"creation_date":1438668261,"answer_id":31801778,"question_id":18508836,"body_markdown":"Read the file iteratively linewise. This would significantly reduce memory consumption. Alternately you may use \r\n\r\n&gt; FileUtils.lineIterator(theFile, &quot;UTF-8&quot;);\r\n\r\nprovided by Apache Commons IO.\r\n\r\n    FileInputStream inputStream = null;\r\n    Scanner sc = null;\r\n    try {\r\n    inputStream = new FileInputStream(path);\r\n    sc = new Scanner(inputStream, &quot;UTF-8&quot;);\r\n    while (sc.hasNextLine()) {\r\n        String line = sc.nextLine();\r\n        // System.out.println(line);\r\n    }\r\n    // note that Scanner suppresses exceptions\r\n    if (sc.ioException() != null) {\r\n        throw sc.ioException();\r\n    }\r\n    } finally {\r\n    if (inputStream != null) {\r\n        inputStream.close();\r\n    }\r\n    if (sc != null) {\r\n        sc.close();\r\n    }\r\n}","title":"Java OutOfMemoryError in reading a large text file","body":"<p>Read the file iteratively linewise. This would significantly reduce memory consumption. Alternately you may use </p>\n\n<blockquote>\n  <p>FileUtils.lineIterator(theFile, \"UTF-8\");</p>\n</blockquote>\n\n<p>provided by Apache Commons IO.</p>\n\n<pre><code>FileInputStream inputStream = null;\nScanner sc = null;\ntry {\ninputStream = new FileInputStream(path);\nsc = new Scanner(inputStream, \"UTF-8\");\nwhile (sc.hasNextLine()) {\n    String line = sc.nextLine();\n    // System.out.println(line);\n}\n// note that Scanner suppresses exceptions\nif (sc.ioException() != null) {\n    throw sc.ioException();\n}\n} finally {\nif (inputStream != null) {\n    inputStream.close();\n}\nif (sc != null) {\n    sc.close();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":6571840,"reputation":500,"user_id":5079510,"accept_rate":100,"display_name":"Samane"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655366791,"creation_date":1438675369,"answer_id":31803820,"question_id":18508836,"body_markdown":"Run Java with the command-line option -Xmx, which sets the maximum size of the heap.\r\n\r\n[See here for details..][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BABHDABI","title":"Java OutOfMemoryError in reading a large text file","body":"<p>Run Java with the command-line option -Xmx, which sets the maximum size of the heap.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BABHDABI\" rel=\"nofollow noreferrer\">See here for details..</a></p>\n"},{"tags":[],"owner":{"account_id":2982620,"reputation":4628,"user_id":2532275,"accept_rate":100,"display_name":"innoSPG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438780278,"creation_date":1438722100,"answer_id":31819247,"question_id":18508836,"body_markdown":"Short answer,\r\n\r\nwithout doing anything, you can push the current limit by a factor of 1.5. It means that, if you are able to process 800MB, you can process 1200 MB. It also means that if by some trick with `java -Xm ....` you can move to a point where your current code can process 7GB, your problem is solved, because the 1.5 factor will take you to 10.5GB, assuming you have that space available on your system and that JVM can get it.\r\n\r\nLong answer:\r\n\r\nThe error is pretty self-descriptive. You hit the practical memory limit on your configuration. There is a lot of speculating about the limit that you can have with JVM, I do not know enough about that, since I can not find any official information. However, you will somehow be limited by constraints like the available swap, the kernel address space usage, the memory fragmentation, etc.\r\n\r\nWhat is happening now is that `ByteArrayOutputStream` objects are created with a default buffer of size 32 if you do not supply any size (this is your case). Whenever you call the `write` method on the object, there is an internal machinery that is started. The [openjdk implementation release 7u40-b43][1] that seems to match perfectly with the output of your error, uses an internal method `ensureCapacity` to check that the buffer has enough room to put the bytes you want to write. If there is not enough room, another internal method `grow` is called to grow the size of the buffer. The method `grow` defines the appropriate size and calls the method `copyOf` from the class `Arrays` to do the job.\r\nThe appropriate size of the buffer is the maximum between the current size and the size riquired to hold all the content (the present content and the new content to be write).\r\nThe method `copyOf` from the class `Arrays` ([follow the link][2]) allocates the space for the new buffer, copy the content of the old buffer to the new one and return it to `grow`.\r\n\r\nYour problem occurs at the allocation of the space for the new buffer, After some `write`, you got to a point where the available memory is exhausted: `java.lang.OutOfMemoryError: Java heap space`.\r\n\r\nIf we look into details, you are reading by chunks of 2048. So \r\n\r\n - your first write to the grows the size of the buffer from 32 to 2048\r\n - your second call will double it to 2*2048\r\n - your third call will take it to 2^2*2048, you have to time to write two more times before the need of allocating.\r\n - then 2^3*2048, you will have the time for 4 mores writes before allocating again.\r\n - at some point, your buffer will be of size 2^18*2048 which is 2^19*1024 or 2^9*2^20 (512 MB)\r\n - then 2^19*2048 which is 1024 MB or 1 GB\r\n\r\nSomething that is unclear in your description is that you can somehow read up to 800MB, but can no go beyond. You have to explain that to me.\r\n\r\nI expect that your limit be exactly a power of 2 (or close if we use power of 10 units somewere). In that regard, I expect you to start having trouble immediatly above one of these: 256MB, 512 MB, 1GB, 2GB, etc.\r\n\r\nWhen you hit that limit, it does not mean that you are out of memory, it simply means that it is not possible to allocate another buffer of twice the size of the buffer you already have. This observation opens room for improvement in your work: find the maximum size of buffer that you can allocate and reserve it upfront by calling the appropriate constructor\r\n \r\n    ByteArrayOutputStream bArrStream = new ByteArrayOutputStream(myMaxSize);\r\n\r\nIt has the advantage of reducing the overhead background memory allocation that happens under the hood to keep you happy. By doing this, you will be able to go to 1.5 the limit you have right now. This is simply because the last time the buffer was increased, it went from half the current size to the current size, and at some point you had both the current buffer and the old one together in memory. But you will not be able to go beyond 3 times the limit you are having now. The explanation is exactly the same. \r\n \r\nThat been said, I do not have any magic suggestion to solve the problem apart from process your data by chunks of given size, one chunk at a time. Another good approach will be to use the suggestion of Takahiko Kawasaki and use `MappedByteBuffer`. Keep in mind that in any case you will need at least 10 GB of physical memory or swap memory to be able to load a file of 10GB.\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/io/ByteArrayOutputStream.java?av=f\r\n  \r\nsee\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/util/Arrays.java#Arrays.copyOf%28byte[]%2Cint%29","title":"Java OutOfMemoryError in reading a large text file","body":"<p>Short answer,</p>\n\n<p>without doing anything, you can push the current limit by a factor of 1.5. It means that, if you are able to process 800MB, you can process 1200 MB. It also means that if by some trick with <code>java -Xm ....</code> you can move to a point where your current code can process 7GB, your problem is solved, because the 1.5 factor will take you to 10.5GB, assuming you have that space available on your system and that JVM can get it.</p>\n\n<p>Long answer:</p>\n\n<p>The error is pretty self-descriptive. You hit the practical memory limit on your configuration. There is a lot of speculating about the limit that you can have with JVM, I do not know enough about that, since I can not find any official information. However, you will somehow be limited by constraints like the available swap, the kernel address space usage, the memory fragmentation, etc.</p>\n\n<p>What is happening now is that <code>ByteArrayOutputStream</code> objects are created with a default buffer of size 32 if you do not supply any size (this is your case). Whenever you call the <code>write</code> method on the object, there is an internal machinery that is started. The <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/io/ByteArrayOutputStream.java?av=f\" rel=\"nofollow\">openjdk implementation release 7u40-b43</a> that seems to match perfectly with the output of your error, uses an internal method <code>ensureCapacity</code> to check that the buffer has enough room to put the bytes you want to write. If there is not enough room, another internal method <code>grow</code> is called to grow the size of the buffer. The method <code>grow</code> defines the appropriate size and calls the method <code>copyOf</code> from the class <code>Arrays</code> to do the job.\nThe appropriate size of the buffer is the maximum between the current size and the size riquired to hold all the content (the present content and the new content to be write).\nThe method <code>copyOf</code> from the class <code>Arrays</code> (<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/util/Arrays.java#Arrays.copyOf%28byte[]%2Cint%29\" rel=\"nofollow\">follow the link</a>) allocates the space for the new buffer, copy the content of the old buffer to the new one and return it to <code>grow</code>.</p>\n\n<p>Your problem occurs at the allocation of the space for the new buffer, After some <code>write</code>, you got to a point where the available memory is exhausted: <code>java.lang.OutOfMemoryError: Java heap space</code>.</p>\n\n<p>If we look into details, you are reading by chunks of 2048. So </p>\n\n<ul>\n<li>your first write to the grows the size of the buffer from 32 to 2048</li>\n<li>your second call will double it to 2*2048</li>\n<li>your third call will take it to 2^2*2048, you have to time to write two more times before the need of allocating.</li>\n<li>then 2^3*2048, you will have the time for 4 mores writes before allocating again.</li>\n<li>at some point, your buffer will be of size 2^18*2048 which is 2^19*1024 or 2^9*2^20 (512 MB)</li>\n<li>then 2^19*2048 which is 1024 MB or 1 GB</li>\n</ul>\n\n<p>Something that is unclear in your description is that you can somehow read up to 800MB, but can no go beyond. You have to explain that to me.</p>\n\n<p>I expect that your limit be exactly a power of 2 (or close if we use power of 10 units somewere). In that regard, I expect you to start having trouble immediatly above one of these: 256MB, 512 MB, 1GB, 2GB, etc.</p>\n\n<p>When you hit that limit, it does not mean that you are out of memory, it simply means that it is not possible to allocate another buffer of twice the size of the buffer you already have. This observation opens room for improvement in your work: find the maximum size of buffer that you can allocate and reserve it upfront by calling the appropriate constructor</p>\n\n<pre><code>ByteArrayOutputStream bArrStream = new ByteArrayOutputStream(myMaxSize);\n</code></pre>\n\n<p>It has the advantage of reducing the overhead background memory allocation that happens under the hood to keep you happy. By doing this, you will be able to go to 1.5 the limit you have right now. This is simply because the last time the buffer was increased, it went from half the current size to the current size, and at some point you had both the current buffer and the old one together in memory. But you will not be able to go beyond 3 times the limit you are having now. The explanation is exactly the same. </p>\n\n<p>That been said, I do not have any magic suggestion to solve the problem apart from process your data by chunks of given size, one chunk at a time. Another good approach will be to use the suggestion of Takahiko Kawasaki and use <code>MappedByteBuffer</code>. Keep in mind that in any case you will need at least 10 GB of physical memory or swap memory to be able to load a file of 10GB.</p>\n\n<p>see</p>\n"},{"tags":[],"owner":{"account_id":2982620,"reputation":4628,"user_id":2532275,"accept_rate":100,"display_name":"innoSPG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438786660,"creation_date":1438786660,"answer_id":31836038,"question_id":18508836,"body_markdown":"After thinking about it, I decided to put a second answer. I considered the advantages and disadvantages of putting this second answer, and the advantages are worth going for it. So here it is.\r\n\r\nMost of the suggested considerations are forgetting a given fact: There is a builtin limit in the size of arrays (including `ByteArrayOutputStream`) that you can have in Java. And that limit is dictated by the bigest `int` value which is 2^31 - 1(little bit less than 2Giga). This means that you can only read a maximum of 2 GB (-1 byte) and put it in a single `ByteArrayOutputStream`. The limit might actually be smaller for array size if the VM wants more control.\r\n\r\nMy suggestion is to use an `ArrayList` of `byte[]` instead of a single `byte[]` holding the full content of the file. And also remove the non necessary step of putting in `ByteArrayOutputStream` before putting it in a final `data` array. Here is an example based on your original code:\r\n    \r\n    InputStream inFileReader = channelSFtp.get(path); // file reading from ssh.\r\n    \r\n    // good habits are good, define a buffer size\r\n    final int BUF_SIZE = (int)(Math.pow(2,30)); //1GB, let&#39;s not go close to the limit\r\n    \r\n    byte[] localbuffer = new byte[BUF_SIZE];\r\n\r\n    int i = 0;\r\n    while (-1 != (i = inFileReader.read(localbuffer))) {\r\n        if(i&lt;BUF_SIZE){\r\n            data.add( Arrays.copyOf(localbuffer, i) )\r\n            // No need to reallocate the reading buffer, we copied the data\r\n        }else{\r\n            data.add(localbuffer)\r\n            // reallocate the reading buffer\r\n            localbuffer = new byte[BUF_SIZE]\r\n        }\r\n    }\r\n    \r\n    inFileReader.close();\r\n    // Process your data, keep in mind that you have a list of buffers.\r\n    // So you need to loop over the list\r\n\r\nSimply running your program should work fine on 64 bits system with enough physical memory or swap. Now if you want to speed it up to help the VM size correctly the heap at the beginning, run with the options `-Xms` and `-Xmx`. For example if you want a heap of 12GB to be able to handle 10GB file, use `java -Xms12288m -Xmx12288m YourApp`","title":"Java OutOfMemoryError in reading a large text file","body":"<p>After thinking about it, I decided to put a second answer. I considered the advantages and disadvantages of putting this second answer, and the advantages are worth going for it. So here it is.</p>\n\n<p>Most of the suggested considerations are forgetting a given fact: There is a builtin limit in the size of arrays (including <code>ByteArrayOutputStream</code>) that you can have in Java. And that limit is dictated by the bigest <code>int</code> value which is 2^31 - 1(little bit less than 2Giga). This means that you can only read a maximum of 2 GB (-1 byte) and put it in a single <code>ByteArrayOutputStream</code>. The limit might actually be smaller for array size if the VM wants more control.</p>\n\n<p>My suggestion is to use an <code>ArrayList</code> of <code>byte[]</code> instead of a single <code>byte[]</code> holding the full content of the file. And also remove the non necessary step of putting in <code>ByteArrayOutputStream</code> before putting it in a final <code>data</code> array. Here is an example based on your original code:</p>\n\n<pre><code>InputStream inFileReader = channelSFtp.get(path); // file reading from ssh.\n\n// good habits are good, define a buffer size\nfinal int BUF_SIZE = (int)(Math.pow(2,30)); //1GB, let's not go close to the limit\n\nbyte[] localbuffer = new byte[BUF_SIZE];\n\nint i = 0;\nwhile (-1 != (i = inFileReader.read(localbuffer))) {\n    if(i&lt;BUF_SIZE){\n        data.add( Arrays.copyOf(localbuffer, i) )\n        // No need to reallocate the reading buffer, we copied the data\n    }else{\n        data.add(localbuffer)\n        // reallocate the reading buffer\n        localbuffer = new byte[BUF_SIZE]\n    }\n}\n\ninFileReader.close();\n// Process your data, keep in mind that you have a list of buffers.\n// So you need to loop over the list\n</code></pre>\n\n<p>Simply running your program should work fine on 64 bits system with enough physical memory or swap. Now if you want to speed it up to help the VM size correctly the heap at the beginning, run with the options <code>-Xms</code> and <code>-Xmx</code>. For example if you want a heap of 12GB to be able to handle 10GB file, use <code>java -Xms12288m -Xmx12288m YourApp</code></p>\n"}],"owner":{"account_id":130513,"reputation":1144,"user_id":329840,"accept_rate":64,"display_name":"A.P.S"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19827,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":18509499,"answer_count":13,"score":22,"last_activity_date":1662474251,"creation_date":1377773119,"question_id":18508836,"body_markdown":"I&#39;m new to Java and working on reading very large files, need some help to understand the problem and solve it. We have got some legacy code which have to be optimized to make it run properly.The file size can vary from 10mb to 10gb only. only trouble start when file starting beyond 800mb size.\r\n\r\n    InputStream inFileReader = channelSFtp.get(path); // file reading from ssh.\r\n    byte[] localbuffer = new byte[2048];\r\n    ByteArrayOutputStream bArrStream = new ByteArrayOutputStream();\r\n    \r\n    int i = 0;\r\n    while (-1 != (i = inFileReader.read(buffer))) {\r\n\tbArrStream.write(localbuffer, 0, i);\r\n    }\r\n\r\n    byte[] data = bArrStream.toByteArray();\r\n    inFileReader.close();\r\n    bos.close();\r\n\r\nWe are getting the error \r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n        at java.util.Arrays.copyOf(Arrays.java:2271)\r\n        at java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:113)\r\n        at java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)\r\n        at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:140)\r\n\r\nAny help would be appreciated?\r\n","title":"Java OutOfMemoryError in reading a large text file","body":"<p>I'm new to Java and working on reading very large files, need some help to understand the problem and solve it. We have got some legacy code which have to be optimized to make it run properly.The file size can vary from 10mb to 10gb only. only trouble start when file starting beyond 800mb size.</p>\n\n<pre><code>InputStream inFileReader = channelSFtp.get(path); // file reading from ssh.\nbyte[] localbuffer = new byte[2048];\nByteArrayOutputStream bArrStream = new ByteArrayOutputStream();\n\nint i = 0;\nwhile (-1 != (i = inFileReader.read(buffer))) {\nbArrStream.write(localbuffer, 0, i);\n}\n\nbyte[] data = bArrStream.toByteArray();\ninFileReader.close();\nbos.close();\n</code></pre>\n\n<p>We are getting the error </p>\n\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOf(Arrays.java:2271)\n    at java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:113)\n    at java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)\n    at java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:140)\n</code></pre>\n\n<p>Any help would be appreciated?</p>\n"},{"tags":["java","apache-kafka","aws-msk"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661251143,"post_id":73456632,"comment_id":129721753,"body_markdown":"check here please -&gt; https://stackoverflow.com/a/65213076/2165146","body":"check here please -&gt; <a href=\"https://stackoverflow.com/a/65213076/2165146\">stackoverflow.com/a/65213076/2165146</a>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662473906,"creation_date":1661281108,"answer_id":73463875,"question_id":73456632,"body_markdown":"You&#39;re creating an `AdminClient`. So you need to set &lt;code&gt;spring.kafka.**admin**.bootstrap-servers&lt;/code&gt;, not just the consumer/producer. Otherwise, the admin client will default to localhost. \r\n\r\n\r\nOr use **`spring.kafka.bootstrap-servers`** to see all three client types. \r\n\r\nAlso, admin client doesn&#39;t use `GROUP_ID_CONFIG` or `TRUSTED_PACKAGES`... Try to limit what properties you set to specific clients. For example, bootstrap servers can come from `CommonClientConfigs` class, but that&#39;s also not necessary as Spring Boot will auto-wire the property mentioned above. ","title":"AWS MSK gives warning","body":"<p>You're creating an <code>AdminClient</code>. So you need to set <code>spring.kafka.<strong>admin</strong>.bootstrap-servers</code>, not just the consumer/producer. Otherwise, the admin client will default to localhost.</p>\n<p>Or use <strong><code>spring.kafka.bootstrap-servers</code></strong> to see all three client types.</p>\n<p>Also, admin client doesn't use <code>GROUP_ID_CONFIG</code> or <code>TRUSTED_PACKAGES</code>... Try to limit what properties you set to specific clients. For example, bootstrap servers can come from <code>CommonClientConfigs</code> class, but that's also not necessary as Spring Boot will auto-wire the property mentioned above.</p>\n"}],"owner":{"account_id":2611328,"reputation":159,"user_id":2632890,"display_name":"Kapil Devmurari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73463875,"answer_count":1,"score":0,"last_activity_date":1662473906,"creation_date":1661248463,"question_id":73456632,"body_markdown":"we are working on spring boot application and we have implemented MSK AWS (Kafka) , producer and consumer communication is working as expected but once I checked logs it is giving warning as below.\r\n\r\n**`Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available`**\r\n\r\n**Spring boot yml configuration file**\r\n\r\n    spring:\r\n       cloud:\r\n         config:\r\n           enabled: true\r\n       application:\r\n          name: my-service\r\n       kafka:\r\n         producer:\r\n           bootstrap-servers: broker1MSKUrl:9092,broker2Url:9092\r\n         consumer:\r\n           bootstrap-servers: broker1MSKUrl:9092,broker2Url:9092\r\n\r\n\r\n**Spring boot kafka consumer class**\r\n \r\n\r\n    @Value(value = &quot;${spring.kafka.consumer.bootstrap-servers}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \r\n        bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, \r\n        bootstrapAddress);\r\n        props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\r\n        AdminClient adminClient = AdminClient.create(props);\r\n        ListTopicsOptions listTopicsOptions = new ListTopicsOptions();\r\n        listTopicsOptions.listInternal(true);\r\n\r\n\r\nwe are wondering why we are getting **localhost**  warning while we have connected to AWS MSK\r\n\r\nThis is our **MSK configuration**\r\n\r\n    auto.create.topics.enable=true\r\n    default.replication.factor=3\r\n    min.insync.replicas=2\r\n    num.io.threads=8\r\n    num.network.threads=5\r\n    num.partitions=1\r\n    num.replica.fetchers=2\r\n    replica.lag.time.max.ms=30000\r\n    socket.receive.buffer.bytes=102400\r\n    socket.request.max.bytes=104857600\r\n    socket.send.buffer.bytes=102400\r\n    unclean.leader.election.enable=true\r\n    zookeeper.session.timeout.ms=18000\r\n\r\n\r\n","title":"AWS MSK gives warning","body":"<p>we are working on spring boot application and we have implemented MSK AWS (Kafka) , producer and consumer communication is working as expected but once I checked logs it is giving warning as below.</p>\n<p><strong><code>Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available</code></strong></p>\n<p><strong>Spring boot yml configuration file</strong></p>\n<pre><code>spring:\n   cloud:\n     config:\n       enabled: true\n   application:\n      name: my-service\n   kafka:\n     producer:\n       bootstrap-servers: broker1MSKUrl:9092,broker2Url:9092\n     consumer:\n       bootstrap-servers: broker1MSKUrl:9092,broker2Url:9092\n</code></pre>\n<p><strong>Spring boot kafka consumer class</strong></p>\n<pre><code>@Value(value = &quot;${spring.kafka.consumer.bootstrap-servers}&quot;)\nprivate String bootstrapAddress;\n\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \n    bootstrapAddress);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n    props.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, \n    bootstrapAddress);\n    props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\n    AdminClient adminClient = AdminClient.create(props);\n    ListTopicsOptions listTopicsOptions = new ListTopicsOptions();\n    listTopicsOptions.listInternal(true);\n</code></pre>\n<p>we are wondering why we are getting <strong>localhost</strong>  warning while we have connected to AWS MSK</p>\n<p>This is our <strong>MSK configuration</strong></p>\n<pre><code>auto.create.topics.enable=true\ndefault.replication.factor=3\nmin.insync.replicas=2\nnum.io.threads=8\nnum.network.threads=5\nnum.partitions=1\nnum.replica.fetchers=2\nreplica.lag.time.max.ms=30000\nsocket.receive.buffer.bytes=102400\nsocket.request.max.bytes=104857600\nsocket.send.buffer.bytes=102400\nunclean.leader.election.enable=true\nzookeeper.session.timeout.ms=18000\n</code></pre>\n"},{"tags":["java","jsonpath","snakeyaml"],"answers":[{"tags":[],"owner":{"account_id":3833503,"reputation":346,"user_id":3178456,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662473471,"creation_date":1662473471,"answer_id":73623489,"question_id":70276655,"body_markdown":"It is not yet implemented in SnakeYAML.","title":"Using JSON-PATH with SnakeYAML","body":"<p>It is not yet implemented in SnakeYAML.</p>\n"}],"owner":{"account_id":3618137,"reputation":635,"user_id":3017541,"display_name":"fxrobin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662473471,"creation_date":1638973677,"question_id":70276655,"body_markdown":"I am trying to find a way to use JSON-PATH with SnakeYaml in order to select node and to still get a way to find the line number inside the yaml source file.\r\n\r\nFor example the path `$.info.email` will tell me that it&#39;s `line 16` (for example) of the source file, read by snakeyaml.\r\n\r\nI am able to navigate inside the nodes given by Snakeyaml (`ScalarNode`, `MappedNode`, etc.) and Snakeyaml offers a way (`Mark`) to get the line number of a node.\r\n\r\nSo I need a way to be able to use a json-path expression in roder to point inside the node tree of Snakeyaml.\r\n \r\nI thought I can use `JsonProvider` and a `MappingProvider` from json-path, but things are not very clear to me and the Javadoc is quite silent about this topic.\r\n\r\nAny advice?","title":"Using JSON-PATH with SnakeYAML","body":"<p>I am trying to find a way to use JSON-PATH with SnakeYaml in order to select node and to still get a way to find the line number inside the yaml source file.</p>\n<p>For example the path <code>$.info.email</code> will tell me that it's <code>line 16</code> (for example) of the source file, read by snakeyaml.</p>\n<p>I am able to navigate inside the nodes given by Snakeyaml (<code>ScalarNode</code>, <code>MappedNode</code>, etc.) and Snakeyaml offers a way (<code>Mark</code>) to get the line number of a node.</p>\n<p>So I need a way to be able to use a json-path expression in roder to point inside the node tree of Snakeyaml.</p>\n<p>I thought I can use <code>JsonProvider</code> and a <code>MappingProvider</code> from json-path, but things are not very clear to me and the Javadoc is quite silent about this topic.</p>\n<p>Any advice?</p>\n"},{"tags":["java","cryptography","digital-signature","java-15","eddsa"],"comments":[{"owner":{"account_id":15177449,"reputation":4293,"user_id":10951752,"display_name":"flaxel"},"score":0,"creation_date":1600685394,"post_id":63990653,"comment_id":113155244,"body_markdown":"Did you try the example of the [JEP-339](https://openjdk.java.net/jeps/339) ticket?","body":"Did you try the example of the <a href=\"https://openjdk.java.net/jeps/339\" rel=\"nofollow noreferrer\">JEP-339</a> ticket?"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1600685477,"post_id":63990653,"comment_id":113155263,"body_markdown":"@flaxel The example is about regenerating public key only, and with `Ed25519` not `Ed448`.","body":"@flaxel The example is about regenerating public key only, and with <code>Ed25519</code> not <code>Ed448</code>."},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1600686338,"post_id":63990653,"comment_id":113155593,"body_markdown":"Use `PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(privateKeyBytes);` and pass it to `keyFactory.generatePrivate`","body":"Use <code>PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(privateKeyBytes);</code> and pass it to <code>keyFactory.generatePrivate</code>"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1600687977,"post_id":63990653,"comment_id":113156312,"body_markdown":"@michalk `PKCS8EncodedKeySpec` is used to generate RSA private keys. I am not sure if this is the proper way to do it.","body":"@michalk <code>PKCS8EncodedKeySpec</code> is used to generate RSA private keys. I am not sure if this is the proper way to do it."},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1600688379,"post_id":63990653,"comment_id":113156487,"body_markdown":"PKCS8 is standard that describes the format of private keys. It can represent not only RSA keys...","body":"PKCS8 is standard that describes the format of private keys. It can represent not only RSA keys..."}],"answers":[{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1600789567,"creation_date":1600688157,"answer_id":63991469,"question_id":63990653,"body_markdown":"Since `privateKey.getEncoded`(the instance will be of `EdDSAPrivateKeyImpl` type) will return a key in PKCS8 format, you should use `PKCS8EncodedKeySpec` :\r\n````\r\nvar keyFactory = KeyFactory.getInstance(&quot;EdDSA&quot;);\r\nvar pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\r\nvar privateKey = keyFactory.generatePrivate(pkcs8EncodedKeySpec);\r\n````\r\nOtherwise you would have to unwrap the the sequence yourself and get `PrivateKey` (this is OctetString) as described in [RFC5958-section2](https://www.rfc-editor.org/rfc/rfc5958#section-2). Then you could use `EdECPrivateKeySpec`.","title":"How to regenerate private key using EdDSA/Ed448 signature algorithm?","body":"<p>Since <code>privateKey.getEncoded</code>(the instance will be of <code>EdDSAPrivateKeyImpl</code> type) will return a key in PKCS8 format, you should use <code>PKCS8EncodedKeySpec</code> :</p>\n<pre><code>var keyFactory = KeyFactory.getInstance(&quot;EdDSA&quot;);\nvar pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\nvar privateKey = keyFactory.generatePrivate(pkcs8EncodedKeySpec);\n</code></pre>\n<p>Otherwise you would have to unwrap the the sequence yourself and get <code>PrivateKey</code> (this is OctetString) as described in <a href=\"https://www.rfc-editor.org/rfc/rfc5958#section-2\" rel=\"nofollow noreferrer\">RFC5958-section2</a>. Then you could use <code>EdECPrivateKeySpec</code>.</p>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662473428,"creation_date":1662473428,"answer_id":73623476,"question_id":63990653,"body_markdown":"Method #1:\r\n\r\n    var keyPairGenerator = KeyPairGenerator.getInstance(&quot;Ed25519&quot;);\r\n    var keyPair = keyPairGenerator.generateKeyPair();\r\n    var privateKey = (EdECPrivateKey) keyPair.getPrivate();\r\n    var publicKey = (EdECPublicKey) keyPair.getPublic();\r\n    byte[] privateKeyBytes = privateKey.getBytes().orElseThrow();\r\n    var edecPoint = publicKey.getPoint();\r\n    BigInteger y = edecPoint.getY();\r\n    boolean xOdd = edecPoint.isXOdd();\r\n\r\n    // reconstruct the keys using (privateKeyBytes), (y) and (xOdd)\r\n    \r\n    var keyFactory = KeyFactory.getInstance(&quot;Ed25519&quot;);\r\n    var edECPublicKeySpec = new EdECPublicKeySpec(NamedParameterSpec.ED25519, new EdECPoint(xOdd, y));\r\n    var publicKey2 = keyFactory.generatePublic(edECPublicKeySpec);\r\n    var edECPrivateKeySpec = new EdECPrivateKeySpec(NamedParameterSpec.ED25519, privateKeyBytes);\r\n    var privateKey2 = keyFactory.generatePrivate(edECPrivateKeySpec);\r\n\r\n---\r\n\r\nMethod #2:\r\n\r\n    var keyPairGenerator = KeyPairGenerator.getInstance(&quot;Ed25519&quot;);\r\n    var keyPair = keyPairGenerator.generateKeyPair();\r\n    var privateKey = keyPair.getPrivate();\r\n    var publicKey = keyPair.getPublic();\r\n    byte[] privateKeyBytes = privateKey.getEncoded();\r\n    byte[] publicKeyBytes = publicKey.getEncoded();\r\n    \r\n    // reconstruct the keys using (privateKeyBytes) and (publicKeyBytes)\r\n    \r\n    var keyFactory = KeyFactory.getInstance(&quot;Ed25519&quot;);\r\n    var publicKey2 = keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\r\n    var privateKey2 = keyFactory.generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));","title":"How to regenerate private key using EdDSA/Ed448 signature algorithm?","body":"<p>Method #1:</p>\n<pre><code>var keyPairGenerator = KeyPairGenerator.getInstance(&quot;Ed25519&quot;);\nvar keyPair = keyPairGenerator.generateKeyPair();\nvar privateKey = (EdECPrivateKey) keyPair.getPrivate();\nvar publicKey = (EdECPublicKey) keyPair.getPublic();\nbyte[] privateKeyBytes = privateKey.getBytes().orElseThrow();\nvar edecPoint = publicKey.getPoint();\nBigInteger y = edecPoint.getY();\nboolean xOdd = edecPoint.isXOdd();\n\n// reconstruct the keys using (privateKeyBytes), (y) and (xOdd)\n\nvar keyFactory = KeyFactory.getInstance(&quot;Ed25519&quot;);\nvar edECPublicKeySpec = new EdECPublicKeySpec(NamedParameterSpec.ED25519, new EdECPoint(xOdd, y));\nvar publicKey2 = keyFactory.generatePublic(edECPublicKeySpec);\nvar edECPrivateKeySpec = new EdECPrivateKeySpec(NamedParameterSpec.ED25519, privateKeyBytes);\nvar privateKey2 = keyFactory.generatePrivate(edECPrivateKeySpec);\n</code></pre>\n<hr />\n<p>Method #2:</p>\n<pre><code>var keyPairGenerator = KeyPairGenerator.getInstance(&quot;Ed25519&quot;);\nvar keyPair = keyPairGenerator.generateKeyPair();\nvar privateKey = keyPair.getPrivate();\nvar publicKey = keyPair.getPublic();\nbyte[] privateKeyBytes = privateKey.getEncoded();\nbyte[] publicKeyBytes = publicKey.getEncoded();\n\n// reconstruct the keys using (privateKeyBytes) and (publicKeyBytes)\n\nvar keyFactory = KeyFactory.getInstance(&quot;Ed25519&quot;);\nvar publicKey2 = keyFactory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\nvar privateKey2 = keyFactory.generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\n</code></pre>\n"}],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1810,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63991469,"answer_count":2,"score":2,"last_activity_date":1662473428,"creation_date":1600684821,"question_id":63990653,"body_markdown":"Here is how I generated the key pair:\r\n\r\n    var keyPairGenerator = KeyPairGenerator.getInstance(&quot;Ed448&quot;);\r\n    keyPairGenerator.initialize(448, SecureRandom.getInstanceStrong());\r\n    var keyPair = keyPairGenerator.generateKeyPair();\r\n    var privateKey = keyPair.getPrivate();\r\n    var publicKey = keyPair.getPublic();\r\n    byte[] privateKeyBytes = privateKey.getEncoded();\r\n    byte[] publicKeyBytes = publicKey.getEncoded();\r\n\r\nHowever, when I tried to regenerate the keys again, I got an exception:\r\n\r\n    var keyFactory = KeyFactory.getInstance(&quot;EdDSA&quot;);\r\n    var edECPoint = byteArrayToEdPoint(publicKeyBytes);\r\n    var edECPublicKeySpec = new EdECPublicKeySpec(new NamedParameterSpec(&quot;Ed448&quot;), edECPoint);\r\n    var publicKey = keyFactory.generatePublic(edECPublicKeySpec);\r\n    var edECPrivateKeySpec = new EdECPrivateKeySpec(new NamedParameterSpec(&quot;Ed448&quot;), privateKeyBytes);\r\n    var privateKey = keyFactory.generatePrivate(edECPrivateKeySpec); // generatePrivate() throws exception\r\n\r\nThe exception stacktrace:\r\n\r\n    Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: key length is 73, key length must be 57\r\n    \tat jdk.crypto.ec/sun.security.ec.ed.EdDSAKeyFactory.engineGeneratePrivate(EdDSAKeyFactory.java:129)\r\n    \tat java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\r\n    \tat io.fouad.Main.main(Main.java:48)\r\n    Caused by: java.security.InvalidKeyException: key length is 73, key length must be 57\r\n    \tat jdk.crypto.ec/sun.security.ec.ed.EdDSAPrivateKeyImpl.checkLength(EdDSAPrivateKeyImpl.java:84)\r\n    \tat jdk.crypto.ec/sun.security.ec.ed.EdDSAPrivateKeyImpl.&lt;init&gt;(EdDSAPrivateKeyImpl.java:61)\r\n    \tat jdk.crypto.ec/sun.security.ec.ed.EdDSAKeyFactory.generatePrivateImpl(EdDSAKeyFactory.java:171)\r\n    \tat jdk.crypto.ec/sun.security.ec.ed.EdDSAKeyFactory.engineGeneratePrivate(EdDSAKeyFactory.java:127)\r\n    \t... 2 more\r\n\r\nand here is some utilities I copied from [OpenJDK repo][1]:\r\n\r\n\tprivate static EdECPoint byteArrayToEdPoint(byte[] arr)\r\n\t{\r\n\t\tbyte msb = arr[arr.length - 1];\r\n\t\tboolean xOdd = (msb &amp; 0x80) != 0;\r\n\t\tarr[arr.length - 1] &amp;= (byte) 0x7F;\r\n\t\treverse(arr);\r\n\t\tBigInteger y = new BigInteger(1, arr);\r\n\t\treturn new EdECPoint(xOdd, y);\r\n\t}\r\n\t\r\n\tprivate static void reverse(byte [] arr)\r\n\t{\r\n\t\tint i = 0;\r\n\t\tint j = arr.length - 1;\r\n\t\t\r\n\t\twhile(i &lt; j)\r\n\t\t{\r\n\t\t\tswap(arr, i, j);\r\n\t\t\ti++;\r\n\t\t\tj--;\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static void swap(byte[] arr, int i, int j)\r\n\t{\r\n\t\tbyte tmp = arr[i];\r\n\t\tarr[i] = arr[j];\r\n\t\tarr[j] = tmp;\r\n\t}\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/fd28aad72d3a13fbc2eb13293d40564e471414f3/test/lib/jdk/test/lib/Convert.java","title":"How to regenerate private key using EdDSA/Ed448 signature algorithm?","body":"<p>Here is how I generated the key pair:</p>\n<pre><code>var keyPairGenerator = KeyPairGenerator.getInstance(&quot;Ed448&quot;);\nkeyPairGenerator.initialize(448, SecureRandom.getInstanceStrong());\nvar keyPair = keyPairGenerator.generateKeyPair();\nvar privateKey = keyPair.getPrivate();\nvar publicKey = keyPair.getPublic();\nbyte[] privateKeyBytes = privateKey.getEncoded();\nbyte[] publicKeyBytes = publicKey.getEncoded();\n</code></pre>\n<p>However, when I tried to regenerate the keys again, I got an exception:</p>\n<pre><code>var keyFactory = KeyFactory.getInstance(&quot;EdDSA&quot;);\nvar edECPoint = byteArrayToEdPoint(publicKeyBytes);\nvar edECPublicKeySpec = new EdECPublicKeySpec(new NamedParameterSpec(&quot;Ed448&quot;), edECPoint);\nvar publicKey = keyFactory.generatePublic(edECPublicKeySpec);\nvar edECPrivateKeySpec = new EdECPrivateKeySpec(new NamedParameterSpec(&quot;Ed448&quot;), privateKeyBytes);\nvar privateKey = keyFactory.generatePrivate(edECPrivateKeySpec); // generatePrivate() throws exception\n</code></pre>\n<p>The exception stacktrace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: key length is 73, key length must be 57\n    at jdk.crypto.ec/sun.security.ec.ed.EdDSAKeyFactory.engineGeneratePrivate(EdDSAKeyFactory.java:129)\n    at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\n    at io.fouad.Main.main(Main.java:48)\nCaused by: java.security.InvalidKeyException: key length is 73, key length must be 57\n    at jdk.crypto.ec/sun.security.ec.ed.EdDSAPrivateKeyImpl.checkLength(EdDSAPrivateKeyImpl.java:84)\n    at jdk.crypto.ec/sun.security.ec.ed.EdDSAPrivateKeyImpl.&lt;init&gt;(EdDSAPrivateKeyImpl.java:61)\n    at jdk.crypto.ec/sun.security.ec.ed.EdDSAKeyFactory.generatePrivateImpl(EdDSAKeyFactory.java:171)\n    at jdk.crypto.ec/sun.security.ec.ed.EdDSAKeyFactory.engineGeneratePrivate(EdDSAKeyFactory.java:127)\n    ... 2 more\n</code></pre>\n<p>and here is some utilities I copied from <a href=\"https://github.com/openjdk/jdk/blob/fd28aad72d3a13fbc2eb13293d40564e471414f3/test/lib/jdk/test/lib/Convert.java\" rel=\"nofollow noreferrer\">OpenJDK repo</a>:</p>\n<pre><code>private static EdECPoint byteArrayToEdPoint(byte[] arr)\n{\n    byte msb = arr[arr.length - 1];\n    boolean xOdd = (msb &amp; 0x80) != 0;\n    arr[arr.length - 1] &amp;= (byte) 0x7F;\n    reverse(arr);\n    BigInteger y = new BigInteger(1, arr);\n    return new EdECPoint(xOdd, y);\n}\n\nprivate static void reverse(byte [] arr)\n{\n    int i = 0;\n    int j = arr.length - 1;\n    \n    while(i &lt; j)\n    {\n        swap(arr, i, j);\n        i++;\n        j--;\n    }\n}\n\nprivate static void swap(byte[] arr, int i, int j)\n{\n    byte tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1661952242,"post_id":73554400,"comment_id":129893848,"body_markdown":"In `addParagraph()` you assign a new `PDPageContentStream` to `contentStream` but this new value is not returned to `content()`. Thus, `content()` continues working with the old content stream and calls `endText` for it again. This triggers the exception.","body":"In <code>addParagraph()</code> you assign a new <code>PDPageContentStream</code> to <code>contentStream</code> but this new value is not returned to <code>content()</code>. Thus, <code>content()</code> continues working with the old content stream and calls <code>endText</code> for it again. This triggers the exception."},{"owner":{"account_id":26206793,"reputation":3,"user_id":19886293,"display_name":"Sagar Kumar"},"score":0,"creation_date":1662466937,"post_id":73554400,"comment_id":130007441,"body_markdown":"So what do i do? Can you provide any solution for this.@mkl","body":"So what do i do? Can you provide any solution for this.@mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1662473411,"post_id":73554400,"comment_id":130010214,"body_markdown":"*&quot;So what do i do? Can you provide any solution for this.&quot;* - See the section &quot;A work-around&quot; of my answer below.","body":"<i>&quot;So what do i do? Can you provide any solution for this.&quot;</i> - See the section &quot;A work-around&quot; of my answer below."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662473357,"creation_date":1662473357,"answer_id":73623451,"question_id":73554400,"body_markdown":"### The cause\r\n\r\nIn `addParagraph()` you conditionally assign a new `PDPageContentStream` to `contentStream` but this new value is not returned to the caller `content()`:\r\n\r\n```lang-java\r\nprivate float addParagraph(PDPageContentStream contentStream, float width, float sx, float sy, String text, boolean justify, float initY, float pageHeight, PDDocument document) throws IOException {\r\n    ...\r\n            contentStream.endText();\r\n            contentStream.close();\r\n            contentStream = new PDPageContentStream(document,nextPage);\r\n            contentStream.beginText();\r\n    ...\r\n    return (lines.size()*(7+3));\r\n}\r\n```\r\nBefore re-assigning `contentStream` you in particular call `endText()` for the old stream.\r\n\r\nThus, content() continues working with the old content stream and calls `endText()` for it again:\r\n```lang-java\r\npublic float content(PDPageContentStream contentStream, float initX, float initY, float pageHeight, float width, float height, Map&lt;Object, Object&gt; studyData, PDDocument document) throws IOException {\r\n    ...\r\n            float sy = addParagraph(contentStream,555,0,-10,entry.getValue().toString(),true,initY,pageHeight,document);\r\n            contentStream.endText();\r\n    ...\r\n    return  initY;\r\n}\r\n```\r\nCalling `endText` for a content stream that has no open text object triggers the exception you observed.\r\n\r\n### A work-around\r\n\r\nBoth `addParagraph` and `content` appear to be methods of the same class (or at least in two classes one of which is derived from the other). Thus, you can make `contentStream` a member variable of that class instead of forwarding it as parameter:\r\n\r\n```lang-java\r\npublic class PDFUtility {\r\n    public PDPageContentStream contentStream = null;\r\n\r\n    private float addParagraph(float width, float sx, float sy, String text, boolean justify, float initY, float pageHeight, PDDocument document) throws IOException {\r\n        ...\r\n    }\r\n\r\n    public float content(float initX, float initY, float pageHeight, float width, float height, Map&lt;Object, Object&gt; studyData, PDDocument document) throws IOException {\r\n        ...\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nand in `StudyConfigImpl.getStudyConfigPDF` instead of\r\n\r\n```lang-java\r\nfloat y = pdfUtility.content(contentStream, initX, ...);\r\n```\r\n\r\nyou do\r\n\r\n```lang-java\r\npdfUtility.contentStream = contentStream;\r\nfloat y = pdfUtility.content(initX, ...);\r\ncontentStream = pdfUtility.contentStream;\r\n```\r\n\r\nThis work-around obviously requires that the same instance of your class is not used concurrently from different threads.","title":"Adding pdf pages Dynamically using PDFBox","body":"<h3>The cause</h3>\n<p>In <code>addParagraph()</code> you conditionally assign a new <code>PDPageContentStream</code> to <code>contentStream</code> but this new value is not returned to the caller <code>content()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private float addParagraph(PDPageContentStream contentStream, float width, float sx, float sy, String text, boolean justify, float initY, float pageHeight, PDDocument document) throws IOException {\n    ...\n            contentStream.endText();\n            contentStream.close();\n            contentStream = new PDPageContentStream(document,nextPage);\n            contentStream.beginText();\n    ...\n    return (lines.size()*(7+3));\n}\n</code></pre>\n<p>Before re-assigning <code>contentStream</code> you in particular call <code>endText()</code> for the old stream.</p>\n<p>Thus, content() continues working with the old content stream and calls <code>endText()</code> for it again:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public float content(PDPageContentStream contentStream, float initX, float initY, float pageHeight, float width, float height, Map&lt;Object, Object&gt; studyData, PDDocument document) throws IOException {\n    ...\n            float sy = addParagraph(contentStream,555,0,-10,entry.getValue().toString(),true,initY,pageHeight,document);\n            contentStream.endText();\n    ...\n    return  initY;\n}\n</code></pre>\n<p>Calling <code>endText</code> for a content stream that has no open text object triggers the exception you observed.</p>\n<h3>A work-around</h3>\n<p>Both <code>addParagraph</code> and <code>content</code> appear to be methods of the same class (or at least in two classes one of which is derived from the other). Thus, you can make <code>contentStream</code> a member variable of that class instead of forwarding it as parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PDFUtility {\n    public PDPageContentStream contentStream = null;\n\n    private float addParagraph(float width, float sx, float sy, String text, boolean justify, float initY, float pageHeight, PDDocument document) throws IOException {\n        ...\n    }\n\n    public float content(float initX, float initY, float pageHeight, float width, float height, Map&lt;Object, Object&gt; studyData, PDDocument document) throws IOException {\n        ...\n    }\n    ...\n}\n</code></pre>\n<p>and in <code>StudyConfigImpl.getStudyConfigPDF</code> instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>float y = pdfUtility.content(contentStream, initX, ...);\n</code></pre>\n<p>you do</p>\n<pre class=\"lang-java prettyprint-override\"><code>pdfUtility.contentStream = contentStream;\nfloat y = pdfUtility.content(initX, ...);\ncontentStream = pdfUtility.contentStream;\n</code></pre>\n<p>This work-around obviously requires that the same instance of your class is not used concurrently from different threads.</p>\n"}],"owner":{"account_id":26206793,"reputation":3,"user_id":19886293,"display_name":"Sagar Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73623451,"answer_count":1,"score":0,"last_activity_date":1662473357,"creation_date":1661941175,"question_id":73554400,"body_markdown":"I am trying to add pdf page dynamically when content exceeds the limit of page. It gives this error.Please review the below code and help me with a solution.\r\n\r\n{\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Error: You must call beginText() before calling endText.\r\n\tat org.apache.pdfbox.pdmodel.PDPageContentStream.endText(PDPageContentStream.java:385)\r\n\tat PDFUtility.content(PDFUtility.java:123)\r\n\tat StudyConfigImpl.getStudyConfigPDF(StudyConfigImpl.java:39)\r\n\tat Main.main(Main.java:6)\r\n}\r\n\r\n     private float addParagraph(PDPageContentStream contentStream, float width, float sx,\r\n                                     float sy, String text, boolean justify,float initY,float pageHeight,PDDocument document) throws IOException {\r\n        PDFont FONT = PDType1Font.HELVETICA;\r\n        float FONT_SIZE = 7;\r\n        float LEADING = -1.5f * FONT_SIZE;\r\n        java.util.List&lt;String&gt; lines = parseLines(text, width);\r\n        contentStream.setFont(FONT, FONT_SIZE);\r\n        contentStream.newLineAtOffset(sx, sy);\r\n        float totalHeight = initY;\r\n        for (String line: lines) {\r\n            float charSpacing = 0;\r\n            if (justify){\r\n                if (line.length() &gt; 1) {\r\n                    float size = FONT_SIZE * FONT.getStringWidth(line) / 1000;\r\n                    float free = width - size;\r\n                    if (free &gt; 0 &amp;&amp; !lines.get(lines.size() - 1).equals(line)) {\r\n                        charSpacing = free / (line.length() - 1);\r\n                    }\r\n                }\r\n            }\r\n            contentStream.setCharacterSpacing(charSpacing);\r\n            float fontHeight = FONT.getFontDescriptor().getFontBoundingBox().getHeight() / 1000*FONT_SIZE;\r\n            totalHeight -=fontHeight;\r\n            System.out.println(totalHeight);\r\n            if(totalHeight - StudyConfigImpl.PAGE_MARGIN &lt;= 0){\r\n                PDPage nextPage = new PDPage();\r\n                nextPage.setMediaBox(PDRectangle.A4);\r\n                document.addPage(nextPage);\r\n                totalHeight = pageHeight - StudyConfigImpl.PAGE_MARGIN;\r\n                contentStream.endText();\r\n                contentStream.close();\r\n                contentStream = new PDPageContentStream(document,nextPage);\r\n                contentStream.beginText();\r\n                contentStream.setFont(FONT,FONT_SIZE);\r\n                contentStream.newLineAtOffset(StudyConfigImpl.INIT_POSITION_X,StudyConfigImpl.INIT_POSITION_Y);\r\n            }\r\n            contentStream.showText(line);\r\n            contentStream.newLineAtOffset(0, LEADING);\r\n        }\r\n        return (lines.size()*(7+3));\r\n    }\r\n\r\n\r\n\r\n\r\n     public float content(\r\n            PDPageContentStream contentStream,\r\n            float initX,\r\n            float initY,\r\n            float pageHeight,\r\n            float width,\r\n            float height,\r\n            Map&lt;Object, Object&gt; studyData,\r\n            PDDocument document\r\n            ) throws IOException {\r\n        int counter = 0;\r\n        for(Map.Entry&lt;Object, Object&gt; entry : studyData.entrySet()){\r\n            if(entry.getKey().equals(&quot;Additional Notes&quot;) || entry.getKey().equals(&quot;Study Desc.&quot;)){\r\n                initY-=25;\r\n                contentStream.setFont(PDType1Font.HELVETICA_BOLD,7);\r\n                contentStream.beginText();\r\n                initX = 20;\r\n                contentStream.newLineAtOffset(initX,initY);\r\n                contentStream.showText(entry.getKey().toString());\r\n                float sy = addParagraph(contentStream,555,0,-10,entry.getValue().toString(),true,initY,pageHeight,document);\r\n                contentStream.endText();\r\n                initY -=sy;\r\n\r\n            }else{\r\n                contentStream.addRect(initX, pageHeight - initY, width, height);\r\n                contentStream.setFont(PDType1Font.HELVETICA_BOLD, 7);\r\n                contentStream.beginText();\r\n                contentStream.newLineAtOffset(initX, initY);\r\n                contentStream.showText(entry.getKey().toString());\r\n                contentStream.newLine();\r\n                contentStream.setFont(PDType1Font.HELVETICA, 7);\r\n                contentStream.showText(entry.getValue().toString());\r\n                contentStream.endText();\r\n                initX += width;\r\n                counter++;\r\n                if (counter == 5) {\r\n                    initX = 20;\r\n                    initY = initY - 20;\r\n                    counter = 0;\r\n                }\r\n            }\r\n        }\r\n        return  initY;\r\n    }","title":"Adding pdf pages Dynamically using PDFBox","body":"<p>I am trying to add pdf page dynamically when content exceeds the limit of page. It gives this error.Please review the below code and help me with a solution.</p>\n<p>{\nException in thread &quot;main&quot; java.lang.IllegalStateException: Error: You must call beginText() before calling endText.\nat org.apache.pdfbox.pdmodel.PDPageContentStream.endText(PDPageContentStream.java:385)\nat PDFUtility.content(PDFUtility.java:123)\nat StudyConfigImpl.getStudyConfigPDF(StudyConfigImpl.java:39)\nat Main.main(Main.java:6)\n}</p>\n<pre><code> private float addParagraph(PDPageContentStream contentStream, float width, float sx,\n                                 float sy, String text, boolean justify,float initY,float pageHeight,PDDocument document) throws IOException {\n    PDFont FONT = PDType1Font.HELVETICA;\n    float FONT_SIZE = 7;\n    float LEADING = -1.5f * FONT_SIZE;\n    java.util.List&lt;String&gt; lines = parseLines(text, width);\n    contentStream.setFont(FONT, FONT_SIZE);\n    contentStream.newLineAtOffset(sx, sy);\n    float totalHeight = initY;\n    for (String line: lines) {\n        float charSpacing = 0;\n        if (justify){\n            if (line.length() &gt; 1) {\n                float size = FONT_SIZE * FONT.getStringWidth(line) / 1000;\n                float free = width - size;\n                if (free &gt; 0 &amp;&amp; !lines.get(lines.size() - 1).equals(line)) {\n                    charSpacing = free / (line.length() - 1);\n                }\n            }\n        }\n        contentStream.setCharacterSpacing(charSpacing);\n        float fontHeight = FONT.getFontDescriptor().getFontBoundingBox().getHeight() / 1000*FONT_SIZE;\n        totalHeight -=fontHeight;\n        System.out.println(totalHeight);\n        if(totalHeight - StudyConfigImpl.PAGE_MARGIN &lt;= 0){\n            PDPage nextPage = new PDPage();\n            nextPage.setMediaBox(PDRectangle.A4);\n            document.addPage(nextPage);\n            totalHeight = pageHeight - StudyConfigImpl.PAGE_MARGIN;\n            contentStream.endText();\n            contentStream.close();\n            contentStream = new PDPageContentStream(document,nextPage);\n            contentStream.beginText();\n            contentStream.setFont(FONT,FONT_SIZE);\n            contentStream.newLineAtOffset(StudyConfigImpl.INIT_POSITION_X,StudyConfigImpl.INIT_POSITION_Y);\n        }\n        contentStream.showText(line);\n        contentStream.newLineAtOffset(0, LEADING);\n    }\n    return (lines.size()*(7+3));\n}\n\n\n\n\n public float content(\n        PDPageContentStream contentStream,\n        float initX,\n        float initY,\n        float pageHeight,\n        float width,\n        float height,\n        Map&lt;Object, Object&gt; studyData,\n        PDDocument document\n        ) throws IOException {\n    int counter = 0;\n    for(Map.Entry&lt;Object, Object&gt; entry : studyData.entrySet()){\n        if(entry.getKey().equals(&quot;Additional Notes&quot;) || entry.getKey().equals(&quot;Study Desc.&quot;)){\n            initY-=25;\n            contentStream.setFont(PDType1Font.HELVETICA_BOLD,7);\n            contentStream.beginText();\n            initX = 20;\n            contentStream.newLineAtOffset(initX,initY);\n            contentStream.showText(entry.getKey().toString());\n            float sy = addParagraph(contentStream,555,0,-10,entry.getValue().toString(),true,initY,pageHeight,document);\n            contentStream.endText();\n            initY -=sy;\n\n        }else{\n            contentStream.addRect(initX, pageHeight - initY, width, height);\n            contentStream.setFont(PDType1Font.HELVETICA_BOLD, 7);\n            contentStream.beginText();\n            contentStream.newLineAtOffset(initX, initY);\n            contentStream.showText(entry.getKey().toString());\n            contentStream.newLine();\n            contentStream.setFont(PDType1Font.HELVETICA, 7);\n            contentStream.showText(entry.getValue().toString());\n            contentStream.endText();\n            initX += width;\n            counter++;\n            if (counter == 5) {\n                initX = 20;\n                initY = initY - 20;\n                counter = 0;\n            }\n        }\n    }\n    return  initY;\n}\n</code></pre>\n"},{"tags":["java","xml","hibernate","maven"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1662456957,"post_id":73618658,"comment_id":130004036,"body_markdown":"Did you check the [get started guide?](https://hibernate.org/orm/documentation/getting-started/) Also, `hibernate.cfg.xml` is kinda outdated","body":"Did you check the <a href=\"https://hibernate.org/orm/documentation/getting-started/\" rel=\"nofollow noreferrer\">get started guide?</a> Also, <code>hibernate.cfg.xml</code> is kinda outdated"},{"owner":{"account_id":11496511,"reputation":31,"user_id":8425678,"display_name":"Martyn Corsair"},"score":0,"creation_date":1662458319,"post_id":73618658,"comment_id":130004521,"body_markdown":"no I didn&#39;t check that guide.. migth&#39;ve been a good starting point &#128517; thanks for the tip! I hope using info provided by the devs will get me further","body":"no I didn&#39;t check that guide.. migth&#39;ve been a good starting point 😅 thanks for the tip! I hope using info provided by the devs will get me further"}],"answers":[{"tags":[],"owner":{"account_id":205121,"reputation":131,"user_id":453707,"display_name":"Torbj&#246;rn &#214;sterdahl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662472960,"creation_date":1662472960,"answer_id":73623362,"question_id":73618658,"body_markdown":"Bear in mind that if you are on a recent platform &#39;javax&#39; libraries may have moved to the package &#39;jakarta&#39;. Try searching in your IDE/classpath what the actual implementations are! I have been successful with this. \r\n\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n","title":"Is Hibernate supposed to be difficult to set up? I keep running into unsolvable errors","body":"<p>Bear in mind that if you are on a recent platform 'javax' libraries may have moved to the package 'jakarta'. Try searching in your IDE/classpath what the actual implementations are! I have been successful with this.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11496511,"reputation":31,"user_id":8425678,"display_name":"Martyn Corsair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662472960,"creation_date":1662451355,"question_id":73618658,"body_markdown":"I am trying to set up Hibernate in my project to enable ORM-based storage in my database.\r\n\r\nRight now I am simply trying to load a configuration in Hibernate to open a session. I figured that this would be an easy test to see if everything worked, after which I could start on the more daunting tasks of actually mapping my classes.\r\n\r\nBut I didn&#39;t realise that just getting to load Hibernate would already be a process that I&#39;d get stuck on for over a day.\r\n\r\n\r\nYesterday I couldn&#39;t get past an issue with loading the .cfg.xml files. I would continously run into this error:\r\n\r\n    [15:40:41 ERROR]: [org.bukkit.craftbukkit.v1_19_R1.CraftServer] Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE test.cfg.xml. Message: null initializing LiberCore v0.3 (Is it up to date?)\r\n    org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE test.cfg.xml. Message: null\r\n    \tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:134) ~[?:?]\r\n    \tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:66) ~[?:?]\r\n    \tat org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57) ~[?:?]\r\n    \tat org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:254) ~[?:?]\r\n    \tat org.hibernate.cfg.Configuration.configure(Configuration.java:260) ~[?:?]\r\n    \tat net.libercraft.data.database.HibernateManager.&lt;init&gt;(HibernateManager.java:29) ~[?:?]\r\n    \tat net.libercraft.data.DataManager.initializeDatabase(DataManager.java:17) ~[?:?]\r\n    \tat net.libercraft.main.Main.onLoad(Main.java:34) ~[?:?]\r\n    \tat org.bukkit.craftbukkit.v1_19_R1.CraftServer.loadPlugins(CraftServer.java:460) ~[purpur-1.19.2.jar:git-Purpur-1765]\r\n    \tat net.minecraft.server.dedicated.DedicatedServer.e(DedicatedServer.java:314) ~[purpur-1.19.2.jar:git-Purpur-1765]\r\n    \tat net.minecraft.server.MinecraftServer.v(MinecraftServer.java:1142) ~[purpur-1.19.2.jar:git-Purpur-1765]\r\n    \tat net.minecraft.server.MinecraftServer.lambda$spin$1(MinecraftServer.java:310) ~[purpur-1.19.2.jar:git-Purpur-1765]\r\n    \tat java.lang.Thread.run(Thread.java:833) [?:?]\r\n    Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278) ~[?:?]\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:421) ~[?:?]\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[?:?]\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[?:?]\r\n    \tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:123) ~[?:?]\r\n    \t... 12 more\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[?:?]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[?:?]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n    \tat javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122) ~[?:?]\r\n    \tat javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155) ~[?:?]\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276) ~[?:?]\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:421) ~[?:?]\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[?:?]\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[?:?]\r\n    \tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:123) ~[?:?]\r\n    \t... 12 more\r\n\r\n\r\nGoogling + reading other posts first just pointed me to a bunch of libraries to add because JAXB was no longer included with java by default. So I tried adding the following (different posts pointed to different libraries which made it pretty confusing..):\r\n\t\t\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.4.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.25.0-GA&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nThis didn&#39;t change much as I just kept getting the same error.\r\n\r\nAfter a bit of googling, I found something that explained about a jaxb.properties file that I could use to change the package pointing to  com.sun.xml.internal.bind.v2.ContextFactory to a package that should be included. This worked for some time, at which point I just got errors that it couldn&#39;t find my cfg.xml files. When I tried placing those at a different location in my .jar, I went back to the error above however.\r\n\r\nI also read about using a hibernate.properties file instead of using xml. However, I want to include different config files in my jar and select one based on the environment that my application is running in. For that reason I don&#39;t want to try just a simple hibernate.properties file, since that won&#39;t really allow me to customize it.\r\n\r\nToday I decided to take a different route. Instead of providing the configuration via the xml file, I would just enter the configuration programmatically. This has solved the previous error of not being able to process the xml files.\r\n\r\nBut now I am getting new errors that I am unable to solve.\r\n\r\n    [09:22:53 ERROR]: [org.bukkit.craftbukkit.v1_19_R1.CraftServer] com/fasterxml/classmate/TypeResolver initializing LiberCore v0.3 (Is it up to date?)\r\n    java.lang.NoClassDefFoundError: com/fasterxml/classmate/TypeResolver\r\n    \tat org.hibernate.boot.internal.ClassmateContext.&lt;init&gt;(ClassmateContext.java:16) ~[?:?]\r\n    \tat org.hibernate.boot.internal.BootstrapContextImpl.&lt;init&gt;(BootstrapContextImpl.java:81) ~[?:?]\r\n    \tat org.hibernate.boot.internal.MetadataBuilderImpl.&lt;init&gt;(MetadataBuilderImpl.java:124) ~[?:?]\r\n    \tat org.hibernate.boot.MetadataSources.getMetadataBuilder(MetadataSources.java:158) ~[?:?]\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:673) ~[?:?]\r\n    \tat net.libercraft.data.database.HibernateManager.&lt;init&gt;(HibernateManager.java:50) ~[?:?]\r\n    \tat net.libercraft.data.DataManager.initializeDatabase(DataManager.java:17) ~[?:?]\r\n    \tat net.libercraft.main.Main.onLoad(Main.java:34) ~[?:?]\r\n    \tat org.bukkit.craftbukkit.v1_19_R1.CraftServer.loadPlugins(CraftServer.java:460) ~[purpur-1.19.2.jar:git-Purpur-1765]\r\n    \tat net.minecraft.server.dedicated.DedicatedServer.e(DedicatedServer.java:314) ~[purpur-1.19.2.jar:git-Purpur-1765]\r\n    \tat net.minecraft.server.MinecraftServer.v(MinecraftServer.java:1142) ~[purpur-1.19.2.jar:git-Purpur-1765]\r\n    \tat net.minecraft.server.MinecraftServer.lambda$spin$1(MinecraftServer.java:310) ~[purpur-1.19.2.jar:git-Purpur-1765]\r\n    \tat java.lang.Thread.run(Thread.java:833) [?:?]\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.classmate.TypeResolver\r\n    \tat org.bukkit.plugin.java.PluginClassLoader.loadClass0(PluginClassLoader.java:153) ~[purpur-api-1.19.2-R0.1-SNAPSHOT.jar:?]\r\n    \tat org.bukkit.plugin.java.PluginClassLoader.loadClass(PluginClassLoader.java:105) ~[purpur-api-1.19.2-R0.1-SNAPSHOT.jar:?]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n    \t... 13 more\r\n\r\nAfter googling I found a few posts that give some solutions:\r\n\r\nhttps://stackoverflow.com/questions/57106583/how-to-resolve-java-lang-noclassdeffounderror-com-fasterxml-classmate-typeresol\r\n\r\nhttps://stackoverflow.com/questions/40317682/caused-by-java-lang-classnotfoundexception-com-fasterxml-jackson-databind-java\r\n\r\nbut these are not much help to me.\r\n\r\nI tried adding the hibernate-validator library (multiple versions) but it didn&#39;t solve the error. I wouldn&#39;t know how I could swap the com.fasterxml.jackson with org.codehaus.jackson packages or even if there are org.codehaus.jackson being used in my project.\r\n\r\nI feel like I&#39;m doing something essentially wrong. Because in between these errors that I just can&#39;t solve, I am getting a lot more ClassNotFoundException etc. that require me to just import more maven libraries to fix them. Isn&#39;t that something that Maven should take care of by itself? Like, shouldn&#39;t it automatically load any dependant libraries for the libraries that I add to my pom.xml? Why is it requiring me to add all of those manually before my software will work.\r\n\r\nNone of the tutorial videos on youtube talk about that process, they simply tell you to add the single maven dependancy for hibernate itself. No extra libraries required. So it seems odd to me that I&#39;m being led in that direction by these errors.\r\n\r\nIt is quite essential for me to implement an ORM solution to my project, and I&#39;m bummed out it&#39;s going this way for me. I heard Hibernate was the best solution for this, but maybe there&#39;s different solutions for me to try out?\r\n\r\nFor some context: I&#39;m working on a plugin for the game minecraft and the database will be used to store data about players and other game features.","title":"Is Hibernate supposed to be difficult to set up? I keep running into unsolvable errors","body":"<p>I am trying to set up Hibernate in my project to enable ORM-based storage in my database.</p>\n<p>Right now I am simply trying to load a configuration in Hibernate to open a session. I figured that this would be an easy test to see if everything worked, after which I could start on the more daunting tasks of actually mapping my classes.</p>\n<p>But I didn't realise that just getting to load Hibernate would already be a process that I'd get stuck on for over a day.</p>\n<p>Yesterday I couldn't get past an issue with loading the .cfg.xml files. I would continously run into this error:</p>\n<pre><code>[15:40:41 ERROR]: [org.bukkit.craftbukkit.v1_19_R1.CraftServer] Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE test.cfg.xml. Message: null initializing LiberCore v0.3 (Is it up to date?)\norg.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE test.cfg.xml. Message: null\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:134) ~[?:?]\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:66) ~[?:?]\n    at org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57) ~[?:?]\n    at org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:254) ~[?:?]\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:260) ~[?:?]\n    at net.libercraft.data.database.HibernateManager.&lt;init&gt;(HibernateManager.java:29) ~[?:?]\n    at net.libercraft.data.DataManager.initializeDatabase(DataManager.java:17) ~[?:?]\n    at net.libercraft.main.Main.onLoad(Main.java:34) ~[?:?]\n    at org.bukkit.craftbukkit.v1_19_R1.CraftServer.loadPlugins(CraftServer.java:460) ~[purpur-1.19.2.jar:git-Purpur-1765]\n    at net.minecraft.server.dedicated.DedicatedServer.e(DedicatedServer.java:314) ~[purpur-1.19.2.jar:git-Purpur-1765]\n    at net.minecraft.server.MinecraftServer.v(MinecraftServer.java:1142) ~[purpur-1.19.2.jar:git-Purpur-1765]\n    at net.minecraft.server.MinecraftServer.lambda$spin$1(MinecraftServer.java:310) ~[purpur-1.19.2.jar:git-Purpur-1765]\n    at java.lang.Thread.run(Thread.java:833) [?:?]\nCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278) ~[?:?]\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:421) ~[?:?]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[?:?]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[?:?]\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:123) ~[?:?]\n    ... 12 more\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    at javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122) ~[?:?]\n    at javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155) ~[?:?]\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276) ~[?:?]\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:421) ~[?:?]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[?:?]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[?:?]\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:123) ~[?:?]\n    ... 12 more\n</code></pre>\n<p>Googling + reading other posts first just pointed me to a bunch of libraries to add because JAXB was no longer included with java by default. So I tried adding the following (different posts pointed to different libraries which made it pretty confusing..):</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.25.0-GA&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This didn't change much as I just kept getting the same error.</p>\n<p>After a bit of googling, I found something that explained about a jaxb.properties file that I could use to change the package pointing to  com.sun.xml.internal.bind.v2.ContextFactory to a package that should be included. This worked for some time, at which point I just got errors that it couldn't find my cfg.xml files. When I tried placing those at a different location in my .jar, I went back to the error above however.</p>\n<p>I also read about using a hibernate.properties file instead of using xml. However, I want to include different config files in my jar and select one based on the environment that my application is running in. For that reason I don't want to try just a simple hibernate.properties file, since that won't really allow me to customize it.</p>\n<p>Today I decided to take a different route. Instead of providing the configuration via the xml file, I would just enter the configuration programmatically. This has solved the previous error of not being able to process the xml files.</p>\n<p>But now I am getting new errors that I am unable to solve.</p>\n<pre><code>[09:22:53 ERROR]: [org.bukkit.craftbukkit.v1_19_R1.CraftServer] com/fasterxml/classmate/TypeResolver initializing LiberCore v0.3 (Is it up to date?)\njava.lang.NoClassDefFoundError: com/fasterxml/classmate/TypeResolver\n    at org.hibernate.boot.internal.ClassmateContext.&lt;init&gt;(ClassmateContext.java:16) ~[?:?]\n    at org.hibernate.boot.internal.BootstrapContextImpl.&lt;init&gt;(BootstrapContextImpl.java:81) ~[?:?]\n    at org.hibernate.boot.internal.MetadataBuilderImpl.&lt;init&gt;(MetadataBuilderImpl.java:124) ~[?:?]\n    at org.hibernate.boot.MetadataSources.getMetadataBuilder(MetadataSources.java:158) ~[?:?]\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:673) ~[?:?]\n    at net.libercraft.data.database.HibernateManager.&lt;init&gt;(HibernateManager.java:50) ~[?:?]\n    at net.libercraft.data.DataManager.initializeDatabase(DataManager.java:17) ~[?:?]\n    at net.libercraft.main.Main.onLoad(Main.java:34) ~[?:?]\n    at org.bukkit.craftbukkit.v1_19_R1.CraftServer.loadPlugins(CraftServer.java:460) ~[purpur-1.19.2.jar:git-Purpur-1765]\n    at net.minecraft.server.dedicated.DedicatedServer.e(DedicatedServer.java:314) ~[purpur-1.19.2.jar:git-Purpur-1765]\n    at net.minecraft.server.MinecraftServer.v(MinecraftServer.java:1142) ~[purpur-1.19.2.jar:git-Purpur-1765]\n    at net.minecraft.server.MinecraftServer.lambda$spin$1(MinecraftServer.java:310) ~[purpur-1.19.2.jar:git-Purpur-1765]\n    at java.lang.Thread.run(Thread.java:833) [?:?]\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.classmate.TypeResolver\n    at org.bukkit.plugin.java.PluginClassLoader.loadClass0(PluginClassLoader.java:153) ~[purpur-api-1.19.2-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.plugin.java.PluginClassLoader.loadClass(PluginClassLoader.java:105) ~[purpur-api-1.19.2-R0.1-SNAPSHOT.jar:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    ... 13 more\n</code></pre>\n<p>After googling I found a few posts that give some solutions:</p>\n<p><a href=\"https://stackoverflow.com/questions/57106583/how-to-resolve-java-lang-noclassdeffounderror-com-fasterxml-classmate-typeresol\">How to resolve java.lang.NoClassDefFoundError: com/fasterxml/classmate/TypeResolver while running spring boot app</a></p>\n<p><a href=\"https://stackoverflow.com/questions/40317682/caused-by-java-lang-classnotfoundexception-com-fasterxml-jackson-databind-java\">Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.JavaType not found</a></p>\n<p>but these are not much help to me.</p>\n<p>I tried adding the hibernate-validator library (multiple versions) but it didn't solve the error. I wouldn't know how I could swap the com.fasterxml.jackson with org.codehaus.jackson packages or even if there are org.codehaus.jackson being used in my project.</p>\n<p>I feel like I'm doing something essentially wrong. Because in between these errors that I just can't solve, I am getting a lot more ClassNotFoundException etc. that require me to just import more maven libraries to fix them. Isn't that something that Maven should take care of by itself? Like, shouldn't it automatically load any dependant libraries for the libraries that I add to my pom.xml? Why is it requiring me to add all of those manually before my software will work.</p>\n<p>None of the tutorial videos on youtube talk about that process, they simply tell you to add the single maven dependancy for hibernate itself. No extra libraries required. So it seems odd to me that I'm being led in that direction by these errors.</p>\n<p>It is quite essential for me to implement an ORM solution to my project, and I'm bummed out it's going this way for me. I heard Hibernate was the best solution for this, but maybe there's different solutions for me to try out?</p>\n<p>For some context: I'm working on a plugin for the game minecraft and the database will be used to store data about players and other game features.</p>\n"},{"tags":["java","azure","azure-eventhub"],"comments":[{"owner":{"account_id":53380,"reputation":6491,"user_id":159548,"display_name":"Jesse Squire"},"score":0,"creation_date":1662479349,"post_id":73623325,"comment_id":130012740,"body_markdown":"Can you confirm that you&#39;re speaking of Event Hubs and not Service Bus?  There is no concept of a queue in Event Hubs.   Assuming Event Hubs, please see the samples for the `azure-messaging-eventhubs` package, here:  https://learn.microsoft.com/en-us/java/api/overview/azure/messaging-eventhubs-readme?view=azure-java-stable","body":"Can you confirm that you&#39;re speaking of Event Hubs and not Service Bus?  There is no concept of a queue in Event Hubs.   Assuming Event Hubs, please see the samples for the <code>azure-messaging-eventhubs</code> package, here:  <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/messaging-eventhubs-readme?view=azure-java-stable\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/java/api/overview/azure/&hellip;</a>"},{"owner":{"account_id":10533024,"reputation":83,"user_id":7761787,"display_name":"Savio Barros"},"score":0,"creation_date":1662481756,"post_id":73623325,"comment_id":130013526,"body_markdown":"Hi Jesse,\n Yes. Event Hub. My apologies for using &quot;queue&quot; in my question. Thanks for replying","body":"Hi Jesse,  Yes. Event Hub. My apologies for using &quot;queue&quot; in my question. Thanks for replying"},{"owner":{"account_id":10533024,"reputation":83,"user_id":7761787,"display_name":"Savio Barros"},"score":0,"creation_date":1662482055,"post_id":73623325,"comment_id":130013614,"body_markdown":"Hi Jesse, \nI&#39;ve been thru this documentation before, but couldn&#39;t find any reference or code. Currently I am able to receive message by message, but the behavior I need to achieve is: receive messages in a bulk, containing up to 1000 messages, and not receive individually..","body":"Hi Jesse,  I&#39;ve been thru this documentation before, but couldn&#39;t find any reference or code. Currently I am able to receive message by message, but the behavior I need to achieve is: receive messages in a bulk, containing up to 1000 messages, and not receive individually.."},{"owner":{"account_id":53380,"reputation":6491,"user_id":159548,"display_name":"Jesse Squire"},"score":0,"creation_date":1662489572,"post_id":73623325,"comment_id":130015914,"body_markdown":"By &quot;individually&quot; are you talking about partitions?  Which would mean that you&#39;re looking for a way to make a single receive call across all partitions for a heterogeneous batch of events?   If so, that is not a pattern that the Event Hubs supports; each partition is an independent entity that requires a dedicated service operation to read.  The closest that you&#39;d get is to make use of the `EventProcessorClient` from the previous examples.","body":"By &quot;individually&quot; are you talking about partitions?  Which would mean that you&#39;re looking for a way to make a single receive call across all partitions for a heterogeneous batch of events?   If so, that is not a pattern that the Event Hubs supports; each partition is an independent entity that requires a dedicated service operation to read.  The closest that you&#39;d get is to make use of the <code>EventProcessorClient</code> from the previous examples."},{"owner":{"account_id":10533024,"reputation":83,"user_id":7761787,"display_name":"Savio Barros"},"score":0,"creation_date":1662652391,"post_id":73623325,"comment_id":130060664,"body_markdown":"Hi Jesse, \nBy &quot;individually&quot; I meant messages... my Java class that receives messages uses default partition. \n\nAnyway, I am gonna take a closer look into EventProcessorClient\n\nMany thanks","body":"Hi Jesse,  By &quot;individually&quot; I meant messages... my Java class that receives messages uses default partition.   Anyway, I am gonna take a closer look into EventProcessorClient  Many thanks"}],"owner":{"account_id":10533024,"reputation":83,"user_id":7761787,"display_name":"Savio Barros"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662472782,"creation_date":1662472782,"question_id":73623325,"body_markdown":"I have to read events in batch, from a given queue, up to 1000 messages at once. Reading the documentation, I couldn&#39;t find any configuration on EventHub Admin that allows such behavior, neither on Java JDK API (I found only in the .Net API). What could be the best approach to achieve this using Java JDK API? \r\nMany thanks   ","title":"MS EventHub - batch processing events in Java","body":"<p>I have to read events in batch, from a given queue, up to 1000 messages at once. Reading the documentation, I couldn't find any configuration on EventHub Admin that allows such behavior, neither on Java JDK API (I found only in the .Net API). What could be the best approach to achieve this using Java JDK API?\nMany thanks</p>\n"},{"tags":["java","hadoop","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662472603,"creation_date":1662472201,"answer_id":73623205,"question_id":73622582,"body_markdown":"If you wanted to sum words from all files, you don&#39;t need to combine output files, instead, you can use `addInputPath` multiple times to read multiple files using MultipleInputs class \r\n\r\nAlternatively, you should be able to pass `input` folder as an argument to read all files within it.\r\n\r\n---\r\n\r\nIf you want to find the word with minimum count _per file_, you&#39;ll need a second reducer\r\n\r\nYou already have output location as a variable\r\n\r\n```\r\nPath output1 = new Path(args[3];\r\nFileOutputFormat.setOutputPath(job, output1));\r\n```\r\n\r\nSo create another job that reads that location \r\n\r\nBut you might be able to use only one job if you use a Combiner to do the word count, and using the filename as your key ","title":"Reducing mapreduce output files","body":"<p>If you wanted to sum words from all files, you don't need to combine output files, instead, you can use <code>addInputPath</code> multiple times to read multiple files using MultipleInputs class</p>\n<p>Alternatively, you should be able to pass <code>input</code> folder as an argument to read all files within it.</p>\n<hr />\n<p>If you want to find the word with minimum count <em>per file</em>, you'll need a second reducer</p>\n<p>You already have output location as a variable</p>\n<pre><code>Path output1 = new Path(args[3];\nFileOutputFormat.setOutputPath(job, output1));\n</code></pre>\n<p>So create another job that reads that location</p>\n<p>But you might be able to use only one job if you use a Combiner to do the word count, and using the filename as your key</p>\n"}],"owner":{"account_id":24572187,"reputation":67,"user_id":18478439,"display_name":"N_ote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73623205,"answer_count":1,"score":0,"last_activity_date":1662472641,"creation_date":1662469580,"question_id":73622582,"body_markdown":"I have written the code to generate the word and its corresponding frequency of occurrence for task1-input1.txt excluding the stop words in the stopwords.txt\r\n\r\n    public class TopKCommonWords {\r\n\r\n    public static class TokenizerMapper\r\n            extends Mapper&lt;Object, Text, Text, IntWritable&gt;{\r\n        Set&lt;String&gt; stopwords = new HashSet&lt;String&gt;();\r\n        private static final String STOP_WORD_PATH = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\CS4225\\\\TopKCommonWords\\\\input\\\\stopwords.txt&quot;;\r\n\r\n        @Override\r\n        protected void setup(Context context) {\r\n            try {\r\n                Path path = new Path(STOP_WORD_PATH);\r\n                FileSystem fs = FileSystem.get(new Configuration());\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(\r\n                        fs.open(path)));\r\n                String word = null;\r\n                while ((word = br.readLine()) != null) {\r\n                    stopwords.add(word);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        private final static IntWritable one = new IntWritable(1);\r\n        private Text word = new Text();\r\n        public void map(Object key, Text value, Context context\r\n        ) throws IOException, InterruptedException {\r\n            StringTokenizer itr = new StringTokenizer(value.toString());\r\n            while (itr.hasMoreTokens()) {\r\n                word.set(itr.nextToken());\r\n                if (stopwords.contains(word.toString()))\r\n                    continue;\r\n                context.write(word, one);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class IntSumReducer\r\n            extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; {\r\n        private IntWritable result = new IntWritable();\r\n\r\n        public void reduce(Text key, Iterable&lt;IntWritable&gt; values,\r\n                           Context context\r\n        ) throws IOException, InterruptedException {\r\n            int sum = 0;\r\n            for (IntWritable val : values) {\r\n                sum += val.get();\r\n            }\r\n            result.set(sum);\r\n            context.write(key, result);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Configuration conf = new Configuration();\r\n        Job job = Job.getInstance(conf, &quot;counter1&quot;);\r\n        job.setJarByClass(TopKCommonWords.class);\r\n        job.setMapperClass(TokenizerMapper.class);\r\n        job.setCombinerClass(IntSumReducer.class);\r\n        job.setReducerClass(IntSumReducer.class);\r\n        job.setOutputKeyClass(Text.class);\r\n        job.setOutputValueClass(IntWritable.class);\r\n        FileInputFormat.addInputPath(job, new Path(args[0]));\r\n        FileOutputFormat.setOutputPath(job, new Path(args[3]));\r\n        System.exit(job.waitForCompletion(true) ? 0 : 1);\r\n    }\r\n}\r\n\r\nThis are my arguments.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6wREu.png\r\n\r\nI understand that by changing \r\n\r\n    FileInputFormat.addInputPath(job, new Path(args[0]));\r\nfrom 0 to 1, I can get the words and its frequency of occurrence in  task1-input2.txt.\r\n\r\nFor example in my output of occurrences:\r\n\r\n    task1-input1:      task1-input2:\r\n\r\n    coffee 3           coffee 2\r\n    happy 10           good 3\r\n    good 6             sweet 5\r\n\r\nHow can i compare these 2 output and only return the common and the ones with the least frequency?\r\nThe expected result should be:\r\n\r\n    coffee 2\r\n    good 3","title":"Reducing mapreduce output files","body":"<p>I have written the code to generate the word and its corresponding frequency of occurrence for task1-input1.txt excluding the stop words in the stopwords.txt</p>\n<pre><code>public class TopKCommonWords {\n\npublic static class TokenizerMapper\n        extends Mapper&lt;Object, Text, Text, IntWritable&gt;{\n    Set&lt;String&gt; stopwords = new HashSet&lt;String&gt;();\n    private static final String STOP_WORD_PATH = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\CS4225\\\\TopKCommonWords\\\\input\\\\stopwords.txt&quot;;\n\n    @Override\n    protected void setup(Context context) {\n        try {\n            Path path = new Path(STOP_WORD_PATH);\n            FileSystem fs = FileSystem.get(new Configuration());\n            BufferedReader br = new BufferedReader(new InputStreamReader(\n                    fs.open(path)));\n            String word = null;\n            while ((word = br.readLine()) != null) {\n                stopwords.add(word);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    private final static IntWritable one = new IntWritable(1);\n    private Text word = new Text();\n    public void map(Object key, Text value, Context context\n    ) throws IOException, InterruptedException {\n        StringTokenizer itr = new StringTokenizer(value.toString());\n        while (itr.hasMoreTokens()) {\n            word.set(itr.nextToken());\n            if (stopwords.contains(word.toString()))\n                continue;\n            context.write(word, one);\n        }\n    }\n}\n\npublic static class IntSumReducer\n        extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; {\n    private IntWritable result = new IntWritable();\n\n    public void reduce(Text key, Iterable&lt;IntWritable&gt; values,\n                       Context context\n    ) throws IOException, InterruptedException {\n        int sum = 0;\n        for (IntWritable val : values) {\n            sum += val.get();\n        }\n        result.set(sum);\n        context.write(key, result);\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n    Configuration conf = new Configuration();\n    Job job = Job.getInstance(conf, &quot;counter1&quot;);\n    job.setJarByClass(TopKCommonWords.class);\n    job.setMapperClass(TokenizerMapper.class);\n    job.setCombinerClass(IntSumReducer.class);\n    job.setReducerClass(IntSumReducer.class);\n    job.setOutputKeyClass(Text.class);\n    job.setOutputValueClass(IntWritable.class);\n    FileInputFormat.addInputPath(job, new Path(args[0]));\n    FileOutputFormat.setOutputPath(job, new Path(args[3]));\n    System.exit(job.waitForCompletion(true) ? 0 : 1);\n}\n</code></pre>\n<p>}</p>\n<p>This are my arguments.\n<a href=\"https://i.stack.imgur.com/6wREu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6wREu.png\" alt=\"enter image description here\" /></a></p>\n<p>I understand that by changing</p>\n<pre><code>FileInputFormat.addInputPath(job, new Path(args[0]));\n</code></pre>\n<p>from 0 to 1, I can get the words and its frequency of occurrence in  task1-input2.txt.</p>\n<p>For example in my output of occurrences:</p>\n<pre><code>task1-input1:      task1-input2:\n\ncoffee 3           coffee 2\nhappy 10           good 3\ngood 6             sweet 5\n</code></pre>\n<p>How can i compare these 2 output and only return the common and the ones with the least frequency?\nThe expected result should be:</p>\n<pre><code>coffee 2\ngood 3\n</code></pre>\n"},{"tags":["java","android","kotlin","overriding"],"answers":[{"tags":[],"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662470514,"creation_date":1662464863,"answer_id":73621534,"question_id":73621464,"body_markdown":"Kotlin extension functions are statically resolved, and can&#39;t override member functions.\r\n\r\nIf you want to override a member function of `InkView`, you&#39;ll need to create a new class that extends from it.\r\n\r\nFor example:\r\n\r\n```kotlin\r\nclass MyInkView(context: Context): InkView(context) {\r\n    override fun InkView.onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\r\n        // your code here\r\n    }\r\n}\r\n```\r\n\r\nTo allow Android to instantiate the class properly, you probably also need the additional two-arg constructor:\r\n\r\n```kotlin\r\nclass MyInkView: InkView {\r\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\r\n    constructor(context: Context): super(context)\r\n    // include any other constructors you need based on the ones in the superclass\r\n\r\n    override fun InkView.onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\r\n        // your code here\r\n    }\r\n}\r\n```","title":"How to override method in library?","body":"<p>Kotlin extension functions are statically resolved, and can't override member functions.</p>\n<p>If you want to override a member function of <code>InkView</code>, you'll need to create a new class that extends from it.</p>\n<p>For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyInkView(context: Context): InkView(context) {\n    override fun InkView.onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n        // your code here\n    }\n}\n</code></pre>\n<p>To allow Android to instantiate the class properly, you probably also need the additional two-arg constructor:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyInkView: InkView {\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\n    constructor(context: Context): super(context)\n    // include any other constructors you need based on the ones in the superclass\n\n    override fun InkView.onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n        // your code here\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23001794,"reputation":63,"user_id":17125674,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73621534,"answer_count":1,"score":0,"last_activity_date":1662472529,"creation_date":1662464518,"question_id":73621464,"body_markdown":"That&#39;s my gradle with library\r\n```    \r\napi &#39;com.simplify:ink:1.0.2&#39;\r\n```\r\n\r\nIn the library file, which is read-only `Inkview.java`\r\nThis method is triggered, when every popup, showkeyboard is displayed.\r\n```\r\n    @Override\r\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n        super.onSizeChanged(w, h, oldw, oldh);\r\n\r\n        clear();\r\n    }\r\n```\r\n\r\nI would like to override it to just not call this method, or call it whether I need it.\r\nI have created `InkView.kt`\r\n\r\n```\r\nfun InkView.onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\r\n\r\n}\r\n```\r\nbut it is triggered by default anyway.\r\nHow to apply this proper?\r\n\r\nEDIT:\r\nAfter first post I have created new class MyInkView and add it to `.xml` file.\r\n\r\n```\r\n    &lt;com.myApplication.fragment.extensions.MyInkView\r\n        android:id=&quot;@+id/inkView&quot;\r\n        android:layout_margin=&quot;@dimen/padding&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n```\r\n\r\nerror when enter to the fragment:\r\n```\r\nError inflating class com.myApplication.fragment.extensions.MyInkView\r\n    Caused by: java.lang.NoSuchMethodException: com.myApplication.fragment.extensions.MyInkView.&lt;init&gt; [class android.content.Context, interface android.util.AttributeSet]\r\n\r\n```\r\nIf I add `attributeSet` as null\r\nthen error is:\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.isRecycled()&#39; on a null object reference\r\n```\r\n\r\nSecond Edit:\r\n\r\n```\r\nclass MyInkView: InkView {\r\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\r\n    constructor(context: Context): super(context)\r\n    // include any other constructors you need based on the ones in the superclass\r\n\r\n    fun InkView.onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\r\n        // your code here\r\n    }\r\n}\r\n```\r\nDoesn&#39;t override anything, and doesn&#39;t give crash. It works like before.\r\n\r\n\r\n```\r\nclass MyInkView: InkView {\r\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\r\n    constructor(context: Context): super(context)\r\n    // include any other constructors you need based on the ones in the superclass\r\n\r\n   override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\r\n        // your code here\r\n    }\r\n}\r\n```\r\nerror log:\r\n```\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.isRecycled()&#39; on a null object reference\r\n```\r\n\r\nclear method from inkView\r\n```\r\n// clean up existing bitmap\r\n       if (bitmap != null) {\r\n           bitmap.recycle()\r\n       }\r\n\r\n       // init bitmap cache\r\n       this.bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\r\n       canvas = Canvas(bitmap)\r\n\r\n       // notify listeners\r\n       for (listener in listeners) {\r\n           listener.onInkClear()\r\n       }\r\n\r\n       invalidate()\r\n       isEmpty = true\r\n\r\n    }\r\n```\r\n","title":"How to override method in library?","body":"<p>That's my gradle with library</p>\n<pre><code>api 'com.simplify:ink:1.0.2'\n</code></pre>\n<p>In the library file, which is read-only <code>Inkview.java</code>\nThis method is triggered, when every popup, showkeyboard is displayed.</p>\n<pre><code>    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n        super.onSizeChanged(w, h, oldw, oldh);\n\n        clear();\n    }\n</code></pre>\n<p>I would like to override it to just not call this method, or call it whether I need it.\nI have created <code>InkView.kt</code></p>\n<pre><code>fun InkView.onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n\n}\n</code></pre>\n<p>but it is triggered by default anyway.\nHow to apply this proper?</p>\n<p>EDIT:\nAfter first post I have created new class MyInkView and add it to <code>.xml</code> file.</p>\n<pre><code>    &lt;com.myApplication.fragment.extensions.MyInkView\n        android:id=&quot;@+id/inkView&quot;\n        android:layout_margin=&quot;@dimen/padding&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n</code></pre>\n<p>error when enter to the fragment:</p>\n<pre><code>Error inflating class com.myApplication.fragment.extensions.MyInkView\n    Caused by: java.lang.NoSuchMethodException: com.myApplication.fragment.extensions.MyInkView.&lt;init&gt; [class android.content.Context, interface android.util.AttributeSet]\n\n</code></pre>\n<p>If I add <code>attributeSet</code> as null\nthen error is:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.graphics.Bitmap.isRecycled()' on a null object reference\n</code></pre>\n<p>Second Edit:</p>\n<pre><code>class MyInkView: InkView {\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\n    constructor(context: Context): super(context)\n    // include any other constructors you need based on the ones in the superclass\n\n    fun InkView.onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n        // your code here\n    }\n}\n</code></pre>\n<p>Doesn't override anything, and doesn't give crash. It works like before.</p>\n<pre><code>class MyInkView: InkView {\n    constructor(context: Context, attrs: AttributeSet): super(context, attrs)\n    constructor(context: Context): super(context)\n    // include any other constructors you need based on the ones in the superclass\n\n   override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n        // your code here\n    }\n}\n</code></pre>\n<p>error log:</p>\n<pre><code>    java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.graphics.Bitmap.isRecycled()' on a null object reference\n</code></pre>\n<p>clear method from inkView</p>\n<pre><code>// clean up existing bitmap\n       if (bitmap != null) {\n           bitmap.recycle()\n       }\n\n       // init bitmap cache\n       this.bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\n       canvas = Canvas(bitmap)\n\n       // notify listeners\n       for (listener in listeners) {\n           listener.onInkClear()\n       }\n\n       invalidate()\n       isEmpty = true\n\n    }\n</code></pre>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":12404133,"reputation":208,"user_id":9039919,"display_name":"Luca Scarcia"},"score":0,"creation_date":1662471861,"post_id":73623029,"comment_id":130009539,"body_markdown":"Use an IDE. You can choose either Eclipse (you need to do more work) or NetBeans (you are more limited in the editing of the forms), but, for learning, probably Eclipse is better. Those IDEs have a lot of tools to help you finding errors and correcting them. Use javac only if strictly required.","body":"Use an IDE. You can choose either Eclipse (you need to do more work) or NetBeans (you are more limited in the editing of the forms), but, for learning, probably Eclipse is better. Those IDEs have a lot of tools to help you finding errors and correcting them. Use javac only if strictly required."},{"owner":{"account_id":26240898,"reputation":1,"user_id":19915233,"display_name":"WBilgini"},"score":0,"creation_date":1662472069,"post_id":73623029,"comment_id":130009614,"body_markdown":"thanks! i was using vs code but i&#39;ll try to switch to eclipse","body":"thanks! i was using vs code but i&#39;ll try to switch to eclipse"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1662472323,"post_id":73623029,"comment_id":130009737,"body_markdown":"If you are not setting up a menu bar or creating special windowing functionality, the best place to start is with a JPanel (because you can then put the JPanel into a Window/Dialog/Frame)","body":"If you are not setting up a menu bar or creating special windowing functionality, the best place to start is with a JPanel (because you can then put the JPanel into a Window/Dialog/Frame)"},{"owner":{"account_id":12404133,"reputation":208,"user_id":9039919,"display_name":"Luca Scarcia"},"score":0,"creation_date":1662472335,"post_id":73623029,"comment_id":130009740,"body_markdown":"Just be warned that Eclipse has problems with the last JDK (18). I think it works with JDK 16. But, if you&#39;re doing it for school, Eclipse is the best choice.","body":"Just be warned that Eclipse has problems with the last JDK (18). I think it works with JDK 16. But, if you&#39;re doing it for school, Eclipse is the best choice."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1662472607,"post_id":73623029,"comment_id":130009854,"body_markdown":"You don&#39;t explain what errors you&#39;re getting so it&#39;s hard to tell what the problem might be.","body":"You don&#39;t explain what errors you&#39;re getting so it&#39;s hard to tell what the problem might be."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662472104,"creation_date":1662472104,"answer_id":73623183,"question_id":73623029,"body_markdown":"    import javax.swing.*;\r\n    \r\n    public class SimpleUI {\r\n      public static void main(String ... args) {\r\n        var frame = new JFrame(&quot;Title goes here&quot;);\r\n        var text = new JTextField(20);\r\n        var button = new JButton(&quot;Click me&quot;);\r\n        var panel = new JPanel();\r\n        panel.add(text);\r\n        panel.add(button);\r\n        frame.add(panel);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n      }\r\n    }\r\n\r\n\r\nCreates:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/SyXNh.png&quot; width=&quot;400&quot;/&gt;\r\n\r\n\r\nMore info: https://docs.oracle.com/javase/tutorial/uiswing/start/index.html","title":"How can I make a basic Java window with a text field and a button using JFrame?","body":"<pre><code>import javax.swing.*;\n\npublic class SimpleUI {\n  public static void main(String ... args) {\n    var frame = new JFrame(&quot;Title goes here&quot;);\n    var text = new JTextField(20);\n    var button = new JButton(&quot;Click me&quot;);\n    var panel = new JPanel();\n    panel.add(text);\n    panel.add(button);\n    frame.add(panel);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.pack();\n    frame.setVisible(true);\n  }\n}\n</code></pre>\n<p>Creates:</p>\n<img src=\"https://i.stack.imgur.com/SyXNh.png\" width=\"400\"/>\n<p>More info: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/start/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/start/index.html</a></p>\n"}],"owner":{"account_id":26240898,"reputation":1,"user_id":19915233,"display_name":"WBilgini"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662472104,"creation_date":1662471445,"question_id":73623029,"body_markdown":"I tried to find some code from the internet and copy-pasted it (i also tried making my own code from the java documentation, but it gave some errors i didnt understand, i have jdk installed), but when i typed &quot;javac program.java&quot; it did not output a file. ","title":"How can I make a basic Java window with a text field and a button using JFrame?","body":"<p>I tried to find some code from the internet and copy-pasted it (i also tried making my own code from the java documentation, but it gave some errors i didnt understand, i have jdk installed), but when i typed &quot;javac program.java&quot; it did not output a file.</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":26260299,"reputation":11,"user_id":19931724,"display_name":"Kirill"},"score":0,"creation_date":1662470115,"post_id":73622404,"comment_id":130008769,"body_markdown":"@user3684747 yes, it does not help anyway","body":"@user3684747 yes, it does not help anyway"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1662471670,"post_id":73622404,"comment_id":130009460,"body_markdown":"I just copied your code to a new Spring boot project and it works fine if I put the index.html in **src/main/resources/templates** like you did according to your last paragraph. Do you have any other relevant code/properties that are necessary to reproduce this issue?","body":"I just copied your code to a new Spring boot project and it works fine if I put the index.html in <b>src/main/resources/templates</b> like you did according to your last paragraph. Do you have any other relevant code/properties that are necessary to reproduce this issue?"},{"owner":{"account_id":26260299,"reputation":11,"user_id":19931724,"display_name":"Kirill"},"score":0,"creation_date":1662472497,"post_id":73622404,"comment_id":130009801,"body_markdown":"@g00glen00b it&#39;s so weird. As you can see, there is a config file, repository and one more html file. I also have more dependecies in pom.xml, but they do not influence my index.html","body":"@g00glen00b it&#39;s so weird. As you can see, there is a config file, repository and one more html file. I also have more dependecies in pom.xml, but they do not influence my index.html"},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":1,"creation_date":1662475364,"post_id":73622404,"comment_id":130011041,"body_markdown":"if your `index.html` is in the `main/resources/static` folder, then you should put `spring.thymeleaf.prefix=classpath:/static/` in the application.properties","body":"if your <code>index.html</code> is in the <code>main&#47;resources&#47;static</code> folder, then you should put <code>spring.thymeleaf.prefix=classpath:&#47;static&#47;</code> in the application.properties"},{"owner":{"account_id":26260299,"reputation":11,"user_id":19931724,"display_name":"Kirill"},"score":0,"creation_date":1662476067,"post_id":73622404,"comment_id":130011329,"body_markdown":"@DirkDeyne omg it is so obvious, it really works, you saved my day ^_^","body":"@DirkDeyne omg it is so obvious, it really works, you saved my day ^_^"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1662478507,"post_id":73622404,"comment_id":130012401,"body_markdown":"I don&#39;t think Thymeleaf templates should be placed in `static` - that is for directly accessible resources such as image files, CSS, JS, etc. Thymeleaf templates are intended to only exist on the server and not be visible to the browser.","body":"I don&#39;t think Thymeleaf templates should be placed in <code>static</code> - that is for directly accessible resources such as image files, CSS, JS, etc. Thymeleaf templates are intended to only exist on the server and not be visible to the browser."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1662480018,"post_id":73622404,"comment_id":130012979,"body_markdown":"If it now suddenly works by changing the `spring.thymeleaf.prefix`, then there probably was an issue within VSCode itself because as I mentioned this should have worked when you used the templates-folder. And as andrewJames mentioned, using the templates-folder is prefered.","body":"If it now suddenly works by changing the <code>spring.thymeleaf.prefix</code>, then there probably was an issue within VSCode itself because as I mentioned this should have worked when you used the templates-folder. And as andrewJames mentioned, using the templates-folder is prefered."},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1662481927,"post_id":73622404,"comment_id":130013573,"body_markdown":"@Kirill how did you access your page? By `http://localhost:8080/index` or `http://localhost:8080/index.html`. That would explain why got the raw page (index.html in static folder) and the error-page when (index.html in templates). So move index.html to templates folder, and access page via `localhost:8080/index` (with: spring.thymeleaf.prefix=classpath:/templates/)","body":"@Kirill how did you access your page? By <code>http:&#47;&#47;localhost:8080&#47;index</code> or <code>http:&#47;&#47;localhost:8080&#47;index.html</code>. That would explain why got the raw page (index.html in static folder) and the error-page when (index.html in templates). So move index.html to templates folder, and access page via <code>localhost:8080&#47;index</code> (with: spring.thymeleaf.prefix=classpath:/templates/)"},{"owner":{"account_id":26260299,"reputation":11,"user_id":19931724,"display_name":"Kirill"},"score":0,"creation_date":1662490317,"post_id":73622404,"comment_id":130016146,"body_markdown":"@DirkDeyne I actually dont know why, but I put HTML files in templates and set spring.thymeleaf.prefix=classpath:/templates/ and you know what?) It works. However 6 hours ago it does not work at all","body":"@DirkDeyne I actually dont know why, but I put HTML files in templates and set spring.thymeleaf.prefix=classpath:/templates/ and you know what?) It works. However 6 hours ago it does not work at all"},{"owner":{"account_id":26260299,"reputation":11,"user_id":19931724,"display_name":"Kirill"},"score":0,"creation_date":1662490497,"post_id":73622404,"comment_id":130016201,"body_markdown":"@g00glen00b I&#39;m sure that was VScode&#39;s problem, thank you for your advices","body":"@g00glen00b I&#39;m sure that was VScode&#39;s problem, thank you for your advices"}],"owner":{"account_id":26260299,"reputation":11,"user_id":19931724,"display_name":"Kirill"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662471737,"creation_date":1662468775,"question_id":73622404,"body_markdown":"I started developing my spring boot application and faced a problem with thymeleaf.\r\n\r\n**TaskController.java**\r\n```\r\n@Controller\r\npublic class TaskController {\r\n\r\n    @GetMapping({&quot;/index&quot;})\r\n    public String index(Model model) {\r\n        model.addAttribute(&quot;name&quot;, &quot;Augustine&quot;);\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**index.html**\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;/&gt;\r\n    &lt;title&gt;Spring Boot Thymeleaf Application&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Welcome to Thymeleaf Spring Boot&lt;/h1&gt;\r\n&lt;h2&gt;\r\n    &lt;span&gt;Hello, &lt;th:block th:text=&quot;${name}&quot;&gt;[name]&lt;/th:block&gt;&lt;/span&gt;\r\n&lt;/h2&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**application.properties**\r\n```\r\n# setup server port\r\nserver.port=8080\r\n# setup a default suffix\r\nspring.mvc.view.suffix=.html\r\n# setup thymeleaf\r\nspring.thymeleaf.prefix=classpath:/templates/\r\n```\r\n\r\nA part of **pom.xml**\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n**Result**\r\n https://i.stack.imgur.com/VrHzY.png\r\n\r\nHere is **folders and files structure**\r\nhttps://i.stack.imgur.com/YWJ3i.png\r\n\r\nIf I put index.html into *resources/templates/*, I have an issue following\r\nhttps://i.stack.imgur.com/iZroA.png\r\n\r\nSo how could I solve this problem? Thank you for your help!","title":"How can I solve the problem with Spring Boot and Thymeleaf?","body":"<p>I started developing my spring boot application and faced a problem with thymeleaf.</p>\n<p><strong>TaskController.java</strong></p>\n<pre><code>@Controller\npublic class TaskController {\n\n    @GetMapping({&quot;/index&quot;})\n    public String index(Model model) {\n        model.addAttribute(&quot;name&quot;, &quot;Augustine&quot;);\n        return &quot;index&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>index.html</strong></p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;/&gt;\n    &lt;title&gt;Spring Boot Thymeleaf Application&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Welcome to Thymeleaf Spring Boot&lt;/h1&gt;\n&lt;h2&gt;\n    &lt;span&gt;Hello, &lt;th:block th:text=&quot;${name}&quot;&gt;[name]&lt;/th:block&gt;&lt;/span&gt;\n&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code># setup server port\nserver.port=8080\n# setup a default suffix\nspring.mvc.view.suffix=.html\n# setup thymeleaf\nspring.thymeleaf.prefix=classpath:/templates/\n</code></pre>\n<p>A part of <strong>pom.xml</strong></p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>Result</strong>\n<a href=\"https://i.stack.imgur.com/VrHzY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/VrHzY.png</a></p>\n<p>Here is <strong>folders and files structure</strong>\n<a href=\"https://i.stack.imgur.com/YWJ3i.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/YWJ3i.png</a></p>\n<p>If I put index.html into <em>resources/templates/</em>, I have an issue following\n<a href=\"https://i.stack.imgur.com/iZroA.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/iZroA.png</a></p>\n<p>So how could I solve this problem? Thank you for your help!</p>\n"},{"tags":["java","spring","junit","mockito","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662471720,"creation_date":1662471720,"answer_id":73623100,"question_id":73615461,"body_markdown":"`Mockito` is used for mocking calls to external dependencies. Utilities like `flapdoodle` are used to mock external dependencies (MongoDB in this case). It&#39;s just two different approaches. \r\n\r\n1. You can mock methods of your repository classes to return some stub values instead of making calls to the database. Please see my example below for this case:\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mock;\r\nimport static org.mockito.Mockito.doReturn;\r\n\r\nclass FooRepositoryTest {\r\n\r\n    @Mock\r\n    private FooRepository repository;\r\n    \r\n    @Test\r\n    void testGetById() {\r\n        doReturn(new Object()).when(repository).findById(&quot;id&quot;);\r\n        Object object = repository.getById(&quot;id&quot;);\r\n    }\r\n}\r\n```\r\n\r\n2. You can mock your database (by just instantiating some other test-embedded database) and make actual calls to it in your tests. This is where `flapdoodle` comes in handy. In this case, you will be using your actual repositories/services/etc. Please see my example below:\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\n@DataMongoTest\r\n@ExtendWith(SpringExtension.class)\r\nclass FooMongoRepositoryTest {\r\n    \r\n    @Autowired\r\n    private FooRepository repository;\r\n    \r\n    @Test\r\n    void testGetById() {\r\n        Object object = repository.getById(&quot;id&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBut the second case won&#39;t be a true unit test, since it will be using an external dependency. At the same time, it won&#39;t be a true integration test, since your real application uses a real Mongo database and not some `flapdoodle` dependency. \r\n\r\nAnswering your question regarding what is better. It depends on the particular case. It&#39;s fully acceptable to use either of these options. It even makes sense to use both because it&#39;s just two different types of developer tests.\r\n\r\n**What else you may consider:**\r\n\r\nThere is a nice library called [testcontainers][1], which allows you to run real databases and other services in Docker containers. It even has a separate and preconfigured [MongoDB Module][2]\r\n\r\n\r\n  [1]: https://www.testcontainers.org\r\n  [2]: https://www.testcontainers.org/modules/databases/mongodb/","title":"Mockito or Embedded Mongo for unit testing spring mongorepository","body":"<p><code>Mockito</code> is used for mocking calls to external dependencies. Utilities like <code>flapdoodle</code> are used to mock external dependencies (MongoDB in this case). It's just two different approaches.</p>\n<ol>\n<li>You can mock methods of your repository classes to return some stub values instead of making calls to the database. Please see my example below for this case:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.mockito.Mock;\nimport static org.mockito.Mockito.doReturn;\n\nclass FooRepositoryTest {\n\n    @Mock\n    private FooRepository repository;\n    \n    @Test\n    void testGetById() {\n        doReturn(new Object()).when(repository).findById(&quot;id&quot;);\n        Object object = repository.getById(&quot;id&quot;);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>You can mock your database (by just instantiating some other test-embedded database) and make actual calls to it in your tests. This is where <code>flapdoodle</code> comes in handy. In this case, you will be using your actual repositories/services/etc. Please see my example below:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@DataMongoTest\n@ExtendWith(SpringExtension.class)\nclass FooMongoRepositoryTest {\n    \n    @Autowired\n    private FooRepository repository;\n    \n    @Test\n    void testGetById() {\n        Object object = repository.getById(&quot;id&quot;);\n    }\n}\n</code></pre>\n<p>But the second case won't be a true unit test, since it will be using an external dependency. At the same time, it won't be a true integration test, since your real application uses a real Mongo database and not some <code>flapdoodle</code> dependency.</p>\n<p>Answering your question regarding what is better. It depends on the particular case. It's fully acceptable to use either of these options. It even makes sense to use both because it's just two different types of developer tests.</p>\n<p><strong>What else you may consider:</strong></p>\n<p>There is a nice library called <a href=\"https://www.testcontainers.org\" rel=\"nofollow noreferrer\">testcontainers</a>, which allows you to run real databases and other services in Docker containers. It even has a separate and preconfigured <a href=\"https://www.testcontainers.org/modules/databases/mongodb/\" rel=\"nofollow noreferrer\">MongoDB Module</a></p>\n"}],"owner":{"account_id":13510057,"reputation":150,"user_id":9746710,"display_name":"GeekCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662471720,"creation_date":1662421098,"question_id":73615461,"body_markdown":"Hi I am new to Spring Mongo testing. I know that using embedded db like flapdoodle ,fongo,mongo-java-server we can unit test the mongorepository.\r\nBut is the same possible using mockito?\r\nIf yes then which is better","title":"Mockito or Embedded Mongo for unit testing spring mongorepository","body":"<p>Hi I am new to Spring Mongo testing. I know that using embedded db like flapdoodle ,fongo,mongo-java-server we can unit test the mongorepository.\nBut is the same possible using mockito?\nIf yes then which is better</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-amqp","spring-rabbit"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662422499,"post_id":73609912,"comment_id":129996950,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662471518,"creation_date":1662471518,"answer_id":73623049,"question_id":73609912,"body_markdown":"Yes, the default `SimpleBatchingStrategy` will cause a &quot;short&quot; batch to be sent if the total size exceeds the buffer limit or the time since the last message exceeds the timeout.\r\n\r\n```java\r\n/**\r\n * @param batchSize the batch size.\r\n * @param bufferLimit the max buffer size; could trigger a short batch. Does not apply\r\n * to a single message.\r\n * @param timeout the batch timeout.\r\n */\r\npublic SimpleBatchingStrategy(int batchSize, int bufferLimit, long timeout) {\r\n\tthis.batchSize = batchSize;\r\n\tthis.bufferLimit = bufferLimit;\r\n\tthis.timeout = timeout;\r\n}\r\n```\r\n\r\nThere is no &quot;best&quot; value for the timeout - that is entirely up to you to decide.\r\n","title":"Spring AMQP (BatchingRabbitTemplate)","body":"<p>Yes, the default <code>SimpleBatchingStrategy</code> will cause a &quot;short&quot; batch to be sent if the total size exceeds the buffer limit or the time since the last message exceeds the timeout.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @param batchSize the batch size.\n * @param bufferLimit the max buffer size; could trigger a short batch. Does not apply\n * to a single message.\n * @param timeout the batch timeout.\n */\npublic SimpleBatchingStrategy(int batchSize, int bufferLimit, long timeout) {\n    this.batchSize = batchSize;\n    this.bufferLimit = bufferLimit;\n    this.timeout = timeout;\n}\n</code></pre>\n<p>There is no &quot;best&quot; value for the timeout - that is entirely up to you to decide.</p>\n"}],"owner":{"account_id":26250530,"reputation":3,"user_id":19923405,"display_name":"TH3 Elite"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73623049,"answer_count":1,"score":0,"last_activity_date":1662471518,"creation_date":1662383340,"question_id":73609912,"body_markdown":"I have question about BatchingRabbitTemplate ?\r\n\r\nFisrt, I use batch stategy to publish message. I wonder if message &lt; batchSize for a long time spring amqp will be publish message automaticaly right? eg. timeout \r\n\r\nSecond, What is the best appropriate value of batchingRabbitTemplate(batchSize,bufferLimit, timeout)\r\n\r\nFinally, What is the timeout parameter (BatchingRabbitTemplate)\r\n\r\nThank a lot ^^ \r\n\r\n","title":"Spring AMQP (BatchingRabbitTemplate)","body":"<p>I have question about BatchingRabbitTemplate ?</p>\n<p>Fisrt, I use batch stategy to publish message. I wonder if message &lt; batchSize for a long time spring amqp will be publish message automaticaly right? eg. timeout</p>\n<p>Second, What is the best appropriate value of batchingRabbitTemplate(batchSize,bufferLimit, timeout)</p>\n<p>Finally, What is the timeout parameter (BatchingRabbitTemplate)</p>\n<p>Thank a lot ^^</p>\n"},{"tags":["java","generics","recursion"],"comments":[{"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"score":1,"creation_date":1662471497,"post_id":73622997,"comment_id":130009375,"body_markdown":"If the `+` operator was defined for `T extends Number`, what type would it return?","body":"If the <code>+</code> operator was defined for <code>T extends Number</code>, what type would it return?"},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":2,"creation_date":1662471567,"post_id":73622997,"comment_id":130009413,"body_markdown":"The recursion and generics is just a red herring. You really want to ask how to sum 2 instances of Number. Take a look at this question https://stackoverflow.com/questions/2721390/how-to-add-two-java-lang-numbers","body":"The recursion and generics is just a red herring. You really want to ask how to sum 2 instances of Number. Take a look at this question <a href=\"https://stackoverflow.com/questions/2721390/how-to-add-two-java-lang-numbers\" title=\"how to add two java lang numbers\">stackoverflow.com/questions/2721390/&hellip;</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1662472370,"post_id":73622997,"comment_id":130009755,"body_markdown":"Also: rather than returning `null` in the `low &gt; high` case, you want to return &quot;zero&quot; (by which I mean, `Integer.valueOf(0)` or `Double.valueOf(0)` or whatever to match the `T`). If you return `null`, you will potentially attempt to add `null` to something, when actually the sum of no things is zero.","body":"Also: rather than returning <code>null</code> in the <code>low &gt; high</code> case, you want to return &quot;zero&quot; (by which I mean, <code>Integer.valueOf(0)</code> or <code>Double.valueOf(0)</code> or whatever to match the <code>T</code>). If you return <code>null</code>, you will potentially attempt to add <code>null</code> to something, when actually the sum of no things is zero."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1662476096,"post_id":73622997,"comment_id":130011335,"body_markdown":"Also: you have a typo in `binarySum(arr, low, high)`.","body":"Also: you have a typo in <code>binarySum(arr, low, high)</code>."}],"owner":{"account_id":26260831,"reputation":1,"user_id":19932175,"display_name":"Adam Muyobo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662472181,"answer_count":0,"score":0,"last_activity_date":1662471342,"creation_date":1662471342,"question_id":73622997,"body_markdown":"I want to recursively sum all generic elements in an array an the problem I&#39;m facing is during the final return statement I can not use the + operator or any method because its not defined for the type given here is my code:\r\n\r\n    public static &lt;T extends Number&gt; T binarySum(T[] arr, int low , int high) {\r\n        if(low &gt; high) return null;\r\n        else if(low == high) return arr[low];\r\n        else {\r\n           int mid = (low + high) / 2;\r\n           return binarySum(arr, low, high) + binarySum(arr, mid + 1, high);\r\n        }\r\n    }\r\n\r\n","title":"Recursion sum with generics","body":"<p>I want to recursively sum all generic elements in an array an the problem I'm facing is during the final return statement I can not use the + operator or any method because its not defined for the type given here is my code:</p>\n<pre><code>public static &lt;T extends Number&gt; T binarySum(T[] arr, int low , int high) {\n    if(low &gt; high) return null;\n    else if(low == high) return arr[low];\n    else {\n       int mid = (low + high) / 2;\n       return binarySum(arr, low, high) + binarySum(arr, mid + 1, high);\n    }\n}\n</code></pre>\n"},{"tags":["java","compiler-errors","cube","divide-and-conquer"],"comments":[{"owner":{"account_id":16941364,"reputation":241,"user_id":12253159,"display_name":"TIGUZI"},"score":0,"creation_date":1572747277,"post_id":58676871,"comment_id":103654671,"body_markdown":"When i start to run program, nothing return on the output screen, and few mins later it return that &quot;exit status 143&quot;","body":"When i start to run program, nothing return on the output screen, and few mins later it return that &quot;exit status 143&quot;"},{"owner":{"account_id":16951207,"reputation":1129,"user_id":12260671,"display_name":"www.hybriscx.com"},"score":0,"creation_date":1572747702,"post_id":58676871,"comment_id":103654729,"body_markdown":"Check https://stackoverflow.com/questions/6963811/jvm-returns-error-143","body":"Check <a href=\"https://stackoverflow.com/questions/6963811/jvm-returns-error-143\" title=\"jvm returns error 143\">stackoverflow.com/questions/6963811/jvm-returns-error-143</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1572747826,"post_id":58676871,"comment_id":103654744,"body_markdown":"`static double diff(double y, double x, double d){` - I&#39;m sure you got the order wrong. It should be `static double diff(double x, double y, double d)`.","body":"<code>static double diff(double y, double x, double d){</code> - I&#39;m sure you got the order wrong. It should be <code>static double diff(double x, double y, double d)</code>."},{"owner":{"account_id":16941364,"reputation":241,"user_id":12253159,"display_name":"TIGUZI"},"score":0,"creation_date":1572748332,"post_id":58676871,"comment_id":103654797,"body_markdown":"Yes you are right sir, could you please tell me why this happened?@JohannesKuhn","body":"Yes you are right sir, could you please tell me why this happened?@JohannesKuhn"}],"answers":[{"tags":[],"owner":{"account_id":3971637,"reputation":407,"user_id":3276094,"display_name":"AndyMan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1572747627,"creation_date":1572747627,"answer_id":58676933,"question_id":58676871,"body_markdown":"Exit code 143 corresponds to SIGTERM, which is the signal sent by default when you run kill &lt;pid&gt;. \r\n\r\nDid you or the OS kill the process? Is it an infinite loop that you eventually killed?","title":"When I run this code it return that &quot;exit status 143&quot; in java","body":"<p>Exit code 143 corresponds to SIGTERM, which is the signal sent by default when you run kill . </p>\n\n<p>Did you or the OS kill the process? Is it an infinite loop that you eventually killed?</p>\n"}],"owner":{"account_id":16941364,"reputation":241,"user_id":12253159,"display_name":"TIGUZI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29351,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58676933,"answer_count":1,"score":5,"last_activity_date":1662471169,"creation_date":1572746687,"question_id":58676871,"body_markdown":"When I run this code it return that &quot;exit status 143&quot; in java, I don&#39;t know what&#39;s going wrong there, hope someone can help me fix this problem.\r\n\r\n \r\n\r\n    class Main {\r\n        static double diff(double y, double x, double d){\r\n         if((y*y*y)+d&gt;x)\r\n         return ((y*y*y)+d-x);\r\n         else return(x-(y*y*y)+d);\r\n        }\r\n        \r\n        static double cubicRoot(double x, double d){\r\n          double start=0 , end=x;\r\n          double e = 0.01;\r\n          while(true){\r\n            double y=(start+end)/2;\r\n            double error = diff(x,y,d);\r\n            if (error &lt;= e)\r\n            return y;\r\n            if(y*y*y+d&gt;x)\r\n            end =y;\r\n            else \r\n            start =y;\r\n          }\r\n        }\r\n        \r\n          public static void main(String[] args) {\r\n        \r\n            double x =10;\r\n            double d =0.1;\r\n            System.out.println(&quot;root y is:&quot; + cubicRoot(x,d));\r\n        \r\n          }\r\n        }\r\n\r\n","title":"When I run this code it return that &quot;exit status 143&quot; in java","body":"<p>When I run this code it return that \"exit status 143\" in java, I don't know what's going wrong there, hope someone can help me fix this problem.</p>\n\n<pre><code>class Main {\n    static double diff(double y, double x, double d){\n     if((y*y*y)+d&gt;x)\n     return ((y*y*y)+d-x);\n     else return(x-(y*y*y)+d);\n    }\n\n    static double cubicRoot(double x, double d){\n      double start=0 , end=x;\n      double e = 0.01;\n      while(true){\n        double y=(start+end)/2;\n        double error = diff(x,y,d);\n        if (error &lt;= e)\n        return y;\n        if(y*y*y+d&gt;x)\n        end =y;\n        else \n        start =y;\n      }\n    }\n\n      public static void main(String[] args) {\n\n        double x =10;\n        double d =0.1;\n        System.out.println(\"root y is:\" + cubicRoot(x,d));\n\n      }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","micrometer"],"comments":[{"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"score":0,"creation_date":1662460633,"post_id":73619993,"comment_id":130005276,"body_markdown":"Please post your pom.xml or build.gradle file with dependencies","body":"Please post your pom.xml or build.gradle file with dependencies"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1662470876,"creation_date":1662470876,"answer_id":73622880,"question_id":73619993,"body_markdown":"Since Spring Boot 3.0.0-M2 was released, the Micrometer 2.0 release upon which it depends was abandoned and replaced with a backwards-compatible 1.10 release instead. As part of this, to avoid confusion about the latest version, the Micrometer team took the decision to delete the 2.0 artifacts from https://repo.spring.io. An unfortunate consequence of this is that Spring Boot 3.0.0-M2 is no longer usable.\r\n\r\nAt the time of writing, the latest milestone of Spring Boot 3.0 is 3.0.0-M4. Upgrading to it will resolve your problem. It depends on a Micrometer 1.10 milestone.","title":"Spring Project - Non-resolvable import POM: Failure to find io.micrometer:micrometer-bom:pom:2.0.0-M3?","body":"<p>Since Spring Boot 3.0.0-M2 was released, the Micrometer 2.0 release upon which it depends was abandoned and replaced with a backwards-compatible 1.10 release instead. As part of this, to avoid confusion about the latest version, the Micrometer team took the decision to delete the 2.0 artifacts from <a href=\"https://repo.spring.io\" rel=\"noreferrer\">https://repo.spring.io</a>. An unfortunate consequence of this is that Spring Boot 3.0.0-M2 is no longer usable.</p>\n<p>At the time of writing, the latest milestone of Spring Boot 3.0 is 3.0.0-M4. Upgrading to it will resolve your problem. It depends on a Micrometer 1.10 milestone.</p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73622880,"answer_count":1,"score":1,"last_activity_date":1662470876,"creation_date":1662457800,"question_id":73619993,"body_markdown":"I am getting the following error when I tried to `mvn clean install` on [this spring project][1]:\r\n\r\n    [ERROR] Non-resolvable import POM: Could not find artifact io.micrometer:micrometer-bom:pom:2.0.0-M3 in spring-snapshots (https://repo.spring.io/snapshot) @ org.springframework.boot:spring-boot-dependencies:3.0.0-M2, C:\\Users\\abc\r\n    \\.m2\\repository\\org\\springframework\\boot\\spring-boot-dependencies\\3.0.0-M2\\spring-boot-dependencies-3.0.0-M2.pom, line 2273, column 19\r\n\r\nI am using this basic settings file in my `.m2` folder:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; \r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n              xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n      \r\n      &lt;pluginGroups&gt;\r\n      &lt;/pluginGroups&gt;\r\n    \r\n      &lt;proxies&gt;\r\n      &lt;/proxies&gt;\r\n    \r\n      &lt;servers&gt;\r\n      &lt;/servers&gt;\r\n    \r\n      &lt;mirrors&gt;\r\n      &lt;/mirrors&gt;\r\n      \r\n      &lt;profiles&gt;\r\n      &lt;/profiles&gt;\r\n    \r\n    &lt;/settings&gt;\r\n\r\nSome of the dependencies are downloading fine (see below), but seems that `micrometer` is causing an issue.\r\n\r\n    Downloading from spring-snapshots: https://repo.spring.io/snapshot/org/springframework/session/spring-session-bom/2022.0.0-M1/spring-session-bom-2022.0.0-M1.pom\r\n    Downloading from spring-milestones: https://repo.spring.io/milestone/org/springframework/session/spring-session-bom/2022.0.0-M1/spring-session-bom-2022.0.0-M1.pom\r\n    Downloaded from spring-milestones: https://repo.spring.io/milestone/org/springframework/session/spring-session-bom/2022.0.0-M1/spring-session-bom-2022.0.0-M1.pom (2.8 kB at 5.2 kB/s)\r\n\r\nHow can I resolve this issue? \r\n\r\n\r\n  [1]: https://github.com/in28minutes/spring-master-class/tree/master/01-spring-in-depth","title":"Spring Project - Non-resolvable import POM: Failure to find io.micrometer:micrometer-bom:pom:2.0.0-M3?","body":"<p>I am getting the following error when I tried to <code>mvn clean install</code> on <a href=\"https://github.com/in28minutes/spring-master-class/tree/master/01-spring-in-depth\" rel=\"nofollow noreferrer\">this spring project</a>:</p>\n<pre><code>[ERROR] Non-resolvable import POM: Could not find artifact io.micrometer:micrometer-bom:pom:2.0.0-M3 in spring-snapshots (https://repo.spring.io/snapshot) @ org.springframework.boot:spring-boot-dependencies:3.0.0-M2, C:\\Users\\abc\n\\.m2\\repository\\org\\springframework\\boot\\spring-boot-dependencies\\3.0.0-M2\\spring-boot-dependencies-3.0.0-M2.pom, line 2273, column 19\n</code></pre>\n<p>I am using this basic settings file in my <code>.m2</code> folder:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; \n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n  \n  &lt;pluginGroups&gt;\n  &lt;/pluginGroups&gt;\n\n  &lt;proxies&gt;\n  &lt;/proxies&gt;\n\n  &lt;servers&gt;\n  &lt;/servers&gt;\n\n  &lt;mirrors&gt;\n  &lt;/mirrors&gt;\n  \n  &lt;profiles&gt;\n  &lt;/profiles&gt;\n\n&lt;/settings&gt;\n</code></pre>\n<p>Some of the dependencies are downloading fine (see below), but seems that <code>micrometer</code> is causing an issue.</p>\n<pre><code>Downloading from spring-snapshots: https://repo.spring.io/snapshot/org/springframework/session/spring-session-bom/2022.0.0-M1/spring-session-bom-2022.0.0-M1.pom\nDownloading from spring-milestones: https://repo.spring.io/milestone/org/springframework/session/spring-session-bom/2022.0.0-M1/spring-session-bom-2022.0.0-M1.pom\nDownloaded from spring-milestones: https://repo.spring.io/milestone/org/springframework/session/spring-session-bom/2022.0.0-M1/spring-session-bom-2022.0.0-M1.pom (2.8 kB at 5.2 kB/s)\n</code></pre>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":2436240,"reputation":3410,"user_id":2126077,"accept_rate":75,"display_name":"Heshan Sandeepa"},"score":2,"creation_date":1662454051,"post_id":73619176,"comment_id":130002971,"body_markdown":"Use Jetpack paging library or some lazy loading","body":"Use Jetpack paging library or some lazy loading"},{"owner":{"display_name":"user19697344"},"score":0,"creation_date":1662454377,"post_id":73619176,"comment_id":130003093,"body_markdown":"can we achieve it by modifying getItemCount()?","body":"can we achieve it by modifying getItemCount()?"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662454421,"creation_date":1662454421,"answer_id":73619266,"question_id":73619176,"body_markdown":"&gt; How to load the first n items in RecyclerView every time scrolling down?\r\n\r\nWhat you&#39;re looking for is called pagination. This means that you need to load the data progressively in smaller chunks. This was already covered a lot of times before, and this question already has a lot of solutions for the Realtime Database:\r\n\r\n* https://stackoverflow.com/search?q=Firebase+Realtime+Database+Pagination+Android\r\n\r\nHowever, if you consider at some point in time trying using [Cloud Firestore][1], I think that this answer will help:\r\n\r\n* https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android\r\n\r\nIf you want to go further and try using Jetpack Compose, then I think that this resource will help:\r\n\r\n&gt; [How to implement pagination in Firestore using Jetpack Compose?][2]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/\r\n  [2]: https://medium.com/firebase-tips-tricks/how-to-implement-pagination-in-firestore-using-jetpack-compose-76b4c0b5acd5","title":"How to load &#39;n&#39; (latest) items in Recycler view every time scrolling down .So it doesn&#39;t download whole database to load all on/ offscreen items","body":"<blockquote>\n<p>How to load the first n items in RecyclerView every time scrolling down?</p>\n</blockquote>\n<p>What you're looking for is called pagination. This means that you need to load the data progressively in smaller chunks. This was already covered a lot of times before, and this question already has a lot of solutions for the Realtime Database:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/search?q=Firebase+Realtime+Database+Pagination+Android\">https://stackoverflow.com/search?q=Firebase+Realtime+Database+Pagination+Android</a></li>\n</ul>\n<p>However, if you consider at some point in time trying using <a href=\"https://firebase.google.com/docs/firestore/\" rel=\"nofollow noreferrer\">Cloud Firestore</a>, I think that this answer will help:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android\">How to paginate Firestore with Android?</a></li>\n</ul>\n<p>If you want to go further and try using Jetpack Compose, then I think that this resource will help:</p>\n<blockquote>\n<p><a href=\"https://medium.com/firebase-tips-tricks/how-to-implement-pagination-in-firestore-using-jetpack-compose-76b4c0b5acd5\" rel=\"nofollow noreferrer\">How to implement pagination in Firestore using Jetpack Compose?</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16572489,"reputation":85,"user_id":11975204,"display_name":"Rahul Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662456499,"creation_date":1662456499,"answer_id":73619706,"question_id":73619176,"body_markdown":"You should use Integer.MAX_VALUE. Something like this.\r\n\r\n     public int getItemCount() {            \r\n          return Integer.MAX_VALUE;\r\n    }\r\n\r\n\r\nor simply use \r\n\r\n    public int getItemCount() {            \r\n          return itemList.size();\r\n    }","title":"How to load &#39;n&#39; (latest) items in Recycler view every time scrolling down .So it doesn&#39;t download whole database to load all on/ offscreen items","body":"<p>You should use Integer.MAX_VALUE. Something like this.</p>\n<pre><code> public int getItemCount() {            \n      return Integer.MAX_VALUE;\n}\n</code></pre>\n<p>or simply use</p>\n<pre><code>public int getItemCount() {            \n      return itemList.size();\n}\n</code></pre>\n"}],"owner":{"display_name":"user19697344"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662470661,"answer_count":2,"score":0,"last_activity_date":1662470867,"creation_date":1662453980,"question_id":73619176,"body_markdown":"Hey there I only want to load the first 2 items from the Firebase Realtime database to my recycler view but the problem is it returns only 2 images and I want to load the first 2 images out of &#39;n&#39; no. of image (for ex. return the first 2 images out of &#39;n&#39; then scrolling down return 2 new images (like that in Instagram) and not download all images offscreen and show it on scrolling). Here is the code but I get only 2 fixed items. Help! \r\n       \r\n        public int getItemCount() {\r\n                int size = mClicks.size();\r\n                \r\n              return (size &gt; 2 ? 2 : size);\r\n        }","title":"How to load &#39;n&#39; (latest) items in Recycler view every time scrolling down .So it doesn&#39;t download whole database to load all on/ offscreen items","body":"<p>Hey there I only want to load the first 2 items from the Firebase Realtime database to my recycler view but the problem is it returns only 2 images and I want to load the first 2 images out of 'n' no. of image (for ex. return the first 2 images out of 'n' then scrolling down return 2 new images (like that in Instagram) and not download all images offscreen and show it on scrolling). Here is the code but I get only 2 fixed items. Help!</p>\n<pre><code>    public int getItemCount() {\n            int size = mClicks.size();\n            \n          return (size &gt; 2 ? 2 : size);\n    }\n</code></pre>\n"},{"tags":["java","spring","thread-safety"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1461921732,"post_id":36933224,"comment_id":61428263,"body_markdown":"It is thread safe, however why are you binding your data access layer to your web layer... That is a code smell and imho a signal you are doing things wrong.","body":"It is thread safe, however why are you binding your data access layer to your web layer... That is a code smell and imho a signal you are doing things wrong."},{"owner":{"account_id":1951727,"reputation":541,"user_id":1755668,"display_name":"cihan adil seven"},"score":0,"creation_date":1461922190,"post_id":36933224,"comment_id":61428593,"body_markdown":"My DataAccess layer and Web layer are seperate but every user request keeps its login data which plays a huge role in DB operations. Should i change the DataAccess class to prototype? But if i make it so, doesn&#39;t it cost too much memory and performance for my system?","body":"My DataAccess layer and Web layer are seperate but every user request keeps its login data which plays a huge role in DB operations. Should i change the DataAccess class to prototype? But if i make it so, doesn&#39;t it cost too much memory and performance for my system?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1461922337,"post_id":36933224,"comment_id":61428672,"body_markdown":"No they aren&#39;t separated... You data layer depends on the web layer. You cannot take your dbaccess class and put it in a non-web enabled server as it has a tight coupling to `javax.servlet` and web related packages of Spring. Hence a coupling between web and data access. If you need it either pass that stuff around in a method argument or store it in a `ThreadLocal` but don&#39;t leak web details in anything other then web bound classes.","body":"No they aren&#39;t separated... You data layer depends on the web layer. You cannot take your dbaccess class and put it in a non-web enabled server as it has a tight coupling to <code>javax.servlet</code> and web related packages of Spring. Hence a coupling between web and data access. If you need it either pass that stuff around in a method argument or store it in a <code>ThreadLocal</code> but don&#39;t leak web details in anything other then web bound classes."}],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1502119969,"creation_date":1461918514,"answer_id":36933341,"question_id":36933224,"body_markdown":"&quot;thread-bound&quot; means that every thread has own copy of the data, so it is thread-safe.\r\n\r\nIt uses `ThreadLocal` for that\r\n\r\n    private static final ThreadLocal&lt;RequestAttributes&gt; requestAttributesHolder = \r\n          new NamedThreadLocal&lt;RequestAttributes&gt;(&quot;Request attributes&quot;);\r\n            \r\n\tpublic static RequestAttributes getRequestAttributes() {\r\n\t\tRequestAttributes attributes = requestAttributesHolder.get();\r\n\t\tif (attributes == null) {\r\n\t\t\tattributes = inheritableRequestAttributesHolder.get();\r\n\t\t}\r\n\t\treturn attributes;\r\n\t}\r\n\r\n`requestAttributesHolder.get()` returns `RequestAttributes` for the current thread, it is a thread that process an `HTTP` request. Every request has an own thread. \r\n\r\nMethod `get()` of `ThreadLocal` uses a map to bound the data to the `Thread.currentThread()`\r\n\r\n    public T get() {\r\n        Thread t = Thread.currentThread();\r\n        ThreadLocalMap map = getMap(t);\r\n        if (map != null) {\r\n            ThreadLocalMap.Entry e = map.getEntry(this);\r\n            if (e != null)\r\n                return (T)e.value;\r\n        }\r\n        return setInitialValue();\r\n    }\r\n\r\n[When and how should I use a ThreadLocal variable?](https://stackoverflow.com/questions/817856/when-and-how-should-i-use-a-threadlocal-variable)  ","title":"Is RequestContextHolder thread-safe?","body":"<p>\"thread-bound\" means that every thread has own copy of the data, so it is thread-safe.</p>\n\n<p>It uses <code>ThreadLocal</code> for that</p>\n\n<pre><code>private static final ThreadLocal&lt;RequestAttributes&gt; requestAttributesHolder = \n      new NamedThreadLocal&lt;RequestAttributes&gt;(\"Request attributes\");\n\npublic static RequestAttributes getRequestAttributes() {\n    RequestAttributes attributes = requestAttributesHolder.get();\n    if (attributes == null) {\n        attributes = inheritableRequestAttributesHolder.get();\n    }\n    return attributes;\n}\n</code></pre>\n\n<p><code>requestAttributesHolder.get()</code> returns <code>RequestAttributes</code> for the current thread, it is a thread that process an <code>HTTP</code> request. Every request has an own thread. </p>\n\n<p>Method <code>get()</code> of <code>ThreadLocal</code> uses a map to bound the data to the <code>Thread.currentThread()</code></p>\n\n<pre><code>public T get() {\n    Thread t = Thread.currentThread();\n    ThreadLocalMap map = getMap(t);\n    if (map != null) {\n        ThreadLocalMap.Entry e = map.getEntry(this);\n        if (e != null)\n            return (T)e.value;\n    }\n    return setInitialValue();\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/817856/when-and-how-should-i-use-a-threadlocal-variable\">When and how should I use a ThreadLocal variable?</a>  </p>\n"}],"owner":{"account_id":1951727,"reputation":541,"user_id":1755668,"display_name":"cihan adil seven"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22414,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":36933341,"answer_count":1,"score":11,"last_activity_date":1662470548,"creation_date":1461918105,"question_id":36933224,"body_markdown":"In my Spring JDBC project I have a class called `DBStuff` which i use to connect to DB and make simple DB operations. It&#39;s a web project and there are users, so naturally i use session mechanism. When i need to retrieve request data in `DBStuff` class, I use this line of code below:\r\n\r\n    HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\r\n\r\nBut, there is no explanation that if the `RequestContextHolder` is thread-safe or not. Even the spring&#39;s official [forum][1] doesn&#39;t have an answer for that. Because of using servlet, I need to provide a thread-safe nature for the users.\r\n\r\nBy definition `RequestContextHolder` is defined as &quot;Holder class to expose the web request in the form of a thread-bound `RequestAttributes` object.&quot; But I am not sure if &quot;thread-bound&quot; stands for thread-safe.  \r\n \r\n  [1]: https://web.archive.org/web/20170828054346/http://forum.spring.io/forum/spring-projects/web/web-flow/748410-requestcontextholder-thread-local","title":"Is RequestContextHolder thread-safe?","body":"<p>In my Spring JDBC project I have a class called <code>DBStuff</code> which i use to connect to DB and make simple DB operations. It's a web project and there are users, so naturally i use session mechanism. When i need to retrieve request data in <code>DBStuff</code> class, I use this line of code below:</p>\n<pre><code>HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\n</code></pre>\n<p>But, there is no explanation that if the <code>RequestContextHolder</code> is thread-safe or not. Even the spring's official <a href=\"https://web.archive.org/web/20170828054346/http://forum.spring.io/forum/spring-projects/web/web-flow/748410-requestcontextholder-thread-local\" rel=\"nofollow noreferrer\">forum</a> doesn't have an answer for that. Because of using servlet, I need to provide a thread-safe nature for the users.</p>\n<p>By definition <code>RequestContextHolder</code> is defined as &quot;Holder class to expose the web request in the form of a thread-bound <code>RequestAttributes</code> object.&quot; But I am not sure if &quot;thread-bound&quot; stands for thread-safe.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1662150023,"post_id":73587500,"comment_id":129948066,"body_markdown":"Why would you want to have a string of 50 names? This sounds like an `XY` problem.","body":"Why would you want to have a string of 50 names? This sounds like an <code>XY</code> problem."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662153866,"post_id":73587500,"comment_id":129948933,"body_markdown":"It&#39;s not clear, why do you think you need **parallel** streams for that ? And when you&#39;re saying *&quot;achieve it using java8&quot;* you mean that you&#39;re using JDK 8 or you refer to Stream API?","body":"It&#39;s not clear, why do you think you need <b>parallel</b> streams for that ? And when you&#39;re saying <i>&quot;achieve it using java8&quot;</i> you mean that you&#39;re using JDK 8 or you refer to Stream API?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662153985,"post_id":73587500,"comment_id":129948956,"body_markdown":"Also, if you&#39;re expecting to get feedback, then please, [*edit the question*](https://stackoverflow.com/posts/73587500/edit) and share the code you have.","body":"Also, if you&#39;re expecting to get feedback, then please, <a href=\"https://stackoverflow.com/posts/73587500/edit\"><i>edit the question</i></a> and share the code you have."},{"owner":{"account_id":26229592,"reputation":11,"user_id":19905776,"display_name":"NewBee"},"score":0,"creation_date":1662215503,"post_id":73587500,"comment_id":129957206,"body_markdown":"@WJS I want the set of that spilt data for further processing using multithreading","body":"@WJS I want the set of that spilt data for further processing using multithreading"},{"owner":{"account_id":26229592,"reputation":11,"user_id":19905776,"display_name":"NewBee"},"score":0,"creation_date":1662215555,"post_id":73587500,"comment_id":129957218,"body_markdown":"@AlexanderIvanchenko currently I’m using for loop and string builder. I want to know if the process can be automated using java8 or some sort of threading mechanism..","body":"@AlexanderIvanchenko currently I’m using for loop and string builder. I want to know if the process can be automated using java8 or some sort of threading mechanism.."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662215724,"post_id":73587500,"comment_id":129957249,"body_markdown":"@NewBee Sorry but you didn&#39;t address neither of my questions in your reply, if  you mind I want to kindly ask to reread my messages. It&#39;s still unclear what do you refer to while saying Java 8, a language version, or particular features?","body":"@NewBee Sorry but you didn&#39;t address neither of my questions in your reply, if  you mind I want to kindly ask to reread my messages. It&#39;s still unclear what do you refer to while saying Java 8, a language version, or particular features?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662216491,"post_id":73587500,"comment_id":129957391,"body_markdown":"@NewBee There are two reasons why I was asking you to share your code: **1.** it always brings value to the question, **2.** it highly advisable for question where you expect to see the code in the answers, every question SO is expected to demonstrate a research effort (see more information in the Help Center).","body":"@NewBee There are two reasons why I was asking you to share your code: <b>1.</b> it always brings value to the question, <b>2.</b> it highly advisable for question where you expect to see the code in the answers, every question SO is expected to demonstrate a research effort (see more information in the Help Center)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662217254,"post_id":73587500,"comment_id":129957549,"body_markdown":"@NewBee Lastly `2K` elements isn&#39;t a really massive data that requires concurrent processing. And more importantly, this task **isn&#39;t parallelizable**. Try to model the process of splitting the data into chucks that would be processed by different threads, and joining the results on a paper, you&#39;ll see that there would be no performance gain due to the nature of the task.","body":"@NewBee Lastly <code>2K</code> elements isn&#39;t a really massive data that requires concurrent processing. And more importantly, this task <b>isn&#39;t parallelizable</b>. Try to model the process of splitting the data into chucks that would be processed by different threads, and joining the results on a paper, you&#39;ll see that there would be no performance gain due to the nature of the task."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662217504,"post_id":73587500,"comment_id":129957603,"body_markdown":"In case if you want to see stream-based code. Firstly, you have to provide your **current code** and at least an **attempt** to implement it with streams. So, again, I advise you to [*improve your question*](https://stackoverflow.com/posts/73587500/edit).","body":"In case if you want to see stream-based code. Firstly, you have to provide your <b>current code</b> and at least an <b>attempt</b> to implement it with streams. So, again, I advise you to <a href=\"https://stackoverflow.com/posts/73587500/edit\"><i>improve your question</i></a>."},{"owner":{"account_id":26229592,"reputation":11,"user_id":19905776,"display_name":"NewBee"},"score":0,"creation_date":1662220791,"post_id":73587500,"comment_id":129958240,"body_markdown":"@AlexanderIvanchenko : I have pasted the code. Actually for every 50 concatenated mails I want to call a REST API to send emails.","body":"@AlexanderIvanchenko : I have pasted the code. Actually for every 50 concatenated mails I want to call a REST API to send emails."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1662375912,"post_id":73587500,"comment_id":129984358,"body_markdown":"Don’t post non-working pseudo code. Post the real code. And explain what’s wrong with it that you think you have to rewrite it.","body":"Don’t post non-working pseudo code. Post the real code. And explain what’s wrong with it that you think you have to rewrite it."},{"owner":{"account_id":26229592,"reputation":11,"user_id":19905776,"display_name":"NewBee"},"score":0,"creation_date":1662382425,"post_id":73587500,"comment_id":129986780,"body_markdown":"@Holger : what is not working in that code? Also I’m not asking for someone to write a code and give me. I’ve clearly asked for a clean approach.","body":"@Holger : what is not working in that code? Also I’m not asking for someone to write a code and give me. I’ve clearly asked for a clean approach."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1662382680,"post_id":73587500,"comment_id":129986878,"body_markdown":"@NewBee 1) Trying to instantiate an interface of List 2) Stringbuilder using wrong case 3) invalid quotation marks 4) toString invoked with no brackets 5) Invalid use of wildcard","body":"@NewBee 1) Trying to instantiate an interface of List 2) Stringbuilder using wrong case 3) invalid quotation marks 4) toString invoked with no brackets 5) Invalid use of wildcard"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662383245,"post_id":73587500,"comment_id":129987124,"body_markdown":"Letting all the errors in the code aside, if you have a working approach, why do you assume that it is not “a clean approach”?","body":"Letting all the errors in the code aside, if you have a working approach, why do you assume that it is not “a clean approach”?"},{"owner":{"account_id":26229592,"reputation":11,"user_id":19905776,"display_name":"NewBee"},"score":0,"creation_date":1662393705,"post_id":73587500,"comment_id":129990859,"body_markdown":"@Holger , Michael : If you can not help me , please stay out of this post. Dont need your over smartness. Secondly even though I have a working code, I am looking for a nicer approach which could increase speed, consume less memory and be efficient. (i was looking for some multithreaded/ parallelstream / stream using groupingBy/ Queue ) approaches. Also I was expecting JUST AN APPROACH.","body":"@Holger , Michael : If you can not help me , please stay out of this post. Dont need your over smartness. Secondly even though I have a working code, I am looking for a nicer approach which could increase speed, consume less memory and be efficient. (i was looking for some multithreaded/ parallelstream / stream using groupingBy/ Queue ) approaches. Also I was expecting JUST AN APPROACH."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662394571,"post_id":73587500,"comment_id":129991133,"body_markdown":"“*I am looking for a nicer approach which could increase speed, consume less memory and be efficient.*” Well, why don’t you ask about *that*, instead of what you have asked? An efficient solution has nothing to do with parallel streams at all. `final int chunkSize = 50; List&lt;String&gt; splitEmails = new ArrayList&lt;&gt;(); for(int ix1 = 0, ix2 = chunkSize; ix1 &lt; bulkEmails.size(); ix1 = ix2, ix2 += chunkSize) splitEmails.add(String.join(&quot;, &quot;, bulkEmails.subList(ix1, Math.min(ix2, bulkEmails.size()))));` That doesn’t mean that the `StringBuilder` based approach wasn’t clean.","body":"“<i>I am looking for a nicer approach which could increase speed, consume less memory and be efficient.</i>” Well, why don’t you ask about <i>that</i>, instead of what you have asked? An efficient solution has nothing to do with parallel streams at all. <code>final int chunkSize = 50; List&lt;String&gt; splitEmails = new ArrayList&lt;&gt;(); for(int ix1 = 0, ix2 = chunkSize; ix1 &lt; bulkEmails.size(); ix1 = ix2, ix2 += chunkSize) splitEmails.add(String.join(&quot;, &quot;, bulkEmails.subList(ix1, Math.min(ix2, bulkEmails.size()))));</code> That doesn’t mean that the <code>StringBuilder</code> based approach wasn’t clean."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662470287,"creation_date":1662470287,"answer_id":73622738,"question_id":73587500,"body_markdown":"As I&#39;ve said in the comments, `2K` isn&#39;t really a massive data.\r\n\r\nAnd there&#39;s an issue with executing this task in parallel.\r\n\r\nLet&#39;s imagine this task of splitting the data into groups of `50` elements is running in parallel somehow and the first worker thread is being assigned with a chunk of data containing `523` elements, the second - `518` elements, and so on. And none of these chunks is a product `50`. As a consequence of this, each thread would produce a partial result containing a group of size which differs from `50`.\r\n\r\nDepending on how you want to deal with such cases, there are different approaches on how to implement this functionality:\r\n\r\n* Join partial results as is. It implies that the final result would contain an **arbitrary number** of groups having size in range `[1,49]`. That is the simplest option to implement, and cheapest to execute. But, note that there could even the case when **every** resulting group is smaller than `50` be since you&#39;re not in control of the splitterator implementation (i.e. you can&#39;t dictate what would be large would be a chuck of data which particular thread would be assigned to work with). Regardless how strict/lenient your requirements are, that doesn&#39;t sound very nice.\r\n\r\n* The second option requires reordering the elements. While joining partial results produced by each thread in parallel, we can merge the two last groups produced by every thread to ensure that there would be **only one** group at most that differs in size from `50` in the final result.\r\n\r\n* If you&#39;re not OK with either joining partial results as is, or reordering the elements, that implies that this task isn&#39;t suitable for parallel execution because in case when the first thread produces a partial result containing a group of size smaller than `50` all the groups created by the second thread need to be rearranged. Which results in worse performance in parallel because of doing the same job twice.\r\n\r\nThe second thing we need to consider is that the operation of creating groups requires **maintaining a state**. Therefore, the right place for this transformation is inside a *collector*, where the stream is being consumed and *mutable container* of the collector gets updated.\r\n\r\nLet&#39;s start with implementing a `Collector` which ignores the issue described above and joins partial results as is.\r\n\r\nFor that we can use static method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)).\r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, Deque&lt;List&lt;T&gt;&gt;&gt; getGroupCollector(int groupSize) {\r\n        \r\n        return Collector.of(\r\n            ArrayDeque::new,\r\n            (Deque&lt;List&lt;T&gt;&gt; deque, T next) -&gt; {\r\n                if (deque.isEmpty() || deque.getLast().size() == groupSize) deque.add(new ArrayList&lt;&gt;());\r\n                deque.getLast().add(next);\r\n            },\r\n            (left, right) -&gt; {\r\n                left.addAll(right);\r\n                return left;\r\n            }\r\n        );\r\n    }\r\n\r\nNow let&#39;s implement a `Collector` which merges the two last groups produced in different threads (option 2 in the list above):\r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, Deque&lt;List&lt;T&gt;&gt;&gt; getGroupCollector(int groupSize) {\r\n        \r\n        return Collector.of(\r\n            ArrayDeque::new,\r\n            (Deque&lt;List&lt;T&gt;&gt; deque, T next) -&gt; {\r\n                if (deque.isEmpty() || deque.getLast().size() == groupSize) deque.add(new ArrayList&lt;&gt;());\r\n                deque.getLast().add(next);\r\n            },\r\n            (left, right) -&gt; {\r\n                if (left.peekLast().size() &lt; groupSize) {\r\n                    List&lt;T&gt; leftLast = left.pollLast();\r\n                    List&lt;T&gt; rightLast = right.peekLast();\r\n                    int llSize = leftLast.size();\r\n                    int rlSize = rightLast.size();\r\n                    if (rlSize + llSize &lt;= groupSize) {\r\n                        rightLast.addAll(leftLast);\r\n                    } else {\r\n                        rightLast.addAll(leftLast.subList(0, groupSize - rlSize));\r\n                        right.add(new ArrayList&lt;&gt;(leftLast.subList(groupSize - rlSize, llSize)));\r\n                    }\r\n                }\r\n                left.addAll(right);\r\n                return left;\r\n            }\r\n        );\r\n    }\r\n\r\nIf you wish to implement a `Collector` which *combiner function* rearranges the partial results if needed (the very last option in the list), I&#39;m leaving it to the OP/reader as an exercise.\r\n\r\nNow let&#39;s use the collector defined above (the latest). Let&#39;s consider a stream of single-letter strings representing the characters of the English alphabet, and let&#39;s group size would be `5`.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; groups = IntStream.rangeClosed(&#39;A&#39;, &#39;Z&#39;)\r\n            .mapToObj(ch -&gt; String.valueOf((char) ch))\r\n            .collect(getGroupCollector(5))\r\n            .stream()\r\n            .map(group -&gt; String.join(&quot;,&quot;, group))\r\n            .collect(Collectors.toList());\r\n        \r\n        groups.forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n```\r\nA,B,C,D,E\r\nF,G,H,I,J\r\nK,L,M,N,O\r\nP,Q,R,S,T\r\nU,V,W,X,Y\r\nZ\r\n```\r\nThat&#39;s the sequential result. If you switch, the stream from sequential to parallel the contents of the groups would probably change, but the *sizes would not be affected*.\r\n\r\nAlso note that since there are effectively two independent streams chained together, you need to apply `parrallel()` twice to make the whole thing working in parallel.","title":"Split List&lt;String&gt; into small concatenated List&lt;String&gt; java 8 parallel execution","body":"<p>As I've said in the comments, <code>2K</code> isn't really a massive data.</p>\n<p>And there's an issue with executing this task in parallel.</p>\n<p>Let's imagine this task of splitting the data into groups of <code>50</code> elements is running in parallel somehow and the first worker thread is being assigned with a chunk of data containing <code>523</code> elements, the second - <code>518</code> elements, and so on. And none of these chunks is a product <code>50</code>. As a consequence of this, each thread would produce a partial result containing a group of size which differs from <code>50</code>.</p>\n<p>Depending on how you want to deal with such cases, there are different approaches on how to implement this functionality:</p>\n<ul>\n<li><p>Join partial results as is. It implies that the final result would contain an <strong>arbitrary number</strong> of groups having size in range <code>[1,49]</code>. That is the simplest option to implement, and cheapest to execute. But, note that there could even the case when <strong>every</strong> resulting group is smaller than <code>50</code> be since you're not in control of the splitterator implementation (i.e. you can't dictate what would be large would be a chuck of data which particular thread would be assigned to work with). Regardless how strict/lenient your requirements are, that doesn't sound very nice.</p>\n</li>\n<li><p>The second option requires reordering the elements. While joining partial results produced by each thread in parallel, we can merge the two last groups produced by every thread to ensure that there would be <strong>only one</strong> group at most that differs in size from <code>50</code> in the final result.</p>\n</li>\n<li><p>If you're not OK with either joining partial results as is, or reordering the elements, that implies that this task isn't suitable for parallel execution because in case when the first thread produces a partial result containing a group of size smaller than <code>50</code> all the groups created by the second thread need to be rearranged. Which results in worse performance in parallel because of doing the same job twice.</p>\n</li>\n</ul>\n<p>The second thing we need to consider is that the operation of creating groups requires <strong>maintaining a state</strong>. Therefore, the right place for this transformation is inside a <em>collector</em>, where the stream is being consumed and <em>mutable container</em> of the collector gets updated.</p>\n<p>Let's start with implementing a <code>Collector</code> which ignores the issue described above and joins partial results as is.</p>\n<p>For that we can use static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>.</p>\n<pre><code>public static &lt;T&gt; Collector&lt;T, ?, Deque&lt;List&lt;T&gt;&gt;&gt; getGroupCollector(int groupSize) {\n    \n    return Collector.of(\n        ArrayDeque::new,\n        (Deque&lt;List&lt;T&gt;&gt; deque, T next) -&gt; {\n            if (deque.isEmpty() || deque.getLast().size() == groupSize) deque.add(new ArrayList&lt;&gt;());\n            deque.getLast().add(next);\n        },\n        (left, right) -&gt; {\n            left.addAll(right);\n            return left;\n        }\n    );\n}\n</code></pre>\n<p>Now let's implement a <code>Collector</code> which merges the two last groups produced in different threads (option 2 in the list above):</p>\n<pre><code>public static &lt;T&gt; Collector&lt;T, ?, Deque&lt;List&lt;T&gt;&gt;&gt; getGroupCollector(int groupSize) {\n    \n    return Collector.of(\n        ArrayDeque::new,\n        (Deque&lt;List&lt;T&gt;&gt; deque, T next) -&gt; {\n            if (deque.isEmpty() || deque.getLast().size() == groupSize) deque.add(new ArrayList&lt;&gt;());\n            deque.getLast().add(next);\n        },\n        (left, right) -&gt; {\n            if (left.peekLast().size() &lt; groupSize) {\n                List&lt;T&gt; leftLast = left.pollLast();\n                List&lt;T&gt; rightLast = right.peekLast();\n                int llSize = leftLast.size();\n                int rlSize = rightLast.size();\n                if (rlSize + llSize &lt;= groupSize) {\n                    rightLast.addAll(leftLast);\n                } else {\n                    rightLast.addAll(leftLast.subList(0, groupSize - rlSize));\n                    right.add(new ArrayList&lt;&gt;(leftLast.subList(groupSize - rlSize, llSize)));\n                }\n            }\n            left.addAll(right);\n            return left;\n        }\n    );\n}\n</code></pre>\n<p>If you wish to implement a <code>Collector</code> which <em>combiner function</em> rearranges the partial results if needed (the very last option in the list), I'm leaving it to the OP/reader as an exercise.</p>\n<p>Now let's use the collector defined above (the latest). Let's consider a stream of single-letter strings representing the characters of the English alphabet, and let's group size would be <code>5</code>.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; groups = IntStream.rangeClosed('A', 'Z')\n        .mapToObj(ch -&gt; String.valueOf((char) ch))\n        .collect(getGroupCollector(5))\n        .stream()\n        .map(group -&gt; String.join(&quot;,&quot;, group))\n        .collect(Collectors.toList());\n    \n    groups.forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>A,B,C,D,E\nF,G,H,I,J\nK,L,M,N,O\nP,Q,R,S,T\nU,V,W,X,Y\nZ\n</code></pre>\n<p>That's the sequential result. If you switch, the stream from sequential to parallel the contents of the groups would probably change, but the <em>sizes would not be affected</em>.</p>\n<p>Also note that since there are effectively two independent streams chained together, you need to apply <code>parrallel()</code> twice to make the whole thing working in parallel.</p>\n"}],"owner":{"account_id":26229592,"reputation":11,"user_id":19905776,"display_name":"NewBee"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662470287,"creation_date":1662149186,"question_id":73587500,"body_markdown":"So I have 2000 records of company names. I could like to take first 50 names and concatenate it and save as a string and then append it to a new List&lt;String&gt; .\r\n\r\nDoes anyone have any idea how can we achieve it using java8 ?\r\nCan this be done using parallelstream api?\r\n\r\nCurrently I’m iteration over 2k records and appending the data to a string builder . Meanwhile after every 50th count I’m creating a new String builder  . After every 50 record I add the string builder content to a list&lt;String&gt;. Finally i get list&lt;String&gt; With all the data.\r\n\r\nExample: a1@ , a2 till a2000\r\n\r\n    \r\nFinal output: LiSt of String with \r\n1st entry —&gt; concatenation of a1 to a50, \r\n2nd entry —&gt; concatenation of a51 to a100\r\n\r\nCode:\r\n\r\n    List&lt;String&gt; bulkEmails ; //Fetched from DB\r\n    int count = 50; \r\n    \r\n    List&lt;String&gt; splitEmails = new ArrayList&lt;&gt;(); //Final output\r\n    \r\n    StringBuilder builder = new StringBuilder(); // temp builder\r\n    \r\n    for (String mail : bulkEmails) {\r\n        builder.append(mail).append(&quot;,&quot;);\r\n        count++;\r\n        //append concatenated 50mails, appends to finalOutput and then resets the counter\r\n        if (count == 50) {\r\n            splitEmails.add(builder.toString());\r\n            builder = new StringBuilder();\r\n            count = 0;\r\n        }\r\n    }\r\n\r\n\r\nSuggestions are appreciated. ","title":"Split List&lt;String&gt; into small concatenated List&lt;String&gt; java 8 parallel execution","body":"<p>So I have 2000 records of company names. I could like to take first 50 names and concatenate it and save as a string and then append it to a new List .</p>\n<p>Does anyone have any idea how can we achieve it using java8 ?\nCan this be done using parallelstream api?</p>\n<p>Currently I’m iteration over 2k records and appending the data to a string builder . Meanwhile after every 50th count I’m creating a new String builder  . After every 50 record I add the string builder content to a list. Finally i get list With all the data.</p>\n<p>Example: a1@ , a2 till a2000</p>\n<p>Final output: LiSt of String with\n1st entry —&gt; concatenation of a1 to a50,\n2nd entry —&gt; concatenation of a51 to a100</p>\n<p>Code:</p>\n<pre><code>List&lt;String&gt; bulkEmails ; //Fetched from DB\nint count = 50; \n\nList&lt;String&gt; splitEmails = new ArrayList&lt;&gt;(); //Final output\n\nStringBuilder builder = new StringBuilder(); // temp builder\n\nfor (String mail : bulkEmails) {\n    builder.append(mail).append(&quot;,&quot;);\n    count++;\n    //append concatenated 50mails, appends to finalOutput and then resets the counter\n    if (count == 50) {\n        splitEmails.add(builder.toString());\n        builder = new StringBuilder();\n        count = 0;\n    }\n}\n</code></pre>\n<p>Suggestions are appreciated.</p>\n"},{"tags":["java","switch-statement","case"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1627797237,"post_id":68607845,"comment_id":121248855,"body_markdown":"Break conditionally. Put 4 at the top.","body":"Break conditionally. Put 4 at the top."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1627797824,"post_id":68607845,"comment_id":121248919,"body_markdown":"While @BoristheSpider&#39;s suggestion would work, I think it is ugly and confusing. Just have a single method call in each of cases 1 2 and 3, and duplicate the three calls in case 4.","body":"While @BoristheSpider&#39;s suggestion would work, I think it is ugly and confusing. Just have a single method call in each of cases 1 2 and 3, and duplicate the three calls in case 4."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1627798039,"post_id":68607845,"comment_id":121248944,"body_markdown":"You might find https://en.m.wikipedia.org/wiki/Duff%27s_device interesting.","body":"You might find <a href=\"https://en.m.wikipedia.org/wiki/Duff%27s_device\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Duff%27s_device</a> interesting."},{"owner":{"account_id":3928993,"reputation":343,"user_id":3248353,"display_name":"Sathiyaraj"},"score":0,"creation_date":1627798514,"post_id":68607845,"comment_id":121249014,"body_markdown":"Hi @M. Ruiz, You may have only those four conditions only right, We can use continue along with flag management to resolve the issue. as per you above code. If you have any dynamic logic we need concern about it.","body":"Hi @M. Ruiz, You may have only those four conditions only right, We can use continue along with flag management to resolve the issue. as per you above code. If you have any dynamic logic we need concern about it."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1627799689,"post_id":68607845,"comment_id":121249163,"body_markdown":"Why would you need that just for some print statements? If you&#39;re talking more complex code, move the code to **methods**, then call the methods. Methods allow code re-use.","body":"Why would you need that just for some print statements? If you&#39;re talking more complex code, move the code to <b>methods</b>, then call the methods. Methods allow code re-use."},{"owner":{"account_id":14725769,"reputation":65,"user_id":10634797,"display_name":"M. Ruiz"},"score":0,"creation_date":1627799804,"post_id":68607845,"comment_id":121249179,"body_markdown":"@Andreas you realize this is just as an example, right? I am asking a question on how to call code from the previous cases, not asking anything about print statements. For the sake of simplicity, I put simple code.","body":"@Andreas you realize this is just as an example, right? I am asking a question on how to call code from the previous cases, not asking anything about print statements. For the sake of simplicity, I put simple code."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1627799962,"post_id":68607845,"comment_id":121249210,"body_markdown":"@M.Ruiz You realize I already address that too in my comment, right?","body":"@M.Ruiz You realize I already address that too in my comment, right?"},{"owner":{"account_id":14725769,"reputation":65,"user_id":10634797,"display_name":"M. Ruiz"},"score":0,"creation_date":1627801617,"post_id":68607845,"comment_id":121249434,"body_markdown":"@BoristheSpider I implemented your code and while it works, it seems a little hacky. You put conditional breaks on all except the last case before the default case. Works, but doesn&#39;t seem like the best implementation.","body":"@BoristheSpider I implemented your code and while it works, it seems a little hacky. You put conditional breaks on all except the last case before the default case. Works, but doesn&#39;t seem like the best implementation."},{"owner":{"account_id":14725769,"reputation":65,"user_id":10634797,"display_name":"M. Ruiz"},"score":0,"creation_date":1627801686,"post_id":68607845,"comment_id":121249442,"body_markdown":"@Thorbj&#248;rnRavnAndersen continue only works inside of loops, doesn&#39;t work in a switch case statement unfortunately.","body":"@Thorbj&#248;rnRavnAndersen continue only works inside of loops, doesn&#39;t work in a switch case statement unfortunately."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1627813244,"post_id":68607845,"comment_id":121251528,"body_markdown":"@M.Ruiz I know. I thought it might interest you","body":"@M.Ruiz I know. I thought it might interest you"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1627825711,"creation_date":1627799821,"answer_id":68608030,"question_id":68607845,"body_markdown":"`switch` statement does not allow repeated `case`&#39;s, so requested functionality may be achieved only with multiple `if` statements using OR operation:\r\n```java\r\nif (option == 1 || option == 4) {\r\n    System.out.println(&quot;1&quot;);\r\n}\r\nif (option == 2 || option == 4) {\r\n    System.out.println(&quot;2&quot;);\r\n}\r\nif (option == 3 || option == 4) {\r\n    System.out.println(&quot;3&quot;);\r\n}\r\n```\r\n----\r\nAnother approach could consist in preparing a map of options to certain actions or lists of actions to implement required logic.\r\n\r\n1. `Map&lt;Integer, Runnable&gt;` + `Predicate.or`\r\n```java\r\n// define a map of simple actions\r\nstatic final Map&lt;Integer, Runnable&gt; actionMap = new LinkedHashMap&lt;&gt;(); \r\nstatic {\r\n    actionMap.put(1, ()-&gt; System.out.println(&quot;1&quot;));\r\n    actionMap.put(2, ()-&gt; System.out.println(&quot;2&quot;));\r\n    actionMap.put(3, ()-&gt; System.out.println(&quot;3&quot;));\r\n};\r\n\r\npublic static void runOption(Integer option) {\r\n    if (option &lt; 1 || option &gt; 4) {\r\n        System.out.println(&quot;No action found for option = &quot; + option);\r\n    } else {\r\n        Predicate&lt;Integer&gt; is4 = (x) -&gt; 4 == option;\r\n        \r\n        actionMap.keySet()\r\n            .stream()\r\n            .filter(is4.or(option::equals))\r\n            .map(actionMap::get)\r\n            .forEach(Runnable::run);\r\n    }\r\n}\r\n```\r\nTest:\r\n```java\r\nIntStream.range(0, 6).boxed().forEach(MyClass::runOption);\r\n```\r\nOutput:\r\n```\r\nNo action found for option = 0\r\n1\r\n2\r\n3\r\n1\r\n2\r\n3\r\nNo action found for option = 5\r\n```\r\n2. `Map&lt;Integer, List&lt;Runnable&gt;&gt;` with `getOrDefault`\r\n\r\nThis method facilitates any composition of actions, not only having _one_ action to run all available actions.\r\n\r\n```java\r\nstatic Runnable \r\n    action1 = ()-&gt; System.out.println(&quot;1&quot;),\r\n    action2 = ()-&gt; System.out.println(&quot;2&quot;),\r\n    action3 = ()-&gt; System.out.println(&quot;3&quot;);\r\n\r\nstatic final Map&lt;Integer, List&lt;Runnable&gt;&gt; actionListMap = Map.of(\r\n    1, Arrays.asList(action1),\r\n    2, Arrays.asList(action2),\r\n    3, Arrays.asList(action3),\r\n    4, Arrays.asList(action1, action2, action3)\r\n);\r\n\r\npublic static void runOptionList(Integer option) {\r\n    actionListMap.getOrDefault(\r\n        option, \r\n        Arrays.asList(() -&gt; System.out.println(&quot;No action found for option = &quot; + option))\r\n    )\r\n    .forEach(Runnable::run);\r\n}\r\n```","title":"Is there a way to have an option that can run all previous cases in a switch statement?","body":"<p><code>switch</code> statement does not allow repeated <code>case</code>'s, so requested functionality may be achieved only with multiple <code>if</code> statements using OR operation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (option == 1 || option == 4) {\n    System.out.println(&quot;1&quot;);\n}\nif (option == 2 || option == 4) {\n    System.out.println(&quot;2&quot;);\n}\nif (option == 3 || option == 4) {\n    System.out.println(&quot;3&quot;);\n}\n</code></pre>\n<hr />\n<p>Another approach could consist in preparing a map of options to certain actions or lists of actions to implement required logic.</p>\n<ol>\n<li><code>Map&lt;Integer, Runnable&gt;</code> + <code>Predicate.or</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>// define a map of simple actions\nstatic final Map&lt;Integer, Runnable&gt; actionMap = new LinkedHashMap&lt;&gt;(); \nstatic {\n    actionMap.put(1, ()-&gt; System.out.println(&quot;1&quot;));\n    actionMap.put(2, ()-&gt; System.out.println(&quot;2&quot;));\n    actionMap.put(3, ()-&gt; System.out.println(&quot;3&quot;));\n};\n\npublic static void runOption(Integer option) {\n    if (option &lt; 1 || option &gt; 4) {\n        System.out.println(&quot;No action found for option = &quot; + option);\n    } else {\n        Predicate&lt;Integer&gt; is4 = (x) -&gt; 4 == option;\n        \n        actionMap.keySet()\n            .stream()\n            .filter(is4.or(option::equals))\n            .map(actionMap::get)\n            .forEach(Runnable::run);\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.range(0, 6).boxed().forEach(MyClass::runOption);\n</code></pre>\n<p>Output:</p>\n<pre><code>No action found for option = 0\n1\n2\n3\n1\n2\n3\nNo action found for option = 5\n</code></pre>\n<ol start=\"2\">\n<li><code>Map&lt;Integer, List&lt;Runnable&gt;&gt;</code> with <code>getOrDefault</code></li>\n</ol>\n<p>This method facilitates any composition of actions, not only having <em>one</em> action to run all available actions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Runnable \n    action1 = ()-&gt; System.out.println(&quot;1&quot;),\n    action2 = ()-&gt; System.out.println(&quot;2&quot;),\n    action3 = ()-&gt; System.out.println(&quot;3&quot;);\n\nstatic final Map&lt;Integer, List&lt;Runnable&gt;&gt; actionListMap = Map.of(\n    1, Arrays.asList(action1),\n    2, Arrays.asList(action2),\n    3, Arrays.asList(action3),\n    4, Arrays.asList(action1, action2, action3)\n);\n\npublic static void runOptionList(Integer option) {\n    actionListMap.getOrDefault(\n        option, \n        Arrays.asList(() -&gt; System.out.println(&quot;No action found for option = &quot; + option))\n    )\n    .forEach(Runnable::run);\n}\n</code></pre>\n"}],"owner":{"account_id":14725769,"reputation":65,"user_id":10634797,"display_name":"M. Ruiz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68608030,"answer_count":1,"score":0,"last_activity_date":1662470177,"creation_date":1627797111,"question_id":68607845,"body_markdown":"For example, if the user selects option 1 - 3 it does their own specific task. If user enters 4, it does all options 1 - 3. Is there a way to accomplish this using switch statement without having to copy and paste all code from each of the cases?\r\n\r\n```java\r\nswitch (option) {\r\n    case 1: {\r\n        System.out.println(&quot;1&quot;);\r\n        break;\r\n    }\r\n    case 2: {\r\n        System.out.println(&quot;2&quot;);\r\n        break;\r\n    }\r\n    case 3: {\r\n        System.out.println(&quot;3&quot;);\r\n        break;\r\n    }\r\n    case 4: {\r\n        System.out.println(&quot;1&quot;);\r\n        System.out.println(&quot;2&quot;);\r\n        System.out.println(&quot;3&quot;);\r\n        break;\r\n    }\r\n    default: {\r\n        System.out.print(&quot;Invalid selection.&quot;);\r\n        break;\r\n    }\r\n}\r\n```","title":"Is there a way to have an option that can run all previous cases in a switch statement?","body":"<p>For example, if the user selects option 1 - 3 it does their own specific task. If user enters 4, it does all options 1 - 3. Is there a way to accomplish this using switch statement without having to copy and paste all code from each of the cases?</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (option) {\n    case 1: {\n        System.out.println(&quot;1&quot;);\n        break;\n    }\n    case 2: {\n        System.out.println(&quot;2&quot;);\n        break;\n    }\n    case 3: {\n        System.out.println(&quot;3&quot;);\n        break;\n    }\n    case 4: {\n        System.out.println(&quot;1&quot;);\n        System.out.println(&quot;2&quot;);\n        System.out.println(&quot;3&quot;);\n        break;\n    }\n    default: {\n        System.out.print(&quot;Invalid selection.&quot;);\n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","oauth-2.0","google-api","google-people-api"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1622731748,"post_id":67500479,"comment_id":119881171,"body_markdown":"I find the documentation on Google credentials rather opaque. I am trying to understand what you are looking for. Are you trying to move to GoogleCredentials without making a user sign on again? Or are you looking for an example of how GoogleCredentials can be used with the various APIs? Or something else?","body":"I find the documentation on Google credentials rather opaque. I am trying to understand what you are looking for. Are you trying to move to GoogleCredentials without making a user sign on again? Or are you looking for an example of how GoogleCredentials can be used with the various APIs? Or something else?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1622840497,"post_id":67500479,"comment_id":119916629,"body_markdown":"The code I wrote is used to get access to Google People API, like getting the list of contacts on Google&#39;s contacts : https://developers.google.com/people/api/rest/v1/people.connections/list . It requires a login, and it makes sense. What I&#39;m trying is to find how to migrate from deprecated code (I&#39;ve shown at least 2 places here that are deprecated) to the new one. I will update the question.","body":"The code I wrote is used to get access to Google People API, like getting the list of contacts on Google&#39;s contacts : <a href=\"https://developers.google.com/people/api/rest/v1/people.connections/list\" rel=\"nofollow noreferrer\">developers.google.com/people/api/rest/v1/people.connections/&zwnj;&#8203;&hellip;</a> . It requires a login, and it makes sense. What I&#39;m trying is to find how to migrate from deprecated code (I&#39;ve shown at least 2 places here that are deprecated) to the new one. I will update the question."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1622852315,"post_id":67500479,"comment_id":119918795,"body_markdown":"Can you post the build.gradle file for the app? I am interested in knowing where you are pulling PeopleService.Builder() from? I ask because I think there may have been an change to the arguments, but I&#39;m not sure. I just want to confirm my suspicion.","body":"Can you post the build.gradle file for the app? I am interested in knowing where you are pulling PeopleService.Builder() from? I ask because I think there may have been an change to the arguments, but I&#39;m not sure. I just want to confirm my suspicion."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1622900755,"post_id":67500479,"comment_id":119927071,"body_markdown":"Maybe it&#39;s tied into the old G+ code, but do you even need to use _GoogleCredentials_? Take a look at the Google [signin quickstart](https://github.com/googlesamples/google-services) specifically [this line](https://github.com/googlesamples/google-services/blob/master/android/signin/app/src/main/java/com/google/samples/quickstart/signin/RestApiActivity.java#L298) of the REST API example. There,_GoogleAccountCredential_ for the credential is used which is what I have been using. Maybe I am missing something.","body":"Maybe it&#39;s tied into the old G+ code, but do you even need to use <i>GoogleCredentials</i>? Take a look at the Google <a href=\"https://github.com/googlesamples/google-services\" rel=\"nofollow noreferrer\">signin quickstart</a> specifically <a href=\"https://github.com/googlesamples/google-services/blob/master/android/signin/app/src/main/java/com/google/samples/quickstart/signin/RestApiActivity.java#L298\" rel=\"nofollow noreferrer\">this line</a> of the REST API example. There,<i>GoogleAccountCredential</i> for the credential is used which is what I have been using. Maybe I am missing something."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1622966258,"post_id":67500479,"comment_id":119938728,"body_markdown":"@Cheticamp Updated question to hold the relevant dependencies. The old G+ code was only what it all started from. It changed over time. I&#39;ve updated now the code to be of what it changed to. I don&#39;t understand how to use what you&#39;ve sent me. Have you tried it? You say that the login procedure itself should also be changed? I see that it has `Account` as parameter, but what I have is `GoogleSignInAccount` (not extending it).","body":"@Cheticamp Updated question to hold the relevant dependencies. The old G+ code was only what it all started from. It changed over time. I&#39;ve updated now the code to be of what it changed to. I don&#39;t understand how to use what you&#39;ve sent me. Have you tried it? You say that the login procedure itself should also be changed? I see that it has <code>Account</code> as parameter, but what I have is <code>GoogleSignInAccount</code> (not extending it)."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1622988295,"post_id":67500479,"comment_id":119943970,"body_markdown":"I have not tried that code for the People API, but I have used code that is very, very similar to it for the Google Drive V3 API and it works for me. Since the code I linked to is a signin &quot;quickstart&quot;, I believe that it should work. I think what I am suggesting is to look at the whole sign in flow and rework it instead of looking to just replace _GoogleCredential_. My Drive code and the signin quickstart code do not use the deprevated _GoogleApiClient_. Also, see [Moving Past GoogleApiClient](https://android-developers.googleblog.com/2017/11/moving-past-googleapiclient_21.html),","body":"I have not tried that code for the People API, but I have used code that is very, very similar to it for the Google Drive V3 API and it works for me. Since the code I linked to is a signin &quot;quickstart&quot;, I believe that it should work. I think what I am suggesting is to look at the whole sign in flow and rework it instead of looking to just replace <i>GoogleCredential</i>. My Drive code and the signin quickstart code do not use the deprevated <i>GoogleApiClient</i>. Also, see <a href=\"https://android-developers.googleblog.com/2017/11/moving-past-googleapiclient_21.html\" rel=\"nofollow noreferrer\">Moving Past GoogleApiClient</a>,"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1623012972,"post_id":67500479,"comment_id":119950718,"body_markdown":"Well, I had a chance to take a closer look and I was able to get the QuickStart signin code to work with some changes to the _RestApiActivity_ code. You can see my changes [here](https://gist.github.com/Cheticamp/387ef157862e97543486ea97fe34ba13). I upgraded the version of People API to rev 528. (`implementation &#39;com.google.apis:google-api-services-people:v1-rev528-1.25.0&#39;`). Also note that I added a &quot;2&quot; to the package name although that is not required. Based upon my (limited) experience, I think this is the way to go. Nothing in the code is deprecated (except _startActivityForResult()_)","body":"Well, I had a chance to take a closer look and I was able to get the QuickStart signin code to work with some changes to the <i>RestApiActivity</i> code. You can see my changes <a href=\"https://gist.github.com/Cheticamp/387ef157862e97543486ea97fe34ba13\" rel=\"nofollow noreferrer\">here</a>. I upgraded the version of People API to rev 528. (<code>implementation &#39;com.google.apis:google-api-services-people:v1-rev528-1.25.0&zwnj;&#8203;&#39;</code>). Also note that I added a &quot;2&quot; to the package name although that is not required. Based upon my (limited) experience, I think this is the way to go. Nothing in the code is deprecated (except <i>startActivityForResult()</i>)"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1623013460,"post_id":67500479,"comment_id":119950836,"body_markdown":"Also wanted to mention [this](https://stackoverflow.com/a/57974253/6287910) although I haven&#39;t tried it and you may have already seen the posting.","body":"Also wanted to mention <a href=\"https://stackoverflow.com/a/57974253/6287910\">this</a> although I haven&#39;t tried it and you may have already seen the posting."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1623047953,"post_id":67500479,"comment_id":119956714,"body_markdown":"It uses &quot;fromStream&quot; of some file. I don&#39;t think this is possible in my case.","body":"It uses &quot;fromStream&quot; of some file. I don&#39;t think this is possible in my case."}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1623246125,"creation_date":1623164323,"answer_id":67889574,"question_id":67500479,"body_markdown":"&gt;How can I migrate away from `GoogleCredential` to `GoogleCredentials` while still using the various APIs such as People API?\r\n&gt;\r\n&gt;In other words: How can I avoid using any of those deprecated classes (GoogleCredential and GoogleApiClient), on Android, while still being able to use the various APIs?\r\n\r\nAlthough you can make _GoogleCredentials_ work directly, it will be better to use a class derived from _GoogleCredentials_ such as _UserCredentials_ which will accommodate token refresh as _GoogleCredential_ does.  _GoogleCredentials_ is more of a foundational class.\r\n \r\nThe following code makes use of _UserCredentials_. This is mostly what you have presented, but I have changed some credential storing logic for the purpose of the demo. This code has no deprecated methods except `startActivityForResult()`.\r\n\r\n`serverAuthCode` is available from _GoogleSignInAccount_. Take a look at [Moving Past GoogleApiClient](https://android-developers.googleblog.com/2017/11/moving-past-googleapiclient_21.html) on how to remove the dependency on _GoogleApiClient_. I have update my [public gist](https://gist.github.com/Cheticamp/387ef157862e97543486ea97fe34ba13) of _RestApiActivity_ from the Google [signin quickstart](https://github.com/googlesamples/google-services/tree/master/android/signin) which shows how to use _GoogleOauthHelper_ as well as _GoogleApi_.\r\n\r\n**GoogleOauthHelper.kt**\r\n\r\n    object GoogleOauthHelper {\r\n        @WorkerThread\r\n        fun setUp(context: Context, serverAuthCode: String?): Services {\r\n            val httpTransport: HttpTransport = NetHttpTransport()\r\n            val jsonFactory = GsonFactory.getDefaultInstance()\r\n            // Redirect URL for web based applications. Can be empty too.\r\n            val redirectUrl = &quot;urn:ietf:wg:oauth:2.0:oob&quot;\r\n\r\n            // Patch for demo\r\n            val GOOGLE_CLIENT_ID = context.getString(R.string.GOOGLE_CLIENT_ID)\r\n            val GOOGLE_CLIENT_SECRET = context.getString(R.string.GOOGLE_CLIENT_SECRET)\r\n\r\n            var accessToken: AccessToken? = null\r\n            var refreshToken =\r\n                getDefaultSecuredSharedPreferences(context).getString(\r\n                    SecuredSharedPreferences.KEY_GOOGLE_REFRESH_TOKEN,\r\n                    null\r\n                )\r\n\r\n            if (refreshToken == null) {\r\n                /*  Did we lose the refresh token, or is this the first time? Refresh tokens are only\r\n                    returned the first time after the user grants us permission to use the API. So, if\r\n                    this is the first time doing this, we should get a refresh token. If it&#39;s not the\r\n                    first time, we will not get a refresh token, so we will proceed with the access\r\n                    token alone. If the access token expires (in about an hour), we will get an error.\r\n                    What we should do is to ask the user to reauthorize the app and go through the\r\n                    OAuth flow again to recover a refresh token.\r\n\r\n                    See https://developers.google.com/identity/protocols/oauth2#expiration regarding\r\n                    how a refresh token can become invalid.\r\n                */\r\n                val tokenResponse = GoogleAuthorizationCodeTokenRequest(\r\n                    httpTransport, jsonFactory, GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET,\r\n                    serverAuthCode, redirectUrl\r\n                ).execute()\r\n\r\n                refreshToken = tokenResponse.refreshToken\r\n                if (refreshToken != null) {\r\n                    getDefaultSecuredSharedPreferences(context).edit()\r\n                        .putString(SecuredSharedPreferences.KEY_GOOGLE_REFRESH_TOKEN, refreshToken)\r\n                        .apply()\r\n                } else {\r\n                    Log.d(&quot;Applog&quot;, &quot;No refresh token. Going with access token alone.&quot;)\r\n                    val expiresAtMilliseconds =\r\n                        Clock.SYSTEM.currentTimeMillis() + tokenResponse.expiresInSeconds * 1000\r\n                    accessToken = AccessToken(tokenResponse.accessToken, Date(expiresAtMilliseconds))\r\n                }\r\n            }\r\n\r\n            Log.d(&quot;Applog&quot;, &quot;Refresh token: $refreshToken&quot;)\r\n            // UserCredentials extends GoogleCredentials and permits token refreshing.\r\n            val googleCredentials = UserCredentials.newBuilder().run {\r\n                clientId = GOOGLE_CLIENT_ID\r\n                clientSecret = GOOGLE_CLIENT_SECRET\r\n                setRefreshToken(refreshToken)\r\n                setAccessToken(accessToken)\r\n                build()\r\n            }\r\n\r\n            // Save access token on change\r\n            googleCredentials.addChangeListener { oAuth2Credentials -&gt;\r\n                saveAccessToken(oAuth2Credentials.accessToken)\r\n            }\r\n\r\n            val requestInitializer: HttpRequestInitializer = HttpCredentialsAdapter(googleCredentials)\r\n            val appPackageName = context.packageName\r\n\r\n            val peopleServiceApi = PeopleService.Builder(httpTransport, jsonFactory, requestInitializer)\r\n                .setApplicationName(appPackageName)\r\n                .build()\r\n\r\n            return peopleServiceApi.run { Services(people(), otherContacts(), contactGroups()) }\r\n        }\r\n\r\n        private fun saveAccessToken(accessToken: AccessToken) {\r\n            // Persist the token securely.\r\n            Log.d(&quot;Applog&quot;, &quot;Access token has changed: ${accessToken.tokenValue}&quot;)\r\n        }\r\n\r\n        // Warning insecure!: Patch for demo.\r\n        private fun getDefaultSecuredSharedPreferences(context: Context): SharedPreferences {\r\n            return PreferenceManager.getDefaultSharedPreferences(context)\r\n        }\r\n\r\n        // Warning insecure!: Patch for demo.\r\n        object SecuredSharedPreferences {\r\n            const val KEY_GOOGLE_REFRESH_TOKEN = &quot;GOOGLE_REFRESH_TOKEN&quot;\r\n        }\r\n\r\n        class Services(\r\n            /**https://developers.google.com/people/api/rest/v1/people*/\r\n            val peopleService: PeopleService.People,\r\n            /**https://developers.google.com/people/api/rest/v1/otherContacts*/\r\n            val otherContactsService: PeopleService.OtherContacts,\r\n            /**https://developers.google.com/people/api/rest/v1/contactGroups*/\r\n            val contactGroups: PeopleService.ContactGroups,\r\n        )\r\n    }\r\n\r\nI have posted a [demo project](https://github.com/Cheticamp/signin-GoogleCredentials) on GitHub.\r\n","title":"How to migrate from GoogleCredential to GoogleCredentials and still get access to People API?","body":"<blockquote>\n<p>How can I migrate away from <code>GoogleCredential</code> to <code>GoogleCredentials</code> while still using the various APIs such as People API?</p>\n<p>In other words: How can I avoid using any of those deprecated classes (GoogleCredential and GoogleApiClient), on Android, while still being able to use the various APIs?</p>\n</blockquote>\n<p>Although you can make <em>GoogleCredentials</em> work directly, it will be better to use a class derived from <em>GoogleCredentials</em> such as <em>UserCredentials</em> which will accommodate token refresh as <em>GoogleCredential</em> does.  <em>GoogleCredentials</em> is more of a foundational class.</p>\n<p>The following code makes use of <em>UserCredentials</em>. This is mostly what you have presented, but I have changed some credential storing logic for the purpose of the demo. This code has no deprecated methods except <code>startActivityForResult()</code>.</p>\n<p><code>serverAuthCode</code> is available from <em>GoogleSignInAccount</em>. Take a look at <a href=\"https://android-developers.googleblog.com/2017/11/moving-past-googleapiclient_21.html\" rel=\"nofollow noreferrer\">Moving Past GoogleApiClient</a> on how to remove the dependency on <em>GoogleApiClient</em>. I have update my <a href=\"https://gist.github.com/Cheticamp/387ef157862e97543486ea97fe34ba13\" rel=\"nofollow noreferrer\">public gist</a> of <em>RestApiActivity</em> from the Google <a href=\"https://github.com/googlesamples/google-services/tree/master/android/signin\" rel=\"nofollow noreferrer\">signin quickstart</a> which shows how to use <em>GoogleOauthHelper</em> as well as <em>GoogleApi</em>.</p>\n<p><strong>GoogleOauthHelper.kt</strong></p>\n<pre><code>object GoogleOauthHelper {\n    @WorkerThread\n    fun setUp(context: Context, serverAuthCode: String?): Services {\n        val httpTransport: HttpTransport = NetHttpTransport()\n        val jsonFactory = GsonFactory.getDefaultInstance()\n        // Redirect URL for web based applications. Can be empty too.\n        val redirectUrl = &quot;urn:ietf:wg:oauth:2.0:oob&quot;\n\n        // Patch for demo\n        val GOOGLE_CLIENT_ID = context.getString(R.string.GOOGLE_CLIENT_ID)\n        val GOOGLE_CLIENT_SECRET = context.getString(R.string.GOOGLE_CLIENT_SECRET)\n\n        var accessToken: AccessToken? = null\n        var refreshToken =\n            getDefaultSecuredSharedPreferences(context).getString(\n                SecuredSharedPreferences.KEY_GOOGLE_REFRESH_TOKEN,\n                null\n            )\n\n        if (refreshToken == null) {\n            /*  Did we lose the refresh token, or is this the first time? Refresh tokens are only\n                returned the first time after the user grants us permission to use the API. So, if\n                this is the first time doing this, we should get a refresh token. If it's not the\n                first time, we will not get a refresh token, so we will proceed with the access\n                token alone. If the access token expires (in about an hour), we will get an error.\n                What we should do is to ask the user to reauthorize the app and go through the\n                OAuth flow again to recover a refresh token.\n\n                See https://developers.google.com/identity/protocols/oauth2#expiration regarding\n                how a refresh token can become invalid.\n            */\n            val tokenResponse = GoogleAuthorizationCodeTokenRequest(\n                httpTransport, jsonFactory, GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET,\n                serverAuthCode, redirectUrl\n            ).execute()\n\n            refreshToken = tokenResponse.refreshToken\n            if (refreshToken != null) {\n                getDefaultSecuredSharedPreferences(context).edit()\n                    .putString(SecuredSharedPreferences.KEY_GOOGLE_REFRESH_TOKEN, refreshToken)\n                    .apply()\n            } else {\n                Log.d(&quot;Applog&quot;, &quot;No refresh token. Going with access token alone.&quot;)\n                val expiresAtMilliseconds =\n                    Clock.SYSTEM.currentTimeMillis() + tokenResponse.expiresInSeconds * 1000\n                accessToken = AccessToken(tokenResponse.accessToken, Date(expiresAtMilliseconds))\n            }\n        }\n\n        Log.d(&quot;Applog&quot;, &quot;Refresh token: $refreshToken&quot;)\n        // UserCredentials extends GoogleCredentials and permits token refreshing.\n        val googleCredentials = UserCredentials.newBuilder().run {\n            clientId = GOOGLE_CLIENT_ID\n            clientSecret = GOOGLE_CLIENT_SECRET\n            setRefreshToken(refreshToken)\n            setAccessToken(accessToken)\n            build()\n        }\n\n        // Save access token on change\n        googleCredentials.addChangeListener { oAuth2Credentials -&gt;\n            saveAccessToken(oAuth2Credentials.accessToken)\n        }\n\n        val requestInitializer: HttpRequestInitializer = HttpCredentialsAdapter(googleCredentials)\n        val appPackageName = context.packageName\n\n        val peopleServiceApi = PeopleService.Builder(httpTransport, jsonFactory, requestInitializer)\n            .setApplicationName(appPackageName)\n            .build()\n\n        return peopleServiceApi.run { Services(people(), otherContacts(), contactGroups()) }\n    }\n\n    private fun saveAccessToken(accessToken: AccessToken) {\n        // Persist the token securely.\n        Log.d(&quot;Applog&quot;, &quot;Access token has changed: ${accessToken.tokenValue}&quot;)\n    }\n\n    // Warning insecure!: Patch for demo.\n    private fun getDefaultSecuredSharedPreferences(context: Context): SharedPreferences {\n        return PreferenceManager.getDefaultSharedPreferences(context)\n    }\n\n    // Warning insecure!: Patch for demo.\n    object SecuredSharedPreferences {\n        const val KEY_GOOGLE_REFRESH_TOKEN = &quot;GOOGLE_REFRESH_TOKEN&quot;\n    }\n\n    class Services(\n        /**https://developers.google.com/people/api/rest/v1/people*/\n        val peopleService: PeopleService.People,\n        /**https://developers.google.com/people/api/rest/v1/otherContacts*/\n        val otherContactsService: PeopleService.OtherContacts,\n        /**https://developers.google.com/people/api/rest/v1/contactGroups*/\n        val contactGroups: PeopleService.ContactGroups,\n    )\n}\n</code></pre>\n<p>I have posted a <a href=\"https://github.com/Cheticamp/signin-GoogleCredentials\" rel=\"nofollow noreferrer\">demo project</a> on GitHub.</p>\n"},{"tags":[],"owner":{"account_id":3042813,"reputation":53,"user_id":2579364,"display_name":"KArvan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655368634,"creation_date":1655368634,"answer_id":72642848,"question_id":67500479,"body_markdown":"There is an extremely simple solution, hidden inside Google&#39;s doc, `com.google.auth.http.HttpCredentialsAdapter`. It allows creating an `com.google.api.client.http.HttpRequestInitializer` from the new `com.google.auth.oauth2.GoogleCredentials`, and calling the .Builder() constructor with it.\r\n\r\nFor a simplified example:\r\n```Java\r\nimport com.google.api.client.http.HttpRequestInitializer;\r\nimport com.google.api.services.bigquery.Bigquery;\r\nimport com.google.auth.http.HttpCredentialsAdapter;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\n\r\nGoogleCredentials credentials = GoogleCredentials.getApplicationDefault();\r\nHttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\r\n\r\nBigquery bq = new Bigquery.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer)\r\n    .setApplicationName(APPLICATION_NAME)\r\n    .build();\r\n```\r\n","title":"How to migrate from GoogleCredential to GoogleCredentials and still get access to People API?","body":"<p>There is an extremely simple solution, hidden inside Google's doc, <code>com.google.auth.http.HttpCredentialsAdapter</code>. It allows creating an <code>com.google.api.client.http.HttpRequestInitializer</code> from the new <code>com.google.auth.oauth2.GoogleCredentials</code>, and calling the .Builder() constructor with it.</p>\n<p>For a simplified example:</p>\n<pre><code>import com.google.api.client.http.HttpRequestInitializer;\nimport com.google.api.services.bigquery.Bigquery;\nimport com.google.auth.http.HttpCredentialsAdapter;\nimport com.google.auth.oauth2.GoogleCredentials;\n\nGoogleCredentials credentials = GoogleCredentials.getApplicationDefault();\nHttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\n\nBigquery bq = new Bigquery.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer)\n    .setApplicationName(APPLICATION_NAME)\n    .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104733,"reputation":182,"user_id":279833,"display_name":"anty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662469779,"creation_date":1662469779,"answer_id":73622626,"question_id":67500479,"body_markdown":"Here&#39;s how you access the genders and birthdays with the People API after executing the `SignInIntent` and receiving the `GoogleSignInAccount`:\r\n\r\n    private suspend fun handlePeopleApi(account: GoogleSignInAccount) {\r\n        withContext(Dispatchers.IO) {\r\n            val credential =\r\n                GoogleAccountCredential.usingOAuth2(\r\n                    requireContext(),\r\n                    listOf(\r\n                        PeopleServiceScopes.USER_GENDER_READ,\r\n                        PeopleServiceScopes.USER_BIRTHDAY_READ\r\n                    )\r\n                )\r\n            credential.selectedAccountName = account.email\r\n\r\n            val peopleService = PeopleService.Builder(NetHttpTransport(), GsonFactory(), credential)\r\n                .setApplicationName(getString(R.string.app_name))\r\n                .build()\r\n\r\n            val person = peopleService.people()\r\n                .get(&quot;people/${account.id}&quot;)\r\n                .setPersonFields(&quot;birthdays,genders&quot;)\r\n                .execute()\r\n\r\n            Log.d(&quot;People API&quot;, &quot;Person: ${person.birthdays}, ${person.genders}&quot;)\r\n        }\r\n    }\r\n\r\nI have these Grade dependencies:\r\n\r\n    implementation &#39;com.google.apis:google-api-services-people:v1-rev20220531-2.0.0&#39;\r\n    implementation &#39;com.google.api-client:google-api-client-android:1.20.0&#39;","title":"How to migrate from GoogleCredential to GoogleCredentials and still get access to People API?","body":"<p>Here's how you access the genders and birthdays with the People API after executing the <code>SignInIntent</code> and receiving the <code>GoogleSignInAccount</code>:</p>\n<pre><code>private suspend fun handlePeopleApi(account: GoogleSignInAccount) {\n    withContext(Dispatchers.IO) {\n        val credential =\n            GoogleAccountCredential.usingOAuth2(\n                requireContext(),\n                listOf(\n                    PeopleServiceScopes.USER_GENDER_READ,\n                    PeopleServiceScopes.USER_BIRTHDAY_READ\n                )\n            )\n        credential.selectedAccountName = account.email\n\n        val peopleService = PeopleService.Builder(NetHttpTransport(), GsonFactory(), credential)\n            .setApplicationName(getString(R.string.app_name))\n            .build()\n\n        val person = peopleService.people()\n            .get(&quot;people/${account.id}&quot;)\n            .setPersonFields(&quot;birthdays,genders&quot;)\n            .execute()\n\n        Log.d(&quot;People API&quot;, &quot;Person: ${person.birthdays}, ${person.genders}&quot;)\n    }\n}\n</code></pre>\n<p>I have these Grade dependencies:</p>\n<pre><code>implementation 'com.google.apis:google-api-services-people:v1-rev20220531-2.0.0'\nimplementation 'com.google.api-client:google-api-client-android:1.20.0'\n</code></pre>\n"}],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2060,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":67889574,"answer_count":3,"score":6,"last_activity_date":1662469779,"creation_date":1620810221,"question_id":67500479,"body_markdown":"Background\r\n--\r\nFor an app I&#39;m working on, which uses People API using credentials (user login). Once the user gives the credentials, I can access various Google APIs, such as People API. An example is one to get a list of contacts:\r\n\r\nhttps://developers.google.com/people/api/rest/v1/people.connections/list\r\n\r\nI&#39;ve noticed that the class `com.google.api.client.googleapis.auth.oauth2.GoogleCredential` has become deprecated:\r\n\r\nhttps://googleapis.dev/java/google-api-client/latest/com/google/api/client/googleapis/auth/oauth2/GoogleCredential.html\r\n\r\nThe problem\r\n--\r\nThe app has old code that is based on some old G+ code ([**here**][1]) to reach contacts via the Google account. Here&#39;s a snippet of the most important part of it, which causes me trouble of migrating away from it:\r\n\r\n```kt\r\nobject GoogleOuthHelper {\r\n    @WorkerThread\r\n    fun setUp(context: Context, serverAuthCode: String?): Services {\r\n        val httpTransport: HttpTransport = NetHttpTransport()\r\n        val jsonFactory = JacksonFactory.getDefaultInstance()\r\n        // Redirect URL for web based applications. Can be empty too.\r\n        val redirectUrl = &quot;urn:ietf:wg:oauth:2.0:oob&quot;\r\n        // Exchange auth code for access token\r\n        val tokenResponse = GoogleAuthorizationCodeTokenRequest(\r\n            httpTransport, jsonFactory, GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET,\r\n            serverAuthCode, redirectUrl)\r\n            .execute()\r\n        // Then, create a GoogleCredential object using the tokens from GoogleTokenResponse\r\n        val credential = GoogleCredential.Builder()\r\n            .setClientSecrets(GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET)\r\n            .setTransport(httpTransport)\r\n            .setJsonFactory(jsonFactory)\r\n            .build()\r\n        val accessToken = tokenResponse.accessToken\r\n        getDefaultSecuredSharedPreferences(context).edit()\r\n            .putString(SecuredSharedPreferences.KEY__GOOGLE_ACCESS_TOKEN, accessToken).apply()\r\n        credential.setFromTokenResponse(tokenResponse)\r\n        val appPackageName = context.packageName\r\n        val peopleServiceApi = PeopleService.Builder(httpTransport, jsonFactory, credential)\r\n            .setApplicationName(appPackageName)\r\n            .build()\r\n        val peopleService = peopleServiceApi.people()\r\n        val otherContactsService = peopleServiceApi.otherContacts()\r\n        val contactGroups = peopleServiceApi.contactGroups()\r\n        return Services(peopleService, otherContactsService, contactGroups)\r\n    }\r\n\r\n    class Services(\r\n        /**https://developers.google.com/people/api/rest/v1/people*/\r\n        val peopleService: PeopleService.People,\r\n        /**https://developers.google.com/people/api/rest/v1/otherContacts*/\r\n        val otherContactsService: OtherContacts,\r\n        /**https://developers.google.com/people/api/rest/v1/contactGroups*/\r\n        val contactGroups: ContactGroups)\r\n}\r\n```\r\n\r\nThe problem is even from the very beginning:\r\n\r\nThe class `GoogleCredentials` doesn&#39;t seem to accept anything I got above it for the `GoogleCredential` class. \r\n\r\nTo add more to it, this function takes &quot;serverAuthCode&quot; as parameter, which is from `GoogleSignInAccount`, but to get it, I need to use the deprecated `GoogleApiClient` class:\r\n\r\n```kt\r\n        fun prepareGoogleApiClient(someContext: Context): GoogleApiClient {\r\n            val context = someContext.applicationContext ?: someContext\r\n            val gso = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestServerAuthCode(GOOGLE_CLIENT_ID)\r\n                .requestEmail()\r\n                .requestScopes(\r\n                    Scope(PeopleServiceScopes.CONTACTS_READONLY),\r\n                    Scope(PeopleServiceScopes.USERINFO_PROFILE),\r\n                    Scope(PeopleServiceScopes.USER_EMAILS_READ),\r\n                    Scope(PeopleServiceScopes.CONTACTS),\r\n                    Scope(PeopleServiceScopes.CONTACTS_OTHER_READONLY)\r\n                )\r\n                .build()\r\n            return GoogleApiClient.Builder(context)\r\n                .addApi(Auth.GOOGLE_SIGN_IN_API, gso)\r\n                .build()\r\n        }\r\n```\r\n\r\nAnd this is what I do with it:\r\n\r\n```kt\r\nval connectionResult = googleApiClient!!.blockingConnect()\r\nif (!connectionResult.isSuccess)\r\n    return\r\nval operation = Auth.GoogleSignInApi.silentSignIn(googleApiClient)\r\nval googleSignInResult: GoogleSignInResult = operation.await()\r\nval googleSignInAccount = googleSignInResult.signInAccount\r\n//use googleSignInAccount.serverAuthCode in setUp() function above\r\n```\r\n\r\nGradle file has these dependencies:\r\n\r\n```\r\n// https://mvnrepository.com/artifact/com.google.auth/google-auth-library-oauth2-http\r\nimplementation &#39;com.google.auth:google-auth-library-oauth2-http:0.26.0&#39;\r\n// https://github.com/googleapis/google-api-java-client-services/tree/master/clients/google-api-services-people/v1#gradle   https://mvnrepository.com/artifact/com.google.apis/google-api-services-people\r\nimplementation &#39;com.google.apis:google-api-services-people:v1-rev20210515-1.31.0&#39;\r\n```\r\n\r\nWhat I&#39;ve tried\r\n--\r\nOther than looking at the docs (and failing to see a resemblance to what I have to handle), I tried to write about this here.\r\n\r\nSadly I can&#39;t find how to migrate away from the old code yet.\r\n\r\nI tried to ask there how can I migrate ([here][2] and [**here**][3]) but didn&#39;t get an answer yet.\r\n\r\nThe questions\r\n--\r\nHow can I migrate away from `GoogleCredential` to `GoogleCredentials` while still using the various APIs such as People API?\r\n\r\nIn other words: How can I avoid using any of those deprecated classes (GoogleCredential and GoogleApiClient), on Android, while still being able to use the various APIs?\r\n\r\n  [1]: https://github.com/simform-solutions/Google-People-API-Sample/blob/master/app/src/main/java/com/simform/peoples/PeopleHelper.java\r\n  [2]: https://github.com/googleapis/google-cloud-java/issues/3314#issuecomment-533003286\r\n  [3]: https://github.com/googleapis/google-auth-library-java/issues/657","title":"How to migrate from GoogleCredential to GoogleCredentials and still get access to People API?","body":"<h2>Background</h2>\n<p>For an app I'm working on, which uses People API using credentials (user login). Once the user gives the credentials, I can access various Google APIs, such as People API. An example is one to get a list of contacts:</p>\n<p><a href=\"https://developers.google.com/people/api/rest/v1/people.connections/list\" rel=\"nofollow noreferrer\">https://developers.google.com/people/api/rest/v1/people.connections/list</a></p>\n<p>I've noticed that the class <code>com.google.api.client.googleapis.auth.oauth2.GoogleCredential</code> has become deprecated:</p>\n<p><a href=\"https://googleapis.dev/java/google-api-client/latest/com/google/api/client/googleapis/auth/oauth2/GoogleCredential.html\" rel=\"nofollow noreferrer\">https://googleapis.dev/java/google-api-client/latest/com/google/api/client/googleapis/auth/oauth2/GoogleCredential.html</a></p>\n<h2>The problem</h2>\n<p>The app has old code that is based on some old G+ code (<a href=\"https://github.com/simform-solutions/Google-People-API-Sample/blob/master/app/src/main/java/com/simform/peoples/PeopleHelper.java\" rel=\"nofollow noreferrer\"><strong>here</strong></a>) to reach contacts via the Google account. Here's a snippet of the most important part of it, which causes me trouble of migrating away from it:</p>\n<pre><code>object GoogleOuthHelper {\n    @WorkerThread\n    fun setUp(context: Context, serverAuthCode: String?): Services {\n        val httpTransport: HttpTransport = NetHttpTransport()\n        val jsonFactory = JacksonFactory.getDefaultInstance()\n        // Redirect URL for web based applications. Can be empty too.\n        val redirectUrl = &quot;urn:ietf:wg:oauth:2.0:oob&quot;\n        // Exchange auth code for access token\n        val tokenResponse = GoogleAuthorizationCodeTokenRequest(\n            httpTransport, jsonFactory, GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET,\n            serverAuthCode, redirectUrl)\n            .execute()\n        // Then, create a GoogleCredential object using the tokens from GoogleTokenResponse\n        val credential = GoogleCredential.Builder()\n            .setClientSecrets(GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET)\n            .setTransport(httpTransport)\n            .setJsonFactory(jsonFactory)\n            .build()\n        val accessToken = tokenResponse.accessToken\n        getDefaultSecuredSharedPreferences(context).edit()\n            .putString(SecuredSharedPreferences.KEY__GOOGLE_ACCESS_TOKEN, accessToken).apply()\n        credential.setFromTokenResponse(tokenResponse)\n        val appPackageName = context.packageName\n        val peopleServiceApi = PeopleService.Builder(httpTransport, jsonFactory, credential)\n            .setApplicationName(appPackageName)\n            .build()\n        val peopleService = peopleServiceApi.people()\n        val otherContactsService = peopleServiceApi.otherContacts()\n        val contactGroups = peopleServiceApi.contactGroups()\n        return Services(peopleService, otherContactsService, contactGroups)\n    }\n\n    class Services(\n        /**https://developers.google.com/people/api/rest/v1/people*/\n        val peopleService: PeopleService.People,\n        /**https://developers.google.com/people/api/rest/v1/otherContacts*/\n        val otherContactsService: OtherContacts,\n        /**https://developers.google.com/people/api/rest/v1/contactGroups*/\n        val contactGroups: ContactGroups)\n}\n</code></pre>\n<p>The problem is even from the very beginning:</p>\n<p>The class <code>GoogleCredentials</code> doesn't seem to accept anything I got above it for the <code>GoogleCredential</code> class.</p>\n<p>To add more to it, this function takes &quot;serverAuthCode&quot; as parameter, which is from <code>GoogleSignInAccount</code>, but to get it, I need to use the deprecated <code>GoogleApiClient</code> class:</p>\n<pre><code>        fun prepareGoogleApiClient(someContext: Context): GoogleApiClient {\n            val context = someContext.applicationContext ?: someContext\n            val gso = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestServerAuthCode(GOOGLE_CLIENT_ID)\n                .requestEmail()\n                .requestScopes(\n                    Scope(PeopleServiceScopes.CONTACTS_READONLY),\n                    Scope(PeopleServiceScopes.USERINFO_PROFILE),\n                    Scope(PeopleServiceScopes.USER_EMAILS_READ),\n                    Scope(PeopleServiceScopes.CONTACTS),\n                    Scope(PeopleServiceScopes.CONTACTS_OTHER_READONLY)\n                )\n                .build()\n            return GoogleApiClient.Builder(context)\n                .addApi(Auth.GOOGLE_SIGN_IN_API, gso)\n                .build()\n        }\n</code></pre>\n<p>And this is what I do with it:</p>\n<pre><code>val connectionResult = googleApiClient!!.blockingConnect()\nif (!connectionResult.isSuccess)\n    return\nval operation = Auth.GoogleSignInApi.silentSignIn(googleApiClient)\nval googleSignInResult: GoogleSignInResult = operation.await()\nval googleSignInAccount = googleSignInResult.signInAccount\n//use googleSignInAccount.serverAuthCode in setUp() function above\n</code></pre>\n<p>Gradle file has these dependencies:</p>\n<pre><code>// https://mvnrepository.com/artifact/com.google.auth/google-auth-library-oauth2-http\nimplementation 'com.google.auth:google-auth-library-oauth2-http:0.26.0'\n// https://github.com/googleapis/google-api-java-client-services/tree/master/clients/google-api-services-people/v1#gradle   https://mvnrepository.com/artifact/com.google.apis/google-api-services-people\nimplementation 'com.google.apis:google-api-services-people:v1-rev20210515-1.31.0'\n</code></pre>\n<h2>What I've tried</h2>\n<p>Other than looking at the docs (and failing to see a resemblance to what I have to handle), I tried to write about this here.</p>\n<p>Sadly I can't find how to migrate away from the old code yet.</p>\n<p>I tried to ask there how can I migrate (<a href=\"https://github.com/googleapis/google-cloud-java/issues/3314#issuecomment-533003286\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/googleapis/google-auth-library-java/issues/657\" rel=\"nofollow noreferrer\"><strong>here</strong></a>) but didn't get an answer yet.</p>\n<h2>The questions</h2>\n<p>How can I migrate away from <code>GoogleCredential</code> to <code>GoogleCredentials</code> while still using the various APIs such as People API?</p>\n<p>In other words: How can I avoid using any of those deprecated classes (GoogleCredential and GoogleApiClient), on Android, while still being able to use the various APIs?</p>\n"},{"tags":["java","google-api","google-oauth","gmail-api","google-api-java-client"],"answers":[{"tags":[],"owner":{"account_id":25468143,"reputation":23,"user_id":19266841,"display_name":"BlackBird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662469593,"creation_date":1662469593,"answer_id":73622583,"question_id":73621615,"body_markdown":"I would comment but I have too few rep.\r\n\r\nI guess you didn&#39;t properly set up the permissions of your access token. The error message suggessts, that you need a specific set of permissions to access the ressource","title":"Reading labels works but reading messages results in ACCESS_TOKEN_SCOPE_INSUFFICIENT","body":"<p>I would comment but I have too few rep.</p>\n<p>I guess you didn't properly set up the permissions of your access token. The error message suggessts, that you need a specific set of permissions to access the ressource</p>\n"},{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662469642,"creation_date":1662469642,"answer_id":73622594,"question_id":73621615,"body_markdown":"ACCESS_TOKEN_SCOPE_INSUFFICIENT is a very common error message.  It comes from copying the example without understanding what its doing.  This is googles fault for not explaining things better.\r\n\r\nThe quick start uses the [lables.list](https://developers.google.com/gmail/api/reference/rest/v1/users.labels/list) method.  This method runs on users private data so you used Oauth2 to request permission of the user to access their data.\r\n\r\nThe method can run with any of the following permissions being requested\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBest practice is to only request the permissions you need. So the code is asking for the GmailScopes.GMAIL_LABELS permission which will only give you access to see the lables\r\n\r\nNow to read a users messages the [messges.list](https://developers.google.com/gmail/api/reference/rest/v1/users.messages/list)method you need to request permission with one of the following scopes\r\n\r\n[![enter image description here][2]][2]\r\n\r\nas you can see the label scope is not there. Thats because you need a higher level of permissions to access this data..\r\n\r\n\r\nSolution:\r\n\r\nChange the scope in your code to request one of the scopes needed for messgaes.list.\r\n\r\nThen you need to reauthorize your application.  YOu can do this in a few was.\r\n\r\n1. delete the file found in TOKENS_DIRECTORY_PATH \r\n2. change .authorize(&quot;user&quot;); the text passed here to something else.\r\n\r\nWhen you run your app again it should prompt you for authorization again.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2EpZX.png\r\n  [2]: https://i.stack.imgur.com/gcmxB.png","title":"Reading labels works but reading messages results in ACCESS_TOKEN_SCOPE_INSUFFICIENT","body":"<p>ACCESS_TOKEN_SCOPE_INSUFFICIENT is a very common error message.  It comes from copying the example without understanding what its doing.  This is googles fault for not explaining things better.</p>\n<p>The quick start uses the <a href=\"https://developers.google.com/gmail/api/reference/rest/v1/users.labels/list\" rel=\"nofollow noreferrer\">lables.list</a> method.  This method runs on users private data so you used Oauth2 to request permission of the user to access their data.</p>\n<p>The method can run with any of the following permissions being requested</p>\n<p><a href=\"https://i.stack.imgur.com/2EpZX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2EpZX.png\" alt=\"enter image description here\" /></a></p>\n<p>Best practice is to only request the permissions you need. So the code is asking for the GmailScopes.GMAIL_LABELS permission which will only give you access to see the lables</p>\n<p>Now to read a users messages the <a href=\"https://developers.google.com/gmail/api/reference/rest/v1/users.messages/list\" rel=\"nofollow noreferrer\">messges.list</a>method you need to request permission with one of the following scopes</p>\n<p><a href=\"https://i.stack.imgur.com/gcmxB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gcmxB.png\" alt=\"enter image description here\" /></a></p>\n<p>as you can see the label scope is not there. Thats because you need a higher level of permissions to access this data..</p>\n<p>Solution:</p>\n<p>Change the scope in your code to request one of the scopes needed for messgaes.list.</p>\n<p>Then you need to reauthorize your application.  YOu can do this in a few was.</p>\n<ol>\n<li>delete the file found in TOKENS_DIRECTORY_PATH</li>\n<li>change .authorize(&quot;user&quot;); the text passed here to something else.</li>\n</ol>\n<p>When you run your app again it should prompt you for authorization again.</p>\n"}],"owner":{"account_id":20248633,"reputation":13,"user_id":14850400,"display_name":"Bhautik Sakhiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73622594,"answer_count":2,"score":1,"last_activity_date":1662469710,"creation_date":1662465197,"question_id":73621615,"body_markdown":"I have created one poc using **Gmail API** which read all email and print on console. I have take refrence from  [Gmail api Java quickstart](https://developers.google.com/gmail/api/quickstart/java). \r\n\r\nI have follows all the steps like create project, Gmail API enable, OAuth credentials in [google cloud console]( https://console.cloud.google.com/apis/credentials?project=********) \r\n\r\nThe problem is, when I run the code all the labels are printed successfully but I&#39;m not able to read mail messages. Some an error are getting which are below:\r\n\r\n    &gt; Task :GmailQuickstart.main()\r\n    Labels:\r\n    - CHAT\r\n    - SENT\r\n    - INBOX\r\n    - IMPORTANT\r\n    - TRASH\r\n    - DRAFT\r\n    - SPAM\r\n    - CATEGORY_FORUMS\r\n    - CATEGORY_UPDATES\r\n    - CATEGORY_PERSONAL\r\n    - CATEGORY_PROMOTIONS\r\n    - CATEGORY_SOCIAL\r\n    - STARRED\r\n    - UNREAD\r\n    Exception in thread &quot;main&quot; com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\r\n    GET https://gmail.googleapis.com/gmail/v1/users/me/messages\r\n    {\r\n      &quot;code&quot;: 403,\r\n      &quot;details&quot;: [\r\n        {\r\n          &quot;@type&quot;: &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\r\n          &quot;reason&quot;: &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;\r\n        }\r\n      ],\r\n      &quot;errors&quot;: [\r\n        {\r\n          &quot;domain&quot;: &quot;global&quot;,\r\n          &quot;message&quot;: &quot;Insufficient Permission&quot;,\r\n          &quot;reason&quot;: &quot;insufficientPermissions&quot;\r\n        }\r\n      ],\r\n      &quot;message&quot;: &quot;Request had insufficient authentication scopes.&quot;,\r\n      &quot;status&quot;: &quot;PERMISSION_DENIED&quot;\r\n    }\r\n    \tat com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:146)\r\n    \tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:118)\r\n    \tat com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:37)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:439)\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1111)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:525)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:466)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:576)\r\n    \tat GmailQuickstart.main(GmailQuickstart.java:80)\r\n    \r\n    &gt; Task :GmailQuickstart.main() FAILED\r\n    \r\n    Execution failed for task &#39;:GmailQuickstart.main()&#39;.\r\n    &gt; Process &#39;command &#39;/home/bhautik/Downloads/jdk-11.0.15.1_linux-x64_bin/data/usr/lib/jvm/jdk-11/bin/java&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n\r\n\r\n\r\nAnd my code was below:\r\n\r\n    import com.google.api.client.auth.oauth2.Credential;\r\n    import com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\r\n    import com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\r\n    import com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    import com.google.api.client.json.JsonFactory;\r\n    import com.google.api.client.json.gson.GsonFactory;\r\n    import com.google.api.client.util.store.FileDataStoreFactory;\r\n    import com.google.api.services.gmail.Gmail;\r\n    import com.google.api.services.gmail.GmailScopes;\r\n    import com.google.api.services.gmail.model.Label;\r\n    import com.google.api.services.gmail.model.ListLabelsResponse;\r\n    import com.google.api.services.gmail.model.ListMessagesResponse;\r\n    import com.google.api.services.gmail.model.Message;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.security.GeneralSecurityException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    /* class to demonstrate use of Gmail list labels API */\r\n    public class GmailQuickstart {\r\n    \r\n        private static final String APPLICATION_NAME = &quot;Gmail API Java Quickstart&quot;;\r\n        private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n        private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\r\n        private static final List&lt;String&gt; SCOPES = Collections.singletonList(GmailScopes.GMAIL_LABELS);\r\n        private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\r\n        private static final String USER_ID = &quot;me&quot;;\r\n    \r\n        private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\r\n                throws IOException {\r\n            // Load client secrets.\r\n            InputStream in = GmailQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n            if (in == null) {\r\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n            }\r\n            GoogleClientSecrets clientSecrets =\r\n                    GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n    \r\n            // Build flow and trigger user authorization request.\r\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                    HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                    .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                    .setAccessType(&quot;offline&quot;)\r\n                    .build();\r\n            LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n            Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n            //returns an authorized Credential object.\r\n            return credential;\r\n        }\r\n    \r\n        public static void main(String... args) throws IOException, GeneralSecurityException {\r\n            // Build a new authorized API client service.\r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            Gmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                    .setApplicationName(APPLICATION_NAME)\r\n                    .build();\r\n    \r\n            // Print the labels in the user&#39;s account.\r\n            String user = &quot;me&quot;;\r\n            ListLabelsResponse listResponse = service.users().labels().list(user).execute();\r\n            List&lt;Label&gt; labels = listResponse.getLabels();\r\n            if (labels.isEmpty()) {\r\n                System.out.println(&quot;No labels found.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Labels:&quot;);\r\n                for (Label label : labels) {\r\n                    System.out.printf(&quot;- %s\\n&quot;, label.getName());\r\n                }\r\n            }\r\n    \r\n            // Print the message\r\n            ListMessagesResponse response = service.users().messages().list(USER_ID).execute();\r\n    //        List&lt;Message&gt; messages = response.getMessages();\r\n            List&lt;Message&gt; messages = new ArrayList&lt;Message&gt;();\r\n            while (response.getMessages() != null) {\r\n                messages.addAll(response.getMessages());\r\n                if (response.getNextPageToken() != null) {\r\n                    String pageToken = response.getNextPageToken();\r\n                    response = service.users().messages().list(USER_ID).setPageToken(pageToken).execute();\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n    \r\n            for (Message message : messages) {\r\n                System.out.println(message.getId());\r\n                System.out.println(message.getPayload());\r\n                Message test = service.users().messages().get(&quot;me&quot;, message.getId()).execute();\r\n                System.out.println(test.getSnippet());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Reading labels works but reading messages results in ACCESS_TOKEN_SCOPE_INSUFFICIENT","body":"<p>I have created one poc using <strong>Gmail API</strong> which read all email and print on console. I have take refrence from  <a href=\"https://developers.google.com/gmail/api/quickstart/java\" rel=\"nofollow noreferrer\">Gmail api Java quickstart</a>.</p>\n<p>I have follows all the steps like create project, Gmail API enable, OAuth credentials in <a href=\"https://console.cloud.google.com/apis/credentials?project=********\" rel=\"nofollow noreferrer\">google cloud console</a></p>\n<p>The problem is, when I run the code all the labels are printed successfully but I'm not able to read mail messages. Some an error are getting which are below:</p>\n<pre><code>&gt; Task :GmailQuickstart.main()\nLabels:\n- CHAT\n- SENT\n- INBOX\n- IMPORTANT\n- TRASH\n- DRAFT\n- SPAM\n- CATEGORY_FORUMS\n- CATEGORY_UPDATES\n- CATEGORY_PERSONAL\n- CATEGORY_PROMOTIONS\n- CATEGORY_SOCIAL\n- STARRED\n- UNREAD\nException in thread &quot;main&quot; com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden\nGET https://gmail.googleapis.com/gmail/v1/users/me/messages\n{\n  &quot;code&quot;: 403,\n  &quot;details&quot;: [\n    {\n      &quot;@type&quot;: &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\n      &quot;reason&quot;: &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;\n    }\n  ],\n  &quot;errors&quot;: [\n    {\n      &quot;domain&quot;: &quot;global&quot;,\n      &quot;message&quot;: &quot;Insufficient Permission&quot;,\n      &quot;reason&quot;: &quot;insufficientPermissions&quot;\n    }\n  ],\n  &quot;message&quot;: &quot;Request had insufficient authentication scopes.&quot;,\n  &quot;status&quot;: &quot;PERMISSION_DENIED&quot;\n}\n    at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:146)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:118)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:37)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest$1.interceptResponse(AbstractGoogleClientRequest.java:439)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1111)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:525)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:466)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:576)\n    at GmailQuickstart.main(GmailQuickstart.java:80)\n\n&gt; Task :GmailQuickstart.main() FAILED\n\nExecution failed for task ':GmailQuickstart.main()'.\n&gt; Process 'command '/home/bhautik/Downloads/jdk-11.0.15.1_linux-x64_bin/data/usr/lib/jvm/jdk-11/bin/java'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n</code></pre>\n<p>And my code was below:</p>\n<pre><code>import com.google.api.client.auth.oauth2.Credential;\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.gson.GsonFactory;\nimport com.google.api.client.util.store.FileDataStoreFactory;\nimport com.google.api.services.gmail.Gmail;\nimport com.google.api.services.gmail.GmailScopes;\nimport com.google.api.services.gmail.model.Label;\nimport com.google.api.services.gmail.model.ListLabelsResponse;\nimport com.google.api.services.gmail.model.ListMessagesResponse;\nimport com.google.api.services.gmail.model.Message;\n\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.security.GeneralSecurityException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\n/* class to demonstrate use of Gmail list labels API */\npublic class GmailQuickstart {\n\n    private static final String APPLICATION_NAME = &quot;Gmail API Java Quickstart&quot;;\n    private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n    private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\n    private static final List&lt;String&gt; SCOPES = Collections.singletonList(GmailScopes.GMAIL_LABELS);\n    private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\n    private static final String USER_ID = &quot;me&quot;;\n\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT)\n            throws IOException {\n        // Load client secrets.\n        InputStream in = GmailQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n        GoogleClientSecrets clientSecrets =\n                GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n        Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n        //returns an authorized Credential object.\n        return credential;\n    }\n\n    public static void main(String... args) throws IOException, GeneralSecurityException {\n        // Build a new authorized API client service.\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        Gmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n\n        // Print the labels in the user's account.\n        String user = &quot;me&quot;;\n        ListLabelsResponse listResponse = service.users().labels().list(user).execute();\n        List&lt;Label&gt; labels = listResponse.getLabels();\n        if (labels.isEmpty()) {\n            System.out.println(&quot;No labels found.&quot;);\n        } else {\n            System.out.println(&quot;Labels:&quot;);\n            for (Label label : labels) {\n                System.out.printf(&quot;- %s\\n&quot;, label.getName());\n            }\n        }\n\n        // Print the message\n        ListMessagesResponse response = service.users().messages().list(USER_ID).execute();\n//        List&lt;Message&gt; messages = response.getMessages();\n        List&lt;Message&gt; messages = new ArrayList&lt;Message&gt;();\n        while (response.getMessages() != null) {\n            messages.addAll(response.getMessages());\n            if (response.getNextPageToken() != null) {\n                String pageToken = response.getNextPageToken();\n                response = service.users().messages().list(USER_ID).setPageToken(pageToken).execute();\n            } else {\n                break;\n            }\n        }\n\n        for (Message message : messages) {\n            System.out.println(message.getId());\n            System.out.println(message.getPayload());\n            Message test = service.users().messages().get(&quot;me&quot;, message.getId()).execute();\n            System.out.println(test.getSnippet());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","javafx-2","java-8"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1415228019,"creation_date":1415228019,"answer_id":26768716,"question_id":26768523,"body_markdown":"Yes, there is such a thing as JavaFX virtual keyboard in the Oracle Java 8 distribution, though it is not documented or supported by Oracle outside of the embedded version of JavaFX.  \r\n\r\nHowever, the virtual keyboard does seem to ship with the Oracle desktop Java 8 JRE and it does seem to work there if you toggle some undocumented and unsupported system properties.\r\n\r\nTry: \r\n\r\n * `-Dcom.sun.javafx.isEmbedded=true` \r\n\r\nAnd maybe also \r\n\r\n * `-Dcom.sun.javafx.touch=true`\r\n * `-Dcom.sun.javafx.virtualKeyboard=javafx`\r\n\r\nSome related sketchy info on the internet:\r\n\r\n * https://stackoverflow.com/questions/23564413/activating-touch-enabled-controls-in-javafx\r\n * [JavaFX 8 Embedded Mode](https://community.oracle.com/message/12384066) Oracle JavaFX forum post.  \r\n * https://stackoverflow.com/questions/12704457/javafx-webview-webengine-show-on-screen-keyboard-automatically-for-each-text-i\r\n\r\nThe guys over at [javafxports][1] might know more, so you could try asking there if you want more information (if you are targeting one of their devices).\r\n\r\n  [1]: http://javafxports.org/page/home","title":"JavaFX virtual keyboard","body":"<p>Yes, there is such a thing as JavaFX virtual keyboard in the Oracle Java 8 distribution, though it is not documented or supported by Oracle outside of the embedded version of JavaFX.  </p>\n\n<p>However, the virtual keyboard does seem to ship with the Oracle desktop Java 8 JRE and it does seem to work there if you toggle some undocumented and unsupported system properties.</p>\n\n<p>Try: </p>\n\n<ul>\n<li><code>-Dcom.sun.javafx.isEmbedded=true</code> </li>\n</ul>\n\n<p>And maybe also </p>\n\n<ul>\n<li><code>-Dcom.sun.javafx.touch=true</code></li>\n<li><code>-Dcom.sun.javafx.virtualKeyboard=javafx</code></li>\n</ul>\n\n<p>Some related sketchy info on the internet:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/23564413/activating-touch-enabled-controls-in-javafx\">Activating touch-enabled controls in JavaFX</a></li>\n<li><a href=\"https://community.oracle.com/message/12384066\" rel=\"nofollow noreferrer\">JavaFX 8 Embedded Mode</a> Oracle JavaFX forum post.  </li>\n<li><a href=\"https://stackoverflow.com/questions/12704457/javafx-webview-webengine-show-on-screen-keyboard-automatically-for-each-text-i\">JavaFX WebView / WebEngine show on-screen-keyboard automatically for each text input</a></li>\n</ul>\n\n<p>The guys over at <a href=\"http://javafxports.org/page/home\" rel=\"nofollow noreferrer\">javafxports</a> might know more, so you could try asking there if you want more information (if you are targeting one of their devices).</p>\n"},{"tags":[],"owner":{"account_id":2559229,"reputation":75,"user_id":2220599,"display_name":"NTwoO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441028498,"creation_date":1441014949,"answer_id":32308548,"question_id":26768523,"body_markdown":"To be sure, you must add the flags \r\n\r\n - `-Dcom.sun.javafx.isEmbedded=true`\r\n - `-Dcom.sun.javafx.touch=true`\r\n - `-Dcom.sun.javafx.virtualKeyboard=javafx`\r\n\r\nto the javavm and not to the application...  (added as post, since I can&#39;t comment...)\r\n\r\nIs customising the keyboard layout required? check  `/com/sun/javafx/scene/control/skin/caspian/fxvk.css` in `${JRE/JDK_INSTALL}/jre/lib/ext/jfxrt.jar` for the css fields influencing the keyboard. \r\n ","title":"JavaFX virtual keyboard","body":"<p>To be sure, you must add the flags </p>\n\n<ul>\n<li><code>-Dcom.sun.javafx.isEmbedded=true</code></li>\n<li><code>-Dcom.sun.javafx.touch=true</code></li>\n<li><code>-Dcom.sun.javafx.virtualKeyboard=javafx</code></li>\n</ul>\n\n<p>to the javavm and not to the application...  (added as post, since I can't comment...)</p>\n\n<p>Is customising the keyboard layout required? check  <code>/com/sun/javafx/scene/control/skin/caspian/fxvk.css</code> in <code>${JRE/JDK_INSTALL}/jre/lib/ext/jfxrt.jar</code> for the css fields influencing the keyboard. </p>\n"},{"tags":[],"owner":{"account_id":8113084,"reputation":121,"user_id":6112486,"display_name":"Surya Hardiansyah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460419008,"creation_date":1460419008,"answer_id":36561319,"question_id":26768523,"body_markdown":"if you are confused, here, catch:\r\n\r\n1.right click your project (in Netbeans)\r\n\r\n2.click Properties--&gt;Run--&gt;\r\n\r\n3.Fill the [VM Options] with: \r\n\r\n      -Dcom.sun.javafx.isEmbedded=true \r\n      -Dcom.sun.javafx.touch=true \r\n      -Dcom.sun.javafx.virtualKeyboard=javafx\r\n\r\n4.OK,done","title":"JavaFX virtual keyboard","body":"<p>if you are confused, here, catch:</p>\n\n<p>1.right click your project (in Netbeans)</p>\n\n<p>2.click Properties-->Run--></p>\n\n<p>3.Fill the [VM Options] with: </p>\n\n<pre><code>  -Dcom.sun.javafx.isEmbedded=true \n  -Dcom.sun.javafx.touch=true \n  -Dcom.sun.javafx.virtualKeyboard=javafx\n</code></pre>\n\n<p>4.OK,done</p>\n"},{"tags":[],"owner":{"account_id":17571893,"reputation":72,"user_id":12747476,"display_name":"selami tastan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662469359,"creation_date":1662469359,"answer_id":73622526,"question_id":26768523,"body_markdown":"Maven dependeny :\r\n\r\n        &lt;!-- onscreen-keyboard --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.comtel2000&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fx-onscreen-keyboard&lt;/artifactId&gt;\r\n            &lt;version&gt;8.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- onscreen-keyboard --&gt;\r\n\r\nStatic function showVirtualKeyboard :\r\n\r\n    public static void showVirtualKeyboard(Stage primaryStage){\r\n        Platform.runLater(() -&gt; {\r\n            if(keyBoardPopup == null){\r\n                KeyboardPane kb = new KeyboardPane();\r\n                kb.setLayer(DefaultLayer.NUMBLOCK);\r\n                try {\r\n                    kb.load();\r\n\r\n                } catch (Exception e) {\r\n                }\r\n\r\n                keyBoardPopup = new KeyBoardPopup(kb);\r\n\r\n                Scene scene = new Scene(new Group(), 0.1, 0.1);\r\n                Stage stage = new Stage();\r\n                stage.initOwner(primaryStage);\r\n                //stage.initStyle(StageStyle.UTILITY);\r\n                stage.initStyle(StageStyle.UNDECORATED);\r\n                stage.setScene(scene);\r\n                //stage.initModality(Modality.APPLICATION_MODAL);\r\n                stage.setAlwaysOnTop(true);\r\n                keyBoardPopup.show(stage);\r\n\r\n                keyBoardPopup.registerScene(primaryStage.getScene());\r\n                keyBoardPopup.setVisible(true);\r\n                kb.setOnKeyboardCloseButton(event -&gt; keyBoardPopup.setVisible(false));\r\n\r\n\r\n                String key = &quot;virtualkeyboard&quot;;\r\n                double scale = Options.getScale(key);\r\n                double x = Options.getWindowX(key);\r\n                double y = Options.getWindowY(key);\r\n                boolean inBounds = true;\r\n                if(x != 0 &amp;&amp; y != 0 &amp;&amp; y &gt; 0){\r\n                    ObservableList&lt;Screen&gt; screenSizes = Screen.getScreens();\r\n                    if(screenSizes.size() == 1){\r\n                        if(x &gt;= screenSizes.get(0).getBounds().getMaxX() || y &gt;= screenSizes.get(0).getBounds().getMaxY()){\r\n                            inBounds = false;\r\n                        }\r\n                    }\r\n                    if(inBounds){\r\n                        keyBoardPopup.setX(x);\r\n                        keyBoardPopup.setY(y);\r\n                    }\r\n                }\r\n                ChangeListener&lt;Number&gt; changeListenerX = null, changeListenerY = null;\r\n                changeListenerX = (observable, oldValue, newValue) -&gt; Options.setWindowX(key, newValue.doubleValue());\r\n                changeListenerY = (observable, oldValue, newValue) -&gt; Options.setWindowY(key, newValue.doubleValue());\r\n                keyBoardPopup.xProperty().addListener(changeListenerX);\r\n                keyBoardPopup.yProperty().addListener(changeListenerY);\r\n\r\n                kb.setScale(scale &lt; 0 ? 2 : scale);\r\n                //Options.setScale(key, -1);\r\n                kb.scaleProperty().addListener((observable, oldValue, newValue) -&gt; Options.setScale(key, newValue.doubleValue()));\r\n            }else{\r\n                keyBoardPopup.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nSome Options functions\r\n\r\n    private static Preferences preferences = Preferences.userRoot();\r\n    public static Preferences getPreferences() { try { preferences.sync(); } catch (Exception e) { } return preferences; }\r\n\r\n\r\n    public synchronized static double getWindowX(String window) {\r\n\t\treturn getPreferences()\r\n\t\t\t\t.getDouble(ApplicationName + &quot;.system.window.&quot; + window + &quot;.x&quot;, 0);\r\n\t}\r\n\r\n\tpublic synchronized static void setWindowX(String window, double x) {\r\n\t\tgetPreferences().putDouble(ApplicationName + &quot;.system.window.&quot; + window + &quot;.x&quot;, x);\r\n\t}\r\n\r\n\tpublic synchronized static double getWindowY(String window) {\r\n\t\treturn getPreferences()\r\n\t\t\t\t.getDouble(ApplicationName + &quot;.system.window.&quot; + window + &quot;.y&quot;, 0);\r\n\t}\r\n\r\n\tpublic synchronized static void setWindowY(String window, double y) {\r\n\t\tgetPreferences().putDouble(ApplicationName + &quot;.system.window.&quot; + window + &quot;.y&quot;, y);\r\n\t}\r\n\r\n\tpublic synchronized static double getScale(String window) {\r\n\t\treturn getPreferences()\r\n\t\t\t\t.getDouble(ApplicationName + &quot;.system.scale.&quot; + window + &quot;.x&quot;, -1);\r\n\t}\r\n\r\n\tpublic synchronized static void setScale(String window, double x) {\r\n\t\tgetPreferences().putDouble(ApplicationName + &quot;.system.scale.&quot; + window + &quot;.x&quot;, x);\r\n\t}\r\n\r\n","title":"JavaFX virtual keyboard","body":"<p>Maven dependeny :</p>\n<pre><code>    &lt;!-- onscreen-keyboard --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.comtel2000&lt;/groupId&gt;\n        &lt;artifactId&gt;fx-onscreen-keyboard&lt;/artifactId&gt;\n        &lt;version&gt;8.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- onscreen-keyboard --&gt;\n</code></pre>\n<p>Static function showVirtualKeyboard :</p>\n<pre><code>public static void showVirtualKeyboard(Stage primaryStage){\n    Platform.runLater(() -&gt; {\n        if(keyBoardPopup == null){\n            KeyboardPane kb = new KeyboardPane();\n            kb.setLayer(DefaultLayer.NUMBLOCK);\n            try {\n                kb.load();\n\n            } catch (Exception e) {\n            }\n\n            keyBoardPopup = new KeyBoardPopup(kb);\n\n            Scene scene = new Scene(new Group(), 0.1, 0.1);\n            Stage stage = new Stage();\n            stage.initOwner(primaryStage);\n            //stage.initStyle(StageStyle.UTILITY);\n            stage.initStyle(StageStyle.UNDECORATED);\n            stage.setScene(scene);\n            //stage.initModality(Modality.APPLICATION_MODAL);\n            stage.setAlwaysOnTop(true);\n            keyBoardPopup.show(stage);\n\n            keyBoardPopup.registerScene(primaryStage.getScene());\n            keyBoardPopup.setVisible(true);\n            kb.setOnKeyboardCloseButton(event -&gt; keyBoardPopup.setVisible(false));\n\n\n            String key = &quot;virtualkeyboard&quot;;\n            double scale = Options.getScale(key);\n            double x = Options.getWindowX(key);\n            double y = Options.getWindowY(key);\n            boolean inBounds = true;\n            if(x != 0 &amp;&amp; y != 0 &amp;&amp; y &gt; 0){\n                ObservableList&lt;Screen&gt; screenSizes = Screen.getScreens();\n                if(screenSizes.size() == 1){\n                    if(x &gt;= screenSizes.get(0).getBounds().getMaxX() || y &gt;= screenSizes.get(0).getBounds().getMaxY()){\n                        inBounds = false;\n                    }\n                }\n                if(inBounds){\n                    keyBoardPopup.setX(x);\n                    keyBoardPopup.setY(y);\n                }\n            }\n            ChangeListener&lt;Number&gt; changeListenerX = null, changeListenerY = null;\n            changeListenerX = (observable, oldValue, newValue) -&gt; Options.setWindowX(key, newValue.doubleValue());\n            changeListenerY = (observable, oldValue, newValue) -&gt; Options.setWindowY(key, newValue.doubleValue());\n            keyBoardPopup.xProperty().addListener(changeListenerX);\n            keyBoardPopup.yProperty().addListener(changeListenerY);\n\n            kb.setScale(scale &lt; 0 ? 2 : scale);\n            //Options.setScale(key, -1);\n            kb.scaleProperty().addListener((observable, oldValue, newValue) -&gt; Options.setScale(key, newValue.doubleValue()));\n        }else{\n            keyBoardPopup.setVisible(true);\n        }\n    });\n}\n</code></pre>\n<p>Some Options functions</p>\n<pre><code>private static Preferences preferences = Preferences.userRoot();\npublic static Preferences getPreferences() { try { preferences.sync(); } catch (Exception e) { } return preferences; }\n\n\npublic synchronized static double getWindowX(String window) {\n    return getPreferences()\n            .getDouble(ApplicationName + &quot;.system.window.&quot; + window + &quot;.x&quot;, 0);\n}\n\npublic synchronized static void setWindowX(String window, double x) {\n    getPreferences().putDouble(ApplicationName + &quot;.system.window.&quot; + window + &quot;.x&quot;, x);\n}\n\npublic synchronized static double getWindowY(String window) {\n    return getPreferences()\n            .getDouble(ApplicationName + &quot;.system.window.&quot; + window + &quot;.y&quot;, 0);\n}\n\npublic synchronized static void setWindowY(String window, double y) {\n    getPreferences().putDouble(ApplicationName + &quot;.system.window.&quot; + window + &quot;.y&quot;, y);\n}\n\npublic synchronized static double getScale(String window) {\n    return getPreferences()\n            .getDouble(ApplicationName + &quot;.system.scale.&quot; + window + &quot;.x&quot;, -1);\n}\n\npublic synchronized static void setScale(String window, double x) {\n    getPreferences().putDouble(ApplicationName + &quot;.system.scale.&quot; + window + &quot;.x&quot;, x);\n}\n</code></pre>\n"}],"owner":{"account_id":3243773,"reputation":9648,"user_id":2736022,"accept_rate":41,"display_name":"Gillardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16593,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26768716,"answer_count":4,"score":6,"last_activity_date":1662469359,"creation_date":1415227137,"question_id":26768523,"body_markdown":"Is there such a thing?  I have googled javafx virtual keyboard, but nothing seems to appear that is valid.  I saw this article, but no code or example\r\n\r\nhttp://docs.oracle.com/javase/8/javafx/user-interface-tutorial/embed.htm\r\n\r\nDoes anyone have prior experience with a virtual keyboard in a javafx application?  I need to be able to show either a normal keyboard or numeric keypad when a textfield is focused.","title":"JavaFX virtual keyboard","body":"<p>Is there such a thing?  I have googled javafx virtual keyboard, but nothing seems to appear that is valid.  I saw this article, but no code or example</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/javafx/user-interface-tutorial/embed.htm\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/javafx/user-interface-tutorial/embed.htm</a></p>\n\n<p>Does anyone have prior experience with a virtual keyboard in a javafx application?  I need to be able to show either a normal keyboard or numeric keypad when a textfield is focused.</p>\n"},{"tags":["java","zsh"],"comments":[{"owner":{"account_id":334455,"reputation":26985,"user_id":660921,"accept_rate":81,"display_name":"Martin Tournoij"},"score":0,"creation_date":1661384393,"post_id":73478664,"comment_id":129762361,"body_markdown":"It looks like you may be trying to execute a directory, but hard to be sure or give more information since I can&#39;t see your code/zshenv file or see what `/Library/Java/JavaVirtualMachines/jdk1.8.0_333.jdk/Contents/Home` is like. To get `compdef` you need to run `autoload -U compinit &amp;&amp; compinit`.","body":"It looks like you may be trying to execute a directory, but hard to be sure or give more information since I can&#39;t see your code/zshenv file or see what <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_333.jdk&#47;Contents&#47;&zwnj;&#8203;Home</code> is like. To get <code>compdef</code> you need to run <code>autoload -U compinit &amp;&amp; compinit</code>."},{"owner":{"account_id":26125006,"reputation":21,"user_id":19816576,"display_name":"user19816576"},"score":0,"creation_date":1662119728,"post_id":73478664,"comment_id":129938093,"body_markdown":"Hi @MartinTournoij, I tried `autoload -U compinit &amp;&amp; compinit` but i&#39;m still getting `complete:13: command not found: compdef` when i restart terminal. I updated the question with my zshenv file and Java Home if that helps.","body":"Hi @MartinTournoij, I tried <code>autoload -U compinit &amp;&amp; compinit</code> but i&#39;m still getting <code>complete:13: command not found: compdef</code> when i restart terminal. I updated the question with my zshenv file and Java Home if that helps."},{"owner":{"account_id":1799402,"reputation":5615,"user_id":13832769,"display_name":"Marlon Richert"},"score":0,"creation_date":1662357984,"post_id":73478664,"comment_id":129978639,"body_markdown":"As you can see from the broken syntax highlighting in your post, you have a giant typo at the end of this line: `export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_333.jdk/Contents/H$`","body":"As you can see from the broken syntax highlighting in your post, you have a giant typo at the end of this line: <code>export JAVA_HOME=&quot;&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_333.jd&zwnj;&#8203;k&#47;Contents&#47;H$</code>"},{"owner":{"account_id":26125006,"reputation":21,"user_id":19816576,"display_name":"user19816576"},"score":0,"creation_date":1662469338,"post_id":73478664,"comment_id":130008424,"body_markdown":"The typo is due to my failure to copy paste from my terminal as it was not fully maximized. I have updated the post but i&#39;m still running into this issue.","body":"The typo is due to my failure to copy paste from my terminal as it was not fully maximized. I have updated the post but i&#39;m still running into this issue."},{"owner":{"account_id":988708,"reputation":73,"user_id":1006537,"accept_rate":100,"display_name":"Ali Abbas"},"score":0,"creation_date":1671530961,"post_id":73478664,"comment_id":132114150,"body_markdown":"Any update on this, As i&#39;m facing same issue on OS ventura and jdk1.8.0_202.jdk","body":"Any update on this, As i&#39;m facing same issue on OS ventura and jdk1.8.0_202.jdk"}],"owner":{"account_id":26125006,"reputation":21,"user_id":19816576,"display_name":"user19816576"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662469272,"creation_date":1661369417,"question_id":73478664,"body_markdown":"I&#39;ve been having trouble executing anything Java-related getting the following error message. When I open up my zsh shell, I immediately see the following message:\r\n\r\n```\r\n/Users/name/.zshenv:1: permission denied: /Library/Java/JavaVirtualMachines/jdk1.8.0_333.jdk/Contents/Home\r\ncomplete:13: command not found: compdef\r\n```\r\nI checked the permissions and I can&#39;t see a problem with it:  \r\n\r\n- system has read &amp; write permissions,\r\n- wheel and everyone has read only permissions\r\n\r\nI believe it might have to do with me deleting some a Java-related directory but i can&#39;t remember what I did. How can i get my system to a fresh state?\r\n\r\nEdit: add system configurations\r\n\r\n`~/.zshrc` file:\r\n\r\n\r\n    alias python=python3\r\n    export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_333.jdk/Contents/Home&quot;\r\n    export PATH=~/base/phacility/arcanist/bin:$PATH\r\n    source ~/base/phacility/arcanist/resources/shell/bash-completion\r\n    autoload -Uz compinit\r\n    compinit\r\n    export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;\r\n      eval &quot;$(jenv init -)&quot;\r\n\r\n    #THIS MUST BE AT THE END OF THE FILE FOR SDKMAN TO WORK!!!\r\n    export SDKMAN_DIR=&quot;$HOME/.sdkman&quot;\r\n    [[ -s &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;$HOME/.sdkman/bin/sdkman$\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n`ls /Library/Java/JavaVirtualMachines/jdk1.8.0_333.jdk/Contents/Home` returns:\r\n\r\n\r\n\r\n    Contents/Home\r\n    COPYRIGHT\t\t\t\tjmc.txt\r\n    LICENSE\t\t\t\t\tjre\r\n    README.html\t\t\t\tlegal\r\n    THIRDPARTYLICENSEREADME-JAVAFX.txt\tlib\r\n    THIRDPARTYLICENSEREADME.txt\t\tman\r\n    bin\t\t\t\t\trelease\r\n    include\t\t\t\t\tsrc.zip\r\n    javafx-src.zip\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java error: /Users/name/.zshenv:1: permission denied: /Library/Java/JavaVirtualMachines/jdk1.8.0_333.jdk/Contents/Home","body":"<p>I've been having trouble executing anything Java-related getting the following error message. When I open up my zsh shell, I immediately see the following message:</p>\n<pre><code>/Users/name/.zshenv:1: permission denied: /Library/Java/JavaVirtualMachines/jdk1.8.0_333.jdk/Contents/Home\ncomplete:13: command not found: compdef\n</code></pre>\n<p>I checked the permissions and I can't see a problem with it:</p>\n<ul>\n<li>system has read &amp; write permissions,</li>\n<li>wheel and everyone has read only permissions</li>\n</ul>\n<p>I believe it might have to do with me deleting some a Java-related directory but i can't remember what I did. How can i get my system to a fresh state?</p>\n<p>Edit: add system configurations</p>\n<p><code>~/.zshrc</code> file:</p>\n<pre><code>alias python=python3\nexport JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_333.jdk/Contents/Home&quot;\nexport PATH=~/base/phacility/arcanist/bin:$PATH\nsource ~/base/phacility/arcanist/resources/shell/bash-completion\nautoload -Uz compinit\ncompinit\nexport PATH=&quot;$HOME/.jenv/bin:$PATH&quot;\n  eval &quot;$(jenv init -)&quot;\n\n#THIS MUST BE AT THE END OF THE FILE FOR SDKMAN TO WORK!!!\nexport SDKMAN_DIR=&quot;$HOME/.sdkman&quot;\n[[ -s &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;$HOME/.sdkman/bin/sdkman$\n</code></pre>\n\n<p><code>ls /Library/Java/JavaVirtualMachines/jdk1.8.0_333.jdk/Contents/Home</code> returns:</p>\n<pre><code>Contents/Home\nCOPYRIGHT               jmc.txt\nLICENSE                 jre\nREADME.html             legal\nTHIRDPARTYLICENSEREADME-JAVAFX.txt  lib\nTHIRDPARTYLICENSEREADME.txt     man\nbin                 release\ninclude                 src.zip\njavafx-src.zip\n</code></pre>\n\n"},{"tags":["java","selenium","webdriver"],"comments":[{"owner":{"account_id":11119865,"reputation":3661,"user_id":8163071,"display_name":"C. Peck"},"score":0,"creation_date":1662474713,"post_id":73622495,"comment_id":130010763,"body_markdown":"I may be missing something, but given that each element of `data` is an arrayList, how can `for (WebElement a : data)` provide a WebElement for the `a` variable?","body":"I may be missing something, but given that each element of <code>data</code> is an arrayList, how can <code>for (WebElement a : data)</code> provide a WebElement for the <code>a</code> variable?"},{"owner":{"account_id":13468853,"reputation":1,"user_id":9718133,"display_name":"abdtester"},"score":0,"creation_date":1662475640,"post_id":73622495,"comment_id":130011147,"body_markdown":"Well, I&#39;ve wondered the same question before. The thing is if I declare an `Object[3]` for example the same method runs for 3 different variable.  ArrayList is the type of every `Objet[i]`. At least that&#39;s how it&#39;s supposed to work.","body":"Well, I&#39;ve wondered the same question before. The thing is if I declare an <code>Object[3]</code> for example the same method runs for 3 different variable.  ArrayList is the type of every <code>Objet[i]</code>. At least that&#39;s how it&#39;s supposed to work."},{"owner":{"account_id":11119865,"reputation":3661,"user_id":8163071,"display_name":"C. Peck"},"score":0,"creation_date":1662477469,"post_id":73622495,"comment_id":130011960,"body_markdown":"It should run for 3 different variables, but isn&#39;t each of those variables an *array* of WebElements?","body":"It should run for 3 different variables, but isn&#39;t each of those variables an <i>array</i> of WebElements?"},{"owner":{"account_id":13468853,"reputation":1,"user_id":9718133,"display_name":"abdtester"},"score":0,"creation_date":1662489616,"post_id":73622495,"comment_id":130015929,"body_markdown":"Yes, exactly like that.","body":"Yes, exactly like that."},{"owner":{"account_id":13468853,"reputation":1,"user_id":9718133,"display_name":"abdtester"},"score":0,"creation_date":1662549636,"post_id":73622495,"comment_id":130030269,"body_markdown":"@C.Peck I think I&#39;ve found the error. When I run that method only without the `@BeforeMethod` method it&#39;s doing what it supposed to do.  But I don&#39;t think that&#39;s how it&#39;s supposed to work from TestNG point of view. Thank you for your help.","body":"@C.Peck I think I&#39;ve found the error. When I run that method only without the <code>@BeforeMethod</code> method it&#39;s doing what it supposed to do.  But I don&#39;t think that&#39;s how it&#39;s supposed to work from TestNG point of view. Thank you for your help."}],"owner":{"account_id":13468853,"reputation":1,"user_id":9718133,"display_name":"abdtester"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662469238,"creation_date":1662469238,"question_id":73622495,"body_markdown":"I am trying to check links in the parts of html page, even though I am using the same format with somewhere else there is no problem but with this one in every Object[] data there is a ArrayList&lt;WebElement&gt; inside of it and it was working before but I don&#39;t remember what I have changed it.\r\n    \r\n    @Test (dataProvider = &quot;mainPageLinks&quot;) public void checkLinks(ArrayList&lt;WebElement&gt; data) throws IOException {\r\n        SoftAssert soft = new SoftAssert();\r\n\r\n        for (WebElement a : data) {\r\n            String url = a.getAttribute(&quot;href&quot;); //**it shows error here**\r\n            HttpURLConnection conn = (HttpURLConnection) new URL(url).openConnection();\r\n            conn.setRequestMethod(&quot;HEAD&quot;);\r\n            conn.connect();\r\n            soft.assertTrue(conn.getResponseCode() &lt; 400,a.getText() + &quot;          BROKEN LINK&quot;);\r\n        }\r\n        soft.assertAll();\r\n    }\r\n\r\n    @DataProvider public Object[] mainPageLinks(){\r\n        Object[] data = new Object[3];\r\n        data[0] = driver.findElements(By.cssSelector(&quot;.calendars-inner-div a&quot;));\r\n        data[1] = driver.findElements(By.cssSelector(&quot;footer a&quot;));\r\n        data[2] = driver.findElements(By.cssSelector(&quot;.fc-daygrid-day-events a&quot;));\r\n        return data;\r\n    }","title":"Stale element reference","body":"<p>I am trying to check links in the parts of html page, even though I am using the same format with somewhere else there is no problem but with this one in every Object[] data there is a ArrayList inside of it and it was working before but I don't remember what I have changed it.</p>\n<pre><code>@Test (dataProvider = &quot;mainPageLinks&quot;) public void checkLinks(ArrayList&lt;WebElement&gt; data) throws IOException {\n    SoftAssert soft = new SoftAssert();\n\n    for (WebElement a : data) {\n        String url = a.getAttribute(&quot;href&quot;); //**it shows error here**\n        HttpURLConnection conn = (HttpURLConnection) new URL(url).openConnection();\n        conn.setRequestMethod(&quot;HEAD&quot;);\n        conn.connect();\n        soft.assertTrue(conn.getResponseCode() &lt; 400,a.getText() + &quot;          BROKEN LINK&quot;);\n    }\n    soft.assertAll();\n}\n\n@DataProvider public Object[] mainPageLinks(){\n    Object[] data = new Object[3];\n    data[0] = driver.findElements(By.cssSelector(&quot;.calendars-inner-div a&quot;));\n    data[1] = driver.findElements(By.cssSelector(&quot;footer a&quot;));\n    data[2] = driver.findElements(By.cssSelector(&quot;.fc-daygrid-day-events a&quot;));\n    return data;\n}\n</code></pre>\n"},{"tags":["java","reactjs","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":20336792,"reputation":554,"user_id":14917277,"display_name":"anurag-dhamala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661479932,"creation_date":1661446511,"answer_id":73491187,"question_id":73490871,"body_markdown":"\r\nYou should enable multipart in application.properties file:\r\n\r\n    spring.servlet.multipart.enabled=true\r\n    spring.servlet.multipart.max-file-size = -1\r\n    spring.servlet.multipart.max-request-size=-1\r\n\r\nAlso, don&#39;t forget to set the `&#39;Content-Type&#39;:&#39;multipart/form-data&#39;` in request header while sending your request.\r\n\r\n\r\n----------\r\n\r\n\r\nEDIT:You need to define the CommonMultipartResolver Bean.\r\n\r\n    @Bean\r\n    public CommonsMultipartResolver multipartResolver() {\r\n        CommonsMultipartResolver multipart = new CommonsMultipartResolver();\r\n        multipart.setMaxUploadSize(3 * 1024 * 1024);\r\n        return multipart;\r\n    }\r\n    \r\n    @Bean\r\n    @Order(0)\r\n    public MultipartFilter multipartFilter() {\r\n        MultipartFilter multipartFilter = new MultipartFilter();\r\n        multipartFilter.setMultipartResolverBeanName(&quot;multipartResolver&quot;);\r\n        return multipartFilter;\r\n    }\r\n\r\nAlso, it seems like we should leave the &#39;Content-Type&#39; to blank, so that Chrome would set the boundary itself.","title":"React Spring Boot App Using Multipart Form Data - Required request part &#39;file&#39; is not present","body":"<p>You should enable multipart in application.properties file:</p>\n<pre><code>spring.servlet.multipart.enabled=true\nspring.servlet.multipart.max-file-size = -1\nspring.servlet.multipart.max-request-size=-1\n</code></pre>\n<p>Also, don't forget to set the <code>'Content-Type':'multipart/form-data'</code> in request header while sending your request.</p>\n<hr />\n<p>EDIT:You need to define the CommonMultipartResolver Bean.</p>\n<pre><code>@Bean\npublic CommonsMultipartResolver multipartResolver() {\n    CommonsMultipartResolver multipart = new CommonsMultipartResolver();\n    multipart.setMaxUploadSize(3 * 1024 * 1024);\n    return multipart;\n}\n\n@Bean\n@Order(0)\npublic MultipartFilter multipartFilter() {\n    MultipartFilter multipartFilter = new MultipartFilter();\n    multipartFilter.setMultipartResolverBeanName(&quot;multipartResolver&quot;);\n    return multipartFilter;\n}\n</code></pre>\n<p>Also, it seems like we should leave the 'Content-Type' to blank, so that Chrome would set the boundary itself.</p>\n"},{"tags":[],"owner":{"account_id":7806709,"reputation":21,"user_id":14488165,"display_name":"dlemp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662469026,"creation_date":1662469026,"answer_id":73622453,"question_id":73490871,"body_markdown":"Turns out this:\r\n\r\n    setFileAttachment({\r\n             fileAttachment: e.target.files[0]\r\n         })\r\n\r\nNeeded to be this:\r\n\r\n    setFileAttachment(e.target.files[0])\r\n\r\nIt&#39;s always the little things\r\n","title":"React Spring Boot App Using Multipart Form Data - Required request part &#39;file&#39; is not present","body":"<p>Turns out this:</p>\n<pre><code>setFileAttachment({\n         fileAttachment: e.target.files[0]\n     })\n</code></pre>\n<p>Needed to be this:</p>\n<pre><code>setFileAttachment(e.target.files[0])\n</code></pre>\n<p>It's always the little things</p>\n"}],"owner":{"account_id":7806709,"reputation":21,"user_id":14488165,"display_name":"dlemp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73622453,"answer_count":2,"score":1,"last_activity_date":1662469026,"creation_date":1661444755,"question_id":73490871,"body_markdown":"  After days of attempting to upload a file using a React frontend and Spring Boot backend, I&#39;m coming here to see if anyone can guide me in the right direction.  Everything seems to be in place - I select my file, I see the file properties in the console, and I see form data being passed to the REST API, but I still get an error.\r\n\r\nSome React snippets:\r\n  &lt;input type=&quot;file&quot; name=&quot;file&quot; onChange={onFileChangeHandler}/&gt;\r\n\r\n     const onFileChangeHandler = (e) =&gt; {\r\n             e.preventDefault();\r\n             setFileAttachment({\r\n                 fileAttachment: e.target.files[0]\r\n             })};\r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append(&#39;file&#39;,fileAttachment)\r\n\r\n    const requestOptionsInsertNote = {\r\n        method: &quot;POST&quot;,\r\n        body: formData\r\n    };\r\n\r\n    &lt;input type=&quot;file&quot; name=&quot;file&quot; onChange={onFileChangeHandler}/&gt;\r\n\r\nSome Spring Boot snippets:\r\n\r\n    @PostMapping( &quot;/api/notes/insertNote&quot;)\r\n    public void insertJournalNote(@RequestPart(value=&quot;file&quot;) MultipartFile file{\r\n             UploadedFileInfo uploadedFileInfo = new UploadedFileInfo();\r\n        try{\r\n            uploadedFileInfo.setFileData(file.getBytes());\r\n            uploadedFileInfo.setFileType(file.getContentType());\r\n            uploadedFileInfo.setFileName(file.getOriginalFilename());\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        }}\r\n\r\nConsole log data for console.log(fileAttachment):\r\n\r\n    Object { fileAttachment: File }​\r\n    fileAttachment: File { name: &quot;file.jpg&quot;, lastModified: 1650655091391, size: 148823, … }​​\r\n    lastModified: 1650655091391​​\r\n    name: &quot;file.jpg&quot;​​\r\n    size: 148823​​\r\n    type: &quot;image/jpeg&quot;​​\r\n    webkitRelativePath: &quot;&quot;\r\n\r\nRequest sent to rest api:\r\n\r\n    -----------------------------174062142330182702901981377266\r\n    Content-Disposition: form-data; name=&quot;file&quot;\r\n    \r\n    [object Object]\r\n    -----------------------------174062142330182702901981377266--\r\n\r\nError message in Intellij:\r\n\r\nResolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part &#39;file&#39; is not present]\r\n","title":"React Spring Boot App Using Multipart Form Data - Required request part &#39;file&#39; is not present","body":"<p>After days of attempting to upload a file using a React frontend and Spring Boot backend, I'm coming here to see if anyone can guide me in the right direction.  Everything seems to be in place - I select my file, I see the file properties in the console, and I see form data being passed to the REST API, but I still get an error.</p>\n<p>Some React snippets:\n</p>\n<pre><code> const onFileChangeHandler = (e) =&gt; {\n         e.preventDefault();\n         setFileAttachment({\n             fileAttachment: e.target.files[0]\n         })};\n\nconst formData = new FormData();\n\nformData.append('file',fileAttachment)\n\nconst requestOptionsInsertNote = {\n    method: &quot;POST&quot;,\n    body: formData\n};\n\n&lt;input type=&quot;file&quot; name=&quot;file&quot; onChange={onFileChangeHandler}/&gt;\n</code></pre>\n<p>Some Spring Boot snippets:</p>\n<pre><code>@PostMapping( &quot;/api/notes/insertNote&quot;)\npublic void insertJournalNote(@RequestPart(value=&quot;file&quot;) MultipartFile file{\n         UploadedFileInfo uploadedFileInfo = new UploadedFileInfo();\n    try{\n        uploadedFileInfo.setFileData(file.getBytes());\n        uploadedFileInfo.setFileType(file.getContentType());\n        uploadedFileInfo.setFileName(file.getOriginalFilename());\n    }catch (IOException e){\n        e.printStackTrace();\n    }}\n</code></pre>\n<p>Console log data for console.log(fileAttachment):</p>\n<pre><code>Object { fileAttachment: File }​\nfileAttachment: File { name: &quot;file.jpg&quot;, lastModified: 1650655091391, size: 148823, … }​​\nlastModified: 1650655091391​​\nname: &quot;file.jpg&quot;​​\nsize: 148823​​\ntype: &quot;image/jpeg&quot;​​\nwebkitRelativePath: &quot;&quot;\n</code></pre>\n<p>Request sent to rest api:</p>\n<pre><code>-----------------------------174062142330182702901981377266\nContent-Disposition: form-data; name=&quot;file&quot;\n\n[object Object]\n-----------------------------174062142330182702901981377266--\n</code></pre>\n<p>Error message in Intellij:</p>\n<p>Resolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'file' is not present]</p>\n"},{"tags":["java","spring","spring-boot","docker"],"comments":[{"owner":{"account_id":10868035,"reputation":332,"user_id":7990795,"display_name":"LeadingMoominExpert"},"score":0,"creation_date":1662467159,"post_id":73621977,"comment_id":130007529,"body_markdown":"What properties are you providing with the file? It might be that the easier way would be to provide these as environment variables when running your container.","body":"What properties are you providing with the file? It might be that the easier way would be to provide these as environment variables when running your container."},{"owner":{"account_id":15497005,"reputation":23,"user_id":19478504,"display_name":"Alex998"},"score":0,"creation_date":1662467723,"post_id":73621977,"comment_id":130007786,"body_markdown":"@LeadingMoominExpert This is a big project and a legacy one and it has a lot of properties that need to be configurable not just data sources and a few names to just simply use environment variables. And my business requirements dictates that it should read all the properties based on the mount folder. I really don&#39;t know if this is possible but I hope it is","body":"@LeadingMoominExpert This is a big project and a legacy one and it has a lot of properties that need to be configurable not just data sources and a few names to just simply use environment variables. And my business requirements dictates that it should read all the properties based on the mount folder. I really don&#39;t know if this is possible but I hope it is"},{"owner":{"account_id":10868035,"reputation":332,"user_id":7990795,"display_name":"LeadingMoominExpert"},"score":0,"creation_date":1662468020,"post_id":73621977,"comment_id":130007905,"body_markdown":"Could you also provide you command on how you&#39;re running the container? It&#39;s hard to say if you&#39;re actually mounting volume correctly","body":"Could you also provide you command on how you&#39;re running the container? It&#39;s hard to say if you&#39;re actually mounting volume correctly"},{"owner":{"account_id":15497005,"reputation":23,"user_id":19478504,"display_name":"Alex998"},"score":0,"creation_date":1662468548,"post_id":73621977,"comment_id":130008133,"body_markdown":"@LeadingMoominExpert `docker run --name svms-controller -v C:\\my-app-props:C:\\application\\BOOT-INF\\classes\\config -d -p 8080:8080 svms-controller:latest `\n\nI am pretty confident that this should work as I tried to run it with my IDE and the mounting works because I can see the properties inside C:\\application\\BOOT-INF\\classes\\config in my container.\n\nWhat I was thinking is that maybe when the app starts my `--spring.config.location=file:///C:/application/BOOT-INF/classes/config/SVMSController.properties` is actually ignored and the app doesn&#39;t even search for the config files","body":"@LeadingMoominExpert <code>docker run --name svms-controller -v C:\\my-app-props:C:\\application\\BOOT-INF\\classes\\config -d -p 8080:8080 svms-controller:latest </code>  I am pretty confident that this should work as I tried to run it with my IDE and the mounting works because I can see the properties inside C:\\application\\BOOT-INF\\classes\\config in my container.  What I was thinking is that maybe when the app starts my <code>--spring.config.location=file:&#47;&#47;&#47;C:&#47;application&#47;BOOT-INF&#47;cla&zwnj;&#8203;sses&#47;config&#47;SVMSCont&zwnj;&#8203;roller.properties</code> is actually ignored and the app doesn&#39;t even search for the config files"},{"owner":{"account_id":15497005,"reputation":23,"user_id":19478504,"display_name":"Alex998"},"score":0,"creation_date":1662469022,"post_id":73621977,"comment_id":130008303,"body_markdown":"@LeadingMoominExpert I also added above my Application main class where the configuration happens","body":"@LeadingMoominExpert I also added above my Application main class where the configuration happens"}],"owner":{"account_id":15497005,"reputation":23,"user_id":19478504,"display_name":"Alex998"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662468971,"creation_date":1662466908,"question_id":73621977,"body_markdown":"Every time when I start my container with my spring boot app I get a FileNotFound exception for my properties:\r\n\r\n```\r\n2022-09-06 13:03:15.746  INFO 1412 --- [           main] c.m.cdmf.svms.SVMSControllerApplication  : Starting SVMSControllerApplication v3.3.2-SNAPSHOT using Java 1.8.0_212 on 9aff754dd15d with PID 1412 (C:\\application\\BOOT-INF\\classes started by ContainerAdministrator in C:\\application)\r\n2022-09-06T12:03:15.767885300Z 2022-09-06 13:03:15.746  INFO 1412 --- [           main] c.m.cdmf.svms.SVMSControllerApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-09-06T12:03:15.872396900Z 2022-09-06 13:03:15.855  WARN 1412 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mottmac.cdmf.svms.SVMSControllerApplication]; nested exception is java.io.FileNotFoundException: class path resource [SVMSController.properties] cannot be opened because it does not exist\r\n2022-09-06T12:03:15.911392600Z 2022-09-06 13:03:15.887 ERROR 1412 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n2022-09-06T12:03:15.911392600Z \r\n2022-09-06T12:03:15.911392600Z org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mottmac.cdmf.svms.SVMSControllerApplication]; nested exception is java.io.FileNotFoundException: class path resource [SVMSController.properties] cannot be opened because it does not exist\r\n```\r\nMy Dockerfile:\r\n\r\n```\r\nFROM my.private.repo:5000/windows-java/8-jdk-windowsnanoserver-10.0.14393.1066:latest as builder\r\nWORKDIR application\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} application.jar\r\nRUN powershell java -Djarmode=layertools -jar application.jar extract\r\n\r\nFROM my.private.repo:5000/windows-java/8-jdk-windowsnanoserver-10.0.14393.1066:latest\r\nWORKDIR application\r\nCOPY --from=builder application/dependencies/ ./\r\nCOPY --from=builder application/spring-boot-loader/ ./\r\nCOPY --from=builder application/snapshot-dependencies/ ./\r\nCOPY --from=builder application/application/ ./\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;, &quot;--spring.config.location=file:///C:/application/BOOT-INF/classes/config/SVMSController.properties&quot;]\r\n```\r\nAs you can see ```C:/application/BOOT-INF/classes/config/SVMSController.properties``` is a mounted volume inside my container which is referencing the location on my host where the properties are (C:\\my-app-props) when I run my docker container. I can confirm the folder is not empty on the container as I checked if the files are visible and they are.\r\n\r\nMy Application with the main method where configuration happens:\r\n\r\n```\r\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\r\n@PropertySource(&quot;classpath:SVMSController.properties&quot;)\r\npublic class SVMSControllerApplication implements ApplicationRunner\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        SpringApplication.run(SVMSControllerApplication.class);\r\n    }\r\n}\r\n```","title":"How to use external configuration properties in a spring boot app running on a docker windows image as layered jar?","body":"<p>Every time when I start my container with my spring boot app I get a FileNotFound exception for my properties:</p>\n<pre><code>2022-09-06 13:03:15.746  INFO 1412 --- [           main] c.m.cdmf.svms.SVMSControllerApplication  : Starting SVMSControllerApplication v3.3.2-SNAPSHOT using Java 1.8.0_212 on 9aff754dd15d with PID 1412 (C:\\application\\BOOT-INF\\classes started by ContainerAdministrator in C:\\application)\n2022-09-06T12:03:15.767885300Z 2022-09-06 13:03:15.746  INFO 1412 --- [           main] c.m.cdmf.svms.SVMSControllerApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-09-06T12:03:15.872396900Z 2022-09-06 13:03:15.855  WARN 1412 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mottmac.cdmf.svms.SVMSControllerApplication]; nested exception is java.io.FileNotFoundException: class path resource [SVMSController.properties] cannot be opened because it does not exist\n2022-09-06T12:03:15.911392600Z 2022-09-06 13:03:15.887 ERROR 1412 --- [           main] o.s.boot.SpringApplication               : Application run failed\n2022-09-06T12:03:15.911392600Z \n2022-09-06T12:03:15.911392600Z org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mottmac.cdmf.svms.SVMSControllerApplication]; nested exception is java.io.FileNotFoundException: class path resource [SVMSController.properties] cannot be opened because it does not exist\n</code></pre>\n<p>My Dockerfile:</p>\n<pre><code>FROM my.private.repo:5000/windows-java/8-jdk-windowsnanoserver-10.0.14393.1066:latest as builder\nWORKDIR application\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} application.jar\nRUN powershell java -Djarmode=layertools -jar application.jar extract\n\nFROM my.private.repo:5000/windows-java/8-jdk-windowsnanoserver-10.0.14393.1066:latest\nWORKDIR application\nCOPY --from=builder application/dependencies/ ./\nCOPY --from=builder application/spring-boot-loader/ ./\nCOPY --from=builder application/snapshot-dependencies/ ./\nCOPY --from=builder application/application/ ./\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;, &quot;--spring.config.location=file:///C:/application/BOOT-INF/classes/config/SVMSController.properties&quot;]\n</code></pre>\n<p>As you can see <code>C:/application/BOOT-INF/classes/config/SVMSController.properties</code> is a mounted volume inside my container which is referencing the location on my host where the properties are (C:\\my-app-props) when I run my docker container. I can confirm the folder is not empty on the container as I checked if the files are visible and they are.</p>\n<p>My Application with the main method where configuration happens:</p>\n<pre><code>@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\n@PropertySource(&quot;classpath:SVMSController.properties&quot;)\npublic class SVMSControllerApplication implements ApplicationRunner\n{\n    public static void main(String[] args)\n    {\n        SpringApplication.run(SVMSControllerApplication.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","jackson","jooq","circular-dependency"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1662470918,"post_id":73618085,"comment_id":130009102,"body_markdown":"jackson-bom is a special dependency called a Bill of Materials (BOM) - it is used to ensure all your jackson dependencies have matching versions (2.13.4 in this case) - see https://repo1.maven.org/maven2/com/fasterxml/jackson/jackson-bom/2.13.4/jackson-bom-2.13.4.pom and its packagaing is &#39;pom&#39; as opposed to &#39;jar&#39;","body":"jackson-bom is a special dependency called a Bill of Materials (BOM) - it is used to ensure all your jackson dependencies have matching versions (2.13.4 in this case) - see <a href=\"https://repo1.maven.org/maven2/com/fasterxml/jackson/jackson-bom/2.13.4/jackson-bom-2.13.4.pom\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/fasterxml/jackson/jackson-bom/2.1&zwnj;&#8203;3.4/&hellip;</a> and its packagaing is &#39;pom&#39; as opposed to &#39;jar&#39;"},{"owner":{"account_id":4442498,"reputation":1202,"user_id":3616714,"accept_rate":78,"display_name":"domin"},"score":0,"creation_date":1662472368,"post_id":73618085,"comment_id":130009754,"body_markdown":"@PJFanning so you mean that because of the special role of a BOM, Gradle shows a dependency from any lib of a BOM to the BOM itself?","body":"@PJFanning so you mean that because of the special role of a BOM, Gradle shows a dependency from any lib of a BOM to the BOM itself?"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1662474064,"post_id":73618085,"comment_id":130010502,"body_markdown":"Why do you &quot;*need*&quot; to update jOOQ?","body":"Why do you &quot;<i>need</i>&quot; to update jOOQ?"},{"owner":{"account_id":4442498,"reputation":1202,"user_id":3616714,"accept_rate":78,"display_name":"domin"},"score":0,"creation_date":1662475306,"post_id":73618085,"comment_id":130011020,"body_markdown":"Because jOOQ is our main &quot;ORM&quot; and we want the latest features. The transition from javax to jakarta is something that needs to be done eventually anyway.","body":"Because jOOQ is our main &quot;ORM&quot; and we want the latest features. The transition from javax to jakarta is something that needs to be done eventually anyway."}],"owner":{"account_id":4442498,"reputation":1202,"user_id":3616714,"accept_rate":78,"display_name":"domin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662468628,"creation_date":1662448558,"question_id":73618085,"body_markdown":"Trying to upgrade some javax to jakarta libraries, I ran into version conflicts. In particular, one of my libraries (jOOQ) that I **need** to update requires version `3.0.0` of `jakarta.xml.bind:jakarta.xml.bind-api` (which is in the jarkarta namespace), but the jackson xml libraries still require the old `2.3.3` (which is in the javax namespace).\r\n\r\nApart from not knowing how to resolve the situation, I got further confused by the following dependencyInsight report (generated with `:&lt;myproject&gt;:dependencyInsight --configuration compileClasspath --dependency jakarta.xml.bind:jakarta.xml.bind-api`):\r\n\r\n```\r\njakarta.xml.bind:jakarta.xml.bind-api:3.0.0\r\n\\--- org.jooq.pro-java-11:jooq:3.16.5\r\n     \\--- compileClasspath\r\n\r\njakarta.xml.bind:jakarta.xml.bind-api:2.3.3 -&gt; 3.0.0\r\n\\--- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.4\r\n     +--- org.glassfish.jersey.media:jersey-media-json-jackson:2.36 (requested com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.3)\r\n     |    +--- compileClasspath (requested org.glassfish.jersey.media:jersey-media-json-jackson)\r\n     |    \\--- org.glassfish.jersey:jersey-bom:2.36\r\n     |         \\--- compileClasspath\r\n     \\--- com.fasterxml.jackson:jackson-bom:2.13.4\r\n          +--- compileClasspath\r\n          +--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.4\r\n          |    +--- compileClasspath\r\n          |    \\--- com.fasterxml.jackson:jackson-bom:2.13.4 (*)\r\n          +--- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.4 (*)\r\n          +--- com.fasterxml.jackson.core:jackson-databind:2.13.4\r\n          |    +--- compileClasspath (requested com.fasterxml.jackson.core:jackson-databind)\r\n          |    +--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.4 (*)\r\n          |    +--- org.glassfish.jersey.media:jersey-media-json-jackson:2.36 (requested com.fasterxml.jackson.core:jackson-databind:2.13.3) (*)\r\n          |    +--- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.4 (*)\r\n          |    \\--- com.fasterxml.jackson:jackson-bom:2.13.4 (*)\r\n          +--- com.fasterxml.jackson.core:jackson-annotations:2.13.4\r\n          |    +--- compileClasspath (requested com.fasterxml.jackson.core:jackson-annotations)\r\n          |    +--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.4 (*)\r\n          |    +--- org.glassfish.jersey.media:jersey-media-json-jackson:2.36 (requested com.fasterxml.jackson.core:jackson-annotations:2.13.3) (*)\r\n          |    +--- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.4 (*)\r\n          |    +--- com.fasterxml.jackson.core:jackson-databind:2.13.4 (*)\r\n          |    \\--- com.fasterxml.jackson:jackson-bom:2.13.4 (*)\r\n          \\--- com.fasterxml.jackson.core:jackson-core:2.13.4\r\n               +--- compileClasspath (requested com.fasterxml.jackson.core:jackson-core)\r\n               +--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.4 (*)\r\n               +--- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.4 (*)\r\n               +--- com.fasterxml.jackson.core:jackson-databind:2.13.4 (*)\r\n               \\--- com.fasterxml.jackson:jackson-bom:2.13.4 (*)\r\n\r\n(*) - dependencies omitted (listed previously)\r\n\r\n```\r\nAs you can see, there are unexpected entries in the report:\r\n\r\n - `com.fasterxml.jackson:jackson-bom:2.13.4` seems to depend on itself (i.e. cycles).\r\n - Other libraries like `om.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.4` seem to depend on `com.fasterxml.jackson:jackson-bom:2.13.4` although I can&#39;t find that dependency when inspecting the POM file.\r\n\r\nCan someone explain why the dependency insight report is generated that way? And, ultimately, do you have any hints at how I can get the jackson xml stuff to work with jakarta xml bindings?","title":"Gradle: cycles in dependency insight report","body":"<p>Trying to upgrade some javax to jakarta libraries, I ran into version conflicts. In particular, one of my libraries (jOOQ) that I <strong>need</strong> to update requires version <code>3.0.0</code> of <code>jakarta.xml.bind:jakarta.xml.bind-api</code> (which is in the jarkarta namespace), but the jackson xml libraries still require the old <code>2.3.3</code> (which is in the javax namespace).</p>\n<p>Apart from not knowing how to resolve the situation, I got further confused by the following dependencyInsight report (generated with <code>:&lt;myproject&gt;:dependencyInsight --configuration compileClasspath --dependency jakarta.xml.bind:jakarta.xml.bind-api</code>):</p>\n<pre><code>jakarta.xml.bind:jakarta.xml.bind-api:3.0.0\n\\--- org.jooq.pro-java-11:jooq:3.16.5\n     \\--- compileClasspath\n\njakarta.xml.bind:jakarta.xml.bind-api:2.3.3 -&gt; 3.0.0\n\\--- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.4\n     +--- org.glassfish.jersey.media:jersey-media-json-jackson:2.36 (requested com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.3)\n     |    +--- compileClasspath (requested org.glassfish.jersey.media:jersey-media-json-jackson)\n     |    \\--- org.glassfish.jersey:jersey-bom:2.36\n     |         \\--- compileClasspath\n     \\--- com.fasterxml.jackson:jackson-bom:2.13.4\n          +--- compileClasspath\n          +--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.4\n          |    +--- compileClasspath\n          |    \\--- com.fasterxml.jackson:jackson-bom:2.13.4 (*)\n          +--- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.4 (*)\n          +--- com.fasterxml.jackson.core:jackson-databind:2.13.4\n          |    +--- compileClasspath (requested com.fasterxml.jackson.core:jackson-databind)\n          |    +--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.4 (*)\n          |    +--- org.glassfish.jersey.media:jersey-media-json-jackson:2.36 (requested com.fasterxml.jackson.core:jackson-databind:2.13.3) (*)\n          |    +--- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.4 (*)\n          |    \\--- com.fasterxml.jackson:jackson-bom:2.13.4 (*)\n          +--- com.fasterxml.jackson.core:jackson-annotations:2.13.4\n          |    +--- compileClasspath (requested com.fasterxml.jackson.core:jackson-annotations)\n          |    +--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.4 (*)\n          |    +--- org.glassfish.jersey.media:jersey-media-json-jackson:2.36 (requested com.fasterxml.jackson.core:jackson-annotations:2.13.3) (*)\n          |    +--- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.4 (*)\n          |    +--- com.fasterxml.jackson.core:jackson-databind:2.13.4 (*)\n          |    \\--- com.fasterxml.jackson:jackson-bom:2.13.4 (*)\n          \\--- com.fasterxml.jackson.core:jackson-core:2.13.4\n               +--- compileClasspath (requested com.fasterxml.jackson.core:jackson-core)\n               +--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.4 (*)\n               +--- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.13.4 (*)\n               +--- com.fasterxml.jackson.core:jackson-databind:2.13.4 (*)\n               \\--- com.fasterxml.jackson:jackson-bom:2.13.4 (*)\n\n(*) - dependencies omitted (listed previously)\n\n</code></pre>\n<p>As you can see, there are unexpected entries in the report:</p>\n<ul>\n<li><code>com.fasterxml.jackson:jackson-bom:2.13.4</code> seems to depend on itself (i.e. cycles).</li>\n<li>Other libraries like <code>om.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.4</code> seem to depend on <code>com.fasterxml.jackson:jackson-bom:2.13.4</code> although I can't find that dependency when inspecting the POM file.</li>\n</ul>\n<p>Can someone explain why the dependency insight report is generated that way? And, ultimately, do you have any hints at how I can get the jackson xml stuff to work with jakarta xml bindings?</p>\n"},{"tags":["java","html","datatables","thymeleaf","materialize"],"answers":[{"tags":[],"owner":{"account_id":7737193,"reputation":2293,"user_id":5858395,"display_name":"Sean Doherty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1582233409,"creation_date":1582233409,"answer_id":60328626,"question_id":60327892,"body_markdown":"If you can move the hidden input ABOVE the checkbox, you&#39;re good:\r\n\r\n    &lt;label&gt;\r\n       &lt;input type=&quot;hidden&quot; name=&quot;_list[0].val&quot; value=&quot;on&quot;&gt;&lt;!-- First is ok! --&gt;\r\n       &lt;input type=&quot;checkbox&quot; /&gt;&lt;!-- I still display --&gt;\r\n       &lt;span&gt;Red&lt;/span&gt;\r\n    &lt;/label&gt;\r\n\r\n[Codepen][1]\r\n\r\nJust to note, the markup is very strict here - as in each unique checkbox and span pairing must be wrapped in their own label. Any variation from this will break the component.\r\n\r\nhttps://materializecss.com/checkboxes.html\r\n\r\n\r\n\r\n  [1]: https://codepen.io/doughballs/pen/MWwjxaP","title":"Checkbox input using MaterializeCSS and Thymeleaf","body":"<p>If you can move the hidden input ABOVE the checkbox, you're good:</p>\n\n<pre><code>&lt;label&gt;\n   &lt;input type=\"hidden\" name=\"_list[0].val\" value=\"on\"&gt;&lt;!-- First is ok! --&gt;\n   &lt;input type=\"checkbox\" /&gt;&lt;!-- I still display --&gt;\n   &lt;span&gt;Red&lt;/span&gt;\n&lt;/label&gt;\n</code></pre>\n\n<p><a href=\"https://codepen.io/doughballs/pen/MWwjxaP\" rel=\"nofollow noreferrer\">Codepen</a></p>\n\n<p>Just to note, the markup is very strict here - as in each unique checkbox and span pairing must be wrapped in their own label. Any variation from this will break the component.</p>\n\n<p><a href=\"https://materializecss.com/checkboxes.html\" rel=\"nofollow noreferrer\">https://materializecss.com/checkboxes.html</a></p>\n"},{"tags":[],"owner":{"account_id":18985311,"reputation":1,"user_id":13855778,"display_name":"Eric Marshall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597171853,"creation_date":1597081631,"answer_id":63345399,"question_id":60327892,"body_markdown":"Using the accepted answer as a starting point (the key being that the order of the inputs matters), I managed to come up with a workaround that requires minimal js. Just needed to manually create the hidden field and checkbox and name them appropriately so Spring could find their respective values upon submit. The hidden field must be prefixed with &quot;_&quot; and the checkbox must have a numeric index at the end of the id. The values for each can be derived from the backing field using Thymeleaf expressions.\r\nFor example, if the backing object named &quot;myForm&quot; has a field named &quot;mySwitch&quot;, you can do the following:\r\n\r\n    &lt;label&gt;\r\n       &lt;input type=&quot;hidden&quot; name=&quot;_mySwitch&quot; th:value=&quot;${myForm.mySwitch} ? &#39;on&#39;&quot;&gt;\r\n       &lt;input type=&quot;checkbox&quot; id=&quot;mySwitch1&quot; name=&quot;mySwitch&quot; th:value=&quot;${myForm.mySwitch} ? &#39;true&#39;&quot; th:checked=&quot;${myForm.mySwitch} ? &#39;checked&#39;&quot;&gt;\r\n       Off\r\n       &lt;span class=&quot;lever&quot;&gt;&lt;/span&gt;\r\n       On\r\n    &lt;/label&gt;\r\n\r\nUnfortunately this still requires some js to set the values appropriately for submit. Using jQuery:\r\n\r\n    $(&#39;#mySwitch1&#39;).click(function(){\r\n       if ($(this).is(&quot;:checked&quot;)){\r\n          $(this).val(&#39;true&#39;);\r\n          $(&#39;#_mySwitch&#39;).val(&#39;on&#39;);\r\n       }else{\r\n          $(&#39;#_mySwitch&#39;).val(&#39;&#39;);\r\n       }\r\n    });\r\n\r\nThis will correctly read the current value from the Spring @ModelAttribute and set the appropriate state for the switch upon page load, as well as provide the correct value upon submit. Hope this helps someone.","title":"Checkbox input using MaterializeCSS and Thymeleaf","body":"<p>Using the accepted answer as a starting point (the key being that the order of the inputs matters), I managed to come up with a workaround that requires minimal js. Just needed to manually create the hidden field and checkbox and name them appropriately so Spring could find their respective values upon submit. The hidden field must be prefixed with &quot;_&quot; and the checkbox must have a numeric index at the end of the id. The values for each can be derived from the backing field using Thymeleaf expressions.\nFor example, if the backing object named &quot;myForm&quot; has a field named &quot;mySwitch&quot;, you can do the following:</p>\n<pre><code>&lt;label&gt;\n   &lt;input type=&quot;hidden&quot; name=&quot;_mySwitch&quot; th:value=&quot;${myForm.mySwitch} ? 'on'&quot;&gt;\n   &lt;input type=&quot;checkbox&quot; id=&quot;mySwitch1&quot; name=&quot;mySwitch&quot; th:value=&quot;${myForm.mySwitch} ? 'true'&quot; th:checked=&quot;${myForm.mySwitch} ? 'checked'&quot;&gt;\n   Off\n   &lt;span class=&quot;lever&quot;&gt;&lt;/span&gt;\n   On\n&lt;/label&gt;\n</code></pre>\n<p>Unfortunately this still requires some js to set the values appropriately for submit. Using jQuery:</p>\n<pre><code>$('#mySwitch1').click(function(){\n   if ($(this).is(&quot;:checked&quot;)){\n      $(this).val('true');\n      $('#_mySwitch').val('on');\n   }else{\n      $('#_mySwitch').val('');\n   }\n});\n</code></pre>\n<p>This will correctly read the current value from the Spring @ModelAttribute and set the appropriate state for the switch upon page load, as well as provide the correct value upon submit. Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":4629694,"reputation":13,"user_id":3752560,"display_name":"encelado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662468313,"creation_date":1662468313,"answer_id":73622304,"question_id":60327892,"body_markdown":"As already pointed out, the problem is the order in which the input elements are rendered. As of *thymeleaf-spring 3.0.10* you can just set the very self-explanatory property `spring.thymeleaf.render-hidden-markers-before-checkboxes=true` either in the *application.properties* file or, at runtime, in the *SpringTemplateEngine* configuration avoiding any client-side hacks.","title":"Checkbox input using MaterializeCSS and Thymeleaf","body":"<p>As already pointed out, the problem is the order in which the input elements are rendered. As of <em>thymeleaf-spring 3.0.10</em> you can just set the very self-explanatory property <code>spring.thymeleaf.render-hidden-markers-before-checkboxes=true</code> either in the <em>application.properties</em> file or, at runtime, in the <em>SpringTemplateEngine</em> configuration avoiding any client-side hacks.</p>\n"}],"owner":{"account_id":16460289,"reputation":33,"user_id":11891491,"display_name":"micha-b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60328626,"answer_count":3,"score":0,"last_activity_date":1662468313,"creation_date":1582229809,"question_id":60327892,"body_markdown":"Hey there so I am using Spring Boot and Spring Web with Thymeleaf. For the frontend I use MaterializeCSS and datatables with [this][1] styling CSS/JS. \r\n\r\nI want to display a table where the user can select datasets that are parsed in there with Thymeleaf iteration. I tried doing it with a form of a CheckBoxWrapper that contains a list of CheckBox elements. The CheckBox Elements themselves contain a single boolean value.\r\nYou can find my full code at the end of this question.\r\n\r\nBut if I try to do it like this (I think?) Thymeleaf generates another hidden input field directly after the checkbox. The HTML in the browser then looks like \r\n[this][2]\r\nwhich results in the checkbox not being displayed by the browser. If I (re-)move the generated hidden input outside the label the checkbox gets displayed correctly.\r\n[See the difference on this picture][3] \r\n\r\nIs there a way to get the checkbox displayed correctly while still being able to get the checkbox input to the server? (with Thymeleaf)\r\n\r\nIf you need some additional information regarding anything problem related please let me know.\r\n\r\n\r\nCode - HTML\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n          lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;This is some really important detail&lt;/title&gt;\r\n        &lt;link href=&quot;https://fonts.googleapis.com/icon?family=Material+Icons&quot; rel=&quot;stylesheet&quot; /&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/materialize.css}&quot; /&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/datatables.css}&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;div id=&quot;admin&quot; class=&quot;col s10 offset-s1&quot;&gt;\r\n            &lt;div class=&quot;card material-table&quot;&gt;\r\n                &lt;div class=&quot;table-header&quot;&gt;\r\n                    &lt;span class=&quot;table-title&quot;&gt;Table Headline&lt;/span&gt;\r\n                    &lt;div class=&quot;actions&quot;&gt;\r\n                        &lt;a href=&quot;#&quot; class=&quot;search-toggle waves-effect btn-flat nopadding&quot;&gt;&lt;i class=&quot;material-icons&quot;&gt;search&lt;/i&gt;&lt;/a&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;form action=&quot;/submit&quot; th:object=&quot;${checkBoxWrapper}&quot;&gt;\r\n                    &lt;table id=&quot;datatable&quot;&gt;\r\n                        &lt;thead&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;th&gt;Check&lt;/th&gt;\r\n                            &lt;th&gt;Name&lt;/th&gt;\r\n                        &lt;/tr&gt;\r\n                        &lt;/thead&gt;\r\n                        &lt;tbody&gt;\r\n                        &lt;th:block th:each=&quot;element,status : ${persons}&quot;&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;td&gt;\r\n                                    &lt;div&gt;\r\n                                        &lt;label&gt;\r\n                                            &lt;input type=&quot;checkbox&quot; th:id=&quot;&#39;checkbox&#39;+${status.index}&quot;\r\n                                                   th:field=&quot;*{list[__${status.index}__].val}&quot;/&gt;\r\n                                            &lt;span&gt;Desc&lt;/span&gt;\r\n                                        &lt;/label&gt;\r\n                                    &lt;/div&gt;\r\n                                &lt;/td&gt;\r\n                                &lt;td&gt;\r\n                                    &lt;th:block th:text=&quot;${element.name}&quot;&gt; -&lt;/th:block&gt;\r\n                                &lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                        &lt;/th:block&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;script th:src=&quot;@{/webjars/datatables/1.10.20/js/jquery.dataTables.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/webjars/jquery/3.4.1/jquery.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/script/datatables.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/script/materialize.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nCode - Controller\r\n\r\n    @Controller\r\n    public class MyController {\r\n\r\n        @GetMapping(&quot;/&quot;)\r\n        public String home(Model model){\r\n\r\n            List&lt;Person&gt; pList = new ArrayList&lt;&gt;();\r\n            pList.add(new Person(&quot;Mick&quot;));\r\n            pList.add(new Person(&quot;Kevin&quot;));\r\n            pList.add(new Person(&quot;Joe&quot;));\r\n            model.addAttribute(&quot;persons&quot;, pList);\r\n\r\n            List&lt;CheckBox&gt; cList = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; pList.size(); i++) {\r\n                cList.add(new CheckBox(false));\r\n            }\r\n            CheckBoxWrapper checkBoxWrapper = new CheckBoxWrapper(cList);\r\n            model.addAttribute(&quot;checkBoxWrapper&quot;, checkBoxWrapper);\r\n\r\n            return &quot;/home&quot;;\r\n        }\r\n\r\n        @PostMapping(&quot;/submit&quot;)\r\n        @ResponseBody\r\n        public String submit(@ModelAttribute CheckBoxWrapper checkBoxWrapper){\r\n\r\n            return &quot;success&quot;;\r\n        }\r\n    }\r\n\r\nCode - CheckBox\r\n\r\n    public class CheckBox {\r\n\r\n        private boolean val;\r\n\r\n        //Getter, Setter, Constructor\r\n\r\n    }\r\n\r\nCode - CheckBoxWrapper\r\n\r\n    public class CheckBoxWrapper {\r\n    \r\n        List&lt;CheckBox&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n        //Getter, Setter, Constructor\r\n\r\n    }\r\n    \r\n    \r\nCode - Person\r\n\r\n    public class Person{\r\n    \r\n        String name;\r\n    \r\n        //Getter, Setter, Constructor\r\n\r\n    }\r\n\r\n\r\n  [1]: https://codepen.io/azamatms/pen/ZGwOMM/\r\n  [2]: https://i.stack.imgur.com/dS0ER.png\r\n  [3]: https://i.stack.imgur.com/HTY7r.png","title":"Checkbox input using MaterializeCSS and Thymeleaf","body":"<p>Hey there so I am using Spring Boot and Spring Web with Thymeleaf. For the frontend I use MaterializeCSS and datatables with <a href=\"https://codepen.io/azamatms/pen/ZGwOMM/\" rel=\"nofollow noreferrer\">this</a> styling CSS/JS. </p>\n\n<p>I want to display a table where the user can select datasets that are parsed in there with Thymeleaf iteration. I tried doing it with a form of a CheckBoxWrapper that contains a list of CheckBox elements. The CheckBox Elements themselves contain a single boolean value.\nYou can find my full code at the end of this question.</p>\n\n<p>But if I try to do it like this (I think?) Thymeleaf generates another hidden input field directly after the checkbox. The HTML in the browser then looks like \n<a href=\"https://i.stack.imgur.com/dS0ER.png\" rel=\"nofollow noreferrer\">this</a>\nwhich results in the checkbox not being displayed by the browser. If I (re-)move the generated hidden input outside the label the checkbox gets displayed correctly.\n<a href=\"https://i.stack.imgur.com/HTY7r.png\" rel=\"nofollow noreferrer\">See the difference on this picture</a> </p>\n\n<p>Is there a way to get the checkbox displayed correctly while still being able to get the checkbox input to the server? (with Thymeleaf)</p>\n\n<p>If you need some additional information regarding anything problem related please let me know.</p>\n\n<p>Code - HTML</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n      xmlns:th=\"http://www.thymeleaf.org\"\n      lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;This is some really important detail&lt;/title&gt;\n    &lt;link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\" /&gt;\n    &lt;link rel=\"stylesheet\" th:href=\"@{/css/materialize.css}\" /&gt;\n    &lt;link rel=\"stylesheet\" th:href=\"@{/css/datatables.css}\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div class=\"container\"&gt;\n    &lt;div id=\"admin\" class=\"col s10 offset-s1\"&gt;\n        &lt;div class=\"card material-table\"&gt;\n            &lt;div class=\"table-header\"&gt;\n                &lt;span class=\"table-title\"&gt;Table Headline&lt;/span&gt;\n                &lt;div class=\"actions\"&gt;\n                    &lt;a href=\"#\" class=\"search-toggle waves-effect btn-flat nopadding\"&gt;&lt;i class=\"material-icons\"&gt;search&lt;/i&gt;&lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;form action=\"/submit\" th:object=\"${checkBoxWrapper}\"&gt;\n                &lt;table id=\"datatable\"&gt;\n                    &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;Check&lt;/th&gt;\n                        &lt;th&gt;Name&lt;/th&gt;\n                    &lt;/tr&gt;\n                    &lt;/thead&gt;\n                    &lt;tbody&gt;\n                    &lt;th:block th:each=\"element,status : ${persons}\"&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;\n                                &lt;div&gt;\n                                    &lt;label&gt;\n                                        &lt;input type=\"checkbox\" th:id=\"'checkbox'+${status.index}\"\n                                               th:field=\"*{list[__${status.index}__].val}\"/&gt;\n                                        &lt;span&gt;Desc&lt;/span&gt;\n                                    &lt;/label&gt;\n                                &lt;/div&gt;\n                            &lt;/td&gt;\n                            &lt;td&gt;\n                                &lt;th:block th:text=\"${element.name}\"&gt; -&lt;/th:block&gt;\n                            &lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/th:block&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;script th:src=\"@{/webjars/datatables/1.10.20/js/jquery.dataTables.js}\"&gt;&lt;/script&gt;\n&lt;script th:src=\"@{/webjars/jquery/3.4.1/jquery.js}\"&gt;&lt;/script&gt;\n&lt;script th:src=\"@{/script/datatables.js}\"&gt;&lt;/script&gt;\n&lt;script th:src=\"@{/script/materialize.js}\"&gt;&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Code - Controller</p>\n\n<pre><code>@Controller\npublic class MyController {\n\n    @GetMapping(\"/\")\n    public String home(Model model){\n\n        List&lt;Person&gt; pList = new ArrayList&lt;&gt;();\n        pList.add(new Person(\"Mick\"));\n        pList.add(new Person(\"Kevin\"));\n        pList.add(new Person(\"Joe\"));\n        model.addAttribute(\"persons\", pList);\n\n        List&lt;CheckBox&gt; cList = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; pList.size(); i++) {\n            cList.add(new CheckBox(false));\n        }\n        CheckBoxWrapper checkBoxWrapper = new CheckBoxWrapper(cList);\n        model.addAttribute(\"checkBoxWrapper\", checkBoxWrapper);\n\n        return \"/home\";\n    }\n\n    @PostMapping(\"/submit\")\n    @ResponseBody\n    public String submit(@ModelAttribute CheckBoxWrapper checkBoxWrapper){\n\n        return \"success\";\n    }\n}\n</code></pre>\n\n<p>Code - CheckBox</p>\n\n<pre><code>public class CheckBox {\n\n    private boolean val;\n\n    //Getter, Setter, Constructor\n\n}\n</code></pre>\n\n<p>Code - CheckBoxWrapper</p>\n\n<pre><code>public class CheckBoxWrapper {\n\n    List&lt;CheckBox&gt; list = new ArrayList&lt;&gt;();\n\n    //Getter, Setter, Constructor\n\n}\n</code></pre>\n\n<p>Code - Person</p>\n\n<pre><code>public class Person{\n\n    String name;\n\n    //Getter, Setter, Constructor\n\n}\n</code></pre>\n"},{"tags":["java","arraylist","2d","transpose","swap"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1662469407,"post_id":73621983,"comment_id":130008454,"body_markdown":"I would avoid using `Collections#swap` entirely (since you&#39;re involving different lists), and do the swapping manually yourself. To do so, you&#39;ll need to store the value from the first list in a temporary variable, then overwrite the first in-list value with the one from the second list, and then finally write your temporary variable into the second list. This can be done in either direction, you must simply pick one.","body":"I would avoid using <code>Collections#swap</code> entirely (since you&#39;re involving different lists), and do the swapping manually yourself. To do so, you&#39;ll need to store the value from the first list in a temporary variable, then overwrite the first in-list value with the one from the second list, and then finally write your temporary variable into the second list. This can be done in either direction, you must simply pick one."},{"owner":{"account_id":26259935,"reputation":11,"user_id":19931424,"display_name":"mahe59ab"},"score":1,"creation_date":1662547001,"post_id":73621983,"comment_id":130029226,"body_markdown":"thanks , i have used temp variable and updated the arraylist values","body":"thanks , i have used temp variable and updated the arraylist values"},{"owner":{"account_id":9712461,"reputation":311,"user_id":7203857,"accept_rate":100,"display_name":"HK123"},"score":0,"creation_date":1701949077,"post_id":73621983,"comment_id":136839361,"body_markdown":"@mahe59ab agree with using a temp variable to swap. But, how you have done using collections.swap() because when you have inbuilt function why not use it? I tried same as your question here but not working, instead a exception.","body":"@mahe59ab agree with using a temp variable to swap. But, how you have done using collections.swap() because when you have inbuilt function why not use it? I tried same as your question here but not working, instead a exception."}],"owner":{"account_id":26259935,"reputation":11,"user_id":19931424,"display_name":"mahe59ab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662468209,"creation_date":1662466942,"question_id":73621983,"body_markdown":"please find the below code for 2D array list swap, have used swap only for normal array list, please let me know how to do it using 2D array list\r\n     \r\n       int n=A.size();\r\n       int m=A.get(0).size();\r\n       for(int i=0;i&lt;n;i++)\r\n        { \r\n          for(int j=0;j&lt;m;j++)\r\n            {  \r\n             //i have tried to swap using collections.swap            \r\n              Collections.swap(A,A.get(i).get(j),A.get(j).get(i));\r\n            }\r\n       }\r\n\r\n","title":"transpose 2D Array List using swap or suggest me a way to swap without using additional Array list","body":"<p>please find the below code for 2D array list swap, have used swap only for normal array list, please let me know how to do it using 2D array list</p>\n<pre><code>   int n=A.size();\n   int m=A.get(0).size();\n   for(int i=0;i&lt;n;i++)\n    { \n      for(int j=0;j&lt;m;j++)\n        {  \n         //i have tried to swap using collections.swap            \n          Collections.swap(A,A.get(i).get(j),A.get(j).get(i));\n        }\n   }\n</code></pre>\n"},{"tags":["java","arraylist","groovy"],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662468141,"creation_date":1662468141,"answer_id":73622260,"question_id":73615801,"body_markdown":"So given your example holder class (with an annotation to make it print out nicely):\r\n\r\n```\r\n@groovy.transform.ToString\r\nclass SomeData {\r\n    def name\r\n    def type\r\n    def minVal\r\n}\r\n```\r\n\r\nYou can create your example input like so:\r\n\r\n```\r\ndef input = [\r\n    new SomeData(name: &#39;name1&#39;, type: &#39;int&#39;, minVal: 8),\r\n    new SomeData(name: &#39;name2&#39;, type: &#39;int&#39;, minVal: 11),\r\n    new SomeData(name: &#39;name3&#39;, type: &#39;int&#39;, minVal: 8),\r\n    new SomeData(name: &#39;name4&#39;, type: &#39;uint32&#39;, minVal: 8),\r\n    new SomeData(name: &#39;name4&#39;, type: &#39;double&#39;, minVal: 155),\r\n    new SomeData(name: &#39;name4&#39;, type: &#39;float&#39;, minVal: 48),\r\n    new SomeData(name: &#39;name5&#39;, type: &#39;long&#39;, minVal: 2855),\r\n]\r\n```\r\n\r\nThen _assuming the names are always in order`, to get the answer you say you want, you can do this:\r\n\r\n```\r\ndef result = input.groupBy { it.name }.collect { name, data -&gt;\r\n    if (data.size() &gt; 1) {\r\n        new SomeData(name: name, type: data.type, minVal: data.minVal)\r\n    } else {\r\n        new SomeData(name: name, type: data.type.head(), minVal: data.minVal.head())\r\n    }\r\n}\r\n```\r\n\r\nAs can be seen by printing them out:\r\n\r\n```\r\nresult.each {\r\n    println it\r\n}\r\n```\r\n\r\noutput:\r\n\r\n```\r\nSomeData(name1, int, 8)\r\nSomeData(name2, int, 11)\r\nSomeData(name3, int, 8)\r\nSomeData(name4, [uint32, double, float], [8, 155, 48])\r\nSomeData(name5, long, 2855)\r\n```\r\n\r\nIt *may* be simpler for further processing to just keep single item results in a list (as with name4)\r\n\r\nIn that case, you can simplify to\r\n\r\n```\r\ndef result = input.groupBy { it.name }.collect { name, data -&gt;\r\n    new SomeData(name: name, type: data.type, minVal: data.minVal)\r\n}\r\n```\r\n\r\nWhich gives us:\r\n\r\n```\r\nSomeData(name1, [int], [8])\r\nSomeData(name2, [int], [11])\r\nSomeData(name3, [int], [8])\r\nSomeData(name4, [uint32, double, float], [8, 155, 48])\r\nSomeData(name5, [long], [2855])\r\n```","title":"Groovy iterate in arraylist, find indexes with same fields","body":"<p>So given your example holder class (with an annotation to make it print out nicely):</p>\n<pre><code>@groovy.transform.ToString\nclass SomeData {\n    def name\n    def type\n    def minVal\n}\n</code></pre>\n<p>You can create your example input like so:</p>\n<pre><code>def input = [\n    new SomeData(name: 'name1', type: 'int', minVal: 8),\n    new SomeData(name: 'name2', type: 'int', minVal: 11),\n    new SomeData(name: 'name3', type: 'int', minVal: 8),\n    new SomeData(name: 'name4', type: 'uint32', minVal: 8),\n    new SomeData(name: 'name4', type: 'double', minVal: 155),\n    new SomeData(name: 'name4', type: 'float', minVal: 48),\n    new SomeData(name: 'name5', type: 'long', minVal: 2855),\n]\n</code></pre>\n<p>Then _assuming the names are always in order`, to get the answer you say you want, you can do this:</p>\n<pre><code>def result = input.groupBy { it.name }.collect { name, data -&gt;\n    if (data.size() &gt; 1) {\n        new SomeData(name: name, type: data.type, minVal: data.minVal)\n    } else {\n        new SomeData(name: name, type: data.type.head(), minVal: data.minVal.head())\n    }\n}\n</code></pre>\n<p>As can be seen by printing them out:</p>\n<pre><code>result.each {\n    println it\n}\n</code></pre>\n<p>output:</p>\n<pre><code>SomeData(name1, int, 8)\nSomeData(name2, int, 11)\nSomeData(name3, int, 8)\nSomeData(name4, [uint32, double, float], [8, 155, 48])\nSomeData(name5, long, 2855)\n</code></pre>\n<p>It <em>may</em> be simpler for further processing to just keep single item results in a list (as with name4)</p>\n<p>In that case, you can simplify to</p>\n<pre><code>def result = input.groupBy { it.name }.collect { name, data -&gt;\n    new SomeData(name: name, type: data.type, minVal: data.minVal)\n}\n</code></pre>\n<p>Which gives us:</p>\n<pre><code>SomeData(name1, [int], [8])\nSomeData(name2, [int], [11])\nSomeData(name3, [int], [8])\nSomeData(name4, [uint32, double, float], [8, 155, 48])\nSomeData(name5, [long], [2855])\n</code></pre>\n"}],"owner":{"account_id":26254930,"reputation":3,"user_id":19927106,"display_name":"seplo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73622260,"answer_count":1,"score":0,"last_activity_date":1662468141,"creation_date":1662426436,"question_id":73615801,"body_markdown":"\r\nI have a class defined like this:\r\n\r\n    class someData{\r\n    def name\r\n    def type\r\n    def minVal}\r\n\r\nI&#39;m reading all this related data from an excel file to an arraylist by doing \r\n\r\n    def dataHolder = new ArrayList()\r\n\r\n    dataHolder.add(new someData(\r\n    name: &quot;&quot;,\r\n    type:&quot;&quot;,\r\n    minVal:&quot;&quot;\r\n    ))\r\n&quot;&quot; lines are actually filled with datas split by &quot;,&quot; from my excel file.\r\n\r\nNow let&#39;s say I have a ArrayList like this in the end: \r\n\r\n    dataHolder[0]--&gt; name: name1, type:int, minVal:8\r\n    dataHolder[1]--&gt; name: name2, type:int, minVal:11\r\n    dataHolder[2]--&gt; name: name3, type:int, minVal:8\r\n    dataHolder[3]--&gt; name: name4, type:uint32, minVal:8\r\n    dataHolder[4]--&gt; name: name4, type:double, minVal:155\r\n    dataHolder[5]--&gt; name: name4, type:float, minVal:48\r\n    dataHolder[6]--&gt; name: name5, type:long, minVal:2855\r\n\r\nWhat I want to do is iterate through this ArrayList, if name at index [i] is different than index [i+1] add this one to another ArrayList(with its name,type &amp; minVal). If name remains same add it to my new ArrayList&#39;s next index but fill its fields too. \r\n\r\nTo be more clear, I want to have something like this in the end:\r\n\r\n    newArrList[0]--&gt; name: name1, type:int, minVal:8\r\n    newArrList[1]--&gt; name: name2, type:int, minVal:11\r\n    newArrList[2]--&gt; name: name3, type:int, minVal:8\r\n    newArrList[3]--&gt; name: name4, type:uint32,double,float minVal:8,155,48\r\n    newArrList[4]--&gt; name: name5, type:long, minVal:2855\r\n\r\n\r\nI cannot change the code too much but at most I can change the class to \r\n\r\n    class someData{\r\n    def name = new ArrayList()\r\n    def type = new ArrayList()\r\n    def minVal = new ArrayList()\r\n    }\r\n\r\nAll help is appreciated. ","title":"Groovy iterate in arraylist, find indexes with same fields","body":"<p>I have a class defined like this:</p>\n<pre><code>class someData{\ndef name\ndef type\ndef minVal}\n</code></pre>\n<p>I'm reading all this related data from an excel file to an arraylist by doing</p>\n<pre><code>def dataHolder = new ArrayList()\n\ndataHolder.add(new someData(\nname: &quot;&quot;,\ntype:&quot;&quot;,\nminVal:&quot;&quot;\n))\n</code></pre>\n<p>&quot;&quot; lines are actually filled with datas split by &quot;,&quot; from my excel file.</p>\n<p>Now let's say I have a ArrayList like this in the end:</p>\n<pre><code>dataHolder[0]--&gt; name: name1, type:int, minVal:8\ndataHolder[1]--&gt; name: name2, type:int, minVal:11\ndataHolder[2]--&gt; name: name3, type:int, minVal:8\ndataHolder[3]--&gt; name: name4, type:uint32, minVal:8\ndataHolder[4]--&gt; name: name4, type:double, minVal:155\ndataHolder[5]--&gt; name: name4, type:float, minVal:48\ndataHolder[6]--&gt; name: name5, type:long, minVal:2855\n</code></pre>\n<p>What I want to do is iterate through this ArrayList, if name at index [i] is different than index [i+1] add this one to another ArrayList(with its name,type &amp; minVal). If name remains same add it to my new ArrayList's next index but fill its fields too.</p>\n<p>To be more clear, I want to have something like this in the end:</p>\n<pre><code>newArrList[0]--&gt; name: name1, type:int, minVal:8\nnewArrList[1]--&gt; name: name2, type:int, minVal:11\nnewArrList[2]--&gt; name: name3, type:int, minVal:8\nnewArrList[3]--&gt; name: name4, type:uint32,double,float minVal:8,155,48\nnewArrList[4]--&gt; name: name5, type:long, minVal:2855\n</code></pre>\n<p>I cannot change the code too much but at most I can change the class to</p>\n<pre><code>class someData{\ndef name = new ArrayList()\ndef type = new ArrayList()\ndef minVal = new ArrayList()\n}\n</code></pre>\n<p>All help is appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1662401090,"post_id":73613097,"comment_id":129992897,"body_markdown":"Inner classes have an implicit constructor argument, the outer class instance. This doesn’t work with Serialization the way you tried. Since you’re not using the outer instance, you could convert them to nested classes (declare `public static class …`).","body":"Inner classes have an implicit constructor argument, the outer class instance. This doesn’t work with Serialization the way you tried. Since you’re not using the outer instance, you could convert them to nested classes (declare <code>public static class …</code>)."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1662401443,"post_id":73613097,"comment_id":129992992,"body_markdown":"@Holger Post answer.","body":"@Holger Post answer."},{"owner":{"display_name":"user19922779"},"score":0,"creation_date":1662404683,"post_id":73613097,"comment_id":129993779,"body_markdown":"@Holger, so there is no way to make this code work without converting in nested class?","body":"@Holger, so there is no way to make this code work without converting in nested class?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662405083,"post_id":73613097,"comment_id":129993868,"body_markdown":"Your code seems to be just an example. I don’t know why these classes are inner classes (they’re not using the outer instance). If the serialization worked, it hadn’t restored the fields of the non-serializable classes, including the outer instance reference, so these objects would be broken.","body":"Your code seems to be just an example. I don’t know why these classes are inner classes (they’re not using the outer instance). If the serialization worked, it hadn’t restored the fields of the non-serializable classes, including the outer instance reference, so these objects would be broken."},{"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"score":0,"creation_date":1662408217,"post_id":73613097,"comment_id":129994581,"body_markdown":"I&#39;m running your code through a debugger right now. It&#39;s looking for a constructor for 2 fields: `name`, as well as an instance of the containing class `Solution`. Now I&#39;ll move on to try fixing it.","body":"I&#39;m running your code through a debugger right now. It&#39;s looking for a constructor for 2 fields: <code>name</code>, as well as an instance of the containing class <code>Solution</code>. Now I&#39;ll move on to try fixing it."}],"answers":[{"tags":[],"owner":{"account_id":7809847,"reputation":1,"user_id":5906402,"display_name":"saumm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662401837,"creation_date":1662401837,"answer_id":73613330,"question_id":73613097,"body_markdown":"Default constructor for parent classes are not required. Making class A as serializable it will work. You may also remove the serialization from class C.\r\n\r\n    public class Solution implements Serializable {\r\n    public class A implements Serializable{\r\n      String name = &quot;A&quot;;\r\n      public A(String name) {\r\n        this.name += name;\r\n      }\r\n      public A() {}\r\n    }\r\n    \r\n    public class B extends A {\r\n      String name = &quot;B&quot;;\r\n      public B(String name) {\r\n        super(name);\r\n        this.name += name;\r\n      }\r\n      public B() {}\r\n    }\r\n\r\n    public class C extends B {\r\n       String name;\r\n       public C(String name) {\r\n        super(name);\r\n        this.name = name;\r\n       }\r\n    }\r\n}","title":"Serialization of inner class (Java)","body":"<p>Default constructor for parent classes are not required. Making class A as serializable it will work. You may also remove the serialization from class C.</p>\n<pre><code>public class Solution implements Serializable {\npublic class A implements Serializable{\n  String name = &quot;A&quot;;\n  public A(String name) {\n    this.name += name;\n  }\n  public A() {}\n}\n\npublic class B extends A {\n  String name = &quot;B&quot;;\n  public B(String name) {\n    super(name);\n    this.name += name;\n  }\n  public B() {}\n}\n\npublic class C extends B {\n   String name;\n   public C(String name) {\n    super(name);\n    this.name = name;\n   }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662467950,"creation_date":1662408648,"answer_id":73614244,"question_id":73613097,"body_markdown":"What happens in your case is that the deserialization code is eventually going to construct an instance of `ObjectStreamClass` for your class `Solution.C`. In the constructor of this class, it tries to find a constructor of the class to deserialize that is suitable. In your case, it will call `ReflectionFactory#newConstructorForSerialization`. Here&#39;s what the documentation of this method says:\r\n\r\n\r\n&gt; Returns a constructor that allocates an instance of cl and that then initializes the instance by calling the no-arg constructor of its first non-serializable superclass. This is specified in the Serialization Specification, section 3.1, in step 11 of the deserialization process. If cl is not serializable, returns cl&#39;s no-arg constructor. If no accessible constructor is found, or if the class hierarchy is somehow malformed (e.g., a serializable class has no superclass), null is returned.\r\n\r\nYour first non-serializable superclass is B, however B has no no-arg constructor because all its constructors have a synthetic parameter of type `Solution`. Thus, no constructor is found and deserialization fails. When you make `B` and `A` serializable, it works because `newConstructorForSerialization` will go up to `Object` (see loop below) and use its no-arg constructor.\r\n\r\n\r\n    public final Constructor&lt;?&gt; newConstructorForSerialization(Class&lt;?&gt; cl) {\r\n        Class&lt;?&gt; initCl = cl;\r\n        while (Serializable.class.isAssignableFrom(initCl)) {\r\n            Class&lt;?&gt; prev = initCl;\r\n            if ((initCl = initCl.getSuperclass()) == null ||\r\n                (!disableSerialConstructorChecks &amp;&amp; !superHasAccessibleConstructor(prev))) {\r\n                return null;\r\n            }\r\n        }\r\n        Constructor&lt;?&gt; constructorToCall;\r\n        try {\r\n            constructorToCall = initCl.getDeclaredConstructor();\r\n            int mods = constructorToCall.getModifiers();\r\n            if ((mods &amp; Modifier.PRIVATE) != 0 ||\r\n                    ((mods &amp; (Modifier.PUBLIC | Modifier.PROTECTED)) == 0 &amp;&amp;\r\n                            !packageEquals(cl, initCl))) {\r\n                return null;\r\n            }\r\n        } catch (NoSuchMethodException ex) {\r\n            return null;\r\n        }\r\n        return generateConstructor(cl, constructorToCall);\r\n    }\r\n\r\n\r\n\r\nCan you just avoid doing this altogether? Reading the answers to [this question](https://stackoverflow.com/questions/10797754/serializing-a-inner-class-instance), it seems strongly discouraged to serialized inner instances like you&#39;re doing now (full explanation in the link). You&#39;re giving yourself a hard time trying to do this, but at least now we know why this was failing.","title":"Serialization of inner class (Java)","body":"<p>What happens in your case is that the deserialization code is eventually going to construct an instance of <code>ObjectStreamClass</code> for your class <code>Solution.C</code>. In the constructor of this class, it tries to find a constructor of the class to deserialize that is suitable. In your case, it will call <code>ReflectionFactory#newConstructorForSerialization</code>. Here's what the documentation of this method says:</p>\n<blockquote>\n<p>Returns a constructor that allocates an instance of cl and that then initializes the instance by calling the no-arg constructor of its first non-serializable superclass. This is specified in the Serialization Specification, section 3.1, in step 11 of the deserialization process. If cl is not serializable, returns cl's no-arg constructor. If no accessible constructor is found, or if the class hierarchy is somehow malformed (e.g., a serializable class has no superclass), null is returned.</p>\n</blockquote>\n<p>Your first non-serializable superclass is B, however B has no no-arg constructor because all its constructors have a synthetic parameter of type <code>Solution</code>. Thus, no constructor is found and deserialization fails. When you make <code>B</code> and <code>A</code> serializable, it works because <code>newConstructorForSerialization</code> will go up to <code>Object</code> (see loop below) and use its no-arg constructor.</p>\n<pre><code>public final Constructor&lt;?&gt; newConstructorForSerialization(Class&lt;?&gt; cl) {\n    Class&lt;?&gt; initCl = cl;\n    while (Serializable.class.isAssignableFrom(initCl)) {\n        Class&lt;?&gt; prev = initCl;\n        if ((initCl = initCl.getSuperclass()) == null ||\n            (!disableSerialConstructorChecks &amp;&amp; !superHasAccessibleConstructor(prev))) {\n            return null;\n        }\n    }\n    Constructor&lt;?&gt; constructorToCall;\n    try {\n        constructorToCall = initCl.getDeclaredConstructor();\n        int mods = constructorToCall.getModifiers();\n        if ((mods &amp; Modifier.PRIVATE) != 0 ||\n                ((mods &amp; (Modifier.PUBLIC | Modifier.PROTECTED)) == 0 &amp;&amp;\n                        !packageEquals(cl, initCl))) {\n            return null;\n        }\n    } catch (NoSuchMethodException ex) {\n        return null;\n    }\n    return generateConstructor(cl, constructorToCall);\n}\n</code></pre>\n<p>Can you just avoid doing this altogether? Reading the answers to <a href=\"https://stackoverflow.com/questions/10797754/serializing-a-inner-class-instance\">this question</a>, it seems strongly discouraged to serialized inner instances like you're doing now (full explanation in the link). You're giving yourself a hard time trying to do this, but at least now we know why this was failing.</p>\n"}],"owner":{"display_name":"user19922779"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73614244,"answer_count":2,"score":0,"last_activity_date":1662467950,"creation_date":1662400297,"question_id":73613097,"body_markdown":"I have class Solution, that contains inner class A, class B, class C.\r\nClass B extends class A, class C extends class B.\r\n\r\nI want class C to be Serializable, so I implements Serializable in class C and in class Solution (class C is inner class of class Solution).\r\n\r\nBecause class C extends class B and class B extends class A, I create a no-arg constructor in class B and class A (I don&#39;t want them implements Serializable).\r\n\r\nSo the following code:\r\n\r\n    public class Solution implements Serializable {\r\n        public class A {\r\n          String name = &quot;A&quot;;\r\n          public A(String name) {\r\n            this.name += name;\r\n          }\r\n          public A() {}\r\n        }\r\n        \r\n        public class B extends A {\r\n          String name = &quot;B&quot;;\r\n          public B(String name) {\r\n            super(name);\r\n            this.name += name;\r\n          }\r\n          public B() {}\r\n        }\r\n\r\n        public class C extends B implements Serializable {\r\n           String name;\r\n           public C(String name) {\r\n            super(name);\r\n            this.name = name;\r\n           }\r\n        }\r\n    }\r\n    public class Test {\r\n      public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n        Solution.C c = new Solution().new C(&quot;C&quot;);\r\n        System.out.println(c.name);\r\n\r\n        System.out.println(&quot;serialization&quot;);\r\n        ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;D:\\\\1.txt&quot;));\r\n        oos.writeObject(c);\r\n        oos.close();\r\n\r\n        System.out.println(&quot;deserialization&quot;);\r\n        ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;D:\\\\1.txt&quot;));\r\n        Solution.C c1 = (Solution.C) ois.readObject();\r\n        ois.close();\r\n        System.out.println(c1.name);\r\n      }\r\n    }\r\nthrows the following exception:\r\n\r\n    C\r\n    serialization\r\n    deserialization\r\n    Exception in thread &quot;main&quot; java.io.InvalidClassException: Test3.Solution$C; no valid constructor","title":"Serialization of inner class (Java)","body":"<p>I have class Solution, that contains inner class A, class B, class C.\nClass B extends class A, class C extends class B.</p>\n<p>I want class C to be Serializable, so I implements Serializable in class C and in class Solution (class C is inner class of class Solution).</p>\n<p>Because class C extends class B and class B extends class A, I create a no-arg constructor in class B and class A (I don't want them implements Serializable).</p>\n<p>So the following code:</p>\n<pre><code>public class Solution implements Serializable {\n    public class A {\n      String name = &quot;A&quot;;\n      public A(String name) {\n        this.name += name;\n      }\n      public A() {}\n    }\n    \n    public class B extends A {\n      String name = &quot;B&quot;;\n      public B(String name) {\n        super(name);\n        this.name += name;\n      }\n      public B() {}\n    }\n\n    public class C extends B implements Serializable {\n       String name;\n       public C(String name) {\n        super(name);\n        this.name = name;\n       }\n    }\n}\npublic class Test {\n  public static void main(String[] args) throws IOException, ClassNotFoundException {\n    Solution.C c = new Solution().new C(&quot;C&quot;);\n    System.out.println(c.name);\n\n    System.out.println(&quot;serialization&quot;);\n    ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;D:\\\\1.txt&quot;));\n    oos.writeObject(c);\n    oos.close();\n\n    System.out.println(&quot;deserialization&quot;);\n    ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;D:\\\\1.txt&quot;));\n    Solution.C c1 = (Solution.C) ois.readObject();\n    ois.close();\n    System.out.println(c1.name);\n  }\n}\n</code></pre>\n<p>throws the following exception:</p>\n<pre><code>C\nserialization\ndeserialization\nException in thread &quot;main&quot; java.io.InvalidClassException: Test3.Solution$C; no valid constructor\n</code></pre>\n"},{"tags":["java","jvm","zgc"],"comments":[{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1662462601,"post_id":73620570,"comment_id":130005905,"body_markdown":"Could it be this problem? https://bugs.openjdk.org/browse/JDK-8276055","body":"Could it be this problem? <a href=\"https://bugs.openjdk.org/browse/JDK-8276055\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8276055</a>"},{"owner":{"account_id":26259093,"reputation":1,"user_id":19930710,"display_name":"user19930710"},"score":0,"creation_date":1662464669,"post_id":73620570,"comment_id":130006652,"body_markdown":"@JurajMartinka thanks for your answer，I will have a try","body":"@JurajMartinka thanks for your answer，I will have a try"}],"owner":{"account_id":26259093,"reputation":1,"user_id":19930710,"display_name":"user19930710"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662467949,"creation_date":1662460471,"question_id":73620570,"body_markdown":"I&#39;m using jdk17 to run some app, at first it&#39;s all right, after about 12 hours correct working, suddenly the service don&#39;t response and the gc log show like below\r\n\r\n    Out of address space \r\n    Force to lower max java heap size from 50G(100%) to 50G(100%)\r\n    Out of address space \r\n    Force to lower max java heap size from 50G(100%) to 50G(100%)\r\n    Out of address space \r\n    Force to lower max java heap size from 50G(100%) to 50G(100%)\r\n\r\nthe log before this seems no wrong, and this makes gc takes all the cpu\r\nis there any way to debug this or someone meet the same question?\r\n","title":"ZGC bad cycle and don&#39;t stop with all CPU in jdk17","body":"<p>I'm using jdk17 to run some app, at first it's all right, after about 12 hours correct working, suddenly the service don't response and the gc log show like below</p>\n<pre><code>Out of address space \nForce to lower max java heap size from 50G(100%) to 50G(100%)\nOut of address space \nForce to lower max java heap size from 50G(100%) to 50G(100%)\nOut of address space \nForce to lower max java heap size from 50G(100%) to 50G(100%)\n</code></pre>\n<p>the log before this seems no wrong, and this makes gc takes all the cpu\nis there any way to debug this or someone meet the same question?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1495357494,"post_id":44095011,"comment_id":75211101,"body_markdown":"Probably because you never declared these variables anywhere. https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html","body":"Probably because you never declared these variables anywhere. <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1495357664,"post_id":44095011,"comment_id":75211137,"body_markdown":"Where did you declare them? Post a complete minimal example reproducing it. We can&#39;t explain why your code is wrong without seeing it.","body":"Where did you declare them? Post a complete minimal example reproducing it. We can&#39;t explain why your code is wrong without seeing it."},{"owner":{"account_id":10901296,"reputation":33,"user_id":8013491,"display_name":"N.P"},"score":0,"creation_date":1495357840,"post_id":44095011,"comment_id":75211184,"body_markdown":"you right!  i removed them and not the import ones by accident..Thanks!","body":"you right!  i removed them and not the import ones by accident..Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662467908,"creation_date":1662467835,"answer_id":73622196,"question_id":44095011,"body_markdown":"\r\nerror like ***&quot;cannot be resloved to a variable&quot;*** occurs when you didn&#39;t defined variable type such as primitive or non-primitive. In your case, do as below\r\n\r\n     String mainWindowHandle = driver.getWindowHandle();\r\n     WebDriverWait wait = new WebDriverWait(driver, Long.parseLong(getData(&quot;WaitTime&quot;)));","title":"Java - selenium compilation error &quot;cannot be resolved to a variable&quot;","body":"<p>error like <em><strong>&quot;cannot be resloved to a variable&quot;</strong></em> occurs when you didn't defined variable type such as primitive or non-primitive. In your case, do as below</p>\n<pre><code> String mainWindowHandle = driver.getWindowHandle();\n WebDriverWait wait = new WebDriverWait(driver, Long.parseLong(getData(&quot;WaitTime&quot;)));\n</code></pre>\n"}],"owner":{"account_id":10901296,"reputation":33,"user_id":8013491,"display_name":"N.P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1072,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662467908,"creation_date":1495357234,"question_id":44095011,"body_markdown":"i got this in my code :\r\n   \r\n\r\n     mainWindowHandle = driver.getWindowHandle();\r\n     wait = new WebDriverWait(driver, Long.parseLong(getData(&quot;WaitTime&quot;)));\r\n\r\nbut i keep getting this compilation problem:\r\n\r\n    1) mainWindowHandle cannot be resloved to a variable\r\n    2) wait cannot be resolved to a variable\r\n\r\ni have the import of:\r\n\r\n    import org.openqa.selenium.support.ui.*;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\nwhy i keep get this compilation error?\r\n\r\n","title":"Java - selenium compilation error &quot;cannot be resolved to a variable&quot;","body":"<p>i got this in my code :</p>\n\n<pre><code> mainWindowHandle = driver.getWindowHandle();\n wait = new WebDriverWait(driver, Long.parseLong(getData(\"WaitTime\")));\n</code></pre>\n\n<p>but i keep getting this compilation problem:</p>\n\n<pre><code>1) mainWindowHandle cannot be resloved to a variable\n2) wait cannot be resolved to a variable\n</code></pre>\n\n<p>i have the import of:</p>\n\n<pre><code>import org.openqa.selenium.support.ui.*;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n</code></pre>\n\n<p>why i keep get this compilation error?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"score":1,"creation_date":1662461953,"post_id":73620753,"comment_id":130005705,"body_markdown":"What do you mean by grouping by currency? If there are two Json objects which have same currency, what do you wanna do with them? Do you wanna make a List of all such objects?","body":"What do you mean by grouping by currency? If there are two Json objects which have same currency, what do you wanna do with them? Do you wanna make a List of all such objects?"}],"answers":[{"tags":[],"owner":{"account_id":19393048,"reputation":128,"user_id":14181277,"display_name":"Vidar567"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662462095,"creation_date":1662462095,"answer_id":73620917,"question_id":73620753,"body_markdown":"```\r\nprivate fun List&lt;SecurityAccountList&gt;.customFilter(): List&lt;SecurityAccountList&gt; =\r\n    groupBy { it.currency }.map {\r\n// HERE you can do whaterver you need.\r\n        it.value\r\n            .filter { item-&gt; item.currency &gt;= 0 }\r\n            .maxByOrNull { item-&gt; item.accountName.length }\r\n    }.filterNotNull()\r\n```\r\n\r\nUsing in code\r\n```\r\nval returnlist = yourListBeforeFilter.customFilter()\r\n```\r\n\r\nFor more details tell us what exactly you need.\r\nYou can as well use here `sortBy`","title":"Issue when GroupBy an ArrayList object in Kotlin?","body":"<pre><code>private fun List&lt;SecurityAccountList&gt;.customFilter(): List&lt;SecurityAccountList&gt; =\n    groupBy { it.currency }.map {\n// HERE you can do whaterver you need.\n        it.value\n            .filter { item-&gt; item.currency &gt;= 0 }\n            .maxByOrNull { item-&gt; item.accountName.length }\n    }.filterNotNull()\n</code></pre>\n<p>Using in code</p>\n<pre><code>val returnlist = yourListBeforeFilter.customFilter()\n</code></pre>\n<p>For more details tell us what exactly you need.\nYou can as well use here <code>sortBy</code></p>\n"},{"tags":[],"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662465300,"creation_date":1662465300,"answer_id":73621644,"question_id":73620753,"body_markdown":"It sounds like you are expecting `groupingBy` to modify the list. In fact it won&#39;t, but will instead return a new `Grouping` object which can be used to gather the results into a new, different list.\r\n\r\nIt can be confusing, because `sortBy` does mutate the list, whereas the similar-looking `groupBy` and `groupingBy` functions return a new object or copy and don&#39;t mutate the original.\r\n\r\nThe best way to be sure whether a function is going to mutate the existing object or create a new object is to check its documentation. In Kotlin, most of the standard library functions are non-mutating, because Kotlin encourages immutability.\r\n\r\nYou could try replacing your code with something like:\r\n\r\n```kotlin\r\nval groupedAccounts = contentModel.securityAccountList.groupBy { it.currency }\r\n```\r\n\r\nNote how the variable stores the result of the call to `groupBy`, not the original `securityAccountList`.","title":"Issue when GroupBy an ArrayList object in Kotlin?","body":"<p>It sounds like you are expecting <code>groupingBy</code> to modify the list. In fact it won't, but will instead return a new <code>Grouping</code> object which can be used to gather the results into a new, different list.</p>\n<p>It can be confusing, because <code>sortBy</code> does mutate the list, whereas the similar-looking <code>groupBy</code> and <code>groupingBy</code> functions return a new object or copy and don't mutate the original.</p>\n<p>The best way to be sure whether a function is going to mutate the existing object or create a new object is to check its documentation. In Kotlin, most of the standard library functions are non-mutating, because Kotlin encourages immutability.</p>\n<p>You could try replacing your code with something like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val groupedAccounts = contentModel.securityAccountList.groupBy { it.currency }\n</code></pre>\n<p>Note how the variable stores the result of the call to <code>groupBy</code>, not the original <code>securityAccountList</code>.</p>\n"}],"owner":{"account_id":3884646,"reputation":2581,"user_id":3216348,"accept_rate":27,"display_name":"Amay Diam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662467903,"creation_date":1662461373,"question_id":73620753,"body_markdown":"I have issue when I use GroupBy an ArrayList object in Kotlin.\r\n\r\nI have JSON like here:\r\n\r\n     {\r\n      &quot;securityAccountList&quot;: [\r\n        {\r\n          &quot;accountNumber&quot;: &quot;001548900001&quot;,\r\n          &quot;accountName&quot;: &quot;Tjandraningrum&quot;,\r\n          &quot;currency&quot;: &quot;IDR&quot;,\r\n          &quot;debtInstrument&quot;: &quot;0&quot;,\r\n          &quot;equityInstrument&quot;: &quot;0&quot;\r\n        },\r\n        {\r\n          &quot;accountNumber&quot;: &quot;001548900001&quot;,\r\n          &quot;accountName&quot;: &quot;Tjandraningrum&quot;,\r\n          &quot;currency&quot;: &quot;IDR&quot;,\r\n          &quot;debtInstrument&quot;: &quot;0&quot;,\r\n          &quot;equityInstrument&quot;: &quot;0&quot;\r\n        },\r\n        {\r\n          &quot;accountNumber&quot;: &quot;001548900001&quot;,\r\n          &quot;accountName&quot;: &quot;Tjandraningrum&quot;,\r\n          &quot;currency&quot;: &quot;USD&quot;,\r\n          &quot;debtInstrument&quot;: &quot;22&quot;,\r\n          &quot;equityInstrument&quot;: &quot;66&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nI generate object by GSON like this:\r\n\r\n     data class ContentModel(\r\n            @SerializedName(&quot;securityAccountList&quot;) var securityAccountList: ArrayList&lt;SecurityAccountList&gt; = arrayListOf()\r\n        ) \r\n    \r\n        data class SecurityAccountList(\r\n    \r\n            @SerializedName(&quot;accountNumber&quot;) var accountNumber: String? = null,\r\n            @SerializedName(&quot;accountName&quot;) var accountName: String? = null,\r\n            @SerializedName(&quot;currency&quot;) var currency: String? = null,\r\n            @SerializedName(&quot;debtInstrument&quot;) var debtInstrument: String? = null,\r\n            @SerializedName(&quot;equityInstrument&quot;) var equityInstrument: String? = null\r\n    \r\n        ) \r\n\r\nnow I want to grouping by field currency and I want result like this\r\n\r\n    {\r\n      &quot;securityAccountList&quot;: [\r\n        {\r\n          &quot;accountNumber&quot;: &quot;001548900001&quot;,\r\n          &quot;accountName&quot;: &quot;Tjandraningrum&quot;,\r\n          &quot;currency&quot;: &quot;IDR&quot;,\r\n          &quot;debtInstrument&quot;: &quot;0&quot;,\r\n          &quot;equityInstrument&quot;: &quot;0&quot;\r\n        },\r\n        {\r\n          &quot;accountNumber&quot;: &quot;001548900001&quot;,\r\n          &quot;accountName&quot;: &quot;Tjandraningrum&quot;,\r\n          &quot;currency&quot;: &quot;USD&quot;,\r\n          &quot;debtInstrument&quot;: &quot;22&quot;,\r\n          &quot;equityInstrument&quot;: &quot;66&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nbut the result not changed, still 3 securityAccountList,\r\nthis my code for grouping:\r\n\r\n    val  newSecurityAccountList= contentModel.securityAccountList\r\n         newSecurityAccountList.groupingBy { it.currency }\r\n         newSecurityAccountList.sortBy { it.currency }\r\n\r\n&gt; Note: contentModel.securityAccountList is ArrayList of object JSON the newSecurityAccountList not changed value.\r\n\r\nplease your advice, sorry for my English.\r\n\r\n","title":"Issue when GroupBy an ArrayList object in Kotlin?","body":"<p>I have issue when I use GroupBy an ArrayList object in Kotlin.</p>\n<p>I have JSON like here:</p>\n<pre><code> {\n  &quot;securityAccountList&quot;: [\n    {\n      &quot;accountNumber&quot;: &quot;001548900001&quot;,\n      &quot;accountName&quot;: &quot;Tjandraningrum&quot;,\n      &quot;currency&quot;: &quot;IDR&quot;,\n      &quot;debtInstrument&quot;: &quot;0&quot;,\n      &quot;equityInstrument&quot;: &quot;0&quot;\n    },\n    {\n      &quot;accountNumber&quot;: &quot;001548900001&quot;,\n      &quot;accountName&quot;: &quot;Tjandraningrum&quot;,\n      &quot;currency&quot;: &quot;IDR&quot;,\n      &quot;debtInstrument&quot;: &quot;0&quot;,\n      &quot;equityInstrument&quot;: &quot;0&quot;\n    },\n    {\n      &quot;accountNumber&quot;: &quot;001548900001&quot;,\n      &quot;accountName&quot;: &quot;Tjandraningrum&quot;,\n      &quot;currency&quot;: &quot;USD&quot;,\n      &quot;debtInstrument&quot;: &quot;22&quot;,\n      &quot;equityInstrument&quot;: &quot;66&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I generate object by GSON like this:</p>\n<pre><code> data class ContentModel(\n        @SerializedName(&quot;securityAccountList&quot;) var securityAccountList: ArrayList&lt;SecurityAccountList&gt; = arrayListOf()\n    ) \n\n    data class SecurityAccountList(\n\n        @SerializedName(&quot;accountNumber&quot;) var accountNumber: String? = null,\n        @SerializedName(&quot;accountName&quot;) var accountName: String? = null,\n        @SerializedName(&quot;currency&quot;) var currency: String? = null,\n        @SerializedName(&quot;debtInstrument&quot;) var debtInstrument: String? = null,\n        @SerializedName(&quot;equityInstrument&quot;) var equityInstrument: String? = null\n\n    ) \n</code></pre>\n<p>now I want to grouping by field currency and I want result like this</p>\n<pre><code>{\n  &quot;securityAccountList&quot;: [\n    {\n      &quot;accountNumber&quot;: &quot;001548900001&quot;,\n      &quot;accountName&quot;: &quot;Tjandraningrum&quot;,\n      &quot;currency&quot;: &quot;IDR&quot;,\n      &quot;debtInstrument&quot;: &quot;0&quot;,\n      &quot;equityInstrument&quot;: &quot;0&quot;\n    },\n    {\n      &quot;accountNumber&quot;: &quot;001548900001&quot;,\n      &quot;accountName&quot;: &quot;Tjandraningrum&quot;,\n      &quot;currency&quot;: &quot;USD&quot;,\n      &quot;debtInstrument&quot;: &quot;22&quot;,\n      &quot;equityInstrument&quot;: &quot;66&quot;\n    }\n  ]\n}\n</code></pre>\n<p>but the result not changed, still 3 securityAccountList,\nthis my code for grouping:</p>\n<pre><code>val  newSecurityAccountList= contentModel.securityAccountList\n     newSecurityAccountList.groupingBy { it.currency }\n     newSecurityAccountList.sortBy { it.currency }\n</code></pre>\n<blockquote>\n<p>Note: contentModel.securityAccountList is ArrayList of object JSON the newSecurityAccountList not changed value.</p>\n</blockquote>\n<p>please your advice, sorry for my English.</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1662465834,"post_id":73621724,"comment_id":130007087,"body_markdown":"Change `FunctionBlock` to declare a `draw()` method. This method might be `abstract`.","body":"Change <code>FunctionBlock</code> to declare a <code>draw()</code> method. This method might be <code>abstract</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1662466368,"post_id":73621724,"comment_id":130007260,"body_markdown":"An alternative to adding a `draw()` method (e.g. if you didn&#39;t actually want to bake the drawing functionality into the `FunctionBlock`) is to employ the [Visitor Pattern](https://en.wikipedia.org/wiki/Visitor_pattern).","body":"An alternative to adding a <code>draw()</code> method (e.g. if you didn&#39;t actually want to bake the drawing functionality into the <code>FunctionBlock</code>) is to employ the <a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">Visitor Pattern</a>."}],"answers":[{"tags":[],"owner":{"account_id":11908113,"reputation":46,"user_id":8714130,"display_name":"John Bryan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662467240,"creation_date":1662467063,"answer_id":73622014,"question_id":73621724,"body_markdown":"The error is happening because the `FunctionBlock` has no method called `draw()`. Add this method to your class `FunctionBlock` class:\r\n\r\n```\r\npublic abstract class FunctionBlock {\r\n    /** Draws the block */\r\n    public abstract void draw();\r\n    ...\r\n```\r\n\r\nThen in your subclasses, add the `@Override` annotation to the implementations:\r\n\r\n```\r\n@Override\r\npublic void draw() {\r\n    ...\r\n}\r\n```\r\n\r\nAlternatively, you could define an interface that contains the `draw` method and then have your `FunctionBlock` class implement it:\r\n\r\n```\r\ninterface Drawable {\r\n    /** Draws the block */\r\n    void draw();\r\n}\r\n\r\npublic abstract class FunctionBlock implements Drawable {\r\n```\r\nIf not every `FunctionBlock` class defines a `draw()` method, then you can have the individual subclasses implement the interface instead.  If this is the case, you just have to change the type of `block` to `Drawable`","title":"Java workaround for instanceof","body":"<p>The error is happening because the <code>FunctionBlock</code> has no method called <code>draw()</code>. Add this method to your class <code>FunctionBlock</code> class:</p>\n<pre><code>public abstract class FunctionBlock {\n    /** Draws the block */\n    public abstract void draw();\n    ...\n</code></pre>\n<p>Then in your subclasses, add the <code>@Override</code> annotation to the implementations:</p>\n<pre><code>@Override\npublic void draw() {\n    ...\n}\n</code></pre>\n<p>Alternatively, you could define an interface that contains the <code>draw</code> method and then have your <code>FunctionBlock</code> class implement it:</p>\n<pre><code>interface Drawable {\n    /** Draws the block */\n    void draw();\n}\n\npublic abstract class FunctionBlock implements Drawable {\n</code></pre>\n<p>If not every <code>FunctionBlock</code> class defines a <code>draw()</code> method, then you can have the individual subclasses implement the interface instead.  If this is the case, you just have to change the type of <code>block</code> to <code>Drawable</code></p>\n"}],"owner":{"account_id":10255765,"reputation":387,"user_id":8477952,"accept_rate":67,"display_name":"bask185"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73622014,"answer_count":1,"score":0,"last_activity_date":1662467240,"creation_date":1662465674,"question_id":73621724,"body_markdown":"I am making a GUI with function blocks in Java/Processing.\r\n\r\nI have a general class which has methods just to manage the X and Y coordinates.\r\nAll the blocks themselfs inherrit from the general class.\r\n\r\nThis allow me to make a single array list\r\n```\r\nArrayList &lt;FunctionBlock&gt; blocks = new ArrayList() ;\r\n```\r\nI can add and remove function blocks at will.\r\n\r\nThe problem I am having is that I have to use instanceof. For instance.\r\n\r\n```\r\n    for (int i = 0; i &lt; blocks.size(); i++)          // loop through all blocks\r\n    {\r\n        FunctionBlock block = blocks.get(i) ;        // declare a local function block\r\n\r\n        if(block instanceof AND)    {    AND    and =   (AND) block ;   and.draw() ; }  // Can I do it differently?\r\n        if(block instanceof OR) \t{     OR     or =    (OR) block ;    or.draw() ; }\r\n        if(block instanceof SR)     {     SR     sr =    (SR) block ;    sr.draw() ; }\r\n        if(block instanceof DELAY)  {  DELAY  delay = (DELAY) block ; delay.draw() ; }\r\n        if(block instanceof NOT)    {    NOT    not =   (NOT) block ;   not.draw() ; }\r\n    }\r\n```\r\nEach individual function block has a draw() method. For every new block I add, I need to update this list among others.\r\n\r\nI would prefer to use something like this\r\n```\r\n   for (int i = 0; i &lt; blocks.size(); i++)          // loop through all blocks\r\n    {\r\n        FunctionBlock block = blocks.get(i) ;        // declare a local function block\r\n\r\n         block.draw() ;    // compiler error ==&gt; The function draw() does not exist. \r\n```\r\n\r\nIn a single for-loop I want to call the `draw()` methods of all sub classes without having to check what the object is.\r\n\r\nIs this possible and if so, how?","title":"Java workaround for instanceof","body":"<p>I am making a GUI with function blocks in Java/Processing.</p>\n<p>I have a general class which has methods just to manage the X and Y coordinates.\nAll the blocks themselfs inherrit from the general class.</p>\n<p>This allow me to make a single array list</p>\n<pre><code>ArrayList &lt;FunctionBlock&gt; blocks = new ArrayList() ;\n</code></pre>\n<p>I can add and remove function blocks at will.</p>\n<p>The problem I am having is that I have to use instanceof. For instance.</p>\n<pre><code>    for (int i = 0; i &lt; blocks.size(); i++)          // loop through all blocks\n    {\n        FunctionBlock block = blocks.get(i) ;        // declare a local function block\n\n        if(block instanceof AND)    {    AND    and =   (AND) block ;   and.draw() ; }  // Can I do it differently?\n        if(block instanceof OR)     {     OR     or =    (OR) block ;    or.draw() ; }\n        if(block instanceof SR)     {     SR     sr =    (SR) block ;    sr.draw() ; }\n        if(block instanceof DELAY)  {  DELAY  delay = (DELAY) block ; delay.draw() ; }\n        if(block instanceof NOT)    {    NOT    not =   (NOT) block ;   not.draw() ; }\n    }\n</code></pre>\n<p>Each individual function block has a draw() method. For every new block I add, I need to update this list among others.</p>\n<p>I would prefer to use something like this</p>\n<pre><code>   for (int i = 0; i &lt; blocks.size(); i++)          // loop through all blocks\n    {\n        FunctionBlock block = blocks.get(i) ;        // declare a local function block\n\n         block.draw() ;    // compiler error ==&gt; The function draw() does not exist. \n</code></pre>\n<p>In a single for-loop I want to call the <code>draw()</code> methods of all sub classes without having to check what the object is.</p>\n<p>Is this possible and if so, how?</p>\n"},{"tags":["java","ethers.js"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662473042,"post_id":73622001,"comment_id":130010062,"body_markdown":"People here might not be familiar with those libraries so you might want to elaborate on what you&#39;re trying to do, what you&#39;re using etc. - Also, &quot;The ethers result contains two 4&#39;s, but the java result has one 4 and one 2&quot; - Where? Those result strings are really long... And finally: your Java string contains upper and lower case characters. From a hex point of view that shouldn&#39;t matter but since I don&#39;t know the library you&#39;re using, might that be an issue?","body":"People here might not be familiar with those libraries so you might want to elaborate on what you&#39;re trying to do, what you&#39;re using etc. - Also, &quot;The ethers result contains two 4&#39;s, but the java result has one 4 and one 2&quot; - Where? Those result strings are really long... And finally: your Java string contains upper and lower case characters. From a hex point of view that shouldn&#39;t matter but since I don&#39;t know the library you&#39;re using, might that be an issue?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662488661,"post_id":73622001,"comment_id":130015640,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26259740,"reputation":1,"user_id":19931260,"display_name":"hongze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662467005,"creation_date":1662467005,"question_id":73622001,"body_markdown":"ethers:\r\n\r\n    console.log(ethers.utils.defaultAbiCoder.encode([&quot;uint256&quot;, &quot;bytes&quot;], [&quot;100000000000000&quot;,&quot;0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb922660000000000000000000000000000000000000000000000000000000000000001&quot;]));\r\n\r\nresult:`0x00000000000000000000000000000000000000000000000000005af3107a400000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000040000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb922660000000000000000000000000000000000000000000000000000000000000001`\r\n\r\njava:\r\n\r\n    BigInteger amount = new BigInteger(&quot;100000000000000&quot;);\r\n    \r\n            DynamicStruct struct = new DynamicStruct(new Address(&quot;0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266&quot;),new Uint8(1));\r\n            StaticArray1&lt;DynamicStruct&gt; array1 = new StaticArray1&lt;&gt;(DynamicStruct.class,struct);\r\n    \r\n            DynamicStruct struct1 = new DynamicStruct(new Uint256(amount),array1);\r\n    \r\n            System.out.println(&quot;---&quot; + TypeEncoder.encode(struct1));\r\n\r\nresult: `00000000000000000000000000000000000000000000000000005af3107a400000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb922660000000000000000000000000000000000000000000000000000000000000001`\r\n\r\n\r\nThe ethers result contains two 4&#39;s, but the java result has one 4 and one 2, which confuses me","title":"Using java and ethers to achieve the same function, but the results are inconsistent","body":"<p>ethers:</p>\n<pre><code>console.log(ethers.utils.defaultAbiCoder.encode([&quot;uint256&quot;, &quot;bytes&quot;], [&quot;100000000000000&quot;,&quot;0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb922660000000000000000000000000000000000000000000000000000000000000001&quot;]));\n</code></pre>\n<p>result:<code>0x00000000000000000000000000000000000000000000000000005af3107a400000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000040000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb922660000000000000000000000000000000000000000000000000000000000000001</code></p>\n<p>java:</p>\n<pre><code>BigInteger amount = new BigInteger(&quot;100000000000000&quot;);\n\n        DynamicStruct struct = new DynamicStruct(new Address(&quot;0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266&quot;),new Uint8(1));\n        StaticArray1&lt;DynamicStruct&gt; array1 = new StaticArray1&lt;&gt;(DynamicStruct.class,struct);\n\n        DynamicStruct struct1 = new DynamicStruct(new Uint256(amount),array1);\n\n        System.out.println(&quot;---&quot; + TypeEncoder.encode(struct1));\n</code></pre>\n<p>result: <code>00000000000000000000000000000000000000000000000000005af3107a400000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000020000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb922660000000000000000000000000000000000000000000000000000000000000001</code></p>\n<p>The ethers result contains two 4's, but the java result has one 4 and one 2, which confuses me</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":12136094,"reputation":328,"user_id":8861539,"accept_rate":100,"display_name":"Ver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1610793674,"creation_date":1610793674,"answer_id":65748722,"question_id":65748648,"body_markdown":"Try using lowercase prod as a JVM flag or try using another method of setting different Spring profile. You can find a description of different methods for setting Spring Profile for example here [Baeldung Spring Profiles][1] \r\n\r\n  [1]: https://www.baeldung.com/spring-profiles","title":"Spring Profiles - JVM System Parameter in IntelliJ IDEA","body":"<p>Try using lowercase prod as a JVM flag or try using another method of setting different Spring profile. You can find a description of different methods for setting Spring Profile for example here <a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">Baeldung Spring Profiles</a></p>\n"}],"owner":{"account_id":10390370,"reputation":1913,"user_id":7661910,"accept_rate":96,"display_name":"en Lopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65748722,"answer_count":1,"score":0,"last_activity_date":1662466813,"creation_date":1610793188,"question_id":65748648,"body_markdown":"I start a SpringBoot app, with this VM option:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QCDN6.png\r\n\r\nbut when I start the app. I see this on the console:\r\n\r\n    11:29:24.090 [main] DEBUG c.b.e.ServingWebContentApplication - Running with Spring Boot v2.3.7.RELEASE, Spring v5.2.12.RELEASE\r\n    11:29:24.090 [main] INFO  c.b.e.ServingWebContentApplication - The following profiles are active: dev","title":"Spring Profiles - JVM System Parameter in IntelliJ IDEA","body":"<p>I start a SpringBoot app, with this VM option:</p>\n<p><a href=\"https://i.stack.imgur.com/QCDN6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QCDN6.png\" alt=\"enter image description here\" /></a></p>\n<p>but when I start the app. I see this on the console:</p>\n<pre><code>11:29:24.090 [main] DEBUG c.b.e.ServingWebContentApplication - Running with Spring Boot v2.3.7.RELEASE, Spring v5.2.12.RELEASE\n11:29:24.090 [main] INFO  c.b.e.ServingWebContentApplication - The following profiles are active: dev\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1565223482,"post_id":57403653,"comment_id":101288864,"body_markdown":"You can use Jar Application configuration if you want to run it the same way you do it from the command line.","body":"You can use Jar Application configuration if you want to run it the same way you do it from the command line."},{"owner":{"account_id":5144514,"reputation":1920,"user_id":4120870,"accept_rate":78,"display_name":"abhi"},"score":0,"creation_date":1565223765,"post_id":57403653,"comment_id":101288916,"body_markdown":"where should I include this `java -jar -Dspring.profiles.active=native`","body":"where should I include this <code>java -jar -Dspring.profiles.active=native</code>"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1565224699,"post_id":57403653,"comment_id":101289095,"body_markdown":"https://i.imgur.com/tPfDYXc.png. You specify the path to jar and add `-Dspring.profiles.active=native` to the VM Options.  You don&#39;t need the `java -jar` part.","body":"<a href=\"https://i.imgur.com/tPfDYXc.png\" rel=\"nofollow noreferrer\">i.imgur.com/tPfDYXc.png</a>. You specify the path to jar and add <code>-Dspring.profiles.active=native</code> to the VM Options.  You don&#39;t need the <code>java -jar</code> part."}],"answers":[{"tags":[],"owner":{"account_id":2810741,"reputation":4424,"user_id":2417043,"accept_rate":67,"display_name":"arghtype"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565284993,"creation_date":1565223330,"answer_id":57403693,"question_id":57403653,"body_markdown":"Looking at my working Spring Boot 2.0.4 app configuration, I can suggest you to try these:\r\n\r\n - Correct syntax for spring profiles is `--spring.profiles.active=yourprofile` in Program Arguments \r\n\r\n - Working directory should be set to your application root folder.\r\n\r\nI also don&#39;t have separate Active Profiles field highlighted on your screenshot.\r\n\r\nThis is my working configuration:\r\n![enter image description here][1]\r\n\r\nWe also run our app as :\r\n\r\n    java -Dproperty=value -jar path/ourapp.jar --spring.profiles.active=ourprofile\r\n\r\nActually, both variants of active profile configuration are correct - see https://stackoverflow.com/q/31038250/2417043 \r\n\r\n  [1]: https://i.stack.imgur.com/kxSXx.png","title":"How to configure Spring Boot Run Configuratipon in IntelliJ","body":"<p>Looking at my working Spring Boot 2.0.4 app configuration, I can suggest you to try these:</p>\n\n<ul>\n<li><p>Correct syntax for spring profiles is <code>--spring.profiles.active=yourprofile</code> in Program Arguments </p></li>\n<li><p>Working directory should be set to your application root folder.</p></li>\n</ul>\n\n<p>I also don't have separate Active Profiles field highlighted on your screenshot.</p>\n\n<p>This is my working configuration:\n<img src=\"https://i.stack.imgur.com/kxSXx.png\" alt=\"enter image description here\"></p>\n\n<p>We also run our app as :</p>\n\n<pre><code>java -Dproperty=value -jar path/ourapp.jar --spring.profiles.active=ourprofile\n</code></pre>\n\n<p>Actually, both variants of active profile configuration are correct - see <a href=\"https://stackoverflow.com/q/31038250/2417043\">Setting active profile and config location from command line in spring boot</a> </p>\n"}],"owner":{"account_id":5144514,"reputation":1920,"user_id":4120870,"accept_rate":78,"display_name":"abhi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10967,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1662466747,"creation_date":1565223012,"question_id":57403653,"body_markdown":"I use this command to run my spring application - java -jar `-Dspring.profiles.active=native ddwa-services-app/target/ddwa-services-app-1.0-SNAPSHOT.jar`, but when run the application from IDE, I need to add run configuration, below is the screenshot showing what I have added, but it does not work for me.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WlG3p.png","title":"How to configure Spring Boot Run Configuratipon in IntelliJ","body":"<p>I use this command to run my spring application - java -jar <code>-Dspring.profiles.active=native ddwa-services-app/target/ddwa-services-app-1.0-SNAPSHOT.jar</code>, but when run the application from IDE, I need to add run configuration, below is the screenshot showing what I have added, but it does not work for me.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WlG3p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WlG3p.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1636288583,"post_id":69872476,"comment_id":123511502,"body_markdown":"Hello. Please see: [Do posts have to be in English on Stack Exchange?](https://meta.stackexchange.com/q/13676) Use [edit] option and translate it to English OR move it (delete it from here and repost in proper place) to appropriate StackExchange site which is using your language (if such exists - visit first link in this comment to find list of sites about programming problems in other languages).","body":"Hello. Please see: <a href=\"https://meta.stackexchange.com/q/13676\">Do posts have to be in English on Stack Exchange?</a> Use <a href=\"https://stackoverflow.com/posts/69872476/edit\">edit</a> option and translate it to English OR move it (delete it from here and repost in proper place) to appropriate StackExchange site which is using your language (if such exists - visit first link in this comment to find list of sites about programming problems in other languages)."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":1,"creation_date":1636445309,"post_id":69872476,"comment_id":123551986,"body_markdown":"Why do you use `-Dspring.profiles.active=development` as the VM options but you use `--spring.profiles.active=development` in command line as the argument? The command line argumentas are specified in Run/Debug Configurations | **Program arguments:** field in the IDE.","body":"Why do you use <code>-Dspring.profiles.active=development</code> as the VM options but you use <code>--spring.profiles.active=development</code> in command line as the argument? The command line argumentas are specified in Run/Debug Configurations | <b>Program arguments:</b> field in the IDE."},{"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"score":0,"creation_date":1636452051,"post_id":69872476,"comment_id":123554515,"body_markdown":"Because in similar questions on this site, it is recommended to use VM options -Spring.profiles.active=development\nAnd on the command line, by trial and error, I managed to launch the application with the --spring.profiles.active=development option. I tried using this option in VM, but nothing came out of it","body":"Because in similar questions on this site, it is recommended to use VM options -Spring.profiles.active=development And on the command line, by trial and error, I managed to launch the application with the --spring.profiles.active=development option. I tried using this option in VM, but nothing came out of it"},{"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"score":0,"creation_date":1636866846,"post_id":69872476,"comment_id":123669211,"body_markdown":"can you push the project in GitHub and share the link for the same?","body":"can you push the project in GitHub and share the link for the same?"},{"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"score":0,"creation_date":1636867071,"post_id":69872476,"comment_id":123669238,"body_markdown":"can you please try with the environment variable SPRING_PROFILES_ACTIVE=development in IntelliJ","body":"can you please try with the environment variable SPRING_PROFILES_ACTIVE=development in IntelliJ"},{"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"score":0,"creation_date":1636868203,"post_id":69872476,"comment_id":123669377,"body_markdown":"I added pom.xml is this it?","body":"I added pom.xml is this it?"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1636988356,"post_id":69872476,"comment_id":123697800,"body_markdown":"This should work if you put the `-Dspring.profiles.active=development` argument in the VM options section. In addition, if you use the spring boot run configuration, there is an &quot;Active profiles&quot; section at the bottom. So, if you&#39;re still experiencing problems, there&#39;s something else wrong, and we need more information such as a screenshot of your run configuration in IntelliJ.","body":"This should work if you put the <code>-Dspring.profiles.active=development</code> argument in the VM options section. In addition, if you use the spring boot run configuration, there is an &quot;Active profiles&quot; section at the bottom. So, if you&#39;re still experiencing problems, there&#39;s something else wrong, and we need more information such as a screenshot of your run configuration in IntelliJ."},{"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"score":0,"creation_date":1636989732,"post_id":69872476,"comment_id":123698401,"body_markdown":"I added a picture. Is this what you wanted?","body":"I added a picture. Is this what you wanted?"},{"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"score":0,"creation_date":1637037638,"post_id":69872476,"comment_id":123711590,"body_markdown":"I don&#39;t understand what configuration you are talking about. Information from the pom.xml I provided. I run the project using IDEA tools. I run only this microservice for execution. Please write in more detail what configuration you need.","body":"I don&#39;t understand what configuration you are talking about. Information from the pom.xml I provided. I run the project using IDEA tools. I run only this microservice for execution. Please write in more detail what configuration you need."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1637068231,"post_id":69872476,"comment_id":123722033,"body_markdown":"You are mixing Spring Boot profiles and Maven profiles. What do you want to do?","body":"You are mixing Spring Boot profiles and Maven profiles. What do you want to do?"},{"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"score":0,"creation_date":1637068724,"post_id":69872476,"comment_id":123722297,"body_markdown":"And added a description that this is a shared file.","body":"And added a description that this is a shared file."},{"owner":{"account_id":11337137,"reputation":838,"user_id":8312604,"display_name":"Alexandr Arhipov"},"score":0,"creation_date":1637405832,"post_id":69872476,"comment_id":123821034,"body_markdown":"https://stackoverflow.com/a/39775038/8312604","body":"<a href=\"https://stackoverflow.com/a/39775038/8312604\">stackoverflow.com/a/39775038/8312604</a>"}],"answers":[{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637166994,"creation_date":1637062413,"answer_id":69988401,"question_id":69872476,"body_markdown":"The Profile you define in your pom.xml is a maven build profile, which has nothing to do with a spring config-property profile. \r\n\r\nmaven-profile:https://maven.apache.org/guides/introduction/introduction-to-profiles.html  \r\nspring-profile: https://docs.spring.io/spring-boot/docs/2.6.x/reference/html/features.html#features.profiles \r\n\r\n`spring.config.activate.on-profile: development` turns the current document of the configuration off if none of the active profiles is named `development`. So, this is like a filter for config-properties.\r\n\r\nAnd you don&#39;t have to tell spring all profiles that will be used. So that line makes only sense if the document contains some application properties you want to turn on or off.\r\nThese profiles are controlled via the launch configuration in IntelliJ. \r\n\r\nFor the maven-profile, you can enable/disable them in IntelliJs maven tab.  \r\nSee: [Work with maven profiles](https://www.jetbrains.com/help/idea/work-with-maven-profiles.html#declare_maven_profiles)","title":"It is not possible to activate the Spring boot profile when starting from IntelliJ","body":"<p>The Profile you define in your pom.xml is a maven build profile, which has nothing to do with a spring config-property profile.</p>\n<p>maven-profile:<a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-profiles.html</a><br />\nspring-profile: <a href=\"https://docs.spring.io/spring-boot/docs/2.6.x/reference/html/features.html#features.profiles\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.6.x/reference/html/features.html#features.profiles</a></p>\n<p><code>spring.config.activate.on-profile: development</code> turns the current document of the configuration off if none of the active profiles is named <code>development</code>. So, this is like a filter for config-properties.</p>\n<p>And you don't have to tell spring all profiles that will be used. So that line makes only sense if the document contains some application properties you want to turn on or off.\nThese profiles are controlled via the launch configuration in IntelliJ.</p>\n<p>For the maven-profile, you can enable/disable them in IntelliJs maven tab.<br />\nSee: <a href=\"https://www.jetbrains.com/help/idea/work-with-maven-profiles.html#declare_maven_profiles\" rel=\"nofollow noreferrer\">Work with maven profiles</a></p>\n"},{"tags":[],"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637354230,"creation_date":1637354230,"answer_id":70040662,"question_id":69872476,"body_markdown":"I am not sure if the latest Intellij Ultimate has changed the UI. I normally set the active profile from `Edit Configuration &gt; under Enviromnet &gt; Active Profile` (for 2020 Intellij version), put your profile name there, and save it. remove `-Dspring.profiles.active=development` and then try\r\n\r\nmake sure you have a spring property file with the name `application-development.properties` or `application-development.yml` in your project","title":"It is not possible to activate the Spring boot profile when starting from IntelliJ","body":"<p>I am not sure if the latest Intellij Ultimate has changed the UI. I normally set the active profile from <code>Edit Configuration &gt; under Enviromnet &gt; Active Profile</code> (for 2020 Intellij version), put your profile name there, and save it. remove <code>-Dspring.profiles.active=development</code> and then try</p>\n<p>make sure you have a spring property file with the name <code>application-development.properties</code> or <code>application-development.yml</code> in your project</p>\n"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662466683,"creation_date":1636288521,"question_id":69872476,"body_markdown":"I can&#39;t activate the Spring download profile in IntelliJ IDEA.\r\n\r\nJava 17\r\n\r\nIntelliJ IDEA 2021.3 Beta (Ultimate Edition)\r\n\r\n    &lt;spring.version&gt;5.3.9&lt;/spring.version&gt;\r\nI&#39;m coming in Run | Edit Configurations...\r\nand in VM options I prescribe\r\n\r\n    -Dspring.profiles.active=development\r\nAnd when you start the application from the IDE, the following error crashes:\r\n\r\n    Error: Could not find or load main class VM\r\n    Caused by: java.lang.ClassNotFoundException: VM\r\nAt the same time, I managed to launch it manually with this option:\r\n\r\n    java -jar main-ms-1.2-SNAPSHOT.jar --spring.profiles.active=development\r\n\r\nWhat else do I need to register in the IDE that I missed?\r\nI cleaned the cache. Rechecked all the settings. Nothing helps. I don&#39;t understand what the problem might be. At the same time, other project developers do not have this problem. With the -Spring.profiles.active=development flag, the application is launched in IDEA\r\n\r\nprofile in Pom.xml\r\nThis is a shared file Pom.xml, which is at the root of the entire project on microservices.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;development&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n          &lt;/activation&gt;\r\n          &lt;properties&gt;\r\n            &lt;build.profile.id&gt;development&lt;/build.profile.id&gt;\r\n            &lt;maven.file.path&gt;file:${project.basedir}/../../../maven&lt;/maven.file.path&gt;\r\n            &lt;releases.maven.repository.url&gt;${maven.file.path}/releases&lt;/releases.maven.repository.url&gt;\r\n            &lt;snapshots.maven.repository.url&gt;${maven.file.path}/snapshots\r\n            &lt;/snapshots.maven.repository.url&gt;\r\n            &lt;docker.registry.domain&gt;localhost:5000&lt;/docker.registry.domain&gt;\r\n            &lt;docker.registry.url&gt;http://${docker.registry.domain}&lt;/docker.registry.url&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd this is the file pom.xml the microservice I&#39;m trying to run.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.asvoip.ump&lt;/groupId&gt;\r\n          &lt;artifactId&gt;ump-it-lib&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.asvoip.ump&lt;/groupId&gt;\r\n          &lt;artifactId&gt;ump-currencymanager-api&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.asvoip.ump&lt;/groupId&gt;\r\n          &lt;artifactId&gt;ump-sqldbclient-lib&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.asvoip.ump&lt;/groupId&gt;\r\n          &lt;artifactId&gt;ump-restapiserver-lib&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.asvoip.ump&lt;/groupId&gt;\r\n          &lt;artifactId&gt;ump-documentation-lib&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n          &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;co.elastic.logging&lt;/groupId&gt;\r\n          &lt;artifactId&gt;logback-ecs-encoder&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n      &lt;/dependencies&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\r\n            &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nFile application.yaml\r\n\r\n    spring.config.activate.on-profile: development\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gQOC8.jpg\r\n  [2]: https://i.stack.imgur.com/4eGUz.jpg","title":"It is not possible to activate the Spring boot profile when starting from IntelliJ","body":"<p>I can't activate the Spring download profile in IntelliJ IDEA.</p>\n<p>Java 17</p>\n<p>IntelliJ IDEA 2021.3 Beta (Ultimate Edition)</p>\n<pre><code>&lt;spring.version&gt;5.3.9&lt;/spring.version&gt;\n</code></pre>\n<p>I'm coming in Run | Edit Configurations...\nand in VM options I prescribe</p>\n<pre><code>-Dspring.profiles.active=development\n</code></pre>\n<p>And when you start the application from the IDE, the following error crashes:</p>\n<pre><code>Error: Could not find or load main class VM\nCaused by: java.lang.ClassNotFoundException: VM\n</code></pre>\n<p>At the same time, I managed to launch it manually with this option:</p>\n<pre><code>java -jar main-ms-1.2-SNAPSHOT.jar --spring.profiles.active=development\n</code></pre>\n<p>What else do I need to register in the IDE that I missed?\nI cleaned the cache. Rechecked all the settings. Nothing helps. I don't understand what the problem might be. At the same time, other project developers do not have this problem. With the -Spring.profiles.active=development flag, the application is launched in IDEA</p>\n<p>profile in Pom.xml\nThis is a shared file Pom.xml, which is at the root of the entire project on microservices.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;development&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n      &lt;properties&gt;\n        &lt;build.profile.id&gt;development&lt;/build.profile.id&gt;\n        &lt;maven.file.path&gt;file:${project.basedir}/../../../maven&lt;/maven.file.path&gt;\n        &lt;releases.maven.repository.url&gt;${maven.file.path}/releases&lt;/releases.maven.repository.url&gt;\n        &lt;snapshots.maven.repository.url&gt;${maven.file.path}/snapshots\n        &lt;/snapshots.maven.repository.url&gt;\n        &lt;docker.registry.domain&gt;localhost:5000&lt;/docker.registry.domain&gt;\n        &lt;docker.registry.url&gt;http://${docker.registry.domain}&lt;/docker.registry.url&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And this is the file pom.xml the microservice I'm trying to run.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.asvoip.ump&lt;/groupId&gt;\n      &lt;artifactId&gt;ump-it-lib&lt;/artifactId&gt;\n      &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.asvoip.ump&lt;/groupId&gt;\n      &lt;artifactId&gt;ump-currencymanager-api&lt;/artifactId&gt;\n      &lt;version&gt;1.2-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.asvoip.ump&lt;/groupId&gt;\n      &lt;artifactId&gt;ump-sqldbclient-lib&lt;/artifactId&gt;\n      &lt;version&gt;1.2-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.asvoip.ump&lt;/groupId&gt;\n      &lt;artifactId&gt;ump-restapiserver-lib&lt;/artifactId&gt;\n      &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.asvoip.ump&lt;/groupId&gt;\n      &lt;artifactId&gt;ump-documentation-lib&lt;/artifactId&gt;\n      &lt;version&gt;1.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n      &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;co.elastic.logging&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-ecs-encoder&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\n        &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://i.stack.imgur.com/gQOC8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQOC8.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/4eGUz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4eGUz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>File application.yaml</p>\n<pre><code>spring.config.activate.on-profile: development\n</code></pre>\n"},{"tags":["java","selenium","xpath","webdriver"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1662460537,"post_id":73620061,"comment_id":130005249,"body_markdown":"OK, and what exactly errors, problems you faced here? What&#39;s wrong with the code you shared?","body":"OK, and what exactly errors, problems you faced here? What&#39;s wrong with the code you shared?"},{"owner":{"account_id":26164049,"reputation":25,"user_id":19850106,"display_name":"Codeception"},"score":0,"creation_date":1662460667,"post_id":73620061,"comment_id":130005293,"body_markdown":"I need to make an assertion but the values somehow differ \nthe values are 271214 and 2.71 Lacs i have to make an testng assertion between them","body":"I need to make an assertion but the values somehow differ  the values are 271214 and 2.71 Lacs i have to make an testng assertion between them"},{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1662477483,"post_id":73620061,"comment_id":130011966,"body_markdown":"You should really avoid using words like *lac* that are not globally understood","body":"You should really avoid using words like <i>lac</i> that are not globally understood"}],"answers":[{"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662466450,"creation_date":1662466450,"answer_id":73621883,"question_id":73620061,"body_markdown":"The maturity amount is round off value. To assert that you need round off the `Year end Balance of the last row` amount.\r\n\r\nTo get the last row `Year end Balance` no need to iterate through all rows.\r\nYou can find using single `xpath`\r\n\r\nOnce you get the text you need to do string manipulation and then round off the amount.\r\n\r\n**Code:**\r\n\r\n    String yearEndBalance = driver.findElement(By.xpath(&quot;//table[@id=&#39;ppfTable&#39;]//tbody//tr[last()]//td[4]&quot;)).getText();\r\n    String yearEndBalance1 = yearEndBalance.split(&quot;₹&quot;)[1];\r\n    \r\n    String yEndAmount=yearEndBalance1.replaceAll(&quot;,&quot;, &quot;&quot;); \r\n    yEndAmount = new StringBuilder(yEndAmount).insert(3, &quot;.&quot;).toString();\r\n    float yEndBalance =Float.parseFloat(yEndAmount);\r\n    float roundoffYearEndBal=Math.round(yEndBalance);\r\n    \r\n    System.out.println((int)roundoffYearEndBal); \r\n    \r\n    \r\n    WebElement maturityAmount1 = driver.findElement(By.xpath(&quot;//span[@id=&#39;maturityAmount&#39;]/span&quot;));\r\n    String maturityAmount=&quot;maturityAmount1.getText().split(&quot; &quot;)[0].replace(&quot;.&quot;, &quot;&quot;);\r\n    \r\n    System.out.println(maturityAmount);\r\n    \r\n    \r\n    \r\n    if ((int)roundoffYearEndBal==Integer.parseInt(maturityAmount))\r\n    {\r\n      System.out.println(&quot;Matches&quot;);\r\n    }\r\n    else\r\n    {\r\n      System.out.println(&quot;Does not Matches&quot;);\r\n    }\r\n\r\n\r\n\r\n \r\n\r\n","title":"Scraping dynamic web tables use assertion on dynamic values","body":"<p>The maturity amount is round off value. To assert that you need round off the <code>Year end Balance of the last row</code> amount.</p>\n<p>To get the last row <code>Year end Balance</code> no need to iterate through all rows.\nYou can find using single <code>xpath</code></p>\n<p>Once you get the text you need to do string manipulation and then round off the amount.</p>\n<p><strong>Code:</strong></p>\n<pre><code>String yearEndBalance = driver.findElement(By.xpath(&quot;//table[@id='ppfTable']//tbody//tr[last()]//td[4]&quot;)).getText();\nString yearEndBalance1 = yearEndBalance.split(&quot;₹&quot;)[1];\n\nString yEndAmount=yearEndBalance1.replaceAll(&quot;,&quot;, &quot;&quot;); \nyEndAmount = new StringBuilder(yEndAmount).insert(3, &quot;.&quot;).toString();\nfloat yEndBalance =Float.parseFloat(yEndAmount);\nfloat roundoffYearEndBal=Math.round(yEndBalance);\n\nSystem.out.println((int)roundoffYearEndBal); \n\n\nWebElement maturityAmount1 = driver.findElement(By.xpath(&quot;//span[@id='maturityAmount']/span&quot;));\nString maturityAmount=&quot;maturityAmount1.getText().split(&quot; &quot;)[0].replace(&quot;.&quot;, &quot;&quot;);\n\nSystem.out.println(maturityAmount);\n\n\n\nif ((int)roundoffYearEndBal==Integer.parseInt(maturityAmount))\n{\n  System.out.println(&quot;Matches&quot;);\n}\nelse\n{\n  System.out.println(&quot;Does not Matches&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":26164049,"reputation":25,"user_id":19850106,"display_name":"Codeception"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662466539,"creation_date":1662458139,"question_id":73620061,"body_markdown":"URL - https://www.etmoney.com/tools-and-calculators/ppf-calculator\r\n\r\npre-requisite - deposit amount ₹10,000\r\n\r\n//Task 1: Verify if the Year end Balance of the last row is matching with the maturity amount approximately.\r\n\r\n```\r\n#Year end Balance of the last row\r\nfor(int r=1;r&lt;noOfRows.size()+1;r++) {\r\n\t\t\tString data = driver.findElement(By.xpath(&quot;//table[@id=&#39;ppfTable&#39;]/tbody/tr[&quot;+r+&quot;]/td[4]&quot;)).getText();\r\n\t\t\tString data1 = data.split(&quot;₹&quot;)[1];\r\n\t\t\tSystem.out.println(data1.replaceAll(&quot;,&quot;, &quot;&quot;));\t\r\n\t\t}\r\n```\r\n```\r\n#maturity amount\r\nwait = new WebDriverWait(driver,Duration.ofSeconds(10));\r\n\t\twait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[normalize-space()=&#39;2.71 Lacs&#39;]&quot;)));\r\n\t\tWebElement maturityAmount1 = driver.findElement(By.xpath(&quot;//span[@id=&#39;maturityAmount&#39;]/span&quot;));\r\n\t\tSystem.out.println(maturityAmount1.getText());\r\n```\r\nMy question is that how do I match Year end Balance of the last row(271214) and maturity amount(2.71 Lacs)\r\n\r\nIf I had to make an assertion based on above values how do I achieve it.\r\n\r\n\r\n//Task 2: Verify if the table is populated with 20 rows and the year end balance of last row is matching with the maturity amount approximately.\r\n\r\nSame as above stated Year end Balance of the last row(4,43,886) maturity amount(4.44 Lacs) use assertion.","title":"Scraping dynamic web tables use assertion on dynamic values","body":"<p>URL - <a href=\"https://www.etmoney.com/tools-and-calculators/ppf-calculator\" rel=\"nofollow noreferrer\">https://www.etmoney.com/tools-and-calculators/ppf-calculator</a></p>\n<p>pre-requisite - deposit amount ₹10,000</p>\n<p>//Task 1: Verify if the Year end Balance of the last row is matching with the maturity amount approximately.</p>\n<pre><code>#Year end Balance of the last row\nfor(int r=1;r&lt;noOfRows.size()+1;r++) {\n            String data = driver.findElement(By.xpath(&quot;//table[@id='ppfTable']/tbody/tr[&quot;+r+&quot;]/td[4]&quot;)).getText();\n            String data1 = data.split(&quot;₹&quot;)[1];\n            System.out.println(data1.replaceAll(&quot;,&quot;, &quot;&quot;));  \n        }\n</code></pre>\n<pre><code>#maturity amount\nwait = new WebDriverWait(driver,Duration.ofSeconds(10));\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[normalize-space()='2.71 Lacs']&quot;)));\n        WebElement maturityAmount1 = driver.findElement(By.xpath(&quot;//span[@id='maturityAmount']/span&quot;));\n        System.out.println(maturityAmount1.getText());\n</code></pre>\n<p>My question is that how do I match Year end Balance of the last row(271214) and maturity amount(2.71 Lacs)</p>\n<p>If I had to make an assertion based on above values how do I achieve it.</p>\n<p>//Task 2: Verify if the table is populated with 20 rows and the year end balance of last row is matching with the maturity amount approximately.</p>\n<p>Same as above stated Year end Balance of the last row(4,43,886) maturity amount(4.44 Lacs) use assertion.</p>\n"},{"tags":["java","javascript","code-formatting"],"answers":[{"tags":[],"owner":{"account_id":18992,"reputation":32906,"user_id":44041,"accept_rate":85,"display_name":"Filip Dupanović"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1433362070,"creation_date":1228778139,"answer_id":351310,"question_id":351298,"body_markdown":"In one breath: [Aptana Studio][1]! Yes, it&#39;s Java based and free (Eclipse, as standalone or plugin).\r\n\r\nYou can also [customize the formatting][2].\r\n\r\n\r\n  [1]: http://www.aptana.com/products/studio3.html\r\n  [2]: http://www.aptana.com/docs/index.php/Customizing_your_formatting_preferences","title":"Best source code formatter for Javascript?","body":"<p>In one breath: <a href=\"http://www.aptana.com/products/studio3.html\" rel=\"nofollow noreferrer\">Aptana Studio</a>! Yes, it's Java based and free (Eclipse, as standalone or plugin).</p>\n\n<p>You can also <a href=\"http://www.aptana.com/docs/index.php/Customizing_your_formatting_preferences\" rel=\"nofollow noreferrer\">customize the formatting</a>.</p>\n"},{"tags":[],"owner":{"account_id":3748,"reputation":812156,"user_id":5445,"display_name":"Christian C. Salvad&#243;"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1228778156,"creation_date":1228778156,"answer_id":351311,"question_id":351298,"body_markdown":"If you already use Eclipse, I recommend you to try [Aptana][1], you can install it as an Eclipse Plugin.\r\n\r\n\r\n  [1]: http://www.aptana.com/docs/index.php/Plugging_Aptana_into_an_existing_Eclipse_configuration","title":"Best source code formatter for Javascript?","body":"<p>If you already use Eclipse, I recommend you to try <a href=\"http://www.aptana.com/docs/index.php/Plugging_Aptana_into_an_existing_Eclipse_configuration\" rel=\"noreferrer\">Aptana</a>, you can install it as an Eclipse Plugin.</p>\n"},{"tags":[],"owner":{"account_id":13245,"reputation":5748,"user_id":26483,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513697566,"creation_date":1228805601,"answer_id":351995,"question_id":351298,"body_markdown":"If you also need Java programming I can recommend &#39;[IntelliJ IDEA][1]&#39; \r\n\r\nIt offers excellent JavaScript formatting and refactoring out of the box.\r\n\r\n\r\n  [1]: http://www.jetbrains.com/idea/","title":"Best source code formatter for Javascript?","body":"<p>If you also need Java programming I can recommend '<a href=\"http://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a>' </p>\n\n<p>It offers excellent JavaScript formatting and refactoring out of the box.</p>\n"},{"tags":[],"owner":{"account_id":57625,"reputation":66682,"user_id":172637,"accept_rate":99,"display_name":"eozzy"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1466006240,"creation_date":1252861741,"answer_id":1418246,"question_id":351298,"body_markdown":"This is by far the best I&#39;ve come across: http://jsbeautifier.org/\r\n\r\nAvailable as an online tool, or on the command-line using node.js or python.\r\n[The source code is available](https://github.com/beautify-web/js-beautify).","title":"Best source code formatter for Javascript?","body":"<p>This is by far the best I've come across: <a href=\"http://jsbeautifier.org/\" rel=\"noreferrer\">http://jsbeautifier.org/</a></p>\n\n<p>Available as an online tool, or on the command-line using node.js or python.\n<a href=\"https://github.com/beautify-web/js-beautify\" rel=\"noreferrer\">The source code is available</a>.</p>\n"},{"tags":[],"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298317322,"creation_date":1298317322,"answer_id":5070449,"question_id":351298,"body_markdown":"Have you tried [jsfiddler][1]. It&#39;s great for trying things out with Javascript. Built in JSLint &amp; something called Tidy. Not sure whether that infers [jstidy][2] [Piotr Zalewa][3] is the guy who wrote it. May be worth giving him a Tweet [@zalun][4] to confirm. \r\n\r\n\r\n  [1]: http://jsfiddle.net\r\n  [2]: http://code.google.com/p/jstidy/\r\n  [3]: http://piotr.zalewa.info/\r\n  [4]: http://twitter.com/zalun","title":"Best source code formatter for Javascript?","body":"<p>Have you tried <a href=\"http://jsfiddle.net\" rel=\"nofollow\">jsfiddler</a>. It's great for trying things out with Javascript. Built in JSLint &amp; something called Tidy. Not sure whether that infers <a href=\"http://code.google.com/p/jstidy/\" rel=\"nofollow\">jstidy</a> <a href=\"http://piotr.zalewa.info/\" rel=\"nofollow\">Piotr Zalewa</a> is the guy who wrote it. May be worth giving him a Tweet <a href=\"http://twitter.com/zalun\" rel=\"nofollow\">@zalun</a> to confirm. </p>\n"},{"tags":[],"owner":{"account_id":473402,"reputation":1068,"user_id":882493,"display_name":"Sun Junwen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1356698966,"creation_date":1356698966,"answer_id":14069829,"question_id":351298,"body_markdown":"If you are using notepad++, you can try jsminnpp plugin","title":"Best source code formatter for Javascript?","body":"<p>If you are using notepad++, you can try jsminnpp plugin</p>\n"},{"tags":[],"owner":{"account_id":183249,"reputation":1512,"user_id":418516,"accept_rate":50,"display_name":"yurko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1369057220,"creation_date":1369057220,"answer_id":16650829,"question_id":351298,"body_markdown":" - For Eclipse IDE you can use [JavaScript Code Formatter][1] based on [Goolge&#39;s Style Guide][2]\r\n\r\n - For IntelliJ IDEA you can use the same js code formatter xml file , but previously you have to install a special plugin [Eclipse Code Formatter Plugin][3], which solves the problem of maintaining a common code style in team environments where both IDEA and Eclipse are used \r\n\r\n  [1]: https://github.com/jokeyrhyme/eclipse-formatter-profiles &quot;JavaScript Code Formatter&quot;\r\n  [2]: http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml &quot;Google&#39;s style&quot;\r\n  [3]: http://plugins.jetbrains.com/plugin/?idea&amp;id=6546 &quot;Eclipse Code Formatter Plugin&quot;","title":"Best source code formatter for Javascript?","body":"<ul>\n<li><p>For Eclipse IDE you can use <a href=\"https://github.com/jokeyrhyme/eclipse-formatter-profiles\" rel=\"noreferrer\" title=\"JavaScript Code Formatter\">JavaScript Code Formatter</a> based on <a href=\"http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml\" rel=\"noreferrer\" title=\"Google's style\">Goolge's Style Guide</a></p></li>\n<li><p>For IntelliJ IDEA you can use the same js code formatter xml file , but previously you have to install a special plugin <a href=\"http://plugins.jetbrains.com/plugin/?idea&amp;id=6546\" rel=\"noreferrer\" title=\"Eclipse Code Formatter Plugin\">Eclipse Code Formatter Plugin</a>, which solves the problem of maintaining a common code style in team environments where both IDEA and Eclipse are used </p></li>\n</ul>\n"}],"owner":{"account_id":19090,"reputation":4598,"user_id":44440,"accept_rate":66,"display_name":"thebossman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33863,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"closed_date":1386063823,"accepted_answer_id":351310,"answer_count":7,"score":16,"last_activity_date":1662466353,"creation_date":1228777866,"question_id":351298,"body_markdown":"I&#39;ve been digging through Stack Overflow as well as a number of Google searches, and I cannot find a satisfactory code formatter for JavaScript.\r\n\r\nI have found several related tools, such as syntax highlighters and pretty-printers, but I am looking for a tool that I can ideally create a wrapper for in Eclipse and simply run from the menu bar. Hence, if any Java-based ones are available, that is a big plus. Free and/or open-source is preferred as well.\r\n\r\nI am looking for something that my development group can use to maintain a consistent code style.\r\n\r\n**Edit:** Thanks to kRON for linking to the [format customizations][1] page.\r\n\r\n**Edit:** [Related question][2] on Stack Overflow.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/351298/best-source-code-formatter-for-javascript#351310\r\n  [2]: https://stackoverflow.com/questions/18985/javascript-beautifier","title":"Best source code formatter for Javascript?","body":"<p>I've been digging through Stack Overflow as well as a number of Google searches, and I cannot find a satisfactory code formatter for JavaScript.</p>\n<p>I have found several related tools, such as syntax highlighters and pretty-printers, but I am looking for a tool that I can ideally create a wrapper for in Eclipse and simply run from the menu bar. Hence, if any Java-based ones are available, that is a big plus. Free and/or open-source is preferred as well.</p>\n<p>I am looking for something that my development group can use to maintain a consistent code style.</p>\n<p><strong>Edit:</strong> Thanks to kRON for linking to the <a href=\"https://stackoverflow.com/questions/351298/best-source-code-formatter-for-javascript#351310\">format customizations</a> page.</p>\n<p><strong>Edit:</strong> <a href=\"https://stackoverflow.com/questions/18985/javascript-beautifier\">Related question</a> on Stack Overflow.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":1,"creation_date":1662463116,"post_id":73621062,"comment_id":130006081,"body_markdown":"can you show what generate() method contain?","body":"can you show what generate() method contain?"},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1662465135,"post_id":73621062,"comment_id":130006840,"body_markdown":"It seems that you generate() function generating the same string on every click, correct your generate() function.","body":"It seems that you generate() function generating the same string on every click, correct your generate() function."}],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662465213,"creation_date":1662465213,"answer_id":73621619,"question_id":73621062,"body_markdown":"It seems that you generate() function generating the same string on every click, correct your generate() function.\r\n\r\nModify generate() function like this for create random password and pass argument length which you want for password.\r\n\r\n\r\n    fun generate(length: Int) : String {\r\n            val allowedChars = (&#39;A&#39;..&#39;Z&#39;) + (&#39;a&#39;..&#39;z&#39;) + (&#39;0&#39;..&#39;9&#39;)\r\n            return (1..length)\r\n                .map { allowedChars.random() }\r\n                .joinToString(&quot;&quot;)\r\n        }","title":"How can I create a button for clickable many times on android?","body":"<p>It seems that you generate() function generating the same string on every click, correct your generate() function.</p>\n<p>Modify generate() function like this for create random password and pass argument length which you want for password.</p>\n<pre><code>fun generate(length: Int) : String {\n        val allowedChars = ('A'..'Z') + ('a'..'z') + ('0'..'9')\n        return (1..length)\n            .map { allowedChars.random() }\n            .joinToString(&quot;&quot;)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25649756,"reputation":24,"user_id":19417216,"display_name":"phornbet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662466299,"creation_date":1662466221,"answer_id":73621829,"question_id":73621062,"body_markdown":"After calling generate() the first time `password.length() &lt; 16` will always be false.\r\nPut `String password` inside generate():\r\n\r\n    private String generate () {\r\n    String password = &quot;&quot;;\r\n    Random random = new Random();\r\n    int character;\r\n    while (password.length() &lt; 16) {\r\n    character = random.nextInt(76);\r\n    password += characters[character];\r\n    }\r\n    return password;}\r\n","title":"How can I create a button for clickable many times on android?","body":"<p>After calling generate() the first time <code>password.length() &lt; 16</code> will always be false.\nPut <code>String password</code> inside generate():</p>\n<pre><code>private String generate () {\nString password = &quot;&quot;;\nRandom random = new Random();\nint character;\nwhile (password.length() &lt; 16) {\ncharacter = random.nextInt(76);\npassword += characters[character];\n}\nreturn password;}\n</code></pre>\n"}],"owner":{"account_id":26259414,"reputation":3,"user_id":19930985,"display_name":"Orhan Gazi BARAK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73621829,"answer_count":2,"score":0,"last_activity_date":1662466299,"creation_date":1662462755,"question_id":73621062,"body_markdown":"I triying make a android app for learning but my buttons clickable only once. I can&#39;t click second time. Here is my codes for button. \r\n\r\nThere is the xml codes:\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:width=&quot;200dp&quot;\r\n        android:height=&quot;80dp&quot;\r\n        android:shadowColor=&quot;@color/red&quot;\r\n        android:text=&quot;@string/button&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:cornerRadius=&quot;100dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/text&quot;\r\n        app:rippleColor=&quot;@color/red&quot;\r\n        app:strokeColor=&quot;@color/red&quot;\r\n        tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n\r\nAnd there is java codes:\r\n\r\n    buttonGenerate.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            passwordText.setText(generate());\r\n        }\r\n    });\r\n\r\nThere is generate method:\r\n\r\n    private String generate () {\r\n    Random random = new Random();\r\n    int character;\r\n    while (password.length() &lt; 16) {\r\n    character = random.nextInt(76);\r\n    password += characters[character];\r\n    }\r\n    return password;\r\n\r\nThere is variables:\r\n\r\n    private final String[] characters = {\r\n    &quot;A&quot; , &quot;B&quot; , &quot;C&quot; , &quot;D&quot; , &quot;E&quot; , &quot;F&quot; , &quot;G&quot; , &quot;H&quot;,\r\n    &quot;I&quot; , &quot;J&quot; , &quot;K&quot; , &quot;L&quot; , &quot;M&quot; , &quot;N&quot; , &quot;O&quot; , &quot;P&quot; , &quot;Q&quot; , &quot;R&quot; , &quot;S&quot; , &quot;T&quot; ,\r\n    &quot;U&quot; , &quot;V&quot; , &quot;W&quot; , &quot;X&quot; , &quot;Y&quot; , &quot;Z&quot;, &quot;a&quot; , &quot;b&quot; , &quot;c&quot; , &quot;d&quot; , &quot;e&quot; , &quot;f&quot; , &quot;g&quot; , &quot;h&quot;,\r\n    &quot;i&quot; , &quot;j&quot; , &quot;k&quot; , &quot;l&quot; , &quot;m&quot; , &quot;n&quot; , &quot;o&quot; , &quot;p&quot; , &quot;q&quot; , &quot;r&quot; , &quot;s&quot; , &quot;t&quot; ,&quot;u&quot; , &quot;v&quot; , &quot;w&quot; , &quot;x&quot; , &quot;y&quot; , &quot;z&quot;, &quot;0&quot; , &quot;1&quot; , &quot;2&quot; , &quot;3&quot; , &quot;4&quot; , &quot;5&quot; , &quot;6&quot; ,\r\n    &quot;7&quot; , &quot;8&quot; , &quot;9&quot;, &quot;!&quot; , &quot;#&quot; , &quot;&#39;&quot; , &quot;+&quot; , &quot;%&quot; , &quot;(&quot; , &quot;)&quot; , &quot;&amp;&quot; ,\r\n    &quot;=&quot; , &quot;?&quot; , &quot;*&quot; , &quot;-&quot; , &quot;$&quot; , &quot;{&quot; , &quot;}&quot; };\r\n    private String password = &quot;&quot;;\r\n\r\n","title":"How can I create a button for clickable many times on android?","body":"<p>I triying make a android app for learning but my buttons clickable only once. I can't click second time. Here is my codes for button.</p>\n<p>There is the xml codes:</p>\n<pre><code>&lt;Button\n    android:id=&quot;@+id/button&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;50dp&quot;\n    android:width=&quot;200dp&quot;\n    android:height=&quot;80dp&quot;\n    android:shadowColor=&quot;@color/red&quot;\n    android:text=&quot;@string/button&quot;\n    android:textColor=&quot;@color/black&quot;\n    android:textSize=&quot;20sp&quot;\n    android:visibility=&quot;visible&quot;\n    app:cornerRadius=&quot;100dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/text&quot;\n    app:rippleColor=&quot;@color/red&quot;\n    app:strokeColor=&quot;@color/red&quot;\n    tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n</code></pre>\n<p>And there is java codes:</p>\n<pre><code>buttonGenerate.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        passwordText.setText(generate());\n    }\n});\n</code></pre>\n<p>There is generate method:</p>\n<pre><code>private String generate () {\nRandom random = new Random();\nint character;\nwhile (password.length() &lt; 16) {\ncharacter = random.nextInt(76);\npassword += characters[character];\n}\nreturn password;\n</code></pre>\n<p>There is variables:</p>\n<pre><code>private final String[] characters = {\n&quot;A&quot; , &quot;B&quot; , &quot;C&quot; , &quot;D&quot; , &quot;E&quot; , &quot;F&quot; , &quot;G&quot; , &quot;H&quot;,\n&quot;I&quot; , &quot;J&quot; , &quot;K&quot; , &quot;L&quot; , &quot;M&quot; , &quot;N&quot; , &quot;O&quot; , &quot;P&quot; , &quot;Q&quot; , &quot;R&quot; , &quot;S&quot; , &quot;T&quot; ,\n&quot;U&quot; , &quot;V&quot; , &quot;W&quot; , &quot;X&quot; , &quot;Y&quot; , &quot;Z&quot;, &quot;a&quot; , &quot;b&quot; , &quot;c&quot; , &quot;d&quot; , &quot;e&quot; , &quot;f&quot; , &quot;g&quot; , &quot;h&quot;,\n&quot;i&quot; , &quot;j&quot; , &quot;k&quot; , &quot;l&quot; , &quot;m&quot; , &quot;n&quot; , &quot;o&quot; , &quot;p&quot; , &quot;q&quot; , &quot;r&quot; , &quot;s&quot; , &quot;t&quot; ,&quot;u&quot; , &quot;v&quot; , &quot;w&quot; , &quot;x&quot; , &quot;y&quot; , &quot;z&quot;, &quot;0&quot; , &quot;1&quot; , &quot;2&quot; , &quot;3&quot; , &quot;4&quot; , &quot;5&quot; , &quot;6&quot; ,\n&quot;7&quot; , &quot;8&quot; , &quot;9&quot;, &quot;!&quot; , &quot;#&quot; , &quot;'&quot; , &quot;+&quot; , &quot;%&quot; , &quot;(&quot; , &quot;)&quot; , &quot;&amp;&quot; ,\n&quot;=&quot; , &quot;?&quot; , &quot;*&quot; , &quot;-&quot; , &quot;$&quot; , &quot;{&quot; , &quot;}&quot; };\nprivate String password = &quot;&quot;;\n</code></pre>\n"},{"tags":["java","recursion","hex","decimal"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":1,"creation_date":1385141269,"post_id":20150901,"comment_id":30034893,"body_markdown":"so what have you tried?","body":"so what have you tried?"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1385141376,"post_id":20150901,"comment_id":30034966,"body_markdown":"`Integer.toHexString` doesn&#39;t convert decimal to hexadecimal, anyway :)","body":"<code>Integer.toHexString</code> doesn&#39;t convert decimal to hexadecimal, anyway :)"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1385141930,"post_id":20150901,"comment_id":30035273,"body_markdown":"You&#39;re concatenating twice, that&#39;s why it doesn&#39;t work properly. You are mixing up iteration with recursion.","body":"You&#39;re concatenating twice, that&#39;s why it doesn&#39;t work properly. You are mixing up iteration with recursion."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1385141976,"post_id":20150901,"comment_id":30035300,"body_markdown":"So do a Search for: `&quot; + result&quot;` Replace with: `&lt;nothing&gt;` and apply that to all but the last match.","body":"So do a Search for: <code>&quot; + result&quot;</code> Replace with: <code>&lt;nothing&gt;</code> and apply that to all but the last match."},{"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"score":0,"creation_date":1385142098,"post_id":20150901,"comment_id":30035367,"body_markdown":"Do you notice in your recursive call you are converting your Integer to a String, just to convert it back at the beginning of your function?","body":"Do you notice in your recursive call you are converting your Integer to a String, just to convert it back at the beginning of your function?"},{"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"score":0,"creation_date":1385142156,"post_id":20150901,"comment_id":30035397,"body_markdown":"Please add a sample of what `doesn&#39;t work properly` means","body":"Please add a sample of what <code>doesn&#39;t work properly</code> means"},{"owner":{"account_id":2154106,"reputation":1258,"user_id":1909728,"accept_rate":92,"display_name":"Liam de Haas"},"score":0,"creation_date":1385142211,"post_id":20150901,"comment_id":30035426,"body_markdown":"I could be that i&#39;m mixing stuff up, i just started learning java for college and this is a assignment i have to do. i have a working thing but that&#39;s not recursive","body":"I could be that i&#39;m mixing stuff up, i just started learning java for college and this is a assignment i have to do. i have a working thing but that&#39;s not recursive"},{"owner":{"account_id":2154106,"reputation":1258,"user_id":1909728,"accept_rate":92,"display_name":"Liam de Haas"},"score":0,"creation_date":1385142259,"post_id":20150901,"comment_id":30035449,"body_markdown":"@DWilches when i put in 1234 it should return 4D2 but instead returns 00D77","body":"@DWilches when i put in 1234 it should return 4D2 but instead returns 00D77"},{"owner":{"account_id":97296,"reputation":5518,"user_id":263986,"accept_rate":96,"display_name":"Jonathan Apodaca"},"score":0,"creation_date":1385142468,"post_id":20150901,"comment_id":30035565,"body_markdown":"The default case for the switch doesn&#39;t seem right to me...try `default: result = remainder + result`?","body":"The default case for the switch doesn&#39;t seem right to me...try <code>default: result = remainder + result</code>?"},{"owner":{"account_id":2154106,"reputation":1258,"user_id":1909728,"accept_rate":92,"display_name":"Liam de Haas"},"score":0,"creation_date":1385142621,"post_id":20150901,"comment_id":30035647,"body_markdown":"@Jrop that worked but i get 04D2 instead of 4D2, any idea?","body":"@Jrop that worked but i get 04D2 instead of 4D2, any idea?"},{"owner":{"account_id":97296,"reputation":5518,"user_id":263986,"accept_rate":96,"display_name":"Jonathan Apodaca"},"score":0,"creation_date":1385142696,"post_id":20150901,"comment_id":30035691,"body_markdown":"For your base case, you are returning leading zeros as `&quot;0&quot;`, whereas I think you just want to return nothing (i.e., the empty string)","body":"For your base case, you are returning leading zeros as <code>&quot;0&quot;</code>, whereas I think you just want to return nothing (i.e., the empty string)"},{"owner":{"account_id":2154106,"reputation":1258,"user_id":1909728,"accept_rate":92,"display_name":"Liam de Haas"},"score":0,"creation_date":1385142777,"post_id":20150901,"comment_id":30035735,"body_markdown":"@Jrop makes sense, tried it and it works! thank you all!","body":"@Jrop makes sense, tried it and it works! thank you all!"}],"answers":[{"tags":[],"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1385143334,"creation_date":1385142828,"answer_id":20151387,"question_id":20150901,"body_markdown":"The problem is in your default clause:\r\n\r\n    default: result = Integer.toString(n/16) + result; break;\r\n\r\nit should read:\r\n\r\n    default: result = Integer.toString(remainder) + result; break;\r\n\r\nThat will make your program return &quot;04D2&quot;.\r\n\r\nBut there are several other corrections you can make:\r\n\r\n1. Stop converting back and forth to String. For example that same line can be just:\r\n\r\n   `default: result = remainder + result; break;`\r\n\r\n   Also, change your parameters time to `int`. If you do need to receive a `String`, then make this an auxiliary function and make your main function receive a `String`.\r\n\r\n2. You don&#39;t need that `break`at the end of your `default`\r\n\r\n3. You don&#39;t need a switch. Isn&#39;t `&#39;F&#39; = &#39;A&#39; + (15 - 10)` ? You can figure out how to make a formula that translates any number in the range [10,15] to its corresponding letter.\r\n\r\n4. Instead of `Integer.toString(0)` you can use `&quot;0&quot;` ... but that isn&#39;t even necessary, you can use `&quot;&quot;` to avoid that leading `0` in your output. If your are worried for handling the special case where the whole number is `&quot;0&quot;` add a special clause.","title":"Convert Decimal to Hex using Recursive method Java","body":"<p>The problem is in your default clause:</p>\n\n<pre><code>default: result = Integer.toString(n/16) + result; break;\n</code></pre>\n\n<p>it should read:</p>\n\n<pre><code>default: result = Integer.toString(remainder) + result; break;\n</code></pre>\n\n<p>That will make your program return \"04D2\".</p>\n\n<p>But there are several other corrections you can make:</p>\n\n<ol>\n<li><p>Stop converting back and forth to String. For example that same line can be just:</p>\n\n<p><code>default: result = remainder + result; break;</code></p>\n\n<p>Also, change your parameters time to <code>int</code>. If you do need to receive a <code>String</code>, then make this an auxiliary function and make your main function receive a <code>String</code>.</p></li>\n<li><p>You don't need that <code>break</code>at the end of your <code>default</code></p></li>\n<li><p>You don't need a switch. Isn't <code>'F' = 'A' + (15 - 10)</code> ? You can figure out how to make a formula that translates any number in the range [10,15] to its corresponding letter.</p></li>\n<li><p>Instead of <code>Integer.toString(0)</code> you can use <code>\"0\"</code> ... but that isn't even necessary, you can use <code>\"\"</code> to avoid that leading <code>0</code> in your output. If your are worried for handling the special case where the whole number is <code>\"0\"</code> add a special clause.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10607933,"reputation":11,"user_id":7812679,"display_name":"user7812679"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491291448,"creation_date":1491290496,"answer_id":43200734,"question_id":20150901,"body_markdown":"The code below may help you to solve your problem:\r\n\r\n   \r\n\r\n    public static String decimalToAnyBase(int num,int base) {\t\t\r\n    \tif(num&lt;base) {\r\n    \t\treturn num+&quot;&quot;;\r\n        }\r\n    \tString result=null;\r\n    \tint rem=num%base;\r\n    \tString str=decimalToAnyBase(num/base, base);\r\n    \tresult=str+((rem&gt;=10)? (char)(rem-10+&#39;A&#39;)+&quot;&quot;:rem);\r\n    \treturn result;\r\n    }","title":"Convert Decimal to Hex using Recursive method Java","body":"<p>The code below may help you to solve your problem:</p>\n\n<pre><code>public static String decimalToAnyBase(int num,int base) {       \n    if(num&lt;base) {\n        return num+\"\";\n    }\n    String result=null;\n    int rem=num%base;\n    String str=decimalToAnyBase(num/base, base);\n    result=str+((rem&gt;=10)? (char)(rem-10+'A')+\"\":rem);\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25155372,"reputation":1,"user_id":19000266,"display_name":"Rakesh_Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651476264,"creation_date":1651319938,"answer_id":72068326,"question_id":20150901,"body_markdown":"```java\r\n    import java.util.Scanner;\r\n\r\n    public class Assign01_05 \r\n    {\r\n    \tstatic String res;\r\n    \tpublic static void hex(int num) //125\r\n    \t{\r\n    \t\tif(num&gt;=0 &amp;&amp; num&lt;10)\r\n    \t\t\tSystem.out.print(num);\r\n    \t\telse if(num&gt;=10 &amp;&amp; num&lt;=15)\r\n    \t\t{\r\n    \t\t\tswitch(num)\r\n    \t\t\t{\r\n    \t\t\tcase 10:\r\n    \t\t\t\tSystem.out.print(&#39;A&#39;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 11:\r\n    \t\t\t\tSystem.out.print(&#39;B&#39;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 12:\r\n    \t\t\t\tSystem.out.print(&#39;C&#39;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 13:\r\n    \t\t\t\tSystem.out.print(&#39;D&#39;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 14:\r\n    \t\t\t\tSystem.out.print(&#39;E&#39;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 15:\r\n    \t\t\t\tSystem.out.println(&#39;F&#39;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\thex(num/16);\r\n    \t\t\thex(num%16);\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter the Demical number :&quot;);\r\n    \t\tint num=sc.nextInt();\r\n    \t\thex(num);\r\n    \t}\r\n    }\r\n\r\n```\r\n\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Assign01_05 \r\n{\r\n\tstatic String res;\r\n\tpublic static void hex(int num) //125\r\n\t{\r\n\t\tif(num&gt;=0 &amp;&amp; num&lt;10)\r\n\t\t\tSystem.out.print(num);\r\n\t\telse if(num&gt;=10 &amp;&amp; num&lt;=15)\r\n\t\t{\r\n\t\t\tswitch(num)\r\n\t\t\t{\r\n\t\t\tcase 10:\r\n\t\t\t\tSystem.out.print(&#39;A&#39;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 11:\r\n\t\t\t\tSystem.out.print(&#39;B&#39;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 12:\r\n\t\t\t\tSystem.out.print(&#39;C&#39;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 13:\r\n\t\t\t\tSystem.out.print(&#39;D&#39;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 14:\r\n\t\t\t\tSystem.out.print(&#39;E&#39;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 15:\r\n\t\t\t\tSystem.out.println(&#39;F&#39;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\thex(num/16);\r\n\t\t\thex(num%16);\r\n\t\t}\r\n\t}\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the Demical number :&quot;);\r\n\t\tint num=sc.nextInt();\r\n\t\thex(num);\r\n\t}\r\n}\r\n```","title":"Convert Decimal to Hex using Recursive method Java","body":"<pre class=\"lang-java prettyprint-override\"><code>    import java.util.Scanner;\n\n    public class Assign01_05 \n    {\n        static String res;\n        public static void hex(int num) //125\n        {\n            if(num&gt;=0 &amp;&amp; num&lt;10)\n                System.out.print(num);\n            else if(num&gt;=10 &amp;&amp; num&lt;=15)\n            {\n                switch(num)\n                {\n                case 10:\n                    System.out.print('A');\n                    break;\n                case 11:\n                    System.out.print('B');\n                    break;\n                case 12:\n                    System.out.print('C');\n                    break;\n                case 13:\n                    System.out.print('D');\n                    break;\n                case 14:\n                    System.out.print('E');\n                    break;\n                case 15:\n                    System.out.println('F');\n                    break;\n                }\n            }\n            else\n            {\n                hex(num/16);\n                hex(num%16);\n            }\n        }\n        public static void main(String[] args) \n        {\n            Scanner sc = new Scanner(System.in);\n            System.out.println(&quot;Enter the Demical number :&quot;);\n            int num=sc.nextInt();\n            hex(num);\n        }\n    }\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Assign01_05 \n{\n    static String res;\n    public static void hex(int num) //125\n    {\n        if(num&gt;=0 &amp;&amp; num&lt;10)\n            System.out.print(num);\n        else if(num&gt;=10 &amp;&amp; num&lt;=15)\n        {\n            switch(num)\n            {\n            case 10:\n                System.out.print('A');\n                break;\n            case 11:\n                System.out.print('B');\n                break;\n            case 12:\n                System.out.print('C');\n                break;\n            case 13:\n                System.out.print('D');\n                break;\n            case 14:\n                System.out.print('E');\n                break;\n            case 15:\n                System.out.println('F');\n                break;\n            }\n        }\n        else\n        {\n            hex(num/16);\n            hex(num%16);\n        }\n    }\n    public static void main(String[] args) \n    {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter the Demical number :&quot;);\n        int num=sc.nextInt();\n        hex(num);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8965302,"reputation":1,"user_id":6686210,"display_name":"poonam nayak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651556310,"creation_date":1651484770,"answer_id":72084958,"question_id":20150901,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Ques5 {\r\n    \t\r\n    \tpublic static void hex(int n) {\r\n    \t\t\r\n    \t\tif(n&gt;9&amp;&amp;n&lt;=15) {\r\n    \t\t\tSystem.out.printf(&quot;%c&quot;,&#39;A&#39;+(n-10));\r\n    \t\t}\r\n    \t\telse if(n&gt;=0&amp;&amp;n&lt;=9){\r\n    \t\t\tSystem.out.printf(&quot;%d&quot;,n);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t    hex(n/16);\r\n    \t\t\thex(n%16);\r\n    \t\t}\t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter the decimal number : &quot;);\r\n    \t\tint i = sc.nextInt();\r\n    \t\tSystem.out.println(&quot;The hexadecimal number is : &quot;);\r\n    \t\thex(i);\r\n    \t\tsc.close();\r\n    \t}\r\n    \r\n    }","title":"Convert Decimal to Hex using Recursive method Java","body":"<pre><code>import java.util.Scanner;\n\npublic class Ques5 {\n    \n    public static void hex(int n) {\n        \n        if(n&gt;9&amp;&amp;n&lt;=15) {\n            System.out.printf(&quot;%c&quot;,'A'+(n-10));\n        }\n        else if(n&gt;=0&amp;&amp;n&lt;=9){\n            System.out.printf(&quot;%d&quot;,n);\n        }\n        else {\n            hex(n/16);\n            hex(n%16);\n        }       \n    }\n    \n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter the decimal number : &quot;);\n        int i = sc.nextInt();\n        System.out.println(&quot;The hexadecimal number is : &quot;);\n        hex(i);\n        sc.close();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26260058,"reputation":1,"user_id":19931529,"display_name":"Thanh Sơn Đ&#224;m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662466176,"creation_date":1662466176,"answer_id":73621820,"question_id":20150901,"body_markdown":"    const char hex_string[17] = &quot;0123456789ABCDEF&quot;;\r\n    void dec_to_hex(long long x){\r\n        if(x == 0) return;\r\n        dec_to_hex(x/16);\r\n        printf(&quot;%c&quot;,hex_string[x%16]);\r\n    }\r\n\r\nSame in Java","title":"Convert Decimal to Hex using Recursive method Java","body":"<pre><code>const char hex_string[17] = &quot;0123456789ABCDEF&quot;;\nvoid dec_to_hex(long long x){\n    if(x == 0) return;\n    dec_to_hex(x/16);\n    printf(&quot;%c&quot;,hex_string[x%16]);\n}\n</code></pre>\n<p>Same in Java</p>\n"}],"owner":{"account_id":2154106,"reputation":1258,"user_id":1909728,"accept_rate":92,"display_name":"Liam de Haas"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14821,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20151387,"answer_count":5,"score":1,"last_activity_date":1662466176,"creation_date":1385141235,"question_id":20150901,"body_markdown":"I need to make a recursive method that converts a decimal into hexadecimal.\r\nI can&#39;t use `Integer.toHexString`.\r\nEDIT:I tried this code but it doesn&#39;t work properly\r\n\r\n    public static String Hexa(String s) {\r\n        String result = &quot;&quot;;\r\n        int n = Integer.parseInt(s);\r\n        int remainder = n % 16;\r\n\r\n        if (n == 0) {\r\n            return Integer.toString(0);\r\n        } else {\r\n            switch (remainder) {\r\n                case 10:\r\n                    result = &quot;A&quot; + result;\r\n                    break;\r\n                case 11:\r\n                    result = &quot;B&quot; + result;\r\n                    break;\r\n                case 12:\r\n                    result = &quot;C&quot; + result;\r\n                    break;\r\n                case 13:\r\n                    result = &quot;D&quot; + result;\r\n                    break;\r\n                case 14:\r\n                    result = &quot;E&quot; + result;\r\n                    break;\r\n                case 15:\r\n                    result = &quot;F&quot; + result;\r\n                    break;\r\n                default: result = Integer.toString(n/16) + result; break;\r\n            }\r\n            System.out.println(result);\r\n            return Hexa(Integer.toString(n/16)) + result;\r\n        }\r\n    }\r\n\r\nEdit: \r\nChanged the `default` case and the `if (n == 0)` loop return statement and it works beautifully now.\r\n\r\nnew code:\r\n\r\n     public static String Hexa(String s) {\r\n            String result = &quot;&quot;;\r\n            int n = Integer.parseInt(s);\r\n            int remainder = n % 16;\r\n    \r\n            if (n == 0) {\r\n                return &quot;&quot;;\r\n            } else {\r\n                switch (remainder) {\r\n                    case 10:\r\n                        result = &quot;A&quot;;\r\n                        break;\r\n                    case 11:\r\n                        result = &quot;B&quot;;\r\n                        break;\r\n                    case 12:\r\n                        result = &quot;C&quot;;\r\n                        break;\r\n                    case 13:\r\n                        result = &quot;D&quot;;\r\n                        break;\r\n                    case 14:\r\n                        result = &quot;E&quot;;\r\n                        break;\r\n                    case 15:\r\n                        result = &quot;F&quot;;\r\n                        break;\r\n                    default:\r\n                        result = remainder + result;\r\n                        break;\r\n                }\r\n                return Hexa(Integer.toString(n / 16)) + result;\r\n            }\r\n        }","title":"Convert Decimal to Hex using Recursive method Java","body":"<p>I need to make a recursive method that converts a decimal into hexadecimal.\nI can't use <code>Integer.toHexString</code>.\nEDIT:I tried this code but it doesn't work properly</p>\n\n<pre><code>public static String Hexa(String s) {\n    String result = \"\";\n    int n = Integer.parseInt(s);\n    int remainder = n % 16;\n\n    if (n == 0) {\n        return Integer.toString(0);\n    } else {\n        switch (remainder) {\n            case 10:\n                result = \"A\" + result;\n                break;\n            case 11:\n                result = \"B\" + result;\n                break;\n            case 12:\n                result = \"C\" + result;\n                break;\n            case 13:\n                result = \"D\" + result;\n                break;\n            case 14:\n                result = \"E\" + result;\n                break;\n            case 15:\n                result = \"F\" + result;\n                break;\n            default: result = Integer.toString(n/16) + result; break;\n        }\n        System.out.println(result);\n        return Hexa(Integer.toString(n/16)) + result;\n    }\n}\n</code></pre>\n\n<p>Edit: \nChanged the <code>default</code> case and the <code>if (n == 0)</code> loop return statement and it works beautifully now.</p>\n\n<p>new code:</p>\n\n<pre><code> public static String Hexa(String s) {\n        String result = \"\";\n        int n = Integer.parseInt(s);\n        int remainder = n % 16;\n\n        if (n == 0) {\n            return \"\";\n        } else {\n            switch (remainder) {\n                case 10:\n                    result = \"A\";\n                    break;\n                case 11:\n                    result = \"B\";\n                    break;\n                case 12:\n                    result = \"C\";\n                    break;\n                case 13:\n                    result = \"D\";\n                    break;\n                case 14:\n                    result = \"E\";\n                    break;\n                case 15:\n                    result = \"F\";\n                    break;\n                default:\n                    result = remainder + result;\n                    break;\n            }\n            return Hexa(Integer.toString(n / 16)) + result;\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1662464347,"post_id":73621411,"comment_id":130006525,"body_markdown":"Maybe you can take the string as a command line parameter. Maybe you just need to write a function which takes a string parameter. Ask your teacher.","body":"Maybe you can take the string as a command line parameter. Maybe you just need to write a function which takes a string parameter. Ask your teacher."},{"owner":{"account_id":17406870,"reputation":53,"user_id":12614819,"display_name":"&#237;laya"},"score":0,"creation_date":1662465081,"post_id":73621411,"comment_id":130006818,"body_markdown":"cannot use command line for this question! its on a coding labs site! @tgdavies","body":"cannot use command line for this question! its on a coding labs site! @tgdavies"},{"owner":{"account_id":26232929,"reputation":62,"user_id":19908536,"display_name":"Prabaharan Balaji"},"score":0,"creation_date":1662465686,"post_id":73621411,"comment_id":130007044,"body_markdown":"In which language your trying to this? and you are question is about how to get the input or how to write program for this?","body":"In which language your trying to this? and you are question is about how to get the input or how to write program for this?"}],"answers":[{"tags":[],"owner":{"account_id":22331269,"reputation":29,"user_id":16552518,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662466123,"creation_date":1662466123,"answer_id":73621807,"question_id":73621411,"body_markdown":"I&#39;m not quite sure: is this a task that has been given to you by your teacher? Assuming this (because it seems so), I don&#39;t provide any actual code snippets, just an idea and you try to solve it at your own. If this is a real task: do not hesitate to ask for a solution but I think with the following context you will be able to do it at your own ; )\r\n\r\n 1. How you get the string shouldn&#39;t matter. For a first test, just\r\n    hardcode it.\r\n 2. Split the string at each space ([How to][1]) and safe it in an array.\r\n 3. As your array has indexes: use them to check whether it is even or odd (modulo 2) and safe the even- and odd words in extra arrays.\r\n 4. From there on you just have to reverse every character in one of your arrays ([In a loop][2] or [with an existing function (recommended)][3])\r\n 5. Now create a string. Fill it according to your instructions (so the reversed strings start at the highest index and decrement. Then add the non-reversed strings, starting at the lowest index and increment).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space\r\n  [2]: https://beginnersbook.com/2017/09/java-program-to-reverse-words-in-a-string/\r\n  [3]: https://www.javatpoint.com/java-program-to-reverse-each-word-in-string","title":"reverse words at even positions only","body":"<p>I'm not quite sure: is this a task that has been given to you by your teacher? Assuming this (because it seems so), I don't provide any actual code snippets, just an idea and you try to solve it at your own. If this is a real task: do not hesitate to ask for a solution but I think with the following context you will be able to do it at your own ; )</p>\n<ol>\n<li>How you get the string shouldn't matter. For a first test, just\nhardcode it.</li>\n<li>Split the string at each space (<a href=\"https://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space\">How to</a>) and safe it in an array.</li>\n<li>As your array has indexes: use them to check whether it is even or odd (modulo 2) and safe the even- and odd words in extra arrays.</li>\n<li>From there on you just have to reverse every character in one of your arrays (<a href=\"https://beginnersbook.com/2017/09/java-program-to-reverse-words-in-a-string/\" rel=\"nofollow noreferrer\">In a loop</a> or <a href=\"https://www.javatpoint.com/java-program-to-reverse-each-word-in-string\" rel=\"nofollow noreferrer\">with an existing function (recommended)</a>)</li>\n<li>Now create a string. Fill it according to your instructions (so the reversed strings start at the highest index and decrement. Then add the non-reversed strings, starting at the lowest index and increment).</li>\n</ol>\n"}],"owner":{"account_id":17406870,"reputation":53,"user_id":12614819,"display_name":"&#237;laya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1662466123,"creation_date":1662464261,"question_id":73621411,"body_markdown":"I&#39;ve been trying to do this question for a while. It goes as follows: \r\n&gt;Given a string S containing a few words. If the count of words in the string S is even then reverse its even position’s words else reverse its odd position, push reversed words at the starting of a new string and append the remaining words as it is in order.\r\n&gt;For example:\r\n\r\n&gt;Input string: Ashish Yadav Abhishek Rajput Sunil Pundir\r\n\r\n&gt;Output string: ridnuP tupjaR vadaY Ashish Abhishek Sunil\r\n\r\nDo we have to take a string input from user and then convert it into an array and then split it from the middle...? I am very confused. Please give advice.\r\n","title":"reverse words at even positions only","body":"<p>I've been trying to do this question for a while. It goes as follows:</p>\n<blockquote>\n<p>Given a string S containing a few words. If the count of words in the string S is even then reverse its even position’s words else reverse its odd position, push reversed words at the starting of a new string and append the remaining words as it is in order.\nFor example:</p>\n</blockquote>\n<blockquote>\n<p>Input string: Ashish Yadav Abhishek Rajput Sunil Pundir</p>\n</blockquote>\n<blockquote>\n<p>Output string: ridnuP tupjaR vadaY Ashish Abhishek Sunil</p>\n</blockquote>\n<p>Do we have to take a string input from user and then convert it into an array and then split it from the middle...? I am very confused. Please give advice.</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1662309236,"post_id":73599831,"comment_id":129971476,"body_markdown":"I recently answered a similar question [..last day of the month data](https://stackoverflow.com/questions/73593147/how-to-retrieve-the-last-day-of-the-month-data/73593700#73593700). See if that solution would fit your purpose.","body":"I recently answered a similar question <a href=\"https://stackoverflow.com/questions/73593147/how-to-retrieve-the-last-day-of-the-month-data/73593700#73593700\">..last day of the month data</a>. See if that solution would fit your purpose."},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1662311890,"post_id":73599831,"comment_id":129972033,"body_markdown":"@Adrian Klaver Thanks for your reply. Maybe I didn&#39;t apply your advice correctly. But I get the figure at the end of the month, but a month earlier.","body":"@Adrian Klaver Thanks for your reply. Maybe I didn&#39;t apply your advice correctly. But I get the figure at the end of the month, but a month earlier."},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1662311921,"post_id":73599831,"comment_id":129972036,"body_markdown":"@Adrian Klaver value = &quot;select e.date, e.id, e.date, e.local_currency_id, e.rate, e.downloaddate&quot; +\n            &quot; from exchange_rates e &quot; +\n            &quot;join (select local_currency_id, max(date) as max_date &quot; +\n            &quot;from exchange_rates group by local_currency_id, date_trunc(&#39;month&#39;, date)) as m_date on e.date = m_date.max_date &quot; +\n            &quot;where e.date &gt;=:currentDate and e.date &lt; m_date.max_date and e.local_currency_id = :localCurrencyId &quot; +\n            &quot; order by e.downloaddate desc limit 1&quot;, nativeQuery = true","body":"@Adrian Klaver value = &quot;select e.date, e.id, e.date, e.local_currency_id, e.rate, e.downloaddate&quot; +             &quot; from exchange_rates e &quot; +             &quot;join (select local_currency_id, max(date) as max_date &quot; +             &quot;from exchange_rates group by local_currency_id, date_trunc(&#39;month&#39;, date)) as m_date on e.date = m_date.max_date &quot; +             &quot;where e.date &gt;=:currentDate and e.date &lt; m_date.max_date and e.local_currency_id = :localCurrencyId &quot; +             &quot; order by e.downloaddate desc limit 1&quot;, nativeQuery = true"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1662313107,"post_id":73599831,"comment_id":129972271,"body_markdown":"Add the query to your question and format to make it easier to follow.","body":"Add the query to your question and format to make it easier to follow."},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1662313795,"post_id":73599831,"comment_id":129972412,"body_markdown":"@Adrian Klaver Added a new select to my question","body":"@Adrian Klaver Added a new select to my question"},{"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"score":1,"creation_date":1662316304,"post_id":73599831,"comment_id":129972921,"body_markdown":"Please update your question with  sample data, as [formatted text](https://senseful.github.io/text-table/) or a [fiddle](https://dbfiddle.uk/?rdbms=postgres_14). **Do not post images**. Also post the results you get from your query and the desired results of that data - again no images.","body":"Please update your question with  sample data, as <a href=\"https://senseful.github.io/text-table/\" rel=\"nofollow noreferrer\">formatted text</a> or a <a href=\"https://dbfiddle.uk/?rdbms=postgres_14\" rel=\"nofollow noreferrer\">fiddle</a>. <b>Do not post images</b>. Also post the results you get from your query and the desired results of that data - again no images."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1662318297,"post_id":73599831,"comment_id":129973324,"body_markdown":"By the way… Both `Date` classes are legacy, supplanted years ago by the modern *java.time* classes defined in JSR 310.","body":"By the way… Both <code>Date</code> classes are legacy, supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1662319731,"post_id":73599831,"comment_id":129973632,"body_markdown":"1) Define &#39;...but it didn&#39;t work&#39;?  2) Sample input data and expected output would go a long way to helping solving this.  3) Pretty sure `...AND e.date &lt; m_date.max_date` is not helping as you are eliminating all `e.dates` that would make this `...ON e.date = m_date.max_date` work.","body":"1) Define &#39;...but it didn&#39;t work&#39;?  2) Sample input data and expected output would go a long way to helping solving this.  3) Pretty sure <code>...AND e.date &lt; m_date.max_date</code> is not helping as you are eliminating all <code>e.dates</code> that would make this <code>...ON e.date = m_date.max_date</code> work."},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1662347885,"post_id":73599831,"comment_id":129977142,"body_markdown":"@Adrian Klaver I have an amount that needs to be divided by a certain number (this number is rate). One (rate) has different dates, that is, for example, this is the dollar rate and in different numbers the figure of this rate is different, depending on the date. When I enter a certain range of dates, for example from 2022-01-01 to 2022-05-01, then certain amounts appear in my select. So these amounts must be divided by the course, but the course must correspond to this amount for a certain month, and the date of this course must be the latest for this month.","body":"@Adrian Klaver I have an amount that needs to be divided by a certain number (this number is rate). One (rate) has different dates, that is, for example, this is the dollar rate and in different numbers the figure of this rate is different, depending on the date. When I enter a certain range of dates, for example from 2022-01-01 to 2022-05-01, then certain amounts appear in my select. So these amounts must be divided by the course, but the course must correspond to this amount for a certain month, and the date of this course must be the latest for this month."},{"owner":{"account_id":3392888,"reputation":3881,"user_id":2847330,"display_name":"Azhar Khan"},"score":0,"creation_date":1662351051,"post_id":73599831,"comment_id":129977502,"body_markdown":"Does this answer your question? [How to retrieve the last day of the month data](https://stackoverflow.com/questions/73593147/how-to-retrieve-the-last-day-of-the-month-data)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73593147/how-to-retrieve-the-last-day-of-the-month-data\">How to retrieve the last day of the month data</a>"}],"answers":[{"tags":[],"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662465732,"creation_date":1662355520,"answer_id":73604822,"question_id":73599831,"body_markdown":"Here it worked for me:    \r\n\r\n```\r\n    @Query(value = &quot;select e.date, e.id, e.date, e.local_currency_id, e.rate, e.downloaddate&quot; +\r\n                    &quot; from exchange_rates e &quot; +\r\n                    &quot;join (select local_currency_id, max(date) as max_date &quot; +\r\n                    &quot;from exchange_rates group by local_currency_id, date_trunc(&#39;month&#39;, date)) as m_date on e.date = m_date.max_date &quot; +\r\n                    &quot;where e.date &gt;=:currentDate and e.local_currency_id = :localCurrencyId &quot; +\r\n                    &quot; order by date_trunc(&#39;month&#39;, e.downloaddate) desc limit 1&quot;, nativeQuery = true)\r\n            Optional&lt;ExchangeRate&gt; findAllByDateAndLocalCurrency_Id1(Date currentDate, Long localCurrencyId);\r\n```","title":"Find date inside each month","body":"<p>Here it worked for me:</p>\n<pre><code>    @Query(value = &quot;select e.date, e.id, e.date, e.local_currency_id, e.rate, e.downloaddate&quot; +\n                    &quot; from exchange_rates e &quot; +\n                    &quot;join (select local_currency_id, max(date) as max_date &quot; +\n                    &quot;from exchange_rates group by local_currency_id, date_trunc('month', date)) as m_date on e.date = m_date.max_date &quot; +\n                    &quot;where e.date &gt;=:currentDate and e.local_currency_id = :localCurrencyId &quot; +\n                    &quot; order by date_trunc('month', e.downloaddate) desc limit 1&quot;, nativeQuery = true)\n            Optional&lt;ExchangeRate&gt; findAllByDateAndLocalCurrency_Id1(Date currentDate, Long localCurrencyId);\n</code></pre>\n"}],"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73604822,"answer_count":1,"score":0,"last_activity_date":1662465732,"creation_date":1662298433,"question_id":73599831,"body_markdown":"In my project, in the repository, this select finds the nearest date with a currency id that is less than or equal to the date whose range I set.\r\n\r\n    @Query(value = &quot;select e. *from exchange_rates e where e.date &lt;=:currentDate and e.local_currency_id = :localCurrencyId order by e.downloaddate desc limit 1&quot;, nativeQuery = true)\r\n        Optional&lt;ExchangeRate&gt; findAllByDateAndLocalCurrency_Id(Date currentDate, Long localCurrencyId);\r\n\r\nHow can I find a date in each month that is greater than or equal to the date I want to bind, but with the condition that this date must be the closest to the end of each month. That is, you need an ID whose date (exactly the date, not downloaddate) is closest to the end of the month.\r\n\r\nTried doing something like this, but it didn&#39;t work\r\n\r\n```\r\n    @Query(value = &quot;select e.date, e.id, e.date, e.local_currency_id, e.rate, e.downloaddate&quot; +\r\n                &quot; from exchange_rates e &quot; +\r\n                &quot;join (select local_currency_id, max(date) as max_date &quot; +\r\n                &quot;from exchange_rates group by local_currency_id, date_trunc(&#39;month&#39;, date)) as m_date on e.date = m_date.max_date &quot; +\r\n                &quot;where e.date &gt;=:currentDate and e.date &lt; m_date.max_date and e.local_currency_id = :localCurrencyId &quot; +\r\n                &quot; order by e.downloaddate desc limit 1&quot;, nativeQuery = true)\r\n        Optional&lt;ExchangeRate&gt; findAllByDateAndLocalCurrency_Id1(Date currentDate, Long localCurrencyId);\r\n```\r\nFormatted query:\r\n\r\n```\r\nSELECT\r\n    e.date,\r\n    e.id,\r\n    e.date,\r\n    e.local_currency_id,\r\n    e.rate,\r\n    e.downloaddate\r\nFROM\r\n    exchange_rates e\r\n    JOIN (\r\n        SELECT\r\n            local_currency_id,\r\n            max(date) AS max_date\r\n        FROM\r\n            exchange_rates\r\n        GROUP BY\r\n            local_currency_id,\r\n            date_trunc(&#39;month&#39;, date)) AS m_date ON e.date = m_date.max_date\r\nWHERE\r\n    e.date &gt;= :currentDate\r\n    AND e.date &lt; m_date.max_date\r\n    AND e.local_currency_id = :localCurrencyId\r\nORDER BY\r\n    e.downloaddate DESC\r\nLIMIT 1\r\n\r\n```","title":"Find date inside each month","body":"<p>In my project, in the repository, this select finds the nearest date with a currency id that is less than or equal to the date whose range I set.</p>\n<pre><code>@Query(value = &quot;select e. *from exchange_rates e where e.date &lt;=:currentDate and e.local_currency_id = :localCurrencyId order by e.downloaddate desc limit 1&quot;, nativeQuery = true)\n    Optional&lt;ExchangeRate&gt; findAllByDateAndLocalCurrency_Id(Date currentDate, Long localCurrencyId);\n</code></pre>\n<p>How can I find a date in each month that is greater than or equal to the date I want to bind, but with the condition that this date must be the closest to the end of each month. That is, you need an ID whose date (exactly the date, not downloaddate) is closest to the end of the month.</p>\n<p>Tried doing something like this, but it didn't work</p>\n<pre><code>    @Query(value = &quot;select e.date, e.id, e.date, e.local_currency_id, e.rate, e.downloaddate&quot; +\n                &quot; from exchange_rates e &quot; +\n                &quot;join (select local_currency_id, max(date) as max_date &quot; +\n                &quot;from exchange_rates group by local_currency_id, date_trunc('month', date)) as m_date on e.date = m_date.max_date &quot; +\n                &quot;where e.date &gt;=:currentDate and e.date &lt; m_date.max_date and e.local_currency_id = :localCurrencyId &quot; +\n                &quot; order by e.downloaddate desc limit 1&quot;, nativeQuery = true)\n        Optional&lt;ExchangeRate&gt; findAllByDateAndLocalCurrency_Id1(Date currentDate, Long localCurrencyId);\n</code></pre>\n<p>Formatted query:</p>\n<pre><code>SELECT\n    e.date,\n    e.id,\n    e.date,\n    e.local_currency_id,\n    e.rate,\n    e.downloaddate\nFROM\n    exchange_rates e\n    JOIN (\n        SELECT\n            local_currency_id,\n            max(date) AS max_date\n        FROM\n            exchange_rates\n        GROUP BY\n            local_currency_id,\n            date_trunc('month', date)) AS m_date ON e.date = m_date.max_date\nWHERE\n    e.date &gt;= :currentDate\n    AND e.date &lt; m_date.max_date\n    AND e.local_currency_id = :localCurrencyId\nORDER BY\n    e.downloaddate DESC\nLIMIT 1\n\n</code></pre>\n"},{"tags":["java","jbutton","keyevent"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1662465660,"post_id":73621694,"comment_id":130007038,"body_markdown":"Deducing from the naming, `keyCode` is already proven to be `KeyEvent.VK_SPACE`, so the tests `keyCode == KeyEvent.PRESS` and `keyCode == KeyEvent.RELEASE` make no sense at all.","body":"Deducing from the naming, <code>keyCode</code> is already proven to be <code>KeyEvent.VK_SPACE</code>, so the tests <code>keyCode == KeyEvent.PRESS</code> and <code>keyCode == KeyEvent.RELEASE</code> make no sense at all."},{"owner":{"account_id":25903537,"reputation":1,"user_id":19628984,"display_name":"alli"},"score":0,"creation_date":1662465950,"post_id":73621694,"comment_id":130007121,"body_markdown":"I changed it to this but the icon was gone\n`case KeyEvent.VK_SPACE:\n                ImageIcon i=new ImageIcon(&quot;image/heart.jpg&quot;);\n                jButton1.setIcon(i);\n            break;`","body":"I changed it to this but the icon was gone <code>case KeyEvent.VK_SPACE:                 ImageIcon i=new ImageIcon(&quot;image&#47;heart.jpg&quot;);                 jButton1.setIcon(i);             break;</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662466129,"post_id":73621694,"comment_id":130007184,"body_markdown":"Then, you know that the code did something. Now, you have to check whether the specified icon image can be loaded. Actually, it’s recommended to do this beforehand, at the start of the application and re-use the icon object, instead of loading the image again on every keypress.","body":"Then, you know that the code did something. Now, you have to check whether the specified icon image can be loaded. Actually, it’s recommended to do this beforehand, at the start of the application and re-use the icon object, instead of loading the image again on every keypress."}],"owner":{"account_id":25903537,"reputation":1,"user_id":19628984,"display_name":"alli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662465512,"creation_date":1662465512,"question_id":73621694,"body_markdown":"what is wrong here? I want to change the icon of the jbutton when I press the space bar and go back to its original state when I release it\r\n\r\n```\r\n               case KeyEvent.VK_SPACE:\r\n                ImageIcon i=new ImageIcon(&quot;image/heart.jpg&quot;);\r\n                ImageIcon c=new ImageIcon(&quot;hug.jpg&quot;);\r\n                if (keyCode == KeyEvent.PRESS)\r\n                jButton1.setIcon(i);\r\n                else if(keyCode == KeyEvent.RELEASE)\r\n                jButton1.setIcon(c);\r\n               break;","title":"Change jbutton icon when spacebar is pressed","body":"<p>what is wrong here? I want to change the icon of the jbutton when I press the space bar and go back to its original state when I release it</p>\n<pre><code>               case KeyEvent.VK_SPACE:\n                ImageIcon i=new ImageIcon(&quot;image/heart.jpg&quot;);\n                ImageIcon c=new ImageIcon(&quot;hug.jpg&quot;);\n                if (keyCode == KeyEvent.PRESS)\n                jButton1.setIcon(i);\n                else if(keyCode == KeyEvent.RELEASE)\n                jButton1.setIcon(c);\n               break;\n</code></pre>\n"},{"tags":["java","file-io","apache-commons-vfs"],"answers":[{"tags":[],"owner":{"account_id":13468661,"reputation":1,"user_id":9718000,"display_name":"vladkabat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662464875,"creation_date":1640868213,"answer_id":70531872,"question_id":66805730,"body_markdown":"```\r\nnew FileFilterSelector(fileFilter) {\r\n    @Override\r\n    public boolean traverseDescendents(FileSelectInfo fileInfo) {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean includeFile(FileSelectInfo fileInfo) throws Exception {\r\n        return accept(fileInfo);\r\n    }\r\n}\r\n```","title":"Filter all files in any depth by file prefix inside a directory","body":"<pre><code>new FileFilterSelector(fileFilter) {\n    @Override\n    public boolean traverseDescendents(FileSelectInfo fileInfo) {\n        return true;\n    }\n\n    @Override\n    public boolean includeFile(FileSelectInfo fileInfo) throws Exception {\n        return accept(fileInfo);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662464875,"creation_date":1616697539,"question_id":66805730,"body_markdown":"I&#39;m using Apache Commons VFS2.0 to access files both in a local file system and a remote file system. I&#39;m trying to find a way to filter all the descendent files in any depth with `FileType=File` and has a given filePrefix with the file name. I was able to do it for the same case except for file prefix, but for file extension, as follows.\r\n\r\n    FileSelector fileSelector = new FileExtensionSelector(&quot;extensions...&quot;);\r\n    directory.findFiles(fileSelector);\r\n\r\nIn this way, I was able to fetch all the files(no folders) in any depth with the given extension. I have tried the below approach but it only works for matching files with depth=1.\r\n\r\n    FileFilterSelector prefixFileSelector = new FileFilterSelector(new PrefixFileFilter(&quot;Prefix&quot;));\r\n    directory.findFiles(prefixFileSelector);\r\n\r\nAppreciate if anyone can give a suggestion.\r\n\r\n","title":"Filter all files in any depth by file prefix inside a directory","body":"<p>I'm using Apache Commons VFS2.0 to access files both in a local file system and a remote file system. I'm trying to find a way to filter all the descendent files in any depth with <code>FileType=File</code> and has a given filePrefix with the file name. I was able to do it for the same case except for file prefix, but for file extension, as follows.</p>\n<pre><code>FileSelector fileSelector = new FileExtensionSelector(&quot;extensions...&quot;);\ndirectory.findFiles(fileSelector);\n</code></pre>\n<p>In this way, I was able to fetch all the files(no folders) in any depth with the given extension. I have tried the below approach but it only works for matching files with depth=1.</p>\n<pre><code>FileFilterSelector prefixFileSelector = new FileFilterSelector(new PrefixFileFilter(&quot;Prefix&quot;));\ndirectory.findFiles(prefixFileSelector);\n</code></pre>\n<p>Appreciate if anyone can give a suggestion.</p>\n"},{"tags":["java","android","opencv","image-processing","panoramas"],"answers":[{"tags":[],"owner":{"account_id":5175240,"reputation":1556,"user_id":4142609,"display_name":"aldoram5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1424286019,"creation_date":1424276707,"answer_id":28588540,"question_id":28586584,"body_markdown":"I was going to ask you to show us your `Application.mk` file, but since I don&#39;t have enough rep I can&#39;t comment your question, however, I was able to reproduce your problem by deleting some lines of my working project `Application.mk`, so try adjusting your `Application.mk` to something like this:\r\n\r\n    APP_STL := gnustl_static\r\n    APP_CPPFLAGS := -frtti -fexceptions\r\n    APP_ABI := armeabi-v7a\r\n    APP_PLATFORM := android-16\r\n\r\n\r\n ","title":"Solving native open cv code error in androd.mk for developing panorama on android","body":"<p>I was going to ask you to show us your <code>Application.mk</code> file, but since I don't have enough rep I can't comment your question, however, I was able to reproduce your problem by deleting some lines of my working project <code>Application.mk</code>, so try adjusting your <code>Application.mk</code> to something like this:</p>\n\n<pre><code>APP_STL := gnustl_static\nAPP_CPPFLAGS := -frtti -fexceptions\nAPP_ABI := armeabi-v7a\nAPP_PLATFORM := android-16\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7741030,"reputation":3081,"user_id":5860777,"accept_rate":60,"display_name":"Andy Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454407491,"creation_date":1454407491,"answer_id":35150312,"question_id":28586584,"body_markdown":"I am facing the same problem just remove the semicolon\r\n\r\n    using namespace std \r\nusing namespace cv\r\n\r\nand its working.\r\n\r\n\r\n\r\n\r\n\r\n\r\n ","title":"Solving native open cv code error in androd.mk for developing panorama on android","body":"<p>I am facing the same problem just remove the semicolon</p>\n\n<pre><code>using namespace std \n</code></pre>\n\n<p>using namespace cv</p>\n\n<p>and its working.</p>\n"}],"owner":{"account_id":5758158,"reputation":316,"user_id":4545375,"accept_rate":45,"display_name":"Shahrukh Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28588540,"answer_count":2,"score":0,"last_activity_date":1662464783,"creation_date":1424271350,"question_id":28586584,"body_markdown":"I am trying to develop an android application for generating panoramic images usig feature of image stitching in Open CV.\r\n\r\nI have used the code give on the site given below.\r\n\r\n&lt;http://ramsrigoutham.com/2012/12/21/panorama-app-on-android-using-stitching-module-opencv/&gt;\r\n\r\n**There is an error shown in the log cat shown below.\r\nPlease guide me how to solve the error.**\r\n\r\n**This is the screenshot of the native.cpp file where using namespace errors are shown in the image link given above**\r\n\r\n**Android.mk file screenshot is given in the image link given above.**\r\n\r\nhttps://i.stack.imgur.com/ecXJa.png\r\n\r\n\r\n\r\nThis is the Native call for stitching images.\r\n\r\nnative.cpp\r\n\r\n    #include &lt; jni.h &gt;\r\n    #include &lt;opencv2/core/core.hpp&gt;\r\n    #include &lt;opencv2/features2d/features2d.hpp&gt;\r\n    #include &lt;opencv2/highgui/highgui.hpp&gt;\r\n    #include &lt;opencv2/imgproc/imgproc.hpp&gt;\r\n    #include &lt;opencv2/calib3d/calib3d.hpp&gt;\r\n    #include &lt;opencv2/stitching/stitcher.hpp&gt;\r\n     \r\n    #include &lt; vector &gt;\r\n    #include &lt; iostream &gt;\r\n    #include &lt; stdio.h &gt;\r\n    #include &lt; list &gt;\r\n    #include&lt; sstream &gt;\r\n    #include&lt; string &gt;\r\n     \r\n    using namespace std;\r\n    using namespace cv;\r\n     \r\n    extern &quot;C&quot; {\r\n    //JNIEXPORT Mat JNICALL Java_org_opencv_samples_tutorial3_Sample3Native_FindFeatures(JNIEnv*, jobject, jlong addrGray, jlong addrRgba)\r\n     \r\n    JNIEXPORT void JNICALL Java_org_opencv_samples_tutorial3_Sample3Native_FindFeatures(\r\n            JNIEnv*, jobject, jlong im1, jlong im2, jlong im3, jint no_images) {\r\n     \r\n        vector &lt; Mat &gt; imgs;\r\n        bool try_use_gpu = false;\r\n        // New testing\r\n        Mat&amp; temp1 = *((Mat*) im1);\r\n        Mat&amp; temp2 = *((Mat*) im2);\r\n        Mat&amp; pano = *((Mat*) im3);\r\n     \r\n        for (int k = 0; k &lt; no_images; ++k) {\r\n            string id;\r\n            ostringstream convert;\r\n            convert &lt;&lt; k;\r\n            id = convert.str();\r\n            Mat img = imread(&quot;/storage/emulated/0/panoTmpImage/im&quot; + id + &quot;.jpeg&quot;);\r\n     \r\n            imgs.push_back(img);\r\n        }\r\n     \r\n        Stitcher stitcher = Stitcher::createDefault(try_use_gpu);\r\n        Stitcher::Status status = stitcher.stitch(imgs, pano);\r\n     \r\n    }\r\n     \r\n    }\r\n\r\nThis is the android.mk file which i have created having no idea on how to generate it.\r\n\r\nAndroid.mk\r\n\r\n    LOCAL_PATH := $(call my-dir)\r\n    \r\n    include $(CLEAR_VARS)\r\n    \r\n    include ../../android-development/OpenCV-2.4.10-android-sdk/OpenCV-2.4.10-android-sdk/sdk/native/jni/OpenCV.mk\r\n    \r\n    LOCAL_MODULE    := native_activity\r\n    LOCAL_SRC_FILES := native.cpp\r\n    LOCAL_LDLIBS    += -lm -llog -landroid\r\n    LOCAL_STATIC_LIBRARIES += android_native_app_glue\r\n    \r\n    include $(BUILD_SHARED_LIBRARY)\r\n    \r\n    $(call import-module,android/native_app_glue)\r\n\r\nAnd this is the Main Android code that has main GUI and calls the OpenCV function\r\n\r\nSample3Native.java\r\n\r\n    package org.opencv.samples.tutorial3;\r\n     \r\n    import java.io.File;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n     \r\n    import org.opencv.android.BaseLoaderCallback;\r\n    import org.opencv.android.CameraBridgeViewBase;\r\n    import org.opencv.android.CameraBridgeViewBase.CvCameraViewListener;\r\n    import org.opencv.android.LoaderCallbackInterface;\r\n    import org.opencv.android.OpenCVLoader;\r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.CvType;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.Point;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.highgui.Highgui;\r\n     \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.os.Handler;\r\n    import android.util.Log;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.Window;\r\n    import android.view.WindowManager;\r\n    import android.widget.Button;\r\n     \r\n    public class Sample3Native extends Activity implements CvCameraViewListener {\r\n        private static final String TAG = &quot;OCVSample::Activity&quot;;\r\n     \r\n        public static final int VIEW_MODE_RGBA = 0;\r\n        public static final int SAVE_IMAGE_MAT = 1;\r\n        public static final int CAPT_STILL_IM = 2;\r\n        private static int viewMode = VIEW_MODE_RGBA;\r\n    //  public static int image_count = 0;\r\n        private MenuItem mStitch;\r\n        private MenuItem mItemCaptureImage;\r\n        private Mat mRgba;\r\n        private Mat mGrayMat;\r\n        private Mat panorama;\r\n        private Mat mtemp;\r\n        private List &lt; Mat &gt; images_to_be_stitched = new ArrayList &lt; Mat &gt;();\r\n        private CameraBridgeViewBase mOpenCvCameraView;\r\n        private long mPrevTime = new Date().getTime();\r\n        private static final int FRAME2GRAB = 10;\r\n        private int mframeNum = 0;\r\n        private static final File tempImageDir = new File(Environment.getExternalStorageDirectory() + File.separator + &quot;panoTmpImage&quot;);\r\n        private static final File StitchImageDir = new File(Environment.getExternalStorageDirectory()+ File.separator  + &quot;panoStitchIm&quot;);\r\n        private static final String mImageName = &quot;im&quot;;\r\n        private static final String mImageExt = &quot;.jpeg&quot;;\r\n        private long recordStart = new Date().getTime();\r\n        private static final long MAX_VIDEO_INTERVAL_IN_SECONDS = 3 * 1000; // Convert milliseconds to seconds\r\n        public final Handler mHandler = new Handler();\r\n     \r\n        // Create runnable for posting\r\n        final Runnable mUpdateResults = new Runnable() {\r\n            public void run() {\r\n                updateResultsInUi();\r\n            }\r\n        };\r\n     \r\n        private void updateResultsInUi()\r\n        {\r\n     \r\n        }\r\n     \r\n        private BaseLoaderCallback mLoaderCallback = new BaseLoaderCallback(this) {\r\n            @Override\r\n            public void onManagerConnected(int status) {\r\n                switch (status) {\r\n                case LoaderCallbackInterface.SUCCESS: {\r\n                    Log.i(TAG, &quot;OpenCV loaded successfully&quot;);\r\n     \r\n                    // Load native library after(!) OpenCV initialization\r\n                    System.loadLibrary(&quot;native_sample&quot;);\r\n     \r\n                    mOpenCvCameraView.enableView();\r\n                }\r\n                    break;\r\n                default: {\r\n                    super.onManagerConnected(status);\r\n                }\r\n                    break;\r\n                }\r\n            }\r\n        };\r\n     \r\n        public Sample3Native() {\r\n            Log.i(TAG, &quot;Instantiated new &quot; + this.getClass());\r\n        }\r\n     \r\n        /** Called when the activity is first created. */\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            Log.i(TAG, &quot;called onCreate&quot;);\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n     \r\n            setContentView(R.layout.tutorial3_surface_view);\r\n     \r\n            final Button btnVidCapt = (Button) findViewById(R.id.btnVidCapt);\r\n            btnVidCapt.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    startVidCap();\r\n                }\r\n            });\r\n     \r\n            final Button btnStitch = (Button) findViewById(R.id.btnStitch);\r\n            btnStitch.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    stitchImages();\r\n                }\r\n            });\r\n     \r\n            final Button btnViewStitchedIm = (Button) findViewById(R.id.btnViewStitchedIm);\r\n            btnViewStitchedIm.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    viewStitchImages();\r\n                }\r\n            });\r\n     \r\n            final Button btnCapStil = (Button) findViewById(R.id.btnCapStil);\r\n            btnCapStil.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    captStillImage();\r\n                }\r\n            });\r\n            mOpenCvCameraView = (CameraBridgeViewBase) findViewById(R.id.tutorial4_activity_surface_view);\r\n            mOpenCvCameraView.setCvCameraViewListener(this);\r\n        }\r\n     \r\n        @Override\r\n        public void onPause() {\r\n            if (mOpenCvCameraView != null)\r\n                mOpenCvCameraView.disableView();\r\n            super.onPause();\r\n        }\r\n     \r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            OpenCVLoader.initAsync(OpenCVLoader.OPENCV_VERSION_2_4_3, this,\r\n                    mLoaderCallback);\r\n        }\r\n     \r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            if (mOpenCvCameraView != null)\r\n                mOpenCvCameraView.disableView();\r\n        }\r\n     \r\n        public void onCameraViewStarted(int width, int height) {\r\n            mRgba = new Mat(height, width, CvType.CV_8UC3);\r\n            mGrayMat = new Mat(height, width, CvType.CV_8UC1);\r\n            mtemp = new Mat(height, width, CvType.CV_8UC3);\r\n            panorama = new Mat(height, width, CvType.CV_8UC3);\r\n        }\r\n     \r\n        public void onCameraViewStopped() {\r\n            mRgba.release();\r\n            mGrayMat.release();\r\n            mtemp.release();\r\n            panorama.release();\r\n        }\r\n     \r\n        public Mat onCameraFrame(Mat inputFrame) {\r\n            inputFrame.copyTo(mRgba);\r\n            switch (Sample3Native.viewMode) {\r\n            case Sample3Native.VIEW_MODE_RGBA: {\r\n                Core.putText(mRgba, &quot;Video Mode&quot;, new Point(10, 50), 3, 1, new Scalar(255, 0, 0, 255), 2);\r\n                // Update start recordtime until starting recording\r\n            }break;\r\n            case Sample3Native.SAVE_IMAGE_MAT: {\r\n                long curTime = new Date().getTime();\r\n                Core.putText(mRgba, &quot;Record Mode&quot;, new Point(10, 50), 3, 1, new Scalar(255, 0, 0, 255), 2);\r\n                long timeDiff = curTime - recordStart;\r\n                Log.i(&quot;timeDiff&quot;, Long.toString(timeDiff));\r\n     \r\n                if ( timeDiff &lt; MAX_VIDEO_INTERVAL_IN_SECONDS) {\r\n                    if ((mframeNum % FRAME2GRAB) == 0) {\r\n                        saveImageToArray(inputFrame);\r\n                        mframeNum++;\r\n                    }\r\n                    else\r\n                        mframeNum++;\r\n                }\r\n                else\r\n                {\r\n                    mframeNum = 0;\r\n                    turnOffCapture();\r\n                }\r\n            }break;\r\n            case Sample3Native.CAPT_STILL_IM :\r\n            {\r\n                saveImageToArray(inputFrame);\r\n                Sample3Native.viewMode = Sample3Native.VIEW_MODE_RGBA;\r\n            }\r\n            }\r\n            return mRgba;\r\n        }\r\n     \r\n        public void startVidCap() {\r\n            if (Sample3Native.viewMode == Sample3Native.VIEW_MODE_RGBA)\r\n            {\r\n                turnOnCapture();\r\n            }\r\n            else if (Sample3Native.viewMode == Sample3Native.SAVE_IMAGE_MAT)\r\n            {\r\n                turnOffCapture();\r\n            }\r\n        }\r\n     \r\n        private void turnOffCapture()\r\n        {\r\n     \r\n            Sample3Native.viewMode = Sample3Native.VIEW_MODE_RGBA;\r\n        }\r\n     \r\n        private void turnOnCapture()\r\n        {\r\n     \r\n            Sample3Native.viewMode = Sample3Native.SAVE_IMAGE_MAT;\r\n    //      startVidCapture.setText(&quot;Stop Video Capture&quot;);\r\n            images_to_be_stitched.clear();\r\n            recordStart = new Date().getTime();\r\n     \r\n        }\r\n     \r\n        public void stitchImages() {\r\n            if(!images_to_be_stitched.isEmpty())\r\n            {\r\n                for (int j = 0; j &lt; images_to_be_stitched.size(); j++) {\r\n                    writeImage(images_to_be_stitched.get(j), j);\r\n                }\r\n            Log.i(&quot;stitchImages&quot;, &quot;Done writing 2 disk. Starting stitching &quot; + images_to_be_stitched.size() + &quot; images&quot;);\r\n                FindFeatures(images_to_be_stitched.get(0).getNativeObjAddr(),\r\n                        images_to_be_stitched.get(0).getNativeObjAddr(),\r\n                        panorama.getNativeObjAddr(), images_to_be_stitched.size());\r\n            Log.i(&quot;stitchImages&quot;, &quot;Done stitching. Writing panarama&quot;);\r\n                writePano(panorama);\r\n     \r\n            Log.i(&quot;stitchImages&quot;, &quot;deleting temp files&quot;);\r\n     \r\n                deleteTmpIm();\r\n            }\r\n        }\r\n     \r\n        public void captStillImage()\r\n        {\r\n            Sample3Native.viewMode = Sample3Native.CAPT_STILL_IM;\r\n     \r\n        }\r\n     \r\n        private String getFullFileName( int num)\r\n        {\r\n            return mImageName + num + mImageExt;\r\n        }\r\n     \r\n        private void writeImage(Mat image, int imNum)\r\n        {\r\n            writeImage(image, getFullFileName(imNum));\r\n        }\r\n     \r\n        private void writeImage(Mat image, String fileName) {\r\n            File createDir = tempImageDir;\r\n            if(!createDir.exists())\r\n                createDir.mkdir();\r\n            Highgui.imwrite(tempImageDir+File.separator + fileName, image);\r\n        }\r\n     \r\n        private void writePano(Mat image)\r\n        {\r\n            Date dateNow = new  Date();\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;);\r\n            if(!StitchImageDir.exists())\r\n                StitchImageDir.mkdir();\r\n            Highgui.imwrite(StitchImageDir.getPath()+ File.separator + &quot;panoStich&quot;+dateFormat.format(dateNow) +mImageExt, image);\r\n     \r\n        }\r\n     \r\n        private void deleteTmpIm()\r\n        {\r\n            File curFile;\r\n            for (int j = 0; j &lt; images_to_be_stitched.size(); j++) {\r\n                curFile = new File(getFullFileName(j));\r\n                curFile.delete();\r\n            }\r\n            images_to_be_stitched.clear();\r\n        }\r\n     \r\n        public void viewStitchImages()\r\n        {\r\n     \r\n            Intent intent = new Intent(this, GalleryActivity.class);\r\n     \r\n            startActivity(intent);\r\n        }\r\n     \r\n        private void saveImageToArray(Mat inputFrame) {\r\n            images_to_be_stitched.add(inputFrame.clone());\r\n        }\r\n     \r\n        private int FPS() {\r\n            long curTime = new Date().getTime();\r\n            int FPS = (int) (1000 / (curTime - mPrevTime));\r\n            mPrevTime = curTime;\r\n            return FPS;\r\n        }\r\n     \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            return true;\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n        return true;\r\n        }\r\n     \r\n        // public native void FindFeatures(List pano_images, Long stitch );\r\n        public native void FindFeatures(long image1, long image2, long image3,\r\n                int count);\r\n    }","title":"Solving native open cv code error in androd.mk for developing panorama on android","body":"<p>I am trying to develop an android application for generating panoramic images usig feature of image stitching in Open CV.</p>\n\n<p>I have used the code give on the site given below.</p>\n\n<p><a href=\"http://ramsrigoutham.com/2012/12/21/panorama-app-on-android-using-stitching-module-opencv/\" rel=\"nofollow\">http://ramsrigoutham.com/2012/12/21/panorama-app-on-android-using-stitching-module-opencv/</a></p>\n\n<p><strong>There is an error shown in the log cat shown below.\nPlease guide me how to solve the error.</strong></p>\n\n<p><strong>This is the screenshot of the native.cpp file where using namespace errors are shown in the image link given above</strong></p>\n\n<p><strong>Android.mk file screenshot is given in the image link given above.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ecXJa.png\" rel=\"nofollow\">https://i.stack.imgur.com/ecXJa.png</a></p>\n\n<p>This is the Native call for stitching images.</p>\n\n<p>native.cpp</p>\n\n<pre><code>#include &lt; jni.h &gt;\n#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;opencv2/features2d/features2d.hpp&gt;\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n#include &lt;opencv2/imgproc/imgproc.hpp&gt;\n#include &lt;opencv2/calib3d/calib3d.hpp&gt;\n#include &lt;opencv2/stitching/stitcher.hpp&gt;\n\n#include &lt; vector &gt;\n#include &lt; iostream &gt;\n#include &lt; stdio.h &gt;\n#include &lt; list &gt;\n#include&lt; sstream &gt;\n#include&lt; string &gt;\n\nusing namespace std;\nusing namespace cv;\n\nextern \"C\" {\n//JNIEXPORT Mat JNICALL Java_org_opencv_samples_tutorial3_Sample3Native_FindFeatures(JNIEnv*, jobject, jlong addrGray, jlong addrRgba)\n\nJNIEXPORT void JNICALL Java_org_opencv_samples_tutorial3_Sample3Native_FindFeatures(\n        JNIEnv*, jobject, jlong im1, jlong im2, jlong im3, jint no_images) {\n\n    vector &lt; Mat &gt; imgs;\n    bool try_use_gpu = false;\n    // New testing\n    Mat&amp; temp1 = *((Mat*) im1);\n    Mat&amp; temp2 = *((Mat*) im2);\n    Mat&amp; pano = *((Mat*) im3);\n\n    for (int k = 0; k &lt; no_images; ++k) {\n        string id;\n        ostringstream convert;\n        convert &lt;&lt; k;\n        id = convert.str();\n        Mat img = imread(\"/storage/emulated/0/panoTmpImage/im\" + id + \".jpeg\");\n\n        imgs.push_back(img);\n    }\n\n    Stitcher stitcher = Stitcher::createDefault(try_use_gpu);\n    Stitcher::Status status = stitcher.stitch(imgs, pano);\n\n}\n\n}\n</code></pre>\n\n<p>This is the android.mk file which i have created having no idea on how to generate it.</p>\n\n<p>Android.mk</p>\n\n<pre><code>LOCAL_PATH := $(call my-dir)\n\ninclude $(CLEAR_VARS)\n\ninclude ../../android-development/OpenCV-2.4.10-android-sdk/OpenCV-2.4.10-android-sdk/sdk/native/jni/OpenCV.mk\n\nLOCAL_MODULE    := native_activity\nLOCAL_SRC_FILES := native.cpp\nLOCAL_LDLIBS    += -lm -llog -landroid\nLOCAL_STATIC_LIBRARIES += android_native_app_glue\n\ninclude $(BUILD_SHARED_LIBRARY)\n\n$(call import-module,android/native_app_glue)\n</code></pre>\n\n<p>And this is the Main Android code that has main GUI and calls the OpenCV function</p>\n\n<p>Sample3Native.java</p>\n\n<pre><code>package org.opencv.samples.tutorial3;\n\nimport java.io.File;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\nimport org.opencv.android.BaseLoaderCallback;\nimport org.opencv.android.CameraBridgeViewBase;\nimport org.opencv.android.CameraBridgeViewBase.CvCameraViewListener;\nimport org.opencv.android.LoaderCallbackInterface;\nimport org.opencv.android.OpenCVLoader;\nimport org.opencv.core.Core;\nimport org.opencv.core.CvType;\nimport org.opencv.core.Mat;\nimport org.opencv.core.Point;\nimport org.opencv.core.Scalar;\nimport org.opencv.highgui.Highgui;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.os.Handler;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.Button;\n\npublic class Sample3Native extends Activity implements CvCameraViewListener {\n    private static final String TAG = \"OCVSample::Activity\";\n\n    public static final int VIEW_MODE_RGBA = 0;\n    public static final int SAVE_IMAGE_MAT = 1;\n    public static final int CAPT_STILL_IM = 2;\n    private static int viewMode = VIEW_MODE_RGBA;\n//  public static int image_count = 0;\n    private MenuItem mStitch;\n    private MenuItem mItemCaptureImage;\n    private Mat mRgba;\n    private Mat mGrayMat;\n    private Mat panorama;\n    private Mat mtemp;\n    private List &lt; Mat &gt; images_to_be_stitched = new ArrayList &lt; Mat &gt;();\n    private CameraBridgeViewBase mOpenCvCameraView;\n    private long mPrevTime = new Date().getTime();\n    private static final int FRAME2GRAB = 10;\n    private int mframeNum = 0;\n    private static final File tempImageDir = new File(Environment.getExternalStorageDirectory() + File.separator + \"panoTmpImage\");\n    private static final File StitchImageDir = new File(Environment.getExternalStorageDirectory()+ File.separator  + \"panoStitchIm\");\n    private static final String mImageName = \"im\";\n    private static final String mImageExt = \".jpeg\";\n    private long recordStart = new Date().getTime();\n    private static final long MAX_VIDEO_INTERVAL_IN_SECONDS = 3 * 1000; // Convert milliseconds to seconds\n    public final Handler mHandler = new Handler();\n\n    // Create runnable for posting\n    final Runnable mUpdateResults = new Runnable() {\n        public void run() {\n            updateResultsInUi();\n        }\n    };\n\n    private void updateResultsInUi()\n    {\n\n    }\n\n    private BaseLoaderCallback mLoaderCallback = new BaseLoaderCallback(this) {\n        @Override\n        public void onManagerConnected(int status) {\n            switch (status) {\n            case LoaderCallbackInterface.SUCCESS: {\n                Log.i(TAG, \"OpenCV loaded successfully\");\n\n                // Load native library after(!) OpenCV initialization\n                System.loadLibrary(\"native_sample\");\n\n                mOpenCvCameraView.enableView();\n            }\n                break;\n            default: {\n                super.onManagerConnected(status);\n            }\n                break;\n            }\n        }\n    };\n\n    public Sample3Native() {\n        Log.i(TAG, \"Instantiated new \" + this.getClass());\n    }\n\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        Log.i(TAG, \"called onCreate\");\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n\n        setContentView(R.layout.tutorial3_surface_view);\n\n        final Button btnVidCapt = (Button) findViewById(R.id.btnVidCapt);\n        btnVidCapt.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                startVidCap();\n            }\n        });\n\n        final Button btnStitch = (Button) findViewById(R.id.btnStitch);\n        btnStitch.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                stitchImages();\n            }\n        });\n\n        final Button btnViewStitchedIm = (Button) findViewById(R.id.btnViewStitchedIm);\n        btnViewStitchedIm.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                viewStitchImages();\n            }\n        });\n\n        final Button btnCapStil = (Button) findViewById(R.id.btnCapStil);\n        btnCapStil.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                captStillImage();\n            }\n        });\n        mOpenCvCameraView = (CameraBridgeViewBase) findViewById(R.id.tutorial4_activity_surface_view);\n        mOpenCvCameraView.setCvCameraViewListener(this);\n    }\n\n    @Override\n    public void onPause() {\n        if (mOpenCvCameraView != null)\n            mOpenCvCameraView.disableView();\n        super.onPause();\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        OpenCVLoader.initAsync(OpenCVLoader.OPENCV_VERSION_2_4_3, this,\n                mLoaderCallback);\n    }\n\n    public void onDestroy() {\n        super.onDestroy();\n        if (mOpenCvCameraView != null)\n            mOpenCvCameraView.disableView();\n    }\n\n    public void onCameraViewStarted(int width, int height) {\n        mRgba = new Mat(height, width, CvType.CV_8UC3);\n        mGrayMat = new Mat(height, width, CvType.CV_8UC1);\n        mtemp = new Mat(height, width, CvType.CV_8UC3);\n        panorama = new Mat(height, width, CvType.CV_8UC3);\n    }\n\n    public void onCameraViewStopped() {\n        mRgba.release();\n        mGrayMat.release();\n        mtemp.release();\n        panorama.release();\n    }\n\n    public Mat onCameraFrame(Mat inputFrame) {\n        inputFrame.copyTo(mRgba);\n        switch (Sample3Native.viewMode) {\n        case Sample3Native.VIEW_MODE_RGBA: {\n            Core.putText(mRgba, \"Video Mode\", new Point(10, 50), 3, 1, new Scalar(255, 0, 0, 255), 2);\n            // Update start recordtime until starting recording\n        }break;\n        case Sample3Native.SAVE_IMAGE_MAT: {\n            long curTime = new Date().getTime();\n            Core.putText(mRgba, \"Record Mode\", new Point(10, 50), 3, 1, new Scalar(255, 0, 0, 255), 2);\n            long timeDiff = curTime - recordStart;\n            Log.i(\"timeDiff\", Long.toString(timeDiff));\n\n            if ( timeDiff &lt; MAX_VIDEO_INTERVAL_IN_SECONDS) {\n                if ((mframeNum % FRAME2GRAB) == 0) {\n                    saveImageToArray(inputFrame);\n                    mframeNum++;\n                }\n                else\n                    mframeNum++;\n            }\n            else\n            {\n                mframeNum = 0;\n                turnOffCapture();\n            }\n        }break;\n        case Sample3Native.CAPT_STILL_IM :\n        {\n            saveImageToArray(inputFrame);\n            Sample3Native.viewMode = Sample3Native.VIEW_MODE_RGBA;\n        }\n        }\n        return mRgba;\n    }\n\n    public void startVidCap() {\n        if (Sample3Native.viewMode == Sample3Native.VIEW_MODE_RGBA)\n        {\n            turnOnCapture();\n        }\n        else if (Sample3Native.viewMode == Sample3Native.SAVE_IMAGE_MAT)\n        {\n            turnOffCapture();\n        }\n    }\n\n    private void turnOffCapture()\n    {\n\n        Sample3Native.viewMode = Sample3Native.VIEW_MODE_RGBA;\n    }\n\n    private void turnOnCapture()\n    {\n\n        Sample3Native.viewMode = Sample3Native.SAVE_IMAGE_MAT;\n//      startVidCapture.setText(\"Stop Video Capture\");\n        images_to_be_stitched.clear();\n        recordStart = new Date().getTime();\n\n    }\n\n    public void stitchImages() {\n        if(!images_to_be_stitched.isEmpty())\n        {\n            for (int j = 0; j &lt; images_to_be_stitched.size(); j++) {\n                writeImage(images_to_be_stitched.get(j), j);\n            }\n        Log.i(\"stitchImages\", \"Done writing 2 disk. Starting stitching \" + images_to_be_stitched.size() + \" images\");\n            FindFeatures(images_to_be_stitched.get(0).getNativeObjAddr(),\n                    images_to_be_stitched.get(0).getNativeObjAddr(),\n                    panorama.getNativeObjAddr(), images_to_be_stitched.size());\n        Log.i(\"stitchImages\", \"Done stitching. Writing panarama\");\n            writePano(panorama);\n\n        Log.i(\"stitchImages\", \"deleting temp files\");\n\n            deleteTmpIm();\n        }\n    }\n\n    public void captStillImage()\n    {\n        Sample3Native.viewMode = Sample3Native.CAPT_STILL_IM;\n\n    }\n\n    private String getFullFileName( int num)\n    {\n        return mImageName + num + mImageExt;\n    }\n\n    private void writeImage(Mat image, int imNum)\n    {\n        writeImage(image, getFullFileName(imNum));\n    }\n\n    private void writeImage(Mat image, String fileName) {\n        File createDir = tempImageDir;\n        if(!createDir.exists())\n            createDir.mkdir();\n        Highgui.imwrite(tempImageDir+File.separator + fileName, image);\n    }\n\n    private void writePano(Mat image)\n    {\n        Date dateNow = new  Date();\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyyMMdd_HHmmss\");\n        if(!StitchImageDir.exists())\n            StitchImageDir.mkdir();\n        Highgui.imwrite(StitchImageDir.getPath()+ File.separator + \"panoStich\"+dateFormat.format(dateNow) +mImageExt, image);\n\n    }\n\n    private void deleteTmpIm()\n    {\n        File curFile;\n        for (int j = 0; j &lt; images_to_be_stitched.size(); j++) {\n            curFile = new File(getFullFileName(j));\n            curFile.delete();\n        }\n        images_to_be_stitched.clear();\n    }\n\n    public void viewStitchImages()\n    {\n\n        Intent intent = new Intent(this, GalleryActivity.class);\n\n        startActivity(intent);\n    }\n\n    private void saveImageToArray(Mat inputFrame) {\n        images_to_be_stitched.add(inputFrame.clone());\n    }\n\n    private int FPS() {\n        long curTime = new Date().getTime();\n        int FPS = (int) (1000 / (curTime - mPrevTime));\n        mPrevTime = curTime;\n        return FPS;\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        return true;\n\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n    return true;\n    }\n\n    // public native void FindFeatures(List pano_images, Long stitch );\n    public native void FindFeatures(long image1, long image2, long image3,\n            int count);\n}\n</code></pre>\n"},{"tags":["java","android","opencv","javacv"],"answers":[{"tags":[],"owner":{"account_id":4294909,"reputation":576,"user_id":3510227,"display_name":"user3510227"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1428621713,"creation_date":1428606175,"answer_id":29546823,"question_id":29537636,"body_markdown":"Filtering allows you to thin out your matches so only the best remain and gives you some control over deciding what makes a good match it also is what can give weight to your results.\r\n\r\nThere&#39;s nothing stopping you from just picking the top 10 closest matches, but they don&#39;t really mean anything if they&#39;re not compared to some standard or guidelines.\r\n\r\nBy limiting yourself to the top N matches you may also be missing out on many more potential matches especially if you have hundreds or thousands of matches returned from extraction.\r\n\r\nLets say you were comparing two images A and B.\r\n\r\nYou can say there&#39;s a good chance they&#39;re both similar if you receive 1000 matches in total and 900 of them pass your series of threshold/filtering checks. Where if only 50 passed its not likely the two images are similar at all.\r\n\r\nHowever if you just look at the top 10 matches there&#39;s not much you can really determine, they may be the best of many strong matches if the images or similar or the best of many weak matches if the images are very different.\r\n\r\nEdit - Distances \r\n\r\nThe distance is a measure of similarity between two keypoints, the larger the distance the less similarity and the smaller the distance the greater the similarity. \r\n\r\nIn the example you&#39;re looking at the max and min distances are initialised as follows:\r\n\r\n[ http://docs.opencv.org/doc/tutorials/features2d/feature_flann_matcher/feature_flann_matcher.html ]\r\n\r\n    double max_dist = 0; double min_dist = 100;\r\n\r\nThis is just so they can be updated with the actual min/max values present in the match list. If min started as 0 it may never be overwritten and vice versa for max distance.\r\n\r\n\r\n      for( int i = 0; i &lt; descriptors_1.rows; i++ ){ \r\n        double dist = matches[i].distance;\r\n        if( dist &lt; min_dist ) min_dist = dist;\r\n        if( dist &gt; max_dist ) max_dist = dist;\r\n\r\n","title":"Why and how apply thresholding to get better matched features","body":"<p>Filtering allows you to thin out your matches so only the best remain and gives you some control over deciding what makes a good match it also is what can give weight to your results.</p>\n\n<p>There's nothing stopping you from just picking the top 10 closest matches, but they don't really mean anything if they're not compared to some standard or guidelines.</p>\n\n<p>By limiting yourself to the top N matches you may also be missing out on many more potential matches especially if you have hundreds or thousands of matches returned from extraction.</p>\n\n<p>Lets say you were comparing two images A and B.</p>\n\n<p>You can say there's a good chance they're both similar if you receive 1000 matches in total and 900 of them pass your series of threshold/filtering checks. Where if only 50 passed its not likely the two images are similar at all.</p>\n\n<p>However if you just look at the top 10 matches there's not much you can really determine, they may be the best of many strong matches if the images or similar or the best of many weak matches if the images are very different.</p>\n\n<p>Edit - Distances </p>\n\n<p>The distance is a measure of similarity between two keypoints, the larger the distance the less similarity and the smaller the distance the greater the similarity. </p>\n\n<p>In the example you're looking at the max and min distances are initialised as follows:</p>\n\n<p>[ <a href=\"http://docs.opencv.org/doc/tutorials/features2d/feature_flann_matcher/feature_flann_matcher.html\" rel=\"nofollow\">http://docs.opencv.org/doc/tutorials/features2d/feature_flann_matcher/feature_flann_matcher.html</a> ]</p>\n\n<pre><code>double max_dist = 0; double min_dist = 100;\n</code></pre>\n\n<p>This is just so they can be updated with the actual min/max values present in the match list. If min started as 0 it may never be overwritten and vice versa for max distance.</p>\n\n<pre><code>  for( int i = 0; i &lt; descriptors_1.rows; i++ ){ \n    double dist = matches[i].distance;\n    if( dist &lt; min_dist ) min_dist = dist;\n    if( dist &gt; max_dist ) max_dist = dist;\n</code></pre>\n"}],"owner":{"account_id":5347275,"reputation":1076,"user_id":4262473,"accept_rate":39,"display_name":"rmaik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29546823,"answer_count":1,"score":0,"last_activity_date":1662464712,"creation_date":1428579941,"question_id":29537636,"body_markdown":"in the below code, i am doing descriptor matching using BRUTFORCE algorithm. i read som tutorial but they were writtin in C++, and i found that, always after the matching process, the resultant MatOfDMatch object from \r\n\r\n    .match(query_desc, train_desc, MatOfDMatch objec)\r\n\r\nshould be converted to DMatch objectas follows\r\n    \r\n    List&lt;DMatch&gt; dMtchList = matDMatch.toList();\r\n\r\nand the dMtchList should be sorted Ascendingly, and then a thresholing should be applied and then convert the dMtchList object to MatOfDMatch.\r\n\r\nmy question is, why do we need to apply thresholding since i can sort the raw matches returned from the .match(..,..,..) method ascendingly, and how the thresholding enhance the matching.\r\n\r\n**code*:\r\n\r\n    private static void descriptorMatcher() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tMatOfDMatch matDMatch = new MatOfDMatch();//empty MatOfDmatch object\r\n\t\tdm.match(matFactory.getComputedDescExtMatAt(0), matFactory.getComputedDescExtMatAt(1), matDMatch);//descriptor extractor of the query and the train image are used as parameters \r\n\t\tmatFactory.addRawMatchesMatDMatch(matDMatch);\r\n\t\t\r\n\t\t/*writing the raw MatDMatches*/\r\n\t\tMat outImg = new Mat();\r\n\t\tFeatures2d.drawMatches(matFactory.getMatAt(0), matFactory.getMatKeyPtsAt(0), matFactory.getMatAt(1), matFactory.getMatKeyPtsAt(1), MatFactory.lastAddedObj(matFactory.getRawMatchesMatDMatchList()), \r\n\t\t\t\toutImg);\r\n\t\tmatFactory.addRawMatchedImage(outImg);\r\n\t\tMatFactory.writeMat(FilePathUtils.newOutputPath(SystemConstants.RAW_MATCHED_IMAGE), MatFactory.lastAddedObj(matFactory.getRawMatchedImageList()));//this produce img_2 below posted\r\n\t\t\r\n\t\t/*getting the top 10 shortest distance*/\r\n\t\tList&lt;DMatch&gt; dMtchList = matDMatch.toList();\r\n\t\tList&lt;DMatch&gt; goodDMatchList = MatFactory.getTopGoodMatches(dMtchList, 0, 10);//this method sort the dMatchList ascendingly and picks onlt the top 10 distances and assign these values to goodDMatchList\r\n\t\t\r\n\t\t/*converting the goo DMatches to MatOfDMatches*/\r\n\t\tMatOfDMatch goodMatDMatches = new MatOfDMatch();\r\n\t\tgoodMatDMatches.fromList(goodDMatchList);\r\n\t\tmatFactory.addGoodMatchMatDMatch(goodMatDMatches);\r\n\t\t\r\n\t\t/*drawing the good matches and writing the good matches images*/\r\n\t\tFeatures2d.drawMatches(matFactory.getMatAt(0), matFactory.getMatKeyPtsAt(0), matFactory.getMatAt(1), matFactory.getMatKeyPtsAt(1), MatFactory.lastAddedObj(matFactory.getGoodMatchMatDMatchList()), \r\n\t\t\t\toutImg);\r\n\t\tMatFactory.writeMat(FilePathUtils.newOutputPath(SystemConstants.GOOD_MATCHED_IMAGE), outImg);// this produce img_1 below posted\r\n\t}","title":"Why and how apply thresholding to get better matched features","body":"<p>in the below code, i am doing descriptor matching using BRUTFORCE algorithm. i read som tutorial but they were writtin in C++, and i found that, always after the matching process, the resultant MatOfDMatch object from </p>\n\n<pre><code>.match(query_desc, train_desc, MatOfDMatch objec)\n</code></pre>\n\n<p>should be converted to DMatch objectas follows</p>\n\n<pre><code>List&lt;DMatch&gt; dMtchList = matDMatch.toList();\n</code></pre>\n\n<p>and the dMtchList should be sorted Ascendingly, and then a thresholing should be applied and then convert the dMtchList object to MatOfDMatch.</p>\n\n<p>my question is, why do we need to apply thresholding since i can sort the raw matches returned from the .match(..,..,..) method ascendingly, and how the thresholding enhance the matching.</p>\n\n<p>**code*:</p>\n\n<pre><code>private static void descriptorMatcher() {\n    // TODO Auto-generated method stub\n    MatOfDMatch matDMatch = new MatOfDMatch();//empty MatOfDmatch object\n    dm.match(matFactory.getComputedDescExtMatAt(0), matFactory.getComputedDescExtMatAt(1), matDMatch);//descriptor extractor of the query and the train image are used as parameters \n    matFactory.addRawMatchesMatDMatch(matDMatch);\n\n    /*writing the raw MatDMatches*/\n    Mat outImg = new Mat();\n    Features2d.drawMatches(matFactory.getMatAt(0), matFactory.getMatKeyPtsAt(0), matFactory.getMatAt(1), matFactory.getMatKeyPtsAt(1), MatFactory.lastAddedObj(matFactory.getRawMatchesMatDMatchList()), \n            outImg);\n    matFactory.addRawMatchedImage(outImg);\n    MatFactory.writeMat(FilePathUtils.newOutputPath(SystemConstants.RAW_MATCHED_IMAGE), MatFactory.lastAddedObj(matFactory.getRawMatchedImageList()));//this produce img_2 below posted\n\n    /*getting the top 10 shortest distance*/\n    List&lt;DMatch&gt; dMtchList = matDMatch.toList();\n    List&lt;DMatch&gt; goodDMatchList = MatFactory.getTopGoodMatches(dMtchList, 0, 10);//this method sort the dMatchList ascendingly and picks onlt the top 10 distances and assign these values to goodDMatchList\n\n    /*converting the goo DMatches to MatOfDMatches*/\n    MatOfDMatch goodMatDMatches = new MatOfDMatch();\n    goodMatDMatches.fromList(goodDMatchList);\n    matFactory.addGoodMatchMatDMatch(goodMatDMatches);\n\n    /*drawing the good matches and writing the good matches images*/\n    Features2d.drawMatches(matFactory.getMatAt(0), matFactory.getMatKeyPtsAt(0), matFactory.getMatAt(1), matFactory.getMatKeyPtsAt(1), MatFactory.lastAddedObj(matFactory.getGoodMatchMatDMatchList()), \n            outImg);\n    MatFactory.writeMat(FilePathUtils.newOutputPath(SystemConstants.GOOD_MATCHED_IMAGE), outImg);// this produce img_1 below posted\n}\n</code></pre>\n"},{"tags":["java","android","c++","opencv"],"comments":[{"owner":{"account_id":2031203,"reputation":325,"user_id":1814851,"accept_rate":38,"display_name":"Emily Webb"},"score":0,"creation_date":1430678955,"post_id":30011301,"comment_id":48153239,"body_markdown":"seems it&#39;s due to another library we use specifically looks for opencv opencv_java245 , willl do some more research and update the thread","body":"seems it&#39;s due to another library we use specifically looks for opencv opencv_java245 , willl do some more research and update the thread"},{"owner":{"account_id":2031203,"reputation":325,"user_id":1814851,"accept_rate":38,"display_name":"Emily Webb"},"score":0,"creation_date":1430680373,"post_id":30011301,"comment_id":48153789,"body_markdown":"I could confirm this is due to a another library which looks for opencv_java245....\nThis question can be closed.","body":"I could confirm this is due to a another library which looks for opencv_java245.... This question can be closed."}],"owner":{"account_id":2031203,"reputation":325,"user_id":1814851,"accept_rate":38,"display_name":"Emily Webb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662464693,"creation_date":1430637918,"question_id":30011301,"body_markdown":"I am trying to deploy an opencv java application with opencv 2.49, I have build the **libopencv_java249.so** and **opencv-249.jar** in the **Ubuntu** server and these are available in the class path when the application starts.\r\n\r\nBut it&#39;s throwing a exception saying **libopencv_java245 not found**, so initially I was under a impression that it&#39;s referring to a wrong opencv version. so to verify this I have removed the libopencv_java249.so from class path and then it was complaining that libopencv_java249 not available.\r\n\r\nAs an additional testing I also renamed libopencv_java249.so to libopencv_java245.so then it was saying again that opencv_java249 not found.\r\n\r\nWith this I guess we can confirm that it looks for the right version of opencv (that is libopencv_java249) but in addition to that it aslo requires libopencv_java245 also. Is my assumption is correct, it would be really helpful if someone can guide me.","title":"libopencv_java249.so requires libopencv_java245.so also?","body":"<p>I am trying to deploy an opencv java application with opencv 2.49, I have build the <strong>libopencv_java249.so</strong> and <strong>opencv-249.jar</strong> in the <strong>Ubuntu</strong> server and these are available in the class path when the application starts.</p>\n\n<p>But it's throwing a exception saying <strong>libopencv_java245 not found</strong>, so initially I was under a impression that it's referring to a wrong opencv version. so to verify this I have removed the libopencv_java249.so from class path and then it was complaining that libopencv_java249 not available.</p>\n\n<p>As an additional testing I also renamed libopencv_java249.so to libopencv_java245.so then it was saying again that opencv_java249 not found.</p>\n\n<p>With this I guess we can confirm that it looks for the right version of opencv (that is libopencv_java249) but in addition to that it aslo requires libopencv_java245 also. Is my assumption is correct, it would be really helpful if someone can guide me.</p>\n"},{"tags":["java","android","opencv"],"comments":[{"owner":{"account_id":1463487,"reputation":16359,"user_id":1377097,"display_name":"beaker"},"score":0,"creation_date":1432656087,"post_id":30460265,"comment_id":49007444,"body_markdown":"What are the minimum and maximum values of `outImg` before conversion?","body":"What are the minimum and maximum values of <code>outImg</code> before conversion?"}],"answers":[{"tags":[],"owner":{"account_id":1211703,"reputation":10951,"user_id":1180117,"accept_rate":57,"display_name":"kiranpradeep"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1432660777,"creation_date":1432660395,"answer_id":30464897,"question_id":30460265,"body_markdown":"To answer your question, the conversions would have been \r\n\r\n    curImg.convertTo(curImg, CV_32FC3, 1/255.0);\r\n    outImg.convertTo(outImg, CV_8UC3, 255);\r\n\r\nBut, I assume your intention here is noise reduction by averaging images. If that is the case, the conversion to/from `CV_32FC3` is not required..  What ever was the depth of your input image, `imread`( with default flag `CV_LOAD_IMAGE_COLOR` )  would load it as an 8 bit image ( e.g. `8UC3` assuming color image). So we can average images without any conversion.\r\n\r\nRewriting as below.\r\n\r\n    Mat outImg;\r\n    for (int i = 0; i &lt; imgCount; i++) {\r\n    \tfname = fp + String.format(&quot;%02d&quot;, i) + &quot;.jpg&quot;;\r\n        //load as 8 bit image what ever was input image depth\r\n        Mat curImg = imread(fname);\r\n    \tImgproc.accumulateWeighted(curImg, outImg, 0.01);\r\n    }\r\n    imwrite(fp + &quot;output&quot; + &quot;-&quot; + curTime + &quot;.jpg&quot;, outImg);","title":"Trouble converting 32FC3 to 8UC3 to save image as jpg in OpenCV","body":"<p>To answer your question, the conversions would have been </p>\n\n<pre><code>curImg.convertTo(curImg, CV_32FC3, 1/255.0);\noutImg.convertTo(outImg, CV_8UC3, 255);\n</code></pre>\n\n<p>But, I assume your intention here is noise reduction by averaging images. If that is the case, the conversion to/from <code>CV_32FC3</code> is not required..  What ever was the depth of your input image, <code>imread</code>( with default flag <code>CV_LOAD_IMAGE_COLOR</code> )  would load it as an 8 bit image ( e.g. <code>8UC3</code> assuming color image). So we can average images without any conversion.</p>\n\n<p>Rewriting as below.</p>\n\n<pre><code>Mat outImg;\nfor (int i = 0; i &lt; imgCount; i++) {\n    fname = fp + String.format(\"%02d\", i) + \".jpg\";\n    //load as 8 bit image what ever was input image depth\n    Mat curImg = imread(fname);\n    Imgproc.accumulateWeighted(curImg, outImg, 0.01);\n}\nimwrite(fp + \"output\" + \"-\" + curTime + \".jpg\", outImg);\n</code></pre>\n"}],"owner":{"account_id":183682,"reputation":4108,"user_id":419194,"accept_rate":59,"display_name":"Austin Gayler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2494,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662464664,"creation_date":1432647601,"question_id":30460265,"body_markdown":"I&#39;m reading a series of jpgs and then using OpenCV&#39;s convertTo(Mat, CV_32FC3) function to convert them: \r\n\r\n        Mat outImg = Mat.zeros(tmp.size(), CV_32FC3);\r\n        Mat curImg = new Mat();\r\n\r\n        for (int i = 0; i &lt; imgCount; i++) {\r\n            fname = fp + String.format(&quot;%02d&quot;, i) + &quot;.jpg&quot;;\r\n            curImg = imread(fname);\r\n            curImg.convertTo(curImg, CV_32FC3);\r\n            Imgproc.accumulateWeighted(curImg, outImg, 0.01);\r\n        }\r\n\r\n        outImg.convertTo(outImg, CV_8UC3, ?????);\r\n        imwrite(fp + &quot;output&quot; + &quot;-&quot; + curTime + &quot;.jpg&quot;, outImg);\r\n\r\nI guess I have to convert it back to a CV_8UC3 before I can write it to a jpg, but I&#39;m not sure how to do that. I found some other SO answer that said I needed to scale it by multiplying it by 255 (the third parameter in convertTo()), but doing so makes the output completely white. 100 is a better number but there&#39;s still a significant amount of clipping (not to mention 255 being the most logical number for an 8 bit picture). Is this the right way to do this? If not, how can I save the image correctly?","title":"Trouble converting 32FC3 to 8UC3 to save image as jpg in OpenCV","body":"<p>I'm reading a series of jpgs and then using OpenCV's convertTo(Mat, CV_32FC3) function to convert them: </p>\n\n<pre><code>    Mat outImg = Mat.zeros(tmp.size(), CV_32FC3);\n    Mat curImg = new Mat();\n\n    for (int i = 0; i &lt; imgCount; i++) {\n        fname = fp + String.format(\"%02d\", i) + \".jpg\";\n        curImg = imread(fname);\n        curImg.convertTo(curImg, CV_32FC3);\n        Imgproc.accumulateWeighted(curImg, outImg, 0.01);\n    }\n\n    outImg.convertTo(outImg, CV_8UC3, ?????);\n    imwrite(fp + \"output\" + \"-\" + curTime + \".jpg\", outImg);\n</code></pre>\n\n<p>I guess I have to convert it back to a CV_8UC3 before I can write it to a jpg, but I'm not sure how to do that. I found some other SO answer that said I needed to scale it by multiplying it by 255 (the third parameter in convertTo()), but doing so makes the output completely white. 100 is a better number but there's still a significant amount of clipping (not to mention 255 being the most logical number for an 8 bit picture). Is this the right way to do this? If not, how can I save the image correctly?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":19918,"reputation":53180,"user_id":47110,"accept_rate":98,"display_name":"Abdullah Jibaly"},"score":4,"creation_date":1302708924,"post_id":5645468,"comment_id":6445601,"body_markdown":"That&#39;s correct but keep in mind that any format could have been used as the source format before it is compiled. The reason that XML was chosen is mainly because of its familiarity and the number of IDE tools that natively support it. The developers could have chosen JSON for example and still compiled that to binary.","body":"That&#39;s correct but keep in mind that any format could have been used as the source format before it is compiled. The reason that XML was chosen is mainly because of its familiarity and the number of IDE tools that natively support it. The developers could have chosen JSON for example and still compiled that to binary."}],"answers":[{"tags":[],"owner":{"account_id":348638,"reputation":2336,"user_id":683444,"accept_rate":80,"display_name":"PedroAGSantos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302677910,"creation_date":1302677910,"answer_id":5645524,"question_id":5645468,"body_markdown":"Same as why is silverlight with xml the answer is simple xml give power by integration and scalability. R.java is for indexing having things organized is never bad. \r\nSorry my english","title":"Why is XML used for the creation of UI layouts in Android?","body":"<p>Same as why is silverlight with xml the answer is simple xml give power by integration and scalability. R.java is for indexing having things organized is never bad. \nSorry my english</p>\n"},{"tags":[],"owner":{"account_id":49796,"reputation":7155,"user_id":148415,"accept_rate":80,"display_name":"IanNorton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302677961,"creation_date":1302677961,"answer_id":5645532,"question_id":5645468,"body_markdown":"One possible reason is that you need not have any working java underneath in order to be able to see the visual layout of the interface you are working on. The xml ui element/page is essentially a document that you can parse and display. If this were a source file you would have to either carefully parse it or compile and run it (all of which are more complex than parsing xml)","title":"Why is XML used for the creation of UI layouts in Android?","body":"<p>One possible reason is that you need not have any working java underneath in order to be able to see the visual layout of the interface you are working on. The xml ui element/page is essentially a document that you can parse and display. If this were a source file you would have to either carefully parse it or compile and run it (all of which are more complex than parsing xml)</p>\n"},{"tags":[],"owner":{"account_id":19918,"reputation":53180,"user_id":47110,"accept_rate":98,"display_name":"Abdullah Jibaly"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1302678050,"creation_date":1302678050,"answer_id":5645553,"question_id":5645468,"body_markdown":"XML is easy to parse and manipulate programmatically, it&#39;s basically a tree structure and most UI creation tools already use it. It really has nothing to do with decoupling business logic because you can define Java code in Android using a Model-View-Controller pattern just as well.\r\n\r\nThe auto-generated R.java file is a helper for the IDE so that you can get the benefit of autocomplete when you want to access a resource. It also stops you from making stupid mistakes since the compiler will complain if you try to access a resource you haven&#39;t defined. If you were using a simple properties file you wouldn&#39;t know until runtime that the &#39;key&#39; you are using is missing.","title":"Why is XML used for the creation of UI layouts in Android?","body":"<p>XML is easy to parse and manipulate programmatically, it's basically a tree structure and most UI creation tools already use it. It really has nothing to do with decoupling business logic because you can define Java code in Android using a Model-View-Controller pattern just as well.</p>\n\n<p>The auto-generated R.java file is a helper for the IDE so that you can get the benefit of autocomplete when you want to access a resource. It also stops you from making stupid mistakes since the compiler will complain if you try to access a resource you haven't defined. If you were using a simple properties file you wouldn't know until runtime that the 'key' you are using is missing.</p>\n"},{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302678080,"creation_date":1302678080,"answer_id":5645556,"question_id":5645468,"body_markdown":"Xml as itself is well readable both by human and machine. Also, it is scalable and simple to develop. Also, you have already mentioned the decoupling.\r\n\r\nAs for R.java - it is just the way of accessing widgets. The solution is rather good, as it is using ints instead of string to use less memory and in the same time provides well readable names for the simplicity of development.","title":"Why is XML used for the creation of UI layouts in Android?","body":"<p>Xml as itself is well readable both by human and machine. Also, it is scalable and simple to develop. Also, you have already mentioned the decoupling.</p>\n\n<p>As for R.java - it is just the way of accessing widgets. The solution is rather good, as it is using ints instead of string to use less memory and in the same time provides well readable names for the simplicity of development.</p>\n"},{"tags":[],"owner":{"account_id":294685,"reputation":7571,"user_id":598714,"accept_rate":66,"display_name":"rogerstone"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1662463951,"creation_date":1303031042,"answer_id":5692607,"question_id":5645468,"body_markdown":"Unlike what everyone said about the XML being easy and efficient. Here is what I read in [*Hello Android* by Ed Brunnette (p. 49)][1] which made sense.\r\n\r\n&gt; Android is optimized for mobile devices with limited memory and\r\n&gt; horsepower, so you may find it strange that it uses XML so\r\n&gt; pervasively. After all, XML is a verbose, human-readable format not\r\n&gt; known for its brevity or efficiency, right?\r\n&gt; \r\n&gt; Although you see XML when writing your program, the Eclipse plug-in\r\n&gt; invokes the Android resource compiler, aapt, to preprocess the XML\r\n&gt; into a compressed binary format.**It is this format, not the original\r\n&gt; XML text, that is stored on the device.\r\n\r\nThis was the kind of answer that i was looking for.(sorry if my question meant otherwise).\r\n\r\nThe reason that XML was chosen is mainly because of its familiarity and the number of IDE tools that natively support it. The developers could have chosen JSON for example and still compiled that to binary.The auto-generated R.java file is a helper for the IDE so that you can get the benefit of autocomplete when you want to access a resource.\r\n\r\n\r\n  [1]: https://en.calameo.com/read/000182204f2d6a08ff437","title":"Why is XML used for the creation of UI layouts in Android?","body":"<p>Unlike what everyone said about the XML being easy and efficient. Here is what I read in <a href=\"https://en.calameo.com/read/000182204f2d6a08ff437\" rel=\"nofollow noreferrer\"><em>Hello Android</em> by Ed Brunnette (p. 49)</a> which made sense.</p>\n<blockquote>\n<p>Android is optimized for mobile devices with limited memory and\nhorsepower, so you may find it strange that it uses XML so\npervasively. After all, XML is a verbose, human-readable format not\nknown for its brevity or efficiency, right?</p>\n<p>Although you see XML when writing your program, the Eclipse plug-in\ninvokes the Android resource compiler, aapt, to preprocess the XML\ninto a compressed binary format.**It is this format, not the original\nXML text, that is stored on the device.</p>\n</blockquote>\n<p>This was the kind of answer that i was looking for.(sorry if my question meant otherwise).</p>\n<p>The reason that XML was chosen is mainly because of its familiarity and the number of IDE tools that natively support it. The developers could have chosen JSON for example and still compiled that to binary.The auto-generated R.java file is a helper for the IDE so that you can get the benefit of autocomplete when you want to access a resource.</p>\n"},{"tags":[],"owner":{"account_id":2599209,"reputation":42707,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566395404,"creation_date":1566395404,"answer_id":57593229,"question_id":5645468,"body_markdown":"Android Layouts are tree like structures with some enforced rules. XMLs are perfect fit for this purpose. \r\n\r\nJSON also have tree like structure but they are data-oriented while XML is document-oriented.** : \r\n\r\n Meaning XML is based on the idea that documents have structural and\r\n   other semantic elements that can be described without reference to\r\n   how such elements should be displayed.\r\n\r\nThe actual display of such a document may vary, depending on the\r\n   output medium and style preferences. \r\n\r\n While JSON was designed to\r\n   represent JavaScript and their prime purpose is data exchange . They are well suited in data-oriented areas \r\n     because of light weight and simplicity &amp; closer in syntactic form to programming data structures. \r\n    \r\n\r\n\r\n","title":"Why is XML used for the creation of UI layouts in Android?","body":"<p>Android Layouts are tree like structures with some enforced rules. XMLs are perfect fit for this purpose. </p>\n\n<p>JSON also have tree like structure but they are data-oriented while XML is document-oriented.** : </p>\n\n<p>Meaning XML is based on the idea that documents have structural and\n   other semantic elements that can be described without reference to\n   how such elements should be displayed.</p>\n\n<p>The actual display of such a document may vary, depending on the\n   output medium and style preferences. </p>\n\n<p>While JSON was designed to\n   represent JavaScript and their prime purpose is data exchange . They are well suited in data-oriented areas \n     because of light weight and simplicity &amp; closer in syntactic form to programming data structures. </p>\n"}],"owner":{"account_id":294685,"reputation":7571,"user_id":598714,"accept_rate":66,"display_name":"rogerstone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19471,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":5692607,"answer_count":6,"score":26,"last_activity_date":1662463951,"creation_date":1302677562,"question_id":5645468,"body_markdown":"I would like to know why we use **XML for the creating user interface layouts in Android**. I know that it decouples the business logic from the design but what is the significance of the XML other than that?\r\n\r\nAlso I would like to know the **significance of the auto-generated `R.java` file** in this. All I know that it is generated according to the changes in the resources and that it helps us to access the widgets and resources through their IDs.\r\n\r\nIt would be great if someone could give a clear idea on these two aspects.","title":"Why is XML used for the creation of UI layouts in Android?","body":"<p>I would like to know why we use <strong>XML for the creating user interface layouts in Android</strong>. I know that it decouples the business logic from the design but what is the significance of the XML other than that?</p>\n\n<p>Also I would like to know the <strong>significance of the auto-generated <code>R.java</code> file</strong> in this. All I know that it is generated according to the changes in the resources and that it helps us to access the widgets and resources through their IDs.</p>\n\n<p>It would be great if someone could give a clear idea on these two aspects.</p>\n"},{"tags":["java","elasticsearch","apiclient"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":1,"creation_date":1662363012,"post_id":73605767,"comment_id":129980077,"body_markdown":"Can you please add your old code sinppets ?","body":"Can you please add your old code sinppets ?"},{"owner":{"account_id":24143111,"reputation":77,"user_id":18109095,"display_name":"Anamika"},"score":0,"creation_date":1662382961,"post_id":73605767,"comment_id":129986991,"body_markdown":"BoolQuery.Builder builder = QueryBuilders.bool();\nSearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\nsourceBuilder.query(boolQueryBuilder);","body":"BoolQuery.Builder builder = QueryBuilders.bool(); SearchSourceBuilder sourceBuilder = new SearchSourceBuilder(); sourceBuilder.query(boolQueryBuilder);"}],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662463947,"creation_date":1662463947,"answer_id":73621333,"question_id":73605767,"body_markdown":"You can write bool query as shown below in new Java client. as far as i know `SearchSourceBuilder` is not available in new client.\r\n\r\n```java\r\nQuery termQuery = TermQuery.of(t -&gt; t.field(&quot;field_name&quot;).value(&quot;search_value&quot;))._toQuery();\r\n\r\nSearchRequest sr = SearchRequest.of(r -&gt; r.query(q -&gt; q.bool(b -&gt; b.must(termQuery))));\r\n```","title":"Replacement for SearchSourceBuilder class in java api client","body":"<p>You can write bool query as shown below in new Java client. as far as i know <code>SearchSourceBuilder</code> is not available in new client.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query termQuery = TermQuery.of(t -&gt; t.field(&quot;field_name&quot;).value(&quot;search_value&quot;))._toQuery();\n\nSearchRequest sr = SearchRequest.of(r -&gt; r.query(q -&gt; q.bool(b -&gt; b.must(termQuery))));\n</code></pre>\n"}],"owner":{"account_id":24143111,"reputation":77,"user_id":18109095,"display_name":"Anamika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1451,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73621333,"answer_count":1,"score":2,"last_activity_date":1662463947,"creation_date":1662362177,"question_id":73605767,"body_markdown":"I am migrating a java application from elastic search high level client to java api client.\r\nThere is a SearchSourceBuilder class in elastic search java high level client.\r\nBut I couldn&#39;t find any corresponding class in java api client.\r\nCan someone help on this?\r\nOld code snippet is as below.\r\n```\r\nBoolQuery.Builder builder = QueryBuilders.bool();\r\nSearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\r\nsourceBuilder.query(boolQueryBuilder);","title":"Replacement for SearchSourceBuilder class in java api client","body":"<p>I am migrating a java application from elastic search high level client to java api client.\nThere is a SearchSourceBuilder class in elastic search java high level client.\nBut I couldn't find any corresponding class in java api client.\nCan someone help on this?\nOld code snippet is as below.</p>\n<pre><code>BoolQuery.Builder builder = QueryBuilders.bool();\nSearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\nsourceBuilder.query(boolQueryBuilder);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1662450326,"post_id":73618405,"comment_id":130001764,"body_markdown":"Well, your `checkPrime` method only takes one argument...","body":"Well, your <code>checkPrime</code> method only takes one argument..."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1662450390,"post_id":73618405,"comment_id":130001793,"body_markdown":"Also `if (true) {` should be `if (result)`. The way you wrote it basically means &quot;always&quot;.","body":"Also <code>if (true) {</code> should be <code>if (result)</code>. The way you wrote it basically means &quot;always&quot;."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662450446,"post_id":73618405,"comment_id":130001807,"body_markdown":"By the way, you probably meant to pass `i` to `checkPrime`.","body":"By the way, you probably meant to pass <code>i</code> to <code>checkPrime</code>."},{"owner":{"account_id":26186343,"reputation":70,"user_id":19868833,"display_name":"Oussama Abouzid"},"score":0,"creation_date":1662450554,"post_id":73618405,"comment_id":130001837,"body_markdown":"1 - you do not need to add this else statement : ```else {flag = true;}```\n\n2 - ```checkPrime``` accept only one param, you are passign two..","body":"1 - you do not need to add this else statement : <code>else {flag = true;}</code>  2 - <code>checkPrime</code> accept only one param, you are passign two.."}],"answers":[{"tags":[],"owner":{"account_id":17895374,"reputation":53,"user_id":13000903,"display_name":"Manoj Patidar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662450619,"creation_date":1662450619,"answer_id":73618507,"question_id":73618405,"body_markdown":"this is a compile-time error only,\r\ncalling checkprime method inside the main function\r\n ```\r\n// call checkPrime for every value between x and y\r\n           boolean result = obj.checkPrime(x, y); \r\n```\r\ncheckPrime method only takes one parameter but here you passed two parameters.\r\n```\r\nboolean checkPrime(int number){\r\n```\r\nthat is why you are getting the error.\r\npassing only one parameter will resolve the issue.","title":"My code does not work: Prime Number between Intervals JAVA","body":"<p>this is a compile-time error only,\ncalling checkprime method inside the main function</p>\n<pre><code>// call checkPrime for every value between x and y\n          boolean result = obj.checkPrime(x, y); \n</code></pre>\n<p>checkPrime method only takes one parameter but here you passed two parameters.</p>\n<pre><code>boolean checkPrime(int number){\n</code></pre>\n<p>that is why you are getting the error.\npassing only one parameter will resolve the issue.</p>\n"},{"tags":[],"owner":{"display_name":"user19929667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662463841,"creation_date":1662463841,"answer_id":73621314,"question_id":73618405,"body_markdown":"// Replace ___ with your code\r\nimport java.util.Scanner;\r\n\r\nclass Main {\r\n\r\n    // method to check prime number\r\n    // return true if the number is prime, else return false\r\n    // hint: Use the same logic from the previous challenge\r\n    boolean checkPrime(int number){\r\n        boolean flag = true;\r\n       \r\n        \r\n        \r\n        for (int i = 2; i &lt;= (number - 1); i++){\r\n            if (number % i == 0){\r\n                flag = false;\r\n                break;\r\n            }\r\n        }\r\n         return flag;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        \r\n        // get input value for two intervals\r\n        int x = input.nextInt();\r\n        int y = input.nextInt();\r\n\r\n        Main obj = new Main();\r\n\r\n        // run a loop to access each value in interval x and y\r\n        for (int i = x; i &lt;= y; ++i) {\r\n\r\n            // call checkPrime for every value between x and y\r\n           boolean result = obj.checkPrime(i);\r\n\r\n            // if returned value is true, print the number\r\n            if (result) {\r\n                System.out.println(i);\r\n            }\r\n            }\r\n             input.close(); \r\n        }\r\n     \r\n}\r\n    \r\n","title":"My code does not work: Prime Number between Intervals JAVA","body":"<p>// Replace ___ with your code\nimport java.util.Scanner;</p>\n<p>class Main {</p>\n<pre><code>// method to check prime number\n// return true if the number is prime, else return false\n// hint: Use the same logic from the previous challenge\nboolean checkPrime(int number){\n    boolean flag = true;\n   \n    \n    \n    for (int i = 2; i &lt;= (number - 1); i++){\n        if (number % i == 0){\n            flag = false;\n            break;\n        }\n    }\n     return flag;\n}\n\npublic static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n    \n    // get input value for two intervals\n    int x = input.nextInt();\n    int y = input.nextInt();\n\n    Main obj = new Main();\n\n    // run a loop to access each value in interval x and y\n    for (int i = x; i &lt;= y; ++i) {\n\n        // call checkPrime for every value between x and y\n       boolean result = obj.checkPrime(i);\n\n        // if returned value is true, print the number\n        if (result) {\n            System.out.println(i);\n        }\n        }\n         input.close(); \n    }\n \n</code></pre>\n<p>}</p>\n"}],"owner":{"display_name":"user19920896"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1662464143,"answer_count":2,"score":-2,"last_activity_date":1662463841,"creation_date":1662450159,"question_id":73618405,"body_markdown":"currently working on some tasks for learning purposes on Programiz.\r\nCan someone help me with the correction of the code? thanks a lot &lt;3 This is the task:\r\n\r\n&gt; *Prime Numbers Between Intervals  \r\nHard  \r\nProblem Description  \r\nCreate a method to find all the prime numbers between two intervals using a method.  \r\nStep 1:  \r\nCreate a method named checkPrime() with an integer parameter, number.\r\nInside the method, check if the number is prime or not. If the number is prime, return true. Otherwise, return false.  \r\nStep 2:  \r\nInside main(), get integer inputs for two intervals x and y, such that y should be greater than x.   Run a loop to access each number between x and y. Call checkPrime() with each value between the intervals.\r\nIf the returned value is true, print the number.*\r\n\r\n**This is the code by me, which does not work (Issue: does not print the Prime Numbers):**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class Main {\r\n    \r\n        // method to check prime number\r\n        // return true if the number is prime, else return false\r\n        // hint: Use the same logic from the previous challenge\r\n    \r\n        boolean checkPrime(int number){\r\n            boolean flag = true;\r\n            \r\n            for (int i = 2; i &lt;= (number - 1); i++){\r\n                if (number % i == 0){\r\n                    flag = false;\r\n                    break;\r\n                }\r\n                else {\r\n                    flag = true;\r\n                }\r\n            }\r\n             return flag;\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            \r\n            // get input value for two intervals\r\n            int x = input.nextInt();\r\n            int y = input.nextInt();\r\n    \r\n            Main obj = new Main();\r\n    \r\n            // run a loop to access each value in interval x and y\r\n            for (int i = x; i &lt;= y; ++i) {\r\n    \r\n                // call checkPrime for every value between x and y\r\n               boolean result = obj.checkPrime(x, y);\r\n    \r\n                // if returned value is true, print the number\r\n                if (true) {\r\n                    System.out.println(result);\r\n                }\r\n            }\r\n    \r\n            input.close();\r\n        }\r\n    }\r\n\r\nthis is the error I get:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZHV9s.png","title":"My code does not work: Prime Number between Intervals JAVA","body":"<p>currently working on some tasks for learning purposes on Programiz.\nCan someone help me with the correction of the code? thanks a lot &lt;3 This is the task:</p>\n<blockquote>\n<p><em>Prime Numbers Between Intervals<br />\nHard<br />\nProblem Description<br />\nCreate a method to find all the prime numbers between two intervals using a method.<br />\nStep 1:<br />\nCreate a method named checkPrime() with an integer parameter, number.\nInside the method, check if the number is prime or not. If the number is prime, return true. Otherwise, return false.<br />\nStep 2:<br />\nInside main(), get integer inputs for two intervals x and y, such that y should be greater than x.   Run a loop to access each number between x and y. Call checkPrime() with each value between the intervals.\nIf the returned value is true, print the number.</em></p>\n</blockquote>\n<p><strong>This is the code by me, which does not work (Issue: does not print the Prime Numbers):</strong></p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n\n    // method to check prime number\n    // return true if the number is prime, else return false\n    // hint: Use the same logic from the previous challenge\n\n    boolean checkPrime(int number){\n        boolean flag = true;\n        \n        for (int i = 2; i &lt;= (number - 1); i++){\n            if (number % i == 0){\n                flag = false;\n                break;\n            }\n            else {\n                flag = true;\n            }\n        }\n         return flag;\n    }\n    \n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        \n        // get input value for two intervals\n        int x = input.nextInt();\n        int y = input.nextInt();\n\n        Main obj = new Main();\n\n        // run a loop to access each value in interval x and y\n        for (int i = x; i &lt;= y; ++i) {\n\n            // call checkPrime for every value between x and y\n           boolean result = obj.checkPrime(x, y);\n\n            // if returned value is true, print the number\n            if (true) {\n                System.out.println(result);\n            }\n        }\n\n        input.close();\n    }\n}\n</code></pre>\n<p>this is the error I get:</p>\n<p><img src=\"https://i.stack.imgur.com/ZHV9s.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","intellij-idea","error-reporting"],"comments":[{"owner":{"account_id":9947305,"reputation":12802,"user_id":7361479,"accept_rate":75,"display_name":"kshetline"},"score":0,"creation_date":1665519689,"post_id":2222060,"comment_id":130718973,"body_markdown":"I&#39;m interested in this too, but in disabling error highlighting on a file-by-file basis, not globally. I have a deliberately error-filled HTML file which is test input for an HTML parser, and I&#39;d prefer that the deliberate errors in this file are ignored when checking my full project for errors.","body":"I&#39;m interested in this too, but in disabling error highlighting on a file-by-file basis, not globally. I have a deliberately error-filled HTML file which is test input for an HTML parser, and I&#39;d prefer that the deliberate errors in this file are ignored when checking my full project for errors."}],"answers":[{"tags":[],"owner":{"account_id":38973,"reputation":17442,"user_id":112222,"accept_rate":88,"display_name":"Teja Kantamneni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1265638743,"creation_date":1265638743,"answer_id":2222123,"question_id":2222060,"body_markdown":"Go to settings (ctrl+shift+s). and then search for errors. Under inspections, find HTML tree node and then uncheck the root. No more HTML validation.","title":"Intellij IDEA 9: How can I disable the highlighting of errors in HTML files?","body":"<p>Go to settings (ctrl+shift+s). and then search for errors. Under inspections, find HTML tree node and then uncheck the root. No more HTML validation.</p>\n"},{"tags":[],"owner":{"account_id":23751240,"reputation":1,"user_id":17767968,"display_name":"Tomas Taubinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662463688,"creation_date":1662463518,"answer_id":73621241,"question_id":2222060,"body_markdown":"Settings -&gt; Editor -&gt; Inspections (Ctrl + Alt + S)\r\n\r\nYou need to uncheck everything related. Even when you have HTML document, it may contain some CSS for example, so switching off just HTML won&#39;t suffice. Make sure you do that, apply and see for yourselves.","title":"Intellij IDEA 9: How can I disable the highlighting of errors in HTML files?","body":"<p>Settings -&gt; Editor -&gt; Inspections (Ctrl + Alt + S)</p>\n<p>You need to uncheck everything related. Even when you have HTML document, it may contain some CSS for example, so switching off just HTML won't suffice. Make sure you do that, apply and see for yourselves.</p>\n"}],"owner":{"account_id":590783,"reputation":41,"user_id":268694,"display_name":"Hei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3718,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1662463688,"creation_date":1265638103,"question_id":2222060,"body_markdown":"How can I disable the highlighting of errors in HTML files in Intellij IDEA 9?","title":"Intellij IDEA 9: How can I disable the highlighting of errors in HTML files?","body":"<p>How can I disable the highlighting of errors in HTML files in Intellij IDEA 9?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","checkmarx"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1662447270,"post_id":73617743,"comment_id":130000740,"body_markdown":"I&#39;m pretty sure that Spring Boot will use `PreparedStatement` for native queries as well so your query should be safe from SQL injection. Nevertheless it might be a good idea to dig a little in order to understand how those kind of attacks work and how/why `PreparedStatement` should take care of them.","body":"I&#39;m pretty sure that Spring Boot will use <code>PreparedStatement</code> for native queries as well so your query should be safe from SQL injection. Nevertheless it might be a good idea to dig a little in order to understand how those kind of attacks work and how/why <code>PreparedStatement</code> should take care of them."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":2,"creation_date":1662448276,"post_id":73617743,"comment_id":130001072,"body_markdown":"This is an almost dup to https://stackoverflow.com/questions/52791121/is-java-spring-jpa-native-query-sql-injection-proof\n\nDon&#39;t want to close vote, since that would close it immediately.","body":"This is an almost dup to <a href=\"https://stackoverflow.com/questions/52791121/is-java-spring-jpa-native-query-sql-injection-proof\" title=\"is java spring jpa native query sql injection proof\">stackoverflow.com/questions/52791121/&hellip;</a>  Don&#39;t want to close vote, since that would close it immediately."},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1662449075,"post_id":73617743,"comment_id":130001329,"body_markdown":"@JensSchauder, Thanks for not marking this question as duplicate even though it is almost same that I&#39;m also looking for. I have read your answer (which is accepted by the owner). So the bottom line is that &#39;Spring Data JPA is secure against SQL injection.&#39; no matter whether is native query or JPQL right?. If so, I&#39;ll write answer by myself by referring to your answer. Is that okay for you?","body":"@JensSchauder, Thanks for not marking this question as duplicate even though it is almost same that I&#39;m also looking for. I have read your answer (which is accepted by the owner). So the bottom line is that &#39;Spring Data JPA is secure against SQL injection.&#39; no matter whether is native query or JPQL right?. If so, I&#39;ll write answer by myself by referring to your answer. Is that okay for you?"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1662450289,"post_id":73617743,"comment_id":130001751,"body_markdown":"Yes, that is correct. And sure go ahead.","body":"Yes, that is correct. And sure go ahead."},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1662451015,"post_id":73617743,"comment_id":130001985,"body_markdown":"@JensSchauder, as **Thomas** said it is great if I get any article on how PreparedStatement is taking care of SQL_Injection attacks. Do you have any info or article about it?.","body":"@JensSchauder, as <b>Thomas</b> said it is great if I get any article on how PreparedStatement is taking care of SQL_Injection attacks. Do you have any info or article about it?."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1662451528,"post_id":73617743,"comment_id":130002140,"body_markdown":"Nope. I just know that bind variables are send separately to the database as you can tell when you look at the statements run by your database. You&#39;ll find that it executes sql statements that still have the bind variables in them.","body":"Nope. I just know that bind variables are send separately to the database as you can tell when you look at the statements run by your database. You&#39;ll find that it executes sql statements that still have the bind variables in them."},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1662454671,"post_id":73617743,"comment_id":130003202,"body_markdown":"@JensSchauder: I found the very convincing logical reason here (https://stackoverflow.com/a/8265319/9145082)","body":"@JensSchauder: I found the very convincing logical reason here (<a href=\"https://stackoverflow.com/a/8265319/9145082\">stackoverflow.com/a/8265319/9145082</a>)"},{"owner":{"account_id":5160029,"reputation":735,"user_id":4132029,"accept_rate":20,"display_name":"yaloner"},"score":0,"creation_date":1662459326,"post_id":73617743,"comment_id":130004879,"body_markdown":"@RaviKumarB, can you share the version of the Checkmarx SAST you are using?","body":"@RaviKumarB, can you share the version of the Checkmarx SAST you are using?"},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1662459448,"post_id":73617743,"comment_id":130004918,"body_markdown":"@yaloner: Version 9.4.2 HF4","body":"@yaloner: Version 9.4.2 HF4"},{"owner":{"account_id":5160029,"reputation":735,"user_id":4132029,"accept_rate":20,"display_name":"yaloner"},"score":0,"creation_date":1663006932,"post_id":73617743,"comment_id":130133260,"body_markdown":"@Ravi, this issue was handled in Checkmarx SAST 9.4.4","body":"@Ravi, this issue was handled in Checkmarx SAST 9.4.4"}],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662447764,"creation_date":1662447764,"answer_id":73617928,"question_id":73617743,"body_markdown":"As long as you use placeholders (:instanceName) instead of custom SQL with appended parameters your SQLs are not vulnerable for SQL injection. \r\n\r\nMost probably you will be using Hibernate implementation underneath Spring Data JPA interfaces so it is taken care as `PreparedStatement`s are used. \r\n\r\nI have experience running Checkmarx on some of the repositories I used to code and it gives a lot of False Positives when it comes to SQL Injection and XSS in REST APIs. The reason being it can not see context or libraries used within the project.\r\n\r\nIt reported a lot of SQL Injection vulnerabilities for us even though we have used Spring JDBC Template which uses `PreparedStatement`s heavily.","title":"Is SpringBoot Data JPA Repository Safe Against SQL Injection?","body":"<p>As long as you use placeholders (:instanceName) instead of custom SQL with appended parameters your SQLs are not vulnerable for SQL injection.</p>\n<p>Most probably you will be using Hibernate implementation underneath Spring Data JPA interfaces so it is taken care as <code>PreparedStatement</code>s are used.</p>\n<p>I have experience running Checkmarx on some of the repositories I used to code and it gives a lot of False Positives when it comes to SQL Injection and XSS in REST APIs. The reason being it can not see context or libraries used within the project.</p>\n<p>It reported a lot of SQL Injection vulnerabilities for us even though we have used Spring JDBC Template which uses <code>PreparedStatement</code>s heavily.</p>\n"},{"tags":[],"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1662463625,"creation_date":1662458677,"answer_id":73620184,"question_id":73617743,"body_markdown":"**SpringBoot Data JPA Repository is SAFE against SQL_Injection attacks as long as if we have named or indexed/positional parameters in @Query(JPQL) or @Query(nativeQuery).** \r\n\r\nYes, for the below question. It is applicable for @Query() only condition is that the query should have either named (:paramname) or positional (?1) parameters.\r\n&gt; I read that **Spring Data doesn&#39;t change the way Hibernate works with**\r\n&gt; **entities** as per the accepted answer here. Is it true and applicable\r\n&gt; for @Query(value=&quot;some query&quot;,nativeQuery=true).?\r\n\r\nThe following is SAFE against sql injection.\r\n\r\n    @Query(value=&quot;SELECT mdate FROM tablexyz WHERE properties IS NOT NULL AND instanceName =:instanceName ORDER BY mdate DESC&quot;,nativeQuery=true)\r\n        List&lt;String&gt; findAllMDateDESCByProNotEmptyAndInstanceName(@Param(&quot;instanceName&quot;) String instanceName);\r\n\r\nSimple reason is that Spring Data JPA uses hibernate behind the scenes which in turn uses PreparedStatements way to deal with database.\r\n\r\nA very detailed explanation on how PreparedStatements way is protecting our application from SQL_Injection attacks can be found [here][1] and [here as well][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8265319/9145082\r\n  [2]: https://stackoverflow.com/a/41661236/9145082","title":"Is SpringBoot Data JPA Repository Safe Against SQL Injection?","body":"<p><strong>SpringBoot Data JPA Repository is SAFE against SQL_Injection attacks as long as if we have named or indexed/positional parameters in @Query(JPQL) or @Query(nativeQuery).</strong></p>\n<p>Yes, for the below question. It is applicable for @Query() only condition is that the query should have either named (:paramname) or positional (?1) parameters.</p>\n<blockquote>\n<p>I read that <strong>Spring Data doesn't change the way Hibernate works with</strong>\n<strong>entities</strong> as per the accepted answer here. Is it true and applicable\nfor @Query(value=&quot;some query&quot;,nativeQuery=true).?</p>\n</blockquote>\n<p>The following is SAFE against sql injection.</p>\n<pre><code>@Query(value=&quot;SELECT mdate FROM tablexyz WHERE properties IS NOT NULL AND instanceName =:instanceName ORDER BY mdate DESC&quot;,nativeQuery=true)\n    List&lt;String&gt; findAllMDateDESCByProNotEmptyAndInstanceName(@Param(&quot;instanceName&quot;) String instanceName);\n</code></pre>\n<p>Simple reason is that Spring Data JPA uses hibernate behind the scenes which in turn uses PreparedStatements way to deal with database.</p>\n<p>A very detailed explanation on how PreparedStatements way is protecting our application from SQL_Injection attacks can be found <a href=\"https://stackoverflow.com/a/8265319/9145082\">here</a> and <a href=\"https://stackoverflow.com/a/41661236/9145082\">here as well</a></p>\n"}],"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9610,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73620184,"answer_count":2,"score":3,"last_activity_date":1662463625,"creation_date":1662446761,"question_id":73617743,"body_markdown":"I have a Springboot application which uses Spring Data JPA module for database operations. When we scan the code, checkmarx is reporting lot of high&amp;medium rated issues w.r.t SQL_Injection attacks. Following is one of the use cases, I need help in whether to mark the issue as False-Positive or not. If it is NOT False-Positive what should I do to fix the issue.?\r\n\r\n**AppController.Java**\r\n\r\n    @Controller\r\n    public class AppController\r\n    {\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(AppController.class);\r\n    \r\n        @Autowired\r\n        private AppService appService;\r\n    \t\r\n    \t@RequestMapping(value = &quot;/propertiesHistory&quot;, method = RequestMethod.POST)\r\n    \tpublic String getPropertiesHistory(@ModelAttribute(&quot;propSearchForm&quot;) @Validated PropertiesSearch propertiesSearch, BindingResult result, Model model, final RedirectAttributes redirectAttributes)\r\n    \t{\r\n    \t\tString instanceName = propertiesSearch.getInstanceName();\r\n    \t\t\r\n    \t\tif (!propertiesSearch.getInstanceName().equalsIgnoreCase(&quot;NONE&quot;))\r\n    \t\t{\r\n    \t\t\tList&lt;String&gt; propVersionDates = appService.getPropertyHistoryDates(instanceName);\r\n                //Some Businees Logic\r\n    \t\t}\r\n    \r\n    \t\tif (result.hasErrors())\r\n    \t\t{\r\n    \t\t\tlogger.warn(&quot;getPropertiesHistory() : Binding error - &quot; + result.getAllErrors());\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\t//Some Businees Logic\r\n    \t\t}\r\n    \t\treturn &quot;app/prophist&quot;;\r\n    \t}\r\n    }\r\n\r\n**AppService.java**\r\n\r\n    @Service\r\n    public class AppService\r\n    {\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(AppService.class);\r\n    \t\r\n    \t@Autowired\r\n    \tprivate AppRepository appRepository;\r\n    \t\r\n        public List&lt;String&gt; getPropertyHistoryDates(String instanceName)\r\n        {\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            try\r\n            {\r\n                list = appRepository.findAllMDateDESCByProNotEmptyAndInstanceName(instanceName);\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                logger.error(&quot;getPropertyHistoryDates(): Error while fetching data from database - &quot;, e);\r\n            }\r\n    \t\t\r\n            return list;\r\n        }\r\n    }\r\n\r\n**AppRepository.java**\r\n\r\n    public interface AppRepository extends JpaRepository&lt;AppDataEntity, Long&gt;\r\n    {\r\n    \t@Query(value=&quot;SELECT mdate FROM tablexyz WHERE properties IS NOT NULL AND instanceName =:instanceName ORDER BY mdate DESC&quot;,nativeQuery=true)\r\n    \tList&lt;String&gt; findAllMDateDESCByProNotEmptyAndInstanceName(@Param(&quot;instanceName&quot;) String instanceName);\r\n    }\r\n\r\nI also have some methods like `List&lt;AppDataEntity&gt; findAllByInstanceName(String instanceName);` in the repository which makes use of Proxy class implementation but not the native query. In such cases also I am getting this **Checkmarx issue - SQL_Injection**.\r\n\r\nI read that **Spring Data doesn&#39;t change the way Hibernate works with entities** as per the accepted answer [here][1]. Is it true and applicable for `@Query(value=&quot;some query&quot;,nativeQuery=true)`.?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72001344/sql-injection-prevention-in-spring-boot","title":"Is SpringBoot Data JPA Repository Safe Against SQL Injection?","body":"<p>I have a Springboot application which uses Spring Data JPA module for database operations. When we scan the code, checkmarx is reporting lot of high&amp;medium rated issues w.r.t SQL_Injection attacks. Following is one of the use cases, I need help in whether to mark the issue as False-Positive or not. If it is NOT False-Positive what should I do to fix the issue.?</p>\n<p><strong>AppController.Java</strong></p>\n<pre><code>@Controller\npublic class AppController\n{\n    private static final Logger logger = LoggerFactory.getLogger(AppController.class);\n\n    @Autowired\n    private AppService appService;\n    \n    @RequestMapping(value = &quot;/propertiesHistory&quot;, method = RequestMethod.POST)\n    public String getPropertiesHistory(@ModelAttribute(&quot;propSearchForm&quot;) @Validated PropertiesSearch propertiesSearch, BindingResult result, Model model, final RedirectAttributes redirectAttributes)\n    {\n        String instanceName = propertiesSearch.getInstanceName();\n        \n        if (!propertiesSearch.getInstanceName().equalsIgnoreCase(&quot;NONE&quot;))\n        {\n            List&lt;String&gt; propVersionDates = appService.getPropertyHistoryDates(instanceName);\n            //Some Businees Logic\n        }\n\n        if (result.hasErrors())\n        {\n            logger.warn(&quot;getPropertiesHistory() : Binding error - &quot; + result.getAllErrors());\n        }\n        else\n        {\n            //Some Businees Logic\n        }\n        return &quot;app/prophist&quot;;\n    }\n}\n</code></pre>\n<p><strong>AppService.java</strong></p>\n<pre><code>@Service\npublic class AppService\n{\n    private static final Logger logger = LoggerFactory.getLogger(AppService.class);\n    \n    @Autowired\n    private AppRepository appRepository;\n    \n    public List&lt;String&gt; getPropertyHistoryDates(String instanceName)\n    {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        try\n        {\n            list = appRepository.findAllMDateDESCByProNotEmptyAndInstanceName(instanceName);\n        }\n        catch (Exception e)\n        {\n            logger.error(&quot;getPropertyHistoryDates(): Error while fetching data from database - &quot;, e);\n        }\n        \n        return list;\n    }\n}\n</code></pre>\n<p><strong>AppRepository.java</strong></p>\n<pre><code>public interface AppRepository extends JpaRepository&lt;AppDataEntity, Long&gt;\n{\n    @Query(value=&quot;SELECT mdate FROM tablexyz WHERE properties IS NOT NULL AND instanceName =:instanceName ORDER BY mdate DESC&quot;,nativeQuery=true)\n    List&lt;String&gt; findAllMDateDESCByProNotEmptyAndInstanceName(@Param(&quot;instanceName&quot;) String instanceName);\n}\n</code></pre>\n<p>I also have some methods like <code>List&lt;AppDataEntity&gt; findAllByInstanceName(String instanceName);</code> in the repository which makes use of Proxy class implementation but not the native query. In such cases also I am getting this <strong>Checkmarx issue - SQL_Injection</strong>.</p>\n<p>I read that <strong>Spring Data doesn't change the way Hibernate works with entities</strong> as per the accepted answer <a href=\"https://stackoverflow.com/questions/72001344/sql-injection-prevention-in-spring-boot\">here</a>. Is it true and applicable for <code>@Query(value=&quot;some query&quot;,nativeQuery=true)</code>.?</p>\n"},{"tags":["java","cassandra","hikaricp","cassandra-jdbc-driver"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662463471,"creation_date":1662449464,"answer_id":73618255,"question_id":73617857,"body_markdown":"DataStax provides [JDBC and ODBC drivers][1] for connecting legacy apps to Apache Cassandra, [DataStax Enterprise][2] and [Astra DB][3].\r\n\r\nHowever, it makes more sense to use [the Cassandra Java driver][4] since you will be doing a significant refactoring of your code anyway to upgrade from Java 7.\r\n\r\nRefactoring your code for newer versions of Java but continuing to use JDBC [in my opinion] is a bad decision since you are limited in the Cassandra features you can access compared to the CQL API available in the Java driver. Cheers!\r\n\r\n\r\n  [1]: https://docs.datastax.com/en/driver-matrix/doc/install-simba-drivers.html\r\n  [2]: https://www.datastax.com/products/datastax-enterprise\r\n  [3]: https://www.datastax.com/products/datastax-astra\r\n  [4]: https://docs.datastax.com/en/developer/java-driver/latest/","title":"How can we upgrade our Java 7 code which uses JDBC connection to Cassandra?","body":"<p>DataStax provides <a href=\"https://docs.datastax.com/en/driver-matrix/doc/install-simba-drivers.html\" rel=\"nofollow noreferrer\">JDBC and ODBC drivers</a> for connecting legacy apps to Apache Cassandra, <a href=\"https://www.datastax.com/products/datastax-enterprise\" rel=\"nofollow noreferrer\">DataStax Enterprise</a> and <a href=\"https://www.datastax.com/products/datastax-astra\" rel=\"nofollow noreferrer\">Astra DB</a>.</p>\n<p>However, it makes more sense to use <a href=\"https://docs.datastax.com/en/developer/java-driver/latest/\" rel=\"nofollow noreferrer\">the Cassandra Java driver</a> since you will be doing a significant refactoring of your code anyway to upgrade from Java 7.</p>\n<p>Refactoring your code for newer versions of Java but continuing to use JDBC [in my opinion] is a bad decision since you are limited in the Cassandra features you can access compared to the CQL API available in the Java driver. Cheers!</p>\n"}],"owner":{"account_id":22634275,"reputation":25,"user_id":16811274,"display_name":"santhosh_athreya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73618255,"answer_count":1,"score":1,"last_activity_date":1662463471,"creation_date":1662447387,"question_id":73617857,"body_markdown":"Iam trying to connect to Cassandra DB using Java JDBC. I have a ConnectionManager class with a constructor accepting all the required params for connectivity. \r\n\r\nThe application uses JDK 7 and now are planning to upgrade the project to JDK 11. \r\n\r\nWe have configured 24 Cassandra database IPs and we have set out retry value to 10. \r\n\r\nWe have loaded the IPs into an arraylist and we have looped it and using Java Random utils we are picking the IPs based on arraylist size. \r\nBelow executeQuery method will loop untill the connection is established for the given IP and will retry for 10times. \r\n\r\n      private Connection getConnection() throws SQLException\r\n    {\r\n        if (con != null &amp;&amp; !con.isClosed()){\r\n        \tLOG.debug(&quot;&quot;,&quot;Returning existing connection...&quot;);\r\n            return con;\r\n        }\r\n        ArrayList&lt;String&gt; hostsCopy = new ArrayList&lt;String&gt;();\r\n        hostsCopy.addAll(hosts);\r\n\r\n        while (!hostsCopy.isEmpty())\r\n        {\r\n            String hostToTry = hostsCopy.get(random.nextInt(hostsCopy.size()));\r\n            try\r\n            {\r\n            \tLOG.debug(&quot;&quot;,&quot;Before connecting : &quot;+CommonUtils.formatDate(Calendar.getInstance().getTime(),&quot;dd-MM-yyyy HH:mm:ss&quot; ));\r\n                con = DriverManager.getConnection(&quot;jdbc:cassandra://&quot; + hostToTry + &quot;:&quot; + thriftPort + &quot;/&quot; + keyspace);\r\n                LOG.debug(&quot;&quot;,&quot;After connecting : &quot;+CommonUtils.formatDate(Calendar.getInstance().getTime(),&quot;dd-MM-yyyy HH:mm:ss&quot; ));\r\n                return con;\r\n            } catch (SQLException e)\r\n            {\r\n               LOG.error(&quot;&quot;, &quot;Unable to connect to &quot; + hostToTry);\r\n                hostsCopy.remove(hostToTry);\r\n            }\r\n            \r\n            try {\r\n\t\t\t\tThread.currentThread().sleep(cassandraConnectionSleepforDifferentHost);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tLOG.error(&quot;&quot;, &quot;Thread interrupted &quot;);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n        }\r\n\r\n        LOG.error(&quot;&quot;, &quot;No remaining servers to connect to&quot;);\r\n        throw new RuntimeException(CommonServicesErrorConstants.CASSANDRA_DA_002);\r\n    }\r\nLook at the execute query method : \r\n\r\n    public Pair&lt;ResultSet, Statement&gt; executeQuery(String query) throws SQLException \r\n    {\r\n    \t\r\n        int retryCount = 0;\r\n        while (retryCount &lt; retries)\r\n        {\r\n            try\r\n            {\r\n                Connection con = getConnection();\r\n               \r\n                Statement stmt = con.createStatement();\r\n                \r\n        \t\t\r\n                ResultSet rs = stmt.executeQuery(query);\r\n            \r\n        \t\t\r\n                return new Pair&lt;ResultSet, Statement&gt;(rs, stmt);\r\n            } catch (SQLTransientConnectionException e0)\r\n            {\r\n            \tLOG.error(&quot;&quot;,&quot;Transient error executing query, retrying. Retry count &quot; + retryCount);\r\n                e0.printStackTrace();\r\n            } catch (SQLNonTransientConnectionException e1)\r\n            {\r\n                // this means the consistency level cannot be satisfied.\r\n                if (e1.getCause() instanceof UnavailableException)\r\n                {\r\n                \tLOG.error(&quot;&quot;,&quot;Unavailable exception executing query, giving up&quot;);\r\n                    throw e1;\r\n                } else\r\n                {\r\n                \tLOG.error(&quot;&quot;,&quot;Exception executing query&quot;);\r\n                    e1.printStackTrace();\r\n                    LOG.error(&quot;&quot;,&quot;Retrying a different host&quot;);\r\n\r\n                    // we can swallow this, we&#39;re getting a new connection anyway\r\n                    try\r\n                    {\r\n                        close();\r\n                    } catch (SQLException e)\r\n                    {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            } catch (SQLSyntaxErrorException e2)\r\n            {\r\n                if (UnconfiguredColumnFamilyException.isUnconfiguredColumnFamilyException(e2))\r\n                    throw new UnconfiguredColumnFamilyException(e2);\r\n                else\r\n                    throw e2;\r\n            }\r\n\r\n            retryCount++;\r\n            \r\n            try {\r\n\t\t\t\tThread.currentThread().sleep(cassandraConnectionSleepforRetry);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tLOG.error(&quot;&quot;, &quot;Thread interrupted &quot;);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n        }\r\n        \r\n        // Close the connection when all the retries are done\r\n        try\r\n        {\r\n            close();\r\n        } catch (SQLException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        throw new RuntimeException(CommonServicesErrorConstants.CASSANDRA_DA_004);\r\n    }\r\n\r\n**Question: How can I upgrade this piece of code?**\r\n\r\nCan we use HikariCp connection pool concept? \r\n\r\nThanks in advance!! ","title":"How can we upgrade our Java 7 code which uses JDBC connection to Cassandra?","body":"<p>Iam trying to connect to Cassandra DB using Java JDBC. I have a ConnectionManager class with a constructor accepting all the required params for connectivity.</p>\n<p>The application uses JDK 7 and now are planning to upgrade the project to JDK 11.</p>\n<p>We have configured 24 Cassandra database IPs and we have set out retry value to 10.</p>\n<p>We have loaded the IPs into an arraylist and we have looped it and using Java Random utils we are picking the IPs based on arraylist size.\nBelow executeQuery method will loop untill the connection is established for the given IP and will retry for 10times.</p>\n<pre><code>  private Connection getConnection() throws SQLException\n{\n    if (con != null &amp;&amp; !con.isClosed()){\n        LOG.debug(&quot;&quot;,&quot;Returning existing connection...&quot;);\n        return con;\n    }\n    ArrayList&lt;String&gt; hostsCopy = new ArrayList&lt;String&gt;();\n    hostsCopy.addAll(hosts);\n\n    while (!hostsCopy.isEmpty())\n    {\n        String hostToTry = hostsCopy.get(random.nextInt(hostsCopy.size()));\n        try\n        {\n            LOG.debug(&quot;&quot;,&quot;Before connecting : &quot;+CommonUtils.formatDate(Calendar.getInstance().getTime(),&quot;dd-MM-yyyy HH:mm:ss&quot; ));\n            con = DriverManager.getConnection(&quot;jdbc:cassandra://&quot; + hostToTry + &quot;:&quot; + thriftPort + &quot;/&quot; + keyspace);\n            LOG.debug(&quot;&quot;,&quot;After connecting : &quot;+CommonUtils.formatDate(Calendar.getInstance().getTime(),&quot;dd-MM-yyyy HH:mm:ss&quot; ));\n            return con;\n        } catch (SQLException e)\n        {\n           LOG.error(&quot;&quot;, &quot;Unable to connect to &quot; + hostToTry);\n            hostsCopy.remove(hostToTry);\n        }\n        \n        try {\n            Thread.currentThread().sleep(cassandraConnectionSleepforDifferentHost);\n        } catch (InterruptedException e) {\n            LOG.error(&quot;&quot;, &quot;Thread interrupted &quot;);\n            e.printStackTrace();\n        }\n    }\n\n    LOG.error(&quot;&quot;, &quot;No remaining servers to connect to&quot;);\n    throw new RuntimeException(CommonServicesErrorConstants.CASSANDRA_DA_002);\n}\n</code></pre>\n<p>Look at the execute query method :</p>\n<pre><code>public Pair&lt;ResultSet, Statement&gt; executeQuery(String query) throws SQLException \n{\n    \n    int retryCount = 0;\n    while (retryCount &lt; retries)\n    {\n        try\n        {\n            Connection con = getConnection();\n           \n            Statement stmt = con.createStatement();\n            \n            \n            ResultSet rs = stmt.executeQuery(query);\n        \n            \n            return new Pair&lt;ResultSet, Statement&gt;(rs, stmt);\n        } catch (SQLTransientConnectionException e0)\n        {\n            LOG.error(&quot;&quot;,&quot;Transient error executing query, retrying. Retry count &quot; + retryCount);\n            e0.printStackTrace();\n        } catch (SQLNonTransientConnectionException e1)\n        {\n            // this means the consistency level cannot be satisfied.\n            if (e1.getCause() instanceof UnavailableException)\n            {\n                LOG.error(&quot;&quot;,&quot;Unavailable exception executing query, giving up&quot;);\n                throw e1;\n            } else\n            {\n                LOG.error(&quot;&quot;,&quot;Exception executing query&quot;);\n                e1.printStackTrace();\n                LOG.error(&quot;&quot;,&quot;Retrying a different host&quot;);\n\n                // we can swallow this, we're getting a new connection anyway\n                try\n                {\n                    close();\n                } catch (SQLException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n        } catch (SQLSyntaxErrorException e2)\n        {\n            if (UnconfiguredColumnFamilyException.isUnconfiguredColumnFamilyException(e2))\n                throw new UnconfiguredColumnFamilyException(e2);\n            else\n                throw e2;\n        }\n\n        retryCount++;\n        \n        try {\n            Thread.currentThread().sleep(cassandraConnectionSleepforRetry);\n        } catch (InterruptedException e) {\n            LOG.error(&quot;&quot;, &quot;Thread interrupted &quot;);\n            e.printStackTrace();\n        }\n    }\n    \n    // Close the connection when all the retries are done\n    try\n    {\n        close();\n    } catch (SQLException e)\n    {\n        e.printStackTrace();\n    }\n    throw new RuntimeException(CommonServicesErrorConstants.CASSANDRA_DA_004);\n}\n</code></pre>\n<p><strong>Question: How can I upgrade this piece of code?</strong></p>\n<p>Can we use HikariCp connection pool concept?</p>\n<p>Thanks in advance!!</p>\n"},{"tags":["java","geotools"],"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":1,"creation_date":1662463769,"post_id":73621204,"comment_id":130006321,"body_markdown":"Time to debug. Put breakpoint on the decode method an step through until you reach the line that halts the application. Is CPU going up? Then it&#39;s probably a loop that does not terminate.","body":"Time to debug. Put breakpoint on the decode method an step through until you reach the line that halts the application. Is CPU going up? Then it&#39;s probably a loop that does not terminate."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1662463942,"post_id":73621204,"comment_id":130006385,"body_markdown":"Or take a thread dump with `jstack` or `kill -3`","body":"Or take a thread dump with <code>jstack</code> or <code>kill -3</code>"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1662466883,"post_id":73621204,"comment_id":130007419,"body_markdown":"What else are you depending on? that code isn&#39;t normally threaded so I doubt it is a deadlock - does your user have write permission to the temp directory?","body":"What else are you depending on? that code isn&#39;t normally threaded so I doubt it is a deadlock - does your user have write permission to the temp directory?"},{"owner":{"account_id":4727352,"reputation":1053,"user_id":3823862,"accept_rate":100,"display_name":"mirzak"},"score":0,"creation_date":1662534627,"post_id":73621204,"comment_id":130024617,"body_markdown":"I am unable to reproduce it locally, only on this server, so I am not sure, can I do a thread dump there somehow ? We have entire org.geotools dependency, but I have tracked it down with log messages and it for sure just stops on CRS.decode","body":"I am unable to reproduce it locally, only on this server, so I am not sure, can I do a thread dump there somehow ? We have entire org.geotools dependency, but I have tracked it down with log messages and it for sure just stops on CRS.decode"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1662547182,"post_id":73621204,"comment_id":130029298,"body_markdown":"Then it is almost certainly a write permission issue with exploding the projections directory.","body":"Then it is almost certainly a write permission issue with exploding the projections directory."},{"owner":{"account_id":4727352,"reputation":1053,"user_id":3823862,"accept_rate":100,"display_name":"mirzak"},"score":0,"creation_date":1662558154,"post_id":73621204,"comment_id":130033784,"body_markdown":"Where can this permissions be configured ? I am not aware of them","body":"Where can this permissions be configured ? I am not aware of them"},{"owner":{"account_id":4727352,"reputation":1053,"user_id":3823862,"accept_rate":100,"display_name":"mirzak"},"score":0,"creation_date":1662699109,"post_id":73621204,"comment_id":130070504,"body_markdown":"One additional thing I did notice is that this fails randomly, it would pass maybe once every 100 tries","body":"One additional thing I did notice is that this fails randomly, it would pass maybe once every 100 tries"}],"owner":{"account_id":4727352,"reputation":1053,"user_id":3823862,"accept_rate":100,"display_name":"mirzak"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662463373,"creation_date":1662463373,"question_id":73621204,"body_markdown":"I am trying to execute following code `CRS.decode(EPSG:4326, true)` and execution just stops, no errors, no exceptions, nothing. \r\n\r\nI am using `org.geotools:gt-referencing:26.5`. Any ideas what I could try, or what could be the issue ?","title":"CRS.decode gets stuck (deadlock)","body":"<p>I am trying to execute following code <code>CRS.decode(EPSG:4326, true)</code> and execution just stops, no errors, no exceptions, nothing.</p>\n<p>I am using <code>org.geotools:gt-referencing:26.5</code>. Any ideas what I could try, or what could be the issue ?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"score":1,"creation_date":1634184254,"post_id":69564803,"comment_id":122958678,"body_markdown":"Which is line 20 in this xml file?","body":"Which is line 20 in this xml file?"},{"owner":{"account_id":3078147,"reputation":835,"user_id":2607017,"accept_rate":53,"display_name":"Zhang Zhan"},"score":0,"creation_date":1634185557,"post_id":69564803,"comment_id":122958862,"body_markdown":"@RakeshSaini It is android:src=&quot;@drawable/red_logo&quot; /&gt;","body":"@RakeshSaini It is android:src=&quot;@drawable/red_logo&quot; /&gt;"},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1634186318,"post_id":69564803,"comment_id":122958988,"body_markdown":"`4864 &#215; 2692` - dimension of the image is too big while you are using it in the image view  100dp , reduce the size of the image . It&#39;s probably failing as device is unable to load the image","body":"<code>4864 &#215; 2692</code> - dimension of the image is too big while you are using it in the image view  100dp , reduce the size of the image . It&#39;s probably failing as device is unable to load the image"},{"owner":{"account_id":3078147,"reputation":835,"user_id":2607017,"accept_rate":53,"display_name":"Zhang Zhan"},"score":0,"creation_date":1634187123,"post_id":69564803,"comment_id":122959108,"body_markdown":"Yes I also think about that @Nitish. What is the recommended image size?","body":"Yes I also think about that @Nitish. What is the recommended image size?"},{"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"score":0,"creation_date":1634187414,"post_id":69564803,"comment_id":122959145,"body_markdown":"Try to make it below 600 X 600, Then you can increase by providing ImageView width and height.","body":"Try to make it below 600 X 600, Then you can increase by providing ImageView width and height."},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1634187709,"post_id":69564803,"comment_id":122959195,"body_markdown":"Use - [Android asset studio](https://romannurik.github.io/AndroidAssetStudio/) , generate image/reduce size using `9 patch generator` , or `Generic icon generator` , you can supply with image size in `dp` , since you are using `imageview` of height `100 dp` , I would suggest you generate the image of size 100dp only(it will be approx. 408 x 408 for xxhdpi)","body":"Use - <a href=\"https://romannurik.github.io/AndroidAssetStudio/\" rel=\"nofollow noreferrer\">Android asset studio</a> , generate image/reduce size using <code>9 patch generator</code> , or <code>Generic icon generator</code> , you can supply with image size in <code>dp</code> , since you are using <code>imageview</code> of height <code>100 dp</code> , I would suggest you generate the image of size 100dp only(it will be approx. 408 x 408 for xxhdpi)"},{"owner":{"account_id":3243794,"reputation":4776,"user_id":2736039,"accept_rate":93,"display_name":"Ultimo_m"},"score":0,"creation_date":1668691982,"post_id":69564803,"comment_id":131471180,"body_markdown":"this issue happens also for me, I see the crash in crashlytics, I try to find same device with same os, issue cant be reproduced installing it from playstore","body":"this issue happens also for me, I see the crash in crashlytics, I try to find same device with same os, issue cant be reproduced installing it from playstore"}],"answers":[{"tags":[],"owner":{"account_id":18600234,"reputation":286,"user_id":13555243,"display_name":"shivang"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662463268,"creation_date":1662463268,"answer_id":73621185,"question_id":69564803,"body_markdown":"It happens due to scale issues, hence, always use a vector asset instead of an image in such scenarios. Worked for me.","title":"Caused by android.content.res.Resources$NotFoundException: Drawable (missing name) with resource ID even the resource is there","body":"<p>It happens due to scale issues, hence, always use a vector asset instead of an image in such scenarios. Worked for me.</p>\n"}],"owner":{"account_id":3078147,"reputation":835,"user_id":2607017,"accept_rate":53,"display_name":"Zhang Zhan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2930,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":1,"score":14,"last_activity_date":1662463268,"creation_date":1634182709,"question_id":69564803,"body_markdown":"On some Android devices, I am getting &quot;Resources$NotFoundException: Drawable (missing name) with resource ID&quot; error, e.g.:\r\n\r\nOn LGE Android 8.1 devices it is complaining\r\n\r\n&gt; Unable to start activity ComponentInfo{SplashActivity}: android.view.InflateException: Binary XML file line #20: Binary XML file line #20: Error inflating class ImageView\r\n\r\nFor the following part. In particular, it is complaining &quot;**android:src=&quot;@drawable/red_logo&quot;**&quot;\r\n\r\n        &lt;ImageView\r\n        android:id=&quot;@+id/logoImageView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:layout_marginStart=&quot;50dp&quot;\r\n        android:layout_marginEnd=&quot;50dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:src=&quot;@drawable/red_logo&quot; /&gt;\r\n\r\n\r\nI checked the source code directory, &quot;red_logo.png&quot; already exists in the following folders:\r\n\r\n - drawable\r\n - drawable-hdpi\r\n - drawable-ldpi\r\n - drawable-mdpi\r\n - drawable-xhdpi\r\n - drawable-xxhdpi\r\n - drawable-xxxhdpi\r\n\r\n\r\nHere is the Java code\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_splash); &lt;---- Fails here\r\n    }\r\n\r\nThe dimension of red_logo.png in drawable folder is 4864 &#215; 2692, same size as the red_logo.png in drawable-xxxhdpi folder. Is it too big?\r\n\r\nI did a lot of research but it seems I cannot find a valid answer.\r\n\r\nThank you.\r\nBest regards.\r\n","title":"Caused by android.content.res.Resources$NotFoundException: Drawable (missing name) with resource ID even the resource is there","body":"<p>On some Android devices, I am getting &quot;Resources$NotFoundException: Drawable (missing name) with resource ID&quot; error, e.g.:</p>\n<p>On LGE Android 8.1 devices it is complaining</p>\n<blockquote>\n<p>Unable to start activity ComponentInfo{SplashActivity}: android.view.InflateException: Binary XML file line #20: Binary XML file line #20: Error inflating class ImageView</p>\n</blockquote>\n<p>For the following part. In particular, it is complaining &quot;<strong>android:src=&quot;@drawable/red_logo&quot;</strong>&quot;</p>\n<pre><code>    &lt;ImageView\n    android:id=&quot;@+id/logoImageView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;100dp&quot;\n    android:layout_marginStart=&quot;50dp&quot;\n    android:layout_marginEnd=&quot;50dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:src=&quot;@drawable/red_logo&quot; /&gt;\n</code></pre>\n<p>I checked the source code directory, &quot;red_logo.png&quot; already exists in the following folders:</p>\n<ul>\n<li>drawable</li>\n<li>drawable-hdpi</li>\n<li>drawable-ldpi</li>\n<li>drawable-mdpi</li>\n<li>drawable-xhdpi</li>\n<li>drawable-xxhdpi</li>\n<li>drawable-xxxhdpi</li>\n</ul>\n<p>Here is the Java code</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_splash); &lt;---- Fails here\n}\n</code></pre>\n<p>The dimension of red_logo.png in drawable folder is 4864 × 2692, same size as the red_logo.png in drawable-xxxhdpi folder. Is it too big?</p>\n<p>I did a lot of research but it seems I cannot find a valid answer.</p>\n<p>Thank you.\nBest regards.</p>\n"},{"tags":["java","android","c++","opencv"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1449167270,"post_id":34073431,"comment_id":55899984,"body_markdown":"In you have Intelli or the Andriod IDE, press `left shift` twice and type `abs` to search for it or any function, method, class, file etc.","body":"In you have Intelli or the Andriod IDE, press <code>left shift</code> twice and type <code>abs</code> to search for it or any function, method, class, file etc."}],"answers":[{"tags":[],"owner":{"account_id":2926462,"reputation":867,"user_id":2507646,"display_name":"Iliiaz Akhmedov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1449167073,"creation_date":1449167073,"answer_id":34073462,"question_id":34073431,"body_markdown":"Look at the ```Math``` class.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/Math.html\r\n\r\n     Math.PI\r\n     Math.pow(...)\r\n     Math.abs(...)\r\n     etc.","title":"Can someone help me to translate this line of code in java?","body":"<p>Look at the <code>Math</code> class.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html\">https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html</a></p>\n\n<pre><code> Math.PI\n Math.pow(...)\n Math.abs(...)\n etc.\n</code></pre>\n"}],"owner":{"account_id":7387227,"reputation":27,"user_id":5621902,"display_name":"Raymond"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":10,"up_vote_count":1,"accepted_answer_id":34073462,"answer_count":1,"score":-9,"last_activity_date":1662463236,"creation_date":1449166953,"question_id":34073431,"body_markdown":"    if (area &gt;= 30 &amp;&amp;\r\n        std::abs(1 - ((double)rect.width / (double)rect.height)) &lt;= 0.2 &amp;&amp; \r\n        std::abs(1 - (area / (CV_PI * std::pow(radius, 2)))) &lt;= 0.2)\r\n\r\nWhat I want to be translated is the `std::abs` and the `CV_PI * std::pow`.\r\n\r\nI&#39;ve search the net for `std::abs` equivalent to java and failed to find any. Please help. Wasn&#39;t able to search for `CV_PI * std::pow` since I can&#39;t still find the `std::abs`.","title":"Can someone help me to translate this line of code in java?","body":"<pre><code>if (area &gt;= 30 &amp;&amp;\n    std::abs(1 - ((double)rect.width / (double)rect.height)) &lt;= 0.2 &amp;&amp; \n    std::abs(1 - (area / (CV_PI * std::pow(radius, 2)))) &lt;= 0.2)\n</code></pre>\n\n<p>What I want to be translated is the <code>std::abs</code> and the <code>CV_PI * std::pow</code>.</p>\n\n<p>I've search the net for <code>std::abs</code> equivalent to java and failed to find any. Please help. Wasn't able to search for <code>CV_PI * std::pow</code> since I can't still find the <code>std::abs</code>.</p>\n"},{"tags":["java","arrays","json","android-studio","android-recyclerview"],"comments":[{"owner":{"account_id":24585988,"reputation":25,"user_id":18490497,"display_name":"Abhishek Tiwari"},"score":0,"creation_date":1656406957,"post_id":72780660,"comment_id":128558303,"body_markdown":"as we have json string :    {&quot;SILVERRohit&quot;:0,&quot;DINRCosmic&quot;:20,&quot;NATURALGASCosmic&quot;:0 }   \n first make this into   [ {&quot;SILVERRohit&quot;:0} , {&quot;DINRCosmic&quot;:20} , {&quot;NATURALGASCosmic&quot;:0}  ]  then finally i want to replace all keys with same key -  [ {&quot;open&quot;:0} , {&quot;open&quot;:20} , {&quot;open&quot;:0}  ] if is it possible guys. please help me .","body":"as we have json string :    {&quot;SILVERRohit&quot;:0,&quot;DINRCosmic&quot;:20,&quot;NATURALGASCosmic&quot;:0 }     first make this into   [ {&quot;SILVERRohit&quot;:0} , {&quot;DINRCosmic&quot;:20} , {&quot;NATURALGASCosmic&quot;:0}  ]  then finally i want to replace all keys with same key -  [ {&quot;open&quot;:0} , {&quot;open&quot;:20} , {&quot;open&quot;:0}  ] if is it possible guys. please help me ."}],"answers":[{"tags":[],"owner":{"account_id":25617055,"reputation":47,"user_id":19389498,"display_name":"JonathanQXP"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1662462728,"creation_date":1656401044,"answer_id":72782269,"question_id":72780660,"body_markdown":"As you got the hashmap, iterate the map like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Map&lt;String,String&gt; data = MapUtil.newHashMap();\r\n    JSONArray jsonArray = new JSONArray();\r\n    for (Map.Entry&lt;String, String&gt; entry : data.entrySet()) {\r\n        Map&lt;String,String&gt; json = MapUtil.newHashMap();\r\n        json.put(&quot;open&quot;, entry.getValue());\r\n        jsonArray.add(json);\r\n    }\r\n    return jsonArray;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n","title":"How to convert a jsonobject into a jsonarray and also change all keys with all custom same keys in Java and Android","body":"<p>As you got the hashmap, iterate the map like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Map&lt;String,String&gt; data = MapUtil.newHashMap();\nJSONArray jsonArray = new JSONArray();\nfor (Map.Entry&lt;String, String&gt; entry : data.entrySet()) {\n    Map&lt;String,String&gt; json = MapUtil.newHashMap();\n    json.put(\"open\", entry.getValue());\n    jsonArray.add(json);\n}\nreturn jsonArray;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":24585988,"reputation":25,"user_id":18490497,"display_name":"Abhishek Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72782269,"answer_count":1,"score":0,"last_activity_date":1662462867,"creation_date":1656389511,"question_id":72780660,"body_markdown":"Code:\r\n---\r\n\r\n    Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n\r\n    for (int j = 0; j &lt; jsonArray.length(); j++) {\r\n        JSONObject list = jsonArray.getJSONObject(j);\r\n\r\n        String key = list.getString(&quot;symbol&quot;) + list.getString(&quot;groupname&quot;);\r\n\r\n        if (!map.containsKey(key)) {\r\n            map.put(key, list.getInt(&quot;openqty&quot;));\r\n\r\n        } else {\r\n            int val = map.get(key) + list.getInt(&quot;openqty&quot;);\r\n            map.put(key, val);\r\n        }\r\n\r\n        System.out.println(&quot;map &quot; + map);\r\n    }\r\n\r\n    // Converted map into jsonstring\r\n    String jsonString = new JSONObject(map).toString();\r\n    System.out.println(&quot;jsonstring &quot; + jsonString);\r\n\r\n---\r\n\r\n**Output:**\r\n\r\n```\r\n     {&quot;SILVERRohit&quot;:0,&quot;DINRCosmic&quot;:20,&quot;NATURALGASCosmic&quot;:0,&quot;NGCosmic&quot;:0,&quot;SICosmic&quot;:-5,&quot;SILVERCosmic&quot;:35,&quot;DINRRishi&quot;:0,&quot;SIRishi&quot;:0,&quot;SILVERRishi&quot;:0,&quot;CLAmitTA&quot;:-6,\r\n&quot;CRUDEOILAmitTA&quot;:60,&quot;DINRAmitTA&quot;:24,&quot;GCAmitTA&quot;:0,&quot;GOLDAmitTA&quot;:0,&quot;SIAmitTA&quot;:0,&quot;SILVERAmitTA&quot;:0,&quot;DINRPraveen&quot;:0,&quot;GCPraveen&quot;:0,&quot;GOLDPraveen&quot;:0,&quot;DINRHarsh&quot;:46,\r\n&quot;GCHarsh&quot;:-9,&quot;GOLDHarsh&quot;:28,&quot;SIHarsh&quot;:9,&quot;SILVERHarsh&quot;:-45,&quot;DINRGovind&quot;:-160,&quot;SIGovind&quot;:11}\r\n```\r\n\r\n^^ this is an jsonobject I have got by using linkedhashmap. So, now my problem is I want to convert it into jsonArray format to set in the model (recyclerview). I have also tried by iterating, but I am getting the same values in each single row.\r\n\r\nNot only this, but also I want to change all jsonobject keys to &quot;open&quot;, so that I can use this in recyclerview for each single row.\r\n\r\n**Expected output:**\r\n\r\n```\r\n[    {&quot;open&quot;:0},{&quot;open&quot;:20} , {&quot;open&quot;:0} ,   {&quot;open&quot;:0} ,{&quot;open&quot;:-5 } ,\r\n {&quot;open&quot;:35 } , {&quot;open&quot;:0} ,{&quot;open&quot;:0 },{&quot;open&quot;:0 } ,{&quot;open&quot;:-6 },\r\n {&quot;open&quot;:60},{&quot;open&quot;:24},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},\r\n{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:46},\r\n{&quot;open&quot;:-9},{&quot;open&quot;:28},{&quot;open&quot;:9},{&quot;open&quot;:-45},\r\n{&quot;open&quot;:-160},{&quot;open&quot;:11}    ]\r\n```\r\n\r\n","title":"How to convert a jsonobject into a jsonarray and also change all keys with all custom same keys in Java and Android","body":"<h2>Code:</h2>\n<pre><code>Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n\nfor (int j = 0; j &lt; jsonArray.length(); j++) {\n    JSONObject list = jsonArray.getJSONObject(j);\n\n    String key = list.getString(&quot;symbol&quot;) + list.getString(&quot;groupname&quot;);\n\n    if (!map.containsKey(key)) {\n        map.put(key, list.getInt(&quot;openqty&quot;));\n\n    } else {\n        int val = map.get(key) + list.getInt(&quot;openqty&quot;);\n        map.put(key, val);\n    }\n\n    System.out.println(&quot;map &quot; + map);\n}\n\n// Converted map into jsonstring\nString jsonString = new JSONObject(map).toString();\nSystem.out.println(&quot;jsonstring &quot; + jsonString);\n</code></pre>\n<hr />\n<p><strong>Output:</strong></p>\n<pre><code>     {&quot;SILVERRohit&quot;:0,&quot;DINRCosmic&quot;:20,&quot;NATURALGASCosmic&quot;:0,&quot;NGCosmic&quot;:0,&quot;SICosmic&quot;:-5,&quot;SILVERCosmic&quot;:35,&quot;DINRRishi&quot;:0,&quot;SIRishi&quot;:0,&quot;SILVERRishi&quot;:0,&quot;CLAmitTA&quot;:-6,\n&quot;CRUDEOILAmitTA&quot;:60,&quot;DINRAmitTA&quot;:24,&quot;GCAmitTA&quot;:0,&quot;GOLDAmitTA&quot;:0,&quot;SIAmitTA&quot;:0,&quot;SILVERAmitTA&quot;:0,&quot;DINRPraveen&quot;:0,&quot;GCPraveen&quot;:0,&quot;GOLDPraveen&quot;:0,&quot;DINRHarsh&quot;:46,\n&quot;GCHarsh&quot;:-9,&quot;GOLDHarsh&quot;:28,&quot;SIHarsh&quot;:9,&quot;SILVERHarsh&quot;:-45,&quot;DINRGovind&quot;:-160,&quot;SIGovind&quot;:11}\n</code></pre>\n<p>^^ this is an jsonobject I have got by using linkedhashmap. So, now my problem is I want to convert it into jsonArray format to set in the model (recyclerview). I have also tried by iterating, but I am getting the same values in each single row.</p>\n<p>Not only this, but also I want to change all jsonobject keys to &quot;open&quot;, so that I can use this in recyclerview for each single row.</p>\n<p><strong>Expected output:</strong></p>\n<pre><code>[    {&quot;open&quot;:0},{&quot;open&quot;:20} , {&quot;open&quot;:0} ,   {&quot;open&quot;:0} ,{&quot;open&quot;:-5 } ,\n {&quot;open&quot;:35 } , {&quot;open&quot;:0} ,{&quot;open&quot;:0 },{&quot;open&quot;:0 } ,{&quot;open&quot;:-6 },\n {&quot;open&quot;:60},{&quot;open&quot;:24},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},\n{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:46},\n{&quot;open&quot;:-9},{&quot;open&quot;:28},{&quot;open&quot;:9},{&quot;open&quot;:-45},\n{&quot;open&quot;:-160},{&quot;open&quot;:11}    ]\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1662372868,"post_id":73607734,"comment_id":129983345,"body_markdown":"There is nothing in `DayLogic` that uses `T`. Why do you need the generic parameter in the first place?","body":"There is nothing in <code>DayLogic</code> that uses <code>T</code>. Why do you need the generic parameter in the first place?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":5,"creation_date":1662372870,"post_id":73607734,"comment_id":129983348,"body_markdown":"Generics are for types. Day.WEDNESDAY is not a type. It&#39;s an instance","body":"Generics are for types. Day.WEDNESDAY is not a type. It&#39;s an instance"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1662373047,"post_id":73607734,"comment_id":129983402,"body_markdown":"There&#39;s [`java.time.DayOfWeek`](https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html) since Java 8, worth a try using that for your logic.","body":"There&#39;s <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\"><code>java.time.DayOfWeek</code></a> since Java 8, worth a try using that for your logic."},{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":2,"creation_date":1662373922,"post_id":73607734,"comment_id":129983697,"body_markdown":"Generics are a way to specify certain variables during runtime (example `class&lt;T extends Number&gt;` can be instantiated with any type extending `Number`). In your case you already know the type `DAY`, meaning you dont need generics, and can simply implement the interface instead. I am wondering though, what do you want to achieve? Do you want to select a certain logic with an enum-type? Maybe you can elaborate a bit more so we can understand the situation better.","body":"Generics are a way to specify certain variables during runtime (example <code>class&lt;T extends Number&gt;</code> can be instantiated with any type extending <code>Number</code>). In your case you already know the type <code>DAY</code>, meaning you dont need generics, and can simply implement the interface instead. I am wondering though, what do you want to achieve? Do you want to select a certain logic with an enum-type? Maybe you can elaborate a bit more so we can understand the situation better."},{"owner":{"account_id":6683686,"reputation":407,"user_id":5155846,"accept_rate":56,"display_name":"Ahmad"},"score":0,"creation_date":1662374217,"post_id":73607734,"comment_id":129983779,"body_markdown":"@n247s I want each item in the `enum` to have different logic, so that I dont need to loop over enum value or check a condition if it matches the enum","body":"@n247s I want each item in the <code>enum</code> to have different logic, so that I dont need to loop over enum value or check a condition if it matches the enum"}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662374593,"creation_date":1662374245,"answer_id":73608043,"question_id":73607734,"body_markdown":"Since there are already answers to your original question, here&#39;s what you can do that should fit your use case: since an `enum` is just a (restricted) `class`, it can implement an `interface`, which looks like what you need: \r\n\r\n```\r\npublic enum DAY implements DayLogic { \r\n SUNDAY {\r\n  public void doLogic() {\r\n   // sunday logic implementation\r\n  }\r\n }, \r\n MONDAY{\r\n  public void doLogic() {\r\n   // monday logic implementation\r\n  }\r\n }, \r\n // ...\r\n}\r\n```\r\n\r\nYou can then use it like \r\n```\r\nDAY day = decideDay();\r\nday.doLogic();\r\n```\r\n\r\nIf you don&#39;t like the individual values having the method (I don&#39;t), you can do something like\r\n\r\n```\r\npublic enum DAY implements DayLogic {\r\n SUNDAY(new SundayLogic()),\r\n MONDAY(new MondayLogic()),\r\n // ...\r\n ;\r\n\r\n private DayLogic logicDelegate; // or Runnable, it&#39;s the same signature\r\n\r\n private DAY(DayLogic logic) {\r\n  logicDelegate = logic;\r\n }\r\n\r\n public doLogic() {\r\n  logicDelegate.run();\r\n }\r\n}\r\n```","title":"use enum as generic parameter","body":"<p>Since there are already answers to your original question, here's what you can do that should fit your use case: since an <code>enum</code> is just a (restricted) <code>class</code>, it can implement an <code>interface</code>, which looks like what you need:</p>\n<pre><code>public enum DAY implements DayLogic { \n SUNDAY {\n  public void doLogic() {\n   // sunday logic implementation\n  }\n }, \n MONDAY{\n  public void doLogic() {\n   // monday logic implementation\n  }\n }, \n // ...\n}\n</code></pre>\n<p>You can then use it like</p>\n<pre><code>DAY day = decideDay();\nday.doLogic();\n</code></pre>\n<p>If you don't like the individual values having the method (I don't), you can do something like</p>\n<pre><code>public enum DAY implements DayLogic {\n SUNDAY(new SundayLogic()),\n MONDAY(new MondayLogic()),\n // ...\n ;\n\n private DayLogic logicDelegate; // or Runnable, it's the same signature\n\n private DAY(DayLogic logic) {\n  logicDelegate = logic;\n }\n\n public doLogic() {\n  logicDelegate.run();\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662462683,"creation_date":1662374805,"answer_id":73608149,"question_id":73607734,"body_markdown":"Looks like you can achieve this concept by:\r\n\r\n    public enum DAY\r\n    {\r\n    \tSUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY\r\n    }\r\n\r\n**Day Logic interface and Factory initializer**\r\n\r\n    public interface DayLogic\r\n    {\r\n    \tvoid doLogic();\r\n    \r\n    \tpublic static class Factory\r\n    \t{\r\n    \t\tpublic static DayLogic getDayLogic(DAY day)\r\n    \t\t{\r\n    \t\t\tif (DAY.WEDNESDAY.equals(day))\r\n    \t\t\t{\r\n    \t\t\t\treturn new WednesdayLogic();\r\n    \t\t\t}\r\n    \t\t\t// ...\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**WednesdayLogic Class:**\r\n\r\n    public class WednesdayLogic implements DayLogic\r\n    {\r\n    \tfinal DAY day = DAY.WEDNESDAY;\r\n    \r\n    \t@Override\r\n    \tpublic void doLogic()\r\n    \t{\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t}\r\n    }\r\n\r\nProblem is that Enum Day is a value, not a class. \r\n\r\nEdit: Thanks to @daniu I am adding how it was to be used:\r\nDayLogic dayLogic = DayLogic.Factory.getDayLogic(DAY.WEDNESDAY);\r\n","title":"use enum as generic parameter","body":"<p>Looks like you can achieve this concept by:</p>\n<pre><code>public enum DAY\n{\n    SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY\n}\n</code></pre>\n<p><strong>Day Logic interface and Factory initializer</strong></p>\n<pre><code>public interface DayLogic\n{\n    void doLogic();\n\n    public static class Factory\n    {\n        public static DayLogic getDayLogic(DAY day)\n        {\n            if (DAY.WEDNESDAY.equals(day))\n            {\n                return new WednesdayLogic();\n            }\n            // ...\n            return null;\n        }\n    }\n}\n</code></pre>\n<p><strong>WednesdayLogic Class:</strong></p>\n<pre><code>public class WednesdayLogic implements DayLogic\n{\n    final DAY day = DAY.WEDNESDAY;\n\n    @Override\n    public void doLogic()\n    {\n        // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n<p>Problem is that Enum Day is a value, not a class.</p>\n<p>Edit: Thanks to @daniu I am adding how it was to be used:\nDayLogic dayLogic = DayLogic.Factory.getDayLogic(DAY.WEDNESDAY);</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662375819,"creation_date":1662375819,"answer_id":73608339,"question_id":73607734,"body_markdown":"The answer from daniu is one option: the enum can implement an interface, and you do all in the interface. Especially using a constructor with DayLogic is nice.\r\n\r\nOften that DayLogic is a later, uncoupled phenomenon. In that case use an [**`EnumMap`**][1] from the enum to your logic.\r\n\r\n    public class Dayly {\r\n        private final Map&lt;Day, DayLogic&gt; logicMap = new EnumMap&lt;&gt;(Day.class);\r\n\r\n        public void putLogic(Day day, DayLogic logic) {\r\n            logicMap.put(day, logic);\r\n        }\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/EnumMap.html","title":"use enum as generic parameter","body":"<p>The answer from daniu is one option: the enum can implement an interface, and you do all in the interface. Especially using a constructor with DayLogic is nice.</p>\n<p>Often that DayLogic is a later, uncoupled phenomenon. In that case use an <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><strong><code>EnumMap</code></strong></a> from the enum to your logic.</p>\n<pre><code>public class Dayly {\n    private final Map&lt;Day, DayLogic&gt; logicMap = new EnumMap&lt;&gt;(Day.class);\n\n    public void putLogic(Day day, DayLogic logic) {\n        logicMap.put(day, logic);\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":6683686,"reputation":407,"user_id":5155846,"accept_rate":56,"display_name":"Ahmad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73608149,"answer_count":3,"score":0,"last_activity_date":1662462683,"creation_date":1662372537,"question_id":73607734,"body_markdown":"I have an enum `day`\r\n```\r\npublic enum DAY { SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY}\r\n```\r\n\r\nI want to create a generic interface so that for each day I want to have a different implementation\r\n\r\n``` \r\npublic interface DayLogic&lt;T&gt;\r\n{\r\n  void doLogic();\r\n}\r\n```\r\n\r\nI want `&lt;T&gt;` to be a value of `DAY` `enum` \r\nfor example \r\n``` \r\npublic class WednesdayLogic implements DayLogic&lt;DAY.WEDNESDAY&gt;\r\n{\r\n   @Override\r\n   public void doLogic()\r\n   {}    \r\n}\r\n```\r\n\r\nis it possible or is there any alternate flow to do so?","title":"use enum as generic parameter","body":"<p>I have an enum <code>day</code></p>\n<pre><code>public enum DAY { SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY}\n</code></pre>\n<p>I want to create a generic interface so that for each day I want to have a different implementation</p>\n<pre><code>public interface DayLogic&lt;T&gt;\n{\n  void doLogic();\n}\n</code></pre>\n<p>I want <code>&lt;T&gt;</code> to be a value of <code>DAY</code> <code>enum</code>\nfor example</p>\n<pre><code>public class WednesdayLogic implements DayLogic&lt;DAY.WEDNESDAY&gt;\n{\n   @Override\n   public void doLogic()\n   {}    \n}\n</code></pre>\n<p>is it possible or is there any alternate flow to do so?</p>\n"},{"tags":["java","android","arraylist","android-viewmodel","observers"],"answers":[{"tags":[],"owner":{"account_id":15525786,"reputation":513,"user_id":11200630,"display_name":"Kalai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662462682,"creation_date":1607529694,"answer_id":65220365,"question_id":65210945,"body_markdown":"If you are using Java 8 onward, something like this would work, provided that there are &gt;= 5 elements in the list:\r\n\r\n    List&lt;Person&gt; personList = personViewModel.getNoobs();\r\n    Random random = new Random();\r\n    IntStream.range(0,5).forEach(val -&gt;\r\n                  currentNoobList.add(personList.remove(random.nextInt(personList.size()))));\r\n\r\n\r\nIf you are unable to use Java 8, this [answer](https://stackoverflow.com/a/4702061) could come in handy.\r\n\r\n\r\nGiven that you are using a Room Database, you could add an annotated method stub in your DAO interface and make appropriate changes such that you can  directly get your results via your database. Something like this in your DAO:\r\n\r\n\r\n    @Query(&quot;SELECT * FROM person ORDER BY RANDOM() LIMIT 5&quot;)\r\n        public List&lt;Person&gt; getFiveRandomPersons();\r\n\r\nTypically an observer would `observe` a subject; Checkout [Observer Pattern](https://en.wikipedia.org/wiki/Observer_pattern). Given there isn&#39;t much information, I believe you are using `Livedata`, since you mentioned `.observe` in context with the Room Database. This  [documentation](https://developer.android.com/topic/libraries/architecture/livedata#work_livedata) and this [codelab](https://developer.android.com/codelabs/android-training-livedata-viewmodel#12) might give you some idea on the usage of `observe()`.","title":"How to recieve 5 random Objects from Room database and add them to a new ArrayList","body":"<p>If you are using Java 8 onward, something like this would work, provided that there are &gt;= 5 elements in the list:</p>\n<pre><code>List&lt;Person&gt; personList = personViewModel.getNoobs();\nRandom random = new Random();\nIntStream.range(0,5).forEach(val -&gt;\n              currentNoobList.add(personList.remove(random.nextInt(personList.size()))));\n</code></pre>\n<p>If you are unable to use Java 8, this <a href=\"https://stackoverflow.com/a/4702061\">answer</a> could come in handy.</p>\n<p>Given that you are using a Room Database, you could add an annotated method stub in your DAO interface and make appropriate changes such that you can  directly get your results via your database. Something like this in your DAO:</p>\n<pre><code>@Query(&quot;SELECT * FROM person ORDER BY RANDOM() LIMIT 5&quot;)\n    public List&lt;Person&gt; getFiveRandomPersons();\n</code></pre>\n<p>Typically an observer would <code>observe</code> a subject; Checkout <a href=\"https://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow noreferrer\">Observer Pattern</a>. Given there isn't much information, I believe you are using <code>Livedata</code>, since you mentioned <code>.observe</code> in context with the Room Database. This  <a href=\"https://developer.android.com/topic/libraries/architecture/livedata#work_livedata\" rel=\"nofollow noreferrer\">documentation</a> and this <a href=\"https://developer.android.com/codelabs/android-training-livedata-viewmodel#12\" rel=\"nofollow noreferrer\">codelab</a> might give you some idea on the usage of <code>observe()</code>.</p>\n"}],"owner":{"account_id":18950396,"reputation":257,"user_id":13828248,"display_name":"Alex Rodionow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65220365,"answer_count":1,"score":0,"last_activity_date":1662462682,"creation_date":1607490218,"question_id":65210945,"body_markdown":"1) I have method ``` personViewModel.getNoobs(); ``` which returns ``` List&lt;Person&gt; ``` from Room database;\r\n2) I have new  ``` ArrayList&lt;Person&gt; currentNoobList; ``` in my Activity.\r\n\r\nI need to take 5 random Persons from database and add them to ``` currentNoobList ``` in ``` onCreate() ```.\r\n\r\nAs far as I know, I need to use ``` .observe ``` in order to get random Objects from that ``` List&lt;Person&gt; ``` which I get using method ``` getNoobs() ```;\r\nbut I cannot understand how to write this code correctly. Could you help?\r\n\r\nThanks!","title":"How to recieve 5 random Objects from Room database and add them to a new ArrayList","body":"<ol>\n<li>I have method <code>personViewModel.getNoobs();</code> which returns <code>List&lt;Person&gt;</code> from Room database;</li>\n<li>I have new  <code>ArrayList&lt;Person&gt; currentNoobList;</code> in my Activity.</li>\n</ol>\n<p>I need to take 5 random Persons from database and add them to <code>currentNoobList</code> in <code>onCreate()</code>.</p>\n<p>As far as I know, I need to use <code>.observe</code> in order to get random Objects from that <code>List&lt;Person&gt;</code> which I get using method <code>getNoobs()</code>;\nbut I cannot understand how to write this code correctly. Could you help?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","xml","fragment"],"comments":[{"owner":{"account_id":417643,"reputation":8078,"user_id":793752,"accept_rate":42,"display_name":"Ashish Dwivedi"},"score":0,"creation_date":1509613566,"post_id":13034746,"comment_id":81090631,"body_markdown":"Try this, https://stackoverflow.com/questions/8641575/custom-attributes-in-android-fragments/17674292#17674292","body":"Try this, <a href=\"https://stackoverflow.com/questions/8641575/custom-attributes-in-android-fragments/17674292#17674292\" title=\"custom attributes in android fragments\">stackoverflow.com/questions/8641575/&hellip;</a>"},{"owner":{"account_id":111674,"reputation":20653,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1618253640,"post_id":13034746,"comment_id":118541802,"body_markdown":"its dead easy, see the excellent answer of @DanieleSegato","body":"its dead easy, see the excellent answer of @DanieleSegato"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":2,"up_vote_count":56,"is_accepted":true,"score":54,"last_activity_date":1395228453,"creation_date":1351008632,"answer_id":13034812,"question_id":13034746,"body_markdown":"&gt; Now that my Activity is just a wrapper around a Fragment that does the same work, how do I get that bundle to the Fragment if I declare the fragment in XML with the tag?\r\n\r\nYou can&#39;t.\r\n\r\nHowever, you are welcome to call `findFragmentById()` on your `FragmentManager` to retrieve the fragment post-inflation, then call some method on the fragment to associate data with it. While apparently that cannot be `setArguments()`, your fragment could arrange to hold onto the data itself past a configuration change by some other means (`onSaveInstanceState()`, `setRetainInstance(true)`, etc.).","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<blockquote>\n  <p>Now that my Activity is just a wrapper around a Fragment that does the same work, how do I get that bundle to the Fragment if I declare the fragment in XML with the tag?</p>\n</blockquote>\n\n<p>You can't.</p>\n\n<p>However, you are welcome to call <code>findFragmentById()</code> on your <code>FragmentManager</code> to retrieve the fragment post-inflation, then call some method on the fragment to associate data with it. While apparently that cannot be <code>setArguments()</code>, your fragment could arrange to hold onto the data itself past a configuration change by some other means (<code>onSaveInstanceState()</code>, <code>setRetainInstance(true)</code>, etc.).</p>\n"},{"tags":[],"owner":{"account_id":3721597,"reputation":1647,"user_id":3096537,"display_name":"Renascienza"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415828555,"creation_date":1403014201,"answer_id":24266049,"question_id":13034746,"body_markdown":"The only solution I see is to not use the arguments as data exchange channel. Instead, make your fragment to obtain the necessary information from elsewhere. Call back to get the proper activity, consult a temporary storage memory, a Singleton object, etc.. \r\n\r\nAnother solution that can be helpful is to employ frameworks that allow unrelated objects to exchange messages via Mediator design pattern, as [Otto][1].\r\n\r\n\r\n  [1]: http://square.github.io/otto/","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>The only solution I see is to not use the arguments as data exchange channel. Instead, make your fragment to obtain the necessary information from elsewhere. Call back to get the proper activity, consult a temporary storage memory, a Singleton object, etc.. </p>\n\n<p>Another solution that can be helpful is to employ frameworks that allow unrelated objects to exchange messages via Mediator design pattern, as <a href=\"http://square.github.io/otto/\" rel=\"nofollow\">Otto</a>.</p>\n"},{"tags":[],"owner":{"account_id":365390,"reputation":28841,"user_id":710284,"display_name":"Oded Breiner"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1420459100,"creation_date":1420459100,"answer_id":27779053,"question_id":13034746,"body_markdown":"It&#39;s not an encapsulated way, but I ended up &quot;pulling&quot; the bundle from the parent activity:\r\n\r\n    Bundle bundle = getActivity().getIntent().getExtras();","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>It's not an encapsulated way, but I ended up \"pulling\" the bundle from the parent activity:</p>\n\n<pre><code>Bundle bundle = getActivity().getIntent().getExtras();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1403684,"reputation":22268,"user_id":1331971,"accept_rate":46,"display_name":"Zapnologica"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1618257766,"creation_date":1450668260,"answer_id":34388511,"question_id":13034746,"body_markdown":"Another option is to not declare the fragment in the XML. I know it is not exactly what you want to do. However you could declare a simple layout in your view like this:\r\n\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/fragment_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot; /&gt;\r\n\r\n\r\n\r\nAnd then in your `Activity` class you programatically inflate the layout with the fragment. This way you can pass through parameters using args.\r\n\r\n    FragmentManager fragmentManager = getSupportFragmentManager();\r\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n    MyFragment fragment = MyFragment.newInstance();\r\n    Bundle args = new Bundle();\r\n    args.putInt(Global.INTENT_INT_ROLE, 1);\r\n    fragment.setArguments(args);\r\n    fragmentTransaction.add(R.id.fragment_container, fragment, &quot;MyActivity&quot;);\r\n    fragmentTransaction.commit();\r\n\r\nIn the fragment,\r\n\r\n    if (getArguments() != null) {\r\n       int role = getArguments().getInt(Global.INTENT_INT_ROLE); }\r\n\r\nThis approach is not as clean and simple as declaring it in the xml however I have moved to it as it gives you a lot more control over the fragment.","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>Another option is to not declare the fragment in the XML. I know it is not exactly what you want to do. However you could declare a simple layout in your view like this:</p>\n<pre><code>    &lt;LinearLayout\n        android:id=&quot;@+id/fragment_container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot; /&gt;\n</code></pre>\n<p>And then in your <code>Activity</code> class you programatically inflate the layout with the fragment. This way you can pass through parameters using args.</p>\n<pre><code>FragmentManager fragmentManager = getSupportFragmentManager();\nFragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\nMyFragment fragment = MyFragment.newInstance();\nBundle args = new Bundle();\nargs.putInt(Global.INTENT_INT_ROLE, 1);\nfragment.setArguments(args);\nfragmentTransaction.add(R.id.fragment_container, fragment, &quot;MyActivity&quot;);\nfragmentTransaction.commit();\n</code></pre>\n<p>In the fragment,</p>\n<pre><code>if (getArguments() != null) {\n   int role = getArguments().getInt(Global.INTENT_INT_ROLE); }\n</code></pre>\n<p>This approach is not as clean and simple as declaring it in the xml however I have moved to it as it gives you a lot more control over the fragment.</p>\n"},{"tags":[],"owner":{"account_id":485766,"reputation":12489,"user_id":902276,"accept_rate":53,"display_name":"Daniele Segato"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1570958955,"creation_date":1536824578,"answer_id":52308875,"question_id":13034746,"body_markdown":"You can&#39;t pass a Bundle (unless you inflate your fragment programmatically rather then via XML) but you CAN pass parameters (or rather attributes) via XML to a fragment.\r\n\r\nThe process is similar to [how you define View custom attributes][1].\r\nExcept AndroidStudio (currently) do not assist you in the process.\r\n\r\nsuppose this is your fragment using arguments (I&#39;ll use kotlin but it totally works in Java too):\r\n\r\n    class MyFragment: Fragment() {\r\n    \r\n        // your fragment parameter, a string\r\n        private var screenName: String? = null\r\n    \r\n        override fun onAttach(context: Context?) {\r\n            super.onAttach(context)\r\n            if (screenName == null) {\r\n                screenName = arguments?.getString(&quot;screen_name&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\nAnd you want to do something like this:\r\n\r\n    &lt;fragment\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/myFragment&quot;\r\n        android:name=&quot;com.example.MyFragment&quot;\r\n        app:screen_name=&quot;@string/screen_a&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n\r\nNote the `app:screen_name=&quot;@string/screen_a&quot;`\r\n\r\nto make it work just add this in a values file (`fragment_attrs.xml` or pick any name you want):\r\n\r\n    &lt;!-- define your attribute name and type --&gt;\r\n    &lt;attr name=&quot;screen_name&quot; format=&quot;string|reference&quot;/&gt;\r\n    \r\n    &lt;!-- define a bunch of constants you wanna use --&gt;\r\n    &lt;string name=&quot;screen_a&quot; translatable=&quot;false&quot;&gt;ScreenA&lt;/string&gt;\r\n    &lt;string name=&quot;screen_b&quot; translatable=&quot;false&quot;&gt;ScreeenB&lt;/string&gt;\r\n    \r\n    &lt;!-- now define which arguments your fragment is gonna have (can be more then one) --&gt;\r\n    &lt;!-- the convention is &quot;FragmentClassName_MembersInjector&quot; --&gt;\r\n    &lt;declare-styleable name=&quot;MyFragment_MembersInjector&quot;&gt;\r\n        &lt;attr name=&quot;screen_name&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n\r\nAlmost done, you just need to read it in your fragment, so add the method:\r\n\r\n    override fun onInflate(context: Context?, attrs: AttributeSet?, savedInstanceState: Bundle?) {\r\n        super.onInflate(context, attrs, savedInstanceState)\r\n        if (context != null &amp;&amp; attrs != null &amp;&amp; screenName == null) {\r\n            val ta = context.obtainStyledAttributes(attrs, R.styleable.MyFragment_MembersInjector)\r\n            if (ta.hasValue(R.styleable.MyFragment_MembersInjector_screen_name)) {\r\n                screenName = ta.getString(R.styleable.MyFragment_MembersInjector_screen_name)\r\n            }\r\n            ta.recycle()\r\n        }\r\n    }\r\n\r\net voil&#225;, your XML attributes in your fragment :)\r\n\r\nLimitations:\r\n\r\n - Android Studio (as of now) do not autocomplete such arguments in the layout XML\r\n - You can&#39;t pass `Parcelable` but only what can be defined as Android Attributes\r\n\r\n\r\n  [1]: https://developer.android.com/training/custom-views/create-view#customattr","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>You can't pass a Bundle (unless you inflate your fragment programmatically rather then via XML) but you CAN pass parameters (or rather attributes) via XML to a fragment.</p>\n\n<p>The process is similar to <a href=\"https://developer.android.com/training/custom-views/create-view#customattr\" rel=\"noreferrer\">how you define View custom attributes</a>.\nExcept AndroidStudio (currently) do not assist you in the process.</p>\n\n<p>suppose this is your fragment using arguments (I'll use kotlin but it totally works in Java too):</p>\n\n<pre><code>class MyFragment: Fragment() {\n\n    // your fragment parameter, a string\n    private var screenName: String? = null\n\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n        if (screenName == null) {\n            screenName = arguments?.getString(\"screen_name\")\n        }\n    }\n}\n</code></pre>\n\n<p>And you want to do something like this:</p>\n\n<pre><code>&lt;fragment\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/myFragment\"\n    android:name=\"com.example.MyFragment\"\n    app:screen_name=\"@string/screen_a\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n\n<p>Note the <code>app:screen_name=\"@string/screen_a\"</code></p>\n\n<p>to make it work just add this in a values file (<code>fragment_attrs.xml</code> or pick any name you want):</p>\n\n<pre><code>&lt;!-- define your attribute name and type --&gt;\n&lt;attr name=\"screen_name\" format=\"string|reference\"/&gt;\n\n&lt;!-- define a bunch of constants you wanna use --&gt;\n&lt;string name=\"screen_a\" translatable=\"false\"&gt;ScreenA&lt;/string&gt;\n&lt;string name=\"screen_b\" translatable=\"false\"&gt;ScreeenB&lt;/string&gt;\n\n&lt;!-- now define which arguments your fragment is gonna have (can be more then one) --&gt;\n&lt;!-- the convention is \"FragmentClassName_MembersInjector\" --&gt;\n&lt;declare-styleable name=\"MyFragment_MembersInjector\"&gt;\n    &lt;attr name=\"screen_name\"/&gt;\n&lt;/declare-styleable&gt;\n</code></pre>\n\n<p>Almost done, you just need to read it in your fragment, so add the method:</p>\n\n<pre><code>override fun onInflate(context: Context?, attrs: AttributeSet?, savedInstanceState: Bundle?) {\n    super.onInflate(context, attrs, savedInstanceState)\n    if (context != null &amp;&amp; attrs != null &amp;&amp; screenName == null) {\n        val ta = context.obtainStyledAttributes(attrs, R.styleable.MyFragment_MembersInjector)\n        if (ta.hasValue(R.styleable.MyFragment_MembersInjector_screen_name)) {\n            screenName = ta.getString(R.styleable.MyFragment_MembersInjector_screen_name)\n        }\n        ta.recycle()\n    }\n}\n</code></pre>\n\n<p>et voilá, your XML attributes in your fragment :)</p>\n\n<p>Limitations:</p>\n\n<ul>\n<li>Android Studio (as of now) do not autocomplete such arguments in the layout XML</li>\n<li>You can't pass <code>Parcelable</code> but only what can be defined as Android Attributes</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13216279,"reputation":161,"user_id":9544711,"display_name":"A S A D I"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1573140389,"creation_date":1573113801,"answer_id":58744321,"question_id":13034746,"body_markdown":"I know its too late answer, but i think someone need that :)\r\n\r\nJust in activity override `onAttachFragment()`\r\n\r\n\r\n    @Override\r\n    public void onAttachFragment(Fragment fragment)\r\n    {\r\n        super.onAttachFragment(fragment);\r\n\r\n        if (fragment.getId() == R.id.frgBlank)\r\n        {\r\n            Bundle b = new Bundle();\r\n            b.putString(&quot;msg&quot;, &quot;Message&quot;);\r\n\r\n            fragment.setArguments(b);\r\n        }\r\n    }\r\n\r\nand in fragment onCreateView method\r\n\r\n    Bundle b = getArguments();\r\n    if (b != null)\r\n    {\r\n        Toast.makeText(getBaseContext(), b.getString(&quot;msg&quot;), Toast.LENGTH_SHORT).show();\r\n    }\r\n","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>I know its too late answer, but i think someone need that :)</p>\n\n<p>Just in activity override <code>onAttachFragment()</code></p>\n\n<pre><code>@Override\npublic void onAttachFragment(Fragment fragment)\n{\n    super.onAttachFragment(fragment);\n\n    if (fragment.getId() == R.id.frgBlank)\n    {\n        Bundle b = new Bundle();\n        b.putString(\"msg\", \"Message\");\n\n        fragment.setArguments(b);\n    }\n}\n</code></pre>\n\n<p>and in fragment onCreateView method</p>\n\n<pre><code>Bundle b = getArguments();\nif (b != null)\n{\n    Toast.makeText(getBaseContext(), b.getString(\"msg\"), Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7262850,"reputation":309,"user_id":14136006,"display_name":"Roop Kishore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649412708,"creation_date":1649412708,"answer_id":71795245,"question_id":13034746,"body_markdown":"this approach worked for me.\r\n\r\nYou will not pass the Bundle from Anywhere, but instead you can set the arguments in onAttach method in the fragment itself.\r\n\r\nand later in the lifecycle methods of the fragments you can use those bundle arguments. \r\n\r\n\r\n    override fun onAttach(context: Context) {\r\n            super.onAttach(context)\r\n            if(arguments == null){\r\n                val bundle = Bundle()\r\n                bundle.putString(&quot;mykey&quot;, &quot;myvalue&quot;)\r\n                arguments = bundle\r\n            }\r\n        }\r\n\r\n\r\nAnyone might ask a question, why to set the arguments in the fragment while we can directly use the values in the usable places. It&#39;s right, but \r\n     This approach can also work when you will be passing these arguments to some other classes let&#39;s say any view model.\r\n\r\nfor example\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n            super.onViewCreated(view, savedInstanceState)\r\n\r\n            /*\r\n             Here I am passing these arguments to a viewmodel \r\n            */\r\n            viewModel.prepareData(arguments) \r\n            \r\n            --------\r\n            --------\r\n            --------\r\n\r\n        }\r\n\r\nThanks.","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>this approach worked for me.</p>\n<p>You will not pass the Bundle from Anywhere, but instead you can set the arguments in onAttach method in the fragment itself.</p>\n<p>and later in the lifecycle methods of the fragments you can use those bundle arguments.</p>\n<pre><code>override fun onAttach(context: Context) {\n        super.onAttach(context)\n        if(arguments == null){\n            val bundle = Bundle()\n            bundle.putString(&quot;mykey&quot;, &quot;myvalue&quot;)\n            arguments = bundle\n        }\n    }\n</code></pre>\n<p>Anyone might ask a question, why to set the arguments in the fragment while we can directly use the values in the usable places. It's right, but\nThis approach can also work when you will be passing these arguments to some other classes let's say any view model.</p>\n<p>for example</p>\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        /*\n         Here I am passing these arguments to a viewmodel \n        */\n        viewModel.prepareData(arguments) \n        \n        --------\n        --------\n        --------\n\n    }\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":923404,"reputation":7408,"user_id":954643,"accept_rate":80,"display_name":"qix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662462667,"creation_date":1662460294,"answer_id":73620528,"question_id":13034746,"body_markdown":"Since [v1.3.0 of the androidx.fragment][1] module (Feb 2021), they deprecated the `onAttachFragment()` callbacks in favor of using a [FragmentOnAttachListener][2], which is attached to your [FragmentManager][3]. So inside your `FragmentActivity`&#39;s `onCreate`, you could do something like:\r\n\r\n```\r\ngetSupportFragmentManager().addFragmentOnAttachListener((fragmentManager, fragment) -&gt; {\r\n    if (fragment instanceof MyFragment) {\r\n        Bundle args = getIntent().getExtras();\r\n        fragment.setArguments(args);\r\n    }\r\n}\r\n```\r\nThis will fire after `setContentView()` if you use `&lt;fragment&gt;` in your XML, but happens later if you used a `&lt;FragmentContainerView&gt;`. \r\n\r\nBe careful, [as I&#39;ve noticed][4] that a configuration change could re-attach an existing Fragment inside `super.onCreate`, and therefore needed to add the listener *before* this point. (That said, this isn&#39;t necessary for the purpose of passing `Bundle` args, and otherwise one should try to use [onSaveInstanceState()][5] first.)\r\n\r\n&lt;hr&gt;\r\n\r\nIncidentally, listening for the &quot;onAttach&quot; could also be a handy place to add an observer of the Fragment&#39;s view [Lifecycle][6] if needed, should you need to do anything in the Activity once the Fragment&#39;s view is instantiated. e.g. add:\r\n\r\n```\r\n        LiveData&lt;LifecycleOwner&gt; liveData = fragment.getViewLifecycleOwnerLiveData();\r\n        // Let this observer be constrained to the fragment&#39;s lifecycle.\r\n        liveData.observe(fragment, new Observer&lt;LifecycleOwner&gt;() {\r\n            @Override\r\n            public void onChanged(LifecycleOwner lifecycleOwner) {\r\n                // ...do work...\r\n                // If you don&#39;t need to listen anymore, can clean ourselves up early.\r\n                liveData.removeObserver(this);\r\n            }\r\n        });\r\n```\r\nOr as an alternative to observing the Fragment&#39;s view lifecycle from the Activity (and as a replacement for the Fragment&#39;s deprecated [onActivityCreated()][7]), you can listen the other way, to the Activity&#39;s Lifecycle from the Fragment! From the Fragment&#39;s [onAttach(context)][8] callback, add your own [observer][9] that implements [onCreate(@NonNull LifecycleOwner owner)][10]. re: https://stackoverflow.com/questions/61306719/onactivitycreated-is-deprecated-how-to-properly-use-lifecycleobserver\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/fragment#1.3.0\r\n  [2]: https://developer.android.com/reference/androidx/fragment/app/FragmentOnAttachListener\r\n  [3]: https://developer.android.com/reference/androidx/fragment/app/FragmentManager#addFragmentOnAttachListener(androidx.fragment.app.FragmentOnAttachListener)\r\n  [4]: https://stackoverflow.com/a/73585265/954643\r\n  [5]: https://developer.android.com/reference/androidx/fragment/app/Fragment#onSaveInstanceState(android.os.Bundle)\r\n  [6]: https://developer.android.com/guide/fragments/lifecycle#states\r\n  [7]: https://developer.android.com/reference/androidx/fragment/app/Fragment#onActivityCreated(android.os.Bundle)\r\n  [8]: https://developer.android.com/reference/androidx/fragment/app/Fragment#onAttach(android.content.Context)\r\n  [9]: https://developer.android.com/reference/androidx/lifecycle/DefaultLifecycleObserver\r\n  [10]: https://developer.android.com/reference/androidx/lifecycle/DefaultLifecycleObserver#onCreate(androidx.lifecycle.LifecycleOwner)","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>Since <a href=\"https://developer.android.com/jetpack/androidx/releases/fragment#1.3.0\" rel=\"nofollow noreferrer\">v1.3.0 of the androidx.fragment</a> module (Feb 2021), they deprecated the <code>onAttachFragment()</code> callbacks in favor of using a <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentOnAttachListener\" rel=\"nofollow noreferrer\">FragmentOnAttachListener</a>, which is attached to your <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentManager#addFragmentOnAttachListener(androidx.fragment.app.FragmentOnAttachListener)\" rel=\"nofollow noreferrer\">FragmentManager</a>. So inside your <code>FragmentActivity</code>'s <code>onCreate</code>, you could do something like:</p>\n<pre><code>getSupportFragmentManager().addFragmentOnAttachListener((fragmentManager, fragment) -&gt; {\n    if (fragment instanceof MyFragment) {\n        Bundle args = getIntent().getExtras();\n        fragment.setArguments(args);\n    }\n}\n</code></pre>\n<p>This will fire after <code>setContentView()</code> if you use <code>&lt;fragment&gt;</code> in your XML, but happens later if you used a <code>&lt;FragmentContainerView&gt;</code>.</p>\n<p>Be careful, <a href=\"https://stackoverflow.com/a/73585265/954643\">as I've noticed</a> that a configuration change could re-attach an existing Fragment inside <code>super.onCreate</code>, and therefore needed to add the listener <em>before</em> this point. (That said, this isn't necessary for the purpose of passing <code>Bundle</code> args, and otherwise one should try to use <a href=\"https://developer.android.com/reference/androidx/fragment/app/Fragment#onSaveInstanceState(android.os.Bundle)\" rel=\"nofollow noreferrer\">onSaveInstanceState()</a> first.)</p>\n<hr>\n<p>Incidentally, listening for the &quot;onAttach&quot; could also be a handy place to add an observer of the Fragment's view <a href=\"https://developer.android.com/guide/fragments/lifecycle#states\" rel=\"nofollow noreferrer\">Lifecycle</a> if needed, should you need to do anything in the Activity once the Fragment's view is instantiated. e.g. add:</p>\n<pre><code>        LiveData&lt;LifecycleOwner&gt; liveData = fragment.getViewLifecycleOwnerLiveData();\n        // Let this observer be constrained to the fragment's lifecycle.\n        liveData.observe(fragment, new Observer&lt;LifecycleOwner&gt;() {\n            @Override\n            public void onChanged(LifecycleOwner lifecycleOwner) {\n                // ...do work...\n                // If you don't need to listen anymore, can clean ourselves up early.\n                liveData.removeObserver(this);\n            }\n        });\n</code></pre>\n<p>Or as an alternative to observing the Fragment's view lifecycle from the Activity (and as a replacement for the Fragment's deprecated <a href=\"https://developer.android.com/reference/androidx/fragment/app/Fragment#onActivityCreated(android.os.Bundle)\" rel=\"nofollow noreferrer\">onActivityCreated()</a>), you can listen the other way, to the Activity's Lifecycle from the Fragment! From the Fragment's <a href=\"https://developer.android.com/reference/androidx/fragment/app/Fragment#onAttach(android.content.Context)\" rel=\"nofollow noreferrer\">onAttach(context)</a> callback, add your own <a href=\"https://developer.android.com/reference/androidx/lifecycle/DefaultLifecycleObserver\" rel=\"nofollow noreferrer\">observer</a> that implements <a href=\"https://developer.android.com/reference/androidx/lifecycle/DefaultLifecycleObserver#onCreate(androidx.lifecycle.LifecycleOwner)\" rel=\"nofollow noreferrer\">onCreate(@NonNull LifecycleOwner owner)</a>. re: <a href=\"https://stackoverflow.com/questions/61306719/onactivitycreated-is-deprecated-how-to-properly-use-lifecycleobserver\">onActivityCreated is deprecated, how to properly use LifecycleObserver?</a></p>\n"}],"owner":{"account_id":329119,"reputation":1463,"user_id":652466,"display_name":"Plantage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29412,"favorite_count":0,"down_vote_count":1,"up_vote_count":82,"accepted_answer_id":13034812,"answer_count":8,"score":81,"last_activity_date":1662462667,"creation_date":1351008423,"question_id":13034746,"body_markdown":"I&#39;ve got an activity that I&#39;ve replaced with a fragment.  The activity took an Intent that had some extra information on what data the activity was supposed to display.\r\n\r\nNow that my Activity is just a wrapper around a Fragment that does the same work, how do I get that bundle to the Fragment if I declare the fragment in XML with the &lt;fragment/&gt; tag?\r\n\r\nIf I were to use a FragmentTransaction to put the Fragment into a ViewGroup, I&#39;d get a chance to pass this info along in the Fragment constructor, but I&#39;m wondering about the situation where the fragment is defined in XML.","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>I've got an activity that I've replaced with a fragment.  The activity took an Intent that had some extra information on what data the activity was supposed to display.</p>\n\n<p>Now that my Activity is just a wrapper around a Fragment that does the same work, how do I get that bundle to the Fragment if I declare the fragment in XML with the  tag?</p>\n\n<p>If I were to use a FragmentTransaction to put the Fragment into a ViewGroup, I'd get a chance to pass this info along in the Fragment constructor, but I'm wondering about the situation where the fragment is defined in XML.</p>\n"},{"tags":["java","android","json","retrofit2","okhttp"],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662458100,"creation_date":1662458100,"answer_id":73620052,"question_id":73619945,"body_markdown":"**Modify your Model class- the exception itself says the solution**\r\n\r\nCheck your API in Postman your response contains Array I think, And You have declared Data as an object in **SendOtpAPI** model class. check the below code - \r\n\r\n*Change Data class into an array in **SendOtpAPI** model class*\r\n\r\n    private Data data; --&gt; private ArrayList&lt;Data&gt; dataList;","title":"How to handle Json Array and Json Object same time in Retrofit Andorid","body":"<p><strong>Modify your Model class- the exception itself says the solution</strong></p>\n<p>Check your API in Postman your response contains Array I think, And You have declared Data as an object in <strong>SendOtpAPI</strong> model class. check the below code -</p>\n<p><em>Change Data class into an array in <strong>SendOtpAPI</strong> model class</em></p>\n<pre><code>private Data data; --&gt; private ArrayList&lt;Data&gt; dataList;\n</code></pre>\n"}],"owner":{"account_id":26214541,"reputation":21,"user_id":19892832,"display_name":"Android"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662462515,"creation_date":1662457587,"question_id":73619945,"body_markdown":"I am new to Android. When the response is a success, I get a JSON Object and when it is a failure I get an empty JSON array.\r\n\r\nI have created a POJO class for the same, but I&#39;m getting the exception below: \r\n\r\n&gt; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\r\n&gt; Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 5 column 14 path\r\n&gt; $.data\r\n\r\nWhen the API response is a success, I get the response below:\r\n\r\n    {\r\n      &quot;status&quot;: &quot;S&quot;,\r\n      &quot;code&quot;: &quot;000&quot;,\r\n      &quot;description&quot;: &quot;OTP Sent Successfully&quot;,\r\n      &quot;data&quot;: {\r\n        &quot;ProcessId&quot;: &quot;39a71-6d5c-4ae1-1415e63&quot;\r\n      }\r\n    }\r\n\r\nWhen the response is a failure, I get the response below:\r\n\r\n    {\r\n      &quot;status&quot;: &quot;F&quot;,\r\n      &quot;code&quot;: &quot;002&quot;,\r\n      &quot;description&quot;: &quot;Customer with Mobile already Exists&quot;,\r\n      &quot;data&quot;: []\r\n    }\r\n\r\nMy POJO Class:\r\n\r\n    public class SendOtpAPI {\r\n      @SerializedName(&quot;status&quot;)\r\n      @Expose\r\n      private String status;\r\n      @SerializedName(&quot;code&quot;)\r\n      @Expose\r\n      private String code;\r\n      @SerializedName(&quot;description&quot;)\r\n      @Expose\r\n      private String description;\r\n      @SerializedName(&quot;data&quot;)\r\n      @Nullable\r\n      @Expose\r\n      private Data data;\r\n    \r\n      public String getStatus() {\r\n        return status;\r\n      }\r\n    \r\n      public void setStatus(String status) {\r\n        this.status = status;\r\n      }\r\n    \r\n      public String getCode() {\r\n        return code;\r\n      }\r\n    \r\n      public void setCode(String code) {\r\n        this.code = code;\r\n      }\r\n    \r\n      public String getDescription() {\r\n        return description;\r\n      }\r\n    \r\n      public void setDescription(String description) {\r\n        this.description = description;\r\n      }\r\n    \r\n      public Data getData() {\r\n        return data;\r\n      }\r\n    \r\n      public void setData(Data data) {\r\n        this.data = data;\r\n      }\r\n    }\r\n\r\nPOJO Data Class:\r\n\r\n    public class Data {\r\n      @SerializedName(&quot;ProcessId&quot;)\r\n      @Expose\r\n      private String processId;\r\n    \r\n      public String getProcessId() {\r\n        return processId;\r\n      }\r\n    \r\n      public void setProcessId(String processId) {\r\n        this.processId = processId;\r\n      }\r\n    }\r\n\r\nRetrofit API Call:\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;https://dev2.test/otp&quot;)\r\n    Call&lt;SendOtpAPI&gt; sendOtpRegister(\r\n      @Field(&quot;operation&quot;)String operation,\r\n      @Field(&quot;mobile&quot;)String mobile\r\n    );\r\n\r\nHow can I handle this?","title":"How to handle Json Array and Json Object same time in Retrofit Andorid","body":"<p>I am new to Android. When the response is a success, I get a JSON Object and when it is a failure I get an empty JSON array.</p>\n<p>I have created a POJO class for the same, but I'm getting the exception below:</p>\n<blockquote>\n<p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\nExpected BEGIN_OBJECT but was BEGIN_ARRAY at line 5 column 14 path\n$.data</p>\n</blockquote>\n<p>When the API response is a success, I get the response below:</p>\n<pre><code>{\n  &quot;status&quot;: &quot;S&quot;,\n  &quot;code&quot;: &quot;000&quot;,\n  &quot;description&quot;: &quot;OTP Sent Successfully&quot;,\n  &quot;data&quot;: {\n    &quot;ProcessId&quot;: &quot;39a71-6d5c-4ae1-1415e63&quot;\n  }\n}\n</code></pre>\n<p>When the response is a failure, I get the response below:</p>\n<pre><code>{\n  &quot;status&quot;: &quot;F&quot;,\n  &quot;code&quot;: &quot;002&quot;,\n  &quot;description&quot;: &quot;Customer with Mobile already Exists&quot;,\n  &quot;data&quot;: []\n}\n</code></pre>\n<p>My POJO Class:</p>\n<pre><code>public class SendOtpAPI {\n  @SerializedName(&quot;status&quot;)\n  @Expose\n  private String status;\n  @SerializedName(&quot;code&quot;)\n  @Expose\n  private String code;\n  @SerializedName(&quot;description&quot;)\n  @Expose\n  private String description;\n  @SerializedName(&quot;data&quot;)\n  @Nullable\n  @Expose\n  private Data data;\n\n  public String getStatus() {\n    return status;\n  }\n\n  public void setStatus(String status) {\n    this.status = status;\n  }\n\n  public String getCode() {\n    return code;\n  }\n\n  public void setCode(String code) {\n    this.code = code;\n  }\n\n  public String getDescription() {\n    return description;\n  }\n\n  public void setDescription(String description) {\n    this.description = description;\n  }\n\n  public Data getData() {\n    return data;\n  }\n\n  public void setData(Data data) {\n    this.data = data;\n  }\n}\n</code></pre>\n<p>POJO Data Class:</p>\n<pre><code>public class Data {\n  @SerializedName(&quot;ProcessId&quot;)\n  @Expose\n  private String processId;\n\n  public String getProcessId() {\n    return processId;\n  }\n\n  public void setProcessId(String processId) {\n    this.processId = processId;\n  }\n}\n</code></pre>\n<p>Retrofit API Call:</p>\n<pre><code>@FormUrlEncoded\n@POST(&quot;https://dev2.test/otp&quot;)\nCall&lt;SendOtpAPI&gt; sendOtpRegister(\n  @Field(&quot;operation&quot;)String operation,\n  @Field(&quot;mobile&quot;)String mobile\n);\n</code></pre>\n<p>How can I handle this?</p>\n"},{"tags":["java","dto","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662044314,"creation_date":1662044314,"answer_id":73571509,"question_id":73499293,"body_markdown":"I don&#39;t know if it will work for your use case, because the solution is global, not specific to a certain mapping, but probably a good approach would be using a custom `MappingExclusionProvider`.\r\n\r\nThe [Mapstruct documentation](https://mapstruct.org/documentation/stable/reference/html/#mapping-exclusion-provider) indicates:\r\n\r\n&gt; MapStruct offers the possibility to override the `MappingExclusionProvider` \r\n&gt; via the Service Provider Interface (SPI). A nice example is to not allow \r\n&gt; MapStruct to create an automatic sub-mapping for a certain type, i.e. \r\n&gt; MapStruct will not try to generate an automatic sub-mapping method for an \r\n&gt; excluded type.\r\n\r\nFor example:\r\n\r\n```java\r\nimport java.util.regex.Pattern;\r\nimport javax.lang.model.element.Name;\r\nimport javax.lang.model.element.TypeElement;\r\n\r\nimport org.mapstruct.ap.spi.MappingExclusionProvider;\r\n\r\npublic class CustomMappingExclusionProvider implements MappingExclusionProvider {\r\n    private static final Pattern JAVA_JAVAX_PACKAGE = Pattern.compile( &quot;^javax?\\\\..*&quot; );\r\n\r\n    @Override\r\n    public boolean isExcluded(TypeElement typeElement) {\r\n        Name name = typeElement.getQualifiedName();\r\n        return name.length() != 0 &amp;&amp; ( JAVA_JAVAX_PACKAGE.matcher( name ).matches() ||\r\n            name.toString().equals( &quot;your.pkg.DefaultDto&quot; )||\r\n            name.toString().equals( &quot;your.pkg.DefaultEntity&quot; ) );\r\n    }\r\n}\r\n```\r\n\r\nTwo things should be pointed out here:\r\n\r\n- First, as the Mapstruct default implementation, your custom exclusion mapper should exclude all types under the `java` or `javax` packages. As indicated in the docs, this means that MapStruct will not try to generate an automatic sub-mapping method between some custom type and some type declared in the Java class library.\r\n- Second, as explained again in the [docs](https://mapstruct.org/documentation/stable/reference/html/#using-spi), to register the service your need to:\r\n&gt; To use a custom SPI implementation, it must be located in a separate JAR \r\n&gt; file together with a file named after the SPI (e.g. \r\n&gt; `org.mapstruct.ap.spi.AccessorNamingStrategy`) in `META-INF/services/` with \r\n&gt; the fully qualified name of your custom implementation as content (e.g. \r\n&gt; `org.mapstruct.example.CustomAccessorNamingStrategy`). This JAR file needs \r\n&gt; to be added to the annotation processor classpath (i.e. add it next to the \r\n&gt; place where you added the `mapstruct-processor` jar).\r\n\r\nIn your case it means to define a file named `org.mapstruct.ap.spi.MappingExclusionProvider` under `META-INF/services/` with the fully qualified name of your custom `MappingExclusionProvider`.\r\n","title":"Mapstruct: exclude all field by superclass","body":"<p>I don't know if it will work for your use case, because the solution is global, not specific to a certain mapping, but probably a good approach would be using a custom <code>MappingExclusionProvider</code>.</p>\n<p>The <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-exclusion-provider\" rel=\"nofollow noreferrer\">Mapstruct documentation</a> indicates:</p>\n<blockquote>\n<p>MapStruct offers the possibility to override the <code>MappingExclusionProvider</code>\nvia the Service Provider Interface (SPI). A nice example is to not allow\nMapStruct to create an automatic sub-mapping for a certain type, i.e.\nMapStruct will not try to generate an automatic sub-mapping method for an\nexcluded type.</p>\n</blockquote>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Pattern;\nimport javax.lang.model.element.Name;\nimport javax.lang.model.element.TypeElement;\n\nimport org.mapstruct.ap.spi.MappingExclusionProvider;\n\npublic class CustomMappingExclusionProvider implements MappingExclusionProvider {\n    private static final Pattern JAVA_JAVAX_PACKAGE = Pattern.compile( &quot;^javax?\\\\..*&quot; );\n\n    @Override\n    public boolean isExcluded(TypeElement typeElement) {\n        Name name = typeElement.getQualifiedName();\n        return name.length() != 0 &amp;&amp; ( JAVA_JAVAX_PACKAGE.matcher( name ).matches() ||\n            name.toString().equals( &quot;your.pkg.DefaultDto&quot; )||\n            name.toString().equals( &quot;your.pkg.DefaultEntity&quot; ) );\n    }\n}\n</code></pre>\n<p>Two things should be pointed out here:</p>\n<ul>\n<li>First, as the Mapstruct default implementation, your custom exclusion mapper should exclude all types under the <code>java</code> or <code>javax</code> packages. As indicated in the docs, this means that MapStruct will not try to generate an automatic sub-mapping method between some custom type and some type declared in the Java class library.</li>\n<li>Second, as explained again in the <a href=\"https://mapstruct.org/documentation/stable/reference/html/#using-spi\" rel=\"nofollow noreferrer\">docs</a>, to register the service your need to:</li>\n</ul>\n<blockquote>\n<p>To use a custom SPI implementation, it must be located in a separate JAR\nfile together with a file named after the SPI (e.g.\n<code>org.mapstruct.ap.spi.AccessorNamingStrategy</code>) in <code>META-INF/services/</code> with\nthe fully qualified name of your custom implementation as content (e.g.\n<code>org.mapstruct.example.CustomAccessorNamingStrategy</code>). This JAR file needs\nto be added to the annotation processor classpath (i.e. add it next to the\nplace where you added the <code>mapstruct-processor</code> jar).</p>\n</blockquote>\n<p>In your case it means to define a file named <code>org.mapstruct.ap.spi.MappingExclusionProvider</code> under <code>META-INF/services/</code> with the fully qualified name of your custom <code>MappingExclusionProvider</code>.</p>\n"},{"tags":[],"owner":{"account_id":17434662,"reputation":77,"user_id":12637910,"display_name":"Carlos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662462372,"creation_date":1662462372,"answer_id":73620990,"question_id":73499293,"body_markdown":"What about using `@BeforeMapping` and `@AfterMapping` hooks ? The map will be done anyways, so perhaps is not the best solution, but no exclusion seems possible due to mapstruct features on exclusion and your requirement about applying only to some converters, but mapping can be done with non conflicting, i.e. null or empty values if those values are modified in any of the hooks. Here an example, source from mapstruct doc: https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after\r\n\r\n    @Mapper\r\n    public abstract class VehicleMapper {\r\n        @BeforeMapping\r\n        protected void flushEntity(AbstractVehicle vehicle) {\r\n\r\n        }\r\n\r\n        @AfterMapping\r\n        protected void fillTank(AbstractVehicle vehicle, @MappingTarget AbstractVehicleDto result) {\r\n            result.fuelUp( new Fuel( vehicle.getTankCapacity(), vehicle.getFuelType() ) );\r\n        }\r\n\r\n        public abstract CarDto toCarDto(Car car);\r\n    }\r\n\r\n    // Generates something like this:\r\n    public class VehicleMapperImpl extends VehicleMapper {\r\n        public CarDto toCarDto(Car car) {\r\n            flushEntity( car );\r\n\r\n            if ( car == null ) {\r\n                return null;\r\n            }\r\n\r\n            CarDto carDto = new CarDto();\r\n            // attributes mapping ...\r\n\r\n            fillTank( car, carDto );\r\n\r\n            return carDto;\r\n        }\r\n    }","title":"Mapstruct: exclude all field by superclass","body":"<p>What about using <code>@BeforeMapping</code> and <code>@AfterMapping</code> hooks ? The map will be done anyways, so perhaps is not the best solution, but no exclusion seems possible due to mapstruct features on exclusion and your requirement about applying only to some converters, but mapping can be done with non conflicting, i.e. null or empty values if those values are modified in any of the hooks. Here an example, source from mapstruct doc: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after</a></p>\n<pre><code>@Mapper\npublic abstract class VehicleMapper {\n    @BeforeMapping\n    protected void flushEntity(AbstractVehicle vehicle) {\n\n    }\n\n    @AfterMapping\n    protected void fillTank(AbstractVehicle vehicle, @MappingTarget AbstractVehicleDto result) {\n        result.fuelUp( new Fuel( vehicle.getTankCapacity(), vehicle.getFuelType() ) );\n    }\n\n    public abstract CarDto toCarDto(Car car);\n}\n\n// Generates something like this:\npublic class VehicleMapperImpl extends VehicleMapper {\n    public CarDto toCarDto(Car car) {\n        flushEntity( car );\n\n        if ( car == null ) {\n            return null;\n        }\n\n        CarDto carDto = new CarDto();\n        // attributes mapping ...\n\n        fillTank( car, carDto );\n\n        return carDto;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5767684,"reputation":167,"user_id":4552105,"display_name":"Арсен Мирзаян"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1662462372,"creation_date":1661508191,"question_id":73499293,"body_markdown":"I have standard entities and dto&#39;s. \r\n\r\nEntities:\r\n\r\n```java\r\npublic class Type extends DefaultEntity {\r\n  int id;\r\n  String name\r\n  ...\r\n}\r\n            \r\npublic class Attribute extends DefaultEntity{\r\n  int id;\r\n  String name; \r\n  Type type;\r\n  ...\r\n}\r\n```\r\n\r\nand DTO&#39;s\r\n\r\n```java\r\npublic class TypeDto extends DefaultDto {\r\n  int id;\r\n  String name;\r\n  ...\r\n}\r\n        \r\npublic class AttributeDto extends DefaultDto{\r\n  int id;\r\n  String name; \r\n  TypeDto type;\r\n  ....\r\n}\r\n```\r\n\r\nwhen I create this `Mapper`:\r\n\r\n```java\r\n@Mapper\r\npublic interface AttributeDtoConverter {\r\n  AttributeDto convert(Attribute source);\r\n}\r\n```\r\n\r\nMapstruct generates:\r\n\r\n```java\r\npublic class AttributeDtoConverterImpl implements AttributeDtoConverter {\r\n    \r\n  @Override\r\n  public AttributeDto convert(Attribute source) {\r\n    if ( source == null ) {\r\n        return null;\r\n    }\r\n\r\n    AttributeDto attributeDto = new AttributeDto();\r\n\r\n    attributeDto.setId( source.getId() );\r\n    attributeDto.setName( source.getName() );\r\n    attributeDto.setCode( source.getCode() );\r\n    attributeDto.setType( typeToTypeDto( source.getType() ) );\r\n\r\n    return attributeDto;\r\n  }\r\n\r\n  // Here is the problem\r\n  protected TypeDto typeToTypeDto(Type type) {\r\n    if ( type== null ) {\r\n        return null;\r\n    }\r\n\r\n    TypeDto dictionaryDto = new TypeDto();\r\n\r\n    typeDto.setId( type.getId() );\r\n    typeDto.setName( type.getName() );\r\n\r\n    return typeDto;\r\n  }\r\n}\r\n```\r\n\r\nI want to exclude from mapping all properties of target object if they are subclasses of `DefaultDto` (or exclude all properties of source object if they are subclasses of `DefaultEntity`). \r\n\r\nI know I can exclude every property by name `@Mapping(target=&quot;type&quot;, ignore=true)`, but for large classes with much more dependencies it will we very annoying. And changing model with this approach becomes hell. \r\n\r\nCan I somehow exclude all properties by their superclass? \r\n\r\n**Update** \r\nI tried `@Condition`:\r\n\r\n```java\r\n@Mapper\r\npublic interface AttributeDtoConverter {\r\n  AttributeDto convert(Attribute source);\r\n\r\n  @Condition\r\n  default boolean needToMap(Object value){\r\n    return ! (value instanceof DefaultDto || value instanceof DefaultEntity);\r\n  }\r\n}\r\n```\r\n\r\nIt works but I don&#39;t like how the generated code looks like:\r\n\r\n```java\r\npublic class AttributeDtoConverterImpl implements AttributeDtoConverter {\r\n    \r\n    @Override\r\n    public AttributeDto convert(Attribute source) {\r\n        if ( source == null ) {\r\n            return null;\r\n        }\r\n\r\n        AttributeDto attributeDto = new AttributeDto();\r\n\r\n        if ( needToMap( attributeDto.getId() ) ) {\r\n          attributeDto.setId( source.getId() );\r\n        }\r\n        \r\n          if ( needToMap( attributeDto.getName() ) ) {\r\n            attributeDto.setName( source.getName() );\r\n        }\r\n        if ( needToMap( attributeDto.getCode() ) ) {\r\n          attributeDto.setCode( source.getCode() );\r\n        }\r\n        if ( needToMap( attributeDto.getType() ) ) {\r\n          attributeDto.setType( typeToTypeDto( source.getType() ) );\r\n        }\r\n\r\n        return attributeDto;\r\n    }\r\n...\r\n}\r\n```\r\n\r\n","title":"Mapstruct: exclude all field by superclass","body":"<p>I have standard entities and dto's.</p>\n<p>Entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Type extends DefaultEntity {\n  int id;\n  String name\n  ...\n}\n            \npublic class Attribute extends DefaultEntity{\n  int id;\n  String name; \n  Type type;\n  ...\n}\n</code></pre>\n<p>and DTO's</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TypeDto extends DefaultDto {\n  int id;\n  String name;\n  ...\n}\n        \npublic class AttributeDto extends DefaultDto{\n  int id;\n  String name; \n  TypeDto type;\n  ....\n}\n</code></pre>\n<p>when I create this <code>Mapper</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface AttributeDtoConverter {\n  AttributeDto convert(Attribute source);\n}\n</code></pre>\n<p>Mapstruct generates:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AttributeDtoConverterImpl implements AttributeDtoConverter {\n    \n  @Override\n  public AttributeDto convert(Attribute source) {\n    if ( source == null ) {\n        return null;\n    }\n\n    AttributeDto attributeDto = new AttributeDto();\n\n    attributeDto.setId( source.getId() );\n    attributeDto.setName( source.getName() );\n    attributeDto.setCode( source.getCode() );\n    attributeDto.setType( typeToTypeDto( source.getType() ) );\n\n    return attributeDto;\n  }\n\n  // Here is the problem\n  protected TypeDto typeToTypeDto(Type type) {\n    if ( type== null ) {\n        return null;\n    }\n\n    TypeDto dictionaryDto = new TypeDto();\n\n    typeDto.setId( type.getId() );\n    typeDto.setName( type.getName() );\n\n    return typeDto;\n  }\n}\n</code></pre>\n<p>I want to exclude from mapping all properties of target object if they are subclasses of <code>DefaultDto</code> (or exclude all properties of source object if they are subclasses of <code>DefaultEntity</code>).</p>\n<p>I know I can exclude every property by name <code>@Mapping(target=&quot;type&quot;, ignore=true)</code>, but for large classes with much more dependencies it will we very annoying. And changing model with this approach becomes hell.</p>\n<p>Can I somehow exclude all properties by their superclass?</p>\n<p><strong>Update</strong>\nI tried <code>@Condition</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface AttributeDtoConverter {\n  AttributeDto convert(Attribute source);\n\n  @Condition\n  default boolean needToMap(Object value){\n    return ! (value instanceof DefaultDto || value instanceof DefaultEntity);\n  }\n}\n</code></pre>\n<p>It works but I don't like how the generated code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AttributeDtoConverterImpl implements AttributeDtoConverter {\n    \n    @Override\n    public AttributeDto convert(Attribute source) {\n        if ( source == null ) {\n            return null;\n        }\n\n        AttributeDto attributeDto = new AttributeDto();\n\n        if ( needToMap( attributeDto.getId() ) ) {\n          attributeDto.setId( source.getId() );\n        }\n        \n          if ( needToMap( attributeDto.getName() ) ) {\n            attributeDto.setName( source.getName() );\n        }\n        if ( needToMap( attributeDto.getCode() ) ) {\n          attributeDto.setCode( source.getCode() );\n        }\n        if ( needToMap( attributeDto.getType() ) ) {\n          attributeDto.setType( typeToTypeDto( source.getType() ) );\n        }\n\n        return attributeDto;\n    }\n...\n}\n</code></pre>\n"},{"tags":["java","exception","servlets","jdbc","jakarta-ee"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1662440820,"post_id":73616743,"comment_id":129999364,"body_markdown":"`connection()` is within the try, so it will be caught and printed.  But, if an Exception is thrown, you are not closing your connection.","body":"<code>connection()</code> is within the try, so it will be caught and printed.  But, if an Exception is thrown, you are not closing your connection."},{"owner":{"account_id":6129341,"reputation":25,"user_id":4780131,"display_name":"Strannngahhhh"},"score":0,"creation_date":1662441377,"post_id":73616743,"comment_id":129999446,"body_markdown":"@ScaryWombat It can be fixed by adding &quot;finally&quot; and writing connection close there, if I&#39;m not wrong?","body":"@ScaryWombat It can be fixed by adding &quot;finally&quot; and writing connection close there, if I&#39;m not wrong?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1662445788,"post_id":73616743,"comment_id":130000347,"body_markdown":"Yep, but I think that `Connection` implements autoCloseable, so just use a try-with-resources.","body":"Yep, but I think that <code>Connection</code> implements autoCloseable, so just use a try-with-resources."}],"owner":{"account_id":6129341,"reputation":25,"user_id":4780131,"display_name":"Strannngahhhh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662462241,"answer_count":0,"score":0,"last_activity_date":1662462283,"creation_date":1662438799,"question_id":73616743,"body_markdown":"Is it good practice to handle exception like this? Or there is any better alternative way to do it?\r\nThe code works fine but I feel that not all the Exceptions of getAllGrades() method will be shown because of throws added infront of connection(). \r\nPlease correct me if I&#39;m wrong. \r\n```\r\npackage DAO;\r\n\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class StudentDAO {\r\n\tstatic Connection con;\r\n\tstatic PreparedStatement stmt;\r\n\tstatic ResultSet rs;\r\n\tpublic static void connection() throws Exception {\r\n\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t\tcon = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:xe&quot;, &quot;xxx&quot;, &quot;yyy&quot;);\r\n\t}\r\n\tpublic static ArrayList&lt;String&gt; getAllGrades() {\r\n\t\ttry {\r\n\t\t\tconnection();\r\n\t\t\tstmt=con.prepareStatement(&quot;SELECT DISTINCT grade from student&quot;);\r\n\t\t\trs=stmt.executeQuery();\r\n\t\t\tArrayList&lt;String&gt; grades=new ArrayList&lt;String&gt;();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tgrades.add(rs.getString(1));\r\n\t\t\t}\r\n\t\t\tcon.close();\r\n\t\t\treturn grades;\r\n\t\t}\r\n\t\tcatch(SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\t\t\r\n\t}\r\n}\r\n```","title":"JEE Servlet SQLException practice","body":"<p>Is it good practice to handle exception like this? Or there is any better alternative way to do it?\nThe code works fine but I feel that not all the Exceptions of getAllGrades() method will be shown because of throws added infront of connection().\nPlease correct me if I'm wrong.</p>\n<pre><code>package DAO;\n\nimport java.sql.*;\nimport java.util.ArrayList;\n\npublic class StudentDAO {\n    static Connection con;\n    static PreparedStatement stmt;\n    static ResultSet rs;\n    public static void connection() throws Exception {\n        Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n        con = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:xe&quot;, &quot;xxx&quot;, &quot;yyy&quot;);\n    }\n    public static ArrayList&lt;String&gt; getAllGrades() {\n        try {\n            connection();\n            stmt=con.prepareStatement(&quot;SELECT DISTINCT grade from student&quot;);\n            rs=stmt.executeQuery();\n            ArrayList&lt;String&gt; grades=new ArrayList&lt;String&gt;();\n            while(rs.next()) {\n                grades.add(rs.getString(1));\n            }\n            con.close();\n            return grades;\n        }\n        catch(SQLException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;        \n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-viewpager"],"answers":[{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626405168,"creation_date":1626405168,"answer_id":68402971,"question_id":68402527,"body_markdown":"About the recyclerview filter data:\r\n\r\n1. could make your class CustomerAdapter implements Filterable \r\n\r\nlike :\r\n\r\n    class Adapter extends RecyclerView.Adapter implements Filterable {\r\n        ......    \r\n        @Override\r\n        public Filter getFilter() {\r\n            return new Filter() {\r\n                @Override\r\n                protected FilterResults performFiltering(CharSequence constraint) {\r\n                    return ...;\r\n                }\r\n\r\n                @Override\r\n                protected void publishResults(CharSequence constraint, FilterResults results) {\r\n\r\n                }\r\n            };\r\n        }\r\n    }    \r\n\r\n2. could also refer this：https://github.com/xaverkapeller/Searchable-RecyclerView-Demo\r\n\r\nAbout how to do this in selected viewpager fragment , you just need to invoke the search method of the current fragment.","title":"How can filter recyclerview in selected viewpager fragment on search?","body":"<p>About the recyclerview filter data:</p>\n<ol>\n<li>could make your class CustomerAdapter implements Filterable</li>\n</ol>\n<p>like :</p>\n<pre><code>class Adapter extends RecyclerView.Adapter implements Filterable {\n    ......    \n    @Override\n    public Filter getFilter() {\n        return new Filter() {\n            @Override\n            protected FilterResults performFiltering(CharSequence constraint) {\n                return ...;\n            }\n\n            @Override\n            protected void publishResults(CharSequence constraint, FilterResults results) {\n\n            }\n        };\n    }\n}    \n</code></pre>\n<ol start=\"2\">\n<li>could also refer this：https://github.com/xaverkapeller/Searchable-RecyclerView-Demo</li>\n</ol>\n<p>About how to do this in selected viewpager fragment , you just need to invoke the search method of the current fragment.</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626494755,"creation_date":1626406515,"answer_id":68403095,"question_id":68402527,"body_markdown":"&gt; the Searchview can place on activity which is common for all fragments, will be better in my case.\r\n\r\nThis is right.\r\n\r\n&gt; I tried several ways but was failed. My search was resulting always only in last tab (Paid). \r\n\r\nSo, I&#39;m assuming that the issue now isn&#39;t in the filtering itself, but that it always returns the results of the last tab; and therefore you probably didn&#39;t provide the filtering code for such a reason.\r\n\r\n\r\nNow we&#39;ve 3 tabs in the `ViewPager`, each represents a fragment; So we need to get the current selected fragment of the `ViewPager` in order to allow the activity send it the searched text.\r\n\r\n\r\n**To get the current fragment from ViewPager (Your case):**\r\n\r\n```\r\nViewPagerFragment currentFragment = (ViewPagerFragment) mViewPagerAdapter.instantiateItem(viewPager, viewPager.getCurrentItem());\r\n```\r\n\r\n\r\n**To get the current fragment from ViewPager2:**\r\n\r\nThe ViewPager has `getCurrentItem()` which returns the current page number\r\nSo, we need to link the each page fragment to the page number.\r\n\r\nBut we can get a ViewPager fragment by its id (item id), so the first step is to have page Ids that equals to the corresponding position, to do so override `getItemId` in the ViewPager adapter.\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\nThen in the activity filtering part assuming you are searching for a String that is in a var named `seachString`:\r\n\r\n```\r\nint pageId = viewpager.getCurrentItem();\r\n\r\nFragment currentFragment = (ViewPagerFragment) getChildFragmentManager()\r\n                                              .findFragmentByTag(&quot;f&quot; + pageId);\r\n```\r\n\r\nThen after getting the current fragment, create some method in it that accepts a String parameter for the searched value:\r\n\r\nSo, in `ViewPagerFragment`, create:\r\n```\r\npublic void searchFor(String search) {\r\n    // filter the results of the RecyclerView\r\n}\r\n```\r\n\r\nAnd call that method on the current fragment of the ViewPager in the activity:\r\n```\r\ncurrentFragment.searchFor(seachString);\r\n```","title":"How can filter recyclerview in selected viewpager fragment on search?","body":"<blockquote>\n<p>the Searchview can place on activity which is common for all fragments, will be better in my case.</p>\n</blockquote>\n<p>This is right.</p>\n<blockquote>\n<p>I tried several ways but was failed. My search was resulting always only in last tab (Paid).</p>\n</blockquote>\n<p>So, I'm assuming that the issue now isn't in the filtering itself, but that it always returns the results of the last tab; and therefore you probably didn't provide the filtering code for such a reason.</p>\n<p>Now we've 3 tabs in the <code>ViewPager</code>, each represents a fragment; So we need to get the current selected fragment of the <code>ViewPager</code> in order to allow the activity send it the searched text.</p>\n<p><strong>To get the current fragment from ViewPager (Your case):</strong></p>\n<pre><code>ViewPagerFragment currentFragment = (ViewPagerFragment) mViewPagerAdapter.instantiateItem(viewPager, viewPager.getCurrentItem());\n</code></pre>\n<p><strong>To get the current fragment from ViewPager2:</strong></p>\n<p>The ViewPager has <code>getCurrentItem()</code> which returns the current page number\nSo, we need to link the each page fragment to the page number.</p>\n<p>But we can get a ViewPager fragment by its id (item id), so the first step is to have page Ids that equals to the corresponding position, to do so override <code>getItemId</code> in the ViewPager adapter.</p>\n<pre><code>@Override\npublic long getItemId(int position) {\n    return position;\n}\n</code></pre>\n<p>Then in the activity filtering part assuming you are searching for a String that is in a var named <code>seachString</code>:</p>\n<pre><code>int pageId = viewpager.getCurrentItem();\n\nFragment currentFragment = (ViewPagerFragment) getChildFragmentManager()\n                                              .findFragmentByTag(&quot;f&quot; + pageId);\n</code></pre>\n<p>Then after getting the current fragment, create some method in it that accepts a String parameter for the searched value:</p>\n<p>So, in <code>ViewPagerFragment</code>, create:</p>\n<pre><code>public void searchFor(String search) {\n    // filter the results of the RecyclerView\n}\n</code></pre>\n<p>And call that method on the current fragment of the ViewPager in the activity:</p>\n<pre><code>currentFragment.searchFor(seachString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5296408,"reputation":98,"user_id":4227474,"display_name":"Koyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626431248,"creation_date":1626430884,"answer_id":68407388,"question_id":68402527,"body_markdown":"At last I succeeded, I think it is not very professional but it is working fine. To help some one suffering I am sharing that here.\r\n\r\n**Firstly I added tabScrollingListener to get the selected fragment  in MainActivity**\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity{\r\n\r\n..........\r\n  private ViewPagerFragment selectedFragment;\r\n\r\n  private void initializeTab(){\r\n\r\n    mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\r\n\r\n    viewPager = (MyViewPager) findViewById(R.id.view_pager);\r\n    viewPager.setOffscreenPageLimit(5);\r\n    viewPager.setAdapter(mSectionsPagerAdapter);\r\n\r\n    tabLayout = (SmartTabLayout) findViewById(R.id.tabs);\r\n    tabLayout.setViewPager(viewPager);\r\n    viewPager.setPagingEnabled(true);\r\n    viewPager.setCurrentItem(0);\r\n\r\n    tabLayout.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {\r\n        @Override\r\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n                selectedFragment = (ViewPagerFragment) mSectionsPagerAdapter.getCurrentFragment();\r\n            }\r\n\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onPageScrollStateChanged(int state) {\r\n\r\n            }\r\n     });\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n**Then I transferred my filter function to Fragment like mentioned in Zain&#39;s answer**. As I am using ListAdapter for my recycler it&#39;s easy to submit my filter list to adapter. I loaded my filter list on loadData function.\r\n\r\n```\r\npublic class ViewPagerFragment extends AbstractFragment {\r\n  ............\r\n private List&lt;Customers&gt; filterList;\r\n\r\n public static ViewPagerFragment newInstance(String title) {\r\n   ViewPagerFragment fragment = new ViewPagerFragment();\r\n   Bundle args = new Bundle();\r\n   args.putString(&quot;TITLE&quot;,title);\r\n   fragment.setArguments(args);\r\n   return fragment;\r\n }\r\n @Override\r\n public void onViewCreated(final View view, Bundle savedInstanceState) {\r\n   swipeLayout = (SwipeRefreshLayout) view.findViewById(R.id.swipeToRefresh);\r\n\r\n   recycler = (RecyclerView) view.findViewById(R.id.recycler);\r\n   adapter = new CustomerAdapter(getContext());\r\n   recycler.setLayoutManager(new LinearLayoutManager(getContext()));\r\n   recycler.setHasFixedSize(true);\r\n   recycler.addItemDecoration(new ItemDecoration(1,false, dpToPx(0),true,2));\r\n   recycler.setItemAnimator(new DefaultItemAnimator());\r\n   recycler.setAdapter(adapter);\r\n   changeFragment(swipeLayout);\r\n }\r\n\r\n public void changeFragment(final SwipeRefreshLayout swipeLayout){\r\n\r\n        final String tab = getArguments().getString(&quot;TITLE&quot;);\r\n\r\n        loadDatas(allRecords,tab);\r\n\r\n        swipeLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh() {\r\n                swipeLayout.setRefreshing(true);\r\n                utils.getDetails(getContext());\r\n                utils.setOnDataLoaded(new MyUtils.DataLoadingListener() {\r\n                    @Override\r\n                    public void onDataLoaded(ArrayList&lt;Customers&gt; list) {\r\n                        loadDatas(list, tab);\r\n                        swipeLayout.setRefreshing(false);\r\n                    }\r\n\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n\r\n        // Scheme colors for animation\r\n        swipeLayout.setColorSchemeColors(\r\n                getResources().getColor(android.R.color.holo_blue_bright),\r\n                getResources().getColor(android.R.color.holo_green_light),\r\n                getResources().getColor(android.R.color.holo_orange_light),\r\n                getResources().getColor(android.R.color.holo_red_light)\r\n        );\r\n  }\r\n\r\n  void loadDatas(List&lt;Customers&gt; list, String tab){\r\n\r\n        if (list != null &amp;&amp; list.size() &gt; 0) {\r\n            List&lt;Customers&gt; tabList = new ArrayList&lt;&gt;();\r\n\r\n            if (tab.equals(&quot;All&quot;)) {\r\n                tabList = list;\r\n            }else {\r\n                for (Customers item : list) {\r\n                    if (item.getStatus().equals(tab)) {\r\n                        tabList.add(item);\r\n                    }else {\r\n                       Log.d(TAG, &quot;loadDatas: &quot;+item.getStatus());\r\n                    }\r\n                }\r\n            }\r\n            filterList = tabList; // this fills filter list\r\n            adapter.submitList(tabList);\r\n        }\r\n    }\r\n\r\n}\r\n\r\npublic void filter(String text, String filter) {\r\n\r\n        ArrayList&lt;Customers&gt; filteredlist = new ArrayList&lt;&gt;();\r\n\r\n        // running a for loop to compare elements.\r\n        if (filterList != null &amp;&amp; filterList.size() &gt; 0) {\r\n            if (text.length() &gt; 0) {\r\n                for (Customers item : filterList) {\r\n                   // here filter options gone\r\n                }\r\n            }else {\r\n                filteredlist.addAll(filterList);\r\n            }\r\n        }\r\n        adapter.submitList(filteredlist);\r\n\r\n}\r\n```\r\n\r\n**Yea, Now I got currentSelectedFragment with filter function in MainActivity**\r\nIn searchListener I can call it like selectedFragment.filter(query).\r\n\r\n```\r\n       searchview.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n\r\n                selectedFragment.filter(newText); // search filter here\r\n\r\n                return true;\r\n            }\r\n        });\r\n```","title":"How can filter recyclerview in selected viewpager fragment on search?","body":"<p>At last I succeeded, I think it is not very professional but it is working fine. To help some one suffering I am sharing that here.</p>\n<p><strong>Firstly I added tabScrollingListener to get the selected fragment  in MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity{\n\n..........\n  private ViewPagerFragment selectedFragment;\n\n  private void initializeTab(){\n\n    mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\n\n    viewPager = (MyViewPager) findViewById(R.id.view_pager);\n    viewPager.setOffscreenPageLimit(5);\n    viewPager.setAdapter(mSectionsPagerAdapter);\n\n    tabLayout = (SmartTabLayout) findViewById(R.id.tabs);\n    tabLayout.setViewPager(viewPager);\n    viewPager.setPagingEnabled(true);\n    viewPager.setCurrentItem(0);\n\n    tabLayout.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n        @Override\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n                selectedFragment = (ViewPagerFragment) mSectionsPagerAdapter.getCurrentFragment();\n            }\n\n            @Override\n            public void onPageSelected(int position) {\n\n            }\n\n            @Override\n            public void onPageScrollStateChanged(int state) {\n\n            }\n     });\n\n  }\n\n}\n</code></pre>\n<p><strong>Then I transferred my filter function to Fragment like mentioned in Zain's answer</strong>. As I am using ListAdapter for my recycler it's easy to submit my filter list to adapter. I loaded my filter list on loadData function.</p>\n<pre><code>public class ViewPagerFragment extends AbstractFragment {\n  ............\n private List&lt;Customers&gt; filterList;\n\n public static ViewPagerFragment newInstance(String title) {\n   ViewPagerFragment fragment = new ViewPagerFragment();\n   Bundle args = new Bundle();\n   args.putString(&quot;TITLE&quot;,title);\n   fragment.setArguments(args);\n   return fragment;\n }\n @Override\n public void onViewCreated(final View view, Bundle savedInstanceState) {\n   swipeLayout = (SwipeRefreshLayout) view.findViewById(R.id.swipeToRefresh);\n\n   recycler = (RecyclerView) view.findViewById(R.id.recycler);\n   adapter = new CustomerAdapter(getContext());\n   recycler.setLayoutManager(new LinearLayoutManager(getContext()));\n   recycler.setHasFixedSize(true);\n   recycler.addItemDecoration(new ItemDecoration(1,false, dpToPx(0),true,2));\n   recycler.setItemAnimator(new DefaultItemAnimator());\n   recycler.setAdapter(adapter);\n   changeFragment(swipeLayout);\n }\n\n public void changeFragment(final SwipeRefreshLayout swipeLayout){\n\n        final String tab = getArguments().getString(&quot;TITLE&quot;);\n\n        loadDatas(allRecords,tab);\n\n        swipeLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @Override\n            public void onRefresh() {\n                swipeLayout.setRefreshing(true);\n                utils.getDetails(getContext());\n                utils.setOnDataLoaded(new MyUtils.DataLoadingListener() {\n                    @Override\n                    public void onDataLoaded(ArrayList&lt;Customers&gt; list) {\n                        loadDatas(list, tab);\n                        swipeLayout.setRefreshing(false);\n                    }\n\n                });\n\n            }\n        });\n\n\n        // Scheme colors for animation\n        swipeLayout.setColorSchemeColors(\n                getResources().getColor(android.R.color.holo_blue_bright),\n                getResources().getColor(android.R.color.holo_green_light),\n                getResources().getColor(android.R.color.holo_orange_light),\n                getResources().getColor(android.R.color.holo_red_light)\n        );\n  }\n\n  void loadDatas(List&lt;Customers&gt; list, String tab){\n\n        if (list != null &amp;&amp; list.size() &gt; 0) {\n            List&lt;Customers&gt; tabList = new ArrayList&lt;&gt;();\n\n            if (tab.equals(&quot;All&quot;)) {\n                tabList = list;\n            }else {\n                for (Customers item : list) {\n                    if (item.getStatus().equals(tab)) {\n                        tabList.add(item);\n                    }else {\n                       Log.d(TAG, &quot;loadDatas: &quot;+item.getStatus());\n                    }\n                }\n            }\n            filterList = tabList; // this fills filter list\n            adapter.submitList(tabList);\n        }\n    }\n\n}\n\npublic void filter(String text, String filter) {\n\n        ArrayList&lt;Customers&gt; filteredlist = new ArrayList&lt;&gt;();\n\n        // running a for loop to compare elements.\n        if (filterList != null &amp;&amp; filterList.size() &gt; 0) {\n            if (text.length() &gt; 0) {\n                for (Customers item : filterList) {\n                   // here filter options gone\n                }\n            }else {\n                filteredlist.addAll(filterList);\n            }\n        }\n        adapter.submitList(filteredlist);\n\n}\n</code></pre>\n<p><strong>Yea, Now I got currentSelectedFragment with filter function in MainActivity</strong>\nIn searchListener I can call it like selectedFragment.filter(query).</p>\n<pre><code>       searchview.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n\n                selectedFragment.filter(newText); // search filter here\n\n                return true;\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11100085,"reputation":1,"user_id":8149009,"display_name":"Vasuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662462146,"creation_date":1662462146,"answer_id":73620931,"question_id":68402527,"body_markdown":"    Follow the below step to find the clicked tab, \r\n    \r\n    First add tab select listener \r\n        \r\n        tabLayout.addOnTabSelectedListener(object:TabLayout.OnTabSelectedListener{\r\n        override fun onTabSelected(tab: TabLayout.Tab?) {\r\n           selectedFragment= fragmentViewPagerAdapter!!.fragments[tab!!.position]\r\n        }\r\n        override fun onTabUnselected(tab: TabLayout.Tab?) {\r\n    //               enter code here\r\n                }\r\n        override fun onTabReselected(tab: TabLayout.Tab?) {\r\n    //               enter code here\r\n                }\r\n            }) \r\n    \r\n    and then  setupWithViewPager \r\n            tabLayout.setupWithViewPager(viewPager)\r\n      ","title":"How can filter recyclerview in selected viewpager fragment on search?","body":"<pre><code>Follow the below step to find the clicked tab, \n\nFirst add tab select listener \n    \n    tabLayout.addOnTabSelectedListener(object:TabLayout.OnTabSelectedListener{\n    override fun onTabSelected(tab: TabLayout.Tab?) {\n       selectedFragment= fragmentViewPagerAdapter!!.fragments[tab!!.position]\n    }\n    override fun onTabUnselected(tab: TabLayout.Tab?) {\n//               enter code here\n            }\n    override fun onTabReselected(tab: TabLayout.Tab?) {\n//               enter code here\n            }\n        }) \n\nand then  setupWithViewPager \n        tabLayout.setupWithViewPager(viewPager)\n  \n</code></pre>\n"}],"owner":{"account_id":5296408,"reputation":98,"user_id":4227474,"display_name":"Koyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68403095,"answer_count":4,"score":2,"last_activity_date":1662462146,"creation_date":1626399917,"question_id":68402527,"body_markdown":"I have 3 tab fragments in viewpager with tabs. All tabs have recyclerview with ListAdapter showing customers list. Each tab represents 1) all customers 2) New ordered customers 3) Paid customers. I want to set search filter only **on tab selected fragment**. If the Searchview can place on activity which is common for all fragments, will be better in my case. I tried several ways but was failed. My search was resulting always only in last tab (Paid). Please can any one help me with full example of code ?\r\n\r\nAnd my MainActivity\r\n\r\n```\r\nprivate void initializeTab(){\r\n\r\n   mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\r\n\r\n   viewPager = (MyViewPager) findViewById(R.id.view_pager);\r\n   viewPager.setOffscreenPageLimit(5);\r\n   viewPager.setAdapter(mSectionsPagerAdapter);\r\n\r\n   tabLayout = (SmartTabLayout) findViewById(R.id.tabs);\r\n   tabLayout.setViewPager(viewPager);\r\n   viewPager.setPagingEnabled(true);\r\n\r\n}\r\n\r\nprivate class SectionsPagerAdapter extends FragmentStatePagerAdapter {\r\n\r\n  protected int currentPosition = -1;\r\n  protected Fragment currentFragment;\r\n\r\n  public SectionsPagerAdapter(FragmentManager fm) {\r\n     super(fm,BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\r\n  }\r\n\r\n  @Override\r\n  public Fragment getItem(int position) {\r\n\r\n    return ViewPagerFragment.newInstance(getPageTitle(position)+&quot;&quot;);\r\n  }\r\n\r\n  @Override\r\n  public int getCount() {\r\n    // Show 3 total pages.\r\n    return 3;\r\n  }\r\n\r\n  @Override\r\n  public CharSequence getPageTitle(int position) {\r\n    switch (position) {\r\n       case 0:\r\n         return &quot;All&quot;;\r\n       case 1:\r\n         return &quot;New&quot;;\r\n       case 2:\r\n         return &quot;Paid&quot;;\r\n    }\r\n       return null;\r\n }\r\n\r\n @Override\r\n public void setPrimaryItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\r\n   super.setPrimaryItem(container, position, object);\r\n   this.currentPosition = position;\r\n   if (object instanceof Fragment){\r\n      this.currentFragment = (Fragment)object;\r\n   }\r\n }\r\n\r\n public Fragment getCurrentFragment() {\r\n   return currentFragment;\r\n }\r\n\r\n public void setCurrentFragment(Fragment currentFragment) {\r\n    this.currentFragment = currentFragment;\r\n }\r\n}\r\n\r\n```\r\n\r\nand my Fragment\r\n\r\n```\r\npublic class ViewPagerFragment extends AbstractFragment {\r\n  ............\r\n public static ViewPagerFragment newInstance(String title) {\r\n   ViewPagerFragment fragment = new ViewPagerFragment();\r\n   Bundle args = new Bundle();\r\n   args.putString(&quot;TITLE&quot;,title);\r\n   fragment.setArguments(args);\r\n   return fragment;\r\n }\r\n @Override\r\n public void onViewCreated(final View view, Bundle savedInstanceState) {\r\n   swipeLayout = (SwipeRefreshLayout) view.findViewById(R.id.swipeToRefresh);\r\n\r\n   recycler = (RecyclerView) view.findViewById(R.id.recycler);\r\n   adapter = new CustomerAdapter(getContext());\r\n   recycler.setLayoutManager(new LinearLayoutManager(getContext()));\r\n   recycler.setHasFixedSize(true);\r\n   recycler.addItemDecoration(new ItemDecoration(1,false, dpToPx(0),true,2));\r\n   recycler.setItemAnimator(new DefaultItemAnimator());\r\n   recycler.setAdapter(adapter);\r\n   changeFragment(swipeLayout);\r\n }\r\n\r\n public void changeFragment(final SwipeRefreshLayout swipeLayout){\r\n\r\n        final String tab = getArguments().getString(&quot;TITLE&quot;);\r\n\r\n        loadDatas(allRecords,tab);\r\n\r\n        swipeLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh() {\r\n                swipeLayout.setRefreshing(true);\r\n                utils.getDetails(getContext());\r\n                utils.setOnDataLoaded(new MyUtils.DataLoadingListener() {\r\n                    @Override\r\n                    public void onDataLoaded(ArrayList&lt;Customers&gt; list) {\r\n                        loadDatas(list, tab);\r\n                        swipeLayout.setRefreshing(false);\r\n                    }\r\n\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n\r\n        // Scheme colors for animation\r\n        swipeLayout.setColorSchemeColors(\r\n                getResources().getColor(android.R.color.holo_blue_bright),\r\n                getResources().getColor(android.R.color.holo_green_light),\r\n                getResources().getColor(android.R.color.holo_orange_light),\r\n                getResources().getColor(android.R.color.holo_red_light)\r\n        );\r\n  }\r\n\r\n  void loadDatas(List&lt;Customers&gt; list, String tab){\r\n\r\n        if (list != null &amp;&amp; list.size() &gt; 0) {\r\n            List&lt;Customers&gt; tabList = new ArrayList&lt;&gt;();\r\n\r\n            if (tab.equals(&quot;All&quot;)) {\r\n                tabList = list;\r\n            }else {\r\n                for (Customers item : list) {\r\n                    if (item.getStatus().equals(tab)) {\r\n                        tabList.add(item);\r\n                    }else {\r\n                       Log.d(TAG, &quot;loadDatas: &quot;+item.getStatus());\r\n                    }\r\n                }\r\n            }\r\n            adapter.submitList(tabList);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How can filter recyclerview in selected viewpager fragment on search?","body":"<p>I have 3 tab fragments in viewpager with tabs. All tabs have recyclerview with ListAdapter showing customers list. Each tab represents 1) all customers 2) New ordered customers 3) Paid customers. I want to set search filter only <strong>on tab selected fragment</strong>. If the Searchview can place on activity which is common for all fragments, will be better in my case. I tried several ways but was failed. My search was resulting always only in last tab (Paid). Please can any one help me with full example of code ?</p>\n<p>And my MainActivity</p>\n<pre><code>private void initializeTab(){\n\n   mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\n\n   viewPager = (MyViewPager) findViewById(R.id.view_pager);\n   viewPager.setOffscreenPageLimit(5);\n   viewPager.setAdapter(mSectionsPagerAdapter);\n\n   tabLayout = (SmartTabLayout) findViewById(R.id.tabs);\n   tabLayout.setViewPager(viewPager);\n   viewPager.setPagingEnabled(true);\n\n}\n\nprivate class SectionsPagerAdapter extends FragmentStatePagerAdapter {\n\n  protected int currentPosition = -1;\n  protected Fragment currentFragment;\n\n  public SectionsPagerAdapter(FragmentManager fm) {\n     super(fm,BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\n  }\n\n  @Override\n  public Fragment getItem(int position) {\n\n    return ViewPagerFragment.newInstance(getPageTitle(position)+&quot;&quot;);\n  }\n\n  @Override\n  public int getCount() {\n    // Show 3 total pages.\n    return 3;\n  }\n\n  @Override\n  public CharSequence getPageTitle(int position) {\n    switch (position) {\n       case 0:\n         return &quot;All&quot;;\n       case 1:\n         return &quot;New&quot;;\n       case 2:\n         return &quot;Paid&quot;;\n    }\n       return null;\n }\n\n @Override\n public void setPrimaryItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\n   super.setPrimaryItem(container, position, object);\n   this.currentPosition = position;\n   if (object instanceof Fragment){\n      this.currentFragment = (Fragment)object;\n   }\n }\n\n public Fragment getCurrentFragment() {\n   return currentFragment;\n }\n\n public void setCurrentFragment(Fragment currentFragment) {\n    this.currentFragment = currentFragment;\n }\n}\n\n</code></pre>\n<p>and my Fragment</p>\n<pre><code>public class ViewPagerFragment extends AbstractFragment {\n  ............\n public static ViewPagerFragment newInstance(String title) {\n   ViewPagerFragment fragment = new ViewPagerFragment();\n   Bundle args = new Bundle();\n   args.putString(&quot;TITLE&quot;,title);\n   fragment.setArguments(args);\n   return fragment;\n }\n @Override\n public void onViewCreated(final View view, Bundle savedInstanceState) {\n   swipeLayout = (SwipeRefreshLayout) view.findViewById(R.id.swipeToRefresh);\n\n   recycler = (RecyclerView) view.findViewById(R.id.recycler);\n   adapter = new CustomerAdapter(getContext());\n   recycler.setLayoutManager(new LinearLayoutManager(getContext()));\n   recycler.setHasFixedSize(true);\n   recycler.addItemDecoration(new ItemDecoration(1,false, dpToPx(0),true,2));\n   recycler.setItemAnimator(new DefaultItemAnimator());\n   recycler.setAdapter(adapter);\n   changeFragment(swipeLayout);\n }\n\n public void changeFragment(final SwipeRefreshLayout swipeLayout){\n\n        final String tab = getArguments().getString(&quot;TITLE&quot;);\n\n        loadDatas(allRecords,tab);\n\n        swipeLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @Override\n            public void onRefresh() {\n                swipeLayout.setRefreshing(true);\n                utils.getDetails(getContext());\n                utils.setOnDataLoaded(new MyUtils.DataLoadingListener() {\n                    @Override\n                    public void onDataLoaded(ArrayList&lt;Customers&gt; list) {\n                        loadDatas(list, tab);\n                        swipeLayout.setRefreshing(false);\n                    }\n\n                });\n\n            }\n        });\n\n\n        // Scheme colors for animation\n        swipeLayout.setColorSchemeColors(\n                getResources().getColor(android.R.color.holo_blue_bright),\n                getResources().getColor(android.R.color.holo_green_light),\n                getResources().getColor(android.R.color.holo_orange_light),\n                getResources().getColor(android.R.color.holo_red_light)\n        );\n  }\n\n  void loadDatas(List&lt;Customers&gt; list, String tab){\n\n        if (list != null &amp;&amp; list.size() &gt; 0) {\n            List&lt;Customers&gt; tabList = new ArrayList&lt;&gt;();\n\n            if (tab.equals(&quot;All&quot;)) {\n                tabList = list;\n            }else {\n                for (Customers item : list) {\n                    if (item.getStatus().equals(tab)) {\n                        tabList.add(item);\n                    }else {\n                       Log.d(TAG, &quot;loadDatas: &quot;+item.getStatus());\n                    }\n                }\n            }\n            adapter.submitList(tabList);\n        }\n    }\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8936,"page":1056,"page_size":100}
