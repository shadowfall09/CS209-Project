{"items":[{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688399214,"post_id":76606285,"comment_id":135065896,"body_markdown":"What value did you get for `userId`?","body":"What value did you get for <code>userId</code>?"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688399591,"post_id":76606285,"comment_id":135065975,"body_markdown":"The userId is always null because it did not insert the record in the database. I am known to make stupid mistakes as well, so I copy the name of the stored procedure and each parameter so that I don&#39;t have any spelling error.","body":"The userId is always null because it did not insert the record in the database. I am known to make stupid mistakes as well, so I copy the name of the stored procedure and each parameter so that I don&#39;t have any spelling error."},{"owner":{"account_id":8247852,"reputation":890,"user_id":6203414,"display_name":"mkane"},"score":1,"creation_date":1688400106,"post_id":76606285,"comment_id":135066079,"body_markdown":"Have you checked so as to ensure your user object actually has the values you expect contained therein (i.e. user.getFirstName() etc..)?","body":"Have you checked so as to ensure your user object actually has the values you expect contained therein (i.e. user.getFirstName() etc..)?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688400479,"post_id":76606285,"comment_id":135066163,"body_markdown":"Without seeing the SP it&#39;s difficult to say. I mean it might have a select in it that is simply not met and therefore no insert takes place","body":"Without seeing the SP it&#39;s difficult to say. I mean it might have a select in it that is simply not met and therefore no insert takes place"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688401509,"post_id":76606285,"comment_id":135066372,"body_markdown":"I updated it to include the stored procedure.","body":"I updated it to include the stored procedure."},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688403596,"post_id":76606285,"comment_id":135066766,"body_markdown":"@mkane I looked at parameter&#39;s values, and they looked correct.","body":"@mkane I looked at parameter&#39;s values, and they looked correct."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688406690,"post_id":76606285,"comment_id":135067293,"body_markdown":"I would call it with your db client using the exact same parameters. One potential problem - the `@` in the email address is a special character","body":"I would call it with your db client using the exact same parameters. One potential problem - the <code>@</code> in the email address is a special character"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688407436,"post_id":76606285,"comment_id":135067395,"body_markdown":"@g00se that&#39;s a good point, but I would expect it to throw an exception or some other error message. Is there an equivalent to MS SQL Tuning Template in MySQL? That tool allows me to see what the application sends to the server.  I can grab the exact query and execute it myself.","body":"@g00se that&#39;s a good point, but I would expect it to throw an exception or some other error message. Is there an equivalent to MS SQL Tuning Template in MySQL? That tool allows me to see what the application sends to the server.  I can grab the exact query and execute it myself."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688407544,"post_id":76606285,"comment_id":135067414,"body_markdown":"Well you can definitely turn on logging in the server","body":"Well you can definitely turn on logging in the server"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688414773,"post_id":76606285,"comment_id":135068538,"body_markdown":"I think it may not like the way I initialize the SimpleJdbcCall. I commented out the code that is checking for existing email, and I was able to insert a new user and retrive the Id.","body":"I think it may not like the way I initialize the SimpleJdbcCall. I commented out the code that is checking for existing email, and I was able to insert a new user and retrive the Id."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688417990,"post_id":76606285,"comment_id":135069022,"body_markdown":"Maybe the email address contains whitespace?","body":"Maybe the email address contains whitespace?"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688418289,"post_id":76606285,"comment_id":135069063,"body_markdown":"@g00se I mofied the Bean and intialize and SimpleJdbcCall ever time I made a call to the database. It solved my problem. I am still going over the documentation trying to understand if that is the desired behavior.","body":"@g00se I mofied the Bean and intialize and SimpleJdbcCall ever time I made a call to the database. It solved my problem. I am still going over the documentation trying to understand if that is the desired behavior."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688418500,"post_id":76606285,"comment_id":135069107,"body_markdown":"Sorry I&#39;m afraid I don&#39;t know what you mean by that","body":"Sorry I&#39;m afraid I don&#39;t know what you mean by that"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688585953,"post_id":76606285,"comment_id":135095023,"body_markdown":"@g00se I meant to say instantiate not initialize. I posted the changes made as an answer.","body":"@g00se I meant to say instantiate not initialize. I posted the changes made as an answer."}],"answers":[{"tags":[],"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688585866,"creation_date":1688585866,"answer_id":76623558,"question_id":76606285,"body_markdown":"Here are the changes that I made to get the code to work.\r\n\r\n    @Repository\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class UserRepository implements IUser&lt;User&gt; {\r\n        private SimpleJdbcCall sj;\r\n       // Declare JdbcTemplate as an instance variable.\r\n        JdbcTemplate jdbcTemplate\r\n        private final BCryptPasswordEncoder encoder;\r\n        \r\n        // Change to a void\r\n        @Bean\r\n        public void setDataSource(DataSource dataSource) {\r\n            JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n            jdbcTemplate.setResultsMapCaseInsensitive(true);\r\n           // sj = new SimpleJdbcCall(jdbcTemplate);\r\n           // return sj;\r\n        }\r\n        \r\n        private boolean emailExists(String email) {\r\n             SqlParameterSource in = new MapSqlParameterSource()\r\n                        .addValue(&quot;email&quot;, email); \r\n            // Instantiate sj here.\r\n            sj = new SimpleJdbcCall(jdbcTemplate);\r\n            Map&lt;String, Object&gt; out = \r\n                    sj.withProcedureName(ApplicationConstant.APPLICATION_EMAIL_COUNT)\r\n                    .execute(in);\r\n           Integer count =  (Integer) out.get(&quot;total_email&quot;);\r\n           return count &gt; 0;\r\n        }\r\n        \r\n        @Override\r\n        public User create(User user) {\r\n            if(emailExists(user.getEmail().trim().toLowerCase())) throw new ApiException(&quot;Email already in use. Please login using your email.&quot;);\r\n            try {\r\n                String firstName = user.getFirstName();\r\n                String lastName = user.getLastName();\r\n                String email = user.getEmail();\r\n                String password = user.getPassword();\r\n                 SqlParameterSource in = new MapSqlParameterSource()\r\n                            .addValue(&quot;firstName&quot;, firstName,Types.NVARCHAR)\r\n                            .addValue(&quot;lastName&quot;, lastName,Types.NVARCHAR)\r\n                            .addValue(&quot;email&quot;, email,Types.NVARCHAR)\r\n                            .addValue(&quot;password&quot;, password,Types.NVARCHAR)\r\n                            .addValue(&quot;user_id&quot;, 0, Types.BIGINT);\r\n                // Instantiate sj here.\r\n                sj = new SimpleJdbcCall(jdbcTemplate);\r\n                Map&lt;String, Object&gt; out = \r\n                        sj.withProcedureName(&quot;UspUserUpsert&quot;)\r\n                        .withCatalogName(&quot;manageproject&quot;)\r\n                        .withoutProcedureColumnMetaDataAccess()\r\n                        .declareParameters(\r\n                          new SqlParameter(&quot;firstName&quot;, Types.NVARCHAR),\r\n                          new SqlParameter(&quot;lastName&quot;, Types.NVARCHAR),\r\n                          new SqlParameter(&quot;email&quot;, Types.NVARCHAR),\r\n                          new SqlParameter(&quot;password&quot;, Types.NVARCHAR),\r\n                          new SqlOutParameter(&quot;user_id&quot;, Types.BIGINT)  \r\n                        )\r\n                        .execute(in);\r\n        \r\n                Long userId = (Long) out.get(&quot;user_id&quot;);\r\n            } catch(Exception e) {\r\n                throw new ApiException(&quot;An error occurs. Please try again.&quot;);\r\n            }\r\n            return user;\r\n        }\r\n        \r\n    }","title":"Call MySQL Stored Procedure using SimpleJdbcCall in Java","body":"<p>Here are the changes that I made to get the code to work.</p>\n<pre><code>@Repository\n@RequiredArgsConstructor\n@Slf4j\npublic class UserRepository implements IUser&lt;User&gt; {\n    private SimpleJdbcCall sj;\n   // Declare JdbcTemplate as an instance variable.\n    JdbcTemplate jdbcTemplate\n    private final BCryptPasswordEncoder encoder;\n    \n    // Change to a void\n    @Bean\n    public void setDataSource(DataSource dataSource) {\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n        jdbcTemplate.setResultsMapCaseInsensitive(true);\n       // sj = new SimpleJdbcCall(jdbcTemplate);\n       // return sj;\n    }\n    \n    private boolean emailExists(String email) {\n         SqlParameterSource in = new MapSqlParameterSource()\n                    .addValue(&quot;email&quot;, email); \n        // Instantiate sj here.\n        sj = new SimpleJdbcCall(jdbcTemplate);\n        Map&lt;String, Object&gt; out = \n                sj.withProcedureName(ApplicationConstant.APPLICATION_EMAIL_COUNT)\n                .execute(in);\n       Integer count =  (Integer) out.get(&quot;total_email&quot;);\n       return count &gt; 0;\n    }\n    \n    @Override\n    public User create(User user) {\n        if(emailExists(user.getEmail().trim().toLowerCase())) throw new ApiException(&quot;Email already in use. Please login using your email.&quot;);\n        try {\n            String firstName = user.getFirstName();\n            String lastName = user.getLastName();\n            String email = user.getEmail();\n            String password = user.getPassword();\n             SqlParameterSource in = new MapSqlParameterSource()\n                        .addValue(&quot;firstName&quot;, firstName,Types.NVARCHAR)\n                        .addValue(&quot;lastName&quot;, lastName,Types.NVARCHAR)\n                        .addValue(&quot;email&quot;, email,Types.NVARCHAR)\n                        .addValue(&quot;password&quot;, password,Types.NVARCHAR)\n                        .addValue(&quot;user_id&quot;, 0, Types.BIGINT);\n            // Instantiate sj here.\n            sj = new SimpleJdbcCall(jdbcTemplate);\n            Map&lt;String, Object&gt; out = \n                    sj.withProcedureName(&quot;UspUserUpsert&quot;)\n                    .withCatalogName(&quot;manageproject&quot;)\n                    .withoutProcedureColumnMetaDataAccess()\n                    .declareParameters(\n                      new SqlParameter(&quot;firstName&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;lastName&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;email&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;password&quot;, Types.NVARCHAR),\n                      new SqlOutParameter(&quot;user_id&quot;, Types.BIGINT)  \n                    )\n                    .execute(in);\n    \n            Long userId = (Long) out.get(&quot;user_id&quot;);\n        } catch(Exception e) {\n            throw new ApiException(&quot;An error occurs. Please try again.&quot;);\n        }\n        return user;\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76623558,"answer_count":1,"score":0,"last_activity_date":1688585866,"creation_date":1688398848,"question_id":76606285,"body_markdown":"I have not done Java in a long time, so I decided to create a small application to manage a project. I am making a call to the database to insert a new user. I have the stored procedure created. I called the stored procedure and add a new user successfully using MySQL Workbench. However, when I made a call from the application using SimpleJdbcCall, it did not insert the new user. It did not throw an exception either. To eliminate issue with connecting to the database, I was able to call a different stored procedure that returns the total count of existing email without issue. I have not been able to figure why. I would appreciate any guidance on the cause of this issue. \r\n\r\n**Code that is not working: Update**\r\n\r\n    @Repository\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class UserRepository implements IUser&lt;User&gt; {\r\n    \tprivate SimpleJdbcCall sj;\r\n    \tprivate final BCryptPasswordEncoder encoder;\r\n    \t\r\n    \t@Bean\r\n    \tpublic SimpleJdbcCall setDataSource(DataSource dataSource) {\r\n    \t\tJdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n    \t\tjdbcTemplate.setResultsMapCaseInsensitive(true);\r\n    \t\tsj = new SimpleJdbcCall(jdbcTemplate);\r\n    \t\treturn sj;\r\n    \t}\r\n    \t\r\n    \tprivate boolean emailExists(String email) {\r\n    \t\t SqlParameterSource in = new MapSqlParameterSource()\r\n    \t\t\t\t\t.addValue(&quot;email&quot;, email); \r\n    \t\tMap&lt;String, Object&gt; out = \r\n    \t\t\t\tsj.withProcedureName(ApplicationConstant.APPLICATION_EMAIL_COUNT)\r\n    \t\t\t\t.execute(in);\r\n    \t   Integer count =  (Integer) out.get(&quot;total_email&quot;);\r\n    \t   return count &gt; 0;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic User create(User user) {\r\n    \t\tif(emailExists(user.getEmail().trim().toLowerCase())) throw new ApiException(&quot;Email already in use. Please login using your email.&quot;);\r\n    \t\ttry {\r\n    \t\t\tString firstName = user.getFirstName();\r\n    \t\t\tString lastName = user.getLastName();\r\n    \t\t\tString email = user.getEmail();\r\n    \t\t\tString password = user.getPassword();\r\n    \t\t\t SqlParameterSource in = new MapSqlParameterSource()\r\n    \t\t                .addValue(&quot;firstName&quot;, firstName,Types.NVARCHAR)\r\n    \t\t                .addValue(&quot;lastName&quot;, lastName,Types.NVARCHAR)\r\n    \t\t                .addValue(&quot;email&quot;, email,Types.NVARCHAR)\r\n    \t\t                .addValue(&quot;password&quot;, password,Types.NVARCHAR)\r\n    \t\t                .addValue(&quot;user_id&quot;, 0, Types.BIGINT);\r\n    \t\t\tMap&lt;String, Object&gt; out = \r\n    \t\t\t\t\tsj.withProcedureName(&quot;UspUserUpsert&quot;)\r\n    \t\t\t\t\t.withCatalogName(&quot;manageproject&quot;)\r\n    \t\t\t\t\t.withoutProcedureColumnMetaDataAccess()\r\n    \t\t\t\t\t.declareParameters(\r\n    \t\t\t\t\t  new SqlParameter(&quot;firstName&quot;, Types.NVARCHAR),\r\n    \t\t\t\t\t  new SqlParameter(&quot;lastName&quot;, Types.NVARCHAR),\r\n    \t\t\t\t\t  new SqlParameter(&quot;email&quot;, Types.NVARCHAR),\r\n    \t\t\t\t\t  new SqlParameter(&quot;password&quot;, Types.NVARCHAR),\r\n    \t\t\t\t\t  new SqlOutParameter(&quot;user_id&quot;, Types.BIGINT)\t\r\n    \t\t\t\t\t)\r\n    \t\t\t\t\t.execute(in);\r\n    \t\r\n    \t\t\tLong userId = (Long) out.get(&quot;user_id&quot;);\r\n    \t\t} catch(Exception e) {\r\n    \t\t\tthrow new ApiException(&quot;An error occurs. Please try again.&quot;);\r\n    \t\t}\r\n    \t\treturn user;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**Parameter Values:**\r\n\r\n    MapSqlParameterSource {firstName=John, lastName=Doe, email=jdoe@gmail.com, password=123456.}\r\n\r\n**Stored Procedure**\r\n\r\n    DELIMITER //;\r\n    CREATE PROCEDURE UspUserUpsert(\r\n     IN firstName \t\tVARCHAR(50),\r\n     IN lastName \t\tVARCHAR(50),\r\n     IN email \t\t\tVARCHAR(100),\r\n     IN `password` \t\tVARCHAR(255),\r\n     OUT user_id\t\tINT\r\n    )\r\n    BEGIN\r\n    \tDECLARE EXIT HANDLER FOR SQLEXCEPTION\r\n        BEGIN\r\n    \t\tROLLBACK;\r\n        END;\r\n         \r\n    \tSELECT \r\n    \t\tid \r\n    \tINTO user_id\r\n    \tFROM \r\n    \t\t`user` \r\n    \tWHERE\r\n    \t\temail = @email;\r\n        \r\n         START TRANSACTION;\r\n         IF (user_id &gt; 0) THEN\r\n    \t\tUPDATE \r\n    \t\t\t`user` u\r\n    \t\tSET\r\n                u.address = &#39;TESTING&#39;\r\n    \t\tWHERE\r\n    \t\t\tu.user_id = user_id;\r\n         END IF;\r\n         IF (ISNULL(user_id) =  1 OR user_id = 0) THEN\r\n             INSERT INTO User (\r\n    \t\t\tfirst_name,\r\n    \t\t\tlast_name,\r\n    \t\t\temail,\r\n                `password`\r\n    \t\t)\r\n    \t\tVALUES(\r\n    \t\t\tfirstName,\r\n    \t\t\tlastName,\r\n    \t\t\temail,\r\n                `password`\r\n    \t\t);\r\n    \t SELECT \r\n    \t\tlast_insert_id()\r\n         INTO user_id;\r\n         END IF;\r\n        COMMIT;\r\n    END //\r\n    DELIMITER ;","title":"Call MySQL Stored Procedure using SimpleJdbcCall in Java","body":"<p>I have not done Java in a long time, so I decided to create a small application to manage a project. I am making a call to the database to insert a new user. I have the stored procedure created. I called the stored procedure and add a new user successfully using MySQL Workbench. However, when I made a call from the application using SimpleJdbcCall, it did not insert the new user. It did not throw an exception either. To eliminate issue with connecting to the database, I was able to call a different stored procedure that returns the total count of existing email without issue. I have not been able to figure why. I would appreciate any guidance on the cause of this issue.</p>\n<p><strong>Code that is not working: Update</strong></p>\n<pre><code>@Repository\n@RequiredArgsConstructor\n@Slf4j\npublic class UserRepository implements IUser&lt;User&gt; {\n    private SimpleJdbcCall sj;\n    private final BCryptPasswordEncoder encoder;\n    \n    @Bean\n    public SimpleJdbcCall setDataSource(DataSource dataSource) {\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n        jdbcTemplate.setResultsMapCaseInsensitive(true);\n        sj = new SimpleJdbcCall(jdbcTemplate);\n        return sj;\n    }\n    \n    private boolean emailExists(String email) {\n         SqlParameterSource in = new MapSqlParameterSource()\n                    .addValue(&quot;email&quot;, email); \n        Map&lt;String, Object&gt; out = \n                sj.withProcedureName(ApplicationConstant.APPLICATION_EMAIL_COUNT)\n                .execute(in);\n       Integer count =  (Integer) out.get(&quot;total_email&quot;);\n       return count &gt; 0;\n    }\n    \n    @Override\n    public User create(User user) {\n        if(emailExists(user.getEmail().trim().toLowerCase())) throw new ApiException(&quot;Email already in use. Please login using your email.&quot;);\n        try {\n            String firstName = user.getFirstName();\n            String lastName = user.getLastName();\n            String email = user.getEmail();\n            String password = user.getPassword();\n             SqlParameterSource in = new MapSqlParameterSource()\n                        .addValue(&quot;firstName&quot;, firstName,Types.NVARCHAR)\n                        .addValue(&quot;lastName&quot;, lastName,Types.NVARCHAR)\n                        .addValue(&quot;email&quot;, email,Types.NVARCHAR)\n                        .addValue(&quot;password&quot;, password,Types.NVARCHAR)\n                        .addValue(&quot;user_id&quot;, 0, Types.BIGINT);\n            Map&lt;String, Object&gt; out = \n                    sj.withProcedureName(&quot;UspUserUpsert&quot;)\n                    .withCatalogName(&quot;manageproject&quot;)\n                    .withoutProcedureColumnMetaDataAccess()\n                    .declareParameters(\n                      new SqlParameter(&quot;firstName&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;lastName&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;email&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;password&quot;, Types.NVARCHAR),\n                      new SqlOutParameter(&quot;user_id&quot;, Types.BIGINT)  \n                    )\n                    .execute(in);\n    \n            Long userId = (Long) out.get(&quot;user_id&quot;);\n        } catch(Exception e) {\n            throw new ApiException(&quot;An error occurs. Please try again.&quot;);\n        }\n        return user;\n    }\n    \n}\n</code></pre>\n<p><strong>Parameter Values:</strong></p>\n<pre><code>MapSqlParameterSource {firstName=John, lastName=Doe, email=jdoe@gmail.com, password=123456.}\n</code></pre>\n<p><strong>Stored Procedure</strong></p>\n<pre><code>DELIMITER //;\nCREATE PROCEDURE UspUserUpsert(\n IN firstName       VARCHAR(50),\n IN lastName        VARCHAR(50),\n IN email           VARCHAR(100),\n IN `password`      VARCHAR(255),\n OUT user_id        INT\n)\nBEGIN\n    DECLARE EXIT HANDLER FOR SQLEXCEPTION\n    BEGIN\n        ROLLBACK;\n    END;\n     \n    SELECT \n        id \n    INTO user_id\n    FROM \n        `user` \n    WHERE\n        email = @email;\n    \n     START TRANSACTION;\n     IF (user_id &gt; 0) THEN\n        UPDATE \n            `user` u\n        SET\n            u.address = 'TESTING'\n        WHERE\n            u.user_id = user_id;\n     END IF;\n     IF (ISNULL(user_id) =  1 OR user_id = 0) THEN\n         INSERT INTO User (\n            first_name,\n            last_name,\n            email,\n            `password`\n        )\n        VALUES(\n            firstName,\n            lastName,\n            email,\n            `password`\n        );\n     SELECT \n        last_insert_id()\n     INTO user_id;\n     END IF;\n    COMMIT;\nEND //\nDELIMITER ;\n</code></pre>\n"},{"tags":["java","web-applications"],"answers":[{"tags":[],"owner":{"account_id":936117,"reputation":1461,"user_id":965016,"display_name":"jornb87"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1321530228,"creation_date":1321530228,"answer_id":8166542,"question_id":8166508,"body_markdown":"Getters and setters can be static if they get/set static fields.","title":"Are static setter/getters allowed?","body":"<p>Getters and setters can be static if they get/set static fields.</p>\n"},{"tags":[],"owner":{"account_id":996003,"reputation":1362,"user_id":1011919,"display_name":"Aditya Naidu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321530335,"creation_date":1321530335,"answer_id":8166564,"question_id":8166508,"body_markdown":"Yes, getters/setters can be made static based on your need. Or maybe I didn&#39;t understand your question!","title":"Are static setter/getters allowed?","body":"<p>Yes, getters/setters can be made static based on your need. Or maybe I didn't understand your question!</p>\n"},{"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1665019181,"creation_date":1321530401,"answer_id":8166574,"question_id":8166508,"body_markdown":"If your properties are `static`, then getters and setters will also be `static`.  It all depends on what you want to do.","title":"Are static setter/getters allowed?","body":"<p>If your properties are <code>static</code>, then getters and setters will also be <code>static</code>.  It all depends on what you want to do.</p>\n"},{"tags":[],"owner":{"account_id":396748,"reputation":30697,"user_id":760489,"accept_rate":72,"display_name":"Pratik"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1390674832,"creation_date":1321530627,"answer_id":8166627,"question_id":8166508,"body_markdown":"yes you can and that class whatever that object/variable was defined they looks like \r\n\r\n    private static String abc = &quot;&quot;;\r\n\r\nand you can access this object using get/set method\r\n\r\n    public static String getString(){\r\n        return abc;\r\n    }\r\n    \r\n    public static void setString(String newAbc){\r\n       abc = newAbc;\r\n    }\r\n\r\nand you can use this like this way `Test.getString(); or Test.setString(&quot;new string&quot;);`\r\n\r\nyou can also define this get/set method as normal means without defined the static keyword but for that you need to create the instance of that class. The static was used for without creating an instance of the class you can access their member.\r\n","title":"Are static setter/getters allowed?","body":"<p>yes you can and that class whatever that object/variable was defined they looks like </p>\n\n<pre><code>private static String abc = \"\";\n</code></pre>\n\n<p>and you can access this object using get/set method</p>\n\n<pre><code>public static String getString(){\n    return abc;\n}\n\npublic static void setString(String newAbc){\n   abc = newAbc;\n}\n</code></pre>\n\n<p>and you can use this like this way <code>Test.getString(); or Test.setString(\"new string\");</code></p>\n\n<p>you can also define this get/set method as normal means without defined the static keyword but for that you need to create the instance of that class. The static was used for without creating an instance of the class you can access their member.</p>\n"},{"tags":[],"owner":{"account_id":1005430,"reputation":1098,"user_id":1019336,"accept_rate":60,"display_name":"biaobiaoqi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321530663,"creation_date":1321530663,"answer_id":8166632,"question_id":8166508,"body_markdown":"Sure you can .\r\nGetter and setter are just normal methods . \r\nThey can be static or not .\r\n\r\nThe only constraint is , do not use non-static filed and method in the static method. As static method and static filed belong to a class ,and non-static method and field belong to the object . they are two different levels I think.","title":"Are static setter/getters allowed?","body":"<p>Sure you can .\nGetter and setter are just normal methods . \nThey can be static or not .</p>\n\n<p>The only constraint is , do not use non-static filed and method in the static method. As static method and static filed belong to a class ,and non-static method and field belong to the object . they are two different levels I think.</p>\n"},{"tags":[],"owner":{"account_id":1044801,"reputation":507,"user_id":1050039,"display_name":"vgardner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321530742,"creation_date":1321530742,"answer_id":8166647,"question_id":8166508,"body_markdown":"You can&#39;t make getter and setter methods static if you use any attributes or properties that aren&#39;t static. If you use IDEs like Eclipse and Netbeans, they&#39;ll warn you about that or might not even let you compile the code.","title":"Are static setter/getters allowed?","body":"<p>You can't make getter and setter methods static if you use any attributes or properties that aren't static. If you use IDEs like Eclipse and Netbeans, they'll warn you about that or might not even let you compile the code.</p>\n"},{"tags":[],"owner":{"account_id":277337,"reputation":10612,"user_id":571271,"accept_rate":100,"display_name":"jeha"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1321531015,"creation_date":1321531015,"answer_id":8166706,"question_id":8166508,"body_markdown":"Of course you can make getters and setters be static (with appropriate static fields).\r\n\r\n**But:** As you are dealing with a web application (multiple parallel requests - multiple threads) you surely have a threading issue here - this is **not thread-safe** unless you take care of (e.g. use `synchronized`).","title":"Are static setter/getters allowed?","body":"<p>Of course you can make getters and setters be static (with appropriate static fields).</p>\n\n<p><strong>But:</strong> As you are dealing with a web application (multiple parallel requests - multiple threads) you surely have a threading issue here - this is <strong>not thread-safe</strong> unless you take care of (e.g. use <code>synchronized</code>).</p>\n"},{"tags":[],"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573036838,"creation_date":1573036838,"answer_id":58728225,"question_id":8166508,"body_markdown":"Yes, static setters/getters are allowed as long as both the class variable and the method are made static. Take a look at this getter method example.\r\n\r\n\r\n\r\n    public class Test {\r\n      private static WebDriver driver;\r\n    \r\n    \r\n    public static WebDriver getDriver() {\r\n        return driver;","title":"Are static setter/getters allowed?","body":"<p>Yes, static setters/getters are allowed as long as both the class variable and the method are made static. Take a look at this getter method example.</p>\n\n<pre><code>public class Test {\n  private static WebDriver driver;\n\n\npublic static WebDriver getDriver() {\n    return driver;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12377600,"reputation":565,"user_id":9024680,"display_name":"stackUser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573037836,"creation_date":1573037836,"answer_id":58728530,"question_id":8166508,"body_markdown":"If your data members are static then you can use static getter/setter. But if you data members are not static then call your not static getter/setter on object in getData() static method.","title":"Are static setter/getters allowed?","body":"<p>If your data members are static then you can use static getter/setter. But if you data members are not static then call your not static getter/setter on object in getData() static method.</p>\n"},{"tags":[],"owner":{"account_id":18319421,"reputation":1,"user_id":13340547,"display_name":"Whitney Kugel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688585860,"creation_date":1688585860,"answer_id":76623557,"question_id":8166508,"body_markdown":"Using static getters/ setters are allowed (and required) for static fields. The idea is to match, either both are static or non-static because the relationship to the class/ object is in mind. Attempting to use a non-static getter or setter on a static field causes a conflict because the value is shared and you will see a message like, “Non-static method &#39;getThingA()&#39; cannot be referenced from a static context.”\r\n\r\nThis is beneficial if you are working with something that requires data tied to the class rather than specific instances of that object. It also promotes encapsulation on a class level which is one of the core pillars of OOP and simply good practice. Additionally, by using static getters and setters you allow yourself the ability to expand these calls later if needed rather than modifying code in countless other places. ","title":"Are static setter/getters allowed?","body":"<p>Using static getters/ setters are allowed (and required) for static fields. The idea is to match, either both are static or non-static because the relationship to the class/ object is in mind. Attempting to use a non-static getter or setter on a static field causes a conflict because the value is shared and you will see a message like, “Non-static method 'getThingA()' cannot be referenced from a static context.”</p>\n<p>This is beneficial if you are working with something that requires data tied to the class rather than specific instances of that object. It also promotes encapsulation on a class level which is one of the core pillars of OOP and simply good practice. Additionally, by using static getters and setters you allow yourself the ability to expand these calls later if needed rather than modifying code in countless other places.</p>\n"}],"owner":{"account_id":411865,"reputation":31703,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83083,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":8166574,"answer_count":10,"score":18,"last_activity_date":1688585860,"creation_date":1321530088,"question_id":8166508,"body_markdown":"I am develoing a Web Application, in that there is a utility method named `getData()` which I made it as a static.\r\nUntil now its fine, but this static method named `getData()` needs some data from setters and getters.\r\nSo now my question is can we make setter/getters as static?\r\n","title":"Are static setter/getters allowed?","body":"<p>I am develoing a Web Application, in that there is a utility method named <code>getData()</code> which I made it as a static.\nUntil now its fine, but this static method named <code>getData()</code> needs some data from setters and getters.\nSo now my question is can we make setter/getters as static?</p>\n"},{"tags":["java","swing","user-interface","scrollbar"],"comments":[{"owner":{"account_id":245879,"reputation":5305,"user_id":519654,"accept_rate":36,"display_name":"xtempore"},"score":0,"creation_date":1448106750,"post_id":5371547,"comment_id":55450394,"body_markdown":"I&#39;ve added a more complete solution below, that works for the default look and feel (Metal).  I know this is an old question, but I came across it when I was trying to figure this out, so thought I&#39;d come back and share.","body":"I&#39;ve added a more complete solution below, that works for the default look and feel (Metal).  I know this is an old question, but I came across it when I was trying to figure this out, so thought I&#39;d come back and share."}],"answers":[{"tags":[],"owner":{"account_id":281244,"reputation":38779,"user_id":577423,"display_name":"Howard"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1300656159,"creation_date":1300656159,"answer_id":5371596,"question_id":5371547,"body_markdown":"A quick but also dirty solution is to set the width/height explicitely to e.g. 10 pixels via\r\n\r\n    jScrollPane.getVerticalScrollBar().setPreferredSize(new Dimension(10, 0));\r\n    jScrollPane.getHorizontalScrollBar().setPreferredSize(new Dimension(0, 10));\r\n\r\nOther way would be to provide a proper `ScrollBarUI`.","title":"Set scrollbar thickness","body":"<p>A quick but also dirty solution is to set the width/height explicitely to e.g. 10 pixels via</p>\n\n<pre><code>jScrollPane.getVerticalScrollBar().setPreferredSize(new Dimension(10, 0));\njScrollPane.getHorizontalScrollBar().setPreferredSize(new Dimension(0, 10));\n</code></pre>\n\n<p>Other way would be to provide a proper <code>ScrollBarUI</code>.</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300656641,"creation_date":1300656641,"answer_id":5371653,"question_id":5371547,"body_markdown":"    int verticalScrollBarWidthCoefficient = 3;\r\n    \r\n    scrollPane.getVerticalScrollBar().setPreferredSize(new Dimension(\r\n            (int) scrollPane.getVerticalScrollBar().getPreferredSize()\r\n                    .getWidth() * verticalScrollBarWidthCoefficient,\r\n            (int) scrollPane.getVerticalScrollBar().getPreferredSize().getHeight()\r\n    ));","title":"Set scrollbar thickness","body":"<pre><code>int verticalScrollBarWidthCoefficient = 3;\n\nscrollPane.getVerticalScrollBar().setPreferredSize(new Dimension(\n        (int) scrollPane.getVerticalScrollBar().getPreferredSize()\n                .getWidth() * verticalScrollBarWidthCoefficient,\n        (int) scrollPane.getVerticalScrollBar().getPreferredSize().getHeight()\n));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":245879,"reputation":5305,"user_id":519654,"accept_rate":36,"display_name":"xtempore"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1448106666,"creation_date":1448106666,"answer_id":33842985,"question_id":5371547,"body_markdown":"The following applies to the default LNF (Metal).\r\n\r\nIf you just want to set a specific size, then you can put this code before you create the JScrollPane (replace 40 with whatever size you prefer)...\r\n\r\n    UIManager.put(&quot;ScrollBar.width&quot;, 40);\r\n\r\nIf you want to scale the scrollbar based on the default size then something like this (before you create the JScrollPane)...\r\n\r\n    UIManager.put(&quot;ScrollBar.width&quot;, (int) ((int) UIManager.get(&quot;ScrollBar.width&quot;) * 2.5));\r\n\r\nIf you want to change it *after* creating the JScrollPane things are a bit more complex, but not too bad...\r\n\r\n    int scrollbarSize = &lt;some dynamic value&gt;;\r\n    UIManager.put(&quot;ScrollBar.width&quot;, scrollbarSize);\r\n    scrollPane.setVerticalScrollBar(scrollPane.createVerticalScrollBar());\r\n    scrollPane.setHorizontalScrollBar(scrollPane.createHorizontalScrollBar());\r\n\r\nI hope that helps someone.","title":"Set scrollbar thickness","body":"<p>The following applies to the default LNF (Metal).</p>\n\n<p>If you just want to set a specific size, then you can put this code before you create the JScrollPane (replace 40 with whatever size you prefer)...</p>\n\n<pre><code>UIManager.put(\"ScrollBar.width\", 40);\n</code></pre>\n\n<p>If you want to scale the scrollbar based on the default size then something like this (before you create the JScrollPane)...</p>\n\n<pre><code>UIManager.put(\"ScrollBar.width\", (int) ((int) UIManager.get(\"ScrollBar.width\") * 2.5));\n</code></pre>\n\n<p>If you want to change it <em>after</em> creating the JScrollPane things are a bit more complex, but not too bad...</p>\n\n<pre><code>int scrollbarSize = &lt;some dynamic value&gt;;\nUIManager.put(\"ScrollBar.width\", scrollbarSize);\nscrollPane.setVerticalScrollBar(scrollPane.createVerticalScrollBar());\nscrollPane.setHorizontalScrollBar(scrollPane.createHorizontalScrollBar());\n</code></pre>\n\n<p>I hope that helps someone.</p>\n"},{"tags":[],"owner":{"account_id":7786103,"reputation":85,"user_id":5890887,"accept_rate":33,"display_name":"user5890887"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1471278242,"creation_date":1471277123,"answer_id":38958660,"question_id":5371547,"body_markdown":"simplest way for me was to edit the `jquery.jscrollpane.css` file directly. changing the width of `.jspVerticalBar`. :)","title":"Set scrollbar thickness","body":"<p>simplest way for me was to edit the <code>jquery.jscrollpane.css</code> file directly. changing the width of <code>.jspVerticalBar</code>. :)</p>\n"}],"owner":{"account_id":210810,"reputation":11577,"user_id":462631,"accept_rate":73,"display_name":"Sinaesthetic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18811,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":5371596,"answer_count":4,"score":17,"last_activity_date":1688585682,"creation_date":1300655701,"question_id":5371547,"body_markdown":"Is there a way to adjust the thickness of the scrollbar within a `JScrollPane`? the default is kind of clunky.","title":"Set scrollbar thickness","body":"<p>Is there a way to adjust the thickness of the scrollbar within a <code>JScrollPane</code>? the default is kind of clunky.</p>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":22539,"reputation":1428,"user_id":55690,"display_name":"Justin King"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1346173098,"creation_date":1280998400,"answer_id":3413111,"question_id":3413092,"body_markdown":"From [the Javadoc](http://junit.sourceforge.net/javadoc/org/junit/BeforeClass.html):\r\n\r\n&gt; Sometimes several tests need to share computationally expensive setup (like logging into a database). While this can compromise the independence of tests, sometimes it is a necessary optimization. Annotating a `public static void` no-arg method with `@BeforeClass` causes it to be run once before any of the test methods in the class. The `@BeforeClass` methods of superclasses will be run before those the current class.","title":"Difference between setUp() and setUpBeforeClass()","body":"<p>From <a href=\"http://junit.sourceforge.net/javadoc/org/junit/BeforeClass.html\" rel=\"nofollow noreferrer\">the Javadoc</a>:</p>\n\n<blockquote>\n  <p>Sometimes several tests need to share computationally expensive setup (like logging into a database). While this can compromise the independence of tests, sometimes it is a necessary optimization. Annotating a <code>public static void</code> no-arg method with <code>@BeforeClass</code> causes it to be run once before any of the test methods in the class. The <code>@BeforeClass</code> methods of superclasses will be run before those the current class.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":218,"is_accepted":true,"score":218,"last_activity_date":1280998451,"creation_date":1280998451,"answer_id":3413120,"question_id":3413092,"body_markdown":"The `@BeforeClass` and `@AfterClass` annotated methods will be run exactly once during your test run - at the very beginning and end of the test as a whole, before anything else is run.  In fact, they&#39;re run before the test class is even constructed, which is why they must be declared `static`.\r\n\r\nThe `@Before` and `@After` methods will be run before and after every test case, so will probably be run multiple times during a test run.\r\n\r\nSo let&#39;s assume you had three tests in your class, the order of method calls would be:\r\n\r\n    setUpBeforeClass()\r\n\r\n      (Test class first instance constructed and the following methods called on it)\r\n        setUp()\r\n        test1()\r\n        tearDown()\r\n\r\n      (Test class second instance constructed and the following methods called on it)\r\n        setUp()\r\n        test2()\r\n        tearDown()\r\n\r\n      (Test class third instance constructed and the following methods called on it)\r\n        setUp()\r\n        test3()\r\n        tearDown()\r\n\r\n    tearDownAfterClass()","title":"Difference between setUp() and setUpBeforeClass()","body":"<p>The <code>@BeforeClass</code> and <code>@AfterClass</code> annotated methods will be run exactly once during your test run - at the very beginning and end of the test as a whole, before anything else is run.  In fact, they're run before the test class is even constructed, which is why they must be declared <code>static</code>.</p>\n\n<p>The <code>@Before</code> and <code>@After</code> methods will be run before and after every test case, so will probably be run multiple times during a test run.</p>\n\n<p>So let's assume you had three tests in your class, the order of method calls would be:</p>\n\n<pre><code>setUpBeforeClass()\n\n  (Test class first instance constructed and the following methods called on it)\n    setUp()\n    test1()\n    tearDown()\n\n  (Test class second instance constructed and the following methods called on it)\n    setUp()\n    test2()\n    tearDown()\n\n  (Test class third instance constructed and the following methods called on it)\n    setUp()\n    test3()\n    tearDown()\n\ntearDownAfterClass()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178640,"reputation":9194,"user_id":410747,"accept_rate":85,"display_name":"netbrain"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1688585656,"creation_date":1280998524,"answer_id":3413128,"question_id":3413092,"body_markdown":"`setUpBeforeClass` is run only once, right after the test class constructor (before beginning test method executions)\r\n\r\n`setUp` is run before each method execution\r\n\r\n`tearDown` is run after each method execution\r\n\r\n`tearDownAfterClass` is run only once, only after all other method executions have completed; it is the last method to be executed.","title":"Difference between setUp() and setUpBeforeClass()","body":"<p><code>setUpBeforeClass</code> is run only once, right after the test class constructor (before beginning test method executions)</p>\n<p><code>setUp</code> is run before each method execution</p>\n<p><code>tearDown</code> is run after each method execution</p>\n<p><code>tearDownAfterClass</code> is run only once, only after all other method executions have completed; it is the last method to be executed.</p>\n"},{"tags":[],"owner":{"account_id":77591,"reputation":1199,"user_id":221348,"accept_rate":50,"display_name":"madhurtanwani"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1327329875,"creation_date":1281000756,"answer_id":3413410,"question_id":3413092,"body_markdown":"Think of &quot;BeforeClass&quot; as a static initializer for your test case - use it for initializing static data - things that do not change across your test cases. You definitely want to be careful about static resources that are not thread safe.\r\n\r\nFinally, use the &quot;AfterClass&quot; annotated method to clean up any setup you did in the &quot;BeforeClass&quot; annotated method (unless their self destruction is good enough).\r\n\r\n\r\n&quot;Before&quot; &amp; &quot;After&quot; are for unit test specific initialization. I typically use these methods to initialize / re-initialize the mocks of my dependencies.  Obviously, this initialization is not specific to a unit test, but general to all unit tests.\r\n\r\n","title":"Difference between setUp() and setUpBeforeClass()","body":"<p>Think of \"BeforeClass\" as a static initializer for your test case - use it for initializing static data - things that do not change across your test cases. You definitely want to be careful about static resources that are not thread safe.</p>\n\n<p>Finally, use the \"AfterClass\" annotated method to clean up any setup you did in the \"BeforeClass\" annotated method (unless their self destruction is good enough).</p>\n\n<p>\"Before\" &amp; \"After\" are for unit test specific initialization. I typically use these methods to initialize / re-initialize the mocks of my dependencies.  Obviously, this initialization is not specific to a unit test, but general to all unit tests.</p>\n"}],"owner":{"account_id":168228,"reputation":3531,"user_id":393550,"accept_rate":60,"display_name":"Sagar Varpe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134641,"favorite_count":0,"down_vote_count":0,"up_vote_count":167,"accepted_answer_id":3413120,"answer_count":4,"score":167,"last_activity_date":1688585656,"creation_date":1280998262,"question_id":3413092,"body_markdown":"When unit testing with JUnit, there are two similar methods, `setUp()` and `setUpBeforeClass()`. What is the difference between these methods? Also, what is the difference between `tearDown()` and `tearDownAfterClass()`?\r\n\r\nHere are the signatures:\r\n\r\n    @BeforeClass\r\n    public static void setUpBeforeClass() throws Exception {\r\n    }\r\n\r\n    @AfterClass\r\n    public static void tearDownAfterClass() throws Exception {\r\n    }\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n    }\r\n\r\n    @After\r\n    public void tearDown() throws Exception {\r\n    }","title":"Difference between setUp() and setUpBeforeClass()","body":"<p>When unit testing with JUnit, there are two similar methods, <code>setUp()</code> and <code>setUpBeforeClass()</code>. What is the difference between these methods? Also, what is the difference between <code>tearDown()</code> and <code>tearDownAfterClass()</code>?</p>\n\n<p>Here are the signatures:</p>\n\n<pre><code>@BeforeClass\npublic static void setUpBeforeClass() throws Exception {\n}\n\n@AfterClass\npublic static void tearDownAfterClass() throws Exception {\n}\n\n@Before\npublic void setUp() throws Exception {\n}\n\n@After\npublic void tearDown() throws Exception {\n}\n</code></pre>\n"},{"tags":["java","spring","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688585533,"creation_date":1688585533,"answer_id":76623520,"question_id":76623215,"body_markdown":"The problem is that you are constructing the instance of type MyService by hand:\r\n\r\n    @Bean MyApp myApp() { return new MyApp(new MyService()); }\r\n\r\nYou need to let do spring the magic of creating **all** the beans. This way the @Cacheable annotations etc are applied via proxy. Since you are constructing the **MyService** by hand via new MyService(), you go exactly around spring for this single dependency, but this dependency needs the proxying of the methods for the @Cacheable annotation to work","title":"Spring caching works &quot;live&quot; but not in tests","body":"<p>The problem is that you are constructing the instance of type MyService by hand:</p>\n<pre><code>@Bean MyApp myApp() { return new MyApp(new MyService()); }\n</code></pre>\n<p>You need to let do spring the magic of creating <strong>all</strong> the beans. This way the @Cacheable annotations etc are applied via proxy. Since you are constructing the <strong>MyService</strong> by hand via new MyService(), you go exactly around spring for this single dependency, but this dependency needs the proxying of the methods for the @Cacheable annotation to work</p>\n"}],"owner":{"account_id":2760957,"reputation":471,"user_id":4743466,"accept_rate":69,"display_name":"Erik Vesterlund"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76623520,"answer_count":1,"score":0,"last_activity_date":1688585533,"creation_date":1688582626,"question_id":76623215,"body_markdown":"I have a service at work using Spring framework (not Boot!) with a guava cache. I would like to use Spring&#39;s own facilities. I can get it to work running the actual app, but in tests the caching doesn&#39;t work.\r\n\r\nI&#39;ve recreated the issue in a &quot;minimal&quot; app, see below.\r\n\r\nI haven&#39;t found anything useful by googling, as far as I can tell I have all the ingredients that all the tutorials say to have.\r\n\r\nWould appreciate some help with this. &quot;Use Spring Boot&quot; is unfortunately not a solution/option.\r\n\r\nSource code, gradle and dir structure follow: (pom available on request)\r\n\r\nTest:\r\n```\r\npackage com.somepkg;\r\n\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\n\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n//@ComponentScan(&quot;com.somepkg&quot;)\r\n@ContextConfiguration(classes = TestConfig.class)\r\npublic class SomeTest {\r\n    @Autowired MyApp myApp;\r\n\r\n    @Test\r\n    public void testStuff() {\r\n        long start, stop, totalTime;\r\n\r\n        start = System.currentTimeMillis();\r\n        myApp.run(&quot;stuff&quot;);\r\n        stop = System.currentTimeMillis();\r\n        totalTime = stop - start;\r\n        System.out.println(&quot;Total: &quot; + totalTime);\r\n\r\n        assertThat(&quot;Call took too long&quot;, totalTime &lt; 1100);\r\n    }\r\n}\r\n\r\n@Configuration\r\n@EnableCaching\r\nclass TestConfig {\r\n    @Bean MyApp myApp() { return new MyApp(new MyService()); }\r\n    @Bean CacheManager cacheManager() { return new ConcurrentMapCacheManager(&quot;greeting&quot;); }\r\n}\r\n```\r\n\r\nApp:\r\n```\r\npackage com.somepkg;\r\n\r\nimport org.springframework.cache.annotation.Cacheable;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.support.GenericApplicationContext;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Configuration\r\n@ComponentScan\r\n@EnableCaching\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try (GenericApplicationContext applicationContext = new AnnotationConfigApplicationContext(Main.class)) {\r\n            MyApp app = applicationContext.getBean(MyApp.class);\r\n            app.run(&quot;Spring&quot;);\r\n        }\r\n    }\r\n\r\n    @Bean CacheManager cacheManager() { return new ConcurrentMapCacheManager(&quot;greeting&quot;); }\r\n}\r\n\r\n@Component\r\nclass MyApp {\r\n    private final MyService myService;\r\n\r\n    public MyApp(MyService myService) { this.myService = myService; }\r\n\r\n    public void run(String message) {\r\n        long start, stop, totalTime;\r\n\r\n        System.out.println(&quot;First call to service...&quot;);\r\n        start = System.currentTimeMillis();\r\n        myService.hello(message);\r\n        stop = System.currentTimeMillis();\r\n        totalTime = stop - start;\r\n\r\n        System.out.println(&quot;Second call to service...&quot;);\r\n        start = System.currentTimeMillis();\r\n        myService.hello(message);\r\n        stop = System.currentTimeMillis();\r\n        totalTime += stop - start;\r\n\r\n        System.out.println(&quot;done in &quot; + totalTime);\r\n    }\r\n}\r\n\r\n@Component\r\nclass MyService {\r\n    @Cacheable(&quot;greeting&quot;)\r\n    public String hello(String message) {\r\n        try { Thread.sleep(1000); } catch (Exception e) {}\r\n        return &quot;Hello &quot; + message + &quot;!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nbuild.gradle:\r\n```\r\nmainClassName = &#39;com.somepkg.Main&#39;\r\n\r\nrun { standardInput = System.in }\r\n\r\nrepositories { jcenter() }\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework:spring-context:5.3.17&#39;\r\n    implementation &#39;org.springframework:spring-test:5.3.17&#39;\r\n    implementation &#39;junit:junit:4.13.1&#39;\r\n    implementation &#39;org.hamcrest:hamcrest:2.2&#39;\r\n}\r\n```\r\n\r\nDirectory structure:\r\n```\r\n├── build.gradle\r\n├── pom.xml\r\n└── src\r\n    ├── main\r\n    │&#160;&#160; └── java\r\n    │&#160;&#160;     └── com\r\n    │&#160;&#160;         └── somepkg\r\n    │&#160;&#160;             └── Main.java\r\n    └── test\r\n        └── java\r\n            └── com\r\n                └── somepkg\r\n                    └── SomeTest.java\r\n```","title":"Spring caching works &quot;live&quot; but not in tests","body":"<p>I have a service at work using Spring framework (not Boot!) with a guava cache. I would like to use Spring's own facilities. I can get it to work running the actual app, but in tests the caching doesn't work.</p>\n<p>I've recreated the issue in a &quot;minimal&quot; app, see below.</p>\n<p>I haven't found anything useful by googling, as far as I can tell I have all the ingredients that all the tutorials say to have.</p>\n<p>Would appreciate some help with this. &quot;Use Spring Boot&quot; is unfortunately not a solution/option.</p>\n<p>Source code, gradle and dir structure follow: (pom available on request)</p>\n<p>Test:</p>\n<pre><code>package com.somepkg;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\nimport static org.hamcrest.MatcherAssert.assertThat;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n//@ComponentScan(&quot;com.somepkg&quot;)\n@ContextConfiguration(classes = TestConfig.class)\npublic class SomeTest {\n    @Autowired MyApp myApp;\n\n    @Test\n    public void testStuff() {\n        long start, stop, totalTime;\n\n        start = System.currentTimeMillis();\n        myApp.run(&quot;stuff&quot;);\n        stop = System.currentTimeMillis();\n        totalTime = stop - start;\n        System.out.println(&quot;Total: &quot; + totalTime);\n\n        assertThat(&quot;Call took too long&quot;, totalTime &lt; 1100);\n    }\n}\n\n@Configuration\n@EnableCaching\nclass TestConfig {\n    @Bean MyApp myApp() { return new MyApp(new MyService()); }\n    @Bean CacheManager cacheManager() { return new ConcurrentMapCacheManager(&quot;greeting&quot;); }\n}\n</code></pre>\n<p>App:</p>\n<pre><code>package com.somepkg;\n\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.support.GenericApplicationContext;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\nimport org.springframework.stereotype.Component;\n\n@Configuration\n@ComponentScan\n@EnableCaching\npublic class Main {\n    public static void main(String[] args) {\n        try (GenericApplicationContext applicationContext = new AnnotationConfigApplicationContext(Main.class)) {\n            MyApp app = applicationContext.getBean(MyApp.class);\n            app.run(&quot;Spring&quot;);\n        }\n    }\n\n    @Bean CacheManager cacheManager() { return new ConcurrentMapCacheManager(&quot;greeting&quot;); }\n}\n\n@Component\nclass MyApp {\n    private final MyService myService;\n\n    public MyApp(MyService myService) { this.myService = myService; }\n\n    public void run(String message) {\n        long start, stop, totalTime;\n\n        System.out.println(&quot;First call to service...&quot;);\n        start = System.currentTimeMillis();\n        myService.hello(message);\n        stop = System.currentTimeMillis();\n        totalTime = stop - start;\n\n        System.out.println(&quot;Second call to service...&quot;);\n        start = System.currentTimeMillis();\n        myService.hello(message);\n        stop = System.currentTimeMillis();\n        totalTime += stop - start;\n\n        System.out.println(&quot;done in &quot; + totalTime);\n    }\n}\n\n@Component\nclass MyService {\n    @Cacheable(&quot;greeting&quot;)\n    public String hello(String message) {\n        try { Thread.sleep(1000); } catch (Exception e) {}\n        return &quot;Hello &quot; + message + &quot;!&quot;;\n    }\n}\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>mainClassName = 'com.somepkg.Main'\n\nrun { standardInput = System.in }\n\nrepositories { jcenter() }\n\ndependencies {\n    implementation 'org.springframework:spring-context:5.3.17'\n    implementation 'org.springframework:spring-test:5.3.17'\n    implementation 'junit:junit:4.13.1'\n    implementation 'org.hamcrest:hamcrest:2.2'\n}\n</code></pre>\n<p>Directory structure:</p>\n<pre><code>├── build.gradle\n├── pom.xml\n└── src\n    ├── main\n    │   └── java\n    │       └── com\n    │           └── somepkg\n    │               └── Main.java\n    └── test\n        └── java\n            └── com\n                └── somepkg\n                    └── SomeTest.java\n</code></pre>\n"},{"tags":["java","jmx","mbeans","spring-micrometer","prometheus-java"],"owner":{"account_id":9724259,"reputation":171,"user_id":7211862,"accept_rate":17,"display_name":"CarlosS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688584827,"creation_date":1688584827,"question_id":76623459,"body_markdown":"I am evaluating and learning about options for monitoring metrics for Java applications with SpringBoot (2.6.6) and I have done some testing with Prometheus, but there are some differences between using the Prometheus Java agent and using from the micrometer-registry-prometheus dependency with actuator (actuator/prometheus).\r\n\r\nUsing the Java agent there are fairly much more fields than from actuator/prometheus (372 vs 110), but one of those records I am not able to visualize from actuator/prometheus is my custom MBean (i.e. com_training_testing_mbean_statistic_total).\r\n\r\nFor Java agent the version is jmx_prometheus_javaagent-0.19.0.jar and the config file only contains:\r\n\r\n```\r\nrules:\r\n  - pattern: &quot;.*&quot;\r\n```\r\n\r\nand for actuator/prometheus I am using these dependency versions \r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.6&lt;/verion&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.4&lt;/verion&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-jmx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.4&lt;/verion&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nand application.properties:\r\n\r\n```\r\nmanagement.endpoints.web.exposure.include=prometheus\r\n```\r\n\r\nSo my doubt is if there is a way to get MBeans from actuator/prometheus? (Maybe a configuration is needed)\r\n\r\n ","title":"Get MBeans when using micrometer-registry-prometheus dependency with actuator","body":"<p>I am evaluating and learning about options for monitoring metrics for Java applications with SpringBoot (2.6.6) and I have done some testing with Prometheus, but there are some differences between using the Prometheus Java agent and using from the micrometer-registry-prometheus dependency with actuator (actuator/prometheus).</p>\n<p>Using the Java agent there are fairly much more fields than from actuator/prometheus (372 vs 110), but one of those records I am not able to visualize from actuator/prometheus is my custom MBean (i.e. com_training_testing_mbean_statistic_total).</p>\n<p>For Java agent the version is jmx_prometheus_javaagent-0.19.0.jar and the config file only contains:</p>\n<pre><code>rules:\n  - pattern: &quot;.*&quot;\n</code></pre>\n<p>and for actuator/prometheus I am using these dependency versions</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;2.6.6&lt;/verion&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n            &lt;version&gt;1.8.4&lt;/verion&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-jmx&lt;/artifactId&gt;\n            &lt;version&gt;1.8.4&lt;/verion&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and application.properties:</p>\n<pre><code>management.endpoints.web.exposure.include=prometheus\n</code></pre>\n<p>So my doubt is if there is a way to get MBeans from actuator/prometheus? (Maybe a configuration is needed)</p>\n"},{"tags":["java","elasticsearch","cmd","jvm","elastic-stack"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1674736464,"post_id":75246127,"comment_id":132779793,"body_markdown":"What version of Java are you are using?  The CMS GC was removed in Java 14.","body":"What version of Java are you are using?  The CMS GC was removed in Java 14."},{"owner":{"account_id":27626643,"reputation":11,"user_id":21086500,"display_name":"ANoos123"},"score":0,"creation_date":1674736654,"post_id":75246127,"comment_id":132779850,"body_markdown":"it is java 1.8..0","body":"it is java 1.8..0"},{"owner":{"account_id":27626643,"reputation":11,"user_id":21086500,"display_name":"ANoos123"},"score":0,"creation_date":1674736695,"post_id":75246127,"comment_id":132779861,"body_markdown":"and it is ignored when I run the command, the bundled one is used","body":"and it is ignored when I run the command, the bundled one is used"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1674738376,"post_id":75246127,"comment_id":132780361,"body_markdown":"What&#39;s the version of the bundle java runtime?","body":"What&#39;s the version of the bundle java runtime?"},{"owner":{"account_id":27626643,"reputation":11,"user_id":21086500,"display_name":"ANoos123"},"score":0,"creation_date":1674738505,"post_id":75246127,"comment_id":132780407,"body_markdown":"it is java  19 --","body":"it is java  19 --"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674739702,"post_id":75246127,"comment_id":132780770,"body_markdown":"Well that explains why you are being told that option has been removed.  Now ... what does the batch file say?  Apparently it is not looking at that jvm.options file.","body":"Well that explains why you are being told that option has been removed.  Now ... what does the batch file say?  Apparently it is not looking at that jvm.options file."}],"answers":[{"tags":[],"owner":{"account_id":1726598,"reputation":996,"user_id":1581112,"display_name":"Hang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688584714,"creation_date":1688584714,"answer_id":76623447,"question_id":75246127,"body_markdown":"The most straight-forward solution to your question is:\r\n  Add &quot;-XX:+IgnoreUnrecognizedVMOptions&quot; to your JVM option\r\n","title":"Elasticsearch Unrecognized VM option &#39;UseConcMarkSweepGC&#39;","body":"<p>The most straight-forward solution to your question is:\nAdd &quot;-XX:+IgnoreUnrecognizedVMOptions&quot; to your JVM option</p>\n"}],"owner":{"account_id":27626643,"reputation":11,"user_id":21086500,"display_name":"ANoos123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688584714,"creation_date":1674736047,"question_id":75246127,"body_markdown":"I am getting this exception when run elasticsearch.bat  Unrecognized VM option &#39;UseConcMarkSweepGC&#39;\r\nHere is my jvm.options file\r\n\r\n\r\n```\r\n################################################################\r\n##\r\n## JVM configuration\r\n##\r\n################################################################\r\n##\r\n## WARNING: DO NOT EDIT THIS FILE. If you want to override the\r\n## JVM options in this file, or set any additional options, you\r\n## should create one or more files in the jvm.options.d\r\n## directory containing your adjustments.\r\n##\r\n## See https://www.elastic.co/guide/en/elasticsearch/reference/@project.minor.version@/jvm-options.html\r\n## for more information.\r\n##\r\n################################################################\r\n\r\n\r\n\r\n################################################################\r\n## IMPORTANT: JVM heap size\r\n################################################################\r\n##\r\n## The heap size is automatically configured by Elasticsearch\r\n## based on the available memory in your system and the roles\r\n## each node is configured to fulfill. If specifying heap is\r\n## required, it should be done through a file in jvm.options.d,\r\n## which should be named with .options suffix, and the min and\r\n## max should be set to the same value. For example, to set the\r\n## heap to 4 GB, create a new file in the jvm.options.d\r\n## directory containing these lines:\r\n##\r\n## -Xms4g\r\n## -Xmx4g\r\n##\r\n## See https://www.elastic.co/guide/en/elasticsearch/reference/@project.minor.version@/heap-size.html\r\n## for more information\r\n##\r\n################################################################\r\n\r\n\r\n################################################################\r\n## Expert settings\r\n################################################################\r\n##\r\n## All settings below here are considered expert settings. Do\r\n## not adjust them unless you understand what you are doing. Do\r\n## not edit them in this file; instead, create a new file in the\r\n## jvm.options.d directory containing your adjustments.\r\n##\r\n################################################################\r\n\r\n-XX:+UseG1GC\r\n\r\n## JVM temporary directory\r\n-Djava.io.tmpdir=${ES_TMPDIR}\r\n\r\n## heap dumps\r\n\r\n# generate a heap dump when an allocation from the Java heap fails; heap dumps\r\n# are created in the working directory of the JVM unless an alternative path is\r\n# specified\r\n-XX:+HeapDumpOnOutOfMemoryError\r\n\r\n# exit right after heap dump on out of memory error\r\n-XX:+ExitOnOutOfMemoryError\r\n\r\n# specify an alternative path for heap dumps; ensure the directory exists and\r\n# has sufficient space\r\n@heap.dump.path@\r\n\r\n# specify an alternative path for JVM fatal error logs\r\n@error.file@\r\n\r\n## GC logging\r\n-Xlog:gc*,gc+age=trace,safepoint:file=@loggc@:utctime,level,pid,tags:filecount=32,filesize=64m\r\n\r\n```\r\nI have installed the elastic zip filed and add the bin to the environment variables and tried to run elasticsearch.bat command and got the exception.\r\nerror:\r\nUnrecognized VM option &#39;UseConcMarkSweepGC&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n        at org.elasticsearch.server.cli.JvmOption.flagsFinal(JvmOption.java:113)\r\n        at org.elasticsearch.server.cli.JvmOption.findFinalOptions(JvmOption.java:80)\r\n        at org.elasticsearch.server.cli.MachineDependentHeap.determineHeapSettings(MachineDependentHeap.java:59)\r\n        at org.elasticsearch.server.cli.JvmOptionsParser.jvmOptions(JvmOptionsParser.java:140)\r\n        at org.elasticsearch.server.cli.JvmOptionsParser.determineJvmOptions(JvmOptionsParser.java:92)\r\n        at org.elasticsearch.server.cli.ServerProcess.createProcess(ServerProcess.java:214)\r\n        at org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:108)\r\n        at org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:91)\r\n        at org.elasticsearch.server.cli.ServerCli.startServer(ServerCli.java:234)\r\n        at org.elasticsearch.server.cli.ServerCli.execute(ServerCli.java:91)\r\n        at org.elasticsearch.common.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:54)\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:85)\r\n        at org.elasticsearch.cli.Command.main(Command.java:50)\r\n        at org.elasticsearch.launcher.CliToolLauncher.main(CliToolLauncher.java:64)","title":"Elasticsearch Unrecognized VM option &#39;UseConcMarkSweepGC&#39;","body":"<p>I am getting this exception when run elasticsearch.bat  Unrecognized VM option 'UseConcMarkSweepGC'\nHere is my jvm.options file</p>\n<pre><code>################################################################\n##\n## JVM configuration\n##\n################################################################\n##\n## WARNING: DO NOT EDIT THIS FILE. If you want to override the\n## JVM options in this file, or set any additional options, you\n## should create one or more files in the jvm.options.d\n## directory containing your adjustments.\n##\n## See https://www.elastic.co/guide/en/elasticsearch/reference/@project.minor.version@/jvm-options.html\n## for more information.\n##\n################################################################\n\n\n\n################################################################\n## IMPORTANT: JVM heap size\n################################################################\n##\n## The heap size is automatically configured by Elasticsearch\n## based on the available memory in your system and the roles\n## each node is configured to fulfill. If specifying heap is\n## required, it should be done through a file in jvm.options.d,\n## which should be named with .options suffix, and the min and\n## max should be set to the same value. For example, to set the\n## heap to 4 GB, create a new file in the jvm.options.d\n## directory containing these lines:\n##\n## -Xms4g\n## -Xmx4g\n##\n## See https://www.elastic.co/guide/en/elasticsearch/reference/@project.minor.version@/heap-size.html\n## for more information\n##\n################################################################\n\n\n################################################################\n## Expert settings\n################################################################\n##\n## All settings below here are considered expert settings. Do\n## not adjust them unless you understand what you are doing. Do\n## not edit them in this file; instead, create a new file in the\n## jvm.options.d directory containing your adjustments.\n##\n################################################################\n\n-XX:+UseG1GC\n\n## JVM temporary directory\n-Djava.io.tmpdir=${ES_TMPDIR}\n\n## heap dumps\n\n# generate a heap dump when an allocation from the Java heap fails; heap dumps\n# are created in the working directory of the JVM unless an alternative path is\n# specified\n-XX:+HeapDumpOnOutOfMemoryError\n\n# exit right after heap dump on out of memory error\n-XX:+ExitOnOutOfMemoryError\n\n# specify an alternative path for heap dumps; ensure the directory exists and\n# has sufficient space\n@heap.dump.path@\n\n# specify an alternative path for JVM fatal error logs\n@error.file@\n\n## GC logging\n-Xlog:gc*,gc+age=trace,safepoint:file=@loggc@:utctime,level,pid,tags:filecount=32,filesize=64m\n\n</code></pre>\n<p>I have installed the elastic zip filed and add the bin to the environment variables and tried to run elasticsearch.bat command and got the exception.\nerror:\nUnrecognized VM option 'UseConcMarkSweepGC'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\nat org.elasticsearch.server.cli.JvmOption.flagsFinal(JvmOption.java:113)\nat org.elasticsearch.server.cli.JvmOption.findFinalOptions(JvmOption.java:80)\nat org.elasticsearch.server.cli.MachineDependentHeap.determineHeapSettings(MachineDependentHeap.java:59)\nat org.elasticsearch.server.cli.JvmOptionsParser.jvmOptions(JvmOptionsParser.java:140)\nat org.elasticsearch.server.cli.JvmOptionsParser.determineJvmOptions(JvmOptionsParser.java:92)\nat org.elasticsearch.server.cli.ServerProcess.createProcess(ServerProcess.java:214)\nat org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:108)\nat org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:91)\nat org.elasticsearch.server.cli.ServerCli.startServer(ServerCli.java:234)\nat org.elasticsearch.server.cli.ServerCli.execute(ServerCli.java:91)\nat org.elasticsearch.common.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:54)\nat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:85)\nat org.elasticsearch.cli.Command.main(Command.java:50)\nat org.elasticsearch.launcher.CliToolLauncher.main(CliToolLauncher.java:64)</p>\n"},{"tags":["java","json","parsing"],"answers":[{"tags":[],"owner":{"account_id":16027245,"reputation":41,"user_id":11567183,"display_name":"Chiamaka Etchie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688584163,"creation_date":1688583699,"answer_id":76623342,"question_id":76622862,"body_markdown":"Try this \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    JsonNode rootNode = mapper.readTree(jsonString);\r\n    JsonNode dataNode = rootNode.get(&quot;Data&quot;);\r\n    \r\n    List&lt;BvdCompanyInfoResponse&gt; companyInfoList = mapper.readValue(\r\n        dataNode.toString(),\r\n        new TypeReference&lt;List&lt;BvdCompanyInfoResponse&gt;&gt;() {}\r\n    );\r\n\r\n\r\n","title":"Java JSON Parsing with new BVD API","body":"<p>Try this</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\nJsonNode rootNode = mapper.readTree(jsonString);\nJsonNode dataNode = rootNode.get(&quot;Data&quot;);\n\nList&lt;BvdCompanyInfoResponse&gt; companyInfoList = mapper.readValue(\n    dataNode.toString(),\n    new TypeReference&lt;List&lt;BvdCompanyInfoResponse&gt;&gt;() {}\n);\n</code></pre>\n"}],"owner":{"account_id":8444640,"reputation":68,"user_id":6335803,"display_name":"Habib BenAlaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76623342,"answer_count":1,"score":0,"last_activity_date":1688584163,"creation_date":1688579397,"question_id":76622862,"body_markdown":"I&#39;m using BVD API to get company informations. The new API response changed from : \r\n\r\n\r\n```\r\n[\r\n    {\r\n\t&quot;companyName&quot;: &quot;LE PRINT&quot;,\r\n\t&quot;bvdIdNumber&quot;: &quot;FR834745630&quot;,\r\n\t&quot;addressLineOne&quot;: &quot;2 ALLEE DU PETIT MANOIR&quot;,\r\n\t&quot;postalCode&quot;: &quot;14100&quot;,\r\n\t&quot;city&quot;: &quot;ST MARTIN DE LA LIEUE&quot;,\r\n\t&quot;country&quot;: &quot;France&quot;\r\n    }\r\n]\r\n```\r\n\r\nTo: \r\n\r\n```\r\n&quot;SearchSummary&quot;: {\r\n\t&quot;TotalRecordsFound&quot;: 1,\r\n\t&quot;Offset&quot;: 0,\r\n\t&quot;RecordsReturned&quot;: 1,\r\n\t&quot;DatabaseInfo&quot;: {\r\n\t\t&quot;ReleaseNumber&quot;: &quot;338&quot;,\r\n\t\t&quot;UpdateNumber&quot;: &quot;338001&quot;,\r\n\t\t&quot;UpdateDate&quot;: &quot;2023-07-01T00:00:00&quot;,\r\n\t\t&quot;VersionNumber&quot;: &quot;129.00&quot;,\r\n\t\t&quot;IndexationDate&quot;: &quot;2023-06-26T00:00:00&quot;\r\n\t},\r\n\t&quot;Sort&quot;: null\r\n},\r\n&quot;Data&quot;: [\r\n\t{\r\n\t\t&quot;companyName&quot;: &quot;LE PRINT&quot;,\r\n\t\t&quot;bvdIdNumber&quot;: &quot;FR834745630&quot;,\r\n\t\t&quot;addressLineOne&quot;: &quot;2 ALLEE DU PETIT MANOIR&quot;,\r\n\t\t&quot;postalCode&quot;: &quot;14100&quot;,\r\n\t\t&quot;city&quot;: &quot;ST MARTIN DE LA LIEUE&quot;,\r\n\t\t&quot;country&quot;: &quot;France&quot;\r\n}\r\n]\r\n```\r\nSo, i need to get Data from JSON. \r\n\r\nI was reading the first JSON with this :\r\n\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\nList&lt;BvdCompanyInfoResponse&gt; companyList =  mapper.readValue(jsonString, new TypeReference&lt;List&lt;BvdCompanyInfoResponse&gt;&gt;(){});\r\n```\r\n\r\nBvdCompanyInfoResponse class:\r\n\r\n\r\n```\r\npackage com.antalis.core.bvd;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class BvdCompanyInfoResponse {\r\n\tString companyName;\r\n\tString bvdIdNumber;\r\n\tString addressLineOne;\r\n\tString postalCode;\r\n\tString city;\r\n\tString country;\r\n\r\n\tpublic String getCompanyName() {\r\n\t\treturn companyName;\r\n\t}\r\n\r\n\tpublic void setCompanyName(String companyName) {\r\n\t\tthis.companyName = companyName;\r\n\t}\r\n\r\n\tpublic String getBvdIdNumber() {\r\n\t\treturn bvdIdNumber;\r\n\t}\r\n\r\n\tpublic void setBvdIdNumber(String bvdIdNumber) {\r\n\t\tthis.bvdIdNumber = bvdIdNumber;\r\n\t}\r\n\r\n\t\r\n\r\n\tpublic String getAddressLineOne() {\r\n\t\treturn addressLineOne;\r\n\t}\r\n\r\n\tpublic void setAddressLineOne(String addressLineOne) {\r\n\t\tthis.addressLineOne = addressLineOne;\r\n\t}\r\n\tpublic String getPostalCode() {\r\n\t\treturn postalCode;\r\n\t}\r\n\r\n\tpublic void setPostalCode(String postalCode) {\r\n\t\tthis.postalCode = postalCode;\r\n\t}\r\n\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n\r\n\tpublic String getCountry() {\r\n\t\treturn country;\r\n\t}\r\n\r\n\tpublic void setCountry(String country) {\r\n\t\tthis.country = country;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nHow can I get my company info with new API respone please ? Iv&#39;ve tried many solutions but with no result.\r\n\r\n\r\n\r\n\r\n\r\nI tried JSONObject, but it didn&#39;t take strings, required type is Map :\r\n\r\n\r\n```\r\nString jsonString = content.toString() ; //assign your JSON String here\r\nJSONObject obj = new JSONObject(jsonString);\r\nString dataJson = obj.getJSONObject(&quot;Data&quot;);\r\n```","title":"Java JSON Parsing with new BVD API","body":"<p>I'm using BVD API to get company informations. The new API response changed from :</p>\n<pre><code>[\n    {\n    &quot;companyName&quot;: &quot;LE PRINT&quot;,\n    &quot;bvdIdNumber&quot;: &quot;FR834745630&quot;,\n    &quot;addressLineOne&quot;: &quot;2 ALLEE DU PETIT MANOIR&quot;,\n    &quot;postalCode&quot;: &quot;14100&quot;,\n    &quot;city&quot;: &quot;ST MARTIN DE LA LIEUE&quot;,\n    &quot;country&quot;: &quot;France&quot;\n    }\n]\n</code></pre>\n<p>To:</p>\n<pre><code>&quot;SearchSummary&quot;: {\n    &quot;TotalRecordsFound&quot;: 1,\n    &quot;Offset&quot;: 0,\n    &quot;RecordsReturned&quot;: 1,\n    &quot;DatabaseInfo&quot;: {\n        &quot;ReleaseNumber&quot;: &quot;338&quot;,\n        &quot;UpdateNumber&quot;: &quot;338001&quot;,\n        &quot;UpdateDate&quot;: &quot;2023-07-01T00:00:00&quot;,\n        &quot;VersionNumber&quot;: &quot;129.00&quot;,\n        &quot;IndexationDate&quot;: &quot;2023-06-26T00:00:00&quot;\n    },\n    &quot;Sort&quot;: null\n},\n&quot;Data&quot;: [\n    {\n        &quot;companyName&quot;: &quot;LE PRINT&quot;,\n        &quot;bvdIdNumber&quot;: &quot;FR834745630&quot;,\n        &quot;addressLineOne&quot;: &quot;2 ALLEE DU PETIT MANOIR&quot;,\n        &quot;postalCode&quot;: &quot;14100&quot;,\n        &quot;city&quot;: &quot;ST MARTIN DE LA LIEUE&quot;,\n        &quot;country&quot;: &quot;France&quot;\n}\n]\n</code></pre>\n<p>So, i need to get Data from JSON.</p>\n<p>I was reading the first JSON with this :</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\nList&lt;BvdCompanyInfoResponse&gt; companyList =  mapper.readValue(jsonString, new TypeReference&lt;List&lt;BvdCompanyInfoResponse&gt;&gt;(){});\n</code></pre>\n<p>BvdCompanyInfoResponse class:</p>\n<pre><code>package com.antalis.core.bvd;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class BvdCompanyInfoResponse {\n    String companyName;\n    String bvdIdNumber;\n    String addressLineOne;\n    String postalCode;\n    String city;\n    String country;\n\n    public String getCompanyName() {\n        return companyName;\n    }\n\n    public void setCompanyName(String companyName) {\n        this.companyName = companyName;\n    }\n\n    public String getBvdIdNumber() {\n        return bvdIdNumber;\n    }\n\n    public void setBvdIdNumber(String bvdIdNumber) {\n        this.bvdIdNumber = bvdIdNumber;\n    }\n\n    \n\n    public String getAddressLineOne() {\n        return addressLineOne;\n    }\n\n    public void setAddressLineOne(String addressLineOne) {\n        this.addressLineOne = addressLineOne;\n    }\n    public String getPostalCode() {\n        return postalCode;\n    }\n\n    public void setPostalCode(String postalCode) {\n        this.postalCode = postalCode;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n    \n    \n}\n\n</code></pre>\n<p>How can I get my company info with new API respone please ? Iv've tried many solutions but with no result.</p>\n<p>I tried JSONObject, but it didn't take strings, required type is Map :</p>\n<pre><code>String jsonString = content.toString() ; //assign your JSON String here\nJSONObject obj = new JSONObject(jsonString);\nString dataJson = obj.getJSONObject(&quot;Data&quot;);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","mockito"],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550150842,"creation_date":1550150842,"answer_id":54691553,"question_id":54691476,"body_markdown":"As the error states, you are not returning what the method signature declares as a return type (which is `Optional&lt;WorkItem&gt;`)\r\n\r\nJust return \r\n\r\n    Optional.of(workitem) \r\n\r\ninstead of `workItem`, i.e :\r\n\r\n    when(workItemRepository.findById(1L).orElse(null)).thenReturn(Optional.of(workitem));","title":"WrongTypeOfReturnValue: &quot;Object&quot; cannot be returned by findById()","body":"<p>As the error states, you are not returning what the method signature declares as a return type (which is <code>Optional&lt;WorkItem&gt;</code>)</p>\n\n<p>Just return </p>\n\n<pre><code>Optional.of(workitem) \n</code></pre>\n\n<p>instead of <code>workItem</code>, i.e :</p>\n\n<pre><code>when(workItemRepository.findById(1L).orElse(null)).thenReturn(Optional.of(workitem));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3490105,"reputation":7,"user_id":2920017,"display_name":"Mathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550158278,"creation_date":1550158278,"answer_id":54693909,"question_id":54691476,"body_markdown":"I see in comments that you tried this :\r\n```\r\nwhen(workItemRepository.findById(1L).orElse(null)).thenReturn(Optional.of(workitem));\r\n```\r\n\r\nIt should be working.\r\nI think the problem is comming from your &#39;orElse&#39; call.\r\n\r\nTo be precise, here is the method when :\r\n```\r\npublic static &lt;T&gt; OngoingStubbing&lt;T&gt; when(T methodCall) {\r\n        return MOCKITO_CORE.when(methodCall);\r\n    }\r\n```\r\nSo i think that using &#39;orElse&#39; prevent &#39;T&#39; from being inferred.\r\n\r\nAnd my question is why using &#39;orElse&#39; ?\r\nYou&#39;re stubbing the method.\r\n\r\nYou can use &#39;anyString&#39; to match any parameter.\r\n\r\nCheers","title":"WrongTypeOfReturnValue: &quot;Object&quot; cannot be returned by findById()","body":"<p>I see in comments that you tried this :</p>\n\n<pre><code>when(workItemRepository.findById(1L).orElse(null)).thenReturn(Optional.of(workitem));\n</code></pre>\n\n<p>It should be working.\nI think the problem is comming from your 'orElse' call.</p>\n\n<p>To be precise, here is the method when :</p>\n\n<pre><code>public static &lt;T&gt; OngoingStubbing&lt;T&gt; when(T methodCall) {\n        return MOCKITO_CORE.when(methodCall);\n    }\n</code></pre>\n\n<p>So i think that using 'orElse' prevent 'T' from being inferred.</p>\n\n<p>And my question is why using 'orElse' ?\nYou're stubbing the method.</p>\n\n<p>You can use 'anyString' to match any parameter.</p>\n\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":11107368,"reputation":1,"user_id":8154178,"display_name":"celso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667316487,"creation_date":1667316446,"answer_id":74278183,"question_id":54691476,"body_markdown":"Try this:\r\n\r\n    when(workItemRepository.findById(1L)).thenReturn(Optional.of(Optional.of(workitem).get()));\r\n\r\nIt woked for me","title":"WrongTypeOfReturnValue: &quot;Object&quot; cannot be returned by findById()","body":"<p>Try this:</p>\n<pre><code>when(workItemRepository.findById(1L)).thenReturn(Optional.of(Optional.of(workitem).get()));\n</code></pre>\n<p>It woked for me</p>\n"},{"tags":[],"owner":{"account_id":22938461,"reputation":538,"user_id":17071589,"display_name":"abdella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688583107,"creation_date":1688583107,"answer_id":76623269,"question_id":54691476,"body_markdown":"```orElse()``` method is not part of **JPA**, but it  is method of ```Optional&lt;T&gt;``` class as seen from the [doc.][1].\r\n\r\nTo make this clear let&#39;s change the following code from the service method\r\n\r\n```\r\n    return this.workItemRepository.findById(id)\r\n    .orElseThrow(() -&gt; new \r\n    ResourceNotFoundException(&quot;WorkItem&quot;, &quot;id&quot;, id));\r\n```\r\n\r\nto\r\n\r\n```\r\n    Optional&lt;WorkItem&gt; workItem = this.workItemRepository.findById(id);\r\n\r\n    return workItem.orElseThrow(() -&gt; new \r\n             ResourceNotFoundException(&quot;WorkItem&quot;, &quot;id&quot;, id));\r\n```\r\nSo that means ``orElse`` method doesn&#39;t has to include in the repository method call. Since the ``orElseThrow`` method invoked on the Optional workItem, it creates two conditional paths. So for that it needs two test case, test case for exist work item and test case for doesn&#39;t exist work item.\r\n\r\n**Test Case One**\r\n\r\n```\r\n  public void testGetWorkItemById_whenWorkItemDoesExist_returnWorkItem() {\r\n        ...\r\n        when(workItemRepository.findById(1L)).thenReturn(Optional.of(workItem));\r\n        ...\r\n        assertEquals(1L, workItem2.getId().longValue());\r\n    }\r\n```\r\n\r\n**Test Case Two**\r\n\r\n```\r\n   @Test\r\n    public void testGetWorkItemById_whenWorkItemDoesNotExist_returnNull() {\r\n        ...\r\n        when(workItemRepository.findById(1L)).thenReturn(Optional.empty());\r\n        ...\r\n        assertEquals(null, workItem2);\r\n    }\r\n```\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"WrongTypeOfReturnValue: &quot;Object&quot; cannot be returned by findById()","body":"<p><code>orElse()</code> method is not part of <strong>JPA</strong>, but it  is method of <code>Optional&lt;T&gt;</code> class as seen from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">doc.</a>.</p>\n<p>To make this clear let's change the following code from the service method</p>\n<pre><code>    return this.workItemRepository.findById(id)\n    .orElseThrow(() -&gt; new \n    ResourceNotFoundException(&quot;WorkItem&quot;, &quot;id&quot;, id));\n</code></pre>\n<p>to</p>\n<pre><code>    Optional&lt;WorkItem&gt; workItem = this.workItemRepository.findById(id);\n\n    return workItem.orElseThrow(() -&gt; new \n             ResourceNotFoundException(&quot;WorkItem&quot;, &quot;id&quot;, id));\n</code></pre>\n<p>So that means <code>orElse</code> method doesn't has to include in the repository method call. Since the <code>orElseThrow</code> method invoked on the Optional workItem, it creates two conditional paths. So for that it needs two test case, test case for exist work item and test case for doesn't exist work item.</p>\n<p><strong>Test Case One</strong></p>\n<pre><code>  public void testGetWorkItemById_whenWorkItemDoesExist_returnWorkItem() {\n        ...\n        when(workItemRepository.findById(1L)).thenReturn(Optional.of(workItem));\n        ...\n        assertEquals(1L, workItem2.getId().longValue());\n    }\n</code></pre>\n<p><strong>Test Case Two</strong></p>\n<pre><code>   @Test\n    public void testGetWorkItemById_whenWorkItemDoesNotExist_returnNull() {\n        ...\n        when(workItemRepository.findById(1L)).thenReturn(Optional.empty());\n        ...\n        assertEquals(null, workItem2);\n    }\n</code></pre>\n"}],"owner":{"account_id":13719720,"reputation":61,"user_id":9899984,"display_name":"sokoler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2411,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1688583107,"creation_date":1550150584,"question_id":54691476,"body_markdown":"I am trying to do tests for my Spring boot application, and I&#39;ve got a big problem. This is how my error looks like:\r\n```none\r\norg.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\nWorkItem cannot be returned by findById()\r\nfindById() should return Optional\r\n```         \r\nI was following tutorials and everyone is using `findOne()`, but for me it just doesn&#39;t work. My IDE shows:\r\n\r\n&gt; &quot; Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;com.java.workitemservice.model.WorkItem&quot;\r\n\r\nThat&#39;s why I tried it the other way and used `findById()`, but then I got another error.\r\n\r\n    { \r\n        @RunWith(SpringRunner.class)  \r\n        @SpringBootTest  \r\n        public class WorkitemServiceApplicationTests {  \r\n        \r\n        @Mock  \r\n        private WorkItemRepository workItemRepository;\r\n        \r\n        @InjectMocks\r\n                 WorkItemsController workItemsController;\r\n        \r\n        @Before\r\n        public void init() {\r\n        MockitoAnnotations.initMocks(this);\r\n        }\r\n       \r\n        @Test\r\n        public void testGetUserById() {\r\n        WorkItem workItem = new WorkItem();\r\n        workItem.setId(1L);\r\n        \r\n        //old version\r\n        //when(workItemRepository.findOne(1L)).thenReturn(workItem);\r\n        when(workItemRepository.findById(1L).orElse(null)).thenReturn(workItem);\r\n        \r\n        WorkItem workItem2 = workItemsController.getWorkItemById(1L);\r\n        \r\n        verify(workItemRepository).findById(1L).orElse(null);\r\n        \r\n        assertEquals(1L, workItem2.getId().longValue());\r\n        }\r\n    }\r\n        \r\nMy Repository :        \r\n        \r\n        @Repository\r\n        public interface WorkItemRepository extends JpaRepository&lt;WorkItem, \r\n        Long&gt; {\r\n        \r\n        Optional &lt;WorkItem&gt; findWorkItemBySubject(String subject);\r\n        }\r\n\r\nMy service method:    \r\n        \r\n        public WorkItem getWorkItemById(Long id) {\r\n        return this.workItemRepository.findById(id)\r\n        .orElseThrow(() -&gt; new \r\n        ResourceNotFoundException(&quot;WorkItem&quot;, &quot;id&quot;, id));\r\n        }\r\n \r\n My Controller method :\r\n \r\n        @GetMapping(&quot;/workItems/{id}&quot;)\r\n        public WorkItem getWorkItemById(@PathVariable(value = &quot;id&quot;) Long \r\n        workItemId) {\r\n        \r\n        return this.workItemService.getWorkItemById(workItemId);\r\n        }\r\n    }","title":"WrongTypeOfReturnValue: &quot;Object&quot; cannot be returned by findById()","body":"<p>I am trying to do tests for my Spring boot application, and I've got a big problem. This is how my error looks like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nWorkItem cannot be returned by findById()\nfindById() should return Optional\n</code></pre>\n\n<p>I was following tutorials and everyone is using <code>findOne()</code>, but for me it just doesn't work. My IDE shows:</p>\n\n<blockquote>\n  <p>\" Inferred type 'S' for type parameter 'S' is not within its bound; should extend 'com.java.workitemservice.model.WorkItem\"</p>\n</blockquote>\n\n<p>That's why I tried it the other way and used <code>findById()</code>, but then I got another error.</p>\n\n<pre><code>{ \n    @RunWith(SpringRunner.class)  \n    @SpringBootTest  \n    public class WorkitemServiceApplicationTests {  \n\n    @Mock  \n    private WorkItemRepository workItemRepository;\n\n    @InjectMocks\n             WorkItemsController workItemsController;\n\n    @Before\n    public void init() {\n    MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testGetUserById() {\n    WorkItem workItem = new WorkItem();\n    workItem.setId(1L);\n\n    //old version\n    //when(workItemRepository.findOne(1L)).thenReturn(workItem);\n    when(workItemRepository.findById(1L).orElse(null)).thenReturn(workItem);\n\n    WorkItem workItem2 = workItemsController.getWorkItemById(1L);\n\n    verify(workItemRepository).findById(1L).orElse(null);\n\n    assertEquals(1L, workItem2.getId().longValue());\n    }\n}\n</code></pre>\n\n<p>My Repository :        </p>\n\n<pre><code>    @Repository\n    public interface WorkItemRepository extends JpaRepository&lt;WorkItem, \n    Long&gt; {\n\n    Optional &lt;WorkItem&gt; findWorkItemBySubject(String subject);\n    }\n</code></pre>\n\n<p>My service method:    </p>\n\n<pre><code>    public WorkItem getWorkItemById(Long id) {\n    return this.workItemRepository.findById(id)\n    .orElseThrow(() -&gt; new \n    ResourceNotFoundException(\"WorkItem\", \"id\", id));\n    }\n</code></pre>\n\n<p>My Controller method :</p>\n\n<pre><code>    @GetMapping(\"/workItems/{id}\")\n    public WorkItem getWorkItemById(@PathVariable(value = \"id\") Long \n    workItemId) {\n\n    return this.workItemService.getWorkItemById(workItemId);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1688580906,"post_id":76622580,"comment_id":135094143,"body_markdown":"&quot;I know it is not the correct way to do this&quot; Why not? What&#39;s the problem with how you do it now, given that it seems to work?","body":"&quot;I know it is not the correct way to do this&quot; Why not? What&#39;s the problem with how you do it now, given that it seems to work?"},{"owner":{"account_id":28957260,"reputation":1,"user_id":22180552,"display_name":"Chris"},"score":0,"creation_date":1688582800,"post_id":76622580,"comment_id":135094512,"body_markdown":"Just trying to follow convention. This is my solution for the problem. I have now made the utility class more generic by changing the types of the parameters but it just feels like it might not be the best or proper way to do this. I might be wrong though and wanted to ask the coding wizards of StackOverflow in case better ways of doing this exist.","body":"Just trying to follow convention. This is my solution for the problem. I have now made the utility class more generic by changing the types of the parameters but it just feels like it might not be the best or proper way to do this. I might be wrong though and wanted to ask the coding wizards of StackOverflow in case better ways of doing this exist."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1688625201,"post_id":76622580,"comment_id":135099147,"body_markdown":"&quot;it just feels like it might not be the best or proper way&quot; Why would think that? Besides that, what is wrong with your code that needs to be improved? What needs to be added, however, is to handle exceptions.","body":"&quot;it just feels like it might not be the best or proper way&quot; Why would think that? Besides that, what is wrong with your code that needs to be improved? What needs to be added, however, is to handle exceptions."},{"owner":{"account_id":28957260,"reputation":1,"user_id":22180552,"display_name":"Chris"},"score":0,"creation_date":1688670855,"post_id":76622580,"comment_id":135108769,"body_markdown":"I think I have improved it now and am more happy with it. What I meant was it felt tightly coupled the way I had done it however I have made the parameters more generic and therefore the utility class feels more loosely coupled and more reusable like it should it do. Yeah you are right about the exception handling which is in place now. Thanks","body":"I think I have improved it now and am more happy with it. What I meant was it felt tightly coupled the way I had done it however I have made the parameters more generic and therefore the utility class feels more loosely coupled and more reusable like it should it do. Yeah you are right about the exception handling which is in place now. Thanks"}],"owner":{"account_id":28957260,"reputation":1,"user_id":22180552,"display_name":"Chris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688582563,"creation_date":1688576968,"question_id":76622580,"body_markdown":"I need to display items in a RecyclerView. I am using FirestoreRecyclerOptions to pass the data to the FirestoreRecyclerAdapter. However part of the data required are images that are stored in Firebase storage separately from the database documents. I have the images downloading and they are being set in the FirestoreRecyclerAdapter holder however I know it is not the correct way to do this. Any help with the correct way to do this would be appreciated.\r\n\r\nCurrent onBindViewHolder in the FirestoreRecyclerAdapter that implements an interface for callback.\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull MyListHolder holder, int position, @NonNull     TodoItem model) {\r\n        // Get the &#39;to do&#39; image from storage using the stored image reference from document.\r\n        StorageReference imageReference = storageRef.child(model.getImageReference());\r\n        ImageTransfer.imageDownload(this, holder, imageReference);\r\n    \r\n        holder.description.setText(model.getDescription());\r\n    \r\n        if (model.getMarkedDone().equals(&quot;true&quot;)) {\r\n            holder.markedDone.setImageResource(R.drawable.mark_done_icon);\r\n        }\r\n        else {\r\n            holder.markedDone.setImageResource(R.drawable.mark_not_done_icon);\r\n        }\r\n    \r\n    }\r\n\r\nCurrent utility method to download the image and use a callback to the FirestoreRecyclerAdapter to set the image downloaded in the holder when it is finished downloading. I feel like the holder and reference to the FirestoreRecyclerAdapter should not be passed outside of the FirestoreRecyclerAdapter?\r\n\r\n    static public void imageDownload(FirestoreRecyclerAdapter&lt;?, ?&gt; firestoreRecyclerAdapter, RecyclerView.ViewHolder holder, StorageReference imageStorageRef) {\r\n        final long ONE_MEGABYTE = 1024 \\* 1024;\r\n        imageStorageRef.getBytes(ONE_MEGABYTE).addOnSuccessListener(new OnSuccessListener\\&lt;byte\\[\\]\\&gt;() {\r\n            @Override\r\n            public void onSuccess(byte\\[\\] bytes) {\r\n                Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\r\n                ((DownloadCompleteCallback) firestoreRecyclerAdapter).downloadComplete(bitmap, holder);\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception exception) {\r\n    \r\n            }\r\n        });\r\n    \r\n    }","title":"Correct way to download image and update ViewHolder","body":"<p>I need to display items in a RecyclerView. I am using FirestoreRecyclerOptions to pass the data to the FirestoreRecyclerAdapter. However part of the data required are images that are stored in Firebase storage separately from the database documents. I have the images downloading and they are being set in the FirestoreRecyclerAdapter holder however I know it is not the correct way to do this. Any help with the correct way to do this would be appreciated.</p>\n<p>Current onBindViewHolder in the FirestoreRecyclerAdapter that implements an interface for callback.</p>\n<pre><code>@Override\nprotected void onBindViewHolder(@NonNull MyListHolder holder, int position, @NonNull     TodoItem model) {\n    // Get the 'to do' image from storage using the stored image reference from document.\n    StorageReference imageReference = storageRef.child(model.getImageReference());\n    ImageTransfer.imageDownload(this, holder, imageReference);\n\n    holder.description.setText(model.getDescription());\n\n    if (model.getMarkedDone().equals(&quot;true&quot;)) {\n        holder.markedDone.setImageResource(R.drawable.mark_done_icon);\n    }\n    else {\n        holder.markedDone.setImageResource(R.drawable.mark_not_done_icon);\n    }\n\n}\n</code></pre>\n<p>Current utility method to download the image and use a callback to the FirestoreRecyclerAdapter to set the image downloaded in the holder when it is finished downloading. I feel like the holder and reference to the FirestoreRecyclerAdapter should not be passed outside of the FirestoreRecyclerAdapter?</p>\n<pre><code>static public void imageDownload(FirestoreRecyclerAdapter&lt;?, ?&gt; firestoreRecyclerAdapter, RecyclerView.ViewHolder holder, StorageReference imageStorageRef) {\n    final long ONE_MEGABYTE = 1024 \\* 1024;\n    imageStorageRef.getBytes(ONE_MEGABYTE).addOnSuccessListener(new OnSuccessListener\\&lt;byte\\[\\]\\&gt;() {\n        @Override\n        public void onSuccess(byte\\[\\] bytes) {\n            Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n            ((DownloadCompleteCallback) firestoreRecyclerAdapter).downloadComplete(bitmap, holder);\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception exception) {\n\n        }\n    });\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","karate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688640635,"post_id":76621736,"comment_id":135102422,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688582302,"creation_date":1688582302,"answer_id":76623179,"question_id":76621736,"body_markdown":"Karate is a replacement for Wiremock. Start by reading the docs: https://karatelabs.github.io/karate/karate-netty/","title":"How to mock APIs using karate","body":"<p>Karate is a replacement for Wiremock. Start by reading the docs: <a href=\"https://karatelabs.github.io/karate/karate-netty/\" rel=\"nofollow noreferrer\">https://karatelabs.github.io/karate/karate-netty/</a></p>\n"}],"owner":{"account_id":28956671,"reputation":11,"user_id":22180077,"display_name":"Bachar Daoud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688582302,"creation_date":1688570093,"question_id":76621736,"body_markdown":"Using karate I am realizing a real api request. How to mock these APIs that I am not using my real database? is using wiremock will resolve the problem or does karate have a way to mock the requests? \r\n\r\nJust I want to write an integration test using karate but I want to use a mocked APIs. I tried karate and heard about wiremock. \r\nWhat is your advise?","title":"How to mock APIs using karate","body":"<p>Using karate I am realizing a real api request. How to mock these APIs that I am not using my real database? is using wiremock will resolve the problem or does karate have a way to mock the requests?</p>\n<p>Just I want to write an integration test using karate but I want to use a mocked APIs. I tried karate and heard about wiremock.\nWhat is your advise?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","smtp","amazon-ecs"],"answers":[{"tags":[],"owner":{"account_id":28957847,"reputation":1,"user_id":22181026,"display_name":"solifidom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688582038,"creation_date":1688582038,"answer_id":76623152,"question_id":57078659,"body_markdown":"A response I got from AWS.\r\n\r\n\r\nIn response to your last correspondence, I understand that you you want to remove the restriction on port 25 from your ECS cluster. The internal team have looked into your query and found that currently Fargate infrastructure doesn&#39;t support Port# 25 (SMTP); and the existing workaround is to use EC2 launch type and then request for the Port #25 throttling to be removed in your account [1].\r\n","title":"Fargate: Sending email to private smtp server on port 25","body":"<p>A response I got from AWS.</p>\n<p>In response to your last correspondence, I understand that you you want to remove the restriction on port 25 from your ECS cluster. The internal team have looked into your query and found that currently Fargate infrastructure doesn't support Port# 25 (SMTP); and the existing workaround is to use EC2 launch type and then request for the Port #25 throttling to be removed in your account [1].</p>\n"}],"owner":{"account_id":8116336,"reputation":11,"user_id":6114718,"display_name":"tdk422n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1049,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688582038,"creation_date":1563374968,"question_id":57078659,"body_markdown":"I&#39;m using AWS Fargate as my container platform.  My container base image is openjdk:8-alpine and the application is a spring-boot app.  I&#39;m attempting to use JavaMailSender to send emails over a vpn tunnel to our internal SMTP server on port 25.  This works while testing the container locally, using the same SMTP server.\r\n\r\n\r\nI&#39;ve mainly used this guide https://www.baeldung.com/spring-email for the email functionality in my spring boot app.\r\n\r\nIf I add the following commands to the docker entrypoint I test hostname resolving and telnet connection.  The host and dig commands always work.  Sometimes telnet works and other times it will timeout, causing a re-deployment of the container.  When sending emails I see the same behavior.  Some emails will send while others fail due to a timeout connecting to the SMTP server.\r\n\r\n\r\n\r\n```docker\r\n## Dockerfile\r\n\r\nFROM openjdk:8-alpine\r\n\r\nCOPY core/target/app.jar /app/app.jar\r\n\r\nWORKDIR /app\r\n\r\nCMD CMD host $my_smtp_server \\\r\n       &amp;&amp; dig $my_smtp_server \\\r\n       &amp;&amp; telnet $my_smtp_server 25 \\\r\n       &amp;&amp; java -jar $app.jar\r\n\r\nEXPOSE 8080 25\r\n\r\n```\r\n\r\n```java\r\n## application.properties\r\n\r\n# Mail config\r\n#------------\r\nspring.mail.default-encoding=UTF-8\r\nspring.mail.host=$my_smtp_server\r\nspring.mail.port=25\r\nspring.mail.protocol=smtp\r\n\r\nspring.mail.properties.mail.smtp.starttls.enable=false\r\nspring.mail.properties.mail.smtp.starttls.required=false\r\nspring.mail.properties.mail.smtp.auth=false\r\nspring.mail.properties.mail.smtp.connectiontimeout=5000\r\nspring.mail.properties.mail.smtp.timeout=5000\r\nspring.mail.properties.mail.smtp.writetimeout=5000\r\n#------------\r\n```\r\n\r\nEmails should send every time I invoke the function in my application.","title":"Fargate: Sending email to private smtp server on port 25","body":"<p>I'm using AWS Fargate as my container platform.  My container base image is openjdk:8-alpine and the application is a spring-boot app.  I'm attempting to use JavaMailSender to send emails over a vpn tunnel to our internal SMTP server on port 25.  This works while testing the container locally, using the same SMTP server.</p>\n\n<p>I've mainly used this guide <a href=\"https://www.baeldung.com/spring-email\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-email</a> for the email functionality in my spring boot app.</p>\n\n<p>If I add the following commands to the docker entrypoint I test hostname resolving and telnet connection.  The host and dig commands always work.  Sometimes telnet works and other times it will timeout, causing a re-deployment of the container.  When sending emails I see the same behavior.  Some emails will send while others fail due to a timeout connecting to the SMTP server.</p>\n\n<pre><code>## Dockerfile\n\nFROM openjdk:8-alpine\n\nCOPY core/target/app.jar /app/app.jar\n\nWORKDIR /app\n\nCMD CMD host $my_smtp_server \\\n       &amp;&amp; dig $my_smtp_server \\\n       &amp;&amp; telnet $my_smtp_server 25 \\\n       &amp;&amp; java -jar $app.jar\n\nEXPOSE 8080 25\n\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>## application.properties\n\n# Mail config\n#------------\nspring.mail.default-encoding=UTF-8\nspring.mail.host=$my_smtp_server\nspring.mail.port=25\nspring.mail.protocol=smtp\n\nspring.mail.properties.mail.smtp.starttls.enable=false\nspring.mail.properties.mail.smtp.starttls.required=false\nspring.mail.properties.mail.smtp.auth=false\nspring.mail.properties.mail.smtp.connectiontimeout=5000\nspring.mail.properties.mail.smtp.timeout=5000\nspring.mail.properties.mail.smtp.writetimeout=5000\n#------------\n</code></pre>\n\n<p>Emails should send every time I invoke the function in my application.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688579916,"post_id":76622649,"comment_id":135093947,"body_markdown":"Show us the controller class with all annotations.","body":"Show us the controller class with all annotations."},{"owner":{"account_id":27893802,"reputation":41,"user_id":21299569,"display_name":"konda surekha"},"score":0,"creation_date":1688581685,"post_id":76622649,"comment_id":135094271,"body_markdown":"@Mar-Z added the complete controller class","body":"@Mar-Z added the complete controller class"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688582510,"post_id":76622649,"comment_id":135094450,"body_markdown":"It looks good. This should work with proper dependencies including Jackson JSON library.","body":"It looks good. This should work with proper dependencies including Jackson JSON library."}],"answers":[{"tags":[],"owner":{"account_id":10076508,"reputation":487,"user_id":7448439,"display_name":"srinivas chaitanya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688579674,"creation_date":1688579674,"answer_id":76622897,"question_id":76622649,"body_markdown":"I also faced a similar issue in the past. In my case problem was with `lombok`. I forgot to add `annotationProcessor` dependency along with `lombok`. Make sure to add appropriate dependency of `lombok` and `annotationProcessor`.[This][1] post might help you in adding right dependencies\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65380359/lomboks-access-to-jdk-compilers-internal-packages-incompatible-with-java-16","title":"Unable to bind values from JSON to Entity object in spring JPA","body":"<p>I also faced a similar issue in the past. In my case problem was with <code>lombok</code>. I forgot to add <code>annotationProcessor</code> dependency along with <code>lombok</code>. Make sure to add appropriate dependency of <code>lombok</code> and <code>annotationProcessor</code>.<a href=\"https://stackoverflow.com/questions/65380359/lomboks-access-to-jdk-compilers-internal-packages-incompatible-with-java-16\">This</a> post might help you in adding right dependencies</p>\n"}],"owner":{"account_id":27893802,"reputation":41,"user_id":21299569,"display_name":"konda surekha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688581649,"creation_date":1688577524,"question_id":76622649,"body_markdown":"I have a very simple application where I get `POST` request and save the JSON request to database.Here is my `Entity` object\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;PRODUCT_TBL&quot;)\r\n    @Entity\r\n    public class Product {\r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n        private String name;\r\n        private int quantity;\r\n        private  double price;\r\n    }\r\nHere is my controller \r\n\r\n    @RestController\r\n    public class ProductController {\r\n        @Autowired\r\n        ProductService productService;\r\n        @PostMapping(value = &quot;/save&quot;,consumes = MediaType.APPLICATION_JSON_VALUE)\r\n        public Product saveProduct(@RequestBody Product product){\r\n            System.out.println(product);//check whether properties are binded properly\r\n            return productService.saveProduct(product);\r\n        }\r\n    }\r\n\r\nHere is my sample post request\r\n\r\n    {\r\n     \r\n      &quot;name&quot;:&quot;moto&quot;,\r\n      &quot;quantity&quot;:5,\r\n      &quot;price&quot;:50.00\r\n    }\r\n\r\nBut whenever I am seeing the logs, they are binding to default values\r\n\r\n&gt; Product{name=&#39;null&#39;, quantity=0, price=0.0}\r\n\r\n","title":"Unable to bind values from JSON to Entity object in spring JPA","body":"<p>I have a very simple application where I get <code>POST</code> request and save the JSON request to database.Here is my <code>Entity</code> object</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;PRODUCT_TBL&quot;)\n@Entity\npublic class Product {\n    @Id\n    @GeneratedValue\n    private long id;\n    private String name;\n    private int quantity;\n    private  double price;\n}\n</code></pre>\n<p>Here is my controller</p>\n<pre><code>@RestController\npublic class ProductController {\n    @Autowired\n    ProductService productService;\n    @PostMapping(value = &quot;/save&quot;,consumes = MediaType.APPLICATION_JSON_VALUE)\n    public Product saveProduct(@RequestBody Product product){\n        System.out.println(product);//check whether properties are binded properly\n        return productService.saveProduct(product);\n    }\n}\n</code></pre>\n<p>Here is my sample post request</p>\n<pre><code>{\n \n  &quot;name&quot;:&quot;moto&quot;,\n  &quot;quantity&quot;:5,\n  &quot;price&quot;:50.00\n}\n</code></pre>\n<p>But whenever I am seeing the logs, they are binding to default values</p>\n<blockquote>\n<p>Product{name='null', quantity=0, price=0.0}</p>\n</blockquote>\n"},{"tags":["java","spring-boot","asynchronous","java-8"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1688626107,"post_id":76623031,"comment_id":135099306,"body_markdown":"Not clear. `entity` is returned by `persistLogin` and needed in return from `Login`...","body":"Not clear. <code>entity</code> is returned by <code>persistLogin</code> and needed in return from <code>Login</code>..."}],"answers":[{"tags":[],"owner":{"account_id":6528327,"reputation":84,"user_id":5050346,"display_name":"Chris Ebert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688581594,"creation_date":1688581594,"answer_id":76623097,"question_id":76623031,"body_markdown":"You can use an [executorService][1] and submit the persistence call as a lambda... it sounds like you mostly want to ignore the result (and assume it just worked).\r\nA more robust solution would be to enqueue a message for subsequent processing. This would require a message handling system... [Kafka][2], [message queue][3], something, that you could submit messages to and register handlers for... but it would make the semantics for failed calls clear and straightforward to handle.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\r\n  [2]: https://kafka.apache.org/\r\n  [3]: https://www.oracle.com/technical-resources/articles/java/intro-java-message-service.html","title":"How to call a method inside another method Asynchronously in java","body":"<p>You can use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">executorService</a> and submit the persistence call as a lambda... it sounds like you mostly want to ignore the result (and assume it just worked).\nA more robust solution would be to enqueue a message for subsequent processing. This would require a message handling system... <a href=\"https://kafka.apache.org/\" rel=\"nofollow noreferrer\">Kafka</a>, <a href=\"https://www.oracle.com/technical-resources/articles/java/intro-java-message-service.html\" rel=\"nofollow noreferrer\">message queue</a>, something, that you could submit messages to and register handlers for... but it would make the semantics for failed calls clear and straightforward to handle.</p>\n"}],"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688581594,"creation_date":1688580884,"question_id":76623031,"body_markdown":"I have a &quot;persistLogin&quot; method call inside a &quot;login&quot; method but I&#39;d like to get the response of the login method before the &quot;persistLogin&quot; method call executes. My question is:\r\nHOW DO I CALL THE &quot;PERSITLOGIN&quot; METHOD AFTER THE &quot;LOGIN&quot; METHOD? Thank you.\r\n\r\nNB: persitLogin method persists a user after they have already loggedin.\r\nLogin method: does validations and actually logs in a customer.\r\npersistLogin method in inside login method.\r\n\r\nThe code is below:\r\n\r\n    public LoginEventResponse Login(EventV2&lt;LoginEventDetails&gt; event) {\r\n        CustomerV2 customerV2 = null;\r\n        if (customerV2 == null)  {\r\n            throw new ApiException(&quot;Customer with federated id : &quot; + event.getFederatedId() + &quot; not found&quot;);\r\n        }\r\n\r\n        ***EventEntity entity = eventPersistenceService.persistLogin(customerV2, event);***\r\n        return eventMapper.mapToLoginEventResponseV2(entity, customerV2);\r\n    }","title":"How to call a method inside another method Asynchronously in java","body":"<p>I have a &quot;persistLogin&quot; method call inside a &quot;login&quot; method but I'd like to get the response of the login method before the &quot;persistLogin&quot; method call executes. My question is:\nHOW DO I CALL THE &quot;PERSITLOGIN&quot; METHOD AFTER THE &quot;LOGIN&quot; METHOD? Thank you.</p>\n<p>NB: persitLogin method persists a user after they have already loggedin.\nLogin method: does validations and actually logs in a customer.\npersistLogin method in inside login method.</p>\n<p>The code is below:</p>\n<pre><code>public LoginEventResponse Login(EventV2&lt;LoginEventDetails&gt; event) {\n    CustomerV2 customerV2 = null;\n    if (customerV2 == null)  {\n        throw new ApiException(&quot;Customer with federated id : &quot; + event.getFederatedId() + &quot; not found&quot;);\n    }\n\n    ***EventEntity entity = eventPersistenceService.persistLogin(customerV2, event);***\n    return eventMapper.mapToLoginEventResponseV2(entity, customerV2);\n}\n</code></pre>\n"},{"tags":["java","android","realm","parcelable"],"comments":[{"owner":{"account_id":353467,"reputation":383,"user_id":691168,"display_name":"Orgmir"},"score":0,"creation_date":1417451022,"post_id":27231259,"comment_id":42942041,"body_markdown":"Why are you trying to use Parcelable objects and Realm?","body":"Why are you trying to use Parcelable objects and Realm?"},{"owner":{"account_id":2206457,"reputation":13823,"user_id":1949554,"accept_rate":74,"display_name":"frankelot"},"score":1,"creation_date":1417451598,"post_id":27231259,"comment_id":42942364,"body_markdown":"Well, I use Pareclable to preserve objects upon configuration changes (device rotations), and Realm to store objects onto a db","body":"Well, I use Pareclable to preserve objects upon configuration changes (device rotations), and Realm to store objects onto a db"},{"owner":{"account_id":873009,"reputation":3380,"user_id":923441,"accept_rate":63,"display_name":"A. Steenbergen"},"score":1,"creation_date":1521621542,"post_id":27231259,"comment_id":85804285,"body_markdown":"Wouldn&#39;t it make more sense to just requery the database after a configuration change? This might even be faster, considering you are using RealmDB which comes with caching mechanisms.","body":"Wouldn&#39;t it make more sense to just requery the database after a configuration change? This might even be faster, considering you are using RealmDB which comes with caching mechanisms."}],"answers":[{"tags":[],"owner":{"account_id":1253566,"reputation":1651,"user_id":1213485,"display_name":"Emanuelez"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1417599246,"creation_date":1417599246,"answer_id":27268065,"question_id":27231259,"body_markdown":"It&#39;s not possible at the moment to implement Parcelable on RealmObjects.\r\nOne solution is to Use two realm files: the default one as your object store and a specialized one for temporary saves for rotations etc. ","title":"RealmObject AND Parcelable","body":"<p>It's not possible at the moment to implement Parcelable on RealmObjects.\nOne solution is to Use two realm files: the default one as your object store and a specialized one for temporary saves for rotations etc. </p>\n"},{"tags":[],"owner":{"account_id":236846,"reputation":10241,"user_id":504611,"accept_rate":88,"display_name":"Vicky Chijwani"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1464355688,"creation_date":1429387514,"answer_id":29722198,"question_id":27231259,"body_markdown":"**UPDATE May 2016:** This is answer is now out-dated unless you already use Parceler. @Henrique de Sousa&#39;s solution is much better.\n\n* * * *\n\nActually, there is a workaround. You can get the result you want if you&#39;re willing to use a third-party library (Parceler) for `Parcelable` generation. See [my answer to this other question](https://stackoverflow.com/a/29689104/504611), quoted below for convenience.\n\n&gt; With [Parceler v0.2.16](https://github.com/johncarl81/parceler/issues/57#issuecomment-70130449), you can do this:\n&gt;\n&gt; &lt;!-- language: java --&gt;\n&gt;\n&gt;     @RealmClass      // required if using JDK 1.6 (unrelated to Parceler issue)\n&gt;     @Parcel(value = Parcel.Serialization.BEAN, analyze = { Feed.class })\n&gt;     public class Feed extends RealmObject {\n&gt;         // ...\n&gt;     }\n&gt;\n&gt; Then, use `Parcels.wrap(Feed.class, feed)` instead of `Parcels.wrap(feed)` everywhere, otherwise your app will crash with `org.parceler.ParcelerRuntimeException: Unable to create ParcelableFactory for io.realm.FeedRealmProxy`.","title":"RealmObject AND Parcelable","body":"<p><strong>UPDATE May 2016:</strong> This is answer is now out-dated unless you already use Parceler. @Henrique de Sousa's solution is much better.</p>\n<hr />\n<p>Actually, there is a workaround. You can get the result you want if you're willing to use a third-party library (Parceler) for <code>Parcelable</code> generation. See <a href=\"https://stackoverflow.com/a/29689104/504611\">my answer to this other question</a>, quoted below for convenience.</p>\n<blockquote>\n<p>With <a href=\"https://github.com/johncarl81/parceler/issues/57#issuecomment-70130449\" rel=\"nofollow noreferrer\">Parceler v0.2.16</a>, you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RealmClass      // required if using JDK 1.6 (unrelated to Parceler issue)\n@Parcel(value = Parcel.Serialization.BEAN, analyze = { Feed.class })\npublic class Feed extends RealmObject {\n    // ...\n}\n</code></pre>\n<p>Then, use <code>Parcels.wrap(Feed.class, feed)</code> instead of <code>Parcels.wrap(feed)</code> everywhere, otherwise your app will crash with <code>org.parceler.ParcelerRuntimeException: Unable to create ParcelableFactory for io.realm.FeedRealmProxy</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1520694,"reputation":5745,"user_id":1420441,"accept_rate":100,"display_name":"Henrique de Sousa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1688563422,"creation_date":1463762451,"answer_id":37351767,"question_id":27231259,"body_markdown":"Now there&#39;s a different workaround for that: just implement the `RealmModel` interface instead of extending from `RealmObject`:\r\n\r\n    @RealmClass\r\n    public class User implements RealmModel {\r\n    \r\n    }\r\n\r\nYou can find more information in the [Realm Documentation][1].\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/realm-sdks/java/latest/io/realm/RealmModel.html","title":"RealmObject AND Parcelable","body":"<p>Now there's a different workaround for that: just implement the <code>RealmModel</code> interface instead of extending from <code>RealmObject</code>:</p>\n<pre><code>@RealmClass\npublic class User implements RealmModel {\n\n}\n</code></pre>\n<p>You can find more information in the <a href=\"https://www.mongodb.com/docs/realm-sdks/java/latest/io/realm/RealmModel.html\" rel=\"nofollow noreferrer\">Realm Documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":462762,"reputation":2116,"user_id":865249,"accept_rate":54,"display_name":"Ricardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552393831,"creation_date":1552393831,"answer_id":55121532,"question_id":27231259,"body_markdown":"Solution with Kotlin:\r\n\r\n    import io.realm.com_labtest_di_model_EntryRealmProxy\r\n    import org.parceler.Parcel\r\n    \r\n    \r\n    @RealmClass\r\n    @Parcel(implementations = arrayOf(com_labtest_di_model_EntryRealmProxy::class),\r\n        value = org.parceler.Parcel.Serialization.BEAN,\r\n        analyze = arrayOf(Movie::class))\r\n    open class Entry() : RealmObject() {\r\n    ...","title":"RealmObject AND Parcelable","body":"<p>Solution with Kotlin:</p>\n\n<pre><code>import io.realm.com_labtest_di_model_EntryRealmProxy\nimport org.parceler.Parcel\n\n\n@RealmClass\n@Parcel(implementations = arrayOf(com_labtest_di_model_EntryRealmProxy::class),\n    value = org.parceler.Parcel.Serialization.BEAN,\n    analyze = arrayOf(Movie::class))\nopen class Entry() : RealmObject() {\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7247473,"reputation":575,"user_id":6402604,"display_name":"Milan Jurkulak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627823823,"creation_date":1627823509,"answer_id":68610739,"question_id":27231259,"body_markdown":"Parceler does not work in android x.\r\nYou can use this:\r\n\r\n    class ExParcelable @JvmOverloads constructor(data: Any? = null) : Parcelable {\r\n        var cls: String? = null\r\n        var json: String? = null\r\n    \r\n        init {\r\n            if (data is Parcel) {\r\n                cls = data.readString()\r\n                json = data.readString()\r\n            } else {\r\n                cls = data?.let { it::class.java }?.canonicalName\r\n                json = Gson().toJson(data)\r\n            }\r\n        }\r\n    \r\n        override fun writeToParcel(parcel: Parcel, flags: Int) {\r\n            parcel.writeString(cls)\r\n            parcel.writeString(json)\r\n        }\r\n    \r\n        override fun describeContents(): Int {\r\n            return 0\r\n        }\r\n    \r\n        fun value(): Any? {\r\n            return Gson().fromJson(this.json, Class.forName(this.cls))\r\n        }\r\n    \r\n        companion object CREATOR : Creator&lt;ExParcelable&gt; {\r\n            override fun createFromParcel(parcel: Parcel): ExParcelable {\r\n                return ExParcelable(parcel)\r\n            }\r\n    \r\n            override fun newArray(size: Int): Array&lt;ExParcelable?&gt; {\r\n                return arrayOfNulls(size)\r\n            }\r\n        }\r\n    }\r\n\r\nand :\r\n\r\n    inline fun &lt;reified T : Any?&gt; Intent.extra(key: String): T? {\r\n        var value = extras?.get(key)\r\n        if (value is ExParcelable) {\r\n            value = value.value()\r\n        } else if (T::class == Uri::class) {\r\n            if (value is String) {\r\n                value = value.toUri()\r\n            }\r\n        } else if (T::class == String::class) {\r\n            if (value is Uri) {\r\n                value = value.toString()\r\n            }\r\n        }\r\n        return value as T?\r\n    }\r\n    \r\n    inline fun &lt;reified T : Any?&gt; Intent.extra(key: String, value: T?) {\r\n        when (value) {\r\n            null -&gt; {\r\n                // no op\r\n            }\r\n            is Uri -&gt; putExtra(key, value.toString())\r\n            is Boolean -&gt; putExtra(key, value)\r\n            is BooleanArray -&gt; putExtra(key, value)\r\n            is Byte -&gt; putExtra(key, value)\r\n            is ByteArray -&gt; putExtra(key, value)\r\n            is Char -&gt; putExtra(key, value)\r\n            is CharArray -&gt; putExtra(key, value)\r\n            is Short -&gt; putExtra(key, value)\r\n            is ShortArray -&gt; putExtra(key, value)\r\n            is Int -&gt; putExtra(key, value)\r\n            is IntArray -&gt; putExtra(key, value)\r\n            is Long -&gt; putExtra(key, value)\r\n            is LongArray -&gt; putExtra(key, value)\r\n            is Float -&gt; putExtra(key, value)\r\n            is FloatArray -&gt; putExtra(key, value)\r\n            is Double -&gt; putExtra(key, value)\r\n            is DoubleArray -&gt; putExtra(key, value)\r\n            is Date -&gt; putExtra(key, value)\r\n            is Bundle -&gt; putExtra(key, value)\r\n            is Parcelable -&gt; putExtra(key, value)\r\n            is Serializable -&gt; putExtra(key, value)\r\n            is RealmObject -&gt; putExtra(key, ExParcelable(value.get()))\r\n            else -&gt; putExtra(key, ExParcelable(value))\r\n        }\r\n    }\r\n\r\nand use it like this:\r\n\r\n    new Intent().apply{\r\n        extra(&quot;test&quot;, realmObject)\r\n    }\r\n\r\nand :\r\n\r\n    intent.extra(&quot;test&quot;)\r\n\r\n","title":"RealmObject AND Parcelable","body":"<p>Parceler does not work in android x.\nYou can use this:</p>\n<pre><code>class ExParcelable @JvmOverloads constructor(data: Any? = null) : Parcelable {\n    var cls: String? = null\n    var json: String? = null\n\n    init {\n        if (data is Parcel) {\n            cls = data.readString()\n            json = data.readString()\n        } else {\n            cls = data?.let { it::class.java }?.canonicalName\n            json = Gson().toJson(data)\n        }\n    }\n\n    override fun writeToParcel(parcel: Parcel, flags: Int) {\n        parcel.writeString(cls)\n        parcel.writeString(json)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    fun value(): Any? {\n        return Gson().fromJson(this.json, Class.forName(this.cls))\n    }\n\n    companion object CREATOR : Creator&lt;ExParcelable&gt; {\n        override fun createFromParcel(parcel: Parcel): ExParcelable {\n            return ExParcelable(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;ExParcelable?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n<p>and :</p>\n<pre><code>inline fun &lt;reified T : Any?&gt; Intent.extra(key: String): T? {\n    var value = extras?.get(key)\n    if (value is ExParcelable) {\n        value = value.value()\n    } else if (T::class == Uri::class) {\n        if (value is String) {\n            value = value.toUri()\n        }\n    } else if (T::class == String::class) {\n        if (value is Uri) {\n            value = value.toString()\n        }\n    }\n    return value as T?\n}\n\ninline fun &lt;reified T : Any?&gt; Intent.extra(key: String, value: T?) {\n    when (value) {\n        null -&gt; {\n            // no op\n        }\n        is Uri -&gt; putExtra(key, value.toString())\n        is Boolean -&gt; putExtra(key, value)\n        is BooleanArray -&gt; putExtra(key, value)\n        is Byte -&gt; putExtra(key, value)\n        is ByteArray -&gt; putExtra(key, value)\n        is Char -&gt; putExtra(key, value)\n        is CharArray -&gt; putExtra(key, value)\n        is Short -&gt; putExtra(key, value)\n        is ShortArray -&gt; putExtra(key, value)\n        is Int -&gt; putExtra(key, value)\n        is IntArray -&gt; putExtra(key, value)\n        is Long -&gt; putExtra(key, value)\n        is LongArray -&gt; putExtra(key, value)\n        is Float -&gt; putExtra(key, value)\n        is FloatArray -&gt; putExtra(key, value)\n        is Double -&gt; putExtra(key, value)\n        is DoubleArray -&gt; putExtra(key, value)\n        is Date -&gt; putExtra(key, value)\n        is Bundle -&gt; putExtra(key, value)\n        is Parcelable -&gt; putExtra(key, value)\n        is Serializable -&gt; putExtra(key, value)\n        is RealmObject -&gt; putExtra(key, ExParcelable(value.get()))\n        else -&gt; putExtra(key, ExParcelable(value))\n    }\n}\n</code></pre>\n<p>and use it like this:</p>\n<pre><code>new Intent().apply{\n    extra(&quot;test&quot;, realmObject)\n}\n</code></pre>\n<p>and :</p>\n<pre><code>intent.extra(&quot;test&quot;)\n</code></pre>\n"}],"owner":{"account_id":2206457,"reputation":13823,"user_id":1949554,"accept_rate":74,"display_name":"frankelot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8705,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37351767,"answer_count":5,"score":8,"last_activity_date":1688581159,"creation_date":1417446338,"question_id":27231259,"body_markdown":"Using Realm for Android I have a class:\r\n\r\n    public class Entry extends RealmObject implements Parcelable {\r\n        ...\r\n    }\r\n\r\n`Parcelable` interface contains methods like `describeContents()`, `writeToParcel()` and RealmObjects aren&#39;t supposed to have methods other than getters and setters:\r\n\r\n&gt; Error:(81, 17) error: Only getters and setters should be defined in model classes\r\n\r\nHow can I make these two work together? Is there a better way than creating an separate class (maybe something like `RealmEntry`)? Doing so would result in a lot of duplicated code.","title":"RealmObject AND Parcelable","body":"<p>Using Realm for Android I have a class:</p>\n<pre><code>public class Entry extends RealmObject implements Parcelable {\n    ...\n}\n</code></pre>\n<p><code>Parcelable</code> interface contains methods like <code>describeContents()</code>, <code>writeToParcel()</code> and RealmObjects aren't supposed to have methods other than getters and setters:</p>\n<blockquote>\n<p>Error:(81, 17) error: Only getters and setters should be defined in model classes</p>\n</blockquote>\n<p>How can I make these two work together? Is there a better way than creating an separate class (maybe something like <code>RealmEntry</code>)? Doing so would result in a lot of duplicated code.</p>\n"},{"tags":["java","jquery","angularjs"],"comments":[{"owner":{"account_id":5012424,"reputation":1710,"user_id":4028303,"accept_rate":65,"display_name":"Jacob Stamm"},"score":0,"creation_date":1646061245,"post_id":71276006,"comment_id":126025217,"body_markdown":"Are the contents of your `command-bar` directive fully rendering and not producing a console error?","body":"Are the contents of your <code>command-bar</code> directive fully rendering and not producing a console error?"},{"owner":{"account_id":5463649,"reputation":69,"user_id":4345006,"display_name":"Гончаренко Александр"},"score":0,"creation_date":1646371842,"post_id":71276006,"comment_id":126111398,"body_markdown":"Hi Jacob! No there are no. I&#39;ve commented everything in command-bar, left there &lt;p&gt;Hello&lt;/p&gt; and it&#39;s not shown.","body":"Hi Jacob! No there are no. I&#39;ve commented everything in command-bar, left there &lt;p&gt;Hello&lt;/p&gt; and it&#39;s not shown."}],"answers":[{"tags":[],"owner":{"account_id":5463649,"reputation":69,"user_id":4345006,"display_name":"Гончаренко Александр"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656747060,"creation_date":1656747060,"answer_id":72837294,"question_id":71276006,"body_markdown":"Finally found the problem. It seems to me that Angular doesn&#39;t correctly recognize the short form of tags. After I changed &quot;\\&lt;command-bar/&gt;&quot; to &quot;\\&lt;command-bar&gt;\\&lt;/command-bar&gt;&quot; everything worked.","title":"AngularJS 1.8.0 and Jquery 3.6.0 compatibility problem","body":"<p>Finally found the problem. It seems to me that Angular doesn't correctly recognize the short form of tags. After I changed &quot;&lt;command-bar/&gt;&quot; to &quot;&lt;command-bar&gt;&lt;/command-bar&gt;&quot; everything worked.</p>\n"},{"tags":[],"owner":{"account_id":28957700,"reputation":11,"user_id":22180910,"display_name":"Dieliko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688581076,"creation_date":1688580350,"answer_id":76622972,"question_id":71276006,"body_markdown":"See Angularjs docs: https://docs.angularjs.org/guide/migration#migrating-from-1-7-to-1-8\r\n&gt; JqLite no longer turns XHTML-like strings like &lt;div /&gt;&lt;span /&gt; to sibling elements when not in XHTML mode: &lt;div&gt;&lt;/div&gt;&lt;span&gt;&lt;/span&gt;. Instead it will leave the elements alone. In non-XHTML mode the browser will convert these to nested elements: &lt;div&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;.\r\n\r\n    angular.UNSAFE_restoreLegacyJqLiteXHTMLReplacement();\r\n\r\nor JQuery: https://jquery.com/upgrade-guide/3.5/\r\n\r\n&gt; jQuery.migrateEnablePatches( &quot;self-closed-tags&quot; );","title":"AngularJS 1.8.0 and Jquery 3.6.0 compatibility problem","body":"<p>See Angularjs docs: <a href=\"https://docs.angularjs.org/guide/migration#migrating-from-1-7-to-1-8\" rel=\"nofollow noreferrer\">https://docs.angularjs.org/guide/migration#migrating-from-1-7-to-1-8</a></p>\n<blockquote>\n<p>JqLite no longer turns XHTML-like strings like  to sibling elements when not in XHTML mode: . Instead it will leave the elements alone. In non-XHTML mode the browser will convert these to nested elements: .</p>\n</blockquote>\n<pre><code>angular.UNSAFE_restoreLegacyJqLiteXHTMLReplacement();\n</code></pre>\n<p>or JQuery: <a href=\"https://jquery.com/upgrade-guide/3.5/\" rel=\"nofollow noreferrer\">https://jquery.com/upgrade-guide/3.5/</a></p>\n<blockquote>\n<p>jQuery.migrateEnablePatches( &quot;self-closed-tags&quot; );</p>\n</blockquote>\n"}],"owner":{"account_id":5463649,"reputation":69,"user_id":4345006,"display_name":"Гончаренко Александр"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72837294,"answer_count":2,"score":2,"last_activity_date":1688581076,"creation_date":1645872300,"question_id":71276006,"body_markdown":"I have java web project application, using Angular 1.8.0 and JQuery 1.12.2. It&#39;s working fine. Despite the fact that Angular 1.8.0 should maintain JQuery 3.6.0,  when I update JQuery to 3.6.0 all that&#39;s placed after &quot;command-bar&quot; directive is not shown:\r\n\r\n    ...\r\n    &lt;div ng-if=&quot;home.showGrid&quot; class=&quot;container-fluid ms-font-m&quot;&gt;\r\n      &lt;command-bar/&gt;\r\n      &lt;!-- the next part is not shown --&gt;\r\n      &lt;div id=&quot;homeGrid&quot; ui-grid=&quot;home.gridOptions&quot; ui-grid-save-state ui-grid-auto-resize ui-grid-edit ui-grid-selection ui-grid-pinning ui-grid-resize-columns ui-grid-pagination class=&quot;grid&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    ...\r\nIf I place the div with &quot;homeGrid&quot; id before &quot;command-bar&quot; then it&#39;s shown.\r\n\r\nAlso I&#39;ve tried to create new AngularJs directive with &quot;\\&lt;div&gt;Hello\\&lt;/div&gt;&quot; only and empty controller, replaced command bar with it and it&#39;s not shown also.\r\n\r\nIf i&#39;m trying to force Angular to use JQlite with ng-jq it&#39;s even worse, template is totally crashed and there are third party components that need JQuery in assets folder anyway.\r\n\r\nPlease advise what could be the solution and what steps I need to do to find the root of the problem?","title":"AngularJS 1.8.0 and Jquery 3.6.0 compatibility problem","body":"<p>I have java web project application, using Angular 1.8.0 and JQuery 1.12.2. It's working fine. Despite the fact that Angular 1.8.0 should maintain JQuery 3.6.0,  when I update JQuery to 3.6.0 all that's placed after &quot;command-bar&quot; directive is not shown:</p>\n<pre><code>...\n&lt;div ng-if=&quot;home.showGrid&quot; class=&quot;container-fluid ms-font-m&quot;&gt;\n  &lt;command-bar/&gt;\n  &lt;!-- the next part is not shown --&gt;\n  &lt;div id=&quot;homeGrid&quot; ui-grid=&quot;home.gridOptions&quot; ui-grid-save-state ui-grid-auto-resize ui-grid-edit ui-grid-selection ui-grid-pinning ui-grid-resize-columns ui-grid-pagination class=&quot;grid&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n...\n</code></pre>\n<p>If I place the div with &quot;homeGrid&quot; id before &quot;command-bar&quot; then it's shown.</p>\n<p>Also I've tried to create new AngularJs directive with &quot;&lt;div&gt;Hello&lt;/div&gt;&quot; only and empty controller, replaced command bar with it and it's not shown also.</p>\n<p>If i'm trying to force Angular to use JQlite with ng-jq it's even worse, template is totally crashed and there are third party components that need JQuery in assets folder anyway.</p>\n<p>Please advise what could be the solution and what steps I need to do to find the root of the problem?</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413484756,"creation_date":1413484756,"answer_id":26411579,"question_id":26409731,"body_markdown":"I can&#39;t explain the specific error you get (I would maybe have to see more of the code).  But there is definitely a coding error in the test.  Right before you invoke `updateContractStatus()`, you tell the mock to thrown an exception whenever this method is called with any string value.  Therefore, you will never get the return value assigned and will never reach the assert statement.\r\n\r\nAlso because I can&#39;t see all of your code I am just guessing, but based on the posted error help message, you might try changing the stubbing of your spy class to the form:\r\n\r\n    doReturn(true).when(echoSignDocumentService).updateContractStatus(anyString());","title":"Mockito throwing WrongTypeOfReturnValue","body":"<p>I can't explain the specific error you get (I would maybe have to see more of the code).  But there is definitely a coding error in the test.  Right before you invoke <code>updateContractStatus()</code>, you tell the mock to thrown an exception whenever this method is called with any string value.  Therefore, you will never get the return value assigned and will never reach the assert statement.</p>\n\n<p>Also because I can't see all of your code I am just guessing, but based on the posted error help message, you might try changing the stubbing of your spy class to the form:</p>\n\n<pre><code>doReturn(true).when(echoSignDocumentService).updateContractStatus(anyString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":244548,"reputation":4557,"user_id":517450,"display_name":"Radu Simionescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524243956,"creation_date":1524243956,"answer_id":49946607,"question_id":26409731,"body_markdown":"you are clearly in the second case of the error message: you are stubbing a spy (echoSignDocumentService) with the when-then instead of the doReturn-when syntax","title":"Mockito throwing WrongTypeOfReturnValue","body":"<p>you are clearly in the second case of the error message: you are stubbing a spy (echoSignDocumentService) with the when-then instead of the doReturn-when syntax</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526486045,"creation_date":1526486045,"answer_id":50375268,"question_id":26409731,"body_markdown":"In my case I forgot to write `eq()`:\r\n \r\n    given(repository.getTitle(eq(variable))).willReturn(title)","title":"Mockito throwing WrongTypeOfReturnValue","body":"<p>In my case I forgot to write <code>eq()</code>:</p>\n\n<pre><code>given(repository.getTitle(eq(variable))).willReturn(title)\n</code></pre>\n"}],"owner":{"account_id":2395331,"reputation":81,"user_id":2094236,"accept_rate":0,"display_name":"Kishore Desu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19557,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1688580982,"creation_date":1413478050,"question_id":26409731,"body_markdown":"Logic in implementation class is as shown below, I tried to write a mock and get exception as WrongTypeOfReturnValue\r\n\r\n  \r\n\r\n      /**\r\n         * update audit and courier log when Provider sign the document.\r\n         * @param cmsCourierInfo\r\n         * @param documentInfo\r\n         * @throws Exception\r\n         */\r\n        public boolean doAuditProviderESignCompletion(CMSCourierInfo cmsCourierInfo, DocumentInfo documentInfo) throws  Exception {\r\n    \r\n            String signerTitle = &quot;&quot;;\r\n            List&lt;ParticipantInfo&gt; participantInfos = documentInfo.getParticipants().getParticipantInfo();\r\n            //First participant is Provider\r\n            ParticipantInfo participantInfo = participantInfos.get(0);\r\n    \r\n            if(StringUtils.isNotEmpty(participantInfo.getTitle())){\r\n                signerTitle = participantInfo.getTitle();\r\n            }\r\n            //update audit log with provider signed information\r\n            CMSCourierContractManager.signContract(cmsCourierInfo.getGuidString(), participantInfo.getName(), signerTitle, null);\r\n    \r\n            //update audit log when document sent to Internal Signer\r\n            return doAuditSentForInternalSigner(cmsCourierInfo.getDocumentKey(), documentInfo);\r\n        }\r\n\r\n\r\n\r\nTest \r\n\r\n       @Test\r\n       public void testUpdateContractStatus() throws Exception{\r\n    \r\n            String documentKey = &quot;TestKey&quot;;\r\n            cmsCourierInfo = mock(CMSCourierInfo.class);\r\n            when(cmsFactoryManager.findCourier(anyString())).thenReturn(cmsCourierInfo);\r\n            EchoSignDocumentServiceImpl echoSignDocumentService = spy(documentService);\r\n            when(echoSignDocumentService.updateContractStatus(anyString())).thenReturn(true);\r\n    \r\n            doThrow(new RuntimeException()).when(echoSignDocumentService).updateContractStatus(anyString());\r\n            boolean status = echoSignDocumentService.updateContractStatus(documentKey);\r\n            Assert.assertEquals(true, status);\r\n        }\r\n\r\n\r\nError that I get is \r\n\r\n    org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\n    Boolean cannot be returned by findCourier()\r\n    findCourier() should return CMSCourierInfo\r\n    ***\r\n\r\n    If you&#39;re unsure why you&#39;re getting above error read on.\r\n    Due to the nature of the syntax above problem might occur because:\r\n    1. This exception *might* occur in wrongly written multi-threaded tests.\r\n       Please refer to Mockito FAQ on limitations of concurrency testing.\r\n    2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n       - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n\r\n               \r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:160)\r\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:74)\r\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:211)\r\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:67)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\n\r\n\r\nSome inputs will be of great help","title":"Mockito throwing WrongTypeOfReturnValue","body":"<p>Logic in implementation class is as shown below, I tried to write a mock and get exception as WrongTypeOfReturnValue</p>\n\n<pre><code>  /**\n     * update audit and courier log when Provider sign the document.\n     * @param cmsCourierInfo\n     * @param documentInfo\n     * @throws Exception\n     */\n    public boolean doAuditProviderESignCompletion(CMSCourierInfo cmsCourierInfo, DocumentInfo documentInfo) throws  Exception {\n\n        String signerTitle = \"\";\n        List&lt;ParticipantInfo&gt; participantInfos = documentInfo.getParticipants().getParticipantInfo();\n        //First participant is Provider\n        ParticipantInfo participantInfo = participantInfos.get(0);\n\n        if(StringUtils.isNotEmpty(participantInfo.getTitle())){\n            signerTitle = participantInfo.getTitle();\n        }\n        //update audit log with provider signed information\n        CMSCourierContractManager.signContract(cmsCourierInfo.getGuidString(), participantInfo.getName(), signerTitle, null);\n\n        //update audit log when document sent to Internal Signer\n        return doAuditSentForInternalSigner(cmsCourierInfo.getDocumentKey(), documentInfo);\n    }\n</code></pre>\n\n<p>Test </p>\n\n<pre><code>   @Test\n   public void testUpdateContractStatus() throws Exception{\n\n        String documentKey = \"TestKey\";\n        cmsCourierInfo = mock(CMSCourierInfo.class);\n        when(cmsFactoryManager.findCourier(anyString())).thenReturn(cmsCourierInfo);\n        EchoSignDocumentServiceImpl echoSignDocumentService = spy(documentService);\n        when(echoSignDocumentService.updateContractStatus(anyString())).thenReturn(true);\n\n        doThrow(new RuntimeException()).when(echoSignDocumentService).updateContractStatus(anyString());\n        boolean status = echoSignDocumentService.updateContractStatus(documentKey);\n        Assert.assertEquals(true, status);\n    }\n</code></pre>\n\n<p>Error that I get is </p>\n\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nBoolean cannot be returned by findCourier()\nfindCourier() should return CMSCourierInfo\n***\n\nIf you're unsure why you're getting above error read on.\nDue to the nature of the syntax above problem might occur because:\n1. This exception *might* occur in wrongly written multi-threaded tests.\n   Please refer to Mockito FAQ on limitations of concurrency testing.\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\n\n\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:74)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:211)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:67)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\n</code></pre>\n\n<p>Some inputs will be of great help</p>\n"},{"tags":["java","spring","rest","http"],"comments":[{"owner":{"account_id":9592064,"reputation":5123,"user_id":7122593,"accept_rate":78,"display_name":"Barath"},"score":0,"creation_date":1502202063,"post_id":45570798,"comment_id":78101082,"body_markdown":"try with postman or ARC first against the endpoint and then check with the code","body":"try with postman or ARC first against the endpoint and then check with the code"},{"owner":{"account_id":6704662,"reputation":363,"user_id":5170089,"accept_rate":80,"display_name":"Antonio682"},"score":0,"creation_date":1502202406,"post_id":45570798,"comment_id":78101361,"body_markdown":"As I said in the previous post in Postman works perfectly that&#39;s the weird for me. Thanks for your response","body":"As I said in the previous post in Postman works perfectly that&#39;s the weird for me. Thanks for your response"},{"owner":{"account_id":9592064,"reputation":5123,"user_id":7122593,"accept_rate":78,"display_name":"Barath"},"score":0,"creation_date":1502202694,"post_id":45570798,"comment_id":78101581,"body_markdown":"Without much information we can&amp;amp;#39;t do anything .. your usage is right. Might be u can share some url just to ensure everything is right or share the working postman one sample screenshot would do.","body":"Without much information we can&amp;amp;#39;t do anything .. your usage is right. Might be u can share some url just to ensure everything is right or share the working postman one sample screenshot would do."}],"answers":[{"tags":[],"owner":{"account_id":6704662,"reputation":363,"user_id":5170089,"accept_rate":80,"display_name":"Antonio682"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1502263909,"creation_date":1502263909,"answer_id":45584270,"question_id":45570798,"body_markdown":"You were right Barath the usage is correct. The problem was that UriComponentBuilder was including a blank space at the en of the URL.\r\n\r\nI&#39;ve fixed it with a trim.\r\n\r\n&lt;pre&gt;\r\nString queryUrl = UriComponentsBuilder.fromUriString(HOST)\r\n                .path(PATH)\r\n                .buildAndExpand(param)\r\n                .toUriString().trim();\r\n&lt;/pre&gt;","title":"Spring RestTemplate getForObject getting 404","body":"<p>You were right Barath the usage is correct. The problem was that UriComponentBuilder was including a blank space at the en of the URL.</p>\n\n<p>I've fixed it with a trim.</p>\n\n<pre>\nString queryUrl = UriComponentsBuilder.fromUriString(HOST)\n                .path(PATH)\n                .buildAndExpand(param)\n                .toUriString().trim();\n</pre>\n"},{"tags":[],"owner":{"account_id":353915,"reputation":1686,"user_id":691928,"accept_rate":60,"display_name":"mohsen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556233948,"creation_date":1556233948,"answer_id":55858761,"question_id":45570798,"body_markdown":"This took me a bit to figure out, so I&#39;ll leave a little note here hoping one day it helps someone.\r\nI kept getting a 404 when making a get request with ResTemplate.getForEntity(URL, Type).  The URL worked in Chrome, Postman, but not in my code.\r\nIt ended up being because I had an [unsafe character][1] in my URL, an % to be exact, because my URL had spaces and so instead of space the URL had %20.  Postman and Chrome could handle this, but not my code.  Once I replaced the unsafe character with an actual space all was well.\r\n\r\nHope it works out for you too.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/497972/691928","title":"Spring RestTemplate getForObject getting 404","body":"<p>This took me a bit to figure out, so I'll leave a little note here hoping one day it helps someone.\nI kept getting a 404 when making a get request with ResTemplate.getForEntity(URL, Type).  The URL worked in Chrome, Postman, but not in my code.\nIt ended up being because I had an <a href=\"https://stackoverflow.com/a/497972/691928\">unsafe character</a> in my URL, an % to be exact, because my URL had spaces and so instead of space the URL had %20.  Postman and Chrome could handle this, but not my code.  Once I replaced the unsafe character with an actual space all was well.</p>\n\n<p>Hope it works out for you too.</p>\n"},{"tags":[],"owner":{"account_id":19262487,"reputation":11,"user_id":14078048,"display_name":"yiyun yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615798490,"creation_date":1615798490,"answer_id":66634930,"question_id":45570798,"body_markdown":"When your url contains &quot;%&quot;, then you shoud use restTemplate.getForObject(new URI(url),xx.class), it worked for me.","title":"Spring RestTemplate getForObject getting 404","body":"<p>When your url contains &quot;%&quot;, then you shoud use restTemplate.getForObject(new URI(url),xx.class), it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":5238862,"reputation":33,"user_id":4186598,"display_name":"kumartj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688580866,"creation_date":1688580866,"answer_id":76623027,"question_id":45570798,"body_markdown":"I was also facing the same issue for me the issue was not the encoded path but another application (nodeJS) was running on the same port. ","title":"Spring RestTemplate getForObject getting 404","body":"<p>I was also facing the same issue for me the issue was not the encoded path but another application (nodeJS) was running on the same port.</p>\n"}],"owner":{"account_id":6704662,"reputation":363,"user_id":5170089,"accept_rate":80,"display_name":"Antonio682"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5152,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45584270,"answer_count":4,"score":3,"last_activity_date":1688580866,"creation_date":1502201777,"question_id":45570798,"body_markdown":"I&#39;m trying to make a get request to an Api Rest but I&#39;m always getting 404, nevertheless if try copying  queryUrl  in a browser or postMan it works perfectly.\r\n\r\n&lt;pre&gt;restTemplate.getForObject(queryUrl, entity ,Integer.class);\r\n&lt;/pre&gt;\r\n\r\nI&#39;ve also tried this:\r\n\r\n&lt;pre&gt;\r\nHttpHeaders httpHeaders = new HttpHeaders();\r\nhttpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\nHttpEntity entity = new HttpEntity(httpHeaders);\r\nlog.debug(&quot;request headers: &quot; + entity.getHeaders());\r\nResponseEntity&lt;String&gt; response = restTemplate.exchange(queryUrl, \r\nHttpMethod.GET, entity, String.class);\r\n&lt;/pre&gt;\r\n\r\nBut nothing changes. \r\nCan anyone help me?\r\n\r\n ","title":"Spring RestTemplate getForObject getting 404","body":"<p>I'm trying to make a get request to an Api Rest but I'm always getting 404, nevertheless if try copying  queryUrl  in a browser or postMan it works perfectly.</p>\n\n<pre>restTemplate.getForObject(queryUrl, entity ,Integer.class);\n</pre>\n\n<p>I've also tried this:</p>\n\n<pre>\nHttpHeaders httpHeaders = new HttpHeaders();\nhttpHeaders.setContentType(MediaType.APPLICATION_JSON);\nHttpEntity entity = new HttpEntity(httpHeaders);\nlog.debug(\"request headers: \" + entity.getHeaders());\nResponseEntity response = restTemplate.exchange(queryUrl, \nHttpMethod.GET, entity, String.class);\n</pre>\n\n<p>But nothing changes. \nCan anyone help me?</p>\n"},{"tags":["java","vaadin","pom.xml"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1688623071,"post_id":76622450,"comment_id":135098816,"body_markdown":"Assuming you had no problems with e.g. the spring deps: If you have problems with the CAs for maven.vaadin.com, you could try to comment out the repo in your pom. Unless you need something from the directory (the searchable addons from their page are served from there).","body":"Assuming you had no problems with e.g. the spring deps: If you have problems with the CAs for maven.vaadin.com, you could try to comment out the repo in your pom. Unless you need something from the directory (the searchable addons from their page are served from there)."},{"owner":{"account_id":21138486,"reputation":116,"user_id":15541450,"display_name":"Liemannen loop"},"score":0,"creation_date":1688658457,"post_id":76622450,"comment_id":135106541,"body_markdown":"Ok, after some digging and changing dependencies, it seems like I am getting this issue because of springframework boot plugin, do you have any idea why that might be?","body":"Ok, after some digging and changing dependencies, it seems like I am getting this issue because of springframework boot plugin, do you have any idea why that might be?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1688673670,"post_id":76622450,"comment_id":135109287,"body_markdown":"If you can not download deps from the internet of things that get downloaded by others in the 10 thousands (vaadin) or most likely millions (spring) per month, it&#39;s safe to assume, that the problem is on your end. If you get CA related errors, the chains on your box might be borked or you are using a proxy (or should use one and don&#39;t). I close voted now since it seems clearly a network windows problem.","body":"If you can not download deps from the internet of things that get downloaded by others in the 10 thousands (vaadin) or most likely millions (spring) per month, it&#39;s safe to assume, that the problem is on your end. If you get CA related errors, the chains on your box might be borked or you are using a proxy (or should use one and don&#39;t). I close voted now since it seems clearly a network windows problem."}],"owner":{"account_id":21138486,"reputation":116,"user_id":15541450,"display_name":"Liemannen loop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688580623,"creation_date":1688575867,"question_id":76622450,"body_markdown":"Current error when trying to install/build project:\r\n```\r\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\nLet me start by saying, I have looked through all the other StackOverFlow questions that have been posted, like:\r\n```\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n,\r\n```\r\n[ERROR] The build could not read 1 project -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR]   The project com.example.application:mytodo:1.0-SNAPSHOT (C:\\dev\\my-todo\\pom.xml) has 1 error\r\n[ERROR]     Non-resolvable parent POM for com.example.application:mytodo:1.0-SNAPSHOT: Could not transfer artifact org.springframework.b\r\noot:spring-boot-starter-parent:pom:3.1.0 from/to Vaadin Directory (https://maven.vaadin.com/vaadin-addons): transfer failed for https://\r\nmaven.vaadin.com/vaadin-addons/org/springframework/boot/spring-boot-starter-parent/3.1.0/spring-boot-starter-parent-3.1.0.pom and &#39;paren\r\nt.relativePath&#39; points at wrong local POM @ line 18, column 13: PKIX path building failed: sun.security.provider.certpath.SunCertPathBui\r\nlderException: unable to find valid certification path to requested target\r\n```\r\nAbsolutely nothing works! I tried the same vaadin project on my Mac machine and my other windows machine and it worked with no configurations.\r\nAs well as my colleagues that are in-person are able to start this project with no problem (I am remote, it should not matter, because another colleague that is remote was able to build it and it worked).\r\nI tried disabling my VPN that they provide me from work, no luck.\r\n\r\nMy question now is: is it possible that there is some problem with my laptop config, or it might be some proxy issue, or connection issue.\r\nHypothesis 1: My work has installed something on my laptop that prevents the access from where the vaadin dependencies are downloaded.\r\n\r\nI have these issue displayed now on my my-todo app provided by Vaadin starter tutorial: https://vaadin.com/docs/latest/guide/quick-start:\r\n```\r\ncvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;.xml(cvc-elt.1.a)\r\n```\r\n```\r\nError while downloading &#39;http://maven.apache.org/xsd/maven-4.0.0.xsd&#39; to &#39;%HOME%\\.lemminx\\cache\\http\\maven.apache.org\\xsd\\maven-4.0.0.xsd&#39; : &#39;[sun.security.provider.certpath.SunCertPathBuilderException] unable to find valid certification path to requested target&#39;\r\n```\r\nand lastly:\r\n```\r\nProject build error: Non-resolvable parent POM for com.example.application:mytodo:1.0-SNAPSHOT: The following artifacts could not be resolved: org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 (absent): org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 failed to transfer from https://maven.vaadin.com/vaadin-addons during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of Vaadin Directory has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 from/to Vaadin Directory (https://maven.vaadin.com/vaadin-addons): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target and &#39;parent.relativePath&#39; points at wrong local POM\r\n```\r\nHere&#39;s my pom file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;!-- Project from https://start.vaadin.com/ --&gt;\r\n    &lt;groupId&gt;com.example.application&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mytodo&lt;/artifactId&gt;\r\n    &lt;name&gt;mytodo&lt;/name&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;vaadin.version&gt;24.1.2&lt;/vaadin.version&gt;\r\n        &lt;selenium.version&gt;4.10.0&lt;/selenium.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\r\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.parttio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-testbench-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5600&lt;/jvmArguments&gt;\r\n                    &lt;wait&gt;500&lt;/wait&gt;\r\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\r\n            &lt;id&gt;production&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;!-- Exclude development dependencies from production --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;vaadin-core&lt;/artifactId&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;vaadin-dev&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;it&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;start&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;stop&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\nJava Version: jdk-17.0.2-windows\r\n\r\nVaadin: 24+, I also noticed this did not work on Vaadin 23.3.15 as well.\r\n\r\nPlease let me know if you have any other questions or something I might be able to provide to help you answer this question. ","title":"Vaadin 23.3.15 and Vaadin 24.+ PKIX path building failed","body":"<p>Current error when trying to install/build project:</p>\n<pre><code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>Let me start by saying, I have looked through all the other StackOverFlow questions that have been posted, like:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>,</p>\n<pre><code>[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]\n[ERROR]   The project com.example.application:mytodo:1.0-SNAPSHOT (C:\\dev\\my-todo\\pom.xml) has 1 error\n[ERROR]     Non-resolvable parent POM for com.example.application:mytodo:1.0-SNAPSHOT: Could not transfer artifact org.springframework.b\noot:spring-boot-starter-parent:pom:3.1.0 from/to Vaadin Directory (https://maven.vaadin.com/vaadin-addons): transfer failed for https://\nmaven.vaadin.com/vaadin-addons/org/springframework/boot/spring-boot-starter-parent/3.1.0/spring-boot-starter-parent-3.1.0.pom and 'paren\nt.relativePath' points at wrong local POM @ line 18, column 13: PKIX path building failed: sun.security.provider.certpath.SunCertPathBui\nlderException: unable to find valid certification path to requested target\n</code></pre>\n<p>Absolutely nothing works! I tried the same vaadin project on my Mac machine and my other windows machine and it worked with no configurations.\nAs well as my colleagues that are in-person are able to start this project with no problem (I am remote, it should not matter, because another colleague that is remote was able to build it and it worked).\nI tried disabling my VPN that they provide me from work, no luck.</p>\n<p>My question now is: is it possible that there is some problem with my laptop config, or it might be some proxy issue, or connection issue.\nHypothesis 1: My work has installed something on my laptop that prevents the access from where the vaadin dependencies are downloaded.</p>\n<p>I have these issue displayed now on my my-todo app provided by Vaadin starter tutorial: <a href=\"https://vaadin.com/docs/latest/guide/quick-start\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/guide/quick-start</a>:</p>\n<pre><code>cvc-elt.1.a: Cannot find the declaration of element 'project'.xml(cvc-elt.1.a)\n</code></pre>\n<pre><code>Error while downloading 'http://maven.apache.org/xsd/maven-4.0.0.xsd' to '%HOME%\\.lemminx\\cache\\http\\maven.apache.org\\xsd\\maven-4.0.0.xsd' : '[sun.security.provider.certpath.SunCertPathBuilderException] unable to find valid certification path to requested target'\n</code></pre>\n<p>and lastly:</p>\n<pre><code>Project build error: Non-resolvable parent POM for com.example.application:mytodo:1.0-SNAPSHOT: The following artifacts could not be resolved: org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 (absent): org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 failed to transfer from https://maven.vaadin.com/vaadin-addons during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of Vaadin Directory has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 from/to Vaadin Directory (https://maven.vaadin.com/vaadin-addons): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target and 'parent.relativePath' points at wrong local POM\n</code></pre>\n<p>Here's my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;!-- Project from https://start.vaadin.com/ --&gt;\n    &lt;groupId&gt;com.example.application&lt;/groupId&gt;\n    &lt;artifactId&gt;mytodo&lt;/artifactId&gt;\n    &lt;name&gt;mytodo&lt;/name&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;vaadin.version&gt;24.1.2&lt;/vaadin.version&gt;\n        &lt;selenium.version&gt;4.10.0&lt;/selenium.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.parttio&lt;/groupId&gt;\n            &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-testbench-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5600&lt;/jvmArguments&gt;\n                    &lt;wait&gt;500&lt;/wait&gt;\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;!-- Exclude development dependencies from production --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;vaadin-core&lt;/artifactId&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                            &lt;artifactId&gt;vaadin-dev&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;it&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;start&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;stop&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Java Version: jdk-17.0.2-windows</p>\n<p>Vaadin: 24+, I also noticed this did not work on Vaadin 23.3.15 as well.</p>\n<p>Please let me know if you have any other questions or something I might be able to provide to help you answer this question.</p>\n"},{"tags":["java","mysql","deployment","nullpointerexception","wildfly"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1688454770,"post_id":76609033,"comment_id":135072578,"body_markdown":"There is a confusion here..`I was expecting the server to start without issue. I thought it would read the pom.xml, beans.xml, and persistence.xml correctly, wire up all dependencies,`   Wilfly will not download your dependencies.   You are supposed to use Maven to do clean install, and it will create a WAR file for you with all the dependencies.","body":"There is a confusion here..<code>I was expecting the server to start without issue. I thought it would read the pom.xml, beans.xml, and persistence.xml correctly, wire up all dependencies,</code>   Wilfly will not download your dependencies.   You are supposed to use Maven to do clean install, and it will create a WAR file for you with all the dependencies."},{"owner":{"account_id":18745322,"reputation":13,"user_id":20790152,"display_name":"Vin&#237;cius do Carmo Mel&#237;cio"},"score":0,"creation_date":1688475219,"post_id":76609033,"comment_id":135076841,"body_markdown":"@JCompetence Thanks for your response. Perhaps I should clarify - I have already used `mvn clean install` to build my project and the WAR file that&#39;s being deployed. The issue is not about missing dependencies, as the build completes successfully without any `ClassNotFoundException`. The files mentioned were in the context of the server&#39;s ability to read and interpret these configuration files correctly, not about fetching dependencies.\nMy problem pertains to a service startup issue on WildFly when I try to deploy this WAR. Do you have any insight on this particular problem?&quot;","body":"@JCompetence Thanks for your response. Perhaps I should clarify - I have already used <code>mvn clean install</code> to build my project and the WAR file that&#39;s being deployed. The issue is not about missing dependencies, as the build completes successfully without any <code>ClassNotFoundException</code>. The files mentioned were in the context of the server&#39;s ability to read and interpret these configuration files correctly, not about fetching dependencies. My problem pertains to a service startup issue on WildFly when I try to deploy this WAR. Do you have any insight on this particular problem?&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688457832,"creation_date":1688457832,"answer_id":76610522,"question_id":76609033,"body_markdown":"1- You provide a WAR with your dependencies, WildFly will provide JakartEE 10 API implementations.\r\n2- Your driver should be provided since you are creating a module to provide it.\r\n3- Your XML descriptors are not JakartaEE 10 but Java EE\r\n4- The error occurs during the undeploy not during the deployment itself. Maybe there is an error there before\r\n5- You should take a look at WildFly Quickstarts https://github.com/wildfly/quickstart/tree/28.0.1.Final (todo-backend can show what your are trying to achieve here)","title":"Unable to deploy WAR file to WildFly 28.0.1.Final - Failed to start service jboss.deployment.unit","body":"<p>1- You provide a WAR with your dependencies, WildFly will provide JakartEE 10 API implementations.\n2- Your driver should be provided since you are creating a module to provide it.\n3- Your XML descriptors are not JakartaEE 10 but Java EE\n4- The error occurs during the undeploy not during the deployment itself. Maybe there is an error there before\n5- You should take a look at WildFly Quickstarts <a href=\"https://github.com/wildfly/quickstart/tree/28.0.1.Final\" rel=\"nofollow noreferrer\">https://github.com/wildfly/quickstart/tree/28.0.1.Final</a> (todo-backend can show what your are trying to achieve here)</p>\n"},{"tags":[],"owner":{"account_id":18745322,"reputation":13,"user_id":20790152,"display_name":"Vin&#237;cius do Carmo Mel&#237;cio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688580551,"creation_date":1688580551,"answer_id":76622999,"question_id":76609033,"body_markdown":"After struggling with this problem for a while, I was finally able to find a solution. Here&#39;s how I resolved it:\r\n\r\nI had to adjust my `web.xml` file to be compatible with Jakarta EE 10:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;\r\n     version=&quot;6.0&quot;&gt;\r\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.penguin.servlet.HelloServlet&lt;/servlet-class&gt;\r\n  &lt;/servlet&gt;\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nThen I had to move the `beans.xml` from `src/main/resources/META-INF` to `src/main/webapp/WEB-INF`.\r\n\r\nThe last part of my journey was working with my project&#39;s dependencies. I had to make sure they were going to work with Jakarta EE 10 and WildFly 28.0.1.Final. I took a close look, made necessary adjustments, and set as many dependencies as I could to provided. Here&#39;s how my final dependencies looked:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;junit&lt;/groupId&gt;\r\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n  &lt;version&gt;4.13.2&lt;/version&gt;\r\n  &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n  &lt;version&gt;10.0.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n  &lt;version&gt;6.0.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n  &lt;version&gt;8.0.33&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n  &lt;version&gt;3.1.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n  &lt;artifactId&gt;wildfly-jpa&lt;/artifactId&gt;\r\n  &lt;version&gt;28.0.1.Final&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\r\n  &lt;version&gt;4.0.1&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\r\n  &lt;version&gt;4.0.1&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI&#39;d like to thank everyone who offered their help during this troubleshooting process. I can now deploy and run my code without any issues. I hope this solution is helpful to anyone else who encounters a similar problem.","title":"Unable to deploy WAR file to WildFly 28.0.1.Final - Failed to start service jboss.deployment.unit","body":"<p>After struggling with this problem for a while, I was finally able to find a solution. Here's how I resolved it:</p>\n<p>I had to adjust my <code>web.xml</code> file to be compatible with Jakarta EE 10:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;\n     version=&quot;6.0&quot;&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.penguin.servlet.HelloServlet&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>Then I had to move the <code>beans.xml</code> from <code>src/main/resources/META-INF</code> to <code>src/main/webapp/WEB-INF</code>.</p>\n<p>The last part of my journey was working with my project's dependencies. I had to make sure they were going to work with Jakarta EE 10 and WildFly 28.0.1.Final. I took a close look, made necessary adjustments, and set as many dependencies as I could to provided. Here's how my final dependencies looked:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.13.2&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n  &lt;version&gt;10.0.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;6.0.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n  &lt;version&gt;8.0.33&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n  &lt;artifactId&gt;wildfly-jpa&lt;/artifactId&gt;\n  &lt;version&gt;28.0.1.Final&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'd like to thank everyone who offered their help during this troubleshooting process. I can now deploy and run my code without any issues. I hope this solution is helpful to anyone else who encounters a similar problem.</p>\n"}],"owner":{"account_id":18745322,"reputation":13,"user_id":20790152,"display_name":"Vin&#237;cius do Carmo Mel&#237;cio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76610522,"answer_count":2,"score":1,"last_activity_date":1688580551,"creation_date":1688436971,"question_id":76609033,"body_markdown":"I&#39;m currently learning Java and I&#39;m trying to deploy a simple project to WildFly 28.0.1.Final but I&#39;m encountering a problem. The project contains only three classes (`HelloServlet`, `Sentence`, `SentenceRepository`) and uses MySQL 8.0.33. I&#39;m writing the code with Java 11.\r\n\r\nIn terms of what I&#39;ve tried so far, I&#39;ve attempted to adjust my project&#39;s dependencies within the `pom.xml` file, believing that perhaps there was an issue related to library compatibility or something missing. I&#39;ve also tried adjusting the `beans.xml` and `persistence.xml` configurations, though I wasn&#39;t entirely sure what I needed to change, but I wanted to see if modifications there would solve the problem.\r\n\r\nAs for my expectations, when I deploy my WAR file to WildFly, I was expecting the server to start without issue. I thought it would read the `pom.xml`, `beans.xml`, and `persistence.xml` correctly, wire up all dependencies, initialize my HelloServlet, and be ready to handle incoming requests. I&#39;m surprised by the `NullPointerException` as I&#39;ve checked my code and there&#39;s no obvious place where I&#39;m accessing something that should be null.\r\n\r\nIn essence, my goal is to understand how to set up a simple project with WildFly, MySQL, and Java, and to get this project running without errors. Any guidance towards identifying the root cause of this `NullPointerException` and resolving it would be greatly appreciated.\r\n\r\nMy project structure:\r\n```\r\n├── pom.xml\r\n├── README.md\r\n└── src\r\n    └── main\r\n        ├── java\r\n        │&#160;&#160; └── com\r\n        │&#160;&#160;     └── penguin\r\n        │&#160;&#160;         ├── model\r\n        │&#160;&#160;         │&#160;&#160; └── Sentence.java\r\n        │&#160;&#160;         ├── repository\r\n        │&#160;&#160;         │&#160;&#160; └── SentenceRepository.java\r\n        │&#160;&#160;         └── servlet\r\n        │&#160;&#160;             └── HelloServlet.java\r\n        ├── resources\r\n        │&#160;&#160; └── META-INF\r\n        │&#160;&#160;     ├── beans.xml\r\n        │&#160;&#160;     └── persistence.xml\r\n        └── webapp\r\n            ├── index.jsp\r\n            └── WEB-INF\r\n                └── web.xml\r\n```\r\n\r\nWhenever I try to deploy the WAR file, I get the following error:\r\n\r\n```\r\n22:26:49,900 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 144) MSC000001: Failed to start service jboss.deployment.unit.&quot;language-study.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;language-study.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.NullPointerException\r\n\tat org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:90)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\nCaused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentManagerImpl.undeploy(DeploymentManagerImpl.java:686)\r\n\tat org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:110)\r\n\tat org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\r\n\t... 8 more\r\nCaused by: java.lang.NullPointerException\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentImpl.createThreadSetupAction(DeploymentImpl.java:176)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentManagerImpl.undeploy(DeploymentManagerImpl.java:669)\r\n\t... 10 more\r\n\r\n22:26:49,908 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;language-study.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.NullPointerException&quot;}}\r\n22:26:49,909 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;language-study.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.NullPointerException&quot;}}\r\n22:26:49,909 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;language-study.war&quot; was rolled back with the following failure message: \r\n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.NullPointerException&quot;}}\r\n```\r\nI&#39;m not sure where the `NullPointerException` is coming from. I haven&#39;t been able to find the source of the problem in my code or the server configuration\r\n\r\nMy `persistence.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;LanguageStudyDS&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;jta-data-source&gt;java:/LanguageStudyDS&lt;/jta-data-source&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nMy `beans.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;\r\n      http://xmlns.jcp.org/xml/ns/javaee\r\n      http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\r\n       bean-discovery-mode=&quot;all&quot;&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nMy `web.xml`:\r\n```xml\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n         version=&quot;4.0&quot;&gt;\r\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.penguin.servlet.HelloServlet&lt;/servlet-class&gt;\r\n  &lt;/servlet&gt;\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nMy `pom.xml`:\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.penguin&lt;/groupId&gt;\r\n  &lt;artifactId&gt;language-study&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;language-study Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.13.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n      &lt;version&gt;10.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.33&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;6.2.6.Final&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n      &lt;artifactId&gt;wildfly-jpa&lt;/artifactId&gt;\r\n      &lt;version&gt;28.0.1.Final&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.faces-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;weld-servlet&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.8.Final&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;language-study&lt;/finalName&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;11&lt;/source&gt;\r\n                &lt;target&gt;11&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nMy `HelloServlet.java`:\r\n```java\r\npublic class HelloServlet extends HttpServlet {\r\n    \r\n    @EJB\r\n    private SentenceRepository repo;\r\n\r\n    @Override\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    throws IOException, ServletException\r\n    {\r\n        response.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out = response.getWriter();\r\n        if (repo == null) {\r\n            out.println(&quot;&lt;h1&gt;Error: repo object is null&lt;/h1&gt;&quot;);\r\n            return;\r\n        }\r\n\r\n        Sentence sentence = null;\r\n        try {\r\n            // Inserting a sentence\r\n            sentence = new Sentence(&quot;你好，世界&quot;);\r\n            repo.save(sentence);\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            out.println(&quot;&lt;h1&gt;Error: &quot; + ex.getMessage() + &quot;&lt;/h1&gt;&quot;);\r\n        }\r\n\r\n        try {\r\n            // Fetching a sentence\r\n            Sentence fetchedSentence = repo.find(sentence.getId());\r\n            out.println(&quot;&lt;h1&gt;Id: &quot; + fetchedSentence.getId() + &quot;, Sentence: &quot; + fetchedSentence.getMandarinSentence() + &quot;&lt;/h1&gt;&quot;);\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            out.println(&quot;&lt;h1&gt;Error: &quot; + ex.getMessage() + &quot;&lt;/h1&gt;&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy `SentenceRepository.java`:\r\n```java\r\n@Stateless\r\npublic class SentenceRepository {\r\n\r\n    @PersistenceContext(unitName = &quot;LanguageStudyDS&quot;)\r\n    private EntityManager entityManager;\r\n\r\n    public void save(Sentence sentence) {\r\n        try {\r\n            entityManager.persist(sentence);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n    public Sentence find(Long id) {\r\n        try {\r\n            return entityManager.find(Sentence.class, id);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public void delete(Long id) {\r\n        try {\r\n            Sentence sentence = find(id);\r\n            if (sentence != null &amp;&amp; entityManager != null) {\r\n                entityManager.remove(sentence);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n    public void update(Long id, String newSentence) {\r\n        try {\r\n            Sentence sentence = find(id);\r\n            if (sentence != null) {\r\n                sentence.setMandarinSentence(newSentence);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy `Sentence.java`:\r\n```java\r\n@Entity\r\n@Table(name = &quot;sentences&quot;)\r\npublic class Sentence {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;mandarin_sentence&quot;)\r\n    private String mandarinSentence;\r\n\r\n    public Sentence() {\r\n    }\r\n\r\n    public Sentence(String mandarinSentence) {\r\n        this.mandarinSentence = mandarinSentence;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getMandarinSentence() {\r\n        return mandarinSentence;\r\n    }\r\n\r\n    public void setMandarinSentence(String mandarinSentence) {\r\n        this.mandarinSentence = mandarinSentence;\r\n    }\r\n\r\n}\r\n```\r\nMy `module.xml` (inside the WildFly):\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.mysql&quot;&gt;\r\n    &lt;resources&gt;\r\n        &lt;resource-root path=&quot;mysql-connector-j-8.0.33.jar&quot;/&gt;\r\n    &lt;/resources&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;javax.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n```\r\n\r\nThe modifications I made to the `standalone.xml` (also inside the WildFly):\r\n```xml\r\n&lt;datasource jndi-name=&quot;java:/LanguageStudyDS&quot; pool-name=&quot;LanguageStudyDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\r\n        &lt;connection-url&gt;jdbc:mysql://localhost:3306/language_study?useSSL=false&lt;/connection-url&gt;\r\n        &lt;driver&gt;mysql&lt;/driver&gt;\r\n        &lt;security&gt;\r\n            &lt;user-name&gt;username&lt;/user-name&gt;\r\n            &lt;password&gt;password&lt;/password&gt;\r\n        &lt;/security&gt;\r\n&lt;/datasource&gt;\r\n```\r\n```xml\r\n&lt;driver name=&quot;mysql&quot; module=&quot;com.mysql&quot;&gt;\r\n    &lt;driver-class&gt;com.mysql.cj.jdbc.Driver&lt;/driver-class&gt;\r\n&lt;/driver&gt;\r\n```\r\n","title":"Unable to deploy WAR file to WildFly 28.0.1.Final - Failed to start service jboss.deployment.unit","body":"<p>I'm currently learning Java and I'm trying to deploy a simple project to WildFly 28.0.1.Final but I'm encountering a problem. The project contains only three classes (<code>HelloServlet</code>, <code>Sentence</code>, <code>SentenceRepository</code>) and uses MySQL 8.0.33. I'm writing the code with Java 11.</p>\n<p>In terms of what I've tried so far, I've attempted to adjust my project's dependencies within the <code>pom.xml</code> file, believing that perhaps there was an issue related to library compatibility or something missing. I've also tried adjusting the <code>beans.xml</code> and <code>persistence.xml</code> configurations, though I wasn't entirely sure what I needed to change, but I wanted to see if modifications there would solve the problem.</p>\n<p>As for my expectations, when I deploy my WAR file to WildFly, I was expecting the server to start without issue. I thought it would read the <code>pom.xml</code>, <code>beans.xml</code>, and <code>persistence.xml</code> correctly, wire up all dependencies, initialize my HelloServlet, and be ready to handle incoming requests. I'm surprised by the <code>NullPointerException</code> as I've checked my code and there's no obvious place where I'm accessing something that should be null.</p>\n<p>In essence, my goal is to understand how to set up a simple project with WildFly, MySQL, and Java, and to get this project running without errors. Any guidance towards identifying the root cause of this <code>NullPointerException</code> and resolving it would be greatly appreciated.</p>\n<p>My project structure:</p>\n<pre><code>├── pom.xml\n├── README.md\n└── src\n    └── main\n        ├── java\n        │   └── com\n        │       └── penguin\n        │           ├── model\n        │           │   └── Sentence.java\n        │           ├── repository\n        │           │   └── SentenceRepository.java\n        │           └── servlet\n        │               └── HelloServlet.java\n        ├── resources\n        │   └── META-INF\n        │       ├── beans.xml\n        │       └── persistence.xml\n        └── webapp\n            ├── index.jsp\n            └── WEB-INF\n                └── web.xml\n</code></pre>\n<p>Whenever I try to deploy the WAR file, I get the following error:</p>\n<pre><code>22:26:49,900 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 144) MSC000001: Failed to start service jboss.deployment.unit.&quot;language-study.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;language-study.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.NullPointerException\n    at org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:90)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.RuntimeException: java.lang.NullPointerException\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentManagerImpl.undeploy(DeploymentManagerImpl.java:686)\n    at org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:110)\n    at org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\n    ... 8 more\nCaused by: java.lang.NullPointerException\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentImpl.createThreadSetupAction(DeploymentImpl.java:176)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentManagerImpl.undeploy(DeploymentManagerImpl.java:669)\n    ... 10 more\n\n22:26:49,908 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;language-study.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.NullPointerException&quot;}}\n22:26:49,909 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;language-study.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.NullPointerException&quot;}}\n22:26:49,909 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;language-study.war&quot; was rolled back with the following failure message: \n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.NullPointerException&quot;}}\n</code></pre>\n<p>I'm not sure where the <code>NullPointerException</code> is coming from. I haven't been able to find the source of the problem in my code or the server configuration</p>\n<p>My <code>persistence.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;LanguageStudyDS&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;jta-data-source&gt;java:/LanguageStudyDS&lt;/jta-data-source&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot; /&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>My <code>beans.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;\n      http://xmlns.jcp.org/xml/ns/javaee\n      http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\n       bean-discovery-mode=&quot;all&quot;&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>My <code>web.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.penguin.servlet.HelloServlet&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>My <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.penguin&lt;/groupId&gt;\n  &lt;artifactId&gt;language-study&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;language-study Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.13.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n      &lt;version&gt;10.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;6.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n      &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;6.2.6.Final&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n      &lt;artifactId&gt;wildfly-jpa&lt;/artifactId&gt;\n      &lt;version&gt;28.0.1.Final&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.faces-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3&lt;/version&gt; \n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;weld-servlet&lt;/artifactId&gt;\n        &lt;version&gt;2.4.8.Final&lt;/version&gt; \n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;language-study&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My <code>HelloServlet.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloServlet extends HttpServlet {\n    \n    @EJB\n    private SentenceRepository repo;\n\n    @Override\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n    throws IOException, ServletException\n    {\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out = response.getWriter();\n        if (repo == null) {\n            out.println(&quot;&lt;h1&gt;Error: repo object is null&lt;/h1&gt;&quot;);\n            return;\n        }\n\n        Sentence sentence = null;\n        try {\n            // Inserting a sentence\n            sentence = new Sentence(&quot;你好，世界&quot;);\n            repo.save(sentence);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            out.println(&quot;&lt;h1&gt;Error: &quot; + ex.getMessage() + &quot;&lt;/h1&gt;&quot;);\n        }\n\n        try {\n            // Fetching a sentence\n            Sentence fetchedSentence = repo.find(sentence.getId());\n            out.println(&quot;&lt;h1&gt;Id: &quot; + fetchedSentence.getId() + &quot;, Sentence: &quot; + fetchedSentence.getMandarinSentence() + &quot;&lt;/h1&gt;&quot;);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            out.println(&quot;&lt;h1&gt;Error: &quot; + ex.getMessage() + &quot;&lt;/h1&gt;&quot;);\n        }\n    }\n}\n</code></pre>\n<p>My <code>SentenceRepository.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stateless\npublic class SentenceRepository {\n\n    @PersistenceContext(unitName = &quot;LanguageStudyDS&quot;)\n    private EntityManager entityManager;\n\n    public void save(Sentence sentence) {\n        try {\n            entityManager.persist(sentence);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n\n    public Sentence find(Long id) {\n        try {\n            return entityManager.find(Sentence.class, id);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n        return null;\n    }\n\n    public void delete(Long id) {\n        try {\n            Sentence sentence = find(id);\n            if (sentence != null &amp;&amp; entityManager != null) {\n                entityManager.remove(sentence);\n            }\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n\n    public void update(Long id, String newSentence) {\n        try {\n            Sentence sentence = find(id);\n            if (sentence != null) {\n                sentence.setMandarinSentence(newSentence);\n            }\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>My <code>Sentence.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;sentences&quot;)\npublic class Sentence {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;mandarin_sentence&quot;)\n    private String mandarinSentence;\n\n    public Sentence() {\n    }\n\n    public Sentence(String mandarinSentence) {\n        this.mandarinSentence = mandarinSentence;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getMandarinSentence() {\n        return mandarinSentence;\n    }\n\n    public void setMandarinSentence(String mandarinSentence) {\n        this.mandarinSentence = mandarinSentence;\n    }\n\n}\n</code></pre>\n<p>My <code>module.xml</code> (inside the WildFly):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.mysql&quot;&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;mysql-connector-j-8.0.33.jar&quot;/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=&quot;javax.api&quot;/&gt;\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<p>The modifications I made to the <code>standalone.xml</code> (also inside the WildFly):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;datasource jndi-name=&quot;java:/LanguageStudyDS&quot; pool-name=&quot;LanguageStudyDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\n        &lt;connection-url&gt;jdbc:mysql://localhost:3306/language_study?useSSL=false&lt;/connection-url&gt;\n        &lt;driver&gt;mysql&lt;/driver&gt;\n        &lt;security&gt;\n            &lt;user-name&gt;username&lt;/user-name&gt;\n            &lt;password&gt;password&lt;/password&gt;\n        &lt;/security&gt;\n&lt;/datasource&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;driver name=&quot;mysql&quot; module=&quot;com.mysql&quot;&gt;\n    &lt;driver-class&gt;com.mysql.cj.jdbc.Driver&lt;/driver-class&gt;\n&lt;/driver&gt;\n</code></pre>\n"},{"tags":["java","swt","jface"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":5,"creation_date":1277122115,"post_id":3084420,"comment_id":3161331,"body_markdown":"I left my crystal ball in my other pants","body":"I left my crystal ball in my other pants"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1277122176,"post_id":3084420,"comment_id":3161336,"body_markdown":"An error trace would be helpful - AssertionFailedError is a junit class, does this happen during a test?","body":"An error trace would be helpful - AssertionFailedError is a junit class, does this happen during a test?"}],"answers":[{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1277130028,"creation_date":1277122298,"answer_id":3084474,"question_id":3084420,"body_markdown":"Constructor that you are using (`TableViewer`) or two setters (`setContentProvider`, `setLabelProvider`) have guarding [`assert`][1] statements which are throwing these exceptions. Author of the code had an idea to protect its code from irregular parameters that you are using when invoking her/his code.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/guide/lang/assert.html","title":"why do we get AssertionFailedError?","body":"<p>Constructor that you are using (<code>TableViewer</code>) or two setters (<code>setContentProvider</code>, <code>setLabelProvider</code>) have guarding <a href=\"http://java.sun.com/j2se/1.4.2/docs/guide/lang/assert.html\" rel=\"nofollow noreferrer\"><code>assert</code></a> statements which are throwing these exceptions. Author of the code had an idea to protect its code from irregular parameters that you are using when invoking her/his code.</p>\n"},{"tags":[],"owner":{"account_id":59595,"reputation":3734,"user_id":178274,"accept_rate":50,"display_name":"denis.zhdanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277123244,"creation_date":1277123244,"answer_id":3084561,"question_id":3084420,"body_markdown":"The stack trace shows that your call to *&#39;TableViewer.setLabelProvider()&#39;* from *&#39;BOAttributesPage.populateAttributeTableContents()&#39;* eventually results in call to *&#39;org.eclipse.jface.viewers.StructuredViewer.disassociate()*&#39; with *null* argument and that method constraints input argument to be not-*null*.","title":"why do we get AssertionFailedError?","body":"<p>The stack trace shows that your call to <em>'TableViewer.setLabelProvider()'</em> from <em>'BOAttributesPage.populateAttributeTableContents()'</em> eventually results in call to <em>'org.eclipse.jface.viewers.StructuredViewer.disassociate()</em>' with <em>null</em> argument and that method constraints input argument to be not-<em>null</em>.</p>\n"},{"tags":[],"owner":{"account_id":132584,"reputation":433,"user_id":333374,"display_name":"drstupid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282424304,"creation_date":1282424304,"answer_id":3538962,"question_id":3084420,"body_markdown":"It looks like BOAttributeTableContentProvider provides a null object somewhere along line (one of the elements you are trying to display in the table is null).\r\nDebug the content provider. Hope my late answer will help.","title":"why do we get AssertionFailedError?","body":"<p>It looks like BOAttributeTableContentProvider provides a null object somewhere along line (one of the elements you are trying to display in the table is null).\nDebug the content provider. Hope my late answer will help.</p>\n"},{"tags":[],"owner":{"account_id":740277,"reputation":21,"user_id":716785,"display_name":"Sumeet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353741678,"creation_date":1303289510,"answer_id":5727766,"question_id":3084420,"body_markdown":"Make sure the &quot;test&quot; at the beginning of the method name is lower case. If you say TestMethod you will get this error message. You should say testMethod. \r\n\r\nFor example:\r\n\r\n    @Test\r\n        public void test_VPlugin() throws Exception {\r\n\r\nThis works for me and I hope it will work for you","title":"why do we get AssertionFailedError?","body":"<p>Make sure the \"test\" at the beginning of the method name is lower case. If you say TestMethod you will get this error message. You should say testMethod. </p>\n\n<p>For example:</p>\n\n<pre><code>@Test\n    public void test_VPlugin() throws Exception {\n</code></pre>\n\n<p>This works for me and I hope it will work for you</p>\n"}],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3084474,"answer_count":4,"score":1,"last_activity_date":1688580395,"creation_date":1277121839,"question_id":3084420,"body_markdown":"I have the following piece of code:\r\n\r\n            TableViewer tv = new TableViewer(attributeTable);\r\n    \t\ttv.setContentProvider(new BOAttributeTableContentProvider());\r\n    \t\ttv.setLabelProvider(new BOAttributeTableLabelProvider());\r\n\r\nwhere while setting the label provider i am getting `AssertionFailedError`. can anybody tell me what wrong i am doing here? or in which case it throws this error?\r\n\r\nerror Log:\r\n\r\n    org.eclipse.jface.util.Assert$AssertionFailedException: null argument;\r\n    \tat org.eclipse.jface.util.Assert.isNotNull(Assert.java:150)\r\n    \tat org.eclipse.jface.util.Assert.isNotNull(Assert.java:126)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.disassociate(StructuredViewer.java:615)\r\n    \tat org.eclipse.jface.viewers.TableViewer.internalRefreshAll(TableViewer.java:904)\r\n    \tat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:818)\r\n    \tat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:807)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1388)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1323)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1386)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1345)\r\n    \tat org.eclipse.jface.viewers.ContentViewer.setLabelProvider(ContentViewer.java:281)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.setLabelProvider(StructuredViewer.java:2003)\r\n    \tat org.eclipse.jface.viewers.TableViewer.setLabelProvider(TableViewer.java:1086)\r\n    \tat com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage.populateAttributeTableContents(BOAttributesPage.java:458)\r\n    \tat com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage.access$000(BOAttributesPage.java:128)\r\n    \tat com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage$1.setToModel(BOAttributesPage.java:341)\r\n    \tat com.trapedza.bankfusion.editor.AbstractEditorDelegate.updateData(AbstractEditorDelegate.java:173)\r\n    \tat com.trapedza.bankfusion.editor.AbstractEditorDelegate$1.dialogFieldChanged(AbstractEditorDelegate.java:181)\r\n    \tat com.trapedza.bankfusion.utils.dialogs.internal.DialogField.dialogFieldChanged(DialogField.java:132)\r\n    \tat com.trapedza.bankfusion.utils.dialogs.internal.ListBoxDialogField.doModifySelection(ListBoxDialogField.java:51)\r\n    \tat com.trapedza.bankfusion.utils.dialogs.internal.ComboDialogField$2.widgetSelected(ComboDialogField.java:153)\r\n    \tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\r\n    \tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1930)\r\n    \tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1894)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:422)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\r\n    \tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\r\n    \tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:585)\r\n    \tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\r\n    \tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\r\n    \tat org.eclipse.core.launcher.Main.run(Main.java:977)\r\n    \tat org.eclipse.core.launcher.Main.main(Main.java:952)","title":"why do we get AssertionFailedError?","body":"<p>I have the following piece of code:</p>\n\n<pre><code>        TableViewer tv = new TableViewer(attributeTable);\n        tv.setContentProvider(new BOAttributeTableContentProvider());\n        tv.setLabelProvider(new BOAttributeTableLabelProvider());\n</code></pre>\n\n<p>where while setting the label provider i am getting <code>AssertionFailedError</code>. can anybody tell me what wrong i am doing here? or in which case it throws this error?</p>\n\n<p>error Log:</p>\n\n<pre><code>org.eclipse.jface.util.Assert$AssertionFailedException: null argument;\n    at org.eclipse.jface.util.Assert.isNotNull(Assert.java:150)\n    at org.eclipse.jface.util.Assert.isNotNull(Assert.java:126)\n    at org.eclipse.jface.viewers.StructuredViewer.disassociate(StructuredViewer.java:615)\n    at org.eclipse.jface.viewers.TableViewer.internalRefreshAll(TableViewer.java:904)\n    at org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:818)\n    at org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:807)\n    at org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1388)\n    at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1323)\n    at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1386)\n    at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1345)\n    at org.eclipse.jface.viewers.ContentViewer.setLabelProvider(ContentViewer.java:281)\n    at org.eclipse.jface.viewers.StructuredViewer.setLabelProvider(StructuredViewer.java:2003)\n    at org.eclipse.jface.viewers.TableViewer.setLabelProvider(TableViewer.java:1086)\n    at com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage.populateAttributeTableContents(BOAttributesPage.java:458)\n    at com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage.access$000(BOAttributesPage.java:128)\n    at com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage$1.setToModel(BOAttributesPage.java:341)\n    at com.trapedza.bankfusion.editor.AbstractEditorDelegate.updateData(AbstractEditorDelegate.java:173)\n    at com.trapedza.bankfusion.editor.AbstractEditorDelegate$1.dialogFieldChanged(AbstractEditorDelegate.java:181)\n    at com.trapedza.bankfusion.utils.dialogs.internal.DialogField.dialogFieldChanged(DialogField.java:132)\n    at com.trapedza.bankfusion.utils.dialogs.internal.ListBoxDialogField.doModifySelection(ListBoxDialogField.java:51)\n    at com.trapedza.bankfusion.utils.dialogs.internal.ComboDialogField$2.widgetSelected(ComboDialogField.java:153)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1930)\n    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1894)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:422)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n    at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n    at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:585)\n    at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n    at org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n    at org.eclipse.core.launcher.Main.run(Main.java:977)\n    at org.eclipse.core.launcher.Main.main(Main.java:952)\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1688198369,"post_id":76591966,"comment_id":135044400,"body_markdown":"Have you tried to check what happens if the task is no successful?","body":"Have you tried to check what happens if the task is no successful?"},{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1688208952,"post_id":76591966,"comment_id":135045363,"body_markdown":"Whats the error you got?","body":"Whats the error you got?"},{"owner":{"account_id":14175677,"reputation":554,"user_id":10241027,"display_name":"Azmat Ali"},"score":0,"creation_date":1688273097,"post_id":76591966,"comment_id":135050599,"body_markdown":"FirebaseInstanceId Cannot resolve symbol when upgrade firebase dependencies older to new version","body":"FirebaseInstanceId Cannot resolve symbol when upgrade firebase dependencies older to new version"}],"answers":[{"tags":[],"owner":{"account_id":14175677,"reputation":554,"user_id":10241027,"display_name":"Azmat Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688580079,"creation_date":1688580079,"answer_id":76622946,"question_id":76591966,"body_markdown":"**FirebaseInstanceId is no more working and replace with FirebaseInstallations**\r\n\r\n    FirebaseInstallations.getInstance().getToken(true).addOnCompleteListener(new OnCompleteListener&lt;InstallationTokenResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;InstallationTokenResult&gt; task) {\r\n                        if (task.isSuccessful() &amp;&amp; task.getResult() != null) {\r\n                            String unused = LoginActivity.this.tokenid = task.getResult().getToken();\r\n                            Log.d(&quot;Installations&quot;, &quot;Installation auth token: &quot; + task.getResult().getToken());\r\n                        } else {\r\n                            Log.e(&quot;Installations&quot;, &quot;Unable to get Installation auth token&quot;);\r\n                        }\r\n                        if (FirebaseAuth.getInstance().getCurrentUser() != null) {\r\n                            String unused2 = userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n                        }\r\n                        NoteUserData noteUserData = new NoteUserData();\r\n                        noteUserData.setDoc_id(userid);\r\n                        noteUserData.setToken(tokenid);\r\n                        noteUserData.setUseremail(useremail);\r\n                        noteUserData.setUserphone(userphone);\r\n                        noteUserData.setAccountstatus(&quot;Approved&quot;);\r\n                        noteUserData.setIdcheckstatus(false);\r\n                        FirebaseFirestore.getInstance().collection(getResources().getString(R.string.dataUsers)).document(userid).set(noteUserData);\r\n                    }\r\n                });","title":"FirebaseInstanceId Cannot resolve symbol","body":"<p><strong>FirebaseInstanceId is no more working and replace with FirebaseInstallations</strong></p>\n<pre><code>FirebaseInstallations.getInstance().getToken(true).addOnCompleteListener(new OnCompleteListener&lt;InstallationTokenResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;InstallationTokenResult&gt; task) {\n                    if (task.isSuccessful() &amp;&amp; task.getResult() != null) {\n                        String unused = LoginActivity.this.tokenid = task.getResult().getToken();\n                        Log.d(&quot;Installations&quot;, &quot;Installation auth token: &quot; + task.getResult().getToken());\n                    } else {\n                        Log.e(&quot;Installations&quot;, &quot;Unable to get Installation auth token&quot;);\n                    }\n                    if (FirebaseAuth.getInstance().getCurrentUser() != null) {\n                        String unused2 = userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n                    }\n                    NoteUserData noteUserData = new NoteUserData();\n                    noteUserData.setDoc_id(userid);\n                    noteUserData.setToken(tokenid);\n                    noteUserData.setUseremail(useremail);\n                    noteUserData.setUserphone(userphone);\n                    noteUserData.setAccountstatus(&quot;Approved&quot;);\n                    noteUserData.setIdcheckstatus(false);\n                    FirebaseFirestore.getInstance().collection(getResources().getString(R.string.dataUsers)).document(userid).set(noteUserData);\n                }\n            });\n</code></pre>\n"}],"owner":{"account_id":14175677,"reputation":554,"user_id":10241027,"display_name":"Azmat Ali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688580079,"creation_date":1688155701,"question_id":76591966,"body_markdown":"The code is working in older firebase dependencies when I upgrade to newest version getting error FirebaseInstanceId Cannot resolve symbol. Want to getToken through FirebaseInstanceId\r\n\r\nOlder Version build.gradle file:\r\n\r\n    //Firebase\r\n    implementation &#39;com.google.firebase:firebase-auth:16.0.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:17.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:17.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:16.0.0&#39;\r\n    //FirebaseUI\r\n    implementation &#39;com.firebaseui:firebase-ui-auth:7.2.0&#39;\r\n\r\n\r\nHere is my New Version build.gradle file:\r\n\r\n    //Firebase\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:32.1.1&#39;)\r\n    implementation &#39;com.google.firebase:firebase-firestore:&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:&#39;\r\n    //FirebaseUI\r\n    implementation &#39;com.firebaseui:firebase-ui-auth:7.2.0&#39;\r\n\r\nHow to get the token id using FirebaseInstanceId \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn this code \r\n\r\n    FirebaseInstanceId.getInstance().getInstanceId().addOnCompleteListener(new OnCompleteListener&lt;InstanceIdResult&gt;() {\r\n                    public void onComplete(Task&lt;InstanceIdResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            if (task.getResult() != null) {\r\n                                String unused = LoginActivity.this.tokenid = task.getResult().getToken();\r\n                            }\r\n                            if (FirebaseAuth.getInstance().getCurrentUser() != null) {\r\n                                String unused2 = LoginActivity.this.userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n                            }\r\n                            NoteUserData noteUserData = new NoteUserData();\r\n                            noteUserData.setDoc_id(userid);\r\n                            noteUserData.setToken(tokenid);\r\n                            noteUserData.setUseremail(useremail);\r\n                            noteUserData.setUserphone(userphone);\r\n                            noteUserData.setAccountstatus(&quot;Approved&quot;);\r\n                            noteUserData.setIdcheckstatus(false);\r\n                            FirebaseFirestore.getInstance().collection(getResources().getString(R.string.dataUsers)).document(userid).set(noteUserData);\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n    \r\n\r\n   \r\n\r\n  [1]: https://i.stack.imgur.com/CUlwi.png","title":"FirebaseInstanceId Cannot resolve symbol","body":"<p>The code is working in older firebase dependencies when I upgrade to newest version getting error FirebaseInstanceId Cannot resolve symbol. Want to getToken through FirebaseInstanceId</p>\n<p>Older Version build.gradle file:</p>\n<pre><code>//Firebase\nimplementation 'com.google.firebase:firebase-auth:16.0.2'\nimplementation 'com.google.firebase:firebase-firestore:17.0.1'\nimplementation 'com.google.firebase:firebase-messaging:17.1.0'\nimplementation 'com.google.firebase:firebase-core:16.0.0'\n//FirebaseUI\nimplementation 'com.firebaseui:firebase-ui-auth:7.2.0'\n</code></pre>\n<p>Here is my New Version build.gradle file:</p>\n<pre><code>//Firebase\nimplementation platform('com.google.firebase:firebase-bom:32.1.1')\nimplementation 'com.google.firebase:firebase-firestore:'\nimplementation 'com.google.firebase:firebase-messaging:'\nimplementation 'com.google.firebase:firebase-auth:'\nimplementation 'com.google.firebase:firebase-core:'\n//FirebaseUI\nimplementation 'com.firebaseui:firebase-ui-auth:7.2.0'\n</code></pre>\n<p>How to get the token id using FirebaseInstanceId</p>\n<p><a href=\"https://i.stack.imgur.com/CUlwi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CUlwi.png\" alt=\"enter image description here\" /></a></p>\n<p>In this code</p>\n<pre><code>FirebaseInstanceId.getInstance().getInstanceId().addOnCompleteListener(new OnCompleteListener&lt;InstanceIdResult&gt;() {\n                public void onComplete(Task&lt;InstanceIdResult&gt; task) {\n                    if (task.isSuccessful()) {\n                        if (task.getResult() != null) {\n                            String unused = LoginActivity.this.tokenid = task.getResult().getToken();\n                        }\n                        if (FirebaseAuth.getInstance().getCurrentUser() != null) {\n                            String unused2 = LoginActivity.this.userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n                        }\n                        NoteUserData noteUserData = new NoteUserData();\n                        noteUserData.setDoc_id(userid);\n                        noteUserData.setToken(tokenid);\n                        noteUserData.setUseremail(useremail);\n                        noteUserData.setUserphone(userphone);\n                        noteUserData.setAccountstatus(&quot;Approved&quot;);\n                        noteUserData.setIdcheckstatus(false);\n                        FirebaseFirestore.getInstance().collection(getResources().getString(R.string.dataUsers)).document(userid).set(noteUserData);\n                    }\n                }\n            });\n</code></pre>\n"},{"tags":["java","gradle","angular-fullstack"],"owner":{"account_id":28957608,"reputation":1,"user_id":22180826,"display_name":"Niko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688579779,"creation_date":1688579779,"question_id":76622910,"body_markdown":"[enter image description here](https://i.stack.imgur.com/D6824.png)\r\nDoes anyone know why this happens. This keeps going until reaching around 100+, and I do not know why.\r\n\r\nI&#39;m a bit new, so I have not tried to do much, but I did try adding the jcenter() input in this snippet.\r\n`maven {\r\n    url &quot;https://maven.google.com&quot;\r\n}\r\njcenter()`\r\nAt one point, but that failed to work properly. ","title":"Error when running code, backend:detachedConfiguration1 is both resolvable and consumable","body":"<p><a href=\"https://i.stack.imgur.com/D6824.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nDoes anyone know why this happens. This keeps going until reaching around 100+, and I do not know why.</p>\n<p>I'm a bit new, so I have not tried to do much, but I did try adding the jcenter() input in this snippet.\n<code>maven { url &quot;https://maven.google.com&quot; } jcenter()</code>\nAt one point, but that failed to work properly.</p>\n"},{"tags":["java","file","path","filepath"],"comments":[{"owner":{"account_id":2396367,"reputation":12997,"user_id":2095090,"accept_rate":83,"display_name":"Vincent van der Weele"},"score":0,"creation_date":1363267346,"post_id":15410431,"comment_id":21788420,"body_markdown":"What doesn&#39;t work using `Path.subpath()`?","body":"What doesn&#39;t work using <code>Path.subpath()</code>?"},{"owner":{"account_id":289132,"reputation":2575,"user_id":589921,"accept_rate":83,"display_name":"Dara Java"},"score":0,"creation_date":1363267516,"post_id":15410431,"comment_id":21788512,"body_markdown":"Using `Path.subpath(0, 2)` gives me `home/Dara`. I would like to be able to say something like `Path.subpath(myPath.length() - 3, myPath.length() - 1` to get `baz/qux`.","body":"Using <code>Path.subpath(0, 2)</code> gives me <code>home&#47;Dara</code>. I would like to be able to say something like <code>Path.subpath(myPath.length() - 3, myPath.length() - 1</code> to get <code>baz&#47;qux</code>."},{"owner":{"account_id":2396367,"reputation":12997,"user_id":2095090,"accept_rate":83,"display_name":"Vincent van der Weele"},"score":3,"creation_date":1363267775,"post_id":15410431,"comment_id":21788713,"body_markdown":"Can&#39;t you use `Path.getNameCount()` for the length?","body":"Can&#39;t you use <code>Path.getNameCount()</code> for the length?"}],"answers":[{"tags":[],"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1363267319,"creation_date":1363267319,"answer_id":15410473,"question_id":15410431,"body_markdown":"You could just [`split`][1] the String or use a [`StringTokenizer`][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html","title":"Extracting parts of paths in Java","body":"<p>You could just <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"nofollow\"><code>split</code></a> the String or use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html\" rel=\"nofollow\"><code>StringTokenizer</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2461139,"reputation":4729,"user_id":2145295,"display_name":"Jean Waghetti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363268126,"creation_date":1363267424,"answer_id":15410511,"question_id":15410431,"body_markdown":"`File.getParent()` will remove the filename.\r\n\r\nAnd the path separator you will get with: `System.getProperty(&quot;file.separator&quot;)`.\r\n\r\nThen you can use `String.split()` to get each part of the path.","title":"Extracting parts of paths in Java","body":"<p><code>File.getParent()</code> will remove the filename.</p>\n\n<p>And the path separator you will get with: <code>System.getProperty(\"file.separator\")</code>.</p>\n\n<p>Then you can use <code>String.split()</code> to get each part of the path.</p>\n"},{"tags":[],"owner":{"account_id":1494613,"reputation":20480,"user_id":1400869,"accept_rate":67,"display_name":"D.R."},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1363270164,"creation_date":1363267468,"answer_id":15410530,"question_id":15410431,"body_markdown":"Not yet pretty, however, you guess the direction:\r\n\r\n    File parent = file.getParentFile();\r\n    File parent2 = parent.getParentFile();\r\n    parent2.getName() + System.getProperty(&quot;path.separator&quot;) + parent.getName()\r\n\r\n\r\nAnother option:\r\n\r\n    final int len = path.getNameCount();\r\n    path.subpath(len - 3, len - 1)\r\n\r\nEdit: You should either check len or catch the `IllegalArgumentException` to make your code more robust.","title":"Extracting parts of paths in Java","body":"<p>Not yet pretty, however, you guess the direction:</p>\n\n<pre><code>File parent = file.getParentFile();\nFile parent2 = parent.getParentFile();\nparent2.getName() + System.getProperty(\"path.separator\") + parent.getName()\n</code></pre>\n\n<p>Another option:</p>\n\n<pre><code>final int len = path.getNameCount();\npath.subpath(len - 3, len - 1)\n</code></pre>\n\n<p>Edit: You should either check len or catch the <code>IllegalArgumentException</code> to make your code more robust.</p>\n"},{"tags":[],"owner":{"account_id":45571,"reputation":674,"user_id":134380,"display_name":"Juergen Hartelt"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1363269937,"creation_date":1363268378,"answer_id":15410932,"question_id":15410431,"body_markdown":"The methods `getNameCount()` and `getName(int index)` of `java.nio.Path` should help you:\r\n\r\n    File f = new File(&quot;/home/Dara/Desktop/foo/bar/baz/qux/file.txt&quot;);\r\n    Path p = f.toPath();\r\n    int pathElements = p.getNameCount();\r\n    String topOne = p.getName(pathElements-2).toString();\r\n    String topTwo = p.getName(pathElements-3).toString();\r\n\r\nPlease be aware, that the result of `getNameCount()` should be checked for validity, before using it as an index for `getName()`.\r\n\r\n","title":"Extracting parts of paths in Java","body":"<p>The methods <code>getNameCount()</code> and <code>getName(int index)</code> of <code>java.nio.Path</code> should help you:</p>\n\n<pre><code>File f = new File(\"/home/Dara/Desktop/foo/bar/baz/qux/file.txt\");\nPath p = f.toPath();\nint pathElements = p.getNameCount();\nString topOne = p.getName(pathElements-2).toString();\nString topTwo = p.getName(pathElements-3).toString();\n</code></pre>\n\n<p>Please be aware, that the result of <code>getNameCount()</code> should be checked for validity, before using it as an index for <code>getName()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2760668,"reputation":2685,"user_id":2377639,"display_name":"Will Humphreys"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506284677,"creation_date":1506248312,"answer_id":46388973,"question_id":15410431,"body_markdown":"Using subpath and getNameCount.\r\n\r\n        Path myPath = Paths.get(&quot;/home/Dara/Desktop/foo/bar/baz/qux/file.txt&quot;);\r\n        Path subPath = myPath.subpath(myPath.getNameCount() -3, myPath.getNameCount() -1);","title":"Extracting parts of paths in Java","body":"<p>Using subpath and getNameCount.</p>\n\n<pre><code>    Path myPath = Paths.get(\"/home/Dara/Desktop/foo/bar/baz/qux/file.txt\");\n    Path subPath = myPath.subpath(myPath.getNameCount() -3, myPath.getNameCount() -1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":977258,"reputation":3591,"user_id":997977,"accept_rate":36,"display_name":"Juan Rada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688579434,"creation_date":1688579434,"answer_id":76622869,"question_id":15410431,"body_markdown":"To get path parts in Koltin\r\n\r\n    fun subPaths(path: Path, levels: Int): List&lt;Path&gt; {\r\n        return path.runningReduce { acc, value -&gt; acc.resolve(value) }.take(levels)\r\n    }","title":"Extracting parts of paths in Java","body":"<p>To get path parts in Koltin</p>\n<pre><code>fun subPaths(path: Path, levels: Int): List&lt;Path&gt; {\n    return path.runningReduce { acc, value -&gt; acc.resolve(value) }.take(levels)\n}\n</code></pre>\n"}],"owner":{"account_id":289132,"reputation":2575,"user_id":589921,"accept_rate":83,"display_name":"Dara Java"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16334,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":15410530,"answer_count":6,"score":11,"last_activity_date":1688579434,"creation_date":1363267220,"question_id":15410431,"body_markdown":"I have a file path like this:\r\n\r\n    /home/Dara/Desktop/foo/bar/baz/qux/file.txt\r\n\r\nIn Java, I would like to be able to get the **top two** folders. Ie. `baz/qux` regardless of file path length or operating system (File path separators such as `/` `:` and `\\`). I have tried to use the `subpath()` method in `Paths` but I can&#39;t seem to find a generic way to get the length of the file path.","title":"Extracting parts of paths in Java","body":"<p>I have a file path like this:</p>\n\n<pre><code>/home/Dara/Desktop/foo/bar/baz/qux/file.txt\n</code></pre>\n\n<p>In Java, I would like to be able to get the <strong>top two</strong> folders. Ie. <code>baz/qux</code> regardless of file path length or operating system (File path separators such as <code>/</code> <code>:</code> and <code>\\</code>). I have tried to use the <code>subpath()</code> method in <code>Paths</code> but I can't seem to find a generic way to get the length of the file path.</p>\n"},{"tags":["java","spring","reactive","rsocket"],"owner":{"account_id":28956501,"reputation":1,"user_id":22179953,"display_name":"Dmitry Kropotov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688579333,"creation_date":1688579333,"question_id":76622849,"body_markdown":"everyone\r\nI try to call @MessageMapping endpoint using RSocketRequester.\r\nMy controller class which contains endpoint I want to be called is\r\n\r\n```\r\n@RestController\r\npublic class SomeController {\r\n    private static final Logger LOG = LoggerFactory.getLogger(SomeController.class);\r\n  \r\n    private TronCache&lt;String, RSocketConsumer&gt; consumersMapWarpper;\r\n    private Map&lt;String, RSocketConsumer&gt; consumersMap;\r\n    private Map&lt;String, CacheMetaInfo&gt; cacheMetaInfoMap = new HashMap();\r\n    private static final String GET_METADATA = &quot;getMetadata&quot;;\r\n\r\n    public SomeController() {\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        LOG.info(&quot;init in SomeController&quot;);\r\n    }\r\n\r\n    @ConnectMapping({&quot;handshake&quot;})\r\n    public void connect(RSocketRequester requester, @Payload RefDataRequest payload) {\r\n        LOG.info(&quot;Client Connection Handshake: [{}]&quot;, payload.getCallerName());\r\n        this.validateConnection(payload);\r\n        requester.route(&quot;handshake&quot;, new Object[0]).data(RefDataResponse.HANDSHAKE.callerName(this.instanceConfig.getPodName())).retrieveMono(ConsumerNotification.class).subscribe((c) -&gt; {\r\n            LOG.info(&quot;SOD Status[{}] Consumer[{}]&quot;, c.isSodCompleted(), c.getCallerName());\r\n            RSocketConsumer consumer = new RSocketConsumer(payload.getCallerName(), c, requester);\r\n            this.consumersMap.computeIfAbsent(payload.getCallerName(), (v) -&gt; {\r\n                return consumer;\r\n            });\r\n            this.setDisconnectionHandler(consumer);\r\n            this.itrsUpdater.publishAddConsumer(payload.getCallerName());\r\n        });\r\n    }\r\n\r\n    @ConnectMapping({&quot;genericConnection&quot;})\r\n    public void connectForProperty(RSocketRequester requester, @Payload RefDataRequest payload) {\r\n        LOG.info(&quot;Client Connection : [{}] [{}] &quot;, &quot;Generic [One time] Connection&quot;, payload.getCallerName());\r\n        this.validateConnection(payload);\r\n    }\r\n\r\n    @MessageMapping ({&quot;test&quot;})\r\n    public Mono&lt;String&gt; getString(String s) {\r\n        LOG.info(&quot;test in RefDataController&quot;);\r\n        return Mono.just(&quot;string&quot;);\r\n    }\r\n\r\n}\r\n```\r\nMy class in another application which calls endpoint is \r\n```\r\npublic class RSocketConnector {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(RSocketRefDataConnector.class);\r\n\r\n    private RSocketRequester requester;\r\n    private boolean initialized;\r\n    private final String host;\r\n    private final int port;\r\n\r\n    private final String podName;\r\n    private final String environment;\r\n    private final String setupRoute;\r\n\r\n \r\n    private final String encoders;\r\n\r\n    private final String decoders;\r\n\r\n\r\n    public String getHost() {\r\n        return host;\r\n    }\r\n\r\n\r\n    /**\r\n     * @param host\r\n     * @param port\r\n     * @param podName\r\n     * @param environment\r\n     * @param encoders\r\n     * @param decoders\r\n     */\r\n    private RSocketRefDataConnector(String host,\r\n                                    int port,\r\n                                    String podName,\r\n                                    String environment,\r\n                                    String setupRoute,\r\n                                    String encoders,\r\n                                    String decoders) {\r\n        this.host = host;\r\n        this.port = port;\r\n        this.podName = podName;\r\n        this,setupRoute = setupRoute;\r\n        this.environment = environment;\r\n        this.encoders=StringUtils.defaultIfBlank(encoders,Jackson2CborEncoder.class.getName());\r\n        this.decoders=StringUtils.defaultIfBlank(decoders,Jackson2CborDecoder.class.getName());\r\n    }\r\n\r\n  \r\n    public void initialize() {\r\n\r\n        RSocketStrategies strategies;\r\n        try {\r\n            strategies = new RSocketConfig().rsocketCustomEncoderDecoder(encoders,decoders);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        ClientTransport transport = this.createTransport(host, port);\r\n\r\n        requester = RSocketRequester.builder()\r\n                .rsocketConnector(connector -&gt; {\r\n                    connector.reconnect(getRetrySpec())\r\n                            .acceptor(RSocketMessageHandler.responder(strategies, this))\r\n                            .payloadDecoder(PayloadDecoder.ZERO_COPY);\r\n                })\r\n                .dataMimeType(MediaType.APPLICATION_CBOR)\r\n                .setupRoute(this.setupRoute)\r\n                .setupData(RefDataRequest.SIGNAL.handShake(podName, environment, TronRuntimeConfig.hostInfo()))\r\n                .rsocketStrategies(strategies)\r\n                .transport(transport);\r\n\r\n        if (!isOneTimeConnection) {\r\n            setDisconnectionHandler();\r\n            //Heartbeat check\r\n            Flux.interval(Duration.ofMinutes(1))\r\n                    .doOnNext(l -&gt; heartbeatCheck())\r\n                    .subscribe();\r\n\r\n            initialized = true;\r\n        }\r\n        //calling endpoint\r\n         requester.route(&quot;test&quot;).data(&quot;hello&quot;)\r\n                .retrieveMono(String.class)\r\n                .doOnNext(o-&gt;LOG.info(&quot;inbound message&quot;))\r\n                .onErrorContinue((e,t)-&gt;LOG.info(&quot;contine on erro&quot;))\r\n                .doOnSuccess(r -&gt; LOG.info(&quot;message from test doOnSuccess is &quot; + r))\r\n                .subscribe();\r\n    }\r\n\r\n      /**\r\n     * @param host\r\n     * @param port\r\n     * @return\r\n     */\r\n    private ClientTransport createTransport(String host, int port) {\r\n        if (isProtocolWebsocket()) {\r\n            LOG.info(&quot;SSL : {}&quot;, this.ssl);\r\n            if (this.ssl) {\r\n                LOG.info(&quot;Initializing refdata websocket secure connection [{}]&quot;, String.format(WSS_URL_PATTERN, host, port));\r\n                return WebsocketClientTransport.create(\r\n                        HttpClient.create()\r\n                                .baseUrl(String.format(WSS_URL_PATTERN, host, port))\r\n                                .secure((s) -&gt; s.sslContext(buildSslContext()))\r\n                        , WS_PATH);\r\n            } else {\r\n                LOG.info(&quot;Initializing refdata websocket connection [{}]&quot;, String.format(WS_URL_PATTERN, host, port));\r\n                return WebsocketClientTransport.create(URI.create(String.format(WS_URL_PATTERN, host, port)));\r\n            }\r\n        } else {\r\n            LOG.info(&quot;Initializing refdata TCP connection [{}:{}]&quot;, host, port);\r\n            return TcpClientTransport.create(host, port);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @return\r\n     */\r\n    private SslContext buildSslContext() {\r\n\r\n        try {\r\n            KeyManager[] keyManagers = SSLUtils.getKeyManagers(ResourceUtils.getURL(trustStore).openStream(), trustStoreSafeNet, trustStoreSafeNet);\r\n            TrustManager[] trustManagers = InsecureTrustManagerFactory.INSTANCE.getTrustManagers();//SSLUtils.getTrustManagers(ResourceUtils.getURL(trustStore).openStream(), trustStoreSafeNet);\r\n\r\n            return SslContextBuilder.forClient()\r\n                    .clientAuth(ClientAuth.REQUIRE)\r\n                    .keyManager(keyManagers[0])\r\n                    .trustManager(trustManagers[0])\r\n                    .build();\r\n\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;Exception occurred while building SSL Context [{}]&quot;, ExceptionUtils.getStackTrace(e));\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public void heartbeatCheck() {\r\n        requester.route(ROUTE_HEARTBEAT)\r\n                .data(heartbeatRequest)\r\n                .retrieveMono(RefDataResponse.class)\r\n                .subscribe(r -&gt; connectionFailed.set(false));\r\n    }\r\n\r\n    /**\r\n     * @return\r\n     */\r\n    private Retry getRetrySpec() {\r\n        if (retryLimit == 0;\r\n            return Retry\r\n                    .fixedDelay(Integer.MAX_VALUE, Duration.ofSeconds(retryInterval))\r\n                    .scheduler(Schedulers.single())\r\n                    //.doBeforeRetry(e -&gt; connectionFailed.set(true))\r\n                    .doAfterRetry(e -&gt; {\r\n                        LOG.warn(&quot;doAfterRetry===&gt;{}&quot;, e);\r\n                        this.connectionFailed.set(true);\r\n                    });\r\n        else\r\n            return Retry\r\n                    .fixedDelay(retryLimit, Duration.ofSeconds(retryInterval))\r\n                    .scheduler(Schedulers.single())\r\n                    //.doBeforeRetry(e -&gt; connectionFailed.set(true))\r\n                    .doAfterRetry(e -&gt; {\r\n                        LOG.warn(&quot;doAfterRetry===&gt;{}&quot;, e);\r\n                        this.connectionFailed.set(true);\r\n                    })\r\n                    .onRetryExhaustedThrow((rb, rs) -&gt; new RefDataException(&quot;Unable to establish connection with RefData server. # of retry attempted [&quot; + retryLimit + &quot;]&quot;));\r\n    }\r\n\r\n}\r\n\r\n```\r\nI expect to receive &quot;string&quot; after calling &quot;test&quot; endpoint. Now my connection is getting closed without returning anything","title":"How to call @MessageMapping endpoint with RSocketRequester?","body":"<p>everyone\nI try to call @MessageMapping endpoint using RSocketRequester.\nMy controller class which contains endpoint I want to be called is</p>\n<pre><code>@RestController\npublic class SomeController {\n    private static final Logger LOG = LoggerFactory.getLogger(SomeController.class);\n  \n    private TronCache&lt;String, RSocketConsumer&gt; consumersMapWarpper;\n    private Map&lt;String, RSocketConsumer&gt; consumersMap;\n    private Map&lt;String, CacheMetaInfo&gt; cacheMetaInfoMap = new HashMap();\n    private static final String GET_METADATA = &quot;getMetadata&quot;;\n\n    public SomeController() {\n    }\n\n    @PostConstruct\n    public void init() {\n        LOG.info(&quot;init in SomeController&quot;);\n    }\n\n    @ConnectMapping({&quot;handshake&quot;})\n    public void connect(RSocketRequester requester, @Payload RefDataRequest payload) {\n        LOG.info(&quot;Client Connection Handshake: [{}]&quot;, payload.getCallerName());\n        this.validateConnection(payload);\n        requester.route(&quot;handshake&quot;, new Object[0]).data(RefDataResponse.HANDSHAKE.callerName(this.instanceConfig.getPodName())).retrieveMono(ConsumerNotification.class).subscribe((c) -&gt; {\n            LOG.info(&quot;SOD Status[{}] Consumer[{}]&quot;, c.isSodCompleted(), c.getCallerName());\n            RSocketConsumer consumer = new RSocketConsumer(payload.getCallerName(), c, requester);\n            this.consumersMap.computeIfAbsent(payload.getCallerName(), (v) -&gt; {\n                return consumer;\n            });\n            this.setDisconnectionHandler(consumer);\n            this.itrsUpdater.publishAddConsumer(payload.getCallerName());\n        });\n    }\n\n    @ConnectMapping({&quot;genericConnection&quot;})\n    public void connectForProperty(RSocketRequester requester, @Payload RefDataRequest payload) {\n        LOG.info(&quot;Client Connection : [{}] [{}] &quot;, &quot;Generic [One time] Connection&quot;, payload.getCallerName());\n        this.validateConnection(payload);\n    }\n\n    @MessageMapping ({&quot;test&quot;})\n    public Mono&lt;String&gt; getString(String s) {\n        LOG.info(&quot;test in RefDataController&quot;);\n        return Mono.just(&quot;string&quot;);\n    }\n\n}\n</code></pre>\n<p>My class in another application which calls endpoint is</p>\n<pre><code>public class RSocketConnector {\n\n    private static final Logger LOG = LoggerFactory.getLogger(RSocketRefDataConnector.class);\n\n    private RSocketRequester requester;\n    private boolean initialized;\n    private final String host;\n    private final int port;\n\n    private final String podName;\n    private final String environment;\n    private final String setupRoute;\n\n \n    private final String encoders;\n\n    private final String decoders;\n\n\n    public String getHost() {\n        return host;\n    }\n\n\n    /**\n     * @param host\n     * @param port\n     * @param podName\n     * @param environment\n     * @param encoders\n     * @param decoders\n     */\n    private RSocketRefDataConnector(String host,\n                                    int port,\n                                    String podName,\n                                    String environment,\n                                    String setupRoute,\n                                    String encoders,\n                                    String decoders) {\n        this.host = host;\n        this.port = port;\n        this.podName = podName;\n        this,setupRoute = setupRoute;\n        this.environment = environment;\n        this.encoders=StringUtils.defaultIfBlank(encoders,Jackson2CborEncoder.class.getName());\n        this.decoders=StringUtils.defaultIfBlank(decoders,Jackson2CborDecoder.class.getName());\n    }\n\n  \n    public void initialize() {\n\n        RSocketStrategies strategies;\n        try {\n            strategies = new RSocketConfig().rsocketCustomEncoderDecoder(encoders,decoders);\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n        ClientTransport transport = this.createTransport(host, port);\n\n        requester = RSocketRequester.builder()\n                .rsocketConnector(connector -&gt; {\n                    connector.reconnect(getRetrySpec())\n                            .acceptor(RSocketMessageHandler.responder(strategies, this))\n                            .payloadDecoder(PayloadDecoder.ZERO_COPY);\n                })\n                .dataMimeType(MediaType.APPLICATION_CBOR)\n                .setupRoute(this.setupRoute)\n                .setupData(RefDataRequest.SIGNAL.handShake(podName, environment, TronRuntimeConfig.hostInfo()))\n                .rsocketStrategies(strategies)\n                .transport(transport);\n\n        if (!isOneTimeConnection) {\n            setDisconnectionHandler();\n            //Heartbeat check\n            Flux.interval(Duration.ofMinutes(1))\n                    .doOnNext(l -&gt; heartbeatCheck())\n                    .subscribe();\n\n            initialized = true;\n        }\n        //calling endpoint\n         requester.route(&quot;test&quot;).data(&quot;hello&quot;)\n                .retrieveMono(String.class)\n                .doOnNext(o-&gt;LOG.info(&quot;inbound message&quot;))\n                .onErrorContinue((e,t)-&gt;LOG.info(&quot;contine on erro&quot;))\n                .doOnSuccess(r -&gt; LOG.info(&quot;message from test doOnSuccess is &quot; + r))\n                .subscribe();\n    }\n\n      /**\n     * @param host\n     * @param port\n     * @return\n     */\n    private ClientTransport createTransport(String host, int port) {\n        if (isProtocolWebsocket()) {\n            LOG.info(&quot;SSL : {}&quot;, this.ssl);\n            if (this.ssl) {\n                LOG.info(&quot;Initializing refdata websocket secure connection [{}]&quot;, String.format(WSS_URL_PATTERN, host, port));\n                return WebsocketClientTransport.create(\n                        HttpClient.create()\n                                .baseUrl(String.format(WSS_URL_PATTERN, host, port))\n                                .secure((s) -&gt; s.sslContext(buildSslContext()))\n                        , WS_PATH);\n            } else {\n                LOG.info(&quot;Initializing refdata websocket connection [{}]&quot;, String.format(WS_URL_PATTERN, host, port));\n                return WebsocketClientTransport.create(URI.create(String.format(WS_URL_PATTERN, host, port)));\n            }\n        } else {\n            LOG.info(&quot;Initializing refdata TCP connection [{}:{}]&quot;, host, port);\n            return TcpClientTransport.create(host, port);\n        }\n    }\n\n    /**\n     * @return\n     */\n    private SslContext buildSslContext() {\n\n        try {\n            KeyManager[] keyManagers = SSLUtils.getKeyManagers(ResourceUtils.getURL(trustStore).openStream(), trustStoreSafeNet, trustStoreSafeNet);\n            TrustManager[] trustManagers = InsecureTrustManagerFactory.INSTANCE.getTrustManagers();//SSLUtils.getTrustManagers(ResourceUtils.getURL(trustStore).openStream(), trustStoreSafeNet);\n\n            return SslContextBuilder.forClient()\n                    .clientAuth(ClientAuth.REQUIRE)\n                    .keyManager(keyManagers[0])\n                    .trustManager(trustManagers[0])\n                    .build();\n\n        } catch (Exception e) {\n            LOG.error(&quot;Exception occurred while building SSL Context [{}]&quot;, ExceptionUtils.getStackTrace(e));\n        }\n        return null;\n    }\n\n    /**\n     *\n     */\n    public void heartbeatCheck() {\n        requester.route(ROUTE_HEARTBEAT)\n                .data(heartbeatRequest)\n                .retrieveMono(RefDataResponse.class)\n                .subscribe(r -&gt; connectionFailed.set(false));\n    }\n\n    /**\n     * @return\n     */\n    private Retry getRetrySpec() {\n        if (retryLimit == 0;\n            return Retry\n                    .fixedDelay(Integer.MAX_VALUE, Duration.ofSeconds(retryInterval))\n                    .scheduler(Schedulers.single())\n                    //.doBeforeRetry(e -&gt; connectionFailed.set(true))\n                    .doAfterRetry(e -&gt; {\n                        LOG.warn(&quot;doAfterRetry===&gt;{}&quot;, e);\n                        this.connectionFailed.set(true);\n                    });\n        else\n            return Retry\n                    .fixedDelay(retryLimit, Duration.ofSeconds(retryInterval))\n                    .scheduler(Schedulers.single())\n                    //.doBeforeRetry(e -&gt; connectionFailed.set(true))\n                    .doAfterRetry(e -&gt; {\n                        LOG.warn(&quot;doAfterRetry===&gt;{}&quot;, e);\n                        this.connectionFailed.set(true);\n                    })\n                    .onRetryExhaustedThrow((rb, rs) -&gt; new RefDataException(&quot;Unable to establish connection with RefData server. # of retry attempted [&quot; + retryLimit + &quot;]&quot;));\n    }\n\n}\n\n</code></pre>\n<p>I expect to receive &quot;string&quot; after calling &quot;test&quot; endpoint. Now my connection is getting closed without returning anything</p>\n"},{"tags":["java","spring-boot","aws-lambda","pulumi"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1688557613,"post_id":76619974,"comment_id":135088533,"body_markdown":"You are using Spring Boot 2 but are using an AWS library for Spring Boot 3... Which isn&#39;t compatible.","body":"You are using Spring Boot 2 but are using an AWS library for Spring Boot 3... Which isn&#39;t compatible."},{"owner":{"account_id":11227019,"reputation":1057,"user_id":8236354,"accept_rate":0,"display_name":"stein korsveien"},"score":0,"creation_date":1688631001,"post_id":76619974,"comment_id":135100278,"body_markdown":"It is not possible to run Pulumi Lamda Function with java17 . If I use the Springboot3 library with dependecy of the latest version and use sourceCompatibility = 11in Gradle I get following error message * What went wrong:\nExecution failed for task &#39;:compileJava&#39;.\n      &gt; No matching variant of org.springframework.boot:spring-boot-starter-web:3.1.1 was found. The consumer was configured to find a library for use during compile-time, compatible with Java 11,   What should I do to use pulumi og gradle to deploy springboot3?","body":"It is not possible to run Pulumi Lamda Function with java17 . If I use the Springboot3 library with dependecy of the latest version and use sourceCompatibility = 11in Gradle I get following error message * What went wrong: Execution failed for task &#39;:compileJava&#39;.       &gt; No matching variant of org.springframework.boot:spring-boot-starter-web:3.1.1 was found. The consumer was configured to find a library for use during compile-time, compatible with Java 11,   What should I do to use pulumi og gradle to deploy springboot3?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688631356,"post_id":76619974,"comment_id":135100358,"body_markdown":"Then you cannot use SPring BOot 3 as that has a minimum requirement of Java17 and simply won&#39;t work with anything lower then that.","body":"Then you cannot use SPring BOot 3 as that has a minimum requirement of Java17 and simply won&#39;t work with anything lower then that."}],"owner":{"account_id":11227019,"reputation":1057,"user_id":8236354,"accept_rate":0,"display_name":"stein korsveien"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688578897,"creation_date":1688557387,"question_id":76619974,"body_markdown":"I want to run Spring Boot Controllers on AWS Lamda Function. I have a Handler that looks like this:\r\n\r\n    package com.amazonaws.serverless.sample.springboot3;\r\n\r\n\r\n    import com.amazonaws.serverless.exceptions.ContainerInitializationException;\r\n    import com.amazonaws.serverless.proxy.internal.testutils.Timer;\r\n    import com.amazonaws.serverless.proxy.model.AwsProxyRequest;\r\n    import com.amazonaws.serverless.proxy.model.AwsProxyResponse;\r\n    import com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler;\r\n    import com.amazonaws.serverless.sample.springboot3.filter.CognitoIdentityFilter;\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestStreamHandler;\r\n    \r\n    import jakarta.servlet.DispatcherType;\r\n    import jakarta.servlet.FilterRegistration;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.EnumSet;\r\n    \r\n    \r\n    public class StreamLambdaHandler implements RequestStreamHandler {\r\n        private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\r\n        static {\r\n            try {\r\n                handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(Application.class);\r\n    \r\n                // For applications that take longer than 10 seconds to start, use the async builder:\r\n                // handler = new SpringBootProxyHandlerBuilder&lt;AwsProxyRequest&gt;()\r\n                //                    .defaultProxy()\r\n                //                    .asyncInit()\r\n                //                    .springBootApplication(Application.class)\r\n                //                    .buildAndInitialize();\r\n    \r\n                // we use the onStartup method of the handler to register our custom filter\r\n                handler.onStartup(servletContext -&gt; {\r\n                    FilterRegistration.Dynamic registration = servletContext.addFilter(&quot;CognitoIdentityFilter&quot;, CognitoIdentityFilter.class);\r\n                    registration.addMappingForUrlPatterns(EnumSet.of(DispatcherType.REQUEST), true, &quot;/*&quot;);\r\n                });\r\n            } catch (ContainerInitializationException e) {\r\n                // if we fail here. We re-throw the exception to force another cold start\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Could not initialize Spring Boot application&quot;, e);\r\n            }\r\n        }\r\n    \r\n        public StreamLambdaHandler() {\r\n            // we enable the timer for debugging. This SHOULD NOT be enabled in production.\r\n            Timer.enable();\r\n        }\r\n    \r\n        @Override\r\n        public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context)\r\n                throws IOException {\r\n            handler.proxyStream(inputStream, outputStream, context);\r\n        }\r\n    }\r\n\r\nThe Gradle build looks like this:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    repositories {\r\n      mavenLocal()\r\n      mavenCentral()\r\n    }\r\n    \r\n    sourceCompatibility = 11\r\n    targetCompatibility = 11\r\n    \r\n    dependencies {\r\n      implementation (\r\n              implementation(&#39;org.springframework.boot:spring-boot-starter-web:2.7.13&#39;) {\r\n                exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-tomcat&#39;\r\n              },\r\n              &#39;com.amazonaws.serverless:aws-serverless-java-container-springboot3:[2.0-SNAPSHOT,)&#39;,\r\n      )\r\n    }\r\n    \r\n    task buildZip(type: Zip) {\r\n      from compileJava\r\n      from processResources\r\n      into(&#39;lib&#39;) {\r\n        from(configurations.compileClasspath) {\r\n          exclude &#39;tomcat-embed-*&#39;\r\n        }\r\n      }\r\n    }\r\n    \r\n    build.dependsOn buildZip\r\n\r\nI deploy the code to Lamda Function with this Pulumi Code:\r\n\r\n    import * as aws from &quot;@pulumi/aws&quot;\r\n    import * as pulumi from &quot;@pulumi/pulumi&quot;;\r\n    import  {usersExecutionRole} from &quot;./UsersExecutionRole&quot;\r\n    \r\n    const stack = pulumi.getStack()\r\n    const handler= &quot;com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler&quot;\r\n    \r\n    \r\n    export const usersFunction = new aws.lambda.Function(&quot;users-function&quot;, {\r\n        code: new pulumi.asset.FileArchive(&quot;../build/distributions/pet.zip&quot;),   \r\n        runtime: aws.lambda.Runtime.Java11,\r\n        handler: handler,\r\n        role: usersExecutionRole.arn,\r\n        name: stack + &#39;-&#39; +&quot;petsFunction&quot;,\r\n        memorySize: 10240,\r\n        timeout: 900,\r\n        tracingConfig:{mode:&quot;Active&quot;},\r\n        architectures:[&quot;arm64&quot;],\r\n        \r\n            }\r\n    \r\n    },\r\n\r\nWhen I invoke the Lamda Function with curl\r\n curl https://512lnld1ve.execute-api.eu-north-1.amazonaws.com/dev/pets\r\nI get follwing message:\r\n{&quot;message&quot;:&quot;Internal Server Error&quot;}%\r\n\r\nThe ClodWatch display following message:\r\n\r\n    Error loading class com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler: javax/servlet/ServletException: java.lang.NoClassDefFoundError\r\n    java.lang.NoClassDefFoundError: javax/servlet/ServletException\r\n    \tat org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext$Factory.create(AnnotationConfigServletWebServerApplicationContext.java:230)\r\n    \tat org.springframework.boot.DefaultApplicationContextFactory.getFromSpringFactories(DefaultApplicationContextFactory.java:61)\r\n    \tat org.springframework.boot.DefaultApplicationContextFactory.create(DefaultApplicationContextFactory.java:48)\r\n    \tat org.springframework.boot.SpringApplication.createApplicationContext(SpringApplication.java:566)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\r\n    \tat com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.initialize(SpringBootLambdaContainerHandler.java:189)\r\n    \tat com.amazonaws.serverless.proxy.InitializationWrapper.start(InitializationWrapper.java:35)\r\n    \tat com.amazonaws.serverless.proxy.spring.SpringBootProxyHandlerBuilder.buildAndInitialize(SpringBootProxyHandlerBuilder.java:79)\r\n    \tat com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.getAwsProxyHandler(SpringBootLambdaContainerHandler.java:87)\r\n    \tat com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler.&lt;clinit&gt;(StreamLambdaHandler.java:26)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletException. Current classpath: file:/var/task/:file:/var/task/lib/aws-lambda-java-core-1.2.2.jar:file:/var/task/lib/aws-serverless-java-container-core-2.0.0-M1.jar:file:/var/task/lib/aws-serverless-java-container-springboot3-2.0.0-M1.jar:file:/var/task/lib/commons-io-2.12.0.jar:file:/var/task/lib/jackson-annotations-2.15.1.jar:file:/var/task/lib/jackson-core-2.15.1.jar:file:/var/task/lib/jackson-databind-2.15.1.jar:file:/var/task/lib/jackson-datatype-jdk8-2.15.1.jar:file:/var/task/lib/jackson-datatype-jsr310-2.15.1.jar:file:/var/task/lib/jackson-module-afterburner-2.15.1.jar:file:/var/task/lib/jackson-module-parameter-names-2.15.1.jar:file:/var/task/lib/jakarta.annotation-api-1.3.5.jar:file:/var/task/lib/jakarta.servlet-api-6.0.0.jar:file:/var/task/lib/jakarta.ws.rs-api-3.1.0.jar:file:/var/task/lib/jul-to-slf4j-1.7.36.jar:file:/var/task/lib/log4j-api-2.17.2.jar:file:/var/task/lib/log4j-to-slf4j-2.17.2.jar:file:/var/task/lib/logback-classic-1.2.12.jar:file:/var/task/lib/logback-core-1.2.12.jar:file:/var/task/lib/slf4j-api-2.0.7.jar:file:/var/task/lib/snakeyaml-1.30.jar:file:/var/task/lib/spring-aop-5.3.28.jar:file:/var/task/lib/spring-beans-5.3.28.jar:file:/var/task/lib/spring-boot-2.7.13.jar:file:/var/task/lib/spring-boot-autoconfigure-2.7.13.jar:file:/var/task/lib/spring-boot-starter-2.7.13.jar:file:/var/task/lib/spring-boot-starter-json-2.7.13.jar:file:/var/task/lib/spring-boot-starter-logging-2.7.13.jar:file:/var/task/lib/spring-boot-starter-web-2.7.13.jar:file:/var/task/lib/spring-context-5.3.28.jar:file:/var/task/lib/spring-core-5.3.28.jar:file:/var/task/lib/spring-expression-5.3.28.jar:file:/var/task/lib/spring-jcl-5.3.28.jar:file:/var/task/lib/spring-web-5.3.28.jar:file:/var/task/lib/spring-webmvc-5.3.28.jar\r\n\r\nHow do I fix this error?\r\n","title":"How do i solve the error in my Lamda Function the deploy spring boot?","body":"<p>I want to run Spring Boot Controllers on AWS Lamda Function. I have a Handler that looks like this:</p>\n<pre><code>package com.amazonaws.serverless.sample.springboot3;\n\n\nimport com.amazonaws.serverless.exceptions.ContainerInitializationException;\nimport com.amazonaws.serverless.proxy.internal.testutils.Timer;\nimport com.amazonaws.serverless.proxy.model.AwsProxyRequest;\nimport com.amazonaws.serverless.proxy.model.AwsProxyResponse;\nimport com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler;\nimport com.amazonaws.serverless.sample.springboot3.filter.CognitoIdentityFilter;\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestStreamHandler;\n\nimport jakarta.servlet.DispatcherType;\nimport jakarta.servlet.FilterRegistration;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.EnumSet;\n\n\npublic class StreamLambdaHandler implements RequestStreamHandler {\n    private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\n    static {\n        try {\n            handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(Application.class);\n\n            // For applications that take longer than 10 seconds to start, use the async builder:\n            // handler = new SpringBootProxyHandlerBuilder&lt;AwsProxyRequest&gt;()\n            //                    .defaultProxy()\n            //                    .asyncInit()\n            //                    .springBootApplication(Application.class)\n            //                    .buildAndInitialize();\n\n            // we use the onStartup method of the handler to register our custom filter\n            handler.onStartup(servletContext -&gt; {\n                FilterRegistration.Dynamic registration = servletContext.addFilter(&quot;CognitoIdentityFilter&quot;, CognitoIdentityFilter.class);\n                registration.addMappingForUrlPatterns(EnumSet.of(DispatcherType.REQUEST), true, &quot;/*&quot;);\n            });\n        } catch (ContainerInitializationException e) {\n            // if we fail here. We re-throw the exception to force another cold start\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Could not initialize Spring Boot application&quot;, e);\n        }\n    }\n\n    public StreamLambdaHandler() {\n        // we enable the timer for debugging. This SHOULD NOT be enabled in production.\n        Timer.enable();\n    }\n\n    @Override\n    public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context)\n            throws IOException {\n        handler.proxyStream(inputStream, outputStream, context);\n    }\n}\n</code></pre>\n<p>The Gradle build looks like this:</p>\n<pre><code>apply plugin: 'java'\n\nrepositories {\n  mavenLocal()\n  mavenCentral()\n}\n\nsourceCompatibility = 11\ntargetCompatibility = 11\n\ndependencies {\n  implementation (\n          implementation('org.springframework.boot:spring-boot-starter-web:2.7.13') {\n            exclude group: 'org.springframework.boot', module: 'spring-boot-starter-tomcat'\n          },\n          'com.amazonaws.serverless:aws-serverless-java-container-springboot3:[2.0-SNAPSHOT,)',\n  )\n}\n\ntask buildZip(type: Zip) {\n  from compileJava\n  from processResources\n  into('lib') {\n    from(configurations.compileClasspath) {\n      exclude 'tomcat-embed-*'\n    }\n  }\n}\n\nbuild.dependsOn buildZip\n</code></pre>\n<p>I deploy the code to Lamda Function with this Pulumi Code:</p>\n<pre><code>import * as aws from &quot;@pulumi/aws&quot;\nimport * as pulumi from &quot;@pulumi/pulumi&quot;;\nimport  {usersExecutionRole} from &quot;./UsersExecutionRole&quot;\n\nconst stack = pulumi.getStack()\nconst handler= &quot;com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler&quot;\n\n\nexport const usersFunction = new aws.lambda.Function(&quot;users-function&quot;, {\n    code: new pulumi.asset.FileArchive(&quot;../build/distributions/pet.zip&quot;),   \n    runtime: aws.lambda.Runtime.Java11,\n    handler: handler,\n    role: usersExecutionRole.arn,\n    name: stack + '-' +&quot;petsFunction&quot;,\n    memorySize: 10240,\n    timeout: 900,\n    tracingConfig:{mode:&quot;Active&quot;},\n    architectures:[&quot;arm64&quot;],\n    \n        }\n\n},\n</code></pre>\n<p>When I invoke the Lamda Function with curl\ncurl <a href=\"https://512lnld1ve.execute-api.eu-north-1.amazonaws.com/dev/pets\" rel=\"nofollow noreferrer\">https://512lnld1ve.execute-api.eu-north-1.amazonaws.com/dev/pets</a>\nI get follwing message:\n{&quot;message&quot;:&quot;Internal Server Error&quot;}%</p>\n<p>The ClodWatch display following message:</p>\n<pre><code>Error loading class com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler: javax/servlet/ServletException: java.lang.NoClassDefFoundError\njava.lang.NoClassDefFoundError: javax/servlet/ServletException\n    at org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext$Factory.create(AnnotationConfigServletWebServerApplicationContext.java:230)\n    at org.springframework.boot.DefaultApplicationContextFactory.getFromSpringFactories(DefaultApplicationContextFactory.java:61)\n    at org.springframework.boot.DefaultApplicationContextFactory.create(DefaultApplicationContextFactory.java:48)\n    at org.springframework.boot.SpringApplication.createApplicationContext(SpringApplication.java:566)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\n    at com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.initialize(SpringBootLambdaContainerHandler.java:189)\n    at com.amazonaws.serverless.proxy.InitializationWrapper.start(InitializationWrapper.java:35)\n    at com.amazonaws.serverless.proxy.spring.SpringBootProxyHandlerBuilder.buildAndInitialize(SpringBootProxyHandlerBuilder.java:79)\n    at com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.getAwsProxyHandler(SpringBootLambdaContainerHandler.java:87)\n    at com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler.&lt;clinit&gt;(StreamLambdaHandler.java:26)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletException. Current classpath: file:/var/task/:file:/var/task/lib/aws-lambda-java-core-1.2.2.jar:file:/var/task/lib/aws-serverless-java-container-core-2.0.0-M1.jar:file:/var/task/lib/aws-serverless-java-container-springboot3-2.0.0-M1.jar:file:/var/task/lib/commons-io-2.12.0.jar:file:/var/task/lib/jackson-annotations-2.15.1.jar:file:/var/task/lib/jackson-core-2.15.1.jar:file:/var/task/lib/jackson-databind-2.15.1.jar:file:/var/task/lib/jackson-datatype-jdk8-2.15.1.jar:file:/var/task/lib/jackson-datatype-jsr310-2.15.1.jar:file:/var/task/lib/jackson-module-afterburner-2.15.1.jar:file:/var/task/lib/jackson-module-parameter-names-2.15.1.jar:file:/var/task/lib/jakarta.annotation-api-1.3.5.jar:file:/var/task/lib/jakarta.servlet-api-6.0.0.jar:file:/var/task/lib/jakarta.ws.rs-api-3.1.0.jar:file:/var/task/lib/jul-to-slf4j-1.7.36.jar:file:/var/task/lib/log4j-api-2.17.2.jar:file:/var/task/lib/log4j-to-slf4j-2.17.2.jar:file:/var/task/lib/logback-classic-1.2.12.jar:file:/var/task/lib/logback-core-1.2.12.jar:file:/var/task/lib/slf4j-api-2.0.7.jar:file:/var/task/lib/snakeyaml-1.30.jar:file:/var/task/lib/spring-aop-5.3.28.jar:file:/var/task/lib/spring-beans-5.3.28.jar:file:/var/task/lib/spring-boot-2.7.13.jar:file:/var/task/lib/spring-boot-autoconfigure-2.7.13.jar:file:/var/task/lib/spring-boot-starter-2.7.13.jar:file:/var/task/lib/spring-boot-starter-json-2.7.13.jar:file:/var/task/lib/spring-boot-starter-logging-2.7.13.jar:file:/var/task/lib/spring-boot-starter-web-2.7.13.jar:file:/var/task/lib/spring-context-5.3.28.jar:file:/var/task/lib/spring-core-5.3.28.jar:file:/var/task/lib/spring-expression-5.3.28.jar:file:/var/task/lib/spring-jcl-5.3.28.jar:file:/var/task/lib/spring-web-5.3.28.jar:file:/var/task/lib/spring-webmvc-5.3.28.jar\n</code></pre>\n<p>How do I fix this error?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24822219,"reputation":16,"user_id":18702437,"display_name":"jsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688578739,"creation_date":1688578739,"answer_id":76622786,"question_id":76622711,"body_markdown":"It looks like you&#39;re using MapStruct to generate the mappers, the proper way to generate the mappers as a Spring bean is to use `@Mapper(componentModel = &quot;spring&quot;)`. Reference [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/mapstruct#Injection","title":"Parameter 1 of constructor in package.Endpoint required a bean of type package.UserMapper that could not be found","body":"<p>It looks like you're using MapStruct to generate the mappers, the proper way to generate the mappers as a Spring bean is to use <code>@Mapper(componentModel = &quot;spring&quot;)</code>. Reference <a href=\"https://www.baeldung.com/mapstruct#Injection\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"display_name":"user10190607"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76622786,"answer_count":1,"score":0,"last_activity_date":1688578739,"creation_date":1688578024,"question_id":76622711,"body_markdown":"I am creating a basic SpringBoot RestApi and now I created a endpoint, which returns me a list of all users in the db.\r\n\r\n    @RestController\r\n    public class UserEndpoint {\r\n        private final UserRepository userRepository;\r\n    \r\n        private final UserMapper userMapper;\r\n    \r\n        public UserEndpoint(UserRepository userRepository, UserMapper userMapper) {\r\n            this.userRepository = userRepository;\r\n            this.userMapper = userMapper;\r\n        }\r\n    \r\n        @GetMapping(&quot;/getAll&quot;)\r\n        public List&lt;UserEntityDto&gt; getAllUser() {\r\n            List&lt;UserEntity&gt; entityList = userRepository.findAll();\r\n            List&lt;UserEntityDto&gt; list = new ArrayList&lt;&gt;();\r\n            for(UserEntity userEntity : entityList) {\r\n                list.add(userMapper.toDto(userEntity));\r\n            }\r\n            return list;\r\n        }\r\n    }\r\n\r\nThe problem is, when I want to start the application i get the following error:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 1 of constructor in com.spring.connectpostgresql.endpoint.UserEndpoint required a bean of type &#39;com.spring.connectpostgresql.mapper.UserMapper&#39; that could not be found.\r\n\r\nMy UserMapper looks like this:\r\n\r\n    @Mapper\r\n    public interface UserMapper {\r\n        UserEntity toEntity(UserEntityDto userEntityDto);\r\n        UserEntityDto toDto(UserEntity userEntity);\r\n    }\r\n\r\nCould anyone explain to me why I get this error and what it means. ","title":"Parameter 1 of constructor in package.Endpoint required a bean of type package.UserMapper that could not be found","body":"<p>I am creating a basic SpringBoot RestApi and now I created a endpoint, which returns me a list of all users in the db.</p>\n<pre><code>@RestController\npublic class UserEndpoint {\n    private final UserRepository userRepository;\n\n    private final UserMapper userMapper;\n\n    public UserEndpoint(UserRepository userRepository, UserMapper userMapper) {\n        this.userRepository = userRepository;\n        this.userMapper = userMapper;\n    }\n\n    @GetMapping(&quot;/getAll&quot;)\n    public List&lt;UserEntityDto&gt; getAllUser() {\n        List&lt;UserEntity&gt; entityList = userRepository.findAll();\n        List&lt;UserEntityDto&gt; list = new ArrayList&lt;&gt;();\n        for(UserEntity userEntity : entityList) {\n            list.add(userMapper.toDto(userEntity));\n        }\n        return list;\n    }\n}\n</code></pre>\n<p>The problem is, when I want to start the application i get the following error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in com.spring.connectpostgresql.endpoint.UserEndpoint required a bean of type 'com.spring.connectpostgresql.mapper.UserMapper' that could not be found.\n</code></pre>\n<p>My UserMapper looks like this:</p>\n<pre><code>@Mapper\npublic interface UserMapper {\n    UserEntity toEntity(UserEntityDto userEntityDto);\n    UserEntityDto toDto(UserEntity userEntity);\n}\n</code></pre>\n<p>Could anyone explain to me why I get this error and what it means.</p>\n"},{"tags":["java","android","retrofit","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688578140,"creation_date":1688578140,"answer_id":76622721,"question_id":76622200,"body_markdown":"To post file parameters in an api, we have to use the @Multipart annotation with the retrofit post function.\r\nThe types of part data that we can receive is  FormItem or FileItem there are some more of them but they are not relevant for using it in android.\r\n\r\n**FormItem** : A string which contains data about the FileItem, if we would want to pass file name along with the file.\r\n\r\n**FileItem** : It consists of the actual file where each partData would have a name that’s how check distinguish different files.\r\n\r\nCreating an ApiIInterface class which contains the @**Multipart** annotation and each of the parameter which represent the part data must be annotated with @Part and it should be of the type of MultipartBody.Part.\r\n\r\n[Reference along with api implementation][1]\r\n\r\n\r\n  [1]: https://www.section.io/engineering-education/making-multipart-requests-in-android-with-retrofit/","title":"Post data using Retrofit","body":"<p>To post file parameters in an api, we have to use the @Multipart annotation with the retrofit post function.\nThe types of part data that we can receive is  FormItem or FileItem there are some more of them but they are not relevant for using it in android.</p>\n<p><strong>FormItem</strong> : A string which contains data about the FileItem, if we would want to pass file name along with the file.</p>\n<p><strong>FileItem</strong> : It consists of the actual file where each partData would have a name that’s how check distinguish different files.</p>\n<p>Creating an ApiIInterface class which contains the @<strong>Multipart</strong> annotation and each of the parameter which represent the part data must be annotated with @Part and it should be of the type of MultipartBody.Part.</p>\n<p><a href=\"https://www.section.io/engineering-education/making-multipart-requests-in-android-with-retrofit/\" rel=\"nofollow noreferrer\">Reference along with api implementation</a></p>\n"}],"owner":{"account_id":25822614,"reputation":1,"user_id":19561428,"display_name":"حسام عليان"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688578140,"creation_date":1688573607,"question_id":76622200,"body_markdown":"I made an Android application and I need to Post classA to API:\r\n\r\n```\r\npublic class ClassA {\r\n    private int itemA;\r\n    private int itemB;\r\n    private List&lt;ClassB&gt; claasB;\r\n}\r\npublic class ClassB {\r\n    private String a;\r\n    private String b;\r\n    private File image;\r\n}\r\n\r\n```\r\nThis classB contain image as one of his fields \r\n\r\n\r\nMy questions:\r\n\r\n1. what is the correct type of image should be in Java in Android, and correct type at API dot net?\r\n\r\n2. what the the correct interface in retrofit to send this data? \r\n\r\n3- what should API look like to receive this request\r\n","title":"Post data using Retrofit","body":"<p>I made an Android application and I need to Post classA to API:</p>\n<pre><code>public class ClassA {\n    private int itemA;\n    private int itemB;\n    private List&lt;ClassB&gt; claasB;\n}\npublic class ClassB {\n    private String a;\n    private String b;\n    private File image;\n}\n\n</code></pre>\n<p>This classB contain image as one of his fields</p>\n<p>My questions:</p>\n<ol>\n<li><p>what is the correct type of image should be in Java in Android, and correct type at API dot net?</p>\n</li>\n<li><p>what the the correct interface in retrofit to send this data?</p>\n</li>\n</ol>\n<p>3- what should API look like to receive this request</p>\n"},{"tags":["java","spring-boot","caching","ehcache","ehcache-3"],"owner":{"account_id":20532769,"reputation":1,"user_id":15069594,"display_name":"Gir Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688578074,"creation_date":1688576468,"question_id":76622522,"body_markdown":"I have a use case where I want to use caching for the API response, but I am not able to do it using EhCache, I am getting the error:\r\n\r\n`Cannot find cache named &#39;EBPICache&#39; for Builder[public java.lang.String com.xxx.xxxx.xxxxx.xxxxx.EBPSOfferingService.getMockOfferings(java.lang.String)] caches=[EBPICache] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;`\r\n\r\nThis is my code:\r\n\r\nCacheProvider.java\r\n\r\n```\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport javax.cache.Cache;\r\nimport javax.cache.CacheManager;\r\nimport javax.cache.Caching;\r\nimport javax.cache.configuration.MutableConfiguration;\r\nimport javax.cache.expiry.CreatedExpiryPolicy;\r\nimport javax.cache.expiry.Duration;\r\nimport javax.cache.spi.CachingProvider;\r\n\r\n\r\n@EnableCaching\r\n@Configuration(&quot;CacheProvider&quot;)\r\npublic class CacheProvider {\r\n\r\n    private static final int cacheSize=100;\r\n\r\n    @Bean\r\n    public CacheManager ehCacheManager() {\r\n        CachingProvider provider = Caching.getCachingProvider();\r\n        CacheManager cacheManager = provider.getCacheManager();\r\n        MutableConfiguration&lt;Object,Object&gt; configuration =\r\n                new MutableConfiguration&lt;Object, Object&gt;()\r\n                        .setTypes(Object.class, Object.class)\r\n                        .setExpiryPolicyFactory(CreatedExpiryPolicy.factoryOf(Duration.ONE_HOUR));\r\n\r\n        Cache&lt;Object,Object&gt; cache = cacheManager.createCache(&quot;EBPICache&quot;, configuration);\r\n        return cacheManager;\r\n    }\r\n}\r\n```\r\n\r\nand EBPSOfferingService:\r\n\r\n```\r\n\r\nimport org.springframework.cache.annotation.CacheEvict;\r\nimport org.springframework.cache.annotation.CachePut;\r\nimport org.springframework.cache.annotation.Cacheable;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.cache.annotation.CacheKey;\r\n\r\n@Service\r\npublic class EBPSOfferingService {\r\n\r\n    @Cacheable(cacheNames = &quot;EBPICache&quot;)\r\n    public String getMockOfferings(@CacheKey String can) {\r\n        int sleepTime = 166;\r\n        System.out.println(&quot;Sleeping for &quot; + sleepTime + &quot; milliseconds&quot;);\r\n        try{\r\n            Thread.sleep(sleepTime);\r\n        }\r\n        catch(Exception e){\r\n            System.out.println(&quot;Exception occurred while executing sleep method of thread&quot;);\r\n        }\r\n        return String.format(&quot;Hello! Welcome to EBPI Mock Service. The can is %s&quot;,can);\r\n    }\r\n\r\n    @CacheEvict(cacheNames = &quot;EBPICache&quot;)\r\n    public void clearMockOfferings(@CacheKey String can){\r\n        System.out.println(&quot;clearMockOfferings invoked for CAN=&quot; + can);\r\n    }\r\n\r\n    @CacheEvict(allEntries = true)\r\n    public void clearAllOfferings(){\r\n        System.out.println(&quot;clearAllOfferings Invoked&quot;);\r\n    }\r\n\r\n    @CachePut(cacheNames = &quot;EBPICache&quot;)\r\n    public String updateMockOfferings(@CacheKey String can, String newValue) {\r\n        System.out.println(&quot;Updating cache entry for key= &quot;+can+ &quot; and new Value is &quot;+newValue);\r\n        return newValue;\r\n    }\r\n}\r\n```\r\n\r\nCan anyone please help me with, why this error is there and how to fix it? I have tried looking many stackOverflow answers, none of them seem to work.The solution mentioned here works: [https://stackoverflow.com/questions/72723378/ehcache-cannot-find-cache-name-for-builder](https://stackoverflow.com/questions/72723378/ehcache-cannot-find-cache-name-for-builder), but I want to use mutable configuration, because it provides much more flexibility. Thanks a lot in advance, I have been struggling for the past 2 days on this!\r\n","title":"Cannot find cache named &#39;EBPICache&#39; for Builder[public java.lang.String com.xxx.xxx.xxx.getMockOfferings(java.lang.String)] EhCache","body":"<p>I have a use case where I want to use caching for the API response, but I am not able to do it using EhCache, I am getting the error:</p>\n<p><code>Cannot find cache named 'EBPICache' for Builder[public java.lang.String com.xxx.xxxx.xxxxx.xxxxx.EBPSOfferingService.getMockOfferings(java.lang.String)] caches=[EBPICache] | key='' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'</code></p>\n<p>This is my code:</p>\n<p>CacheProvider.java</p>\n<pre><code>import org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.cache.Cache;\nimport javax.cache.CacheManager;\nimport javax.cache.Caching;\nimport javax.cache.configuration.MutableConfiguration;\nimport javax.cache.expiry.CreatedExpiryPolicy;\nimport javax.cache.expiry.Duration;\nimport javax.cache.spi.CachingProvider;\n\n\n@EnableCaching\n@Configuration(&quot;CacheProvider&quot;)\npublic class CacheProvider {\n\n    private static final int cacheSize=100;\n\n    @Bean\n    public CacheManager ehCacheManager() {\n        CachingProvider provider = Caching.getCachingProvider();\n        CacheManager cacheManager = provider.getCacheManager();\n        MutableConfiguration&lt;Object,Object&gt; configuration =\n                new MutableConfiguration&lt;Object, Object&gt;()\n                        .setTypes(Object.class, Object.class)\n                        .setExpiryPolicyFactory(CreatedExpiryPolicy.factoryOf(Duration.ONE_HOUR));\n\n        Cache&lt;Object,Object&gt; cache = cacheManager.createCache(&quot;EBPICache&quot;, configuration);\n        return cacheManager;\n    }\n}\n</code></pre>\n<p>and EBPSOfferingService:</p>\n<pre><code>\nimport org.springframework.cache.annotation.CacheEvict;\nimport org.springframework.cache.annotation.CachePut;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.stereotype.Service;\n\nimport javax.cache.annotation.CacheKey;\n\n@Service\npublic class EBPSOfferingService {\n\n    @Cacheable(cacheNames = &quot;EBPICache&quot;)\n    public String getMockOfferings(@CacheKey String can) {\n        int sleepTime = 166;\n        System.out.println(&quot;Sleeping for &quot; + sleepTime + &quot; milliseconds&quot;);\n        try{\n            Thread.sleep(sleepTime);\n        }\n        catch(Exception e){\n            System.out.println(&quot;Exception occurred while executing sleep method of thread&quot;);\n        }\n        return String.format(&quot;Hello! Welcome to EBPI Mock Service. The can is %s&quot;,can);\n    }\n\n    @CacheEvict(cacheNames = &quot;EBPICache&quot;)\n    public void clearMockOfferings(@CacheKey String can){\n        System.out.println(&quot;clearMockOfferings invoked for CAN=&quot; + can);\n    }\n\n    @CacheEvict(allEntries = true)\n    public void clearAllOfferings(){\n        System.out.println(&quot;clearAllOfferings Invoked&quot;);\n    }\n\n    @CachePut(cacheNames = &quot;EBPICache&quot;)\n    public String updateMockOfferings(@CacheKey String can, String newValue) {\n        System.out.println(&quot;Updating cache entry for key= &quot;+can+ &quot; and new Value is &quot;+newValue);\n        return newValue;\n    }\n}\n</code></pre>\n<p>Can anyone please help me with, why this error is there and how to fix it? I have tried looking many stackOverflow answers, none of them seem to work.The solution mentioned here works: <a href=\"https://stackoverflow.com/questions/72723378/ehcache-cannot-find-cache-name-for-builder\">Ehcache - Cannot find cache name for Builder</a>, but I want to use mutable configuration, because it provides much more flexibility. Thanks a lot in advance, I have been struggling for the past 2 days on this!</p>\n"},{"tags":["java","spring","spring-boot","hibernate","ehcache"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688622808,"post_id":76622683,"comment_id":135098785,"body_markdown":"You cannot, unless you add properties and add a java based configuration to configure EhCache.","body":"You cannot, unless you add properties and add a java based configuration to configure EhCache."},{"owner":{"account_id":14630117,"reputation":63,"user_id":10566203,"display_name":"Kapil khandelwal"},"score":0,"creation_date":1688624597,"post_id":76622683,"comment_id":135099047,"body_markdown":"@M.Deinum can you please share any resource where this type of configuration is used?","body":"@M.Deinum can you please share any resource where this type of configuration is used?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688624748,"post_id":76622683,"comment_id":135099074,"body_markdown":"No I cannot as that isn&#39;t standard for Sprig boot and requires custom configuration classes. Basically you would need to add properties which you read and use that to configure JCache with Java. Both are explained in their respective documentation.","body":"No I cannot as that isn&#39;t standard for Sprig boot and requires custom configuration classes. Basically you would need to add properties which you read and use that to configure JCache with Java. Both are explained in their respective documentation."}],"owner":{"account_id":14630117,"reputation":63,"user_id":10566203,"display_name":"Kapil khandelwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688577775,"creation_date":1688577775,"question_id":76622683,"body_markdown":"I am trying to use ehcache for second level hibernate cache but since the properties should be defined in xml file, how can i do it using application.properties file?\r\n\r\nhere is my xml file:\r\n    `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:noNamespaceSchemaLocation=&quot;https://www.ehcache.org/ehcache.xsd&quot;\r\n    &gt;\r\n\r\n      &lt;defaultCache\r\n            maxElementsInMemory=&quot;100&quot;\r\n            timeToIdleSeconds=&quot;20000&quot;\r\n            timeToLiveSeconds=&quot;3&quot;\r\n            overflowToDisk=&quot;false&quot;\r\n            diskPersistent=&quot;false&quot;\r\n            memoryStoreEvictionPolicy=&quot;LRU&quot;\r\n     /&gt;\r\n    &lt;/ehcache&gt;`\r\n\r\nI tried using placeholder, but turns out is not supported here.","title":"Is it possible to have ehcache configuration driven by application.properties file in Spring boot?","body":"<p>I am trying to use ehcache for second level hibernate cache but since the properties should be defined in xml file, how can i do it using application.properties file?</p>\n<p>here is my xml file:\n`\n</p>\n<pre><code>  &lt;defaultCache\n        maxElementsInMemory=&quot;100&quot;\n        timeToIdleSeconds=&quot;20000&quot;\n        timeToLiveSeconds=&quot;3&quot;\n        overflowToDisk=&quot;false&quot;\n        diskPersistent=&quot;false&quot;\n        memoryStoreEvictionPolicy=&quot;LRU&quot;\n /&gt;\n&lt;/ehcache&gt;`\n</code></pre>\n<p>I tried using placeholder, but turns out is not supported here.</p>\n"},{"tags":["java","spring-boot","kotlin","springdoc"],"answers":[{"tags":[],"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619092509,"creation_date":1619092509,"answer_id":67212802,"question_id":67192746,"body_markdown":"As far as I know, you can not do it. The reason being that there&#39;s no way to change the name of the request handler by using the Swagger annotations.\r\n\r\nAnd lowerCamelCase for method/identifier names is promoted by the [Java Naming Conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) and also by the [Google Naming Convention](https://google.github.io/styleguide/javaguide.html#s5-naming). \r\n\r\nYou should still be able to compile and run the code if you don&#39;t follow the conventions. Other than that, I don&#39;t think there&#39;s an official way of changing the method name&#39;s case using Swagger directly.","title":"How to change namingStrategy in springdoc?","body":"<p>As far as I know, you can not do it. The reason being that there's no way to change the name of the request handler by using the Swagger annotations.</p>\n<p>And lowerCamelCase for method/identifier names is promoted by the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java Naming Conventions</a> and also by the <a href=\"https://google.github.io/styleguide/javaguide.html#s5-naming\" rel=\"nofollow noreferrer\">Google Naming Convention</a>.</p>\n<p>You should still be able to compile and run the code if you don't follow the conventions. Other than that, I don't think there's an official way of changing the method name's case using Swagger directly.</p>\n"},{"tags":[],"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1619100565,"creation_date":1619100565,"answer_id":67214958,"question_id":67192746,"body_markdown":"As @Debargha Roy mentioned in his answer, there is no clear way to do it via `springdoc` properties.\r\n\r\nI propose my solution for Kotlin based on [GitHub thread](https://github.com/springdoc/springdoc-openapi/issues/66).\r\n\r\nTo get `PascalCase` or `UpperCamelCase` in Swagger, you can use `ModelResolver`:\r\n\r\n    @Bean\r\n    fun modelResolver(objectMapper: ObjectMapper): ModelResolver {\r\n        return ModelResolver(jacksonObjectMapper().registerModule(KotlinModule()).setPropertyNamingStrategy(PropertyNamingStrategy.UPPER_CAMEL_CASE))\r\n    }\r\n\r\nIt doesn&#39;t resolve the output response from Spring `@RestController`.\r\n\r\nBy default, Spring uses Jackson mapper to make responses follow UpperCamelCase, use this property `spring.jackson.property-naming-strategy=UPPER_CAMEL_CASE` in properties/yaml file.\r\n\r\nAfter these 2 changes, both your Swagger and RestController will follow the UpperCamelCase style.\r\n\r\n\r\n**NOTE:**\r\n\r\nBeware, if you decided to reuse incoming `objectMapper` (see the snippet below), you may get duplicated payload with mixed camelCase:\r\n\r\n    @Bean\r\n    fun modelResolver(objectMapper: ObjectMapper): ModelResolver {\r\n        return ModelResolver(objectMapper.registerModule(KotlinModule()).setPropertyNamingStrategy(PropertyNamingStrategy.UPPER_CAMEL_CASE))\r\n    }\r\n","title":"How to change namingStrategy in springdoc?","body":"<p>As @Debargha Roy mentioned in his answer, there is no clear way to do it via <code>springdoc</code> properties.</p>\n<p>I propose my solution for Kotlin based on <a href=\"https://github.com/springdoc/springdoc-openapi/issues/66\" rel=\"nofollow noreferrer\">GitHub thread</a>.</p>\n<p>To get <code>PascalCase</code> or <code>UpperCamelCase</code> in Swagger, you can use <code>ModelResolver</code>:</p>\n<pre><code>@Bean\nfun modelResolver(objectMapper: ObjectMapper): ModelResolver {\n    return ModelResolver(jacksonObjectMapper().registerModule(KotlinModule()).setPropertyNamingStrategy(PropertyNamingStrategy.UPPER_CAMEL_CASE))\n}\n</code></pre>\n<p>It doesn't resolve the output response from Spring <code>@RestController</code>.</p>\n<p>By default, Spring uses Jackson mapper to make responses follow UpperCamelCase, use this property <code>spring.jackson.property-naming-strategy=UPPER_CAMEL_CASE</code> in properties/yaml file.</p>\n<p>After these 2 changes, both your Swagger and RestController will follow the UpperCamelCase style.</p>\n<p><strong>NOTE:</strong></p>\n<p>Beware, if you decided to reuse incoming <code>objectMapper</code> (see the snippet below), you may get duplicated payload with mixed camelCase:</p>\n<pre><code>@Bean\nfun modelResolver(objectMapper: ObjectMapper): ModelResolver {\n    return ModelResolver(objectMapper.registerModule(KotlinModule()).setPropertyNamingStrategy(PropertyNamingStrategy.UPPER_CAMEL_CASE))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19068166,"reputation":31,"user_id":14441658,"display_name":"Antero Mano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657212866,"creation_date":1657212866,"answer_id":72901646,"question_id":67192746,"body_markdown":"@Dmytro Chasovskyi solution above also worked for me on SpringDoc.\r\n\r\nI&#39;m on java Spring though, all I had to do:\r\n\r\n    @Bean\r\n    public ModelResolver modelResolver(ObjectMapper objectMapper) {\r\n      return new ModelResolver(objectMapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE));\r\n    }","title":"How to change namingStrategy in springdoc?","body":"<p>@Dmytro Chasovskyi solution above also worked for me on SpringDoc.</p>\n<p>I'm on java Spring though, all I had to do:</p>\n<pre><code>@Bean\npublic ModelResolver modelResolver(ObjectMapper objectMapper) {\n  return new ModelResolver(objectMapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8311047,"reputation":311,"user_id":6246141,"display_name":"stp18"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688577623,"creation_date":1688577623,"answer_id":76622656,"question_id":67192746,"body_markdown":"Not sure if this might be useful for someone else, I had to use:\r\n\r\n      import io.swagger.v3.core.util.Json;\r\n      @Bean\r\n      public ModelResolver modelResolverDefault() {\r\n        ObjectMapper copy = Json.mapper().copy();\r\n        return new ModelResolver(copy.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE));\r\n      }\r\n\r\nAlthough the default solution does work for snake case, I lost field description and examples, by using the springdoc default mapper as a copy everything worked.\r\n\r\nPlease note that when I tried without the copy springdoc stopped working with an error related to additional_fields in camelcase.","title":"How to change namingStrategy in springdoc?","body":"<p>Not sure if this might be useful for someone else, I had to use:</p>\n<pre><code>  import io.swagger.v3.core.util.Json;\n  @Bean\n  public ModelResolver modelResolverDefault() {\n    ObjectMapper copy = Json.mapper().copy();\n    return new ModelResolver(copy.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE));\n  }\n</code></pre>\n<p>Although the default solution does work for snake case, I lost field description and examples, by using the springdoc default mapper as a copy everything worked.</p>\n<p>Please note that when I tried without the copy springdoc stopped working with an error related to additional_fields in camelcase.</p>\n"}],"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67214958,"answer_count":4,"score":1,"last_activity_date":1688577623,"creation_date":1618996344,"question_id":67192746,"body_markdown":"I am using [`springdoc`](https://springdoc.org/#modules). It works flawlessly, except I am trying to change the default camelCase to PascalCase requests mapping.\r\n\r\nI searched through the docs and cannot find a configuration to adjust property naming.\r\n\r\nHow can I change property naming when working with `springdoc`?","title":"How to change namingStrategy in springdoc?","body":"<p>I am using <a href=\"https://springdoc.org/#modules\" rel=\"nofollow noreferrer\"><code>springdoc</code></a>. It works flawlessly, except I am trying to change the default camelCase to PascalCase requests mapping.</p>\n<p>I searched through the docs and cannot find a configuration to adjust property naming.</p>\n<p>How can I change property naming when working with <code>springdoc</code>?</p>\n"},{"tags":["java","spring","microservices","spring-cloud-gateway","application.properties"],"owner":{"account_id":20982432,"reputation":1,"user_id":15416971,"display_name":"Victor-FSF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688577570,"creation_date":1688577570,"question_id":76622652,"body_markdown":"This is my application.properties in my gateway microservice:\r\n\r\n```\r\nspring.cloud.gateway.routes[0].id=regs-auth\r\nspring.cloud.gateway.routes[0].uri=lb://regs-auth-ms\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/auth/register\r\n```\r\n\r\nThe whole project can be found on: https://github.com/VictorFerreiraS/LoginSystemBackEnd\r\n\r\nAny tip on how to get more information on spring boot cloud gateway would be lovely (despite the documentation obviously ;) )\r\n\r\n\r\nI tried this but I only got 404&#39;s in postman!\r\n\r\n```\r\nspring.cloud.gateway.routes[0].id=regs-auth\r\nspring.cloud.gateway.routes[0].uri=lb://regs-auth-ms\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/auth/register\r\nspring.cloud.gateway.routes[0].predicates[1]=Path=/api/v1/auth/authenticate\r\n\r\n```","title":"How to add new route/PREDICATE to spring cloud gateway version 4.0.6","body":"<p>This is my application.properties in my gateway microservice:</p>\n<pre><code>spring.cloud.gateway.routes[0].id=regs-auth\nspring.cloud.gateway.routes[0].uri=lb://regs-auth-ms\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/auth/register\n</code></pre>\n<p>The whole project can be found on: <a href=\"https://github.com/VictorFerreiraS/LoginSystemBackEnd\" rel=\"nofollow noreferrer\">https://github.com/VictorFerreiraS/LoginSystemBackEnd</a></p>\n<p>Any tip on how to get more information on spring boot cloud gateway would be lovely (despite the documentation obviously ;) )</p>\n<p>I tried this but I only got 404's in postman!</p>\n<pre><code>spring.cloud.gateway.routes[0].id=regs-auth\nspring.cloud.gateway.routes[0].uri=lb://regs-auth-ms\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/auth/register\nspring.cloud.gateway.routes[0].predicates[1]=Path=/api/v1/auth/authenticate\n\n</code></pre>\n"},{"tags":["java","android","kotlin","ssl-certificate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688497189,"post_id":76615196,"comment_id":135080960,"body_markdown":"*a RuntimeException saying &quot;java.lang.RuntimeException: forget something!&quot; is thrown.* Please post that *verbatim, formatted as code*","body":"<i>a RuntimeException saying &quot;java.lang.RuntimeException: forget something!&quot; is thrown.</i> Please post that <i>verbatim, formatted as code</i>"},{"owner":{"account_id":13873571,"reputation":175,"user_id":10152911,"display_name":"cj-"},"score":0,"creation_date":1688500174,"post_id":76615196,"comment_id":135081326,"body_markdown":"Absolutely, it has been included","body":"Absolutely, it has been included"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1688526749,"post_id":76615196,"comment_id":135083711,"body_markdown":"Java keystores don&#39;t support PEM certificates. I don&#39;t know if that bouncycastle stuff is supposed to help.","body":"Java keystores don&#39;t support PEM certificates. I don&#39;t know if that bouncycastle stuff is supposed to help."},{"owner":{"account_id":13873571,"reputation":175,"user_id":10152911,"display_name":"cj-"},"score":0,"creation_date":1688576798,"post_id":76615196,"comment_id":135093318,"body_markdown":"Attempted to convert the PEM certificate to DER (noted here https://stackoverflow.com/a/54670753/10152911), gave the same result.","body":"Attempted to convert the PEM certificate to DER (noted here <a href=\"https://stackoverflow.com/a/54670753/10152911\">stackoverflow.com/a/54670753/10152911</a>), gave the same result."}],"owner":{"account_id":13873571,"reputation":175,"user_id":10152911,"display_name":"cj-"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688576972,"creation_date":1688496385,"question_id":76615196,"body_markdown":"I have a service that provides a key and private RSA certificate that I need to turn into an SSLSocketFactory. I am able to initialize everything, but when calling getKeyManagers on the KeyManagerFactory, a RuntimeException saying &quot;java.lang.RuntimeException: forget something!&quot; is thrown. What am I missing?\r\n\r\n```kotlin\r\nreturn try {\r\n    val sslContext = SSLContext.getDefault()\r\n    val keyManager = KeyManagerFactory.getInstance(&quot;PKIX&quot;)\r\n    val keyStore = KeyStore.getInstance(KeyStore.getDefaultType())\r\n    val certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;)\r\n    keyStore.load(null)\r\n    keyStore.setKeyEntry(\r\n        &quot;agragps&quot;,\r\n        privateCertificate.toByteArray(),\r\n        arrayOf(certificateFactory.generateCertificate(publicCertificate.byteInputStream())))\r\n    keyManager.init(keyStore, charArrayOf())\r\n    val managers = keyManager.keyManagers\r\n    sslContext.init(managers, null, null)\r\n    sslContext.socketFactory\r\n} catch (e: Exception) {\r\n    null\r\n}\r\n```\r\n\r\nHere is the full exception:\r\n```\r\njava.lang.RuntimeException: forget something!\r\n\tat com.android.org.bouncycastle.jcajce.provider.keystore.bc.BcKeyStoreSpi$StoreEntry.getObject(BcKeyStoreSpi.java:329)\r\n\tat com.android.org.bouncycastle.jcajce.provider.keystore.bc.BcKeyStoreSpi.engineGetKey(BcKeyStoreSpi.java:619)\r\n\tat java.security.KeyStoreSpi.engineGetEntry(KeyStoreSpi.java:511)\r\n\tat java.security.KeyStore.getEntry(KeyStore.java:1581)\r\n\tat com.android.org.conscrypt.KeyManagerImpl.&lt;init&gt;(KeyManagerImpl.java:74)\r\n\tat com.android.org.conscrypt.KeyManagerFactoryImpl.engineGetKeyManagers(KeyManagerFactoryImpl.java:120)\r\n\tat javax.net.ssl.KeyManagerFactory.getKeyManagers(KeyManagerFactory.java:305)\r\n\tat com.agragps.agragps.?.?Kt.loadCertificates(ThingStreamClientAndroid.kt:64)\r\n\tat com.agragps.agragps.?.?Kt.loadCertificates(ThingStreamClientAndroid.kt:38)\r\n\tat com.agragps.agragps.services.?.?$connectPointPerfect$2.invokeSuspend(MQTTService.kt:113)\r\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n\tat kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)\r\n\tat kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:100)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)\r\n```\r\n\r\nConverting the public PEM to DER gives the same result:\r\n```kotlin\r\nval publicDER = Base64.decode(publicCertificate\r\n    .replace(&quot;-----BEGIN CERTIFICATE-----\\n&quot;, &quot;&quot;)\r\n    .replace(&quot;\\n-----END CERTIFICATE-----\\n&quot;, &quot;&quot;)\r\n    .encodeToByteArray(), Base64.DEFAULT)\r\nkeyStore.setKeyEntry(\r\n    &quot;agragps&quot;,\r\n    privateCertificate.toByteArray(),\r\n    arrayOf(certificateFactory.generateCertificate(publicDER.inputStream())))\r\n```\r\n\r\n`privateCertificate` is a String starting with &quot;-----BEGIN RSA PRIVATE KEY-----&quot; and ending in &quot;-----END RSA PRIVATE KEY-----&quot;. `publicCertificate` is a String starting with &quot;-----BEGIN CERTIFICATE-----&quot; and ending in &quot;-----END CERTIFICATE-----&quot;.\r\n\r\nI&#39;m not very experienced with working with certificates. Any help is really appreciated.\r\n    ","title":"How to load an RSA key pair from strings?","body":"<p>I have a service that provides a key and private RSA certificate that I need to turn into an SSLSocketFactory. I am able to initialize everything, but when calling getKeyManagers on the KeyManagerFactory, a RuntimeException saying &quot;java.lang.RuntimeException: forget something!&quot; is thrown. What am I missing?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>return try {\n    val sslContext = SSLContext.getDefault()\n    val keyManager = KeyManagerFactory.getInstance(&quot;PKIX&quot;)\n    val keyStore = KeyStore.getInstance(KeyStore.getDefaultType())\n    val certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;)\n    keyStore.load(null)\n    keyStore.setKeyEntry(\n        &quot;agragps&quot;,\n        privateCertificate.toByteArray(),\n        arrayOf(certificateFactory.generateCertificate(publicCertificate.byteInputStream())))\n    keyManager.init(keyStore, charArrayOf())\n    val managers = keyManager.keyManagers\n    sslContext.init(managers, null, null)\n    sslContext.socketFactory\n} catch (e: Exception) {\n    null\n}\n</code></pre>\n<p>Here is the full exception:</p>\n<pre><code>java.lang.RuntimeException: forget something!\n    at com.android.org.bouncycastle.jcajce.provider.keystore.bc.BcKeyStoreSpi$StoreEntry.getObject(BcKeyStoreSpi.java:329)\n    at com.android.org.bouncycastle.jcajce.provider.keystore.bc.BcKeyStoreSpi.engineGetKey(BcKeyStoreSpi.java:619)\n    at java.security.KeyStoreSpi.engineGetEntry(KeyStoreSpi.java:511)\n    at java.security.KeyStore.getEntry(KeyStore.java:1581)\n    at com.android.org.conscrypt.KeyManagerImpl.&lt;init&gt;(KeyManagerImpl.java:74)\n    at com.android.org.conscrypt.KeyManagerFactoryImpl.engineGetKeyManagers(KeyManagerFactoryImpl.java:120)\n    at javax.net.ssl.KeyManagerFactory.getKeyManagers(KeyManagerFactory.java:305)\n    at com.agragps.agragps.?.?Kt.loadCertificates(ThingStreamClientAndroid.kt:64)\n    at com.agragps.agragps.?.?Kt.loadCertificates(ThingStreamClientAndroid.kt:38)\n    at com.agragps.agragps.services.?.?$connectPointPerfect$2.invokeSuspend(MQTTService.kt:113)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)\n    at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:100)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)\n</code></pre>\n<p>Converting the public PEM to DER gives the same result:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val publicDER = Base64.decode(publicCertificate\n    .replace(&quot;-----BEGIN CERTIFICATE-----\\n&quot;, &quot;&quot;)\n    .replace(&quot;\\n-----END CERTIFICATE-----\\n&quot;, &quot;&quot;)\n    .encodeToByteArray(), Base64.DEFAULT)\nkeyStore.setKeyEntry(\n    &quot;agragps&quot;,\n    privateCertificate.toByteArray(),\n    arrayOf(certificateFactory.generateCertificate(publicDER.inputStream())))\n</code></pre>\n<p><code>privateCertificate</code> is a String starting with &quot;-----BEGIN RSA PRIVATE KEY-----&quot; and ending in &quot;-----END RSA PRIVATE KEY-----&quot;. <code>publicCertificate</code> is a String starting with &quot;-----BEGIN CERTIFICATE-----&quot; and ending in &quot;-----END CERTIFICATE-----&quot;.</p>\n<p>I'm not very experienced with working with certificates. Any help is really appreciated.</p>\n"},{"tags":["java","hibernate","jpa","query-optimization"],"comments":[{"owner":{"account_id":71085,"reputation":105190,"user_id":205608,"accept_rate":69,"display_name":"O. Jones"},"score":0,"creation_date":1688603214,"post_id":76622465,"comment_id":135097094,"body_markdown":"Just sayin&#39;  Forcing index use almost never is a good way to improve query performance. Make sure you&#39;ve done EXPLAIN for your ORM&#39;s queries and added appropriate indexes before you set out on that trail of tears.","body":"Just sayin&#39;  Forcing index use almost never is a good way to improve query performance. Make sure you&#39;ve done EXPLAIN for your ORM&#39;s queries and added appropriate indexes before you set out on that trail of tears."},{"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"score":0,"creation_date":1688629585,"post_id":76622465,"comment_id":135099990,"body_markdown":"Your comment is not relevant to the question. Force index is a perfectly fine tool to optimize a query, I did my evaluations and that is what I need.","body":"Your comment is not relevant to the question. Force index is a perfectly fine tool to optimize a query, I did my evaluations and that is what I need."}],"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688576294,"creation_date":1688576001,"question_id":76622465,"body_markdown":"I have a software built with Hibernate 4.3 on top of a Mysql 5.6 database. Within the application, I have implemented certain queries using the Criteria API. I would like to modify the query execution plan by explicitly specifying the index to be used in some of the join clauses. Is there a way to achieve this using the Criteria API, or do I need to rewrite everything using native SQL?","title":"Modifying query execution plan with Criteria API to force index usage","body":"<p>I have a software built with Hibernate 4.3 on top of a Mysql 5.6 database. Within the application, I have implemented certain queries using the Criteria API. I would like to modify the query execution plan by explicitly specifying the index to be used in some of the join clauses. Is there a way to achieve this using the Criteria API, or do I need to rewrite everything using native SQL?</p>\n"},{"tags":["java","swing","jfilechooser"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1572598410,"post_id":58629452,"comment_id":103616327,"body_markdown":"Tags &amp; watchers: [tag:java] 1.3M, [tag:swing] 7.4K, [tag:jfilechooser] 9. \nBy using up to 5 relevant tags, questions can get far more attention. ;)","body":"Tags &amp; watchers: <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> 1.3M, <a href=\"https://stackoverflow.com/questions/tagged/swing\">swing</a> 7.4K, <a href=\"https://stackoverflow.com/questions/tagged/jfilechooser\">jfilechooser</a> 9.  By using up to 5 relevant tags, questions can get far more attention. ;)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1572598440,"post_id":58629452,"comment_id":103616338,"body_markdown":"1) For better help sooner, [edit] to add a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/). 2) See also [How to create great screenshots?](http://meta.stackexchange.com/q/99734/155831) 3) `fileChooser.setPreferredSize(new Dimension(600,600));` See [Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?](http://stackoverflow.com/q/7229226/418556)  (Yes.)","body":"1) For better help sooner, <a href=\"https://stackoverflow.com/posts/58629452/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>. 2) See also <a href=\"http://meta.stackexchange.com/q/99734/155831\">How to create great screenshots?</a> 3) <code>fileChooser.setPreferredSize(new Dimension(600,600));</code> See <a href=\"http://stackoverflow.com/q/7229226/418556\">Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?</a>  (Yes.)"}],"answers":[{"tags":[],"owner":{"account_id":28957321,"reputation":1,"user_id":22180602,"display_name":"Wolfgang Hasler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688576078,"creation_date":1688576078,"answer_id":76622473,"question_id":58629452,"body_markdown":"The following code was tested with Java 11.\r\nIt uses slightly modified methods from sun.swing.FilePane.\r\n\r\n    public class FileChooserFix extends JFileChooser {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private JTable            detailsTable;\r\n    \r\n        public FileChooserFix() {\r\n            super();\r\n            Action details = getActionMap().get(&quot;viewTypeDetails&quot;);\r\n            details.actionPerformed(null);\r\n            detailsTable = findChildComponent(this, JTable.class);\r\n        }\r\n    \r\n        private &lt;T&gt; T findChildComponent(Container container, Class&lt;T&gt; cls) {\r\n            int n = container.getComponentCount();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                Component comp = container.getComponent(i);\r\n                if (cls.isInstance(comp)) {\r\n                    return cls.cast(comp);\r\n                }\r\n                else if (comp instanceof Container) {\r\n                    T c = findChildComponent((Container) comp, cls);\r\n                    if (c != null) {\r\n                        return c;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void setCurrentDirectory(File dir) {\r\n            super.setCurrentDirectory(dir);\r\n            fixNameColumnWidth();\r\n        }\r\n    \r\n        private void fixNameColumnWidth() {\r\n            if (detailsTable != null) {\r\n                JViewport viewport = (JViewport) detailsTable.getParent();\r\n                int viewWidth = viewport.getSize().width;\r\n                TableColumn nameCol = detailsTable.getColumnModel().getColumn(0);\r\n                int tableWidth = detailsTable.getPreferredSize().width;\r\n                if (tableWidth &lt; viewWidth) {\r\n                    nameCol.setPreferredWidth(nameCol.getPreferredWidth() + \r\n\t\t\t\t\t\t\t\t\t\tviewWidth - tableWidth);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Resize column width in JFileChooser","body":"<p>The following code was tested with Java 11.\nIt uses slightly modified methods from sun.swing.FilePane.</p>\n<pre><code>public class FileChooserFix extends JFileChooser {\n\n    private static final long serialVersionUID = 1L;\n    private JTable            detailsTable;\n\n    public FileChooserFix() {\n        super();\n        Action details = getActionMap().get(&quot;viewTypeDetails&quot;);\n        details.actionPerformed(null);\n        detailsTable = findChildComponent(this, JTable.class);\n    }\n\n    private &lt;T&gt; T findChildComponent(Container container, Class&lt;T&gt; cls) {\n        int n = container.getComponentCount();\n        for (int i = 0; i &lt; n; i++) {\n            Component comp = container.getComponent(i);\n            if (cls.isInstance(comp)) {\n                return cls.cast(comp);\n            }\n            else if (comp instanceof Container) {\n                T c = findChildComponent((Container) comp, cls);\n                if (c != null) {\n                    return c;\n                }\n            }\n        }\n        return null;\n    }\n\n    @Override\n    public void setCurrentDirectory(File dir) {\n        super.setCurrentDirectory(dir);\n        fixNameColumnWidth();\n    }\n\n    private void fixNameColumnWidth() {\n        if (detailsTable != null) {\n            JViewport viewport = (JViewport) detailsTable.getParent();\n            int viewWidth = viewport.getSize().width;\n            TableColumn nameCol = detailsTable.getColumnModel().getColumn(0);\n            int tableWidth = detailsTable.getPreferredSize().width;\n            if (tableWidth &lt; viewWidth) {\n                nameCol.setPreferredWidth(nameCol.getPreferredWidth() + \n                                    viewWidth - tableWidth);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17000959,"reputation":21,"user_id":12298368,"display_name":"Angela Cox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688576078,"creation_date":1572451364,"question_id":58629452,"body_markdown":"I am using a `JFileChooser` which allows me to browse to an Excel file.   \r\n\r\nThe file chooser appears fine when it opens initially, but as soon as I start browsing to a different location, the column width for Name reduces a lot.  \r\n\r\nHow can I stop this from happening and keep the same column width whilst browsing to different locations?\r\n\r\nInitial display of `JFileChooser`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter browsing to a different location\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    JFileChooser fileChooser = new JFileChooser();\r\n    fileChooser.setPreferredSize(new Dimension(600,600));\r\n     \r\n    fileChooser.setCurrentDirectory(selectedDir);\r\n    Action details = fileChooser.getActionMap().get(&quot;viewTypeDetails&quot;);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jB5QV.jpg\r\n  [2]: https://i.stack.imgur.com/fk98U.jpg","title":"Resize column width in JFileChooser","body":"<p>I am using a <code>JFileChooser</code> which allows me to browse to an Excel file.   </p>\n\n<p>The file chooser appears fine when it opens initially, but as soon as I start browsing to a different location, the column width for Name reduces a lot.  </p>\n\n<p>How can I stop this from happening and keep the same column width whilst browsing to different locations?</p>\n\n<p>Initial display of <code>JFileChooser</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/jB5QV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jB5QV.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>After browsing to a different location</p>\n\n<p><a href=\"https://i.stack.imgur.com/fk98U.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fk98U.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>JFileChooser fileChooser = new JFileChooser();\nfileChooser.setPreferredSize(new Dimension(600,600));\n\nfileChooser.setCurrentDirectory(selectedDir);\nAction details = fileChooser.getActionMap().get(\"viewTypeDetails\");\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1688573833,"post_id":76622176,"comment_id":135092741,"body_markdown":"not a direct answer to your problem, but maybe a helpful resource: an old [visual guide to layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)","body":"not a direct answer to your problem, but maybe a helpful resource: an old <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">visual guide to layout managers</a>"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1688574147,"post_id":76622176,"comment_id":135092804,"body_markdown":"You know you can use more than one layout manager at a time, right? Try nesting layout managers, i.e. BoxLayout as a component within GridBagLayout, for example. GridBagLayout allows you to have a component span multiple cells, which keeps you from having a lot of dead space in your UI.","body":"You know you can use more than one layout manager at a time, right? Try nesting layout managers, i.e. BoxLayout as a component within GridBagLayout, for example. GridBagLayout allows you to have a component span multiple cells, which keeps you from having a lot of dead space in your UI."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688574692,"post_id":76622176,"comment_id":135092932,"body_markdown":"`GridBagLayout` solution: for the last element, change `gbc.anchor = GridBagConstraints.NORTHWEST;` and `gbc.weighty = 1.0;` (only before adding the last element, so it alone will get all space)","body":"<code>GridBagLayout</code> solution: for the last element, change <code>gbc.anchor = GridBagConstraints.NORTHWEST;</code> and <code>gbc.weighty = 1.0;</code> (only before adding the last element, so it alone will get all space)"},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1688575063,"post_id":76622176,"comment_id":135092999,"body_markdown":"@user16320675, Thanks, it works! You can write answer, I will accept it.","body":"@user16320675, Thanks, it works! You can write answer, I will accept it."}],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688576016,"creation_date":1688573456,"question_id":76622176,"body_markdown":"I need to place 1 JLabel and 6 JCheckbox from top to bottom and the label should be centered and the checkboxes should not. &lt;br&gt;\r\nI tried two options:\r\n\r\n 1. Using GridBagLayout\r\n 2. Using BoxLayout\r\n\r\nWhen using the first option everything goes fine, but the content is in the middle of the JPanel. When using the second option, content goes from top to bottom, but the JLabel is not centered. What do I need to do make it work?\r\n\r\nPeople also advise to set ```gbc.weighty = 1.0```, but components just fill all available space in container.&lt;br&gt;\r\n\r\nRunnable example with GridBagLayout:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        JPanel root = new JPanel(new BorderLayout());\r\n\r\n        JPanel filterPanel = new JPanel();\r\n        filterPanel.setLayout(new GridBagLayout());\r\n\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.anchor = GridBagConstraints.NORTH;\r\n        gbc.fill = GridBagConstraints.NONE;\r\n        gbc.gridy = 0;\r\n\r\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\r\n        filterLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n        filterPanel.add(filterLabel, gbc);\r\n\r\n        gbc.anchor = GridBagConstraints.WEST;\r\n\r\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\r\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\r\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\r\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\r\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\r\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\r\n\r\n        gbc.gridy = 1;\r\n        filterPanel.add(releasesBox, gbc);\r\n        gbc.gridy = 2;\r\n        filterPanel.add(snapshotsBox, gbc);\r\n        gbc.gridy = 3;\r\n        filterPanel.add(oldSnapshotsBox, gbc);\r\n        gbc.gridy = 4;\r\n        filterPanel.add(betasBox, gbc);\r\n        gbc.gridy = 5;\r\n        filterPanel.add(alphasBox, gbc);\r\n        gbc.gridy = 6;\r\n        filterPanel.add(experimentsBox, gbc);\r\n\r\n        root.add(filterPanel, BorderLayout.CENTER);\r\n\r\n        JFrame frame = new JFrame(&quot;Test&quot;);\r\n        frame.add(root, BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\n\r\nRunnable example with BoxLayout:\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        JPanel root = new JPanel(new BorderLayout());\r\n\r\n        JPanel filterPanel = new JPanel();\r\n        filterPanel.setLayout(new BoxLayout(filterPanel, BoxLayout.Y_AXIS));\r\n\r\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\r\n        // Adding this line makes it only worse\r\n        // filterLabel.setAlignmentX(JLabel.CENTER_ALIGNMENT);\r\n        filterPanel.add(filterLabel);\r\n\r\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\r\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\r\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\r\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\r\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\r\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\r\n\r\n        filterPanel.add(releasesBox);\r\n        filterPanel.add(snapshotsBox);\r\n        filterPanel.add(oldSnapshotsBox);\r\n        filterPanel.add(betasBox);\r\n        filterPanel.add(alphasBox);\r\n        filterPanel.add(experimentsBox);\r\n\r\n        root.add(filterPanel, BorderLayout.CENTER);\r\n\r\n        JFrame frame = new JFrame(&quot;Test&quot;);\r\n        frame.add(root, BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n```","title":"Java Swing lay out components from top to bottom","body":"<p>I need to place 1 JLabel and 6 JCheckbox from top to bottom and the label should be centered and the checkboxes should not. <br>\nI tried two options:</p>\n<ol>\n<li>Using GridBagLayout</li>\n<li>Using BoxLayout</li>\n</ol>\n<p>When using the first option everything goes fine, but the content is in the middle of the JPanel. When using the second option, content goes from top to bottom, but the JLabel is not centered. What do I need to do make it work?</p>\n<p>People also advise to set <code>gbc.weighty = 1.0</code>, but components just fill all available space in container.<br></p>\n<p>Runnable example with GridBagLayout:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        JPanel root = new JPanel(new BorderLayout());\n\n        JPanel filterPanel = new JPanel();\n        filterPanel.setLayout(new GridBagLayout());\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.NORTH;\n        gbc.fill = GridBagConstraints.NONE;\n        gbc.gridy = 0;\n\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\n        filterLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        filterPanel.add(filterLabel, gbc);\n\n        gbc.anchor = GridBagConstraints.WEST;\n\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\n\n        gbc.gridy = 1;\n        filterPanel.add(releasesBox, gbc);\n        gbc.gridy = 2;\n        filterPanel.add(snapshotsBox, gbc);\n        gbc.gridy = 3;\n        filterPanel.add(oldSnapshotsBox, gbc);\n        gbc.gridy = 4;\n        filterPanel.add(betasBox, gbc);\n        gbc.gridy = 5;\n        filterPanel.add(alphasBox, gbc);\n        gbc.gridy = 6;\n        filterPanel.add(experimentsBox, gbc);\n\n        root.add(filterPanel, BorderLayout.CENTER);\n\n        JFrame frame = new JFrame(&quot;Test&quot;);\n        frame.add(root, BorderLayout.CENTER);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n\n</code></pre>\n<p>Runnable example with BoxLayout:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        JPanel root = new JPanel(new BorderLayout());\n\n        JPanel filterPanel = new JPanel();\n        filterPanel.setLayout(new BoxLayout(filterPanel, BoxLayout.Y_AXIS));\n\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\n        // Adding this line makes it only worse\n        // filterLabel.setAlignmentX(JLabel.CENTER_ALIGNMENT);\n        filterPanel.add(filterLabel);\n\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\n\n        filterPanel.add(releasesBox);\n        filterPanel.add(snapshotsBox);\n        filterPanel.add(oldSnapshotsBox);\n        filterPanel.add(betasBox);\n        filterPanel.add(alphasBox);\n        filterPanel.add(experimentsBox);\n\n        root.add(filterPanel, BorderLayout.CENTER);\n\n        JFrame frame = new JFrame(&quot;Test&quot;);\n        frame.add(root, BorderLayout.CENTER);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","minecraft","decompiling"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1669395889,"post_id":74575600,"comment_id":131639341,"body_markdown":"Since `aab2` is cast to `aak` (initially `aab`), it is probable that the `f` method called is not the one we see in `als`","body":"Since <code>aab2</code> is cast to <code>aak</code> (initially <code>aab</code>), it is probable that the <code>f</code> method called is not the one we see in <code>als</code>"},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1669396210,"post_id":74575600,"comment_id":131639417,"body_markdown":"hmm, didnt noticed it, im currently fixing the code after decompilation, but thanks anyway","body":"hmm, didnt noticed it, im currently fixing the code after decompilation, but thanks anyway"},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1669396970,"post_id":74575600,"comment_id":131639627,"body_markdown":"ok, now it looks kinda impossible, because some methods are tried to be called on primitive types.. probably I need to analyze bytecode","body":"ok, now it looks kinda impossible, because some methods are tried to be called on primitive types.. probably I need to analyze bytecode"},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1669400250,"post_id":74575600,"comment_id":131640345,"body_markdown":"Why are you doing all of this work yourself when it&#39;s already been done? There are already MCP mappings for 1.5.2.","body":"Why are you doing all of this work yourself when it&#39;s already been done? There are already MCP mappings for 1.5.2."},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1669404390,"post_id":74575600,"comment_id":131641246,"body_markdown":"Yeees, I have just wanted to write about this. Already downloaded it and it works. But thanks.","body":"Yeees, I have just wanted to write about this. Already downloaded it and it works. But thanks."}],"answers":[{"tags":[],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669404491,"creation_date":1669404491,"answer_id":74577194,"question_id":74575600,"body_markdown":"Ok, I remembered about a thing called MCP (Minecraft Coder Pack). I downloaded it, then had a little pain with it, but got it working.","title":"Java incorrect bytecode","body":"<p>Ok, I remembered about a thing called MCP (Minecraft Coder Pack). I downloaded it, then had a little pain with it, but got it working.</p>\n"}],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74577194,"answer_count":1,"score":0,"last_activity_date":1688575536,"creation_date":1669393755,"question_id":74575600,"body_markdown":"I am decompiling Minecraft 1.5.2 code, and in file als.java there is subtraction performed with void method, also void tried to put to int var:\r\n\r\n```\r\n/*\r\n * Decompiled with CFR 0.152.\r\n */\r\nimport java.util.Random;\r\n\r\npublic class als\r\nextends aly\r\nimplements amh {\r\n    public als(int n2, boolean bl2) {\r\n        super(n2, bl2);\r\n        this.cF = true;\r\n    }\r\n\r\n    public int a(int n2, Random random, int n3) {\r\n        return wk.bY.cp;\r\n    }\r\n\r\n    public int d(aab aab2, int n2, int n3, int n4) {\r\n        return wk.bY.cp;\r\n    }\r\n\r\n    protected int i_(int n2) {\r\n        return 2;\r\n    }\r\n\r\n    protected aly i() {\r\n        return apa.cq;\r\n    }\r\n\r\n    protected aly j() {\r\n        return apa.cp;\r\n    }\r\n\r\n    public int d() {\r\n        return 37;\r\n    }\r\n\r\n    public lx a(int n2, int n3) {\r\n        boolean bl2;\r\n        boolean bl3 = bl2 = this.a || (n3 &amp; 8) != 0;\r\n        if (n2 == 0) {\r\n            if (bl2) {\r\n                return apa.aU.m(n2);\r\n            }\r\n            return apa.aT.m(n2);\r\n        }\r\n        if (n2 == 1) {\r\n            if (bl2) {\r\n                return apa.cq.cQ;\r\n            }\r\n            return this.cQ;\r\n        }\r\n        return apa.an.m(1);\r\n    }\r\n\r\n    protected boolean c(int n2) {\r\n        return this.a || (n2 &amp; 8) != 0;\r\n    }\r\n\r\n    protected int d(aak aak2, int n2, int n3, int n4, int n5) {\r\n        return this.a_(aak2, n2, n3, n4).a();\r\n    }\r\n\r\n    private int m(aab aab2, int n2, int n3, int n4, int n5) {\r\n        if (!this.d(n5)) {\r\n            return this.e(aab2, n2, n3, n4, n5);\r\n        }\r\n        return Math.max(this.e(aab2, n2, n3, n4, n5) - this.f((aak)aab2, n2, n3, n4, n5), 0);\r\n    }\r\n\r\n    public boolean d(int n2) {\r\n        return (n2 &amp; 4) == 4;\r\n    }\r\n\r\n    protected boolean d(aab aab2, int n2, int n3, int n4, int n5) {\r\n        int n6 = this.e(aab2, n2, n3, n4, n5);\r\n        if (n6 &gt;= 15) {\r\n            return true;\r\n        }\r\n        if (n6 == 0) {\r\n            return false;\r\n        }\r\n        int n7 = this.f((aak)aab2, n2, n3, n4, n5);\r\n        if (n7 == 0) {\r\n            return true;\r\n        }\r\n        return n6 &gt;= n7;\r\n    }\r\n\r\n    protected int e(aab aab2, int n2, int n3, int n4, int n5) {\r\n        int n6;\r\n        int n7 = super.e(aab2, n2, n3, n4, n5);\r\n        int n8 = als.j(n5);\r\n        int n9 = n2 + r.a[n8];\r\n        int n10 = aab2.a(n9, n3, n6 = n4 + r.b[n8]);\r\n        if (n10 &gt; 0) {\r\n            if (apa.r[n10].q_()) {\r\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\r\n            } else if (n7 &lt; 15 &amp;&amp; apa.l(n10) &amp;&amp; (n10 = aab2.a(n9 += r.a[n8], n3, n6 += r.b[n8])) &gt; 0 &amp;&amp; apa.r[n10].q_()) {\r\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\r\n            }\r\n        }\r\n        return n7;\r\n    }\r\n\r\n    public aqa a_(aak aak2, int n2, int n3, int n4) {\r\n        return (aqa)aak2.r(n2, n3, n4);\r\n    }\r\n\r\n    public boolean a(aab aab2, int n2, int n3, int n4, sq sq2, int n5, float f2, float f3, float f4) {\r\n        int n6 = aab2.h(n2, n3, n4);\r\n        boolean bl2 = this.a | (n6 &amp; 8) != 0;\r\n        boolean bl3 = !this.d(n6);\r\n        int n7 = bl3 ? 4 : 0;\r\n        aab2.a((double)n2 + 0.5, (double)n3 + 0.5, (double)n4 + 0.5, &quot;random.click&quot;, 0.3f, bl3 ? 0.55f : 0.5f);\r\n        aab2.b(n2, n3, n4, (n7 |= bl2 ? 8 : 0) | n6 &amp; 3, 2);\r\n        this.c(aab2, n2, n3, n4, aab2.s);\r\n        return true;\r\n    }\r\n\r\n    protected void f(aab aab2, int n2, int n3, int n4, int n5) {\r\n        int n6;\r\n        int n7;\r\n        int n8;\r\n        if (!(aab2.a(n2, n3, n4, this.cz) || (n8 = this.m(aab2, n2, n3, n4, n7 = aab2.h(n2, n3, n4))) == (n6 = this.a_(aab2, n2, n3, n4).a()) &amp;&amp; this.c(n7) == this.d(aab2, n2, n3, n4, n7))) {\r\n            if (this.h(aab2, n2, n3, n4, n7)) {\r\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), -1);\r\n            } else {\r\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void c(aab aab2, int n2, int n3, int n4, Random random) {\r\n        int n5 = aab2.h(n2, n3, n4);\r\n        int n6 = this.m(aab2, n2, n3, n4, n5);\r\n        int n7 = this.a_(aab2, n2, n3, n4).a();\r\n        this.a_(aab2, n2, n3, n4).a(n6);\r\n        if (n7 != n6 || !this.d(n5)) {\r\n            boolean bl2;\r\n            boolean bl3 = this.d(aab2, n2, n3, n4, n5);\r\n            boolean bl4 = bl2 = this.a || (n5 &amp; 8) != 0;\r\n            if (bl2 &amp;&amp; !bl3) {\r\n                aab2.b(n2, n3, n4, n5 &amp; 0xFFFFFFF7, 2);\r\n            } else if (!bl2 &amp;&amp; bl3) {\r\n                aab2.b(n2, n3, n4, n5 | 8, 2);\r\n            }\r\n            this.h_(aab2, n2, n3, n4);\r\n        }\r\n    }\r\n\r\n    public void a(aab aab2, int n2, int n3, int n4, Random random) {\r\n        if (this.a) {\r\n            int n5 = aab2.h(n2, n3, n4);\r\n            aab2.f(n2, n3, n4, this.j().cz, n5 | 8, 4);\r\n        }\r\n        this.c(aab2, n2, n3, n4, random);\r\n    }\r\n\r\n    public void a(aab aab2, int n2, int n3, int n4) {\r\n        super.a(aab2, n2, n3, n4);\r\n        aab2.a(n2, n3, n4, this.b(aab2));\r\n    }\r\n\r\n    public void a(aab aab2, int n2, int n3, int n4, int n5, int n6) {\r\n        super.a(aab2, n2, n3, n4, n5, n6);\r\n        aab2.s(n2, n3, n4);\r\n        this.h_(aab2, n2, n3, n4);\r\n    }\r\n\r\n    public boolean b(aab aab2, int n2, int n3, int n4, int n5, int n6) {\r\n        super.b(aab2, n2, n3, n4, n5, n6);\r\n        aqp aqp2 = aab2.r(n2, n3, n4);\r\n        if (aqp2 != null) {\r\n            return aqp2.b(n5, n6);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void a(ly ly2) {\r\n        this.cQ = ly2.a(this.a ? &quot;comparator_lit&quot; : &quot;comparator&quot;);\r\n    }\r\n\r\n    public aqp b(aab aab2) {\r\n        return new aqa();\r\n    }\r\n}\r\n```\r\nI also tried it with Fernflower (in IntelliJ IDEA) and with JD-GUI. Results are the same. Why does it happen? The reason why I am decompiling Minecraft is because I want to try to optimize it just for myself.\r\nMaybe I need to change ```f``` method and return some var declared in it... This is the first class I noted this in, but, I think there are a lot of classes like this one in nearly 1500 files. Thanks for any help.\r\n\r\n**UPD:**\r\nI found that in class ```aly``` (super class) there is protected ```int f``` method, maybe I need to call it?\r\n\r\n**UPD 2:**\r\nSeven months later, I cringe at this stupid question..","title":"Java incorrect bytecode","body":"<p>I am decompiling Minecraft 1.5.2 code, and in file als.java there is subtraction performed with void method, also void tried to put to int var:</p>\n<pre><code>/*\n * Decompiled with CFR 0.152.\n */\nimport java.util.Random;\n\npublic class als\nextends aly\nimplements amh {\n    public als(int n2, boolean bl2) {\n        super(n2, bl2);\n        this.cF = true;\n    }\n\n    public int a(int n2, Random random, int n3) {\n        return wk.bY.cp;\n    }\n\n    public int d(aab aab2, int n2, int n3, int n4) {\n        return wk.bY.cp;\n    }\n\n    protected int i_(int n2) {\n        return 2;\n    }\n\n    protected aly i() {\n        return apa.cq;\n    }\n\n    protected aly j() {\n        return apa.cp;\n    }\n\n    public int d() {\n        return 37;\n    }\n\n    public lx a(int n2, int n3) {\n        boolean bl2;\n        boolean bl3 = bl2 = this.a || (n3 &amp; 8) != 0;\n        if (n2 == 0) {\n            if (bl2) {\n                return apa.aU.m(n2);\n            }\n            return apa.aT.m(n2);\n        }\n        if (n2 == 1) {\n            if (bl2) {\n                return apa.cq.cQ;\n            }\n            return this.cQ;\n        }\n        return apa.an.m(1);\n    }\n\n    protected boolean c(int n2) {\n        return this.a || (n2 &amp; 8) != 0;\n    }\n\n    protected int d(aak aak2, int n2, int n3, int n4, int n5) {\n        return this.a_(aak2, n2, n3, n4).a();\n    }\n\n    private int m(aab aab2, int n2, int n3, int n4, int n5) {\n        if (!this.d(n5)) {\n            return this.e(aab2, n2, n3, n4, n5);\n        }\n        return Math.max(this.e(aab2, n2, n3, n4, n5) - this.f((aak)aab2, n2, n3, n4, n5), 0);\n    }\n\n    public boolean d(int n2) {\n        return (n2 &amp; 4) == 4;\n    }\n\n    protected boolean d(aab aab2, int n2, int n3, int n4, int n5) {\n        int n6 = this.e(aab2, n2, n3, n4, n5);\n        if (n6 &gt;= 15) {\n            return true;\n        }\n        if (n6 == 0) {\n            return false;\n        }\n        int n7 = this.f((aak)aab2, n2, n3, n4, n5);\n        if (n7 == 0) {\n            return true;\n        }\n        return n6 &gt;= n7;\n    }\n\n    protected int e(aab aab2, int n2, int n3, int n4, int n5) {\n        int n6;\n        int n7 = super.e(aab2, n2, n3, n4, n5);\n        int n8 = als.j(n5);\n        int n9 = n2 + r.a[n8];\n        int n10 = aab2.a(n9, n3, n6 = n4 + r.b[n8]);\n        if (n10 &gt; 0) {\n            if (apa.r[n10].q_()) {\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\n            } else if (n7 &lt; 15 &amp;&amp; apa.l(n10) &amp;&amp; (n10 = aab2.a(n9 += r.a[n8], n3, n6 += r.b[n8])) &gt; 0 &amp;&amp; apa.r[n10].q_()) {\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\n            }\n        }\n        return n7;\n    }\n\n    public aqa a_(aak aak2, int n2, int n3, int n4) {\n        return (aqa)aak2.r(n2, n3, n4);\n    }\n\n    public boolean a(aab aab2, int n2, int n3, int n4, sq sq2, int n5, float f2, float f3, float f4) {\n        int n6 = aab2.h(n2, n3, n4);\n        boolean bl2 = this.a | (n6 &amp; 8) != 0;\n        boolean bl3 = !this.d(n6);\n        int n7 = bl3 ? 4 : 0;\n        aab2.a((double)n2 + 0.5, (double)n3 + 0.5, (double)n4 + 0.5, &quot;random.click&quot;, 0.3f, bl3 ? 0.55f : 0.5f);\n        aab2.b(n2, n3, n4, (n7 |= bl2 ? 8 : 0) | n6 &amp; 3, 2);\n        this.c(aab2, n2, n3, n4, aab2.s);\n        return true;\n    }\n\n    protected void f(aab aab2, int n2, int n3, int n4, int n5) {\n        int n6;\n        int n7;\n        int n8;\n        if (!(aab2.a(n2, n3, n4, this.cz) || (n8 = this.m(aab2, n2, n3, n4, n7 = aab2.h(n2, n3, n4))) == (n6 = this.a_(aab2, n2, n3, n4).a()) &amp;&amp; this.c(n7) == this.d(aab2, n2, n3, n4, n7))) {\n            if (this.h(aab2, n2, n3, n4, n7)) {\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), -1);\n            } else {\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), 0);\n            }\n        }\n    }\n\n    private void c(aab aab2, int n2, int n3, int n4, Random random) {\n        int n5 = aab2.h(n2, n3, n4);\n        int n6 = this.m(aab2, n2, n3, n4, n5);\n        int n7 = this.a_(aab2, n2, n3, n4).a();\n        this.a_(aab2, n2, n3, n4).a(n6);\n        if (n7 != n6 || !this.d(n5)) {\n            boolean bl2;\n            boolean bl3 = this.d(aab2, n2, n3, n4, n5);\n            boolean bl4 = bl2 = this.a || (n5 &amp; 8) != 0;\n            if (bl2 &amp;&amp; !bl3) {\n                aab2.b(n2, n3, n4, n5 &amp; 0xFFFFFFF7, 2);\n            } else if (!bl2 &amp;&amp; bl3) {\n                aab2.b(n2, n3, n4, n5 | 8, 2);\n            }\n            this.h_(aab2, n2, n3, n4);\n        }\n    }\n\n    public void a(aab aab2, int n2, int n3, int n4, Random random) {\n        if (this.a) {\n            int n5 = aab2.h(n2, n3, n4);\n            aab2.f(n2, n3, n4, this.j().cz, n5 | 8, 4);\n        }\n        this.c(aab2, n2, n3, n4, random);\n    }\n\n    public void a(aab aab2, int n2, int n3, int n4) {\n        super.a(aab2, n2, n3, n4);\n        aab2.a(n2, n3, n4, this.b(aab2));\n    }\n\n    public void a(aab aab2, int n2, int n3, int n4, int n5, int n6) {\n        super.a(aab2, n2, n3, n4, n5, n6);\n        aab2.s(n2, n3, n4);\n        this.h_(aab2, n2, n3, n4);\n    }\n\n    public boolean b(aab aab2, int n2, int n3, int n4, int n5, int n6) {\n        super.b(aab2, n2, n3, n4, n5, n6);\n        aqp aqp2 = aab2.r(n2, n3, n4);\n        if (aqp2 != null) {\n            return aqp2.b(n5, n6);\n        }\n        return false;\n    }\n\n    public void a(ly ly2) {\n        this.cQ = ly2.a(this.a ? &quot;comparator_lit&quot; : &quot;comparator&quot;);\n    }\n\n    public aqp b(aab aab2) {\n        return new aqa();\n    }\n}\n</code></pre>\n<p>I also tried it with Fernflower (in IntelliJ IDEA) and with JD-GUI. Results are the same. Why does it happen? The reason why I am decompiling Minecraft is because I want to try to optimize it just for myself.\nMaybe I need to change <code>f</code> method and return some var declared in it... This is the first class I noted this in, but, I think there are a lot of classes like this one in nearly 1500 files. Thanks for any help.</p>\n<p><strong>UPD:</strong>\nI found that in class <code>aly</code> (super class) there is protected <code>int f</code> method, maybe I need to call it?</p>\n<p><strong>UPD 2:</strong>\nSeven months later, I cringe at this stupid question..</p>\n"},{"tags":["java","http","jsp","tcp"],"comments":[{"owner":{"account_id":196956,"reputation":6125,"user_id":440704,"accept_rate":82,"display_name":"Nathan"},"score":4,"creation_date":1305183307,"post_id":5974364,"comment_id":6894072,"body_markdown":"Http uses TCP, so comparing them isn&#39;t really valid...  presumably the question is &quot;why would you choose a propriatary implementation over TCP when more open, standardised formats such as http already exist&quot;?","body":"Http uses TCP, so comparing them isn&#39;t really valid...  presumably the question is &quot;why would you choose a propriatary implementation over TCP when more open, standardised formats such as http already exist&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1688574507,"creation_date":1305183329,"answer_id":5974397,"question_id":5974364,"body_markdown":"HTTP is not an *alternative* to TCP. It is a protocol built on top of TCP.\r\n\r\nCustom, interactive protocols can be much more efficient when implemented on TCP than on HTTP, because HTTP works on a rather basic request/response base&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nOn a pure TCP connection, both ends can send messages whenever they want. On HTTP the server can&#39;t really proactively send a message to the client. It needs to wait for the client to send a request.\r\n\r\nAn advantage of HTTP is that it&#39;s almost universally understood: there are server- and client-libraries for all languages, there are well-understood caching and proxy-ing mechanisms and there&#39;s a wide variety of content negotiation-mechanisms built in.\r\n\r\nSo it&#39;s the traditional trade-off between high-level or lower-level abstraction:\r\n\r\n - lower-level abstraction (TCP) provides high flexbility and the *possibility* of implementing almost everything, while it is not as simple to use\r\n - higher-level abstraction (HTTP) provides more built-in features and are easier to support, but additional features are harder to add\r\n\r\n&lt;sup&gt;* Disclaimer: this answer was written in the era of HTTP/1.1 where this statement was much more correct than it currently is for HTTP/2 and HTTP/3. While these are still fundamentally request/response protocols, they have many advanced features which makes them less restricted in usage than &quot;traditional&quot; HTTP/1.1&lt;/sup&gt;","title":"How is using TCP communication better than HTTP communication?","body":"<p>HTTP is not an <em>alternative</em> to TCP. It is a protocol built on top of TCP.</p>\n<p>Custom, interactive protocols can be much more efficient when implemented on TCP than on HTTP, because HTTP works on a rather basic request/response base<sup>*</sup>.</p>\n<p>On a pure TCP connection, both ends can send messages whenever they want. On HTTP the server can't really proactively send a message to the client. It needs to wait for the client to send a request.</p>\n<p>An advantage of HTTP is that it's almost universally understood: there are server- and client-libraries for all languages, there are well-understood caching and proxy-ing mechanisms and there's a wide variety of content negotiation-mechanisms built in.</p>\n<p>So it's the traditional trade-off between high-level or lower-level abstraction:</p>\n<ul>\n<li>lower-level abstraction (TCP) provides high flexbility and the <em>possibility</em> of implementing almost everything, while it is not as simple to use</li>\n<li>higher-level abstraction (HTTP) provides more built-in features and are easier to support, but additional features are harder to add</li>\n</ul>\n<p><sup>* Disclaimer: this answer was written in the era of HTTP/1.1 where this statement was much more correct than it currently is for HTTP/2 and HTTP/3. While these are still fundamentally request/response protocols, they have many advanced features which makes them less restricted in usage than &quot;traditional&quot; HTTP/1.1</sup></p>\n"},{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305183333,"creation_date":1305183333,"answer_id":5974398,"question_id":5974364,"body_markdown":"TCP can&#39;t be told as better. It is a protocol of transport(4th) level of [OSI][1] model.\r\nHTTP is an application protocol(7th level).\r\n\r\nThey are different and HTTP is based on TCP.\r\n\r\nHTTP is basically used for web communications - sites, web-services and so on. It can be told that HTTP is a client-oriented: client asks server for some data and receive the response. When it sends another request and so on. \r\nTCP is a base protocol which grants you that all your sent information will be received in the same order and intact.\r\n\r\nRead about them on Wiki: [HTTP][2] and [TCP][3].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/OSI_model\r\n  [2]: http://en.wikipedia.org/wiki/HTTP\r\n  [3]: http://en.wikipedia.org/wiki/Transmission_Control_Protocol","title":"How is using TCP communication better than HTTP communication?","body":"<p>TCP can't be told as better. It is a protocol of transport(4th) level of <a href=\"http://en.wikipedia.org/wiki/OSI_model\" rel=\"nofollow\">OSI</a> model.\nHTTP is an application protocol(7th level).</p>\n\n<p>They are different and HTTP is based on TCP.</p>\n\n<p>HTTP is basically used for web communications - sites, web-services and so on. It can be told that HTTP is a client-oriented: client asks server for some data and receive the response. When it sends another request and so on. \nTCP is a base protocol which grants you that all your sent information will be received in the same order and intact.</p>\n\n<p>Read about them on Wiki: <a href=\"http://en.wikipedia.org/wiki/HTTP\" rel=\"nofollow\">HTTP</a> and <a href=\"http://en.wikipedia.org/wiki/Transmission_Control_Protocol\" rel=\"nofollow\">TCP</a>.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1305183419,"creation_date":1305183419,"answer_id":5974414,"question_id":5974364,"body_markdown":"HTTP is a protocol *on top* of TCP. It offers specific features and lacks others (most significantly statefulness and the ability for servers to initiate communication). If you need something that HTTP makes hard or impossible, it would be a good idea to use something else. \r\n\r\nOr you can kludge those features on top of HTTP, which is what seems to be the most popular option (possibly because of the &quot;only port 80 is open everywhere, so let&#39;s use it for everything&quot; issue) but often leads to rather nasty hacks.","title":"How is using TCP communication better than HTTP communication?","body":"<p>HTTP is a protocol <em>on top</em> of TCP. It offers specific features and lacks others (most significantly statefulness and the ability for servers to initiate communication). If you need something that HTTP makes hard or impossible, it would be a good idea to use something else. </p>\n\n<p>Or you can kludge those features on top of HTTP, which is what seems to be the most popular option (possibly because of the \"only port 80 is open everywhere, so let's use it for everything\" issue) but often leads to rather nasty hacks.</p>\n"}],"owner":{"account_id":242751,"reputation":6179,"user_id":514493,"accept_rate":69,"display_name":"Manish Basdeo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2039,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5974397,"answer_count":3,"score":3,"last_activity_date":1688574507,"creation_date":1305183058,"question_id":5974364,"body_markdown":"I have implemented a client server jave program using TCP for an assignment. Now I&#39;ve to explain why I chose TCP for communication when other alternatives like HTTP are also available..\r\nSo I need some reasons why TCP is better than the other one ..","title":"How is using TCP communication better than HTTP communication?","body":"<p>I have implemented a client server jave program using TCP for an assignment. Now I've to explain why I chose TCP for communication when other alternatives like HTTP are also available..\nSo I need some reasons why TCP is better than the other one ..</p>\n"},{"tags":["java","for-loop","indexoutofboundsexception"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1688572824,"post_id":76622049,"comment_id":135092469,"body_markdown":"Please [edit] your question to add the way you&#39;re running your program.","body":"Please <a href=\"https://stackoverflow.com/posts/76622049/edit\">edit</a> your question to add the way you&#39;re running your program."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1688572842,"post_id":76622049,"comment_id":135092474,"body_markdown":"Only the command line could give that result of an `ArrayInexOutOfBoundsException` from what I&#39;m seeing here. Are you sure that the arguments you are using to call it are really reaching the `args`? `java -cp myClass 5 3`","body":"Only the command line could give that result of an <code>ArrayInexOutOfBoundsException</code> from what I&#39;m seeing here. Are you sure that the arguments you are using to call it are really reaching the <code>args</code>? <code>java -cp myClass 5 3</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688572856,"post_id":76622049,"comment_id":135092481,"body_markdown":"The only place you&#39;re accessing an array is when you get n and r. It appears you&#39;re not providing the arguments correctly.","body":"The only place you&#39;re accessing an array is when you get n and r. It appears you&#39;re not providing the arguments correctly."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1688574491,"post_id":76622049,"comment_id":135092885,"body_markdown":"Be aware questions need to include the specific error, and need to include instructions to reproduce.","body":"Be aware questions need to include the specific error, and need to include instructions to reproduce."}],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688574288,"creation_date":1688574288,"answer_id":76622280,"question_id":76622049,"body_markdown":"I believe the error has nothing to do with your harmonic numbers. Input values are the problem. If you look into the exception carefully you will see that it is thrown at the line where you extract the parameters from the command line arguments `args[N]`. For that is the only place where you operate with arrays in your code. \r\n\r\nTry this code:\r\n```\r\npublic static void main(String[] args) {\r\n    if (args.length != 2) {\r\n        System.out.println(&quot;The program requires 2 arguments. You provided &quot; + args.length);\r\n        return;\r\n    }\r\n    int n = Integer.parseInt(args[0]);\r\n    int r = Integer.parseInt(args[1]);\r\n    float sum = 0;\r\n    for (int i = 1; i &lt;= n; i++) {\r\n        sum += 1 / Math.pow(i, r);\r\n    }\r\n    System.out.println(sum);\r\n}\r\n```\r\n\r\nYou will see that your arguments are somehow not provided. Check how do you run your program.","title":"Array Index Out Of Bounds Error When Computing Generalized Harmonic Numbers","body":"<p>I believe the error has nothing to do with your harmonic numbers. Input values are the problem. If you look into the exception carefully you will see that it is thrown at the line where you extract the parameters from the command line arguments <code>args[N]</code>. For that is the only place where you operate with arrays in your code.</p>\n<p>Try this code:</p>\n<pre><code>public static void main(String[] args) {\n    if (args.length != 2) {\n        System.out.println(&quot;The program requires 2 arguments. You provided &quot; + args.length);\n        return;\n    }\n    int n = Integer.parseInt(args[0]);\n    int r = Integer.parseInt(args[1]);\n    float sum = 0;\n    for (int i = 1; i &lt;= n; i++) {\n        sum += 1 / Math.pow(i, r);\n    }\n    System.out.println(sum);\n}\n</code></pre>\n<p>You will see that your arguments are somehow not provided. Check how do you run your program.</p>\n"}],"owner":{"account_id":28956957,"reputation":21,"user_id":22180312,"display_name":"silly_bear_11"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76622280,"answer_count":1,"score":1,"last_activity_date":1688574288,"creation_date":1688572621,"question_id":76622049,"body_markdown":"Beginner to java. Trying to make code that takes 2 command line arguments (n, r) and uses a for loop to compute the nth generalized harmonic number of order r.\r\n\r\nI keep getting the error &quot;ArrayIndexOutOfBoundsException&quot; and I have no idea why. In the loop, I have tried i &lt; n and i&lt;=n and keep getting the same result.\r\n\r\n\r\nHere is the code:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int n = Integer.parseInt(args[0]);\r\n        int r = Integer.parseInt(args[1]);\r\n        float sum = 0;\r\n        for (int i = 1; i &lt;= n; i++) {\r\n            sum += 1 / Math.pow(i, r);\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```\r\nEdit: I am running the program from the mac command line and it&#39;s not letting me enter arguments at all. Sorry if this is missing something very obvious. ","title":"Array Index Out Of Bounds Error When Computing Generalized Harmonic Numbers","body":"<p>Beginner to java. Trying to make code that takes 2 command line arguments (n, r) and uses a for loop to compute the nth generalized harmonic number of order r.</p>\n<p>I keep getting the error &quot;ArrayIndexOutOfBoundsException&quot; and I have no idea why. In the loop, I have tried i &lt; n and i&lt;=n and keep getting the same result.</p>\n<p>Here is the code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int n = Integer.parseInt(args[0]);\n        int r = Integer.parseInt(args[1]);\n        float sum = 0;\n        for (int i = 1; i &lt;= n; i++) {\n            sum += 1 / Math.pow(i, r);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n<p>Edit: I am running the program from the mac command line and it's not letting me enter arguments at all. Sorry if this is missing something very obvious.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1688406481,"post_id":76607034,"comment_id":135067263,"body_markdown":"See [FAQ](https://poi.apache.org/help/faq.html#faq-N10204) -&gt; `poi-ooxml-schemas 4.1.2 ` does not fit to `poi-ooxml 5.2.2`. This needs `poi-ooxml-lite` of same version `5.2.2`. Also it needs `commons-io` in version  `2.11.0`.","body":"See <a href=\"https://poi.apache.org/help/faq.html#faq-N10204\" rel=\"nofollow noreferrer\">FAQ</a> -&gt; <code>poi-ooxml-schemas 4.1.2 </code> does not fit to <code>poi-ooxml 5.2.2</code>. This needs <code>poi-ooxml-lite</code> of same version <code>5.2.2</code>. Also it needs <code>commons-io</code> in version  <code>2.11.0</code>."}],"answers":[{"tags":[],"owner":{"account_id":19431408,"reputation":11,"user_id":14211756,"display_name":"bdoucouret"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688574028,"creation_date":1688406959,"answer_id":76607155,"question_id":76607034,"body_markdown":"Difficult to answer without some more information.\r\nNote that `NoClassDefFoundError != ClassNotFoundException`\r\n\r\nWith `NoClassDefFoundError` it could be that the class is on classpath, but there is an exception preventing it to load into the classloader.\r\n\r\nIt could also be the version of commons-io that you use, that can be too old and not include a newer type that is required on some other dependency.\r\n\r\nAnyway, with a simple maven project, I can successfully instantiate an object of type `UnsynchronizedByteArrayOutputStream` with following dependency:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n```\r\npublic static void main(String[] args) {\r\n\t\tUnsynchronizedByteArrayOutputStream e = new UnsynchronizedByteArrayOutputStream();\r\n\tSystem.out.println(&quot;All good&quot;);\r\n}\r\n```","title":"java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream error while reading data from excel","body":"<p>Difficult to answer without some more information.\nNote that <code>NoClassDefFoundError != ClassNotFoundException</code></p>\n<p>With <code>NoClassDefFoundError</code> it could be that the class is on classpath, but there is an exception preventing it to load into the classloader.</p>\n<p>It could also be the version of commons-io that you use, that can be too old and not include a newer type that is required on some other dependency.</p>\n<p>Anyway, with a simple maven project, I can successfully instantiate an object of type <code>UnsynchronizedByteArrayOutputStream</code> with following dependency:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre><code>public static void main(String[] args) {\n        UnsynchronizedByteArrayOutputStream e = new UnsynchronizedByteArrayOutputStream();\n    System.out.println(&quot;All good&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1467181,"reputation":1,"user_id":1379718,"display_name":"monisha wali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1688574028,"creation_date":1688405810,"question_id":76607034,"body_markdown":"I am reading data from excel file but getting above error\r\nI have added all below dependencies to my pom:   \r\n     poi 5.2.2 ,poiooxml 5.2.2, poi-ooxml-schemas 4.1.2 ,commons-io 2.7\r\nStill its not working. Please help\r\n\r\nI have tries adding all dependencies ","title":"java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream error while reading data from excel","body":"<p>I am reading data from excel file but getting above error\nI have added all below dependencies to my pom:<br />\npoi 5.2.2 ,poiooxml 5.2.2, poi-ooxml-schemas 4.1.2 ,commons-io 2.7\nStill its not working. Please help</p>\n<p>I have tries adding all dependencies</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688571181,"creation_date":1688571181,"answer_id":76621881,"question_id":76621813,"body_markdown":"You can set the `spring.kafka.admin.fail-fast` configuration property to `true`.\r\n\r\nThe default is `false`.\r\n\r\nMore on the configuration properties [here][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.integration","title":"How to stop spring KafkaMessageListenerContainer reconnection attempts","body":"<p>You can set the <code>spring.kafka.admin.fail-fast</code> configuration property to <code>true</code>.</p>\n<p>The default is <code>false</code>.</p>\n<p>More on the configuration properties <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.integration\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688573905,"creation_date":1688573905,"answer_id":76622243,"question_id":76621813,"body_markdown":"Unfortunately there is no kafka-clients API to detect whether the server is available or not.","title":"How to stop spring KafkaMessageListenerContainer reconnection attempts","body":"<p>Unfortunately there is no kafka-clients API to detect whether the server is available or not.</p>\n"}],"owner":{"account_id":20450118,"reputation":43,"user_id":15005110,"display_name":"django"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688573905,"creation_date":1688570684,"question_id":76621813,"body_markdown":"I have a [KafkaMessageListenerContainer][1] instance, I&#39;m calling `container.start()` with wrong kafka server address, but no exception is thrown in the start method, instead my app runs in a loop with the following output:\r\n\r\n    Connection to node -1 (localhost/127.0.0.1:19093) could not be established. Broker may not be available.\r\n\r\nI want to stop this loop when connection is not working or make the start method throw an exception. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/api/org/springframework/kafka/listener/KafkaMessageListenerContainer.html","title":"How to stop spring KafkaMessageListenerContainer reconnection attempts","body":"<p>I have a <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/listener/KafkaMessageListenerContainer.html\" rel=\"nofollow noreferrer\">KafkaMessageListenerContainer</a> instance, I'm calling <code>container.start()</code> with wrong kafka server address, but no exception is thrown in the start method, instead my app runs in a loop with the following output:</p>\n<pre><code>Connection to node -1 (localhost/127.0.0.1:19093) could not be established. Broker may not be available.\n</code></pre>\n<p>I want to stop this loop when connection is not working or make the start method throw an exception.</p>\n"},{"tags":["java","reactjs","spring-boot","frontend","backend"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688634232,"post_id":76622175,"comment_id":135101013,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24123375,"reputation":9,"user_id":18092133,"display_name":"Kone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688573451,"creation_date":1688573451,"question_id":76622175,"body_markdown":"I&#39;m trying to make a full stack application, so it includes a lot of endpoints...\r\nI don&#39;t see the green button on the side for generated requests that displays file with type of endpoint and url of it, so I&#39;m interested how to make it visible?\r\n\r\nBtw I am using Spring boot Maven and React for my project.\r\n\r\nI tried in Settings and more, but I couldn&#39;t find anything.","title":"How i can see generated requests for endpoints in IntelliJ","body":"<p>I'm trying to make a full stack application, so it includes a lot of endpoints...\nI don't see the green button on the side for generated requests that displays file with type of endpoint and url of it, so I'm interested how to make it visible?</p>\n<p>Btw I am using Spring boot Maven and React for my project.</p>\n<p>I tried in Settings and more, but I couldn't find anything.</p>\n"},{"tags":["java","spring-boot","sonarqube","sonarqube-scan"],"comments":[{"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"score":3,"creation_date":1688574070,"post_id":76622171,"comment_id":135092791,"body_markdown":"The formatting rules are there for a reason, having a bean with 11 dependencies means that the scope of that bean is too wide and it is usually a code smell. I would suggest you refactor it into smaller ones with a narrow scope. Having said that, if you feel no refactoring is necessary you can suppress the error. Refactoring the code just for the sake of removing the linter errors does not sound like a great idea.","body":"The formatting rules are there for a reason, having a bean with 11 dependencies means that the scope of that bean is too wide and it is usually a code smell. I would suggest you refactor it into smaller ones with a narrow scope. Having said that, if you feel no refactoring is necessary you can suppress the error. Refactoring the code just for the sake of removing the linter errors does not sound like a great idea."}],"owner":{"account_id":17143647,"reputation":7,"user_id":12407074,"display_name":"lnikoli31"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573433,"creation_date":1688573433,"question_id":76622171,"body_markdown":"I have an implementation of my service class with a constructor having more than 7 parameters (11 parameters)\r\n\r\n    @Service\r\n    public class CourseService extends CourseBase {\r\n    \r\n      private MathRepository mathRepository;\r\n      private BiologyRepository biologyRepository;\r\n      private PhysicalRepository physicalRepository;\r\n      private EnglishRepository englishRepository;\r\n      private AlgebraRepository algebraRepository;\r\n      private TrigonometryRepository trigonometryRepository;\r\n      private ChemistryRepository chemistryRepository;\r\n      private AnatomyRepository anatomyRepository;\r\n      private HistoryRepository historyRepository;\r\n      private CourseBaseOneRepository courseBaseOneRepository;\r\n      private CourseBaseTwoRepository courseBaseTwoRepository;\r\n      \r\n      public CourseService(\r\n    \tMathRepository mathRepository,\r\n    \tBiologyRepository biologyRepository,\r\n    \tPhysicalRepository physicalRepository,\r\n    \tEnglishRepository englishRepository,\r\n    \tAlgebraRepository algebraRepository,\r\n    \tTrigonometryRepository trigonometryRepository,\r\n    \tChemistryRepository chemistryRepository,\r\n    \tAnatomyRepository anatomyRepository,\r\n    \tHistoryRepository historyRepository,\r\n    \tCourseBaseOneRepository courseBaseOneRepository,\r\n    \tCourseBaseTwoRepository courseBaseTwoRepository\r\n      ) {\r\n      super(courseBaseOneRepository, courseBaseTwoRepository);\r\n        this.mathRepository = mathRepository;\r\n    \tthis.biologyRepository = biologyRepository;\r\n    \tthis.physicalRepository = physicalRepository;\r\n    \tthis.englishRepository = englishRepository;\r\n    \tthis.algebraRepository = algebraRepository;\r\n    \tthis.trigonometryRepository = trigonometryRepository;\r\n    \tthis.chemistryRepository = chemistryRepository;\r\n    \tthis.anatomyRepository = anatomyRepository;\r\n    \tthis.historyRepository = historyRepository;\r\n      }\r\n      ...\r\n    \r\n    }\r\n\r\nI get a  sonar Qube error: constructor has 11 parameters , which is greater then 7 authorized\r\nTo solve this error, I thought of creating another class that has 9 parameters and I want to inject this class into my service class. \r\n\r\n    public class CourseGroupService {\r\n    \r\n      private MathRepository mathRepository;\r\n      private BiologyRepository biologyRepository;\r\n      private PhysicalRepository physicalRepository;\r\n      private EnglishRepository englishRepository;\r\n      private AlgebraRepository algebraRepository;\r\n      private TrigonometryRepository trigonometryRepository;\r\n      private ChemistryRepository chemistryRepository;\r\n      private AnatomyRepository anatomyRepository;\r\n      private HistoryRepository historyRepository;\r\n      \r\n      public CourseGroupService(\r\n    \tMathRepository mathRepository,\r\n    \tBiologyRepository biologyRepository,\r\n    \tPhysicalRepository physicalRepository,\r\n    \tEnglishRepository englishRepository,\r\n    \tAlgebraRepository algebraRepository,\r\n    \tTrigonometryRepository trigonometryRepository,\r\n    \tChemistryRepository chemistryRepository,\r\n    \tAnatomyRepository anatomyRepository,\r\n    \tHistoryRepository historyRepository,\r\n      ) {\r\n        this.mathRepository = mathRepository;\r\n    \tthis.biologyRepository = biologyRepository;\r\n    \tthis.physicalRepository = physicalRepository;\r\n    \tthis.englishRepository = englishRepository;\r\n    \tthis.algebraRepository = algebraRepository;\r\n    \tthis.trigonometryRepository = trigonometryRepository;\r\n    \tthis.chemistryRepository = chemistryRepository;\r\n    \tthis.anatomyRepository = anatomyRepository;\r\n    \tthis.historyRepository = historyRepository;\r\n      }\r\n    \r\n    }\r\n\r\nHow to include this class in the service class and how to initialize it in the constructor to no longer have this sonar Qube error","title":"Spring boot constructor parameter which is greater then 7 authorized","body":"<p>I have an implementation of my service class with a constructor having more than 7 parameters (11 parameters)</p>\n<pre><code>@Service\npublic class CourseService extends CourseBase {\n\n  private MathRepository mathRepository;\n  private BiologyRepository biologyRepository;\n  private PhysicalRepository physicalRepository;\n  private EnglishRepository englishRepository;\n  private AlgebraRepository algebraRepository;\n  private TrigonometryRepository trigonometryRepository;\n  private ChemistryRepository chemistryRepository;\n  private AnatomyRepository anatomyRepository;\n  private HistoryRepository historyRepository;\n  private CourseBaseOneRepository courseBaseOneRepository;\n  private CourseBaseTwoRepository courseBaseTwoRepository;\n  \n  public CourseService(\n    MathRepository mathRepository,\n    BiologyRepository biologyRepository,\n    PhysicalRepository physicalRepository,\n    EnglishRepository englishRepository,\n    AlgebraRepository algebraRepository,\n    TrigonometryRepository trigonometryRepository,\n    ChemistryRepository chemistryRepository,\n    AnatomyRepository anatomyRepository,\n    HistoryRepository historyRepository,\n    CourseBaseOneRepository courseBaseOneRepository,\n    CourseBaseTwoRepository courseBaseTwoRepository\n  ) {\n  super(courseBaseOneRepository, courseBaseTwoRepository);\n    this.mathRepository = mathRepository;\n    this.biologyRepository = biologyRepository;\n    this.physicalRepository = physicalRepository;\n    this.englishRepository = englishRepository;\n    this.algebraRepository = algebraRepository;\n    this.trigonometryRepository = trigonometryRepository;\n    this.chemistryRepository = chemistryRepository;\n    this.anatomyRepository = anatomyRepository;\n    this.historyRepository = historyRepository;\n  }\n  ...\n\n}\n</code></pre>\n<p>I get a  sonar Qube error: constructor has 11 parameters , which is greater then 7 authorized\nTo solve this error, I thought of creating another class that has 9 parameters and I want to inject this class into my service class.</p>\n<pre><code>public class CourseGroupService {\n\n  private MathRepository mathRepository;\n  private BiologyRepository biologyRepository;\n  private PhysicalRepository physicalRepository;\n  private EnglishRepository englishRepository;\n  private AlgebraRepository algebraRepository;\n  private TrigonometryRepository trigonometryRepository;\n  private ChemistryRepository chemistryRepository;\n  private AnatomyRepository anatomyRepository;\n  private HistoryRepository historyRepository;\n  \n  public CourseGroupService(\n    MathRepository mathRepository,\n    BiologyRepository biologyRepository,\n    PhysicalRepository physicalRepository,\n    EnglishRepository englishRepository,\n    AlgebraRepository algebraRepository,\n    TrigonometryRepository trigonometryRepository,\n    ChemistryRepository chemistryRepository,\n    AnatomyRepository anatomyRepository,\n    HistoryRepository historyRepository,\n  ) {\n    this.mathRepository = mathRepository;\n    this.biologyRepository = biologyRepository;\n    this.physicalRepository = physicalRepository;\n    this.englishRepository = englishRepository;\n    this.algebraRepository = algebraRepository;\n    this.trigonometryRepository = trigonometryRepository;\n    this.chemistryRepository = chemistryRepository;\n    this.anatomyRepository = anatomyRepository;\n    this.historyRepository = historyRepository;\n  }\n\n}\n</code></pre>\n<p>How to include this class in the service class and how to initialize it in the constructor to no longer have this sonar Qube error</p>\n"},{"tags":["java","javafx","treeview"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1688574235,"post_id":76622164,"comment_id":135092823,"body_markdown":"It sounds like you want to respond to clicks on the `TreeCell`, not changes in selection. Just define a custom `cellFactory` and register the appropriate event handler with the cell. Create and post a [mre] if you can&#39;t get it to work.","body":"It sounds like you want to respond to clicks on the <code>TreeCell</code>, not changes in selection. Just define a custom <code>cellFactory</code> and register the appropriate event handler with the cell. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you can&#39;t get it to work."}],"owner":{"account_id":27101024,"reputation":11,"user_id":20647584,"display_name":"TRKirua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573394,"creation_date":1688573394,"question_id":76622164,"body_markdown":"I&#39;m coding in JavaFx and I&#39;ve created a TreeView to display folders and files like this :\r\n```\r\nfileTreeView = new TreeView&lt;&gt;();\r\nfileTreeView.setPrefWidth(screenWidth / 5);\r\nfileTreeView.setMinWidth(screenWidth / 5);\r\nfileTreeView.setMaxWidth(screenWidth / 5);\r\n```\r\n\r\nIf the user open a single file, there will only be one file in this TreeView. When clicking on this file, it will open create a Tab and put the content in it and put the Tab in a TabPane. But when the user close the file tab and he wants to open again the file by clicking on it in the TreeView, it don&#39;t work because he must click on another file or directory to deselect the previous file, and then click on the file again.\r\n\r\nSo you understand it, if there is only one file, you cannot open it after closing it.\r\nHow can I do it. I&#39;ve already tried things like\r\n``` fileTreeView.getSelectionModel().clearSelection(); ```\r\nor\r\n``` fileTreeView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE); ```\r\nbut it&#39;s not what I want.\r\n\r\nThanks in advance for your help !","title":"How to deselect a TreeItem after clicking in a TreeView in JavaFx","body":"<p>I'm coding in JavaFx and I've created a TreeView to display folders and files like this :</p>\n<pre><code>fileTreeView = new TreeView&lt;&gt;();\nfileTreeView.setPrefWidth(screenWidth / 5);\nfileTreeView.setMinWidth(screenWidth / 5);\nfileTreeView.setMaxWidth(screenWidth / 5);\n</code></pre>\n<p>If the user open a single file, there will only be one file in this TreeView. When clicking on this file, it will open create a Tab and put the content in it and put the Tab in a TabPane. But when the user close the file tab and he wants to open again the file by clicking on it in the TreeView, it don't work because he must click on another file or directory to deselect the previous file, and then click on the file again.</p>\n<p>So you understand it, if there is only one file, you cannot open it after closing it.\nHow can I do it. I've already tried things like\n<code>fileTreeView.getSelectionModel().clearSelection();</code>\nor\n<code>fileTreeView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);</code>\nbut it's not what I want.</p>\n<p>Thanks in advance for your help !</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":12488403,"reputation":23,"user_id":9090844,"display_name":"Abdelouahad Elfihri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573280,"creation_date":1688573280,"question_id":76622149,"body_markdown":"hy,\r\ni working on an android app i have problem with my main activity i have strange empty white space above toolbar. in my app i have one activity that does not have empty space above toolbar i tried to copy some of the layout in this activity but nothing works maybe i have to add something else\r\nthis is my layout for main activity\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/main_activity_toolbar&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#4F5EB1&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        android:theme=&quot;?attr/actionBarTheme&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/griview&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:title=&quot;@string/app_name&quot;\r\n        app:titleTextColor=&quot;@android:color/white&quot; /&gt;\r\n    \r\n    &lt;GridView\r\n        android:id=&quot;@+id/griview&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;670dp&quot;\r\n        android:layout_marginBottom=&quot;5dp&quot;\r\n        android:columnWidth=&quot;100dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:numColumns=&quot;2&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/main_activity_toolbar&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\ncan someone please help me with this issue\r\n\r\nthank you so much for your help\r\n","title":"Strange empty white space above toolbar","body":"<p>hy,\ni working on an android app i have problem with my main activity i have strange empty white space above toolbar. in my app i have one activity that does not have empty space above toolbar i tried to copy some of the layout in this activity but nothing works maybe i have to add something else\nthis is my layout for main activity</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/main_activity_toolbar&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;#4F5EB1&quot;\n    android:minHeight=&quot;?attr/actionBarSize&quot;\n    android:theme=&quot;?attr/actionBarTheme&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/griview&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:title=&quot;@string/app_name&quot;\n    app:titleTextColor=&quot;@android:color/white&quot; /&gt;\n\n&lt;GridView\n    android:id=&quot;@+id/griview&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;670dp&quot;\n    android:layout_marginBottom=&quot;5dp&quot;\n    android:columnWidth=&quot;100dp&quot;\n    android:gravity=&quot;center&quot;\n    android:numColumns=&quot;2&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/main_activity_toolbar&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>can someone please help me with this issue</p>\n<p>thank you so much for your help</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688573890,"post_id":76622136,"comment_id":135092756,"body_markdown":"what is the meaning of that &quot;range&quot;, or `K`? Why the [tag:java] tag - posted code is NOT Java?","body":"what is the meaning of that &quot;range&quot;, or <code>K</code>? Why the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag - posted code is NOT Java?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1688574319,"post_id":76622136,"comment_id":135092846,"body_markdown":"What do you want to optimize for? Speed? Memory usage? Did you already use a profiler? This question may fit better on [codereview.se]. See [ask] for questions that fit stackoverflow.","body":"What do you want to optimize for? Speed? Memory usage? Did you already use a profiler? This question may fit better on <a href=\"https://codereview.stackexchange.com\">Code Review</a>. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for questions that fit stackoverflow."}],"owner":{"account_id":28956991,"reputation":1,"user_id":22180344,"display_name":"Shiva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573186,"creation_date":1688573186,"question_id":76622136,"body_markdown":"How to optimize this code: Have to find all possible combinations (range [1,K]) of digits in a given string of digits, with the condition that digits are in same order.\r\nEg: If the given string is &quot;123&quot; and K is 200, there are four possible arrays: [1, 2, 3], [12, 3], [1, 23], [123].\r\n\r\n\r\n```\r\ndef findComb(stri):\r\n    if len(stri) &lt;= 1 :\r\n        return [stri]\r\n    arr=findComb(stri[1:len(stri)])\r\n    destArr=[]\r\n    for i in arr:\r\n        destArr.append(stri[0]+i)\r\n        destArr.append(stri[0]+&#39;,&#39;+i)\r\n    return destArr\r\n\r\n\r\nn, K=map(str,input().split())\r\nK=int(K)\r\ns=input()\r\nl=findComb(s)\r\nprint(l)\r\n\r\nlis=[]\r\nfor i in l:\r\n    f=0\r\n    if &#39;,&#39; in i:\r\n        li=i.split(&#39;,&#39;)\r\n        for j in li:\r\n            if int(j)&gt;K:\r\n                f=1\r\n                break\r\n        if f==0:\r\n            lis.append(li)\r\n    else:\r\n        if int(i)&lt;=K:\r\n            lis.append(i)\r\n\r\nprint(len(lis)%(10^9+7))\r\n```\r\n\r\n\r\n\r\nMy try is given above.\r\n\r\nAny suggestions on how to optimize it?\r\n\r\n","title":"Optimize the recursion depth","body":"<p>How to optimize this code: Have to find all possible combinations (range [1,K]) of digits in a given string of digits, with the condition that digits are in same order.\nEg: If the given string is &quot;123&quot; and K is 200, there are four possible arrays: [1, 2, 3], [12, 3], [1, 23], [123].</p>\n<pre><code>def findComb(stri):\n    if len(stri) &lt;= 1 :\n        return [stri]\n    arr=findComb(stri[1:len(stri)])\n    destArr=[]\n    for i in arr:\n        destArr.append(stri[0]+i)\n        destArr.append(stri[0]+','+i)\n    return destArr\n\n\nn, K=map(str,input().split())\nK=int(K)\ns=input()\nl=findComb(s)\nprint(l)\n\nlis=[]\nfor i in l:\n    f=0\n    if ',' in i:\n        li=i.split(',')\n        for j in li:\n            if int(j)&gt;K:\n                f=1\n                break\n        if f==0:\n            lis.append(li)\n    else:\n        if int(i)&lt;=K:\n            lis.append(i)\n\nprint(len(lis)%(10^9+7))\n</code></pre>\n<p>My try is given above.</p>\n<p>Any suggestions on how to optimize it?</p>\n"},{"tags":["java","generics","enums","crtp"],"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":12,"creation_date":1388546779,"post_id":211143,"comment_id":31305555,"body_markdown":"Here&#39;s the explanation I like best: [Groking Enum (aka Enum&amp;lt;E extends Enum&amp;lt;E&gt;&gt;)](http://madbean.com/2004/mb2004-3)","body":"Here&#39;s the explanation I like best: <a href=\"http://madbean.com/2004/mb2004-3\" rel=\"nofollow noreferrer\">Groking Enum (aka Enum&amp;lt;E extends Enum&amp;lt;E&gt;&gt;)</a>"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1433510528,"post_id":211143,"comment_id":49397333,"body_markdown":"This question has better answers: http://stackoverflow.com/a/3068001/2413303","body":"This question has better answers: <a href=\"http://stackoverflow.com/a/3068001/2413303\">stackoverflow.com/a/3068001/2413303</a>"},{"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"score":1,"creation_date":1582038586,"post_id":211143,"comment_id":106634031,"body_markdown":"have a look at https://www.sitepoint.com/self-types-with-javas-generics/","body":"have a look at <a href=\"https://www.sitepoint.com/self-types-with-javas-generics/\" rel=\"nofollow noreferrer\">sitepoint.com/self-types-with-javas-generics</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":3,"up_vote_count":117,"is_accepted":true,"score":114,"last_activity_date":1432902330,"creation_date":1224221453,"answer_id":211161,"question_id":211143,"body_markdown":"It means that the type argument for enum has to derive from an enum which itself has the same type argument. How can this happen? By making the type argument the new type itself. So if I&#39;ve got an enum called StatusCode, it would be equivalent to:\r\n\r\n    public class StatusCode extends Enum&lt;StatusCode&gt;\r\n\r\nNow if you check the constraints, we&#39;ve got `Enum&lt;StatusCode&gt;` - so `E=StatusCode`. Let&#39;s check: does `E` extend `Enum&lt;StatusCode&gt;`? Yes! We&#39;re okay.\r\n\r\nYou may well be asking yourself what the point of this is :) Well, it means that the API for Enum can refer to itself - for instance, being able to say that `Enum&lt;E&gt;` implements `Comparable&lt;E&gt;`. The base class is able to do the comparisons (in the case of enums) but it can make sure that it only compares the right kind of enums with each other. (EDIT: Well, nearly - see the edit at the bottom.)\r\n\r\nI&#39;ve used something similar in my C# port of ProtocolBuffers. There are &quot;messages&quot; (immutable) and &quot;builders&quot; (mutable, used to build a message) - and they come as pairs of types. The interfaces involved are:\r\n\r\n    public interface IBuilder&lt;TMessage, TBuilder&gt;\r\n      where TMessage : IMessage&lt;TMessage, TBuilder&gt; \r\n      where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\r\n\r\n    public interface IMessage&lt;TMessage, TBuilder&gt;\r\n      where TMessage : IMessage&lt;TMessage, TBuilder&gt; \r\n      where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\r\n\r\nThis means that from a message you can get an appropriate builder (e.g. to take a copy of a message and change some bits) and from a builder you can get an appropriate message when you&#39;ve finished building it. It&#39;s a good job users of the API don&#39;t need to actually care about this though - it&#39;s horrendously complicated, and took several iterations to get to where it is.\r\n\r\nEDIT: Note that this doesn&#39;t stop you from creating odd types which use a type argument which itself is okay, but which isn&#39;t the same type. The purpose is to give benefits in the *right* case rather than protect you from the *wrong* case.\r\n\r\nSo if `Enum` weren&#39;t handled &quot;specially&quot; in Java anyway, you could (as noted in comments) create the following types:\r\n\r\n    public class First extends Enum&lt;First&gt; {}\r\n    public class Second extends Enum&lt;First&gt; {}\r\n\r\n`Second` would implement `Comparable&lt;First&gt;` rather than `Comparable&lt;Second&gt;`... but `First` itself would be fine.","title":"Java Enum definition","body":"<p>It means that the type argument for enum has to derive from an enum which itself has the same type argument. How can this happen? By making the type argument the new type itself. So if I've got an enum called StatusCode, it would be equivalent to:</p>\n\n<pre><code>public class StatusCode extends Enum&lt;StatusCode&gt;\n</code></pre>\n\n<p>Now if you check the constraints, we've got <code>Enum&lt;StatusCode&gt;</code> - so <code>E=StatusCode</code>. Let's check: does <code>E</code> extend <code>Enum&lt;StatusCode&gt;</code>? Yes! We're okay.</p>\n\n<p>You may well be asking yourself what the point of this is :) Well, it means that the API for Enum can refer to itself - for instance, being able to say that <code>Enum&lt;E&gt;</code> implements <code>Comparable&lt;E&gt;</code>. The base class is able to do the comparisons (in the case of enums) but it can make sure that it only compares the right kind of enums with each other. (EDIT: Well, nearly - see the edit at the bottom.)</p>\n\n<p>I've used something similar in my C# port of ProtocolBuffers. There are \"messages\" (immutable) and \"builders\" (mutable, used to build a message) - and they come as pairs of types. The interfaces involved are:</p>\n\n<pre><code>public interface IBuilder&lt;TMessage, TBuilder&gt;\n  where TMessage : IMessage&lt;TMessage, TBuilder&gt; \n  where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\n\npublic interface IMessage&lt;TMessage, TBuilder&gt;\n  where TMessage : IMessage&lt;TMessage, TBuilder&gt; \n  where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\n</code></pre>\n\n<p>This means that from a message you can get an appropriate builder (e.g. to take a copy of a message and change some bits) and from a builder you can get an appropriate message when you've finished building it. It's a good job users of the API don't need to actually care about this though - it's horrendously complicated, and took several iterations to get to where it is.</p>\n\n<p>EDIT: Note that this doesn't stop you from creating odd types which use a type argument which itself is okay, but which isn't the same type. The purpose is to give benefits in the <em>right</em> case rather than protect you from the <em>wrong</em> case.</p>\n\n<p>So if <code>Enum</code> weren't handled \"specially\" in Java anyway, you could (as noted in comments) create the following types:</p>\n\n<pre><code>public class First extends Enum&lt;First&gt; {}\npublic class Second extends Enum&lt;First&gt; {}\n</code></pre>\n\n<p><code>Second</code> would implement <code>Comparable&lt;First&gt;</code> rather than <code>Comparable&lt;Second&gt;</code>... but <code>First</code> itself would be fine.</p>\n"},{"tags":[],"owner":{"account_id":8362,"reputation":274,"user_id":15040,"display_name":"kpirkkal"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1224221565,"creation_date":1224221565,"answer_id":211163,"question_id":211143,"body_markdown":"You are not the only one wondering what that means; see [Chaotic Java blog][1].\r\n\r\n“If a class extends this class, it should pass a parameter E. The parameter E’s bounds are for a class which extends this class with the same parameter E”.\r\n\r\n\r\n  [1]: http://chaoticjava.com/posts/class-enume-extends-enume/","title":"Java Enum definition","body":"<p>You are not the only one wondering what that means; see <a href=\"http://chaoticjava.com/posts/class-enume-extends-enume/\" rel=\"nofollow noreferrer\">Chaotic Java blog</a>.</p>\n\n<p>“If a class extends this class, it should pass a parameter E. The parameter E’s bounds are for a class which extends this class with the same parameter E”.</p>\n"},{"tags":[],"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1387065559,"creation_date":1239928289,"answer_id":758595,"question_id":211143,"body_markdown":"The following is a modified version of the explanation from the book *Java Generics and Collections*:\r\nWe have an `Enum` declared\r\n\t\r\n\r\n    enum Season { WINTER, SPRING, SUMMER, FALL }\r\n\r\nwhich will be expanded to a class\r\n\t\r\n\r\n    final class Season extends ...\r\n\r\nwhere `...` is to be the somehow-parameterised base class for Enums.  Let&#39;s work \r\nout what that has to be.  Well, one of the requirements for `Season` is that it should implement `Comparable&lt;Season&gt;`.  So we&#39;re going to need\r\n\t\r\n\r\n    Season extends ... implements Comparable&lt;Season&gt;\r\n\r\nWhat could you use for `...` that would allow this to work?  Given that it has to be a parameterisation of `Enum`, the only choice is `Enum&lt;Season&gt;`, so that you can have:\r\n\t\r\n\r\n    Season extends Enum&lt;Season&gt;\r\n    Enum&lt;Season&gt; implements Comparable&lt;Season&gt;\r\n\r\nSo `Enum` is parameterised on types like `Season`.  Abstract from `Season` and\r\nyou get that the parameter of `Enum` is any type that satisfies \r\n\r\n\r\n     E extends Enum&lt;E&gt;\r\n\r\n\r\n----------\r\nMaurice Naftalin (co-author, Java Generics and Collections)\r\n\r\n","title":"Java Enum definition","body":"<p>The following is a modified version of the explanation from the book <em>Java Generics and Collections</em>:\nWe have an <code>Enum</code> declared</p>\n\n<pre><code>enum Season { WINTER, SPRING, SUMMER, FALL }\n</code></pre>\n\n<p>which will be expanded to a class</p>\n\n<pre><code>final class Season extends ...\n</code></pre>\n\n<p>where <code>...</code> is to be the somehow-parameterised base class for Enums.  Let's work \nout what that has to be.  Well, one of the requirements for <code>Season</code> is that it should implement <code>Comparable&lt;Season&gt;</code>.  So we're going to need</p>\n\n<pre><code>Season extends ... implements Comparable&lt;Season&gt;\n</code></pre>\n\n<p>What could you use for <code>...</code> that would allow this to work?  Given that it has to be a parameterisation of <code>Enum</code>, the only choice is <code>Enum&lt;Season&gt;</code>, so that you can have:</p>\n\n<pre><code>Season extends Enum&lt;Season&gt;\nEnum&lt;Season&gt; implements Comparable&lt;Season&gt;\n</code></pre>\n\n<p>So <code>Enum</code> is parameterised on types like <code>Season</code>.  Abstract from <code>Season</code> and\nyou get that the parameter of <code>Enum</code> is any type that satisfies </p>\n\n<pre><code> E extends Enum&lt;E&gt;\n</code></pre>\n\n<hr>\n\n<p>Maurice Naftalin (co-author, Java Generics and Collections)</p>\n"},{"tags":[],"owner":{"account_id":39689,"reputation":406,"user_id":114564,"accept_rate":100,"display_name":"nozebacle"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1255504118,"creation_date":1255459924,"answer_id":1562221,"question_id":211143,"body_markdown":"This post has totally clarified to me these problem of &#39;recursive generic types&#39;.\r\nI just wanted to add another case where this particular structure is necessary.\r\n\r\nSuppose you have generic nodes in a generic graph:\r\n\r\n    public abstract class Node&lt;T extends Node&lt;T&gt;&gt;\r\n    {\r\n        public void addNeighbor(T);\r\n    \r\n        public void addNeighbors(Collection&lt;? extends T&gt; nodes);\r\n\r\n        public Collection&lt;T&gt; getNeighbor();\r\n    }\r\n\r\nThen you can have graphs of specialized types:\r\n\r\n    public class City extends Node&lt;City&gt;\r\n    {\r\n        public void addNeighbor(City){...}\r\n    \r\n        public void addNeighbors(Collection&lt;? extends City&gt; nodes){...}\r\n\r\n        public Collection&lt;City&gt; getNeighbor(){...}\r\n    }\r\n\r\n","title":"Java Enum definition","body":"<p>This post has totally clarified to me these problem of 'recursive generic types'.\nI just wanted to add another case where this particular structure is necessary.</p>\n\n<p>Suppose you have generic nodes in a generic graph:</p>\n\n<pre><code>public abstract class Node&lt;T extends Node&lt;T&gt;&gt;\n{\n    public void addNeighbor(T);\n\n    public void addNeighbors(Collection&lt;? extends T&gt; nodes);\n\n    public Collection&lt;T&gt; getNeighbor();\n}\n</code></pre>\n\n<p>Then you can have graphs of specialized types:</p>\n\n<pre><code>public class City extends Node&lt;City&gt;\n{\n    public void addNeighbor(City){...}\n\n    public void addNeighbors(Collection&lt;? extends City&gt; nodes){...}\n\n    public Collection&lt;City&gt; getNeighbor(){...}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1385802929,"creation_date":1385589847,"answer_id":20253960,"question_id":211143,"body_markdown":"This can be illustrated by a simple example and a technique which can be used to implement chained method calls for sub-classes. In an example below `setName` returns a `Node` so chaining won&#39;t work for the `City`:\r\n\r\n    class Node {\r\n        String name;\r\n\r\n        Node setName(String name) {\r\n            this.name = name;\r\n            return this;\r\n        }\r\n    }\r\n\r\n    class City extends Node {\r\n        int square;\r\n\r\n        City setSquare(int square) {\r\n            this.square = square;\r\n            return this;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        City city = new City()\r\n            .setName(&quot;LA&quot;)\r\n            .setSquare(100);    // won&#39;t compile, setName() returns Node\r\n    }\r\n\r\nSo we could reference a sub-class in a generic declaration, so that the `City` now returns the correct type:\r\n\r\n    abstract class Node&lt;SELF extends Node&lt;SELF&gt;&gt;{\r\n        String name;\r\n    \r\n        SELF setName(String name) {\r\n            this.name = name;\r\n            return self();\r\n        }\r\n    \r\n        protected abstract SELF self();\r\n    }\r\n    \r\n    class City extends Node&lt;City&gt; {\r\n        int square;\r\n    \r\n        City setSquare(int square) {\r\n            this.square = square;\r\n            return self();\r\n        }\r\n    \r\n        @Override\r\n        protected City self() {\r\n            return this;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n           City city = new City()\r\n                .setName(&quot;LA&quot;)\r\n                .setSquare(100);                 // ok!\r\n        }\r\n    }","title":"Java Enum definition","body":"<p>This can be illustrated by a simple example and a technique which can be used to implement chained method calls for sub-classes. In an example below <code>setName</code> returns a <code>Node</code> so chaining won't work for the <code>City</code>:</p>\n\n<pre><code>class Node {\n    String name;\n\n    Node setName(String name) {\n        this.name = name;\n        return this;\n    }\n}\n\nclass City extends Node {\n    int square;\n\n    City setSquare(int square) {\n        this.square = square;\n        return this;\n    }\n}\n\npublic static void main(String[] args) {\n    City city = new City()\n        .setName(\"LA\")\n        .setSquare(100);    // won't compile, setName() returns Node\n}\n</code></pre>\n\n<p>So we could reference a sub-class in a generic declaration, so that the <code>City</code> now returns the correct type:</p>\n\n<pre><code>abstract class Node&lt;SELF extends Node&lt;SELF&gt;&gt;{\n    String name;\n\n    SELF setName(String name) {\n        this.name = name;\n        return self();\n    }\n\n    protected abstract SELF self();\n}\n\nclass City extends Node&lt;City&gt; {\n    int square;\n\n    City setSquare(int square) {\n        this.square = square;\n        return self();\n    }\n\n    @Override\n    protected City self() {\n        return this;\n    }\n\n    public static void main(String[] args) {\n       City city = new City()\n            .setName(\"LA\")\n            .setSquare(100);                 // ok!\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433511261,"creation_date":1433511261,"answer_id":30667912,"question_id":211143,"body_markdown":"If you look at the `Enum` source code, it has the following:\r\n\r\n    public abstract class Enum&lt;E extends Enum&lt;E&gt;&gt;\r\n            implements Comparable&lt;E&gt;, Serializable {\r\n    \r\n        public final int compareTo(E o) {\r\n            Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\r\n            Enum&lt;E&gt; self = this;\r\n            if (self.getClass() != other.getClass() &amp;&amp; // optimization\r\n                self.getDeclaringClass() != other.getDeclaringClass())\r\n                throw new ClassCastException();\r\n            return self.ordinal - other.ordinal;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public final Class&lt;E&gt; getDeclaringClass() {\r\n            Class&lt;?&gt; clazz = getClass();\r\n            Class&lt;?&gt; zuper = clazz.getSuperclass();\r\n            return (zuper == Enum.class) ? (Class&lt;E&gt;)clazz : (Class&lt;E&gt;)zuper;\r\n        }\r\n    \r\n        public static &lt;T extends Enum&lt;T&gt;&gt; T valueOf(Class&lt;T&gt; enumType,\r\n                                                    String name) {\r\n            T result = enumType.enumConstantDirectory().get(name);\r\n            if (result != null)\r\n                return result;\r\n            if (name == null)\r\n                throw new NullPointerException(&quot;Name is null&quot;);\r\n            throw new IllegalArgumentException(\r\n                &quot;No enum constant &quot; + enumType.getCanonicalName() + &quot;.&quot; + name);\r\n        } \r\n    }\r\n\r\nFirst thing first, what does `E extends Enum&lt;E&gt;` mean? It means the type parameter is something that extends from Enum, and isn&#39;t parametrized with a raw type (it&#39;s parametrized by itself).\r\n\r\nThis is relevant if you have an enum\r\n\r\n    public enum MyEnum {\r\n        THING1,\r\n        THING2;\r\n    }\r\n\r\nwhich, if I know correctly, is translated to\r\n\r\n    public final class MyEnum extends Enum&lt;MyEnum&gt; {\r\n        public static final MyEnum THING1 = new MyEnum();\r\n        public static final MyEnum THING2 = new MyEnum();\r\n    }\r\n\r\nSo this means that MyEnum receives the following methods:\r\n\r\n    public final int compareTo(MyEnum o) {\r\n        Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\r\n        Enum&lt;MyEnum&gt; self = this;\r\n        if (self.getClass() != other.getClass() &amp;&amp; // optimization\r\n            self.getDeclaringClass() != other.getDeclaringClass())\r\n            throw new ClassCastException();\r\n        return self.ordinal - other.ordinal;\r\n    }\r\n\r\nAnd even more importantly,\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public final Class&lt;MyEnum&gt; getDeclaringClass() {\r\n            Class&lt;?&gt; clazz = getClass();\r\n            Class&lt;?&gt; zuper = clazz.getSuperclass();\r\n            return (zuper == Enum.class) ? (Class&lt;MyEnum&gt;)clazz : (Class&lt;MyEnum&gt;)zuper;\r\n        }\r\n\r\nThis makes `getDeclaringClass()` cast to the proper `Class&lt;T&gt;` object.\r\n\r\nA way clearer example is the one that I answered on [this question][1] where you cannot avoid this construct if you want to specify a generic bound.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30616864/how-to-make-type-safety-with-generics/30616937#30616937","title":"Java Enum definition","body":"<p>If you look at the <code>Enum</code> source code, it has the following:</p>\n\n<pre><code>public abstract class Enum&lt;E extends Enum&lt;E&gt;&gt;\n        implements Comparable&lt;E&gt;, Serializable {\n\n    public final int compareTo(E o) {\n        Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\n        Enum&lt;E&gt; self = this;\n        if (self.getClass() != other.getClass() &amp;&amp; // optimization\n            self.getDeclaringClass() != other.getDeclaringClass())\n            throw new ClassCastException();\n        return self.ordinal - other.ordinal;\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public final Class&lt;E&gt; getDeclaringClass() {\n        Class&lt;?&gt; clazz = getClass();\n        Class&lt;?&gt; zuper = clazz.getSuperclass();\n        return (zuper == Enum.class) ? (Class&lt;E&gt;)clazz : (Class&lt;E&gt;)zuper;\n    }\n\n    public static &lt;T extends Enum&lt;T&gt;&gt; T valueOf(Class&lt;T&gt; enumType,\n                                                String name) {\n        T result = enumType.enumConstantDirectory().get(name);\n        if (result != null)\n            return result;\n        if (name == null)\n            throw new NullPointerException(\"Name is null\");\n        throw new IllegalArgumentException(\n            \"No enum constant \" + enumType.getCanonicalName() + \".\" + name);\n    } \n}\n</code></pre>\n\n<p>First thing first, what does <code>E extends Enum&lt;E&gt;</code> mean? It means the type parameter is something that extends from Enum, and isn't parametrized with a raw type (it's parametrized by itself).</p>\n\n<p>This is relevant if you have an enum</p>\n\n<pre><code>public enum MyEnum {\n    THING1,\n    THING2;\n}\n</code></pre>\n\n<p>which, if I know correctly, is translated to</p>\n\n<pre><code>public final class MyEnum extends Enum&lt;MyEnum&gt; {\n    public static final MyEnum THING1 = new MyEnum();\n    public static final MyEnum THING2 = new MyEnum();\n}\n</code></pre>\n\n<p>So this means that MyEnum receives the following methods:</p>\n\n<pre><code>public final int compareTo(MyEnum o) {\n    Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\n    Enum&lt;MyEnum&gt; self = this;\n    if (self.getClass() != other.getClass() &amp;&amp; // optimization\n        self.getDeclaringClass() != other.getDeclaringClass())\n        throw new ClassCastException();\n    return self.ordinal - other.ordinal;\n}\n</code></pre>\n\n<p>And even more importantly,</p>\n\n<pre><code>    @SuppressWarnings(\"unchecked\")\n    public final Class&lt;MyEnum&gt; getDeclaringClass() {\n        Class&lt;?&gt; clazz = getClass();\n        Class&lt;?&gt; zuper = clazz.getSuperclass();\n        return (zuper == Enum.class) ? (Class&lt;MyEnum&gt;)clazz : (Class&lt;MyEnum&gt;)zuper;\n    }\n</code></pre>\n\n<p>This makes <code>getDeclaringClass()</code> cast to the proper <code>Class&lt;T&gt;</code> object.</p>\n\n<p>A way clearer example is the one that I answered on <a href=\"https://stackoverflow.com/questions/30616864/how-to-make-type-safety-with-generics/30616937#30616937\">this question</a> where you cannot avoid this construct if you want to specify a generic bound.</p>\n"},{"tags":[],"owner":{"account_id":13761933,"reputation":351,"user_id":9931448,"display_name":"Hanzhou Tang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576564946,"creation_date":1576564946,"answer_id":59368848,"question_id":211143,"body_markdown":"According to wikipedia, this pattern is called [Curiously recurring template pattern](https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern). \r\nBasically, by using the CRTP pattern, we can easily refer to subclass type without type casting, which means by using the pattern, we can imitate virtual function. ","title":"Java Enum definition","body":"<p>According to wikipedia, this pattern is called <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">Curiously recurring template pattern</a>. \nBasically, by using the CRTP pattern, we can easily refer to subclass type without type casting, which means by using the pattern, we can imitate virtual function. </p>\n"}],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25823,"favorite_count":0,"down_vote_count":0,"up_vote_count":181,"accepted_answer_id":211161,"answer_count":7,"score":181,"last_activity_date":1688573048,"creation_date":1224220455,"question_id":211143,"body_markdown":"I thought I understood Java generics pretty well, but then I came across the following in java.lang.Enum:\r\n\r\n    class Enum&lt;E extends Enum&lt;E&gt;&gt;\r\n\r\nCould someone explain how to interpret this type parameter? Bonus points for providing other examples of where a similar type parameter could be used.","title":"Java Enum definition","body":"<p>I thought I understood Java generics pretty well, but then I came across the following in java.lang.Enum:</p>\n\n<pre><code>class Enum&lt;E extends Enum&lt;E&gt;&gt;\n</code></pre>\n\n<p>Could someone explain how to interpret this type parameter? Bonus points for providing other examples of where a similar type parameter could be used.</p>\n"},{"tags":["java","gzip","eofexception"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688569184,"creation_date":1688567936,"answer_id":76621452,"question_id":76621269,"body_markdown":"There is something wrong with that gzipped data.  When I wrote it to a file and then uncompressed it using `zcat` on Linux, the `zcat` command complained:\r\n\r\n    gzip: stdin: unexpected end of file\r\n\r\nSame with `gzip -d`.  But `gzip -l` says:\r\n\r\n         compressed        uncompressed  ratio uncompressed_name\r\n                979            92994711 100.0% data\r\n\r\nPerhaps C# is tolerant of malformed (truncated) gzip files?\r\n\r\nPerhaps you made a mistake in translating the `payload` array initializer to Java?\r\n\r\n\r\n\r\n-------------------------\r\n\r\nThe other observation is that the partial uncompressed file doesn&#39;t look like proper UTF-8 anyway.  There are text strings in there, but much of it is unintelligible (or binary) data.\r\n\r\n","title":"Gzip decompress throws EOFException","body":"<p>There is something wrong with that gzipped data.  When I wrote it to a file and then uncompressed it using <code>zcat</code> on Linux, the <code>zcat</code> command complained:</p>\n<pre><code>gzip: stdin: unexpected end of file\n</code></pre>\n<p>Same with <code>gzip -d</code>.  But <code>gzip -l</code> says:</p>\n<pre><code>     compressed        uncompressed  ratio uncompressed_name\n            979            92994711 100.0% data\n</code></pre>\n<p>Perhaps C# is tolerant of malformed (truncated) gzip files?</p>\n<p>Perhaps you made a mistake in translating the <code>payload</code> array initializer to Java?</p>\n<hr />\n<p>The other observation is that the partial uncompressed file doesn't look like proper UTF-8 anyway.  There are text strings in there, but much of it is unintelligible (or binary) data.</p>\n"},{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688572232,"creation_date":1688572232,"answer_id":76622003,"question_id":76621269,"body_markdown":"Your gzip data is corrupted. There are two zero bytes missing at the end of `payload`. Add those, and there is no EOF error.\r\n\r\n    ... (byte)0x8A, (byte)0x05, 0, 0};","title":"Gzip decompress throws EOFException","body":"<p>Your gzip data is corrupted. There are two zero bytes missing at the end of <code>payload</code>. Add those, and there is no EOF error.</p>\n<pre><code>... (byte)0x8A, (byte)0x05, 0, 0};\n</code></pre>\n"}],"owner":{"account_id":25498647,"reputation":31,"user_id":19292321,"display_name":"hahahaflying"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76622003,"answer_count":2,"score":1,"last_activity_date":1688572232,"creation_date":1688566631,"question_id":76621269,"body_markdown":"I am currently trying to decompress a byte array by using gzip decompress, however, I receive an EOFException, can anyone help me with this error ? Thanks\r\n\r\nthis is my codes: \r\n\r\n```\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.zip.GZIPInputStream;\r\nimport java.util.zip.GZIPOutputStream;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Program {\r\n    public static void main(String[] args) {\r\n        byte[] payload = new byte[] {\r\n           (byte)0x1F, (byte)0x8B, (byte)0x08, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x03, (byte)0x75, (byte)0x92, (byte)0x7F, (byte)0x68, (byte)0x1C, (byte)0x55, (byte)0x10, (byte)0xC7, (byte)0x27, (byte)0x97,\r\n           (byte)0xA4, (byte)0xBD, (byte)0x6B, (byte)0x92, (byte)0xDE, (byte)0x36, (byte)0xB1, (byte)0x4D, (byte)0x3D, (byte)0x9B, (byte)0xF6, (byte)0xD4, (byte)0xFE, (byte)0x88, (byte)0x1E, (byte)0x97, (byte)0xDE, (byte)0x8F, (byte)0xCC, (byte)0xA1, \r\n           (byte)0x69, (byte)0x34, (byte)0x17, (byte)0x6C, (byte)0xAB, (byte)0x55, (byte)0x68, (byte)0x2E, (byte)0xD8, (byte)0x74, (byte)0x31, (byte)0xA8, (byte)0xCD, (byte)0xF6, (byte)0xDE, (byte)0xA6, (byte)0x39, (byte)0x88, (byte)0x77, (byte)0xC9, \r\n           (byte)0xDB, (byte)0x85, (byte)0x70, (byte)0xE0, (byte)0x1F, (byte)0xD5, (byte)0x42, (byte)0x41, (byte)0x2C, (byte)0x28, (byte)0x4D, (byte)0x4A, (byte)0x4D, (byte)0xAD, (byte)0xB6, (byte)0xA4, (byte)0x16, (byte)0x7D, (byte)0xA7, (byte)0x52, \r\n           (byte)0x44, (byte)0x41, (byte)0xA4, (byte)0x45, (byte)0x5B, (byte)0x6A, (byte)0x11, (byte)0x45, (byte)0x84, (byte)0x8A, (byte)0x4A, (byte)0xD4, (byte)0xEC, (byte)0x46, (byte)0x11, (byte)0x69, (byte)0x51, (byte)0x50, (byte)0x41, (byte)0x42, \r\n           (byte)0x2C, (byte)0x35, (byte)0xE0, (byte)0xBC, (byte)0xB7, (byte)0x77, (byte)0x6D, (byte)0x44, (byte)0xFC, (byte)0x67, (byte)0x58, (byte)0x66, (byte)0x3E, (byte)0xF3, (byte)0xFD, (byte)0xCE, (byte)0xCC, (byte)0xDB, (byte)0xBA, (byte)0xE0, \r\n           (byte)0x5C, (byte)0xCF, (byte)0x00, (byte)0x6C, (byte)0xD2, (byte)0xC0, (byte)0xCF, (byte)0x0A, (byte)0xE3, (byte)0xDD, (byte)0x50, (byte)0xF3, (byte)0xD7, (byte)0x92, (byte)0x8C, (byte)0x91, (byte)0x0F, (byte)0x3F, (byte)0xB8, (byte)0xAD, \r\n           (byte)0xA7, (byte)0xDA, (byte)0x2A, (byte)0xE6, (byte)0xB3, (byte)0x3E, (byte)0x58, (byte)0x31, (byte)0x5F, (byte)0x25, (byte)0x7A, (byte)0x8B, (byte)0xB8, (byte)0xB0, (byte)0x20, (byte)0xE3, (byte)0x9F, (byte)0xBD, (byte)0xD0, (byte)0xA6, \r\n           (byte)0x41, (byte)0x13, (byte)0x1B, (byte)0xEF, (byte)0x7E, (byte)0x89, (byte)0xC8, (byte)0xE5, (byte)0x5B, (byte)0x1F, (byte)0x0E, (byte)0x2B, (byte)0xD8, (byte)0x2C, (byte)0x0C, (byte)0x9A, (byte)0xF9, (byte)0xAC, (byte)0xE9, (byte)0x8B, \r\n           (byte)0x27, (byte)0x92, (byte)0x3E, (byte)0x80, (byte)0xE3, (byte)0x55, (byte)0xC2, (byte)0x3A, (byte)0x8C, (byte)0xCE, (byte)0xA0, (byte)0x8A, (byte)0x01, (byte)0x28, (byte)0x68, (byte)0x70, (byte)0x0B, (byte)0x9B, (byte)0xC8, (byte)0x3C, \r\n           (byte)0x4B, (byte)0x0D, (byte)0x4B, (byte)0x25, (byte)0x9D, (byte)0x31, (byte)0xEC, (byte)0x21, (byte)0x49, (byte)0x56, (byte)0x01, (byte)0x74, (byte)0x36, (byte)0x08, (byte)0xAB, (byte)0x1E, (byte)0xDD, (byte)0xA8, (byte)0xB0, (byte)0x36, \r\n           (byte)0xA0, (byte)0x73, (byte)0x4D, (byte)0x58, (byte)0xAD, (byte)0xE8, (byte)0x5C, (byte)0x15, (byte)0xD6, (byte)0x6A, (byte)0x74, (byte)0xBE, (byte)0x11, (byte)0xFC, (byte)0x3A, (byte)0x3A, (byte)0x9F, (byte)0x0A, (byte)0xFE, (byte)0x03, \r\n           (byte)0x3A, (byte)0x17, (byte)0x05, (byte)0xBF, (byte)0x8C, (byte)0xCE, (byte)0x25, (byte)0xC1, (byte)0x3F, (byte)0x56, (byte)0xF9, (byte)0x33, (byte)0xE8, (byte)0x6A, (byte)0x82, (byte)0x9F, (byte)0x44, (byte)0x37, (byte)0x29, (byte)0xF3, \r\n           (byte)0x6E, (byte)0xAF, (byte)0xE0, (byte)0xBF, (byte)0xA1, (byte)0xBB, (byte)0x5B, (byte)0x58, (byte)0x3E, (byte)0x74, (byte)0xD3, (byte)0x4A, (byte)0x2D, (byte)0x02, (byte)0x5D, (byte)0x1A, (byte)0xAC, (byte)0x24, (byte)0xC7, (byte)0x13, \r\n           (byte)0xE4, (byte)0xB8, (byte)0x4C, (byte)0x39, (byte)0x16, (byte)0x86, (byte)0x8B, (byte)0xFB, (byte)0x0A, (byte)0x79, (byte)0x69, (byte)0x0A, (byte)0xB5, (byte)0xC2, (byte)0x5A, (byte)0x89, (byte)0x4E, (byte)0x44, (byte)0xC6, (byte)0x99, \r\n           (byte)0xF3, (byte)0x82, (byte)0x4F, (byte)0xAB, (byte)0x78, (byte)0x0E, (byte)0x9D, (byte)0x77, (byte)0x85, (byte)0x15, (byte)0x40, (byte)0xA7, (byte)0xC3, (byte)0xAB, (byte)0xC2, (byte)0x16, (byte)0x0D, (byte)0x56, (byte)0x91, (byte)0xC2, \r\n           (byte)0x3B, (byte)0xA4, (byte)0x50, (byte)0x2F, (byte)0x15, (byte)0xB8, (byte)0x99, (byte)0xB5, (byte)0x8D, (byte)0xFC, (byte)0xBE, (byte)0x61, (byte)0xB5, (byte)0x22, (byte)0xD4, (byte)0x08, (byte)0xEB, (byte)0x43, (byte)0x74, (byte)0xE7, \r\n           (byte)0x84, (byte)0xB5, (byte)0xA7, (byte)0x12, (byte)0xBD, (byte)0x4C, (byte)0x39, (byte)0x0F, (byte)0x63, (byte)0x1A, (byte)0x34, (byte)0xB3, (byte)0x89, (byte)0xBE, (byte)0xA7, (byte)0xA8, (byte)0x3B, (byte)0x50, (byte)0xD9, (byte)0x38, \r\n           (byte)0x9C, (byte)0x28, (byte)0xEF, (byte)0xCC, (byte)0x96, (byte)0x0B, (byte)0x5E, (byte)0x44, (byte)0xF7, (byte)0xAA, (byte)0xE0, (byte)0xDB, (byte)0xD0, (byte)0x7D, (byte)0x4E, (byte)0xF0, (byte)0x8D, (byte)0xE8, (byte)0x8E, (byte)0x8B, \r\n           (byte)0xD1, (byte)0x2B, (byte)0xE8, (byte)0x96, (byte)0xC4, (byte)0xE8, (byte)0x25, (byte)0x74, (byte)0xBF, (byte)0x10, (byte)0xA3, (byte)0xD3, (byte)0xE8, (byte)0xFE, (byte)0x28, (byte)0x46, (byte)0xE7, (byte)0x71, (byte)0xB6, (byte)0x51,\r\n           (byte)0x70, (byte)0x1F, (byte)0xCE, (byte)0xEE, (byte)0x14, (byte)0x3C, (byte)0x84, (byte)0xB3, (byte)0x69, (byte)0xC1, (byte)0xEF, (byte)0xC1, (byte)0x59, (byte)0xBF, (byte)0xE2, (byte)0xFF, (byte)0x16, (byte)0xBC, (byte)0x19, (byte)0xDD, \r\n           (byte)0x2F, (byte)0x05, (byte)0xEF, (byte)0x46, (byte)0xF7, (byte)0x82, (byte)0xE0, (byte)0x51, (byte)0x74, (byte)0x5F, (byte)0x15, (byte)0x3C, (byte)0x82, (byte)0xEE, (byte)0x31, (byte)0x40, (byte)0x0D, (byte)0x56, (byte)0xB3, (byte)0x89, \r\n           (byte)0x83, (byte)0x2F, (byte)0x54, (byte)0xE6, (byte)0x2E, (byte)0x6F, (byte)0xEE, (byte)0x99, (byte)0x43, (byte)0xB5, (byte)0xB0, (byte)0x3B, (byte)0x70, (byte)0xE6, (byte)0x6D, (byte)0x61, (byte)0xDF, (byte)0x85, (byte)0x33, (byte)0x3B, \r\n           (byte)0x84, (byte)0x75, (byte)0x51, (byte)0x46, (byte)0x95, (byte)0x81, (byte)0x88, (byte)0x06, (byte)0xB7, (byte)0x52, (byte)0xDF, (byte)0x29, (byte)0xEA, (byte)0xAB, (byte)0x93, (byte)0x7D, (byte)0x0F, (byte)0xE4, (byte)0x78, (byte)0x76, \r\n           (byte)0xD8, (byte)0xF4, (byte)0xDA, (byte)0xE8, (byte)0x45, (byte)0xDB, (byte)0xE8, (byte)0x45, (byte)0x0F, (byte)0xE1, (byte)0x4C, (byte)0x42, (byte)0xC5, (byte)0x66, (byte)0xE9, (byte)0x12, (byte)0x22, (byte)0xFA, (byte)0x6C, (byte)0x65, \r\n           (byte)0xBF, (byte)0x91, (byte)0xC5, (byte)0xFB, (byte)0x75, (byte)0x92, (byte)0xCB, (byte)0x47, (byte)0xE8, (byte)0xAC, (byte)0x15, (byte)0xF6, (byte)0x49, (byte)0x74, (byte)0x40, (byte)0xD8, (byte)0x45, (byte)0x74, (byte)0xD2, (byte)0xC2, \r\n           (byte)0x1E, (byte)0x40, (byte)0x87, (byte)0x41, (byte)0x0B, (byte)0x40, (byte)0x23, (byte)0x5B, (byte)0xDF, (byte)0x47, (byte)0x2E, (byte)0x7F, (byte)0xD4, (byte)0x52, (byte)0x5F, (byte)0xA6, (byte)0x67, (byte)0x47, (byte)0xF5, (byte)0xA3, \r\n           (byte)0xF4, (byte)0x8F, (byte)0x95, (byte)0x0E, (byte)0xFA, (byte)0x13, (byte)0x5D, (byte)0x3F, (byte)0xC7, (byte)0xCF, (byte)0xCB, (byte)0x7A, (byte)0x88, (byte)0xD9, (byte)0x9F, (byte)0xC4, (byte)0x65, (byte)0x7D, (byte)0x97, (byte)0x91,\r\n           (byte)0x95, (byte)0x75, (byte)0xF9, (byte)0x0F, (byte)0x96, (byte)0x8C, (byte)0xC9, (byte)0xD4, (byte)0x85, (byte)0x3E, (byte)0xAA, (byte)0xAF, (byte)0x05, (byte)0xB8, (byte)0x8D, (byte)0xD9, (byte)0xDF, (byte)0x6E, (byte)0xA6, (byte)0xFA, \r\n           (byte)0x12, (byte)0xAF, (byte)0x9E, (byte)0x50, (byte)0xC0, (byte)0x9B, (byte)0x8F, (byte)0x5C, (byte)0xBB, (byte)0x01, (byte)0xAC, (byte)0x61, (byte)0xF6, (byte)0xFC, (byte)0x93, (byte)0x37, (byte)0x81, (byte)0xA4, (byte)0x02, (byte)0xDE,\r\n           (byte)0x4A, (byte)0x3D, (byte)0x76, (byte)0x03, (byte)0x68, (byte)0x21, (byte)0x60, (byte)0xCF, (byte)0xFF, (byte)0x02, (byte)0x2D, (byte)0xD5, (byte)0xB0, (byte)0x89, (byte)0xED, (byte)0xBF, (byte)0x1C, (byte)0x22, (byte)0xA0, (byte)0xC6, \r\n           (byte)0x36, (byte)0x2D, (byte)0x3B, (byte)0xE1, (byte)0xC5, (byte)0xA9, (byte)0x89, (byte)0xCD, (byte)0x7A, (byte)0xB0, (byte)0xCE, (byte)0x1B, (byte)0xB1, (byte)0x95, (byte)0x4D, (byte)0x9E, (byte)0xFB, (byte)0xBA, (byte)0x52, (byte)0x4F,\r\n           (byte)0x7A, (byte)0x71, (byte)0xEA, (byte)0xD8, (byte)0xE3, (byte)0x7A, (byte)0xE3, (byte)0x2F, (byte)0xB1, (byte)0xB4, (byte)0x34, (byte)0xB8, (byte)0x9B, (byte)0x3D, (byte)0xB3, (byte)0xD0, (byte)0x41, (byte)0xF5, (byte)0xA5, (byte)0x79, \r\n           (byte)0x73, (byte)0x6C, (byte)0x97, (byte)0x6C, (byte)0xF6, (byte)0x8D, (byte)0x18, (byte)0xF9, (byte)0xA9, (byte)0xD3, (byte)0x05, (byte)0x3D, (byte)0xFC, (byte)0x99, (byte)0x27, (byte)0x10, (byte)0x61, (byte)0x07, (byte)0xDA, (byte)0xBE, \r\n           (byte)0x92, (byte)0x13, (byte)0xC8, (byte)0xD6, (byte)0xED, (byte)0x3C, (byte)0xA7, (byte)0xEA, (byte)0x6F, (byte)0x24, (byte)0xF5, (byte)0xE0, (byte)0x7B, (byte)0xE9, (byte)0x34, (byte)0x84, (byte)0x01, (byte)0xA2, (byte)0x64, (byte)0xF0, \r\n           (byte)0x1D, (byte)0xD5, (byte)0x03, (byte)0x65, (byte)0x01, (byte)0xF9, (byte)0x06, (byte)0x12, (byte)0x39, (byte)0xBA, (byte)0x5F, (byte)0x6F, (byte)0xB8, (byte)0x4E, (byte)0x12, (byte)0xB7, (byte)0x03, (byte)0xC4, (byte)0x08, (byte)0xF9, \r\n           (byte)0x9E, (byte)0x90, (byte)0x65, (byte)0x37, (byte)0x91, (byte)0xF6, (byte)0x7F, (byte)0x31, (byte)0xEB, (byte)0x01, (byte)0xE2, (byte)0xEC, (byte)0xF9, (byte)0x87, (byte)0x9E, (byte)0x20, (byte)0xA6, (byte)0x81, (byte)0xF2, (byte)0xD2, \r\n           (byte)0x29, (byte)0x8E, (byte)0xB1, (byte)0x54, (byte)0x34, (byte)0x16, (byte)0x57, (byte)0xD8, (byte)0xA9, (byte)0x76, (byte)0x3D, (byte)0x74, (byte)0x82, (byte)0x30, (byte)0x72, (byte)0x4B, (byte)0x10, (byte)0x26, (byte)0x0F, (byte)0x16,\r\n           (byte)0xA0, (byte)0xBC, (byte)0x87, (byte)0x78, (byte)0x03, (byte)0xBF, (byte)0x6C, (byte)0xEA, (byte)0xEB, (byte)0x9E, (byte)0x26, (byte)0xE4, (byte)0x4E, (byte)0x80, (byte)0x24, (byte)0x21, (byte)0x03, (byte)0x84, (byte)0xD4, (byte)0x2F, \r\n           (byte)0x52, (byte)0x8A, (byte)0x79, (byte)0x33, (byte)0xBD, (byte)0xFE, (byte)0xB9, (byte)0x1E, (byte)0xDC, (byte)0x4A, (byte)0x7B, (byte)0xAF, (byte)0x03, (byte)0x68, (byte)0x27, (byte)0x6A, (byte)0x2F, (byte)0x51, (byte)0xFE, (byte)0xB2, \r\n           (byte)0x50, (byte)0xCC, (byte)0x9B, (byte)0xE8, (byte)0x74, (byte)0x49, (byte)0xDF, (byte)0x70, (byte)0x96, (byte)0x74, (byte)0x5A, (byte)0x01, (byte)0x90, (byte)0xBD, (byte)0xD8, (byte)0xF7, (byte)0x93, (byte)0xBC, (byte)0x8C, (byte)0x1C, \r\n           (byte)0x39, (byte)0x4C, (byte)0xC7, (byte)0xAF, (byte)0xB7, (byte)0xCB, (byte)0x1F, (byte)0xE1, (byte)0x9D, (byte)0x05, (byte)0xDB, (byte)0x3C, (byte)0x93, (byte)0x48, (byte)0x45, (byte)0x7F, (byte)0xBF, (byte)0x42, (byte)0x62, (byte)0x34,\r\n           (byte)0xFC, (byte)0xBD, (byte)0xEC, (byte)0xC8, (byte)0xFB, (byte)0x20, (byte)0x87, (byte)0x97, (byte)0x44, (byte)0xA6, (byte)0x90, (byte)0xDB, (byte)0x9D, (byte)0x33, (byte)0xF4, (byte)0xDC, (byte)0xA0, (byte)0x77, (byte)0xAA, (byte)0xA3,\r\n           (byte)0x4D, (byte)0xBA, (byte)0xF6, (byte)0x2B, (byte)0x9D, (byte)0xEA, (byte)0x0E, (byte)0x80, (byte)0x2D, (byte)0x84, (byte)0xF5, (byte)0x13, (byte)0x56, (byte)0x57, (byte)0xC6, (byte)0x24, (byte)0xE3, (byte)0x8D, (byte)0x7F, (byte)0x38,\r\n           (byte)0xA2, (byte)0xAF, (byte)0x78, (byte)0x25, (byte)0xAD, (byte)0x1E, (byte)0xA4, (byte)0x93, (byte)0x1D, (byte)0xF9, (byte)0xA0, (byte)0x47, (byte)0xDA, (byte)0x8E, (byte)0x78, (byte)0x80, (byte)0x37, (byte)0xF9, (byte)0x6B, (byte)0x1B, \r\n           (byte)0xF5, (byte)0x55, (byte)0x7B, (byte)0x3D, (byte)0x95, (byte)0xFB, (byte)0x08, (byte)0x98, (byte)0x93, (byte)0x2A, (byte)0x04, (byte)0xC8, (byte)0xD1, (byte)0xC6, (byte)0x08, (byte)0x42, (byte)0x05, (byte)0x1D, (byte)0xEA, (byte)0xD7, \r\n           (byte)0x83, (byte)0x07, (byte)0xD2, (byte)0x6A, (byte)0xBD, (byte)0xFB, (byte)0xE9, (byte)0xE4, (byte)0xF2, (byte)0xD5, (byte)0xFC, (byte)0xB2, (byte)0xDA, (byte)0x3E, (byte)0x64, (byte)0x0C, (byte)0x19, (byte)0x8A, (byte)0x38, (byte)0xDE, \r\n           (byte)0xAF, (byte)0x37, (byte)0x95, (byte)0x3C, (byte)0x99, (byte)0x2E, (byte)0x22, (byte)0xA6, (byte)0x95, (byte)0x8C, (byte)0x91, (byte)0x97, (byte)0x32, (byte)0xA9, (byte)0xFF, (byte)0x4C, (byte)0xBC, (byte)0x06, (byte)0x60, (byte)0x3B,\r\n           (byte)0x9B, (byte)0x74, (byte)0xE4, (byte)0x2D, (byte)0x6B, (byte)0xD5, (byte)0x7F, (byte)0x95, (byte)0x5A, (byte)0xFC, (byte)0x68, (byte)0xFF, (byte)0x00, (byte)0xDA, (byte)0x86, (byte)0x97, (byte)0xFC, (byte)0x8A, (byte)0x05};\r\n\r\n\r\n\r\n        byte[] objectArr;\r\n        try (ByteArrayInputStream inputStream = new ByteArrayInputStream(payload);\r\n             GZIPInputStream gzipInputStream = new GZIPInputStream(inputStream);\r\n             ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n            int size = 4096;\r\n            byte[] buffer = new byte[(int)size];\r\n            int count;\r\n            while ((count = gzipInputStream.read(buffer, 0, buffer.length)) != -1) {\r\n                outputStream.write(buffer, 0, count);\r\n            }\r\n            \r\n            objectArr = outputStream.toByteArray();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return;\r\n        }\r\n        \r\n        StringBuilder hex = new StringBuilder(objectArr.length * 2);\r\n        for (byte b : objectArr) {\r\n            hex.append(String.format(&quot;%02x&quot;, b));\r\n        }\r\n        System.out.println(hex.toString());\r\n        \r\n        String decodedString = new String(objectArr, StandardCharsets.UTF_8);\r\n        System.out.println(decodedString);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tested the to be decompressed byte array in c#, it worked ok, don&#39;t know why in Java it doesn&#39;t work.","title":"Gzip decompress throws EOFException","body":"<p>I am currently trying to decompress a byte array by using gzip decompress, however, I receive an EOFException, can anyone help me with this error ? Thanks</p>\n<p>this is my codes:</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.zip.GZIPInputStream;\nimport java.util.zip.GZIPOutputStream;\nimport java.nio.charset.StandardCharsets;\n\npublic class Program {\n    public static void main(String[] args) {\n        byte[] payload = new byte[] {\n           (byte)0x1F, (byte)0x8B, (byte)0x08, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x03, (byte)0x75, (byte)0x92, (byte)0x7F, (byte)0x68, (byte)0x1C, (byte)0x55, (byte)0x10, (byte)0xC7, (byte)0x27, (byte)0x97,\n           (byte)0xA4, (byte)0xBD, (byte)0x6B, (byte)0x92, (byte)0xDE, (byte)0x36, (byte)0xB1, (byte)0x4D, (byte)0x3D, (byte)0x9B, (byte)0xF6, (byte)0xD4, (byte)0xFE, (byte)0x88, (byte)0x1E, (byte)0x97, (byte)0xDE, (byte)0x8F, (byte)0xCC, (byte)0xA1, \n           (byte)0x69, (byte)0x34, (byte)0x17, (byte)0x6C, (byte)0xAB, (byte)0x55, (byte)0x68, (byte)0x2E, (byte)0xD8, (byte)0x74, (byte)0x31, (byte)0xA8, (byte)0xCD, (byte)0xF6, (byte)0xDE, (byte)0xA6, (byte)0x39, (byte)0x88, (byte)0x77, (byte)0xC9, \n           (byte)0xDB, (byte)0x85, (byte)0x70, (byte)0xE0, (byte)0x1F, (byte)0xD5, (byte)0x42, (byte)0x41, (byte)0x2C, (byte)0x28, (byte)0x4D, (byte)0x4A, (byte)0x4D, (byte)0xAD, (byte)0xB6, (byte)0xA4, (byte)0x16, (byte)0x7D, (byte)0xA7, (byte)0x52, \n           (byte)0x44, (byte)0x41, (byte)0xA4, (byte)0x45, (byte)0x5B, (byte)0x6A, (byte)0x11, (byte)0x45, (byte)0x84, (byte)0x8A, (byte)0x4A, (byte)0xD4, (byte)0xEC, (byte)0x46, (byte)0x11, (byte)0x69, (byte)0x51, (byte)0x50, (byte)0x41, (byte)0x42, \n           (byte)0x2C, (byte)0x35, (byte)0xE0, (byte)0xBC, (byte)0xB7, (byte)0x77, (byte)0x6D, (byte)0x44, (byte)0xFC, (byte)0x67, (byte)0x58, (byte)0x66, (byte)0x3E, (byte)0xF3, (byte)0xFD, (byte)0xCE, (byte)0xCC, (byte)0xDB, (byte)0xBA, (byte)0xE0, \n           (byte)0x5C, (byte)0xCF, (byte)0x00, (byte)0x6C, (byte)0xD2, (byte)0xC0, (byte)0xCF, (byte)0x0A, (byte)0xE3, (byte)0xDD, (byte)0x50, (byte)0xF3, (byte)0xD7, (byte)0x92, (byte)0x8C, (byte)0x91, (byte)0x0F, (byte)0x3F, (byte)0xB8, (byte)0xAD, \n           (byte)0xA7, (byte)0xDA, (byte)0x2A, (byte)0xE6, (byte)0xB3, (byte)0x3E, (byte)0x58, (byte)0x31, (byte)0x5F, (byte)0x25, (byte)0x7A, (byte)0x8B, (byte)0xB8, (byte)0xB0, (byte)0x20, (byte)0xE3, (byte)0x9F, (byte)0xBD, (byte)0xD0, (byte)0xA6, \n           (byte)0x41, (byte)0x13, (byte)0x1B, (byte)0xEF, (byte)0x7E, (byte)0x89, (byte)0xC8, (byte)0xE5, (byte)0x5B, (byte)0x1F, (byte)0x0E, (byte)0x2B, (byte)0xD8, (byte)0x2C, (byte)0x0C, (byte)0x9A, (byte)0xF9, (byte)0xAC, (byte)0xE9, (byte)0x8B, \n           (byte)0x27, (byte)0x92, (byte)0x3E, (byte)0x80, (byte)0xE3, (byte)0x55, (byte)0xC2, (byte)0x3A, (byte)0x8C, (byte)0xCE, (byte)0xA0, (byte)0x8A, (byte)0x01, (byte)0x28, (byte)0x68, (byte)0x70, (byte)0x0B, (byte)0x9B, (byte)0xC8, (byte)0x3C, \n           (byte)0x4B, (byte)0x0D, (byte)0x4B, (byte)0x25, (byte)0x9D, (byte)0x31, (byte)0xEC, (byte)0x21, (byte)0x49, (byte)0x56, (byte)0x01, (byte)0x74, (byte)0x36, (byte)0x08, (byte)0xAB, (byte)0x1E, (byte)0xDD, (byte)0xA8, (byte)0xB0, (byte)0x36, \n           (byte)0xA0, (byte)0x73, (byte)0x4D, (byte)0x58, (byte)0xAD, (byte)0xE8, (byte)0x5C, (byte)0x15, (byte)0xD6, (byte)0x6A, (byte)0x74, (byte)0xBE, (byte)0x11, (byte)0xFC, (byte)0x3A, (byte)0x3A, (byte)0x9F, (byte)0x0A, (byte)0xFE, (byte)0x03, \n           (byte)0x3A, (byte)0x17, (byte)0x05, (byte)0xBF, (byte)0x8C, (byte)0xCE, (byte)0x25, (byte)0xC1, (byte)0x3F, (byte)0x56, (byte)0xF9, (byte)0x33, (byte)0xE8, (byte)0x6A, (byte)0x82, (byte)0x9F, (byte)0x44, (byte)0x37, (byte)0x29, (byte)0xF3, \n           (byte)0x6E, (byte)0xAF, (byte)0xE0, (byte)0xBF, (byte)0xA1, (byte)0xBB, (byte)0x5B, (byte)0x58, (byte)0x3E, (byte)0x74, (byte)0xD3, (byte)0x4A, (byte)0x2D, (byte)0x02, (byte)0x5D, (byte)0x1A, (byte)0xAC, (byte)0x24, (byte)0xC7, (byte)0x13, \n           (byte)0xE4, (byte)0xB8, (byte)0x4C, (byte)0x39, (byte)0x16, (byte)0x86, (byte)0x8B, (byte)0xFB, (byte)0x0A, (byte)0x79, (byte)0x69, (byte)0x0A, (byte)0xB5, (byte)0xC2, (byte)0x5A, (byte)0x89, (byte)0x4E, (byte)0x44, (byte)0xC6, (byte)0x99, \n           (byte)0xF3, (byte)0x82, (byte)0x4F, (byte)0xAB, (byte)0x78, (byte)0x0E, (byte)0x9D, (byte)0x77, (byte)0x85, (byte)0x15, (byte)0x40, (byte)0xA7, (byte)0xC3, (byte)0xAB, (byte)0xC2, (byte)0x16, (byte)0x0D, (byte)0x56, (byte)0x91, (byte)0xC2, \n           (byte)0x3B, (byte)0xA4, (byte)0x50, (byte)0x2F, (byte)0x15, (byte)0xB8, (byte)0x99, (byte)0xB5, (byte)0x8D, (byte)0xFC, (byte)0xBE, (byte)0x61, (byte)0xB5, (byte)0x22, (byte)0xD4, (byte)0x08, (byte)0xEB, (byte)0x43, (byte)0x74, (byte)0xE7, \n           (byte)0x84, (byte)0xB5, (byte)0xA7, (byte)0x12, (byte)0xBD, (byte)0x4C, (byte)0x39, (byte)0x0F, (byte)0x63, (byte)0x1A, (byte)0x34, (byte)0xB3, (byte)0x89, (byte)0xBE, (byte)0xA7, (byte)0xA8, (byte)0x3B, (byte)0x50, (byte)0xD9, (byte)0x38, \n           (byte)0x9C, (byte)0x28, (byte)0xEF, (byte)0xCC, (byte)0x96, (byte)0x0B, (byte)0x5E, (byte)0x44, (byte)0xF7, (byte)0xAA, (byte)0xE0, (byte)0xDB, (byte)0xD0, (byte)0x7D, (byte)0x4E, (byte)0xF0, (byte)0x8D, (byte)0xE8, (byte)0x8E, (byte)0x8B, \n           (byte)0xD1, (byte)0x2B, (byte)0xE8, (byte)0x96, (byte)0xC4, (byte)0xE8, (byte)0x25, (byte)0x74, (byte)0xBF, (byte)0x10, (byte)0xA3, (byte)0xD3, (byte)0xE8, (byte)0xFE, (byte)0x28, (byte)0x46, (byte)0xE7, (byte)0x71, (byte)0xB6, (byte)0x51,\n           (byte)0x70, (byte)0x1F, (byte)0xCE, (byte)0xEE, (byte)0x14, (byte)0x3C, (byte)0x84, (byte)0xB3, (byte)0x69, (byte)0xC1, (byte)0xEF, (byte)0xC1, (byte)0x59, (byte)0xBF, (byte)0xE2, (byte)0xFF, (byte)0x16, (byte)0xBC, (byte)0x19, (byte)0xDD, \n           (byte)0x2F, (byte)0x05, (byte)0xEF, (byte)0x46, (byte)0xF7, (byte)0x82, (byte)0xE0, (byte)0x51, (byte)0x74, (byte)0x5F, (byte)0x15, (byte)0x3C, (byte)0x82, (byte)0xEE, (byte)0x31, (byte)0x40, (byte)0x0D, (byte)0x56, (byte)0xB3, (byte)0x89, \n           (byte)0x83, (byte)0x2F, (byte)0x54, (byte)0xE6, (byte)0x2E, (byte)0x6F, (byte)0xEE, (byte)0x99, (byte)0x43, (byte)0xB5, (byte)0xB0, (byte)0x3B, (byte)0x70, (byte)0xE6, (byte)0x6D, (byte)0x61, (byte)0xDF, (byte)0x85, (byte)0x33, (byte)0x3B, \n           (byte)0x84, (byte)0x75, (byte)0x51, (byte)0x46, (byte)0x95, (byte)0x81, (byte)0x88, (byte)0x06, (byte)0xB7, (byte)0x52, (byte)0xDF, (byte)0x29, (byte)0xEA, (byte)0xAB, (byte)0x93, (byte)0x7D, (byte)0x0F, (byte)0xE4, (byte)0x78, (byte)0x76, \n           (byte)0xD8, (byte)0xF4, (byte)0xDA, (byte)0xE8, (byte)0x45, (byte)0xDB, (byte)0xE8, (byte)0x45, (byte)0x0F, (byte)0xE1, (byte)0x4C, (byte)0x42, (byte)0xC5, (byte)0x66, (byte)0xE9, (byte)0x12, (byte)0x22, (byte)0xFA, (byte)0x6C, (byte)0x65, \n           (byte)0xBF, (byte)0x91, (byte)0xC5, (byte)0xFB, (byte)0x75, (byte)0x92, (byte)0xCB, (byte)0x47, (byte)0xE8, (byte)0xAC, (byte)0x15, (byte)0xF6, (byte)0x49, (byte)0x74, (byte)0x40, (byte)0xD8, (byte)0x45, (byte)0x74, (byte)0xD2, (byte)0xC2, \n           (byte)0x1E, (byte)0x40, (byte)0x87, (byte)0x41, (byte)0x0B, (byte)0x40, (byte)0x23, (byte)0x5B, (byte)0xDF, (byte)0x47, (byte)0x2E, (byte)0x7F, (byte)0xD4, (byte)0x52, (byte)0x5F, (byte)0xA6, (byte)0x67, (byte)0x47, (byte)0xF5, (byte)0xA3, \n           (byte)0xF4, (byte)0x8F, (byte)0x95, (byte)0x0E, (byte)0xFA, (byte)0x13, (byte)0x5D, (byte)0x3F, (byte)0xC7, (byte)0xCF, (byte)0xCB, (byte)0x7A, (byte)0x88, (byte)0xD9, (byte)0x9F, (byte)0xC4, (byte)0x65, (byte)0x7D, (byte)0x97, (byte)0x91,\n           (byte)0x95, (byte)0x75, (byte)0xF9, (byte)0x0F, (byte)0x96, (byte)0x8C, (byte)0xC9, (byte)0xD4, (byte)0x85, (byte)0x3E, (byte)0xAA, (byte)0xAF, (byte)0x05, (byte)0xB8, (byte)0x8D, (byte)0xD9, (byte)0xDF, (byte)0x6E, (byte)0xA6, (byte)0xFA, \n           (byte)0x12, (byte)0xAF, (byte)0x9E, (byte)0x50, (byte)0xC0, (byte)0x9B, (byte)0x8F, (byte)0x5C, (byte)0xBB, (byte)0x01, (byte)0xAC, (byte)0x61, (byte)0xF6, (byte)0xFC, (byte)0x93, (byte)0x37, (byte)0x81, (byte)0xA4, (byte)0x02, (byte)0xDE,\n           (byte)0x4A, (byte)0x3D, (byte)0x76, (byte)0x03, (byte)0x68, (byte)0x21, (byte)0x60, (byte)0xCF, (byte)0xFF, (byte)0x02, (byte)0x2D, (byte)0xD5, (byte)0xB0, (byte)0x89, (byte)0xED, (byte)0xBF, (byte)0x1C, (byte)0x22, (byte)0xA0, (byte)0xC6, \n           (byte)0x36, (byte)0x2D, (byte)0x3B, (byte)0xE1, (byte)0xC5, (byte)0xA9, (byte)0x89, (byte)0xCD, (byte)0x7A, (byte)0xB0, (byte)0xCE, (byte)0x1B, (byte)0xB1, (byte)0x95, (byte)0x4D, (byte)0x9E, (byte)0xFB, (byte)0xBA, (byte)0x52, (byte)0x4F,\n           (byte)0x7A, (byte)0x71, (byte)0xEA, (byte)0xD8, (byte)0xE3, (byte)0x7A, (byte)0xE3, (byte)0x2F, (byte)0xB1, (byte)0xB4, (byte)0x34, (byte)0xB8, (byte)0x9B, (byte)0x3D, (byte)0xB3, (byte)0xD0, (byte)0x41, (byte)0xF5, (byte)0xA5, (byte)0x79, \n           (byte)0x73, (byte)0x6C, (byte)0x97, (byte)0x6C, (byte)0xF6, (byte)0x8D, (byte)0x18, (byte)0xF9, (byte)0xA9, (byte)0xD3, (byte)0x05, (byte)0x3D, (byte)0xFC, (byte)0x99, (byte)0x27, (byte)0x10, (byte)0x61, (byte)0x07, (byte)0xDA, (byte)0xBE, \n           (byte)0x92, (byte)0x13, (byte)0xC8, (byte)0xD6, (byte)0xED, (byte)0x3C, (byte)0xA7, (byte)0xEA, (byte)0x6F, (byte)0x24, (byte)0xF5, (byte)0xE0, (byte)0x7B, (byte)0xE9, (byte)0x34, (byte)0x84, (byte)0x01, (byte)0xA2, (byte)0x64, (byte)0xF0, \n           (byte)0x1D, (byte)0xD5, (byte)0x03, (byte)0x65, (byte)0x01, (byte)0xF9, (byte)0x06, (byte)0x12, (byte)0x39, (byte)0xBA, (byte)0x5F, (byte)0x6F, (byte)0xB8, (byte)0x4E, (byte)0x12, (byte)0xB7, (byte)0x03, (byte)0xC4, (byte)0x08, (byte)0xF9, \n           (byte)0x9E, (byte)0x90, (byte)0x65, (byte)0x37, (byte)0x91, (byte)0xF6, (byte)0x7F, (byte)0x31, (byte)0xEB, (byte)0x01, (byte)0xE2, (byte)0xEC, (byte)0xF9, (byte)0x87, (byte)0x9E, (byte)0x20, (byte)0xA6, (byte)0x81, (byte)0xF2, (byte)0xD2, \n           (byte)0x29, (byte)0x8E, (byte)0xB1, (byte)0x54, (byte)0x34, (byte)0x16, (byte)0x57, (byte)0xD8, (byte)0xA9, (byte)0x76, (byte)0x3D, (byte)0x74, (byte)0x82, (byte)0x30, (byte)0x72, (byte)0x4B, (byte)0x10, (byte)0x26, (byte)0x0F, (byte)0x16,\n           (byte)0xA0, (byte)0xBC, (byte)0x87, (byte)0x78, (byte)0x03, (byte)0xBF, (byte)0x6C, (byte)0xEA, (byte)0xEB, (byte)0x9E, (byte)0x26, (byte)0xE4, (byte)0x4E, (byte)0x80, (byte)0x24, (byte)0x21, (byte)0x03, (byte)0x84, (byte)0xD4, (byte)0x2F, \n           (byte)0x52, (byte)0x8A, (byte)0x79, (byte)0x33, (byte)0xBD, (byte)0xFE, (byte)0xB9, (byte)0x1E, (byte)0xDC, (byte)0x4A, (byte)0x7B, (byte)0xAF, (byte)0x03, (byte)0x68, (byte)0x27, (byte)0x6A, (byte)0x2F, (byte)0x51, (byte)0xFE, (byte)0xB2, \n           (byte)0x50, (byte)0xCC, (byte)0x9B, (byte)0xE8, (byte)0x74, (byte)0x49, (byte)0xDF, (byte)0x70, (byte)0x96, (byte)0x74, (byte)0x5A, (byte)0x01, (byte)0x90, (byte)0xBD, (byte)0xD8, (byte)0xF7, (byte)0x93, (byte)0xBC, (byte)0x8C, (byte)0x1C, \n           (byte)0x39, (byte)0x4C, (byte)0xC7, (byte)0xAF, (byte)0xB7, (byte)0xCB, (byte)0x1F, (byte)0xE1, (byte)0x9D, (byte)0x05, (byte)0xDB, (byte)0x3C, (byte)0x93, (byte)0x48, (byte)0x45, (byte)0x7F, (byte)0xBF, (byte)0x42, (byte)0x62, (byte)0x34,\n           (byte)0xFC, (byte)0xBD, (byte)0xEC, (byte)0xC8, (byte)0xFB, (byte)0x20, (byte)0x87, (byte)0x97, (byte)0x44, (byte)0xA6, (byte)0x90, (byte)0xDB, (byte)0x9D, (byte)0x33, (byte)0xF4, (byte)0xDC, (byte)0xA0, (byte)0x77, (byte)0xAA, (byte)0xA3,\n           (byte)0x4D, (byte)0xBA, (byte)0xF6, (byte)0x2B, (byte)0x9D, (byte)0xEA, (byte)0x0E, (byte)0x80, (byte)0x2D, (byte)0x84, (byte)0xF5, (byte)0x13, (byte)0x56, (byte)0x57, (byte)0xC6, (byte)0x24, (byte)0xE3, (byte)0x8D, (byte)0x7F, (byte)0x38,\n           (byte)0xA2, (byte)0xAF, (byte)0x78, (byte)0x25, (byte)0xAD, (byte)0x1E, (byte)0xA4, (byte)0x93, (byte)0x1D, (byte)0xF9, (byte)0xA0, (byte)0x47, (byte)0xDA, (byte)0x8E, (byte)0x78, (byte)0x80, (byte)0x37, (byte)0xF9, (byte)0x6B, (byte)0x1B, \n           (byte)0xF5, (byte)0x55, (byte)0x7B, (byte)0x3D, (byte)0x95, (byte)0xFB, (byte)0x08, (byte)0x98, (byte)0x93, (byte)0x2A, (byte)0x04, (byte)0xC8, (byte)0xD1, (byte)0xC6, (byte)0x08, (byte)0x42, (byte)0x05, (byte)0x1D, (byte)0xEA, (byte)0xD7, \n           (byte)0x83, (byte)0x07, (byte)0xD2, (byte)0x6A, (byte)0xBD, (byte)0xFB, (byte)0xE9, (byte)0xE4, (byte)0xF2, (byte)0xD5, (byte)0xFC, (byte)0xB2, (byte)0xDA, (byte)0x3E, (byte)0x64, (byte)0x0C, (byte)0x19, (byte)0x8A, (byte)0x38, (byte)0xDE, \n           (byte)0xAF, (byte)0x37, (byte)0x95, (byte)0x3C, (byte)0x99, (byte)0x2E, (byte)0x22, (byte)0xA6, (byte)0x95, (byte)0x8C, (byte)0x91, (byte)0x97, (byte)0x32, (byte)0xA9, (byte)0xFF, (byte)0x4C, (byte)0xBC, (byte)0x06, (byte)0x60, (byte)0x3B,\n           (byte)0x9B, (byte)0x74, (byte)0xE4, (byte)0x2D, (byte)0x6B, (byte)0xD5, (byte)0x7F, (byte)0x95, (byte)0x5A, (byte)0xFC, (byte)0x68, (byte)0xFF, (byte)0x00, (byte)0xDA, (byte)0x86, (byte)0x97, (byte)0xFC, (byte)0x8A, (byte)0x05};\n\n\n\n        byte[] objectArr;\n        try (ByteArrayInputStream inputStream = new ByteArrayInputStream(payload);\n             GZIPInputStream gzipInputStream = new GZIPInputStream(inputStream);\n             ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n            int size = 4096;\n            byte[] buffer = new byte[(int)size];\n            int count;\n            while ((count = gzipInputStream.read(buffer, 0, buffer.length)) != -1) {\n                outputStream.write(buffer, 0, count);\n            }\n            \n            objectArr = outputStream.toByteArray();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return;\n        }\n        \n        StringBuilder hex = new StringBuilder(objectArr.length * 2);\n        for (byte b : objectArr) {\n            hex.append(String.format(&quot;%02x&quot;, b));\n        }\n        System.out.println(hex.toString());\n        \n        String decodedString = new String(objectArr, StandardCharsets.UTF_8);\n        System.out.println(decodedString);\n    }\n}\n\n</code></pre>\n<p>I tested the to be decompressed byte array in c#, it worked ok, don't know why in Java it doesn't work.</p>\n"},{"tags":["java","spring-boot","aws-iot","aws-iot-core"],"answers":[{"tags":[],"owner":{"account_id":25638797,"reputation":1268,"user_id":19408037,"display_name":"brushtakopo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688572164,"creation_date":1688572164,"answer_id":76621994,"question_id":76611195,"body_markdown":"I&#39;d suggest to go with SQS since it is serverless and it will scale automatically. You can then, as you mentioned, consume the messages from the queue at your own pace (please note that you can also connect an AWS Lambda to SQS and run your custom logic in lambda with java runtime). \r\n\r\n\r\nTo reduce pricing even further on your solution, I&#39;d highly recommend to use [basic ingest][1]. Basic ingest is a specific feature in AWS IoT core that bypasses the MQTT broker by publishing the message directly to AWS IoT rule. Since you are not subscribing to the topic, using this feature makes sense. \r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/iot/latest/developerguide/iot-basic-ingest.html","title":"How to choose between different AWS IoT Rule engine for taking action for incoming message to mqtt topic","body":"<p>I'd suggest to go with SQS since it is serverless and it will scale automatically. You can then, as you mentioned, consume the messages from the queue at your own pace (please note that you can also connect an AWS Lambda to SQS and run your custom logic in lambda with java runtime).</p>\n<p>To reduce pricing even further on your solution, I'd highly recommend to use <a href=\"https://docs.aws.amazon.com/iot/latest/developerguide/iot-basic-ingest.html\" rel=\"nofollow noreferrer\">basic ingest</a>. Basic ingest is a specific feature in AWS IoT core that bypasses the MQTT broker by publishing the message directly to AWS IoT rule. Since you are not subscribing to the topic, using this feature makes sense.</p>\n"}],"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688572164,"creation_date":1688463053,"question_id":76611195,"body_markdown":"We are using AWS iot core as mqtt broker to receive and publish the data from device and other webservice respectively.\r\nOur webservice which is acting as a subscriber here is built on top of java/spring-boot.\r\nSo basically device will be sending message over a single mqtt service and the webservice will be consuming the message from this topic.\r\n\r\nBut as to build scalable design, we dont want our webservice to directly consume the message from the topic.\r\n\r\nWe are expecting around 10000 devices to publish the messages concurrently to the single topic. We also dont want to use shared subscription due to some restriction and limitation.\r\n\r\nWe want to configure IOT rule engine. Below are the few approaches we thought as of now:\r\n1. IOT rule via http post: Webservice will expose one Rest API that will be responsible for processing the messages(aynchronously)\r\n2. IOT rule via sqs: Webservice will have sqs listner that will poll the data from sqs.\r\n3. IOT rule via dynamoDB: Cron job will be fetching messages from the dynamoDB and do the processing.\r\n\r\nThere are other iot rule actions also that can be taken but I wanted to know what would be the best practice and what all factor we should consider in order choose IOT rule action.\r\n\r\nDoes all these IOT rule will have same cost implication or does it vary on the actions/resources(sqs, dynamoDB etc)?\r\n\r\n","title":"How to choose between different AWS IoT Rule engine for taking action for incoming message to mqtt topic","body":"<p>We are using AWS iot core as mqtt broker to receive and publish the data from device and other webservice respectively.\nOur webservice which is acting as a subscriber here is built on top of java/spring-boot.\nSo basically device will be sending message over a single mqtt service and the webservice will be consuming the message from this topic.</p>\n<p>But as to build scalable design, we dont want our webservice to directly consume the message from the topic.</p>\n<p>We are expecting around 10000 devices to publish the messages concurrently to the single topic. We also dont want to use shared subscription due to some restriction and limitation.</p>\n<p>We want to configure IOT rule engine. Below are the few approaches we thought as of now:</p>\n<ol>\n<li>IOT rule via http post: Webservice will expose one Rest API that will be responsible for processing the messages(aynchronously)</li>\n<li>IOT rule via sqs: Webservice will have sqs listner that will poll the data from sqs.</li>\n<li>IOT rule via dynamoDB: Cron job will be fetching messages from the dynamoDB and do the processing.</li>\n</ol>\n<p>There are other iot rule actions also that can be taken but I wanted to know what would be the best practice and what all factor we should consider in order choose IOT rule action.</p>\n<p>Does all these IOT rule will have same cost implication or does it vary on the actions/resources(sqs, dynamoDB etc)?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":7,"creation_date":1688500869,"post_id":76615566,"comment_id":135081411,"body_markdown":"Can you : 1) Copy the source code instead of giving us an image. 2) Returns the message depicting what the compiler is complaining about? Thanks.","body":"Can you : 1) Copy the source code instead of giving us an image. 2) Returns the message depicting what the compiler is complaining about? Thanks."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688501600,"post_id":76615566,"comment_id":135081513,"body_markdown":"exactly it also works with any TYPE that is a subclass of `Integer`, but `Integer` is not an instance of any subclass of `Integer`, disregarding that `Integer` is `final` and has no subclasses. Maybe a different example would be better. Assume `Predicate&lt;? extends Animal&gt;`, which, can also stand for `Predicate&lt;Dog&gt; p`. Now should it be allowed to call `p.test(cat);` with `Animal cat = new Cat()`? `p` is expecting a `Dog`  ((BTW this question is not a first time on StackOverflow))","body":"exactly it also works with any TYPE that is a subclass of <code>Integer</code>, but <code>Integer</code> is not an instance of any subclass of <code>Integer</code>, disregarding that <code>Integer</code> is <code>final</code> and has no subclasses. Maybe a different example would be better. Assume <code>Predicate&lt;? extends Animal&gt;</code>, which, can also stand for <code>Predicate&lt;Dog&gt; p</code>. Now should it be allowed to call <code>p.test(cat);</code> with <code>Animal cat = new Cat()</code>? <code>p</code> is expecting a <code>Dog</code>  ((BTW this question is not a first time on StackOverflow))"},{"owner":{"account_id":8888797,"reputation":91,"user_id":6636188,"display_name":"Ankit Ghildiyal"},"score":0,"creation_date":1688571803,"post_id":76615566,"comment_id":135092206,"body_markdown":"You&#39;re right user16320675, see my response to Andy Turner&#39;s answer below","body":"You&#39;re right user16320675, see my response to Andy Turner&#39;s answer below"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688504790,"creation_date":1688503598,"answer_id":76615791,"question_id":76615566,"body_markdown":"&gt; As per my understanding, `Predicate&lt;? extends Integer&gt;` means that this Predicate works with any type that is Integer or its subclass\r\n\r\nNo - it means the `Predicate` works with _a specific_ subclass of `Integer`, or subclasses of that class. Since the compiler doesn&#39;t know which specific subclass of `Integer` is acceptable, it refuses to compile if you pass anything other than literal `null` to the `test` method.\r\n\r\n----\r\n\r\n`Integer` is a poor class to explain this with because it has no subclasses. But let&#39;s say it did:\r\n\r\n```\r\nclass ChildOfInteger extends Integer {\r\n  boolean foo() { return true; }\r\n}\r\n```\r\n\r\nYou could define a `Predicate&lt;ChildOfInteger&gt;`, say:\r\n\r\n```\r\nPredicate&lt;ChildOfInteger&gt; pCoi = ChildOfInteger::foo;\r\n```\r\n\r\nThis invokes the `foo` method on the argument passed in - so clearly the compiler should try to stop you passing it anything that isn&#39;t a `ChildOfInteger`.\r\n\r\nBut a `Predicate&lt;ChildOfInteger&gt;` is also a `Predicate&lt;? extends Integer&gt;`:\r\n\r\n```\r\nPredicate&lt;? extends Integer&gt; pI = pCoi;\r\n```\r\n\r\nIf you were allowed to pass an `Integer` to a `pI`, the `Predicate` wouldn&#39;t know what to do, because there&#39;s no `foo` method to invoke on it.\r\n\r\nThe compiler doesn&#39;t know if the `Predicate&lt;? extends Integer&gt;` refers to a `Predicate&lt;Integer&gt;`, a `Predicate&lt;ChildOfInteger&gt;`, or a `Predicate&lt;ChildOfChildOfInteger&gt;` etc. Hence, you can&#39;t invoke `test` on it, passing anything that&#39;s not provably `null` (`null` is allowed because it can be cast to any type without an exception being raised).\r\n\r\n---\r\n\r\nIf you want to be able to pass in a `Predicate` that accepts `Integer` (or a subclass), but isn&#39;t specific to `Integer`, use `super`:\r\n\r\n```\r\nPredicate&lt;? super Integer&gt;\r\n```\r\n\r\nThis means that it accepts a specific type - again unknown exactly - but `Integer` is a subclass of that, so it&#39;s acceptable to pass an `Integer` (or a subclass of `Integer`) to it.","title":"Can someone please explain why I am getting this compilation error?","body":"<blockquote>\n<p>As per my understanding, <code>Predicate&lt;? extends Integer&gt;</code> means that this Predicate works with any type that is Integer or its subclass</p>\n</blockquote>\n<p>No - it means the <code>Predicate</code> works with <em>a specific</em> subclass of <code>Integer</code>, or subclasses of that class. Since the compiler doesn't know which specific subclass of <code>Integer</code> is acceptable, it refuses to compile if you pass anything other than literal <code>null</code> to the <code>test</code> method.</p>\n<hr />\n<p><code>Integer</code> is a poor class to explain this with because it has no subclasses. But let's say it did:</p>\n<pre><code>class ChildOfInteger extends Integer {\n  boolean foo() { return true; }\n}\n</code></pre>\n<p>You could define a <code>Predicate&lt;ChildOfInteger&gt;</code>, say:</p>\n<pre><code>Predicate&lt;ChildOfInteger&gt; pCoi = ChildOfInteger::foo;\n</code></pre>\n<p>This invokes the <code>foo</code> method on the argument passed in - so clearly the compiler should try to stop you passing it anything that isn't a <code>ChildOfInteger</code>.</p>\n<p>But a <code>Predicate&lt;ChildOfInteger&gt;</code> is also a <code>Predicate&lt;? extends Integer&gt;</code>:</p>\n<pre><code>Predicate&lt;? extends Integer&gt; pI = pCoi;\n</code></pre>\n<p>If you were allowed to pass an <code>Integer</code> to a <code>pI</code>, the <code>Predicate</code> wouldn't know what to do, because there's no <code>foo</code> method to invoke on it.</p>\n<p>The compiler doesn't know if the <code>Predicate&lt;? extends Integer&gt;</code> refers to a <code>Predicate&lt;Integer&gt;</code>, a <code>Predicate&lt;ChildOfInteger&gt;</code>, or a <code>Predicate&lt;ChildOfChildOfInteger&gt;</code> etc. Hence, you can't invoke <code>test</code> on it, passing anything that's not provably <code>null</code> (<code>null</code> is allowed because it can be cast to any type without an exception being raised).</p>\n<hr />\n<p>If you want to be able to pass in a <code>Predicate</code> that accepts <code>Integer</code> (or a subclass), but isn't specific to <code>Integer</code>, use <code>super</code>:</p>\n<pre><code>Predicate&lt;? super Integer&gt;\n</code></pre>\n<p>This means that it accepts a specific type - again unknown exactly - but <code>Integer</code> is a subclass of that, so it's acceptable to pass an <code>Integer</code> (or a subclass of <code>Integer</code>) to it.</p>\n"},{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688504269,"creation_date":1688504269,"answer_id":76615847,"question_id":76615566,"body_markdown":"First of all, `Integer` is a `final class` meaning it does not make sense to talk about subclasses to `Integer` as there aren&#39;t any. That out of the way, there are two ways to achieve what I believe is the desired effect.\r\n\r\n&lt;h2&gt;1. Not using generics&lt;/h2&gt; \r\nA list of Integers will allow you to add instances of subclasses to the Integer class (which once again do not exist). This would look something like this:\r\n\r\n```java\r\npublic int countSpecial(Collection&lt;Integer&gt; input, Predicate&lt;Integer&gt; p) {\r\n\tint count = 0;\r\n    for(Integer i : input) {\r\n\t\tif(p.test(i)) {\r\n\t\t\tcount++\r\n    \t}\r\n    }\r\n    return count;\r\n}\r\n```\r\n\r\n&lt;h2&gt;2. Not using wildcards&lt;/h2&gt; \r\nThis will allow you to utilise the benefits of generics while still being able to achieve the desired effect - and I think this is what you were trying to do. It would look something like this:\r\n\r\n```java\r\npublic &lt;T extends Integer&gt; int countSpecial(Collection&lt;T&gt; input, Predicate&lt;T&gt; p) {\r\n\tint count = 0;\r\n    for(T t : input) { // t will be an instance of an Integer or an Integer subclass (which doesn&#39;t exist)\r\n\t\tif(p.test(i)) {\r\n\t\t\tcount++\r\n    \t}\r\n    }\r\n    return count;\r\n}\r\n```","title":"Can someone please explain why I am getting this compilation error?","body":"<p>First of all, <code>Integer</code> is a <code>final class</code> meaning it does not make sense to talk about subclasses to <code>Integer</code> as there aren't any. That out of the way, there are two ways to achieve what I believe is the desired effect.</p>\n<h2>1. Not using generics</h2> \nA list of Integers will allow you to add instances of subclasses to the Integer class (which once again do not exist). This would look something like this:\n<pre class=\"lang-java prettyprint-override\"><code>public int countSpecial(Collection&lt;Integer&gt; input, Predicate&lt;Integer&gt; p) {\n    int count = 0;\n    for(Integer i : input) {\n        if(p.test(i)) {\n            count++\n        }\n    }\n    return count;\n}\n</code></pre>\n<h2>2. Not using wildcards</h2> \nThis will allow you to utilise the benefits of generics while still being able to achieve the desired effect - and I think this is what you were trying to do. It would look something like this:\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends Integer&gt; int countSpecial(Collection&lt;T&gt; input, Predicate&lt;T&gt; p) {\n    int count = 0;\n    for(T t : input) { // t will be an instance of an Integer or an Integer subclass (which doesn't exist)\n        if(p.test(i)) {\n            count++\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":8888797,"reputation":91,"user_id":6636188,"display_name":"Ankit Ghildiyal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76615791,"answer_count":2,"score":0,"last_activity_date":1688571941,"creation_date":1688500627,"question_id":76615566,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wjcos.png\r\n\r\nAs per my understanding, `Predicate&lt;? extends Integer&gt;` means that this Predicate works with any type that is Integer or its subclass so, not sure why this is complaining. NOTE that doing something similar with first param `Collection&lt;? extends Integer&gt;` seem to be working as expected. \r\nEDIT - Adding code as requested by others, also changed the type to Number as Integer doesn&#39;t have a subclass\r\n`\r\n\r\n    public &lt;T extends Collection&lt;? extends Number&gt;&gt; int countSpecial(Collection&lt;? extends Number&gt; input, Predicate&lt;? extends Number&gt; p){\r\n            int count = 0;\r\n            for(Number i : input){\r\n                if(p.test(i)){\r\n                    count++;\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n\r\n`","title":"Can someone please explain why I am getting this compilation error?","body":"<p><a href=\"https://i.stack.imgur.com/Wjcos.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wjcos.png\" alt=\"enter image description here\" /></a></p>\n<p>As per my understanding, <code>Predicate&lt;? extends Integer&gt;</code> means that this Predicate works with any type that is Integer or its subclass so, not sure why this is complaining. NOTE that doing something similar with first param <code>Collection&lt;? extends Integer&gt;</code> seem to be working as expected.\nEDIT - Adding code as requested by others, also changed the type to Number as Integer doesn't have a subclass\n`</p>\n<pre><code>public &lt;T extends Collection&lt;? extends Number&gt;&gt; int countSpecial(Collection&lt;? extends Number&gt; input, Predicate&lt;? extends Number&gt; p){\n        int count = 0;\n        for(Number i : input){\n            if(p.test(i)){\n                count++;\n            }\n        }\n        return count;\n    }\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688059483,"post_id":76582835,"comment_id":135026412,"body_markdown":"It sounds like a problem with OkHttp or DNS rather than with Spring Framework. Do other clients, such as curl on the command line, ever fail due to an unknown host?","body":"It sounds like a problem with OkHttp or DNS rather than with Spring Framework. Do other clients, such as curl on the command line, ever fail due to an unknown host?"},{"owner":{"account_id":28919915,"reputation":9,"user_id":22151115,"display_name":"Matteo Battisti"},"score":0,"creation_date":1688074180,"post_id":76582835,"comment_id":135028969,"body_markdown":"command line curl is fine. How do I tell if it&#39;s a client or dns problem?","body":"command line curl is fine. How do I tell if it&#39;s a client or dns problem?"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688112211,"post_id":76582835,"comment_id":135032895,"body_markdown":"I&#39;d search for some existing questions about intermittent `java.net.UnknownHostException`. For example, [this question](https://stackoverflow.com/questions/24188992/unknownhostexception-from-java-but-host-resolves-with-ping-nslookup-curl) has [an answer](https://stackoverflow.com/a/24195155/1384297) with some suggestions for diagnosing a similar problem.","body":"I&#39;d search for some existing questions about intermittent <code>java.net.UnknownHostException</code>. For example, <a href=\"https://stackoverflow.com/questions/24188992/unknownhostexception-from-java-but-host-resolves-with-ping-nslookup-curl\">this question</a> has <a href=\"https://stackoverflow.com/a/24195155/1384297\">an answer</a> with some suggestions for diagnosing a similar problem."},{"owner":{"account_id":28919915,"reputation":9,"user_id":22151115,"display_name":"Matteo Battisti"},"score":0,"creation_date":1688571514,"post_id":76582835,"comment_id":135092123,"body_markdown":"Thanks, solved follow this https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover","body":"Thanks, solved follow this <a href=\"https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\" title=\"java and etc resolv conf dns server failover\">serverfault.com/questions/578082/&hellip;</a>"}],"owner":{"account_id":28919915,"reputation":9,"user_id":22151115,"display_name":"Matteo Battisti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688571539,"creation_date":1688055077,"question_id":76582835,"body_markdown":"I have a problem with a Springframework project.\r\nI make a call with OkHttpClient and sometimes I get the error java.net.UnknownHostException: www.strava.com: Name or service not known\r\n\r\nI tried to insert a 1 minute timeout thinking of solving the problem but if the call fails it fails after a few seconds\r\nThe call is made successfully a few times and other times the described error returns, but the call is always the same...\r\n\r\n       \r\n        String STRAVA_URL = &quot;https://www.strava.com/&quot;\r\n        String url = StravaConfig.STRAVA_URL + &quot;/api/v3/oauth/token&quot;; \r\n    \r\n        RequestBody requestBody = new FormBody\r\n            .Builder() \r\n            .add(&quot;client_id&quot;, StravaConfig.CLIENT_ID) \r\n            .add(&quot;client_secret&quot;, StravaConfig.CLIENT_SECRET) \r\n            .add(&quot;grant_type&quot;, &quot;refresh_token&quot;) \r\n            .add(&quot;refresh_token&quot;, account.getStravaRefreshToken()) \r\n            .build();\r\n    \r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .connectTimeout(1, TimeUnit.MINUTES)\r\n                .build();\r\n    \r\n        Request request = new Request.Builder()\r\n                .method(&quot;POST&quot;, requestBody)\r\n                .url(url)\r\n                .build();\r\n    \r\n        Call call = client.newCall(request);\r\n        Response response = null;\r\n    \r\n        try {\r\n            response = call.execute();\r\n    \r\n            ...\r\n        } catch (Exception e) {\r\n            //HERE THE ERROR\r\n            e.printStackTrace();\r\n            return e.toString();\r\n        }`\r\n\r\n\r\n**Solved**\r\nFollow this https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\r\n","title":"Springframework java.net.UnknownHostException appears randomly","body":"<p>I have a problem with a Springframework project.\nI make a call with OkHttpClient and sometimes I get the error java.net.UnknownHostException: <a href=\"http://www.strava.com\" rel=\"nofollow noreferrer\">www.strava.com</a>: Name or service not known</p>\n<p>I tried to insert a 1 minute timeout thinking of solving the problem but if the call fails it fails after a few seconds\nThe call is made successfully a few times and other times the described error returns, but the call is always the same...</p>\n<pre><code>    String STRAVA_URL = &quot;https://www.strava.com/&quot;\n    String url = StravaConfig.STRAVA_URL + &quot;/api/v3/oauth/token&quot;; \n\n    RequestBody requestBody = new FormBody\n        .Builder() \n        .add(&quot;client_id&quot;, StravaConfig.CLIENT_ID) \n        .add(&quot;client_secret&quot;, StravaConfig.CLIENT_SECRET) \n        .add(&quot;grant_type&quot;, &quot;refresh_token&quot;) \n        .add(&quot;refresh_token&quot;, account.getStravaRefreshToken()) \n        .build();\n\n    OkHttpClient client = new OkHttpClient.Builder()\n            .connectTimeout(1, TimeUnit.MINUTES)\n            .build();\n\n    Request request = new Request.Builder()\n            .method(&quot;POST&quot;, requestBody)\n            .url(url)\n            .build();\n\n    Call call = client.newCall(request);\n    Response response = null;\n\n    try {\n        response = call.execute();\n\n        ...\n    } catch (Exception e) {\n        //HERE THE ERROR\n        e.printStackTrace();\n        return e.toString();\n    }`\n</code></pre>\n<p><strong>Solved</strong>\nFollow this <a href=\"https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\">https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover</a></p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459014485,"creation_date":1459014033,"answer_id":36238593,"question_id":36238493,"body_markdown":"I think in the `addRanking(..)` method, after the `Transaction tx = session.getTransaction();` you missed to call\r\n\r\n&gt; tx.begin()","title":"Hibernate TransactionException when saving to database","body":"<p>I think in the <code>addRanking(..)</code> method, after the <code>Transaction tx = session.getTransaction();</code> you missed to call</p>\n\n<blockquote>\n  <p>tx.begin()</p>\n</blockquote>\n"}],"owner":{"account_id":959020,"reputation":3213,"user_id":983783,"accept_rate":63,"display_name":"Eddy Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":36238593,"answer_count":1,"score":-1,"last_activity_date":1688571357,"creation_date":1459013491,"question_id":36238493,"body_markdown":"I am having issues with Hibernate when trying to save to a database. I have the following two classes, a normal class and a test class:\r\n\r\n    public class HibernateRankingService2 implements RankingService2{\r\n    \r\n    \tpublic HibernateRankingService2() {\r\n    \t}\r\n    \r\n    \tpublic void addRanking(String subject, String observer, String skill, int ranking) {\r\n    \t\tSession session = HibernateUtil.getSession();\r\n    \t\tTransaction tx = session.getTransaction();\r\n    \t\taddRanking(session, subject, observer, skill, ranking);\r\n    \t\ttx.commit();\r\n    \t\tsession.close();\r\n    \t}\r\n    \t\r\n    \tprivate void addRanking(Session session, String subjectName,\r\n    \t\tString observerName, String skillName, int rank) {\r\n    \t\tPerson subject = savePerson(session, subjectName);\r\n    \t\tPerson observer = savePerson(session, observerName);\r\n    \t\tSkill skill = saveSkill(session, skillName);\r\n    \t\tRanking ranking = new Ranking();\r\n    \t\tranking.setSubject(subject);\r\n    \t\tranking.setObserver(observer);\r\n    \t\tranking.setSkill(skill);\r\n    \t\tranking.setRanking(rank);\r\n    \t\tsession.save(ranking);\r\n    \t}\r\n    \t\r\n    \tpublic int getRankingFor(String subject, String skill) {\r\n    \t\tSession session = HibernateUtil.getSession();\r\n    \t\tTransaction tx = session.beginTransaction();\r\n    \t\tint average = getRankingFor(session, subject, skill);\r\n    \t\ttx.commit();\r\n    \t\tsession.close();\r\n    \t\treturn average;\r\n    \t}\r\n    \t\r\n    \tprivate int getRankingFor(Session session, String subject,\r\n    \t\tString skill) {\r\n    \t\tQuery query = session.createQuery(&quot;from Ranking r &quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t+ &quot;where r.subject.name=:name &quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t+ &quot;and r.skill.name=:skill&quot;);\r\n    \t\tquery.setString(&quot;name&quot;, subject);\r\n    \t\tquery.setString(&quot;skill&quot;, skill);\r\n    \t\tint sum = 0;\r\n    \t\tint count = 0;\r\n    \t\tfor (Ranking r : (List&lt;Ranking&gt;) query.list()) {\r\n    \t\t\tcount++;\r\n    \t\t\tsum += r.getRanking();\r\n    \t\t\tSystem.out.println(r);\r\n    \t\t}\r\n    \t\treturn count == 0 ? 0 : sum / count;\r\n    \t}\t\r\n    \t    \t\r\n    \tprivate Person findPerson(Session session, String name){\r\n    \t\tQuery query = session.createQuery(&quot;from Person p where p.name=:name&quot;);\r\n    \t\tquery.setParameter(&quot;name&quot;, name);\r\n    \t\tquery.setMaxResults(1);\r\n    \t\tList&lt;Person&gt; person = (List&lt;Person&gt;)query.list();\r\n    \t\tSystem.out.println(&quot;SIZE..: &quot; + query.list().size());\r\n    \t\tif(person.size() == 0){\r\n    \t\t\treturn null;\r\n    \t\t}\t\t\r\n    \t\treturn person.get(0);\r\n    \t}\r\n    \t\r\n    \tprivate Person savePerson(Session session, String name){\r\n    \t\tPerson person = findPerson(session, name);\r\n    \t\tif(person == null){\r\n    \t\t\tperson = new Person();\r\n    \t\t\tperson.setName(name);\r\n    \t\t\tsession.save(person);\r\n    \t\t}\r\n    \t\treturn person;\r\n    \t}\r\n    \t\r\n    \tprivate Skill findSkill(Session session, String name){\r\n    \t\tQuery query = session.createQuery(&quot;from Skill s where s.name=:name&quot;);\r\n    \t\tquery.setParameter(&quot;name&quot;, name);\r\n    \t\tquery.setMaxResults(1);    \t\t\r\n    \t\tList&lt;Skill&gt; skill = (List&lt;Skill&gt;)query.list();\r\n    \t\tSystem.out.println(&quot;SIZE..: &quot; + query.list().size());\r\n    \t\tif(skill.size() == 0){\r\n    \t\t\treturn null;\r\n    \t\t}\t\t\r\n    \t\treturn skill.get(0);\r\n    \t}\r\n    \t\r\n    \tprivate Skill saveSkill(Session session, String name){\r\n    \t\tSkill skill = findSkill(session, name);\r\n    \t\tif(skill == null){\r\n    \t\t\tskill = new Skill();\r\n    \t\t\tskill.setName(name);\r\n    \t\t\tsession.save(skill);\r\n    \t\t}\r\n    \t\treturn skill;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\nThis is the test class:\r\n\r\n    public class AddRankingTest {\r\n    \r\n    \tRankingService2 service = new HibernateRankingService2();\r\n    \t\r\n    \t@Test\r\n    \tpublic void addRanking(){\r\n    \t\tservice.addRanking(&quot;J. C. Smell&quot;, &quot;Drew Lombardo&quot;, &quot;Mule&quot;, 8);\r\n    \t\tassertEquals(service.getRankingFor(&quot;J. C. Smell&quot;, &quot;Mule&quot;), 8);\r\n    \t}\r\n    \r\n    }\r\n\r\nAm having the following exception:\r\n\r\n    org.hibernate.TransactionException: Transaction not successfully started\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:59)\r\n    \tat chapter3.application.HibernateRankingService2.addRanking(HibernateRankingService2.java:29)\r\n    \tat chapter3.simple_test.AddRankingTest.addRanking(AddRankingTest.java:17)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \r\n    ...\r\n    ...\r\n\r\nThe error is coming from the `tx.commit();` in the `public void addRanking(...);` method because if I comment it out, it runs fine with no exceptions but then the data is not saved to the database. \r\n\r\nI begin and commit the transaction in the same `public void addRanking(...);` method but i don&#39;t understand why am getting the Transaction exception.\r\n\r\nWhat am I doing wrong?\r\n\r\nThe objects like `Person`, `Skill` and `Ranking` are normal Java POJOs containing only getters and setters.\r\n","title":"Hibernate TransactionException when saving to database","body":"<p>I am having issues with Hibernate when trying to save to a database. I have the following two classes, a normal class and a test class:</p>\n<pre><code>public class HibernateRankingService2 implements RankingService2{\n\n    public HibernateRankingService2() {\n    }\n\n    public void addRanking(String subject, String observer, String skill, int ranking) {\n        Session session = HibernateUtil.getSession();\n        Transaction tx = session.getTransaction();\n        addRanking(session, subject, observer, skill, ranking);\n        tx.commit();\n        session.close();\n    }\n    \n    private void addRanking(Session session, String subjectName,\n        String observerName, String skillName, int rank) {\n        Person subject = savePerson(session, subjectName);\n        Person observer = savePerson(session, observerName);\n        Skill skill = saveSkill(session, skillName);\n        Ranking ranking = new Ranking();\n        ranking.setSubject(subject);\n        ranking.setObserver(observer);\n        ranking.setSkill(skill);\n        ranking.setRanking(rank);\n        session.save(ranking);\n    }\n    \n    public int getRankingFor(String subject, String skill) {\n        Session session = HibernateUtil.getSession();\n        Transaction tx = session.beginTransaction();\n        int average = getRankingFor(session, subject, skill);\n        tx.commit();\n        session.close();\n        return average;\n    }\n    \n    private int getRankingFor(Session session, String subject,\n        String skill) {\n        Query query = session.createQuery(&quot;from Ranking r &quot;\n                                            + &quot;where r.subject.name=:name &quot;\n                                            + &quot;and r.skill.name=:skill&quot;);\n        query.setString(&quot;name&quot;, subject);\n        query.setString(&quot;skill&quot;, skill);\n        int sum = 0;\n        int count = 0;\n        for (Ranking r : (List&lt;Ranking&gt;) query.list()) {\n            count++;\n            sum += r.getRanking();\n            System.out.println(r);\n        }\n        return count == 0 ? 0 : sum / count;\n    }   \n            \n    private Person findPerson(Session session, String name){\n        Query query = session.createQuery(&quot;from Person p where p.name=:name&quot;);\n        query.setParameter(&quot;name&quot;, name);\n        query.setMaxResults(1);\n        List&lt;Person&gt; person = (List&lt;Person&gt;)query.list();\n        System.out.println(&quot;SIZE..: &quot; + query.list().size());\n        if(person.size() == 0){\n            return null;\n        }       \n        return person.get(0);\n    }\n    \n    private Person savePerson(Session session, String name){\n        Person person = findPerson(session, name);\n        if(person == null){\n            person = new Person();\n            person.setName(name);\n            session.save(person);\n        }\n        return person;\n    }\n    \n    private Skill findSkill(Session session, String name){\n        Query query = session.createQuery(&quot;from Skill s where s.name=:name&quot;);\n        query.setParameter(&quot;name&quot;, name);\n        query.setMaxResults(1);         \n        List&lt;Skill&gt; skill = (List&lt;Skill&gt;)query.list();\n        System.out.println(&quot;SIZE..: &quot; + query.list().size());\n        if(skill.size() == 0){\n            return null;\n        }       \n        return skill.get(0);\n    }\n    \n    private Skill saveSkill(Session session, String name){\n        Skill skill = findSkill(session, name);\n        if(skill == null){\n            skill = new Skill();\n            skill.setName(name);\n            session.save(skill);\n        }\n        return skill;\n    }\n    \n\n}\n</code></pre>\n<p>This is the test class:</p>\n<pre><code>public class AddRankingTest {\n\n    RankingService2 service = new HibernateRankingService2();\n    \n    @Test\n    public void addRanking(){\n        service.addRanking(&quot;J. C. Smell&quot;, &quot;Drew Lombardo&quot;, &quot;Mule&quot;, 8);\n        assertEquals(service.getRankingFor(&quot;J. C. Smell&quot;, &quot;Mule&quot;), 8);\n    }\n\n}\n</code></pre>\n<p>Am having the following exception:</p>\n<pre><code>org.hibernate.TransactionException: Transaction not successfully started\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:59)\n    at chapter3.application.HibernateRankingService2.addRanking(HibernateRankingService2.java:29)\n    at chapter3.simple_test.AddRankingTest.addRanking(AddRankingTest.java:17)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n\n...\n...\n</code></pre>\n<p>The error is coming from the <code>tx.commit();</code> in the <code>public void addRanking(...);</code> method because if I comment it out, it runs fine with no exceptions but then the data is not saved to the database.</p>\n<p>I begin and commit the transaction in the same <code>public void addRanking(...);</code> method but i don't understand why am getting the Transaction exception.</p>\n<p>What am I doing wrong?</p>\n<p>The objects like <code>Person</code>, <code>Skill</code> and <code>Ranking</code> are normal Java POJOs containing only getters and setters.</p>\n"},{"tags":["java","android","authentication","oauth-2.0","keycloak"],"owner":{"account_id":5605149,"reputation":17,"user_id":4440029,"display_name":"drage503"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688571175,"creation_date":1560783450,"question_id":56633910,"body_markdown":"I am creating a native android application and I am using keycloak authentication, because my web app and my API is already configured with keycloak. I setup Facebook and Google as identity providers for keycloak but now I don&#39;t know how I am supposed to configure it in the Android application.\r\n\r\nFor the general authentication I am using retrofit with rest calls to get the token and after that I am storing the token in Android Account manager.\r\n\r\nI want my android app to successfully authenticate via Facebook or Google through Keycloak. Any suggestions, please?","title":"Android authentication on Keycloak with identity providers like Google and Facebook","body":"<p>I am creating a native android application and I am using keycloak authentication, because my web app and my API is already configured with keycloak. I setup Facebook and Google as identity providers for keycloak but now I don't know how I am supposed to configure it in the Android application.</p>\n\n<p>For the general authentication I am using retrofit with rest calls to get the token and after that I am storing the token in Android Account manager.</p>\n\n<p>I want my android app to successfully authenticate via Facebook or Google through Keycloak. Any suggestions, please?</p>\n"},{"tags":["java","maven","quarkus","sample"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1623850432,"post_id":68003013,"comment_id":120195410,"body_markdown":"If the json is actually HTML, it may be an error response from the repository server. Can you check? Or even remove files from your local repository to force Maven to download again - e.g. `rm -rf ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/`","body":"If the json is actually HTML, it may be an error response from the repository server. Can you check? Or even remove files from your local repository to force Maven to download again - e.g. <code>rm -rf ~&#47;.m2&#47;repository&#47;io&#47;quarkus&#47;quarkus-universe-bom-quarkus-pla&zwnj;&#8203;tform-descriptor&#47;</code>"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851275,"post_id":68003013,"comment_id":120195853,"body_markdown":"Hi Nikos, thanks for jumping in so quickly!","body":"Hi Nikos, thanks for jumping in so quickly!"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851351,"post_id":68003013,"comment_id":120195894,"body_markdown":"- deleted the faulty local repo","body":"- deleted the faulty local repo"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851406,"post_id":68003013,"comment_id":120195919,"body_markdown":"- modified my ~/.m2/settings.xml so that it contains the maven central repo","body":"- modified my ~/.m2/settings.xml so that it contains the maven central repo"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851783,"post_id":68003013,"comment_id":120196126,"body_markdown":"same error while the faulty file was directly downloaded from central mirror.","body":"same error while the faulty file was directly downloaded from central mirror."},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851835,"post_id":68003013,"comment_id":120196147,"body_markdown":"the io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json checksum is invalid at download...","body":"the io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/&zwnj;&#8203;1.13.7.Final/quarkus&zwnj;&#8203;-universe-bom-quarku&zwnj;&#8203;s-platform-descripto&zwnj;&#8203;r-1.13.7.Final-1.13.&zwnj;&#8203;7.Final.json checksum is invalid at download..."}],"answers":[{"tags":[],"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623856899,"creation_date":1623856899,"answer_id":68005611,"question_id":68003013,"body_markdown":"Changing my `~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json` with the content of [The expected json descriptor from here](https://repo1.maven.org/maven2/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json) solved the issue.\r\n\r\nHere is the expected result:\r\n\r\n```\r\nUser@-bash - createProject - 15:46:04 $ mvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\r\n-----------\r\n\r\napplying codestarts...\r\n&#128288; java\r\n&#129520; maven\r\n&#128451; quarkus\r\n&#128220; config-properties\r\n&#128736; dockerfiles\r\n&#128736; maven-wrapper\r\n&#128018; resteasy-example\r\n\r\n-----------\r\n[SUCCESS] ✅ quarkus project has been successfully generated in:\r\n--&gt; /Users/User/work/quarkus/test/createProject/getting-started\r\n-----------\r\n[INFO] \r\n[INFO] ========================================================================================\r\n[INFO] Your new application has been created in /Users/User/work/quarkus/test/createProject/getting-started\r\n[INFO] Navigate into this directory and launch your application with mvn quarkus:dev\r\n[INFO] Your application will be accessible on http://localhost:8080\r\n[INFO] ========================================================================================\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.060 s\r\n[INFO] Finished at: 2021-06-16T17:16:26+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\n\r\nI do not know BTW where to report the maven central invalid download checksum for this file.","title":"quarkus maven plugin fails to create a project","body":"<p>Changing my <code>~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json</code> with the content of <a href=\"https://repo1.maven.org/maven2/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\" rel=\"nofollow noreferrer\">The expected json descriptor from here</a> solved the issue.</p>\n<p>Here is the expected result:</p>\n<pre><code>User@-bash - createProject - 15:46:04 $ mvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\n-----------\n\napplying codestarts...\n🔠 java\n🧰 maven\n🗃 quarkus\n📜 config-properties\n🛠 dockerfiles\n🛠 maven-wrapper\n🐒 resteasy-example\n\n-----------\n[SUCCESS] ✅ quarkus project has been successfully generated in:\n--&gt; /Users/User/work/quarkus/test/createProject/getting-started\n-----------\n[INFO] \n[INFO] ========================================================================================\n[INFO] Your new application has been created in /Users/User/work/quarkus/test/createProject/getting-started\n[INFO] Navigate into this directory and launch your application with mvn quarkus:dev\n[INFO] Your application will be accessible on http://localhost:8080\n[INFO] ========================================================================================\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.060 s\n[INFO] Finished at: 2021-06-16T17:16:26+02:00\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n<p>I do not know BTW where to report the maven central invalid download checksum for this file.</p>\n"}],"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2043,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688571058,"creation_date":1623847808,"question_id":68003013,"body_markdown":"Trying to create a quarkus project from scratch with the command: \r\n```\r\nmvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\r\n```\r\nas described in the [Bootstrapping a quarkus project page](https://quarkus.io/guides/getting-started#bootstrapping-the-project)\r\nfails with the below error:\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.692 s\r\n[INFO] Finished at: 2021-06-16T14:23:09+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n```\r\nRunning the maven debug option (-X) reveals a probably erroneous .m2 repository resource:\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  9.028 s\r\n[INFO] Finished at: 2021-06-16T14:10:23+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\r\n[ERROR] -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n```\r\n\r\nLooking further at the faulty resource `~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json`, it appears that the expected `.json` file is `html`formatted...\r\n\r\nAlso, my maven version is compatible with the quarkus requirements: \r\n\r\n```\r\nUser@-bash - createProject - 14:23:09 $ mvn --version\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\nMaven home: /usr/local/Cellar/maven/3.8.1/libexec\r\nJava version: 11.0.11, vendor: GraalVM Community, runtime: /Library/Java/JavaVirtualMachines/graalvm-ce-java11-21.1.0/Contents/Home\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;11.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\n```\r\nand my local .m2 repository contains all the necessary quarkus dependencies.\r\n- did someone already experienced such an issue ?\r\n- any hint on how to solve this ? (cannot believe that the maven central repository contains an erroneous resource)\r\n\r\nCheers !","title":"quarkus maven plugin fails to create a project","body":"<p>Trying to create a quarkus project from scratch with the command:</p>\n<pre><code>mvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\n</code></pre>\n<p>as described in the <a href=\"https://quarkus.io/guides/getting-started#bootstrapping-the-project\" rel=\"nofollow noreferrer\">Bootstrapping a quarkus project page</a>\nfails with the below error:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.692 s\n[INFO] Finished at: 2021-06-16T14:23:09+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character ('&lt;' (code 60)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n<p>Running the maven debug option (-X) reveals a probably erroneous .m2 repository resource:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  9.028 s\n[INFO] Finished at: 2021-06-16T14:10:23+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character ('&lt;' (code 60)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n</code></pre>\n<p>Looking further at the faulty resource <code>~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json</code>, it appears that the expected <code>.json</code> file is <code>html</code>formatted...</p>\n<p>Also, my maven version is compatible with the quarkus requirements:</p>\n<pre><code>User@-bash - createProject - 14:23:09 $ mvn --version\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: /usr/local/Cellar/maven/3.8.1/libexec\nJava version: 11.0.11, vendor: GraalVM Community, runtime: /Library/Java/JavaVirtualMachines/graalvm-ce-java11-21.1.0/Contents/Home\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;11.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n\n</code></pre>\n<p>and my local .m2 repository contains all the necessary quarkus dependencies.</p>\n<ul>\n<li>did someone already experienced such an issue ?</li>\n<li>any hint on how to solve this ? (cannot believe that the maven central repository contains an erroneous resource)</li>\n</ul>\n<p>Cheers !</p>\n"},{"tags":["java","system","environment"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688117526,"creation_date":1688117526,"answer_id":76587697,"question_id":76587571,"body_markdown":"&gt; Is any another better way?\r\n\r\nI would do it with `ProcessBuilder` instead of `Runtime`. It has more configurable options and you can add your environment variables to a map instead of building a String. You can even manipulate the inherited variables. Like this:\r\n```\r\nProcessBuilder pb =\r\n   new ProcessBuilder(&quot;myCommand&quot;, &quot;myArg1&quot;, &quot;myArg2&quot;);\r\n Map&lt;String, String&gt; env = pb.environment();\r\n env.put(&quot;VAR1&quot;, &quot;myValue&quot;);\r\n env.remove(&quot;OTHERVAR&quot;);\r\n env.put(&quot;VAR2&quot;, env.get(&quot;VAR1&quot;) + &quot;suffix&quot;);\r\n Process p = pb.start();\r\n```","title":"The way to pass system environment variables to child process in java","body":"<blockquote>\n<p>Is any another better way?</p>\n</blockquote>\n<p>I would do it with <code>ProcessBuilder</code> instead of <code>Runtime</code>. It has more configurable options and you can add your environment variables to a map instead of building a String. You can even manipulate the inherited variables. Like this:</p>\n<pre><code>ProcessBuilder pb =\n   new ProcessBuilder(&quot;myCommand&quot;, &quot;myArg1&quot;, &quot;myArg2&quot;);\n Map&lt;String, String&gt; env = pb.environment();\n env.put(&quot;VAR1&quot;, &quot;myValue&quot;);\n env.remove(&quot;OTHERVAR&quot;);\n env.put(&quot;VAR2&quot;, env.get(&quot;VAR1&quot;) + &quot;suffix&quot;);\n Process p = pb.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14838134,"reputation":1,"user_id":10715592,"display_name":"Sujata R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688570989,"creation_date":1688363796,"answer_id":76602150,"question_id":76587571,"body_markdown":"\r\n Here a concise summary of the alternative approach using ProcessBuilder-\r\n\r\nInstead of using `Runtime.exec(cmd, envp)`, you can use `ProcessBuilder` to execute\r\nthe child process with both the parent&#39;s environment variables and additional\r\nenvironment variables:\r\n\r\n```java\r\nProcessBuilder processBuilder = new ProcessBuilder(&quot;my&quot;, &quot;java&quot;, &quot;command&quot;, &quot;array&quot;, &quot;for&quot;, &quot;child&quot;, &quot;process&quot;);\r\nMap&lt;String, String&gt; environment = processBuilder.environment();\r\nenvironment.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\r\nenvironment.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\r\nProcess process = processBuilder.start();\r\n```\r\n\r\nWith `ProcessBuilder`, you construct the command and arguments for the child process.\r\nThe `environment()` method retrieves the environment variable map, which initially \r\ncontains the parent&#39;s environment. You can then add additional environment \r\nvariables using the `put()` method. Finally, calling `start()` executes the \r\nchild process with the combined environment variables.\r\n\r\nUsing `ProcessBuilder` offers more flexibility and control over process execution \r\ncompared to `Runtime.exec()`, allowing you to manage input/output streams and error\r\nhandling more easily.","title":"The way to pass system environment variables to child process in java","body":"<p>Here a concise summary of the alternative approach using ProcessBuilder-</p>\n<p>Instead of using <code>Runtime.exec(cmd, envp)</code>, you can use <code>ProcessBuilder</code> to execute\nthe child process with both the parent's environment variables and additional\nenvironment variables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;my&quot;, &quot;java&quot;, &quot;command&quot;, &quot;array&quot;, &quot;for&quot;, &quot;child&quot;, &quot;process&quot;);\nMap&lt;String, String&gt; environment = processBuilder.environment();\nenvironment.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\nenvironment.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\nProcess process = processBuilder.start();\n</code></pre>\n<p>With <code>ProcessBuilder</code>, you construct the command and arguments for the child process.\nThe <code>environment()</code> method retrieves the environment variable map, which initially\ncontains the parent's environment. You can then add additional environment\nvariables using the <code>put()</code> method. Finally, calling <code>start()</code> executes the\nchild process with the combined environment variables.</p>\n<p>Using <code>ProcessBuilder</code> offers more flexibility and control over process execution\ncompared to <code>Runtime.exec()</code>, allowing you to manage input/output streams and error\nhandling more easily.</p>\n"}],"owner":{"account_id":28924102,"reputation":3,"user_id":22154369,"display_name":"RU NA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76587697,"answer_count":2,"score":0,"last_activity_date":1688570989,"creation_date":1688116445,"question_id":76587571,"body_markdown":"I want to create child process in JAVA, and I wantthis process to have parent&#39;s env variables and some new envariables all.\r\n\r\nIn my knowledge, If I use Runtime.exec(cmd, null), then child process just inherits parent&#39;s env.\r\nAnd If I user Runtime.exec(cmd, new String[]), then child process has only env that I assigend.\r\n\r\nBut I want my child process to have parent&#39;s env and new env variables all...\r\n\r\nSo, I thought this java code is the only way to achieve my goal...\r\n\r\n\r\n```\r\n        Map&lt;String, String&gt; env = System.getenv();\r\n        String[] envp = new String[100];\r\n        int idx = 0;\r\n        for (Map.Entry&lt;String, String&gt; entry : env.entrySet()) {\r\n            String envKey = entry.getKey();\r\n            String envValue = entry.getValue();\r\n            envp[idx++] = envKey + &quot;=&quot; + envValue;\r\n        }\r\n        String cmd = &quot;my java command array for child process...&quot;;\r\n        String newEnv = key + &quot;=&quot; + value;\r\n        envp[idx] = newEnv;\r\n        Runtime runtime = Runtime.getRuntime();\r\n        runtime.exec(cmd, envp);\r\n```\r\nIs any another better way? or is this code not good?\r\n\r\nThis is my first asking and sorry if this asking is difficult to understand because my english skill is very bad...\r\n\r\nThank you\r\n\r\n\r\nI searched many posts and one way I found was like this...\r\n```\r\nMap&lt;String, String&gt; env = System.getenv();\r\nField field = env.getClass().getDeclaredField(&quot;m&quot;);\r\nfield.setAccessible(true);\r\n((Map&lt;String, String&gt;) field.get(env)).put(name, val);\r\n```\r\nBut I don&#39;t like to modify unmodifiable Collection.","title":"The way to pass system environment variables to child process in java","body":"<p>I want to create child process in JAVA, and I wantthis process to have parent's env variables and some new envariables all.</p>\n<p>In my knowledge, If I use Runtime.exec(cmd, null), then child process just inherits parent's env.\nAnd If I user Runtime.exec(cmd, new String[]), then child process has only env that I assigend.</p>\n<p>But I want my child process to have parent's env and new env variables all...</p>\n<p>So, I thought this java code is the only way to achieve my goal...</p>\n<pre><code>        Map&lt;String, String&gt; env = System.getenv();\n        String[] envp = new String[100];\n        int idx = 0;\n        for (Map.Entry&lt;String, String&gt; entry : env.entrySet()) {\n            String envKey = entry.getKey();\n            String envValue = entry.getValue();\n            envp[idx++] = envKey + &quot;=&quot; + envValue;\n        }\n        String cmd = &quot;my java command array for child process...&quot;;\n        String newEnv = key + &quot;=&quot; + value;\n        envp[idx] = newEnv;\n        Runtime runtime = Runtime.getRuntime();\n        runtime.exec(cmd, envp);\n</code></pre>\n<p>Is any another better way? or is this code not good?</p>\n<p>This is my first asking and sorry if this asking is difficult to understand because my english skill is very bad...</p>\n<p>Thank you</p>\n<p>I searched many posts and one way I found was like this...</p>\n<pre><code>Map&lt;String, String&gt; env = System.getenv();\nField field = env.getClass().getDeclaredField(&quot;m&quot;);\nfield.setAccessible(true);\n((Map&lt;String, String&gt;) field.get(env)).put(name, val);\n</code></pre>\n<p>But I don't like to modify unmodifiable Collection.</p>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"account_id":2345160,"reputation":451,"user_id":2055624,"accept_rate":73,"display_name":"nap.gab"},"score":0,"creation_date":1369308005,"post_id":16712391,"comment_id":24058972,"body_markdown":"Post all your method if you want help...","body":"Post all your method if you want help..."},{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1369308067,"post_id":16712391,"comment_id":24059006,"body_markdown":"Don&#39;t expect to get much help by sharing just one line of code.","body":"Don&#39;t expect to get much help by sharing just one line of code."}],"answers":[{"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1688570876,"creation_date":1369308790,"answer_id":16712849,"question_id":16712391,"body_markdown":"You can&#39;t reuse the same `InputSource` for multiple `evaluate()` invocations because it&#39;s automatically closed. Hence you&#39;re getting the `Stream closed` IO exception. Try this\r\n```java\r\nInputSource source1 = new InputSource(new StringReader(xml));\r\nInputSource source2 = new InputSource(new StringReader(xml));\r\n\r\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, source1);\r\nString status = xpath.evaluate(&quot;/resp/status&quot;, source2);\r\n\r\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\r\n```\r\n***EDIT:***&lt;br /&gt;\r\nA better approach would be to use a `DocumentBuilderFactory` to parse your XML and build a `Document` first (using JAXP&#39;s DOM APIs) which can then be reused across several XPath evaluations.\r\n```java\r\nString xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\r\n\t\t\r\nInputSource source = new InputSource(new StringReader(xml));\r\n\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\nDocumentBuilder db = dbf.newDocumentBuilder();\r\nDocument document = db.parse(source);\r\n\t\t\r\nXPathFactory xpathFactory = XPathFactory.newInstance();\r\nXPath xpath = xpathFactory.newXPath();\r\n\r\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, document);\r\nString status = xpath.evaluate(&quot;/resp/status&quot;, document);\r\n\r\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\r\n```","title":"Parse XML Simple String using Java XPath","body":"<p>You can't reuse the same <code>InputSource</code> for multiple <code>evaluate()</code> invocations because it's automatically closed. Hence you're getting the <code>Stream closed</code> IO exception. Try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputSource source1 = new InputSource(new StringReader(xml));\nInputSource source2 = new InputSource(new StringReader(xml));\n\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, source1);\nString status = xpath.evaluate(&quot;/resp/status&quot;, source2);\n\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\n</code></pre>\n<p><em><strong>EDIT:</strong></em><br />\nA better approach would be to use a <code>DocumentBuilderFactory</code> to parse your XML and build a <code>Document</code> first (using JAXP's DOM APIs) which can then be reused across several XPath evaluations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\n        \nInputSource source = new InputSource(new StringReader(xml));\n\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument document = db.parse(source);\n        \nXPathFactory xpathFactory = XPathFactory.newInstance();\nXPath xpath = xpathFactory.newXPath();\n\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, document);\nString status = xpath.evaluate(&quot;/resp/status&quot;, document);\n\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1369312742,"creation_date":1369312742,"answer_id":16714178,"question_id":16712391,"body_markdown":"[Ravi&#39;s solution][1] can also be expressed as:\r\n\r\n    String xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\r\n\r\n    XPathFactory xpathFactory = XPathFactory.newInstance();\r\n    XPath xpath = xpathFactory.newXPath();\r\n\r\n    InputSource source = new InputSource(new StringReader(xml));\r\n    Document doc = (Document) xpath.evaluate(&quot;/&quot;, source, XPathConstants.NODE);\r\n    String status = xpath.evaluate(&quot;/resp/status&quot;, doc);\r\n    String msg = xpath.evaluate(&quot;/resp/msg&quot;, doc);\r\n\r\n    System.out.println(&quot;status=&quot; + status);\r\n    System.out.println(&quot;Message=&quot; + msg);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16712849/304","title":"Parse XML Simple String using Java XPath","body":"<p><a href=\"https://stackoverflow.com/a/16712849/304\">Ravi's solution</a> can also be expressed as:</p>\n\n<pre><code>String xml = \"&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\";\n\nXPathFactory xpathFactory = XPathFactory.newInstance();\nXPath xpath = xpathFactory.newXPath();\n\nInputSource source = new InputSource(new StringReader(xml));\nDocument doc = (Document) xpath.evaluate(\"/\", source, XPathConstants.NODE);\nString status = xpath.evaluate(\"/resp/status\", doc);\nString msg = xpath.evaluate(\"/resp/msg\", doc);\n\nSystem.out.println(\"status=\" + status);\nSystem.out.println(\"Message=\" + msg);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1424104683,"creation_date":1382295067,"answer_id":19481412,"question_id":16712391,"body_markdown":"You can try [`jcabi-xml`](http://xml.jcabi.com/), which does DOM manipulations behind the scene:\r\n\r\n    import com.jcabi.xml.XML;\r\n    import com.jcabi.xml.XMLDocument;\r\n    XML xml = new XMLDocument(&quot;&lt;resp&gt;...&lt;/resp&gt;&quot;);\r\n    String status = xml.xpath(&quot;/resp/status/text()&quot;).get(0);","title":"Parse XML Simple String using Java XPath","body":"<p>You can try <a href=\"http://xml.jcabi.com/\" rel=\"noreferrer\"><code>jcabi-xml</code></a>, which does DOM manipulations behind the scene:</p>\n\n<pre><code>import com.jcabi.xml.XML;\nimport com.jcabi.xml.XMLDocument;\nXML xml = new XMLDocument(\"&lt;resp&gt;...&lt;/resp&gt;\");\nString status = xml.xpath(\"/resp/status/text()\").get(0);\n</code></pre>\n"}],"owner":{"account_id":2701017,"reputation":1642,"user_id":2331746,"accept_rate":98,"display_name":"Waqas Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81633,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":16712849,"answer_count":3,"score":38,"last_activity_date":1688570876,"creation_date":1369307381,"question_id":16712391,"body_markdown":"I have XML String like this \r\n\r\n    &lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\r\n\r\nI follow this help\r\n\r\nhttps://stackoverflow.com/questions/807418/simplest-way-to-query-xml-in-java\r\n\r\nMyCode:\r\n\r\n    public static void main(String args[]) {\r\n\t\r\n\t\tString xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\r\n\r\n\t\tXPathFactory xpathFactory = XPathFactory.newInstance();\r\n\t\tXPath xpath = xpathFactory.newXPath();\r\n\r\n\t\tInputSource source = new InputSource(new StringReader(xml));\r\n\t\t\r\n\t\tString status = &quot;&quot;;\r\n\t\tString msg = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tstatus = (String) xpath.evaluate(&quot;/resp/status&quot;, source,XPathConstants.STRING);\r\n\t\t\tmsg = (String) xpath.evaluate(&quot;/resp/msg&quot;, source,XPathConstants.STRING);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;status=&quot; + status);\r\n\t\tSystem.out.println(&quot;Message=&quot; + msg);\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\nI want to get msg node value but i got exception \r\n\r\n\r\n    java.io.IOException: Stream closed\r\n\tat java.io.StringReader.ensureOpen(StringReader.java:39)\r\n\tat java.io.StringReader.read(StringReader.java:73)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\r\n\tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\r\n\tat Parsing.main(Parsing.java:25)--------------- linked to ------------------\r\n    javax.xml.xpath.XPathExpressionException\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:475)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\r\n\tat Parsing.main(Parsing.java:25)\r\n    Caused by: java.io.IOException: Stream closed\r\n\tat java.io.StringReader.ensureOpen(StringReader.java:39)\r\n\tat java.io.StringReader.read(StringReader.java:73)\r\n\tat     com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\r\n\tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\r\n\t... 2 more\r\n\r\nI am not going to use some external library for this simple task. please guide me how to get other node&#39;s values. \r\nThanks","title":"Parse XML Simple String using Java XPath","body":"<p>I have XML String like this </p>\n\n<pre><code>&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\n</code></pre>\n\n<p>I follow this help</p>\n\n<p><a href=\"https://stackoverflow.com/questions/807418/simplest-way-to-query-xml-in-java\">Simplest way to query XML in Java</a></p>\n\n<p>MyCode:</p>\n\n<pre><code>public static void main(String args[]) {\n\n    String xml = \"&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\";\n\n    XPathFactory xpathFactory = XPathFactory.newInstance();\n    XPath xpath = xpathFactory.newXPath();\n\n    InputSource source = new InputSource(new StringReader(xml));\n\n    String status = \"\";\n    String msg = \"\";\n    try {\n        status = (String) xpath.evaluate(\"/resp/status\", source,XPathConstants.STRING);\n        msg = (String) xpath.evaluate(\"/resp/msg\", source,XPathConstants.STRING);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    System.out.println(\"status=\" + status);\n    System.out.println(\"Message=\" + msg);\n\n\n}\n</code></pre>\n\n<p>I want to get msg node value but i got exception </p>\n\n<pre><code>java.io.IOException: Stream closed\nat java.io.StringReader.ensureOpen(StringReader.java:39)\nat java.io.StringReader.read(StringReader.java:73)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\nat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\nat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\nat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\nat Parsing.main(Parsing.java:25)--------------- linked to ------------------\njavax.xml.xpath.XPathExpressionException\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:475)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\nat Parsing.main(Parsing.java:25)\nCaused by: java.io.IOException: Stream closed\nat java.io.StringReader.ensureOpen(StringReader.java:39)\nat java.io.StringReader.read(StringReader.java:73)\nat     com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\nat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\nat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\nat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\n... 2 more\n</code></pre>\n\n<p>I am not going to use some external library for this simple task. please guide me how to get other node's values. \nThanks</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","publish-subscribe"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1688574881,"post_id":76621128,"comment_id":135092967,"body_markdown":"You can use Kafka for downstream but I would rather put it before your component. Currently, You want a REST API that works like a query. I can imagine every vendor sends price information into Kafka, and you read and save them.","body":"You can use Kafka for downstream but I would rather put it before your component. Currently, You want a REST API that works like a query. I can imagine every vendor sends price information into Kafka, and you read and save them."}],"owner":{"account_id":2872559,"reputation":79,"user_id":2465532,"display_name":"ss-ss-v1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688570673,"creation_date":1688565763,"question_id":76621128,"body_markdown":"I am working upon one e-commerce Spring boot app with spring integration, spring web.\r\n\r\nmy requirement is to develop the Spring App which is sort of e-commerce app but I am not able to find good reference to build this.\r\n\r\nmy requirement is below:\r\n\r\n\r\n**A number of vendors provide price information for product; a product will have different prices from different vendors. Price data from each vendor is to be cached in a local data store(mysql) and then distributed to interested downstream systems. The cache will have services to allow clients to publish and retrieve data from the store. Clients are interested in getting all prices from a particular vendor or prices for a single product from various vendors. Prices older than 30 days must be removed from the cache**\r\n\r\n\r\nI want to use **Spring boot(or spring integration)** with **caching** along with **pub-sub** mechanism in it with **Kafka**.\r\n\r\nhow can I develop such an App, any leads or reference would be highly appreciated.\r\n\r\n-Thanks","title":"Could not build Spring boot app with cache and pub sub with Kafka","body":"<p>I am working upon one e-commerce Spring boot app with spring integration, spring web.</p>\n<p>my requirement is to develop the Spring App which is sort of e-commerce app but I am not able to find good reference to build this.</p>\n<p>my requirement is below:</p>\n<p><strong>A number of vendors provide price information for product; a product will have different prices from different vendors. Price data from each vendor is to be cached in a local data store(mysql) and then distributed to interested downstream systems. The cache will have services to allow clients to publish and retrieve data from the store. Clients are interested in getting all prices from a particular vendor or prices for a single product from various vendors. Prices older than 30 days must be removed from the cache</strong></p>\n<p>I want to use <strong>Spring boot(or spring integration)</strong> with <strong>caching</strong> along with <strong>pub-sub</strong> mechanism in it with <strong>Kafka</strong>.</p>\n<p>how can I develop such an App, any leads or reference would be highly appreciated.</p>\n<p>-Thanks</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688570530,"creation_date":1688570530,"answer_id":76621794,"question_id":76620954,"body_markdown":"Kafka has no capabilities to know about producers sending to any topic. You&#39;d need to integrate external tooling with producer certificate management and/or interceptors to emit/collect data from clients ","title":"Producer and consumer details for a specific kafka topic","body":"<p>Kafka has no capabilities to know about producers sending to any topic. You'd need to integrate external tooling with producer certificate management and/or interceptors to emit/collect data from clients</p>\n"}],"owner":{"account_id":10059571,"reputation":59,"user_id":7436732,"display_name":"Pramod Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688570530,"creation_date":1688564567,"question_id":76620954,"body_markdown":"Want to understand how to get producer details for any specific kafka topic using java","title":"Producer and consumer details for a specific kafka topic","body":"<p>Want to understand how to get producer details for any specific kafka topic using java</p>\n"},{"tags":["java","proxy","grpc","micronaut"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688570453,"creation_date":1688570453,"answer_id":76621784,"question_id":76603634,"body_markdown":"There is [such an example](https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/grpcproxy/GrpcProxy.java) in grpc-java.\r\n\r\nYou are right that the core of it should be to implement a `ServerCallHandler`. You will also need a `MethodDescriptor` and to package them together into a `ServerMethodDefinition`.\r\n\r\nThe example uses a fallback `HandlerRegistry` to proxy all methods, but if you only need static proxying you could create a `ServerServiceDefinition` (essentially a set of `ServerMethodDefinitions` for one service) for each service you want proxied and add it to the `ServerBuilder` as normal: `serverBuilder.addService()`.\r\n\r\nThe rest of the example is gluing the client and server calls together, with proper flow control for streaming RPCs.","title":"Micronaut generic GRPC proxy","body":"<p>There is <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/grpcproxy/GrpcProxy.java\" rel=\"nofollow noreferrer\">such an example</a> in grpc-java.</p>\n<p>You are right that the core of it should be to implement a <code>ServerCallHandler</code>. You will also need a <code>MethodDescriptor</code> and to package them together into a <code>ServerMethodDefinition</code>.</p>\n<p>The example uses a fallback <code>HandlerRegistry</code> to proxy all methods, but if you only need static proxying you could create a <code>ServerServiceDefinition</code> (essentially a set of <code>ServerMethodDefinitions</code> for one service) for each service you want proxied and add it to the <code>ServerBuilder</code> as normal: <code>serverBuilder.addService()</code>.</p>\n<p>The rest of the example is gluing the client and server calls together, with proper flow control for streaming RPCs.</p>\n"}],"owner":{"account_id":20712417,"reputation":136,"user_id":15208738,"display_name":"frblazquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76621784,"answer_count":1,"score":0,"last_activity_date":1688570453,"creation_date":1688377913,"question_id":76603634,"body_markdown":"In the process of replacing an old legacy service by a new one we want to temporarily forward the requests reaching the new service to the legacy one. For HTTP requests we achieve this with a custom [HttpFilter][1]:\r\n```\r\n@Filter(&quot;/**/legacy-service/**&quot;)\r\npublic class LegacyHttpProxyFilter implements HttpFilter {\r\n\r\n  @Inject\r\n  @Named(&quot;legacy-http-client&quot;)\r\n  private ProxyHttpClient httpClient;\r\n\r\n  @Override\r\n  public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\r\n    return httpClient.proxy(request);\r\n  }\r\n}\r\n```\r\nThe analogous approach for GRPC would be something similar to this with a [ServerInterceptor][2]:\r\n```\r\n@Singleton\r\npublic class LegacyGrpcProxyInterceptor implements ServerInterceptor {\r\n\r\n  @Inject\r\n  @Named(&quot;legacy-grpc-client&quot;)\r\n  MyLegacyServiceGrpc.MyLegacyServiceStub legacyServiceStub;\r\n\r\n  @Override\r\n  public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; call, Metadata headers, ServerCallHandler&lt;ReqT, RespT&gt; next) {\r\n    return null; // How to handle GRPC requests in a generic way?\r\n  }\r\n}\r\n```\r\nThe difference is that with a *ProxyHttpClient* we can forward any HTTP request, while this doesn&#39;t seem to be possible with *MyLegacyServiceStub* GRPC stub. It looks like the right approach is to implement a custom [ServerCallHandler][3] but I don&#39;t really see how, any example would be highly appreciated.\\\r\n\\\r\n**How can I forward any incoming GRPC request?**\r\n\r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/api/io/micronaut/http/filter/HttpFilter.html\r\n  [2]: https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerInterceptor.html\r\n  [3]: https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerCallHandler.html","title":"Micronaut generic GRPC proxy","body":"<p>In the process of replacing an old legacy service by a new one we want to temporarily forward the requests reaching the new service to the legacy one. For HTTP requests we achieve this with a custom <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/http/filter/HttpFilter.html\" rel=\"nofollow noreferrer\">HttpFilter</a>:</p>\n<pre><code>@Filter(&quot;/**/legacy-service/**&quot;)\npublic class LegacyHttpProxyFilter implements HttpFilter {\n\n  @Inject\n  @Named(&quot;legacy-http-client&quot;)\n  private ProxyHttpClient httpClient;\n\n  @Override\n  public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\n    return httpClient.proxy(request);\n  }\n}\n</code></pre>\n<p>The analogous approach for GRPC would be something similar to this with a <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerInterceptor.html\" rel=\"nofollow noreferrer\">ServerInterceptor</a>:</p>\n<pre><code>@Singleton\npublic class LegacyGrpcProxyInterceptor implements ServerInterceptor {\n\n  @Inject\n  @Named(&quot;legacy-grpc-client&quot;)\n  MyLegacyServiceGrpc.MyLegacyServiceStub legacyServiceStub;\n\n  @Override\n  public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; call, Metadata headers, ServerCallHandler&lt;ReqT, RespT&gt; next) {\n    return null; // How to handle GRPC requests in a generic way?\n  }\n}\n</code></pre>\n<p>The difference is that with a <em>ProxyHttpClient</em> we can forward any HTTP request, while this doesn't seem to be possible with <em>MyLegacyServiceStub</em> GRPC stub. It looks like the right approach is to implement a custom <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerCallHandler.html\" rel=\"nofollow noreferrer\">ServerCallHandler</a> but I don't really see how, any example would be highly appreciated.<br />\n<br />\n<strong>How can I forward any incoming GRPC request?</strong></p>\n"},{"tags":["java","kotlin","gradle","gradle-plugin","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1688565750,"post_id":76618459,"comment_id":135090674,"body_markdown":"Are you wanting to publish this plugin and share it with other projects that are not part of this code base, or are you wanting to use this plugin only among submodules of the same code base? I need to understand a bit more about your goals before I can make a good suggestion.","body":"Are you wanting to publish this plugin and share it with other projects that are not part of this code base, or are you wanting to use this plugin only among submodules of the same code base? I need to understand a bit more about your goals before I can make a good suggestion."},{"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"score":0,"creation_date":1688569843,"post_id":76618459,"comment_id":135091729,"body_markdown":"Hi, @GreenSaguaro, thanks for asking, I&#39;m planning to do both, use it from the same code base, and publish it to use in other projects","body":"Hi, @GreenSaguaro, thanks for asking, I&#39;m planning to do both, use it from the same code base, and publish it to use in other projects"},{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":1,"creation_date":1688569976,"post_id":76618459,"comment_id":135091765,"body_markdown":"For disclosure, I have not attempted to do this before, I usually publish a plugin, or use convention files. But you need to do both. One thing I see is that you are doing `apply(plugin = &quot;my-test-plugin&quot;)`. This should not be necessary as `id(&quot;my-test-plugin&quot;)` should already be applying the plugin. What do you get if you remove `apply(plugin = &quot;my-test-plugin&quot;)`?","body":"For disclosure, I have not attempted to do this before, I usually publish a plugin, or use convention files. But you need to do both. One thing I see is that you are doing <code>apply(plugin = &quot;my-test-plugin&quot;)</code>. This should not be necessary as <code>id(&quot;my-test-plugin&quot;)</code> should already be applying the plugin. What do you get if you remove <code>apply(plugin = &quot;my-test-plugin&quot;)</code>?"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":1,"creation_date":1688574027,"post_id":76618459,"comment_id":135092786,"body_markdown":"Instead of specifying `my-test-plugin` inside of `pluginManagement { plugins {} }` instead add it in the top-level plugins block, i.e. `plugins { id(&quot;my-test-plugin&quot;) }`.","body":"Instead of specifying <code>my-test-plugin</code> inside of <code>pluginManagement { plugins {} }</code> instead add it in the top-level plugins block, i.e. <code>plugins { id(&quot;my-test-plugin&quot;) }</code>."},{"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"score":1,"creation_date":1688634150,"post_id":76618459,"comment_id":135100992,"body_markdown":"Thank you @GreenSaguaro! You are absolutely right, I&#39;ve changed it to the `plugins {\n\tid(&quot;eu.sunny.gradle.plugins.my-test-plugin&quot;)\n}` and it&#39;s enough to apply the plugin. Just as for now I&#39;m using a pre-built plugin, `url = uri(&quot;file://${rootProject.projectDir}/sanny-gradle-plugins/build/repo&quot;)`, but I think even this is not needed. Will write the final working solutions later or","body":"Thank you @GreenSaguaro! You are absolutely right, I&#39;ve changed it to the <code>plugins { \tid(&quot;eu.sunny.gradle.plugins.my-test-plugin&quot;) }</code> and it&#39;s enough to apply the plugin. Just as for now I&#39;m using a pre-built plugin, <code>url = uri(&quot;file:&#47;&#47;${rootProject.projectDir}&#47;sanny-gradle-plugins&#47;b&zwnj;&#8203;uild&#47;repo&quot;)</code>, but I think even this is not needed. Will write the final working solutions later or"},{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1688648780,"post_id":76618459,"comment_id":135104276,"body_markdown":"@AlexanderArutinyants So it is correctly applying the plugin when you remove `apply(plugin = &quot;my-test-plugin&quot;)`?","body":"@AlexanderArutinyants So it is correctly applying the plugin when you remove <code>apply(plugin = &quot;my-test-plugin&quot;)</code>?"},{"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"score":0,"creation_date":1689318601,"post_id":76618459,"comment_id":135199243,"body_markdown":"Yes, @GreenSaguaro. So far with `plugins { id(&quot;my-test-plugin&quot;) }` and `pluginManagement {\n    includeBuild(&quot;sanny-gradle-plugins&quot;) }` it seems to apply the plugin and work correctly...","body":"Yes, @GreenSaguaro. So far with <code>plugins { id(&quot;my-test-plugin&quot;) }</code> and <code>pluginManagement {     includeBuild(&quot;sanny-gradle-plugins&quot;) }</code> it seems to apply the plugin and work correctly..."}],"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688569944,"creation_date":1688545796,"question_id":76618459,"body_markdown":"I have a Gradle 8.1 project named `core` (It&#39;s a library, that will be published and used in other projects)\r\n\r\nInside the project, I have several modules (multi-project)\r\n\r\nOne of the modules is: `sanny-gradle-plugins`. It has a plugin\r\n\r\n`sanny-gradle-plugins`: `eu.sanny.core.gradle.plugins.MyTestPlugin`\r\n\r\n```kotlin\r\nclass MyTestPlugin : Plugin&lt;Settings&gt; {\r\n\toverride fun apply(settings: Settings) {\r\n\t\tprintln(&quot;Hello sanny 1&quot;)\r\n\t\tprintln(&quot;Plugin ${this.javaClass.simpleName} applied on ${settings.rootProject.name}&quot;)\r\n\t\tsettings.gradle.beforeProject {\r\n\t\t\tprintln(&quot;Hello sanny 2&quot;)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe plugin is intended to be used for the `core` multi-module library itself and later on in other projects that will be dependant on the `core` library\r\n\r\nAnd `sanny-gradle-plugins/build.gradle.kts` file, looks like this:\r\n\r\n\r\n```kotlin\r\nplugins {\r\n\t`kotlin-dsl`\r\n\t`java-gradle-plugin`\r\n\t`maven-publish`\r\n}\r\n\r\ndependencies {\r\n\timplementation(kotlin(&quot;stdlib&quot;))\r\n\timplementation(gradleApi())\r\n}\r\n\r\ngradlePlugin {\r\n\tplugins {\r\n\t\tcreate(&quot;my-test-plugin&quot;) {\r\n\t\t\tid = &quot;my-test-plugin&quot;\r\n\t\t\tdisplayName = &quot;My Test Plugin&quot;\r\n\t\t\timplementationClass = &quot;eu.sanny.core.gradle.plugins.MyTestPlugin&quot;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAlso I have `resources/META-INF/gradle-plugins/my-test-plugin.properties` file (just in case):\r\n\r\n```\r\nimplementation-class=eu.sanny.core.gradle.plugins.MyTestPlugin\r\n```\r\n\r\nI have a `settings.gradle.kts` file in the parent `core` project:\r\n\r\n```kotlin\r\npluginManagement {\r\n\tincludeBuild(&quot;sanny-gradle-plugins&quot;)\r\n\trepositories {\r\n\t\tmavenLocal()\r\n\t}\r\n\r\n\tplugins {\r\n\t\tval springBootPluginVersion: String by settings\r\n\t\tval kotlinPluginVersion: String by settings\r\n\r\n\t\tid(&quot;my-test-plugin&quot;)\r\n\t\tkotlin(&quot;jvm&quot;) version kotlinPluginVersion\r\n\t\tkotlin(&quot;plugin.spring&quot;) version kotlinPluginVersion\r\n\t\tkotlin(&quot;plugin.jpa&quot;) version kotlinPluginVersion\r\n\t}\r\n\r\n    // when I&#39;m applying the plugin I&#39;m getting an error\r\n\tapply(plugin = &quot;my-test-plugin&quot;)\r\n\r\n...\r\n```\r\n\r\nwhen I build the project I get an error: `Plugin with id &#39;my-test-plugin&#39; not found.`\r\n\r\nI&#39;ve tried to put the `apply(plugin = &quot;my-test-plugin&quot;)` before and inside the `pluginManagement` section as well - it does not help.\r\n\r\nWhy is this error happening and how to fix it?","title":"Cannot apply custom gradle settings plugin to a settings.gradle in multi-project. Plugin with id &#39;&#39; not found, on a composite build","body":"<p>I have a Gradle 8.1 project named <code>core</code> (It's a library, that will be published and used in other projects)</p>\n<p>Inside the project, I have several modules (multi-project)</p>\n<p>One of the modules is: <code>sanny-gradle-plugins</code>. It has a plugin</p>\n<p><code>sanny-gradle-plugins</code>: <code>eu.sanny.core.gradle.plugins.MyTestPlugin</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyTestPlugin : Plugin&lt;Settings&gt; {\n    override fun apply(settings: Settings) {\n        println(&quot;Hello sanny 1&quot;)\n        println(&quot;Plugin ${this.javaClass.simpleName} applied on ${settings.rootProject.name}&quot;)\n        settings.gradle.beforeProject {\n            println(&quot;Hello sanny 2&quot;)\n        }\n    }\n}\n\n</code></pre>\n<p>The plugin is intended to be used for the <code>core</code> multi-module library itself and later on in other projects that will be dependant on the <code>core</code> library</p>\n<p>And <code>sanny-gradle-plugins/build.gradle.kts</code> file, looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    `kotlin-dsl`\n    `java-gradle-plugin`\n    `maven-publish`\n}\n\ndependencies {\n    implementation(kotlin(&quot;stdlib&quot;))\n    implementation(gradleApi())\n}\n\ngradlePlugin {\n    plugins {\n        create(&quot;my-test-plugin&quot;) {\n            id = &quot;my-test-plugin&quot;\n            displayName = &quot;My Test Plugin&quot;\n            implementationClass = &quot;eu.sanny.core.gradle.plugins.MyTestPlugin&quot;\n        }\n    }\n}\n</code></pre>\n<p>Also I have <code>resources/META-INF/gradle-plugins/my-test-plugin.properties</code> file (just in case):</p>\n<pre><code>implementation-class=eu.sanny.core.gradle.plugins.MyTestPlugin\n</code></pre>\n<p>I have a <code>settings.gradle.kts</code> file in the parent <code>core</code> project:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>pluginManagement {\n    includeBuild(&quot;sanny-gradle-plugins&quot;)\n    repositories {\n        mavenLocal()\n    }\n\n    plugins {\n        val springBootPluginVersion: String by settings\n        val kotlinPluginVersion: String by settings\n\n        id(&quot;my-test-plugin&quot;)\n        kotlin(&quot;jvm&quot;) version kotlinPluginVersion\n        kotlin(&quot;plugin.spring&quot;) version kotlinPluginVersion\n        kotlin(&quot;plugin.jpa&quot;) version kotlinPluginVersion\n    }\n\n    // when I'm applying the plugin I'm getting an error\n    apply(plugin = &quot;my-test-plugin&quot;)\n\n...\n</code></pre>\n<p>when I build the project I get an error: <code>Plugin with id 'my-test-plugin' not found.</code></p>\n<p>I've tried to put the <code>apply(plugin = &quot;my-test-plugin&quot;)</code> before and inside the <code>pluginManagement</code> section as well - it does not help.</p>\n<p>Why is this error happening and how to fix it?</p>\n"},{"tags":["java","testing","junit","integration","pitest"],"answers":[{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688569904,"creation_date":1688569904,"answer_id":76621712,"question_id":76615514,"body_markdown":"It looks as if you have tests in a seperate module from the code. Pitest does not support this.","title":"Pitest is not finding my JUNIT tests on &lt;targetTests&gt; param","body":"<p>It looks as if you have tests in a seperate module from the code. Pitest does not support this.</p>\n"}],"owner":{"account_id":17017364,"reputation":21,"user_id":12310872,"display_name":"NotInCheck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688569904,"creation_date":1688500099,"question_id":76615514,"body_markdown":"I introduced the Pitest as a stage in our development schedule, but in one of the project it is not working and generating this info message:\r\n\r\nSkipping project because:\r\n[INFO]   - Project has no tests, it is empty.\r\n\r\n\r\nResearching we found out could be something with the project structure: https://github.com/hcoles/pitest/issues/361\r\n\r\nPOM with Pitest:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.14.2&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;outputFormats&gt;\r\n\t\t\t&lt;outputFormat&gt;XML&lt;/outputFormat&gt;\r\n\t\t\t&lt;outputFormat&gt;HTML&lt;/outputFormat&gt;\r\n\t\t&lt;/outputFormats&gt;\r\n\t\t&lt;targetClasses&gt;\r\n\t\t\t&lt;!-- Update with your target classes/packages for mutation testing --&gt;\r\n\t\t\t&lt;param&gt;br.com.company.project.operations&lt;/param&gt;\r\n\t\t&lt;/targetClasses&gt;\r\n\t\t&lt;targetTests&gt;\r\n\t\t\t&lt;!-- Update with your test classes/packages --&gt;\r\n\t\t\t&lt;param&gt;br.com.company.project.junit.tests&lt;/param&gt;\r\n\t\t&lt;/targetTests&gt;\r\n\t\t&lt;exportLineCoverage&gt;true&lt;/exportLineCoverage&gt;\r\n\t\t&lt;!--We want each report to override the former one--&gt;\r\n\t\t&lt;timestampedReports&gt;false&lt;/timestampedReports&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;pitest-mutation-testing&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;mutationCoverage&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n\r\n&lt;reporting&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.14.2&lt;/version&gt;\r\n\t\t\t&lt;reportSets&gt;\r\n\t\t\t\t&lt;reportSet&gt;\r\n\t\t\t\t\t&lt;reports&gt;\r\n\t\t\t\t\t\t&lt;report&gt;report&lt;/report&gt;\r\n\t\t\t\t\t&lt;/reports&gt;\r\n\t\t\t\t&lt;/reportSet&gt;\r\n\t\t\t&lt;/reportSets&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/reporting&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.14&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nProject Structure\r\n\r\n```\r\n├───CompanyProjectSaaS_Commons\r\n│   ├───.settings\r\n│   ├───module\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───commons\r\n│   │                       ├───pojo\r\n│   │                       └───utils\r\n│   └───target\r\n│       ├───classes\r\n│       │   ├───br\r\n│       │   │   └───com\r\n│       │   │       └───company\r\n│       │   │           └───project\r\n│       │   │               └───commons\r\n│       │   │                   ├───pojo\r\n│       │   │                   └───utils\r\n│       │   └───test\r\n│       │       └───java\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───generated-test-sources\r\n│       │   └───test-annotations\r\n│       ├───maven-archiver\r\n│       ├───maven-status\r\n│       │   └───maven-compiler-plugin\r\n│       │       ├───compile\r\n│       │       │   └───default-compile\r\n│       │       └───testCompile\r\n│       │           └───default-testCompile\r\n│       ├───pit-reports\r\n│       │   ├───202307041032\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041034\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041048\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041103\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041127\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───br.com.company.project.commons.utils\r\n│       │   └───br.com.company.project.commons.utils.test\r\n│       └───test-classes\r\n│           └───test\r\n│               └───java\r\n├───CompanyProjectSaaS_Constants\r\n│   ├───.settings\r\n│   ├───module\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───constants\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───constants\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_Grpc\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───main\r\n│   │       ├───java\r\n│   │       │   └───br\r\n│   │       │       └───com\r\n│   │       │           └───company\r\n│   │       │               └───project\r\n│   │       │                   └───grpc\r\n│   │       └───resources\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───grpc\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_GrpcServer\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   │                       └───grpc\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       │                       └───grpc\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_JUnitTests\r\n│   ├───.settings\r\n│   ├───conf\r\n│   ├───simulator\r\n│   │   └───cryptoki_simulator\r\n│   │       ├───admin\r\n│   │       │   └───token\r\n│   │       ├───admin.linux\r\n│   │       │   └───token\r\n│   │       └───slot0\r\n│   │           └───token\r\n│   ├───src\r\n│   │   └───test\r\n│   │       └───java\r\n│   │           └───br\r\n│   │               └───com\r\n│   │                   └───company\r\n│   │                       └───project\r\n│   │                           └───junit\r\n│   │                               └───tests\r\n│   │                                   └───utils\r\n│   └───target\r\n│       ├───generated-test-sources\r\n│       │   └───test-annotations\r\n│       ├───maven-archiver\r\n│       ├───maven-status\r\n│       │   └───maven-compiler-plugin\r\n│       │       └───testCompile\r\n│       │           └───default-testCompile\r\n│       ├───surefire-reports\r\n│       └───test-classes\r\n│           ├───br\r\n│           │   └───com\r\n│           │       └───company\r\n│           │           └───project\r\n│           │               ├───commons\r\n│           │               │   └───utils\r\n│           │               └───junit\r\n│           │                   └───tests\r\n│           │                       └───utils\r\n│           └───test\r\n│               └───java\r\n│                   ├───br\r\n│                   │   └───com\r\n│                   │       └───company\r\n│                   │           └───project\r\n│                   │               └───junit\r\n│                   │                   └───tests\r\n│                   ├───commons\r\n│                   │   └───utils\r\n│                   └───junit\r\n│                       └───tests\r\n│                           └───utils\r\n├───CompanyprojectSaaS_Logger\r\n│   ├───.settings\r\n│   ├───module\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───logger\r\n│   │                       ├───pojo\r\n│   │                       ├───report\r\n│   │                       └───utils\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───logger\r\n│       │                       ├───pojo\r\n│       │                       ├───report\r\n│       │                       └───utils\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_PKCS11\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───pkcs11\r\n│   │                       ├───devices\r\n│   │                       ├───support\r\n│   │                       ├───token\r\n│   │                       │   └───asn1\r\n│   │                       └───utils\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───pkcs11\r\n│       │                       ├───devices\r\n│       │                       ├───support\r\n│       │                       ├───token\r\n│       │                       │   └───asn1\r\n│       │                       └───utils\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_PKCS11SunWrapper\r\n│   ├───.settings\r\n│   ├───bin\r\n│   │   └───sun\r\n│   │       └───security\r\n│   │           └───pkcs11\r\n│   ├───module\r\n│   ├───src\r\n│   │   ├───jdk\r\n│   │   │   └───internal\r\n│   │   │       ├───misc\r\n│   │   │       ├───ref\r\n│   │   │       └───util\r\n│   │   └───sun\r\n│   │       ├───net\r\n│   │       │   └───www\r\n│   │       ├───nio\r\n│   │       │   ├───ch\r\n│   │       │   └───cs\r\n│   │       ├───security\r\n│   │       │   ├───action\r\n│   │       │   ├───internal\r\n│   │       │   │   ├───interfaces\r\n│   │       │   │   └───spec\r\n│   │       │   ├───jca\r\n│   │       │   ├───pkcs\r\n│   │       │   ├───pkcs11\r\n│   │       │   │   └───wrapper\r\n│   │       │   ├───provider\r\n│   │       │   ├───rsa\r\n│   │       │   ├───util\r\n│   │       │   └───x509\r\n│   │       └───util\r\n│   │           └───calendar\r\n│   └───target\r\n│       ├───classes\r\n│       │   ├───jdk\r\n│       │   │   └───internal\r\n│       │   │       ├───misc\r\n│       │   │       ├───ref\r\n│       │   │       └───util\r\n│       │   └───sun\r\n│       │       ├───net\r\n│       │       │   └───www\r\n│       │       ├───nio\r\n│       │       │   ├───ch\r\n│       │       │   └───cs\r\n│       │       ├───security\r\n│       │       │   ├───action\r\n│       │       │   ├───internal\r\n│       │       │   │   ├───interfaces\r\n│       │       │   │   └───spec\r\n│       │       │   ├───jca\r\n│       │       │   ├───pkcs\r\n│       │       │   ├───pkcs11\r\n│       │       │   │   └───wrapper\r\n│       │       │   ├───provider\r\n│       │       │   ├───rsa\r\n│       │       │   ├───util\r\n│       │       │   └───x509\r\n│       │       └───util\r\n│       │           └───calendar\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_PKCS11Wrapper\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───pkcs11\r\n│   │                       └───wrapper\r\n│   │                           └───sun\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───pkcs11\r\n│       │                       └───wrapper\r\n│       │                           └───sun\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyProjectSaaS_Processor\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   │                       └───processor\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       │                       └───processor\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_Processors_Builder\r\n│   ├───.settings\r\n│   └───target\r\n│       └───antrun\r\n├───CompanyprojectSaaS_Processor_Example\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   ├───operations\r\n│   │                   │   └───jwedecrypt\r\n│   │                   └───processor\r\n│   │                       └───jwedecrypt\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   ├───operations\r\n│       │                   │   └───jwedecrypt\r\n│       │                   └───processor\r\n│       │                       └───jwedecrypt\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n\r\n[...] \r\n\r\n## There is a lot of this Processors, the structure are always the same as above.\r\n\r\n[...]\r\n\r\n├───CompanyprojectSaaS_RestServer\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   │                       └───rest\r\n│   │                           ├───controller\r\n│   │                           └───services\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       │                       └───rest\r\n│       │                           ├───controller\r\n│       │                           └───services\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyProjectSaaS_Server\r\n│   ├───.settings\r\n│   ├───config\r\n│   ├───logs\r\n│   │   └───history\r\n│   ├───processors\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   └───target\r\n│       ├───antrun\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n└───CompanyProjectSaaS_Server_Builder\r\n    ├───.settings\r\n    ├───build\r\n    │   ├───Depends\r\n    │   │   ├───docs\r\n    │   │   └───company_project\r\n    │   │       ├───config\r\n    │   │       ├───linux\r\n    │   │       ├───processors\r\n    │   │       └───windows\r\n    │   │           ├───x64\r\n    │   │           └───x86\r\n    │   ├───installer_files\r\n    │   └───installer_out\r\n    ├───dist\r\n    └───target\r\n        └───antrun\r\n```\r\n\r\n\r\n\r\n\r\nI tried to change the project structure and to add * in the target, but none of them worked. I was able to create a pitest for a test and source code that doesn&#39;t follow this structure.\r\n","title":"Pitest is not finding my JUNIT tests on &lt;targetTests&gt; param","body":"<p>I introduced the Pitest as a stage in our development schedule, but in one of the project it is not working and generating this info message:</p>\n<p>Skipping project because:\n[INFO]   - Project has no tests, it is empty.</p>\n<p>Researching we found out could be something with the project structure: <a href=\"https://github.com/hcoles/pitest/issues/361\" rel=\"nofollow noreferrer\">https://github.com/hcoles/pitest/issues/361</a></p>\n<p>POM with Pitest:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n    &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.14.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;outputFormats&gt;\n            &lt;outputFormat&gt;XML&lt;/outputFormat&gt;\n            &lt;outputFormat&gt;HTML&lt;/outputFormat&gt;\n        &lt;/outputFormats&gt;\n        &lt;targetClasses&gt;\n            &lt;!-- Update with your target classes/packages for mutation testing --&gt;\n            &lt;param&gt;br.com.company.project.operations&lt;/param&gt;\n        &lt;/targetClasses&gt;\n        &lt;targetTests&gt;\n            &lt;!-- Update with your test classes/packages --&gt;\n            &lt;param&gt;br.com.company.project.junit.tests&lt;/param&gt;\n        &lt;/targetTests&gt;\n        &lt;exportLineCoverage&gt;true&lt;/exportLineCoverage&gt;\n        &lt;!--We want each report to override the former one--&gt;\n        &lt;timestampedReports&gt;false&lt;/timestampedReports&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pitest-mutation-testing&lt;/id&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;mutationCoverage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n&lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n            &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n            &lt;version&gt;1.14.2&lt;/version&gt;\n            &lt;reportSets&gt;\n                &lt;reportSet&gt;\n                    &lt;reports&gt;\n                        &lt;report&gt;report&lt;/report&gt;\n                    &lt;/reports&gt;\n                &lt;/reportSet&gt;\n            &lt;/reportSets&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n    &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.14&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Project Structure</p>\n<pre><code>├───CompanyProjectSaaS_Commons\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───commons\n│   │                       ├───pojo\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   ├───br\n│       │   │   └───com\n│       │   │       └───company\n│       │   │           └───project\n│       │   │               └───commons\n│       │   │                   ├───pojo\n│       │   │                   └───utils\n│       │   └───test\n│       │       └───java\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───generated-test-sources\n│       │   └───test-annotations\n│       ├───maven-archiver\n│       ├───maven-status\n│       │   └───maven-compiler-plugin\n│       │       ├───compile\n│       │       │   └───default-compile\n│       │       └───testCompile\n│       │           └───default-testCompile\n│       ├───pit-reports\n│       │   ├───202307041032\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041034\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041048\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041103\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041127\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───br.com.company.project.commons.utils\n│       │   └───br.com.company.project.commons.utils.test\n│       └───test-classes\n│           └───test\n│               └───java\n├───CompanyProjectSaaS_Constants\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───constants\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───constants\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_Grpc\n│   ├───.settings\n│   ├───src\n│   │   └───main\n│   │       ├───java\n│   │       │   └───br\n│   │       │       └───com\n│   │       │           └───company\n│   │       │               └───project\n│   │       │                   └───grpc\n│   │       └───resources\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───grpc\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_GrpcServer\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───grpc\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───grpc\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_JUnitTests\n│   ├───.settings\n│   ├───conf\n│   ├───simulator\n│   │   └───cryptoki_simulator\n│   │       ├───admin\n│   │       │   └───token\n│   │       ├───admin.linux\n│   │       │   └───token\n│   │       └───slot0\n│   │           └───token\n│   ├───src\n│   │   └───test\n│   │       └───java\n│   │           └───br\n│   │               └───com\n│   │                   └───company\n│   │                       └───project\n│   │                           └───junit\n│   │                               └───tests\n│   │                                   └───utils\n│   └───target\n│       ├───generated-test-sources\n│       │   └───test-annotations\n│       ├───maven-archiver\n│       ├───maven-status\n│       │   └───maven-compiler-plugin\n│       │       └───testCompile\n│       │           └───default-testCompile\n│       ├───surefire-reports\n│       └───test-classes\n│           ├───br\n│           │   └───com\n│           │       └───company\n│           │           └───project\n│           │               ├───commons\n│           │               │   └───utils\n│           │               └───junit\n│           │                   └───tests\n│           │                       └───utils\n│           └───test\n│               └───java\n│                   ├───br\n│                   │   └───com\n│                   │       └───company\n│                   │           └───project\n│                   │               └───junit\n│                   │                   └───tests\n│                   ├───commons\n│                   │   └───utils\n│                   └───junit\n│                       └───tests\n│                           └───utils\n├───CompanyprojectSaaS_Logger\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───logger\n│   │                       ├───pojo\n│   │                       ├───report\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───logger\n│       │                       ├───pojo\n│       │                       ├───report\n│       │                       └───utils\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───pkcs11\n│   │                       ├───devices\n│   │                       ├───support\n│   │                       ├───token\n│   │                       │   └───asn1\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───pkcs11\n│       │                       ├───devices\n│       │                       ├───support\n│       │                       ├───token\n│       │                       │   └───asn1\n│       │                       └───utils\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11SunWrapper\n│   ├───.settings\n│   ├───bin\n│   │   └───sun\n│   │       └───security\n│   │           └───pkcs11\n│   ├───module\n│   ├───src\n│   │   ├───jdk\n│   │   │   └───internal\n│   │   │       ├───misc\n│   │   │       ├───ref\n│   │   │       └───util\n│   │   └───sun\n│   │       ├───net\n│   │       │   └───www\n│   │       ├───nio\n│   │       │   ├───ch\n│   │       │   └───cs\n│   │       ├───security\n│   │       │   ├───action\n│   │       │   ├───internal\n│   │       │   │   ├───interfaces\n│   │       │   │   └───spec\n│   │       │   ├───jca\n│   │       │   ├───pkcs\n│   │       │   ├───pkcs11\n│   │       │   │   └───wrapper\n│   │       │   ├───provider\n│   │       │   ├───rsa\n│   │       │   ├───util\n│   │       │   └───x509\n│   │       └───util\n│   │           └───calendar\n│   └───target\n│       ├───classes\n│       │   ├───jdk\n│       │   │   └───internal\n│       │   │       ├───misc\n│       │   │       ├───ref\n│       │   │       └───util\n│       │   └───sun\n│       │       ├───net\n│       │       │   └───www\n│       │       ├───nio\n│       │       │   ├───ch\n│       │       │   └───cs\n│       │       ├───security\n│       │       │   ├───action\n│       │       │   ├───internal\n│       │       │   │   ├───interfaces\n│       │       │   │   └───spec\n│       │       │   ├───jca\n│       │       │   ├───pkcs\n│       │       │   ├───pkcs11\n│       │       │   │   └───wrapper\n│       │       │   ├───provider\n│       │       │   ├───rsa\n│       │       │   ├───util\n│       │       │   └───x509\n│       │       └───util\n│       │           └───calendar\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11Wrapper\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───pkcs11\n│   │                       └───wrapper\n│   │                           └───sun\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───pkcs11\n│       │                       └───wrapper\n│       │                           └───sun\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyProjectSaaS_Processor\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───processor\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───processor\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_Processors_Builder\n│   ├───.settings\n│   └───target\n│       └───antrun\n├───CompanyprojectSaaS_Processor_Example\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   ├───operations\n│   │                   │   └───jwedecrypt\n│   │                   └───processor\n│   │                       └───jwedecrypt\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   ├───operations\n│       │                   │   └───jwedecrypt\n│       │                   └───processor\n│       │                       └───jwedecrypt\n│       ├───generated-sources\n│       │   └───annotations\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n\n[...] \n\n## There is a lot of this Processors, the structure are always the same as above.\n\n[...]\n\n├───CompanyprojectSaaS_RestServer\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───rest\n│   │                           ├───controller\n│   │                           └───services\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───rest\n│       │                           ├───controller\n│       │                           └───services\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyProjectSaaS_Server\n│   ├───.settings\n│   ├───config\n│   ├───logs\n│   │   └───history\n│   ├───processors\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   └───target\n│       ├───antrun\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n└───CompanyProjectSaaS_Server_Builder\n    ├───.settings\n    ├───build\n    │   ├───Depends\n    │   │   ├───docs\n    │   │   └───company_project\n    │   │       ├───config\n    │   │       ├───linux\n    │   │       ├───processors\n    │   │       └───windows\n    │   │           ├───x64\n    │   │           └───x86\n    │   ├───installer_files\n    │   └───installer_out\n    ├───dist\n    └───target\n        └───antrun\n</code></pre>\n<p>I tried to change the project structure and to add * in the target, but none of them worked. I was able to create a pitest for a test and source code that doesn't follow this structure.</p>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":12296955,"reputation":1424,"user_id":8972283,"display_name":"Francis Bartkowiak"},"score":1,"creation_date":1516802670,"post_id":48424308,"comment_id":83838176,"body_markdown":"Possible duplicate of [hibernate table does not exist error](https://stackoverflow.com/questions/4490981/hibernate-table-does-not-exist-error)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4490981/hibernate-table-does-not-exist-error\">hibernate table does not exist error</a>"},{"owner":{"account_id":6901589,"reputation":666,"user_id":5320403,"accept_rate":57,"display_name":"Salim Shamim"},"score":0,"creation_date":1516802821,"post_id":48424308,"comment_id":83838296,"body_markdown":"Possibly not as I have tried that solution and didn&#39;t worked @FrancisBartkowiak","body":"Possibly not as I have tried that solution and didn&#39;t worked @FrancisBartkowiak"},{"owner":{"account_id":4554718,"reputation":2128,"user_id":3698762,"accept_rate":38,"display_name":"Stefan"},"score":0,"creation_date":1516803210,"post_id":48424308,"comment_id":83838561,"body_markdown":"How did you generate the tables (i.e. employee) in your local database?","body":"How did you generate the tables (i.e. employee) in your local database?"},{"owner":{"account_id":6901589,"reputation":666,"user_id":5320403,"accept_rate":57,"display_name":"Salim Shamim"},"score":0,"creation_date":1516803859,"post_id":48424308,"comment_id":83839033,"body_markdown":"Please see the new edit","body":"Please see the new edit"},{"owner":{"account_id":3874110,"reputation":7800,"user_id":3208640,"display_name":"void"},"score":1,"creation_date":1516803925,"post_id":48424308,"comment_id":83839085,"body_markdown":"Use @Table annotation too for the entity","body":"Use @Table annotation too for the entity"}],"answers":[{"tags":[],"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516803206,"creation_date":1516803206,"answer_id":48424542,"question_id":48424308,"body_markdown":"add different auto option of hibernate,\r\n\r\nUse instead of `create` , `update` or `create-drop`\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;  \r\nor\r\n   \r\n\r\n     &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/property&gt;\r\n\r\n&gt; You can read more about it [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do","title":"Hibernate says database.table doesn&#39;t exist","body":"<p>add different auto option of hibernate,</p>\n\n<p>Use instead of <code>create</code> , <code>update</code> or <code>create-drop</code></p>\n\n<pre><code>&lt;property name=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/property&gt;  \n</code></pre>\n\n<p>or</p>\n\n<pre><code> &lt;property name=\"hibernate.hbm2ddl.auto\"&gt;create-drop&lt;/property&gt;\n</code></pre>\n\n<blockquote>\n  <p>You can read more about it <a href=\"https://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do\">here</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6901589,"reputation":666,"user_id":5320403,"accept_rate":57,"display_name":"Salim Shamim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1522252798,"creation_date":1516890766,"answer_id":48445331,"question_id":48424308,"body_markdown":"I made it worked, I am not sure if it&#39;s a proper answer but since it got it working I am posting it as an answer.\r\nI made **two changes**\r\n\r\n 1. I was using hibernate `version 5.2.12` so I changed it to 4.2.0 and added jars from two more folders which earlier I hadn&#39;t (In summary I have now imported Jars from :optional, provided &amp; required folder in hibernate user library)\r\n 2. I overlooked a url mistake which was \r\n\r\n        &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\nIn the dtd url I have not added `www`. It should have been\r\n\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n\t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \r\n\t\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;`\r\n\r\nSo, my mistake.\r\n\r\nAnyway, comments regarding improving this answer and why it made it work are deeply appreciated.\r\n","title":"Hibernate says database.table doesn&#39;t exist","body":"<p>I made it worked, I am not sure if it's a proper answer but since it got it working I am posting it as an answer.\nI made <strong>two changes</strong></p>\n\n<ol>\n<li>I was using hibernate <code>version 5.2.12</code> so I changed it to 4.2.0 and added jars from two more folders which earlier I hadn't (In summary I have now imported Jars from :optional, provided &amp; required folder in hibernate user library)</li>\n<li><p>I overlooked a url mistake which was </p>\n\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n    \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n    \"http://hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n</code></pre></li>\n</ol>\n\n<p>In the dtd url I have not added <code>www</code>. It should have been</p>\n\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n    \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\" \n    \"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;`\n</code></pre>\n\n<p>So, my mistake.</p>\n\n<p>Anyway, comments regarding improving this answer and why it made it work are deeply appreciated.</p>\n"},{"tags":[],"owner":{"account_id":23623054,"reputation":1,"user_id":17655979,"display_name":"Rohan Dhumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688569782,"creation_date":1688396079,"answer_id":76605891,"question_id":48424308,"body_markdown":"    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\r\nYou have not written mysql version in dialect property\r\n\r\nCorrection:\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\r\nHope this helps to you cause it certainly did for me.","title":"Hibernate says database.table doesn&#39;t exist","body":"<pre><code>&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n<p>You have not written mysql version in dialect property</p>\n<p>Correction:</p>\n<pre><code>&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n</code></pre>\n<p>Hope this helps to you cause it certainly did for me.</p>\n"}],"owner":{"account_id":6901589,"reputation":666,"user_id":5320403,"accept_rate":57,"display_name":"Salim Shamim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3855,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":48445331,"answer_count":3,"score":1,"last_activity_date":1688569782,"creation_date":1516802456,"question_id":48424308,"body_markdown":"**The Situation**\r\nOk, so I am learning Hibernate(from 2 days so pardon any blunder), I am using mysql database and just trying tocreate a table `Employee` and make an entry in database(A demonstration).\r\n\r\n**Here are the codes**\r\n\r\n**POJO:**\r\n\r\n    package com.sopra.pojo;\r\n    import javax.persistence.*;\r\n    @Entity\r\n    @Table(name = &quot;EMPLOYEE&quot;)\r\n    public class Employee {\r\n    \t@Id\r\n    \tprivate int Id;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \tprivate int salary;\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn Id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tId = id;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \r\n    \tpublic int getSalary() {\r\n    \t\treturn salary;\r\n    \t}\r\n    \r\n    \tpublic void setSalary(int salary) {\r\n    \t\tthis.salary = salary;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**hibernate.cfg.xml** which is in `src`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \t\t&lt;property name = &quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \t\t\r\n            &lt;mapping class=&quot;com.sopra.pojo.Employee&quot; /&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n**EmployeeDBManager.java**\r\n\r\n    package com.sopra.pojo;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    public class EmployeeDBManager {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tEmployee e = new Employee();\r\n    \t\te.setFirstName(&quot;Salim&quot;);\r\n    \t\te.setId(672);\r\n    \t\te.setLastName(&quot;Shamim&quot;);\r\n    \t\te.setSalary(266);\r\n    \t\tSessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\r\n    \t\tSession session =  sessionFactory.openSession();\r\n    \t\tTransaction tx =  session.beginTransaction();\r\n    \t\t\r\n    \t\tsession.persist(e);\r\n    \t\t\r\n    \t\ttx.commit();\r\n    \t\t\r\n    \t\tsession.close();\r\n    \t}\r\n    }\r\n\r\n**The Error**\r\n\r\n`Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;test.employee&#39; doesn&#39;t exist`\r\n\r\n\r\n**I&#39;ve tried**\r\n\r\n 1. use this in cfg file : `&lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;`\r\n 2. What is interesting is when I manually create the table in mysql using workbench, hibernate does drops it as when i use drop command it says the table doesn&#39;t exists.\r\n\r\nI can&#39;t figure out where the glitch might be(newbie and internet didn&#39;t helped).\r\nPlease mention any additional details required in comments.\r\nPlease help!\r\nThanks.","title":"Hibernate says database.table doesn&#39;t exist","body":"<p><strong>The Situation</strong>\nOk, so I am learning Hibernate(from 2 days so pardon any blunder), I am using mysql database and just trying tocreate a table <code>Employee</code> and make an entry in database(A demonstration).</p>\n\n<p><strong>Here are the codes</strong></p>\n\n<p><strong>POJO:</strong></p>\n\n<pre><code>package com.sopra.pojo;\nimport javax.persistence.*;\n@Entity\n@Table(name = \"EMPLOYEE\")\npublic class Employee {\n    @Id\n    private int Id;\n    private String firstName;\n    private String lastName;\n    private int salary;\n\n    public int getId() {\n        return Id;\n    }\n\n    public void setId(int id) {\n        Id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public int getSalary() {\n        return salary;\n    }\n\n    public void setSalary(int salary) {\n        this.salary = salary;\n    }\n\n}\n</code></pre>\n\n<p><strong>hibernate.cfg.xml</strong> which is in <code>src</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n        \"http://hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;password&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.pool_size\"&gt;1&lt;/property&gt;\n        &lt;property name=\"hibernate.current_session_context_class\"&gt;thread&lt;/property&gt;\n        &lt;property name=\"hibernate.show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name = \"hibernate.hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n        &lt;mapping class=\"com.sopra.pojo.Employee\" /&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p><strong>EmployeeDBManager.java</strong></p>\n\n<pre><code>package com.sopra.pojo;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\n\npublic class EmployeeDBManager {\n    public static void main(String[] args) {\n        Employee e = new Employee();\n        e.setFirstName(\"Salim\");\n        e.setId(672);\n        e.setLastName(\"Shamim\");\n        e.setSalary(266);\n        SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\n        Session session =  sessionFactory.openSession();\n        Transaction tx =  session.beginTransaction();\n\n        session.persist(e);\n\n        tx.commit();\n\n        session.close();\n    }\n}\n</code></pre>\n\n<p><strong>The Error</strong></p>\n\n<p><code>Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'test.employee' doesn't exist</code></p>\n\n<p><strong>I've tried</strong></p>\n\n<ol>\n<li>use this in cfg file : <code>&lt;property name=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/property&gt;</code></li>\n<li>What is interesting is when I manually create the table in mysql using workbench, hibernate does drops it as when i use drop command it says the table doesn't exists.</li>\n</ol>\n\n<p>I can't figure out where the glitch might be(newbie and internet didn't helped).\nPlease mention any additional details required in comments.\nPlease help!\nThanks.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1688456561,"post_id":76610314,"comment_id":135072888,"body_markdown":"You shouldn&#39;t use overridable methods in constructors. The problem is that `init` is invoked before `null` is assigned to `data`.","body":"You shouldn&#39;t use overridable methods in constructors. The problem is that <code>init</code> is invoked before <code>null</code> is assigned to <code>data</code>."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688456572,"post_id":76610314,"comment_id":135072890,"body_markdown":"It&#39;s a quirk of initialization order. In general, just don&#39;t ever call instance methods while still in the constructor, and you&#39;ll be fine. Most IDEs will generate warnings if you do this, so it&#39;s easy to avoid.","body":"It&#39;s a quirk of initialization order. In general, just don&#39;t ever call instance methods while still in the constructor, and you&#39;ll be fine. Most IDEs will generate warnings if you do this, so it&#39;s easy to avoid."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688458260,"post_id":76610314,"comment_id":135073231,"body_markdown":"the &quot;*init sequence*&quot; is detailed in the Java Language Specification [12.5. Creation of New Class Instances](https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.5) (mainly starting at this [paragraph](https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.5-220))","body":"the &quot;<i>init sequence</i>&quot; is detailed in the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">12.5. Creation of New Class Instances</a> (mainly starting at this <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.5-220\" rel=\"nofollow noreferrer\">paragraph</a>)"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688458179,"creation_date":1688458179,"answer_id":76610567,"question_id":76610314,"body_markdown":"The (basic) initialization order of a constructor is:\r\n\r\n* Invoke the super constructor\r\n* Invoke the instance initializers (and field initializers, which are just syntactic sugar for field declaration + instance initializers)\r\n* Execute the rest of the constructor\r\n\r\nSo, for:\r\n\r\n```\r\nclass Sub extends Super\r\n{\r\n    Integer data = null;\r\n    \r\n    Sub(int f)\r\n    {\r\n        super(f);\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nthis is the same as:\r\n\r\n```\r\nclass Sub extends Super\r\n{\r\n    Integer data;\r\n    \r\n    Sub(int f)\r\n    {\r\n        super(f);\r\n        data = null;\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nSo, if anything changes `data` in the call to `super(f)`, that is overwritten by the `data = null;`.\r\n\r\nAs mentioned by [Mark Rotteveel](https://stackoverflow.com/users/466862/mark-rotteveel), the way to avoid this is to not invoke overridable methods in constructors. This is covered in more detail in *Effective Java*, Item 19 (in the 3rd Ed - page 95 paragraph starting &quot;Constructors must not invoke overridable methods&quot;).","title":"Subclass overwrites value updated by Super class","body":"<p>The (basic) initialization order of a constructor is:</p>\n<ul>\n<li>Invoke the super constructor</li>\n<li>Invoke the instance initializers (and field initializers, which are just syntactic sugar for field declaration + instance initializers)</li>\n<li>Execute the rest of the constructor</li>\n</ul>\n<p>So, for:</p>\n<pre><code>class Sub extends Super\n{\n    Integer data = null;\n    \n    Sub(int f)\n    {\n        super(f);\n    }\n\n    // ...\n}\n</code></pre>\n<p>this is the same as:</p>\n<pre><code>class Sub extends Super\n{\n    Integer data;\n    \n    Sub(int f)\n    {\n        super(f);\n        data = null;\n    }\n\n    // ...\n}\n</code></pre>\n<p>So, if anything changes <code>data</code> in the call to <code>super(f)</code>, that is overwritten by the <code>data = null;</code>.</p>\n<p>As mentioned by <a href=\"https://stackoverflow.com/users/466862/mark-rotteveel\">Mark Rotteveel</a>, the way to avoid this is to not invoke overridable methods in constructors. This is covered in more detail in <em>Effective Java</em>, Item 19 (in the 3rd Ed - page 95 paragraph starting &quot;Constructors must not invoke overridable methods&quot;).</p>\n"},{"tags":[],"owner":{"account_id":27746768,"reputation":1,"user_id":21182101,"display_name":"Rubin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688569662,"creation_date":1688458806,"answer_id":76610636,"question_id":76610314,"body_markdown":"    public class Main {\r\n        public static void main(String[] args) {\r\n            Sub sub = new Sub(10);\r\n            sub.init();\r\n            sub.showData();\r\n        }\r\n    }\r\n\r\nnot auto init","title":"Subclass overwrites value updated by Super class","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        Sub sub = new Sub(10);\n        sub.init();\n        sub.showData();\n    }\n}\n</code></pre>\n<p>not auto init</p>\n"}],"owner":{"account_id":1363919,"reputation":912,"user_id":1300757,"accept_rate":55,"display_name":"anupamD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76610567,"answer_count":2,"score":0,"last_activity_date":1688569662,"creation_date":1688456302,"question_id":76610314,"body_markdown":"I have following piece of code in java. This prints null.\r\nWhy? Can someone please tell the init sequence of the below variable and this behavior\r\n\r\n&gt; Integer data = null;\r\n\r\n```java\r\nabstract class Super\r\n{\r\n\tSuper(int f)\r\n\t{\r\n\t\tinit(f);\r\n\t}\r\n\tabstract void init(int f);\r\n}\r\n\r\nclass Sub extends Super\r\n{\r\n\tInteger data = null;\r\n\t\r\n\tSub(int f)\r\n\t{\r\n\t\tsuper(f);\r\n\t}\r\n\t@Override\r\n\tvoid init(int f) {\r\n\t\tdata = f;\r\n\t}\r\n\r\n\tpublic void showData()\r\n\t{\r\n\t\tSystem.out.println(this.data);\r\n\t}\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n    \tSub sub = new Sub(10);\r\n    \tsub.showData();\r\n    }\r\n}\r\n\r\n```","title":"Subclass overwrites value updated by Super class","body":"<p>I have following piece of code in java. This prints null.\nWhy? Can someone please tell the init sequence of the below variable and this behavior</p>\n<blockquote>\n<p>Integer data = null;</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Super\n{\n    Super(int f)\n    {\n        init(f);\n    }\n    abstract void init(int f);\n}\n\nclass Sub extends Super\n{\n    Integer data = null;\n    \n    Sub(int f)\n    {\n        super(f);\n    }\n    @Override\n    void init(int f) {\n        data = f;\n    }\n\n    public void showData()\n    {\n        System.out.println(this.data);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Sub sub = new Sub(10);\n        sub.showData();\n    }\n}\n\n</code></pre>\n"},{"tags":["javascript","java","node.js","playwright"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1688569303,"post_id":76464881,"comment_id":135091572,"body_markdown":"Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened.","body":"Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened."}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688569629,"creation_date":1686658867,"question_id":76464881,"body_markdown":"I have a Java code which executes a Node snippet like this, which is very simple:\r\n\r\n    public void executeCommand(){\r\n        try{\r\n            System.out.println(command);\r\n            final long startTime = System.currentTimeMillis();\r\n            final Process p = Runtime.getRuntime().exec(command);\r\n            //final boolean done = p.waitFor(10, TimeUnit.SECONDS);\r\n            System.out.println(&quot;WAITING FOR THE COMMAND TO RESPOND. &quot;); \r\n            final Stream&lt;String&gt;data = new BufferedReader(new InputStreamReader(p.getInputStream())).lines().peek(System.out::println);\r\n            System.out.println(&quot;Step---&gt;1&quot;); \r\n            final List&lt;String&gt;lines = data.collect(Collectors.toList());\r\n            System.out.println(&quot;Step---&gt;2&quot;); \r\n            final long endTime = System.currentTimeMillis();\r\n            if(lines.isEmpty()){\r\n                System.out.println(&quot;empty response&quot;+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\r\n            }else{                \r\n                System.out.println(&quot;lines = &quot; + lines.size()+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\r\n                lines.forEach(System.out::println);\r\n                //System.out.println(&quot;lines = &quot; + lines.size()+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\r\n            }            \r\n        }catch(final Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThe command variable is something like:\r\n\r\n    private final String command  = &quot;node C:\\\\Users\\\\chipe\\\\Desktop\\\\EjemploConChrome.js&quot;;                                    \r\n\r\nAnd the file is something like this. Indeed this is just a resemblance of [official plugin test code][1]:\r\n\r\n    // playwright-extra is a drop-in replacement for playwright,\r\n    // it augments the installed playwright with plugin functionality\r\n    const { chromium } = require(&#39;playwright-extra&#39;)\r\n    \r\n    // Load the stealth plugin and use defaults (all tricks to hide playwright usage)\r\n    // Note: playwright-extra is compatible with most puppeteer-extra plugins\r\n    const stealth = require(&#39;puppeteer-extra-plugin-stealth&#39;)()\r\n    \r\n    // Add the plugin to playwright (any number of plugins can be added)\r\n    chromium.use(stealth)\r\n    \r\n    // That&#39;s it, the rest is playwright usage as normal &#128522;\r\n    chromium.launch({ headless: false }).then(async browser =&gt; {\r\n      const page = await browser.newPage()\r\n    \r\n      console.log(&#39;Testing the stealth plugin..&#39;)\r\n      await page.goto(&#39;https://bot.sannysoft.com&#39;, { waitUntil: &#39;networkidle&#39; })\r\n      await page.screenshot({ path: &#39;stealth.png&#39;, fullPage: true })\r\n    \r\n      console.log(&#39;All done, check the screenshot. ✨&#39;)\r\n      await browser.close()\r\n    })\r\n\r\nWhen I executed it works correctly:\r\n\r\n[![Running Code using Chromium][2]][2]\r\n\r\nBut when I execute the Firefox version of it just replacing `chromium` with `firefox`:\r\n\r\n    // playwright-extra is a drop-in replacement for playwright,\r\n    // it augments the installed playwright with plugin functionality\r\n    const { firefox } = require(&#39;playwright-extra&#39;)\r\n    \r\n    // Load the stealth plugin and use defaults (all tricks to hide playwright usage)\r\n    // Note: playwright-extra is compatible with most puppeteer-extra plugins\r\n    const stealth = require(&#39;puppeteer-extra-plugin-stealth&#39;)()\r\n    \r\n    // Add the plugin to playwright (any number of plugins can be added)\r\n    firefox.use(stealth)\r\n    \r\n    // That&#39;s it, the rest is playwright usage as normal &#128522;\r\n    firefox.launch({ headless: false }).then(async browser =&gt; {\r\n      const page = await browser.newPage()\r\n    \r\n      console.log(&#39;Testing the stealth plugin..&#39;)\r\n      await page.goto(&#39;https://bot.sannysoft.com&#39;, { waitUntil: &#39;networkidle&#39; });\r\n      await page.screenshot({ path: &#39;stealth.png&#39;, fullPage: true })\r\n      console.log(&#39;All done, check the screenshot. ✨&#39;)\r\n      await browser.close()\r\n    })\r\n\r\nI can see the launching of 2 browsers instead of 1, but I don&#39;t know why.\r\n\r\nBut the execution never finish! But if I execute the command directly on command line it finish, but I need it in Java.\r\n\r\nThe browser keeps open and in this line.\r\n\r\n    await page.goto(&#39;https://bot.sannysoft.com&#39;, { waitUntil: &#39;networkidle&#39; });\r\n\r\nAnd the network is idle.\r\n\r\nWhat am I doing wrong?\r\n\r\n[![Running process][4]][4]\r\n\r\n[![Launches two browsers][5]][5]\r\n\r\nShutting down process manually:\r\n\r\n[![Shutting down process][3]][3]\r\n\r\n  [1]: https://github.com/berstend/puppeteer-extra/tree/master/packages/playwright-extra#-puppeteer-extra-plugin-stealth\r\n  [2]: https://i.stack.imgur.com/UpLSO.png\r\n  [3]: https://i.stack.imgur.com/gQS5x.png\r\n  [4]: https://i.stack.imgur.com/KLNCM.png\r\n  [5]: https://i.stack.imgur.com/N1cHS.png\r\n","title":"Playwright puppeteer-extra-plugin-stealth example with Firefox not finishing","body":"<p>I have a Java code which executes a Node snippet like this, which is very simple:</p>\n<pre><code>public void executeCommand(){\n    try{\n        System.out.println(command);\n        final long startTime = System.currentTimeMillis();\n        final Process p = Runtime.getRuntime().exec(command);\n        //final boolean done = p.waitFor(10, TimeUnit.SECONDS);\n        System.out.println(&quot;WAITING FOR THE COMMAND TO RESPOND. &quot;); \n        final Stream&lt;String&gt;data = new BufferedReader(new InputStreamReader(p.getInputStream())).lines().peek(System.out::println);\n        System.out.println(&quot;Step---&gt;1&quot;); \n        final List&lt;String&gt;lines = data.collect(Collectors.toList());\n        System.out.println(&quot;Step---&gt;2&quot;); \n        final long endTime = System.currentTimeMillis();\n        if(lines.isEmpty()){\n            System.out.println(&quot;empty response&quot;+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\n        }else{                \n            System.out.println(&quot;lines = &quot; + lines.size()+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\n            lines.forEach(System.out::println);\n            //System.out.println(&quot;lines = &quot; + lines.size()+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\n        }            \n    }catch(final Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>The command variable is something like:</p>\n<pre><code>private final String command  = &quot;node C:\\\\Users\\\\chipe\\\\Desktop\\\\EjemploConChrome.js&quot;;                                    \n</code></pre>\n<p>And the file is something like this. Indeed this is just a resemblance of <a href=\"https://github.com/berstend/puppeteer-extra/tree/master/packages/playwright-extra#-puppeteer-extra-plugin-stealth\" rel=\"nofollow noreferrer\">official plugin test code</a>:</p>\n<pre><code>// playwright-extra is a drop-in replacement for playwright,\n// it augments the installed playwright with plugin functionality\nconst { chromium } = require('playwright-extra')\n\n// Load the stealth plugin and use defaults (all tricks to hide playwright usage)\n// Note: playwright-extra is compatible with most puppeteer-extra plugins\nconst stealth = require('puppeteer-extra-plugin-stealth')()\n\n// Add the plugin to playwright (any number of plugins can be added)\nchromium.use(stealth)\n\n// That's it, the rest is playwright usage as normal 😊\nchromium.launch({ headless: false }).then(async browser =&gt; {\n  const page = await browser.newPage()\n\n  console.log('Testing the stealth plugin..')\n  await page.goto('https://bot.sannysoft.com', { waitUntil: 'networkidle' })\n  await page.screenshot({ path: 'stealth.png', fullPage: true })\n\n  console.log('All done, check the screenshot. ✨')\n  await browser.close()\n})\n</code></pre>\n<p>When I executed it works correctly:</p>\n<p><a href=\"https://i.stack.imgur.com/UpLSO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UpLSO.png\" alt=\"Running Code using Chromium\" /></a></p>\n<p>But when I execute the Firefox version of it just replacing <code>chromium</code> with <code>firefox</code>:</p>\n<pre><code>// playwright-extra is a drop-in replacement for playwright,\n// it augments the installed playwright with plugin functionality\nconst { firefox } = require('playwright-extra')\n\n// Load the stealth plugin and use defaults (all tricks to hide playwright usage)\n// Note: playwright-extra is compatible with most puppeteer-extra plugins\nconst stealth = require('puppeteer-extra-plugin-stealth')()\n\n// Add the plugin to playwright (any number of plugins can be added)\nfirefox.use(stealth)\n\n// That's it, the rest is playwright usage as normal 😊\nfirefox.launch({ headless: false }).then(async browser =&gt; {\n  const page = await browser.newPage()\n\n  console.log('Testing the stealth plugin..')\n  await page.goto('https://bot.sannysoft.com', { waitUntil: 'networkidle' });\n  await page.screenshot({ path: 'stealth.png', fullPage: true })\n  console.log('All done, check the screenshot. ✨')\n  await browser.close()\n})\n</code></pre>\n<p>I can see the launching of 2 browsers instead of 1, but I don't know why.</p>\n<p>But the execution never finish! But if I execute the command directly on command line it finish, but I need it in Java.</p>\n<p>The browser keeps open and in this line.</p>\n<pre><code>await page.goto('https://bot.sannysoft.com', { waitUntil: 'networkidle' });\n</code></pre>\n<p>And the network is idle.</p>\n<p>What am I doing wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/KLNCM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KLNCM.png\" alt=\"Running process\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/N1cHS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N1cHS.png\" alt=\"Launches two browsers\" /></a></p>\n<p>Shutting down process manually:</p>\n<p><a href=\"https://i.stack.imgur.com/gQS5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQS5x.png\" alt=\"Shutting down process\" /></a></p>\n"},{"tags":["java","mysql","sql","hibernate","criteria"],"comments":[{"owner":{"account_id":1270321,"reputation":340,"user_id":1226773,"display_name":"birya"},"score":0,"creation_date":1408465473,"post_id":25388069,"comment_id":39595513,"body_markdown":"Are you sure your first code snippet is correct? You creating 2 criterias, but you get list using first one. You need to use createAlias (which is actually a JOIN) instead of createCriteria","body":"Are you sure your first code snippet is correct? You creating 2 criterias, but you get list using first one. You need to use createAlias (which is actually a JOIN) instead of createCriteria"},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1408470747,"post_id":25388069,"comment_id":39598288,"body_markdown":"createCriteria or createAlias is the same in this case. and yes is correct.","body":"createCriteria or createAlias is the same in this case. and yes is correct."},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1408477716,"post_id":25388069,"comment_id":39601915,"body_markdown":"i use createCriteria because i create another JOIN later with the 2 one.","body":"i use createCriteria because i create another JOIN later with the 2 one."}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688569509,"creation_date":1408464317,"question_id":25388069,"body_markdown":"I have a simple Criteria like this:\r\n\r\nStudent has only one School (this is just a illustrative example).\r\n\r\n    private List&lt;Student&gt;getData()\r\n    {\r\n        final Session session = ...............\r\n        final Criteria criteria = session.createCriteria(Student.class);\r\n        final Criteria criteria2 = criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN,isNotNull(&quot;status&quot;));\r\n        return criteria.list();\r\n    }\r\n\r\nI need the Students even if they not have a School... but if they have the School I need the `Status` is not `NULL`.\r\n\r\nI was wondering if this\r\n\r\n     criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN,isNotNull(&quot;status&quot;));\r\n\r\nFilterings using `left-outer-join` are useless because I am getting the `Schools with null status`\r\n\r\nBut if I apply this\r\n\r\n    final Criteria criteria2 = criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN);\r\n    criteria2.add(isNotNull(&quot;status&quot;));\r\n\r\nIt works or if I apply:\r\n    \r\n    criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.INNER_JOIN,isNotNull(&quot;status&quot;));\r\n\r\nworks as well.\r\n\r\nShould I never put criteria or filters in `createCriteria o createAlias` using left-Outer-Join are they just ignored or how can that be used?\r\n\r\nWhat are the diffs between using in the `ON` or use the same criteria in regular criteria using `.add(`?\r\n","title":"Are Java Hibernate Criteria leftOuterJoin criterion useless?","body":"<p>I have a simple Criteria like this:</p>\n<p>Student has only one School (this is just a illustrative example).</p>\n<pre><code>private List&lt;Student&gt;getData()\n{\n    final Session session = ...............\n    final Criteria criteria = session.createCriteria(Student.class);\n    final Criteria criteria2 = criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN,isNotNull(&quot;status&quot;));\n    return criteria.list();\n}\n</code></pre>\n<p>I need the Students even if they not have a School... but if they have the School I need the <code>Status</code> is not <code>NULL</code>.</p>\n<p>I was wondering if this</p>\n<pre><code> criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN,isNotNull(&quot;status&quot;));\n</code></pre>\n<p>Filterings using <code>left-outer-join</code> are useless because I am getting the <code>Schools with null status</code></p>\n<p>But if I apply this</p>\n<pre><code>final Criteria criteria2 = criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN);\ncriteria2.add(isNotNull(&quot;status&quot;));\n</code></pre>\n<p>It works or if I apply:</p>\n<pre><code>criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.INNER_JOIN,isNotNull(&quot;status&quot;));\n</code></pre>\n<p>works as well.</p>\n<p>Should I never put criteria or filters in <code>createCriteria o createAlias</code> using left-Outer-Join are they just ignored or how can that be used?</p>\n<p>What are the diffs between using in the <code>ON</code> or use the same criteria in regular criteria using <code>.add(</code>?</p>\n"},{"tags":["java","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":5039486,"reputation":1,"user_id":4047353,"display_name":"Ramkee Venkatraman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485558431,"creation_date":1485558431,"answer_id":41904476,"question_id":37682186,"body_markdown":"Yes it is possible. Since extent report is open source. One could edit the function which formulate the structure of our final report. But since extent report uses different functionalities, just modifying an endtest would cause a cascading effect on everything. \r\nOr another way is to save the data before flush is called and by calling flussh everytime. One could replace the existing file over and over. \r\nMy best bet is too leave it as it is and get other listener jars to do the work for you.\r\n","title":"Extent Report Monitoring","body":"<p>Yes it is possible. Since extent report is open source. One could edit the function which formulate the structure of our final report. But since extent report uses different functionalities, just modifying an endtest would cause a cascading effect on everything. \nOr another way is to save the data before flush is called and by calling flussh everytime. One could replace the existing file over and over. \nMy best bet is too leave it as it is and get other listener jars to do the work for you.</p>\n"}],"owner":{"account_id":7313269,"reputation":603,"user_id":5571746,"accept_rate":59,"display_name":"colin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688569351,"creation_date":1465309892,"question_id":37682186,"body_markdown":"Is it possible to use ExtentReport to generate the HTML Report during the tests being executed when it&#39;s used as a listener?\r\n\r\nFor example, instead of the report being generated when the tests are finished, could the report be generated after the first test, and so on? I want to use ExtentReport to monitor the progress of my tests as well and showing the results.\r\n\r\nI&#39;ve learnt it&#39;s possible when using as a logger, as you can do a flush after each tests. However is it possible while using Extent as a Listener?","title":"Extent Report Monitoring","body":"<p>Is it possible to use ExtentReport to generate the HTML Report during the tests being executed when it's used as a listener?</p>\n<p>For example, instead of the report being generated when the tests are finished, could the report be generated after the first test, and so on? I want to use ExtentReport to monitor the progress of my tests as well and showing the results.</p>\n<p>I've learnt it's possible when using as a logger, as you can do a flush after each tests. However is it possible while using Extent as a Listener?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688026406,"creation_date":1688026406,"answer_id":76579202,"question_id":76574983,"body_markdown":"Since there are multiple questions it&#39;s best to answer one by one:\r\n\r\n 1. Is this a legit usage of the ProcessorAPI in my case? Or do I need to use Topology.addProcessor()? Or are those two are essentially the same? **It is a legit use of processor API to clean up your state stores. In fact that&#39;s pretty much the way to do it. One thing to be mindful of is that if the time taken to iterate through the whole store will be longer than task timeout it will cause your app to crash. Process() method under the hood does pretty much Topology.addProcessor() so this is all.**\r\n2. Do I need to commit anything? **No you do not. You are not forwarding any records so if your use case is a store clean up this is it.**\r\n3. I&#39;m doing Ktable.toStream() since process() is a terminal operation. Do I just need to use transformValues() instead and put it somewhere before aggregate()? As I understand, transform is stateful unlike process, how does this affect the performance? Will it change the existing topology and corrupt the changelog topic because of that? **`process` is a terminal operation in versions of KafkaStreams before 3.3.x. In these versions utilize the `transform` operation. Your transform operation is stateful (because of attaching a store), but overall it doesn&#39;t have to be stateful. The statefulness of your operations doesn&#39;t impact performance here since you are not publishing new messages, or repartitioning. It will not hurt your topology, but it may cause a small change to it. If you&#39;d like to compare topologies use `describe` method and compare them. However it will impact overall message processing, since while the punctuator is running messages are not processed in the subtopology (other processors are not running).**\r\n\r\n4. Since I only care about accessing the StateStore, do I need to do anything in the process() method? **If you are using `process` it is terminal, and no further work needs to be done. If you were to use `transform` you&#39;d need to forward incoming records, otherwise they would simply be lost. This operation is performed using `context.forward()` method.**\r\n5. Is there any performance difference between STREAM_TIME and WALL_CLOCK_TIME? Let&#39;s suppose with my data they are going to go side by side, so it&#39;s not the question if one happens more often than the other, I mean, are they are managed by the same thread as the task, or are there any quirks? **I&#39;d start here: [link][1]. But long story short: wall clock time advances always (it&#39;s the one you want for your case), but the stream time advances only when records arrive. So if you had a stream that rarely had anything published to it your punctuator wouldn&#39;t run on time.**\r\n6. Is the operation in Punctuator going to update the changelog topic too? **Yes. All local state stores are backed by changelog topics, so tombstones will be published to the topic.**\r\n7. Is adding that kind of operation to an existing stateful app considered a change in topology, and will it corrupt the existing data? **It is a change to topology since you are adding a processor. It will not corrupt data, since you are not changing the objects published to Kafka. Also if you were publishing JSON objects there wouldn&#39;t be data corruption, but in case of Avro or Protobuf.**\r\n\r\nOverall your code looks solid, I would be a little worried about the punctuator taking a lot of time, because it will stop the processing of messages for the subtopology as long as it runs. \r\n\r\n\r\n  [1]: https://kafka.apache.org/11/javadoc/org/apache/kafka/streams/processor/PunctuationType.html","title":"Kafka Streams bulk entry update/delete by Punctuator","body":"<p>Since there are multiple questions it's best to answer one by one:</p>\n<ol>\n<li><p>Is this a legit usage of the ProcessorAPI in my case? Or do I need to use Topology.addProcessor()? Or are those two are essentially the same? <strong>It is a legit use of processor API to clean up your state stores. In fact that's pretty much the way to do it. One thing to be mindful of is that if the time taken to iterate through the whole store will be longer than task timeout it will cause your app to crash. Process() method under the hood does pretty much Topology.addProcessor() so this is all.</strong></p>\n</li>\n<li><p>Do I need to commit anything? <strong>No you do not. You are not forwarding any records so if your use case is a store clean up this is it.</strong></p>\n</li>\n<li><p>I'm doing Ktable.toStream() since process() is a terminal operation. Do I just need to use transformValues() instead and put it somewhere before aggregate()? As I understand, transform is stateful unlike process, how does this affect the performance? Will it change the existing topology and corrupt the changelog topic because of that? <strong><code>process</code> is a terminal operation in versions of KafkaStreams before 3.3.x. In these versions utilize the <code>transform</code> operation. Your transform operation is stateful (because of attaching a store), but overall it doesn't have to be stateful. The statefulness of your operations doesn't impact performance here since you are not publishing new messages, or repartitioning. It will not hurt your topology, but it may cause a small change to it. If you'd like to compare topologies use <code>describe</code> method and compare them. However it will impact overall message processing, since while the punctuator is running messages are not processed in the subtopology (other processors are not running).</strong></p>\n</li>\n<li><p>Since I only care about accessing the StateStore, do I need to do anything in the process() method? <strong>If you are using <code>process</code> it is terminal, and no further work needs to be done. If you were to use <code>transform</code> you'd need to forward incoming records, otherwise they would simply be lost. This operation is performed using <code>context.forward()</code> method.</strong></p>\n</li>\n<li><p>Is there any performance difference between STREAM_TIME and WALL_CLOCK_TIME? Let's suppose with my data they are going to go side by side, so it's not the question if one happens more often than the other, I mean, are they are managed by the same thread as the task, or are there any quirks? <strong>I'd start here: <a href=\"https://kafka.apache.org/11/javadoc/org/apache/kafka/streams/processor/PunctuationType.html\" rel=\"nofollow noreferrer\">link</a>. But long story short: wall clock time advances always (it's the one you want for your case), but the stream time advances only when records arrive. So if you had a stream that rarely had anything published to it your punctuator wouldn't run on time.</strong></p>\n</li>\n<li><p>Is the operation in Punctuator going to update the changelog topic too? <strong>Yes. All local state stores are backed by changelog topics, so tombstones will be published to the topic.</strong></p>\n</li>\n<li><p>Is adding that kind of operation to an existing stateful app considered a change in topology, and will it corrupt the existing data? <strong>It is a change to topology since you are adding a processor. It will not corrupt data, since you are not changing the objects published to Kafka. Also if you were publishing JSON objects there wouldn't be data corruption, but in case of Avro or Protobuf.</strong></p>\n</li>\n</ol>\n<p>Overall your code looks solid, I would be a little worried about the punctuator taking a lot of time, because it will stop the processing of messages for the subtopology as long as it runs.</p>\n"}],"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688569302,"creation_date":1687968713,"question_id":76574983,"body_markdown":"I have a stateful Kafka Streams app, and I need to implement regular deletions based on a condition.\r\nI&#39;ve come up with a solution based on the ProcessorAPI which is explained in documentation, but looks like I&#39;m missing the intuition here, so I&#39;m having some doubts.\r\n\r\nI have bunch of streams like this for every StateStore I create during the app initialization:\r\n\r\n        private void doStuff(KStream&lt;String, ExampleObject&gt; sourceStream, \r\n             Materialized&lt;String, ExampleObject, KeyValueStore&lt;Bytes, byte[]&gt;&gt; materialized, String tableName) {   \r\n    \t     KTable&lt;String, ExampleObject&gt; ktable = sourceStream.groupByKey()\r\n                                       .aggregate(() -&gt; null, (id, newValue, existingValue) -&gt; {...}, materialized);\r\n    \t     ktable.toStream().process(new PunctuatorProcessorSupplier(tableName), tableName);                             \r\n        }\r\n\r\nAnd I have this Processor (I omit the Supplier for shortness because the implementation is trivial, it just returns new Processor every time)\r\n\r\n    private static class PunctuatorProcessor implements\r\n        Processor&lt;String, ExampleObject&gt; {\r\n\r\n        private final String stateStoreName;\r\n        \r\n        private Cancellable cancellable;\r\n\r\n        private PunctuatorProcessor(String stateStoreName) {\r\n            this.stateStoreName = stateStoreName;\r\n        }\r\n\r\n        @Override\r\n        public void init(ProcessorContext context) {\r\n            KeyValueStore&lt;String, ExampleObject&gt; stateStore = \r\n                (KeyValueStore&lt;String, ExampleObject&gt;) context.getStateStore(this.stateStoreName);\r\n            this.cancellable = context.schedule(Duration.ofDays(1),\r\n                PunctuationType.WALL_CLOCK_TIME, getPunctuator(stateStore));\r\n        }\r\n\r\n        @Override\r\n        public void process(String key, ExampleObject value) {\r\n            \r\n        }\r\n\r\n        private static Punctuator getPunctuator(KeyValueStore&lt;String, ExampleObject&gt; stateStore) {\r\n            return timestamp -&gt; {\r\n                try (final KeyValueIterator&lt;String, ExampleObject&gt; iter = stateStore.all()) {\r\n                    while (iter.hasNext()) {\r\n                        final KeyValue&lt;String, ExampleObject&gt; entry = iter.next();\r\n                        if (some condition) {\r\n                            // Update the object.\r\n                            stateStore.put(entry.key, entry.value);\r\n                            // OR delete the object.\r\n                            stateStore.delete(entry.key);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n        @Override\r\n        public void close() {\r\n            this.cancellable.cancel();\r\n        }\r\n    }\r\n\r\nNow the questions:\r\n1. Is this a legit usage of the ProcessorAPI in my case? Or do I need to use `Topology.addProcessor()`? Or are those two are essentially the same?\r\n2. Do I need to commit anything?\r\n3. I&#39;m doing `Ktable.toStream()` since `process()` is a terminal operation. Do I just need to use `transformValues()` instead and put it somewhere before aggregate()? As I understand, `transform` is stateful unlike `process`, how does this affect the performance? Will it change the existing topology and corrupt the changelog topic because of that?\r\n4. Since I only care about accessing the StateStore, do I need to do anything in the `process()` method?\r\n5. Is there any performance difference between STREAM_TIME and WALL_CLOCK_TIME? Let&#39;s suppose with my data they are going to go side by side, so it&#39;s not the question if one happens more often than the other, I mean, are they are managed by the same thread as the task, or are there any quirks?\r\n6. Is the operation in Punctuator going to update the changelog topic too?\r\n7. Is adding that kind of operation to an existing stateful app considered a change in topology, and will it corrupt the existing data?\r\n\r\nThank you!\r\n=====UPDATE======\r\nI use the following code to check if update is happening in the stateStore, and I see that the Punctuator always receives the value that&#39;s not updated. So the update is either not written or lost.\r\n\r\nThe timestamped stateStore is returned from the context:\r\n\r\n    public void init(ProcessorContext context) {\r\n        this.context = context;\r\n        KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; stateStore = \r\n            (KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt;) context.getStateStore(this.stateStoreName);\r\n        this.cancellable = context.schedule(Duration.ofMinutes(5),\r\n            PunctuationType.WALL_CLOCK_TIME, getPunctuator(stateStore, stateStoreName, context));\r\n    }\r\n\r\nThen I read, update and then I read again and the logger logs unchanged value:\r\n\r\n        private Punctuator getPunctuator(KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; stateStore) {\r\n            return timestamp -&gt; {\r\n                try (final KeyValueIterator&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; iter = stateStore.all()) {\r\n                    String testId = &quot;someId&quot;;\r\n                    logger.info(&quot;Punctuator started with stateStore {}&quot;, stateStoreName);\r\n                    while (iter.hasNext()) {\r\n                        final KeyValue&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; entry = iter.next();\r\n                        String key = entry.key;\r\n                        if (testId.equals(key)) {\r\n                            ExampleObject value = entry.value.value();\r\n                            logger.info(\r\n                                &quot;PunctuatorProcessor in action, storeName {} testId {}, current ExampleObject {}&quot;,\r\n                                stateStoreName, key, value);\r\n                            boolean stripped = stripElement(value);\r\n                            logger.info(\r\n                                &quot;PunctuatorProcessor in action, storeName {} testId {}, found and stripped: {}&quot;,\r\n                                stateStoreName, key, stripped);\r\n                            if (stripped) {\r\n                                stateStore.put(key, ValueAndTimestamp.make(value, context.timestamp()));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n    ;\r\n            }\r\nWhy the value is always unchanged? The punctuator Duration is 10 mins.","title":"Kafka Streams bulk entry update/delete by Punctuator","body":"<p>I have a stateful Kafka Streams app, and I need to implement regular deletions based on a condition.\nI've come up with a solution based on the ProcessorAPI which is explained in documentation, but looks like I'm missing the intuition here, so I'm having some doubts.</p>\n<p>I have bunch of streams like this for every StateStore I create during the app initialization:</p>\n<pre><code>    private void doStuff(KStream&lt;String, ExampleObject&gt; sourceStream, \n         Materialized&lt;String, ExampleObject, KeyValueStore&lt;Bytes, byte[]&gt;&gt; materialized, String tableName) {   \n         KTable&lt;String, ExampleObject&gt; ktable = sourceStream.groupByKey()\n                                   .aggregate(() -&gt; null, (id, newValue, existingValue) -&gt; {...}, materialized);\n         ktable.toStream().process(new PunctuatorProcessorSupplier(tableName), tableName);                             \n    }\n</code></pre>\n<p>And I have this Processor (I omit the Supplier for shortness because the implementation is trivial, it just returns new Processor every time)</p>\n<pre><code>private static class PunctuatorProcessor implements\n    Processor&lt;String, ExampleObject&gt; {\n\n    private final String stateStoreName;\n    \n    private Cancellable cancellable;\n\n    private PunctuatorProcessor(String stateStoreName) {\n        this.stateStoreName = stateStoreName;\n    }\n\n    @Override\n    public void init(ProcessorContext context) {\n        KeyValueStore&lt;String, ExampleObject&gt; stateStore = \n            (KeyValueStore&lt;String, ExampleObject&gt;) context.getStateStore(this.stateStoreName);\n        this.cancellable = context.schedule(Duration.ofDays(1),\n            PunctuationType.WALL_CLOCK_TIME, getPunctuator(stateStore));\n    }\n\n    @Override\n    public void process(String key, ExampleObject value) {\n        \n    }\n\n    private static Punctuator getPunctuator(KeyValueStore&lt;String, ExampleObject&gt; stateStore) {\n        return timestamp -&gt; {\n            try (final KeyValueIterator&lt;String, ExampleObject&gt; iter = stateStore.all()) {\n                while (iter.hasNext()) {\n                    final KeyValue&lt;String, ExampleObject&gt; entry = iter.next();\n                    if (some condition) {\n                        // Update the object.\n                        stateStore.put(entry.key, entry.value);\n                        // OR delete the object.\n                        stateStore.delete(entry.key);\n                    }\n                }\n            }\n        };\n    }\n\n    @Override\n    public void close() {\n        this.cancellable.cancel();\n    }\n}\n</code></pre>\n<p>Now the questions:</p>\n<ol>\n<li>Is this a legit usage of the ProcessorAPI in my case? Or do I need to use <code>Topology.addProcessor()</code>? Or are those two are essentially the same?</li>\n<li>Do I need to commit anything?</li>\n<li>I'm doing <code>Ktable.toStream()</code> since <code>process()</code> is a terminal operation. Do I just need to use <code>transformValues()</code> instead and put it somewhere before aggregate()? As I understand, <code>transform</code> is stateful unlike <code>process</code>, how does this affect the performance? Will it change the existing topology and corrupt the changelog topic because of that?</li>\n<li>Since I only care about accessing the StateStore, do I need to do anything in the <code>process()</code> method?</li>\n<li>Is there any performance difference between STREAM_TIME and WALL_CLOCK_TIME? Let's suppose with my data they are going to go side by side, so it's not the question if one happens more often than the other, I mean, are they are managed by the same thread as the task, or are there any quirks?</li>\n<li>Is the operation in Punctuator going to update the changelog topic too?</li>\n<li>Is adding that kind of operation to an existing stateful app considered a change in topology, and will it corrupt the existing data?</li>\n</ol>\n<p>Thank you!\n=====UPDATE======\nI use the following code to check if update is happening in the stateStore, and I see that the Punctuator always receives the value that's not updated. So the update is either not written or lost.</p>\n<p>The timestamped stateStore is returned from the context:</p>\n<pre><code>public void init(ProcessorContext context) {\n    this.context = context;\n    KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; stateStore = \n        (KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt;) context.getStateStore(this.stateStoreName);\n    this.cancellable = context.schedule(Duration.ofMinutes(5),\n        PunctuationType.WALL_CLOCK_TIME, getPunctuator(stateStore, stateStoreName, context));\n}\n</code></pre>\n<p>Then I read, update and then I read again and the logger logs unchanged value:</p>\n<pre><code>    private Punctuator getPunctuator(KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; stateStore) {\n        return timestamp -&gt; {\n            try (final KeyValueIterator&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; iter = stateStore.all()) {\n                String testId = &quot;someId&quot;;\n                logger.info(&quot;Punctuator started with stateStore {}&quot;, stateStoreName);\n                while (iter.hasNext()) {\n                    final KeyValue&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; entry = iter.next();\n                    String key = entry.key;\n                    if (testId.equals(key)) {\n                        ExampleObject value = entry.value.value();\n                        logger.info(\n                            &quot;PunctuatorProcessor in action, storeName {} testId {}, current ExampleObject {}&quot;,\n                            stateStoreName, key, value);\n                        boolean stripped = stripElement(value);\n                        logger.info(\n                            &quot;PunctuatorProcessor in action, storeName {} testId {}, found and stripped: {}&quot;,\n                            stateStoreName, key, stripped);\n                        if (stripped) {\n                            stateStore.put(key, ValueAndTimestamp.make(value, context.timestamp()));\n                        }\n                    }\n                }\n            }\n        }\n\n;\n        }\n</code></pre>\n<p>Why the value is always unchanged? The punctuator Duration is 10 mins.</p>\n"},{"tags":["java","spring-boot","jpa","hashset","hashcode"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1688578774,"post_id":76621524,"comment_id":135093710,"body_markdown":"Sets are fine as long as you don&#39;t have different instances of your entities - JPA maintains entity identity for you, so if you read PolicyCounty1 and UserPolicyQuery1 through the same context, you&#39;ll see that PolicyCounty1 will reference the same UserPolicyQuery1 instance in its set - so the java default hashcode and equals will work (for standard settings). Your code is fine if it is within the same transaction: It is only when you get to copies read in diff contexts things fall apart, as separate instances for the same data will have different hashcodes.","body":"Sets are fine as long as you don&#39;t have different instances of your entities - JPA maintains entity identity for you, so if you read PolicyCounty1 and UserPolicyQuery1 through the same context, you&#39;ll see that PolicyCounty1 will reference the same UserPolicyQuery1 instance in its set - so the java default hashcode and equals will work (for standard settings). Your code is fine if it is within the same transaction: It is only when you get to copies read in diff contexts things fall apart, as separate instances for the same data will have different hashcodes."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688579730,"post_id":76621524,"comment_id":135093905,"body_markdown":"I am performing all these steps within a single transaction. If anything fails, everything will be rolled back. I tested the API and its working, but I don&#39;t know if anything can go wrong with this approach.","body":"I am performing all these steps within a single transaction. If anything fails, everything will be rolled back. I tested the API and its working, but I don&#39;t know if anything can go wrong with this approach."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1688580364,"post_id":76621524,"comment_id":135094039,"body_markdown":"If you are looking for pain points - I think you know them, and I don&#39;t use sets since lists work just fine for the most part. But the issue still exists regardless; if you have two java instances for the same row data, you need to find your own ways to determine that they really are the same. JPA does that automatically with the entity ID values, and this code is doing something similar by pulling the IDs out and using JPA to find &#39;the&#39; entity in the current context for that data - it is the right approach.","body":"If you are looking for pain points - I think you know them, and I don&#39;t use sets since lists work just fine for the most part. But the issue still exists regardless; if you have two java instances for the same row data, you need to find your own ways to determine that they really are the same. JPA does that automatically with the entity ID values, and this code is doing something similar by pulling the IDs out and using JPA to find &#39;the&#39; entity in the current context for that data - it is the right approach."}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688568494,"creation_date":1688568494,"question_id":76621524,"body_markdown":"I have a requirement where I need to update the entities on either side of a ManyToMany mapping.  \r\nI have a **InsurancePolicy** entity-\r\n```\r\n@Entity\r\n@Table(name = &quot;insurance_policy&quot;)\r\n@Setter\r\n@NoArgsConstructor\r\npublic class InsurancePolicy {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_id&quot;)\r\n    private long policyId;\r\n\r\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\r\n    private String policyName;\r\n\r\n    //Short description\r\n    @Column(name=&quot;policy_description&quot;,nullable = false)\r\n    private String policyDescription;\r\n\r\n    //Long description\r\n    @Column(name=&quot;choose_description&quot;,nullable = false)\r\n    private String chooseDescription;\r\n\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\r\n    private Company company;\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\r\n    private Category category;\r\n\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\r\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\r\n}\r\n```\r\nand **PolicyCounty** entity-  \r\n```\r\n@NoArgsConstructor\r\n@Setter\r\n@Entity\r\n@Table(name=&quot;policy_county&quot;)\r\npublic class PolicyCounty {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_county_id&quot;)\r\n    private long policyCountyId;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;policy_id&quot;)\r\n    private InsurancePolicy policy;\r\n\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;county_id&quot;)\r\n    private County county;\r\n\r\n    @Column(name=&quot;cost&quot;,nullable = false)\r\n    private double cost;\r\n\r\n\r\n    @ManyToMany(mappedBy=&quot;policyCounties&quot;,fetch=FetchType.LAZY)\r\n    private Set&lt;UserPolicyQuery&gt; userPolicyQueries=new HashSet&lt;&gt;();\r\n\r\n    @PreRemove\r\n    public void preRemove(){\r\n        //remove the relationship with policyQueries\r\n        for(UserPolicyQuery userPolicyQuery: this.userPolicyQueries){\r\n            userPolicyQuery.getPolicyCounties().remove(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow, I want to write a method to update the **InsurancePolicyEntity** such that the attributes in the **InsurancePolicy** table are updated. For **PolicyCounty** mappings, some **PolicyCounty** entities might have their **cost** attribute updated and it is also possible that **new PolicyCounty entities need to be created at the same time**.  \r\n**Problem-**\r\nSince I am using **Set&lt;PolicyCounty&gt;**, I am not sure whether something like this would yield correct results-  \r\n```\r\n @Transactional\r\n    @Override\r\n    public InsurancePolicyResponseDto updateInsurancePolicy(InsurancePolicyCreateDto insurancePolicyDto) {\r\n        long id= insurancePolicyDto.getPolicyId();\r\n        InsurancePolicy insurancePolicy=this.insurancePolicyRepository.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Policy with id &quot;+id+&quot; not found&quot;));\r\n        insurancePolicy.setPolicyName(insurancePolicyDto.getPolicyName()); //update name\r\n        insurancePolicy.setPolicyDescription(insurancePolicyDto.getPolicyDescription()); //update description\r\n        insurancePolicy.setChooseDescription(insurancePolicyDto.getChooseDescription()); //update choose description\r\n        Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties(); //get the policy counties\r\n        for(Map.Entry&lt;String,Double&gt; countyPricePair: insurancePolicyDto.getCountyCosts().entrySet()) {\r\n            PolicyCounty policyCounty=this.policyCountyRepository.findByPolicyIdAndCountyId(id,Long.parseLong(countyPricePair.getKey()));\r\n            //if there is some new mapping\r\n            if(policyCounty==null){\r\n                policyCounty=new PolicyCounty();\r\n                policyCounty.setPolicy(insurancePolicy);\r\n                County county=this.countyRepository.findById(Long.parseLong(countyPricePair.getKey())).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;County with id &quot;+countyPricePair.getKey()+&quot; not found&quot;));\r\n                policyCounty.setCounty(county);\r\n                policyCounty.setCost(countyPricePair.getValue());\r\n                this.policyCountyRepository.save(policyCounty);\r\n            }\r\n            else{\r\n\r\n                policyCounty.setCost(countyPricePair.getValue());\r\n                this.policyCountyRepository.save(policyCounty);\r\n            }\r\n            policyCounties.add(policyCounty);\r\n        }\r\n        InsurancePolicy savedPolicy=this.insurancePolicyRepository.save(insurancePolicy);\r\n        return this.policyToResponseDto(savedPolicy);\r\n    }\r\n```\r\nI am asking this question because the **hashcode** method for the **PolicyCounty** entity will be changing, so will it reflect for the OneToMany relationship? For new **PolicyCounty** needs to be created and mapped with **InsurancePolicy**, will it occur correctly? Please help me understand how **hashcode** and **equals** are working in such mappings?","title":"Updating entities with OneToMany mappings: Spring Data JPA","body":"<p>I have a requirement where I need to update the entities on either side of a ManyToMany mapping.<br />\nI have a <strong>InsurancePolicy</strong> entity-</p>\n<pre><code>@Entity\n@Table(name = &quot;insurance_policy&quot;)\n@Setter\n@NoArgsConstructor\npublic class InsurancePolicy {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_id&quot;)\n    private long policyId;\n\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\n    private String policyName;\n\n    //Short description\n    @Column(name=&quot;policy_description&quot;,nullable = false)\n    private String policyDescription;\n\n    //Long description\n    @Column(name=&quot;choose_description&quot;,nullable = false)\n    private String chooseDescription;\n\n\n    //many policies can belong to one category\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\n    private Company company;\n\n    //many policies can belong to one category\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\n    private Category category;\n\n\n\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>and <strong>PolicyCounty</strong> entity-</p>\n<pre><code>@NoArgsConstructor\n@Setter\n@Entity\n@Table(name=&quot;policy_county&quot;)\npublic class PolicyCounty {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_county_id&quot;)\n    private long policyCountyId;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;policy_id&quot;)\n    private InsurancePolicy policy;\n\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;county_id&quot;)\n    private County county;\n\n    @Column(name=&quot;cost&quot;,nullable = false)\n    private double cost;\n\n\n    @ManyToMany(mappedBy=&quot;policyCounties&quot;,fetch=FetchType.LAZY)\n    private Set&lt;UserPolicyQuery&gt; userPolicyQueries=new HashSet&lt;&gt;();\n\n    @PreRemove\n    public void preRemove(){\n        //remove the relationship with policyQueries\n        for(UserPolicyQuery userPolicyQuery: this.userPolicyQueries){\n            userPolicyQuery.getPolicyCounties().remove(this);\n        }\n    }\n}\n</code></pre>\n<p>Now, I want to write a method to update the <strong>InsurancePolicyEntity</strong> such that the attributes in the <strong>InsurancePolicy</strong> table are updated. For <strong>PolicyCounty</strong> mappings, some <strong>PolicyCounty</strong> entities might have their <strong>cost</strong> attribute updated and it is also possible that <strong>new PolicyCounty entities need to be created at the same time</strong>.<br />\n<strong>Problem-</strong>\nSince I am using <strong>Set</strong>, I am not sure whether something like this would yield correct results-</p>\n<pre><code> @Transactional\n    @Override\n    public InsurancePolicyResponseDto updateInsurancePolicy(InsurancePolicyCreateDto insurancePolicyDto) {\n        long id= insurancePolicyDto.getPolicyId();\n        InsurancePolicy insurancePolicy=this.insurancePolicyRepository.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Policy with id &quot;+id+&quot; not found&quot;));\n        insurancePolicy.setPolicyName(insurancePolicyDto.getPolicyName()); //update name\n        insurancePolicy.setPolicyDescription(insurancePolicyDto.getPolicyDescription()); //update description\n        insurancePolicy.setChooseDescription(insurancePolicyDto.getChooseDescription()); //update choose description\n        Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties(); //get the policy counties\n        for(Map.Entry&lt;String,Double&gt; countyPricePair: insurancePolicyDto.getCountyCosts().entrySet()) {\n            PolicyCounty policyCounty=this.policyCountyRepository.findByPolicyIdAndCountyId(id,Long.parseLong(countyPricePair.getKey()));\n            //if there is some new mapping\n            if(policyCounty==null){\n                policyCounty=new PolicyCounty();\n                policyCounty.setPolicy(insurancePolicy);\n                County county=this.countyRepository.findById(Long.parseLong(countyPricePair.getKey())).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;County with id &quot;+countyPricePair.getKey()+&quot; not found&quot;));\n                policyCounty.setCounty(county);\n                policyCounty.setCost(countyPricePair.getValue());\n                this.policyCountyRepository.save(policyCounty);\n            }\n            else{\n\n                policyCounty.setCost(countyPricePair.getValue());\n                this.policyCountyRepository.save(policyCounty);\n            }\n            policyCounties.add(policyCounty);\n        }\n        InsurancePolicy savedPolicy=this.insurancePolicyRepository.save(insurancePolicy);\n        return this.policyToResponseDto(savedPolicy);\n    }\n</code></pre>\n<p>I am asking this question because the <strong>hashcode</strong> method for the <strong>PolicyCounty</strong> entity will be changing, so will it reflect for the OneToMany relationship? For new <strong>PolicyCounty</strong> needs to be created and mapped with <strong>InsurancePolicy</strong>, will it occur correctly? Please help me understand how <strong>hashcode</strong> and <strong>equals</strong> are working in such mappings?</p>\n"},{"tags":["java","junit","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688567308,"creation_date":1688567308,"answer_id":76621353,"question_id":76619795,"body_markdown":"`@ArchTest`s are evaluated by ArchUnit&#39;s own test runner, which does not support JUnit&#39;s `@ParameterizedTest`s.\r\n\r\nMaybe you can create your `ArchRule` with a parameterized method that allows you to create\r\n\r\n```java\r\n@ArchTest\r\nArchRule rule1 = createRule(1);\r\n\r\n@ArchTest\r\nArchRule rule2 = createRule(2);\r\n\r\n@ArchTest\r\nArchRule rule3 = createRule(3);\r\n\r\n// ...\r\n```\r\nwith just a little overhead?\r\n\r\nAlternatively, you can also write ArchUnit tests as plain JUnit tests if you take care of the class file import yourself, cf. https://www.archunit.org/getting-started.\r\n","title":"Parameterized archunit test?","body":"<p><code>@ArchTest</code>s are evaluated by ArchUnit's own test runner, which does not support JUnit's <code>@ParameterizedTest</code>s.</p>\n<p>Maybe you can create your <code>ArchRule</code> with a parameterized method that allows you to create</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArchTest\nArchRule rule1 = createRule(1);\n\n@ArchTest\nArchRule rule2 = createRule(2);\n\n@ArchTest\nArchRule rule3 = createRule(3);\n\n// ...\n</code></pre>\n<p>with just a little overhead?</p>\n<p>Alternatively, you can also write ArchUnit tests as plain JUnit tests if you take care of the class file import yourself, cf. <a href=\"https://www.archunit.org/getting-started\" rel=\"nofollow noreferrer\">https://www.archunit.org/getting-started</a>.</p>\n"},{"tags":[],"owner":{"account_id":28033127,"reputation":33,"user_id":21987387,"display_name":"Oleg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688568391,"creation_date":1688568391,"answer_id":76621512,"question_id":76619795,"body_markdown":"In the meantime I found the solution myself. What you can do in the following case is to create a list of ArchUnit rules:\r\n\r\n    List&lt;ArchRule&gt; rules = new ArrayList();\r\n    \r\n    for (....) {\r\n       rules.add(...)\r\n    }\r\n\r\nAnd then, you can combine them all together and test:\r\n\r\n    CompositeArchRule.of(rules).check(classesToTest);\r\n","title":"Parameterized archunit test?","body":"<p>In the meantime I found the solution myself. What you can do in the following case is to create a list of ArchUnit rules:</p>\n<pre><code>List&lt;ArchRule&gt; rules = new ArrayList();\n\nfor (....) {\n   rules.add(...)\n}\n</code></pre>\n<p>And then, you can combine them all together and test:</p>\n<pre><code>CompositeArchRule.of(rules).check(classesToTest);\n</code></pre>\n"}],"owner":{"account_id":28033127,"reputation":33,"user_id":21987387,"display_name":"Oleg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76621512,"answer_count":2,"score":0,"last_activity_date":1688568391,"creation_date":1688555811,"question_id":76619795,"body_markdown":"I have a list of method names for which I&#39;d like to write a ArchUnit test in the form of:\r\n\r\n    ArchRule rule = methods().that().haveName(&quot;methodName&quot;).should(new ArchCondition&lt;JavaMethod&gt;.   (&quot;test&quot;) {\r\n        @Override\r\n        public void check(JavaMethod javaMethod, ConditionEvents conditionEvents) {\r\n          ...\r\n        }\r\n      });\r\n\r\n      rule.check(classesToTest);\r\n    }\r\n  }\r\n\r\n\r\nI tried to use @ParameterizedTest and @ArchUnit in combination, but this didn&#39;t work. I also tried creating the ArchRule in a for loop, but this fails when the first violations happens and doesn&#39;t check the rules I&#39;m trying to test later.","title":"Parameterized archunit test?","body":"<p>I have a list of method names for which I'd like to write a ArchUnit test in the form of:</p>\n<pre><code>ArchRule rule = methods().that().haveName(&quot;methodName&quot;).should(new ArchCondition&lt;JavaMethod&gt;.   (&quot;test&quot;) {\n    @Override\n    public void check(JavaMethod javaMethod, ConditionEvents conditionEvents) {\n      ...\n    }\n  });\n\n  rule.check(classesToTest);\n}\n</code></pre>\n<p>}</p>\n<p>I tried to use @ParameterizedTest and @ArchUnit in combination, but this didn't work. I also tried creating the ArchRule in a for loop, but this fails when the first violations happens and doesn't check the rules I'm trying to test later.</p>\n"},{"tags":["java","compiler-errors"],"owner":{"account_id":28954246,"reputation":11,"user_id":22178133,"display_name":"rb-1982"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688568192,"creation_date":1688567957,"question_id":76621459,"body_markdown":"I&#39;m having trouble building the current OpenJDK (17-LTS and 20) on Windows. I&#39;m using Visual Studio 2022 Community Edition and the latest Cygwin release. \r\nFirst of all *bash configure* with options for client and server variant runs well. I&#39;m also able to build the server variant but compiling the native code of the client always shows compiling errors (see below). Before coming here, I&#39;ve researched a lot for the errors and tried other VS Studio Version (2017/2019). I also tried compiling with different options such as not using precompiled headers etc. I know my problems fall into little niche but maybe someone experienced similar problems and can help. ANd just in case someone is curious why I&#39;m not using the binary releases provided by Adoptium and so on. We try to change the native code to add optimization for our Java processes we run on a daily basis. \r\n\r\n**Exceptions from log:**\r\n```\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): error C2665: &quot;SATBMarkQueue::SATBMarkQueue&quot;: Keine &#252;berladene Funktion konnte alle Argumenttypen konvertieren\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/satbMarkQueue.hpp(84): note: kann &quot;SATBMarkQueue::SATBMarkQueue(const SATBMarkQueue &amp;)&quot; sein\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: &quot;SATBMarkQueue::SATBMarkQueue(const SATBMarkQueue &amp;)&quot; : Konvertierung von Argument 1 von &quot;G1SATBMarkQueueSet *&quot; in &quot;const SATBMarkQueue &amp;&quot; nicht m&#246;glich\r\n\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: Die Typen, auf die verwiesen wird, sind unabh&#228;ngig; die Konvertierung erfordert eine reinterpret_cast-Umwandlung, eine C-Stil-Umwandlung oder eine in Klammern gesetzte Umwandlung im Funktionsstil.\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: bei Anpassung der Argumentliste &quot;(G1SATBMarkQueueSet *)&quot;\r\nHinweis: Einlesen der Datei:     c:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/accessBarrierSupport.inline.hpp\r\nHinweis: Einlesen der Datei:      c:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/accessBarrierSupport.hpp\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1BarrierSet.inline.hpp(42): error C2039: &quot;is_active&quot; ist kein Member von &quot;G1SATBMarkQueueSet&quot;.\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1SATBMarkQueueSet.hpp(33): note: Siehe Deklaration von &quot;G1SATBMarkQueueSet&quot;\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1BarrierSet.inline.hpp(45): error C2039: &quot;enqueue_known_active&quot; ist kein Member von &quot;G1SATBMarkQueueSet&quot;.\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1SATBMarkQueueSet.hpp(33): note: Siehe Deklaration von &quot;G1SATBMarkQueueSet&quot;\r\n```","title":"Error C2665 and C2039 when building OpenJDK on Windows","body":"<p>I'm having trouble building the current OpenJDK (17-LTS and 20) on Windows. I'm using Visual Studio 2022 Community Edition and the latest Cygwin release.\nFirst of all <em>bash configure</em> with options for client and server variant runs well. I'm also able to build the server variant but compiling the native code of the client always shows compiling errors (see below). Before coming here, I've researched a lot for the errors and tried other VS Studio Version (2017/2019). I also tried compiling with different options such as not using precompiled headers etc. I know my problems fall into little niche but maybe someone experienced similar problems and can help. ANd just in case someone is curious why I'm not using the binary releases provided by Adoptium and so on. We try to change the native code to add optimization for our Java processes we run on a daily basis.</p>\n<p><strong>Exceptions from log:</strong></p>\n<pre><code>c:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): error C2665: &quot;SATBMarkQueue::SATBMarkQueue&quot;: Keine überladene Funktion konnte alle Argumenttypen konvertieren\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/satbMarkQueue.hpp(84): note: kann &quot;SATBMarkQueue::SATBMarkQueue(const SATBMarkQueue &amp;)&quot; sein\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: &quot;SATBMarkQueue::SATBMarkQueue(const SATBMarkQueue &amp;)&quot; : Konvertierung von Argument 1 von &quot;G1SATBMarkQueueSet *&quot; in &quot;const SATBMarkQueue &amp;&quot; nicht möglich\n\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: Die Typen, auf die verwiesen wird, sind unabhängig; die Konvertierung erfordert eine reinterpret_cast-Umwandlung, eine C-Stil-Umwandlung oder eine in Klammern gesetzte Umwandlung im Funktionsstil.\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: bei Anpassung der Argumentliste &quot;(G1SATBMarkQueueSet *)&quot;\nHinweis: Einlesen der Datei:     c:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/accessBarrierSupport.inline.hpp\nHinweis: Einlesen der Datei:      c:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/accessBarrierSupport.hpp\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1BarrierSet.inline.hpp(42): error C2039: &quot;is_active&quot; ist kein Member von &quot;G1SATBMarkQueueSet&quot;.\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1SATBMarkQueueSet.hpp(33): note: Siehe Deklaration von &quot;G1SATBMarkQueueSet&quot;\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1BarrierSet.inline.hpp(45): error C2039: &quot;enqueue_known_active&quot; ist kein Member von &quot;G1SATBMarkQueueSet&quot;.\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1SATBMarkQueueSet.hpp(33): note: Siehe Deklaration von &quot;G1SATBMarkQueueSet&quot;\n</code></pre>\n"},{"tags":["java","intellij-idea","ide"],"answers":[{"tags":[],"owner":{"display_name":"user65839"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464365114,"creation_date":1464365114,"answer_id":37487954,"question_id":37486883,"body_markdown":"Not exactly what you&#39;re looking for, but you can get a bit closer with [postfix completion][1]. After typing `sa` and realizing that you want to call a method on it, you can type `.par`&lt;kbd&gt;Tab&lt;/kbd&gt; to put the parenthesis around it, then &lt;kbd&gt;Home&lt;/kbd&gt; to go back to the start of the line and you can type `Collections.sing`&lt;kbd&gt;Tab&lt;/kbd&gt; to complete the method call.\r\n\r\nThat is, I think completion works the way you want if you put the parenthesis around the argument first. I&#39;m not aware of a better way, though I&#39;d be fine to be proven wrong.\r\n\r\n\r\n  [1]: https://blog.jetbrains.com/idea/2014/03/postfix-completion/","title":"Surround with suggestions from auto-complete in Intellij?","body":"<p>Not exactly what you're looking for, but you can get a bit closer with <a href=\"https://blog.jetbrains.com/idea/2014/03/postfix-completion/\" rel=\"nofollow\">postfix completion</a>. After typing <code>sa</code> and realizing that you want to call a method on it, you can type <code>.par</code><kbd>Tab</kbd> to put the parenthesis around it, then <kbd>Home</kbd> to go back to the start of the line and you can type <code>Collections.sing</code><kbd>Tab</kbd> to complete the method call.</p>\n\n<p>That is, I think completion works the way you want if you put the parenthesis around the argument first. I'm not aware of a better way, though I'd be fine to be proven wrong.</p>\n"},{"tags":[],"owner":{"account_id":122835,"reputation":925,"user_id":316897,"accept_rate":89,"display_name":"Char"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688568091,"creation_date":1620203368,"answer_id":67397728,"question_id":37486883,"body_markdown":"In mac it is &lt;kbd&gt;command&lt;/kbd&gt; + &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt;\r\n\r\nThat will surround sa with the completed code.\r\n\r\nThat action is called complete current statement, &lt;kbd&gt;ctr&lt;/kbd&gt; + &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; on windows with the default keymap.","title":"Surround with suggestions from auto-complete in Intellij?","body":"<p>In mac it is <kbd>command</kbd> + <kbd>shift</kbd> + <kbd>enter</kbd></p>\n<p>That will surround sa with the completed code.</p>\n<p>That action is called complete current statement, <kbd>ctr</kbd> + <kbd>shift</kbd> + <kbd>enter</kbd> on windows with the default keymap.</p>\n"}],"owner":{"account_id":1351838,"reputation":9009,"user_id":1291238,"accept_rate":81,"display_name":"Random42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67397728,"answer_count":2,"score":3,"last_activity_date":1688568091,"creation_date":1464361848,"question_id":37486883,"body_markdown":"Suppose you have the following method\r\n\r\n    void consume(List&lt;String&gt; list) { ...\r\n\r\nAnd somewhere you have, and want to call the method from above. \r\n\r\n    String sa = &quot;whatever&quot;;\r\n\r\nIf you type:\r\n\r\n`sa` \r\n\r\nand then put the cursor before `sa` and want to autocomplete \r\n\r\n`Collections.sing`|`sa` then &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;Space&lt;/kbd&gt; then &lt;kbd&gt;Enter&lt;/kbd&gt;\r\n\r\nwhat you&#39;ll get is\r\n\r\n`Collections.singletonList()sa` and you want `Collections.singletonList(sa)`\r\n\r\nIs there a way to automatically surround the variable with what auto-complete returns? \r\n","title":"Surround with suggestions from auto-complete in Intellij?","body":"<p>Suppose you have the following method</p>\n\n<pre><code>void consume(List&lt;String&gt; list) { ...\n</code></pre>\n\n<p>And somewhere you have, and want to call the method from above. </p>\n\n<pre><code>String sa = \"whatever\";\n</code></pre>\n\n<p>If you type:</p>\n\n<p><code>sa</code> </p>\n\n<p>and then put the cursor before <code>sa</code> and want to autocomplete </p>\n\n<p><code>Collections.sing</code>|<code>sa</code> then <kbd>CTRL</kbd>+<kbd>Space</kbd> then <kbd>Enter</kbd></p>\n\n<p>what you'll get is</p>\n\n<p><code>Collections.singletonList()sa</code> and you want <code>Collections.singletonList(sa)</code></p>\n\n<p>Is there a way to automatically surround the variable with what auto-complete returns? </p>\n"},{"tags":["java","spring","garbage-collection"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1503061075,"post_id":45757225,"comment_id":78471767,"body_markdown":"&quot;My&quot; garbage collector?  That&#39;s the JVM&#39;s job.  You shouldn&#39;t collect anything.  The Spring bean factory manages the beans.  All of this is Java, so it proceeds under the control of the JVM according to Java&#39;s rules.","body":"&quot;My&quot; garbage collector?  That&#39;s the JVM&#39;s job.  You shouldn&#39;t collect anything.  The Spring bean factory manages the beans.  All of this is Java, so it proceeds under the control of the JVM according to Java&#39;s rules."},{"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"score":0,"creation_date":1503061291,"post_id":45757225,"comment_id":78471935,"body_markdown":"I meant to say like if I work on JVM development, how I would manage it. I have updated the question now to not create the confusion.","body":"I meant to say like if I work on JVM development, how I would manage it. I have updated the question now to not create the confusion."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1503061369,"post_id":45757225,"comment_id":78471985,"body_markdown":"JVM development?  You aren&#39;t writing a JVM, are you?  Spring is doing it properly.  You shouldn&#39;t be bothering about it.  Better to understand the life cycle of Spring beans and understand how it interacts with the JVM and the GC.  I do not understand your repeated references to the stack trace.  That doesn&#39;t have anything to do with garbage collection or memory management.  This question makes no sense at all.","body":"JVM development?  You aren&#39;t writing a JVM, are you?  Spring is doing it properly.  You shouldn&#39;t be bothering about it.  Better to understand the life cycle of Spring beans and understand how it interacts with the JVM and the GC.  I do not understand your repeated references to the stack trace.  That doesn&#39;t have anything to do with garbage collection or memory management.  This question makes no sense at all."},{"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"score":0,"creation_date":1503061464,"post_id":45757225,"comment_id":78472077,"body_markdown":"How spring handles it? I just want to know how it is handled. I was asked this question during an interview. I was unable to think about it. So I am asking it here.","body":"How spring handles it? I just want to know how it is handled. I was asked this question during an interview. I was unable to think about it. So I am asking it here."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1503061502,"post_id":45757225,"comment_id":78472104,"body_markdown":"You aren&#39;t getting that job if you keep thinking that stack traces have anything to do with garbage collection.  Go learn Java.","body":"You aren&#39;t getting that job if you keep thinking that stack traces have anything to do with garbage collection.  Go learn Java."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1503061529,"post_id":45757225,"comment_id":78472114,"body_markdown":"There&#39;s nothing to handle. The JVM is responsible to collect garbage. Not you. Not Spring. Spring beans are not special objects that need to be taken care of differently from any other Java object, regarding GC.","body":"There&#39;s nothing to handle. The JVM is responsible to collect garbage. Not you. Not Spring. Spring beans are not special objects that need to be taken care of differently from any other Java object, regarding GC."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1503061966,"post_id":45757225,"comment_id":78472453,"body_markdown":"Spring beans are POJOs, just like your &quot;normal&quot; objects.  There is no difference. The live on the heap and are managed by the JVM garbage collector.  All Spring has done is given you a well-written, configurable object factory for managing dependency injection.","body":"Spring beans are POJOs, just like your &quot;normal&quot; objects.  There is no difference. The live on the heap and are managed by the JVM garbage collector.  All Spring has done is given you a well-written, configurable object factory for managing dependency injection."},{"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"score":0,"creation_date":1503062105,"post_id":45757225,"comment_id":78472582,"body_markdown":"I was asked if I had to work in  development of a garbage collector in a JVM, how would I make it? I answered I will track the objects via stack of call to know the active objects so this was an added question to that, how will I garbage collect spring objects. And yes I am learning java and I will go and learn more. Thanks for reminding me.","body":"I was asked if I had to work in  development of a garbage collector in a JVM, how would I make it? I answered I will track the objects via stack of call to know the active objects so this was an added question to that, how will I garbage collect spring objects. And yes I am learning java and I will go and learn more. Thanks for reminding me."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1503062701,"post_id":45757225,"comment_id":78473041,"body_markdown":"The Java GC doesn&#39;t care about stacks of calls. It cares about static variables referencing objects, and threads containing references to objects in their stack. If an object is reachable through a chain of strong references from any of those root references, then the object is not a candidate for GC. All the others are. Spring beans are no different.","body":"The Java GC doesn&#39;t care about stacks of calls. It cares about static variables referencing objects, and threads containing references to objects in their stack. If an object is reachable through a chain of strong references from any of those root references, then the object is not a candidate for GC. All the others are. Spring beans are no different."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1503062751,"post_id":45757225,"comment_id":78473075,"body_markdown":"Start with the basics.   This question is too broad for SO.  You won&#39;t learn how to do it here.   https://www.dynatrace.com/resources/ebooks/javabook/how-garbage-collection-works/","body":"Start with the basics.   This question is too broad for SO.  You won&#39;t learn how to do it here.   <a href=\"https://www.dynatrace.com/resources/ebooks/javabook/how-garbage-collection-works/\" rel=\"nofollow noreferrer\">dynatrace.com/resources/ebooks/javabook/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":122835,"reputation":925,"user_id":316897,"accept_rate":89,"display_name":"Char"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688567884,"creation_date":1688567884,"answer_id":76621440,"question_id":45757225,"body_markdown":"The beans instantiated by Spring are not in &quot;your&quot; stack, as in they are not variables you have manually created, but they are in the Spring IOC stack which manages its lifecycle, and it is holding reference to locate all those beans, ergo, they are referenced and their &quot;stack&quot; is alive while the application is up.\r\n\r\nSpring is keeping all your beans referenced in a SingletonBeanRegistry which hold maps of your beans and different ways to access them, so as they are referenced there, usually the GC will not dispose of them.","title":"Garbage Collection of Spring Beans","body":"<p>The beans instantiated by Spring are not in &quot;your&quot; stack, as in they are not variables you have manually created, but they are in the Spring IOC stack which manages its lifecycle, and it is holding reference to locate all those beans, ergo, they are referenced and their &quot;stack&quot; is alive while the application is up.</p>\n<p>Spring is keeping all your beans referenced in a SingletonBeanRegistry which hold maps of your beans and different ways to access them, so as they are referenced there, usually the GC will not dispose of them.</p>\n"}],"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1548,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1688567884,"creation_date":1503060920,"question_id":45757225,"body_markdown":"How the the objects managed by spring are garbage collected? Java garbage collector can find the normal objects (I mean I have not injected them via dependency injection).\r\n\r\nHow does the garbage collector collect spring beans? Since it cannot track them via stack. I would like the gc to garbage collect the spring beans that not being used.","title":"Garbage Collection of Spring Beans","body":"<p>How the the objects managed by spring are garbage collected? Java garbage collector can find the normal objects (I mean I have not injected them via dependency injection).</p>\n\n<p>How does the garbage collector collect spring beans? Since it cannot track them via stack. I would like the gc to garbage collect the spring beans that not being used.</p>\n"},{"tags":["java","jpa","persistence"],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688567805,"creation_date":1688567376,"answer_id":76621366,"question_id":76621254,"body_markdown":"Take a look at this answer: https://stackoverflow.com/a/74996933/1842599\r\nI quote:\r\n\r\n&gt; The javax.persistence package was moved to a newly named dependency (jakarta.persistence. The persistence package is part of the larger JPA (Java Persistence API). See [Intro to JPA][1]\r\n\r\nCan that be the problem in your case, that you&#39;re just using the wrong version of JPA? \r\n\r\n\r\n  [1]: https://www.infoworld.com/article/3379043/what-is-jpa-introduction-to-the-java-persistence-api.html","title":"Enterprise development with Java","body":"<p>Take a look at this answer: <a href=\"https://stackoverflow.com/a/74996933/1842599\">https://stackoverflow.com/a/74996933/1842599</a>\nI quote:</p>\n<blockquote>\n<p>The javax.persistence package was moved to a newly named dependency (jakarta.persistence. The persistence package is part of the larger JPA (Java Persistence API). See <a href=\"https://www.infoworld.com/article/3379043/what-is-jpa-introduction-to-the-java-persistence-api.html\" rel=\"nofollow noreferrer\">Intro to JPA</a></p>\n</blockquote>\n<p>Can that be the problem in your case, that you're just using the wrong version of JPA?</p>\n"}],"owner":{"account_id":4375090,"reputation":17,"user_id":3568337,"display_name":"rickycardoaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688567805,"creation_date":1688566534,"question_id":76621254,"body_markdown":"I am doing this course called enterprise development with java. Our lecture gave us the below code, but i am getting error messages saying the import javax.persistence connot be resolved. Ive been searching for answers but now. Please help. \r\n\r\n```\r\npackage Guest; \r\n \r\nimport java.io.Serializable; \r\nimport java.sql.Date; \r\nimport javax.persistence.Entity; \r\nimport javax.persistence.GeneratedValue; \r\nimport javax.persistence.Id; \r\n \r\n \r\n@Entity \r\npublic class guest implements Serializable { \r\n    private static final long serialVersionUID = 1L; \r\n \r\n    // Persistent Fields: \r\n    @Id @GeneratedValue \r\n    Long id; \r\n    private String name; \r\n    private Date signingDate; \r\n \r\n    // Constructors: \r\n    public guest() { \r\n    } \r\n \r\n    public guest(String name) { \r\n        this.name = name; \r\n        this.signingDate = new Date(System.currentTimeMillis()); \r\n    } \r\n \r\n    // String Representation: \r\n    @Override \r\n    public String toString() { \r\n        return name + &quot; (signed on &quot; + signingDate + &quot;)&quot;; \r\n    } \r\n}`\r\n```\r\n\r\nI tried recreating the project, follwed some inline suggestion, enabling JPA. ","title":"Enterprise development with Java","body":"<p>I am doing this course called enterprise development with java. Our lecture gave us the below code, but i am getting error messages saying the import javax.persistence connot be resolved. Ive been searching for answers but now. Please help.</p>\n<pre><code>package Guest; \n \nimport java.io.Serializable; \nimport java.sql.Date; \nimport javax.persistence.Entity; \nimport javax.persistence.GeneratedValue; \nimport javax.persistence.Id; \n \n \n@Entity \npublic class guest implements Serializable { \n    private static final long serialVersionUID = 1L; \n \n    // Persistent Fields: \n    @Id @GeneratedValue \n    Long id; \n    private String name; \n    private Date signingDate; \n \n    // Constructors: \n    public guest() { \n    } \n \n    public guest(String name) { \n        this.name = name; \n        this.signingDate = new Date(System.currentTimeMillis()); \n    } \n \n    // String Representation: \n    @Override \n    public String toString() { \n        return name + &quot; (signed on &quot; + signingDate + &quot;)&quot;; \n    } \n}`\n</code></pre>\n<p>I tried recreating the project, follwed some inline suggestion, enabling JPA.</p>\n"},{"tags":["java","android","authentication","sdk"],"owner":{"account_id":25412470,"reputation":1,"user_id":19220032,"display_name":"Roop sagar Teella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688567461,"creation_date":1688556461,"question_id":76619866,"body_markdown":"I am trying to implement Truecaller Verification in my app but I continuously getting Error code 3 for 2 days I tried 3 types of SHA1 keys 1) Debug 2) Release 3)keytool -list -v -keystore {keystore_name} -alias {alias_name} none of them worked for me also I referred [here][1] but couldn&#39;t solve my issue can someone please tell me how to solve it?\r\n\r\nMY CODE:\r\n**MainActivity.java**\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Button verifyUser;\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        verifyUser = findViewById(R.id.VerifyUser);\r\n\r\n        verifyUser.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                getUserDetails();\r\n            }\r\n        });\r\n        TruecallerSdkScope trueScope = new TruecallerSdkScope.Builder(this, sdkCallback)\r\n                .consentMode(TruecallerSdkScope.CONSENT_MODE_BOTTOMSHEET)\r\n                .buttonColor(Color.parseColor(&quot;#454545&quot;))\r\n                .buttonTextColor(Color.parseColor(&quot;#FFFFFF&quot;))\r\n                .loginTextPrefix(TruecallerSdkScope.LOGIN_TEXT_PREFIX_TO_GET_STARTED)\r\n                .loginTextSuffix(TruecallerSdkScope.LOGIN_TEXT_SUFFIX_PLEASE_VERIFY_MOBILE_NO)\r\n                .ctaTextPrefix(TruecallerSdkScope.CTA_TEXT_PREFIX_USE)\r\n                .buttonShapeOptions(TruecallerSdkScope.BUTTON_SHAPE_ROUNDED)\r\n                .privacyPolicyUrl(&quot;&lt;&lt;YOUR_PRIVACY_POLICY_LINK&gt;&gt;&quot;)\r\n                .termsOfServiceUrl(&quot;&lt;&lt;YOUR_PRIVACY_POLICY_LINK&gt;&gt;&quot;)\r\n                .footerType(TruecallerSdkScope.FOOTER_TYPE_ANOTHER_METHOD)\r\n                .consentTitleOption(TruecallerSdkScope.SDK_CONSENT_TITLE_VERIFY)\r\n                .sdkOptions(TruecallerSdkScope.SDK_OPTION_WITHOUT_OTP)\r\n                .build();\r\n        TruecallerSDK.init(trueScope);\r\n\r\n\r\n    }\r\n    private final ITrueCallback sdkCallback = new ITrueCallback() {\r\n\r\n        @Override\r\n        public void onSuccessProfileShared(@NonNull final TrueProfile trueProfile) {\r\n            Toast.makeText(MainActivity.this, &quot;successful&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        @Override\r\n        public void onFailureProfileShared(@NonNull final TrueError trueError) {\r\n            Log.d(&quot;checksdk&quot; , &quot;error&quot; + trueError.getErrorType());\r\n        }\r\n\r\n        @Override\r\n        public void onVerificationRequired(@Nullable final TrueError trueError) {\r\n        }\r\n\r\n    };\r\n\r\n    public void getUserDetails(){\r\n        if(TruecallerSDK.getInstance().isUsable()){\r\n            Locale locale = new Locale(&quot;en&quot;);\r\n            TruecallerSDK.getInstance().setLocale(locale);\r\n            TruecallerSDK.getInstance().getUserProfile(MainActivity.this);\r\n        }\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == TruecallerSDK.SHARE_PROFILE_REQUEST_CODE) {\r\n            TruecallerSDK.getInstance().onActivityResultObtained(this, requestCode, resultCode, data);\r\n        }\r\n    }\r\n}\r\n```\r\nManifest\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-sdk tools:overrideLibrary=&quot;com.truecaller.android.sdk&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    \r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.LoginOtp&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;meta-data android:name=&quot;com.truecaller.android.sdk.PartnerKey&quot; android:value=&quot;@string/partnerKey&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45369186/truecaller-android-sdk-error-code-3","title":"TrueCaller Android SDK ERROR_TYPE_UNAUTHORIZED_PARTNER","body":"<p>I am trying to implement Truecaller Verification in my app but I continuously getting Error code 3 for 2 days I tried 3 types of SHA1 keys 1) Debug 2) Release 3)keytool -list -v -keystore {keystore_name} -alias {alias_name} none of them worked for me also I referred <a href=\"https://stackoverflow.com/questions/45369186/truecaller-android-sdk-error-code-3\">here</a> but couldn't solve my issue can someone please tell me how to solve it?</p>\n<p>MY CODE:\n<strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private Button verifyUser;\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        verifyUser = findViewById(R.id.VerifyUser);\n\n        verifyUser.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                getUserDetails();\n            }\n        });\n        TruecallerSdkScope trueScope = new TruecallerSdkScope.Builder(this, sdkCallback)\n                .consentMode(TruecallerSdkScope.CONSENT_MODE_BOTTOMSHEET)\n                .buttonColor(Color.parseColor(&quot;#454545&quot;))\n                .buttonTextColor(Color.parseColor(&quot;#FFFFFF&quot;))\n                .loginTextPrefix(TruecallerSdkScope.LOGIN_TEXT_PREFIX_TO_GET_STARTED)\n                .loginTextSuffix(TruecallerSdkScope.LOGIN_TEXT_SUFFIX_PLEASE_VERIFY_MOBILE_NO)\n                .ctaTextPrefix(TruecallerSdkScope.CTA_TEXT_PREFIX_USE)\n                .buttonShapeOptions(TruecallerSdkScope.BUTTON_SHAPE_ROUNDED)\n                .privacyPolicyUrl(&quot;&lt;&lt;YOUR_PRIVACY_POLICY_LINK&gt;&gt;&quot;)\n                .termsOfServiceUrl(&quot;&lt;&lt;YOUR_PRIVACY_POLICY_LINK&gt;&gt;&quot;)\n                .footerType(TruecallerSdkScope.FOOTER_TYPE_ANOTHER_METHOD)\n                .consentTitleOption(TruecallerSdkScope.SDK_CONSENT_TITLE_VERIFY)\n                .sdkOptions(TruecallerSdkScope.SDK_OPTION_WITHOUT_OTP)\n                .build();\n        TruecallerSDK.init(trueScope);\n\n\n    }\n    private final ITrueCallback sdkCallback = new ITrueCallback() {\n\n        @Override\n        public void onSuccessProfileShared(@NonNull final TrueProfile trueProfile) {\n            Toast.makeText(MainActivity.this, &quot;successful&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onFailureProfileShared(@NonNull final TrueError trueError) {\n            Log.d(&quot;checksdk&quot; , &quot;error&quot; + trueError.getErrorType());\n        }\n\n        @Override\n        public void onVerificationRequired(@Nullable final TrueError trueError) {\n        }\n\n    };\n\n    public void getUserDetails(){\n        if(TruecallerSDK.getInstance().isUsable()){\n            Locale locale = new Locale(&quot;en&quot;);\n            TruecallerSDK.getInstance().setLocale(locale);\n            TruecallerSDK.getInstance().getUserProfile(MainActivity.this);\n        }\n    }\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == TruecallerSDK.SHARE_PROFILE_REQUEST_CODE) {\n            TruecallerSDK.getInstance().onActivityResultObtained(this, requestCode, resultCode, data);\n        }\n    }\n}\n</code></pre>\n<p>Manifest</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-sdk tools:overrideLibrary=&quot;com.truecaller.android.sdk&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    \n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.LoginOtp&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;meta-data android:name=&quot;com.truecaller.android.sdk.PartnerKey&quot; android:value=&quot;@string/partnerKey&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1299348557,"creation_date":1299348557,"answer_id":5205726,"question_id":5205702,"body_markdown":"The regex `\\d{4}` would probably suffice - it will match all strings containing 4 subsequent digits. You can perhaps have some more specific cases, like `19\\d{2}|20\\d{2}` ","title":"Find years with regular expression","body":"<p>The regex <code>\\d{4}</code> would probably suffice - it will match all strings containing 4 subsequent digits. You can perhaps have some more specific cases, like <code>19\\d{2}|20\\d{2}</code> </p>\n"},{"tags":[],"owner":{"account_id":314111,"reputation":634,"user_id":629125,"display_name":"RedSoxFan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299348566,"creation_date":1299348566,"answer_id":5205727,"question_id":5205702,"body_markdown":"    //ArrayList&lt;String&gt; list = ....\r\n    String year = &quot;1990&quot;;\r\n    ArrayList&lt;String&gt; toRemove = new ArrayList&lt;String&gt;();\r\n    for (String str:list) {\r\n       if (str.matches(&quot;.*&quot;+year+&quot;.*&quot;)) {\r\n          toRemove.add(str);\r\n       }\r\n    }\r\n    for (String str:toRemove) list.remove(str);\r\n    toRemove = null;\r\n\r\nUse a toRemove list to prevent a java.util.ConcurrentModificationException","title":"Find years with regular expression","body":"<pre><code>//ArrayList&lt;String&gt; list = ....\nString year = \"1990\";\nArrayList&lt;String&gt; toRemove = new ArrayList&lt;String&gt;();\nfor (String str:list) {\n   if (str.matches(\".*\"+year+\".*\")) {\n      toRemove.add(str);\n   }\n}\nfor (String str:toRemove) list.remove(str);\ntoRemove = null;\n</code></pre>\n\n<p>Use a toRemove list to prevent a java.util.ConcurrentModificationException</p>\n"},{"tags":[],"owner":{"account_id":241829,"reputation":17230,"user_id":512904,"accept_rate":92,"display_name":"Matheus Moreira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1299357874,"creation_date":1299348850,"answer_id":5205758,"question_id":5205702,"body_markdown":"If you are using the `YYYY` date format, the regular expression `^\\d{4}` should work for any date in the beginning of the String.\r\n\r\n    String str = &quot;1990s music groups&quot;;\r\n    boolean shouldDelete = str.matches(&quot;^\\d{4}&quot;);\r\n    if (shouldDelete) {\r\n        // Delete string\r\n    }\r\n\r\nIf you want to match the date in any part of the String, simply remove the leading `^`.","title":"Find years with regular expression","body":"<p>If you are using the <code>YYYY</code> date format, the regular expression <code>^\\d{4}</code> should work for any date in the beginning of the String.</p>\n\n<pre><code>String str = \"1990s music groups\";\nboolean shouldDelete = str.matches(\"^\\d{4}\");\nif (shouldDelete) {\n    // Delete string\n}\n</code></pre>\n\n<p>If you want to match the date in any part of the String, simply remove the leading <code>^</code>.</p>\n"},{"tags":[],"owner":{"account_id":3377699,"reputation":13,"user_id":2835525,"display_name":"MarG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442903870,"creation_date":1442903870,"answer_id":32710015,"question_id":5205702,"body_markdown":"For a more specific year rate (1970-2029)  I&#39;ve used:\r\n\r\n   \r\n \r\n\r\n    Pattern pattern;\r\n    Matcher matcher;\r\n    String errorTag = null;\r\n    private static final String PATTERN_YEAR = &quot;^(197\\\\d{1}|198\\\\d{1}|199\\\\d{1}|200\\\\d{1}|201\\\\d{1}|202\\\\d{1})&quot;;\r\n\r\n...\r\n\r\n    if (filter.getName().contains(&quot;YYYY&quot;)){\r\n        pattern = Pattern.compile(PATTERN_YEAR);\r\n    \tmatcher = pattern.matcher(filter.getValue());\r\n    \t  if(!matcher.matches()){\t\r\n    \t\t  errorTag= &quot; *** The year is invalid, review the rate&quot;;\r\n  \r\n\r\n      \t}\r\n    }","title":"Find years with regular expression","body":"<p>For a more specific year rate (1970-2029)  I've used:</p>\n\n<pre><code>Pattern pattern;\nMatcher matcher;\nString errorTag = null;\nprivate static final String PATTERN_YEAR = \"^(197\\\\d{1}|198\\\\d{1}|199\\\\d{1}|200\\\\d{1}|201\\\\d{1}|202\\\\d{1})\";\n</code></pre>\n\n<p>...</p>\n\n<pre><code>if (filter.getName().contains(\"YYYY\")){\n    pattern = Pattern.compile(PATTERN_YEAR);\n    matcher = pattern.matcher(filter.getValue());\n      if(!matcher.matches()){   \n          errorTag= \" *** The year is invalid, review the rate\";\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2246677,"reputation":384,"user_id":1979870,"accept_rate":83,"display_name":"Mahesh Budeti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688567047,"creation_date":1688567047,"answer_id":76621326,"question_id":5205702,"body_markdown":"I am landing here every time I search for regex for validating year and I tried all the answers but couldn&#39;t get it work properly finally the following regex worked for me\r\n\r\n    ^(19|20)\\d{2}$","title":"Find years with regular expression","body":"<p>I am landing here every time I search for regex for validating year and I tried all the answers but couldn't get it work properly finally the following regex worked for me</p>\n<pre><code>^(19|20)\\d{2}$\n</code></pre>\n"}],"owner":{"account_id":310195,"reputation":489,"user_id":623054,"accept_rate":62,"display_name":"Francesco Nigro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8751,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":5205758,"answer_count":5,"score":5,"last_activity_date":1688567047,"creation_date":1299348322,"question_id":5205702,"body_markdown":"Dear, i would delete from a list, the strings that contain a date.\r\nEx: &quot;1990s music groups&quot; must be deleted.\r\n\r\nCan I do this in java?\r\n\r\n","title":"Find years with regular expression","body":"<p>Dear, i would delete from a list, the strings that contain a date.\nEx: \"1990s music groups\" must be deleted.</p>\n\n<p>Can I do this in java?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687140380,"creation_date":1687140380,"answer_id":76503232,"question_id":76503114,"body_markdown":"There are some tools can help you to pares json string like `Jackson`,`Gson`.\r\n\r\nI wrote a sample code with `Jackson`,hope it can help you. \r\n\r\nFor more ways to use `Jackson`, you need to learn for yourself.\r\n\r\n    public static void main(String[] args)  throws Exception{\r\n        String responseString = &quot;[{\\&quot;title\\&quot;: \\&quot;Recipe 1\\&quot;, \\&quot;ingredients\\&quot;: \\&quot;blah\\&quot;, \\&quot;instructions\\&quot;: \\&quot;blah\\&quot;}, {\\&quot;title\\&quot;: \\&quot;recipe 2\\&quot;}]&quot;;\r\n        List&lt;Recipe&gt; recipeList = parseResponse( responseString);\r\n        for (Recipe recipe : recipeList) {\r\n            System.out.println(recipe);\r\n        }\r\n    }\r\n\r\n    static List&lt;Recipe&gt; parseResponse( String s )  {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            return mapper.readValue(s, new TypeReference&lt;List&lt;Recipe&gt;&gt;() {\r\n            });\r\n        }catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return new ArrayList&lt;&gt;();\r\n\r\n    }\r\n    static class Recipe{\r\n        String title;\r\n        String ingredients;\r\n        String servings;\r\n        String instructions;\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n\r\n        public String getIngredients() {\r\n            return ingredients;\r\n        }\r\n\r\n        public void setIngredients(String ingredients) {\r\n            this.ingredients = ingredients;\r\n        }\r\n\r\n        public String getServings() {\r\n            return servings;\r\n        }\r\n\r\n        public void setServings(String servings) {\r\n            this.servings = servings;\r\n        }\r\n\r\n        public String getInstructions() {\r\n            return instructions;\r\n        }\r\n\r\n        public void setInstructions(String instructions) {\r\n            this.instructions = instructions;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Recipe{&quot; +\r\n                    &quot;title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n                    &quot;, ingredients=&#39;&quot; + ingredients + &#39;\\&#39;&#39; +\r\n                    &quot;, servings=&#39;&quot; + servings + &#39;\\&#39;&#39; +\r\n                    &quot;, instructions=&#39;&quot; + instructions + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }","title":"Parsing HttpResponse from API into objects","body":"<p>There are some tools can help you to pares json string like <code>Jackson</code>,<code>Gson</code>.</p>\n<p>I wrote a sample code with <code>Jackson</code>,hope it can help you.</p>\n<p>For more ways to use <code>Jackson</code>, you need to learn for yourself.</p>\n<pre><code>public static void main(String[] args)  throws Exception{\n    String responseString = &quot;[{\\&quot;title\\&quot;: \\&quot;Recipe 1\\&quot;, \\&quot;ingredients\\&quot;: \\&quot;blah\\&quot;, \\&quot;instructions\\&quot;: \\&quot;blah\\&quot;}, {\\&quot;title\\&quot;: \\&quot;recipe 2\\&quot;}]&quot;;\n    List&lt;Recipe&gt; recipeList = parseResponse( responseString);\n    for (Recipe recipe : recipeList) {\n        System.out.println(recipe);\n    }\n}\n\nstatic List&lt;Recipe&gt; parseResponse( String s )  {\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        return mapper.readValue(s, new TypeReference&lt;List&lt;Recipe&gt;&gt;() {\n        });\n    }catch (Exception e) {\n        e.printStackTrace();\n    }\n    return new ArrayList&lt;&gt;();\n\n}\nstatic class Recipe{\n    String title;\n    String ingredients;\n    String servings;\n    String instructions;\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getIngredients() {\n        return ingredients;\n    }\n\n    public void setIngredients(String ingredients) {\n        this.ingredients = ingredients;\n    }\n\n    public String getServings() {\n        return servings;\n    }\n\n    public void setServings(String servings) {\n        this.servings = servings;\n    }\n\n    public String getInstructions() {\n        return instructions;\n    }\n\n    public void setInstructions(String instructions) {\n        this.instructions = instructions;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Recipe{&quot; +\n                &quot;title='&quot; + title + '\\'' +\n                &quot;, ingredients='&quot; + ingredients + '\\'' +\n                &quot;, servings='&quot; + servings + '\\'' +\n                &quot;, instructions='&quot; + instructions + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28847381,"reputation":3,"user_id":22094054,"display_name":"basky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503232,"answer_count":1,"score":0,"last_activity_date":1688567045,"creation_date":1687137316,"question_id":76503114,"body_markdown":"I&#39;m working on a Recipe app in the very early stages. I&#39;ve never used API&#39;s before but I get the basic understanding of it, I have done A LOT of searching to get this far but basically here&#39;s the deal: I&#39;m using a Recipe API from RapidAPI that can return multiple responses. I would like to parse all of the responses into objects of my Recipe class. I have got the code working and functional but I feel like there has to be a better way of accomplishing what I am trying to do. I am currently using a function to parse the String into an ArrayList of Recipe objects using a Try Catch block to terminate when it hits the index out of bounds exception. \r\n\r\nThe way Rapid API sends the information over is in string format but each recipe is enclosed in its own {curly braces} so I was wondering if there wasn&#39;t some way to manipulate the data with that in mind(maybe something with an array?) but haven&#39;t been able to figure anything out. Anyways I&#39;m going to include my code and I will also include a sample of what is returned from the API.\r\n\r\n\r\n`responseString` looks like this:\r\n```json\r\n[{&quot;title&quot;: &quot;Recipe 1&quot;, &quot;ingredients&quot;: &quot;blah&quot;, &quot;instructions&quot;: &quot;blah&quot;}, {&quot;title&quot;: &quot;recipe 2&quot;, etc}]\r\n```\r\n\r\n\r\n```\r\nclass RecipeTest {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;https://recipe-by-api-ninjas.p.rapidapi.com/v1/recipe?query=chocolate%20chip%20cookies&quot;))\r\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;myApiKey&quot;)\r\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;theApiHost&quot;)\r\n                .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\r\n                .build();\r\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\r\n        String responseString = response.body();\r\n\r\n        List&lt;Recipe&gt; recipeList = parseResponse(new ArrayList&lt;Recipe&gt;(), responseString.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;), 0);\r\n\r\n        System.out.println(recipeList.get(0).print());\r\n        System.out.println(recipeList.get(1).print());\r\n        System.out.println(recipeList.get(2).print());\r\n        System.out.println(recipeList.size());\r\n\r\n    }\r\n\r\n    static List&lt;Recipe&gt; parseResponse(ArrayList&lt;Recipe&gt; recipes, String s, int begin) {\r\n\r\n        try {\r\n            int titleBeginIndex = s.indexOf(&quot;title:&quot;, begin);\r\n            int titleEndIndex = s.indexOf(&quot;,&quot;, titleBeginIndex);\r\n\r\n            int ingredientsBeginIndex = s.indexOf(&quot;ingredients:&quot;, titleEndIndex);\r\n            int ingredientsEndIndex = s.indexOf(&quot;,&quot;, ingredientsBeginIndex);\r\n\r\n            int servingsBeginIndex = s.indexOf(&quot;servings:&quot;, ingredientsEndIndex);\r\n            int servingsEndIndex = s.indexOf(&quot;,&quot;, servingsBeginIndex);\r\n\r\n            int instructionsBeginIndex = s.indexOf(&quot;instructions:&quot;, servingsEndIndex);\r\n            int instructionsEndIndex = s.indexOf(&quot;}&quot;, instructionsBeginIndex);\r\n\r\n            String title = s.substring(titleBeginIndex, titleEndIndex);\r\n            String ingredients = s.substring(ingredientsBeginIndex, ingredientsEndIndex);\r\n            String servings = s.substring(servingsBeginIndex, servingsEndIndex);\r\n            String instructions = s.substring(instructionsBeginIndex, instructionsEndIndex);\r\n\r\n            recipes.add(new Recipe(title, ingredients, servings, instructions));\r\n\r\n            parseResponse(recipes, s, ingredientsEndIndex);\r\n        } finally {\r\n            return recipes;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI am just looking for a cleaner way to parse the data in an array or list of Recipe Objects. My Try... Finally block works but I feel like I&#39;m not doing it the proper way.","title":"Parsing HttpResponse from API into objects","body":"<p>I'm working on a Recipe app in the very early stages. I've never used API's before but I get the basic understanding of it, I have done A LOT of searching to get this far but basically here's the deal: I'm using a Recipe API from RapidAPI that can return multiple responses. I would like to parse all of the responses into objects of my Recipe class. I have got the code working and functional but I feel like there has to be a better way of accomplishing what I am trying to do. I am currently using a function to parse the String into an ArrayList of Recipe objects using a Try Catch block to terminate when it hits the index out of bounds exception.</p>\n<p>The way Rapid API sends the information over is in string format but each recipe is enclosed in its own {curly braces} so I was wondering if there wasn't some way to manipulate the data with that in mind(maybe something with an array?) but haven't been able to figure anything out. Anyways I'm going to include my code and I will also include a sample of what is returned from the API.</p>\n<p><code>responseString</code> looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;title&quot;: &quot;Recipe 1&quot;, &quot;ingredients&quot;: &quot;blah&quot;, &quot;instructions&quot;: &quot;blah&quot;}, {&quot;title&quot;: &quot;recipe 2&quot;, etc}]\n</code></pre>\n<pre><code>class RecipeTest {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;https://recipe-by-api-ninjas.p.rapidapi.com/v1/recipe?query=chocolate%20chip%20cookies&quot;))\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;myApiKey&quot;)\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;theApiHost&quot;)\n                .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\n                .build();\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\n        String responseString = response.body();\n\n        List&lt;Recipe&gt; recipeList = parseResponse(new ArrayList&lt;Recipe&gt;(), responseString.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;), 0);\n\n        System.out.println(recipeList.get(0).print());\n        System.out.println(recipeList.get(1).print());\n        System.out.println(recipeList.get(2).print());\n        System.out.println(recipeList.size());\n\n    }\n\n    static List&lt;Recipe&gt; parseResponse(ArrayList&lt;Recipe&gt; recipes, String s, int begin) {\n\n        try {\n            int titleBeginIndex = s.indexOf(&quot;title:&quot;, begin);\n            int titleEndIndex = s.indexOf(&quot;,&quot;, titleBeginIndex);\n\n            int ingredientsBeginIndex = s.indexOf(&quot;ingredients:&quot;, titleEndIndex);\n            int ingredientsEndIndex = s.indexOf(&quot;,&quot;, ingredientsBeginIndex);\n\n            int servingsBeginIndex = s.indexOf(&quot;servings:&quot;, ingredientsEndIndex);\n            int servingsEndIndex = s.indexOf(&quot;,&quot;, servingsBeginIndex);\n\n            int instructionsBeginIndex = s.indexOf(&quot;instructions:&quot;, servingsEndIndex);\n            int instructionsEndIndex = s.indexOf(&quot;}&quot;, instructionsBeginIndex);\n\n            String title = s.substring(titleBeginIndex, titleEndIndex);\n            String ingredients = s.substring(ingredientsBeginIndex, ingredientsEndIndex);\n            String servings = s.substring(servingsBeginIndex, servingsEndIndex);\n            String instructions = s.substring(instructionsBeginIndex, instructionsEndIndex);\n\n            recipes.add(new Recipe(title, ingredients, servings, instructions));\n\n            parseResponse(recipes, s, ingredientsEndIndex);\n        } finally {\n            return recipes;\n        }\n    }\n}\n</code></pre>\n<p>I am just looking for a cleaner way to parse the data in an array or list of Recipe Objects. My Try... Finally block works but I feel like I'm not doing it the proper way.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":2,"creation_date":1474335284,"post_id":39584374,"comment_id":66478660,"body_markdown":"Possible duplicate of [Comparing two integer arrays in java](http://stackoverflow.com/questions/14897366/comparing-two-integer-arrays-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/14897366/comparing-two-integer-arrays-in-java\">Comparing two integer arrays in java</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1474335350,"post_id":39584374,"comment_id":66478674,"body_markdown":"Using the equals method on the array won&#39;t work, by the way.  I&#39;m not sure that&#39;s the only problem, though","body":"Using the equals method on the array won&#39;t work, by the way.  I&#39;m not sure that&#39;s the only problem, though"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1474335638,"post_id":39584374,"comment_id":66478724,"body_markdown":"I&#39;d suggest learning about methods. You have two functionally identical blocks of code that generate an array of random numbers. You can read about [DRY](https://en.m.wikipedia.org/wiki/Don%27t_repeat_yourself) programming","body":"I&#39;d suggest learning about methods. You have two functionally identical blocks of code that generate an array of random numbers. You can read about <a href=\"https://en.m.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">DRY</a> programming"},{"owner":{"account_id":1108189,"reputation":3327,"user_id":1099142,"accept_rate":87,"display_name":"java_doctor_101"},"score":1,"creation_date":1474336623,"post_id":39584374,"comment_id":66478912,"body_markdown":"what exactly is your end goal? Your code looks complete to me. Which part are you having difficulty with?","body":"what exactly is your end goal? Your code looks complete to me. Which part are you having difficulty with?"},{"owner":{"account_id":9222175,"reputation":3,"user_id":6851153,"display_name":"12likea"},"score":0,"creation_date":1474336899,"post_id":39584374,"comment_id":66478981,"body_markdown":"there should be a continous loop that &quot;searches&quot; for the right numbers generated in the lorrery Array. Oh and thank you about the DRY thing. I will try to work towards it!","body":"there should be a continous loop that &quot;searches&quot; for the right numbers generated in the lorrery Array. Oh and thank you about the DRY thing. I will try to work towards it!"}],"answers":[{"tags":[],"owner":{"account_id":8461351,"reputation":143,"user_id":6346982,"display_name":"Czarking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474339611,"creation_date":1474339018,"answer_id":39584869,"question_id":39584374,"body_markdown":"So I think I just did your homework for you ... but here is some source code that does what I think you were going for.  I don&#39;t know the exact constraints of your lotto though.\r\n\r\nYou need to learn about DRY as stated in the comments this is demonstrated by my use of the random array static method.  Also based on your source code you should learn about variable scoping in java.  If you want me source to run until there is a hit that is pretty simple while loop logic.\r\n\r\n    package lotto;\r\n    /**\r\n     * @author czarking\r\n     */\r\n    public class Lotto {\r\n\r\n        private static int[] lottery = new int[6];\r\n        private static int[] guess = new int[6];\r\n\r\n        public static void main(String[] args) {\r\n            lottery = randomArray(lottery);\r\n            guess = randomArray(lottery);\r\n            boolean match = true;\r\n            for (int i=0; i&lt;lottery.length; i++) {\r\n                if (lottery[i] != guess[i])\r\n                    match = false;\r\n            }\r\n            if (match)\r\n                System.out.println(&quot;HIT!&quot;);\r\n        }\r\n\r\n        public static int[] randomArray(int[] ar) {\r\n            for (int i=0; i&lt;ar.length; i++) {\r\n                ar[i] = (int)(Math.random()*49 + 1);\r\n                System.out.println(ar[i]+&quot; &quot;);\r\n            }\r\n            return ar;\r\n        }\r\n\r\n    }","title":"Creating an automated Lottery","body":"<p>So I think I just did your homework for you ... but here is some source code that does what I think you were going for.  I don't know the exact constraints of your lotto though.</p>\n\n<p>You need to learn about DRY as stated in the comments this is demonstrated by my use of the random array static method.  Also based on your source code you should learn about variable scoping in java.  If you want me source to run until there is a hit that is pretty simple while loop logic.</p>\n\n<pre><code>package lotto;\n/**\n * @author czarking\n */\npublic class Lotto {\n\n    private static int[] lottery = new int[6];\n    private static int[] guess = new int[6];\n\n    public static void main(String[] args) {\n        lottery = randomArray(lottery);\n        guess = randomArray(lottery);\n        boolean match = true;\n        for (int i=0; i&lt;lottery.length; i++) {\n            if (lottery[i] != guess[i])\n                match = false;\n        }\n        if (match)\n            System.out.println(\"HIT!\");\n    }\n\n    public static int[] randomArray(int[] ar) {\n        for (int i=0; i&lt;ar.length; i++) {\n            ar[i] = (int)(Math.random()*49 + 1);\n            System.out.println(ar[i]+\" \");\n        }\n        return ar;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1474342220,"creation_date":1474340909,"answer_id":39585110,"question_id":39584374,"body_markdown":"So the way I understand your question is as follows: You want a program that generates a set of 6 random numbers each number within the range 1 to 50 - this represents the correct lottery numbers. You then want to have the program generate random sets of 6 numbers each of which is within the range 1 to 50 until one of these sets matches the lottery numbers. You also want the program to keep track of how many guesses were made before a win was achieved - I am assuming that this means lottery numbers are chosen once and guesses are made continually until a match occurs.\r\n\r\nNote: I do not see logic in your code sample for tracking the number of guesses, but I did implement this feature in my code below.\r\n\r\nIt is not clear whether the order of the lottery numbers is important. I wrote the code below such that the order is not important, meaning that as long as the guess contains all 6 of the lottery numbers it is considered a winner. If you want order to be important you should remove the call to `Arrays.sort(...)`\r\n\r\nHere is a solution that uses arrays since you specifically said you wanted to use arrays: \r\n\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    \r\n    public class LotteryMain {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint[] correctNumbers = createSortedArrayOfRandomInts(6);\r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot;+Arrays.toString(correctNumbers));\r\n    \t\t\r\n    \t\tint tries = 0;\r\n    \t\tint[] guessNumbers = null;\r\n    \t\tdo{\r\n    \t\t\tguessNumbers = createSortedArrayOfRandomInts(6);\r\n    \t\t\tSystem.out.println(&quot;Guessed numbers: &quot;+Arrays.toString(guessNumbers));\r\n    \t\t\ttries++;\r\n    \t\t}while(!Arrays.equals(guessNumbers, correctNumbers));\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot;+Arrays.toString(correctNumbers));\r\n    \t\tSystem.out.println(&quot;WINNER! Number of tries: &quot;+tries);\r\n    \t}\r\n    \t\r\n    \tpublic static int[] createSortedArrayOfRandomInts(int sizeOfArray){\r\n    \t\tint[] arrayOfRandomNumbers = new int[sizeOfArray];\r\n    \t\tRandom randomGen = new Random();\r\n    \t\tfor (int i = 0; i &lt; sizeOfArray; i++) {\r\n    \t        int randomNum = -1;\r\n    \t        do{\r\n    \t        \trandomNum = randomGen.nextInt(50)+1; // Random number created here.\r\n    \t        }while(contains(arrayOfRandomNumbers, randomNum));\r\n    \t        arrayOfRandomNumbers[i] = randomNum;\r\n    \t    }\r\n    \t\tArrays.sort(arrayOfRandomNumbers);\r\n    \t\treturn arrayOfRandomNumbers;\r\n    \t}\r\n    \t\r\n    \tpublic static boolean contains(int[] array, int searchFor){\r\n    \t\tfor(int i = 0; i &lt; array.length; i++){\r\n    \t\t\tif(array[i] == searchFor)\r\n    \t\t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is sample output (shortened, obviously): \r\n\r\n    ...\r\n    Guessed numbers: [5, 21, 27, 36, 40, 47]\r\n    Guessed numbers: [3, 14, 15, 28, 36, 42]\r\n    Guessed numbers: [24, 27, 31, 32, 44, 49]\r\n    Guessed numbers: [19, 21, 25, 39, 42, 46]\r\n    Lottery numbers: [19, 21, 25, 39, 42, 46]\r\n    WINNER! Number of tries: 2499043\r\n\r\nHere is a solution using classes from the [Java Collections Framework][1] because every Java programmer should be familiar with how to use these classes:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    public class LotteryWithCollections {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tList&lt;Integer&gt; correctNumbers = createSortedListOfRandomInts(6);\r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot; + correctNumbers);\r\n    \r\n    \t\tint tries = 0;\r\n    \t\tList&lt;Integer&gt; guessNumbers = null;\r\n    \t\tdo {\r\n    \t\t\tguessNumbers = createSortedListOfRandomInts(6);\r\n    \t\t\tSystem.out.println(&quot;Guessed numbers: &quot; + guessNumbers);\r\n    \t\t\ttries++;\r\n    \t\t} while (!guessNumbers.equals(correctNumbers));\r\n    \r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot; + correctNumbers);\r\n    \t\tSystem.out.println(&quot;WINNER! Number of tries: &quot; + tries);\r\n    \t}\r\n    \r\n    \tpublic static List&lt;Integer&gt; createSortedListOfRandomInts(int sizeOfList) {\r\n    \t\tList&lt;Integer&gt; listOfRandomNumbers = new ArrayList&lt;Integer&gt;();\r\n    \t\tRandom randomGen = new Random();\r\n    \t\tfor (int i = 0; i &lt; sizeOfList; i++) {\r\n    \t\t\tint randomNum = randomGen.nextInt(50) + 1; // Random number created\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t// here.\r\n    \t\t\twhile (listOfRandomNumbers.contains(randomNum)) {\r\n    \t\t\t\trandomNum = randomGen.nextInt(50) + 1;\r\n    \t\t\t}\r\n    \t\t\tlistOfRandomNumbers.add(randomNum);\r\n    \t\t}\r\n    \t\tCollections.sort(listOfRandomNumbers);\r\n    \t\treturn listOfRandomNumbers;\r\n    \t}\r\n    }\r\n\r\nSomething else to consider - right now the code allows for duplicate guesses, it might be interesting to keep track of previous guesses and disallow repeats of the same guess.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html","title":"Creating an automated Lottery","body":"<p>So the way I understand your question is as follows: You want a program that generates a set of 6 random numbers each number within the range 1 to 50 - this represents the correct lottery numbers. You then want to have the program generate random sets of 6 numbers each of which is within the range 1 to 50 until one of these sets matches the lottery numbers. You also want the program to keep track of how many guesses were made before a win was achieved - I am assuming that this means lottery numbers are chosen once and guesses are made continually until a match occurs.</p>\n\n<p>Note: I do not see logic in your code sample for tracking the number of guesses, but I did implement this feature in my code below.</p>\n\n<p>It is not clear whether the order of the lottery numbers is important. I wrote the code below such that the order is not important, meaning that as long as the guess contains all 6 of the lottery numbers it is considered a winner. If you want order to be important you should remove the call to <code>Arrays.sort(...)</code></p>\n\n<p>Here is a solution that uses arrays since you specifically said you wanted to use arrays: </p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class LotteryMain {\n    public static void main(String[] args) {\n\n        int[] correctNumbers = createSortedArrayOfRandomInts(6);\n        System.out.println(\"Lottery numbers: \"+Arrays.toString(correctNumbers));\n\n        int tries = 0;\n        int[] guessNumbers = null;\n        do{\n            guessNumbers = createSortedArrayOfRandomInts(6);\n            System.out.println(\"Guessed numbers: \"+Arrays.toString(guessNumbers));\n            tries++;\n        }while(!Arrays.equals(guessNumbers, correctNumbers));\n\n        System.out.println(\"Lottery numbers: \"+Arrays.toString(correctNumbers));\n        System.out.println(\"WINNER! Number of tries: \"+tries);\n    }\n\n    public static int[] createSortedArrayOfRandomInts(int sizeOfArray){\n        int[] arrayOfRandomNumbers = new int[sizeOfArray];\n        Random randomGen = new Random();\n        for (int i = 0; i &lt; sizeOfArray; i++) {\n            int randomNum = -1;\n            do{\n                randomNum = randomGen.nextInt(50)+1; // Random number created here.\n            }while(contains(arrayOfRandomNumbers, randomNum));\n            arrayOfRandomNumbers[i] = randomNum;\n        }\n        Arrays.sort(arrayOfRandomNumbers);\n        return arrayOfRandomNumbers;\n    }\n\n    public static boolean contains(int[] array, int searchFor){\n        for(int i = 0; i &lt; array.length; i++){\n            if(array[i] == searchFor)\n                return true;\n        }\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>Here is sample output (shortened, obviously): </p>\n\n<pre><code>...\nGuessed numbers: [5, 21, 27, 36, 40, 47]\nGuessed numbers: [3, 14, 15, 28, 36, 42]\nGuessed numbers: [24, 27, 31, 32, 44, 49]\nGuessed numbers: [19, 21, 25, 39, 42, 46]\nLottery numbers: [19, 21, 25, 39, 42, 46]\nWINNER! Number of tries: 2499043\n</code></pre>\n\n<p>Here is a solution using classes from the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html\" rel=\"nofollow\">Java Collections Framework</a> because every Java programmer should be familiar with how to use these classes:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\n\npublic class LotteryWithCollections {\n\n    public static void main(String[] args) {\n\n        List&lt;Integer&gt; correctNumbers = createSortedListOfRandomInts(6);\n        System.out.println(\"Lottery numbers: \" + correctNumbers);\n\n        int tries = 0;\n        List&lt;Integer&gt; guessNumbers = null;\n        do {\n            guessNumbers = createSortedListOfRandomInts(6);\n            System.out.println(\"Guessed numbers: \" + guessNumbers);\n            tries++;\n        } while (!guessNumbers.equals(correctNumbers));\n\n        System.out.println(\"Lottery numbers: \" + correctNumbers);\n        System.out.println(\"WINNER! Number of tries: \" + tries);\n    }\n\n    public static List&lt;Integer&gt; createSortedListOfRandomInts(int sizeOfList) {\n        List&lt;Integer&gt; listOfRandomNumbers = new ArrayList&lt;Integer&gt;();\n        Random randomGen = new Random();\n        for (int i = 0; i &lt; sizeOfList; i++) {\n            int randomNum = randomGen.nextInt(50) + 1; // Random number created\n                                                        // here.\n            while (listOfRandomNumbers.contains(randomNum)) {\n                randomNum = randomGen.nextInt(50) + 1;\n            }\n            listOfRandomNumbers.add(randomNum);\n        }\n        Collections.sort(listOfRandomNumbers);\n        return listOfRandomNumbers;\n    }\n}\n</code></pre>\n\n<p>Something else to consider - right now the code allows for duplicate guesses, it might be interesting to keep track of previous guesses and disallow repeats of the same guess.</p>\n"}],"owner":{"account_id":9222175,"reputation":3,"user_id":6851153,"display_name":"12likea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39585110,"answer_count":2,"score":0,"last_activity_date":1688566769,"creation_date":1474334954,"question_id":39584374,"body_markdown":"I would like to program an automated Lottery &quot;script&quot; which creates 2 Arrays: one holding the Lottery numbers and another holding the guess itself. Then, I check if eg. lottery[] holds numbers of the guess[], if the numbers are equal and he hits the 6 right numbers in the loop, I want the console to print out how many tries he needed. \r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] lottery = new int[6];\r\n        int[] tipp1 = new int[6];\r\n        int randomNum;\r\n        int tipp;\r\n\r\n        for (int i = 0; i &lt; 6; i++) {\r\n            randomNum = (int) (Math.random() * 49 + 1); // Random number created here.\r\n            for (int x = 0; x &lt; i; x++) {\r\n                if (lottery[x] == randomNum) // Here, code checks if same random number generated before.\r\n                {\r\n                    randomNum = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\r\n                    x = -1; // restart the loop\r\n                }\r\n            }\r\n            lottery[i] = randomNum;\r\n            System.out.print(lottery[i] + &quot; &quot;);\r\n        }\r\n\r\n        System.out.println(&quot; &quot;);\r\n\r\n        for (int c = 0; c &lt; 6; c++) {\r\n            tipp = (int) (Math.random() * 49 + 1); // Random number created here.\r\n            for (int xy = 0; xy &lt; c; xy++) {\r\n                if (tipp1[xy] == tipp) // Here, code checks if same random number generated before.\r\n                {\r\n                    tipp = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\r\n                    xy = -1; // restart the loop\r\n                }\r\n            }\r\n            tipp1[c] = tipp;\r\n            System.out.print(tipp1[c] + &quot; &quot;);\r\n        }\r\n        if (lottery.equals(tipp1)){\r\n            System.out.print(&quot;HIT!&quot;);\r\n        }\r\n    }\r\n    }\r\n    \r\nIs there a way to do this?\r\n    \r\n\r\n","title":"Creating an automated Lottery","body":"<p>I would like to program an automated Lottery \"script\" which creates 2 Arrays: one holding the Lottery numbers and another holding the guess itself. Then, I check if eg. lottery[] holds numbers of the guess[], if the numbers are equal and he hits the 6 right numbers in the loop, I want the console to print out how many tries he needed. </p>\n\n<pre><code>public static void main(String[] args) {\n\n    int[] lottery = new int[6];\n    int[] tipp1 = new int[6];\n    int randomNum;\n    int tipp;\n\n    for (int i = 0; i &lt; 6; i++) {\n        randomNum = (int) (Math.random() * 49 + 1); // Random number created here.\n        for (int x = 0; x &lt; i; x++) {\n            if (lottery[x] == randomNum) // Here, code checks if same random number generated before.\n            {\n                randomNum = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\n                x = -1; // restart the loop\n            }\n        }\n        lottery[i] = randomNum;\n        System.out.print(lottery[i] + \" \");\n    }\n\n    System.out.println(\" \");\n\n    for (int c = 0; c &lt; 6; c++) {\n        tipp = (int) (Math.random() * 49 + 1); // Random number created here.\n        for (int xy = 0; xy &lt; c; xy++) {\n            if (tipp1[xy] == tipp) // Here, code checks if same random number generated before.\n            {\n                tipp = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\n                xy = -1; // restart the loop\n            }\n        }\n        tipp1[c] = tipp;\n        System.out.print(tipp1[c] + \" \");\n    }\n    if (lottery.equals(tipp1)){\n        System.out.print(\"HIT!\");\n    }\n}\n}\n</code></pre>\n\n<p>Is there a way to do this?</p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":3850681,"reputation":2684,"user_id":3190953,"accept_rate":62,"display_name":"Wilfred Clement"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1591614586,"creation_date":1591614586,"answer_id":62260693,"question_id":62260511,"body_markdown":"Try adding an explicit wait\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\nand if this doesn&#39;t work then try using the JS Executor\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))); \r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>Try adding an explicit wait</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission']\"))).click();\n</code></pre>\n\n<p>and if this doesn't work then try using the JS Executor</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission']\"))); \n((JavascriptExecutor)driver).executeScript(\"arguments[0].click();\", element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1591625901,"creation_date":1591620778,"answer_id":62262557,"question_id":62260511,"body_markdown":"This error message...\r\n\r\n\torg.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=&quot;&quot; class=&quot;footer&quot;&gt;...&lt;/div&gt;\r\n\r\n...implies that the _click_ on the desired element was intercepted by some other element.\r\n\r\n\r\n----------\r\n\r\n\r\nClicking an element\r\n-------------------\r\nIdeally, while invoking `click()` on any element you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- `cssSelector`:\r\n\r\n\t\tnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]&quot;))).click();\r\n           \t\r\n- `xpath`:\r\n\r\n\t\tnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39; and @ng-reflect-name=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\n\r\n----------\r\n\r\n\r\n\t\t\r\nUpdate\r\n------\r\nAfter changing to _headless_ if it still doesn&#39;t works and still get exception there still a couple of other measures to consider as follows:\r\n\r\n- [Chrome browser in Headless mode](https://stackoverflow.com/questions/46920243/how-to-configure-chromedriver-to-initiate-chrome-browser-in-headless-mode-throug/49582462#49582462) doesn&#39;t opens in maximized mode. So you have to use either of the following commands/arguments to maximize the headless browser [Viewport](https://www.w3schools.com/css/css_rwd_viewport.asp):\r\n - Adding the argument `start-maximized`\r\n\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\t\toptions.addArguments(&quot;start-maximized&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver(options);\r\n\r\n\r\n - Adding the argument `--window-size`\r\n\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\t\toptions.addArguments(&quot;--window-size=1400,600&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver(options);\r\n\r\n - Using `setSize()`\r\n\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver(options);\r\n\t\t\tdriver.manage().window().setSize(new Dimension(1440, 900));\r\n\t\t\r\n&gt;You can find a detailed discussion in [Not able to maximize Chrome Window in headless mode](https://stackoverflow.com/questions/45374377/not-able-to-maximize-chrome-window-in-headless-mode/45374670#45374670)\r\n\r\n- Additionally, you can also wait for the _intercept element to be invisible_ using the [ExpectedConditions](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html) `invisibilityOfElementLocated` before attempting the `click()` as follows:\r\n - `cssSelector`:\r\n\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.footer&quot;)));\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]&quot;))).click();\r\n           \t\r\n - `xpath`:\r\n\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//div[@class=&#39;footer&#39;]&quot;)));\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39; and @ng-reflect-name=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of related relevant discussions in:\r\n\r\n- [Selenium Web Driver &amp; Java. Element is not clickable at point (x, y). Other element would receive the click](https://stackoverflow.com/questions/44912203/selenium-web-driver-java-element-is-not-clickable-at-point-x-y-other-elem/44916498#44916498)\r\n- [Element MyElement is not clickable at point (x, y)… Other element would receive the click](https://stackoverflow.com/questions/44724185/element-myelement-is-not-clickable-at-point-x-y-other-element-would-receiv/44724688#44724688)","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>This error message...</p>\n\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=\"\" formcontrolname=\"reportingDealPermission\" nz-checkbox=\"\" class=\"ant-checkbox-wrapper ng-untouched ng-pristine ng-valid\" ng-reflect-name=\"reportingDealPermission\"&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=\"\" class=\"footer\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>...implies that the <em>click</em> on the desired element was intercepted by some other element.</p>\n\n<hr>\n\n<h2>Clicking an element</h2>\n\n<p>Ideally, while invoking <code>click()</code> on any element you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n\n<ul>\n<li><p><code>cssSelector</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(\"label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]\"))).click();\n</code></pre></li>\n<li><p><code>xpath</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission' and @ng-reflect-name='reportingDealPermission']\"))).click();\n</code></pre></li>\n</ul>\n\n<hr>\n\n<h2>Update</h2>\n\n<p>After changing to <em>headless</em> if it still doesn't works and still get exception there still a couple of other measures to consider as follows:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/46920243/how-to-configure-chromedriver-to-initiate-chrome-browser-in-headless-mode-throug/49582462#49582462\">Chrome browser in Headless mode</a> doesn't opens in maximized mode. So you have to use either of the following commands/arguments to maximize the headless browser <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"noreferrer\">Viewport</a>:</p>\n\n<ul>\n<li><p>Adding the argument <code>start-maximized</code></p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\");\noptions.addArguments(\"start-maximized\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre></li>\n<li><p>Adding the argument <code>--window-size</code></p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\");\noptions.addArguments(\"--window-size=1400,600\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre></li>\n<li><p>Using <code>setSize()</code></p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\");\nWebDriver driver = new ChromeDriver(options);\ndriver.manage().window().setSize(new Dimension(1440, 900));\n</code></pre></li>\n</ul></li>\n</ul>\n\n<blockquote>\n  <p>You can find a detailed discussion in <a href=\"https://stackoverflow.com/questions/45374377/not-able-to-maximize-chrome-window-in-headless-mode/45374670#45374670\">Not able to maximize Chrome Window in headless mode</a></p>\n</blockquote>\n\n<ul>\n<li><p>Additionally, you can also wait for the <em>intercept element to be invisible</em> using the <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"noreferrer\">ExpectedConditions</a> <code>invisibilityOfElementLocated</code> before attempting the <code>click()</code> as follows:</p>\n\n<ul>\n<li><p><code>cssSelector</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(\"div.footer\")));\nnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(\"label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]\"))).click();\n</code></pre></li>\n<li><p><code>xpath</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(\"//div[@class='footer']\")));\nnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission' and @ng-reflect-name='reportingDealPermission']\"))).click();\n</code></pre></li>\n</ul></li>\n</ul>\n\n<hr>\n\n<h2>References</h2>\n\n<p>You can find a couple of related relevant discussions in:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44912203/selenium-web-driver-java-element-is-not-clickable-at-point-x-y-other-elem/44916498#44916498\">Selenium Web Driver &amp; Java. Element is not clickable at point (x, y). Other element would receive the click</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44724185/element-myelement-is-not-clickable-at-point-x-y-other-element-would-receiv/44724688#44724688\">Element MyElement is not clickable at point (x, y)… Other element would receive the click</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20935155,"reputation":11,"user_id":15380472,"display_name":"Ajit kumar Sahoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631094078,"creation_date":1631082305,"answer_id":69097913,"question_id":62260511,"body_markdown":"For this issue: \r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562).\r\n\r\nAnother element receives the click:\r\n\r\nAnswer is to explicitly wait with javascript executor. This combination is working for me:\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))); \r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>For this issue:</p>\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562).\n</code></pre>\n<p>Another element receives the click:</p>\n<p>Answer is to explicitly wait with javascript executor. This combination is working for me:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname='reportingDealPermission']&quot;))); \n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7191623,"reputation":61,"user_id":5491718,"display_name":"sagarp"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636917063,"creation_date":1636917063,"answer_id":69966318,"question_id":62260511,"body_markdown":"None of the above answers worked for me. Try using action class as follows:\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//div[@class=&#39;footer&#39;]&quot;));\r\n    Actions actions = new Actions(driver);\r\n    actions.moveToElement(element).click().build().perform();","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>None of the above answers worked for me. Try using action class as follows:</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;//div[@class='footer']&quot;));\nActions actions = new Actions(driver);\nactions.moveToElement(element).click().build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":441753,"reputation":4372,"user_id":832031,"display_name":"Alexis Gamarra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645656422,"creation_date":1645656422,"answer_id":71244912,"question_id":62260511,"body_markdown":"In my case &quot;JavaScript&quot; works:\r\n\r\n    WebElement ele = driver.findElement(By.xpath(&quot;(//input[@name=&#39;btnK&#39;])[2]&quot;));\r\n\tJavascriptExecutor jse = (JavascriptExecutor)driver;\r\n\tjse.executeScript(&quot;arguments[0].click()&quot;, ele);\r\n\r\nIt was taken from:\r\nhttp://makeseleniumeasy.com/2020/05/25/elementclickinterceptedexception-element-click-intercepted-not-clickable-at-point-other-element-would-receive-the-click/","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>In my case &quot;JavaScript&quot; works:</p>\n<pre><code>WebElement ele = driver.findElement(By.xpath(&quot;(//input[@name='btnK'])[2]&quot;));\nJavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(&quot;arguments[0].click()&quot;, ele);\n</code></pre>\n<p>It was taken from:\n<a href=\"http://makeseleniumeasy.com/2020/05/25/elementclickinterceptedexception-element-click-intercepted-not-clickable-at-point-other-element-would-receive-the-click/\" rel=\"nofollow noreferrer\">http://makeseleniumeasy.com/2020/05/25/elementclickinterceptedexception-element-click-intercepted-not-clickable-at-point-other-element-would-receive-the-click/</a></p>\n"},{"tags":[],"owner":{"account_id":16817367,"reputation":11,"user_id":12158829,"display_name":"Kondiram Kamble"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659871110,"creation_date":1658596243,"answer_id":73092742,"question_id":62260511,"body_markdown":"`WebDriverWait wait = new WebDriverWait(driver, 10);` ---&gt; has **deprecated** and it gives an error. Please use below instead:\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\nEnsure to **import** relevant items for the **WebDriverWait and ExpectedConditions**.\r\n\r\n","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p><code>WebDriverWait wait = new WebDriverWait(driver, 10);</code> ---&gt; has <strong>deprecated</strong> and it gives an error. Please use below instead:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname='reportingDealPermission']&quot;))).click();\n</code></pre>\n<p>Ensure to <strong>import</strong> relevant items for the <strong>WebDriverWait and ExpectedConditions</strong>.</p>\n"},{"tags":[],"owner":{"account_id":26421162,"reputation":1,"user_id":20068817,"display_name":"Peraveen Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672664908,"creation_date":1672663883,"answer_id":74982653,"question_id":62260511,"body_markdown":"In my case, nothing worked. Only the `THREAD.SLEEP()` method worked!","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>In my case, nothing worked. Only the <code>THREAD.SLEEP()</code> method worked!</p>\n"},{"tags":[],"owner":{"account_id":13678772,"reputation":1,"user_id":9869641,"display_name":"inderjeet kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676493920,"creation_date":1676493920,"answer_id":75465269,"question_id":62260511,"body_markdown":"\r\nAnswer is worked for me. \r\n\r\nPlease check the below sreenshot for the my problem reference.\r\nBelow alert is comes in between the the my button and frame.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/75xb9.png","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>Answer is worked for me.</p>\n<p>Please check the below sreenshot for the my problem reference.\nBelow alert is comes in between the the my button and frame.\n<a href=\"https://i.stack.imgur.com/75xb9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":9082027,"reputation":47,"user_id":6792484,"accept_rate":50,"display_name":"Karansing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688566117,"creation_date":1688566117,"answer_id":76621184,"question_id":62260511,"body_markdown":"If still facing issue then try this,\r\nclicking using JSExecutor worked for me:\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, &lt;web_element_object&gt;);","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>If still facing issue then try this,\nclicking using JSExecutor worked for me:</p>\n<pre><code>((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, &lt;web_element_object&gt;);\n</code></pre>\n"}],"owner":{"account_id":11593851,"reputation":1129,"user_id":8493186,"accept_rate":48,"display_name":"Bastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114243,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":62262557,"answer_count":9,"score":15,"last_activity_date":1688566117,"creation_date":1591613923,"question_id":62260511,"body_markdown":"I have a project that I am working on with java and selenium.\r\nthe test work OK in UI mode.\r\nHowever in headless mode I get this error\r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=&quot;&quot; class=&quot;footer&quot;&gt;...&lt;/div&gt;\r\n\r\nhow can I resolve this issue (working in UI mode). this is my code\r\n\r\n    WebDriver driver = getWebDriver();\r\n            WebElement element;\r\n            Thread.sleep(60000);\r\n            element = driver.findElement(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;));\r\n            element.click();\r\n\r\nwhy in selenium there is no operation to move to the element and break all layers. \r\nthis is the UI.\r\nthis is working in UI mode not working in headless mode, made sleep for 6 minutes and not resolved so this is not time issue\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tNjSC.png","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>I have a project that I am working on with java and selenium.\nthe test work OK in UI mode.\nHowever in headless mode I get this error</p>\n\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=\"\" formcontrolname=\"reportingDealPermission\" nz-checkbox=\"\" class=\"ant-checkbox-wrapper ng-untouched ng-pristine ng-valid\" ng-reflect-name=\"reportingDealPermission\"&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=\"\" class=\"footer\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>how can I resolve this issue (working in UI mode). this is my code</p>\n\n<pre><code>WebDriver driver = getWebDriver();\n        WebElement element;\n        Thread.sleep(60000);\n        element = driver.findElement(By.xpath(\"//label[@formcontrolname='reportingDealPermission']\"));\n        element.click();\n</code></pre>\n\n<p>why in selenium there is no operation to move to the element and break all layers. \nthis is the UI.\nthis is working in UI mode not working in headless mode, made sleep for 6 minutes and not resolved so this is not time issue</p>\n\n<p><a href=\"https://i.stack.imgur.com/tNjSC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tNjSC.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","proguard"],"owner":{"account_id":1307049,"reputation":6578,"user_id":1255819,"accept_rate":86,"display_name":"distante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688565851,"creation_date":1688565851,"question_id":76621143,"body_markdown":"On an Android App (Hybrid Capacitor/Android App) I have a flag on my BuildConfig called `LIVE_RELOAD`. When it is set to true, I load a plugin that disables SSL Checking so I can use a self-signed certificate while doing development.\r\n\r\nThe `MainActivity` looks like this:\r\n\r\n```java\r\npublic class MainActivity extends BridgeActivity {\r\n\r\n    private String TAG = MainActivity.class.getName();\r\n\r\n  @Override\r\n  public void onCreate(Bundle savedInstanceState) {\r\n    this.registerLiveReload();\r\n    super.onCreate(savedInstanceState);\r\n  }\r\n\r\n  private void registerLiveReload(){\r\n    if (BuildConfig.LIVE_RELOAD) {\r\n      Log.w(TAG, &quot;⚠️ &#128680; Registering SSL IGNORE FOR LIVERELOAD &#128680; ⚠️&quot;);\r\n      registerPlugin(SSLCheckSkipForDevelopmentPlugin.class); // &lt;- HERE\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI want to instruct ProGuard to completely remove `registerLiveReload` and `SSLCheckSkipForDevelopmentPlugin` from the APK but I am unable to do it.\r\n\r\nIn `build.gradle` I have set this on `buildTypes -&gt; release`\r\n\r\n```\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            manifestPlaceholders.cleartextTrafficPermitted =&quot;false&quot;\r\n        }\r\n```\r\n\r\nand my proguard-rules.pro looks like:\r\n\r\n```\r\n-keepattributes SourceFile,LineNumberTable\r\n\r\n# If you keep the line number information, uncomment this to\r\n# hide the original source file name.\r\n#-renamesourcefileattribute SourceFile\r\n\r\n-assumenosideeffects class com.domain.myapp.MainActivity{\r\n  private void registerLiveReload();\r\n}\r\n\r\n-dontwarn com.domain.myapp.SSLCheckSkipForDevelopmentPlugin\r\n-assumenosideeffects class com.domain.myapp.SSLCheckSkipForDevelopmentPlugin {\r\n    *;\r\n}\r\n```\r\n\r\nBut when I build the APK and analyze it, I still can see the class being referenced there:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nWhat I am missing?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6ViHL.png","title":"How to instruct ProGuard to completely remove a particular class from the build?","body":"<p>On an Android App (Hybrid Capacitor/Android App) I have a flag on my BuildConfig called <code>LIVE_RELOAD</code>. When it is set to true, I load a plugin that disables SSL Checking so I can use a self-signed certificate while doing development.</p>\n<p>The <code>MainActivity</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends BridgeActivity {\n\n    private String TAG = MainActivity.class.getName();\n\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    this.registerLiveReload();\n    super.onCreate(savedInstanceState);\n  }\n\n  private void registerLiveReload(){\n    if (BuildConfig.LIVE_RELOAD) {\n      Log.w(TAG, &quot;⚠️ 🚨 Registering SSL IGNORE FOR LIVERELOAD 🚨 ⚠️&quot;);\n      registerPlugin(SSLCheckSkipForDevelopmentPlugin.class); // &lt;- HERE\n    }\n  }\n}\n</code></pre>\n<p>I want to instruct ProGuard to completely remove <code>registerLiveReload</code> and <code>SSLCheckSkipForDevelopmentPlugin</code> from the APK but I am unable to do it.</p>\n<p>In <code>build.gradle</code> I have set this on <code>buildTypes -&gt; release</code></p>\n<pre><code>        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            manifestPlaceholders.cleartextTrafficPermitted =&quot;false&quot;\n        }\n</code></pre>\n<p>and my proguard-rules.pro looks like:</p>\n<pre><code>-keepattributes SourceFile,LineNumberTable\n\n# If you keep the line number information, uncomment this to\n# hide the original source file name.\n#-renamesourcefileattribute SourceFile\n\n-assumenosideeffects class com.domain.myapp.MainActivity{\n  private void registerLiveReload();\n}\n\n-dontwarn com.domain.myapp.SSLCheckSkipForDevelopmentPlugin\n-assumenosideeffects class com.domain.myapp.SSLCheckSkipForDevelopmentPlugin {\n    *;\n}\n</code></pre>\n<p>But when I build the APK and analyze it, I still can see the class being referenced there:</p>\n<p><a href=\"https://i.stack.imgur.com/6ViHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ViHL.png\" alt=\"enter image description here\" /></a></p>\n<p>What I am missing?</p>\n"},{"tags":["java","error-handling","return","try-catch-finally"],"comments":[{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":61,"creation_date":1379897524,"post_id":65035,"comment_id":27985422,"body_markdown":"[Not *always*](http://thedailywtf.com/Articles/My-Tales.aspx)","body":"<a href=\"http://thedailywtf.com/Articles/My-Tales.aspx\" rel=\"nofollow noreferrer\">Not <i>always</i></a>"},{"owner":{"account_id":518846,"reputation":16789,"user_id":1068546,"accept_rate":94,"display_name":"Binoy Babu"},"score":3,"creation_date":1418526539,"post_id":65035,"comment_id":43367926,"body_markdown":"Effective java says otherwise http://www.informit.com/articles/article.aspx?p=1216151&amp;seqNum=7","body":"Effective java says otherwise <a href=\"http://www.informit.com/articles/article.aspx?p=1216151&amp;seqNum=7\" rel=\"nofollow noreferrer\">informit.com/articles/article.aspx?p=1216151&amp;seqNum=7</a>"},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":36,"creation_date":1468339895,"post_id":65035,"comment_id":64082518,"body_markdown":"@BinoyBabu, _finalizer_ != `finally`; _finalizer_ == the `finalize()` method.","body":"@BinoyBabu, <i>finalizer</i> != <code>finally</code>; <i>finalizer</i> == the <code>finalize()</code> method."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":4,"creation_date":1484854857,"post_id":65035,"comment_id":70692946,"body_markdown":"@Boann Correct, &quot;not always&quot; indeed. But then you can *never ever* use the words &quot;guaranteed&quot; or &quot;always&quot;.","body":"@Boann Correct, &quot;not always&quot; indeed. But then you can <i>never ever</i> use the words &quot;guaranteed&quot; or &quot;always&quot;."},{"owner":{"account_id":5953942,"reputation":1523,"user_id":4681187,"accept_rate":50,"display_name":"Imperishable Night"},"score":2,"creation_date":1540587724,"post_id":65035,"comment_id":92936112,"body_markdown":"@Boann I would put it this way: the execution flow always goes through finally before it escapes the try-finally structure. If it dies inside then I&#39;m fine with that, because the primary purpose of finally is to make sure things are not messed up for other parts of the code.","body":"@Boann I would put it this way: the execution flow always goes through finally before it escapes the try-finally structure. If it dies inside then I&#39;m fine with that, because the primary purpose of finally is to make sure things are not messed up for other parts of the code."},{"owner":{"account_id":5091817,"reputation":360,"user_id":4084636,"accept_rate":100,"display_name":"Adrian M."},"score":0,"creation_date":1590628079,"post_id":65035,"comment_id":109754182,"body_markdown":"Looks like you caught quite a fish there!","body":"Looks like you caught quite a fish there!"},{"owner":{"account_id":431981,"reputation":7385,"user_id":816416,"accept_rate":50,"display_name":"Vishnu Haridas"},"score":0,"creation_date":1600795062,"post_id":65035,"comment_id":113198551,"body_markdown":"If the `finally` block returns a value, then the try/catch block can&#39;t return.","body":"If the <code>finally</code> block returns a value, then the try/catch block can&#39;t return."},{"owner":{"account_id":2175603,"reputation":586,"user_id":1926351,"accept_rate":50,"display_name":"kargirwar"},"score":0,"creation_date":1657788725,"post_id":65035,"comment_id":128895402,"body_markdown":"@NoonSilk That was hilarious!","body":"@NoonSilk That was hilarious!"}],"answers":[{"tags":[],"owner":{"account_id":2978,"reputation":49999,"user_id":4223,"accept_rate":93,"display_name":"jodonnell"},"down_vote_count":10,"up_vote_count":3014,"is_accepted":true,"score":3004,"last_activity_date":1572558477,"creation_date":1221500739,"answer_id":65049,"question_id":65035,"body_markdown":"Yes, `finally` will be called after the execution of the `try` or `catch` code blocks.\r\n\r\nThe only times `finally` won&#39;t be called are:\r\n\r\n1. If you invoke `System.exit()`\r\n2. If you invoke `Runtime.getRuntime().halt(exitStatus)`\r\n3. If the JVM crashes first\r\n4. If the JVM reaches an infinite loop (or some other non-interruptable, non-terminating statement) in the `try` or `catch` block\r\n5. If the OS forcibly terminates the JVM process; e.g., `kill -9 &lt;pid&gt;` on UNIX\r\n6. If the host system dies; e.g., power failure, hardware error, OS panic, et cetera\r\n7. If the `finally` block is going to be executed by a daemon thread and all other non-daemon threads exit before `finally` is called\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Yes, <code>finally</code> will be called after the execution of the <code>try</code> or <code>catch</code> code blocks.</p>\n\n<p>The only times <code>finally</code> won't be called are:</p>\n\n<ol>\n<li>If you invoke <code>System.exit()</code></li>\n<li>If you invoke <code>Runtime.getRuntime().halt(exitStatus)</code></li>\n<li>If the JVM crashes first</li>\n<li>If the JVM reaches an infinite loop (or some other non-interruptable, non-terminating statement) in the <code>try</code> or <code>catch</code> block</li>\n<li>If the OS forcibly terminates the JVM process; e.g., <code>kill -9 &lt;pid&gt;</code> on UNIX</li>\n<li>If the host system dies; e.g., power failure, hardware error, OS panic, et cetera</li>\n<li>If the <code>finally</code> block is going to be executed by a daemon thread and all other non-daemon threads exit before <code>finally</code> is called</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4910,"reputation":9194,"user_id":7616,"accept_rate":75,"display_name":"shyam"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1688561668,"creation_date":1221500778,"answer_id":65056,"question_id":65035,"body_markdown":"`finally` is always executed unless there is abnormal program termination (like calling `System. exit(0)`). so, your `System.out` will get printed.","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> is always executed unless there is abnormal program termination (like calling <code>System. exit(0)</code>). so, your <code>System.out</code> will get printed.</p>\n"},{"tags":[],"owner":{"account_id":2391,"reputation":36935,"user_id":3320,"accept_rate":100,"display_name":"Mendelt"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1221500800,"creation_date":1221500800,"answer_id":65059,"question_id":65035,"body_markdown":"Yes it will get called. That&#39;s the whole point of having a finally keyword. If jumping out of the try/catch block could just skip the finally block it was the same as putting the System.out.println outside the try/catch.","title":"Does a finally block always get executed in Java?","body":"<p>Yes it will get called. That's the whole point of having a finally keyword. If jumping out of the try/catch block could just skip the finally block it was the same as putting the System.out.println outside the try/catch.</p>\n"},{"tags":[],"owner":{"account_id":5634,"reputation":6674,"user_id":1058366,"display_name":"Kevin"},"down_vote_count":16,"up_vote_count":639,"is_accepted":false,"score":623,"last_activity_date":1633471819,"creation_date":1221501592,"answer_id":65185,"question_id":65035,"body_markdown":"Example code:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Test.test());\r\n    }\r\n\r\n    public static int test() {\r\n        try {\r\n            return 0;\r\n        }\r\n        finally {\r\n            System.out.println(&quot;something is printed&quot;);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    something is printed. \r\n    0","title":"Does a finally block always get executed in Java?","body":"<p>Example code:</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(Test.test());\n}\n\npublic static int test() {\n    try {\n        return 0;\n    }\n    finally {\n        System.out.println(&quot;something is printed&quot;);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>something is printed. \n0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1175,"reputation":42324,"user_id":1559,"accept_rate":67,"display_name":"Scott Dorman"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1221501785,"creation_date":1221501785,"answer_id":65219,"question_id":65035,"body_markdown":"That&#39;s actually true in any language...finally will always execute before a return statement, no matter where that return is in the method body. If that wasn&#39;t the case, the finally block wouldn&#39;t have much meaning.","title":"Does a finally block always get executed in Java?","body":"<p>That's actually true in any language...finally will always execute before a return statement, no matter where that return is in the method body. If that wasn't the case, the finally block wouldn't have much meaning.</p>\n"},{"tags":[],"owner":{"account_id":5636,"reputation":239,"user_id":9189,"display_name":"user9189"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1493848417,"creation_date":1221502315,"answer_id":65282,"question_id":65035,"body_markdown":"The finally block is always executed unless there is abnormal program termination, either resulting from a JVM crash or from a call to `System.exit(0)`.\r\n\r\nOn top of that, any value returned from within the finally block will override the value returned prior to execution of the finally block, so be careful of checking all exit points when using try finally.","title":"Does a finally block always get executed in Java?","body":"<p>The finally block is always executed unless there is abnormal program termination, either resulting from a JVM crash or from a call to <code>System.exit(0)</code>.</p>\n\n<p>On top of that, any value returned from within the finally block will override the value returned prior to execution of the finally block, so be careful of checking all exit points when using try finally.</p>\n"},{"tags":[],"owner":{"account_id":5674,"reputation":4275,"user_id":9271,"display_name":"MooBob42"},"down_vote_count":3,"up_vote_count":428,"is_accepted":false,"score":425,"last_activity_date":1221502793,"creation_date":1221502793,"answer_id":65362,"question_id":65035,"body_markdown":"Also, although it&#39;s bad practice, if there is a return statement within the finally block, it will trump any other return from the regular block. That is, the following block would return false:\r\n\r\n    try { return true; } finally { return false; }\r\n\r\nSame thing with throwing exceptions from the finally block.","title":"Does a finally block always get executed in Java?","body":"<p>Also, although it's bad practice, if there is a return statement within the finally block, it will trump any other return from the regular block. That is, the following block would return false:</p>\n\n<pre><code>try { return true; } finally { return false; }\n</code></pre>\n\n<p>Same thing with throwing exceptions from the finally block.</p>\n"},{"tags":[],"owner":{"account_id":4487,"reputation":2649,"user_id":6770,"accept_rate":26,"display_name":"James A. N. Stauffer"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1221506775,"creation_date":1221506775,"answer_id":65943,"question_id":65035,"body_markdown":"Also a return in finally will throw away any exception.  [http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html][1]\r\n\r\n\r\n  [1]: http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html","title":"Does a finally block always get executed in Java?","body":"<p>Also a return in finally will throw away any exception.  <a href=\"http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html\" rel=\"noreferrer\">http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html</a></p>\n"},{"tags":[],"owner":{"account_id":5602,"reputation":11174,"user_id":2635682,"accept_rate":60,"display_name":"Garth Gilmour"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1221506804,"creation_date":1221506804,"answer_id":65949,"question_id":65035,"body_markdown":"A logical way to think about this is:\r\n\r\n 1. Code placed in a finally block must be executed **whatever occurs** within the try block\r\n 2. So if code in the try block tries to return a value or throw an exception the item is placed &#39;on the shelf&#39; till the finally block can execute\r\n 3. Because code in the finally block has (by definition) a high priority it can return or throw whatever it likes. In which case anything left &#39;on the shelf&#39; is discarded.\r\n 4. The only exception to this is if the VM shuts down completely during the try block e.g. by &#39;System.exit&#39;","title":"Does a finally block always get executed in Java?","body":"<p>A logical way to think about this is:</p>\n\n<ol>\n<li>Code placed in a finally block must be executed <strong>whatever occurs</strong> within the try block</li>\n<li>So if code in the try block tries to return a value or throw an exception the item is placed 'on the shelf' till the finally block can execute</li>\n<li>Because code in the finally block has (by definition) a high priority it can return or throw whatever it likes. In which case anything left 'on the shelf' is discarded.</li>\n<li>The only exception to this is if the VM shuts down completely during the try block e.g. by 'System.exit'</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1222874144,"creation_date":1222874144,"answer_id":158141,"question_id":65035,"body_markdown":"In addition to the point about return in finally replacing a return in the try block, the same is true of an exception.  A finally block that throws an exception will replace a return or exception thrown from within the try block.","title":"Does a finally block always get executed in Java?","body":"<p>In addition to the point about return in finally replacing a return in the try block, the same is true of an exception.  A finally block that throws an exception will replace a return or exception thrown from within the try block.</p>\n"},{"tags":[],"owner":{"account_id":17207,"reputation":1309,"user_id":38266,"display_name":"vibhash"},"down_vote_count":1,"up_vote_count":131,"is_accepted":false,"score":130,"last_activity_date":1423368180,"creation_date":1226939136,"answer_id":296053,"question_id":65035,"body_markdown":"I tried the above example with slight modification-\r\n\r\n    public static void main(final String[] args) {\r\n        System.out.println(test());\r\n    }\r\n\r\n    public static int test() {\r\n        int i = 0;\r\n        try {\r\n            i = 2;\r\n            return i;\r\n        } finally {\r\n            i = 12;\r\n            System.out.println(&quot;finally trumps return.&quot;);\r\n        }\r\n    }\r\n\r\nThe above code outputs:\r\n\r\n&gt;finally trumps return.  \r\n&gt;2\r\n\r\nThis is because when `return i;` is executed `i` has a value 2. After this the `finally` block is executed where 12 is assigned to `i` and then `System.out` out is executed.\r\n\r\nAfter executing the `finally` block the `try` block returns 2, rather than returning 12, because this return statement is not executed again.\r\n\r\nIf you will debug this code in Eclipse then you&#39;ll get a feeling that after executing `System.out` of `finally` block the `return` statement of `try` block is executed again. But this is not the case. It simply returns the value 2.","title":"Does a finally block always get executed in Java?","body":"<p>I tried the above example with slight modification-</p>\n\n<pre><code>public static void main(final String[] args) {\n    System.out.println(test());\n}\n\npublic static int test() {\n    int i = 0;\n    try {\n        i = 2;\n        return i;\n    } finally {\n        i = 12;\n        System.out.println(\"finally trumps return.\");\n    }\n}\n</code></pre>\n\n<p>The above code outputs:</p>\n\n<blockquote>\n  <p>finally trumps return.<br>\n  2</p>\n</blockquote>\n\n<p>This is because when <code>return i;</code> is executed <code>i</code> has a value 2. After this the <code>finally</code> block is executed where 12 is assigned to <code>i</code> and then <code>System.out</code> out is executed.</p>\n\n<p>After executing the <code>finally</code> block the <code>try</code> block returns 2, rather than returning 12, because this return statement is not executed again.</p>\n\n<p>If you will debug this code in Eclipse then you'll get a feeling that after executing <code>System.out</code> of <code>finally</code> block the <code>return</code> statement of <code>try</code> block is executed again. But this is not the case. It simply returns the value 2.</p>\n"},{"tags":[],"owner":{"account_id":2737,"reputation":111800,"user_id":3848,"accept_rate":92,"display_name":"Motti"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1273731833,"creation_date":1273731503,"answer_id":2824754,"question_id":65035,"body_markdown":"Finally is always run that&#39;s the whole point, just because it appears in the code after the return doesn&#39;t mean that that&#39;s how it&#39;s implemented. The Java runtime has the responsibility to run this code when exiting the `try` block.\r\n\r\nFor example if you have the following:\r\n\r\n    int foo() { \r\n        try {\r\n            return 42;\r\n        }\r\n        finally {\r\n            System.out.println(&quot;done&quot;);\r\n        }\r\n    }\r\n\r\nThe runtime will generate something like this:\r\n\r\n    int foo() {\r\n        int ret = 42;\r\n        System.out.println(&quot;done&quot;);\r\n        return 42;\r\n    }\r\n    \r\nIf an uncaught exception is thrown the `finally` block will run and the exception will continue propagating. ","title":"Does a finally block always get executed in Java?","body":"<p>Finally is always run that's the whole point, just because it appears in the code after the return doesn't mean that that's how it's implemented. The Java runtime has the responsibility to run this code when exiting the <code>try</code> block.</p>\n\n<p>For example if you have the following:</p>\n\n<pre><code>int foo() { \n    try {\n        return 42;\n    }\n    finally {\n        System.out.println(\"done\");\n    }\n}\n</code></pre>\n\n<p>The runtime will generate something like this:</p>\n\n<pre><code>int foo() {\n    int ret = 42;\n    System.out.println(\"done\");\n    return 42;\n}\n</code></pre>\n\n<p>If an uncaught exception is thrown the <code>finally</code> block will run and the exception will continue propagating. </p>\n"},{"tags":[],"owner":{"account_id":21489,"reputation":53159,"user_id":52249,"display_name":"Jay Riggs"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1273731557,"creation_date":1273731557,"answer_id":2824758,"question_id":65035,"body_markdown":"Because a finally block will always be called unless you call `System.exit()` (or the thread crashes).","title":"Does a finally block always get executed in Java?","body":"<p>Because a finally block will always be called unless you call <code>System.exit()</code> (or the thread crashes).</p>\n"},{"tags":[],"owner":{"account_id":114381,"reputation":17336,"user_id":300807,"accept_rate":89,"display_name":"Chris Cooper"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1441127489,"creation_date":1273731557,"answer_id":2824759,"question_id":65035,"body_markdown":"That is the whole idea of a finally block. It lets you make sure you do cleanups that might otherwise be skipped because you return, among other things, of course.\r\n\r\nFinally gets called **regardless of what happens** in the try block (*unless* you call `System.exit(int)` or the Java Virtual Machine kicks out for some other reason).","title":"Does a finally block always get executed in Java?","body":"<p>That is the whole idea of a finally block. It lets you make sure you do cleanups that might otherwise be skipped because you return, among other things, of course.</p>\n\n<p>Finally gets called <strong>regardless of what happens</strong> in the try block (<em>unless</em> you call <code>System.exit(int)</code> or the Java Virtual Machine kicks out for some other reason).</p>\n"},{"tags":[],"owner":{"account_id":80548,"reputation":18669,"user_id":227698,"accept_rate":88,"display_name":"vodkhang"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1273731587,"creation_date":1273731587,"answer_id":2824762,"question_id":65035,"body_markdown":"Because the final is always be called in whatever cases you have. You don&#39;t have exception, it is still called, catch exception, it is still called","title":"Does a finally block always get executed in Java?","body":"<p>Because the final is always be called in whatever cases you have. You don't have exception, it is still called, catch exception, it is still called</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"down_vote_count":0,"up_vote_count":174,"is_accepted":false,"score":174,"last_activity_date":1477665335,"creation_date":1273734719,"answer_id":2824998,"question_id":65035,"body_markdown":"In addition to the other responses, it is important to point out that &#39;finally&#39; has the right to override any exception/returned value by the try..catch block. For example, the following code returns 12:\r\n\r\n    public static int getMonthsInYear() {\r\n        try {\r\n    \t\treturn 10;\r\n        }\r\n        finally {\r\n            return 12;\r\n        }\r\n    }\r\n\r\nSimilarly, the following method does not throw an exception:\r\n\r\n    public static int getMonthsInYear() {\r\n        try {\r\n            throw new RuntimeException();\r\n        }\r\n        finally {\r\n            return 12;\r\n        }\r\n    }\r\n\r\nWhile the following method does throw it:\r\n\r\n    public static int getMonthsInYear() {\r\n        try {\r\n            return 12;\t\t\t\r\n        }\r\n        finally {\r\n            throw new RuntimeException();\r\n        }\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>In addition to the other responses, it is important to point out that 'finally' has the right to override any exception/returned value by the try..catch block. For example, the following code returns 12:</p>\n\n<pre><code>public static int getMonthsInYear() {\n    try {\n        return 10;\n    }\n    finally {\n        return 12;\n    }\n}\n</code></pre>\n\n<p>Similarly, the following method does not throw an exception:</p>\n\n<pre><code>public static int getMonthsInYear() {\n    try {\n        throw new RuntimeException();\n    }\n    finally {\n        return 12;\n    }\n}\n</code></pre>\n\n<p>While the following method does throw it:</p>\n\n<pre><code>public static int getMonthsInYear() {\n    try {\n        return 12;          \n    }\n    finally {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135304,"reputation":464,"user_id":338082,"accept_rate":62,"display_name":"Gala101"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1273751414,"creation_date":1273751414,"answer_id":2826472,"question_id":65035,"body_markdown":"Consider this in a normal course of execution (i.e without any Exception being thrown): if method is not &#39;void&#39; then it always explicitly returns something, yet, finally always gets executed","title":"Does a finally block always get executed in Java?","body":"<p>Consider this in a normal course of execution (i.e without any Exception being thrown): if method is not 'void' then it always explicitly returns something, yet, finally always gets executed</p>\n"},{"tags":[],"owner":{"account_id":616602,"reputation":101,"user_id":349636,"display_name":"Wasim"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1440054009,"creation_date":1274769389,"answer_id":2902505,"question_id":65035,"body_markdown":"This is because you assigned the value of i as 12, but did not return the value of i to the function. The correct code is as follows:\r\n\r\n    public static int test() {\r\n\t\tint i = 0;\r\n\t\ttry {\r\n\t\t\treturn i;\r\n\t\t} finally {\r\n\t\t\ti = 12;\r\n\t\t\tSystem.out.println(&quot;finally trumps return.&quot;);\r\n\t\t\treturn i;\r\n\t\t}\r\n\t}","title":"Does a finally block always get executed in Java?","body":"<p>This is because you assigned the value of i as 12, but did not return the value of i to the function. The correct code is as follows:</p>\n\n<pre><code>public static int test() {\n    int i = 0;\n    try {\n        return i;\n    } finally {\n        i = 12;\n        System.out.println(\"finally trumps return.\");\n        return i;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":264,"is_accepted":false,"score":264,"last_activity_date":1465329096,"creation_date":1274770216,"answer_id":2902578,"question_id":65035,"body_markdown":"Here&#39;s the official words from the Java Language Specification.\r\n\r\n[14.20.2. Execution of try-finally and try-catch-finally][1]\r\n\r\n&gt;**A `try` statement with a `finally` block is executed by first executing the `try` block. Then there is a choice:**\r\n\r\n&gt; * If execution of the `try` block completes normally, [...]\r\n&gt; * If execution of the `try` block completes abruptly because of a `throw` of a value _V_, [...]\r\n&gt; * **If execution of the `try` block completes abruptly for any other reason _R_, then the `finally` block is executed. Then there is a choice:**\r\n&gt;    * If the finally block completes normally, then the `try` statement completes abruptly for reason _R_. \r\n&gt;    * If the `finally` block completes abruptly for reason _S_, then the `try` statement completes abruptly for reason _S_ (**and reason _R_ is discarded**).\r\n\r\nThe specification for `return` actually makes this explicit:\r\n\r\n[JLS 14.17 The return Statement][2]\r\n\r\n&gt;     ReturnStatement:\r\n         return Expression(opt) ;\r\n\r\n\r\n&gt; A `return` statement with no `Expression` **attempts** to transfer control to the invoker of the method or constructor that contains it. \r\n&gt;\r\n&gt; A `return` statement with an `Expression` **attempts** to transfer control to the invoker of the method that contains it; the value of the `Expression` becomes the value of the method invocation.\r\n&gt;\r\n&gt; The preceding descriptions say &quot;_**attempts** to transfer control_&quot; rather than just &quot;_transfers control_&quot; because if there are any `try` statements within the method or constructor whose `try` blocks contain the `return` statement, then any `finally` clauses of those `try` statements will be executed, in order, innermost to outermost, before control is transferred to the invoker of the method or constructor. Abrupt completion of a `finally` clause can disrupt the transfer of control initiated by a `return` statement.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.20.2\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.17","title":"Does a finally block always get executed in Java?","body":"<p>Here's the official words from the Java Language Specification.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.20.2\" rel=\"noreferrer\">14.20.2. Execution of try-finally and try-catch-finally</a></p>\n\n<blockquote>\n  <p><strong>A <code>try</code> statement with a <code>finally</code> block is executed by first executing the <code>try</code> block. Then there is a choice:</strong></p>\n  \n  <ul>\n  <li>If execution of the <code>try</code> block completes normally, [...]</li>\n  <li>If execution of the <code>try</code> block completes abruptly because of a <code>throw</code> of a value <em>V</em>, [...]</li>\n  <li><strong>If execution of the <code>try</code> block completes abruptly for any other reason <em>R</em>, then the <code>finally</code> block is executed. Then there is a choice:</strong>\n  \n  <ul>\n  <li>If the finally block completes normally, then the <code>try</code> statement completes abruptly for reason <em>R</em>. </li>\n  <li>If the <code>finally</code> block completes abruptly for reason <em>S</em>, then the <code>try</code> statement completes abruptly for reason <em>S</em> (<strong>and reason <em>R</em> is discarded</strong>).</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>The specification for <code>return</code> actually makes this explicit:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.17\" rel=\"noreferrer\">JLS 14.17 The return Statement</a></p>\n\n<blockquote>\n<pre><code>ReturnStatement:\n     return Expression(opt) ;\n</code></pre>\n  \n  <p>A <code>return</code> statement with no <code>Expression</code> <strong>attempts</strong> to transfer control to the invoker of the method or constructor that contains it. </p>\n  \n  <p>A <code>return</code> statement with an <code>Expression</code> <strong>attempts</strong> to transfer control to the invoker of the method that contains it; the value of the <code>Expression</code> becomes the value of the method invocation.</p>\n  \n  <p>The preceding descriptions say \"<em><strong>attempts</strong> to transfer control</em>\" rather than just \"<em>transfers control</em>\" because if there are any <code>try</code> statements within the method or constructor whose <code>try</code> blocks contain the <code>return</code> statement, then any <code>finally</code> clauses of those <code>try</code> statements will be executed, in order, innermost to outermost, before control is transferred to the invoker of the method or constructor. Abrupt completion of a <code>finally</code> clause can disrupt the transfer of control initiated by a <code>return</code> statement.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":324587,"reputation":18467,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1318521715,"creation_date":1318521715,"answer_id":7756997,"question_id":65035,"body_markdown":"If an exception is thrown, finally runs. If an exception is not thrown, finally runs. If the exception is caught, finally runs. If the exception is not caught, finally runs.\r\n\r\nOnly time it does not run is when JVM exits.","title":"Does a finally block always get executed in Java?","body":"<p>If an exception is thrown, finally runs. If an exception is not thrown, finally runs. If the exception is caught, finally runs. If the exception is not caught, finally runs.</p>\n\n<p>Only time it does not run is when JVM exits.</p>\n"},{"tags":[],"owner":{"account_id":19110,"reputation":3538,"user_id":44512,"accept_rate":74,"display_name":"eric2323223"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1688565236,"creation_date":1334653616,"answer_id":10188271,"question_id":65035,"body_markdown":"Try this code, you will understand the **code in finally block is get executed after return statement**.\r\n\r\n    public class TestTryCatchFinally {\r\n    \tstatic int x = 0;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(f1());\r\n    \t\tSystem.out.println(f2());\r\n    \t}\r\n    \t\r\n    \tpublic static int f1() {\r\n    \t\ttry {\r\n    \t\t\tx = 1;\r\n    \t\t\treturn x;\r\n    \t\t} finally {\r\n    \t\t\tx = 2;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static int f2() {\r\n    \t\treturn x;\r\n    \t}\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>Try this code, you will understand the <strong>code in finally block is get executed after return statement</strong>.</p>\n<pre><code>public class TestTryCatchFinally {\n    static int x = 0;\n    \n    public static void main(String[] args) {\n        System.out.println(f1());\n        System.out.println(f2());\n    }\n    \n    public static int f1() {\n        try {\n            x = 1;\n            return x;\n        } finally {\n            x = 2;\n        }\n    }\n    \n    public static int f2() {\n        return x;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2644975,"reputation":187,"user_id":2287871,"display_name":"Rajendra Jadi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1688562006,"creation_date":1373756543,"answer_id":17634958,"question_id":65035,"body_markdown":"No, not always, one exception case is\r\n`System.exit(0);`\r\nbefore the `finally` block prevents `finally` to be executed.\r\n\r\n  \r\n```java\r\n      class A {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tDataInputStream cin = new DataInputStream(System.in);\r\n\r\n    \t\ttry {\r\n    \t\t\tint i = Integer.parseInt(cin.readLine());\r\n    \t\t} catch (ArithmeticException e) {\r\n    \t\t} catch (Exception e) {\r\n    \t\t   System.exit(0); // Program terminates before executing the finally block\r\n    \t\t} finally {\r\n                System.out.println(&quot;Won&#39;t be executed&quot;);\r\n    \t\t    System.out.println(&quot;No error&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n```","title":"Does a finally block always get executed in Java?","body":"<p>No, not always, one exception case is\n<code>System.exit(0);</code>\nbefore the <code>finally</code> block prevents <code>finally</code> to be executed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      class A {\n        public static void main(String args[]) {\n            DataInputStream cin = new DataInputStream(System.in);\n\n            try {\n                int i = Integer.parseInt(cin.readLine());\n            } catch (ArithmeticException e) {\n            } catch (Exception e) {\n               System.exit(0); // Program terminates before executing the finally block\n            } finally {\n                System.out.println(&quot;Won't be executed&quot;);\n                System.out.println(&quot;No error&quot;);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177142,"reputation":2654,"user_id":1927543,"accept_rate":74,"display_name":"Karthikeyan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1376654420,"creation_date":1376654420,"answer_id":18272854,"question_id":65035,"body_markdown":"Yes, it will. No matter what happens in your try or catch block unless otherwise System.exit() called or JVM crashed. if there is any return statement in the block(s),finally will be executed prior to that return statement.\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Yes, it will. No matter what happens in your try or catch block unless otherwise System.exit() called or JVM crashed. if there is any return statement in the block(s),finally will be executed prior to that return statement.</p>\n"},{"tags":[],"owner":{"account_id":100076,"reputation":6521,"user_id":2684342,"accept_rate":92,"display_name":"WoodenKitty"},"down_vote_count":0,"up_vote_count":133,"is_accepted":false,"score":133,"last_activity_date":1667591410,"creation_date":1386113773,"answer_id":20363941,"question_id":65035,"body_markdown":"Here&#39;s an elaboration of [Kevin&#39;s answer][1]. It&#39;s important to know that the expression to be returned is evaluated before `finally`, even if it is returned after.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Test.test());\r\n    }\r\n\r\n    public static int printX() {\r\n        System.out.println(&quot;X&quot;);\r\n        return 0;\r\n    }\r\n\r\n    public static int test() {\r\n        try {\r\n            return printX();\r\n        }\r\n        finally {\r\n            System.out.println(&quot;finally trumps return... sort of&quot;);\r\n            return 42;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    X\r\n    finally trumps return... sort of\r\n    42\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65185/2684342","title":"Does a finally block always get executed in Java?","body":"<p>Here's an elaboration of <a href=\"https://stackoverflow.com/a/65185/2684342\">Kevin's answer</a>. It's important to know that the expression to be returned is evaluated before <code>finally</code>, even if it is returned after.</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(Test.test());\n}\n\npublic static int printX() {\n    System.out.println(&quot;X&quot;);\n    return 0;\n}\n\npublic static int test() {\n    try {\n        return printX();\n    }\n    finally {\n        System.out.println(&quot;finally trumps return... sort of&quot;);\n        return 42;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>X\nfinally trumps return... sort of\n42\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1746548,"reputation":850,"user_id":1596606,"accept_rate":88,"display_name":"abhig"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1389738557,"creation_date":1389738557,"answer_id":21125379,"question_id":65035,"body_markdown":"Yes It will.\r\nOnly case it will not is JVM exits or crashes ","title":"Does a finally block always get executed in Java?","body":"<p>Yes It will.\nOnly case it will not is JVM exits or crashes </p>\n"},{"tags":[],"owner":{"account_id":4032073,"reputation":109,"user_id":3317784,"display_name":"Rohit Chugh"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1392626905,"creation_date":1392626905,"answer_id":21824431,"question_id":65035,"body_markdown":"Finally block always execute whether exception  handle or not .if any exception occurred before try block then finally block will not execute.","title":"Does a finally block always get executed in Java?","body":"<p>Finally block always execute whether exception  handle or not .if any exception occurred before try block then finally block will not execute.</p>\n"},{"tags":[],"owner":{"account_id":3793469,"reputation":1585,"user_id":3149356,"display_name":"bikz05"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1413237110,"creation_date":1413237110,"answer_id":26349456,"question_id":65035,"body_markdown":"Concisely, in the official Java Documentation (Click [here][1]), it is written that - \r\n\r\n&gt; If the JVM exits while the try or catch code is being executed, then\r\n&gt; the finally block may not execute. Likewise, if the thread executing\r\n&gt; the try or catch code is interrupted or killed, the finally block may\r\n&gt; not execute even though the application as a whole continues.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html","title":"Does a finally block always get executed in Java?","body":"<p>Concisely, in the official Java Documentation (Click <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html\" rel=\"noreferrer\">here</a>), it is written that - </p>\n\n<blockquote>\n  <p>If the JVM exits while the try or catch code is being executed, then\n  the finally block may not execute. Likewise, if the thread executing\n  the try or catch code is interrupted or killed, the finally block may\n  not execute even though the application as a whole continues.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5422297,"reputation":517,"user_id":4315585,"display_name":"Gautam Viradiya"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1417523414,"creation_date":1417523414,"answer_id":27249545,"question_id":65035,"body_markdown":"Yes, finally block is always execute. Most of developer use this block the closing the database connection, resultset object, statement object and also uses into the java hibernate to rollback the transaction.","title":"Does a finally block always get executed in Java?","body":"<p>Yes, finally block is always execute. Most of developer use this block the closing the database connection, resultset object, statement object and also uses into the java hibernate to rollback the transaction.</p>\n"},{"tags":[],"owner":{"account_id":2588248,"reputation":143,"user_id":3201107,"display_name":"Utkarsh Bhatt"},"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1478860787,"creation_date":1418884616,"answer_id":27540550,"question_id":65035,"body_markdown":"`finally` will execute and that is for sure.\r\n\r\n`finally` will not execute in below cases: \r\n\r\ncase 1 :\r\n\r\nWhen you are executing `System.exit()`.\r\n\r\ncase 2 :\r\n\r\nWhen your JVM / Thread crashes.\r\n\r\ncase 3 : \r\n\r\nWhen your execution is stopped in between manually.\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> will execute and that is for sure.</p>\n\n<p><code>finally</code> will not execute in below cases: </p>\n\n<p>case 1 :</p>\n\n<p>When you are executing <code>System.exit()</code>.</p>\n\n<p>case 2 :</p>\n\n<p>When your JVM / Thread crashes.</p>\n\n<p>case 3 : </p>\n\n<p>When your execution is stopped in between manually.</p>\n"},{"tags":[],"owner":{"account_id":468110,"reputation":79,"user_id":873900,"display_name":"milton"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1431517978,"creation_date":1431515461,"answer_id":30213111,"question_id":65035,"body_markdown":"I was very confused with all the answers provided on different forums and decided to finally code and see. The ouput is :\n\n**finally will be executed even if there is return in try and catch block.**\n\n    try {  \n      System.out.println(&quot;try&quot;); \n      return;\n      //int  i =5/0;\n      //System.exit(0 ) ;\n    } catch (Exception e) {   \n      System.out.println(&quot;catch&quot;);\n      return;\n      //int  i =5/0;\n      //System.exit(0 ) ;\n    } finally {  \n       System.out.println(&quot;Print me FINALLY&quot;);\n    }\n\n**Output**\n&gt; try\n&gt;\n&gt; Print me FINALLY\n\n 2. If return is replaced by `System.exit(0)` in try and catch block in above code and an exception occurs before it,for any reason.","title":"Does a finally block always get executed in Java?","body":"<p>I was very confused with all the answers provided on different forums and decided to finally code and see. The ouput is :</p>\n<p><strong>finally will be executed even if there is return in try and catch block.</strong></p>\n<pre><code>try {  \n  System.out.println(&quot;try&quot;); \n  return;\n  //int  i =5/0;\n  //System.exit(0 ) ;\n} catch (Exception e) {   \n  System.out.println(&quot;catch&quot;);\n  return;\n  //int  i =5/0;\n  //System.exit(0 ) ;\n} finally {  \n   System.out.println(&quot;Print me FINALLY&quot;);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>try</p>\n<p>Print me FINALLY</p>\n</blockquote>\n<ol start=\"2\">\n<li>If return is replaced by <code>System.exit(0)</code> in try and catch block in above code and an exception occurs before it,for any reason.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":926113,"reputation":3150,"user_id":956880,"accept_rate":80,"display_name":"Anonymous Coward"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1583601081,"creation_date":1449930653,"answer_id":34240980,"question_id":65035,"body_markdown":"&lt;h1&gt;NOT ALWAYS&lt;/h1&gt;\r\n\r\nThe Java Language specification describes how `try`-`catch`-`finally` and `try`-`catch` blocks work at [14.20.2][1]  \r\nIn no place it specifies that the `finally` block is always executed.\r\nBut for all cases in which the `try`-`catch`-`finally` and `try`-`finally` blocks complete it does specify that before completion `finally` must be executed.\r\n\r\n    try {\r\n      CODE inside the try block\r\n    }\r\n    finally {\r\n      FIN code inside finally block\r\n    }\r\n    NEXT code executed after the try-finally block (may be in a different method).\r\n\r\nThe JLS does not guarantee that **FIN** is executed after **CODE**.\r\nThe JLS guarantees that if **CODE** and **NEXT** are executed then **FIN** will always be executed after **CODE** and before **NEXT**.\r\n\r\nWhy doesn&#39;t the JLS guarantee that the `finally` block is always executed after the `try` block? *Because it is impossible.* It is unlikely but possible that the JVM will be aborted (kill, crash, power off) just after completing the `try` block but before execution of the `finally` block. There is nothing the JLS can do to avoid this.\r\n\r\nThus, any software which for their proper behaviour depends on `finally` blocks always being executed after their `try` blocks complete are bugged.\r\n\r\n`return` instructions in the `try` block are irrelevant to this issue. If execution reaches code after the `try`-`catch`-`finally` it is guaranteed that the `finally` block will have been executed before, with or without `return` instructions inside the `try` block.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2","title":"Does a finally block always get executed in Java?","body":"<h1>NOT ALWAYS</h1>\n\n<p>The Java Language specification describes how <code>try</code>-<code>catch</code>-<code>finally</code> and <code>try</code>-<code>catch</code> blocks work at <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2\" rel=\"nofollow noreferrer\">14.20.2</a><br>\nIn no place it specifies that the <code>finally</code> block is always executed.\nBut for all cases in which the <code>try</code>-<code>catch</code>-<code>finally</code> and <code>try</code>-<code>finally</code> blocks complete it does specify that before completion <code>finally</code> must be executed.</p>\n\n<pre><code>try {\n  CODE inside the try block\n}\nfinally {\n  FIN code inside finally block\n}\nNEXT code executed after the try-finally block (may be in a different method).\n</code></pre>\n\n<p>The JLS does not guarantee that <strong>FIN</strong> is executed after <strong>CODE</strong>.\nThe JLS guarantees that if <strong>CODE</strong> and <strong>NEXT</strong> are executed then <strong>FIN</strong> will always be executed after <strong>CODE</strong> and before <strong>NEXT</strong>.</p>\n\n<p>Why doesn't the JLS guarantee that the <code>finally</code> block is always executed after the <code>try</code> block? <em>Because it is impossible.</em> It is unlikely but possible that the JVM will be aborted (kill, crash, power off) just after completing the <code>try</code> block but before execution of the <code>finally</code> block. There is nothing the JLS can do to avoid this.</p>\n\n<p>Thus, any software which for their proper behaviour depends on <code>finally</code> blocks always being executed after their <code>try</code> blocks complete are bugged.</p>\n\n<p><code>return</code> instructions in the <code>try</code> block are irrelevant to this issue. If execution reaches code after the <code>try</code>-<code>catch</code>-<code>finally</code> it is guaranteed that the <code>finally</code> block will have been executed before, with or without <code>return</code> instructions inside the <code>try</code> block.</p>\n"},{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1583586856,"creation_date":1458490842,"answer_id":36116269,"question_id":65035,"body_markdown":"I tried this,\r\nIt is single threaded.\r\n\r\n    public static void main(String args[]) throws Exception {\r\n\t\tObject obj = new Object();\r\n\t\ttry {\r\n\t\t\tsynchronized (obj) {\r\n\t\t\t\tobj.wait();\r\n            \tSystem.out.println(&quot;after wait()&quot;);\r\n\t\t\t}\r\n\t\t} catch (Exception ignored) {\r\n\t\t} finally {\r\n\t\t\tSystem.out.println(&quot;finally&quot;);\r\n\t    }\r\n    }\r\n\r\nThe `main` `Thread` will be on `wait` state forever, hence *`finally` will never be called*,\r\n\r\nso console output will not `print` `String`: after `wait()` or `finally`\r\n\r\nAgreed with @Stephen C, the above example is one of the 3rd case mention [here][1]:\r\n\r\nAdding some more such infinite loop possibilities in following code:\r\n\r\n    // import java.util.concurrent.Semaphore;\r\n\r\n    public static void main(String[] args) {\r\n    \ttry {\r\n        \t// Thread.sleep(Long.MAX_VALUE);\r\n        \t// Thread.currentThread().join();\r\n        \t// new Semaphore(0).acquire();\r\n        \t// while (true){}\r\n            System.out.println(&quot;after sleep join semaphore exit infinite while loop&quot;);\r\n        } catch (Exception ignored) {\r\n        } finally {\r\n            System.out.println(&quot;finally&quot;);\r\n        }\r\n    }\r\n\r\n\r\nCase 2: If the JVM crashes first\r\n\r\n\r\n    import sun.misc.Unsafe;\r\n    import java.lang.reflect.Field;\r\n\r\n    public static void main(String args[]) {\r\n    \ttry {\r\n        \tunsafeMethod();\r\n            //Runtime.getRuntime().halt(123);\r\n            System.out.println(&quot;After Jvm Crash!&quot;);\r\n     \t} catch (Exception e) {\r\n        } finally {\r\n        \tSystem.out.println(&quot;finally&quot;);\r\n        }\r\n    }\r\n    \r\n    private static void unsafeMethod() throws NoSuchFieldException, IllegalAccessException {\r\n    \tField f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n        f.setAccessible(true);\r\n        Unsafe unsafe = (Unsafe) f.get(null);\r\n        unsafe.putAddress(0, 0);\r\n    }\r\n\r\nRef: https://stackoverflow.com/q/65200/2987755\r\n\r\n\r\nCase 6: If `finally` block is going to be executed by daemon `Thread` and all other non-daemon `Threads` exit before `finally` is called.\r\n\r\n\r\n    public static void main(String args[]) {\r\n        Runnable runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    printThreads(&quot;Daemon Thread printing&quot;);\r\n                    // just to ensure this thread will live longer than main thread\r\n                    Thread.sleep(10000);\r\n                } catch (Exception e) {\r\n                } finally {\r\n                    System.out.println(&quot;finally&quot;);\r\n                }\r\n            }\r\n        };\r\n        Thread daemonThread = new Thread(runnable);\r\n        daemonThread.setDaemon(Boolean.TRUE);\r\n        daemonThread.setName(&quot;My Daemon Thread&quot;);\r\n        daemonThread.start();\r\n        printThreads(&quot;main Thread Printing&quot;);\r\n    }\r\n\r\n    private static synchronized void printThreads(String str) {\r\n        System.out.println(str);\r\n        int threadCount = 0;\r\n        Set&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();\r\n        for (Thread t : threadSet) {\r\n            if (t.getThreadGroup() == Thread.currentThread().getThreadGroup()) {\r\n                System.out.println(&quot;Thread :&quot; + t + &quot;:&quot; + &quot;state:&quot; + t.getState());\r\n                ++threadCount;\r\n            }\r\n        }\r\n        System.out.println(&quot;Thread count started by Main thread:&quot; + threadCount);\r\n        System.out.println(&quot;-------------------------------------------------&quot;);\r\n    }\r\n\r\noutput: This does not print &quot;finally&quot; which implies &quot;Finally block&quot; in &quot;daemon thread&quot; did not execute  \r\n\r\n&gt;     main Thread Printing  \r\n&gt;     Thread :Thread[My Daemon Thread,5,main]:state:BLOCKED  \r\n&gt;     Thread :Thread[main,5,main]:state:RUNNABLE  \r\n&gt;     Thread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE   \r\n&gt;     Thread count started by Main thread:3  \r\n&gt;     -------------------------------------------------  \r\n&gt;     Daemon Thread printing  \r\n&gt;     Thread :Thread[My Daemon Thread,5,main]:state:RUNNABLE  \r\n&gt;     Thread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE  \r\n&gt;     Thread count started by Main thread:2  \r\n&gt;     -------------------------------------------------  \r\n&gt;     \r\n&gt;     Process finished with exit code 0\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65049/2987755","title":"Does a finally block always get executed in Java?","body":"<p>I tried this,\nIt is single threaded.</p>\n\n<pre><code>public static void main(String args[]) throws Exception {\n    Object obj = new Object();\n    try {\n        synchronized (obj) {\n            obj.wait();\n            System.out.println(\"after wait()\");\n        }\n    } catch (Exception ignored) {\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n</code></pre>\n\n<p>The <code>main</code> <code>Thread</code> will be on <code>wait</code> state forever, hence <em><code>finally</code> will never be called</em>,</p>\n\n<p>so console output will not <code>print</code> <code>String</code>: after <code>wait()</code> or <code>finally</code></p>\n\n<p>Agreed with @Stephen C, the above example is one of the 3rd case mention <a href=\"https://stackoverflow.com/a/65049/2987755\">here</a>:</p>\n\n<p>Adding some more such infinite loop possibilities in following code:</p>\n\n<pre><code>// import java.util.concurrent.Semaphore;\n\npublic static void main(String[] args) {\n    try {\n        // Thread.sleep(Long.MAX_VALUE);\n        // Thread.currentThread().join();\n        // new Semaphore(0).acquire();\n        // while (true){}\n        System.out.println(\"after sleep join semaphore exit infinite while loop\");\n    } catch (Exception ignored) {\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n</code></pre>\n\n<p>Case 2: If the JVM crashes first</p>\n\n<pre><code>import sun.misc.Unsafe;\nimport java.lang.reflect.Field;\n\npublic static void main(String args[]) {\n    try {\n        unsafeMethod();\n        //Runtime.getRuntime().halt(123);\n        System.out.println(\"After Jvm Crash!\");\n    } catch (Exception e) {\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n\nprivate static void unsafeMethod() throws NoSuchFieldException, IllegalAccessException {\n    Field f = Unsafe.class.getDeclaredField(\"theUnsafe\");\n    f.setAccessible(true);\n    Unsafe unsafe = (Unsafe) f.get(null);\n    unsafe.putAddress(0, 0);\n}\n</code></pre>\n\n<p>Ref: <a href=\"https://stackoverflow.com/q/65200/2987755\">How do you crash a JVM?</a></p>\n\n<p>Case 6: If <code>finally</code> block is going to be executed by daemon <code>Thread</code> and all other non-daemon <code>Threads</code> exit before <code>finally</code> is called.</p>\n\n<pre><code>public static void main(String args[]) {\n    Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            try {\n                printThreads(\"Daemon Thread printing\");\n                // just to ensure this thread will live longer than main thread\n                Thread.sleep(10000);\n            } catch (Exception e) {\n            } finally {\n                System.out.println(\"finally\");\n            }\n        }\n    };\n    Thread daemonThread = new Thread(runnable);\n    daemonThread.setDaemon(Boolean.TRUE);\n    daemonThread.setName(\"My Daemon Thread\");\n    daemonThread.start();\n    printThreads(\"main Thread Printing\");\n}\n\nprivate static synchronized void printThreads(String str) {\n    System.out.println(str);\n    int threadCount = 0;\n    Set&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();\n    for (Thread t : threadSet) {\n        if (t.getThreadGroup() == Thread.currentThread().getThreadGroup()) {\n            System.out.println(\"Thread :\" + t + \":\" + \"state:\" + t.getState());\n            ++threadCount;\n        }\n    }\n    System.out.println(\"Thread count started by Main thread:\" + threadCount);\n    System.out.println(\"-------------------------------------------------\");\n}\n</code></pre>\n\n<p>output: This does not print \"finally\" which implies \"Finally block\" in \"daemon thread\" did not execute  </p>\n\n<blockquote>\n<pre><code>main Thread Printing  \nThread :Thread[My Daemon Thread,5,main]:state:BLOCKED  \nThread :Thread[main,5,main]:state:RUNNABLE  \nThread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE   \nThread count started by Main thread:3  \n-------------------------------------------------  \nDaemon Thread printing  \nThread :Thread[My Daemon Thread,5,main]:state:RUNNABLE  \nThread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE  \nThread count started by Main thread:2  \n-------------------------------------------------  \n\nProcess finished with exit code 0\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1688565379,"creation_date":1461881492,"answer_id":36926373,"question_id":65035,"body_markdown":"`finally` can also be exited prematurely if an `Exception` is `throw`n inside a *nested `finally` block*. The compiler will warn you that the `finally` block does not complete normally or give an error that you have unreachable code. The error for unreachable code will be shown only if the `throw` is not behind a conditional statement or inside a loop.\r\n\r\n    try {\r\n    } finally {\r\n       try {\r\n       } finally {\r\n          // if (someCondition) --&gt; no error because of unreachable code\r\n          throw new RunTimeException();\r\n       }\r\n\r\n       int a = 5; // unreachable code\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> can also be exited prematurely if an <code>Exception</code> is <code>throw</code>n inside a <em>nested <code>finally</code> block</em>. The compiler will warn you that the <code>finally</code> block does not complete normally or give an error that you have unreachable code. The error for unreachable code will be shown only if the <code>throw</code> is not behind a conditional statement or inside a loop.</p>\n<pre><code>try {\n} finally {\n   try {\n   } finally {\n      // if (someCondition) --&gt; no error because of unreachable code\n      throw new RunTimeException();\n   }\n\n   int a = 5; // unreachable code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8756575,"reputation":67,"user_id":6547976,"display_name":"dibo"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1467644033,"creation_date":1467644033,"answer_id":38187529,"question_id":65035,"body_markdown":"Same with the following code:\r\n\r\n    static int f() {\r\n        while (true) {\r\n            try {\r\n                return 1;\r\n            } finally {\r\n                break;\r\n            }\r\n        }\r\n        return 2;\r\n    }\r\n\r\nf will return 2!\r\n\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Same with the following code:</p>\n\n<pre><code>static int f() {\n    while (true) {\n        try {\n            return 1;\n        } finally {\n            break;\n        }\n    }\n    return 2;\n}\n</code></pre>\n\n<p>f will return 2!</p>\n"},{"tags":[],"owner":{"account_id":7009798,"reputation":2792,"user_id":5373110,"accept_rate":67,"display_name":"Meet Vora"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1688562056,"creation_date":1471071638,"answer_id":38930134,"question_id":65035,"body_markdown":"&gt; Answer is simple **YES**.\r\n\r\n**INPUT:**\r\n\r\n    try{\r\n    \tint divideByZeroException = 5 / 0;\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;catch&quot;);\r\n        return;    // also tried with break; in switch-case, got same output\r\n    } finally {\r\n        System.out.println(&quot;finally&quot;);\r\n    }\r\n\r\n**OUTPUT:**\r\n\r\n    catch\r\n    finally","title":"Does a finally block always get executed in Java?","body":"<blockquote>\n<p>Answer is simple <strong>YES</strong>.</p>\n</blockquote>\n<p><strong>INPUT:</strong></p>\n<pre><code>try{\n    int divideByZeroException = 5 / 0;\n} catch (Exception e) {\n    System.out.println(&quot;catch&quot;);\n    return;    // also tried with break; in switch-case, got same output\n} finally {\n    System.out.println(&quot;finally&quot;);\n}\n</code></pre>\n<p><strong>OUTPUT:</strong></p>\n<pre><code>catch\nfinally\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6586984,"reputation":181,"user_id":5089473,"accept_rate":0,"display_name":"Akash Manngroliya"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1688565331,"creation_date":1473744990,"answer_id":39462828,"question_id":65035,"body_markdown":"Yes, it will always be called but in one situation it is not called when you use `System.exit()`.\r\n\r\n    try {\r\n        // risky code\r\n    } catch (Exception e) {\r\n        // exception handling code\r\n    }\r\n    finally() {\r\n        // It is always executed, but if before this block there is any statement like System.exit(0); then this block will not be executed.\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>Yes, it will always be called but in one situation it is not called when you use <code>System.exit()</code>.</p>\n<pre><code>try {\n    // risky code\n} catch (Exception e) {\n    // exception handling code\n}\nfinally() {\n    // It is always executed, but if before this block there is any statement like System.exit(0); then this block will not be executed.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5393847,"reputation":1510,"user_id":4295595,"display_name":"Avinash Pande"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1495282569,"creation_date":1495282569,"answer_id":44085757,"question_id":65035,"body_markdown":" 1. Finally  Block always get executed. Unless and until\r\n    **System.exit()** statement exists there (first statement in finally block).\r\n 2. If **system.exit()** is first statement then finally block won&#39;t get executed and control come out of the finally block.\r\nWhenever System.exit() statement gets in finally block till that statement finally block executed and when System.exit() appears then control force fully come out of the finally block.\r\n\r\n ","title":"Does a finally block always get executed in Java?","body":"<ol>\n<li>Finally  Block always get executed. Unless and until\n<strong>System.exit()</strong> statement exists there (first statement in finally block).</li>\n<li>If <strong>system.exit()</strong> is first statement then finally block won't get executed and control come out of the finally block.\nWhenever System.exit() statement gets in finally block till that statement finally block executed and when System.exit() appears then control force fully come out of the finally block.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10160323,"reputation":522,"user_id":7504001,"accept_rate":40,"display_name":"Vikas Suryawanshi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1496925700,"creation_date":1496925700,"answer_id":44436111,"question_id":65035,"body_markdown":"If you don&#39;t handle exception, before terminating the program, JVM executes finally block. It will not executed only if normal execution of program will fail mean&#39;s termination of program due to these following reasons..\r\n\r\n1. By causing a fatal error that causes the process to abort.\r\n\r\n2. Termination of program due to memory corrupt.\r\n\r\n3. By calling System.exit()\r\n\r\n4. If program goes into infinity loop.","title":"Does a finally block always get executed in Java?","body":"<p>If you don't handle exception, before terminating the program, JVM executes finally block. It will not executed only if normal execution of program will fail mean's termination of program due to these following reasons..</p>\n\n<ol>\n<li><p>By causing a fatal error that causes the process to abort.</p></li>\n<li><p>Termination of program due to memory corrupt.</p></li>\n<li><p>By calling System.exit()</p></li>\n<li><p>If program goes into infinity loop.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8192283,"reputation":724,"user_id":6826372,"accept_rate":75,"display_name":"Sandip Solanki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510220501,"creation_date":1510220501,"answer_id":47198461,"question_id":65035,"body_markdown":"The finally block will not be called after return in a couple of unique scenarios: if System.exit() is called first, or if the JVM crashes.\r\n\r\nLet me try to answer your question in the easiest possible way.\r\n\r\n**Rule 1** : The finally block always run\r\n (Though there are exceptions to it. But let&#39;s stick to this for sometime.)\r\n\r\n**Rule 2** : the statements in the finally block run when control leaves a try or a catch block.The transfer of control can occur as a result of normal execution ,of execution of a break , continue, goto or a return statement, or of a propogation of an exception.\r\n\r\nIn case of a return statement specifically (since its captioned), the control has to leave the calling method , And hence calls the finally block of the corresponding  try-finally structure. The return statement is executed after the finally block.\r\n\r\nIn case there&#39;s a return statement in the finally block also, it will definitely override the one pending at the try block , since its clearing the call stack.\r\n\r\nYou can refer a better explanation here : http://msdn.microsoft.com/en-us/.... the concept is mostly same in all the high level languages.","title":"Does a finally block always get executed in Java?","body":"<p>The finally block will not be called after return in a couple of unique scenarios: if System.exit() is called first, or if the JVM crashes.</p>\n\n<p>Let me try to answer your question in the easiest possible way.</p>\n\n<p><strong>Rule 1</strong> : The finally block always run\n (Though there are exceptions to it. But let's stick to this for sometime.)</p>\n\n<p><strong>Rule 2</strong> : the statements in the finally block run when control leaves a try or a catch block.The transfer of control can occur as a result of normal execution ,of execution of a break , continue, goto or a return statement, or of a propogation of an exception.</p>\n\n<p>In case of a return statement specifically (since its captioned), the control has to leave the calling method , And hence calls the finally block of the corresponding  try-finally structure. The return statement is executed after the finally block.</p>\n\n<p>In case there's a return statement in the finally block also, it will definitely override the one pending at the try block , since its clearing the call stack.</p>\n\n<p>You can refer a better explanation here : <a href=\"http://msdn.microsoft.com/en-us/\" rel=\"noreferrer\">http://msdn.microsoft.com/en-us/</a>.... the concept is mostly same in all the high level languages.</p>\n"},{"tags":[],"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1513438596,"creation_date":1513438596,"answer_id":47847227,"question_id":65035,"body_markdown":"Yes, because **no control statement** can prevent `finally` from being executed.\r\n\r\nHere is a reference example, where all code blocks will be executed:\r\n\r\n    | x | Current result | Code \r\n    |---|----------------|------ - - -\r\n    |   |                |     \r\n    |   |                | public static int finallyTest() {\r\n    | 3 |                |     int x = 3;\r\n    |   |                |     try {\r\n    |   |                |        try {\r\n    | 4 |                |             x++;\r\n    | 4 | return 4       |             return x;\r\n    |   |                |         } finally {\r\n    | 3 |                |             x--;\r\n    | 3 | throw          |             throw new RuntimeException(&quot;Ahh!&quot;);\r\n    |   |                |         }\r\n    |   |                |     } catch (RuntimeException e) {\r\n    | 4 | return 4       |         return ++x;\r\n    |   |                |     } finally {\r\n    | 3 |                |         x--;\r\n    |   |                |     }\r\n    |   |                | }\r\n    |   |                |\r\n    |---|----------------|------ - - -\r\n    |   | Result: 4      |\r\n\r\nIn the variant below, `return x;` will be skipped. Result is still `4`:\r\n\r\n    public static int finallyTest() {\r\n        int x = 3;\r\n        try {\r\n            try {\r\n                x++;\r\n                if (true) throw new RuntimeException(&quot;Ahh!&quot;);\r\n                return x; // skipped\r\n            } finally {\r\n                x--;\r\n            }\r\n        } catch (RuntimeException e) {\r\n            return ++x;\r\n        } finally {\r\n            x--;\r\n        }\r\n    }\r\n\r\nReferences, of course, track their status. This example returns a reference with `value = 4`:\r\n\r\n    static class IntRef { public int value; }\r\n    public static IntRef finallyTest() {\r\n        IntRef x = new IntRef();\r\n        x.value = 3;\r\n        try {\r\n            return x;\r\n        } finally {\r\n            x.value++; // will be tracked even after return\r\n        }\r\n    }\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Yes, because <strong>no control statement</strong> can prevent <code>finally</code> from being executed.</p>\n\n<p>Here is a reference example, where all code blocks will be executed:</p>\n\n<pre><code>| x | Current result | Code \n|---|----------------|------ - - -\n|   |                |     \n|   |                | public static int finallyTest() {\n| 3 |                |     int x = 3;\n|   |                |     try {\n|   |                |        try {\n| 4 |                |             x++;\n| 4 | return 4       |             return x;\n|   |                |         } finally {\n| 3 |                |             x--;\n| 3 | throw          |             throw new RuntimeException(\"Ahh!\");\n|   |                |         }\n|   |                |     } catch (RuntimeException e) {\n| 4 | return 4       |         return ++x;\n|   |                |     } finally {\n| 3 |                |         x--;\n|   |                |     }\n|   |                | }\n|   |                |\n|---|----------------|------ - - -\n|   | Result: 4      |\n</code></pre>\n\n<p>In the variant below, <code>return x;</code> will be skipped. Result is still <code>4</code>:</p>\n\n<pre><code>public static int finallyTest() {\n    int x = 3;\n    try {\n        try {\n            x++;\n            if (true) throw new RuntimeException(\"Ahh!\");\n            return x; // skipped\n        } finally {\n            x--;\n        }\n    } catch (RuntimeException e) {\n        return ++x;\n    } finally {\n        x--;\n    }\n}\n</code></pre>\n\n<p>References, of course, track their status. This example returns a reference with <code>value = 4</code>:</p>\n\n<pre><code>static class IntRef { public int value; }\npublic static IntRef finallyTest() {\n    IntRef x = new IntRef();\n    x.value = 3;\n    try {\n        return x;\n    } finally {\n        x.value++; // will be tracked even after return\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1522685172,"creation_date":1522685172,"answer_id":49614632,"question_id":65035,"body_markdown":"Yes, it is written [here][1]\r\n\r\n&gt; If the JVM exits while the try or catch code is being executed, then the finally block may not execute. Likewise, if the thread executing the try or catch code is interrupted or killed, the finally block may not execute even though the application as a whole continues.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html","title":"Does a finally block always get executed in Java?","body":"<p>Yes, it is written <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html\" rel=\"noreferrer\">here</a></p>\n\n<blockquote>\n  <p>If the JVM exits while the try or catch code is being executed, then the finally block may not execute. Likewise, if the thread executing the try or catch code is interrupted or killed, the finally block may not execute even though the application as a whole continues.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3398891,"reputation":339,"user_id":2851699,"accept_rate":100,"display_name":"Pradeep Kumaresan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1523979359,"creation_date":1523360014,"answer_id":49752573,"question_id":65035,"body_markdown":"Adding to [@vibhash&#39;s answer][1] as no other answer explains what happens in the case of a mutable object like the one below.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(test().toString());\r\n    }\r\n\r\n    public static StringBuffer test() {\r\n        StringBuffer s = new StringBuffer();\r\n        try {\r\n            s.append(&quot;sb&quot;);\r\n            return s;\r\n        } finally {\r\n            s.append(&quot;updated &quot;);\r\n        }\r\n    }\r\nWill output\r\n&gt;     sbupdated \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/296053/4298200","title":"Does a finally block always get executed in Java?","body":"<p>Adding to <a href=\"https://stackoverflow.com/a/296053/4298200\">@vibhash's answer</a> as no other answer explains what happens in the case of a mutable object like the one below.</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(test().toString());\n}\n\npublic static StringBuffer test() {\n    StringBuffer s = new StringBuffer();\n    try {\n        s.append(\"sb\");\n        return s;\n    } finally {\n        s.append(\"updated \");\n    }\n}\n</code></pre>\n\n<p>Will output</p>\n\n<blockquote>\n<pre><code>sbupdated \n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11045803,"reputation":1246,"user_id":8111997,"display_name":"Poorna Senani Gamage"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523858469,"creation_date":1523858469,"answer_id":49850492,"question_id":65035,"body_markdown":"`try`- `catch`- `finally` are the key words for using exception handling case.&lt;br&gt; \r\nAs normal explanotory\r\n\r\n    try {\r\n    \t //code statements\r\n         //exception thrown here\r\n    \t //lines not reached if exception thrown\r\n    } catch (Exception e) {\r\n    \t//lines reached only when exception is thrown\r\n    } finally {\r\n    \t// always executed when the try block is exited\r\n    \t//independent of an exception thrown or not\r\n    }\r\n\r\n The finally block  prevent executing...\r\n\r\n - When you called `System.exit(0);`\r\n - If JVM exits.\r\n - Errors in the JVM\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p><code>try</code>- <code>catch</code>- <code>finally</code> are the key words for using exception handling case.<br> \nAs normal explanotory</p>\n\n<pre><code>try {\n     //code statements\n     //exception thrown here\n     //lines not reached if exception thrown\n} catch (Exception e) {\n    //lines reached only when exception is thrown\n} finally {\n    // always executed when the try block is exited\n    //independent of an exception thrown or not\n}\n</code></pre>\n\n<p>The finally block  prevent executing...</p>\n\n<ul>\n<li>When you called <code>System.exit(0);</code></li>\n<li>If JVM exits.</li>\n<li>Errors in the JVM</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8995792,"reputation":304,"user_id":6706261,"display_name":"aliceangel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1524268652,"creation_date":1524268652,"answer_id":49951065,"question_id":65035,"body_markdown":"finally block is executed always even if you put a return statement in the try block. The finally block will be executed before the return statement.","title":"Does a finally block always get executed in Java?","body":"<p>finally block is executed always even if you put a return statement in the try block. The finally block will be executed before the return statement.</p>\n"},{"tags":[],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1585597372,"creation_date":1525077405,"answer_id":50096809,"question_id":65035,"body_markdown":"Consider the following program:\r\n\r\n    public class SomeTest {\r\n    \r\n        private static StringBuilder sb = new StringBuilder();\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            System.out.println(someString());\r\n            System.out.println(&quot;---AGAIN---&quot;);\r\n            System.out.println(someString());\r\n            System.out.println(&quot;---PRINT THE RESULT---&quot;);\r\n            System.out.println(sb.toString());\r\n        }\r\n    \r\n        private static String someString() {\r\n    \r\n            try {\r\n                sb.append(&quot;-abc-&quot;);\r\n                return sb.toString();\r\n    \r\n            } finally {\r\n                sb.append(&quot;xyz&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAs of Java 1.8.162, the above code block gives the following output:\r\n\r\n    -abc-\r\n    ---AGAIN---\r\n    -abc-xyz-abc-\r\n    ---PRINT THE RESULT---\r\n    -abc-xyz-abc-xyz\r\n\r\n\r\nthis means that using `finally` to free up objects is a good practice like the following code:\r\n\r\n    private static String someString() {\r\n    \r\n        StringBuilder sb = new StringBuilder();\r\n    \r\n        try {\r\n            sb.append(&quot;abc&quot;);\r\n            return sb.toString();\r\n    \r\n        } finally {\r\n            sb = null; // Just an example, but you can close streams or DB connections this way.\r\n        }\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>Consider the following program:</p>\n\n<pre><code>public class SomeTest {\n\n    private static StringBuilder sb = new StringBuilder();\n\n    public static void main(String args[]) {\n\n        System.out.println(someString());\n        System.out.println(\"---AGAIN---\");\n        System.out.println(someString());\n        System.out.println(\"---PRINT THE RESULT---\");\n        System.out.println(sb.toString());\n    }\n\n    private static String someString() {\n\n        try {\n            sb.append(\"-abc-\");\n            return sb.toString();\n\n        } finally {\n            sb.append(\"xyz\");\n        }\n    }\n}\n</code></pre>\n\n<p>As of Java 1.8.162, the above code block gives the following output:</p>\n\n<pre><code>-abc-\n---AGAIN---\n-abc-xyz-abc-\n---PRINT THE RESULT---\n-abc-xyz-abc-xyz\n</code></pre>\n\n<p>this means that using <code>finally</code> to free up objects is a good practice like the following code:</p>\n\n<pre><code>private static String someString() {\n\n    StringBuilder sb = new StringBuilder();\n\n    try {\n        sb.append(\"abc\");\n        return sb.toString();\n\n    } finally {\n        sb = null; // Just an example, but you can close streams or DB connections this way.\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9334294,"reputation":47,"user_id":6929015,"display_name":"Rubin Luitel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1525902727,"creation_date":1525902727,"answer_id":50262581,"question_id":65035,"body_markdown":"Finally is always called at the end\r\n\r\nwhen you try, it executes some code, if something happens in try, then catch will catch that exception and you could print some mssg out or throw an error, then finally block is executed.\r\n\r\nFinally is normally used when doing cleanups, for instance, if you use a scanner in java, you should probably close the scanner as it leads to other problems such as not being able to open some file","title":"Does a finally block always get executed in Java?","body":"<p>Finally is always called at the end</p>\n\n<p>when you try, it executes some code, if something happens in try, then catch will catch that exception and you could print some mssg out or throw an error, then finally block is executed.</p>\n\n<p>Finally is normally used when doing cleanups, for instance, if you use a scanner in java, you should probably close the scanner as it leads to other problems such as not being able to open some file</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565214838,"creation_date":1565214838,"answer_id":57402744,"question_id":65035,"body_markdown":"Here are some conditions which can bypass a finally block:\r\n\r\n1. If the JVM exits while the try or catch code is being executed, then the finally block may not execute. More on [sun tutorial](http://download.oracle.com/javase/tutorial/essential/exceptions/finally.html)  \r\n2. Normal Shutdown - this occurs either when the last non-daemon thread exits OR when Runtime.exit() ([some good blog](http://geekexplains.blogspot.com/2008/06/jvm-shutdown-jvm-shutdown-sequence.html)). When a thread exits, the JVM performs an inventory of running threads, and if the only threads that are left are daemon threads, it initiates an orderly shutdown. When the JVM halts, any remaining daemon threads are abandoned finally blocks are not executed, stacks are not unwound the JVM just exits. Daemon threads should be used sparingly few processing activities can be safely abandoned at any time with no cleanup. In particular, it is dangerous to use daemon threads for tasks that might perform any sort of I/O. Daemon threads are best saved for &quot;housekeeping&quot; tasks, such as a background thread that periodically removes expired entries from an in-memory cache ([source](http://www.amazon.com/Java-Concurrency-Practice-Brian-Goetz/dp/0321349601))\r\n\r\nLast non-daemon thread exits example:  \r\n\r\n\tpublic class TestDaemon {\r\n\t\tprivate static Runnable runnable = new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Is alive&quot;);\r\n\t\t\t\t\t\tThread.sleep(10);\r\n\t\t\t\t\t\t// throw new RuntimeException();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Throwable t) {\r\n\t\t\t\t\tt.printStackTrace();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tSystem.out.println(&quot;This will never be executed.&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\tThread daemon = new Thread(runnable);\r\n\t\t\tdaemon.setDaemon(true);\r\n\t\t\tdaemon.start();\r\n\t\t\tThread.sleep(100);\r\n\t\t\t// daemon.stop();\r\n\t\t\tSystem.out.println(&quot;Last non-daemon thread exits.&quot;);\r\n\t\t}\r\n\t}\r\n\r\nOutput:  \r\n\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tLast non-daemon thread exits.\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Here are some conditions which can bypass a finally block:</p>\n\n<ol>\n<li>If the JVM exits while the try or catch code is being executed, then the finally block may not execute. More on <a href=\"http://download.oracle.com/javase/tutorial/essential/exceptions/finally.html\" rel=\"nofollow noreferrer\">sun tutorial</a>  </li>\n<li>Normal Shutdown - this occurs either when the last non-daemon thread exits OR when Runtime.exit() (<a href=\"http://geekexplains.blogspot.com/2008/06/jvm-shutdown-jvm-shutdown-sequence.html\" rel=\"nofollow noreferrer\">some good blog</a>). When a thread exits, the JVM performs an inventory of running threads, and if the only threads that are left are daemon threads, it initiates an orderly shutdown. When the JVM halts, any remaining daemon threads are abandoned finally blocks are not executed, stacks are not unwound the JVM just exits. Daemon threads should be used sparingly few processing activities can be safely abandoned at any time with no cleanup. In particular, it is dangerous to use daemon threads for tasks that might perform any sort of I/O. Daemon threads are best saved for \"housekeeping\" tasks, such as a background thread that periodically removes expired entries from an in-memory cache (<a href=\"https://rads.stackoverflow.com/amzn/click/com/0321349601\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">source</a>)</li>\n</ol>\n\n<p>Last non-daemon thread exits example:  </p>\n\n<pre><code>public class TestDaemon {\n    private static Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            try {\n                while (true) {\n                    System.out.println(\"Is alive\");\n                    Thread.sleep(10);\n                    // throw new RuntimeException();\n                }\n            } catch (Throwable t) {\n                t.printStackTrace();\n            } finally {\n                System.out.println(\"This will never be executed.\");\n            }\n        }\n    };\n\n    public static void main(String[] args) throws InterruptedException {\n        Thread daemon = new Thread(runnable);\n        daemon.setDaemon(true);\n        daemon.start();\n        Thread.sleep(100);\n        // daemon.stop();\n        System.out.println(\"Last non-daemon thread exits.\");\n    }\n}\n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code>Is alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nLast non-daemon thread exits.\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1624473053,"creation_date":1580131461,"answer_id":59932063,"question_id":65035,"body_markdown":"`finally` block is always executed and before returning `x`&#39;s (calculated) value.\r\n\r\n    \r\n    System.out.println(&quot;x value from foo() = &quot; + foo());\r\n\r\n    ...\r\n\r\n    int foo() {\r\n      int x = 2;\r\n      try {\r\n        return x++;\r\n      } finally {\r\n        System.out.println(&quot;x value in finally = &quot; + x);\r\n      }\r\n    }\r\n\r\nOutput:\r\n   \r\n &gt; x value in finally = 3  \r\n &gt; x value from foo() = 2","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> block is always executed and before returning <code>x</code>'s (calculated) value.</p>\n<pre><code>System.out.println(&quot;x value from foo() = &quot; + foo());\n\n...\n\nint foo() {\n  int x = 2;\n  try {\n    return x++;\n  } finally {\n    System.out.println(&quot;x value in finally = &quot; + x);\n  }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>x value in finally = 3<br />\nx value from foo() = 2</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3413345,"reputation":361,"user_id":2862834,"display_name":"Youngrok Ko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581137125,"creation_date":1581137125,"answer_id":60123997,"question_id":65035,"body_markdown":"try-with-resoruce example\r\n\r\n    static class IamAutoCloseable implements AutoCloseable {\r\n        private final String name;\r\n        IamAutoCloseable(String name) {\r\n            this.name = name;\r\n        }\r\n        public void close() {\r\n            System.out.println(name);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void withResourceFinally() {\r\n        try (IamAutoCloseable closeable1 = new IamAutoCloseable(&quot;closeable1&quot;);\r\n             IamAutoCloseable closeable2 = new IamAutoCloseable(&quot;closeable2&quot;)) {\r\n            System.out.println(&quot;try&quot;);\r\n        } finally {\r\n            System.out.println(&quot;finally&quot;);\r\n        }\r\n    }\r\n\r\nTest output:\r\n\r\n    try\r\n    closeable2\r\n    closeable1\r\n    finally\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p>try-with-resoruce example</p>\n\n<pre><code>static class IamAutoCloseable implements AutoCloseable {\n    private final String name;\n    IamAutoCloseable(String name) {\n        this.name = name;\n    }\n    public void close() {\n        System.out.println(name);\n    }\n}\n\n@Test\npublic void withResourceFinally() {\n    try (IamAutoCloseable closeable1 = new IamAutoCloseable(\"closeable1\");\n         IamAutoCloseable closeable2 = new IamAutoCloseable(\"closeable2\")) {\n        System.out.println(\"try\");\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n</code></pre>\n\n<p>Test output:</p>\n\n<pre><code>try\ncloseable2\ncloseable1\nfinally\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641568744,"creation_date":1641568744,"answer_id":70623392,"question_id":65035,"body_markdown":"I am terribly late to answer here, but I am surprised that no one mentioned the Java debugger option to drop a stack frame.  I am a heavy user of this feature in IntelliJ.  (I am _sure_ Eclipse and NetBeans has support for the same feature.)\r\n\r\nIf I drop stack frame from a the try or catch block that is followed by a finally block, the IDE will prompt me: &quot;Shall I execute the finally block?&quot;  Obviously, this is an artificial runtime environment -- a debugger!\r\n\r\nTo answer your question, I would say you can only guarantee it runs if ignore when a debugger is attached, and (like others said) method `something()` does not (a) call Java method `System.exit(int)` or (b) C function `exit(int)` / `abort()` via JNI or (c) do something crazy like call `kill -9 $PID` on itself(!).","title":"Does a finally block always get executed in Java?","body":"<p>I am terribly late to answer here, but I am surprised that no one mentioned the Java debugger option to drop a stack frame.  I am a heavy user of this feature in IntelliJ.  (I am <em>sure</em> Eclipse and NetBeans has support for the same feature.)</p>\n<p>If I drop stack frame from a the try or catch block that is followed by a finally block, the IDE will prompt me: &quot;Shall I execute the finally block?&quot;  Obviously, this is an artificial runtime environment -- a debugger!</p>\n<p>To answer your question, I would say you can only guarantee it runs if ignore when a debugger is attached, and (like others said) method <code>something()</code> does not (a) call Java method <code>System.exit(int)</code> or (b) C function <code>exit(int)</code> / <code>abort()</code> via JNI or (c) do something crazy like call <code>kill -9 $PID</code> on itself(!).</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643062515,"creation_date":1643062515,"answer_id":70841158,"question_id":65035,"body_markdown":"The [accepted answer][1] is true in nearly all aspects, but it is still only halve the truth at all (ok, 95% of the truth).\r\n\r\nAssume the following code:\r\n\r\n    private final Lock m_Lock = new ReentrantLock();\r\n    …\r\n    public final SomeObject doSomething( final SomeObject arg )\r\n    {\r\n      final SomeObject retValue;\r\n      try\r\n      {\r\n        lock.lock();\r\n        retValue = SomeObject( arg );\r\n      }\r\n      finally\r\n      {\r\n        out.println( &quot;Entering finally block&quot;);\r\n        callingAnotherMethod( arg, retValue );\r\n        lock.unlock();\r\n      }\r\n      \r\n      return retValue;\r\n    }\r\n    …\r\n    try\r\n    {\r\n       final var result = doSomething( new SomeObject() );\r\n    }\r\n    catch( final StackOverflowError e ) { /* Deliberately ignored */ }\r\n\r\nCalling the method `doSomething()` will cause a `StackOverflowError` nearly immediately.\r\n\r\nAnd the `lock` will not be released!\r\n\r\nBut how could this happen when the `finally` block is always executed (with the exceptions already listed in the [accepted answer][1])?\r\n\r\nThat is because there is *no guarantee* made that *all* statements in the `finally` block are *really* executed!\r\n    \r\nThis would be obvious if there would be a call to `System.exit()` or a `throws` statement before the call to `lock.unlock()`.\r\n\r\nBut there is nothing like that in the sample code …\r\n\r\nAside that the two other method calls in the `finally` block before the call to `lock.unlock()` will cause another `StackOverflowError` …\r\n\r\nAnd voil&#224;, the lock is not released!\r\n\r\nAlthough the sample code as such is silly, similar patterns can be found a lot in many kinds of software. All works fine as long as nothing ugly happens in the `finally` block …\r\n\r\nFunny fact is that it does not work in later versions of Java (meaning that in later versions, the lock was released …). No idea when and why this changed.\r\n\r\nBut you still have to make sure that the `finally` block always terminates normally, otherwise it might not matter if (that) it always get executed … \r\n\r\n  [1]: https://stackoverflow.com/a/65049/1554195\r\n","title":"Does a finally block always get executed in Java?","body":"<p>The <a href=\"https://stackoverflow.com/a/65049/1554195\">accepted answer</a> is true in nearly all aspects, but it is still only halve the truth at all (ok, 95% of the truth).</p>\n<p>Assume the following code:</p>\n<pre><code>private final Lock m_Lock = new ReentrantLock();\n…\npublic final SomeObject doSomething( final SomeObject arg )\n{\n  final SomeObject retValue;\n  try\n  {\n    lock.lock();\n    retValue = SomeObject( arg );\n  }\n  finally\n  {\n    out.println( &quot;Entering finally block&quot;);\n    callingAnotherMethod( arg, retValue );\n    lock.unlock();\n  }\n  \n  return retValue;\n}\n…\ntry\n{\n   final var result = doSomething( new SomeObject() );\n}\ncatch( final StackOverflowError e ) { /* Deliberately ignored */ }\n</code></pre>\n<p>Calling the method <code>doSomething()</code> will cause a <code>StackOverflowError</code> nearly immediately.</p>\n<p>And the <code>lock</code> will not be released!</p>\n<p>But how could this happen when the <code>finally</code> block is always executed (with the exceptions already listed in the <a href=\"https://stackoverflow.com/a/65049/1554195\">accepted answer</a>)?</p>\n<p>That is because there is <em>no guarantee</em> made that <em>all</em> statements in the <code>finally</code> block are <em>really</em> executed!</p>\n<p>This would be obvious if there would be a call to <code>System.exit()</code> or a <code>throws</code> statement before the call to <code>lock.unlock()</code>.</p>\n<p>But there is nothing like that in the sample code …</p>\n<p>Aside that the two other method calls in the <code>finally</code> block before the call to <code>lock.unlock()</code> will cause another <code>StackOverflowError</code> …</p>\n<p>And voilà, the lock is not released!</p>\n<p>Although the sample code as such is silly, similar patterns can be found a lot in many kinds of software. All works fine as long as nothing ugly happens in the <code>finally</code> block …</p>\n<p>Funny fact is that it does not work in later versions of Java (meaning that in later versions, the lock was released …). No idea when and why this changed.</p>\n<p>But you still have to make sure that the <code>finally</code> block always terminates normally, otherwise it might not matter if (that) it always get executed …</p>\n"},{"tags":[],"owner":{"account_id":28948355,"reputation":47,"user_id":22173512,"display_name":"Ammar Poursadegh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688565793,"creation_date":1688565793,"answer_id":76621132,"question_id":65035,"body_markdown":"the total list of situations are like :\r\n1. &#39;System.exit()&#39; method call within &#39;try&#39; or &#39;catch&#39; block can prevent &#39;finally&#39; block from executing.\r\n2. Infinite loops or endless operations within &#39;try&#39; or &#39;catch&#39; block can prevent &#39;finally&#39; block from executing.\r\n3. Power failures, hardware failures, or abrupt termination of the program may prevent &#39;finally&#39; block from executing.\r\n4. JVM crashes may prevent &#39;finally&#39; block from executing.\r\n5. &#39;Thread.stop()&#39; method call can prevent &#39;finally&#39; block from executing.\r\n6. Errors in JVM or operating system can prevent &#39;finally&#39; block from executing.\r\n7. &#39;StackOverflowError&#39; or &#39;OutOfMemoryError&#39; can prevent &#39;finally&#39; block from executing.\r\n8. &#39;IllegalMonitorStateException&#39; can prevent &#39;finally&#39; block from executing in the context of a synchronized block.\r\n9. &#39;SecurityException&#39; or other security-related exceptions can prevent &#39;finally&#39; block from executing.\r\n10. Bugs or logical errors in the program can prevent &#39;finally&#39; block from executing correctly.\r\n\te.g:\r\n``` java\r\ntry {\r\n\t Object obj = null;\r\n\tobj.toString(); // NullPointerException error\r\n} catch (Exception e) {\r\n\t// Exception handling...\r\n} finally {\r\n\t// This may not execute correctly due to the NullPointerException error\r\n\tSystem.out.println(&quot;This may not execute correctly due to a NullPointerException error.&quot;);\r\n}\r\n\r\n```","title":"Does a finally block always get executed in Java?","body":"<p>the total list of situations are like :</p>\n<ol>\n<li>'System.exit()' method call within 'try' or 'catch' block can prevent 'finally' block from executing.</li>\n<li>Infinite loops or endless operations within 'try' or 'catch' block can prevent 'finally' block from executing.</li>\n<li>Power failures, hardware failures, or abrupt termination of the program may prevent 'finally' block from executing.</li>\n<li>JVM crashes may prevent 'finally' block from executing.</li>\n<li>'Thread.stop()' method call can prevent 'finally' block from executing.</li>\n<li>Errors in JVM or operating system can prevent 'finally' block from executing.</li>\n<li>'StackOverflowError' or 'OutOfMemoryError' can prevent 'finally' block from executing.</li>\n<li>'IllegalMonitorStateException' can prevent 'finally' block from executing in the context of a synchronized block.</li>\n<li>'SecurityException' or other security-related exceptions can prevent 'finally' block from executing.</li>\n<li>Bugs or logical errors in the program can prevent 'finally' block from executing correctly.\ne.g:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n     Object obj = null;\n    obj.toString(); // NullPointerException error\n} catch (Exception e) {\n    // Exception handling...\n} finally {\n    // This may not execute correctly due to the NullPointerException error\n    System.out.println(&quot;This may not execute correctly due to a NullPointerException error.&quot;);\n}\n\n</code></pre>\n"}],"owner":{"account_id":474974,"reputation":27310,"user_id":885027,"accept_rate":100,"display_name":"jonny five"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607104,"favorite_count":0,"down_vote_count":21,"up_vote_count":2705,"accepted_answer_id":65049,"answer_count":52,"score":2684,"last_activity_date":1688565793,"creation_date":1221500634,"question_id":65035,"body_markdown":"Considering this code, can I be *absolutely sure* that the `finally` block always executes, no matter what `something()` is?\r\n\r\n    try {  \r\n        something();  \r\n        return success;  \r\n    }  \r\n    catch (Exception e) {   \r\n        return failure;  \r\n    }  \r\n    finally {  \r\n        System.out.println(&quot;I don&#39;t know if this will get printed out&quot;);\r\n    }\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Considering this code, can I be <em>absolutely sure</em> that the <code>finally</code> block always executes, no matter what <code>something()</code> is?</p>\n\n<pre><code>try {  \n    something();  \n    return success;  \n}  \ncatch (Exception e) {   \n    return failure;  \n}  \nfinally {  \n    System.out.println(\"I don't know if this will get printed out\");\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate-6.x"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688562267,"post_id":76620187,"comment_id":135089711,"body_markdown":"Hello, it&#39;s not clear - what is your question?","body":"Hello, it&#39;s not clear - what is your question?"}],"owner":{"account_id":28953303,"reputation":1,"user_id":22177379,"display_name":"david fortin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688565289,"creation_date":1688559036,"question_id":76620187,"body_markdown":"Auto-configure Hibernate6 with a JsonFormatMapper that uses the auto-configured Jackson ObjectMapper\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I am adding the definition in application.yml it is working fine\r\n\r\n    hibernate:\r\n      type:\r\n        json_format_mapper: com.xxxx.epm.yyyy.util.JacksonJsonFormatMapperCustom\r\n        # Allows Hibernate to generate SQL optimized for a particular DBMS\r\n","title":"Auto-configure Hibernate6 with a JsonFormatMapper","body":"<p>Auto-configure Hibernate6 with a JsonFormatMapper that uses the auto-configured Jackson ObjectMapper</p>\n<p>When I am adding the definition in application.yml it is working fine</p>\n<pre><code>hibernate:\n  type:\n    json_format_mapper: com.xxxx.epm.yyyy.util.JacksonJsonFormatMapperCustom\n    # Allows Hibernate to generate SQL optimized for a particular DBMS\n</code></pre>\n"},{"tags":["java","android","exception","arraylist","iteration"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1457133612,"post_id":6866238,"comment_id":59284985,"body_markdown":"Possible duplicate of [Concurrent Modification exception](http://stackoverflow.com/questions/1496180/concurrent-modification-exception)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1496180/concurrent-modification-exception\">Concurrent Modification exception</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1311890209,"creation_date":1311890209,"answer_id":6866267,"question_id":6866238,"body_markdown":"You&#39;re not allowed to add an entry to a collection while you&#39;re iterating over it.\r\n\r\nOne option is to create a new `List&lt;Element&gt;` for new entries while you&#39;re iterating over `mElements`, and then add all the new ones to `mElement` afterwards (`mElements.addAll(newElements)`). Of course, that means you won&#39;t have executed the loop body for those new elements - is that a problem?\r\n\r\nAt the same time, I&#39;d recommend that you update your code to use the [enhanced for loop][1]:\r\n\r\n    for (Element element : mElements) {\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/guide/language/foreach.html","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>You're not allowed to add an entry to a collection while you're iterating over it.</p>\n\n<p>One option is to create a new <code>List&lt;Element&gt;</code> for new entries while you're iterating over <code>mElements</code>, and then add all the new ones to <code>mElement</code> afterwards (<code>mElements.addAll(newElements)</code>). Of course, that means you won't have executed the loop body for those new elements - is that a problem?</p>\n\n<p>At the same time, I'd recommend that you update your code to use the <a href=\"http://download.oracle.com/javase/1,5.0/docs/guide/language/foreach.html\" rel=\"noreferrer\">enhanced for loop</a>:</p>\n\n<pre><code>for (Element element : mElements) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":423186,"reputation":7475,"user_id":802421,"accept_rate":78,"display_name":"user802421"},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1311890549,"creation_date":1311890236,"answer_id":6866271,"question_id":6866238,"body_markdown":"[ConcurrentModificationException][1] occurs when you modify the list (by adding or removing elements) while traversing a list with `Iterator`.\r\n\r\nTry \r\n\r\n    List&lt;Element&gt; thingsToBeAdd = new ArrayList&lt;Element&gt;();\r\n    for(Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();) {\r\n        Element element = it.next();\r\n        if(...) {  \r\n            //irrelevant stuff..\r\n            if(element.cFlag){\r\n                // mElements.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                thingsToBeAdd.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                element.cFlag = false;\r\n            }           \r\n        }\r\n    }\r\n    mElements.addAll(thingsToBeAdd );\r\n\r\nAlso you should consider enhanced for each loop as Jon suggested.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html\" rel=\"noreferrer\">ConcurrentModificationException</a> occurs when you modify the list (by adding or removing elements) while traversing a list with <code>Iterator</code>.</p>\n\n<p>Try </p>\n\n<pre><code>List&lt;Element&gt; thingsToBeAdd = new ArrayList&lt;Element&gt;();\nfor(Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();) {\n    Element element = it.next();\n    if(...) {  \n        //irrelevant stuff..\n        if(element.cFlag){\n            // mElements.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n            thingsToBeAdd.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n            element.cFlag = false;\n        }           \n    }\n}\nmElements.addAll(thingsToBeAdd );\n</code></pre>\n\n<p>Also you should consider enhanced for each loop as Jon suggested.</p>\n"},{"tags":[],"owner":{"account_id":446514,"reputation":6213,"user_id":839601,"display_name":"gnat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311898636,"creation_date":1311898636,"answer_id":6867309,"question_id":6866238,"body_markdown":"adding from list in this case leads to CME, no amount of `synchronized` will let you avoid that. Instead, consider adding using the iterator...\r\n\r\n            for(ListIterator&lt;Element&gt; it = mElements.listIterator(); it.hasNext();){\r\n                Element element = it.next();\r\n\r\n                if(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \r\n                        &amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {  \r\n\r\n                    //irrelevant stuff..\r\n\r\n                    if(element.cFlag){\r\n                        // mElements.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                        it.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                        element.cFlag = false;\r\n\r\n                    }           \r\n                }\r\n            }\r\n\r\n---\r\n\r\nAlso I think it&#39;s somewhat _slippery_ to state like...\r\n\r\n&gt; ...The problem occurs at `Element element = it.next();`\r\n\r\nfor the sake of precision note that above is not guaranteed.\r\n\r\n[API documentation](http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html) points out that this _...behavior cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast operations throw ConcurrentModificationException on a **best-effort basis**..._\r\n","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>adding from list in this case leads to CME, no amount of <code>synchronized</code> will let you avoid that. Instead, consider adding using the iterator...</p>\n\n<pre><code>        for(ListIterator&lt;Element&gt; it = mElements.listIterator(); it.hasNext();){\n            Element element = it.next();\n\n            if(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \n                    &amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {  \n\n                //irrelevant stuff..\n\n                if(element.cFlag){\n                    // mElements.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n                    it.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n                    element.cFlag = false;\n\n                }           \n            }\n        }\n</code></pre>\n\n<hr>\n\n<p>Also I think it's somewhat <em>slippery</em> to state like...</p>\n\n<blockquote>\n  <p>...The problem occurs at <code>Element element = it.next();</code></p>\n</blockquote>\n\n<p>for the sake of precision note that above is not guaranteed.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html\" rel=\"nofollow\">API documentation</a> points out that this <em>...behavior cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast operations throw ConcurrentModificationException on a <strong>best-effort basis</strong>...</em></p>\n"},{"tags":[],"owner":{"account_id":892451,"reputation":31936,"user_id":930450,"accept_rate":75,"display_name":"User"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1422450114,"creation_date":1337276657,"answer_id":10640753,"question_id":6866238,"body_markdown":"An indexed for loop should also work.\r\n\r\n    for (int i = 0; i &lt; collection.size(); i++)","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>An indexed for loop should also work.</p>\n\n<pre><code>for (int i = 0; i &lt; collection.size(); i++)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4905348,"reputation":1354,"user_id":3952244,"display_name":"David Bemerguy"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1422073030,"creation_date":1411984620,"answer_id":26097172,"question_id":6866238,"body_markdown":"Using Iterators also fixes concurrency problems, like this:\r\n\r\n    Iterator&lt;Object&gt; it = iterator.next().iterator();\r\n    while (it.hasNext()) {\r\n        it.remove();\r\n    }","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>Using Iterators also fixes concurrency problems, like this:</p>\n\n<pre><code>Iterator&lt;Object&gt; it = iterator.next().iterator();\nwhile (it.hasNext()) {\n    it.remove();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4270776,"reputation":3160,"user_id":3492625,"display_name":"konmik"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1421747074,"creation_date":1421746013,"answer_id":28041726,"question_id":6866238,"body_markdown":"I normally use something like this:\r\n\r\n    for (Element element : new ArrayList&lt;Element&gt;(mElements)) {\r\n        ...\r\n    }\r\n\r\nquick, clean and bug-free\r\n\r\nanother option is to use CopyOnWriteArrayList\r\n","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>I normally use something like this:</p>\n\n<pre><code>for (Element element : new ArrayList&lt;Element&gt;(mElements)) {\n    ...\n}\n</code></pre>\n\n<p>quick, clean and bug-free</p>\n\n<p>another option is to use CopyOnWriteArrayList</p>\n"},{"tags":[],"owner":{"account_id":7907855,"reputation":1079,"user_id":5972784,"accept_rate":0,"display_name":"Siddharth Choudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500620009,"creation_date":1500620009,"answer_id":45230933,"question_id":6866238,"body_markdown":"Well i have tried all the aspects in my case where i was iterating in an adapter a list but due to hitting again and again i showed me the message of exception being thrown .\r\nI tried Casting the list to\r\n\r\n     = (CopyOnWriteArraylist&lt;MyClass&gt;)mylist.value;\r\n\r\nbut it also throwed me an exception of CouldNotCastException,(and i finally pondered over the fact that why do they use or provide us a facality of casting).\r\n\r\nI even used the so called Synchronized Block too, but even it didn&#39;t worked or i might would have been using it in a wrong way.\r\n\r\n\r\nThus it&#39;s all when i finally used the #all of time# Technique of handling the exception\r\nin try catch block, and it worked\r\nSo put your code in the\r\n\r\n    try{\r\n    //block\r\n    \r\n    }catch(ConcurrentModificationException){\r\n    //thus handling my code over here\r\n    }\r\n    \r\n     \r\n\r\n","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>Well i have tried all the aspects in my case where i was iterating in an adapter a list but due to hitting again and again i showed me the message of exception being thrown .\nI tried Casting the list to</p>\n\n<pre><code> = (CopyOnWriteArraylist&lt;MyClass&gt;)mylist.value;\n</code></pre>\n\n<p>but it also throwed me an exception of CouldNotCastException,(and i finally pondered over the fact that why do they use or provide us a facality of casting).</p>\n\n<p>I even used the so called Synchronized Block too, but even it didn't worked or i might would have been using it in a wrong way.</p>\n\n<p>Thus it's all when i finally used the #all of time# Technique of handling the exception\nin try catch block, and it worked\nSo put your code in the</p>\n\n<pre><code>try{\n//block\n\n}catch(ConcurrentModificationException){\n//thus handling my code over here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1103769,"reputation":415,"user_id":1095610,"display_name":"marcolav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565977642,"creation_date":1565977642,"answer_id":57529035,"question_id":6866238,"body_markdown":"I solved creating a lock (Kotlin):\r\n\r\n\r\n    import java.util.concurrent.locks.ReentrantLock\r\n    \r\n    Class A {\r\n        private val listLock = ReentrantLock()\r\n        fun doSomething(newElement){\r\n            listLock.lock()\r\n            list.add(newElement)\r\n            listLock.unlock()\r\n        }\r\n    }","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>I solved creating a lock (Kotlin):</p>\n\n<pre><code>import java.util.concurrent.locks.ReentrantLock\n\nClass A {\n    private val listLock = ReentrantLock()\n    fun doSomething(newElement){\n        listLock.lock()\n        list.add(newElement)\n        listLock.unlock()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7836175,"reputation":31,"user_id":5924147,"display_name":"Saren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566458168,"creation_date":1566457902,"answer_id":57603844,"question_id":6866238,"body_markdown":"You could use an auto-decrement `for` loop, and deal with the additional elements next time.\r\n\r\n```\r\nList additionalElements = new ArrayList();\r\nfor(int i = mElements.size() - 1; i &gt; -1 ; i--){\r\n    //your business\r\n    additionalElements.add(newElement);\r\n}\r\nmElements.add(additionalElements);\r\n```","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>You could use an auto-decrement <code>for</code> loop, and deal with the additional elements next time.</p>\n\n<pre><code>List additionalElements = new ArrayList();\nfor(int i = mElements.size() - 1; i &gt; -1 ; i--){\n    //your business\n    additionalElements.add(newElement);\n}\nmElements.add(additionalElements);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7673543,"reputation":3490,"user_id":5815054,"accept_rate":50,"display_name":"hb0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586325871,"creation_date":1586325871,"answer_id":61094230,"question_id":6866238,"body_markdown":"The accepted solution (to create a copy of the collection) usually **works well**.\r\n\r\nHowever, if the `Element` **contains another collection** this does not make a *deep copy*!\r\n\r\nExample:\r\n\r\n```\r\nclass Element {\r\n   List&lt;Kid&gt; kids;\r\n\r\n   getKids() {\r\n      return kids;\r\n   }\r\n}\r\n```\r\n\r\nNow when you create a copy of the List of Elements:\r\n\r\n```\r\nfor (Element element : new ArrayList&lt;Element&gt;(elements)) { ... }\r\n```\r\n\r\nYou can still get a `ConcurrentModificationException` if you iterate over `element.getKids()` and, parally, alter the `kids` of that element.\r\n\r\nLooking back it&#39;s obvious, but I ended up in this thread so maybe this hint helps others, too:\r\n\r\n```\r\nclass Element {\r\n   List&lt;Kid&gt; kids;\r\n\r\n   getKids() {\r\n      // Return a copy of the child collection\r\n      return new ArrayList&lt;Kid&gt;(kids);\r\n   }\r\n}\r\n```","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>The accepted solution (to create a copy of the collection) usually <strong>works well</strong>.</p>\n\n<p>However, if the <code>Element</code> <strong>contains another collection</strong> this does not make a <em>deep copy</em>!</p>\n\n<p>Example:</p>\n\n<pre><code>class Element {\n   List&lt;Kid&gt; kids;\n\n   getKids() {\n      return kids;\n   }\n}\n</code></pre>\n\n<p>Now when you create a copy of the List of Elements:</p>\n\n<pre><code>for (Element element : new ArrayList&lt;Element&gt;(elements)) { ... }\n</code></pre>\n\n<p>You can still get a <code>ConcurrentModificationException</code> if you iterate over <code>element.getKids()</code> and, parally, alter the <code>kids</code> of that element.</p>\n\n<p>Looking back it's obvious, but I ended up in this thread so maybe this hint helps others, too:</p>\n\n<pre><code>class Element {\n   List&lt;Kid&gt; kids;\n\n   getKids() {\n      // Return a copy of the child collection\n      return new ArrayList&lt;Kid&gt;(kids);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20489666,"reputation":21,"user_id":15036017,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688564948,"creation_date":1688564948,"answer_id":76621028,"question_id":6866238,"body_markdown":"        LinkedList&lt;Double&gt; newList = new LinkedList&lt;&gt;();\r\n        newList.addAll(oldList);\r\nThis will take care of ConcurrentModificationException and good practice","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<pre><code>    LinkedList&lt;Double&gt; newList = new LinkedList&lt;&gt;();\n    newList.addAll(oldList);\n</code></pre>\n<p>This will take care of ConcurrentModificationException and good practice</p>\n"}],"owner":{"display_name":"user773737"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105633,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":6866271,"answer_count":11,"score":66,"last_activity_date":1688564948,"creation_date":1311890010,"question_id":6866238,"body_markdown":"The problem occurs at \r\n\r\n    Element element = it.next();\r\n\r\nAnd this code which contains that line, is inside of an `OnTouchEvent`\r\n\r\n    for (Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();){\r\n\t\tElement element = it.next();\r\n\t\t\r\n\t\tif(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \r\n\t\t\t\t&amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {\t \r\n\t\t\t\r\n\t\t\t//irrelevant stuff..\r\n\t\t\t\r\n\t\t\tif(element.cFlag){\r\n\t\t\t\tmElements.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n\t\t\t\telement.cFlag = false;\r\n\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\r\nAll of this is inside `synchronized(mElements)`, where `mElements` is an `ArrayList&lt;Element&gt;` \r\n\r\nWhen I touch an `Element`, it may activate `cFlag`, which will create another `Element` with different properties, which will fall off the screen and destroy itself in less than a second. It&#39;s my way of creating particle effects. We can call this &quot;particle&quot; `crack`, like the String parameter in the constructor.\r\n\r\n\r\n\r\nThis all works fine until I add another main `Element`. Now I have two `Elements` on the screen at the same time, and if I touch the newest `Element`, it works fine, and launches the particles.\r\n\r\nHowever, if I touch and activate `cFlag` on the older `Element`, then it gives me the exception.\r\n\r\n\r\n   \r\n\r\n     07-28 15:36:59.815: ERROR/AndroidRuntime(4026): FATAL EXCEPTION: main\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026): java.util.ConcurrentModificationException\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:573)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.Juggle2.Panel.onTouchEvent(Panel.java:823)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.View.dispatchTouchEvent(View.java:3766)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1767)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1119)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.Activity.dispatchTouchEvent(Activity.java:2086)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1751)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1785)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Looper.loop(Looper.java:123)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.ActivityThread.main(ActivityThread.java:4627)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invokeNative(Native Method)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invoke(Method.java:521)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:893)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:651)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at dalvik.system.NativeStart.main(Native Method)\r\n\r\n\r\n\r\nHow can I make this work?","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>The problem occurs at </p>\n\n<pre><code>Element element = it.next();\n</code></pre>\n\n<p>And this code which contains that line, is inside of an <code>OnTouchEvent</code></p>\n\n<pre><code>for (Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();){\n    Element element = it.next();\n\n    if(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \n            &amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {  \n\n        //irrelevant stuff..\n\n        if(element.cFlag){\n            mElements.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n            element.cFlag = false;\n\n        }           \n    }\n}\n</code></pre>\n\n<p>All of this is inside <code>synchronized(mElements)</code>, where <code>mElements</code> is an <code>ArrayList&lt;Element&gt;</code> </p>\n\n<p>When I touch an <code>Element</code>, it may activate <code>cFlag</code>, which will create another <code>Element</code> with different properties, which will fall off the screen and destroy itself in less than a second. It's my way of creating particle effects. We can call this \"particle\" <code>crack</code>, like the String parameter in the constructor.</p>\n\n<p>This all works fine until I add another main <code>Element</code>. Now I have two <code>Elements</code> on the screen at the same time, and if I touch the newest <code>Element</code>, it works fine, and launches the particles.</p>\n\n<p>However, if I touch and activate <code>cFlag</code> on the older <code>Element</code>, then it gives me the exception.</p>\n\n<pre><code> 07-28 15:36:59.815: ERROR/AndroidRuntime(4026): FATAL EXCEPTION: main\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026): java.util.ConcurrentModificationException\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:573)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.Juggle2.Panel.onTouchEvent(Panel.java:823)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.View.dispatchTouchEvent(View.java:3766)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1767)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1119)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.Activity.dispatchTouchEvent(Activity.java:2086)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1751)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1785)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Handler.dispatchMessage(Handler.java:99)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Looper.loop(Looper.java:123)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.ActivityThread.main(ActivityThread.java:4627)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invokeNative(Native Method)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invoke(Method.java:521)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:893)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:651)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>How can I make this work?</p>\n"},{"tags":["java","spring-boot","cors","aws-api-gateway","amazon-ecs"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1685098801,"post_id":76339966,"comment_id":134617516,"body_markdown":"This question is not about programming.","body":"This question is not about programming."},{"owner":{"account_id":10853954,"reputation":73,"user_id":10262993,"display_name":"Samudrala Prasad"},"score":0,"creation_date":1685099391,"post_id":76339966,"comment_id":134617619,"body_markdown":"I understand that above scenario is about a middleware API configured behind API Gateway which is causing CORS error when tried with bad requests.","body":"I understand that above scenario is about a middleware API configured behind API Gateway which is causing CORS error when tried with bad requests."},{"owner":{"account_id":10853954,"reputation":73,"user_id":10262993,"display_name":"Samudrala Prasad"},"score":0,"creation_date":1685099459,"post_id":76339966,"comment_id":134617632,"body_markdown":"May be something from frontend or API Gateway should have some option to solve issue","body":"May be something from frontend or API Gateway should have some option to solve issue"}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688564482,"creation_date":1688564482,"answer_id":76620944,"question_id":76339966,"body_markdown":"**The question s quite vague, but let me do some guessing about what the problem is.**\r\n\r\nMay it be that the resource behind your AWS API Gateway has a CORS policy implemented? Maybe it&#39;s an s3 bucket with some CORS policy attached. If created with Cloud Formation it will have this configuration with CORS:\r\n```yaml\r\nBucketName:\r\n    Type: AWS::S3::Bucket\r\n    Properties:\r\n      CorsConfiguration:\r\n```\r\n\r\nIn that case, when the browser does a preflight request to check CORS policy, it will hit your resource if it exists, and get the CORS policy back. If the browser is happy with the policy, it will do the actual request. But when it is trying to access a resource that does not exist, a file in the bucket that are not there, the resource is not found and can for that reason not answer with a CORS policy.\r\n\r\nIf you setup your AWS API Gateway using an `openapi`-definition, check out the top level property `x-amazon-apigateway-cors:`.\r\n\r\nIf you have a Cloud Front infront of your API Gateway, and that is setup using Cloud Formation, you can set CORS policy on that using:\r\n```yaml\r\n  CloudFrontDistribution:\r\n    Type: AWS::CloudFront::Distribution\r\n    Properties:\r\n      ...\r\n      DistributionConfig:\r\n        ...\r\n        CacheBehaviors:\r\n            ...\r\n            ResponseHeadersPolicyId: !Ref ResponseHeadersPolicy\r\n\r\n  ResponseHeadersPolicy:\r\n    Type: AWS::CloudFront::ResponseHeadersPolicy\r\n    Properties:\r\n      ResponseHeadersPolicyConfig:\r\n        CorsConfig:\r\n          ...\r\n          AccessControlAllowMethods:\r\n            Items:\r\n              - GET\r\n              - HEAD\r\n              - OPTIONS\r\n          AccessControlAllowOrigins:\r\n            Items:\r\n              - https://example.com\r\n```","title":"CORS issue from AWS API GATEWAY when accessing from web for Bad request scenario","body":"<p><strong>The question s quite vague, but let me do some guessing about what the problem is.</strong></p>\n<p>May it be that the resource behind your AWS API Gateway has a CORS policy implemented? Maybe it's an s3 bucket with some CORS policy attached. If created with Cloud Formation it will have this configuration with CORS:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>BucketName:\n    Type: AWS::S3::Bucket\n    Properties:\n      CorsConfiguration:\n</code></pre>\n<p>In that case, when the browser does a preflight request to check CORS policy, it will hit your resource if it exists, and get the CORS policy back. If the browser is happy with the policy, it will do the actual request. But when it is trying to access a resource that does not exist, a file in the bucket that are not there, the resource is not found and can for that reason not answer with a CORS policy.</p>\n<p>If you setup your AWS API Gateway using an <code>openapi</code>-definition, check out the top level property <code>x-amazon-apigateway-cors:</code>.</p>\n<p>If you have a Cloud Front infront of your API Gateway, and that is setup using Cloud Formation, you can set CORS policy on that using:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  CloudFrontDistribution:\n    Type: AWS::CloudFront::Distribution\n    Properties:\n      ...\n      DistributionConfig:\n        ...\n        CacheBehaviors:\n            ...\n            ResponseHeadersPolicyId: !Ref ResponseHeadersPolicy\n\n  ResponseHeadersPolicy:\n    Type: AWS::CloudFront::ResponseHeadersPolicy\n    Properties:\n      ResponseHeadersPolicyConfig:\n        CorsConfig:\n          ...\n          AccessControlAllowMethods:\n            Items:\n              - GET\n              - HEAD\n              - OPTIONS\n          AccessControlAllowOrigins:\n            Items:\n              - https://example.com\n</code></pre>\n"}],"owner":{"account_id":14648801,"reputation":9,"user_id":10579358,"display_name":"Mallireddy Chandu Priya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688564482,"creation_date":1685097253,"question_id":76339966,"body_markdown":"I am trying to integrate Rest API (Middleware Backend application) in AWS API GATEWAY which will acts as a pass through, I have configured API and enabled CORS in GATEWAY.\r\nWhen I am trying to access the Gateway integrated API from Web , API throwing ***“CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource””*** when I am hitting with a bad request 4XX status codes and for success scenarios its returning success response, it means which return 200 status code.\r\n\r\nIs there any way to configure API Gateway to receive 4XX responses without throwing CORS issue.\r\n\r\n\r\nI tried to look into AWS API GATEWAY for allowing CORS origin settings for bad request scenarioes but no options found. \r\nI am looking for a solution to avoid CORS error when performing testing with a bad request.","title":"CORS issue from AWS API GATEWAY when accessing from web for Bad request scenario","body":"<p>I am trying to integrate Rest API (Middleware Backend application) in AWS API GATEWAY which will acts as a pass through, I have configured API and enabled CORS in GATEWAY.\nWhen I am trying to access the Gateway integrated API from Web , API throwing <em><strong>“CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource””</strong></em> when I am hitting with a bad request 4XX status codes and for success scenarios its returning success response, it means which return 200 status code.</p>\n<p>Is there any way to configure API Gateway to receive 4XX responses without throwing CORS issue.</p>\n<p>I tried to look into AWS API GATEWAY for allowing CORS origin settings for bad request scenarioes but no options found.\nI am looking for a solution to avoid CORS error when performing testing with a bad request.</p>\n"},{"tags":["java","spring","swagger"],"owner":{"account_id":10307815,"reputation":1103,"user_id":7604532,"accept_rate":50,"display_name":"laurentius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688564249,"creation_date":1688564249,"question_id":76620912,"body_markdown":"Using Spring to implement a REST API. Some endpoints will support CSV, other will not. I want to avoid having CSV as a response in all endpoints like this:\r\n\r\n    @ApiResponses(\r\n    \t@ApiResponse(description = &quot;OK&quot;, responseCode = &quot;200&quot;, content = {\r\n    \t\t@Content(mediaType = JSON, schema = @Schema(…),\r\n    \t\t@Content(mediaType = CSV, schema = @Schema(…)\r\n    \t}\r\n    )\r\n\r\nI want to hava a custom annotation, @EnableCSV for example, that will add that response type to the endpoint without having to write it every time. If I create a meta-annotation with @ApiResponse, response for 200 gets overridden (you can only specify one @ApiResponse for each responseCode unless it&#39;s grouped like that). Any other way to do this? Can I group both in an annotation and maybe just replace the @Schema for the first one by a parameter? Kinda like @EnableCSV(schema = @Schema(...)) that will only put that schema for the regular 200 and keep the CSV one too.\r\n\r\nUsing swagger v3\r\n\r\nThanks.","title":"Multiple responses for the same code using custom annotations","body":"<p>Using Spring to implement a REST API. Some endpoints will support CSV, other will not. I want to avoid having CSV as a response in all endpoints like this:</p>\n<pre><code>@ApiResponses(\n    @ApiResponse(description = &quot;OK&quot;, responseCode = &quot;200&quot;, content = {\n        @Content(mediaType = JSON, schema = @Schema(…),\n        @Content(mediaType = CSV, schema = @Schema(…)\n    }\n)\n</code></pre>\n<p>I want to hava a custom annotation, @EnableCSV for example, that will add that response type to the endpoint without having to write it every time. If I create a meta-annotation with @ApiResponse, response for 200 gets overridden (you can only specify one @ApiResponse for each responseCode unless it's grouped like that). Any other way to do this? Can I group both in an annotation and maybe just replace the @Schema for the first one by a parameter? Kinda like @EnableCSV(schema = @Schema(...)) that will only put that schema for the regular 200 and keep the CSV one too.</p>\n<p>Using swagger v3</p>\n<p>Thanks.</p>\n"},{"tags":["java","postgresql","spring-boot","junit"],"owner":{"account_id":4607949,"reputation":500,"user_id":3736889,"display_name":"szefuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688564015,"creation_date":1688564015,"question_id":76620876,"body_markdown":"I recently added Zonky for embedded postgres to legacy project that had no dnit tests at all.\r\nI have a standard config: \r\n```\r\n@AutoConfigureEmbeddedDatabase(\r\n        beanName = &quot;myDatasource&quot;,\r\n        type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES,\r\n        provider = AutoConfigureEmbeddedDatabase.DatabaseProvider.ZONKY\r\n)\r\n```\r\n\r\nUnfortunately, it turns out the app has second data source, which is `PGSimpleDataSource` defined from the code, with the same host, port, etc. passed in `application.yml` as the `myDatasource`.\r\n\r\nIs there a way to access Zonky from outside, so I could pass these values without changing the old code? The reason behind it is the `myDatasource` is the &quot;main&quot; datasource for app, but the second one is in fact a list of multiple different datasources, not only this one.","title":"Is there a way to connect to Zonky from outside?","body":"<p>I recently added Zonky for embedded postgres to legacy project that had no dnit tests at all.\nI have a standard config:</p>\n<pre><code>@AutoConfigureEmbeddedDatabase(\n        beanName = &quot;myDatasource&quot;,\n        type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES,\n        provider = AutoConfigureEmbeddedDatabase.DatabaseProvider.ZONKY\n)\n</code></pre>\n<p>Unfortunately, it turns out the app has second data source, which is <code>PGSimpleDataSource</code> defined from the code, with the same host, port, etc. passed in <code>application.yml</code> as the <code>myDatasource</code>.</p>\n<p>Is there a way to access Zonky from outside, so I could pass these values without changing the old code? The reason behind it is the <code>myDatasource</code> is the &quot;main&quot; datasource for app, but the second one is in fact a list of multiple different datasources, not only this one.</p>\n"},{"tags":["java","android","dagger-2"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487196675,"creation_date":1487196675,"answer_id":42261056,"question_id":42251057,"body_markdown":"Conceptually, what you want is a Factory:\r\n\r\n    /** Inject this wherever you want an instance of Dependency. */\r\n    public interface DependencyFactory {\r\n      Dependency create(\r\n          int number1,\r\n          int number2,\r\n          int number3,\r\n          DependencyListener listener);\r\n    }\r\n\r\n    public class DependencyFactoryImpl implements DependencyFactory {\r\n      @Inject Provider&lt;SomeDaggerDepIfNeeded&gt; someDaggerDepProvider;\r\n\r\n      @Override public void create(\r\n          int number1,\r\n          int number2,\r\n          int number3,\r\n          DependencyListener listener) {\r\n        return new Dependency(number1, number2, number3, listener,\r\n            someDaggerDepProvider.get() /* if necessary */);\r\n      }\r\n    }\r\n\r\nHowever, because this is so easy to generate automatically, there are often built-in tools to do so. **[Guice](https://github.com/google/guice)** calls this [Assisted Injection](https://github.com/google/guice/wiki/AssistedInject), and supplies [FactoryModuleBuilder](https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/assistedinject/FactoryModuleBuilder.html) (via an optional extension JAR) that reflectively generates factories at runtime. **Dagger 2** doesn&#39;t have a built-in equivalent, mostly because Google has already released an open-source JSR-330 factory generator called **[AutoFactory](https://github.com/google/auto/tree/master/factory)** that generates a factory for _any_ [JSR-330](https://www.jcp.org/en/jsr/detail?id=330) implementation including Dagger, Guice, and Spring.\r\n\r\n    @AutoFactory\r\n    public class Dependency{\r\n      Dependency(\r\n          int number1, int number2, int number3, DependencyListener listener,\r\n          @Provided SomeDaggerDepIfNeeded somedaggerDep){}     \r\n    }\r\n\r\nSee the AutoFactory documentation for details on its calls, particularly if you&#39;re interested in having the generated factory implement an interface. Using an interface you define explicitly can make it easier to work with generated code in IDEs.\r\n\r\n(If you don&#39;t have any need for dependencies from Dagger, or for substituting other implementations of this class to classes that depend on it, you can leave the class exactly as it is and treat the call to `new` as a factory.)","title":"How to Instantiate an object with dynamic members with Dagger2?","body":"<p>Conceptually, what you want is a Factory:</p>\n\n<pre><code>/** Inject this wherever you want an instance of Dependency. */\npublic interface DependencyFactory {\n  Dependency create(\n      int number1,\n      int number2,\n      int number3,\n      DependencyListener listener);\n}\n\npublic class DependencyFactoryImpl implements DependencyFactory {\n  @Inject Provider&lt;SomeDaggerDepIfNeeded&gt; someDaggerDepProvider;\n\n  @Override public void create(\n      int number1,\n      int number2,\n      int number3,\n      DependencyListener listener) {\n    return new Dependency(number1, number2, number3, listener,\n        someDaggerDepProvider.get() /* if necessary */);\n  }\n}\n</code></pre>\n\n<p>However, because this is so easy to generate automatically, there are often built-in tools to do so. <strong><a href=\"https://github.com/google/guice\" rel=\"nofollow noreferrer\">Guice</a></strong> calls this <a href=\"https://github.com/google/guice/wiki/AssistedInject\" rel=\"nofollow noreferrer\">Assisted Injection</a>, and supplies <a href=\"https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/assistedinject/FactoryModuleBuilder.html\" rel=\"nofollow noreferrer\">FactoryModuleBuilder</a> (via an optional extension JAR) that reflectively generates factories at runtime. <strong>Dagger 2</strong> doesn't have a built-in equivalent, mostly because Google has already released an open-source JSR-330 factory generator called <strong><a href=\"https://github.com/google/auto/tree/master/factory\" rel=\"nofollow noreferrer\">AutoFactory</a></strong> that generates a factory for <em>any</em> <a href=\"https://www.jcp.org/en/jsr/detail?id=330\" rel=\"nofollow noreferrer\">JSR-330</a> implementation including Dagger, Guice, and Spring.</p>\n\n<pre><code>@AutoFactory\npublic class Dependency{\n  Dependency(\n      int number1, int number2, int number3, DependencyListener listener,\n      @Provided SomeDaggerDepIfNeeded somedaggerDep){}     \n}\n</code></pre>\n\n<p>See the AutoFactory documentation for details on its calls, particularly if you're interested in having the generated factory implement an interface. Using an interface you define explicitly can make it easier to work with generated code in IDEs.</p>\n\n<p>(If you don't have any need for dependencies from Dagger, or for substituting other implementations of this class to classes that depend on it, you can leave the class exactly as it is and treat the call to <code>new</code> as a factory.)</p>\n"},{"tags":[],"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688563728,"creation_date":1688563728,"answer_id":76620839,"question_id":42251057,"body_markdown":"To solve the problem, you can use [Assisted Injection][1] to construct an object where some parameters may be provided by the DI framework and others must be passed in at creation time. So, your `Dependency` class can be something like this (suppose that `DependencyListener` provided by the DI framework):\r\n\r\n    public record Dependency(int number, DependencyListener listener) {\r\n    \r\n        @AssistedInject\r\n        public Dependency(@Assisted int number, DependencyListener listener) {\r\n            this.number = number;\r\n            this.listener = listener;\r\n        }\r\n    }\r\n\r\nIn addition, you should define a factory that can be used to create an instance of the object and it should contain an abstract method that returns the `@AssistedInject` type and takes in all `@Assisted` parameters defined in its constructor like below:\r\n\r\n    @AssistedFactory\r\n    public interface DependencyFactory {\r\n        Dependency buildDependency(int number);\r\n    }\r\n\r\nFinally, you can inject this factory and use it to create the `Dependency`:\r\n\r\n    public class Dependent {\r\n    \r\n        private final DependencyFactory factory;\r\n    \r\n        @Inject\r\n        public Dependent(DependencyFactory factory) {\r\n            this.factory = factory;\r\n        }\r\n    \r\n        Dependency getDependency(int number) {\r\n            return factory.buildDependency(number);\r\n        }\r\n    }\r\n\r\n  [1]: https://dagger.dev/dev-guide/assisted-injection.html","title":"How to Instantiate an object with dynamic members with Dagger2?","body":"<p>To solve the problem, you can use <a href=\"https://dagger.dev/dev-guide/assisted-injection.html\" rel=\"nofollow noreferrer\">Assisted Injection</a> to construct an object where some parameters may be provided by the DI framework and others must be passed in at creation time. So, your <code>Dependency</code> class can be something like this (suppose that <code>DependencyListener</code> provided by the DI framework):</p>\n<pre><code>public record Dependency(int number, DependencyListener listener) {\n\n    @AssistedInject\n    public Dependency(@Assisted int number, DependencyListener listener) {\n        this.number = number;\n        this.listener = listener;\n    }\n}\n</code></pre>\n<p>In addition, you should define a factory that can be used to create an instance of the object and it should contain an abstract method that returns the <code>@AssistedInject</code> type and takes in all <code>@Assisted</code> parameters defined in its constructor like below:</p>\n<pre><code>@AssistedFactory\npublic interface DependencyFactory {\n    Dependency buildDependency(int number);\n}\n</code></pre>\n<p>Finally, you can inject this factory and use it to create the <code>Dependency</code>:</p>\n<pre><code>public class Dependent {\n\n    private final DependencyFactory factory;\n\n    @Inject\n    public Dependent(DependencyFactory factory) {\n        this.factory = factory;\n    }\n\n    Dependency getDependency(int number) {\n        return factory.buildDependency(number);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3573479,"reputation":371,"user_id":2983287,"accept_rate":50,"display_name":"danidin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688563728,"creation_date":1487166189,"question_id":42251057,"body_markdown":"I have a class which gets arguments in a constructor:\r\n    \r\n    public class Dependency{\r\n      Dependency(int number1, int number2, int number3, DependencyListener listener){}     \r\n    }\r\neach dependent class needs to path different arguments in order to instantiate a dependency.\r\nHow should i define the module and the component that other classes could initiate it properly while transferring different values and passing &#39;this&#39; as the listener?\r\n\r\nAlso, How should i use the @Inject method in this case?\r\n\r\n**Edit 1**\r\n\r\n@jeff-bowman\r\nI was thinking of using the following method:\r\n\r\n    @Module public class DependencyModule {\r\n      int first;\r\n      int second;\r\n      int third;\r\n      DependencyListener listener;\r\n\r\n      public DependencyModule(int first, int second, int third, DependencyListener listener) {\r\n        this.first = first;\r\n        this.second = second;\r\n        this.third = third;\r\n        this.listener = listener\r\n      }\r\n     \r\n      @Provides Dependency provideDependency(int first, int second, int third, DependencyListener listener) {\r\n        return new Dependency(first, second, third, listener)\r\n      }\r\n    }\r\n\r\n    @Component(modules = { DependencyModule.class }) public interface     \r\n    DependencyComponent {\r\n      void inject(DependentClass1 target);\r\n      void inject(DependentClass2 target);\r\n      void inject(DependentClass3 target);\r\n    }\r\n\r\nand in each DependentClass i would do:\r\n    \r\n    public class DependentClass{\r\n      @Inject Dependency;\r\n      public DependentClass{\r\n          DaggerDependencyComponent.builder().dependencyModule(new DependencyModule(first, second, third, this)).build().inject();\r\n      }\r\n    }\r\n\r\nIs it a good practice?","title":"How to Instantiate an object with dynamic members with Dagger2?","body":"<p>I have a class which gets arguments in a constructor:</p>\n\n<pre><code>public class Dependency{\n  Dependency(int number1, int number2, int number3, DependencyListener listener){}     \n}\n</code></pre>\n\n<p>each dependent class needs to path different arguments in order to instantiate a dependency.\nHow should i define the module and the component that other classes could initiate it properly while transferring different values and passing 'this' as the listener?</p>\n\n<p>Also, How should i use the @Inject method in this case?</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>@jeff-bowman\nI was thinking of using the following method:</p>\n\n<pre><code>@Module public class DependencyModule {\n  int first;\n  int second;\n  int third;\n  DependencyListener listener;\n\n  public DependencyModule(int first, int second, int third, DependencyListener listener) {\n    this.first = first;\n    this.second = second;\n    this.third = third;\n    this.listener = listener\n  }\n\n  @Provides Dependency provideDependency(int first, int second, int third, DependencyListener listener) {\n    return new Dependency(first, second, third, listener)\n  }\n}\n\n@Component(modules = { DependencyModule.class }) public interface     \nDependencyComponent {\n  void inject(DependentClass1 target);\n  void inject(DependentClass2 target);\n  void inject(DependentClass3 target);\n}\n</code></pre>\n\n<p>and in each DependentClass i would do:</p>\n\n<pre><code>public class DependentClass{\n  @Inject Dependency;\n  public DependentClass{\n      DaggerDependencyComponent.builder().dependencyModule(new DependencyModule(first, second, third, this)).build().inject();\n  }\n}\n</code></pre>\n\n<p>Is it a good practice?</p>\n"},{"tags":["java","aws-lambda","microstream"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1688588896,"post_id":76620825,"comment_id":135095456,"body_markdown":"Sure, it just sounds like it&#39;ll be expensive and not work.  When the Lambda starts up it copies the database from S3 to likely `/tmp`.  It does what it needs to with the DB and then copies it back.  But what if you have 100 Lambda&#39;s running at the same time?  The changes one makes may or may not be in the next one.  This sounds like a horrible, error prone architecture.","body":"Sure, it just sounds like it&#39;ll be expensive and not work.  When the Lambda starts up it copies the database from S3 to likely <code>&#47;tmp</code>.  It does what it needs to with the DB and then copies it back.  But what if you have 100 Lambda&#39;s running at the same time?  The changes one makes may or may not be in the next one.  This sounds like a horrible, error prone architecture."}],"owner":{"account_id":2966688,"reputation":233,"user_id":2519698,"display_name":"zakgof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688563642,"creation_date":1688563642,"question_id":76620825,"body_markdown":"MicroStream documentation says that MicroStream is an embedded database so multiple processes may not access the same database files concurrently:\r\n\r\nhttps://manual.docs.microstream.one/data-store/faq/file-storage#may-multiple-jvm-processes-access-the-same-microstream-database\r\n\r\n&gt; At any given time, only one JVM process may directly access the files representing a unique set of data. \r\n\r\nHowever, the blog post on the MicroStream website suggests that MicroStream on S3 is a good option for AWS Lambda:\r\n\r\nhttps://microstream.one/blog/article/the-future-is-serverless-with-microstream/\r\n\r\n&gt; MicroStream basically enables you to store any Java object as a blob in a very simple and object-oriented, convenient way somewhere, for instance in a plain file or in AWS S3. So, MicroStream and S3 are a great fit. Now, with MicroStream you can read the state of a Lamda from S3, work with it, and finally write it back to S3.\r\n\r\nThis statement sounds contradictory to the first link. Is it still possible to use MicroStream at S3 from an AWS Lambda function?","title":"Is it possible to use MicroStream + S3 from AWS Lambda?","body":"<p>MicroStream documentation says that MicroStream is an embedded database so multiple processes may not access the same database files concurrently:</p>\n<p><a href=\"https://manual.docs.microstream.one/data-store/faq/file-storage#may-multiple-jvm-processes-access-the-same-microstream-database\" rel=\"nofollow noreferrer\">https://manual.docs.microstream.one/data-store/faq/file-storage#may-multiple-jvm-processes-access-the-same-microstream-database</a></p>\n<blockquote>\n<p>At any given time, only one JVM process may directly access the files representing a unique set of data.</p>\n</blockquote>\n<p>However, the blog post on the MicroStream website suggests that MicroStream on S3 is a good option for AWS Lambda:</p>\n<p><a href=\"https://microstream.one/blog/article/the-future-is-serverless-with-microstream/\" rel=\"nofollow noreferrer\">https://microstream.one/blog/article/the-future-is-serverless-with-microstream/</a></p>\n<blockquote>\n<p>MicroStream basically enables you to store any Java object as a blob in a very simple and object-oriented, convenient way somewhere, for instance in a plain file or in AWS S3. So, MicroStream and S3 are a great fit. Now, with MicroStream you can read the state of a Lamda from S3, work with it, and finally write it back to S3.</p>\n</blockquote>\n<p>This statement sounds contradictory to the first link. Is it still possible to use MicroStream at S3 from an AWS Lambda function?</p>\n"},{"tags":["java","selenium","selenium-webdriver","popup","alert"],"answers":[{"tags":[],"owner":{"account_id":476901,"reputation":2441,"user_id":888059,"accept_rate":88,"display_name":"Reid Mac"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1322065211,"creation_date":1322064621,"answer_id":8245417,"question_id":8244723,"body_markdown":"You could try\r\n   \r\n\r\n     try{\r\n            if(webDriver.switchTo().alert() != null){\r\n               Alert alert = webDriver.switchTo().alert();\r\n               alert.getText();\r\n               //etc.\r\n            }\r\n        }catch(Exception e){}\r\n\r\nIf that doesn&#39;t work, you could try looping through all the window handles and see if the alert exists. I&#39;m not sure if the alert opens as a new window using selenium.\r\n\r\n    for(String s: webDriver.getWindowHandles()){\r\n     //see if alert exists here.\r\n    }\r\n\r\n","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>You could try</p>\n\n<pre><code> try{\n        if(webDriver.switchTo().alert() != null){\n           Alert alert = webDriver.switchTo().alert();\n           alert.getText();\n           //etc.\n        }\n    }catch(Exception e){}\n</code></pre>\n\n<p>If that doesn't work, you could try looping through all the window handles and see if the alert exists. I'm not sure if the alert opens as a new window using selenium.</p>\n\n<pre><code>for(String s: webDriver.getWindowHandles()){\n //see if alert exists here.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2112537,"reputation":806,"user_id":1877519,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1354668724,"creation_date":1354668724,"answer_id":13714614,"question_id":8244723,"body_markdown":"This is what worked for me using Explicit Wait from here [WebDriver: Advanced Usage][1]\r\n\r\n    public void checkAlert() {\r\n\t\ttry {\r\n\t\t\tWebDriverWait wait = new WebDriverWait(driver, 2);\r\n\t\t\twait.until(ExpectedConditions.alertIsPresent());\r\n\t\t\tAlert alert = driver.switchTo().alert();\r\n\t\t\talert.accept();\r\n\t\t} catch (Exception e) {\r\n\t\t\t//exception handling\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: http://seleniumhq.org/docs/04_webdriver_advanced.html#explicit-and-implicit-waits &quot;WebDriver: Advanced Usage&quot;","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>This is what worked for me using Explicit Wait from here <a href=\"http://seleniumhq.org/docs/04_webdriver_advanced.html#explicit-and-implicit-waits\">WebDriver: Advanced Usage</a></p>\n\n<pre><code>public void checkAlert() {\n    try {\n        WebDriverWait wait = new WebDriverWait(driver, 2);\n        wait.until(ExpectedConditions.alertIsPresent());\n        Alert alert = driver.switchTo().alert();\n        alert.accept();\n    } catch (Exception e) {\n        //exception handling\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1453872992,"creation_date":1365408520,"answer_id":15874201,"question_id":8244723,"body_markdown":"Write the following method:\r\n\r\n    public boolean isAlertPresent() {\r\n        try {\r\n    \t    driver.switchTo().alert();\r\n    \t\treturn true;\r\n        } // try\r\n    \tcatch (Exception e) {\r\n    \t\treturn false;\r\n    \t} // catch\r\n    }\r\n\r\nNow, you can check whether alert is present or not by using the method written above as below:\r\n\r\n    if (isAlertPresent()) {\r\n    \tdriver.switchTo().alert();\r\n    \tdriver.switchTo().alert().accept();\r\n    \tdriver.switchTo().defaultContent();\r\n    }","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>Write the following method:</p>\n\n<pre><code>public boolean isAlertPresent() {\n    try {\n        driver.switchTo().alert();\n        return true;\n    } // try\n    catch (Exception e) {\n        return false;\n    } // catch\n}\n</code></pre>\n\n<p>Now, you can check whether alert is present or not by using the method written above as below:</p>\n\n<pre><code>if (isAlertPresent()) {\n    driver.switchTo().alert();\n    driver.switchTo().alert().accept();\n    driver.switchTo().defaultContent();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5647686,"reputation":125,"user_id":4469239,"display_name":"ER.swatantra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424503448,"creation_date":1422951911,"answer_id":28294328,"question_id":8244723,"body_markdown":"&lt;pre&gt;\r\nAlert alert = driver.switchTo().alert();\r\n\r\nalert.accept();\r\n&lt;/pre&gt;\r\n\r\nYou can also decline the alert box:\r\n&lt;pre&gt;\r\n\r\nAlert alert = driver.switchTo().alert();\r\n\r\nalert().dismiss();\r\n&lt;/pre&gt;","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<pre>\nAlert alert = driver.switchTo().alert();\n\nalert.accept();\n</pre>\n\n<p>You can also decline the alert box:</p>\n\n<pre>\n\nAlert alert = driver.switchTo().alert();\n\nalert().dismiss();\n</pre>\n"},{"tags":[],"owner":{"account_id":5782181,"reputation":21,"user_id":4562460,"display_name":"user4562460"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423812125,"creation_date":1423811553,"answer_id":28494317,"question_id":8244723,"body_markdown":"    try \r\n\t\t{\r\n\t\t\t//Handle the alert pop-up using seithTO alert statement\r\n\t\t\tAlert alert = driver.switchTo().alert();\r\n\t\t\t\r\n\t\t\t//Print alert is present\r\n\t\t\tSystem.out.println(&quot;Alert is present&quot;);\r\n\t\t\t\r\n\t\t\t//get the message which is present on pop-up\r\n\t\t\tString message = alert.getText();\r\n\t\t\t\r\n\t\t\t//print the pop-up message\r\n\t\t\tSystem.out.println(message);\r\n\t\t\t\r\n\t\t\talert.sendKeys(&quot;&quot;);\r\n\t\t\t//Click on OK button on pop-up\r\n\t\t\talert.accept();\r\n\t\t} \r\n\t\tcatch (NoAlertPresentException e) \r\n\t\t{\r\n\t\t\t//if alert is not present print message\r\n\t\t\tSystem.out.println(&quot;alert is not present&quot;);\r\n\t\t}","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<pre><code>try \n    {\n        //Handle the alert pop-up using seithTO alert statement\n        Alert alert = driver.switchTo().alert();\n\n        //Print alert is present\n        System.out.println(\"Alert is present\");\n\n        //get the message which is present on pop-up\n        String message = alert.getText();\n\n        //print the pop-up message\n        System.out.println(message);\n\n        alert.sendKeys(\"\");\n        //Click on OK button on pop-up\n        alert.accept();\n    } \n    catch (NoAlertPresentException e) \n    {\n        //if alert is not present print message\n        System.out.println(\"alert is not present\");\n    }\n</code></pre>\n"}],"owner":{"account_id":343390,"reputation":29380,"user_id":675065,"accept_rate":98,"display_name":"Alp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150023,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":13714614,"answer_count":5,"score":40,"last_activity_date":1688563395,"creation_date":1322062062,"question_id":8244723,"body_markdown":"I want to detect whether an alert is popped up or not. Currently I am using the following code:\r\n\r\n\t\ttry {\r\n\t\t\tAlert alert = webDriver.switchTo().alert();\r\n\t\t\t\r\n\t\t\t// check if alert exists\r\n\t\t\t// TODO find better way\r\n\t\t\talert.getText();\r\n\t\t\t\r\n\t\t\t// alert handling\r\n\t\t\tlog().info(&quot;Alert detected: {}&quot; + alert.getText());\r\n\t\t\talert.accept();\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\r\nThe problem is that if there is no alert on the current state of the web page, it waits for a specific amount of time until the timeout is reached, then throws an exception and therefore the performance is really bad.\r\n\r\nIs there a better way, maybe an alert event handler which I can use for dynamically occurring alerts?","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>I want to detect whether an alert is popped up or not. Currently I am using the following code:</p>\n\n<pre><code>    try {\n        Alert alert = webDriver.switchTo().alert();\n\n        // check if alert exists\n        // TODO find better way\n        alert.getText();\n\n        // alert handling\n        log().info(\"Alert detected: {}\" + alert.getText());\n        alert.accept();\n    } catch (Exception e) {\n    }\n</code></pre>\n\n<p>The problem is that if there is no alert on the current state of the web page, it waits for a specific amount of time until the timeout is reached, then throws an exception and therefore the performance is really bad.</p>\n\n<p>Is there a better way, maybe an alert event handler which I can use for dynamically occurring alerts?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688564362,"post_id":76620674,"comment_id":135090289,"body_markdown":"Please edit your question and add the full stack trace of the exception, from your server&#39;s log file.","body":"Please edit your question and add the full stack trace of the exception, from your server&#39;s log file."},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1688568857,"post_id":76620674,"comment_id":135091449,"body_markdown":"the whole stake is :  java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignResponse.getData()&quot; is null\n\nFrom server i do have nothing at all. Otherwise concerning 413, it&#39;s just an html page","body":"the whole stake is :  java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignRespo&zwnj;&#8203;nse.getData()&quot; is null  From server i do have nothing at all. Otherwise concerning 413, it&#39;s just an html page"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688562606,"creation_date":1688562606,"question_id":76620674,"body_markdown":"I implemented an HTTP Client that can send payloads containing base 64 files. For small files I don&#39;t have any issues. On the other hand, when i try to send big files over 20Mo, I have error messages. For the application, I would not like to use MultiPart file, if i have the choice. \r\n\r\n**Here is my client implementation**\r\n\r\n    ObjectMapper objectMapper = MappersUtils.objectMapper();\r\n    String requestBody = objectMapper\r\n            .writerWithDefaultPrettyPrinter()\r\n            .writeValueAsString(request);\r\n\r\n    HttpRequest httpRequest = HttpRequest.newBuilder()\r\n            .uri(URI.create(url + certificateName))\r\n            .POST(HttpRequest.BodyPublishers.ofString(requestBody))\r\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n            .timeout(Duration.ofSeconds(600))\r\n            .build();\r\n\r\n    HttpClient httpClient = HttpClient.newBuilder()\r\n           .version(HttpClient.Version.HTTP_2)\r\n           .connectTimeout(Duration.ofSeconds(10))\r\n           .build();\r\n\r\n    CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; response =\r\n            httpClient.sendAsync(httpRequest, HttpResponse.BodyHandlers.ofString());\r\n\r\n    String result = response.thenApply(HttpResponse::body).get(120, TimeUnit.SECONDS);\r\n    int statusCode = response.thenApply(HttpResponse::statusCode).get(120, TimeUnit.SECONDS);\r\n    System.out.println(result);\r\n    System.out.println(statusCode);\r\n    return objectMapper.readValue(result, PdfConvertAndSignResponse.class);\r\n\r\n**On the other side my API is using spring boot and receive an object that is handled.** \r\n\r\n\t@PostMapping(\r\n\t\t\tvalue = &quot;/convert-and-sign/{certificateName}&quot;,\r\n\t\t\tconsumes = {MediaType.APPLICATION_JSON_VALUE},\r\n\t\t\tproduces = {MediaType.APPLICATION_JSON_VALUE})\r\n\t@Operation(summary = &quot;Convert into PDF/A Level (if it&#39;s required) and sign it &quot;)\r\n\tpublic ResponseEntity&lt;PdfConvertAndSignResponse&gt; convertAndSign(@RequestBody @Length(max = Integer.MAX_VALUE - 1) PdfConvertAndSignRequest request,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@PathVariable String certificateName) throws PdfException {\r\n\t\tString entryPoint = getEntrypoint(ServletUriComponentsBuilder.fromCurrentRequestUri());\r\n\t\tLocalDateTime startedAt = LocalDateTime.now(GlobalConstants.ZONE_ID);\r\n\r\n\t\tLogDto logDto = LogBuilderUtils.logDtoBuilder(\r\n\t\t\t\trequest.getHeaderData().getService(),\r\n\t\t\t\tPdfConstants.WEBSERVICE,\r\n\t\t\t\tentryPoint,\r\n\t\t\t\tstartedAt,\r\n\t\t\t\tHttpVerbs.POST.name());\r\n\r\n\t\tCertificateEntity certificateEntity = certificateRepository.findByCertificateName(certificateName);\r\n\t\tif (certificateEntity != null) {\r\n\t\t\tString pwd = b64ToString(certificateEntity.getPassword());\r\n\t\t\tPdfConvertAndSignRequestData data = MappersUtils.modelMapper().map(certificateEntity, PdfConvertAndSignRequestData.class);\r\n\t\t\tdata.setPassword(pwd);\r\n\t\t\tList&lt;PdfConvertAndSignRequestData&gt; toProcess = new ArrayList&lt;&gt;();\r\n\t\t\tList&lt;PdfConvertAndSignRequestData&gt; currentData = request.getData();\r\n\t\t\tcurrentData.forEach(pdfSignRequestData -&gt; {\r\n\t\t\t\tdata.setPdf(pdfSignRequestData.getPdf());\r\n\t\t\t\ttoProcess.add(data);\r\n\t\t\t});\r\n\t\t\trequest.setData(toProcess);\r\n\t\t\treturn doConvertAndSign(request, logDto);\r\n\t\t} else {\r\n\t\t\tthrow new PdfSignRequestException(&quot;No certificate found&quot;, logDto);\r\n\t\t}\r\n\t}\r\n\r\n**Response :** \r\n\r\nHere is the response from my client when i call an application deployed in a tomcat server and when i call my webservice when a jar is running: \r\n\r\n    {&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Failed to read request&quot;,&quot;instance&quot;:&quot;/pdfmanager-ws/v1/convert-and-sign/mycertname&quot;}\r\n    400\r\n    \r\n    java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignResponse.getData()&quot; is null\r\n\r\n**On my deployment server I have a localhost_access_log file with the following content:** \r\n\r\n192.168.0.1 - - [05/Jul/2023:14:49:32 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161\r\n192.168.0.1 - - [05/Jul/2023:14:49:47 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161\r\n\r\nAt least i know my call is made. \r\n\r\n**Configuration in tomcat:**\r\nI updated server.xml configuration file in tomcat\r\n\r\n    &lt;Connector \tport=&quot;8090&quot; \r\n\t\t\t\tprotocol=&quot;HTTP/1.1&quot;\r\n\t\t\t\tmaxThreads=&quot;150&quot; \r\n\t\t\t\tconnectionTimeout=&quot;-1&quot;\r\n\t\t\t\tmaxPostSize=&quot;109951162777600&quot;\r\n\t\t\t\tmaxSwallowSize=&quot;109951162777600&quot;\r\n\t\t\t\tredirectPort=&quot;8443&quot; /&gt;\r\n\r\n**In application.properties:**\r\nAs i also run my application with embedded tomcat, I have a second app with the following application.properties content : \r\n\r\n    # maximum size of the request body/payload\r\n    server.tomcat.max-swallow-size=200MB\r\n    spring.servlet.multipart.max-file-size=200MB\r\n    # maximum size of entire POST request\r\n    server.tomcat.max-http-form-post-size=200MB\r\n    spring.servlet.multipart.max-request-size=200MB\r\n\r\n\r\nWith this configuration I have the same error response. If i add the folowing configuration: \r\n\r\n    server.http2.enabled=true\r\n\r\nI now obtain: HTTP Status 413 – Payload Too Large\r\n\r\nHow can i configure both application to send in json my payload without getting those errors ?\r\n\r\n","title":"Bad request with JSON Payload with Springboot","body":"<p>I implemented an HTTP Client that can send payloads containing base 64 files. For small files I don't have any issues. On the other hand, when i try to send big files over 20Mo, I have error messages. For the application, I would not like to use MultiPart file, if i have the choice.</p>\n<p><strong>Here is my client implementation</strong></p>\n<pre><code>ObjectMapper objectMapper = MappersUtils.objectMapper();\nString requestBody = objectMapper\n        .writerWithDefaultPrettyPrinter()\n        .writeValueAsString(request);\n\nHttpRequest httpRequest = HttpRequest.newBuilder()\n        .uri(URI.create(url + certificateName))\n        .POST(HttpRequest.BodyPublishers.ofString(requestBody))\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .header(&quot;Accept&quot;, &quot;application/json&quot;)\n        .timeout(Duration.ofSeconds(600))\n        .build();\n\nHttpClient httpClient = HttpClient.newBuilder()\n       .version(HttpClient.Version.HTTP_2)\n       .connectTimeout(Duration.ofSeconds(10))\n       .build();\n\nCompletableFuture&lt;HttpResponse&lt;String&gt;&gt; response =\n        httpClient.sendAsync(httpRequest, HttpResponse.BodyHandlers.ofString());\n\nString result = response.thenApply(HttpResponse::body).get(120, TimeUnit.SECONDS);\nint statusCode = response.thenApply(HttpResponse::statusCode).get(120, TimeUnit.SECONDS);\nSystem.out.println(result);\nSystem.out.println(statusCode);\nreturn objectMapper.readValue(result, PdfConvertAndSignResponse.class);\n</code></pre>\n<p><strong>On the other side my API is using spring boot and receive an object that is handled.</strong></p>\n<pre><code>@PostMapping(\n        value = &quot;/convert-and-sign/{certificateName}&quot;,\n        consumes = {MediaType.APPLICATION_JSON_VALUE},\n        produces = {MediaType.APPLICATION_JSON_VALUE})\n@Operation(summary = &quot;Convert into PDF/A Level (if it's required) and sign it &quot;)\npublic ResponseEntity&lt;PdfConvertAndSignResponse&gt; convertAndSign(@RequestBody @Length(max = Integer.MAX_VALUE - 1) PdfConvertAndSignRequest request,\n                                                                @PathVariable String certificateName) throws PdfException {\n    String entryPoint = getEntrypoint(ServletUriComponentsBuilder.fromCurrentRequestUri());\n    LocalDateTime startedAt = LocalDateTime.now(GlobalConstants.ZONE_ID);\n\n    LogDto logDto = LogBuilderUtils.logDtoBuilder(\n            request.getHeaderData().getService(),\n            PdfConstants.WEBSERVICE,\n            entryPoint,\n            startedAt,\n            HttpVerbs.POST.name());\n\n    CertificateEntity certificateEntity = certificateRepository.findByCertificateName(certificateName);\n    if (certificateEntity != null) {\n        String pwd = b64ToString(certificateEntity.getPassword());\n        PdfConvertAndSignRequestData data = MappersUtils.modelMapper().map(certificateEntity, PdfConvertAndSignRequestData.class);\n        data.setPassword(pwd);\n        List&lt;PdfConvertAndSignRequestData&gt; toProcess = new ArrayList&lt;&gt;();\n        List&lt;PdfConvertAndSignRequestData&gt; currentData = request.getData();\n        currentData.forEach(pdfSignRequestData -&gt; {\n            data.setPdf(pdfSignRequestData.getPdf());\n            toProcess.add(data);\n        });\n        request.setData(toProcess);\n        return doConvertAndSign(request, logDto);\n    } else {\n        throw new PdfSignRequestException(&quot;No certificate found&quot;, logDto);\n    }\n}\n</code></pre>\n<p><strong>Response :</strong></p>\n<p>Here is the response from my client when i call an application deployed in a tomcat server and when i call my webservice when a jar is running:</p>\n<pre><code>{&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Failed to read request&quot;,&quot;instance&quot;:&quot;/pdfmanager-ws/v1/convert-and-sign/mycertname&quot;}\n400\n\njava.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignResponse.getData()&quot; is null\n</code></pre>\n<p><strong>On my deployment server I have a localhost_access_log file with the following content:</strong></p>\n<p>192.168.0.1 - - [05/Jul/2023:14:49:32 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161\n192.168.0.1 - - [05/Jul/2023:14:49:47 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161</p>\n<p>At least i know my call is made.</p>\n<p><strong>Configuration in tomcat:</strong>\nI updated server.xml configuration file in tomcat</p>\n<pre><code>&lt;Connector  port=&quot;8090&quot; \n            protocol=&quot;HTTP/1.1&quot;\n            maxThreads=&quot;150&quot; \n            connectionTimeout=&quot;-1&quot;\n            maxPostSize=&quot;109951162777600&quot;\n            maxSwallowSize=&quot;109951162777600&quot;\n            redirectPort=&quot;8443&quot; /&gt;\n</code></pre>\n<p><strong>In application.properties:</strong>\nAs i also run my application with embedded tomcat, I have a second app with the following application.properties content :</p>\n<pre><code># maximum size of the request body/payload\nserver.tomcat.max-swallow-size=200MB\nspring.servlet.multipart.max-file-size=200MB\n# maximum size of entire POST request\nserver.tomcat.max-http-form-post-size=200MB\nspring.servlet.multipart.max-request-size=200MB\n</code></pre>\n<p>With this configuration I have the same error response. If i add the folowing configuration:</p>\n<pre><code>server.http2.enabled=true\n</code></pre>\n<p>I now obtain: HTTP Status 413 – Payload Too Large</p>\n<p>How can i configure both application to send in json my payload without getting those errors ?</p>\n"},{"tags":["java","mysql","sql-insert"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1688561560,"post_id":76620518,"comment_id":135089517,"body_markdown":"Now would be a good time to learn about parameterized SQL. That will not only avoid this sort of problem, but will protect your app from SQL Injection Attacks. You might also want to look at the value of the `sql` variable in the debugger.","body":"Now would be a good time to learn about parameterized SQL. That will not only avoid this sort of problem, but will protect your app from SQL Injection Attacks. You might also want to look at the value of the <code>sql</code> variable in the debugger."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1688561616,"post_id":76620518,"comment_id":135089535,"body_markdown":"If your column(s) data type is varchar, you need to have `&#39;` in your `values(`. Which you are missing.","body":"If your column(s) data type is varchar, you need to have <code>&#39;</code> in your <code>values(</code>. Which you are missing."},{"owner":{"account_id":14783924,"reputation":217599,"user_id":10676716,"display_name":"GMB"},"score":2,"creation_date":1688561622,"post_id":76620518,"comment_id":135089537,"body_markdown":"Use parameterized queries instead of concatenating variables into the query string! This is much safer (prevents SQL injection), and will avoid the problem you are currently facing.","body":"Use parameterized queries instead of concatenating variables into the query string! This is much safer (prevents SQL injection), and will avoid the problem you are currently facing."},{"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"score":0,"creation_date":1688562479,"post_id":76620518,"comment_id":135089776,"body_markdown":"@PradeepSimha Thank you, the problem was the missing single quotes around one of the columns. :)","body":"@PradeepSimha Thank you, the problem was the missing single quotes around one of the columns. :)"}],"answers":[{"tags":[],"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688561972,"creation_date":1688561972,"answer_id":76620594,"question_id":76620518,"body_markdown":"String sql = &quot;insert into users&quot; +\r\n                     &quot;(id, name, balance, transactions)&quot; +\r\n                     &quot;values (&quot; + customerID + &quot;, &#39;&quot; + customerName + &quot;&#39;, &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;\r\n\r\nYou have to use  &#39;  when inserting string. But it is better to user prepared statements. If the values you entered has already characters like &#39; .\r\n\r\nExample:\r\n sql=&quot;INSERT INTO raporlar (raporNo,hastaID,hastaTC,protokol,tarih,tur,tesiskod,tesis,takipno) &quot; +\r\n                            &quot;VALUES (?,?,?,?,?,?,?,?,?);&quot;;\r\n                    PreparedStatement ps = conn.prepareStatement(sql,Statement.RETURN_GENERATED_KEYS);\r\n                    ps.setString(1, raporno);ps.setInt(2, hastaID);\r\n                    ps.setString(3, hastatc);ps.setString(4, protokol);\r\n                    ps.setString(5, raporTarih);ps.setString(6, raporturu);\r\n                    ps.setString(7, hastanekod);ps.setString(8, hastaneadi);\r\n                    ps.setString(9, takipno);\r\n                    ps.execute();\r\n                    ResultSet generatedKeys = ps.getGeneratedKeys();\r\n                    if (generatedKeys.next()) {\r\n                        raporID=(generatedKeys.getInt(1));\r\n                    }\r\n","title":"How to insert into MySQL?","body":"<p>String sql = &quot;insert into users&quot; +\n&quot;(id, name, balance, transactions)&quot; +\n&quot;values (&quot; + customerID + &quot;, '&quot; + customerName + &quot;', &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;</p>\n<p>You have to use  '  when inserting string. But it is better to user prepared statements. If the values you entered has already characters like ' .</p>\n<p>Example:\nsql=&quot;INSERT INTO raporlar (raporNo,hastaID,hastaTC,protokol,tarih,tur,tesiskod,tesis,takipno) &quot; +\n&quot;VALUES (?,?,?,?,?,?,?,?,?);&quot;;\nPreparedStatement ps = conn.prepareStatement(sql,Statement.RETURN_GENERATED_KEYS);\nps.setString(1, raporno);ps.setInt(2, hastaID);\nps.setString(3, hastatc);ps.setString(4, protokol);\nps.setString(5, raporTarih);ps.setString(6, raporturu);\nps.setString(7, hastanekod);ps.setString(8, hastaneadi);\nps.setString(9, takipno);\nps.execute();\nResultSet generatedKeys = ps.getGeneratedKeys();\nif (generatedKeys.next()) {\nraporID=(generatedKeys.getInt(1));\n}</p>\n"}],"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688570850,"accepted_answer_id":76620594,"answer_count":1,"score":0,"last_activity_date":1688561972,"creation_date":1688561424,"question_id":76620518,"body_markdown":"guys. I learn java from few weeks and now i tried to insert my data from simple bank account application into MySQL table (the id and the name from the main class, and the balance and previous transaction from the other class). I want to save the balance and transactions when use particular name and id. This is my code:\r\n\r\n\r\n```\r\nimport java.sql.*;\r\nimport java.util.Scanner;\r\n\r\npublic class BankingApp {\r\n    public static void main(String[] args) {\r\n        \r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter your name: &quot;);\r\n        String name = sc.next();\r\n        System.out.print(&quot;Enter your ID: &quot;);\r\n        String id = sc.next();\r\n        \r\n        System.out.println();\r\n\r\n        BankAccount bankAcc = new BankAccount(name, id);\r\n        bankAcc.showMenu();\r\n\r\n        bankAcc.insert();\r\n\r\n        sc.close();\r\n    }\r\n}\r\n\r\nclass BankAccount {\r\n\r\n    float balance;\r\n    float prevTransaction;\r\n    String customerName;\r\n    String customerID;\r\n\r\n    BankAccount(String name, String id) {\r\n        customerName = name;\r\n        customerID = id;\r\n    }\r\n\r\n    void deposit(float amount) {\r\n\r\n        if (amount != 0) {\r\n            balance += amount;\r\n            prevTransaction = amount;\r\n        }\r\n    }\r\n\r\n    void withdraw(float amount) {\r\n\r\n        if (amount != 0) {\r\n            balance -= amount;\r\n            prevTransaction = -amount;\r\n        }\r\n    }\r\n\r\n    void getPreviousTransaction() {\r\n\r\n        if (prevTransaction &gt; 0) {\r\n            System.out.println(&quot;Deposited: &quot; + prevTransaction);\r\n        }\r\n        else if (prevTransaction &lt; 0) {\r\n            System.out.println(&quot;Withdrawn: &quot; + Math.abs(prevTransaction));\r\n        }\r\n        else {\r\n            System.out.println(&quot;No transaction is occured!&quot;);\r\n        }\r\n    }\r\n\r\n    void showMenu() {\r\n\r\n        char option = &#39;\\0&#39;;\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Welcome &quot; + customerName);\r\n        System.out.println(&quot;Your ID is: &quot; + customerID);\r\n        System.out.println();\r\n        System.out.println(&quot;A. Check Balance&quot;);\r\n        System.out.println(&quot;B. Deposit&quot;);\r\n        System.out.println(&quot;C. Withdraw&quot;);\r\n        System.out.println(&quot;D. Previous Transaction&quot;);\r\n        System.out.println(&quot;E. Exit&quot;);\r\n\r\n        do {\r\n            System.out.println(&quot;=========================&quot;);\r\n            System.out.println(&quot;Enter the option&quot;);\r\n            System.out.println(&quot;=========================&quot;);\r\n            option = sc.next().charAt(0);\r\n            Character.toUpperCase(option);\r\n\r\n            switch (option) {\r\n                case &#39;A&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println(&quot;Balance: &quot; + balance);\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println();\r\n                    break;\r\n                \r\n                case &#39;B&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println(&quot;Enter the amount to deposit&quot;);\r\n                    System.out.println(&quot;============================&quot;);\r\n                    float amount = sc.nextFloat();\r\n                    deposit(amount);\r\n                    System.out.println();\r\n                    break;\r\n                \r\n                case &#39;C&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println(&quot;Enter the amount to withdraw&quot;);\r\n                    System.out.println(&quot;============================&quot;);\r\n                    float amount2 = sc.nextFloat();\r\n                    withdraw(amount2);\r\n                    System.out.println();\r\n                    break;\r\n\r\n                case &#39;D&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    getPreviousTransaction();\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println();\r\n                    break;\r\n\r\n                case &#39;E&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    break;\r\n\r\n                default:\r\n                    System.out.println(&quot;Invalid Option! Please try again!&quot;);\r\n                    break;\r\n            }\r\n        \r\n        } while (option != &#39;E&#39;);\r\n    \r\n        sc.close();\r\n    } \r\n\r\n    public void insert() {\r\n\r\n        String myUrl = &quot;jdbc:mysql://localhost:3306/bankacc&quot;;\r\n        String db_id = &quot;root&quot;;\r\n        String db_pass = &quot;Ik32e23k&quot;;\r\n\r\n        Connection conn = null;\r\n        Statement stmt = null;\r\n\r\n        try {    \r\n        conn = DriverManager.getConnection(myUrl, db_id, db_pass);\r\n        stmt = conn.createStatement();\r\n            \r\n        String sql = &quot;insert into users&quot; +\r\n                     &quot;(id, name, balance, transactions)&quot; +\r\n                     &quot;values (&quot; + customerID + &quot;, &quot; + customerName + &quot;, &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;\r\n\r\n        stmt.executeUpdate(sql);    \r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (stmt != null)\r\n                    conn.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            try {\r\n                if (conn != null)\r\n                    conn.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen i tried to call my insert() method into the main method, i got the following error:\r\n\r\n&gt; java.sql.SQLSyntaxErrorException: Unknown column &#39;Koko&#39; in &#39;field list&#39;\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\r\n        at com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\r\n        at com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\r\n        at BankAccount.insert(BankingApp.java:151)\r\n        at BankingApp.main(BankingApp.java:18)\r\n\r\nInstead of inserting my name into the table, the exception told me that my name is unknown column. I have only guesses where the problem could be coming from, but I have no idea how to do it. Can somebody explain me where is my bad? Thanks in advance!\r\n","title":"How to insert into MySQL?","body":"<p>guys. I learn java from few weeks and now i tried to insert my data from simple bank account application into MySQL table (the id and the name from the main class, and the balance and previous transaction from the other class). I want to save the balance and transactions when use particular name and id. This is my code:</p>\n<pre><code>import java.sql.*;\nimport java.util.Scanner;\n\npublic class BankingApp {\n    public static void main(String[] args) {\n        \n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter your name: &quot;);\n        String name = sc.next();\n        System.out.print(&quot;Enter your ID: &quot;);\n        String id = sc.next();\n        \n        System.out.println();\n\n        BankAccount bankAcc = new BankAccount(name, id);\n        bankAcc.showMenu();\n\n        bankAcc.insert();\n\n        sc.close();\n    }\n}\n\nclass BankAccount {\n\n    float balance;\n    float prevTransaction;\n    String customerName;\n    String customerID;\n\n    BankAccount(String name, String id) {\n        customerName = name;\n        customerID = id;\n    }\n\n    void deposit(float amount) {\n\n        if (amount != 0) {\n            balance += amount;\n            prevTransaction = amount;\n        }\n    }\n\n    void withdraw(float amount) {\n\n        if (amount != 0) {\n            balance -= amount;\n            prevTransaction = -amount;\n        }\n    }\n\n    void getPreviousTransaction() {\n\n        if (prevTransaction &gt; 0) {\n            System.out.println(&quot;Deposited: &quot; + prevTransaction);\n        }\n        else if (prevTransaction &lt; 0) {\n            System.out.println(&quot;Withdrawn: &quot; + Math.abs(prevTransaction));\n        }\n        else {\n            System.out.println(&quot;No transaction is occured!&quot;);\n        }\n    }\n\n    void showMenu() {\n\n        char option = '\\0';\n\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Welcome &quot; + customerName);\n        System.out.println(&quot;Your ID is: &quot; + customerID);\n        System.out.println();\n        System.out.println(&quot;A. Check Balance&quot;);\n        System.out.println(&quot;B. Deposit&quot;);\n        System.out.println(&quot;C. Withdraw&quot;);\n        System.out.println(&quot;D. Previous Transaction&quot;);\n        System.out.println(&quot;E. Exit&quot;);\n\n        do {\n            System.out.println(&quot;=========================&quot;);\n            System.out.println(&quot;Enter the option&quot;);\n            System.out.println(&quot;=========================&quot;);\n            option = sc.next().charAt(0);\n            Character.toUpperCase(option);\n\n            switch (option) {\n                case 'A':\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println(&quot;Balance: &quot; + balance);\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println();\n                    break;\n                \n                case 'B':\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println(&quot;Enter the amount to deposit&quot;);\n                    System.out.println(&quot;============================&quot;);\n                    float amount = sc.nextFloat();\n                    deposit(amount);\n                    System.out.println();\n                    break;\n                \n                case 'C':\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println(&quot;Enter the amount to withdraw&quot;);\n                    System.out.println(&quot;============================&quot;);\n                    float amount2 = sc.nextFloat();\n                    withdraw(amount2);\n                    System.out.println();\n                    break;\n\n                case 'D':\n                    System.out.println(&quot;============================&quot;);\n                    getPreviousTransaction();\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println();\n                    break;\n\n                case 'E':\n                    System.out.println(&quot;============================&quot;);\n                    break;\n\n                default:\n                    System.out.println(&quot;Invalid Option! Please try again!&quot;);\n                    break;\n            }\n        \n        } while (option != 'E');\n    \n        sc.close();\n    } \n\n    public void insert() {\n\n        String myUrl = &quot;jdbc:mysql://localhost:3306/bankacc&quot;;\n        String db_id = &quot;root&quot;;\n        String db_pass = &quot;Ik32e23k&quot;;\n\n        Connection conn = null;\n        Statement stmt = null;\n\n        try {    \n        conn = DriverManager.getConnection(myUrl, db_id, db_pass);\n        stmt = conn.createStatement();\n            \n        String sql = &quot;insert into users&quot; +\n                     &quot;(id, name, balance, transactions)&quot; +\n                     &quot;values (&quot; + customerID + &quot;, &quot; + customerName + &quot;, &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;\n\n        stmt.executeUpdate(sql);    \n        } catch (SQLException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (stmt != null)\n                    conn.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n            try {\n                if (conn != null)\n                    conn.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>When i tried to call my insert() method into the main method, i got the following error:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: Unknown column 'Koko' in 'field list'\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\nat com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\nat com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\nat com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\nat BankAccount.insert(BankingApp.java:151)\nat BankingApp.main(BankingApp.java:18)</p>\n</blockquote>\n<p>Instead of inserting my name into the table, the exception told me that my name is unknown column. I have only guesses where the problem could be coming from, but I have no idea how to do it. Can somebody explain me where is my bad? Thanks in advance!</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24369,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688561932,"creation_date":1688561932,"answer_id":76620589,"question_id":76618791,"body_markdown":"Go to `Run | Edit Configurations` and click the `Edit configuration templates...` link in the left bottom. Uncheck `Use classpath on modules` there, and it will be unchecked by default when you create a new Run configuration. ","title":"How to set point &quot;Use classpath of module&quot; not checked by default in IntelliJ IDEA?","body":"<p>Go to <code>Run | Edit Configurations</code> and click the <code>Edit configuration templates...</code> link in the left bottom. Uncheck <code>Use classpath on modules</code> there, and it will be unchecked by default when you create a new Run configuration.</p>\n"}],"owner":{"account_id":10641186,"reputation":221,"user_id":8581765,"display_name":"Max Lich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688561932,"creation_date":1688548230,"question_id":76618791,"body_markdown":"To run applications, I constantly need to uncheck &quot;Use classpath on modules&quot;. Maybe someone knows a way to make it unchecked by default? \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/awEIY.png","title":"How to set point &quot;Use classpath of module&quot; not checked by default in IntelliJ IDEA?","body":"<p>To run applications, I constantly need to uncheck &quot;Use classpath on modules&quot;. Maybe someone knows a way to make it unchecked by default?\n<a href=\"https://i.stack.imgur.com/awEIY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awEIY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":2399674,"reputation":2691,"user_id":2097675,"display_name":"JJF"},"score":1,"creation_date":1688562107,"post_id":76620556,"comment_id":135089669,"body_markdown":"I suspect you may be dealing with an occurrence of the XY problem: https://xyproblem.info/","body":"I suspect you may be dealing with an occurrence of the XY problem: <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1688562108,"post_id":76620556,"comment_id":135089672,"body_markdown":"If windows doesn&#39;t know that a file was changed, the file wasn&#39;t changed. There is either a bug in the program writing the file or in the the program scanning for new files.","body":"If windows doesn&#39;t know that a file was changed, the file wasn&#39;t changed. There is either a bug in the program writing the file or in the the program scanning for new files."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688579390,"post_id":76620556,"comment_id":135093833,"body_markdown":"Or may be the other program fault, or the file is locked. Do you know how the other program detects changes to files?","body":"Or may be the other program fault, or the file is locked. Do you know how the other program detects changes to files?"},{"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"score":0,"creation_date":1688580904,"post_id":76620556,"comment_id":135094142,"body_markdown":"I dont know how other program detects. When I create the file in the directory, it doesnt detect. I move the file from the directory to somewhere else and then re - move it to the directory, the other program detects the file correctly.  I also tried to create the file somewhere else and copy the file to the directory from java as explained above. Same result.","body":"I dont know how other program detects. When I create the file in the directory, it doesnt detect. I move the file from the directory to somewhere else and then re - move it to the directory, the other program detects the file correctly.  I also tried to create the file somewhere else and copy the file to the directory from java as explained above. Same result."}],"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688561683,"creation_date":1688561683,"question_id":76620556,"body_markdown":"I have a java program that at some point creates a file in a certain directory.\r\nAnother program which is not written by me is detecting changes on this directory and acts accordingly.\r\n\r\nThe file created is a very small text file around 1KB.\r\n\r\nSometimes the program couldnt detect the new file.\r\nIf I copy the same file manually from windows, the program detects without a problem.\r\n\r\nIs there a way for me to tell windows.... &quot; LOOK! this file is created....&quot;  ?\r\n\r\nThanks\r\n\r\nI have tried with BufferedWriter , no change.\r\nI have tried with \r\n     String command=&quot;cmd /c copy &quot;+fileName+&quot; &quot;+fileNamefinal;\r\n     Runtime.getRuntime().exec(command);\r\n\r\nThe last one is better but still misses some files.","title":"Notify Windows of a file change made by Java","body":"<p>I have a java program that at some point creates a file in a certain directory.\nAnother program which is not written by me is detecting changes on this directory and acts accordingly.</p>\n<p>The file created is a very small text file around 1KB.</p>\n<p>Sometimes the program couldnt detect the new file.\nIf I copy the same file manually from windows, the program detects without a problem.</p>\n<p>Is there a way for me to tell windows.... &quot; LOOK! this file is created....&quot;  ?</p>\n<p>Thanks</p>\n<p>I have tried with BufferedWriter , no change.\nI have tried with\nString command=&quot;cmd /c copy &quot;+fileName+&quot; &quot;+fileNamefinal;\nRuntime.getRuntime().exec(command);</p>\n<p>The last one is better but still misses some files.</p>\n"},{"tags":["java","kotlin","encryption","cryptography","block-cipher"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688561661,"creation_date":1688506661,"answer_id":76615977,"question_id":76615575,"body_markdown":"It&#39;s probably best to first get the block cipher to adhere to the [`BlockCipher` interface](https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/BlockCipher.java) of the lightweight Bouncy Castle library. When you&#39;ve extended that then you can simply insert it into the constructor of [`GCMBlockCipher`](https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/GCMBlockCipher.java). Beware that the block cipher *must* have a block size of 128 bit - 16 bytes - for it to work in GCM mode.\r\n\r\n---\r\n\r\nYou can do the same thing for CTR mode, and it may be better to start with that as the mode is much simpler so you won&#39;t get to do as much debugging if it fails for some reason. You won&#39;t find `CTRBlockCipher` as mode of operation though. The reason for that is that CTR is/was known under different names. You&#39;ll have to use the [`SICBlockCipher`](https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/SICBlockCipher.java) instead.\r\n\r\nAs the documentation states:\r\n\r\n&gt; Implements the Segmented Integer Counter (SIC) mode on top of a simple block cipher. This mode is also known as CTR mode.\r\n\r\n---\r\n\r\nYou can use your own package name; as you can see the required functionality is &quot;public&quot; so extensions are possible.\r\n\r\n---\r\n\r\nOnce you&#39;ve got that going you can try and register the cipher and mode into the Bouncy Castle provider, or you can create your own provider. Creating a full `CipherSpi` (service provider implementation) is mainly useful if you want to use the block cipher in code that requires an instance of Java&#39;s `Cipher` class.","title":"Where can I find Java/Kotlin implementations of CTR or GCM block cipher modes?","body":"<p>It's probably best to first get the block cipher to adhere to the <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/BlockCipher.java\" rel=\"nofollow noreferrer\"><code>BlockCipher</code> interface</a> of the lightweight Bouncy Castle library. When you've extended that then you can simply insert it into the constructor of <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/GCMBlockCipher.java\" rel=\"nofollow noreferrer\"><code>GCMBlockCipher</code></a>. Beware that the block cipher <em>must</em> have a block size of 128 bit - 16 bytes - for it to work in GCM mode.</p>\n<hr />\n<p>You can do the same thing for CTR mode, and it may be better to start with that as the mode is much simpler so you won't get to do as much debugging if it fails for some reason. You won't find <code>CTRBlockCipher</code> as mode of operation though. The reason for that is that CTR is/was known under different names. You'll have to use the <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/SICBlockCipher.java\" rel=\"nofollow noreferrer\"><code>SICBlockCipher</code></a> instead.</p>\n<p>As the documentation states:</p>\n<blockquote>\n<p>Implements the Segmented Integer Counter (SIC) mode on top of a simple block cipher. This mode is also known as CTR mode.</p>\n</blockquote>\n<hr />\n<p>You can use your own package name; as you can see the required functionality is &quot;public&quot; so extensions are possible.</p>\n<hr />\n<p>Once you've got that going you can try and register the cipher and mode into the Bouncy Castle provider, or you can create your own provider. Creating a full <code>CipherSpi</code> (service provider implementation) is mainly useful if you want to use the block cipher in code that requires an instance of Java's <code>Cipher</code> class.</p>\n"}],"owner":{"account_id":216810,"reputation":16569,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76615977,"answer_count":1,"score":2,"last_activity_date":1688561661,"creation_date":1688500814,"question_id":76615575,"body_markdown":"I have a task to implement pretty rare symmetric block cipher. It&#39;s unavailable in popular crypto providers like Bouncy Castle, Sun&#39;s JCE and even in GNU Crypto, so I can&#39;t use JCE approach.\r\n\r\nI got Java sources of this cipher for encryption/decryption of single block, but can&#39;t find where to find [CTR](https://www.cryptopp.com/wiki/CTR_Mode) or [GCM - Galois/Counter Mode](https://en.wikipedia.org/wiki/Galois/Counter_Mode)  implementations. Can anyone help me to find them?","title":"Where can I find Java/Kotlin implementations of CTR or GCM block cipher modes?","body":"<p>I have a task to implement pretty rare symmetric block cipher. It's unavailable in popular crypto providers like Bouncy Castle, Sun's JCE and even in GNU Crypto, so I can't use JCE approach.</p>\n<p>I got Java sources of this cipher for encryption/decryption of single block, but can't find where to find <a href=\"https://www.cryptopp.com/wiki/CTR_Mode\" rel=\"nofollow noreferrer\">CTR</a> or <a href=\"https://en.wikipedia.org/wiki/Galois/Counter_Mode\" rel=\"nofollow noreferrer\">GCM - Galois/Counter Mode</a>  implementations. Can anyone help me to find them?</p>\n"},{"tags":["java","redis","multi-tenant","spring-data-redis","lettuce"],"owner":{"account_id":16732316,"reputation":1,"user_id":12094346,"display_name":"Roshan Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688561654,"creation_date":1688529344,"question_id":76617009,"body_markdown":"I am using spring data redis to connect to standalone redis. I am using `LettuceConnectionFactory` to create initial connection with redis with default user but after connection has been established I want to connect to different user with redis on each request basically to achive ACL feature in redis. \r\n\r\n\r\nI created instance of `LettuceConnectionFactory` object for initial startup of application with following code.\r\n\r\n\r\n```java\r\n    @Bean\r\n    public RedisConnectionFactory connectionFactory() {\r\n        LettucePoolingClientConfiguration clientConfiguration = LettucePoolingClientConfiguration.builder().poolConfig(new GenericObjectPoolConfig()).build();\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\r\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfiguration);\r\n        return new MultiTenantDatabaseConnection(redisStandaloneConfiguration, lettuceConnectionFactory);\r\n    }\r\n```\r\n\r\n\r\n```java\r\npublic class MultiTenantDatabaseConnection extends LettuceConnectionFactory {\r\n\r\n    private final LettuceConnectionFactory lettuceConnectionFactory;\r\n\r\n    public MultiTenantDatabaseConnection(RedisConfiguration redisConfiguration, LettuceConnectionFactory lettuceConnectionFactory) {\r\n        super(redisConfiguration);\r\n        this.lettuceConnectionFactory = lettuceConnectionFactory;\r\n    }\r\n\r\n    @Override\r\n    public RedisConnection getConnection() {\r\n        String userName = &quot;****&quot;;\r\n        String password = &quot;****&quot;;\r\n        if (Objects.nonNull(TenantContext.getTenant().get())) {\r\n           userName = TenantContext.getTenant().get().getUserId();\r\n           password = TenantContext.getTenant().get().getPassword();\r\n        }\r\n        RedisURI localhost = RedisURI.create(&quot;localhost&quot;, 6379);\r\n        localhost.setUsername(userName);\r\n        localhost.setPassword(password.toCharArray());\r\n\r\n        return new CustomLettuceConnection(2000, RedisClient.create(localhost));\r\n    }\r\n}\r\n```\r\n\r\nthis code snippet is creating new instance of lettuce connection on each http request but I think I am not following framework pattern to create connection and I am not even using LettuceConnectionFactory object. I tried every implementation to create new connection with existing LettuceConnectionFactory object but I am getting nowhere.\r\n\r\n**I am getting below warning with above code snippet**\r\n\r\n```\r\n2023-07-04 18:49:44.054  WARN 31175 --- [      Finalizer] i.l.c.resource.DefaultClientResources    : io.lettuce.core.resource.DefaultClientResources was not shut down properly, shutdown() was not called before it&#39;s garbage-collected. Call shutdown() or shutdown(long,long,TimeUnit)\r\n```\r\n\r\n**I tried below method also but I think this is also wrong**\r\n\r\n\r\n```\r\n    @Override\r\n    public RedisConnection getConnection() {\r\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(standaloneConfiguration);\r\n        lettuceConnectionFactory.afterPropertiesSet();\r\n        return lettuceConnectionFactory.getConnection();\r\n    }\r\n```\r\n\r\n\r\n","title":"how to create new connection with redis on each request with username and password using spring data redis?","body":"<p>I am using spring data redis to connect to standalone redis. I am using <code>LettuceConnectionFactory</code> to create initial connection with redis with default user but after connection has been established I want to connect to different user with redis on each request basically to achive ACL feature in redis.</p>\n<p>I created instance of <code>LettuceConnectionFactory</code> object for initial startup of application with following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public RedisConnectionFactory connectionFactory() {\n        LettucePoolingClientConfiguration clientConfiguration = LettucePoolingClientConfiguration.builder().poolConfig(new GenericObjectPoolConfig()).build();\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfiguration);\n        return new MultiTenantDatabaseConnection(redisStandaloneConfiguration, lettuceConnectionFactory);\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MultiTenantDatabaseConnection extends LettuceConnectionFactory {\n\n    private final LettuceConnectionFactory lettuceConnectionFactory;\n\n    public MultiTenantDatabaseConnection(RedisConfiguration redisConfiguration, LettuceConnectionFactory lettuceConnectionFactory) {\n        super(redisConfiguration);\n        this.lettuceConnectionFactory = lettuceConnectionFactory;\n    }\n\n    @Override\n    public RedisConnection getConnection() {\n        String userName = &quot;****&quot;;\n        String password = &quot;****&quot;;\n        if (Objects.nonNull(TenantContext.getTenant().get())) {\n           userName = TenantContext.getTenant().get().getUserId();\n           password = TenantContext.getTenant().get().getPassword();\n        }\n        RedisURI localhost = RedisURI.create(&quot;localhost&quot;, 6379);\n        localhost.setUsername(userName);\n        localhost.setPassword(password.toCharArray());\n\n        return new CustomLettuceConnection(2000, RedisClient.create(localhost));\n    }\n}\n</code></pre>\n<p>this code snippet is creating new instance of lettuce connection on each http request but I think I am not following framework pattern to create connection and I am not even using LettuceConnectionFactory object. I tried every implementation to create new connection with existing LettuceConnectionFactory object but I am getting nowhere.</p>\n<p><strong>I am getting below warning with above code snippet</strong></p>\n<pre><code>2023-07-04 18:49:44.054  WARN 31175 --- [      Finalizer] i.l.c.resource.DefaultClientResources    : io.lettuce.core.resource.DefaultClientResources was not shut down properly, shutdown() was not called before it's garbage-collected. Call shutdown() or shutdown(long,long,TimeUnit)\n</code></pre>\n<p><strong>I tried below method also but I think this is also wrong</strong></p>\n<pre><code>    @Override\n    public RedisConnection getConnection() {\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(standaloneConfiguration);\n        lettuceConnectionFactory.afterPropertiesSet();\n        return lettuceConnectionFactory.getConnection();\n    }\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1522768297,"post_id":49633462,"comment_id":86274288,"body_markdown":"I&#39;m voting to close this question as off-topic because questions about working code belong on [Code Review](https://codereview.stackexchange.com/).","body":"I&#39;m voting to close this question as off-topic because questions about working code belong on <a href=\"https://codereview.stackexchange.com/\">Code Review</a>."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1522768392,"post_id":49633462,"comment_id":86274353,"body_markdown":"Since this is your methods `func1` and `func2`, one of the ways you can beautify this is by having a third method which would act as a predicate filter.","body":"Since this is your methods <code>func1</code> and <code>func2</code>, one of the ways you can beautify this is by having a third method which would act as a predicate filter."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522769715,"creation_date":1522769048,"answer_id":49633734,"question_id":49633462,"body_markdown":"You could create a `isFunc1AndFunc2NotNull()` method in the current class :\r\n\r\n    boolean isFunc1AndFunc2NotNull(Foo foo){\r\n       return func1(foo) != null &amp;&amp; func2(foo) != null;\r\n    }\r\n\r\nAnd change your stream as :\r\n\r\n    stream.filter(this::isFunc1AndFunc2NotNull)\r\n          .collect(Collectors.toMap(this::func1, this::func2));","title":"Collect to map skipping null key/values","body":"<p>You could create a <code>isFunc1AndFunc2NotNull()</code> method in the current class :</p>\n\n<pre><code>boolean isFunc1AndFunc2NotNull(Foo foo){\n   return func1(foo) != null &amp;&amp; func2(foo) != null;\n}\n</code></pre>\n\n<p>And change your stream as :</p>\n\n<pre><code>stream.filter(this::isFunc1AndFunc2NotNull)\n      .collect(Collectors.toMap(this::func1, this::func2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1688561099,"creation_date":1522769077,"answer_id":49633746,"question_id":49633462,"body_markdown":"If you want to avoid evaluating the functions `func1` and `func2` twice, you have to store the results. E.g.\r\n\r\n    stream.map(t -&gt; new AbstractMap.SimpleImmutableEntry&lt;&gt;(func1(t), func2(t))\r\n          .filter(e -&gt; e.getKey()!=null &amp;&amp; e.getValue()!=null)\r\n          .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nThis doesn’t make the code shorter and even the efficiency depends on the circumstances. This change pays off, if the costs of evaluating the `func1` and `func2` are high enough to compensate the creation of temporary objects. In principle, the temporary object could get optimized away, but this isn’t guaranteed.\r\n\r\nStarting with Java&#160;9, you can replace `new AbstractMap.SimpleImmutableEntry&lt;&gt;(…)` with [`Map.entry(…)`](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-). Since this entry type disallows `null` right from the start, it would need filtering before constructing the entry:\r\n\r\n    stream.flatMap(t -&gt; {\r\n       Type1 value1 = func1(t);\r\n       Type2 value2 = func2(t);\r\n       return value1!=null &amp;&amp; value2!=null? Stream.of(Map.entry(value1, value2)): null;\r\n     })\r\n     .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nAlternatively, you may use a pair type of one of the libraries you’re already using (the Java API itself doesn’t offer such a type).\r\n\r\n---\r\n\r\nAnother (probably the most efficient) alternative is a custom collector:\r\n\r\n```java\r\nstream.collect(HashMap::new,\r\n    (m, o) -&gt; {\r\n      Type1 key   = func1(o);\r\n      Type2 value = func2(o);\r\n      if(key != null &amp;&amp; value != null) m.put(key, value);\r\n    },\r\n    Map::putAll);\r\n```\r\n\r\nNote that this collector, unlike the original `toMap` collector, doesn’t check for duplicates. But such a check could be added without problems.\r\n","title":"Collect to map skipping null key/values","body":"<p>If you want to avoid evaluating the functions <code>func1</code> and <code>func2</code> twice, you have to store the results. E.g.</p>\n<pre><code>stream.map(t -&gt; new AbstractMap.SimpleImmutableEntry&lt;&gt;(func1(t), func2(t))\n      .filter(e -&gt; e.getKey()!=null &amp;&amp; e.getValue()!=null)\n      .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>This doesn’t make the code shorter and even the efficiency depends on the circumstances. This change pays off, if the costs of evaluating the <code>func1</code> and <code>func2</code> are high enough to compensate the creation of temporary objects. In principle, the temporary object could get optimized away, but this isn’t guaranteed.</p>\n<p>Starting with Java 9, you can replace <code>new AbstractMap.SimpleImmutableEntry&lt;&gt;(…)</code> with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\" rel=\"nofollow noreferrer\"><code>Map.entry(…)</code></a>. Since this entry type disallows <code>null</code> right from the start, it would need filtering before constructing the entry:</p>\n<pre><code>stream.flatMap(t -&gt; {\n   Type1 value1 = func1(t);\n   Type2 value2 = func2(t);\n   return value1!=null &amp;&amp; value2!=null? Stream.of(Map.entry(value1, value2)): null;\n })\n .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>Alternatively, you may use a pair type of one of the libraries you’re already using (the Java API itself doesn’t offer such a type).</p>\n<hr />\n<p>Another (probably the most efficient) alternative is a custom collector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stream.collect(HashMap::new,\n    (m, o) -&gt; {\n      Type1 key   = func1(o);\n      Type2 value = func2(o);\n      if(key != null &amp;&amp; value != null) m.put(key, value);\n    },\n    Map::putAll);\n</code></pre>\n<p>Note that this collector, unlike the original <code>toMap</code> collector, doesn’t check for duplicates. But such a check could be added without problems.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522769735,"creation_date":1522769735,"answer_id":49633962,"question_id":49633462,"body_markdown":"Another way to avoid evaluating the functions twice. Use [a pair class of your choice](https://stackoverflow.com/questions/521171/a-java-collection-of-value-pairs-tuples). Not as concise as [Holger&#39;s](https://stackoverflow.com/questions/49633462/collect-to-map-skipping-null-key-values/49633746#49633746) but it&#39;s a little less dense which can be easier to read.\r\n\r\n    stream.map(A::doFuncs)\r\n        .flatMap(Optional::stream)\r\n        .collect(Collectors.toMap(Pair::getKey, Pair::getValue));\r\n    \r\n    private static Optional&lt;Pair&lt;Bar, Baz&gt;&gt; doFuncs(Foo foo)\r\n    {\r\n        final Bar bar = func1(foo);\r\n        final Baz baz = func2(foo);\r\n        if (bar == null || baz == null) return Optional.empty();\r\n        return Optional.of(new Pair&lt;&gt;(bar, baz));\r\n    }\r\n\r\n(Choose proper names - I didn&#39;t know what types you were using)","title":"Collect to map skipping null key/values","body":"<p>Another way to avoid evaluating the functions twice. Use <a href=\"https://stackoverflow.com/questions/521171/a-java-collection-of-value-pairs-tuples\">a pair class of your choice</a>. Not as concise as <a href=\"https://stackoverflow.com/questions/49633462/collect-to-map-skipping-null-key-values/49633746#49633746\">Holger's</a> but it's a little less dense which can be easier to read.</p>\n\n<pre><code>stream.map(A::doFuncs)\n    .flatMap(Optional::stream)\n    .collect(Collectors.toMap(Pair::getKey, Pair::getValue));\n\nprivate static Optional&lt;Pair&lt;Bar, Baz&gt;&gt; doFuncs(Foo foo)\n{\n    final Bar bar = func1(foo);\n    final Baz baz = func2(foo);\n    if (bar == null || baz == null) return Optional.empty();\n    return Optional.of(new Pair&lt;&gt;(bar, baz));\n}\n</code></pre>\n\n<p>(Choose proper names - I didn't know what types you were using)</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522771458,"creation_date":1522771458,"answer_id":49634509,"question_id":49633462,"body_markdown":"This is a naive solution, but does not call functions twice and does not create extra objects:\r\n\r\n    List&lt;Integer&gt; ints = Arrays.asList(1, null, 2, null, 3);\r\n    Map&lt;Integer, Integer&gt; res = ints.stream().collect(LinkedHashMap::new, (lhm, i) -&gt; {\r\n        final Integer integer1 = func1(i);\r\n        final Integer integer2 = func2(i);\r\n        if(integer1 !=  null &amp;&amp; integer2 != null) {\r\n            lhm.put(integer1, integer2);\r\n        }\r\n    }, (lhm1, lhm2) -&gt; {});","title":"Collect to map skipping null key/values","body":"<p>This is a naive solution, but does not call functions twice and does not create extra objects:</p>\n\n<pre><code>List&lt;Integer&gt; ints = Arrays.asList(1, null, 2, null, 3);\nMap&lt;Integer, Integer&gt; res = ints.stream().collect(LinkedHashMap::new, (lhm, i) -&gt; {\n    final Integer integer1 = func1(i);\n    final Integer integer2 = func2(i);\n    if(integer1 !=  null &amp;&amp; integer2 != null) {\n        lhm.put(integer1, integer2);\n    }\n}, (lhm1, lhm2) -&gt; {});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522772370,"creation_date":1522771820,"answer_id":49634611,"question_id":49633462,"body_markdown":"One option is to do as in the other answers, i.e. use a `Pair` type, or an implementation of `Map.Entry`. Another approach used in functional programming would be to [*memoize*][1] the functions. According to Wikipedia:\r\n\r\n&gt;memoization or memoisation is an optimization technique used primarily to speed up computer programs by storing the results of expensive function calls and returning the cached result when the same inputs occur again.\r\n\r\nSo you could do it by caching the results of the functions in maps:\r\n\r\n    public static &lt;K, V&gt; Function&lt;K, V&gt; memoize(Function&lt;K, V&gt; f) {\r\n        Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\r\n        return k -&gt; map.computeIfAbsent(k, f);\r\n    }\r\n\r\nThen, use the memoized functions in the stream:\r\n\r\n    Function&lt;E, K&gt; memoizedFunc1 = memoize(this::func1);\r\n    Function&lt;E, V&gt; memoizedFunc2 = memoize(this::func2);\r\n\r\n    stream.filter(t -&gt; memoizedFunc1.apply(t) != null)\r\n        .filter(t -&gt; memoizedFunc2.apply(t) != null)\r\n        .collect(Collectors.toMap(memoizedFunc1, memoizedFunc2));\r\n\r\nHere `E` stands for the type of the elements of the stream, `K` stands for the type returned by `func1` (which is the type of the keys of the map) and `V` stands for the type returned by `func2` (which is the type of the values of the map).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Memoization","title":"Collect to map skipping null key/values","body":"<p>One option is to do as in the other answers, i.e. use a <code>Pair</code> type, or an implementation of <code>Map.Entry</code>. Another approach used in functional programming would be to <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow noreferrer\"><em>memoize</em></a> the functions. According to Wikipedia:</p>\n\n<blockquote>\n  <p>memoization or memoisation is an optimization technique used primarily to speed up computer programs by storing the results of expensive function calls and returning the cached result when the same inputs occur again.</p>\n</blockquote>\n\n<p>So you could do it by caching the results of the functions in maps:</p>\n\n<pre><code>public static &lt;K, V&gt; Function&lt;K, V&gt; memoize(Function&lt;K, V&gt; f) {\n    Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\n    return k -&gt; map.computeIfAbsent(k, f);\n}\n</code></pre>\n\n<p>Then, use the memoized functions in the stream:</p>\n\n<pre><code>Function&lt;E, K&gt; memoizedFunc1 = memoize(this::func1);\nFunction&lt;E, V&gt; memoizedFunc2 = memoize(this::func2);\n\nstream.filter(t -&gt; memoizedFunc1.apply(t) != null)\n    .filter(t -&gt; memoizedFunc2.apply(t) != null)\n    .collect(Collectors.toMap(memoizedFunc1, memoizedFunc2));\n</code></pre>\n\n<p>Here <code>E</code> stands for the type of the elements of the stream, <code>K</code> stands for the type returned by <code>func1</code> (which is the type of the keys of the map) and <code>V</code> stands for the type returned by <code>func2</code> (which is the type of the values of the map).</p>\n"}],"owner":{"account_id":4842280,"reputation":473,"user_id":3907006,"accept_rate":33,"display_name":"Joel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17530,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":49633746,"answer_count":5,"score":15,"last_activity_date":1688561099,"creation_date":1522768172,"question_id":49633462,"body_markdown":"Let&#39;s say I have some stream and want to collect to map like this\r\n\r\n    stream.collect(Collectors.toMap(this::func1, this::func2));\r\n\r\nBut I want to skip null keys/values. Of course, I can do like this\r\n\r\n    stream.filter(t -&gt; func1(t) != null)\r\n        .filter(t -&gt; func2(t) != null)\r\n        .collect(Collectors.toMap(this::func1, this::func2));\r\nBut is there more beautiful/effective solution?","title":"Collect to map skipping null key/values","body":"<p>Let's say I have some stream and want to collect to map like this</p>\n\n<pre><code>stream.collect(Collectors.toMap(this::func1, this::func2));\n</code></pre>\n\n<p>But I want to skip null keys/values. Of course, I can do like this</p>\n\n<pre><code>stream.filter(t -&gt; func1(t) != null)\n    .filter(t -&gt; func2(t) != null)\n    .collect(Collectors.toMap(this::func1, this::func2));\n</code></pre>\n\n<p>But is there more beautiful/effective solution?</p>\n"},{"tags":["java","spring-boot","eclipse","maven","java-20"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688564190,"post_id":76620447,"comment_id":135090245,"body_markdown":"Why not update the entire Eclipse?","body":"Why not update the entire Eclipse?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1688566008,"post_id":76620447,"comment_id":135090744,"body_markdown":"You need to use the latest Eclipse 2023-06 to get support for the Java 20 compliance level.","body":"You need to use the latest Eclipse 2023-06 to get support for the Java 20 compliance level."}],"owner":{"account_id":18735729,"reputation":1,"user_id":22178985,"display_name":"Dario Garcia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688561032,"answer_count":0,"score":0,"last_activity_date":1688560897,"creation_date":1688560897,"question_id":76620447,"body_markdown":"I have a project in spring boot (maven) that tries to start, but gives me a version error\r\n\r\nConsole:\r\n\r\n`Error: LinkageError occurred while loading main class com.demoJwt.DemoJwtApplication \tjava.lang.UnsupportedClassVersionError: com/demoJwt/DemoJwtApplication (class file version 59.65535) was compiled with preview features that are unsupported. This version of the Java Runtime only recognizes preview features for class file version 64.65535`\r\n\r\n[Java Build Path](https://i.stack.imgur.com/v2Bil.png)\r\n\r\n[Java Compiler](https://i.stack.imgur.com/FkIx4.png) (I can&#39;t find anything more current than version 15)\r\n\r\nI want to update the Java Compiler version to version 20 to avoid the error when starting the maven project.","title":"UnsupportedClassVersionError How to update compiler in eclipse?","body":"<p>I have a project in spring boot (maven) that tries to start, but gives me a version error</p>\n<p>Console:</p>\n<p><code>Error: LinkageError occurred while loading main class com.demoJwt.DemoJwtApplication   java.lang.UnsupportedClassVersionError: com/demoJwt/DemoJwtApplication (class file version 59.65535) was compiled with preview features that are unsupported. This version of the Java Runtime only recognizes preview features for class file version 64.65535</code></p>\n<p><a href=\"https://i.stack.imgur.com/v2Bil.png\" rel=\"nofollow noreferrer\">Java Build Path</a></p>\n<p><a href=\"https://i.stack.imgur.com/FkIx4.png\" rel=\"nofollow noreferrer\">Java Compiler</a> (I can't find anything more current than version 15)</p>\n<p>I want to update the Java Compiler version to version 20 to avoid the error when starting the maven project.</p>\n"},{"tags":["java","android","android-networking","networkonmainthread"],"comments":[{"owner":{"account_id":1436044,"reputation":1061,"user_id":1357390,"display_name":"Adrian Monk"},"score":139,"creation_date":1344343126,"post_id":6343166,"comment_id":15753428,"body_markdown":"[**Read this blog post**](http://www.androiddesignpatterns.com/2012/06/app-force-close-honeycomb-ics.html) on the NetworkOnMainThreadException for more information. It explains why this occurs on Android 3.0 and above.","body":"<a href=\"http://www.androiddesignpatterns.com/2012/06/app-force-close-honeycomb-ics.html\" rel=\"nofollow noreferrer\"><b>Read this blog post</b></a> on the NetworkOnMainThreadException for more information. It explains why this occurs on Android 3.0 and above."},{"owner":{"account_id":1676941,"reputation":498,"user_id":1542237,"accept_rate":50,"display_name":"Anuj Sharma"},"score":6,"creation_date":1390459151,"post_id":6343166,"comment_id":32102445,"body_markdown":"To be on rite track first read about the Network Requests in android then i would recommend to study &quot;Volley&quot;.","body":"To be on rite track first read about the Network Requests in android then i would recommend to study &quot;Volley&quot;."},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":3,"creation_date":1392159324,"post_id":6343166,"comment_id":32836328,"body_markdown":"There are many alternative libraries that solve this issue. Many are listed [at the bottom of this page](https://github.com/octo-online/robospice/blob/release/README.md#alternatives-to-robospice-). If you got more, we take them :)","body":"There are many alternative libraries that solve this issue. Many are listed <a href=\"https://github.com/octo-online/robospice/blob/release/README.md#alternatives-to-robospice-\" rel=\"nofollow noreferrer\">at the bottom of this page</a>. If you got more, we take them :)"},{"owner":{"account_id":47708,"reputation":3213,"user_id":141437,"accept_rate":88,"display_name":"Jay"},"score":0,"creation_date":1511131878,"post_id":6343166,"comment_id":81718447,"body_markdown":"&quot;Due to a bug in previous versions of Android, the system did not flag writing to a TCP socket on the main thread as a strict-mode violation. Android 7.0 fixes this bug. Apps that exhibit this behavior now throw an android.os.NetworkOnMainThreadException.&quot; - So some of us haven&#39;t hit this until recently!  https://developer.android.com/about/versions/nougat/android-7.0-changes.html","body":"&quot;Due to a bug in previous versions of Android, the system did not flag writing to a TCP socket on the main thread as a strict-mode violation. Android 7.0 fixes this bug. Apps that exhibit this behavior now throw an android.os.NetworkOnMainThreadException.&quot; - So some of us haven&#39;t hit this until recently!  <a href=\"https://developer.android.com/about/versions/nougat/android-7.0-changes.html\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/nougat/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":355431,"reputation":21889,"user_id":694378,"display_name":"Mark Allison"},"down_vote_count":1,"up_vote_count":153,"is_accepted":false,"score":152,"last_activity_date":1391963122,"creation_date":1308053271,"answer_id":6343230,"question_id":6343166,"body_markdown":"You cannot perform network [I/O][1] on the UI thread on [Honeycomb][2]. Technically, it *is* possible on earlier versions of Android, but it is a really bad idea as it will cause your app to stop responding, and can result in the OS killing your app for being badly behaved. You&#39;ll need to run a background process or use AsyncTask to perform your network transaction on a background thread.\r\n\r\nThere is an article about [Painless Threading][3] on the Android developer site which is a good introduction to this, and it will provide you with a much better depth of an answer than can be realistically provided here.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Input/output\r\n  [2]: https://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\r\n  [3]: http://android-developers.blogspot.com/2009/05/painless-threading.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You cannot perform network <a href=\"http://en.wikipedia.org/wiki/Input/output\" rel=\"noreferrer\">I/O</a> on the UI thread on <a href=\"https://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\" rel=\"noreferrer\">Honeycomb</a>. Technically, it <em>is</em> possible on earlier versions of Android, but it is a really bad idea as it will cause your app to stop responding, and can result in the OS killing your app for being badly behaved. You'll need to run a background process or use AsyncTask to perform your network transaction on a background thread.</p>\n\n<p>There is an article about <a href=\"http://android-developers.blogspot.com/2009/05/painless-threading.html\" rel=\"noreferrer\">Painless Threading</a> on the Android developer site which is a good introduction to this, and it will provide you with a much better depth of an answer than can be realistically provided here.</p>\n"},{"tags":[],"owner":{"account_id":171109,"reputation":36853,"user_id":398309,"accept_rate":68,"display_name":"Michael Spector"},"down_vote_count":14,"up_vote_count":2688,"is_accepted":true,"score":2674,"last_activity_date":1615925449,"creation_date":1308053705,"answer_id":6343299,"question_id":6343166,"body_markdown":"**NOTE : AsyncTask was deprecated in API level 30.   \r\n[AsyncTask | Android Developers][1]**\r\n\r\nThis exception is thrown when an application attempts to perform a networking operation on its main thread. Run your code in [`AsyncTask`][2]:\r\n\r\n    class RetrieveFeedTask extends AsyncTask&lt;String, Void, RSSFeed&gt; {\r\n\r\n        private Exception exception;\r\n\r\n        protected RSSFeed doInBackground(String... urls) {\r\n            try {\r\n                URL url = new URL(urls[0]);\r\n                SAXParserFactory factory = SAXParserFactory.newInstance();\r\n                SAXParser parser = factory.newSAXParser();\r\n                XMLReader xmlreader = parser.getXMLReader();\r\n                RssHandler theRSSHandler = new RssHandler();\r\n                xmlreader.setContentHandler(theRSSHandler);\r\n                InputSource is = new InputSource(url.openStream());\r\n                xmlreader.parse(is);\r\n\r\n                return theRSSHandler.getFeed();\r\n            } catch (Exception e) {\r\n                this.exception = e;\r\n\r\n                return null;\r\n            } finally {\r\n                is.close();\r\n            }\r\n        }\r\n\r\n        protected void onPostExecute(RSSFeed feed) {\r\n            // TODO: check this.exception\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n\r\nHow to execute the task:\r\n\r\nIn `MainActivity.java` file you can add this line within your `oncreate()` method\r\n\r\n    new RetrieveFeedTask().execute(urlToRssFeed);\r\n\r\nDon&#39;t forget to add this to `AndroidManifest.xml` file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask\r\n  [2]: http://developer.android.com/reference/android/os/AsyncTask.html","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>NOTE : AsyncTask was deprecated in API level 30.<br />\n<a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"noreferrer\">AsyncTask | Android Developers</a></strong></p>\n<p>This exception is thrown when an application attempts to perform a networking operation on its main thread. Run your code in <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"noreferrer\"><code>AsyncTask</code></a>:</p>\n<pre><code>class RetrieveFeedTask extends AsyncTask&lt;String, Void, RSSFeed&gt; {\n\n    private Exception exception;\n\n    protected RSSFeed doInBackground(String... urls) {\n        try {\n            URL url = new URL(urls[0]);\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser parser = factory.newSAXParser();\n            XMLReader xmlreader = parser.getXMLReader();\n            RssHandler theRSSHandler = new RssHandler();\n            xmlreader.setContentHandler(theRSSHandler);\n            InputSource is = new InputSource(url.openStream());\n            xmlreader.parse(is);\n\n            return theRSSHandler.getFeed();\n        } catch (Exception e) {\n            this.exception = e;\n\n            return null;\n        } finally {\n            is.close();\n        }\n    }\n\n    protected void onPostExecute(RSSFeed feed) {\n        // TODO: check this.exception\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n<p>How to execute the task:</p>\n<p>In <code>MainActivity.java</code> file you can add this line within your <code>oncreate()</code> method</p>\n<pre><code>new RetrieveFeedTask().execute(urlToRssFeed);\n</code></pre>\n<p>Don't forget to add this to <code>AndroidManifest.xml</code> file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1197747,"reputation":8953,"user_id":1169115,"display_name":"user1169115"},"down_vote_count":154,"up_vote_count":926,"is_accepted":false,"score":772,"last_activity_date":1626949562,"creation_date":1329289190,"answer_id":9289190,"question_id":6343166,"body_markdown":"**You should almost always run network operations on a thread or as an asynchronous task.**\r\n\r\nBut it *is* possible to remove this restriction and you override the default behavior, if you are willing to accept the consequences.\r\n\r\nAdd:\r\n\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\nIn your class,\r\n\r\nand\r\n\r\n*Add* this permission in the Android *manifest.xml* file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nConsequences:\r\n\r\nYour app will (in areas of spotty Internet connection) become unresponsive and lock up, the user perceives slowness and has to do a force kill, and you risk the activity manager killing your app and telling the user that the app has stopped.\r\n\r\nAndroid has some good tips on good programming practices to design for responsiveness:\r\n[NetworkOnMainThreadException | Android Developers][1]\r\n\r\n  [1]: http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>You should almost always run network operations on a thread or as an asynchronous task.</strong></p>\n<p>But it <em>is</em> possible to remove this restriction and you override the default behavior, if you are willing to accept the consequences.</p>\n<p>Add:</p>\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n<p>In your class,</p>\n<p>and</p>\n<p><em>Add</em> this permission in the Android <em>manifest.xml</em> file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p>Consequences:</p>\n<p>Your app will (in areas of spotty Internet connection) become unresponsive and lock up, the user perceives slowness and has to do a force kill, and you risk the activity manager killing your app and telling the user that the app has stopped.</p>\n<p>Android has some good tips on good programming practices to design for responsiveness:\n<a href=\"http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\" rel=\"noreferrer\">NetworkOnMainThreadException | Android Developers</a></p>\n"},{"tags":[],"owner":{"account_id":1017979,"reputation":4294,"user_id":1029089,"accept_rate":90,"display_name":"Piyush-Ask Any Difference"},"down_vote_count":23,"up_vote_count":98,"is_accepted":false,"score":75,"last_activity_date":1586329170,"creation_date":1351062603,"answer_id":13044412,"question_id":6343166,"body_markdown":"You disable the strict mode using following code:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy = \r\n    \t\tnew StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\n**This is not recommended**: use the `AsyncTask` interface.\r\n\r\n[Full code for both the methods][1]\r\n\r\n\r\n  [1]: https://askanydifference.com/how-to-fix-android-os-networkonmainthreadexception/","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You disable the strict mode using following code:</p>\n\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\n    StrictMode.ThreadPolicy policy = \n        new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}\n</code></pre>\n\n<p><strong>This is not recommended</strong>: use the <code>AsyncTask</code> interface.</p>\n\n<p><a href=\"https://askanydifference.com/how-to-fix-android-os-networkonmainthreadexception/\" rel=\"noreferrer\">Full code for both the methods</a></p>\n"},{"tags":[],"owner":{"account_id":307669,"reputation":22223,"user_id":1466188,"accept_rate":69,"display_name":"Dipak Keshariya"},"down_vote_count":2,"up_vote_count":132,"is_accepted":false,"score":130,"last_activity_date":1626950306,"creation_date":1351591592,"answer_id":13136668,"question_id":6343166,"body_markdown":"There are two solutions of this problem.\r\n\r\n1) Don&#39;t use a network call in the main UI thread. Use an async task for that.\r\n\r\n2) Write the below code into your MainActivity file after *setContentView(R.layout.activity_main);*:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\nAnd the below import statement into your Java file.\r\n\r\n    import android.os.StrictMode;\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>There are two solutions of this problem.</p>\n<ol>\n<li><p>Don't use a network call in the main UI thread. Use an async task for that.</p>\n</li>\n<li><p>Write the below code into your MainActivity file after <em>setContentView(R.layout.activity_main);</em>:</p>\n<p>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\nStrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n}</p>\n</li>\n</ol>\n<p>And the below import statement into your Java file.</p>\n<pre><code>import android.os.StrictMode;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1109205,"reputation":6111,"user_id":1099990,"display_name":"Dr.Luiji"},"down_vote_count":6,"up_vote_count":527,"is_accepted":false,"score":521,"last_activity_date":1688560171,"creation_date":1358785895,"answer_id":14443056,"question_id":6343166,"body_markdown":"I solved this problem using a new `Thread`.\r\n\r\n    Thread thread = new Thread(new Runnable() {\r\n        \r\n        @Override\r\n        public void run() {\r\n            try {\r\n    \t        // Your code goes here\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    });\r\n    \r\n    thread.start();\t\r\n\r\n\t\t\t","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I solved this problem using a new <code>Thread</code>.</p>\n<pre><code>Thread thread = new Thread(new Runnable() {\n    \n    @Override\n    public void run() {\n        try {\n            // Your code goes here\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n});\n\nthread.start(); \n\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3017594,"reputation":4774,"user_id":2559284,"accept_rate":93,"display_name":"sivag1"},"down_vote_count":2,"up_vote_count":46,"is_accepted":false,"score":44,"last_activity_date":1466629468,"creation_date":1374173542,"answer_id":17731654,"question_id":6343166,"body_markdown":"The top [answer of spektom][1] works perfect.\r\n\r\nIf you are writing the `AsyncTask` inline and not extending as a class, and on top of this, if there is a need to get a response out of the `AsyncTask`, one can use the `get()` method as below.\r\n\r\n    RSSFeed feed = new RetreiveFeedTask().execute(urlToRssFeed).get();\r\n\r\n(From his example.)\r\n\r\n  [1]: https://stackoverflow.com/questions/6343166/how-to-fix-android-os-networkonmainthreadexception/6343299#6343299\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The top <a href=\"https://stackoverflow.com/questions/6343166/how-to-fix-android-os-networkonmainthreadexception/6343299#6343299\">answer of spektom</a> works perfect.</p>\n\n<p>If you are writing the <code>AsyncTask</code> inline and not extending as a class, and on top of this, if there is a need to get a response out of the <code>AsyncTask</code>, one can use the <code>get()</code> method as below.</p>\n\n<pre><code>RSSFeed feed = new RetreiveFeedTask().execute(urlToRssFeed).get();\n</code></pre>\n\n<p>(From his example.)</p>\n"},{"tags":[],"owner":{"account_id":1808870,"reputation":7519,"user_id":1645339,"accept_rate":60,"display_name":"venergiac"},"down_vote_count":3,"up_vote_count":86,"is_accepted":false,"score":83,"last_activity_date":1466629559,"creation_date":1376817528,"answer_id":18297581,"question_id":6343166,"body_markdown":"1. Do not use strictMode (only in debug mode)\r\n2. Do not change SDK version\r\n3. Do not use a separate thread\r\n\r\nUse Service or AsyncTask\r\n\r\nSee also Stack&amp;nbsp;Overflow question:\r\n\r\n*https://stackoverflow.com/questions/18297485/i-get-an-android-os-networkonmainthreadexception-sending-an-email-from-android/18297516#18297516*\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<ol>\n<li>Do not use strictMode (only in debug mode)</li>\n<li>Do not change SDK version</li>\n<li>Do not use a separate thread</li>\n</ol>\n\n<p>Use Service or AsyncTask</p>\n\n<p>See also Stack&nbsp;Overflow question:</p>\n\n<p><em><a href=\"https://stackoverflow.com/questions/18297485/i-get-an-android-os-networkonmainthreadexception-sending-an-email-from-android/18297516#18297516\">android.os.NetworkOnMainThreadException sending an email from Android</a></em></p>\n"},{"tags":[],"owner":{"account_id":2850505,"reputation":541,"user_id":2447827,"display_name":"raihan ahmed"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1391963250,"creation_date":1378368994,"answer_id":18631130,"question_id":6343166,"body_markdown":"This happens in Android 3.0 and above. From Android 3.0 and above, they have restricted using network operations (functions that access the Internet) from running in the main thread/UI thread (what spawns from your on create and on resume methods in the activity).\r\n\r\nThis is to encourage using separate threads for network operations. See [AsyncTask][1] for more details on how to perform network activities the right way.\r\n\r\n  [1]: http://developer.android.com/reference/android/os/AsyncTask.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This happens in Android 3.0 and above. From Android 3.0 and above, they have restricted using network operations (functions that access the Internet) from running in the main thread/UI thread (what spawns from your on create and on resume methods in the activity).</p>\n\n<p>This is to encourage using separate threads for network operations. See <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\">AsyncTask</a> for more details on how to perform network activities the right way.</p>\n"},{"tags":[],"owner":{"account_id":1353945,"reputation":2005,"user_id":1292736,"display_name":"rharvey"},"down_vote_count":7,"up_vote_count":35,"is_accepted":false,"score":28,"last_activity_date":1466629648,"creation_date":1379420121,"answer_id":18849603,"question_id":6343166,"body_markdown":"For me it was this:\r\n\r\n    &lt;uses-sdk\r\n            android:minSdkVersion=&quot;8&quot;\r\n            android:targetSdkVersion=&quot;10&quot; /&gt;\r\n\r\nThe device I was testing my app on was 4.1.2 which is SDK Version 16!\r\n\r\nMake the sure the target version is the same as your Android Target Library. If you are unsure what your target library is, right click your Project -&gt; *Build Path* -&gt; *Android*, and it should be the one that is ticked.\r\n\r\nAlso, as others have mentioned, include the correct permissions to access the Internet:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>For me it was this:</p>\n\n<pre><code>&lt;uses-sdk\n        android:minSdkVersion=\"8\"\n        android:targetSdkVersion=\"10\" /&gt;\n</code></pre>\n\n<p>The device I was testing my app on was 4.1.2 which is SDK Version 16!</p>\n\n<p>Make the sure the target version is the same as your Android Target Library. If you are unsure what your target library is, right click your Project -> <em>Build Path</em> -> <em>Android</em>, and it should be the one that is ticked.</p>\n\n<p>Also, as others have mentioned, include the correct permissions to access the Internet:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2138049,"reputation":3881,"user_id":1897334,"accept_rate":45,"display_name":"henry4343"},"down_vote_count":2,"up_vote_count":98,"is_accepted":false,"score":96,"last_activity_date":1688560196,"creation_date":1387895588,"answer_id":20762621,"question_id":6343166,"body_markdown":"Do the network actions on another thread.\r\n\r\nFor example:\r\n\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // Do network action in this function\r\n        }\r\n    }).start();\r\n\r\nAnd add this to file *AndroidManifest.xml*:    \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Do the network actions on another thread.</p>\n<p>For example:</p>\n<pre><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        // Do network action in this function\n    }\n}).start();\n</code></pre>\n<p>And add this to file <em>AndroidManifest.xml</em>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1440434,"reputation":5505,"user_id":1360732,"display_name":"Kapil Vats"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1391963381,"creation_date":1388946518,"answer_id":20937422,"question_id":6343166,"body_markdown":"You should not do any time-consuming task on the main thread (UI thread), like any network operation, file I/O, or SQLite database operations. So for this kind of operation, you should create a worker thread, but the problem is that you can not directly perform any UI related operation from your worker thread. For that, you have to use `Handler` and pass the `Message`. \r\n\r\nTo simplify all these things, Android provides various ways, like `AsyncTask`, `AsyncTaskLoader`, `CursorLoader` or `IntentService`. So you can use any of these according to your requirements.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You should not do any time-consuming task on the main thread (UI thread), like any network operation, file I/O, or SQLite database operations. So for this kind of operation, you should create a worker thread, but the problem is that you can not directly perform any UI related operation from your worker thread. For that, you have to use <code>Handler</code> and pass the <code>Message</code>. </p>\n\n<p>To simplify all these things, Android provides various ways, like <code>AsyncTask</code>, <code>AsyncTaskLoader</code>, <code>CursorLoader</code> or <code>IntentService</code>. So you can use any of these according to your requirements.</p>\n"},{"tags":[],"owner":{"account_id":3765884,"reputation":1056,"user_id":3129443,"accept_rate":33,"display_name":"Dhruv Jindal"},"down_vote_count":4,"up_vote_count":68,"is_accepted":false,"score":64,"last_activity_date":1688560249,"creation_date":1389680053,"answer_id":21107128,"question_id":6343166,"body_markdown":"Network-based operations cannot be run on the main thread. You need to run all network-based tasks on a child thread or implement `AsyncTask`.\r\n\r\nThis is how you run a task in a child thread:\r\n\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Your implementation goes here\r\n            } \r\n            catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }).start();\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Network-based operations cannot be run on the main thread. You need to run all network-based tasks on a child thread or implement <code>AsyncTask</code>.</p>\n<p>This is how you run a task in a child thread:</p>\n<pre><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            // Your implementation goes here\n        } \n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":217502,"reputation":7997,"user_id":473338,"display_name":"Stevie"},"down_vote_count":2,"up_vote_count":197,"is_accepted":false,"score":195,"last_activity_date":1626950068,"creation_date":1390396652,"answer_id":21284021,"question_id":6343166,"body_markdown":"**The accepted answer has some significant downsides. It is not advisable to use AsyncTask for networking unless you _really_ know what you are doing. Some of the down-sides include:**\r\n\r\n * AsyncTask&#39;s created as non-static inner classes have an implicit reference to the enclosing Activity object, its context, and the entire View hierarchy created by that activity. This reference prevents the Activity from being garbage collected until the AsyncTask&#39;s background work completes. If the user&#39;s connection is slow, and/or the download is large, these short-term memory leaks can become a problem - for example, if the orientation changes several times (and you don&#39;t cancel the executing tasks), or the user navigates away from the Activity.\r\n * AsyncTask has different execution characteristics depending on the platform it executes on: prior to API level 4 AsyncTasks execute serially on a single background thread; from API level 4 through API level 10, AsyncTasks execute on a pool of up to 128 threads; from API level 11 onwards AsyncTask executes serially on a single background thread (unless you use the overloaded `executeOnExecutor` method and supply an alternative executor). Code that works fine when running serially on ICS may break when executed concurrently on Gingerbread, say if you have inadvertent order-of-execution dependencies.\r\n\r\nIf you want to avoid short-term memory leaks, have well-defined execution characteristics across all platforms, and have a base to build really robust network handling, you might want to consider:\r\n\r\n 1. Using a library that does a nice job of this for you - there&#39;s a nice comparison of networking libs in [this question][1], or\r\n 2. Using a `Service` or `IntentService` instead, perhaps with a `PendingIntent` to return the result via the Activity&#39;s `onActivityResult` method.\r\n\r\n*IntentService approach*\r\n--\r\n\r\nDownsides:\r\n\r\n * More code and complexity than `AsyncTask`, though not as much as you might think\r\n * Will queue requests and run them on a _single_ background thread. You can easily control this by replacing `IntentService` with an equivalent `Service` implementation, perhaps like [this one][2].\r\n * Um, I can&#39;t think of any others right now actually\r\n\r\nUpsides:\r\n\r\n * Avoids the short-term memory leak problem\r\n * If your activity restarts while network operations are in-flight it can still receive the result of the download via its `onActivityResult` method\r\n * A better platform than AsyncTask to build and reuse robust networking code. Example: if you need to do an important upload, you could do it from `AsyncTask` in an `Activity`, but if the user context-switches out of the app to take a phone call, the system _may_ kill the app before the upload completes. It is _less likely_ to kill an application with an active `Service`.\r\n * If you use your own concurrent version of `IntentService` (like the one I linked above) you can control the level of concurrency via the `Executor`.\r\n\r\n*Implementation summary*\r\n---\r\n\r\nYou can implement an `IntentService` to perform downloads on a single background thread quite easily.\r\n\r\nStep 1: Create an `IntentService` to perform the download. You can tell it what to download via `Intent` extras, and pass it a `PendingIntent` to use to return the result to the `Activity`:\r\n\r\n    import android.app.IntentService;\r\n    import android.app.PendingIntent;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n\r\n    public class DownloadIntentService extends IntentService {\r\n\r\n        private static final String TAG = DownloadIntentService.class.getSimpleName();\r\n\r\n        public static final String PENDING_RESULT_EXTRA = &quot;pending_result&quot;;\r\n        public static final String URL_EXTRA = &quot;url&quot;;\r\n        public static final String RSS_RESULT_EXTRA = &quot;url&quot;;\r\n\r\n        public static final int RESULT_CODE = 0;\r\n        public static final int INVALID_URL_CODE = 1;\r\n        public static final int ERROR_CODE = 2;\r\n\r\n        private IllustrativeRSSParser parser;\r\n\r\n        public DownloadIntentService() {\r\n            super(TAG);\r\n\r\n            // make one and reuse, in the case where more than one intent is queued\r\n            parser = new IllustrativeRSSParser();\r\n        }\r\n\r\n        @Override\r\n        protected void onHandleIntent(Intent intent) {\r\n            PendingIntent reply = intent.getParcelableExtra(PENDING_RESULT_EXTRA);\r\n            InputStream in = null;\r\n            try {\r\n                try {\r\n                    URL url = new URL(intent.getStringExtra(URL_EXTRA));\r\n                    IllustrativeRSS rss = parser.parse(in = url.openStream());\r\n\r\n                    Intent result = new Intent();\r\n                    result.putExtra(RSS_RESULT_EXTRA, rss);\r\n\r\n                    reply.send(this, RESULT_CODE, result);\r\n                } catch (MalformedURLException exc) {\r\n                    reply.send(INVALID_URL_CODE);\r\n                } catch (Exception exc) {\r\n                    // could do better by treating the different sax/xml exceptions individually\r\n                    reply.send(ERROR_CODE);\r\n                }\r\n            } catch (PendingIntent.CanceledException exc) {\r\n                Log.i(TAG, &quot;reply cancelled&quot;, exc);\r\n            }\r\n        }\r\n    }\r\n\r\nStep 2: Register the service in the manifest:\r\n\r\n    &lt;service\r\n            android:name=&quot;.DownloadIntentService&quot;\r\n            android:exported=&quot;false&quot;/&gt;\r\n\r\nStep 3: Invoke the service from the Activity, passing a PendingResult object which the Service will use to return the result:\r\n\r\n    PendingIntent pendingResult = createPendingResult(\r\n        RSS_DOWNLOAD_REQUEST_CODE, new Intent(), 0);\r\n    Intent intent = new Intent(getApplicationContext(), DownloadIntentService.class);\r\n    intent.putExtra(DownloadIntentService.URL_EXTRA, URL);\r\n    intent.putExtra(DownloadIntentService.PENDING_RESULT_EXTRA, pendingResult);\r\n    startService(intent);\r\n\r\nStep 4: Handle the result in onActivityResult:\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == RSS_DOWNLOAD_REQUEST_CODE) {\r\n            switch (resultCode) {\r\n                case DownloadIntentService.INVALID_URL_CODE:\r\n                    handleInvalidURL();\r\n                    break;\r\n                case DownloadIntentService.ERROR_CODE:\r\n                    handleError(data);\r\n                    break;\r\n                case DownloadIntentService.RESULT_CODE:\r\n                    handleRSS(data);\r\n                    break;\r\n            }\r\n            handleRSS(data);\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\nA GitHub project containing a complete working Android Studio/[Gradle][3] project is available [here][4].\r\n\r\n  [1]: https://stackoverflow.com/questions/16902716/comparison-of-android-networking-libraries-okhttp-retrofit-volley\r\n  [2]: https://github.com/steveliles/AsyncAndroid/blob/master/AsyncAndroid/src/main/java/com/packt/asyncandroid/chapter6/ConcurrentIntentService.java\r\n  [3]: https://en.wikipedia.org/wiki/Gradle\r\n  [4]: https://github.com/steveliles/Android-Download-Service-Example\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>The accepted answer has some significant downsides. It is not advisable to use AsyncTask for networking unless you <em>really</em> know what you are doing. Some of the down-sides include:</strong></p>\n<ul>\n<li>AsyncTask's created as non-static inner classes have an implicit reference to the enclosing Activity object, its context, and the entire View hierarchy created by that activity. This reference prevents the Activity from being garbage collected until the AsyncTask's background work completes. If the user's connection is slow, and/or the download is large, these short-term memory leaks can become a problem - for example, if the orientation changes several times (and you don't cancel the executing tasks), or the user navigates away from the Activity.</li>\n<li>AsyncTask has different execution characteristics depending on the platform it executes on: prior to API level 4 AsyncTasks execute serially on a single background thread; from API level 4 through API level 10, AsyncTasks execute on a pool of up to 128 threads; from API level 11 onwards AsyncTask executes serially on a single background thread (unless you use the overloaded <code>executeOnExecutor</code> method and supply an alternative executor). Code that works fine when running serially on ICS may break when executed concurrently on Gingerbread, say if you have inadvertent order-of-execution dependencies.</li>\n</ul>\n<p>If you want to avoid short-term memory leaks, have well-defined execution characteristics across all platforms, and have a base to build really robust network handling, you might want to consider:</p>\n<ol>\n<li>Using a library that does a nice job of this for you - there's a nice comparison of networking libs in <a href=\"https://stackoverflow.com/questions/16902716/comparison-of-android-networking-libraries-okhttp-retrofit-volley\">this question</a>, or</li>\n<li>Using a <code>Service</code> or <code>IntentService</code> instead, perhaps with a <code>PendingIntent</code> to return the result via the Activity's <code>onActivityResult</code> method.</li>\n</ol>\n<h2 id=\"intentservice-approach\"><em>IntentService approach</em></h2>\n<p>Downsides:</p>\n<ul>\n<li>More code and complexity than <code>AsyncTask</code>, though not as much as you might think</li>\n<li>Will queue requests and run them on a <em>single</em> background thread. You can easily control this by replacing <code>IntentService</code> with an equivalent <code>Service</code> implementation, perhaps like <a href=\"https://github.com/steveliles/AsyncAndroid/blob/master/AsyncAndroid/src/main/java/com/packt/asyncandroid/chapter6/ConcurrentIntentService.java\" rel=\"noreferrer\">this one</a>.</li>\n<li>Um, I can't think of any others right now actually</li>\n</ul>\n<p>Upsides:</p>\n<ul>\n<li>Avoids the short-term memory leak problem</li>\n<li>If your activity restarts while network operations are in-flight it can still receive the result of the download via its <code>onActivityResult</code> method</li>\n<li>A better platform than AsyncTask to build and reuse robust networking code. Example: if you need to do an important upload, you could do it from <code>AsyncTask</code> in an <code>Activity</code>, but if the user context-switches out of the app to take a phone call, the system <em>may</em> kill the app before the upload completes. It is <em>less likely</em> to kill an application with an active <code>Service</code>.</li>\n<li>If you use your own concurrent version of <code>IntentService</code> (like the one I linked above) you can control the level of concurrency via the <code>Executor</code>.</li>\n</ul>\n<h2 id=\"implementation-summary\"><em>Implementation summary</em></h2>\n<p>You can implement an <code>IntentService</code> to perform downloads on a single background thread quite easily.</p>\n<p>Step 1: Create an <code>IntentService</code> to perform the download. You can tell it what to download via <code>Intent</code> extras, and pass it a <code>PendingIntent</code> to use to return the result to the <code>Activity</code>:</p>\n<pre><code>import android.app.IntentService;\nimport android.app.PendingIntent;\nimport android.content.Intent;\nimport android.util.Log;\n\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class DownloadIntentService extends IntentService {\n\n    private static final String TAG = DownloadIntentService.class.getSimpleName();\n\n    public static final String PENDING_RESULT_EXTRA = &quot;pending_result&quot;;\n    public static final String URL_EXTRA = &quot;url&quot;;\n    public static final String RSS_RESULT_EXTRA = &quot;url&quot;;\n\n    public static final int RESULT_CODE = 0;\n    public static final int INVALID_URL_CODE = 1;\n    public static final int ERROR_CODE = 2;\n\n    private IllustrativeRSSParser parser;\n\n    public DownloadIntentService() {\n        super(TAG);\n\n        // make one and reuse, in the case where more than one intent is queued\n        parser = new IllustrativeRSSParser();\n    }\n\n    @Override\n    protected void onHandleIntent(Intent intent) {\n        PendingIntent reply = intent.getParcelableExtra(PENDING_RESULT_EXTRA);\n        InputStream in = null;\n        try {\n            try {\n                URL url = new URL(intent.getStringExtra(URL_EXTRA));\n                IllustrativeRSS rss = parser.parse(in = url.openStream());\n\n                Intent result = new Intent();\n                result.putExtra(RSS_RESULT_EXTRA, rss);\n\n                reply.send(this, RESULT_CODE, result);\n            } catch (MalformedURLException exc) {\n                reply.send(INVALID_URL_CODE);\n            } catch (Exception exc) {\n                // could do better by treating the different sax/xml exceptions individually\n                reply.send(ERROR_CODE);\n            }\n        } catch (PendingIntent.CanceledException exc) {\n            Log.i(TAG, &quot;reply cancelled&quot;, exc);\n        }\n    }\n}\n</code></pre>\n<p>Step 2: Register the service in the manifest:</p>\n<pre><code>&lt;service\n        android:name=&quot;.DownloadIntentService&quot;\n        android:exported=&quot;false&quot;/&gt;\n</code></pre>\n<p>Step 3: Invoke the service from the Activity, passing a PendingResult object which the Service will use to return the result:</p>\n<pre><code>PendingIntent pendingResult = createPendingResult(\n    RSS_DOWNLOAD_REQUEST_CODE, new Intent(), 0);\nIntent intent = new Intent(getApplicationContext(), DownloadIntentService.class);\nintent.putExtra(DownloadIntentService.URL_EXTRA, URL);\nintent.putExtra(DownloadIntentService.PENDING_RESULT_EXTRA, pendingResult);\nstartService(intent);\n</code></pre>\n<p>Step 4: Handle the result in onActivityResult:</p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == RSS_DOWNLOAD_REQUEST_CODE) {\n        switch (resultCode) {\n            case DownloadIntentService.INVALID_URL_CODE:\n                handleInvalidURL();\n                break;\n            case DownloadIntentService.ERROR_CODE:\n                handleError(data);\n                break;\n            case DownloadIntentService.RESULT_CODE:\n                handleRSS(data);\n                break;\n        }\n        handleRSS(data);\n    }\n    super.onActivityResult(requestCode, resultCode, data);\n}\n</code></pre>\n<p>A GitHub project containing a complete working Android Studio/<a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"noreferrer\">Gradle</a> project is available <a href=\"https://github.com/steveliles/Android-Download-Service-Example\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":185571,"reputation":846,"user_id":1837505,"accept_rate":0,"display_name":"perry"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1678288551,"creation_date":1393309431,"answer_id":22006259,"question_id":6343166,"body_markdown":"&gt; This is only thrown for applications targeting the [Honeycomb][1] SDK or higher. Applications targeting earlier SDK versions are allowed to do networking on their main event loop threads.\r\n\r\n[The error is the SDK warning!][2]\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\r\n  [2]: http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<blockquote>\n<p>This is only thrown for applications targeting the <a href=\"http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\" rel=\"nofollow noreferrer\">Honeycomb</a> SDK or higher. Applications targeting earlier SDK versions are allowed to do networking on their main event loop threads.</p>\n</blockquote>\n<p><a href=\"http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\" rel=\"nofollow noreferrer\">The error is the SDK warning!</a></p>\n"},{"tags":[],"owner":{"account_id":3702180,"reputation":467,"user_id":3081554,"accept_rate":100,"display_name":"dhiraj kakran"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1543838844,"creation_date":1393681439,"answer_id":22115167,"question_id":6343166,"body_markdown":"**Use this in Your Activity**\r\n\r\n\t\tbtnsub.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\tnew Thread(new Runnable() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t\t\t\t//Initialize soap request + add parameters\r\n\t\t\t\t\t\tSoapObject request = new SoapObject(NAMESPACE, METHOD_NAME1);\r\n\r\n\t\t\t\t\t\t//Use this to add parameters\r\n\t\t\t\t\t\trequest.addProperty(&quot;pincode&quot;, txtpincode.getText().toString());\r\n\t\t\t\t\t\trequest.addProperty(&quot;bg&quot;, bloodgroup.getSelectedItem().toString());\r\n\r\n\t\t\t\t\t\t//Declare the version of the SOAP request\r\n\t\t\t\t\t\tSoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n\r\n\t\t\t\t\t\tenvelope.setOutputSoapObject(request);\r\n\t\t\t\t\t\tenvelope.dotNet = true;\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tHttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\r\n\r\n\t\t\t\t\t\t\t//this is the actual part that will call the webservice\r\n\t\t\t\t\t\t\tandroidHttpTransport.call(SOAP_ACTION1, envelope);\r\n\r\n\t\t\t\t\t\t\t// Get the SoapResult from the envelope body.\r\n\t\t\t\t\t\t\tSoapObject result = (SoapObject) envelope.getResponse();\r\n\t\t\t\t\t\t\tLog.e(&quot;result data&quot;, &quot;data&quot; + result);\r\n\t\t\t\t\t\t\tSoapObject root = (SoapObject) result.getProperty(0);\r\n\t\t\t\t\t\t\t// SoapObject s_deals = (SoapObject) root.getProperty(0);\r\n\t\t\t\t\t\t\t// SoapObject s_deals_1 = (SoapObject) s_deals.getProperty(0);\r\n\t\t\t\t\t\t\t//\r\n\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;********Count : &quot; + root.getPropertyCount());\r\n\r\n\t\t\t\t\t\t\tvalue = new ArrayList&lt;Detailinfo&gt;();\r\n\r\n\t\t\t\t\t\t\tfor (int i = 0; i &lt; root.getPropertyCount(); i++) {\r\n\t\t\t\t\t\t\t\tSoapObject s_deals = (SoapObject) root.getProperty(i);\r\n\t\t\t\t\t\t\t\tDetailinfo info = new Detailinfo();\r\n\r\n\t\t\t\t\t\t\t\tinfo.setFirstName(s_deals.getProperty(&quot;Firstname&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setLastName(s_deals.getProperty(&quot;Lastname&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setDOB(s_deals.getProperty(&quot;DOB&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setGender(s_deals.getProperty(&quot;Gender&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setAddress(s_deals.getProperty(&quot;Address&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setCity(s_deals.getProperty(&quot;City&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setState(s_deals.getProperty(&quot;State&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setPinecode(s_deals.getProperty(&quot;Pinecode&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setMobile(s_deals.getProperty(&quot;Mobile&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setEmail(s_deals.getProperty(&quot;Email&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setBloodgroup(s_deals.getProperty(&quot;Bloodgroup&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setAdddate(s_deals.getProperty(&quot;Adddate&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setWaight(s_deals.getProperty(&quot;waight&quot;).toString());\r\n\t\t\t\t\t\t\t\tvalue.add(info);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tIntent intent = new Intent(getApplicationContext(), ComposeMail.class);\r\n\t\t\t\t\t\t//intent.putParcelableArrayListExtra(&quot;valuesList&quot;, value);\r\n\r\n\t\t\t\t\t\tstartActivity(intent);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).start();\r\n\t\t\t}\r\n\t\t});\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>Use this in Your Activity</strong></p>\n\n<pre><code>    btnsub.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            new Thread(new Runnable() {\n\n                @Override\n                public void run() {\n                    // TODO Auto-generated method stub\n\n                    //Initialize soap request + add parameters\n                    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME1);\n\n                    //Use this to add parameters\n                    request.addProperty(\"pincode\", txtpincode.getText().toString());\n                    request.addProperty(\"bg\", bloodgroup.getSelectedItem().toString());\n\n                    //Declare the version of the SOAP request\n                    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n\n                    envelope.setOutputSoapObject(request);\n                    envelope.dotNet = true;\n\n                    try {\n                        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\n\n                        //this is the actual part that will call the webservice\n                        androidHttpTransport.call(SOAP_ACTION1, envelope);\n\n                        // Get the SoapResult from the envelope body.\n                        SoapObject result = (SoapObject) envelope.getResponse();\n                        Log.e(\"result data\", \"data\" + result);\n                        SoapObject root = (SoapObject) result.getProperty(0);\n                        // SoapObject s_deals = (SoapObject) root.getProperty(0);\n                        // SoapObject s_deals_1 = (SoapObject) s_deals.getProperty(0);\n                        //\n\n                        System.out.println(\"********Count : \" + root.getPropertyCount());\n\n                        value = new ArrayList&lt;Detailinfo&gt;();\n\n                        for (int i = 0; i &lt; root.getPropertyCount(); i++) {\n                            SoapObject s_deals = (SoapObject) root.getProperty(i);\n                            Detailinfo info = new Detailinfo();\n\n                            info.setFirstName(s_deals.getProperty(\"Firstname\").toString());\n                            info.setLastName(s_deals.getProperty(\"Lastname\").toString());\n                            info.setDOB(s_deals.getProperty(\"DOB\").toString());\n                            info.setGender(s_deals.getProperty(\"Gender\").toString());\n                            info.setAddress(s_deals.getProperty(\"Address\").toString());\n                            info.setCity(s_deals.getProperty(\"City\").toString());\n                            info.setState(s_deals.getProperty(\"State\").toString());\n                            info.setPinecode(s_deals.getProperty(\"Pinecode\").toString());\n                            info.setMobile(s_deals.getProperty(\"Mobile\").toString());\n                            info.setEmail(s_deals.getProperty(\"Email\").toString());\n                            info.setBloodgroup(s_deals.getProperty(\"Bloodgroup\").toString());\n                            info.setAdddate(s_deals.getProperty(\"Adddate\").toString());\n                            info.setWaight(s_deals.getProperty(\"waight\").toString());\n                            value.add(info);\n                        }\n\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                    Intent intent = new Intent(getApplicationContext(), ComposeMail.class);\n                    //intent.putParcelableArrayListExtra(\"valuesList\", value);\n\n                    startActivity(intent);\n                }\n            }).start();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1450228,"reputation":38149,"user_id":1367392,"accept_rate":89,"display_name":"Oleksiy"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1430412371,"creation_date":1402542654,"answer_id":24175886,"question_id":6343166,"body_markdown":"Using [Android Annotations][1] is an option. It will allow you to simply run any method in a background thread:\r\n\r\n    // normal method\r\n    private void normal() {\r\n        doSomething(); // do something in background\r\n    }\r\n\r\n    @Background\r\n    protected void doSomething() \r\n        // run your networking code here\r\n    }\r\n\r\n  [1]: http://androidannotations.org/\r\n\r\nNote, that although it provides benefits of simplicity and readability, it has its disadvantages. ","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Using <a href=\"http://androidannotations.org/\" rel=\"noreferrer\">Android Annotations</a> is an option. It will allow you to simply run any method in a background thread:</p>\n\n<pre><code>// normal method\nprivate void normal() {\n    doSomething(); // do something in background\n}\n\n@Background\nprotected void doSomething() \n    // run your networking code here\n}\n</code></pre>\n\n<p>Note, that although it provides benefits of simplicity and readability, it has its disadvantages. </p>\n"},{"tags":[],"owner":{"account_id":1100158,"reputation":4717,"user_id":1092746,"accept_rate":58,"display_name":"Novak"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1403645573,"creation_date":1403645573,"answer_id":24396701,"question_id":6343166,"body_markdown":"Just to spell out something explicitly:\r\n\r\nThe main thread is basically the UI thread.\r\n\r\nSo saying that you cannot do networking operations in the main thread means you cannot do networking operations in the UI thread, which means *you cannot do networking operations in a `*runOnUiThread(new Runnable() { ... }*` block* inside some other thread, either.\r\n\r\n(I just had a long head-scratching moment trying to figure out why I was getting that error somewhere other than my main thread.  This was why; this thread helped; and hopefully this comment will help someone else.)","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Just to spell out something explicitly:</p>\n\n<p>The main thread is basically the UI thread.</p>\n\n<p>So saying that you cannot do networking operations in the main thread means you cannot do networking operations in the UI thread, which means <em>you cannot do networking operations in a <code>*runOnUiThread(new Runnable() { ... }*</code> block</em> inside some other thread, either.</p>\n\n<p>(I just had a long head-scratching moment trying to figure out why I was getting that error somewhere other than my main thread.  This was why; this thread helped; and hopefully this comment will help someone else.)</p>\n"},{"tags":[],"owner":{"account_id":3288315,"reputation":3633,"user_id":2767181,"accept_rate":80,"display_name":"Ashwin S Ashok"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1504759987,"creation_date":1405490977,"answer_id":24773389,"question_id":6343166,"body_markdown":"The error is due to executing long running operations in main thread,You can easily rectify the problem by using [AsynTask][1] or [Thread][2]. You can checkout this library [AsyncHTTPClient][3] for better handling. \r\n\r\n    AsyncHttpClient client = new AsyncHttpClient();\r\n    client.get(&quot;http://www.google.com&quot;, new AsyncHttpResponseHandler() {\r\n\r\n        @Override\r\n        public void onStart() {\r\n            // Called before a request is started\r\n        }\r\n\r\n        @Override\r\n        public void onSuccess(int statusCode, Header[] headers, byte[] response) {\r\n            // Called when response HTTP status is &quot;200 OK&quot;\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(int statusCode, Header[] headers, byte[] errorResponse, Throwable e) {\r\n            // Called when response HTTP status is &quot;4XX&quot; (for example, 401, 403, 404)\r\n        }\r\n\r\n        @Override\r\n        public void onRetry(int retryNo) {\r\n            // Called when request is retried\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: https://developer.android.com/reference/java/lang/Thread.html\r\n  [3]: http://loopj.com/android-async-http/","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The error is due to executing long running operations in main thread,You can easily rectify the problem by using <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"noreferrer\">AsynTask</a> or <a href=\"https://developer.android.com/reference/java/lang/Thread.html\" rel=\"noreferrer\">Thread</a>. You can checkout this library <a href=\"http://loopj.com/android-async-http/\" rel=\"noreferrer\">AsyncHTTPClient</a> for better handling. </p>\n\n<pre><code>AsyncHttpClient client = new AsyncHttpClient();\nclient.get(\"http://www.google.com\", new AsyncHttpResponseHandler() {\n\n    @Override\n    public void onStart() {\n        // Called before a request is started\n    }\n\n    @Override\n    public void onSuccess(int statusCode, Header[] headers, byte[] response) {\n        // Called when response HTTP status is \"200 OK\"\n    }\n\n    @Override\n    public void onFailure(int statusCode, Header[] headers, byte[] errorResponse, Throwable e) {\n        // Called when response HTTP status is \"4XX\" (for example, 401, 403, 404)\n    }\n\n    @Override\n    public void onRetry(int retryNo) {\n        // Called when request is retried\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2534232,"reputation":492,"user_id":2201778,"accept_rate":43,"display_name":"amardeep"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1466629956,"creation_date":1405943600,"answer_id":24864462,"question_id":6343166,"body_markdown":"This exception occurs due to any heavy task performed on the main thread if that performing task takes *too much time*.\r\n\r\nTo avoid this, we can handle it using **threads** or **executers**\r\n\r\n    Executors.newSingleThreadExecutor().submit(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // You can perform your task here.\r\n        }\r\n    });\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This exception occurs due to any heavy task performed on the main thread if that performing task takes <em>too much time</em>.</p>\n\n<p>To avoid this, we can handle it using <strong>threads</strong> or <strong>executers</strong></p>\n\n<pre><code>Executors.newSingleThreadExecutor().submit(new Runnable() {\n    @Override\n    public void run() {\n        // You can perform your task here.\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3766062,"reputation":5113,"user_id":3129572,"display_name":"Vaishali Sutariya"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1688560283,"creation_date":1406544193,"answer_id":24993517,"question_id":6343166,"body_markdown":"Put your code inside:\r\n\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Your implementation\r\n            }\r\n            catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }).start();\r\n\r\nOr:\r\n\r\n    class DemoTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n        protected Void doInBackground(Void... arg0) {\r\n            // Your implementation\r\n        }\r\n\r\n        protected void onPostExecute(Void result) {\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Put your code inside:</p>\n<pre><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            // Your implementation\n        }\n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}).start();\n</code></pre>\n<p>Or:</p>\n<pre><code>class DemoTask extends AsyncTask&lt;Void, Void, Void&gt; {\n\n    protected Void doInBackground(Void... arg0) {\n        // Your implementation\n    }\n\n    protected void onPostExecute(Void result) {\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2678073,"reputation":151,"user_id":2313968,"display_name":"Kumarsunil"},"down_vote_count":10,"up_vote_count":5,"is_accepted":false,"score":-5,"last_activity_date":1466630171,"creation_date":1418357541,"answer_id":27436728,"question_id":6343166,"body_markdown":"Android does not allow a separate process into the main activity thread, and the HTTP connection is an independent thread here. That is the reason you are getting the &quot;**android.os.NetworkOnMainThreadException**&quot;.\r\n\r\nThere can be a need where you want to check the actual Internet connection before showing webview to the user, because if there is not Internet the web view will show the *page not found* error to the user, which normally you don&#39;t what to show.\r\n\r\nFor checking Internet availability, the ping command can be used, but in case of Wi-Fi pinging can be disabled at the Wi-Fi server, so in this case you use an HTTP connection to check the status of the request.\r\n\r\nThis can be the right approach if you are checking your own webview URL link before showing a webview to the user. In this case, you can use the strict mode of Android, but don&#39;t permit all the policy because you don&#39;t need it.\r\n\r\nYou should only give network allow policy for the strict mode. Just add the below line into your code, and you will not get this error.\r\n\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitNetwork().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Android does not allow a separate process into the main activity thread, and the HTTP connection is an independent thread here. That is the reason you are getting the \"<strong>android.os.NetworkOnMainThreadException</strong>\".</p>\n\n<p>There can be a need where you want to check the actual Internet connection before showing webview to the user, because if there is not Internet the web view will show the <em>page not found</em> error to the user, which normally you don't what to show.</p>\n\n<p>For checking Internet availability, the ping command can be used, but in case of Wi-Fi pinging can be disabled at the Wi-Fi server, so in this case you use an HTTP connection to check the status of the request.</p>\n\n<p>This can be the right approach if you are checking your own webview URL link before showing a webview to the user. In this case, you can use the strict mode of Android, but don't permit all the policy because you don't need it.</p>\n\n<p>You should only give network allow policy for the strict mode. Just add the below line into your code, and you will not get this error.</p>\n\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitNetwork().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3225424,"reputation":5687,"user_id":2721917,"accept_rate":57,"display_name":"Subhalaxmi"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1466630234,"creation_date":1419149867,"answer_id":27587768,"question_id":6343166,"body_markdown":"I solved this problem in a simple way...\r\n\r\nI added after `oncreate` `StrictMode.enableDefaults();` and solved this.\r\n\r\nOr\r\n\r\nuse `Service` or `AsyncTask` to solve this\r\n\r\nNote:\r\n\r\n    Do not change SDK version\r\n    Do not use a separate thread\r\n\r\nFor more, [check this][1].\r\n\r\n  [1]: http://sevennet.org/2014/11/21/how-to-android-os-networkonmainthreadexception/\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I solved this problem in a simple way...</p>\n\n<p>I added after <code>oncreate</code> <code>StrictMode.enableDefaults();</code> and solved this.</p>\n\n<p>Or</p>\n\n<p>use <code>Service</code> or <code>AsyncTask</code> to solve this</p>\n\n<p>Note:</p>\n\n<pre><code>Do not change SDK version\nDo not use a separate thread\n</code></pre>\n\n<p>For more, <a href=\"http://sevennet.org/2014/11/21/how-to-android-os-networkonmainthreadexception/\" rel=\"nofollow\">check this</a>.</p>\n"},{"tags":[],"owner":{"account_id":3796533,"reputation":123,"user_id":3151440,"accept_rate":100,"display_name":"Gurpreet singh"},"down_vote_count":8,"up_vote_count":5,"is_accepted":false,"score":-3,"last_activity_date":1466630411,"creation_date":1422352603,"answer_id":28167574,"question_id":6343166,"body_markdown":"Use the below code to perform heavy tasks.\r\n\r\n    // Your package here\r\n\r\n\r\n    import java.util.List;\r\n    import org.apache.http.NameValuePair;\r\n\r\n    import android.app.Activity;\r\n    import android.app.ProgressDialog;\r\n    import android.content.Context;\r\n    import android.os.AsyncTask;\r\n    import android.view.View.OnSystemUiVisibilityChangeListener;\r\n\r\n    public class AsyncRequest extends AsyncTask&lt;String, Integer, String&gt; {\r\n\r\n        Context context;\r\n        ProgressDialog pDialog;\r\n\r\n        // Three Constructors\r\n        public AsyncRequest(Activity a, String m, List&lt;NameValuePair&gt; p) {\r\n            context = a;\r\n            method = m;\r\n            parameters = p;\r\n        }\r\n\r\n        public AsyncRequest(Activity a) {\r\n            this.caller = (OnAsyncRequestComplete) a;\r\n            context = a;\r\n        }\r\n\r\n        public String doInBackground(String... urls) {\r\n\r\n            //Perform your task here\r\n            return result;\r\n        }\r\n\r\n        public void onPreExecute() {\r\n            pDialog = new ProgressDialog(context);\r\n            pDialog.setMessage(&quot;Please wait..&quot;);\r\n            pDialog.setCancelable(false);\r\n            pDialog.show();\r\n        }\r\n\r\n        public void onProgressUpdate(Integer... progress) {\r\n            // You can implement some progressBar and update it in this record.\r\n            //   setProgressPercent(progress[0]);\r\n        }\r\n\r\n        public void onPostExecute(String response) {\r\n            if (pDialog != null &amp;&amp; pDialog.isShowing()) {\r\n                pDialog.dismiss();\r\n            }\r\n            // Get the result here\r\n        }\r\n\r\n        protected void onCancelled(String response) {\r\n\r\n            if (pDialog != null &amp;&amp; pDialog.isShowing()) {\r\n                pDialog.dismiss();\r\n            }\r\n        }\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Use the below code to perform heavy tasks.</p>\n\n<pre><code>// Your package here\n\n\nimport java.util.List;\nimport org.apache.http.NameValuePair;\n\nimport android.app.Activity;\nimport android.app.ProgressDialog;\nimport android.content.Context;\nimport android.os.AsyncTask;\nimport android.view.View.OnSystemUiVisibilityChangeListener;\n\npublic class AsyncRequest extends AsyncTask&lt;String, Integer, String&gt; {\n\n    Context context;\n    ProgressDialog pDialog;\n\n    // Three Constructors\n    public AsyncRequest(Activity a, String m, List&lt;NameValuePair&gt; p) {\n        context = a;\n        method = m;\n        parameters = p;\n    }\n\n    public AsyncRequest(Activity a) {\n        this.caller = (OnAsyncRequestComplete) a;\n        context = a;\n    }\n\n    public String doInBackground(String... urls) {\n\n        //Perform your task here\n        return result;\n    }\n\n    public void onPreExecute() {\n        pDialog = new ProgressDialog(context);\n        pDialog.setMessage(\"Please wait..\");\n        pDialog.setCancelable(false);\n        pDialog.show();\n    }\n\n    public void onProgressUpdate(Integer... progress) {\n        // You can implement some progressBar and update it in this record.\n        //   setProgressPercent(progress[0]);\n    }\n\n    public void onPostExecute(String response) {\n        if (pDialog != null &amp;&amp; pDialog.isShowing()) {\n            pDialog.dismiss();\n        }\n        // Get the result here\n    }\n\n    protected void onCancelled(String response) {\n\n        if (pDialog != null &amp;&amp; pDialog.isShowing()) {\n            pDialog.dismiss();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3283174,"reputation":3350,"user_id":2763256,"accept_rate":86,"display_name":"Kacy"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1626976468,"creation_date":1423869017,"answer_id":28510296,"question_id":6343166,"body_markdown":"This works. I just made [Dr.Luiji&#39;s answer][1] a little simpler.\r\n\r\n    new Thread() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                //Your code goes here\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }.start();\r\n\r\n  [1]: https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/14443056#14443056\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This works. I just made <a href=\"https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/14443056#14443056\">Dr.Luiji's answer</a> a little simpler.</p>\n<pre><code>new Thread() {\n    @Override\n    public void run() {\n        try {\n            //Your code goes here\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2597730,"reputation":2015,"user_id":2251011,"accept_rate":50,"display_name":"msysmilu"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1424169091,"creation_date":1424169091,"answer_id":28559884,"question_id":6343166,"body_markdown":"Although above there is a huge solution pool, no one mentioned `com.koushikdutta.ion`: https://github.com/koush/ion\r\n\r\nIt&#39;s also **asynchronous** and **very simple** to use:\r\n\r\n\r\n    Ion.with(context)\r\n    .load(&quot;http://example.com/thing.json&quot;)\r\n    .asJsonObject()\r\n    .setCallback(new FutureCallback&lt;JsonObject&gt;() {\r\n       @Override\r\n        public void onCompleted(Exception e, JsonObject result) {\r\n            // do stuff with the result or error\r\n        }\r\n    });","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Although above there is a huge solution pool, no one mentioned <code>com.koushikdutta.ion</code>: <a href=\"https://github.com/koush/ion\" rel=\"noreferrer\">https://github.com/koush/ion</a></p>\n\n<p>It's also <strong>asynchronous</strong> and <strong>very simple</strong> to use:</p>\n\n<pre><code>Ion.with(context)\n.load(\"http://example.com/thing.json\")\n.asJsonObject()\n.setCallback(new FutureCallback&lt;JsonObject&gt;() {\n   @Override\n    public void onCompleted(Exception e, JsonObject result) {\n        // do stuff with the result or error\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4064618,"reputation":1215,"user_id":3340034,"display_name":"prat3ik-patel"},"down_vote_count":12,"up_vote_count":9,"is_accepted":false,"score":-3,"last_activity_date":1626978808,"creation_date":1424929477,"answer_id":28735304,"question_id":6343166,"body_markdown":"You have to simply add the following line in file *manifest.xml* after the manifest tag\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nAnd in the activity file, add the following code after the binding statement:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You have to simply add the following line in file <em>manifest.xml</em> after the manifest tag</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p>And in the activity file, add the following code after the binding statement:</p>\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355715,"reputation":8016,"user_id":1294150,"accept_rate":24,"display_name":"Ponsuyambu"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1466847171,"creation_date":1435218179,"answer_id":31044168,"question_id":6343166,"body_markdown":"On Android, network operations cannot be run on the main thread. You can use Thread, AsyncTask (short-running tasks), Service (long-running tasks) to do network operations.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>On Android, network operations cannot be run on the main thread. You can use Thread, AsyncTask (short-running tasks), Service (long-running tasks) to do network operations.</p>\n"},{"tags":[],"owner":{"account_id":3292987,"reputation":11366,"user_id":2770850,"accept_rate":85,"display_name":"Nabin"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1626975431,"creation_date":1437530744,"answer_id":31552681,"question_id":6343166,"body_markdown":"In simple words,\r\n\r\n***Do not do network work in the UI thread***\r\n\r\nFor example, if you do an HTTP request, that is a network action.\r\n\r\n**Solution:**\r\n\r\n 1. You have to create a new Thread\r\n 2. **Or** use the [AsyncTask class][1]\r\n\r\n**Way:**\r\n\r\nPut all your works inside\r\n\r\n 1. The `run()` method of the new thread\r\n 2. **Or** the `doInBackground()` method of the AsyncTask class.\r\n\r\n**But:**\r\n\r\nWhen you get something from a network response and want to show it on your view (like display response message in TextView), you need to **return back to the UI** thread.\r\n\r\nIf you don&#39;t do it, you will get `ViewRootImpl$CalledFromWrongThreadException`.\r\n\r\n**How-to**\r\n\r\n 1. While using AsyncTask, update the view from the `onPostExecute()` method\r\n 2. **Or** call the [`runOnUiThread()`][2] method and update the view inside the `run()` method.\r\n\r\n  [1]: https://www.google.com.np/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CB0QFjAAahUKEwjgivqS0-3GAhUGOJQKHV_YD84&amp;url=http%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fos%2FAsyncTask.html&amp;ei=RfquVaDUPIbw0ATfsL_wDA&amp;usg=AFQjCNE8gLVXz1Hwq4rI8oxRkZNHjhRzpQ&amp;sig2=qTI0AgoyYUXyDwHFQup9sw\r\n  [2]: https://stackoverflow.com/questions/11140285/how-to-use-runonuithread\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>In simple words,</p>\n<p><em><strong>Do not do network work in the UI thread</strong></em></p>\n<p>For example, if you do an HTTP request, that is a network action.</p>\n<p><strong>Solution:</strong></p>\n<ol>\n<li>You have to create a new Thread</li>\n<li><strong>Or</strong> use the <a href=\"https://www.google.com.np/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CB0QFjAAahUKEwjgivqS0-3GAhUGOJQKHV_YD84&amp;url=http%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fos%2FAsyncTask.html&amp;ei=RfquVaDUPIbw0ATfsL_wDA&amp;usg=AFQjCNE8gLVXz1Hwq4rI8oxRkZNHjhRzpQ&amp;sig2=qTI0AgoyYUXyDwHFQup9sw\" rel=\"nofollow noreferrer\">AsyncTask class</a></li>\n</ol>\n<p><strong>Way:</strong></p>\n<p>Put all your works inside</p>\n<ol>\n<li>The <code>run()</code> method of the new thread</li>\n<li><strong>Or</strong> the <code>doInBackground()</code> method of the AsyncTask class.</li>\n</ol>\n<p><strong>But:</strong></p>\n<p>When you get something from a network response and want to show it on your view (like display response message in TextView), you need to <strong>return back to the UI</strong> thread.</p>\n<p>If you don't do it, you will get <code>ViewRootImpl$CalledFromWrongThreadException</code>.</p>\n<p><strong>How-to</strong></p>\n<ol>\n<li>While using AsyncTask, update the view from the <code>onPostExecute()</code> method</li>\n<li><strong>Or</strong> call the <a href=\"https://stackoverflow.com/questions/11140285/how-to-use-runonuithread\"><code>runOnUiThread()</code></a> method and update the view inside the <code>run()</code> method.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5725982,"reputation":1863,"user_id":4522954,"accept_rate":67,"display_name":"RevanthKrishnaKumar V."},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1466847331,"creation_date":1439454374,"answer_id":31983115,"question_id":6343166,"body_markdown":"Accessing network resources from the main (UI) thread cause this exception. Use a separate thread or AsyncTask for accessing a network resource to avoid this problem.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Accessing network resources from the main (UI) thread cause this exception. Use a separate thread or AsyncTask for accessing a network resource to avoid this problem.</p>\n"},{"tags":[],"owner":{"account_id":5810354,"reputation":1190,"user_id":4581645,"display_name":"RobotCharlie"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626978181,"creation_date":1439776048,"answer_id":32041717,"question_id":6343166,"body_markdown":"You can actually start a new Thread. I had this problem before and solved it by this way.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can actually start a new Thread. I had this problem before and solved it by this way.</p>\n"},{"tags":[],"owner":{"account_id":5763342,"reputation":2260,"user_id":4549000,"accept_rate":50,"display_name":"Krishna Satwaji Khandagale"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688560551,"creation_date":1450430601,"answer_id":34352221,"question_id":6343166,"body_markdown":"You are not allowed to implement network operations on the UI thread on Android. You will have to use AsyncTask class to perform network-related operations like sending API requests, downloading an image from a URL, etc., and using callback methods of `AsyncTask`, you can get your result in `onPostExecute` method and you will be in the UI thread and you can populate UI with data from web service or something like that.\r\n\r\nExample: Suppose you want to download an image from an URL: https://www.samplewebsite.com/sampleimage.jpg\r\n\r\nSolution using `AsyncTask`:\r\n`&lt;String, Void, Bitmap&gt;` are `&lt;Params, Progress, Result&gt;` respectively.\r\n\r\n        public class MyDownloader extends AsyncTask&lt;String, Void, Bitmap&gt;\r\n        {\r\n            @Override\r\n            protected void onPreExecute() {\r\n                // Show progress dialog\r\n                super.onPreExecute();\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Bitmap bitmap) {\r\n                //Populate Ui\r\n                super.onPostExecute(bitmap);\r\n            }\r\n\r\n            @Override\r\n            protected Bitmap doInBackground(String... params) {\r\n                // Open URL connection read bitmaps and return form here\r\n                return result;\r\n            }\r\n\r\n            @Override\r\n            protected void onProgressUpdate(Void... values) {\r\n                // Show progress update\r\n                super.onProgressUpdate(values);\r\n            }\r\n        }\r\n    }\r\n\r\nNote: Do not forget to add the Internet permission in the Android manifest file. It will work like a charm. :)\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You are not allowed to implement network operations on the UI thread on Android. You will have to use AsyncTask class to perform network-related operations like sending API requests, downloading an image from a URL, etc., and using callback methods of <code>AsyncTask</code>, you can get your result in <code>onPostExecute</code> method and you will be in the UI thread and you can populate UI with data from web service or something like that.</p>\n<p>Example: Suppose you want to download an image from an URL: <a href=\"https://www.samplewebsite.com/sampleimage.jpg\" rel=\"nofollow noreferrer\">https://www.samplewebsite.com/sampleimage.jpg</a></p>\n<p>Solution using <code>AsyncTask</code>:\n<code>&lt;String, Void, Bitmap&gt;</code> are <code>&lt;Params, Progress, Result&gt;</code> respectively.</p>\n<pre><code>    public class MyDownloader extends AsyncTask&lt;String, Void, Bitmap&gt;\n    {\n        @Override\n        protected void onPreExecute() {\n            // Show progress dialog\n            super.onPreExecute();\n        }\n\n        @Override\n        protected void onPostExecute(Bitmap bitmap) {\n            //Populate Ui\n            super.onPostExecute(bitmap);\n        }\n\n        @Override\n        protected Bitmap doInBackground(String... params) {\n            // Open URL connection read bitmaps and return form here\n            return result;\n        }\n\n        @Override\n        protected void onProgressUpdate(Void... values) {\n            // Show progress update\n            super.onProgressUpdate(values);\n        }\n    }\n}\n</code></pre>\n<p>Note: Do not forget to add the Internet permission in the Android manifest file. It will work like a charm. :)</p>\n"},{"tags":[],"owner":{"account_id":1450165,"reputation":4348,"user_id":1367344,"accept_rate":83,"display_name":"Adnan Abdollah Zaki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466847661,"creation_date":1452876474,"answer_id":34815939,"question_id":6343166,"body_markdown":"This exception is thrown when an application attempts to perform a networking operation on its main thread.\r\nIf your task took above five seconds, it takes a force close.\r\n\r\nRun your code in `AsyncTask`:\r\n\r\n    class RetrieveFeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\r\n\r\n        protected RSSFeed doInBackground(String... urls) {\r\n           // TODO: Connect\r\n        }\r\n\r\n        protected void onPostExecute(RSSFeed feed) {\r\n            // TODO: Check this.exception\r\n            // TODO: Do something with the feed\r\n        }\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This exception is thrown when an application attempts to perform a networking operation on its main thread.\nIf your task took above five seconds, it takes a force close.</p>\n\n<p>Run your code in <code>AsyncTask</code>:</p>\n\n<pre><code>class RetrieveFeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\n\n    protected RSSFeed doInBackground(String... urls) {\n       // TODO: Connect\n    }\n\n    protected void onPostExecute(RSSFeed feed) {\n        // TODO: Check this.exception\n        // TODO: Do something with the feed\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5380927,"reputation":1325,"user_id":4286151,"accept_rate":0,"display_name":"BalaramNayak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466847870,"creation_date":1453197176,"answer_id":34873530,"question_id":6343166,"body_markdown":"The NetworkOnMainThread exception occurs because you have called some network operation on the default thread, that is, the UI thread. \r\nAs per Android version [Android&amp;nbsp;3][1] (Honeycomb) which is not allowed, you should call network operation outside the main thread.\r\n\r\nYou can use AsyncTask, IntentService, or creating your own thread and calling inside the run method.\r\nFor more information, visit *[Connecting to the Network][2]*.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\r\n  [2]: http://developer.android.com/training/basics/network-ops/connecting.html","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The NetworkOnMainThread exception occurs because you have called some network operation on the default thread, that is, the UI thread. \nAs per Android version <a href=\"http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\" rel=\"nofollow\">Android&nbsp;3</a> (Honeycomb) which is not allowed, you should call network operation outside the main thread.</p>\n\n<p>You can use AsyncTask, IntentService, or creating your own thread and calling inside the run method.\nFor more information, visit <em><a href=\"http://developer.android.com/training/basics/network-ops/connecting.html\" rel=\"nofollow\">Connecting to the Network</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":2291803,"reputation":1086,"user_id":2014374,"display_name":"bpr10"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1627028233,"creation_date":1463995935,"answer_id":37387412,"question_id":6343166,"body_markdown":"We can also use [RxJava][1] to move network operations to a background thread. And it&#39;s fairly simple as well.\r\n\r\n    webService.doSomething(someData)\r\n              .subscribeOn(Schedulers.newThread())-- This for background thread\r\n              .observeOn(AndroidSchedulers.mainThread()) -- for callback on UI\r\n              .subscribe(result -&gt; resultText.setText(&quot;It worked!&quot;),\r\n                  e -&gt; handleError(e));\r\n\r\nYou can do a lot more stuff with RxJava. Here are some links for RxJava. Feel free to dig in.\r\n\r\n*[RxJava async task in Android][2]*\r\n\r\n*[http://blog.stablekernel.com/replace-asynctask-asynctaskloader-rx-observable-rxjava-android-patterns/][3]*\r\n\r\n  [1]: https://stackoverflow.com/tags/rx-java/info\r\n  [2]: https://stackoverflow.com/questions/29670452/rxjava-async-task-in-android\r\n  [3]: https://stablekernel.com/article/replace-asynctask-and-asynctaskloader-with-rx-observable-rxjava-android-patterns/\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>We can also use <a href=\"https://stackoverflow.com/tags/rx-java/info\">RxJava</a> to move network operations to a background thread. And it's fairly simple as well.</p>\n<pre><code>webService.doSomething(someData)\n          .subscribeOn(Schedulers.newThread())-- This for background thread\n          .observeOn(AndroidSchedulers.mainThread()) -- for callback on UI\n          .subscribe(result -&gt; resultText.setText(&quot;It worked!&quot;),\n              e -&gt; handleError(e));\n</code></pre>\n<p>You can do a lot more stuff with RxJava. Here are some links for RxJava. Feel free to dig in.</p>\n<p><em><a href=\"https://stackoverflow.com/questions/29670452/rxjava-async-task-in-android\">RxJava async task in Android</a></em></p>\n<p><em><a href=\"https://stablekernel.com/article/replace-asynctask-and-asynctaskloader-with-rx-observable-rxjava-android-patterns/\" rel=\"nofollow noreferrer\">http://blog.stablekernel.com/replace-asynctask-asynctaskloader-rx-observable-rxjava-android-patterns/</a></em></p>\n"},{"tags":[],"owner":{"account_id":8206108,"reputation":3252,"user_id":6175778,"display_name":"Alex Shutov"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1626976427,"creation_date":1466719202,"answer_id":38002606,"question_id":6343166,"body_markdown":"There is another very convenient way for tackling this issue - use [RxJava&#39;s][1] concurrency capabilities. You can execute any task in the background and post results to the main thread in a very convenient way, so these results will be handed to the processing chain.\r\n\r\nThe first verified answer advice is to use AsynTask. Yes, this is a solution, but it is obsolete nowadays, because there are new tools around.\r\n\r\n    String getUrl() {\r\n        return &quot;SomeUrl&quot;;\r\n    }\r\n\r\n    private Object makeCallParseResponse(String url) {\r\n        return null;\r\n        //\r\n    }\r\n\r\n    private void processResponse(Object o) {\r\n\r\n    }\r\n\r\nThe *getUrl* method provides the URL address, and it will be executed on the main thread.\r\n\r\n`makeCallParseResponse(..)` - does the actual work\r\n\r\n`processResponse(..)` - will handle the result on the main thread.\r\n\r\nThe code for asynchronous execution will look like:\r\n\r\n    rx.Observable.defer(new Func0&lt;rx.Observable&lt;String&gt;&gt;() {\r\n        @Override\r\n        public rx.Observable&lt;String&gt; call() {\r\n            return rx.Observable.just(getUrl());\r\n        }\r\n    })\r\n        .subscribeOn(Schedulers.io())\r\n        .observeOn(Schedulers.io())\r\n        .map(new Func1&lt;String, Object&gt;() {\r\n            @Override\r\n            public Object call(final String s) {\r\n                return makeCallParseResponse(s);\r\n            }\r\n        })\r\n        .observeOn(AndroidSchedulers.mainThread())\r\n        .subscribe(new Action1&lt;Object&gt;() {\r\n            @Override\r\n            public void call(Object o) {\r\n                 processResponse(o);\r\n            }\r\n        },\r\n        new Action1&lt;Throwable&gt;() {\r\n            @Override\r\n            public void call(Throwable throwable) {\r\n                // Process error here, it will be posted on\r\n                // the main thread\r\n            }\r\n        });\r\n\r\nCompared to AsyncTask, this method allows to switch schedulers an arbitrary number of times (say, fetch data on one scheduler and process those data on another (say, Scheduler.computation()). You can also define your own schedulers.\r\n\r\nIn order to use this library, include following lines into your *build.gradle* file:\r\n\r\n       compile &#39;io.reactivex:rxjava:1.1.5&#39;\r\n       compile &#39;io.reactivex:rxandroid:1.2.0&#39;\r\n\r\nThe last dependency includes support for the .mainThread() scheduler.\r\n\r\nThere is [an excellent e-book for RxJava][2].\r\n\r\n  [1]: https://stackoverflow.com/tags/rx-java/info\r\n  [2]: https://github.com/Froussios/Intro-To-RxJava\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>There is another very convenient way for tackling this issue - use <a href=\"https://stackoverflow.com/tags/rx-java/info\">RxJava's</a> concurrency capabilities. You can execute any task in the background and post results to the main thread in a very convenient way, so these results will be handed to the processing chain.</p>\n<p>The first verified answer advice is to use AsynTask. Yes, this is a solution, but it is obsolete nowadays, because there are new tools around.</p>\n<pre><code>String getUrl() {\n    return &quot;SomeUrl&quot;;\n}\n\nprivate Object makeCallParseResponse(String url) {\n    return null;\n    //\n}\n\nprivate void processResponse(Object o) {\n\n}\n</code></pre>\n<p>The <em>getUrl</em> method provides the URL address, and it will be executed on the main thread.</p>\n<p><code>makeCallParseResponse(..)</code> - does the actual work</p>\n<p><code>processResponse(..)</code> - will handle the result on the main thread.</p>\n<p>The code for asynchronous execution will look like:</p>\n<pre><code>rx.Observable.defer(new Func0&lt;rx.Observable&lt;String&gt;&gt;() {\n    @Override\n    public rx.Observable&lt;String&gt; call() {\n        return rx.Observable.just(getUrl());\n    }\n})\n    .subscribeOn(Schedulers.io())\n    .observeOn(Schedulers.io())\n    .map(new Func1&lt;String, Object&gt;() {\n        @Override\n        public Object call(final String s) {\n            return makeCallParseResponse(s);\n        }\n    })\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(new Action1&lt;Object&gt;() {\n        @Override\n        public void call(Object o) {\n             processResponse(o);\n        }\n    },\n    new Action1&lt;Throwable&gt;() {\n        @Override\n        public void call(Throwable throwable) {\n            // Process error here, it will be posted on\n            // the main thread\n        }\n    });\n</code></pre>\n<p>Compared to AsyncTask, this method allows to switch schedulers an arbitrary number of times (say, fetch data on one scheduler and process those data on another (say, Scheduler.computation()). You can also define your own schedulers.</p>\n<p>In order to use this library, include following lines into your <em>build.gradle</em> file:</p>\n<pre><code>   compile 'io.reactivex:rxjava:1.1.5'\n   compile 'io.reactivex:rxandroid:1.2.0'\n</code></pre>\n<p>The last dependency includes support for the .mainThread() scheduler.</p>\n<p>There is <a href=\"https://github.com/Froussios/Intro-To-RxJava\" rel=\"nofollow noreferrer\">an excellent e-book for RxJava</a>.</p>\n"},{"tags":[],"owner":{"account_id":4013696,"reputation":3065,"user_id":3306437,"display_name":"Lovekush Vishwakarma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479758712,"creation_date":1475568051,"answer_id":39847133,"question_id":6343166,"body_markdown":"How to fix android.os.NetworkOnMainThreadException\r\n\r\nWhat is NetworkOnMainThreadException:\r\n\r\nIn Android all the UI operations we have to do on the UI thread (main thread). If we perform background operations or some network operation on the main thread then we risk this exception will occur and the app will not respond.\r\n\r\nHow to fix it:\r\n\r\nTo avoid this problem, you have to use another thread for background operations or network operations, like using asyncTask and use some library for network operations like Volley, AsyncHttp, etc.\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>How to fix android.os.NetworkOnMainThreadException</p>\n\n<p>What is NetworkOnMainThreadException:</p>\n\n<p>In Android all the UI operations we have to do on the UI thread (main thread). If we perform background operations or some network operation on the main thread then we risk this exception will occur and the app will not respond.</p>\n\n<p>How to fix it:</p>\n\n<p>To avoid this problem, you have to use another thread for background operations or network operations, like using asyncTask and use some library for network operations like Volley, AsyncHttp, etc.</p>\n"},{"tags":[],"owner":{"account_id":4389900,"reputation":1206,"user_id":3578677,"accept_rate":27,"display_name":"Mansuu...."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688560787,"creation_date":1484542618,"answer_id":41669680,"question_id":6343166,"body_markdown":"android.os.NetworkOnMainThreadException is thrown when network operations are performed on the main thread. You better do this in AsyncTask to remove this Exception. Write it this way:\r\n\r\n        new AsyncTask&lt;Void, String, String&gt;() {\r\n\r\n            @Override\r\n            protected Void doInBackground(Void... params) {\r\n                // Perform your network operation.\r\n                // Get JSON or XML string from the server.\r\n                // Store in a local variable (say response) and return.\r\n                return response;\r\n            }\r\n\r\n            protected void onPostExecute(String results) {\r\n                // Response returned by doInBackGround() will be received\r\n                // by onPostExecute(String results).\r\n                // Now manipulate your jason/xml String(results).\r\n            }\r\n\r\n        }.execute();\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>android.os.NetworkOnMainThreadException is thrown when network operations are performed on the main thread. You better do this in AsyncTask to remove this Exception. Write it this way:</p>\n<pre><code>    new AsyncTask&lt;Void, String, String&gt;() {\n\n        @Override\n        protected Void doInBackground(Void... params) {\n            // Perform your network operation.\n            // Get JSON or XML string from the server.\n            // Store in a local variable (say response) and return.\n            return response;\n        }\n\n        protected void onPostExecute(String results) {\n            // Response returned by doInBackGround() will be received\n            // by onPostExecute(String results).\n            // Now manipulate your jason/xml String(results).\n        }\n\n    }.execute();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1638057,"reputation":117,"user_id":1511022,"display_name":"Himanshu"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1498911918,"creation_date":1487503871,"answer_id":42326705,"question_id":6343166,"body_markdown":"You can also resolve this issue by using Strict Mode using the below code. It&#39;s also an alternative to resolving this issue.\r\n\r\n\tStrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\nBut the best practice would be to use AsyncTask.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can also resolve this issue by using Strict Mode using the below code. It's also an alternative to resolving this issue.</p>\n\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n\n<p>But the best practice would be to use AsyncTask.</p>\n"},{"tags":[],"owner":{"account_id":8148844,"reputation":83,"user_id":6136614,"accept_rate":17,"display_name":"aks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498911800,"creation_date":1488471374,"answer_id":42560499,"question_id":6343166,"body_markdown":"As Android is working on a single thread, you should not do any network operation on the main thread. There are various ways to avoid this.\r\n\r\nUse the following way to perform a network operation\r\n\r\n - **Asysnctask**: For small operations which don&#39;t take much time.\r\n - **Intent Service**: For network operation which take a big amount of time.\r\n - Use a custom library like **Volley** and **Retrofit** for handling\r\n   complex network operations\r\n\r\n**Never use StrictMode.setThreadPolicy(policy)**, as it will freeze your UI and is not at all a good idea.\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>As Android is working on a single thread, you should not do any network operation on the main thread. There are various ways to avoid this.</p>\n\n<p>Use the following way to perform a network operation</p>\n\n<ul>\n<li><strong>Asysnctask</strong>: For small operations which don't take much time.</li>\n<li><strong>Intent Service</strong>: For network operation which take a big amount of time.</li>\n<li>Use a custom library like <strong>Volley</strong> and <strong>Retrofit</strong> for handling\ncomplex network operations</li>\n</ul>\n\n<p><strong>Never use StrictMode.setThreadPolicy(policy)</strong>, as it will freeze your UI and is not at all a good idea.</p>\n"},{"tags":[],"owner":{"account_id":8213409,"reputation":119,"user_id":6180676,"display_name":"Hossain Ahamed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498911851,"creation_date":1489730444,"answer_id":42850269,"question_id":6343166,"body_markdown":"You can not call network on the main thread or UI thread. On Android if you want to call network there are two options -\r\n\r\n 1. Call asynctask, which will run one background thread to handle the network operation.\r\n 2. You can create your own runnable thread to handle the network operation.\r\n\r\nPersonally I prefer asynctask. For further information you can refer [this link][1].\r\n\r\n  [1]: https://developer.android.com/training/basics/network-ops/connecting.html\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can not call network on the main thread or UI thread. On Android if you want to call network there are two options -</p>\n\n<ol>\n<li>Call asynctask, which will run one background thread to handle the network operation.</li>\n<li>You can create your own runnable thread to handle the network operation.</li>\n</ol>\n\n<p>Personally I prefer asynctask. For further information you can refer <a href=\"https://developer.android.com/training/basics/network-ops/connecting.html\" rel=\"nofollow noreferrer\">this link</a>.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1688560407,"creation_date":1494015116,"answer_id":43813062,"question_id":6343166,"body_markdown":"New `Thread` and [AsyncTask][1] solutions have been explained already.\r\n\r\n`AsyncTask` should ideally be used for short operations. Normal `Thread` is not preferable for Android. \r\n\r\nHave a look at alternate solution using [HandlerThread][2] and [Handler][3]\r\n\r\n**HandlerThread**\r\n\r\n&gt; Handy class for starting a new thread that has a looper. The looper can then be used to create handler classes. Note that `start()` must still be called.\r\n\r\n**Handler:**\r\n\r\n&gt;A Handler allows you to send and process Message and Runnable objects associated with a thread&#39;s MessageQueue. Each Handler instance is associated with a single thread and that thread&#39;s message queue. When you create a new Handler, it is bound to the thread / message queue of the thread that is creating it -- from that point on, it will deliver messages and runnables to that message queue and execute them as they come out of the message queue.\r\n\r\nSolution:\r\n\r\n1. Create `HandlerThread`\r\n\r\n2. Call `start()` on `HandlerThread`\r\n\r\n3. Create `Handler` by getting `Looper` from `HanlerThread`\r\n\r\n4. Embed your Network operation related code in `Runnable` object\r\n\r\n5. Submit `Runnable` task to `Handler`\r\n\r\nSample code snippet, which address  `NetworkOnMainThreadException`\r\n\r\n    HandlerThread handlerThread = new HandlerThread(&quot;URLConnection&quot;);\r\n    handlerThread.start();\r\n    handler mainHandler = new Handler(handlerThread.getLooper());\r\n    \r\n    Runnable myRunnable = new Runnable() {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\tLog.d(&quot;Ravi&quot;, &quot;Before IO call&quot;);\r\n    \t\t\tURL page = new URL(&quot;http://www.google.com&quot;);\r\n    \t\t\tStringBuffer text = new StringBuffer();\r\n    \t\t\tHttpURLConnection conn = (HttpURLConnection) page.openConnection();\r\n    \t\t\tconn.connect();\r\n    \t\t\tInputStreamReader in = new InputStreamReader((InputStream) conn.getContent());\r\n    \t\t\tBufferedReader buff = new BufferedReader(in);\r\n    \t\t\tString line;\r\n    \t\t\twhile ( (line =  buff.readLine()) != null) {\r\n    \t\t\t\ttext.append(line + &quot;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\tLog.d(&quot;Ravi&quot;, &quot;After IO call&quot;);\r\n    \t\t\tLog.d(&quot;Ravi&quot;,text.toString());\r\n    \r\n    \t\t} catch (Exception err) {\r\n    \t\t\terr.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    };\r\n    mainHandler.post(myRunnable);\r\n\r\n\r\nPros of using this approach:\r\n\r\n1. Creating a new `Thread/AsyncTask` for each network operation is expensive. The `Thread/AsyncTask` will be destroyed and re-created for the next Network operations. But with `Handler` and `HandlerThread` approach, you can submit many network operations (as Runnable tasks) to single `HandlerThread` by using `Handler`. \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: https://developer.android.com/reference/android/os/HandlerThread.html\r\n  [3]: https://developer.android.com/reference/android/os/Handler.html","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>New <code>Thread</code> and <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">AsyncTask</a> solutions have been explained already.</p>\n<p><code>AsyncTask</code> should ideally be used for short operations. Normal <code>Thread</code> is not preferable for Android.</p>\n<p>Have a look at alternate solution using <a href=\"https://developer.android.com/reference/android/os/HandlerThread.html\" rel=\"nofollow noreferrer\">HandlerThread</a> and <a href=\"https://developer.android.com/reference/android/os/Handler.html\" rel=\"nofollow noreferrer\">Handler</a></p>\n<p><strong>HandlerThread</strong></p>\n<blockquote>\n<p>Handy class for starting a new thread that has a looper. The looper can then be used to create handler classes. Note that <code>start()</code> must still be called.</p>\n</blockquote>\n<p><strong>Handler:</strong></p>\n<blockquote>\n<p>A Handler allows you to send and process Message and Runnable objects associated with a thread's MessageQueue. Each Handler instance is associated with a single thread and that thread's message queue. When you create a new Handler, it is bound to the thread / message queue of the thread that is creating it -- from that point on, it will deliver messages and runnables to that message queue and execute them as they come out of the message queue.</p>\n</blockquote>\n<p>Solution:</p>\n<ol>\n<li><p>Create <code>HandlerThread</code></p>\n</li>\n<li><p>Call <code>start()</code> on <code>HandlerThread</code></p>\n</li>\n<li><p>Create <code>Handler</code> by getting <code>Looper</code> from <code>HanlerThread</code></p>\n</li>\n<li><p>Embed your Network operation related code in <code>Runnable</code> object</p>\n</li>\n<li><p>Submit <code>Runnable</code> task to <code>Handler</code></p>\n</li>\n</ol>\n<p>Sample code snippet, which address  <code>NetworkOnMainThreadException</code></p>\n<pre><code>HandlerThread handlerThread = new HandlerThread(&quot;URLConnection&quot;);\nhandlerThread.start();\nhandler mainHandler = new Handler(handlerThread.getLooper());\n\nRunnable myRunnable = new Runnable() {\n    @Override\n    public void run() {\n        try {\n            Log.d(&quot;Ravi&quot;, &quot;Before IO call&quot;);\n            URL page = new URL(&quot;http://www.google.com&quot;);\n            StringBuffer text = new StringBuffer();\n            HttpURLConnection conn = (HttpURLConnection) page.openConnection();\n            conn.connect();\n            InputStreamReader in = new InputStreamReader((InputStream) conn.getContent());\n            BufferedReader buff = new BufferedReader(in);\n            String line;\n            while ( (line =  buff.readLine()) != null) {\n                text.append(line + &quot;\\n&quot;);\n            }\n            Log.d(&quot;Ravi&quot;, &quot;After IO call&quot;);\n            Log.d(&quot;Ravi&quot;,text.toString());\n\n        } catch (Exception err) {\n            err.printStackTrace();\n        }\n    }\n};\nmainHandler.post(myRunnable);\n</code></pre>\n<p>Pros of using this approach:</p>\n<ol>\n<li>Creating a new <code>Thread/AsyncTask</code> for each network operation is expensive. The <code>Thread/AsyncTask</code> will be destroyed and re-created for the next Network operations. But with <code>Handler</code> and <code>HandlerThread</code> approach, you can submit many network operations (as Runnable tasks) to single <code>HandlerThread</code> by using <code>Handler</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10671589,"reputation":611,"user_id":7856490,"display_name":"Shinoo Goyal"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1626975978,"creation_date":1496987845,"answer_id":44450277,"question_id":6343166,"body_markdown":"`RxAndroid` is another better alternative to this problem and it saves us from hassles of creating threads and then posting results on Android UI thread.\r\n\r\nWe just need to specify threads on which tasks need to be executed and everything is handled internally.\r\n\r\n    Observable&lt;List&lt;String&gt;&gt; musicShowsObservable = Observable.fromCallable(new Callable&lt;List&lt;String&gt;&gt;() {\r\n\r\n      @Override\r\n      public List&lt;String&gt; call() {\r\n        return mRestClient.getFavoriteMusicShows();\r\n      }\r\n\r\n    });\r\n\r\n    mMusicShowSubscription = musicShowsObservable\r\n      .subscribeOn(Schedulers.io())\r\n      .observeOn(AndroidSchedulers.mainThread())\r\n      .subscribe(new Observer&lt;List&lt;String&gt;&gt;() {\r\n\r\n        @Override\r\n        public void onCompleted() { }\r\n\r\n        @Override\r\n        public void onError(Throwable e) { }\r\n\r\n        @Override\r\n        public void onNext(List&lt;String&gt; musicShows) {\r\n            listMusicShows(musicShows);\r\n        }\r\n    });\r\n\r\n 1. By specifiying `(Schedulers.io())`, RxAndroid will run `getFavoriteMusicShows()` on a different thread.\r\n\r\n 2. By using `AndroidSchedulers.mainThread()` we want to observe this Observable on the UI thread, i.e., we want our `onNext()` callback to be called on the UI thread.\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><code>RxAndroid</code> is another better alternative to this problem and it saves us from hassles of creating threads and then posting results on Android UI thread.</p>\n<p>We just need to specify threads on which tasks need to be executed and everything is handled internally.</p>\n<pre><code>Observable&lt;List&lt;String&gt;&gt; musicShowsObservable = Observable.fromCallable(new Callable&lt;List&lt;String&gt;&gt;() {\n\n  @Override\n  public List&lt;String&gt; call() {\n    return mRestClient.getFavoriteMusicShows();\n  }\n\n});\n\nmMusicShowSubscription = musicShowsObservable\n  .subscribeOn(Schedulers.io())\n  .observeOn(AndroidSchedulers.mainThread())\n  .subscribe(new Observer&lt;List&lt;String&gt;&gt;() {\n\n    @Override\n    public void onCompleted() { }\n\n    @Override\n    public void onError(Throwable e) { }\n\n    @Override\n    public void onNext(List&lt;String&gt; musicShows) {\n        listMusicShows(musicShows);\n    }\n});\n</code></pre>\n<ol>\n<li><p>By specifiying <code>(Schedulers.io())</code>, RxAndroid will run <code>getFavoriteMusicShows()</code> on a different thread.</p>\n</li>\n<li><p>By using <code>AndroidSchedulers.mainThread()</code> we want to observe this Observable on the UI thread, i.e., we want our <code>onNext()</code> callback to be called on the UI thread.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4749518,"reputation":405,"user_id":6656818,"display_name":"J.D.1731"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1626976838,"creation_date":1499677615,"answer_id":45007912,"question_id":6343166,"body_markdown":"You can either use [Kotlin][1] and [Anko][2].\r\n\r\n**Kotlin** is a new official language for *Android*. You can find  more about it here:\r\n*[Kotlin for Android][3]*.\r\n\r\n**Anko** is a supported library for Kotlin in Android. Some documentation is on [the GitHub page][2].\r\n\r\nThe solution which is really useful and has only a few lines of code written by @AntonioLeiva:\r\n*[Using Anko to run background tasks with Kotlin in Android (KAD 09)][4]*.\r\n\r\n    doAsync {\r\n        var result = runLongTask()\r\n        uiThread {\r\n            toast(result)\r\n        }\r\n    }\r\n\r\nSimple as it is, `NetworkOnMainThread` occurs when you run a background job on the UI thread, so one thing you have to do is to run your *longTask job* in the background. You can do this using this method and **Kotlin** with **Anko** in your Android app.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Kotlin_(programming_language)\r\n  [2]: https://github.com/Kotlin/anko\r\n  [3]: https://kotlinlang.org/docs/tutorials/kotlin-android.html\r\n  [4]: https://antonioleiva.com/anko-background-kotlin-android/\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can either use <a href=\"https://en.wikipedia.org/wiki/Kotlin_(programming_language)\" rel=\"nofollow noreferrer\">Kotlin</a> and <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Anko</a>.</p>\n<p><strong>Kotlin</strong> is a new official language for <em>Android</em>. You can find  more about it here:\n<em><a href=\"https://kotlinlang.org/docs/tutorials/kotlin-android.html\" rel=\"nofollow noreferrer\">Kotlin for Android</a></em>.</p>\n<p><strong>Anko</strong> is a supported library for Kotlin in Android. Some documentation is on <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">the GitHub page</a>.</p>\n<p>The solution which is really useful and has only a few lines of code written by @AntonioLeiva:\n<em><a href=\"https://antonioleiva.com/anko-background-kotlin-android/\" rel=\"nofollow noreferrer\">Using Anko to run background tasks with Kotlin in Android (KAD 09)</a></em>.</p>\n<pre><code>doAsync {\n    var result = runLongTask()\n    uiThread {\n        toast(result)\n    }\n}\n</code></pre>\n<p>Simple as it is, <code>NetworkOnMainThread</code> occurs when you run a background job on the UI thread, so one thing you have to do is to run your <em>longTask job</em> in the background. You can do this using this method and <strong>Kotlin</strong> with <strong>Anko</strong> in your Android app.</p>\n"},{"tags":[],"owner":{"account_id":8839888,"reputation":4084,"user_id":6602675,"display_name":"Sharath kumar"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1516518505,"creation_date":1504521799,"answer_id":46035352,"question_id":6343166,"body_markdown":"The main thread is the UI thread, and you cannot do an operation in the main thread which may block the user interaction. You can solve this in two ways:\r\n\r\nForce to do the task in the main thread like this\r\n\r\n    StrictMode.ThreadPolicy threadPolicy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(threadPolicy);\r\n\r\nOr create a simple handler and update the main thread if you want.\r\n\r\n    Runnable runnable;\r\n    Handler newHandler;\r\n\r\n    newHandler = new Handler();\r\n    runnable = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n             try {\r\n                //update UI\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } \r\n        }\r\n    };\r\n    newHandler.post(runnable);\r\n\r\nAnd to stop the thread use:\r\n\r\n    newHandler.removeCallbacks(runnable);\r\n\r\nFor more information check this out: *[Painless threading][1]*\r\n\r\n  [1]: https://android-developers.googleblog.com/2009/05/painless-threading.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The main thread is the UI thread, and you cannot do an operation in the main thread which may block the user interaction. You can solve this in two ways:</p>\n\n<p>Force to do the task in the main thread like this</p>\n\n<pre><code>StrictMode.ThreadPolicy threadPolicy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(threadPolicy);\n</code></pre>\n\n<p>Or create a simple handler and update the main thread if you want.</p>\n\n<pre><code>Runnable runnable;\nHandler newHandler;\n\nnewHandler = new Handler();\nrunnable = new Runnable() {\n    @Override\n    public void run() {\n         try {\n            //update UI\n        } catch (Exception e) {\n            e.printStackTrace();\n        } \n    }\n};\nnewHandler.post(runnable);\n</code></pre>\n\n<p>And to stop the thread use:</p>\n\n<pre><code>newHandler.removeCallbacks(runnable);\n</code></pre>\n\n<p>For more information check this out: <em><a href=\"https://android-developers.googleblog.com/2009/05/painless-threading.html\" rel=\"noreferrer\">Painless threading</a></em></p>\n"},{"tags":[],"owner":{"account_id":1012051,"reputation":3609,"user_id":1024412,"accept_rate":54,"display_name":"KG6ZVP"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1626956902,"creation_date":1508543407,"answer_id":46858724,"question_id":6343166,"body_markdown":"There are many great answers already on this question, but a lot of great libraries have come out since those answers were posted. This is intended as a kind of newbie-guide.\r\n\r\nI will cover several use cases for performing network operations and *a* solution or two for each.\r\n\r\n# [REST][1] over HTTP\r\n\r\n*Typically JSON, but it can be XML or something else.*\r\n\r\n## Full API Access\r\n\r\nLet&#39;s say you are writing an app that lets users track stock prices, interest rates and currency exchange rates. You find an JSON API that looks something like this:\r\n\r\n```lang-none\r\nhttp://api.example.com/stocks                       // ResponseWrapper&lt;String&gt; object containing a\r\n                                                    // list of strings with ticker symbols\r\nhttp://api.example.com/stocks/$symbol               // Stock object\r\nhttp://api.example.com/stocks/$symbol/prices        // PriceHistory&lt;Stock&gt; object\r\nhttp://api.example.com/currencies                   // ResponseWrapper&lt;String&gt; object containing a\r\n                                                    // list of currency abbreviation\r\nhttp://api.example.com/currencies/$currency         // Currency object\r\nhttp://api.example.com/currencies/$id1/values/$id2  // PriceHistory&lt;Currency&gt; object comparing the prices\r\n                                                    // of the first currency (id1) to the second (id2)\r\n```\r\n\r\n### Retrofit from Square\r\n\r\nThis is an excellent choice for an API with multiple endpoints and allows you to declare the REST endpoints instead of having to code them individually as with other libraries like [Amazon Ion Java][2] or [Volley][3] (website: *[Retrofit][4]*).\r\n\r\nHow do you use it with the finances API?\r\n\r\n### File *build.gradle*\r\n\r\nAdd these lines to your *module* level *build.gradle* file:\r\n\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.3.0&#39; // Retrofit library, current as of September 21, 2017\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.3.0&#39; // Gson serialization and deserialization support for retrofit, version must match retrofit version\r\n\r\n### File *FinancesApi.java*\r\n\r\n    public interface FinancesApi {\r\n    \t@GET(&quot;stocks&quot;)\r\n    \tCall&lt;ResponseWrapper&lt;String&gt;&gt; listStocks();\r\n    \t@GET(&quot;stocks/{symbol}&quot;)\r\n    \tCall&lt;Stock&gt; getStock(@Path(&quot;symbol&quot;)String tickerSymbol);\r\n    \t@GET(&quot;stocks/{symbol}/prices&quot;)\r\n    \tCall&lt;PriceHistory&lt;Stock&gt;&gt; getPriceHistory(@Path(&quot;symbol&quot;)String tickerSymbol);\r\n\r\n    \t@GET(&quot;currencies&quot;)\r\n    \tCall&lt;ResponseWrapper&lt;String&gt;&gt; listCurrencies();\r\n    \t@GET(&quot;currencies/{symbol}&quot;)\r\n    \tCall&lt;Currency&gt; getCurrency(@Path(&quot;symbol&quot;)String currencySymbol);\r\n    \t@GET(&quot;currencies/{symbol}/values/{compare_symbol}&quot;)\r\n    \tCall&lt;PriceHistory&lt;Currency&gt;&gt; getComparativeHistory(@Path(&quot;symbol&quot;)String currency, @Path(&quot;compare_symbol&quot;)String currencyToPriceAgainst);\r\n    }\r\n\r\n### Class *FinancesApiBuilder*\r\n\r\n    public class FinancesApiBuilder {\r\n    \tpublic static FinancesApi build(String baseUrl){\r\n    \t\treturn new Retrofit.Builder()\r\n    \t\t\t\t\t.baseUrl(baseUrl)\r\n    \t\t\t\t\t.addConverterFactory(GsonConverterFactory.create())\r\n    \t\t\t\t\t.build()\r\n    \t\t\t\t\t.create(FinancesApi.class);\r\n    \t}\r\n    }\r\n\r\n### Class *FinancesFragment* snippet\r\n\r\n\tFinancesApi api = FinancesApiBuilder.build(&quot;http://api.example.com/&quot;); //trailing &#39;/&#39; required for predictable behavior\r\n\tapi.getStock(&quot;INTC&quot;).enqueue(new Callback&lt;Stock&gt;(){\r\n\t\t@Override\r\n\t\tpublic void onResponse(Call&lt;Stock&gt; stockCall, Response&lt;Stock&gt; stockResponse){\r\n\t\t\tStock stock = stockCall.body();\r\n\t\t\t// Do something with the stock\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void onResponse(Call&lt;Stock&gt; stockCall, Throwable t){\r\n\t\t\t// Something bad happened\r\n\t\t}\r\n\t}\r\n\r\nIf your API requires an API key or other header, like a user token, etc. to be sent, Retrofit makes this easy (see [this awesome answer][5] to *https://stackoverflow.com/questions/42898920/* for details).\r\n\r\n## One-off REST API access\r\n\r\nLet&#39;s say you&#39;re building a &quot;mood weather&quot; app that looks up the user&#39;s GPS location and checks the current temperature in that area and tells them the mood. This type of app doesn&#39;t need to declare API endpoints; it just needs to be able to access one API endpoint.\r\n\r\n### Ion\r\n\r\nThis is a great library for this type of access.\r\n\r\nPlease read [msysmilu&#39;s great answer][6] to *https://stackoverflow.com/questions/6343166*.\r\n\r\n# Load images via HTTP\r\n\r\n## Volley\r\n\r\n*Volley can also be used for REST APIs, but due to the more complicated setup required, I prefer to use [Retrofit][4] from Square as above.*\r\n\r\nLet&#39;s say you are building a social networking app and want to load profile pictures of friends.\r\n\r\n### File *build.gradle*\r\n\r\nAdd this line to your *module* level *build.gradle* file:\r\n\r\n    implementation &#39;com.android.volley:volley:1.0.0&#39;\r\n\r\n### File *ImageFetch.java*\r\n\r\nVolley requires more setup than Retrofit. You will need to create a class like this to setup a RequestQueue, an ImageLoader and an ImageCache, but it&#39;s not too bad:\r\n\r\n    public class ImageFetch {\r\n    \tprivate static ImageLoader imageLoader = null;\r\n    \tprivate static RequestQueue imageQueue = null;\r\n\r\n    \tpublic static ImageLoader getImageLoader(Context ctx){\r\n    \t\tif(imageLoader == null){\r\n    \t\t\tif(imageQueue == null){\r\n    \t\t\t\timageQueue = Volley.newRequestQueue(ctx.getApplicationContext());\r\n    \t\t\t}\r\n    \t\t\timageLoader = new ImageLoader(imageQueue, new ImageLoader.ImageCache() {\r\n    \t\t\t\tMap&lt;String, Bitmap&gt; cache = new HashMap&lt;String, Bitmap&gt;();\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic Bitmap getBitmap(String url) {\r\n    \t\t\t\t\treturn cache.get(url);\r\n    \t\t\t\t}\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void putBitmap(String url, Bitmap bitmap) {\r\n    \t\t\t\t\tcache.put(url, bitmap);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\treturn imageLoader;\r\n    \t}\r\n    }\r\n\r\n### File *user_view_dialog.xml*\r\n\r\nAdd the following to your layout XML file to add an image:\r\n\r\n```lang-xml\r\n&lt;com.android.volley.toolbox.NetworkImageView\r\n\tandroid:id=&quot;@+id/profile_picture&quot;\r\n\tandroid:layout_width=&quot;32dp&quot;\r\n\tandroid:layout_height=&quot;32dp&quot;\r\n\tandroid:layout_alignParentTop=&quot;true&quot;\r\n\tandroid:layout_centerHorizontal=&quot;true&quot;\r\n\tapp:srcCompat=&quot;@android:drawable/spinner_background&quot;/&gt;\r\n```\r\n\r\n### File *UserViewDialog.java*\r\n\r\nAdd the following code to the onCreate method (Fragment, Activity) or the constructor (Dialog):\r\n\r\n    NetworkImageView profilePicture = view.findViewById(R.id.profile_picture);\r\n    profilePicture.setImageUrl(&quot;http://example.com/users/images/profile.jpg&quot;, ImageFetch.getImageLoader(getContext());\r\n\r\n## Picasso\r\n\r\n[Picasso][7] is another excellent library from Square. Please see the website for some great examples.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Representational_state_transfer\r\n  [2]: https://amzn.github.io/ion-docs/\r\n  [3]: https://developer.android.com/training/volley/\r\n  [4]: http://square.github.io/retrofit/\r\n  [5]: https://stackoverflow.com/questions/42898920/add-header-parameter-in-retrofit/42899766#42899766\r\n  [6]: https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/28559884#28559884\r\n  [7]: http://square.github.io/picasso/\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>There are many great answers already on this question, but a lot of great libraries have come out since those answers were posted. This is intended as a kind of newbie-guide.</p>\n<p>I will cover several use cases for performing network operations and <em>a</em> solution or two for each.</p>\n<h1 id=\"rest-over-http-nzt9\"><a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow noreferrer\">REST</a> over HTTP</h1>\n<p><em>Typically JSON, but it can be XML or something else.</em></p>\n<h2 id=\"full-api-access-wvsz\">Full API Access</h2>\n<p>Let's say you are writing an app that lets users track stock prices, interest rates and currency exchange rates. You find an JSON API that looks something like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>http://api.example.com/stocks                       // ResponseWrapper&lt;String&gt; object containing a\n                                                    // list of strings with ticker symbols\nhttp://api.example.com/stocks/$symbol               // Stock object\nhttp://api.example.com/stocks/$symbol/prices        // PriceHistory&lt;Stock&gt; object\nhttp://api.example.com/currencies                   // ResponseWrapper&lt;String&gt; object containing a\n                                                    // list of currency abbreviation\nhttp://api.example.com/currencies/$currency         // Currency object\nhttp://api.example.com/currencies/$id1/values/$id2  // PriceHistory&lt;Currency&gt; object comparing the prices\n                                                    // of the first currency (id1) to the second (id2)\n</code></pre>\n<h3 id=\"retrofit-from-square-j5a1\">Retrofit from Square</h3>\n<p>This is an excellent choice for an API with multiple endpoints and allows you to declare the REST endpoints instead of having to code them individually as with other libraries like <a href=\"https://amzn.github.io/ion-docs/\" rel=\"nofollow noreferrer\">Amazon Ion Java</a> or <a href=\"https://developer.android.com/training/volley/\" rel=\"nofollow noreferrer\">Volley</a> (website: <em><a href=\"http://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a></em>).</p>\n<p>How do you use it with the finances API?</p>\n<h3 id=\"file-build.gradle-uu1e\">File <em>build.gradle</em></h3>\n<p>Add these lines to your <em>module</em> level <em>build.gradle</em> file:</p>\n<pre><code>implementation 'com.squareup.retrofit2:retrofit:2.3.0' // Retrofit library, current as of September 21, 2017\nimplementation 'com.squareup.retrofit2:converter-gson:2.3.0' // Gson serialization and deserialization support for retrofit, version must match retrofit version\n</code></pre>\n<h3 id=\"file-financesapi.java-lwca\">File <em>FinancesApi.java</em></h3>\n<pre><code>public interface FinancesApi {\n    @GET(&quot;stocks&quot;)\n    Call&lt;ResponseWrapper&lt;String&gt;&gt; listStocks();\n    @GET(&quot;stocks/{symbol}&quot;)\n    Call&lt;Stock&gt; getStock(@Path(&quot;symbol&quot;)String tickerSymbol);\n    @GET(&quot;stocks/{symbol}/prices&quot;)\n    Call&lt;PriceHistory&lt;Stock&gt;&gt; getPriceHistory(@Path(&quot;symbol&quot;)String tickerSymbol);\n\n    @GET(&quot;currencies&quot;)\n    Call&lt;ResponseWrapper&lt;String&gt;&gt; listCurrencies();\n    @GET(&quot;currencies/{symbol}&quot;)\n    Call&lt;Currency&gt; getCurrency(@Path(&quot;symbol&quot;)String currencySymbol);\n    @GET(&quot;currencies/{symbol}/values/{compare_symbol}&quot;)\n    Call&lt;PriceHistory&lt;Currency&gt;&gt; getComparativeHistory(@Path(&quot;symbol&quot;)String currency, @Path(&quot;compare_symbol&quot;)String currencyToPriceAgainst);\n}\n</code></pre>\n<h3 id=\"class-financesapibuilder-7lsi\">Class <em>FinancesApiBuilder</em></h3>\n<pre><code>public class FinancesApiBuilder {\n    public static FinancesApi build(String baseUrl){\n        return new Retrofit.Builder()\n                    .baseUrl(baseUrl)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n                    .create(FinancesApi.class);\n    }\n}\n</code></pre>\n<h3 id=\"class-financesfragment-snippet-4nuc\">Class <em>FinancesFragment</em> snippet</h3>\n<pre><code>FinancesApi api = FinancesApiBuilder.build(&quot;http://api.example.com/&quot;); //trailing '/' required for predictable behavior\napi.getStock(&quot;INTC&quot;).enqueue(new Callback&lt;Stock&gt;(){\n    @Override\n    public void onResponse(Call&lt;Stock&gt; stockCall, Response&lt;Stock&gt; stockResponse){\n        Stock stock = stockCall.body();\n        // Do something with the stock\n    }\n    @Override\n    public void onResponse(Call&lt;Stock&gt; stockCall, Throwable t){\n        // Something bad happened\n    }\n}\n</code></pre>\n<p>If your API requires an API key or other header, like a user token, etc. to be sent, Retrofit makes this easy (see <a href=\"https://stackoverflow.com/questions/42898920/add-header-parameter-in-retrofit/42899766#42899766\">this awesome answer</a> to <em><a href=\"https://stackoverflow.com/questions/42898920/\">Add Header Parameter in Retrofit</a></em> for details).</p>\n<h2 id=\"one-off-rest-api-access-z59h\">One-off REST API access</h2>\n<p>Let's say you're building a &quot;mood weather&quot; app that looks up the user's GPS location and checks the current temperature in that area and tells them the mood. This type of app doesn't need to declare API endpoints; it just needs to be able to access one API endpoint.</p>\n<h3 id=\"ion-oacp\">Ion</h3>\n<p>This is a great library for this type of access.</p>\n<p>Please read <a href=\"https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/28559884#28559884\">msysmilu's great answer</a> to <em><a href=\"https://stackoverflow.com/questions/6343166\">How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?</a></em>.</p>\n<h1 id=\"load-images-via-http-8qty\">Load images via HTTP</h1>\n<h2 id=\"volley-ct3h\">Volley</h2>\n<p><em>Volley can also be used for REST APIs, but due to the more complicated setup required, I prefer to use <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a> from Square as above.</em></p>\n<p>Let's say you are building a social networking app and want to load profile pictures of friends.</p>\n<h3 id=\"file-build.gradle-1-xq8r\">File <em>build.gradle</em></h3>\n<p>Add this line to your <em>module</em> level <em>build.gradle</em> file:</p>\n<pre><code>implementation 'com.android.volley:volley:1.0.0'\n</code></pre>\n<h3 id=\"file-imagefetch.java-g0ls\">File <em>ImageFetch.java</em></h3>\n<p>Volley requires more setup than Retrofit. You will need to create a class like this to setup a RequestQueue, an ImageLoader and an ImageCache, but it's not too bad:</p>\n<pre><code>public class ImageFetch {\n    private static ImageLoader imageLoader = null;\n    private static RequestQueue imageQueue = null;\n\n    public static ImageLoader getImageLoader(Context ctx){\n        if(imageLoader == null){\n            if(imageQueue == null){\n                imageQueue = Volley.newRequestQueue(ctx.getApplicationContext());\n            }\n            imageLoader = new ImageLoader(imageQueue, new ImageLoader.ImageCache() {\n                Map&lt;String, Bitmap&gt; cache = new HashMap&lt;String, Bitmap&gt;();\n                @Override\n                public Bitmap getBitmap(String url) {\n                    return cache.get(url);\n                }\n                @Override\n                public void putBitmap(String url, Bitmap bitmap) {\n                    cache.put(url, bitmap);\n                }\n            });\n        }\n        return imageLoader;\n    }\n}\n</code></pre>\n<h3 id=\"file-user_view_dialog.xml-vi6y\">File <em>user_view_dialog.xml</em></h3>\n<p>Add the following to your layout XML file to add an image:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.android.volley.toolbox.NetworkImageView\n    android:id=&quot;@+id/profile_picture&quot;\n    android:layout_width=&quot;32dp&quot;\n    android:layout_height=&quot;32dp&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    app:srcCompat=&quot;@android:drawable/spinner_background&quot;/&gt;\n</code></pre>\n<h3 id=\"file-userviewdialog.java-qsy0\">File <em>UserViewDialog.java</em></h3>\n<p>Add the following code to the onCreate method (Fragment, Activity) or the constructor (Dialog):</p>\n<pre><code>NetworkImageView profilePicture = view.findViewById(R.id.profile_picture);\nprofilePicture.setImageUrl(&quot;http://example.com/users/images/profile.jpg&quot;, ImageFetch.getImageLoader(getContext());\n</code></pre>\n<h2 id=\"picasso-iipo\">Picasso</h2>\n<p><a href=\"http://square.github.io/picasso/\" rel=\"nofollow noreferrer\">Picasso</a> is another excellent library from Square. Please see the website for some great examples.</p>\n"},{"tags":[],"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626978365,"creation_date":1516226096,"answer_id":48310641,"question_id":6343166,"body_markdown":"As of 2018, I would recommend to use [RxJava][1] in Kotlin for network fetching. A simple example is below.\r\n\r\n    Single.fromCallable {\r\n            // Your Network Fetching Code\r\n            Network.fetchHttp(url) \r\n        }\r\n        .subscribeOn(Schedulers.io())\r\n        .observeOn(AndroidSchedulers.mainThread())\r\n        .subscribe {\r\n            // What you need to do with your result on the view \r\n            result -&gt; view.updateScreen(result) \r\n        }\r\n\r\n  [1]: https://stackoverflow.com/tags/rx-java/info\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>As of 2018, I would recommend to use <a href=\"https://stackoverflow.com/tags/rx-java/info\">RxJava</a> in Kotlin for network fetching. A simple example is below.</p>\n<pre><code>Single.fromCallable {\n        // Your Network Fetching Code\n        Network.fetchHttp(url) \n    }\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe {\n        // What you need to do with your result on the view \n        result -&gt; view.updateScreen(result) \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1626975707,"creation_date":1521302329,"answer_id":49338894,"question_id":6343166,"body_markdown":"You are able to move a part of your code into another thread to offload the `main thread` and avoid getting [ANR][1], [NetworkOnMainThreadException][2], [IllegalStateException][3] (e.g., cannot access database on the main thread since it may potentially lock the UI for a long period of time).\r\n\r\nThere are some approaches that you should choose depends on the situation\r\n\r\nJava [Thread][4] or Android [HandlerThread][5]:\r\n\r\n&gt;Java threads are one-time use only and die after executing its run method.\r\n&gt;\r\n&gt;HandlerThread is a handy class for starting a new thread that has a looper.\r\n\r\n[AsyncTask][6] (**deprecated** in API level 30)\r\n&gt;**AsyncTask** is designed to be a helper class around **Thread** and **Handler** and does not constitute a generic threading framework. AsyncTasks should ideally be used for short operations (a few seconds at the most.) If you need to keep threads running for long periods of time, it is highly recommended you use the various APIs provided by the java.util.concurrent package such as **Executor**, **ThreadPoolExecutor** and **FutureTask**.\r\n\r\nSince the *main* thread monopolizes UI components, it is not possible to access to some View, and that is why Handler comes to the rescue\r\n\r\n[\\[Executor framework\\]][7]\r\n\r\n&gt; ThreadPoolExecutor class that implements ExecutorService which gives fine control on the thread pool (E.g., core pool size, max pool size, keep alive time, etc.)\r\n&gt;\r\n&gt; ScheduledThreadPoolExecutor - a class that extends ThreadPoolExecutor. It can schedule tasks after a given delay or periodically.\r\n\r\n[FutureTask][10]\r\n&gt;FutureTask performs asynchronous processing, however, if the result is not ready yet or processing has not complete, calling get() will be block the thread\r\n\r\n[AsyncTaskLoaders][11]\r\n&gt;AsyncTaskLoaders as they solve a lot of problems that are inherent to AsyncTask\r\n\r\n[IntentService][12]\r\n&gt; This is the de facto choice for long running processing on Android, a good example would be to upload or download large files. The upload and download may continue even if the user exits the app and you certainly do not want to block the user from being able to use the app while these tasks are going on.\r\n\r\n[JobScheduler][13]\r\n&gt; Effectively, you have to create a Service and create a job using JobInfo.Builder that specifies your criteria for when to run the service.\r\n\r\n[RxJava][14]\r\n&gt; Library for composing asynchronous and event-based programs by using observable sequences.\r\n\r\n[Coroutines][15] (Kotlin)\r\n&gt; The main gist of it is, it makes asynchronous code looks so much like synchronous\r\n\r\nRead more [here][16], [here][17], [here][18], and [here][19].\r\n\r\n  [1]: https://developer.android.com/topic/performance/vitals/anr.html\r\n  [2]: https://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\r\n  [3]: https://developer.android.com/reference/java/lang/IllegalStateException.html\r\n  [4]: https://developer.android.com/reference/java/lang/Thread.html\r\n  [5]: https://developer.android.com/reference/android/os/HandlerThread.html\r\n  [6]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [7]: https://stackoverflow.com/a/66567556/4770877\r\n  [8]: https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor.html\r\n  [9]: https://developer.android.com/reference/java/util/concurrent/ScheduledThreadPoolExecutor.html\r\n  [10]: https://developer.android.com/reference/java/util/concurrent/FutureTask.html\r\n  [11]: https://developer.android.com/reference/android/content/AsyncTaskLoader.html\r\n  [12]: https://developer.android.com/reference/android/app/IntentService.html\r\n  [13]: https://developer.android.com/reference/android/app/job/JobScheduler.html\r\n  [14]: https://github.com/ReactiveX/RxJava\r\n  [15]: https://kotlinlang.org/docs/reference/coroutines.html\r\n  [16]: https://android.jlelse.eu/8-ways-to-do-asynchronous-processing-in-android-and-counting-f634dc6fae4e\r\n  [17]: https://medium.com/@elye.project/the-evolution-of-android-network-access-1e199fc6e9a2\r\n  [18]: https://medium.com/@frank.tan/using-a-thread-pool-in-android-e3c88f59d07f\r\n  [19]: https://guides.codepath.com/android/Managing-Threads-and-Custom-Services#handlerthread-caveats\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You are able to move a part of your code into another thread to offload the <code>main thread</code> and avoid getting <a href=\"https://developer.android.com/topic/performance/vitals/anr.html\" rel=\"nofollow noreferrer\">ANR</a>, <a href=\"https://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\" rel=\"nofollow noreferrer\">NetworkOnMainThreadException</a>, <a href=\"https://developer.android.com/reference/java/lang/IllegalStateException.html\" rel=\"nofollow noreferrer\">IllegalStateException</a> (e.g., cannot access database on the main thread since it may potentially lock the UI for a long period of time).</p>\n<p>There are some approaches that you should choose depends on the situation</p>\n<p>Java <a href=\"https://developer.android.com/reference/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread</a> or Android <a href=\"https://developer.android.com/reference/android/os/HandlerThread.html\" rel=\"nofollow noreferrer\">HandlerThread</a>:</p>\n<blockquote>\n<p>Java threads are one-time use only and die after executing its run method.</p>\n<p>HandlerThread is a handy class for starting a new thread that has a looper.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">AsyncTask</a> (<strong>deprecated</strong> in API level 30)</p>\n<blockquote>\n<p><strong>AsyncTask</strong> is designed to be a helper class around <strong>Thread</strong> and <strong>Handler</strong> and does not constitute a generic threading framework. AsyncTasks should ideally be used for short operations (a few seconds at the most.) If you need to keep threads running for long periods of time, it is highly recommended you use the various APIs provided by the java.util.concurrent package such as <strong>Executor</strong>, <strong>ThreadPoolExecutor</strong> and <strong>FutureTask</strong>.</p>\n</blockquote>\n<p>Since the <em>main</em> thread monopolizes UI components, it is not possible to access to some View, and that is why Handler comes to the rescue</p>\n<p><a href=\"https://stackoverflow.com/a/66567556/4770877\">[Executor framework]</a></p>\n<blockquote>\n<p>ThreadPoolExecutor class that implements ExecutorService which gives fine control on the thread pool (E.g., core pool size, max pool size, keep alive time, etc.)</p>\n<p>ScheduledThreadPoolExecutor - a class that extends ThreadPoolExecutor. It can schedule tasks after a given delay or periodically.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/java/util/concurrent/FutureTask.html\" rel=\"nofollow noreferrer\">FutureTask</a></p>\n<blockquote>\n<p>FutureTask performs asynchronous processing, however, if the result is not ready yet or processing has not complete, calling get() will be block the thread</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/content/AsyncTaskLoader.html\" rel=\"nofollow noreferrer\">AsyncTaskLoaders</a></p>\n<blockquote>\n<p>AsyncTaskLoaders as they solve a lot of problems that are inherent to AsyncTask</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/app/IntentService.html\" rel=\"nofollow noreferrer\">IntentService</a></p>\n<blockquote>\n<p>This is the de facto choice for long running processing on Android, a good example would be to upload or download large files. The upload and download may continue even if the user exits the app and you certainly do not want to block the user from being able to use the app while these tasks are going on.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/app/job/JobScheduler.html\" rel=\"nofollow noreferrer\">JobScheduler</a></p>\n<blockquote>\n<p>Effectively, you have to create a Service and create a job using JobInfo.Builder that specifies your criteria for when to run the service.</p>\n</blockquote>\n<p><a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\">RxJava</a></p>\n<blockquote>\n<p>Library for composing asynchronous and event-based programs by using observable sequences.</p>\n</blockquote>\n<p><a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"nofollow noreferrer\">Coroutines</a> (Kotlin)</p>\n<blockquote>\n<p>The main gist of it is, it makes asynchronous code looks so much like synchronous</p>\n</blockquote>\n<p>Read more <a href=\"https://android.jlelse.eu/8-ways-to-do-asynchronous-processing-in-android-and-counting-f634dc6fae4e\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://medium.com/@elye.project/the-evolution-of-android-network-access-1e199fc6e9a2\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://medium.com/@frank.tan/using-a-thread-pool-in-android-e3c88f59d07f\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"https://guides.codepath.com/android/Managing-Threads-and-Custom-Services#handlerthread-caveats\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":8502650,"reputation":1226,"user_id":6375170,"display_name":"Ashok Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626978431,"creation_date":1525944279,"answer_id":50269579,"question_id":6343166,"body_markdown":"Different options:\r\n\r\n1. Use a normal Java runnable thread to process the network task and one can use runOnUIThread() to update the UI\r\n\r\n2. intentservice/ async task can be used in case you want to update the UI after getting a network response\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Different options:</p>\n<ol>\n<li><p>Use a normal Java runnable thread to process the network task and one can use runOnUIThread() to update the UI</p>\n</li>\n<li><p>intentservice/ async task can be used in case you want to update the UI after getting a network response</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9030732,"reputation":432,"user_id":6728443,"accept_rate":25,"display_name":"Devix"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1626977706,"creation_date":1544479777,"answer_id":53714429,"question_id":6343166,"body_markdown":"If you are working in Kotlin and [Anko][1] you can add:\r\n\r\n    doAsync {\r\n        method()\r\n    }\r\n\r\n  [1]: https://github.com/Kotlin/anko\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>If you are working in Kotlin and <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Anko</a> you can add:</p>\n<pre><code>doAsync {\n    method()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9794879,"reputation":11137,"user_id":7258332,"accept_rate":33,"display_name":"Santanu Sur"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1626977827,"creation_date":1551461855,"answer_id":54949705,"question_id":6343166,"body_markdown":"You can use Kotlin [coroutines][1]:\r\n\r\n     class YoutActivity : AppCompatActivity, CoroutineScope {\r\n          \r\n          override fun onCreate(...) {\r\n             launch {  yourHeavyMethod() }\r\n          }\r\n\r\n          suspend fun yourHeavyMethod() {\r\n             with(Dispatchers.IO){ yourNetworkCall() }\r\n             ...\r\n             ...\r\n          }\r\n     } \r\n\r\nYou can follow [this guide]. \r\n\r\n  [this guide]: https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#1\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coroutine\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can use Kotlin <a href=\"https://en.wikipedia.org/wiki/Coroutine\" rel=\"nofollow noreferrer\">coroutines</a>:</p>\n<pre><code> class YoutActivity : AppCompatActivity, CoroutineScope {\n      \n      override fun onCreate(...) {\n         launch {  yourHeavyMethod() }\n      }\n\n      suspend fun yourHeavyMethod() {\n         with(Dispatchers.IO){ yourNetworkCall() }\n         ...\n         ...\n      }\n } \n</code></pre>\n<p>You can follow <a href=\"https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#1\" rel=\"nofollow noreferrer\">this guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38492,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559374863,"creation_date":1559374863,"answer_id":56404790,"question_id":6343166,"body_markdown":"# Kotlin version\n\n    internal class RetrieveFeedTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\n\n        override fun doInBackground(vararg urls: String): RSSFeed? {\n\n            try {\n                 // download\n                 // prepare RSSFeeds\n                 return RSSFeeds\n\n             } catch (e: Exception) {\n    \n                //handle exception\n                return null\n            }\n        }\n\n        override fun onPostExecute(feed: RSSFeed) {\n            // TODO: check this.exception\n            // TODO: do something with the feed\n        }\n    }\n\nCall example,\n\n    RetrieveFeedTask().execute(url)","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<h1>Kotlin version</h1>\n<pre><code>internal class RetrieveFeedTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\n\n    override fun doInBackground(vararg urls: String): RSSFeed? {\n\n        try {\n             // download\n             // prepare RSSFeeds\n             return RSSFeeds\n\n         } catch (e: Exception) {\n\n            //handle exception\n            return null\n        }\n    }\n\n    override fun onPostExecute(feed: RSSFeed) {\n        // TODO: check this.exception\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n<p>Call example,</p>\n<pre><code>RetrieveFeedTask().execute(url)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15010717,"reputation":1183,"user_id":10835287,"display_name":"Vipul Prajapati"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1560142947,"creation_date":1560142255,"answer_id":56520664,"question_id":6343166,"body_markdown":"Do this in Background Thread using `AsycTask`\r\n\r\n**Java**\r\n\r\n    class NetworkThread extends AsyncTask&lt;String, Void, String&gt; {\r\n\r\n        protected Void doInBackground(String... arg0) {\r\n            //Your implementation\r\n        }\r\n\r\n        protected void onPostExecute(String result) {\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n\r\nCall wherever you need\r\n\r\n    new NetworkThread().execute(&quot;Your URL here&quot;);\r\n\r\n**Kotlin**\r\n\r\n    internal class MyNetworkTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\r\n\r\n        override fun doInBackground(vararg urls: String): RSSFeed? {\r\n            try {\r\n                 // download\r\n                 // prepare RSSFeeds\r\n                 return RSSFeeds\r\n             } catch (e: Exception) {\r\n                //handle exception\r\n                return null\r\n            }\r\n        }\r\n\r\n        override fun onPostExecute(feed: RSSFeed) {\r\n            // TODO: check this.exception\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n\r\nCall in kotlin\r\n\r\n    MyNetworkTask().execute(url)","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Do this in Background Thread using <code>AsycTask</code></p>\n\n<p><strong>Java</strong></p>\n\n<pre><code>class NetworkThread extends AsyncTask&lt;String, Void, String&gt; {\n\n    protected Void doInBackground(String... arg0) {\n        //Your implementation\n    }\n\n    protected void onPostExecute(String result) {\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n\n<p>Call wherever you need</p>\n\n<pre><code>new NetworkThread().execute(\"Your URL here\");\n</code></pre>\n\n<p><strong>Kotlin</strong></p>\n\n<pre><code>internal class MyNetworkTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\n\n    override fun doInBackground(vararg urls: String): RSSFeed? {\n        try {\n             // download\n             // prepare RSSFeeds\n             return RSSFeeds\n         } catch (e: Exception) {\n            //handle exception\n            return null\n        }\n    }\n\n    override fun onPostExecute(feed: RSSFeed) {\n        // TODO: check this.exception\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n\n<p>Call in kotlin</p>\n\n<pre><code>MyNetworkTask().execute(url)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13377127,"reputation":769,"user_id":9653703,"display_name":"Richard Kamere"},"down_vote_count":5,"up_vote_count":8,"is_accepted":false,"score":3,"last_activity_date":1626977499,"creation_date":1566149221,"answer_id":57546836,"question_id":6343166,"body_markdown":"I had a similar problem. I just used the following in the *oncreate* method of your activity.\r\n\r\n    // Allow strict mode\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\nAnd it worked well.\r\n\r\nThe caveat is that using this for a network request that takes more than 100 milliseconds will cause noticeable UI freeze and potentially ANRs (Application Not Responding), so keep that in mind.\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I had a similar problem. I just used the following in the <em>oncreate</em> method of your activity.</p>\n<pre><code>// Allow strict mode\nStrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n<p>And it worked well.</p>\n<p>The caveat is that using this for a network request that takes more than 100 milliseconds will cause noticeable UI freeze and potentially ANRs (Application Not Responding), so keep that in mind.</p>\n"},{"tags":[],"owner":{"account_id":10538204,"reputation":2189,"user_id":7765316,"display_name":"majurageerthan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1626977587,"creation_date":1577890330,"answer_id":59553481,"question_id":6343166,"body_markdown":"From [developer-android][1]:\r\n\r\n&gt; AsyncTasks should ideally be used for short operations (a few seconds at the most.)\r\n\r\nUsing `newCachedThreadPool` is the good one. also you can consider other options like `newSingleThreadExecutor`, `newFixedThreadPool`\r\n\r\n        ExecutorService myExecutor = Executors.newCachedThreadPool();\r\n        myExecutor.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                URL url = new URL(urls[0]);\r\n                SAXParserFactory factory = SAXParserFactory.newInstance();\r\n                SAXParser parser = factory.newSAXParser();\r\n                XMLReader xmlreader = parser.getXMLReader();\r\n                RssHandler theRSSHandler = new RssHandler();\r\n                xmlreader.setContentHandler(theRSSHandler);\r\n                InputSource is = new InputSource(url.openStream());\r\n                xmlreader.parse(is);\r\n            }\r\n        });\r\n\r\n&gt; [ThreadPoolExecutor][2] is a helper class to make this process easier. This\r\n&gt; class manages the creation of a group of threads, sets their\r\n&gt; priorities, and manages how work is distributed among those threads.\r\n&gt; As workload increases or decreases, the class spins up or destroys\r\n&gt; more threads to adjust to the workload.\r\n\r\nSee [this][3] for more information about Android threads.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor.html\r\n  [3]: https://developer.android.com/topic/performance/threads\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>From <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">developer-android</a>:</p>\n<blockquote>\n<p>AsyncTasks should ideally be used for short operations (a few seconds at the most.)</p>\n</blockquote>\n<p>Using <code>newCachedThreadPool</code> is the good one. also you can consider other options like <code>newSingleThreadExecutor</code>, <code>newFixedThreadPool</code></p>\n<pre><code>    ExecutorService myExecutor = Executors.newCachedThreadPool();\n    myExecutor.execute(new Runnable() {\n        @Override\n        public void run() {\n            URL url = new URL(urls[0]);\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser parser = factory.newSAXParser();\n            XMLReader xmlreader = parser.getXMLReader();\n            RssHandler theRSSHandler = new RssHandler();\n            xmlreader.setContentHandler(theRSSHandler);\n            InputSource is = new InputSource(url.openStream());\n            xmlreader.parse(is);\n        }\n    });\n</code></pre>\n<blockquote>\n<p><a href=\"https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a> is a helper class to make this process easier. This\nclass manages the creation of a group of threads, sets their\npriorities, and manages how work is distributed among those threads.\nAs workload increases or decreases, the class spins up or destroys\nmore threads to adjust to the workload.</p>\n</blockquote>\n<p>See <a href=\"https://developer.android.com/topic/performance/threads\" rel=\"nofollow noreferrer\">this</a> for more information about Android threads.</p>\n"},{"tags":[],"owner":{"account_id":8152269,"reputation":3283,"user_id":6138892,"accept_rate":40,"display_name":"Rahul"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1626976990,"creation_date":1581416882,"answer_id":60166784,"question_id":6343166,"body_markdown":"On Android, network operations cannot be run on the main thread. You can use `Thread`, `AsyncTask` (short-running tasks), `Service` (long-running tasks) to do network operations. `android.os.NetworkOnMainThreadException` is thrown when an application attempts to perform a networking operation on its main thread. If your task took above five seconds, it takes a force close.\r\n\r\nRun your code in `AsyncTask`:\r\n\r\n    class FeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\r\n\r\n        protected RSSFeed doInBackground(String... urls) {\r\n           // TODO: Connect\r\n        }\r\n\r\n        protected void onPostExecute(RSSFeed feed) {\r\n            // TODO: Check this.exception\r\n            // TODO: Do something with the feed\r\n        }\r\n    }\r\n\r\n*Or*\r\n\r\n    new Thread(new Runnable(){\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Your implementation\r\n            }\r\n            catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }).start();\r\n\r\n\r\n**This is not recommended.**\r\n\r\nBut for *debugging* purposes, you can disable the strict mode as well using the following code:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy =\r\n            new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>On Android, network operations cannot be run on the main thread. You can use <code>Thread</code>, <code>AsyncTask</code> (short-running tasks), <code>Service</code> (long-running tasks) to do network operations. <code>android.os.NetworkOnMainThreadException</code> is thrown when an application attempts to perform a networking operation on its main thread. If your task took above five seconds, it takes a force close.</p>\n<p>Run your code in <code>AsyncTask</code>:</p>\n<pre><code>class FeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\n\n    protected RSSFeed doInBackground(String... urls) {\n       // TODO: Connect\n    }\n\n    protected void onPostExecute(RSSFeed feed) {\n        // TODO: Check this.exception\n        // TODO: Do something with the feed\n    }\n}\n</code></pre>\n<p><em>Or</em></p>\n<pre><code>new Thread(new Runnable(){\n    @Override\n    public void run() {\n        try {\n            // Your implementation\n        }\n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}).start();\n</code></pre>\n<p><strong>This is not recommended.</strong></p>\n<p>But for <em>debugging</em> purposes, you can disable the strict mode as well using the following code:</p>\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\n    StrictMode.ThreadPolicy policy =\n        new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1176846,"reputation":5131,"user_id":1152643,"accept_rate":50,"display_name":"Oleg Gryb"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1626977968,"creation_date":1584144717,"answer_id":60678608,"question_id":6343166,"body_markdown":"These answers need to be updated to use more contemporary way to connect to servers on the Internet and to process asynchronous tasks in general.\r\n\r\nFor example, you can find examples where **Tasks** are used in a [Google Drive API sample][1]. The same should be used in this case. I&#39;ll use the OP&#39;s original code to demonstrate this approach.\r\n\r\nFirst, you&#39;ll need to define an off-main thread executor and you need to do it only once:\r\n\r\n    private val mExecutor: Executor = Executors.newSingleThreadExecutor()\r\n\r\nThen process your logic in that executor, which will be running off main thread\r\n\r\n    Tasks.call (mExecutor, Callable&lt;String&gt; {\r\n\r\n            val url = URL(urlToRssFeed)\r\n            val factory = SAXParserFactory.newInstance()\r\n            val parser = factory.newSAXParser()\r\n            val xmlreader = parser.getXMLReader()\r\n            val theRSSHandler = RssHandler()\r\n            xmlreader.setContentHandler(theRSSHandler)\r\n            val is = InputSource(url.openStream())\r\n            xmlreader.parse(is)\r\n            theRSSHandler.getFeed()\r\n\r\n            // Complete processing and return a String or other object.\r\n            // E.g., you could return Boolean indicating a success or failure.\r\n            return@Callable someResult\r\n    }).continueWith{\r\n        // it.result here is what your asynchronous task has returned\r\n        processResult(it.result)\r\n    }\r\n\r\n**continueWith** clause will be executed after your asynchronous task is completed and you will have an access to a value that has been returned by the task through **it.result**.\r\n\r\n  [1]: https://github.com/gsuitedevs/android-samples/tree/master/drive/deprecation\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>These answers need to be updated to use more contemporary way to connect to servers on the Internet and to process asynchronous tasks in general.</p>\n<p>For example, you can find examples where <strong>Tasks</strong> are used in a <a href=\"https://github.com/gsuitedevs/android-samples/tree/master/drive/deprecation\" rel=\"nofollow noreferrer\">Google Drive API sample</a>. The same should be used in this case. I'll use the OP's original code to demonstrate this approach.</p>\n<p>First, you'll need to define an off-main thread executor and you need to do it only once:</p>\n<pre><code>private val mExecutor: Executor = Executors.newSingleThreadExecutor()\n</code></pre>\n<p>Then process your logic in that executor, which will be running off main thread</p>\n<pre><code>Tasks.call (mExecutor, Callable&lt;String&gt; {\n\n        val url = URL(urlToRssFeed)\n        val factory = SAXParserFactory.newInstance()\n        val parser = factory.newSAXParser()\n        val xmlreader = parser.getXMLReader()\n        val theRSSHandler = RssHandler()\n        xmlreader.setContentHandler(theRSSHandler)\n        val is = InputSource(url.openStream())\n        xmlreader.parse(is)\n        theRSSHandler.getFeed()\n\n        // Complete processing and return a String or other object.\n        // E.g., you could return Boolean indicating a success or failure.\n        return@Callable someResult\n}).continueWith{\n    // it.result here is what your asynchronous task has returned\n    processResult(it.result)\n}\n</code></pre>\n<p><strong>continueWith</strong> clause will be executed after your asynchronous task is completed and you will have an access to a value that has been returned by the task through <strong>it.result</strong>.</p>\n"},{"tags":[],"owner":{"account_id":16913603,"reputation":428,"user_id":12232152,"display_name":"El Sushiboi"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1626977109,"creation_date":1597414783,"answer_id":63414575,"question_id":6343166,"body_markdown":"&lt;h2&gt; Kotlin &lt;/h2&gt;\r\n\r\nIf you are using Kotlin, you can use a *[coroutine][1]*:\r\n\r\n    fun doSomeNetworkStuff() {\r\n        GlobalScope.launch(Dispatchers.IO) {\r\n            // ...\r\n        }\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coroutine\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<h2> Kotlin </h2>\n<p>If you are using Kotlin, you can use a <em><a href=\"https://en.wikipedia.org/wiki/Coroutine\" rel=\"noreferrer\">coroutine</a></em>:</p>\n<pre><code>fun doSomeNetworkStuff() {\n    GlobalScope.launch(Dispatchers.IO) {\n        // ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13971473,"reputation":367,"user_id":10089961,"display_name":"Shay Ribera"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1688560720,"creation_date":1602773794,"answer_id":64374371,"question_id":6343166,"body_markdown":"Google deprecated the Android AsyncTask API in Android 11.\r\n\r\nEven if you create a thread class outside the main activity, just by calling it in main, you will get the same error. The calls must be inside a runnable thread, but if you need some asynchronous code to execute in the background or some on post afterwards here, you can check out some alternatives for both Kotlin and Java:\r\n\r\n    *https://stackoverflow.com/questions/58767733/android-asynctask-api-deprecating-in-android-11-what-are-the-alternatives*\r\n\r\nThe one that worked for me specifically was an answer by mayank1513 for a [Java&amp;nbsp;8][1] implementation of a runnable thread found on the above link. The code is as follows:\r\n\r\n    new Thread(() -&gt; {\r\n        // do background stuff here\r\n        runOnUiThread(() -&gt; {\r\n            // OnPostExecute stuff here\r\n        });\r\n    }).start();\r\n\r\nHowever, you can define the thread first in some part of your code and start it somewhere else like this:\r\n\r\nThread definition\r\n\r\n    Thread thread = new Thread(() -&gt; {\r\n        // do background stuff here\r\n        runOnUiThread(() -&gt; {\r\n            // OnPostExecute stuff here\r\n        });\r\n    });\r\n\r\nThread call\r\n\r\n    thread.start();\r\n\r\nI hope this saves someone the headache of seeing the deprecated `AsyncTask`.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Google deprecated the Android AsyncTask API in Android 11.</p>\n<p>Even if you create a thread class outside the main activity, just by calling it in main, you will get the same error. The calls must be inside a runnable thread, but if you need some asynchronous code to execute in the background or some on post afterwards here, you can check out some alternatives for both Kotlin and Java:</p>\n<pre><code>*https://stackoverflow.com/questions/58767733/android-asynctask-api-deprecating-in-android-11-what-are-the-alternatives*\n</code></pre>\n<p>The one that worked for me specifically was an answer by mayank1513 for a <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\">Java 8</a> implementation of a runnable thread found on the above link. The code is as follows:</p>\n<pre><code>new Thread(() -&gt; {\n    // do background stuff here\n    runOnUiThread(() -&gt; {\n        // OnPostExecute stuff here\n    });\n}).start();\n</code></pre>\n<p>However, you can define the thread first in some part of your code and start it somewhere else like this:</p>\n<p>Thread definition</p>\n<pre><code>Thread thread = new Thread(() -&gt; {\n    // do background stuff here\n    runOnUiThread(() -&gt; {\n        // OnPostExecute stuff here\n    });\n});\n</code></pre>\n<p>Thread call</p>\n<pre><code>thread.start();\n</code></pre>\n<p>I hope this saves someone the headache of seeing the deprecated <code>AsyncTask</code>.</p>\n"},{"tags":[],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612781403,"creation_date":1611569567,"answer_id":65882706,"question_id":6343166,"body_markdown":"Here&#39;s a simple solution using `OkHttp`, `Future`, `ExecutorService` and `Callable`:\r\n\r\n```\r\nfinal OkHttpClient httpClient = new OkHttpClient();\r\nfinal ExecutorService executor = newFixedThreadPool(3);\r\n\r\nfinal Request request = new Request.Builder().url(&quot;http://example.com&quot;).build();\r\n\r\nResponse response = executor.submit(new Callable&lt;Response&gt;() {\r\n   public Response call() throws IOException {\r\n      return httpClient.newCall(request).execute();\r\n   }\r\n}).get();\r\n```","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Here's a simple solution using <code>OkHttp</code>, <code>Future</code>, <code>ExecutorService</code> and <code>Callable</code>:</p>\n<pre><code>final OkHttpClient httpClient = new OkHttpClient();\nfinal ExecutorService executor = newFixedThreadPool(3);\n\nfinal Request request = new Request.Builder().url(&quot;http://example.com&quot;).build();\n\nResponse response = executor.submit(new Callable&lt;Response&gt;() {\n   public Response call() throws IOException {\n      return httpClient.newCall(request).execute();\n   }\n}).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17893889,"reputation":749,"user_id":12999770,"display_name":"Sunny Gupta"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1626978270,"creation_date":1613897689,"answer_id":66300622,"question_id":6343166,"body_markdown":"Android does not allow to run long-running operations on the main thread.\r\n\r\nSo just use a different thread and post the result to the main thread when needed.\r\n\r\n    new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                /*\r\n                // Run operation here\r\n                */\r\n                // After getting the result\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        // Post the result to the main thread\r\n                    }\r\n                });\r\n            }\r\n        }).start();\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Android does not allow to run long-running operations on the main thread.</p>\n<p>So just use a different thread and post the result to the main thread when needed.</p>\n<pre><code>new Thread(new Runnable() {\n        @Override\n        public void run() {\n            /*\n            // Run operation here\n            */\n            // After getting the result\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    // Post the result to the main thread\n                }\n            });\n        }\n    }).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1301136,"reputation":2793,"user_id":1450409,"accept_rate":60,"display_name":"nyxee"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626978327,"creation_date":1617580324,"answer_id":66946843,"question_id":6343166,"body_markdown":"I converted the network access function returning a value into a suspend function like so:\r\n\r\n```{kotlin}\r\n\r\nsuspend fun isInternetReachable(): Boolean {\r\n  ...\r\n  ...\r\n  return result\r\n}\r\n```\r\n\r\nThen I modified where I was using the function to fit into this:\r\n\r\n```{kotlin}\r\n...\r\nGlobalscope.async{\r\n  ...\r\n  result = isInternetReachable()\r\n  ...\r\n}\r\n...\r\n```\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I converted the network access function returning a value into a suspend function like so:</p>\n<pre><code>\nsuspend fun isInternetReachable(): Boolean {\n  ...\n  ...\n  return result\n}\n</code></pre>\n<p>Then I modified where I was using the function to fit into this:</p>\n<pre><code>...\nGlobalscope.async{\n  ...\n  result = isInternetReachable()\n  ...\n}\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9705313,"reputation":317,"user_id":7198913,"display_name":"Sourav Kumar Verma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1651399114,"creation_date":1651399114,"answer_id":72075706,"question_id":6343166,"body_markdown":"    Executors.newFixedThreadPool(3).execute(() -&gt; {\r\n          //DO Task;        \r\n     });","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<pre><code>Executors.newFixedThreadPool(3).execute(() -&gt; {\n      //DO Task;        \n });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7870611,"reputation":2463,"user_id":5948056,"display_name":"programandoconro"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1652172363,"creation_date":1652172363,"answer_id":72183216,"question_id":6343166,"body_markdown":"I solved using `Thread` in Kotlin. There are many examples using Java, so I wanted to add a solution that worked for me in Kotlin. \r\n\r\n```\r\n Thread {\r\n     println(&quot;NEW THREAD&quot;)\r\n     callAPI() // add your own task\r\n }.start()\r\n```\r\n\r\nSo, as many others greatly explained, you cannot block the main thread with you call, so it is necessary to create a new thread. \r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I solved using <code>Thread</code> in Kotlin. There are many examples using Java, so I wanted to add a solution that worked for me in Kotlin.</p>\n<pre><code> Thread {\n     println(&quot;NEW THREAD&quot;)\n     callAPI() // add your own task\n }.start()\n</code></pre>\n<p>So, as many others greatly explained, you cannot block the main thread with you call, so it is necessary to create a new thread.</p>\n"}],"owner":{"account_id":420081,"reputation":29495,"user_id":797593,"accept_rate":44,"display_name":"bejoy george"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1491592,"favorite_count":0,"down_vote_count":11,"up_vote_count":2729,"accepted_answer_id":6343299,"answer_count":64,"score":2718,"last_activity_date":1688560787,"creation_date":1308052920,"question_id":6343166,"body_markdown":"I got an error while running my Android project for RssReader. \r\n\r\nCode:\r\n\r\n    URL url = new URL(urlToRssFeed);\r\n    SAXParserFactory factory = SAXParserFactory.newInstance();\r\n    SAXParser parser = factory.newSAXParser();\r\n    XMLReader xmlreader = parser.getXMLReader();\r\n    RssHandler theRSSHandler = new RssHandler();\r\n    xmlreader.setContentHandler(theRSSHandler);\r\n    InputSource is = new InputSource(url.openStream());\r\n    xmlreader.parse(is);\r\n    return theRSSHandler.getFeed();\r\n\r\nAnd it shows the below error:\r\n\r\n    android.os.NetworkOnMainThreadException\r\n\r\nHow can I fix this issue?\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I got an error while running my Android project for RssReader. </p>\n\n<p>Code:</p>\n\n<pre><code>URL url = new URL(urlToRssFeed);\nSAXParserFactory factory = SAXParserFactory.newInstance();\nSAXParser parser = factory.newSAXParser();\nXMLReader xmlreader = parser.getXMLReader();\nRssHandler theRSSHandler = new RssHandler();\nxmlreader.setContentHandler(theRSSHandler);\nInputSource is = new InputSource(url.openStream());\nxmlreader.parse(is);\nreturn theRSSHandler.getFeed();\n</code></pre>\n\n<p>And it shows the below error:</p>\n\n<pre><code>android.os.NetworkOnMainThreadException\n</code></pre>\n\n<p>How can I fix this issue?</p>\n"},{"tags":["java","memory","scope"],"comments":[{"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"score":0,"creation_date":1460667257,"post_id":36633788,"comment_id":60862802,"body_markdown":"Does that honestly seem like readable code to you? Moreover, how do you think that this will reduce memory load?","body":"Does that honestly seem like readable code to you? Moreover, how do you think that this will reduce memory load?"},{"owner":{"account_id":7564113,"reputation":22471,"user_id":5740428,"accept_rate":64,"display_name":"Jan Schultke"},"score":1,"creation_date":1460667549,"post_id":36633788,"comment_id":60862944,"body_markdown":"Variables would get garbage collected before the method is completely done, which is far better than waiting for the entire method to end and seeing its variables getting garbage collected at that point.","body":"Variables would get garbage collected before the method is completely done, which is far better than waiting for the entire method to end and seeing its variables getting garbage collected at that point."},{"owner":{"account_id":7852006,"reputation":2536,"user_id":5935221,"display_name":"nyname00"},"score":0,"creation_date":1460668201,"post_id":36633788,"comment_id":60863255,"body_markdown":"A simple `obj1 = null` (and a comment) would be much more readable.","body":"A simple <code>obj1 = null</code> (and a comment) would be much more readable."},{"owner":{"account_id":1666904,"reputation":529,"user_id":1534124,"display_name":"simonh"},"score":0,"creation_date":1460668452,"post_id":36633788,"comment_id":60863371,"body_markdown":"While assigning a variable to null allows garbage collection of the object, it doesn&#39;t limit the scope of the variable.  Chances are, you don&#39;t want to reuse the variable for anything else, so better to close the scope.  I quite happily use braces as per Sleiman Jneidi&#39;s answer, although for me it&#39;s always about limiting scope for readability not for garbage collection.","body":"While assigning a variable to null allows garbage collection of the object, it doesn&#39;t limit the scope of the variable.  Chances are, you don&#39;t want to reuse the variable for anything else, so better to close the scope.  I quite happily use braces as per Sleiman Jneidi&#39;s answer, although for me it&#39;s always about limiting scope for readability not for garbage collection."}],"answers":[{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688560571,"creation_date":1460667448,"answer_id":36633860,"question_id":36633788,"body_markdown":"You don&#39;t need the `if(true)` to reduce the scope of variables.\r\n\r\nThis would be enough\r\n\r\n    {\r\n        var obj1 = new MyClass(1);\r\n        var obj2 = new MyClass(2);\r\n    }","title":"Should you use if(true) blocks to limit the scope of variables?","body":"<p>You don't need the <code>if(true)</code> to reduce the scope of variables.</p>\n<p>This would be enough</p>\n<pre><code>{\n    var obj1 = new MyClass(1);\n    var obj2 = new MyClass(2);\n}\n</code></pre>\n"}],"owner":{"account_id":7564113,"reputation":22471,"user_id":5740428,"accept_rate":64,"display_name":"Jan Schultke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36633860,"answer_count":1,"score":0,"last_activity_date":1688560571,"creation_date":1460667217,"question_id":36633788,"body_markdown":"In the past I&#39;ve had to create some enormous methods which could not really be turned into a bunch of smaller methods since it simply wouldn&#39;t have made any sense to do so.\r\n\r\nSince initializing a lot of variables can be fairly memory-intensive, I&#39;ve asked myself whether simply using an `if(true)` statement would help reduce the scope in these situations and therefore reduce memory load. It would also improve code quality, because variables wouldn&#39;t be accessible elsewhere, when they&#39;re no longer needed.\r\n\r\n##### Example\r\n\r\n```java\r\nif (true) {\r\n    var obj1 = new MyClass(1);\r\n    var obj2 = new MyClass(2);\r\n}\r\n// ...rest of method which does not need obj1 and obj2\r\n```\r\nIs this a good or bad idea? ","title":"Should you use if(true) blocks to limit the scope of variables?","body":"<p>In the past I've had to create some enormous methods which could not really be turned into a bunch of smaller methods since it simply wouldn't have made any sense to do so.</p>\n<p>Since initializing a lot of variables can be fairly memory-intensive, I've asked myself whether simply using an <code>if(true)</code> statement would help reduce the scope in these situations and therefore reduce memory load. It would also improve code quality, because variables wouldn't be accessible elsewhere, when they're no longer needed.</p>\n<h5>Example</h5>\n<pre class=\"lang-java prettyprint-override\"><code>if (true) {\n    var obj1 = new MyClass(1);\n    var obj2 = new MyClass(2);\n}\n// ...rest of method which does not need obj1 and obj2\n</code></pre>\n<p>Is this a good or bad idea?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1687813555,"post_id":76559945,"comment_id":134986503,"body_markdown":"A screenshot is one image, so of course, a screenshot will not show any animation.  You have to minimize the JFrame, take your screenshot, and restore the JFrame.","body":"A screenshot is one image, so of course, a screenshot will not show any animation.  You have to minimize the JFrame, take your screenshot, and restore the JFrame."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1687814575,"post_id":76559945,"comment_id":134986650,"body_markdown":"Could you, please, give more details / clarity about what you want to do, and why you want to do it?","body":"Could you, please, give more details / clarity about what you want to do, and why you want to do it?"},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":1,"creation_date":1687903514,"post_id":76559945,"comment_id":135001740,"body_markdown":"I am trying to make a magnifying glass consisting of a transparent frame. The area under the &quot;glass&quot; should be magnified, even if it is animating. Let me add that to the question","body":"I am trying to make a magnifying glass consisting of a transparent frame. The area under the &quot;glass&quot; should be magnified, even if it is animating. Let me add that to the question"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1688361410,"post_id":76559945,"comment_id":135058665,"body_markdown":"Still not clear (at least to me) what you want to achieve. Perhaps you can post some screen captures demonstrating what you are trying to do? Also, what &quot;animation&quot; are you referring to?","body":"Still not clear (at least to me) what you want to achieve. Perhaps you can post some screen captures demonstrating what you are trying to do? Also, what &quot;animation&quot; are you referring to?"},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1688507321,"post_id":76559945,"comment_id":135082256,"body_markdown":"@Abra I want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java","body":"@Abra I want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688542071,"post_id":76559945,"comment_id":135085404,"body_markdown":"It sounds like your solutions would work if you just refresh them quick enough to show the animation.","body":"It sounds like your solutions would work if you just refresh them quick enough to show the animation."},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1688559884,"post_id":76559945,"comment_id":135089083,"body_markdown":"@matt actually no, because the screen capture would copy the magnified image itself, not the image under it. Even if it could, it would be prohibitively time intensive to render that several times per second.","body":"@matt actually no, because the screen capture would copy the magnified image itself, not the image under it. Even if it could, it would be prohibitively time intensive to render that several times per second."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688563127,"post_id":76559945,"comment_id":135089943,"body_markdown":"&quot;... it would be prohibitively time intensive to render that several times per second.&quot; I don&#39;t understand what would be so time intensive. What about having the magnification screen not be directly over what you&#39;re magnifying? From the sounds of it you would need access to the windowing api which java doesn&#39;t supply.","body":"&quot;... it would be prohibitively time intensive to render that several times per second.&quot; I don&#39;t understand what would be so time intensive. What about having the magnification screen not be directly over what you&#39;re magnifying? From the sounds of it you would need access to the windowing api which java doesn&#39;t supply."},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1688572430,"post_id":76559945,"comment_id":135092360,"body_markdown":"I guess that is what I was asking :(","body":"I guess that is what I was asking :("}],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688560286,"creation_date":1687810254,"question_id":76559945,"body_markdown":"In Java Swing, is there any way to magnify what is behind a JFrame? \r\n\r\nI am trying to make a magnifying glass consisting of a transparent JFrame. The area under the &quot;glass&quot; should be magnified, even if that area is in motion, e.g. if it contains a video.\r\n\r\nI want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example, if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java\r\n\r\nI have tried using a Robot with a transparent frame, but if there is any animation behind the frame, the frame just captures a still snapshot of the animation.\r\n","title":"In Java Swing, is there any way to magnify what is behind a JFrame?","body":"<p>In Java Swing, is there any way to magnify what is behind a JFrame?</p>\n<p>I am trying to make a magnifying glass consisting of a transparent JFrame. The area under the &quot;glass&quot; should be magnified, even if that area is in motion, e.g. if it contains a video.</p>\n<p>I want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example, if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java</p>\n<p>I have tried using a Robot with a transparent frame, but if there is any animation behind the frame, the frame just captures a still snapshot of the animation.</p>\n"},{"tags":["java","spring","spring-boot","podman"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1688551776,"post_id":76619279,"comment_id":135087357,"body_markdown":"An `alias` will usually only apply to the shell you define it in, it is *not* inherited by other process, especially not ones that don&#39;t themselves use/call a shell. So try to create a symlink somewhere on the path instead of defining an `alias`.","body":"An <code>alias</code> will usually only apply to the shell you define it in, it is <i>not</i> inherited by other process, especially not ones that don&#39;t themselves use/call a shell. So try to create a symlink somewhere on the path instead of defining an <code>alias</code>."},{"owner":{"account_id":21795756,"reputation":43,"user_id":16095359,"display_name":"KaiSkywalker90"},"score":0,"creation_date":1688552446,"post_id":76619279,"comment_id":135087511,"body_markdown":"Thank you very much, @joachim-sauer. The truth is that I had not thought of such a solution until you mentioned it to me. Thanks again.","body":"Thank you very much, @joachim-sauer. The truth is that I had not thought of such a solution until you mentioned it to me. Thanks again."}],"owner":{"account_id":21795756,"reputation":43,"user_id":16095359,"display_name":"KaiSkywalker90"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688560184,"creation_date":1688551667,"question_id":76619279,"body_markdown":"I&#39;m trying to adjust my project to take advantage of spring boot support for docker compose, but I have some problems using podman, instead of docker.\r\n\r\nSpring Boot uses ProcessBuilder to do the Docker command checks inside the DockerCli class, but ProcessBuilder doesn&#39;t take into account the defined &#39;aliases&#39; when it runs the docker command:\r\n\r\n```\r\nalias docker=podman\r\n```\r\n\r\nSo, when I run the application I get the following error:\r\n\r\n```\r\norg.springframework.boot.docker.compose.core.DockerProcessStartException: Unable to start docker process. Is docker correctly installed?\r\n\tat org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.getDockerCommand(DockerCli.java:140) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.&lt;init&gt;(DockerCli.java:129) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.core.DockerCli.lambda$new$0(DockerCli.java:65) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1228) ~[na:na]\r\n\tat org.springframework.boot.docker.compose.core.DockerCli.&lt;init&gt;(DockerCli.java:64) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.core.DockerCompose.get(DockerCompose.java:92) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.getDockerCompose(DockerComposeLifecycleManager.java:147) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.start(DockerComposeLifecycleManager.java:110) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:53) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:35) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:98) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:416) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat com.github.kai9026.bootupdates.SpringBootUpdatesApplication.main(SpringBootUpdatesApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.boot.docker.compose.core.ProcessStartException: Unable to start command docker version --format {{.Client.Version}}\r\n\t\r\n```\r\n\r\nIs there any solution to use podman with spring boot docker compose support without having to install docker? I tried different things but I have not been able to get it to work.\r\n\r\nRegards.","title":"Is there any solution to use podman with spring boot docker compose support?","body":"<p>I'm trying to adjust my project to take advantage of spring boot support for docker compose, but I have some problems using podman, instead of docker.</p>\n<p>Spring Boot uses ProcessBuilder to do the Docker command checks inside the DockerCli class, but ProcessBuilder doesn't take into account the defined 'aliases' when it runs the docker command:</p>\n<pre><code>alias docker=podman\n</code></pre>\n<p>So, when I run the application I get the following error:</p>\n<pre><code>org.springframework.boot.docker.compose.core.DockerProcessStartException: Unable to start docker process. Is docker correctly installed?\n    at org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.getDockerCommand(DockerCli.java:140) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.&lt;init&gt;(DockerCli.java:129) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.core.DockerCli.lambda$new$0(DockerCli.java:65) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1228) ~[na:na]\n    at org.springframework.boot.docker.compose.core.DockerCli.&lt;init&gt;(DockerCli.java:64) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.core.DockerCompose.get(DockerCompose.java:92) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.getDockerCompose(DockerComposeLifecycleManager.java:147) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.start(DockerComposeLifecycleManager.java:110) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:53) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:35) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:98) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:416) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\n    at com.github.kai9026.bootupdates.SpringBootUpdatesApplication.main(SpringBootUpdatesApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.boot.docker.compose.core.ProcessStartException: Unable to start command docker version --format {{.Client.Version}}\n    \n</code></pre>\n<p>Is there any solution to use podman with spring boot docker compose support without having to install docker? I tried different things but I have not been able to get it to work.</p>\n<p>Regards.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9665,"page":327,"page_size":100}
