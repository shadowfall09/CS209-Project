{"items":[{"tags":["java","hibernate","jpa","jakarta-ee","constraints"],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681671254,"creation_date":1681670307,"answer_id":76029674,"question_id":76028971,"body_markdown":"Jakarta Persistence API have never defined `@Check` annotation. So, `jakarta.persistence.Check` doesn&#39;t exsist neither in 2.3 nor 3.x specification. The latest specification is available [here](https://jakarta.ee/specifications/persistence/3.1/jakarta-persistence-spec-3.1.html) and the source code is [here](https://github.com/jakartaee/persistence/).\r\n\r\nI assume you would like to use `org.hibernate.annotations.Check`\r\nFor further information, follow this link: https://docs.jboss.org/hibernate/orm/5.5/userguide/html_single/Hibernate_User_Guide.html#schema-generation-database-checks.\r\n\r\nFinally, I&#39;d like to point out some important parts of this code.\r\n\r\n1. Hibernate Entitymanager 5.5.7 reached the End Of Life phase. This version is no longer supported. I strongly recommend to upgrade this dependency.\r\n1. `spring-data-jpa:3.0.4` has an optional dependency `hibernate-core:6.1.4.Final`. That&#39;s because I recommend use Hibernate 6.x.\r\n1. You&#39;ve defined two incompatible JPA API in the dependencies: `javax.persistence:javax.persistence-api:2.2` and `jakarta.persistence:jakarta.persistence-api:3.1.0` Both Spring Framework 6 and Spring Boot 3 are fully Jakarta EE 9 compatible. On Jakarta stack using any `javax.*` dependency may cause problems.","title":"jakarta.persistence.Check constraint not working","body":"<p>Jakarta Persistence API have never defined <code>@Check</code> annotation. So, <code>jakarta.persistence.Check</code> doesn't exsist neither in 2.3 nor 3.x specification. The latest specification is available <a href=\"https://jakarta.ee/specifications/persistence/3.1/jakarta-persistence-spec-3.1.html\" rel=\"nofollow noreferrer\">here</a> and the source code is <a href=\"https://github.com/jakartaee/persistence/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I assume you would like to use <code>org.hibernate.annotations.Check</code>\nFor further information, follow this link: <a href=\"https://docs.jboss.org/hibernate/orm/5.5/userguide/html_single/Hibernate_User_Guide.html#schema-generation-database-checks\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.5/userguide/html_single/Hibernate_User_Guide.html#schema-generation-database-checks</a>.</p>\n<p>Finally, I'd like to point out some important parts of this code.</p>\n<ol>\n<li>Hibernate Entitymanager 5.5.7 reached the End Of Life phase. This version is no longer supported. I strongly recommend to upgrade this dependency.</li>\n<li><code>spring-data-jpa:3.0.4</code> has an optional dependency <code>hibernate-core:6.1.4.Final</code>. That's because I recommend use Hibernate 6.x.</li>\n<li>You've defined two incompatible JPA API in the dependencies: <code>javax.persistence:javax.persistence-api:2.2</code> and <code>jakarta.persistence:jakarta.persistence-api:3.1.0</code> Both Spring Framework 6 and Spring Boot 3 are fully Jakarta EE 9 compatible. On Jakarta stack using any <code>javax.*</code> dependency may cause problems.</li>\n</ol>\n"}],"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76029674,"answer_count":1,"score":1,"last_activity_date":1681671254,"creation_date":1681662148,"question_id":76028971,"body_markdown":"I have the following Movie class in a Spring Boot project that holds list of actors. I wanted to make sure an actor wont be deleted if its part of a movie and I want to enforce this constraint on a database level by JPA/Hibernate. However when I import `jakarta.persistence.Check` the complier is not recognizing it even if I had the right dependency in gradle. I assume this is versioning issue but I couldn&#39;t get it resolved.\r\n\r\n\r\n        import jakarta.persistence.*;\r\n        import jakarta.persistence.Check;\r\n        \r\n        \r\n        import lombok.AllArgsConstructor;\r\n        import lombok.Getter;\r\n        import lombok.NoArgsConstructor;\r\n        import lombok.Setter;\r\n        \r\n        import java.time.LocalDate;\r\n        import java.util.HashSet;\r\n        import java.util.Set;\r\n        \r\n        @Entity\r\n        @Table(name = &quot;movies&quot;,\r\n                uniqueConstraints = @UniqueConstraint(columnNames = {&quot;title&quot;, &quot;releaseDate&quot;}))\r\n    public class Movie extends Media {\r\n    \r\n        @Column(nullable = false)\r\n        private String title;\r\n    \r\n        @Column(nullable = false)\r\n        private LocalDate releaseDate;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(\r\n                name = &quot;movie_actor&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;movie_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;actor_id&quot;),\r\n                uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;movie_id&quot;, &quot;actor_id&quot;})},\r\n                foreignKey = @ForeignKey(name = &quot;fk_movie&quot;),\r\n                inverseForeignKey = @ForeignKey(name = &quot;fk_actor&quot;),\r\n                // add check constraint to ensure actor is not deleted if part of any movie\r\n                constraints = @Check(constraints = &quot;NOT EXISTS(SELECT * FROM movie_actor ma WHERE ma.actor_id = id)&quot;)\r\n        )\r\n        private Set&lt;Actor&gt; actors = new HashSet&lt;&gt;();\r\n    }\r\n\r\nHere is my gradle.build file:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n        id &#39;io.freefair.lombok&#39; version &#39;8.0.1&#39;\r\n    }\r\n    \r\n    group = &#39;com.bill&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        //jcenter()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.data:spring-data-jpa:3.0.4&#39;\r\n        implementation &#39;javax.persistence:javax.persistence-api:2.2&#39;\r\n        implementation &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;\r\n        implementation &#39;jakarta.validation:jakarta.validation-api:3.0.2&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-validation:2.6.3&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;mysql:mysql-connector-java:8.0.32&#39;\r\n        implementation &#39;org.hibernate:hibernate-core:5.5.7.Final&#39;\r\n        implementation &#39;org.hibernate:hibernate-entitymanager:5.5.7.Final&#39;\r\n    \r\n    /*\r\n    \r\n     */\r\n    \r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n        annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.annotationProcessorPath = configurations.compileClasspath\r\n    }\r\n\r\n","title":"jakarta.persistence.Check constraint not working","body":"<p>I have the following Movie class in a Spring Boot project that holds list of actors. I wanted to make sure an actor wont be deleted if its part of a movie and I want to enforce this constraint on a database level by JPA/Hibernate. However when I import <code>jakarta.persistence.Check</code> the complier is not recognizing it even if I had the right dependency in gradle. I assume this is versioning issue but I couldn't get it resolved.</p>\n<pre><code>    import jakarta.persistence.*;\n    import jakarta.persistence.Check;\n    \n    \n    import lombok.AllArgsConstructor;\n    import lombok.Getter;\n    import lombok.NoArgsConstructor;\n    import lombok.Setter;\n    \n    import java.time.LocalDate;\n    import java.util.HashSet;\n    import java.util.Set;\n    \n    @Entity\n    @Table(name = &quot;movies&quot;,\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;title&quot;, &quot;releaseDate&quot;}))\npublic class Movie extends Media {\n\n    @Column(nullable = false)\n    private String title;\n\n    @Column(nullable = false)\n    private LocalDate releaseDate;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;movie_actor&quot;,\n            joinColumns = @JoinColumn(name = &quot;movie_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;actor_id&quot;),\n            uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;movie_id&quot;, &quot;actor_id&quot;})},\n            foreignKey = @ForeignKey(name = &quot;fk_movie&quot;),\n            inverseForeignKey = @ForeignKey(name = &quot;fk_actor&quot;),\n            // add check constraint to ensure actor is not deleted if part of any movie\n            constraints = @Check(constraints = &quot;NOT EXISTS(SELECT * FROM movie_actor ma WHERE ma.actor_id = id)&quot;)\n    )\n    private Set&lt;Actor&gt; actors = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>Here is my gradle.build file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.5'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'io.freefair.lombok' version '8.0.1'\n}\n\ngroup = 'com.bill'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n    //jcenter()\n}\n\ndependencies {\n    implementation 'org.springframework.data:spring-data-jpa:3.0.4'\n    implementation 'javax.persistence:javax.persistence-api:2.2'\n    implementation 'jakarta.persistence:jakarta.persistence-api:3.1.0'\n    implementation 'jakarta.validation:jakarta.validation-api:3.0.2'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:2.6.3'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'mysql:mysql-connector-java:8.0.32'\n    implementation 'org.hibernate:hibernate-core:5.5.7.Final'\n    implementation 'org.hibernate:hibernate-entitymanager:5.5.7.Final'\n\n/*\n\n */\n\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\ntasks.withType(JavaCompile) {\n    options.annotationProcessorPath = configurations.compileClasspath\n}\n</code></pre>\n"},{"tags":["java","node.js"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1681665739,"post_id":76029272,"comment_id":134089632,"body_markdown":"What happens when printing `s`?","body":"What happens when printing <code>s</code>?"},{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1681666023,"post_id":76029272,"comment_id":134089682,"body_markdown":"Oh boy, Unicode is even stranger than you think","body":"Oh boy, Unicode is even stranger than you think"},{"owner":{"account_id":22226004,"reputation":13342,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":1,"creation_date":1681667944,"post_id":76029272,"comment_id":134089966,"body_markdown":"Does this answer your question? [What is a &quot;surrogate pair&quot; in Java?](https://stackoverflow.com/questions/5903008/what-is-a-surrogate-pair-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5903008/what-is-a-surrogate-pair-in-java\">What is a &quot;surrogate pair&quot; in Java?</a>"},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1681668466,"post_id":76029272,"comment_id":134090048,"body_markdown":"Kind of TL;DR to Helko&#39;s link. String in Java represents text in UTF-16 format. Which uses 2 consecutive bytes if the Unicode code point value is higher than `FFFF` which is `1F60A` for the emoji in your case. This pair of consecutive bytes is known as surrogates (the leading being a higher-, the following being lower-surrogate). Finally, based on the docs of `String.charAt`, in case of a character encoded by surrogate pairs, the call returns a single surrogate each time. However, each surrogate doesn&#39;t represent any character. In fact, surrogate values are reserved and don&#39;t map to any symbol","body":"Kind of TL;DR to Helko&#39;s link. String in Java represents text in UTF-16 format. Which uses 2 consecutive bytes if the Unicode code point value is higher than <code>FFFF</code> which is <code>1F60A</code> for the emoji in your case. This pair of consecutive bytes is known as surrogates (the leading being a higher-, the following being lower-surrogate). Finally, based on the docs of <code>String.charAt</code>, in case of a character encoded by surrogate pairs, the call returns a single surrogate each time. However, each surrogate doesn&#39;t represent any character. In fact, surrogate values are reserved and don&#39;t map to any symbol"},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1681675140,"post_id":76029272,"comment_id":134090932,"body_markdown":"@user16320675, for me it is working normal with both characters you&#39;ve mentioned. Perhaps something to do with your default system encoding `env | grep LANG`? If it is different than `UTF-8`, reading in `UTF-8` can lead to corrupted results","body":"@user16320675, for me it is working normal with both characters you&#39;ve mentioned. Perhaps something to do with your default system encoding <code>env | grep LANG</code>? If it is different than <code>UTF-8</code>, reading in <code>UTF-8</code> can lead to corrupted results"},{"owner":{"account_id":26769319,"reputation":55,"user_id":20365983,"display_name":"f478ccf2"},"score":0,"creation_date":1681764213,"post_id":76029272,"comment_id":134106752,"body_markdown":"@TurkhanBadalov I&#39;m on Windows","body":"@TurkhanBadalov I&#39;m on Windows"},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1681803094,"post_id":76029272,"comment_id":134111226,"body_markdown":"@f478ccf2, I am sorry","body":"@f478ccf2, I am sorry"}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681682126,"post_id":76029739,"comment_id":134091740,"body_markdown":"Wonky system setting? That is not normal behaviour and not something I can reproduce on this machine.","body":"Wonky system setting? That is not normal behaviour and not something I can reproduce on this machine."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681683422,"post_id":76029739,"comment_id":134091851,"body_markdown":"As I said, cannot reproduce, so, it&#39;s not &#39;java cannot support that&#39;, as it clearly does, here.","body":"As I said, cannot reproduce, so, it&#39;s not &#39;java cannot support that&#39;, as it clearly does, here."},{"owner":{"account_id":26769319,"reputation":55,"user_id":20365983,"display_name":"f478ccf2"},"score":0,"creation_date":1682028756,"post_id":76029739,"comment_id":134155767,"body_markdown":"I&#39;ve tried reading the raw bytes via System.in.read, but it produces the same result. What&#39;s going on? System.in is an input stream after all","body":"I&#39;ve tried reading the raw bytes via System.in.read, but it produces the same result. What&#39;s going on? System.in is an input stream after all"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681671036,"creation_date":1681671036,"answer_id":76029739,"question_id":76029272,"body_markdown":"In javascript strings are raw bytes (in the end, processes have &#39;standard in&#39; and &#39;standard out&#39; and they do&#39;nt _have_ to be a keyboard and screen, they can e.g. be files - and these stdin and stdout are defined as byte streams after all - hence, they aren&#39;t chars!) - and you read them in and emit them right back out. It&#39;ll work regardless of encoding setting.\r\n\r\nWhereas in the java code you are converting the bytes to strings and then back to bytes which is going to fail unless you have the right encoding.\r\n\r\nIn addition, you&#39;re running into a nitpicky thing about `char` in java: It&#39;s not.. actually a unicode value. You want `.codepointAt(0)`, not `.charAt(0)`. `charAt` gives you the first of a surrogate pair (in java, `char` is only 16-bit large which is enough for almost all chars, but not for e.g. emojis).","title":"Strange console behaviour","body":"<p>In javascript strings are raw bytes (in the end, processes have 'standard in' and 'standard out' and they do'nt <em>have</em> to be a keyboard and screen, they can e.g. be files - and these stdin and stdout are defined as byte streams after all - hence, they aren't chars!) - and you read them in and emit them right back out. It'll work regardless of encoding setting.</p>\n<p>Whereas in the java code you are converting the bytes to strings and then back to bytes which is going to fail unless you have the right encoding.</p>\n<p>In addition, you're running into a nitpicky thing about <code>char</code> in java: It's not.. actually a unicode value. You want <code>.codepointAt(0)</code>, not <code>.charAt(0)</code>. <code>charAt</code> gives you the first of a surrogate pair (in java, <code>char</code> is only 16-bit large which is enough for almost all chars, but not for e.g. emojis).</p>\n"}],"owner":{"account_id":26769319,"reputation":55,"user_id":20365983,"display_name":"f478ccf2"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1681671036,"creation_date":1681665662,"question_id":76029272,"body_markdown":"I&#39;ve noticed in Node.js, when reading stdin from the Windows Console (conhost.exe), when you input a UTF-8 character it reads it just fine, with any code page.\r\n\r\nI&#39;ve been testing with an emoji (&#128522;), but you can try it with whatever you want.\r\n\r\n(both these programs were run in cmd.exe)\r\nExample code:\r\n```js\r\nprocess.stdin.on(&quot;readable&quot;, () =&gt; {\r\n    var input = process.stdin.read();\r\n    if (input !== null) {\r\n        console.log(input); // this will output the correct UTF-8 bytes, &lt;Buffer f0 9f 98 8a 0d 0a&gt;\r\n        process.exit();\r\n    }\r\n});\r\n```\r\n\r\nNow testing with Java\r\n```java\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader r = new BufferedReader(new InputStreamReader(System.in, StandardCharsets.UTF_8));\r\n        String s = r.readLine();\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            char c = s.charAt(i);\r\n            System.out.println((int) c);\r\n        }\r\n    }\r\n}\r\n```\r\nWith the default code page (437), it outputs (63, 63), while with 65001 (UTF-8), it outputs two null bytes (0, 0), which is even stranger.\r\n\r\nI thought the Windows console (conhost) didn&#39;t support Unicode, but Node can at least read the bytes intact (albeit not being able to display them as text). How can it do that, and is there a way I can get this behaviour in Java?","title":"Strange console behaviour","body":"<p>I've noticed in Node.js, when reading stdin from the Windows Console (conhost.exe), when you input a UTF-8 character it reads it just fine, with any code page.</p>\n<p>I've been testing with an emoji (üòä), but you can try it with whatever you want.</p>\n<p>(both these programs were run in cmd.exe)\nExample code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>process.stdin.on(&quot;readable&quot;, () =&gt; {\n    var input = process.stdin.read();\n    if (input !== null) {\n        console.log(input); // this will output the correct UTF-8 bytes, &lt;Buffer f0 9f 98 8a 0d 0a&gt;\n        process.exit();\n    }\n});\n</code></pre>\n<p>Now testing with Java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.nio.charset.StandardCharsets;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        BufferedReader r = new BufferedReader(new InputStreamReader(System.in, StandardCharsets.UTF_8));\n        String s = r.readLine();\n        for (int i = 0; i &lt; s.length(); i++) {\n            char c = s.charAt(i);\n            System.out.println((int) c);\n        }\n    }\n}\n</code></pre>\n<p>With the default code page (437), it outputs (63, 63), while with 65001 (UTF-8), it outputs two null bytes (0, 0), which is even stranger.</p>\n<p>I thought the Windows console (conhost) didn't support Unicode, but Node can at least read the bytes intact (albeit not being able to display them as text). How can it do that, and is there a way I can get this behaviour in Java?</p>\n"},{"tags":["java","encoding","utf-8","asn.1","pkcs#7"],"comments":[{"owner":{"account_id":12244608,"reputation":1,"user_id":8936607,"display_name":"J.Nickolson"},"score":0,"creation_date":1510636261,"post_id":47278038,"comment_id":81506999,"body_markdown":"Actually, it can be processed, but only if I provide &quot;normal&quot; code to the field below &quot;ASN.1 JavaScript decoder&quot;. If I provide a file, it can not.","body":"Actually, it can be processed, but only if I provide &quot;normal&quot; code to the field below &quot;ASN.1 JavaScript decoder&quot;. If I provide a file, it can not."}],"answers":[{"tags":[],"owner":{"account_id":12244608,"reputation":1,"user_id":8936607,"display_name":"J.Nickolson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510639323,"creation_date":1510639323,"answer_id":47278695,"question_id":47278038,"body_markdown":"I finally found the solution. In the first case p7s sign is **hex-encoded**, while in the second it&#39;s **Base64** encoded. Based on this I should choose decoding algorithm.","title":"How to decode p7s sign properly","body":"<p>I finally found the solution. In the first case p7s sign is <strong>hex-encoded</strong>, while in the second it's <strong>Base64</strong> encoded. Based on this I should choose decoding algorithm.</p>\n"}],"owner":{"account_id":12244608,"reputation":1,"user_id":8936607,"display_name":"J.Nickolson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681671018,"creation_date":1510635962,"question_id":47278038,"body_markdown":"I have 2 pkcs7 signs. One of the can be easily decoded with http://lapo.it/asn1js/, while another cannot. I&#39;ve opened those 2 files with Windows Notepad and one of them(which can be easily decoded) is shown like this(only the beginning) &lt;p&gt;\r\n**0‚Äö—è\t*‚Ä†H‚Ä†—á\r\n&#160;‚Äö—Ä0‚Äö–º10**\r\n\r\nWeird, but this can be decoded. Moreover, notepad says that it&#39;s ANSI encoding.\r\n\r\nOn the other hand, my second file looks like &#39;normal&#39;\r\n&lt;p&gt;\r\n&lt;b&gt;MIIMMwYJKoZIhvcNAQcCoIIMJDCCDCACAQExDDAKBgYqhQMCAgkFADALBgkqhkiG&lt;/b&gt;\r\n&lt;/p&gt;\r\nand so on and so forth. \r\nNotepad says it&#39;s UTF-8 encoding. But I cannot verify who&#39;s the owner with ASN.1 decoder. The file just cannot be processed at all. I can figure this out only with Windows build-in utility. How can I make it to be decoded normally with ASN.1?\r\n","title":"How to decode p7s sign properly","body":"<p>I have 2 pkcs7 signs. One of the can be easily decoded with <a href=\"http://lapo.it/asn1js/\" rel=\"nofollow noreferrer\">http://lapo.it/asn1js/</a>, while another cannot. I've opened those 2 files with Windows Notepad and one of them(which can be easily decoded) is shown like this(only the beginning) <p>\n<strong>0‚Äö—è   *‚Ä†H‚Ä†—á\n¬†‚Äö—Ä0‚Äö–º10</strong></p>\n\n<p>Weird, but this can be decoded. Moreover, notepad says that it's ANSI encoding.</p>\n\n<p>On the other hand, my second file looks like 'normal'</p>\n\n<p>\n<b>MIIMMwYJKoZIhvcNAQcCoIIMJDCCDCACAQExDDAKBgYqhQMCAgkFADALBgkqhkiG</b>\n</p>\n\n<p>and so on and so forth. \nNotepad says it's UTF-8 encoding. But I cannot verify who's the owner with ASN.1 decoder. The file just cannot be processed at all. I can figure this out only with Windows build-in utility. How can I make it to be decoded normally with ASN.1?</p>\n"},{"tags":["java","yaml","config"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1681652569,"post_id":76028091,"comment_id":134087656,"body_markdown":"Then you need to test if the file is in the current directory first, else load from jar","body":"Then you need to test if the file is in the current directory first, else load from jar"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681652604,"post_id":76028091,"comment_id":134087660,"body_markdown":"Your load function currently only checks the classloader (inside the jar classpath). What have you tried to read the current directory?","body":"Your load function currently only checks the classloader (inside the jar classpath). What have you tried to read the current directory?"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681658317,"post_id":76028179,"comment_id":134088520,"body_markdown":"*...you can modify the load method to check if the config file exists in the same folder as the jar file.* That really depends on the parameter `fileName`. If it contains no file separator char then it won&#39;t look in &quot;the same folder as the jar&quot;. It will look in the *current directory* - something that could be quite different.","body":"<i>...you can modify the load method to check if the config file exists in the same folder as the jar file.</i> That really depends on the parameter <code>fileName</code>. If it contains no file separator char then it won&#39;t look in &quot;the same folder as the jar&quot;. It will look in the <i>current directory</i> - something that could be quite different."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681658323,"post_id":76028179,"comment_id":134088522,"body_markdown":"otoh, if it does contain file separator chars, i.e. you&#39;re instructed to look somewhere other than the current directory *and* when that &quot;fileName&quot; doesn&#39;t exist as a file, then using that as an argument to `getResourceX` might be quite inappropriate, since it requires a classloader url, *not* a file name","body":"otoh, if it does contain file separator chars, i.e. you&#39;re instructed to look somewhere other than the current directory <i>and</i> when that &quot;fileName&quot; doesn&#39;t exist as a file, then using that as an argument to <code>getResourceX</code> might be quite inappropriate, since it requires a classloader url, <i>not</i> a file name"}],"tags":[],"owner":{"account_id":2067193,"reputation":1380,"user_id":1842487,"display_name":"Saurav Kumar Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681653264,"creation_date":1681653264,"answer_id":76028179,"question_id":76028091,"body_markdown":"To achieve the desired behavior, you can modify the load method to check if the config file exists in the same folder as the jar file. If the file exists, load the config from the file, otherwise load it from the jar. Here&#39;s some code that demonstrates this:\r\n\r\n```java\r\npublic void load(String fileName) throws IOException {\r\n    File configFile = new File(fileName);\r\n    if (configFile.exists()) {\r\n        // If the config file exists, load it from the file\r\n        try (InputStream inputStream = new FileInputStream(configFile)) {\r\n            String fileExtension = getFileExtension(fileName);\r\n            if (fileExtension.equals(&quot;yml&quot;) || fileExtension.equals(&quot;yaml&quot;)) {\r\n                loadYaml(inputStream, config, &quot;&quot;);\r\n            } else {\r\n                loadPlainText(inputStream);\r\n            }\r\n        }\r\n    } else {\r\n        // If the config file doesn&#39;t exist, load it from the jar\r\n        ClassLoader classLoader = getClass().getClassLoader();\r\n        try (InputStream inputStream = classLoader.getResourceAsStream(fileName)) {\r\n            if (inputStream == null) {\r\n                throw new FileNotFoundException(&quot;Config file not found: &quot; + fileName);\r\n            }\r\n            String fileExtension = getFileExtension(fileName);\r\n            if (fileExtension.equals(&quot;yml&quot;) || fileExtension.equals(&quot;yaml&quot;)) {\r\n                loadYaml(inputStream, config, &quot;&quot;);\r\n            } else {\r\n                loadPlainText(inputStream);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nThis code checks if the file exists using the `File.exists()` method. If the file exists, it loads the config from the file using a `FileInputStream`. If the file doesn&#39;t exist, it loads the config from the jar using a `ClassLoader.getResourceAsStream()` method.","title":"Load config.yml from jar location if exits?","body":"<p>To achieve the desired behavior, you can modify the load method to check if the config file exists in the same folder as the jar file. If the file exists, load the config from the file, otherwise load it from the jar. Here's some code that demonstrates this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void load(String fileName) throws IOException {\n    File configFile = new File(fileName);\n    if (configFile.exists()) {\n        // If the config file exists, load it from the file\n        try (InputStream inputStream = new FileInputStream(configFile)) {\n            String fileExtension = getFileExtension(fileName);\n            if (fileExtension.equals(&quot;yml&quot;) || fileExtension.equals(&quot;yaml&quot;)) {\n                loadYaml(inputStream, config, &quot;&quot;);\n            } else {\n                loadPlainText(inputStream);\n            }\n        }\n    } else {\n        // If the config file doesn't exist, load it from the jar\n        ClassLoader classLoader = getClass().getClassLoader();\n        try (InputStream inputStream = classLoader.getResourceAsStream(fileName)) {\n            if (inputStream == null) {\n                throw new FileNotFoundException(&quot;Config file not found: &quot; + fileName);\n            }\n            String fileExtension = getFileExtension(fileName);\n            if (fileExtension.equals(&quot;yml&quot;) || fileExtension.equals(&quot;yaml&quot;)) {\n                loadYaml(inputStream, config, &quot;&quot;);\n            } else {\n                loadPlainText(inputStream);\n            }\n        }\n    }\n}\n</code></pre>\n<p>This code checks if the file exists using the <code>File.exists()</code> method. If the file exists, it loads the config from the file using a <code>FileInputStream</code>. If the file doesn't exist, it loads the config from the jar using a <code>ClassLoader.getResourceAsStream()</code> method.</p>\n"}],"owner":{"account_id":28320922,"reputation":1,"user_id":21656737,"display_name":"Tiiita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681670693,"creation_date":1681652359,"question_id":76028091,"body_markdown":"I have coded a little Config Class.\r\nIt all works perfectly fine but there comes my problem:\r\nI use config.setString(bla bla bla)\r\nand then config.save();\r\nWhen i save my config it appears in the same location as my jar file is.\r\nThis is what i want to see. But when i reboot my program, my config will be loaded from the jar again. I want that the config will only be loaded from the jar itself, if the file doesnt exist in the same folder as the jar is. Else it should load the &quot;saved file&quot;...\r\n\r\nCould you like give me a little code snipped for it?.. I Struggle for a long time now\r\n\r\nThis is how i load it currently:\r\n\r\n\r\n```\r\n private void loadYaml(InputStream inputStream, Map&lt;String, Object&gt; target, String pathPrefix) throws IOException {\r\n        Yaml yaml = new Yaml();\r\n        try (Reader reader = new BufferedReader(new InputStreamReader(inputStream))) {\r\n            Map&lt;String, Object&gt; yamlConfig = yaml.load(reader);\r\n            if (yamlConfig == null) {\r\n                throw new IllegalArgumentException(&quot;Invalid YAML syntax&quot;);\r\n            }\r\n            for (Map.Entry&lt;String, Object&gt; entry : yamlConfig.entrySet()) {\r\n                String key = entry.getKey();\r\n                Object value = entry.getValue();\r\n                if (value instanceof Map) {\r\n                    // Recursively process nested maps\r\n                    String nestedPath = pathPrefix.isEmpty() ? key : pathPrefix + &quot;.&quot; + key;\r\n                    loadYaml(new ByteArrayInputStream(yaml.dump(value).getBytes()), target, nestedPath);\r\n                } else {\r\n                    // Construct the full path for this leaf value\r\n                    String fullPath = pathPrefix.isEmpty() ? key : pathPrefix + &quot;.&quot; + key;\r\n                    // Store the value in the target map\r\n                    target.put(fullPath, value);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void load(String filePath) throws IOException {\r\n        ClassLoader classLoader = getClass().getClassLoader();\r\n        InputStream inputStream = classLoader.getResourceAsStream(filePath);\r\n        String fileExtension = getFileExtension(filePath);\r\n        if (fileExtension.equals(&quot;yml&quot;) || fileExtension.equals(&quot;yaml&quot;)) {\r\n            loadYaml(inputStream, config, &quot;&quot;);\r\n        } else {\r\n            loadPlainText(inputStream);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nThank you guys :)\r\n","title":"Load config.yml from jar location if exits?","body":"<p>I have coded a little Config Class.\nIt all works perfectly fine but there comes my problem:\nI use config.setString(bla bla bla)\nand then config.save();\nWhen i save my config it appears in the same location as my jar file is.\nThis is what i want to see. But when i reboot my program, my config will be loaded from the jar again. I want that the config will only be loaded from the jar itself, if the file doesnt exist in the same folder as the jar is. Else it should load the &quot;saved file&quot;...</p>\n<p>Could you like give me a little code snipped for it?.. I Struggle for a long time now</p>\n<p>This is how i load it currently:</p>\n<pre><code> private void loadYaml(InputStream inputStream, Map&lt;String, Object&gt; target, String pathPrefix) throws IOException {\n        Yaml yaml = new Yaml();\n        try (Reader reader = new BufferedReader(new InputStreamReader(inputStream))) {\n            Map&lt;String, Object&gt; yamlConfig = yaml.load(reader);\n            if (yamlConfig == null) {\n                throw new IllegalArgumentException(&quot;Invalid YAML syntax&quot;);\n            }\n            for (Map.Entry&lt;String, Object&gt; entry : yamlConfig.entrySet()) {\n                String key = entry.getKey();\n                Object value = entry.getValue();\n                if (value instanceof Map) {\n                    // Recursively process nested maps\n                    String nestedPath = pathPrefix.isEmpty() ? key : pathPrefix + &quot;.&quot; + key;\n                    loadYaml(new ByteArrayInputStream(yaml.dump(value).getBytes()), target, nestedPath);\n                } else {\n                    // Construct the full path for this leaf value\n                    String fullPath = pathPrefix.isEmpty() ? key : pathPrefix + &quot;.&quot; + key;\n                    // Store the value in the target map\n                    target.put(fullPath, value);\n                }\n            }\n        }\n    }\n\n    public void load(String filePath) throws IOException {\n        ClassLoader classLoader = getClass().getClassLoader();\n        InputStream inputStream = classLoader.getResourceAsStream(filePath);\n        String fileExtension = getFileExtension(filePath);\n        if (fileExtension.equals(&quot;yml&quot;) || fileExtension.equals(&quot;yaml&quot;)) {\n            loadYaml(inputStream, config, &quot;&quot;);\n        } else {\n            loadPlainText(inputStream);\n        }\n    }\n</code></pre>\n<p>Thank you guys :)</p>\n"},{"tags":["java","spring-boot","post","spring-security"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681673252,"post_id":76029646,"comment_id":134090694,"body_markdown":"Your code has a line                     .requestMatchers(&quot;/api/v*/registration/**&quot;)\n. Change to                     .requestMatchers(&quot;/api/v1/registration&quot;) to see if the wildcards are the issue. Then we think about next move.","body":"Your code has a line                     .requestMatchers(&quot;/api/v*/registration/**&quot;) . Change to                     .requestMatchers(&quot;/api/v1/registration&quot;) to see if the wildcards are the issue. Then we think about next move."},{"owner":{"display_name":"user20879521"},"score":0,"creation_date":1681673391,"post_id":76029646,"comment_id":134090711,"body_markdown":"@JohnWilliams nope is still the same thing.","body":"@JohnWilliams nope is still the same thing."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681674465,"post_id":76029646,"comment_id":134090842,"body_markdown":"That‚Äôs different. Is it a 415? We may be making progress. Is your postman body set to raw and json with a valid json body? Add you postman curl to the question - it‚Äôs under the ‚Äò&lt;/&gt;‚Äô on the right.","body":"That‚Äôs different. Is it a 415? We may be making progress. Is your postman body set to raw and json with a valid json body? Add you postman curl to the question - it‚Äôs under the ‚Äò&lt;/&gt;‚Äô on the right."},{"owner":{"display_name":"user20879521"},"score":0,"creation_date":1681674549,"post_id":76029646,"comment_id":134090850,"body_markdown":"@JohnWilliams I am using raw not Json","body":"@JohnWilliams I am using raw not Json"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681674649,"post_id":76029646,"comment_id":134090868,"body_markdown":"Try json with valid json body. Also, add your postman curl to the question - it‚Äôs under the ‚Äò&lt;/&gt;‚Äô on the right.","body":"Try json with valid json body. Also, add your postman curl to the question - it‚Äôs under the ‚Äò&lt;/&gt;‚Äô on the right."},{"owner":{"display_name":"user20879521"},"score":0,"creation_date":1681674853,"post_id":76029646,"comment_id":134090895,"body_markdown":"I am so sorry, I did not know, thank you so much! Should I delete this post?","body":"I am so sorry, I did not know, thank you so much! Should I delete this post?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681675297,"post_id":76029646,"comment_id":134090946,"body_markdown":"No need to delete. Just set the body raw json in postman and see if it works.","body":"No need to delete. Just set the body raw json in postman and see if it works."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681675942,"post_id":76029646,"comment_id":134091021,"body_markdown":"Just change ‚ÄúText‚Äù to JSON on the drop-down above the Request Body as shown in the image you included in the question.","body":"Just change ‚ÄúText‚Äù to JSON on the drop-down above the Request Body as shown in the image you included in the question."}],"owner":{"display_name":"user20879521"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681669996,"creation_date":1681669996,"question_id":76029646,"body_markdown":"I am a complete noob in Spirng Boot, but I tried to create a login page with &quot;WebSecurity&quot;. I connected with a &quot;Postgresql&quot; databse, is working the application is running, but I do not know how I should connect, because I have my registration class:\r\n\r\n    @RestController\r\n    @AllArgsConstructor\r\n    @RequestMapping(path = &quot;api/v1/registration&quot;)\r\n    public class RegistrationController {\r\n    \r\n        private RegistrationService registrationService;\r\n        @PostMapping\r\n        public String register(@RequestBody RegistrationRequest request){\r\n    \r\n            return registrationService.register(request);\r\n        }\r\n    }\r\n\r\n\r\nThe &quot;RegistrationService&quot; class:\r\n\r\n    @Service\r\n    public class RegistrationService {\r\n    \r\n        public String register(RegistrationRequest request) {\r\n            return &quot;it works&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\nAnd as it below the path is &quot;api/v1/registration&quot;. I have tried to do my security configuration first but a lot of things are deprecated unfortunately and I kind of stuck now because I do not know what should I do. I do not know if I used &quot;@Bean&quot; correctly there, by the way.\r\nThis is the security class:\r\n\r\n\r\n    @Configuration\r\n    @AllArgsConstructor\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig {\r\n    \r\n        private final AppUserServices appUserServices;\r\n    \r\n        private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception{\r\n            httpSecurity\r\n                    .csrf()\r\n                    .disable()\r\n                    .authorizeHttpRequests()\r\n                        .requestMatchers(&quot;/api/v*/registration/**&quot;)\r\n                        .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .formLogin();\r\n    \r\n            return httpSecurity.build();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n\r\nI have tried to use &quot;PostMan&quot; in order to send a &quot;Post&quot; to the registration and instead of getting the &quot;it works&quot; message back I receive the web page with the login portal, as it is showing in the next image:\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t98iE.png","title":"Spring Boot Post Mapping With WebSecurity","body":"<p>I am a complete noob in Spirng Boot, but I tried to create a login page with &quot;WebSecurity&quot;. I connected with a &quot;Postgresql&quot; databse, is working the application is running, but I do not know how I should connect, because I have my registration class:</p>\n<pre><code>@RestController\n@AllArgsConstructor\n@RequestMapping(path = &quot;api/v1/registration&quot;)\npublic class RegistrationController {\n\n    private RegistrationService registrationService;\n    @PostMapping\n    public String register(@RequestBody RegistrationRequest request){\n\n        return registrationService.register(request);\n    }\n}\n</code></pre>\n<p>The &quot;RegistrationService&quot; class:</p>\n<pre><code>@Service\npublic class RegistrationService {\n\n    public String register(RegistrationRequest request) {\n        return &quot;it works&quot;;\n    }\n}\n</code></pre>\n<p>And as it below the path is &quot;api/v1/registration&quot;. I have tried to do my security configuration first but a lot of things are deprecated unfortunately and I kind of stuck now because I do not know what should I do. I do not know if I used &quot;@Bean&quot; correctly there, by the way.\nThis is the security class:</p>\n<pre><code>@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private final AppUserServices appUserServices;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception{\n        httpSecurity\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                    .requestMatchers(&quot;/api/v*/registration/**&quot;)\n                    .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin();\n\n        return httpSecurity.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n</code></pre>\n<p>I have tried to use &quot;PostMan&quot; in order to send a &quot;Post&quot; to the registration and instead of getting the &quot;it works&quot; message back I receive the web page with the login portal, as it is showing in the next image:</p>\n<p><a href=\"https://i.stack.imgur.com/t98iE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","time-complexity","big-o"],"answers":[{"tags":[],"owner":{"account_id":21268452,"reputation":397,"user_id":15648344,"display_name":"Cosemuckel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681664514,"creation_date":1681664514,"answer_id":76029183,"question_id":76029142,"body_markdown":"The time complexity would still be considered `O(1)`. The number of iterations is always bounded by a fixed constant, and does not depend on the input size. Also important is, that time-complexity is determined by the worst case scenario, which in your case would be 28 iterations, a fixed size.","title":"Big O Time Complexity for a for loop when the number of iterations isn&#39;t constant, but the range of number of iterations is known","body":"<p>The time complexity would still be considered <code>O(1)</code>. The number of iterations is always bounded by a fixed constant, and does not depend on the input size. Also important is, that time-complexity is determined by the worst case scenario, which in your case would be 28 iterations, a fixed size.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681669813,"creation_date":1681669813,"answer_id":76029631,"question_id":76029142,"body_markdown":"The problem you&#39;re into is something that a lot of tutorials and explanations about big-O notation get wrong.\r\n\r\n`O(n)` isn&#39;t magical. That `n` means something specific. In the _vast_ majority of cases, nobody tells you what the n is referring to. For example, someone tells you:\r\n\r\n&quot;Quicksort is `O(n log n)`&quot; - they are __talking gobbledygook - that statement doesn&#39;t mean anything at all__. Here&#39;s the correct statement:\r\n\r\n&quot;For a given list of `n` elements, and given an oracle that can determine for any 2 such elements which one is earlier is constant time, sorting that list with the quicksort algorithm is has `O(n log n)` performance&quot;.\r\n\r\nOne crucial difference is that __n HAS TO BE DEFINED__ for the statement to make any sort of sense. Now, that&#39;s a mouth full, and it&#39;s kinda obvious that the `n` in `&quot;Quick sort is O(n)&quot;` is referring to the size of the list. It&#39;s even, effectively, obvious that the performance of the comparison function is disregarded. After all, even if that is `O(q)` (whatever q might be - remember, `O(n)` on its own is a completely meaningless statement, that `n` has to be defined) - then the performance of sorting it is `O(q*n log n)` - point is, the contribution to the performance purely from the sort algorithm is the `n log n` bit. So, before you barrage someone with vitriol for simplifying it all down to &quot;Quicksort is `O(n log n)`&quot; keep in mind it&#39;s a sensible simplification.\r\n\r\nSo what does `O(n log n)` even mean?\r\n\r\nIt simply means this:\r\n\r\n_Make a graph with `n` on the X-axis (whatever it is), and the total time the algorithm would take the perform the job (whatever _that_ is) on the Y axis, and you draw that curve out, __eventually__, for a large enough `n` where we have no way of knowing what that is, the graph looks identical to the graph you get when graphing `y = x * log x`._\r\n\r\nSo, what does that mean in light of your question? __nothing__ - remember, `n` is whatever you say it is. It is disingenuous to paper over constant factors. The computer and the programming language spec __do not mention__ any of this stuff, the __only point__ of talking about performance characteristics is for one human coder or designer talking to another to convey certain ideas.\r\n\r\nHere is an example: A java ArrayList is hard-bounded: It cannot possibly contain more than 2^31-1 elements. This is specced behaviour (the index value is defined by the API to be an `int`, which means having more elements means e.g. `list.size()` cannot possibly give the right answer, as the right answer doesn&#39;t fit an `int`)!\r\n\r\nSo, can we say that quicksorting an arraylist is therefore `O(1)`, because, after all, the amount of elements it could possibly contain is hard-bounded and therefore can be disregarded?\r\n\r\nYou could. Let&#39;s say you are perfectly aware of that. Your brain has formed this thought and wants to convey it to another person. So, your brain thinks about it, makes your mouth move and your lungs expel air, and out of your mouth flows:\r\n\r\n&quot;ArrayList sorting behaviour is O(1)&quot;\r\n\r\nThat moving air enters my eardrums, turns into nerve pulses and enters my brain. There are now only two options and which one happens depends on the people who own the mouth and the ears:\r\n\r\n* The person who hears it is on the same page and understands the full impact of that statement, and understands that this is about the fact that arraylist is hard bounded.\r\n* The person who hears it __does not__ understand that little detail.\r\n\r\nIf the second thing happens, then __communication failed__. You might as well have been speaking northeast Plutonian.\r\n\r\n&quot;Algorithm X is O(1)&quot; is already teetering on the edge of so oversimplified as to be useless (you didn&#39;t bother to explain vs. which variables). If you say that when:\r\n\r\n* you did not define any variables, you&#39;re just assuming the person who reads your text or hears your words intuits which variables you are talking about.\r\n* You _also_ aren&#39;t mentioning anything at all about the relevant bounds.\r\n\r\nIf you were communicating like that in my dev team, or a student pulls that stunt, I&#39;d fail them. We can hold a 5 hour debate on what &#39;algorithm Y is `O(1)` means&#39; but at some point it&#39;s like a debate on what &quot;literally&quot; means - in the end things mean what most people think they mean.\r\n","title":"Big O Time Complexity for a for loop when the number of iterations isn&#39;t constant, but the range of number of iterations is known","body":"<p>The problem you're into is something that a lot of tutorials and explanations about big-O notation get wrong.</p>\n<p><code>O(n)</code> isn't magical. That <code>n</code> means something specific. In the <em>vast</em> majority of cases, nobody tells you what the n is referring to. For example, someone tells you:</p>\n<p>&quot;Quicksort is <code>O(n log n)</code>&quot; - they are <strong>talking gobbledygook - that statement doesn't mean anything at all</strong>. Here's the correct statement:</p>\n<p>&quot;For a given list of <code>n</code> elements, and given an oracle that can determine for any 2 such elements which one is earlier is constant time, sorting that list with the quicksort algorithm is has <code>O(n log n)</code> performance&quot;.</p>\n<p>One crucial difference is that <strong>n HAS TO BE DEFINED</strong> for the statement to make any sort of sense. Now, that's a mouth full, and it's kinda obvious that the <code>n</code> in <code>&quot;Quick sort is O(n)&quot;</code> is referring to the size of the list. It's even, effectively, obvious that the performance of the comparison function is disregarded. After all, even if that is <code>O(q)</code> (whatever q might be - remember, <code>O(n)</code> on its own is a completely meaningless statement, that <code>n</code> has to be defined) - then the performance of sorting it is <code>O(q*n log n)</code> - point is, the contribution to the performance purely from the sort algorithm is the <code>n log n</code> bit. So, before you barrage someone with vitriol for simplifying it all down to &quot;Quicksort is <code>O(n log n)</code>&quot; keep in mind it's a sensible simplification.</p>\n<p>So what does <code>O(n log n)</code> even mean?</p>\n<p>It simply means this:</p>\n<p><em>Make a graph with <code>n</code> on the X-axis (whatever it is), and the total time the algorithm would take the perform the job (whatever <em>that</em> is) on the Y axis, and you draw that curve out, <strong>eventually</strong>, for a large enough <code>n</code> where we have no way of knowing what that is, the graph looks identical to the graph you get when graphing <code>y = x * log x</code>.</em></p>\n<p>So, what does that mean in light of your question? <strong>nothing</strong> - remember, <code>n</code> is whatever you say it is. It is disingenuous to paper over constant factors. The computer and the programming language spec <strong>do not mention</strong> any of this stuff, the <strong>only point</strong> of talking about performance characteristics is for one human coder or designer talking to another to convey certain ideas.</p>\n<p>Here is an example: A java ArrayList is hard-bounded: It cannot possibly contain more than 2^31-1 elements. This is specced behaviour (the index value is defined by the API to be an <code>int</code>, which means having more elements means e.g. <code>list.size()</code> cannot possibly give the right answer, as the right answer doesn't fit an <code>int</code>)!</p>\n<p>So, can we say that quicksorting an arraylist is therefore <code>O(1)</code>, because, after all, the amount of elements it could possibly contain is hard-bounded and therefore can be disregarded?</p>\n<p>You could. Let's say you are perfectly aware of that. Your brain has formed this thought and wants to convey it to another person. So, your brain thinks about it, makes your mouth move and your lungs expel air, and out of your mouth flows:</p>\n<p>&quot;ArrayList sorting behaviour is O(1)&quot;</p>\n<p>That moving air enters my eardrums, turns into nerve pulses and enters my brain. There are now only two options and which one happens depends on the people who own the mouth and the ears:</p>\n<ul>\n<li>The person who hears it is on the same page and understands the full impact of that statement, and understands that this is about the fact that arraylist is hard bounded.</li>\n<li>The person who hears it <strong>does not</strong> understand that little detail.</li>\n</ul>\n<p>If the second thing happens, then <strong>communication failed</strong>. You might as well have been speaking northeast Plutonian.</p>\n<p>&quot;Algorithm X is O(1)&quot; is already teetering on the edge of so oversimplified as to be useless (you didn't bother to explain vs. which variables). If you say that when:</p>\n<ul>\n<li>you did not define any variables, you're just assuming the person who reads your text or hears your words intuits which variables you are talking about.</li>\n<li>You <em>also</em> aren't mentioning anything at all about the relevant bounds.</li>\n</ul>\n<p>If you were communicating like that in my dev team, or a student pulls that stunt, I'd fail them. We can hold a 5 hour debate on what 'algorithm Y is <code>O(1)</code> means' but at some point it's like a debate on what &quot;literally&quot; means - in the end things mean what most people think they mean.</p>\n"}],"owner":{"account_id":22102258,"reputation":61,"user_id":20848772,"display_name":"Some Ace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76029183,"answer_count":2,"score":2,"last_activity_date":1681669813,"creation_date":1681664132,"question_id":76029142,"body_markdown":"As I&#39;m aware, if you have a for loop which has a constant value for the number of iterations, such as 1000, then the time complexity should be O(1). But if the number of iterations is unknown, and is instead left to the user&#39;s input, and the input can be specified as any number, then it is O(N).\r\n\r\nHowever, what if the number of iterations is unknown, but you know the range of the number of iterations? Let&#39;s say, the range would be somewhere between 10-28 iterations 100% of the time. Would the time complexity be O(1) or O(N) and why?","title":"Big O Time Complexity for a for loop when the number of iterations isn&#39;t constant, but the range of number of iterations is known","body":"<p>As I'm aware, if you have a for loop which has a constant value for the number of iterations, such as 1000, then the time complexity should be O(1). But if the number of iterations is unknown, and is instead left to the user's input, and the input can be specified as any number, then it is O(N).</p>\n<p>However, what if the number of iterations is unknown, but you know the range of the number of iterations? Let's say, the range would be somewhere between 10-28 iterations 100% of the time. Would the time complexity be O(1) or O(N) and why?</p>\n"},{"tags":["java","apache-arrow"],"comments":[{"owner":{"account_id":11996521,"reputation":56,"user_id":8777886,"display_name":"David Dali Susanibar Arce"},"score":0,"creation_date":1681764653,"post_id":76027979,"comment_id":134106822,"body_markdown":"Hi, Could you try to run `mvn generate-resources -Pgenerate-libs-cdata-all-os -N` inside of `arrow/java` instead of `arrow` directory please.","body":"Hi, Could you try to run <code>mvn generate-resources -Pgenerate-libs-cdata-all-os -N</code> inside of <code>arrow&#47;java</code> instead of <code>arrow</code> directory please."},{"owner":{"account_id":26789976,"reputation":48,"user_id":20383543,"display_name":"Chirath LV"},"score":0,"creation_date":1681779642,"post_id":76027979,"comment_id":134108791,"body_markdown":"I tried then I get below error\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (cdata-cmake) on project arrow-java-root: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]","body":"I tried then I get below error [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (cdata-cmake) on project arrow-java-root: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]"},{"owner":{"account_id":11996521,"reputation":56,"user_id":8777886,"display_name":"David Dali Susanibar Arce"},"score":0,"creation_date":1681820521,"post_id":76027979,"comment_id":134115295,"body_markdown":"Could you try this command to share error logs please: `mvn clean generate-resources -Pgenerate-libs-cdata-all-os -N -X`","body":"Could you try this command to share error logs please: <code>mvn clean generate-resources -Pgenerate-libs-cdata-all-os -N -X</code>"},{"owner":{"account_id":26789976,"reputation":48,"user_id":20383543,"display_name":"Chirath LV"},"score":0,"creation_date":1682215993,"post_id":76027979,"comment_id":134179777,"body_markdown":"[INFO] BUILD FAILURE\n\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (cdata-cmake) on project arrow-java-root: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (cdata-cmake) on project arrow-java-root: Command execution failed.","body":"[INFO] BUILD FAILURE  [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (cdata-cmake) on project arrow-java-root: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (cdata-cmake) on project arrow-java-root: Command execution failed."},{"owner":{"account_id":26789976,"reputation":48,"user_id":20383543,"display_name":"Chirath LV"},"score":0,"creation_date":1682216017,"post_id":76027979,"comment_id":134179778,"body_markdown":"at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Command execution failed.","body":"at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347) Caused by: org.apache.maven.plugin.MojoExecutionException: Command execution failed."},{"owner":{"account_id":26789976,"reputation":48,"user_id":20383543,"display_name":"Chirath LV"},"score":0,"creation_date":1682216028,"post_id":76027979,"comment_id":134179781,"body_markdown":"at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)","body":"at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347) Caused by: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)"},{"owner":{"account_id":26789976,"reputation":48,"user_id":20383543,"display_name":"Chirath LV"},"score":0,"creation_date":1682216045,"post_id":76027979,"comment_id":134179783,"body_markdown":"at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException","body":"at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347) [ERROR]  [ERROR]  [ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/MAVEN/&hellip;</a>"},{"owner":{"account_id":26789976,"reputation":48,"user_id":20383543,"display_name":"Chirath LV"},"score":0,"creation_date":1682216073,"post_id":76027979,"comment_id":134179784,"body_markdown":"-- Configuring incomplete, errors occurred!\n[ERROR] Command execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)","body":"-- Configuring incomplete, errors occurred! [ERROR] Command execution failed. org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)     at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)     at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)"},{"owner":{"account_id":26789976,"reputation":48,"user_id":20383543,"display_name":"Chirath LV"},"score":0,"creation_date":1682216110,"post_id":76027979,"comment_id":134179787,"body_markdown":"It fails with the following output:\n\n    Change Dir: /Users/apple/Downloads/arrow/java-jni/CMakeFiles/CMakeScratch/TryCompile-ub6fyf\n    \n    Run Build Command(s):/Applications/CMake.app/Contents/bin/cmake -E env VERBOSE=1 /usr/bin/make -f Makefile cmTC_36a02/fast &amp;&amp; xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun\n    \n    \n\n  \n\n  CMake will not be able to correctly generate this project.\nCall Stack (most recent call first):\n  CMakeLists.txt:27 (project)","body":"It fails with the following output:      Change Dir: /Users/apple/Downloads/arrow/java-jni/CMakeFiles/CMakeScratc&zwnj;&#8203;h/TryCompile-ub6fyf          Run Build Command(s):/Applications/CMake.app/Contents/bin/cmake -E env VERBOSE=1 /usr/bin/make -f Makefile cmTC_36a02/fast &amp;&amp; xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun                  CMake will not be able to correctly generate this project. Call Stack (most recent call first):   CMakeLists.txt:27 (project)"},{"owner":{"account_id":11996521,"reputation":56,"user_id":8777886,"display_name":"David Dali Susanibar Arce"},"score":0,"creation_date":1682352721,"post_id":76027979,"comment_id":134198042,"body_markdown":"Please, let&#39;s start again. Arrow Java contains = Java Core Modules + Java JNI Modules. What are you trying to do? Compile the core + jni modules (Do you need to compile locally the JNI modules also?) or Open the project inside a IDE?. In case of trying to open the modules inside a IDE take a look at https://arrow.apache.org/docs/developers/java/building.html#ide-configuration","body":"Please, let&#39;s start again. Arrow Java contains = Java Core Modules + Java JNI Modules. What are you trying to do? Compile the core + jni modules (Do you need to compile locally the JNI modules also?) or Open the project inside a IDE?. In case of trying to open the modules inside a IDE take a look at <a href=\"https://arrow.apache.org/docs/developers/java/building.html#ide-configuration\" rel=\"nofollow noreferrer\">arrow.apache.org/docs/developers/java/&hellip;</a>"},{"owner":{"account_id":26789976,"reputation":48,"user_id":20383543,"display_name":"Chirath LV"},"score":0,"creation_date":1682565966,"post_id":76027979,"comment_id":134237068,"body_markdown":"Compiled Java Core modules locally and then loaded the maven project to Eclipse and build again (clean install) then added those external JARs to an empty Java project and try to import the modules but all in red marked gives me error.","body":"Compiled Java Core modules locally and then loaded the maven project to Eclipse and build again (clean install) then added those external JARs to an empty Java project and try to import the modules but all in red marked gives me error."}],"owner":{"account_id":26789976,"reputation":48,"user_id":20383543,"display_name":"Chirath LV"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681669769,"creation_date":1681650859,"question_id":76027979,"body_markdown":"I am getting all sorts of weird errors when setting up Apache Arrow v11 on my Macbook.\r\n\r\nI&#39;m following steps from [Apache Arrow documentation][1].\r\n\r\nStep 1 : Clone the repo - Success\r\n\r\n```\r\ngit clone https://github.com/apache/arrow.git\r\ncd arrow\r\ngit submodule update --init --recursive\r\n```\r\n\r\nStep 2 : Building Java Modules - Success\r\n\r\n```\r\ncd arrow/java\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-18.0.2.1.jdk/Contents/Home\r\njava --version\r\nmvn clean install\r\n```\r\n\r\nStep 3 : To build only the JNI C Data Interface library - **Fail**\r\n\r\n```\r\n$ mvn generate-resources -Pgenerate-libs-cdata-all-os -N\r\n```\r\n\r\n**Error Dump**\r\n\r\n```\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.045 s\r\n[INFO] Finished at: 2023-04-16T23:00:50+10:00\r\n[INFO] ------------------------------------------------------------------------\r\n[WARNING] The requested profile &quot;generate-libs-cdata-all-os&quot; could not be activated because it does not exist.\r\n[ERROR] The goal you specified requires a project to execute but there is no POM in this directory (/Users/apple/Downloads/arrow). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\r\n```\r\n\r\nThen I ignored the Step 3 and moved to IntelliJ IDEA to setup my environment.\r\n\r\nNow I get even more errors.\r\n\r\n```\r\nCannot find symbol class Unsafe\r\n```\r\n\r\n```\r\n/Users/apple/Downloads/arrow/java/memory/memory-core/src/main/java/org/apache/arrow/memory/util/MemoryUtil.java:40:23\r\njava: cannot find symbol\r\n  symbol:   class Unsafe\r\n  location: class org.apache.arrow.memory.util.MemoryUtil\r\n```\r\n\r\n```\r\npackage sun.misc does not exist\r\n```\r\n\r\n```\r\n/Users/apple/Downloads/arrow/java/memory/memory-core/src/main/java/org/apache/arrow/memory/util/MemoryUtil.java:28:16\r\njava: package sun.misc does not exist\r\n```\r\n\r\nBelow is my environment setup\r\n\r\n```\r\n(base) apple@appurunoMBP arrow % java --version\r\njava 18.0.2.1 2022-08-18\r\nJava(TM) SE Runtime Environment (build 18.0.2.1+1-1)\r\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2.1+1-1, mixed mode, sharing)\r\nMaven home: /Users/apple/apache-maven-3.8.8\r\nJava version: 18.0.2.1, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-18.0.2.1.jdk/Contents/Home\r\nDefault locale: en_AU, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;13.2&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\nProcessor : 2.9 GHz 6-Core Intel Core i9\r\nmacOS : 13.2 (22D49)\r\n```\r\n\r\n\r\n  [1]: https://arrow.apache.org/docs/developers/java/building.html#system-setup","title":"Cannot setup Apache Arrow v11 on Mac","body":"<p>I am getting all sorts of weird errors when setting up Apache Arrow v11 on my Macbook.</p>\n<p>I'm following steps from <a href=\"https://arrow.apache.org/docs/developers/java/building.html#system-setup\" rel=\"nofollow noreferrer\">Apache Arrow documentation</a>.</p>\n<p>Step 1 : Clone the repo - Success</p>\n<pre><code>git clone https://github.com/apache/arrow.git\ncd arrow\ngit submodule update --init --recursive\n</code></pre>\n<p>Step 2 : Building Java Modules - Success</p>\n<pre><code>cd arrow/java\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-18.0.2.1.jdk/Contents/Home\njava --version\nmvn clean install\n</code></pre>\n<p>Step 3 : To build only the JNI C Data Interface library - <strong>Fail</strong></p>\n<pre><code>$ mvn generate-resources -Pgenerate-libs-cdata-all-os -N\n</code></pre>\n<p><strong>Error Dump</strong></p>\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.045 s\n[INFO] Finished at: 2023-04-16T23:00:50+10:00\n[INFO] ------------------------------------------------------------------------\n[WARNING] The requested profile &quot;generate-libs-cdata-all-os&quot; could not be activated because it does not exist.\n[ERROR] The goal you specified requires a project to execute but there is no POM in this directory (/Users/apple/Downloads/arrow). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MissingProjectException\n</code></pre>\n<p>Then I ignored the Step 3 and moved to IntelliJ IDEA to setup my environment.</p>\n<p>Now I get even more errors.</p>\n<pre><code>Cannot find symbol class Unsafe\n</code></pre>\n<pre><code>/Users/apple/Downloads/arrow/java/memory/memory-core/src/main/java/org/apache/arrow/memory/util/MemoryUtil.java:40:23\njava: cannot find symbol\n  symbol:   class Unsafe\n  location: class org.apache.arrow.memory.util.MemoryUtil\n</code></pre>\n<pre><code>package sun.misc does not exist\n</code></pre>\n<pre><code>/Users/apple/Downloads/arrow/java/memory/memory-core/src/main/java/org/apache/arrow/memory/util/MemoryUtil.java:28:16\njava: package sun.misc does not exist\n</code></pre>\n<p>Below is my environment setup</p>\n<pre><code>(base) apple@appurunoMBP arrow % java --version\njava 18.0.2.1 2022-08-18\nJava(TM) SE Runtime Environment (build 18.0.2.1+1-1)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2.1+1-1, mixed mode, sharing)\nMaven home: /Users/apple/apache-maven-3.8.8\nJava version: 18.0.2.1, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-18.0.2.1.jdk/Contents/Home\nDefault locale: en_AU, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;13.2&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\nProcessor : 2.9 GHz 6-Core Intel Core i9\nmacOS : 13.2 (22D49)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":3,"creation_date":1681669905,"post_id":76029604,"comment_id":134090234,"body_markdown":"Do you know what &quot;unreachable code&quot; means? Did you intend for this code to be unreachable?","body":"Do you know what &quot;unreachable code&quot; means? Did you intend for this code to be unreachable?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":3,"creation_date":1681670068,"post_id":76029604,"comment_id":134090276,"body_markdown":"First, you&#39;re having an infinite loop, so `close` will never be reached. Second, don&#39;t close the scanner, or else you&#39;ll close `System.in` as well","body":"First, you&#39;re having an infinite loop, so <code>close</code> will never be reached. Second, don&#39;t close the scanner, or else you&#39;ll close <code>System.in</code> as well"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681671170,"post_id":76029604,"comment_id":134090448,"body_markdown":"&quot;close it every iteration?&quot; - better not, when it is closed, `System.in`, used when it was created, will also be closed. Once `System.in` is closed it will not be re-opened and code will not be able to read anything else from it (even if creating a new `Scanner`)","body":"&quot;close it every iteration?&quot; - better not, when it is closed, <code>System.in</code>, used when it was created, will also be closed. Once <code>System.in</code> is closed it will not be re-opened and code will not be able to read anything else from it (even if creating a new <code>Scanner</code>)"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":2,"creation_date":1681671377,"post_id":76029604,"comment_id":134090475,"body_markdown":"I wouldn&#39;t closet that Scanner to begin with because it is connected to the standard input.","body":"I wouldn&#39;t closet that Scanner to begin with because it is connected to the standard input."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1681679278,"post_id":76029604,"comment_id":134091429,"body_markdown":"I&#39;m also echoing all the &quot;don&#39;t close System.in&quot; comments.  Don&#39;t worry about System.in, it&#39;s closed automatically when the program exits.","body":"I&#39;m also echoing all the &quot;don&#39;t close System.in&quot; comments.  Don&#39;t worry about System.in, it&#39;s closed automatically when the program exits."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1681682298,"post_id":76029604,"comment_id":134091758,"body_markdown":"You have to `break` out of the `while(true)` loop.  You can close the `Scanner` at the end of the application as the last line executed, but not before.","body":"You have to <code>break</code> out of the <code>while(true)</code> loop.  You can close the <code>Scanner</code> at the end of the application as the last line executed, but not before."},{"owner":{"account_id":25431591,"reputation":1,"user_id":19235898,"display_name":"Derek"},"score":0,"creation_date":1681683068,"post_id":76029604,"comment_id":134091827,"body_markdown":"well, first, it is not an infinite loop as &quot;some other code...&quot; will have a break command to exit the loop. second, so we can just ignore the warning message that scanner is not closed and let it close when the program ends?","body":"well, first, it is not an infinite loop as &quot;some other code...&quot; will have a break command to exit the loop. second, so we can just ignore the warning message that scanner is not closed and let it close when the program ends?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681696213,"post_id":76029604,"comment_id":134093070,"body_markdown":"**(1)** *&quot;it is not an infinite loop as &quot;some other code...&quot; will have a break command to exit the loop&quot;*  Showing a break in the loop body should have been in the question in the first place. We shouldn&#39;t need to learn something like that in the comments.  **(2)** There may be something wrong with &quot;some other code&quot;. If the loop is capable of executing a `break` statement, then you should not get the `unreachable code` error. In other words, the question is lacking important details.","body":"<b>(1)</b> <i>&quot;it is not an infinite loop as &quot;some other code...&quot; will have a break command to exit the loop&quot;</i>  Showing a break in the loop body should have been in the question in the first place. We shouldn&#39;t need to learn something like that in the comments.  <b>(2)</b> There may be something wrong with &quot;some other code&quot;. If the loop is capable of executing a <code>break</code> statement, then you should not get the <code>unreachable code</code> error. In other words, the question is lacking important details."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1681705130,"post_id":76029604,"comment_id":134093876,"body_markdown":"`Scanner` is a so-called &#39;filter resource&#39;. It does not itself represent a system resource that _must_ be closed, it wraps around a resource. Which may or may not be a system resource. Point is, you __only close system resources you created__. You didn&#39;t create `System.in` so you __must not__ close it. Various linter tools can&#39;t quite figure it out and will __erroneously__ tell you this resource should be closed. __This is the wrong hint__ - that is precisely the wrong thing to do. Do not close `System.in`. Do not close resources you aren&#39;t responsible for closing.","body":"<code>Scanner</code> is a so-called &#39;filter resource&#39;. It does not itself represent a system resource that <i>must</i> be closed, it wraps around a resource. Which may or may not be a system resource. Point is, you <b>only close system resources you created</b>. You didn&#39;t create <code>System.in</code> so you <b>must not</b> close it. Various linter tools can&#39;t quite figure it out and will <b>erroneously</b> tell you this resource should be closed. <b>This is the wrong hint</b> - that is precisely the wrong thing to do. Do not close <code>System.in</code>. Do not close resources you aren&#39;t responsible for closing."},{"owner":{"account_id":25431591,"reputation":1,"user_id":19235898,"display_name":"Derek"},"score":0,"creation_date":1681764169,"post_id":76029604,"comment_id":134106747,"body_markdown":"thanks for the comment @rzwitserloot. so, the question is, in my case, did I create a System.in in this command:  Scanner scan = new Scanner(System.in);","body":"thanks for the comment @rzwitserloot. so, the question is, in my case, did I create a System.in in this command:  Scanner scan = new Scanner(System.in);"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681804164,"post_id":76029604,"comment_id":134111465,"body_markdown":"@Derek No, you&#39;re not creating a new resource by referencing `System.in`.","body":"@Derek No, you&#39;re not creating a new resource by referencing <code>System.in</code>."}],"owner":{"account_id":25431591,"reputation":1,"user_id":19235898,"display_name":"Derek"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681669570,"creation_date":1681669540,"question_id":76029604,"body_markdown":"How to close the scanner if user input is required inside a loop? such as below:\r\n\r\n    public void closeScanner(){\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        while (true) {\r\n            System.out.println(&quot;Please enter something:&quot;);\r\n            String someThing = scan.nextLine();\r\n            // some other code .....\r\n        }\r\n       scan.close(); //it gives warning saying unreachable code\r\n    }\r\n\r\n\r\nShould I move the scanner inside the loop and close it every iteration?\r\nor do I have to close the scanner?","title":"How to close scanner in Java in this case?","body":"<p>How to close the scanner if user input is required inside a loop? such as below:</p>\n<pre><code>public void closeScanner(){\n\n    Scanner scan = new Scanner(System.in);\n\n    while (true) {\n        System.out.println(&quot;Please enter something:&quot;);\n        String someThing = scan.nextLine();\n        // some other code .....\n    }\n   scan.close(); //it gives warning saying unreachable code\n}\n</code></pre>\n<p>Should I move the scanner inside the loop and close it every iteration?\nor do I have to close the scanner?</p>\n"},{"tags":["java","protobuf-java"],"owner":{"account_id":18121848,"reputation":121,"user_id":20852825,"display_name":"shanmukha vangaru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681669018,"creation_date":1681420030,"question_id":76009837,"body_markdown":"**Requirement**: I need a gradle project (**parent project**) which has some common .proto files along with their respected java generated classes which will be added as a dependency to another project (**child project**) where I have some more .proto files in which I need to import the .proto files of **parent project** and generate the respective java classes.\r\n\r\n**Problem**: After importing the proto files and generating respective java classes, I am getting an error (**package not found**) in generated java classes where I have imported a particular .proto file of parent project.\r\n\r\n**What I tried**:\r\n1. Created a parent project with .proto files at path src/main/java and generated java classes at path src/main/java.\r\n2. Prepared a jar of the parent project and added it as a dependency in child project.\r\n3. I am able to import the .proto file of parent project in child project .proto file.\r\n4. Getting the error (package not found) after generating the java classes.\r\n\r\n**Observations**:\r\n1. The parent jar is having only the class files.\r\n2. If I include only src/main in parent jar and use it in the child project, I am not facing the package not found error.\r\n\r\n**Environments**:\r\n1. I am currently trying it out in local, as in, generating the jar files and putting it in the lib folder of the project and importing the same in dependencies.\r\n\r\n**Build tool**: Gradle\r\n\r\nAny help would be appreciated. Thanks!","title":"How to create a custom protobuf library?","body":"<p><strong>Requirement</strong>: I need a gradle project (<strong>parent project</strong>) which has some common .proto files along with their respected java generated classes which will be added as a dependency to another project (<strong>child project</strong>) where I have some more .proto files in which I need to import the .proto files of <strong>parent project</strong> and generate the respective java classes.</p>\n<p><strong>Problem</strong>: After importing the proto files and generating respective java classes, I am getting an error (<strong>package not found</strong>) in generated java classes where I have imported a particular .proto file of parent project.</p>\n<p><strong>What I tried</strong>:</p>\n<ol>\n<li>Created a parent project with .proto files at path src/main/java and generated java classes at path src/main/java.</li>\n<li>Prepared a jar of the parent project and added it as a dependency in child project.</li>\n<li>I am able to import the .proto file of parent project in child project .proto file.</li>\n<li>Getting the error (package not found) after generating the java classes.</li>\n</ol>\n<p><strong>Observations</strong>:</p>\n<ol>\n<li>The parent jar is having only the class files.</li>\n<li>If I include only src/main in parent jar and use it in the child project, I am not facing the package not found error.</li>\n</ol>\n<p><strong>Environments</strong>:</p>\n<ol>\n<li>I am currently trying it out in local, as in, generating the jar files and putting it in the lib folder of the project and importing the same in dependencies.</li>\n</ol>\n<p><strong>Build tool</strong>: Gradle</p>\n<p>Any help would be appreciated. Thanks!</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681738552,"post_id":76029150,"comment_id":134100640,"body_markdown":"Using Joda-Time `withZoneRetainFields()` is unusual. Are you sure it‚Äôs what you always wanted? Could it be that it just happens to give you the expected result because in practice the incoming `DateTime` was already in UTC?","body":"Using Joda-Time <code>withZoneRetainFields()</code> is unusual. Are you sure it‚Äôs what you always wanted? Could it be that it just happens to give you the expected result because in practice the incoming <code>DateTime</code> was already in UTC?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1681904758,"post_id":76029150,"comment_id":134131414,"body_markdown":"Stop posting the [same question](https://stackoverflow.com/q/76028526/839733) repeatedly.","body":"Stop posting the <a href=\"https://stackoverflow.com/q/76028526/839733\">same question</a> repeatedly."}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1681669921,"post_id":76029553,"comment_id":134090240,"body_markdown":"Let me give you some additional clarification what I&#39;m doing: The original filed that I have is using this: https://stackoverflow.com/questions/75428799/cannot-resolve-method-withzone-in-offsetdatetime  I want to migrate `org.jadira.usertype.dateandtime.joda.PersistentDateTime` (org.joda.time.DateTime) to `java.time.OffsetDateTime` Do you think am I using `OffsetDateTime` properly or there is a better alternative?","body":"Let me give you some additional clarification what I&#39;m doing: The original filed that I have is using this: <a href=\"https://stackoverflow.com/questions/75428799/cannot-resolve-method-withzone-in-offsetdatetime\" title=\"cannot resolve method withzone in offsetdatetime\">stackoverflow.com/questions/75428799/&hellip;</a>  I want to migrate <code>org.jadira.usertype.dateandtime.joda.PersistentDateTime</code> (org.joda.time.DateTime) to <code>java.time.OffsetDateTime</code> Do you think am I using <code>OffsetDateTime</code> properly or there is a better alternative?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681671273,"post_id":76029553,"comment_id":134090461,"body_markdown":"jodatime `withZone` translates to `atZoneSameInstant`, and `withZoneRetainFields` becomes `withZoneSameLocal`. jodatime&#39;s `DateTime` mostly becomes `ZonedDateTime`, it&#39;s not quite a 1v1 translation, but that&#39;s a much, much better option than `OffsetDateTime`.","body":"jodatime <code>withZone</code> translates to <code>atZoneSameInstant</code>, and <code>withZoneRetainFields</code> becomes <code>withZoneSameLocal</code>. jodatime&#39;s <code>DateTime</code> mostly becomes <code>ZonedDateTime</code>, it&#39;s not quite a 1v1 translation, but that&#39;s a much, much better option than <code>OffsetDateTime</code>."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1681671501,"post_id":76029553,"comment_id":134090493,"body_markdown":"ok, can you guide me how I have to edit the original code when I use `ZonedDateTime`?","body":"ok, can you guide me how I have to edit the original code when I use <code>ZonedDateTime</code>?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681671826,"post_id":76029553,"comment_id":134090529,"body_markdown":"There aren&#39;t anywhere near enough details in your post to do such a thing. What more do you need to know? The original snippet changes the instant in time, only you know if that is correct or not. If it is, use `withZoneSameLocal`, if it is not, use `withZoneSameInstant` and make sure the rest of the team knows you also fixed a bug as part of your refactor. Replace `OffsetDateTime` with `ZonedDateTime`. If there is an issue with doing that, post a new question explaining why ODT works when ZDT doesn&#39;t.","body":"There aren&#39;t anywhere near enough details in your post to do such a thing. What more do you need to know? The original snippet changes the instant in time, only you know if that is correct or not. If it is, use <code>withZoneSameLocal</code>, if it is not, use <code>withZoneSameInstant</code> and make sure the rest of the team knows you also fixed a bug as part of your refactor. Replace <code>OffsetDateTime</code> with <code>ZonedDateTime</code>. If there is an issue with doing that, post a new question explaining why ODT works when ZDT doesn&#39;t."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681668995,"creation_date":1681668995,"answer_id":76029553,"question_id":76029150,"body_markdown":"No.\r\n\r\n`withZoneRetainFields` keeps the &#39;fields&#39; - year, month, day, hour, minute - those are fields. By changing the timezone, the first snippet means that the timestamp returned __is not the same__ as the input value. Given the name `getRegistrations` it strongly sounds to me like __the first code is wrong__. This happens: You are refactoring, and you found a bug.\r\n\r\nThe second snippet maintains the same instant. In other words, if you have, say, &#39;5 o&#39;clock in the afternoon, december 20th, in london&#39; and you use `atZoneSameInstant` to get a time in the `Europe/Amsterdam` zone, you&#39;d get __6__ o clock back (because when it&#39;s 5 o&#39;clock in london, it&#39;s 6 in amsterdam, amsterdam is in a time zone 1 hour ahead of britain).\r\n\r\nThe first snippet would give you 5 o&#39;clock in amsterdam which is in fact 1 hour earlier.\r\n\r\nNote that `OffsetDateTime` is the one you should almost never use. You probably want `ZonedDateTime`. The problem with offsets is that they do not map onto any reckoning at all. Computers don&#39;t like offsets (they like millis-since-an-epoch), and humans don&#39;t use offsets, they use timezones. There&#39;s no difference if it&#39;s a zone that doesn&#39;t have daylight savings, but many do.\r\n\r\nYour variable is also wrong. Why is a `DateTime` object called `pageStartDate`? \r\n\r\nIf you are just interested in _dates_, then use `LocalDate`. If it&#39;s actually about a specific moment in time by human reckoning, use `ZonedDateTime`. If it&#39;s about computer systems / raw comparisons (you just want to know which event amongst a whole bunch of em was &#39;earlier&#39; than another, you don&#39;t really care about which date it was on, for example), then use `java.time.Instant`.\r\n\r\n\r\n`ZonedDateTime pageStart","title":"Migrate org.joda.time to java.time and set time zone","body":"<p>No.</p>\n<p><code>withZoneRetainFields</code> keeps the 'fields' - year, month, day, hour, minute - those are fields. By changing the timezone, the first snippet means that the timestamp returned <strong>is not the same</strong> as the input value. Given the name <code>getRegistrations</code> it strongly sounds to me like <strong>the first code is wrong</strong>. This happens: You are refactoring, and you found a bug.</p>\n<p>The second snippet maintains the same instant. In other words, if you have, say, '5 o'clock in the afternoon, december 20th, in london' and you use <code>atZoneSameInstant</code> to get a time in the <code>Europe/Amsterdam</code> zone, you'd get <strong>6</strong> o clock back (because when it's 5 o'clock in london, it's 6 in amsterdam, amsterdam is in a time zone 1 hour ahead of britain).</p>\n<p>The first snippet would give you 5 o'clock in amsterdam which is in fact 1 hour earlier.</p>\n<p>Note that <code>OffsetDateTime</code> is the one you should almost never use. You probably want <code>ZonedDateTime</code>. The problem with offsets is that they do not map onto any reckoning at all. Computers don't like offsets (they like millis-since-an-epoch), and humans don't use offsets, they use timezones. There's no difference if it's a zone that doesn't have daylight savings, but many do.</p>\n<p>Your variable is also wrong. Why is a <code>DateTime</code> object called <code>pageStartDate</code>?</p>\n<p>If you are just interested in <em>dates</em>, then use <code>LocalDate</code>. If it's actually about a specific moment in time by human reckoning, use <code>ZonedDateTime</code>. If it's about computer systems / raw comparisons (you just want to know which event amongst a whole bunch of em was 'earlier' than another, you don't really care about which date it was on, for example), then use <code>java.time.Instant</code>.</p>\n<p>`ZonedDateTime pageStart</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1681904765,"answer_count":1,"score":-1,"last_activity_date":1681668995,"creation_date":1681664193,"question_id":76029150,"body_markdown":"I want to migrate this code:\r\n\r\n    private Resource getRegistrations(DateTime startDate) {   \r\n        DateTime pageStartDate = (startDate == null) ? null : startDate.withZoneRetainFields(DateTimeZone.UTC);    \r\n        return ........;\r\n      }\r\n\r\nto this:\r\n\r\n    private Resource getRegistrations(OffsetDateTime startDate) {\r\n        OffsetDateTime pageStartDate = (startDate == null) ? null : startDate.atZoneSameInstant(ZoneId.of(&quot;UTC&quot;)).toOffsetDateTime();\r\n        return null;\r\n      }\r\n\r\nIs this the proper way `atZoneSameInstant(ZoneId.of(&quot;UTC&quot;)).toOffsetDateTime();` To set the time zone?","title":"Migrate org.joda.time to java.time and set time zone","body":"<p>I want to migrate this code:</p>\n<pre><code>private Resource getRegistrations(DateTime startDate) {   \n    DateTime pageStartDate = (startDate == null) ? null : startDate.withZoneRetainFields(DateTimeZone.UTC);    \n    return ........;\n  }\n</code></pre>\n<p>to this:</p>\n<pre><code>private Resource getRegistrations(OffsetDateTime startDate) {\n    OffsetDateTime pageStartDate = (startDate == null) ? null : startDate.atZoneSameInstant(ZoneId.of(&quot;UTC&quot;)).toOffsetDateTime();\n    return null;\n  }\n</code></pre>\n<p>Is this the proper way <code>atZoneSameInstant(ZoneId.of(&quot;UTC&quot;)).toOffsetDateTime();</code> To set the time zone?</p>\n"},{"tags":["java","android","api"],"owner":{"account_id":23690103,"reputation":11,"user_id":17714545,"display_name":"Dzzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681668828,"creation_date":1681668828,"question_id":76029545,"body_markdown":"I am trying to develop a bus tracker app.The app basically collects location data from firebase and gets the user current location and gives estimated time duration to travel using googleMap distance matrix api.The app is accessing the 2 locations properly, but giving null value for duration. Here is my code to print the duration. I have DistanceMatrixResponse,Distance,Duration,DistanceMatrixElement,DistanceMatrixRow,Location1,Location2 ,RetrofitService classes and  GMapAPIService Interface.The code works fine when the parameters for getCompleteAddress is directly in the form of double(for ex:final String ORIGINS = getCompleteAddress(12.841,80.157)) .but when fetched using the getter function ,the code stops after 5th loop(like it prints till T5)but won&#39;t go to next if condition. I am getting proper location values when i am printing it using Log inside onResponse and I can see value of both locations are not same. I am trying to figure it out for days now but not getting anywhere.\r\n\r\n```\r\n    private void getTravelTime() {\r\n\r\n        final String API_KEY = &quot;MyAPIKey&quot;;\r\n        final String ORIGINS = getCompleteAddress(l.getLatitue(),l.getLongitude());\r\n       final String DESTINATIONS = getCompleteAddress(l1.getLatitue(), l1.getLongitude());\r\n       \r\n\r\n        GMapAPIService gMapAPIService = RetrofitService.getRetrofitClient().create(GMapAPIService.class);\r\n\r\n        Call&lt;DistanceMatrixResponse&gt; call = gMapAPIService.getDistance(API_KEY, ORIGINS, DESTINATIONS);\r\n\r\n        call.enqueue(new Callback&lt;DistanceMatrixResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;DistanceMatrixResponse&gt; call, Response&lt;DistanceMatrixResponse&gt; response) {\r\n\r\n                Log.d(&quot;l&quot;, String.valueOf(l.getLatitue()+ &quot; &quot;+l.getLongitude()));\r\n                Log.d(&quot;l1&quot;, String.valueOf(l1.getLatitue()+ &quot; &quot;+l1.getLongitude()));\r\n                if (response.isSuccessful()) {\r\n                    DistanceMatrixResponse distanceMatrixResponse = response.body();\r\n                    Log.d(&quot;T1&quot;,&quot;Here&quot;);\r\n\r\n                    if (distanceMatrixResponse != null) {\r\n\r\n                        List&lt;DistanceMatrixRow&gt; rows = distanceMatrixResponse.getRows();\r\n                        Log.d(&quot;T2&quot;,&quot;Here&quot;);\r\n                        if (rows != null &amp;&amp; !rows.isEmpty()) {\r\n                            Log.d(&quot;T3&quot;,&quot;Here&quot;);\r\n                            DistanceMatrixRow distanceMatrixRow = rows.get(0);\r\n                            Log.d(&quot;D2&quot;,String.valueOf(distanceMatrixRow));\r\n\r\n                            if (distanceMatrixRow != null) {\r\n                                Log.d(&quot;T4&quot;,&quot;Here&quot;);\r\n                                DistanceMatrixElement distanceMatrixElement = distanceMatrixRow.getElements().get(0);\r\n                                Log.d(&quot;D2&quot;,String.valueOf(distanceMatrixElement));\r\n\r\n                                if (distanceMatrixElement != null) {\r\n                                    Log.d(&quot;T5&quot;,&quot;Here&quot;);\r\n                                    Duration duration = distanceMatrixElement.getDuration();\r\n                                    Distance d=distanceMatrixElement.getDistance();\r\n                                    Log.d(&quot;Duration:&quot;,String.valueOf(duration));\r\n                                    Log.d(&quot;Distance:&quot;,String.valueOf(d));\r\n\r\n\r\n                                    if (duration != null) {\r\n                                        Log.d(&quot;T6&quot;,&quot;Here&quot;);\r\n                                        String travelTime = duration.getText();\r\n                                        textViewTravelTime.setText(travelTime);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;DistanceMatrixResponse&gt; call, Throwable t) {\r\n\r\n                Log.e(&quot;MainActivity&quot;, t.getMessage());\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\n[This is the output I am getting](https://i.stack.imgur.com/ACnpK.jpg)","title":"Getting duration as null while using google map direction matrix api","body":"<p>I am trying to develop a bus tracker app.The app basically collects location data from firebase and gets the user current location and gives estimated time duration to travel using googleMap distance matrix api.The app is accessing the 2 locations properly, but giving null value for duration. Here is my code to print the duration. I have DistanceMatrixResponse,Distance,Duration,DistanceMatrixElement,DistanceMatrixRow,Location1,Location2 ,RetrofitService classes and  GMapAPIService Interface.The code works fine when the parameters for getCompleteAddress is directly in the form of double(for ex:final String ORIGINS = getCompleteAddress(12.841,80.157)) .but when fetched using the getter function ,the code stops after 5th loop(like it prints till T5)but won't go to next if condition. I am getting proper location values when i am printing it using Log inside onResponse and I can see value of both locations are not same. I am trying to figure it out for days now but not getting anywhere.</p>\n<pre><code>    private void getTravelTime() {\n\n        final String API_KEY = &quot;MyAPIKey&quot;;\n        final String ORIGINS = getCompleteAddress(l.getLatitue(),l.getLongitude());\n       final String DESTINATIONS = getCompleteAddress(l1.getLatitue(), l1.getLongitude());\n       \n\n        GMapAPIService gMapAPIService = RetrofitService.getRetrofitClient().create(GMapAPIService.class);\n\n        Call&lt;DistanceMatrixResponse&gt; call = gMapAPIService.getDistance(API_KEY, ORIGINS, DESTINATIONS);\n\n        call.enqueue(new Callback&lt;DistanceMatrixResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;DistanceMatrixResponse&gt; call, Response&lt;DistanceMatrixResponse&gt; response) {\n\n                Log.d(&quot;l&quot;, String.valueOf(l.getLatitue()+ &quot; &quot;+l.getLongitude()));\n                Log.d(&quot;l1&quot;, String.valueOf(l1.getLatitue()+ &quot; &quot;+l1.getLongitude()));\n                if (response.isSuccessful()) {\n                    DistanceMatrixResponse distanceMatrixResponse = response.body();\n                    Log.d(&quot;T1&quot;,&quot;Here&quot;);\n\n                    if (distanceMatrixResponse != null) {\n\n                        List&lt;DistanceMatrixRow&gt; rows = distanceMatrixResponse.getRows();\n                        Log.d(&quot;T2&quot;,&quot;Here&quot;);\n                        if (rows != null &amp;&amp; !rows.isEmpty()) {\n                            Log.d(&quot;T3&quot;,&quot;Here&quot;);\n                            DistanceMatrixRow distanceMatrixRow = rows.get(0);\n                            Log.d(&quot;D2&quot;,String.valueOf(distanceMatrixRow));\n\n                            if (distanceMatrixRow != null) {\n                                Log.d(&quot;T4&quot;,&quot;Here&quot;);\n                                DistanceMatrixElement distanceMatrixElement = distanceMatrixRow.getElements().get(0);\n                                Log.d(&quot;D2&quot;,String.valueOf(distanceMatrixElement));\n\n                                if (distanceMatrixElement != null) {\n                                    Log.d(&quot;T5&quot;,&quot;Here&quot;);\n                                    Duration duration = distanceMatrixElement.getDuration();\n                                    Distance d=distanceMatrixElement.getDistance();\n                                    Log.d(&quot;Duration:&quot;,String.valueOf(duration));\n                                    Log.d(&quot;Distance:&quot;,String.valueOf(d));\n\n\n                                    if (duration != null) {\n                                        Log.d(&quot;T6&quot;,&quot;Here&quot;);\n                                        String travelTime = duration.getText();\n                                        textViewTravelTime.setText(travelTime);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n\n\n            @Override\n            public void onFailure(Call&lt;DistanceMatrixResponse&gt; call, Throwable t) {\n\n                Log.e(&quot;MainActivity&quot;, t.getMessage());\n            }\n        });\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ACnpK.jpg\" rel=\"nofollow noreferrer\">This is the output I am getting</a></p>\n"},{"tags":["java","maven","maven-release-plugin"],"comments":[{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1681553724,"post_id":76017930,"comment_id":134077368,"body_markdown":"Did you check https://maven.apache.org/maven-release/maven-release-plugin/prepare-mojo.html#javaHome ? That is the way the control the Java version, which should be the same by default.","body":"Did you check <a href=\"https://maven.apache.org/maven-release/maven-release-plugin/prepare-mojo.html#javaHome\" rel=\"nofollow noreferrer\">maven.apache.org/maven-release/maven-release-plugin/&hellip;</a> ? That is the way the control the Java version, which should be the same by default."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1681642511,"post_id":76017930,"comment_id":134086434,"body_markdown":"Which CI/CD server do you use? How is the setup done for each job?","body":"Which CI/CD server do you use? How is the setup done for each job?"}],"answers":[{"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1681669862,"post_id":76029539,"comment_id":134090228,"body_markdown":"Have you tried to switch to another [mavenExecutorId](https://maven.apache.org/maven-release/maven-release-plugin/perform-mojo.html#mavenExecutorId)? `forked-path` should honour `javaHome`","body":"Have you tried to switch to another <a href=\"https://maven.apache.org/maven-release/maven-release-plugin/perform-mojo.html#mavenExecutorId\" rel=\"nofollow noreferrer\">mavenExecutorId</a>? <code>forked-path</code> should honour <code>javaHome</code>"},{"owner":{"account_id":4827648,"reputation":551,"user_id":3896698,"accept_rate":69,"display_name":"Matthew Darton"},"score":0,"creation_date":1681676870,"post_id":76029539,"comment_id":134091145,"body_markdown":"Unfortunately forked-path also ignores javaHome. There even is a pull request for solving that bug, but it was never merged. https://github.com/apache/maven-release/pull/5","body":"Unfortunately forked-path also ignores javaHome. There even is a pull request for solving that bug, but it was never merged. <a href=\"https://github.com/apache/maven-release/pull/5\" rel=\"nofollow noreferrer\">github.com/apache/maven-release/pull/5</a>"}],"tags":[],"owner":{"account_id":4827648,"reputation":551,"user_id":3896698,"accept_rate":69,"display_name":"Matthew Darton"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681668752,"creation_date":1681668752,"answer_id":76029539,"question_id":76017930,"body_markdown":"I am already passing the path to my jdk via `-DjavaHome`, but this does not do anything. I debugged the maven-release-plugin and noticed that in InvokerMavenExecutor the setting for javaHome is not passed to the executor. So I guess this is a bug in that plugin. I will create a bug ticket for this.","title":"maven-release-plugin changes java version","body":"<p>I am already passing the path to my jdk via <code>-DjavaHome</code>, but this does not do anything. I debugged the maven-release-plugin and noticed that in InvokerMavenExecutor the setting for javaHome is not passed to the executor. So I guess this is a bug in that plugin. I will create a bug ticket for this.</p>\n"}],"owner":{"account_id":4827648,"reputation":551,"user_id":3896698,"accept_rate":69,"display_name":"Matthew Darton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681668752,"creation_date":1681496393,"question_id":76017930,"body_markdown":"I have a weird problem with the maven-release-plugin, because it somehow uses another java version as the one which is used for the execution of maven. My initial situation is a bit strange. So we are using a CI/CD server where each module has its own jdk configuration. The CI/CD server has its `JAVA_HOME` environment variable set to Java 8, but we have multiple jdks installed, so that for example Java 11 can be used for the build process of a specific project. I checked the log output of the build process and noticed that this command is used for the maven execution and for switching between different jdks:\r\n```\r\n&quot;/path/to/java&quot; &quot;-Dmaven.multiModuleProjectDirectory=/path/to/my-project&quot; &quot;-Dmaven.home=/path/to/maven&quot; &quot;-Dclassworlds.conf=/path/to/maven/bin/m2.conf&quot; &quot;-Dfile.encoding=UTF-8&quot; -classpath &quot;/path/to/maven/boot/plexus-classworlds-2.6.0.jar;/path/to/maven/boot/plexus-classworlds.license&quot; org.codehaus.plexus.classworlds.launcher.Launcher clean package\r\n```\r\nSo you can just swap `/path/to/java` and maven uses this jdk for the build process. If you check for example the file `mvn.cmd`, you will notice that this is the exact command maven uses internally to trigger the build process.\r\n\r\nOK, now let me explain my problem. I am using a custom maven plugin where I inserted this command in the code:\r\n```\r\ngetLog().info(&quot;java version: &quot; + System.getProperty(&quot;java.runtime.version&quot;));\r\n```\r\nNow, when I execute the above command with `clean package` at the end and with `/path/to/java` pointing to jdk11, the log output is: `java version: 11.0.5+10-LTS`. If I use `release:prepare` instead of `clean package` at the end (still with jdk11), the output is `java version: 1.8.0_231-b11`. So somehow the maven-release-plugin does not use the jdk which is used for the execution of maven, but uses `JAVA_HOME` instead. This only happens when using the release plugin. With the regular maven goals (clean, package, install, deploy) jdk11 is used, so in this case the one which is located at `/path/to/java`. Does anyone know why? And maybe someone has a solution how I can make the release plugin not to change the jdk (without changing JAVA_HOME).","title":"maven-release-plugin changes java version","body":"<p>I have a weird problem with the maven-release-plugin, because it somehow uses another java version as the one which is used for the execution of maven. My initial situation is a bit strange. So we are using a CI/CD server where each module has its own jdk configuration. The CI/CD server has its <code>JAVA_HOME</code> environment variable set to Java 8, but we have multiple jdks installed, so that for example Java 11 can be used for the build process of a specific project. I checked the log output of the build process and noticed that this command is used for the maven execution and for switching between different jdks:</p>\n<pre><code>&quot;/path/to/java&quot; &quot;-Dmaven.multiModuleProjectDirectory=/path/to/my-project&quot; &quot;-Dmaven.home=/path/to/maven&quot; &quot;-Dclassworlds.conf=/path/to/maven/bin/m2.conf&quot; &quot;-Dfile.encoding=UTF-8&quot; -classpath &quot;/path/to/maven/boot/plexus-classworlds-2.6.0.jar;/path/to/maven/boot/plexus-classworlds.license&quot; org.codehaus.plexus.classworlds.launcher.Launcher clean package\n</code></pre>\n<p>So you can just swap <code>/path/to/java</code> and maven uses this jdk for the build process. If you check for example the file <code>mvn.cmd</code>, you will notice that this is the exact command maven uses internally to trigger the build process.</p>\n<p>OK, now let me explain my problem. I am using a custom maven plugin where I inserted this command in the code:</p>\n<pre><code>getLog().info(&quot;java version: &quot; + System.getProperty(&quot;java.runtime.version&quot;));\n</code></pre>\n<p>Now, when I execute the above command with <code>clean package</code> at the end and with <code>/path/to/java</code> pointing to jdk11, the log output is: <code>java version: 11.0.5+10-LTS</code>. If I use <code>release:prepare</code> instead of <code>clean package</code> at the end (still with jdk11), the output is <code>java version: 1.8.0_231-b11</code>. So somehow the maven-release-plugin does not use the jdk which is used for the execution of maven, but uses <code>JAVA_HOME</code> instead. This only happens when using the release plugin. With the regular maven goals (clean, package, install, deploy) jdk11 is used, so in this case the one which is located at <code>/path/to/java</code>. Does anyone know why? And maybe someone has a solution how I can make the release plugin not to change the jdk (without changing JAVA_HOME).</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1591189710,"post_id":62171410,"comment_id":109960488,"body_markdown":"When using the `org.openjfx.javafxplugin` plugin, don&#39;t declare any JavaFX dependencies in the `dependencies` block.","body":"When using the <code>org.openjfx.javafxplugin</code> plugin, don&#39;t declare any JavaFX dependencies in the <code>dependencies</code> block."},{"owner":{"account_id":16587626,"reputation":91,"user_id":11986567,"display_name":"Nick227889"},"score":0,"creation_date":1591198046,"post_id":62171410,"comment_id":109966001,"body_markdown":"When using JavaFX I recommend using Maven and a modular system to manage the dependencies and deployment because thanks to Oracle it can get very messy.","body":"When using JavaFX I recommend using Maven and a modular system to manage the dependencies and deployment because thanks to Oracle it can get very messy."},{"owner":{"account_id":681794,"reputation":295,"user_id":1548720,"display_name":"Maxim Antonov"},"score":0,"creation_date":1591291778,"post_id":62171410,"comment_id":110007875,"body_markdown":"So I don&#39;t like maven, I love gradle. And I want on any other machine do &quot;git clone &amp;&amp; ./gradlew build &amp;&amp; java -jar ... &quot; and I want this to work properly. If I don&#39;t use dependencies it will not work.  Solution proposed by MelvinWM works!","body":"So I don&#39;t like maven, I love gradle. And I want on any other machine do &quot;git clone &amp;&amp; ./gradlew build &amp;&amp; java -jar ... &quot; and I want this to work properly. If I don&#39;t use dependencies it will not work.  Solution proposed by MelvinWM works!"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1591315503,"post_id":62171410,"comment_id":110017397,"body_markdown":"&quot;If I don&#39;t use dependencies it will not work&quot;. Yes, it will. The JavaFX plugin implicitly adds the dependencies for you based on the modules you specified in the plugin&#39;s extension. You re-declaring the same dependencies in the `dependencies` block is unnecessary duplication at best. In your case, you add them without a classifier (i.e. `win`, `mac`, or `linux`) which resolves to empty JAR files. The JavaFX plugin derives the correct classifier from the host OS (parts of JavaFX are platform-specific), which is why the below answer works.","body":"&quot;If I don&#39;t use dependencies it will not work&quot;. Yes, it will. The JavaFX plugin implicitly adds the dependencies for you based on the modules you specified in the plugin&#39;s extension. You re-declaring the same dependencies in the <code>dependencies</code> block is unnecessary duplication at best. In your case, you add them without a classifier (i.e. <code>win</code>, <code>mac</code>, or <code>linux</code>) which resolves to empty JAR files. The JavaFX plugin derives the correct classifier from the host OS (parts of JavaFX are platform-specific), which is why the below answer works."}],"answers":[{"comments":[{"owner":{"account_id":905740,"reputation":749,"user_id":9543944,"display_name":"MelvinWM"},"score":0,"creation_date":1591189267,"post_id":62173439,"comment_id":109960234,"body_markdown":"@MaximAntonov Also please do accept this answer as the solution and upvote it if the answer solves your problem and you think it is good :).","body":"@MaximAntonov Also please do accept this answer as the solution and upvote it if the answer solves your problem and you think it is good :)."}],"tags":[],"owner":{"account_id":905740,"reputation":749,"user_id":9543944,"display_name":"MelvinWM"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1591189152,"creation_date":1591189152,"answer_id":62173439,"question_id":62171410,"body_markdown":"I have not tested it, but:\r\n\r\nReplace:\r\n\r\n```groovy\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n```\r\n\r\nWith\r\n\r\n```groovy\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39;, &#39;javafx.media&#39; ]\r\n```","title":"error: package javafx.scene.media does not exist","body":"<p>I have not tested it, but:</p>\n\n<p>Replace:</p>\n\n<pre><code>    modules = [ 'javafx.controls', 'javafx.fxml' ]\n</code></pre>\n\n<p>With</p>\n\n<pre><code>    modules = [ 'javafx.controls', 'javafx.fxml', 'javafx.media' ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24692814,"reputation":116,"user_id":18585122,"display_name":"quangdang"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652103745,"creation_date":1652103745,"answer_id":72172968,"question_id":62171410,"body_markdown":"If you want to use MediaView control in `javafx` you must to do 2 steps\r\n\r\n**Step1:** add requires javafx.media;\r\n\r\n```\r\nmodule com.codegym.videoplayerfx {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafx.media; // You must add this line\r\n\r\n\r\n    opens com.codegym.videoplayerfx to javafx.fxml;\r\n    exports com.codegym.videoplayerfx;\r\n}\r\n\r\n```\r\n**Step2:** Add dependency in pom.xml for maven (or build.gradle for gradle). After that **you must press build**. Try orther **dependency version** if does&#39;t work\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n","title":"error: package javafx.scene.media does not exist","body":"<p>If you want to use MediaView control in <code>javafx</code> you must to do 2 steps</p>\n<p><strong>Step1:</strong> add requires javafx.media;</p>\n<pre><code>module com.codegym.videoplayerfx {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.media; // You must add this line\n\n\n    opens com.codegym.videoplayerfx to javafx.fxml;\n    exports com.codegym.videoplayerfx;\n}\n\n</code></pre>\n<p><strong>Step2:</strong> Add dependency in pom.xml for maven (or build.gradle for gradle). After that <strong>you must press build</strong>. Try orther <strong>dependency version</strong> if does't work</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28322497,"reputation":1,"user_id":21658048,"display_name":"Paul Murray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681667299,"creation_date":1681667299,"answer_id":76029414,"question_id":62171410,"body_markdown":"Note, to use with controls, module-info should be \r\n\r\n    module com.murray {\r\n        requires javafx.controls;\r\n        requires javafx.media; // You must add this line\r\n        exports com.yourApp;\r\n    }\r\n\r\nAnd you need two entries in the dependency tag of pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"error: package javafx.scene.media does not exist","body":"<p>Note, to use with controls, module-info should be</p>\n<pre><code>module com.murray {\n    requires javafx.controls;\n    requires javafx.media; // You must add this line\n    exports com.yourApp;\n}\n</code></pre>\n<p>And you need two entries in the dependency tag of pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n        &lt;version&gt;13&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":681794,"reputation":295,"user_id":1548720,"display_name":"Maxim Antonov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8123,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62173439,"answer_count":3,"score":5,"last_activity_date":1681667299,"creation_date":1591182596,"question_id":62171410,"body_markdown":"I&#39;m trying to create javafx media player as gradle project, but got this error.**error: package javafx.scene.media does not exist** on line: ***import javafx.scene.media.Media;***\r\n\r\nHere is my build.gradle \r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;application&#39;\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.8&#39;\r\n    \r\n    }\r\n    \r\n    group &#39;life.antonov&#39;\r\n    version &#39;1.0&#39;\r\n    \r\n    mainClassName=&#39;life.antonov.muza.Main&#39;\r\n    sourceCompatibility = 11\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;$mainClassName&quot;\r\n        }\r\n    \r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n    \r\n    javafx {\r\n        version = &quot;13&quot;\r\n        modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n        compile group: &#39;org.openjfx&#39;, name: &#39;javafx-controls&#39;, version: &#39;13&#39;\r\n        compile group: &#39;org.openjfx&#39;, name: &#39;javafx-fxml&#39;, version: &#39;13 &#39;\r\n        compile group: &#39;org.openjfx&#39;, name: &#39;javafx-media&#39;, version: &#39;13&#39;\r\n       \r\n    \r\n    }\r\n\r\nI&#39;m tried to unzip downloaded javafx-media jar file and it is almost empty:\r\n\r\n    $ unzip javafx-media-13.jar \r\n    Archive:  javafx-media-13.jar\r\n       creating: META-INF/\r\n      inflating: META-INF/MANIFEST.MF    \r\n\r\n\r\nWhy?\r\nMaybe I wrote wrong dependencies?\r\nWhat I have to do to make my application compile and work?","title":"error: package javafx.scene.media does not exist","body":"<p>I'm trying to create javafx media player as gradle project, but got this error.<strong>error: package javafx.scene.media does not exist</strong> on line: <strong><em>import javafx.scene.media.Media;</em></strong></p>\n\n<p>Here is my build.gradle </p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.8'\n\n}\n\ngroup 'life.antonov'\nversion '1.0'\n\nmainClassName='life.antonov.muza.Main'\nsourceCompatibility = 11\n\njar {\n    manifest {\n        attributes \"Main-Class\": \"$mainClassName\"\n    }\n\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n\njavafx {\n    version = \"13\"\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n}\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile group: 'org.openjfx', name: 'javafx-controls', version: '13'\n    compile group: 'org.openjfx', name: 'javafx-fxml', version: '13 '\n    compile group: 'org.openjfx', name: 'javafx-media', version: '13'\n\n\n}\n</code></pre>\n\n<p>I'm tried to unzip downloaded javafx-media jar file and it is almost empty:</p>\n\n<pre><code>$ unzip javafx-media-13.jar \nArchive:  javafx-media-13.jar\n   creating: META-INF/\n  inflating: META-INF/MANIFEST.MF    \n</code></pre>\n\n<p>Why?\nMaybe I wrote wrong dependencies?\nWhat I have to do to make my application compile and work?</p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1465734782,"post_id":37774282,"comment_id":63016083,"body_markdown":"You didn&#39;t add the Spring .jar files to the classpath?","body":"You didn&#39;t add the Spring .jar files to the classpath?"},{"owner":{"account_id":8289373,"reputation":1762,"user_id":6231539,"accept_rate":71,"display_name":"Antoine Grenard"},"score":1,"creation_date":1465735488,"post_id":37774282,"comment_id":63016298,"body_markdown":"Arf ! I didn&#39;t knew it wouldn&#39;t be done automatically .. I&#39;ve searched and found how to do it thx to you :)","body":"Arf ! I didn&#39;t knew it wouldn&#39;t be done automatically .. I&#39;ve searched and found how to do it thx to you :)"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1465751180,"post_id":37774282,"comment_id":63021256,"body_markdown":"&quot;Cannot resolve symbol &#39;String&#39;&quot; - looks like your Java installation is broken or you have not configured the JDK in Intellij","body":"&quot;Cannot resolve symbol &#39;String&#39;&quot; - looks like your Java installation is broken or you have not configured the JDK in Intellij"},{"owner":{"account_id":8289373,"reputation":1762,"user_id":6231539,"accept_rate":71,"display_name":"Antoine Grenard"},"score":0,"creation_date":1465752749,"post_id":37774282,"comment_id":63021807,"body_markdown":"Mmmhh it is kind of strange cause when i go into project structure the jdk 1.8 appear ..","body":"Mmmhh it is kind of strange cause when i go into project structure the jdk 1.8 appear .."},{"owner":{"account_id":8289373,"reputation":1762,"user_id":6231539,"accept_rate":71,"display_name":"Antoine Grenard"},"score":0,"creation_date":1465754336,"post_id":37774282,"comment_id":63022279,"body_markdown":"My JDK Wasn&#39;t configured as it  should have been i&#39;ve found how to do it properly here : http://stackoverflow.com/questions/4618794/intellj-idea-cannot-resolve-symbol-and-cannot-resolve-method","body":"My JDK Wasn&#39;t configured as it  should have been i&#39;ve found how to do it properly here : <a href=\"http://stackoverflow.com/questions/4618794/intellj-idea-cannot-resolve-symbol-and-cannot-resolve-method\" title=\"intellj idea cannot resolve symbol and cannot resolve method\">stackoverflow.com/questions/4618794/&hellip;</a>"},{"owner":{"account_id":8289373,"reputation":1762,"user_id":6231539,"accept_rate":71,"display_name":"Antoine Grenard"},"score":0,"creation_date":1465754372,"post_id":37774282,"comment_id":63022288,"body_markdown":"After that i&#39;ve decided to delete all and redo it again and it work like magic :)","body":"After that i&#39;ve decided to delete all and redo it again and it work like magic :)"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1465823531,"post_id":37774282,"comment_id":63047509,"body_markdown":"This question does not appear to be about programming within the scope defined in the help center.","body":"This question does not appear to be about programming within the scope defined in the help center."},{"owner":{"account_id":11586410,"reputation":1,"user_id":8488429,"display_name":"Mohamed Bouguerra"},"score":0,"creation_date":1506467159,"post_id":37774282,"comment_id":79831015,"body_markdown":"Your are missing some dependencies. Try this ! https://stackoverflow.com/questions/35293116/import-org-springframework-cannot-be-resolved","body":"Your are missing some dependencies. Try this ! <a href=\"https://stackoverflow.com/questions/35293116/import-org-springframework-cannot-be-resolved\" title=\"import org springframework cannot be resolved\">stackoverflow.com/questions/35293116/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":5622044,"reputation":8034,"user_id":4451521,"accept_rate":34,"display_name":"KansaiRobot"},"score":3,"creation_date":1572917523,"post_id":48741568,"comment_id":103702207,"body_markdown":"there is no spring MVC. Only Groovy","body":"there is no spring MVC. Only Groovy"},{"owner":{"account_id":7895652,"reputation":1391,"user_id":5964403,"display_name":"Harsha Vardhan Chakka"},"score":1,"creation_date":1598175902,"post_id":48741568,"comment_id":112367049,"body_markdown":"Could not find &quot;spring&quot; in the list of framework support","body":"Could not find &quot;spring&quot; in the list of framework support"},{"owner":{"account_id":8322406,"reputation":689,"user_id":6253559,"display_name":"Dhannanjai"},"score":1,"creation_date":1616381789,"post_id":48741568,"comment_id":117975767,"body_markdown":"You will find &quot;Spring&quot; only in the Intellij Ultimate Edition. You can go with &quot;Application&quot; in the configuration.","body":"You will find &quot;Spring&quot; only in the Intellij Ultimate Edition. You can go with &quot;Application&quot; in the configuration."}],"tags":[],"owner":{"account_id":1451320,"reputation":305,"user_id":1368177,"display_name":"MrBlueSky"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1518421285,"creation_date":1518421285,"answer_id":48741568,"question_id":37774282,"body_markdown":"I had the same problem, and this is how it worked for me:\r\n\r\nOn the source root directory -&gt; right click -&gt; Add Framework Support.\r\n\r\nA window will open with different categories, such as Java EE, JBoss etc.\r\nGo to &#39;Spring&#39; category. Then, download the pack of libraries that you need (I used &#39;Spring MVC&#39;).\r\n","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>I had the same problem, and this is how it worked for me:</p>\n\n<p>On the source root directory -> right click -> Add Framework Support.</p>\n\n<p>A window will open with different categories, such as Java EE, JBoss etc.\nGo to 'Spring' category. Then, download the pack of libraries that you need (I used 'Spring MVC').</p>\n"},{"comments":[{"owner":{"account_id":2400044,"reputation":183,"user_id":2097917,"display_name":"Scott Greenup"},"score":2,"creation_date":1557732361,"post_id":51797001,"comment_id":98848695,"body_markdown":"This worked perfectly for me. I had created the project based on a new Maven project, and while I could use `mvn` on the CLI, Intellij was showing me the errors that Atoine had.","body":"This worked perfectly for me. I had created the project based on a new Maven project, and while I could use <code>mvn</code> on the CLI, Intellij was showing me the errors that Atoine had."},{"owner":{"account_id":5622044,"reputation":8034,"user_id":4451521,"accept_rate":34,"display_name":"KansaiRobot"},"score":4,"creation_date":1572917637,"post_id":51797001,"comment_id":103702230,"body_markdown":"Did this,. Nothing changed","body":"Did this,. Nothing changed"}],"tags":[],"owner":{"account_id":3328255,"reputation":2262,"user_id":2797731,"display_name":"Vinayak Shedgeri"},"comment_count":2,"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1533967984,"creation_date":1533967984,"answer_id":51797001,"question_id":37774282,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CdSc7.png\r\n\r\nClick on refresh button .Maven may not be able to sync properly","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p><a href=\"https://i.stack.imgur.com/CdSc7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CdSc7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Click on refresh button .Maven may not be able to sync properly</p>\n"},{"comments":[{"owner":{"account_id":5622044,"reputation":8034,"user_id":4451521,"accept_rate":34,"display_name":"KansaiRobot"},"score":0,"creation_date":1572919145,"post_id":56964396,"comment_id":103702484,"body_markdown":"Non-resolvable parent POM for the SNAPSHOT","body":"Non-resolvable parent POM for the SNAPSHOT"},{"owner":{"account_id":2642859,"reputation":589,"user_id":2286174,"accept_rate":75,"display_name":"shanavascet"},"score":0,"creation_date":1615390724,"post_id":56964396,"comment_id":117676785,"body_markdown":"I have faced the same issue as the OP. I had started the project from the scratch using IntelliJ IDE and spring initializer. The  maven wasn&#39;t installed separately even though it was available as part of the project. I installed maven separately from this link https://maven.apache.org/download.cgi. Run the above command and it worked for me.","body":"I have faced the same issue as the OP. I had started the project from the scratch using IntelliJ IDE and spring initializer. The  maven wasn&#39;t installed separately even though it was available as part of the project. I installed maven separately from this link <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">maven.apache.org/download.cgi</a>. Run the above command and it worked for me."}],"tags":[],"owner":{"account_id":15181783,"reputation":81,"user_id":10954880,"display_name":"SaravanaKumar KKB"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1564756638,"creation_date":1562739331,"answer_id":56964396,"question_id":37774282,"body_markdown":"Add dependency for springframework in `pom.xml` and run below command from directory where `pom.xml` exist.\r\n\r\n    mvn clean install -U\r\n\r\nAbove command will forcefully download the dependencies.\r\n\r\nif you are behind proxy then try below command\r\n\r\n\r\n```\r\nmvn clean install -DproxySet=true -DproxyHost=www-proxy.us.com -DproxyPort=80\r\n```","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>Add dependency for springframework in <code>pom.xml</code> and run below command from directory where <code>pom.xml</code> exist.</p>\n\n<pre><code>mvn clean install -U\n</code></pre>\n\n<p>Above command will forcefully download the dependencies.</p>\n\n<p>if you are behind proxy then try below command</p>\n\n<pre><code>mvn clean install -DproxySet=true -DproxyHost=www-proxy.us.com -DproxyPort=80\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4920334,"reputation":211,"user_id":3963056,"display_name":"Aditya Goel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588788425,"creation_date":1588788425,"answer_id":61642177,"question_id":37774282,"body_markdown":"In my case, I was behind Office proxy and that why MAVEN was unable to download the required dependencies on its own !\r\n\r\nAfter switching the network and executing below command : ```mvn clean install -U```, it worked !!\r\n\r\n","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>In my case, I was behind Office proxy and that why MAVEN was unable to download the required dependencies on its own !</p>\n\n<p>After switching the network and executing below command : <code>mvn clean install -U</code>, it worked !!</p>\n"},{"comments":[{"owner":{"account_id":9736257,"reputation":1151,"user_id":7219400,"display_name":"Sahin"},"score":1,"creation_date":1624627077,"post_id":67507656,"comment_id":120417335,"body_markdown":"I couldnt find it","body":"I couldnt find it"}],"tags":[],"owner":{"account_id":8651511,"reputation":81,"user_id":6477019,"display_name":"Rahman786"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620837373,"creation_date":1620837373,"answer_id":67507656,"question_id":37774282,"body_markdown":"Project root directory -&gt; right click -&gt; Add Framework Support --&gt; Maven or Gradle --&gt; Click Ok","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>Project root directory -&gt; right click -&gt; Add Framework Support --&gt; Maven or Gradle --&gt; Click Ok</p>\n"},{"tags":[],"owner":{"account_id":14621276,"reputation":51,"user_id":10559887,"display_name":"Kaushal Jhawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627627773,"creation_date":1627627773,"answer_id":68586574,"question_id":37774282,"body_markdown":"Please check if you have configured Maven Settings. \r\n\r\nIntelliJ (File &gt; Settings &gt; Build,Execution,Deployment &gt; Build Tools &gt; Maven )\r\n\r\nMaven home path : C:/Program Files/apache-maven-3.6.0\r\n\r\nIt resolved my error.","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>Please check if you have configured Maven Settings.</p>\n<p>IntelliJ (File &gt; Settings &gt; Build,Execution,Deployment &gt; Build Tools &gt; Maven )</p>\n<p>Maven home path : C:/Program Files/apache-maven-3.6.0</p>\n<p>It resolved my error.</p>\n"},{"tags":[],"owner":{"account_id":1852690,"reputation":13,"user_id":1678891,"display_name":"jaySingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628054777,"creation_date":1628054777,"answer_id":68645805,"question_id":37774282,"body_markdown":"Check if \r\n\r\n&gt; /Users/\\&lt;userName&gt;/.m2/\r\n\r\n location has settings.xml and toolchains.xml.\r\nI think toolchains might not be necessary but settings.xml is required. \r\nInstructions for creating settings.xml can be found here - https://maven.apache.org/settings.html\r\n\r\nMy issue was resolved after adding settigs.xml and toolchains.xml to above mentioned location and restarting the IDE.","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>Check if</p>\n<blockquote>\n<p>/Users/&lt;userName&gt;/.m2/</p>\n</blockquote>\n<p>location has settings.xml and toolchains.xml.\nI think toolchains might not be necessary but settings.xml is required.\nInstructions for creating settings.xml can be found here - <a href=\"https://maven.apache.org/settings.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/settings.html</a></p>\n<p>My issue was resolved after adding settigs.xml and toolchains.xml to above mentioned location and restarting the IDE.</p>\n"},{"tags":[],"owner":{"account_id":14164480,"reputation":3018,"user_id":10232790,"display_name":"Harshith Rai"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1631282147,"creation_date":1631282147,"answer_id":69133304,"question_id":37774282,"body_markdown":"In my case triggering an ***Invalidate Caches/Restart*** helped IntelliJ now find those dependencies.\r\n\r\n[![The Invalidate Caches/Restart option][1]][1]\r\n\r\nFollowing what Mr. BlueSky told in his answer [here][2], I could get the dependencies downloaded.\r\nActually, the [answer by Vinayak Shedgeri][3] should have helped too. For those whom it didn&#39;t, you could try the **invalidate cache/restart**.\r\n\r\n**P. S.:** And going by what could have caused this behavior, you could very well try something as simple as relaunching IntelliJ first. Just a guess.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kCAAU.png\r\n  [2]: https://stackoverflow.com/a/48741568/10232790\r\n  [3]: https://stackoverflow.com/a/51797001/10232790","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>In my case triggering an <em><strong>Invalidate Caches/Restart</strong></em> helped IntelliJ now find those dependencies.</p>\n<p><a href=\"https://i.stack.imgur.com/kCAAU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kCAAU.png\" alt=\"The Invalidate Caches/Restart option\" /></a></p>\n<p>Following what Mr. BlueSky told in his answer <a href=\"https://stackoverflow.com/a/48741568/10232790\">here</a>, I could get the dependencies downloaded.\nActually, the <a href=\"https://stackoverflow.com/a/51797001/10232790\">answer by Vinayak Shedgeri</a> should have helped too. For those whom it didn't, you could try the <strong>invalidate cache/restart</strong>.</p>\n<p><strong>P. S.:</strong> And going by what could have caused this behavior, you could very well try something as simple as relaunching IntelliJ first. Just a guess.</p>\n"},{"tags":[],"owner":{"account_id":23943451,"reputation":1,"user_id":17936144,"display_name":"kanakgoswami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642225229,"creation_date":1642191477,"answer_id":70716091,"question_id":37774282,"body_markdown":"Maven did not added dependencies on intellij so for this problem I restarted intellij IDE and when this time IDE stared it added dependencies successfully.","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>Maven did not added dependencies on intellij so for this problem I restarted intellij IDE and when this time IDE stared it added dependencies successfully.</p>\n"},{"comments":[{"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"score":0,"creation_date":1670519596,"post_id":72201764,"comment_id":131898891,"body_markdown":"Thank you, cloned my project from github and tried adding /src as source but it didn&#39;t work until I ran this cmd.","body":"Thank you, cloned my project from github and tried adding /src as source but it didn&#39;t work until I ran this cmd."},{"owner":{"account_id":1139651,"reputation":76,"user_id":1123916,"display_name":"Freakin"},"score":0,"creation_date":1670879615,"post_id":72201764,"comment_id":131971409,"body_markdown":"Fixed my issues as well.  Thanks!","body":"Fixed my issues as well.  Thanks!"}],"tags":[],"owner":{"account_id":2352360,"reputation":1064,"user_id":2060893,"accept_rate":33,"display_name":"Swapnil"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1652274996,"creation_date":1652274996,"answer_id":72201764,"question_id":37774282,"body_markdown":"Right click on the project and select **Open In ‚Üí Terminal**\r\n\r\n[![Context Menu][1]][1]\r\n\r\nIn the terminal, type ‚Üí `mvn -U idea:idea`  \r\n\r\n[![terminal][2]][2]\r\n\r\nIt will resolve all the classpath issues for the particular project\r\n\r\n  [1]: https://i.stack.imgur.com/tNoyz.png\r\n  [2]: https://i.stack.imgur.com/KTFTT.png","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>Right click on the project and select <strong>Open In ‚Üí Terminal</strong></p>\n<p><a href=\"https://i.stack.imgur.com/tNoyz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tNoyz.png\" alt=\"Context Menu\" /></a></p>\n<p>In the terminal, type ‚Üí <code>mvn -U idea:idea</code></p>\n<p><a href=\"https://i.stack.imgur.com/KTFTT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KTFTT.png\" alt=\"terminal\" /></a></p>\n<p>It will resolve all the classpath issues for the particular project</p>\n"},{"tags":[],"owner":{"account_id":26206668,"reputation":148,"user_id":19886178,"display_name":"Vishal Bramhankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670590959,"creation_date":1670590959,"answer_id":74743526,"question_id":37774282,"body_markdown":"import parent folder(Backend) instead of child folder(exam). \r\n\r\n\r\nchild folder(exam)\r\n\r\n[![exam folder][1]][1]\r\n\r\n\r\n\r\nparent folder(Backend)\r\n\r\n[![Backend folder][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BPGdr.png\r\n  [2]: https://i.stack.imgur.com/eVvJ2.png","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>import parent folder(Backend) instead of child folder(exam).</p>\n<p>child folder(exam)</p>\n<p><a href=\"https://i.stack.imgur.com/BPGdr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BPGdr.png\" alt=\"exam folder\" /></a></p>\n<p>parent folder(Backend)</p>\n<p><a href=\"https://i.stack.imgur.com/eVvJ2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eVvJ2.png\" alt=\"Backend folder\" /></a></p>\n"},{"tags":[],"owner":{"account_id":27410079,"reputation":1,"user_id":20910134,"display_name":"shigal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673904608,"creation_date":1673880807,"answer_id":75135955,"question_id":37774282,"body_markdown":"\r\n\r\nI had a few spring-boot modules which were in perfect running state, but suddenly my PC went off and that created issues like: cannot resolve symbol &#39;springframework&#39; and etc \r\n\r\n[Maven -&gt; Reload all maven projects] : this fixed the issue","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>I had a few spring-boot modules which were in perfect running state, but suddenly my PC went off and that created issues like: cannot resolve symbol 'springframework' and etc</p>\n<p>[Maven -&gt; Reload all maven projects] : this fixed the issue</p>\n"},{"comments":[{"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"score":0,"creation_date":1682537698,"post_id":75873170,"comment_id":134233665,"body_markdown":"I tried everything and only suggestion that worked for me was this.","body":"I tried everything and only suggestion that worked for me was this."},{"owner":{"account_id":10377286,"reputation":941,"user_id":7653142,"display_name":"Peyman"},"score":0,"creation_date":1696779331,"post_id":75873170,"comment_id":136194096,"body_markdown":"Only solution that worked. I should point out that you should delete .idea folder in the root of your project since the answer doesn&#39;t specify which folder to delete exactly.","body":"Only solution that worked. I should point out that you should delete .idea folder in the root of your project since the answer doesn&#39;t specify which folder to delete exactly."}],"tags":[],"owner":{"account_id":20447198,"reputation":19,"user_id":15002718,"display_name":"Luis Alejandro Le&#243;n"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680064605,"creation_date":1680064605,"answer_id":75873170,"question_id":37774282,"body_markdown":"What works for me was to close Intellij, erase the idea folder and open it again, Intellij seems to check everything again and then my dependency hasn&#39;t any issues","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>What works for me was to close Intellij, erase the idea folder and open it again, Intellij seems to check everything again and then my dependency hasn't any issues</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1681889990,"post_id":76029400,"comment_id":134128060,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76029400/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13484443,"reputation":11,"user_id":9728637,"display_name":"Subhendu Das"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681667196,"creation_date":1681667196,"answer_id":76029400,"question_id":37774282,"body_markdown":"Just restart your IDE (Intellij) and it should ask you to start loading of the maven project.\r\nIt worked for me.","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>Just restart your IDE (Intellij) and it should ask you to start loading of the maven project.\nIt worked for me.</p>\n"}],"owner":{"account_id":8289373,"reputation":1762,"user_id":6231539,"accept_rate":71,"display_name":"Antoine Grenard"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146945,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"answer_count":14,"score":60,"last_activity_date":1681667196,"creation_date":1465734611,"question_id":37774282,"body_markdown":"I&#39;m trying to start my first project with Spring. I use IntelliJ idea and I&#39;m kind of new to it too. But anyways, I followed the step written on the Jetbrains website and I don&#39;t know what I have done wrong, but I got a lot of errors on the first to files that are created by default.\r\n\r\nBloomBookingApplcation.java\r\n\r\n    package com.bloombooking;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class BloomBookingApplication {\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\t    SpringApplication.run(BloomBookingApplication.class, args);\r\n\t    }\r\n    }\r\n\r\n    Error:(3, 12) Cannot resolve symbol &#39;springframework&#39;\r\n    Error:(4, 12) Cannot resolve symbol &#39;springframework&#39;\r\n    Error:(6, 2) Cannot resolve symbol &#39;SpringBootApplication&#39;\r\n    Warning:(7, 1) Access can be packageLocal\r\n    Error:(9, 26) Cannot resolve symbol &#39;String&#39;\r\n    Error:(10, 3) Cannot resolve symbol &#39;SpringApplication&#39;\r\n\r\nMaybe I&#39;m stupid but I don&#39;t know which step I&#39;ve missed...\r\n\r\nHow can I fix this?\r\n\r\nI have found the way to add spring with the quickfix button.\r\n\r\nBut now I have got new errors I don&#39;t understand why... I should maybe download it directly and put the libraries one by one maybe? \r\n\r\n    Error:(3, 28) Cannot resolve symbol &#39;boot&#39;\r\n    Error:(4, 28) Cannot resolve symbol &#39;boot&#39;\r\n    Error:(6, 2) Cannot resolve symbol &#39;SpringBootApplication&#39;\r\n    Warning:(7, 1) Access can be packageLocal\r\n    Error:(9, 26) Cannot resolve symbol &#39;String&#39;\r\n    Error:(10, 3) Cannot resolve symbol &#39;SpringApplication&#39;\r\n\r\n\r\nOr maybe it&#39;s my IntelliJ idea which isn&#39;t configured right since I don&#39;t have any completion anywhere and I can&#39;t create packages...","title":"IntelliJ: Cannot resolve symbol &#39;springframework&#39;","body":"<p>I'm trying to start my first project with Spring. I use IntelliJ idea and I'm kind of new to it too. But anyways, I followed the step written on the Jetbrains website and I don't know what I have done wrong, but I got a lot of errors on the first to files that are created by default.</p>\n<p>BloomBookingApplcation.java</p>\n<pre><code>package com.bloombooking;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class BloomBookingApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BloomBookingApplication.class, args);\n    }\n}\n\nError:(3, 12) Cannot resolve symbol 'springframework'\nError:(4, 12) Cannot resolve symbol 'springframework'\nError:(6, 2) Cannot resolve symbol 'SpringBootApplication'\nWarning:(7, 1) Access can be packageLocal\nError:(9, 26) Cannot resolve symbol 'String'\nError:(10, 3) Cannot resolve symbol 'SpringApplication'\n</code></pre>\n<p>Maybe I'm stupid but I don't know which step I've missed...</p>\n<p>How can I fix this?</p>\n<p>I have found the way to add spring with the quickfix button.</p>\n<p>But now I have got new errors I don't understand why... I should maybe download it directly and put the libraries one by one maybe?</p>\n<pre><code>Error:(3, 28) Cannot resolve symbol 'boot'\nError:(4, 28) Cannot resolve symbol 'boot'\nError:(6, 2) Cannot resolve symbol 'SpringBootApplication'\nWarning:(7, 1) Access can be packageLocal\nError:(9, 26) Cannot resolve symbol 'String'\nError:(10, 3) Cannot resolve symbol 'SpringApplication'\n</code></pre>\n<p>Or maybe it's my IntelliJ idea which isn't configured right since I don't have any completion anywhere and I can't create packages...</p>\n"},{"tags":["java","android","arraylist","collections","java-stream"],"comments":[{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1681870922,"post_id":76029323,"comment_id":134125372,"body_markdown":"Does this answer your question? [Java 8 Stream - Find largest nested list](https://stackoverflow.com/questions/34776248/java-8-stream-find-largest-nested-list)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34776248/java-8-stream-find-largest-nested-list\">Java 8 Stream - Find largest nested list</a>"}],"answers":[{"comments":[{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":1,"creation_date":1681669057,"post_id":76029383,"comment_id":134090116,"body_markdown":"Seems ok. Tommorow I will test it out and mark your answer as accepted. Thank you :)","body":"Seems ok. Tommorow I will test it out and mark your answer as accepted. Thank you :)"}],"tags":[],"owner":{"account_id":14450502,"reputation":314,"user_id":10438187,"display_name":"Poklakni"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681666968,"creation_date":1681666968,"answer_id":76029383,"question_id":76029323,"body_markdown":"you can achieve it simply by using streams\r\n```java\r\nint maxTileFramesSize = tileAnimations.stream()\r\n       .mapToInt(tileAnimation -&gt; tileAnimation.getTileFrames().size())\r\n       .max()\r\n       .orElse(0);\r\n```","title":"Java find biggest size of list in list","body":"<p>you can achieve it simply by using streams</p>\n<pre class=\"lang-java prettyprint-override\"><code>int maxTileFramesSize = tileAnimations.stream()\n       .mapToInt(tileAnimation -&gt; tileAnimation.getTileFrames().size())\n       .max()\n       .orElse(0);\n</code></pre>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76029383,"answer_count":1,"score":-2,"last_activity_date":1681666968,"creation_date":1681666225,"question_id":76029323,"body_markdown":"I want to find the biggest size() of `List&lt;TileFrame&gt;` tileFrames that is inside of `List&lt;TileAnimation&gt;` class.\r\n\r\n\r\nTileAnimation.java\r\n\r\n\r\n    public class TileAnimation {\r\n    private long localGID;\r\n    private List&lt;TileFrame&gt; tileFrames;\r\n    \r\n    public long getLocalGID() {\r\n        return localGID;\r\n    }\r\n    \r\n    public void setLocalGID(long localGID) {\r\n        this.localGID = localGID;\r\n    }\r\n    \r\n    public List&lt;TileFrame&gt; getTileFrames() {\r\n        return tileFrames;\r\n    }\r\n    \r\n    public void setTileFrames(List&lt;TileFrame&gt; tileFrames) {\r\n        this.tileFrames = tileFrames;\r\n    }\r\n    \r\n    public TileAnimation(long localGID, List&lt;TileFrame&gt; tileFrames) {\r\n        this.localGID = localGID;\r\n        this.tileFrames = tileFrames;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        return &quot;TileAnimation{&quot; +\r\n                &quot;localGID=&quot; + localGID +\r\n                &quot;, tileFrames=&quot; + tileFrames +\r\n                &#39;}&#39;;\r\n    }\r\n    }\r\n\r\nTileFrame.java\r\n\r\n\r\n    public class TileFrame {\r\n    private long tileId;\r\n    private long duration;\r\n\r\n    public long getTileId() {\r\n        return tileId;\r\n    }\r\n\r\n    public void setTileId(long tileId) {\r\n        this.tileId = tileId;\r\n    }\r\n\r\n    public long getDuration() {\r\n        return duration;\r\n    }\r\n\r\n    public void setDuration(long duration) {\r\n        this.duration = duration;\r\n    }\r\n\r\n    public TileFrame(long tileId, long duration) {\r\n        this.tileId = tileId;\r\n        this.duration = duration;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;TileFrame{&quot; +\r\n                &quot;tileId=&quot; + tileId +\r\n                &quot;, duration=&quot; + duration +\r\n                &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nLet&#39;s say I have such list of objects and I filled it later on:\r\n\r\n    private List&lt;TileAnimation&gt; tileAnimations = new ArrayList&lt;&gt;();\r\n\r\nthen how to find such max size in inner `List&lt;TileFrame&gt;` of `List&lt;TileAnimations&gt;` ?\r\nAll the solutions I know when there are just one list with sigular fields without inner lists, but here it is something new for me and I could not find any solution in the internet of such issue.\r\n\r\n\r\n\r\n","title":"Java find biggest size of list in list","body":"<p>I want to find the biggest size() of <code>List&lt;TileFrame&gt;</code> tileFrames that is inside of <code>List&lt;TileAnimation&gt;</code> class.</p>\n<p>TileAnimation.java</p>\n<pre><code>public class TileAnimation {\nprivate long localGID;\nprivate List&lt;TileFrame&gt; tileFrames;\n\npublic long getLocalGID() {\n    return localGID;\n}\n\npublic void setLocalGID(long localGID) {\n    this.localGID = localGID;\n}\n\npublic List&lt;TileFrame&gt; getTileFrames() {\n    return tileFrames;\n}\n\npublic void setTileFrames(List&lt;TileFrame&gt; tileFrames) {\n    this.tileFrames = tileFrames;\n}\n\npublic TileAnimation(long localGID, List&lt;TileFrame&gt; tileFrames) {\n    this.localGID = localGID;\n    this.tileFrames = tileFrames;\n}\n\n@Override\npublic String toString() {\n    return &quot;TileAnimation{&quot; +\n            &quot;localGID=&quot; + localGID +\n            &quot;, tileFrames=&quot; + tileFrames +\n            '}';\n}\n}\n</code></pre>\n<p>TileFrame.java</p>\n<pre><code>public class TileFrame {\nprivate long tileId;\nprivate long duration;\n\npublic long getTileId() {\n    return tileId;\n}\n\npublic void setTileId(long tileId) {\n    this.tileId = tileId;\n}\n\npublic long getDuration() {\n    return duration;\n}\n\npublic void setDuration(long duration) {\n    this.duration = duration;\n}\n\npublic TileFrame(long tileId, long duration) {\n    this.tileId = tileId;\n    this.duration = duration;\n}\n\n@Override\npublic String toString() {\n    return &quot;TileFrame{&quot; +\n            &quot;tileId=&quot; + tileId +\n            &quot;, duration=&quot; + duration +\n            '}';\n    }\n}\n</code></pre>\n<p>Let's say I have such list of objects and I filled it later on:</p>\n<pre><code>private List&lt;TileAnimation&gt; tileAnimations = new ArrayList&lt;&gt;();\n</code></pre>\n<p>then how to find such max size in inner <code>List&lt;TileFrame&gt;</code> of <code>List&lt;TileAnimations&gt;</code> ?\nAll the solutions I know when there are just one list with sigular fields without inner lists, but here it is something new for me and I could not find any solution in the internet of such issue.</p>\n"},{"tags":["java","dictionary","sorting","integer","key"],"comments":[{"owner":{"account_id":10288578,"reputation":964,"user_id":12035742,"display_name":"Ethan"},"score":0,"creation_date":1681657923,"post_id":76028537,"comment_id":134088458,"body_markdown":"I believe you can use a tree map: https://stackoverflow.com/questions/922528/how-can-i-sort-map-values-by-key-in-java","body":"I believe you can use a tree map: <a href=\"https://stackoverflow.com/questions/922528/how-can-i-sort-map-values-by-key-in-java\" title=\"how can i sort map values by key in java\">stackoverflow.com/questions/922528/&hellip;</a>"},{"owner":{"account_id":1367329,"reputation":2140,"user_id":1303506,"accept_rate":84,"display_name":"Sanyam Goel"},"score":2,"creation_date":1681658028,"post_id":76028537,"comment_id":134088474,"body_markdown":"Why dont you use a TreeMap instead  ?","body":"Why dont you use a TreeMap instead  ?"},{"owner":{"account_id":28321296,"reputation":1,"user_id":21657047,"display_name":"Xman"},"score":0,"creation_date":1681658410,"post_id":76028537,"comment_id":134088537,"body_markdown":"@Ethan I do not want to use TreeMap because I also need O(1) and NOT O(Log(N) for inserts.","body":"@Ethan I do not want to use TreeMap because I also need O(1) and NOT O(Log(N) for inserts."},{"owner":{"account_id":28321296,"reputation":1,"user_id":21657047,"display_name":"Xman"},"score":0,"creation_date":1681658486,"post_id":76028537,"comment_id":134088544,"body_markdown":"@SanyamGoel I do not want to use TreeMap because I also need O(1) and NOT O(Log(N) for inserts.","body":"@SanyamGoel I do not want to use TreeMap because I also need O(1) and NOT O(Log(N) for inserts."},{"owner":{"account_id":1367329,"reputation":2140,"user_id":1303506,"accept_rate":84,"display_name":"Sanyam Goel"},"score":0,"creation_date":1681659268,"post_id":76028537,"comment_id":134088653,"body_markdown":"@Xman You need to choose b/w the tradeoffs, one is let treemap do  the sort while  inserting  another is when you iterate over HashMap keys sort them in the stream","body":"@Xman You need to choose b/w the tradeoffs, one is let treemap do  the sort while  inserting  another is when you iterate over HashMap keys sort them in the stream"},{"owner":{"account_id":1367329,"reputation":2140,"user_id":1303506,"accept_rate":84,"display_name":"Sanyam Goel"},"score":0,"creation_date":1681659415,"post_id":76028537,"comment_id":134088676,"body_markdown":"You may try something like this \t\t\nList.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).stream().sorted((k1,k2)-&gt; k1.compareTo(k2)).collect(Collectors.toList());","body":"You may try something like this \t\t List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).stream().sorted((k1,k2)-&gt; k1.compareTo(k2)).collect(Collectors.toList());"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1681660769,"post_id":76028537,"comment_id":134088882,"body_markdown":"You asked for the &quot;Best way&quot;. But, which is the best way to do something can be a matter of opinion. A question where answers are matters of opinion risks the question being off-topic for Stack Overflow.  Perhaps you should explain why O(1) for an insertion is a requirement, and not merely a want.","body":"You asked for the &quot;Best way&quot;. But, which is the best way to do something can be a matter of opinion. A question where answers are matters of opinion risks the question being off-topic for Stack Overflow.  Perhaps you should explain why O(1) for an insertion is a requirement, and not merely a want."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1681661183,"post_id":76028537,"comment_id":134088957,"body_markdown":"If you want the results to be sorted, you must pay O(log n) per entry.  There is absolutely no alternative.  If you use sorted, you will pay the cost later, but you will still pay O(log n).","body":"If you want the results to be sorted, you must pay O(log n) per entry.  There is absolutely no alternative.  If you use sorted, you will pay the cost later, but you will still pay O(log n)."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1681661377,"post_id":76028537,"comment_id":134088992,"body_markdown":"&quot;and the order witholds&quot; The data you were testing on happened to get lucky and print in sorted order.  HashMap definitely does not sort all integer inputs.","body":"&quot;and the order witholds&quot; The data you were testing on happened to get lucky and print in sorted order.  HashMap definitely does not sort all integer inputs."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681663911,"creation_date":1681660831,"answer_id":76028826,"question_id":76028537,"body_markdown":"&gt;I need to convert HashMap entries into List of some DTOs(based both on key and value from map). I also need it to be sorted by keys.\r\n\r\nWhether you sort during insertion using a `TreeMap`, or later is up to you but you will still need to sort and incur the cost. But to address your question, here is an alternative.\r\n\r\n- declare the DTO (here I&#39;m using a record)\r\n- stream the map entrySet\r\n- sort on the key create each DTO, return them in a list.\r\n```\r\nrecord DTO&lt;X&gt;(Integer getInt, X getX) {}\r\nMap&lt;Integer, String&gt; map = new HashMap&lt;&gt;(); // populated with the data\r\nList&lt;DTO&lt;String&gt;&gt; list = map.entrySet().stream()\r\n        .sorted(Entry.comparingByKey())\r\n        .map(e -&gt; new DTO&lt;String&gt;(e.getKey(), e.getValue()))\r\n        .toList();\r\n```\r\nThe above returned list will be immutable.  You can also change `.toList()` to return a specific type of collection.  Here is one returning an `ArrayList`.\r\n```\r\n.collect(Collectors.toCollection(ArrayList::new));","title":"Best way to iterate through HashMap&lt;Integer,X&gt; when you need sorted by keys","body":"<blockquote>\n<p>I need to convert HashMap entries into List of some DTOs(based both on key and value from map). I also need it to be sorted by keys.</p>\n</blockquote>\n<p>Whether you sort during insertion using a <code>TreeMap</code>, or later is up to you but you will still need to sort and incur the cost. But to address your question, here is an alternative.</p>\n<ul>\n<li>declare the DTO (here I'm using a record)</li>\n<li>stream the map entrySet</li>\n<li>sort on the key create each DTO, return them in a list.</li>\n</ul>\n<pre><code>record DTO&lt;X&gt;(Integer getInt, X getX) {}\nMap&lt;Integer, String&gt; map = new HashMap&lt;&gt;(); // populated with the data\nList&lt;DTO&lt;String&gt;&gt; list = map.entrySet().stream()\n        .sorted(Entry.comparingByKey())\n        .map(e -&gt; new DTO&lt;String&gt;(e.getKey(), e.getValue()))\n        .toList();\n</code></pre>\n<p>The above returned list will be immutable.  You can also change <code>.toList()</code> to return a specific type of collection.  Here is one returning an <code>ArrayList</code>.</p>\n<pre><code>.collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681665620,"creation_date":1681665124,"answer_id":76029238,"question_id":76028537,"body_markdown":"IYou said:\r\n\r\n&gt;I noticed that since my keys are Integers I can access it just through:\r\n&gt;\r\n&gt;`map.forEach(..);`\r\n&gt;\r\n&gt;and the order witholds.\r\n\r\nThat you saw a few numbers appear in sorted order was mere luck, not true sorting. The `Map` interface, and the `HashMap` class, clearly state in their Javadoc that they do *not* iterate with any particular order. \r\n\r\nThat means you should *not* rely on any apparent ordering. Even if the current implementation did happen to use an ordering internally, the implementation is free to change in a future version to a different sort or arbitrary order, thereby breaking your app.\r\n\r\n&#128073; **If you want sorted order, you must pay for sorting.** You can either pay early or pay later, your choice.\r\n\r\n# Pay early\r\n\r\nPay early by using a [`NavigableMap`][1] (or `SortedMap`) that maintains your entries in the order of their keys. \r\n\r\nThe [`TreeMap`][2] class is one implementation of those interfaces. If you need concurrency, [`ConcurrentSkipListMap`][3] is another.\r\n\r\n    private final NavigableMap&lt;Integer, X&gt; map = new TreeMap&lt;&gt;();\r\n\r\n# Pay later\r\n\r\nPay later by first populating your `Map` such as `HashMap`. When the map is complete, sort. \r\n\r\n - You can sort by using `Stream` as seen in the smart [Answer by WJS][4]. \r\n - Or you can sort by building a `NavigableMap` from your `Map`.\r\n\r\n```java\r\nprivate final Map&lt;Integer, X&gt; map = new HashMap&lt;&gt;();\r\n‚Ä¶\r\nprivate final NavigableMap&lt;Integer, X&gt; navMap = new TreeMap&lt;&gt;( map ) ;\r\n```\r\n\r\nA full example. \r\n\r\n```java\r\nMap &lt; Integer, String &gt; map =\r\n        Map.of(\r\n                3 , &quot;Carol&quot; ,\r\n                1 , &quot;Alice&quot; ,\r\n                2 , &quot;Bob&quot;\r\n        );\r\nNavigableMap &lt; Integer, String &gt; navMap = new TreeMap &lt;&gt;( map );\r\n\r\nSystem.out.println( &quot;map = &quot; + map );\r\nSystem.out.println( &quot;navMap = &quot; + navMap );\r\n```\r\n\r\nWhen run, notice how `map` prints with an order different than creation order. In contrast, `navMap` always prints in key-sorted order.\r\n\r\n```none\r\nmap = {2=Bob, 1=Alice, 3=Carol}\r\nnavMap = {1=Alice, 2=Bob, 3=Carol}\r\n```\r\n\r\nOr, in your case, you are producing a `List` that you want in a certain order. You can pay later by producing the list in non-sorted order, then sort that list. You can either [sort by natural order][5] or [sort by specifying a `Comparator`][6]. \r\n\r\n    Collections.sort( list ) ;\r\n\r\n\r\n----------\r\n\r\n\r\nYou said:\r\n\r\n&gt;I do not want to use TreeMap because I also need O(1) and NOT O(Log(N) for inserts.\r\n\r\nBeware of premature optimization. Unless you have huge numbers of elements, or frequently repeat this code, I would be surprised to find any significant impact. Perform some benchmarking or profiling rather than assume a performance bottleneck.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableMap.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeMap.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\r\n  [4]: https://stackoverflow.com/a/76028826/642706\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#sort(java.util.List)\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#sort(java.util.List,java.util.Comparator)","title":"Best way to iterate through HashMap&lt;Integer,X&gt; when you need sorted by keys","body":"<p>IYou said:</p>\n<blockquote>\n<p>I noticed that since my keys are Integers I can access it just through:</p>\n<p><code>map.forEach(..);</code></p>\n<p>and the order witholds.</p>\n</blockquote>\n<p>That you saw a few numbers appear in sorted order was mere luck, not true sorting. The <code>Map</code> interface, and the <code>HashMap</code> class, clearly state in their Javadoc that they do <em>not</em> iterate with any particular order.</p>\n<p>That means you should <em>not</em> rely on any apparent ordering. Even if the current implementation did happen to use an ordering internally, the implementation is free to change in a future version to a different sort or arbitrary order, thereby breaking your app.</p>\n<p>üëâ <strong>If you want sorted order, you must pay for sorting.</strong> You can either pay early or pay later, your choice.</p>\n<h1>Pay early</h1>\n<p>Pay early by using a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a> (or <code>SortedMap</code>) that maintains your entries in the order of their keys.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a> class is one implementation of those interfaces. If you need concurrency, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentSkipListMap</code></a> is another.</p>\n<pre><code>private final NavigableMap&lt;Integer, X&gt; map = new TreeMap&lt;&gt;();\n</code></pre>\n<h1>Pay later</h1>\n<p>Pay later by first populating your <code>Map</code> such as <code>HashMap</code>. When the map is complete, sort.</p>\n<ul>\n<li>You can sort by using <code>Stream</code> as seen in the smart <a href=\"https://stackoverflow.com/a/76028826/642706\">Answer by WJS</a>.</li>\n<li>Or you can sort by building a <code>NavigableMap</code> from your <code>Map</code>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private final Map&lt;Integer, X&gt; map = new HashMap&lt;&gt;();\n‚Ä¶\nprivate final NavigableMap&lt;Integer, X&gt; navMap = new TreeMap&lt;&gt;( map ) ;\n</code></pre>\n<p>A full example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt; Integer, String &gt; map =\n        Map.of(\n                3 , &quot;Carol&quot; ,\n                1 , &quot;Alice&quot; ,\n                2 , &quot;Bob&quot;\n        );\nNavigableMap &lt; Integer, String &gt; navMap = new TreeMap &lt;&gt;( map );\n\nSystem.out.println( &quot;map = &quot; + map );\nSystem.out.println( &quot;navMap = &quot; + navMap );\n</code></pre>\n<p>When run, notice how <code>map</code> prints with an order different than creation order. In contrast, <code>navMap</code> always prints in key-sorted order.</p>\n<pre class=\"lang-none prettyprint-override\"><code>map = {2=Bob, 1=Alice, 3=Carol}\nnavMap = {1=Alice, 2=Bob, 3=Carol}\n</code></pre>\n<p>Or, in your case, you are producing a <code>List</code> that you want in a certain order. You can pay later by producing the list in non-sorted order, then sort that list. You can either <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#sort(java.util.List)\" rel=\"nofollow noreferrer\">sort by natural order</a> or <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#sort(java.util.List,java.util.Comparator)\" rel=\"nofollow noreferrer\">sort by specifying a <code>Comparator</code></a>.</p>\n<pre><code>Collections.sort( list ) ;\n</code></pre>\n<hr />\n<p>You said:</p>\n<blockquote>\n<p>I do not want to use TreeMap because I also need O(1) and NOT O(Log(N) for inserts.</p>\n</blockquote>\n<p>Beware of premature optimization. Unless you have huge numbers of elements, or frequently repeat this code, I would be surprised to find any significant impact. Perform some benchmarking or profiling rather than assume a performance bottleneck.</p>\n"}],"owner":{"account_id":28321296,"reputation":1,"user_id":21657047,"display_name":"Xman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1681665620,"creation_date":1681657412,"question_id":76028537,"body_markdown":"I have a code as below:\r\n\r\n```\r\nprivate final HashMap&lt;Integer, X&gt; map = new HashMap&lt;&gt;();\r\n```\r\n\r\n\r\nI need to convert HashMap entries into List of some DTOs(based both on key and value from map). I also need it to be sorted by keys.\r\n\r\n\r\n\r\n\r\nI noticed that since my keys are Integers I can access it just through:\r\n\r\n```\r\nmap.forEach(..);\r\n```\r\n\r\nand the order witholds. Is it the most efficient way? Or are there any better apporaches?\r\n\r\nIn that case I care more about efficiency than clean code.\r\n\r\nEDIT:\r\nI do not want to use TreeMap because I also need O(1) and NOT O(Log(N) for inserts.","title":"Best way to iterate through HashMap&lt;Integer,X&gt; when you need sorted by keys","body":"<p>I have a code as below:</p>\n<pre><code>private final HashMap&lt;Integer, X&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n<p>I need to convert HashMap entries into List of some DTOs(based both on key and value from map). I also need it to be sorted by keys.</p>\n<p>I noticed that since my keys are Integers I can access it just through:</p>\n<pre><code>map.forEach(..);\n</code></pre>\n<p>and the order witholds. Is it the most efficient way? Or are there any better apporaches?</p>\n<p>In that case I care more about efficiency than clean code.</p>\n<p>EDIT:\nI do not want to use TreeMap because I also need O(1) and NOT O(Log(N) for inserts.</p>\n"},{"tags":["java","azure"],"answers":[{"tags":[],"owner":{"account_id":14422052,"reputation":6211,"user_id":10417839,"display_name":"PramodValavala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681664397,"creation_date":1681664397,"answer_id":76029170,"question_id":73868237,"body_markdown":"You need to first get the `GenericResource` instance of the resource you need using one of the [get][1] methods and then call the [`tags()`][2] method on it.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/java/api/com.azure.resourcemanager.resources.models.genericresources?view=azure-java-stable#com-azure-resourcemanager-resources-models-genericresources-get(java-lang-string-java-lang-string-java-lang-string-java-lang-string)\r\n  [2]: https://learn.microsoft.com/en-us/java/api/com.azure.resourcemanager.resources.fluentcore.arm.models.resource?view=azure-java-stable#com-azure-resourcemanager-resources-fluentcore-arm-models-resource-tags()","title":"How to read tags of an azure resource using java sdk?","body":"<p>You need to first get the <code>GenericResource</code> instance of the resource you need using one of the <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.resourcemanager.resources.models.genericresources?view=azure-java-stable#com-azure-resourcemanager-resources-models-genericresources-get(java-lang-string-java-lang-string-java-lang-string-java-lang-string)\" rel=\"nofollow noreferrer\">get</a> methods and then call the <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.resourcemanager.resources.fluentcore.arm.models.resource?view=azure-java-stable#com-azure-resourcemanager-resources-fluentcore-arm-models-resource-tags()\" rel=\"nofollow noreferrer\"><code>tags()</code></a> method on it.</p>\n"}],"owner":{"account_id":5356270,"reputation":723,"user_id":4702296,"accept_rate":76,"display_name":"dev333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681664397,"creation_date":1664284547,"question_id":73868237,"body_markdown":"I have some tags (like environment, subscriptionId, clientId e.t.c.,) added to my eventhub. I need to list those tags using java sdk from an azure resource(eventhub)?\r\n\r\nI can see the below link which uses a http endpoint to list the tags of a specific subscription.\r\nhttps://learn.microsoft.com/en-us/rest/api/resources/tags/list\r\n\r\nBut I need to fetch the list of tags of a specific resource using java sdk. How to read those tags using java sdk from an azure resource?\r\n","title":"How to read tags of an azure resource using java sdk?","body":"<p>I have some tags (like environment, subscriptionId, clientId e.t.c.,) added to my eventhub. I need to list those tags using java sdk from an azure resource(eventhub)?</p>\n<p>I can see the below link which uses a http endpoint to list the tags of a specific subscription.\n<a href=\"https://learn.microsoft.com/en-us/rest/api/resources/tags/list\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/rest/api/resources/tags/list</a></p>\n<p>But I need to fetch the list of tags of a specific resource using java sdk. How to read those tags using java sdk from an azure resource?</p>\n"},{"tags":["java","jodatime","java-time"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1681650901,"post_id":76027626,"comment_id":134087417,"body_markdown":"Maybe useful since you are migrating joda to java time, this is my repository which provide some of the API conversion https://github.com/samabcde/migrate-joda","body":"Maybe useful since you are migrating joda to java time, this is my repository which provide some of the API conversion <a href=\"https://github.com/samabcde/migrate-joda\" rel=\"nofollow noreferrer\">github.com/samabcde/migrate-joda</a>"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681646911,"creation_date":1681646911,"answer_id":76027652,"question_id":76027626,"body_markdown":"If you want the duration _between_ two instants, then you are looking for [`Duration#between(Instant, Instant)`](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-):\r\n\r\n```\r\npublic void endTimerProcess() {\r\n  this.executionTime = Duration.between(requestTime, Instant.now());\r\n}\r\n```","title":"Migrate org.joda.time.Duration to java.time.Duration","body":"<p>If you want the duration <em>between</em> two instants, then you are looking for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\" rel=\"nofollow noreferrer\"><code>Duration#between(Instant, Instant)</code></a>:</p>\n<pre><code>public void endTimerProcess() {\n  this.executionTime = Duration.between(requestTime, Instant.now());\n}\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76027652,"answer_count":1,"score":1,"last_activity_date":1681664242,"creation_date":1681646471,"question_id":76027626,"body_markdown":"I want to migrate this java based on joda library to java.time\r\n\r\n\r\n    import org.joda.time.DateTime;\r\n    import org.joda.time.Duration;\r\n    import org.joda.time.Instant;\r\n    \r\n    private DateTime createdDate;\r\n    private Duration executionTime;\r\n    private Instant requestTime;\r\n    \r\n    \r\n      public void startTimerProcess() {\r\n        this.requestTime = Instant.now();\r\n      }\r\n    \r\n      public void endTimerProcess() {\r\n        this.executionTime = new Duration(requestTime, Instant.now());\r\n      }\r\n\r\nI tried this:\r\n\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.time.OffsetDateTime;\r\n\r\n    private OffsetDateTime createdDate;\r\n    private Duration executionTime;\r\n    private Instant requestTime;\r\n    \r\n    \r\n      public void startTimerProcess() {\r\n        this.requestTime = Instant.now();\r\n      }\r\n    \r\n      public void endTimerProcess() {\r\n        this.executionTime = Duration.of(requestTime.toEpochMilli(), Instant.now());\r\n      }\r\n\r\nFor the line `Duration.of` I get error:\r\n\r\n    Required type: TemporalUnit\r\n    Provided: Instant\r\n\r\nCan you guide me what is the proper way to implement his migration, please?\r\n","title":"Migrate org.joda.time.Duration to java.time.Duration","body":"<p>I want to migrate this java based on joda library to java.time</p>\n<pre><code>import org.joda.time.DateTime;\nimport org.joda.time.Duration;\nimport org.joda.time.Instant;\n\nprivate DateTime createdDate;\nprivate Duration executionTime;\nprivate Instant requestTime;\n\n\n  public void startTimerProcess() {\n    this.requestTime = Instant.now();\n  }\n\n  public void endTimerProcess() {\n    this.executionTime = new Duration(requestTime, Instant.now());\n  }\n</code></pre>\n<p>I tried this:</p>\n<pre><code>import java.time.Duration;\nimport java.time.Instant;\nimport java.time.OffsetDateTime;\n\nprivate OffsetDateTime createdDate;\nprivate Duration executionTime;\nprivate Instant requestTime;\n\n\n  public void startTimerProcess() {\n    this.requestTime = Instant.now();\n  }\n\n  public void endTimerProcess() {\n    this.executionTime = Duration.of(requestTime.toEpochMilli(), Instant.now());\n  }\n</code></pre>\n<p>For the line <code>Duration.of</code> I get error:</p>\n<pre><code>Required type: TemporalUnit\nProvided: Instant\n</code></pre>\n<p>Can you guide me what is the proper way to implement his migration, please?</p>\n"},{"tags":["java","android-studio","variables"],"answers":[{"tags":[],"owner":{"account_id":26387165,"reputation":1,"user_id":20039522,"display_name":"Arifmmmdov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681664198,"creation_date":1681210408,"answer_id":75985066,"question_id":65277051,"body_markdown":"The best way to reach a variable declaration with a shortcut is \r\n\r\n&gt; CTRL+B\r\n\r\nIt doesn&#39;t really give scope of the variable, but jumps to the declaration\r\n\r\n","title":"Scope of variable in android studio","body":"<p>The best way to reach a variable declaration with a shortcut is</p>\n<blockquote>\n<p>CTRL+B</p>\n</blockquote>\n<p>It doesn't really give scope of the variable, but jumps to the declaration</p>\n"}],"owner":{"account_id":19210818,"reputation":45,"user_id":14036658,"display_name":"Jaisuriya R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681664198,"creation_date":1607871608,"question_id":65277051,"body_markdown":"I have a doubt in finding the scope of a variable. Yes, I know about the scope concept but what my question is &quot;Is there any shortcut exists for finding the scope of a variable in Android Studio?&quot;.\r\n\r\nShortcuts like ```CTRL+P``` is used for **parameter query** and ```CTRL+Q``` is used for **Documentation query**.\r\n\r\nIn a similar way *(not only keyboard shortcuts)*, is there any simple way to find the scope of a particular variable rather than going through the whole code.\r\n\r\nYou may wonder, is it really a problem?. But in my case I really need it.","title":"Scope of variable in android studio","body":"<p>I have a doubt in finding the scope of a variable. Yes, I know about the scope concept but what my question is &quot;Is there any shortcut exists for finding the scope of a variable in Android Studio?&quot;.</p>\n<p>Shortcuts like <code>CTRL+P</code> is used for <strong>parameter query</strong> and <code>CTRL+Q</code> is used for <strong>Documentation query</strong>.</p>\n<p>In a similar way <em>(not only keyboard shortcuts)</em>, is there any simple way to find the scope of a particular variable rather than going through the whole code.</p>\n<p>You may wonder, is it really a problem?. But in my case I really need it.</p>\n"},{"tags":["java","spring","war"],"answers":[{"comments":[{"owner":{"account_id":5334,"reputation":8391,"user_id":8528,"accept_rate":81,"display_name":"Spencer Kormos"},"score":0,"creation_date":1320866059,"post_id":7447665,"comment_id":9888211,"body_markdown":"Totally missed this. I don&#39;t have the time right now to try it, but I&#39;m actually excited to do so, since it would mean once less dependency. Will update soon. Thanks.","body":"Totally missed this. I don&#39;t have the time right now to try it, but I&#39;m actually excited to do so, since it would mean once less dependency. Will update soon. Thanks."},{"owner":{"account_id":5334,"reputation":8391,"user_id":8528,"accept_rate":81,"display_name":"Spencer Kormos"},"score":0,"creation_date":1323377655,"post_id":7447665,"comment_id":10427519,"body_markdown":"This works, though there are a couple of caveats. The first is that you need to provide the contextPath to the .getContext() method. The second is that you can&#39;t load any servlets on start-up as the lookup for a default servlet context will fail.\n\nFor my purposes though, that&#39;s not at all a big deal, and this works  flawlessly otherwise. I&#39;d vote this up twice if I could.","body":"This works, though there are a couple of caveats. The first is that you need to provide the contextPath to the .getContext() method. The second is that you can&#39;t load any servlets on start-up as the lookup for a default servlet context will fail.  For my purposes though, that&#39;s not at all a big deal, and this works  flawlessly otherwise. I&#39;d vote this up twice if I could."}],"tags":[],"owner":{"account_id":53073,"reputation":24000,"user_id":158658,"accept_rate":75,"display_name":"sourcedelica"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1316232430,"creation_date":1316189985,"answer_id":7447665,"question_id":7446793,"body_markdown":"I am assuming that you have a `ContextLoaderListener` in Jetty&#39;s web.xml, and that is how the Spring web context is getting created.   \r\n\r\n1. Remove the `ContextLoaderListener`\r\n    from jetty&#39;s web.xml (but keep the `context-param` with the `contextConfigLocation`)\r\n\r\n2. Subclass [`ContextLoader`][1], overriding `loadParentContext()`\r\n    to return your initial Spring context. \r\n\r\n3. Create an instance of your `ContextLoader`\r\n    subclass after you start Jetty. \r\n\r\n4. Call `initWebApplicationContext(context.getServletContext().getContext())`\r\n    on this instance, where &quot;context&quot; is the `org.mortbay.jetty.servlet.Context`\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/context/ContextLoader.html","title":"Is it possible to locate a Spring non-web context from a web context?","body":"<p>I am assuming that you have a <code>ContextLoaderListener</code> in Jetty's web.xml, and that is how the Spring web context is getting created.   </p>\n\n<ol>\n<li><p>Remove the <code>ContextLoaderListener</code>\nfrom jetty's web.xml (but keep the <code>context-param</code> with the <code>contextConfigLocation</code>)</p></li>\n<li><p>Subclass <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/context/ContextLoader.html\" rel=\"nofollow\"><code>ContextLoader</code></a>, overriding <code>loadParentContext()</code>\nto return your initial Spring context. </p></li>\n<li><p>Create an instance of your <code>ContextLoader</code>\nsubclass after you start Jetty. </p></li>\n<li><p>Call <code>initWebApplicationContext(context.getServletContext().getContext())</code>\non this instance, where \"context\" is the <code>org.mortbay.jetty.servlet.Context</code></p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5334,"reputation":8391,"user_id":8528,"accept_rate":81,"display_name":"Spencer Kormos"},"score":0,"creation_date":1323443765,"post_id":8447546,"comment_id":10441601,"body_markdown":"You&#39;ll still need to not declare ContextLoaderListener in web.xml, as the embedded implementation needs to be declared in the parent context. Since you&#39;re not calling the ContextLoaderListener, you still need to set the contextConfigLocation context-param in web.xml.","body":"You&#39;ll still need to not declare ContextLoaderListener in web.xml, as the embedded implementation needs to be declared in the parent context. Since you&#39;re not calling the ContextLoaderListener, you still need to set the contextConfigLocation context-param in web.xml."}],"tags":[],"owner":{"account_id":5334,"reputation":8391,"user_id":8528,"accept_rate":81,"display_name":"Spencer Kormos"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681664183,"creation_date":1323443608,"answer_id":8447546,"question_id":7446793,"body_markdown":"So I found yet a better answer based off the one from ericacm above. The only reason that it&#39;s better is that you can still use `&lt;load-on-startup&gt;` for the servlets in the web.xml file.\r\n\r\nWhen embedding the Jetty server, you need to create a `WebAppContext`. The super-class `ContextHandler` lets you set an array of `EventListener` which includes `ServletContextListener`.\r\n\r\nSo the solution is extend `ContextLoader` and implement both Spring&#39;s `ApplicationContextAware` and the `ServletContextListener` interface. The loader lets you return the parent context set by the contextaware interface, and the listener provides you the `ServletContext` via `contextInitialized()`. \r\n\r\nYou can then initialize this before any of the Jetty components, and get access to the fully populated `ServletContext` as the Jetty server is loading, which gets called before any of the web app&#39;s themselves are initialized.\r\n\r\nListener implementation:\r\n\r\n    import javax.servlet.ServletContext;\r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n    \r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.ApplicationContextAware;\r\n    import org.springframework.web.context.ContextLoader;\r\n    \r\n    public final class EmbeddedJettySpringContextLoaderListener \r\n        extends ContextLoader \r\n        implements ApplicationContextAware,\r\n                   ServletContextListener\r\n    {\r\n        private ApplicationContext applicationContext;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    \r\n        /**\r\n         * Returns the parent application context as set by the\r\n         * {@link ApplicationContextAware} interface.\r\n         * \r\n         * @return The initial ApplicationContext that loads the Jetty server.\r\n         */\r\n        @Override\r\n        protected ApplicationContext loadParentContext(ServletContext servletContext) {\r\n            return this.applicationContext;\r\n        }\r\n    \r\n        @Override\r\n        public void contextInitialized(ServletContextEvent sce) {\r\n            super.initWebApplicationContext(sce.getServletContext());\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent sce) {\r\n            //not needed\r\n        }\r\n    }\r\n\r\nJetty config for WebAppContext (eventually referenced by the server):\r\n\r\n    &lt;!-- Loads this application context as the parent of the web application context. --&gt;\r\n    &lt;bean id=&quot;parentContextLoaderListener&quot; class=&quot;com.citi.matrix.server.restapi.EmbeddedJettySpringContextLoaderListener&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;restApiWebAppContext&quot; class=&quot;org.mortbay.jetty.webapp.WebAppContext&quot;&gt;\r\n      &lt;property name=&quot;displayName&quot; value=&quot;RestApi&quot; /&gt;\r\n      &lt;property name=&quot;contextPath&quot; value=&quot;/&quot; /&gt;\r\n      &lt;!-- the value for war, must be a relative path to the root of the application, and does not use the classpath. --&gt;\r\n      &lt;property name=&quot;war&quot; value=&quot;${WEBAPPS_HOME}/rest-api&quot; /&gt;\r\n      &lt;property name=&quot;eventListeners&quot;&gt;\r\n        &lt;ref  local=&quot;parentContextLoaderListener&quot; /&gt;\r\n      &lt;/property&gt;\r\n      &lt;property name=&quot;configurationClasses&quot;&gt;\r\n        &lt;list&gt;\r\n          &lt;value&gt;org.mortbay.jetty.webapp.WebInfConfiguration&lt;/value&gt;\r\n          &lt;value&gt;org.mortbay.jetty.webapp.WebXmlConfiguration&lt;/value&gt;\r\n          &lt;value&gt;org.mortbay.jetty.webapp.JettyWebXmlConfiguration&lt;/value&gt;\r\n        &lt;/list&gt;\r\n      &lt;/property&gt;\r\n      &lt;property name=&quot;logUrlOnStart&quot; value=&quot;true&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n","title":"Is it possible to locate a Spring non-web context from a web context?","body":"<p>So I found yet a better answer based off the one from ericacm above. The only reason that it's better is that you can still use <code>&lt;load-on-startup&gt;</code> for the servlets in the web.xml file.</p>\n<p>When embedding the Jetty server, you need to create a <code>WebAppContext</code>. The super-class <code>ContextHandler</code> lets you set an array of <code>EventListener</code> which includes <code>ServletContextListener</code>.</p>\n<p>So the solution is extend <code>ContextLoader</code> and implement both Spring's <code>ApplicationContextAware</code> and the <code>ServletContextListener</code> interface. The loader lets you return the parent context set by the contextaware interface, and the listener provides you the <code>ServletContext</code> via <code>contextInitialized()</code>.</p>\n<p>You can then initialize this before any of the Jetty components, and get access to the fully populated <code>ServletContext</code> as the Jetty server is loading, which gets called before any of the web app's themselves are initialized.</p>\n<p>Listener implementation:</p>\n<pre><code>import javax.servlet.ServletContext;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\n\nimport org.springframework.beans.BeansException;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\nimport org.springframework.web.context.ContextLoader;\n\npublic final class EmbeddedJettySpringContextLoaderListener \n    extends ContextLoader \n    implements ApplicationContextAware,\n               ServletContextListener\n{\n    private ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext = applicationContext;\n    }\n\n    /**\n     * Returns the parent application context as set by the\n     * {@link ApplicationContextAware} interface.\n     * \n     * @return The initial ApplicationContext that loads the Jetty server.\n     */\n    @Override\n    protected ApplicationContext loadParentContext(ServletContext servletContext) {\n        return this.applicationContext;\n    }\n\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        super.initWebApplicationContext(sce.getServletContext());\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent sce) {\n        //not needed\n    }\n}\n</code></pre>\n<p>Jetty config for WebAppContext (eventually referenced by the server):</p>\n<pre><code>&lt;!-- Loads this application context as the parent of the web application context. --&gt;\n&lt;bean id=&quot;parentContextLoaderListener&quot; class=&quot;com.citi.matrix.server.restapi.EmbeddedJettySpringContextLoaderListener&quot; /&gt;\n\n&lt;bean id=&quot;restApiWebAppContext&quot; class=&quot;org.mortbay.jetty.webapp.WebAppContext&quot;&gt;\n  &lt;property name=&quot;displayName&quot; value=&quot;RestApi&quot; /&gt;\n  &lt;property name=&quot;contextPath&quot; value=&quot;/&quot; /&gt;\n  &lt;!-- the value for war, must be a relative path to the root of the application, and does not use the classpath. --&gt;\n  &lt;property name=&quot;war&quot; value=&quot;${WEBAPPS_HOME}/rest-api&quot; /&gt;\n  &lt;property name=&quot;eventListeners&quot;&gt;\n    &lt;ref  local=&quot;parentContextLoaderListener&quot; /&gt;\n  &lt;/property&gt;\n  &lt;property name=&quot;configurationClasses&quot;&gt;\n    &lt;list&gt;\n      &lt;value&gt;org.mortbay.jetty.webapp.WebInfConfiguration&lt;/value&gt;\n      &lt;value&gt;org.mortbay.jetty.webapp.WebXmlConfiguration&lt;/value&gt;\n      &lt;value&gt;org.mortbay.jetty.webapp.JettyWebXmlConfiguration&lt;/value&gt;\n    &lt;/list&gt;\n  &lt;/property&gt;\n  &lt;property name=&quot;logUrlOnStart&quot; value=&quot;true&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":5334,"reputation":8391,"user_id":8528,"accept_rate":81,"display_name":"Spencer Kormos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1942,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8447546,"answer_count":2,"score":2,"last_activity_date":1681664183,"creation_date":1316186030,"question_id":7446793,"body_markdown":"I have a Spring app which launches a REST Service within an embedded instance of Jetty, which itself is launched from Spring.\r\n\r\nThe initial Spring context has an integration and database layer, and launches the Jetty instance. Jetty then calls its own application context file which exposes the REST service. \r\n\r\nI would like to know if there&#39;s some way of exposing the initial Spring context to the web context run from within Jetty. Unfortunately I can&#39;t deploy a full J2EE server, and I&#39;m hesitant to run everything from the Web context, relying on Jetty to manage threading and such.","title":"Is it possible to locate a Spring non-web context from a web context?","body":"<p>I have a Spring app which launches a REST Service within an embedded instance of Jetty, which itself is launched from Spring.</p>\n\n<p>The initial Spring context has an integration and database layer, and launches the Jetty instance. Jetty then calls its own application context file which exposes the REST service. </p>\n\n<p>I would like to know if there's some way of exposing the initial Spring context to the web context run from within Jetty. Unfortunately I can't deploy a full J2EE server, and I'm hesitant to run everything from the Web context, relying on Jetty to manage threading and such.</p>\n"},{"tags":["java","android","ffmpeg","video-processing"],"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681663891,"creation_date":1681663891,"question_id":76029117,"body_markdown":"I want to merge an audio in video using ffmpeg of the following dependency but getting the permission denied error.\r\n\r\n     Cannot run program &quot;/data/user/0/com.example.mytestapp/files/ffmpeg&quot;: error=13, Permission denied\r\n\r\nDependency I am using\r\n\r\n     implementation &#39;com.writingminds:FFmpegAndroid:0.3.2&#39;\r\n\r\nI am using following code to merge an audio into the video. I added the dependency and provided the path of the video. I also placed the ffpmeg.exe into the assets folder\r\n\r\n            package com.example.mytestapp.Activity;\r\n        \r\n        import androidx.annotation.NonNull;\r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        \r\n        import android.Manifest;\r\n        import android.content.Context;\r\n        import android.content.pm.PackageManager;\r\n        import android.content.res.AssetManager;\r\n        import android.os.Build;\r\n        import android.os.Bundle;\r\n        import android.os.Environment;\r\n        import android.util.Log;\r\n        import android.widget.Toast;\r\n        \r\n        import com.example.mytestapp.R;\r\n        import com.github.hiteshsondhi88.libffmpeg.ExecuteBinaryResponseHandler;\r\n        import com.github.hiteshsondhi88.libffmpeg.FFmpeg;\r\n        import com.github.hiteshsondhi88.libffmpeg.exceptions.FFmpegCommandAlreadyRunningException;\r\n        \r\n        import java.io.File;\r\n        import java.io.FileNotFoundException;\r\n        import java.io.FileOutputStream;\r\n        import java.io.IOException;\r\n        import java.io.InputStream;\r\n        \r\n        public class MainActivity3 extends AppCompatActivity {\r\n            Context context;\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main3);\r\n        \r\n            }\r\n            protected Boolean doInBackground() {\r\n                String ffmpegPath = getApplicationContext().getFilesDir().getAbsolutePath() + &quot;/ffmpeg&quot;;\r\n                Log.e(&quot;called &quot;, ffmpegPath);\r\n        \r\n                String vpath = &quot; /storage/emulated/0/DCIM/Camera/VID_20230325_083306.mp4&quot;;\r\n                String aPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/Seesekadil.mp3&quot;;\r\n        \r\n                String oPath = &quot;/storage/emulated/0/DCIM/202304_15-223653rangeela.mp4&quot;;\r\n                String[] cmd = {&quot;-i&quot;, vpath, &quot;-i&quot;, aPath, &quot;-shortest&quot;, oPath};\r\n                try {\r\n                    FFmpeg.getInstance(getApplicationContext()).execute(cmd, new ExecuteBinaryResponseHandler() {\r\n                        @Override\r\n                        public void onStart() {\r\n                            Log.e(&quot;Started&quot;, &quot;yes&quot;);\r\n                        }\r\n        \r\n                        @Override\r\n                        public void onProgress(String message) {\r\n                            // do nothing\r\n                        }\r\n        \r\n                        @Override\r\n                        public void onFailure(String message) {\r\n                            Log.e(&quot;Failed &quot;, &quot;yes&quot;);\r\n                        }\r\n        \r\n                        @Override\r\n                        public void onSuccess(String message) {\r\n                            Log.e(&quot;Success &quot;, &quot;yes&quot;);\r\n                        }\r\n        \r\n                        @Override\r\n                        public void onFinish() {\r\n                            // do nothing\r\n                        }\r\n                    });\r\n                } catch (FFmpegCommandAlreadyRunningException e) {\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n                return null;\r\n            }\r\n        \r\n            @Override\r\n            protected void onResume() {\r\n                super.onResume();\r\n                checkPermission();\r\n                File file = new File(getApplicationContext().getFilesDir(), &quot;ffmpeg&quot;);\r\n                if (!file.canExecute()) {\r\n                    file.setExecutable(true);\r\n                }\r\n                doInBackground();\r\n        \r\n            }\r\n        \r\n            private void checkPermission() {\r\n                if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M) {\r\n                    return;\r\n                }\r\n                // request camera permission if it has not been grunted.\r\n                if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ||\r\n                        checkSelfPermission(Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED ||\r\n                        checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\r\n                ) {\r\n        \r\n                    requestPermissions(new String[]{Manifest.permission.CAMERA, Manifest.permission.RECORD_AUDIO, Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n                }\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n                switch (requestCode) {\r\n                    case 1:\r\n                        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                            Toast.makeText(MainActivity3.this, &quot;permission has been grunted.&quot;, Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            Toast.makeText(MainActivity3.this, &quot;[WARN] permission is not grunted.&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        \r\n        }","title":"ffmpeg permission denied in android studio?","body":"<p>I want to merge an audio in video using ffmpeg of the following dependency but getting the permission denied error.</p>\n<pre><code> Cannot run program &quot;/data/user/0/com.example.mytestapp/files/ffmpeg&quot;: error=13, Permission denied\n</code></pre>\n<p>Dependency I am using</p>\n<pre><code> implementation 'com.writingminds:FFmpegAndroid:0.3.2'\n</code></pre>\n<p>I am using following code to merge an audio into the video. I added the dependency and provided the path of the video. I also placed the ffpmeg.exe into the assets folder</p>\n<pre><code>        package com.example.mytestapp.Activity;\n    \n    import androidx.annotation.NonNull;\n    import androidx.appcompat.app.AppCompatActivity;\n    \n    import android.Manifest;\n    import android.content.Context;\n    import android.content.pm.PackageManager;\n    import android.content.res.AssetManager;\n    import android.os.Build;\n    import android.os.Bundle;\n    import android.os.Environment;\n    import android.util.Log;\n    import android.widget.Toast;\n    \n    import com.example.mytestapp.R;\n    import com.github.hiteshsondhi88.libffmpeg.ExecuteBinaryResponseHandler;\n    import com.github.hiteshsondhi88.libffmpeg.FFmpeg;\n    import com.github.hiteshsondhi88.libffmpeg.exceptions.FFmpegCommandAlreadyRunningException;\n    \n    import java.io.File;\n    import java.io.FileNotFoundException;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n    import java.io.InputStream;\n    \n    public class MainActivity3 extends AppCompatActivity {\n        Context context;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main3);\n    \n        }\n        protected Boolean doInBackground() {\n            String ffmpegPath = getApplicationContext().getFilesDir().getAbsolutePath() + &quot;/ffmpeg&quot;;\n            Log.e(&quot;called &quot;, ffmpegPath);\n    \n            String vpath = &quot; /storage/emulated/0/DCIM/Camera/VID_20230325_083306.mp4&quot;;\n            String aPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/Seesekadil.mp3&quot;;\n    \n            String oPath = &quot;/storage/emulated/0/DCIM/202304_15-223653rangeela.mp4&quot;;\n            String[] cmd = {&quot;-i&quot;, vpath, &quot;-i&quot;, aPath, &quot;-shortest&quot;, oPath};\n            try {\n                FFmpeg.getInstance(getApplicationContext()).execute(cmd, new ExecuteBinaryResponseHandler() {\n                    @Override\n                    public void onStart() {\n                        Log.e(&quot;Started&quot;, &quot;yes&quot;);\n                    }\n    \n                    @Override\n                    public void onProgress(String message) {\n                        // do nothing\n                    }\n    \n                    @Override\n                    public void onFailure(String message) {\n                        Log.e(&quot;Failed &quot;, &quot;yes&quot;);\n                    }\n    \n                    @Override\n                    public void onSuccess(String message) {\n                        Log.e(&quot;Success &quot;, &quot;yes&quot;);\n                    }\n    \n                    @Override\n                    public void onFinish() {\n                        // do nothing\n                    }\n                });\n            } catch (FFmpegCommandAlreadyRunningException e) {\n                e.printStackTrace();\n            }\n    \n            return null;\n        }\n    \n        @Override\n        protected void onResume() {\n            super.onResume();\n            checkPermission();\n            File file = new File(getApplicationContext().getFilesDir(), &quot;ffmpeg&quot;);\n            if (!file.canExecute()) {\n                file.setExecutable(true);\n            }\n            doInBackground();\n    \n        }\n    \n        private void checkPermission() {\n            if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M) {\n                return;\n            }\n            // request camera permission if it has not been grunted.\n            if (checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ||\n                    checkSelfPermission(Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED ||\n                    checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\n            ) {\n    \n                requestPermissions(new String[]{Manifest.permission.CAMERA, Manifest.permission.RECORD_AUDIO, Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n            }\n    \n        }\n    \n        @Override\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n            switch (requestCode) {\n                case 1:\n                    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                        Toast.makeText(MainActivity3.this, &quot;permission has been grunted.&quot;, Toast.LENGTH_SHORT).show();\n                    } else {\n                        Toast.makeText(MainActivity3.this, &quot;[WARN] permission is not grunted.&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                    break;\n            }\n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","binary-search"],"answers":[{"tags":[],"owner":{"account_id":7365571,"reputation":355,"user_id":5607382,"display_name":"Nikhil Mehta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681663805,"creation_date":1681663805,"answer_id":76029111,"question_id":76028911,"body_markdown":"This piece of code is problematic:\r\n\r\n    if(product == success)\r\n        return mid;\r\n\r\nIf you observe closely, you are returning mid simply whereas you should be returning the smallest index which satisfies the condition. This would fail in cases like below:\r\n\r\nI/P: spells: [3,4,1], success: 6, potions: [1 2 3 3 3 4 5]\r\nIt will find mid which will be index 3 and return it where it should be returning index 2\r\n\r\nThe below piece of code ensures this scenario:\r\n\r\n    if (product &gt;= success) {\r\n        right = mid - 1;\r\n\r\nEven if the product == success, it will still try and find leftmost element which still satisfies this condition and won&#39;t simply return mid as in your code.","title":"LeetCode: Can&#39;t figure out binary search issue","body":"<p>This piece of code is problematic:</p>\n<pre><code>if(product == success)\n    return mid;\n</code></pre>\n<p>If you observe closely, you are returning mid simply whereas you should be returning the smallest index which satisfies the condition. This would fail in cases like below:</p>\n<p>I/P: spells: [3,4,1], success: 6, potions: [1 2 3 3 3 4 5]\nIt will find mid which will be index 3 and return it where it should be returning index 2</p>\n<p>The below piece of code ensures this scenario:</p>\n<pre><code>if (product &gt;= success) {\n    right = mid - 1;\n</code></pre>\n<p>Even if the product == success, it will still try and find leftmost element which still satisfies this condition and won't simply return mid as in your code.</p>\n"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681663805,"creation_date":1681661465,"question_id":76028911,"body_markdown":"I am trying to solve [this][1] problem and below is my code. My approach is to sort the potions and find the index where product of `spell*potion` becomes successful, since the array is sorted so rest of the elements from that index will satisfy the success condition and I can find out the total successful combinations. My code does not pass all the test cases however when I checked one of the solutions it uses similar approach and it passes all test cases. I am unable to figure out why my code fails.\r\n\r\n**My Code:**\r\n\r\n    class Solution {\r\n        static int binarySearch(int[] potions, long success, long spell){\r\n            int start = 0, end = potions.length - 1, mid = 0;\r\n            while(start &lt;= end){\r\n                mid = start + (end - start) / 2;\r\n                long product = (long)potions[mid] * spell;\r\n                if(product == success)\r\n                    return mid;\r\n                else if(product &lt; success)\r\n                    start = mid + 1;\r\n                else\r\n                    end = mid - 1;\r\n            }\r\n            return start;\r\n        }\r\n        \r\n        public static int[] successfulPairs(int[] spells, int[] potions, long success) {\r\n            Arrays.sort(potions);\r\n            for(int i = 0; i &lt; spells.length; i++){\r\n                int index = binarySearch(potions, success, (long)spells[i]);\r\n                if(index == potions.length)\r\n                    spells[i] = 0;\r\n                else\r\n                    spells[i] = potions.length - index;\r\n            }\r\n            return spells;\r\n        }\r\n    }\r\n\r\nIt fails the below test case:\r\n\r\n    spells=[40,11,24,28,40,22,26,38,28,10,31,16,10,37,13,21,9,22,21,18,34,2,40,40,6,16,9,14,14,15,37,15,32,4,27,20,24,12,26,39,32,39,20,19,22,33,2,22,9,18,12,5]\r\n    potions=[31,40,29,19,27,16,25,8,33,25,36,21,7,27,40,24,18,26,32,25,22,21,38,22,37,34,15,36,21,22,37,14,31,20,36,27,28,32,21,26,33,37,27,39,19,36,20,23,25,39,40]\r\n    success=600\r\n    expected=[48,0,32,37,48,22,33,47,37,0,43,6,0,46,0,21,0,22,21,14,46,0,48,48,0,6,0,0,0,3,46,3,45,0,34,20,32,0,33,47,45,47,20,18,22,45,0,22,0,14,0,0]\r\n\r\nBelow code is one of the accepted solutions\r\n\r\n    class Solution {\r\n         public int[] successfulPairs(int[] spells, int[] potions, long success) {\r\n            int n = spells.length;\r\n            int m = potions.length;\r\n            int[] pairs = new int[n];\r\n            Arrays.sort(potions);\r\n            for (int i = 0; i &lt; n; i++) {\r\n                int spell = spells[i];\r\n                int left = 0;\r\n                int right = m - 1;\r\n                while (left &lt;= right) {\r\n                    int mid = left + (right - left) / 2;\r\n                    long product = (long) spell * potions[mid];\r\n                    if (product &gt;= success) {\r\n                        right = mid - 1;\r\n                    } else {\r\n                        left = mid + 1;\r\n                    }\r\n                }\r\n                pairs[i] = m - left;\r\n            }\r\n            return pairs;\r\n        }\r\n    }\r\n\r\nIt too is based on the same idea as my approach but my code fails. I believe I am missing some nuances of Binary Search but I am unable to figure out exactly what as I am still learning. Also if I change the condition in the above code as \r\n\r\n    if (product &lt;= success) \r\n    {\r\n        left = mid + 1;\r\n    } \r\n    else{\r\n        right = mid - 1; \r\n    }\r\n\r\nit starts failing some of the test cases. Does it matter what condition I put first in my code? Whether I should write `&lt;=` first or `&gt;=` should not affect the output right?\r\n\r\n  [1]: https://leetcode.com/problems/successful-pairs-of-spells-and-potions/editorial/\r\n\r\n","title":"LeetCode: Can&#39;t figure out binary search issue","body":"<p>I am trying to solve <a href=\"https://leetcode.com/problems/successful-pairs-of-spells-and-potions/editorial/\" rel=\"nofollow noreferrer\">this</a> problem and below is my code. My approach is to sort the potions and find the index where product of <code>spell*potion</code> becomes successful, since the array is sorted so rest of the elements from that index will satisfy the success condition and I can find out the total successful combinations. My code does not pass all the test cases however when I checked one of the solutions it uses similar approach and it passes all test cases. I am unable to figure out why my code fails.</p>\n<p><strong>My Code:</strong></p>\n<pre><code>class Solution {\n    static int binarySearch(int[] potions, long success, long spell){\n        int start = 0, end = potions.length - 1, mid = 0;\n        while(start &lt;= end){\n            mid = start + (end - start) / 2;\n            long product = (long)potions[mid] * spell;\n            if(product == success)\n                return mid;\n            else if(product &lt; success)\n                start = mid + 1;\n            else\n                end = mid - 1;\n        }\n        return start;\n    }\n    \n    public static int[] successfulPairs(int[] spells, int[] potions, long success) {\n        Arrays.sort(potions);\n        for(int i = 0; i &lt; spells.length; i++){\n            int index = binarySearch(potions, success, (long)spells[i]);\n            if(index == potions.length)\n                spells[i] = 0;\n            else\n                spells[i] = potions.length - index;\n        }\n        return spells;\n    }\n}\n</code></pre>\n<p>It fails the below test case:</p>\n<pre><code>spells=[40,11,24,28,40,22,26,38,28,10,31,16,10,37,13,21,9,22,21,18,34,2,40,40,6,16,9,14,14,15,37,15,32,4,27,20,24,12,26,39,32,39,20,19,22,33,2,22,9,18,12,5]\npotions=[31,40,29,19,27,16,25,8,33,25,36,21,7,27,40,24,18,26,32,25,22,21,38,22,37,34,15,36,21,22,37,14,31,20,36,27,28,32,21,26,33,37,27,39,19,36,20,23,25,39,40]\nsuccess=600\nexpected=[48,0,32,37,48,22,33,47,37,0,43,6,0,46,0,21,0,22,21,14,46,0,48,48,0,6,0,0,0,3,46,3,45,0,34,20,32,0,33,47,45,47,20,18,22,45,0,22,0,14,0,0]\n</code></pre>\n<p>Below code is one of the accepted solutions</p>\n<pre><code>class Solution {\n     public int[] successfulPairs(int[] spells, int[] potions, long success) {\n        int n = spells.length;\n        int m = potions.length;\n        int[] pairs = new int[n];\n        Arrays.sort(potions);\n        for (int i = 0; i &lt; n; i++) {\n            int spell = spells[i];\n            int left = 0;\n            int right = m - 1;\n            while (left &lt;= right) {\n                int mid = left + (right - left) / 2;\n                long product = (long) spell * potions[mid];\n                if (product &gt;= success) {\n                    right = mid - 1;\n                } else {\n                    left = mid + 1;\n                }\n            }\n            pairs[i] = m - left;\n        }\n        return pairs;\n    }\n}\n</code></pre>\n<p>It too is based on the same idea as my approach but my code fails. I believe I am missing some nuances of Binary Search but I am unable to figure out exactly what as I am still learning. Also if I change the condition in the above code as</p>\n<pre><code>if (product &lt;= success) \n{\n    left = mid + 1;\n} \nelse{\n    right = mid - 1; \n}\n</code></pre>\n<p>it starts failing some of the test cases. Does it matter what condition I put first in my code? Whether I should write <code>&lt;=</code> first or <code>&gt;=</code> should not affect the output right?</p>\n"},{"tags":["java","undefined-behavior","integer-arithmetic"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1681663464,"post_id":76029065,"comment_id":134089311,"body_markdown":"**Yes**. It is defined behavior in Java. Basically unreadable though.","body":"<b>Yes</b>. It is defined behavior in Java. Basically unreadable though."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1681663745,"post_id":76029065,"comment_id":134089345,"body_markdown":"The sections of the JLS that define the behavior are: 15.7. &quot;Evaluation Order&quot;, 15.15.1. &quot;Prefix Increment Operator ++&quot;, and 15.18.2. &quot;Additive Operators (+ and -) for Numeric Types&quot;.","body":"The sections of the JLS that define the behavior are: 15.7. &quot;Evaluation Order&quot;, 15.15.1. &quot;Prefix Increment Operator ++&quot;, and 15.18.2. &quot;Additive Operators (+ and -) for Numeric Types&quot;."}],"owner":{"account_id":18847947,"reputation":325,"user_id":13747729,"display_name":"Yang Zhao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681665491,"answer_count":0,"score":1,"last_activity_date":1681663283,"creation_date":1681663283,"question_id":76029065,"body_markdown":"```\r\nint i=1;\r\nint n = (++i)+(++i);\r\n```\r\n\r\nIn C++ the above code has undefined behavior. I want to know in Java, does it have defined behavior and give the expected answer n=5 in this case. In Java, the order of evaluation between two sides of + is defined. The key point is whether Java would always produce a temporary value 2 for the first ++i.  ","title":"Does (++i)+(++i) have the defined behavior in Java","body":"<pre><code>int i=1;\nint n = (++i)+(++i);\n</code></pre>\n<p>In C++ the above code has undefined behavior. I want to know in Java, does it have defined behavior and give the expected answer n=5 in this case. In Java, the order of evaluation between two sides of + is defined. The key point is whether Java would always produce a temporary value 2 for the first ++i.</p>\n"},{"tags":["java","apache","tomcat"],"comments":[{"owner":{"account_id":1382826,"reputation":2592,"user_id":1315480,"accept_rate":77,"display_name":"Patrizio Bertoni"},"score":2,"creation_date":1460446506,"post_id":36566401,"comment_id":60732568,"body_markdown":"Please quote or indent logs for better reading :)","body":"Please quote or indent logs for better reading :)"},{"owner":{"account_id":6912817,"reputation":91,"user_id":5308070,"accept_rate":25,"display_name":"Laxmi"},"score":0,"creation_date":1460448223,"post_id":36566401,"comment_id":60733656,"body_markdown":"@Patrizio Bertoni...I have given log file details. Could you pls help me now","body":"@Patrizio Bertoni...I have given log file details. Could you pls help me now"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1510462137,"post_id":36566401,"comment_id":81441463,"body_markdown":"You&#39;ve already stopped it. The log file proves it.","body":"You&#39;ve already stopped it. The log file proves it."}],"answers":[{"comments":[{"owner":{"account_id":2419049,"reputation":77,"user_id":2112490,"display_name":"Abubacker Siddik"},"score":1,"creation_date":1547473474,"post_id":45630931,"comment_id":95193684,"body_markdown":"Almost spent a day to figure out this. Finally tried this, it worked out. Not sure why this happened. As far as i could say, i have not done much except resizing my disk in GCP. Anyhow it solved the agony. Thanks","body":"Almost spent a day to figure out this. Finally tried this, it worked out. Not sure why this happened. As far as i could say, i have not done much except resizing my disk in GCP. Anyhow it solved the agony. Thanks"},{"owner":{"account_id":200004,"reputation":405,"user_id":2368770,"accept_rate":0,"display_name":"Gustavo Ulises Arias M&#233;ndez"},"score":1,"creation_date":1562639327,"post_id":45630931,"comment_id":100428980,"body_markdown":"how did you figure this out!?","body":"how did you figure this out!?"}],"tags":[],"owner":{"account_id":10475004,"reputation":171,"user_id":7721805,"display_name":"Shay"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1681661724,"creation_date":1502441660,"answer_id":45630931,"question_id":36566401,"body_markdown":"I just answered this question under another question.\r\n\r\nI solved it today,it maybe a bug with jdk-1.8.x.\r\n\r\nFor example,my jdk path is **&quot;/usr/java/jdk1.8.0_144&quot;**.\r\n\r\n    cd /usr/java/jdk1.8.0_144/jre/lib/security/\r\n\r\nfind the file which named **&quot;java.security&quot;**,\r\n\r\n    vi java.security\r\n\r\nfind **&quot;securerandom.source=file:/dev/random&quot;**.\r\n\r\nModify **&quot;securerandom.source=file:/dev/./urandom &quot;**.\r\n\r\nOr add `-Dsecurerandom.source=file:/dev/./urandom` in Tomcat&#39;s CATALINA_OPTS.\r\n\r\nThen,go to the Tomcat/bin directory, execute `./start.sh` and `./shutdown.sh`,find that everything is all right.\r\n\r\nThis helps in a specific scenario of an incomplete Tomcat start up resulting from some operation blocking in &#39;/dev/random&#39; reads in the event of low system entropy.  The Tomcat shutdown port is only listening after a full start up, so if a start attempt hangs in a &#39;/dev/random&#39; read or due to any other issue, the shutdown port is not listening and a shutdown attempt relying on it fails with the connection refused error.  If start up hangs in &#39;/dev/random&#39;, then the urandom change addresses this as /dev/urandom never blocks and hangs waiting for system entropy.\r\n\r\nA CATALINA_PID may be set to shutdown Tomcat using a pid file and OS signal without issue in this event instead of the shutdown port.\r\n","title":"SEVERE: Could not contact localhost:8005. Tomcat may not be running error while shutting down","body":"<p>I just answered this question under another question.</p>\n<p>I solved it today,it maybe a bug with jdk-1.8.x.</p>\n<p>For example,my jdk path is <strong>&quot;/usr/java/jdk1.8.0_144&quot;</strong>.</p>\n<pre><code>cd /usr/java/jdk1.8.0_144/jre/lib/security/\n</code></pre>\n<p>find the file which named <strong>&quot;java.security&quot;</strong>,</p>\n<pre><code>vi java.security\n</code></pre>\n<p>find <strong>&quot;securerandom.source=file:/dev/random&quot;</strong>.</p>\n<p>Modify <strong>&quot;securerandom.source=file:/dev/./urandom &quot;</strong>.</p>\n<p>Or add <code>-Dsecurerandom.source=file:/dev/./urandom</code> in Tomcat's CATALINA_OPTS.</p>\n<p>Then,go to the Tomcat/bin directory, execute <code>./start.sh</code> and <code>./shutdown.sh</code>,find that everything is all right.</p>\n<p>This helps in a specific scenario of an incomplete Tomcat start up resulting from some operation blocking in '/dev/random' reads in the event of low system entropy.  The Tomcat shutdown port is only listening after a full start up, so if a start attempt hangs in a '/dev/random' read or due to any other issue, the shutdown port is not listening and a shutdown attempt relying on it fails with the connection refused error.  If start up hangs in '/dev/random', then the urandom change addresses this as /dev/urandom never blocks and hangs waiting for system entropy.</p>\n<p>A CATALINA_PID may be set to shutdown Tomcat using a pid file and OS signal without issue in this event instead of the shutdown port.</p>\n"},{"tags":[],"owner":{"account_id":3501354,"reputation":259,"user_id":2928046,"display_name":"Summer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517897934,"creation_date":1517897934,"answer_id":48636631,"question_id":36566401,"body_markdown":"Please make sure that the server port not changed after the server started!\r\n\r\nChanging the sever port of a running server could make it unable to shutdown with error message like the following:\r\n\r\n```\r\n06-Feb-2018 10:17:10.682 SEVERE [main] org.apache.catalina.startup.Catalina.stopServer Could not contact [localhost:[8005]]. Tomcat may not be running.\r\n06-Feb-2018 10:17:10.693 SEVERE [main] org.apache.catalina.startup.Catalina.stopServer Catalina.stop:\r\n java.net.ConnectException: Connection refused: connect\r\n```","title":"SEVERE: Could not contact localhost:8005. Tomcat may not be running error while shutting down","body":"<p>Please make sure that the server port not changed after the server started!</p>\n\n<p>Changing the sever port of a running server could make it unable to shutdown with error message like the following:</p>\n\n<p><code>\n06-Feb-2018 10:17:10.682 SEVERE [main] org.apache.catalina.startup.Catalina.stopServer Could not contact [localhost:[8005]]. Tomcat may not be running.\n06-Feb-2018 10:17:10.693 SEVERE [main] org.apache.catalina.startup.Catalina.stopServer Catalina.stop:\n java.net.ConnectException: Connection refused: connect\n</code></p>\n"},{"tags":[],"owner":{"account_id":9527128,"reputation":837,"user_id":7080033,"display_name":"Devendra  Singraul"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538572669,"creation_date":1538571389,"answer_id":52627548,"question_id":36566401,"body_markdown":"This is a bug in jdk 1.8.x - here is how to fix it:\r\n\r\n* In Windows Explorer, navigate to JRE --&gt; lib --&gt;security\r\n* Open file `java.security`\r\n* find &quot;`securerandom.source=file:/dev/random`&quot; in this file\r\n* replace it with: &quot;`securerandom.source=file:/dev/./urandom`&quot;\r\n\r\nThen, run the following commands from the `bin` folder of tomcat:\r\n\r\na. To start your server:\r\n\r\n`startup.bat` or `catalina.bat start`\r\n\r\nb. To stop your server: \r\n\r\n`shutdown.bat` or `catalina.bat stop`\r\n\r\nHope this will help you.\r\n\r\n","title":"SEVERE: Could not contact localhost:8005. Tomcat may not be running error while shutting down","body":"<p>This is a bug in jdk 1.8.x - here is how to fix it:</p>\n\n<ul>\n<li>In Windows Explorer, navigate to JRE --> lib -->security</li>\n<li>Open file <code>java.security</code></li>\n<li>find \"<code>securerandom.source=file:/dev/random</code>\" in this file</li>\n<li>replace it with: \"<code>securerandom.source=file:/dev/./urandom</code>\"</li>\n</ul>\n\n<p>Then, run the following commands from the <code>bin</code> folder of tomcat:</p>\n\n<p>a. To start your server:</p>\n\n<p><code>startup.bat</code> or <code>catalina.bat start</code></p>\n\n<p>b. To stop your server: </p>\n\n<p><code>shutdown.bat</code> or <code>catalina.bat stop</code></p>\n\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":2159998,"reputation":561,"user_id":1914380,"display_name":"AlexD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538771204,"creation_date":1538771204,"answer_id":52672891,"question_id":36566401,"body_markdown":"Wrong - port 8080 is the port your application/tomcat will serve. If you change it, it will not matter for the problem as the special port 8005 is used for shutdown.","title":"SEVERE: Could not contact localhost:8005. Tomcat may not be running error while shutting down","body":"<p>Wrong - port 8080 is the port your application/tomcat will serve. If you change it, it will not matter for the problem as the special port 8005 is used for shutdown.</p>\n"},{"comments":[{"owner":{"account_id":11155154,"reputation":415,"user_id":8187139,"display_name":"Anshuman Singh"},"score":0,"creation_date":1615808903,"post_id":54706471,"comment_id":117797309,"body_markdown":"Changing the port will not matter. Port 8005 is use to shutdown the server and 8080 is use to start it.","body":"Changing the port will not matter. Port 8005 is use to shutdown the server and 8080 is use to start it."}],"tags":[],"owner":{"account_id":5711291,"reputation":1437,"user_id":4513218,"display_name":"Walterwhites"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1550223678,"creation_date":1550223678,"answer_id":54706471,"question_id":36566401,"body_markdown":"it&#39;s because you have startup tomcat on port and you trying to shutdown on  an another port, solution is to change default tomcat shutdown port which is 8085, so if you have started your tomcat server on port 8080, go on you /tomcat/server.xml file and change this one\r\n\r\n    &lt;Server port=&quot;8085&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n\r\nto\r\n\r\n    &lt;Server port=&quot;8080&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n\r\nCordially","title":"SEVERE: Could not contact localhost:8005. Tomcat may not be running error while shutting down","body":"<p>it's because you have startup tomcat on port and you trying to shutdown on  an another port, solution is to change default tomcat shutdown port which is 8085, so if you have started your tomcat server on port 8080, go on you /tomcat/server.xml file and change this one</p>\n\n<pre><code>&lt;Server port=\"8085\" shutdown=\"SHUTDOWN\"&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;Server port=\"8080\" shutdown=\"SHUTDOWN\"&gt;\n</code></pre>\n\n<p>Cordially</p>\n"},{"tags":[],"owner":{"account_id":18428202,"reputation":1,"user_id":13423986,"display_name":"vanmathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589026623,"creation_date":1589023892,"answer_id":61696060,"question_id":36566401,"body_markdown":"Changing `java.security` doesn&#39;t solve my issue, which in this case killing by PID will help. In Linux to archive the following objective you need to do:\r\n\r\n 1. lsof -i:8005(Port number)\r\n 2. kill PID","title":"SEVERE: Could not contact localhost:8005. Tomcat may not be running error while shutting down","body":"<p>Changing <code>java.security</code> doesn't solve my issue, which in this case killing by PID will help. In Linux to archive the following objective you need to do:</p>\n\n<ol>\n<li>lsof -i:8005(Port number)</li>\n<li>kill PID</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653379275,"post_id":72358527,"comment_id":127831373,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72358527/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":23990345,"reputation":1212,"user_id":17976599,"display_name":"Sumit Sharma"},"score":0,"creation_date":1653744351,"post_id":72358527,"comment_id":127928230,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/31849616)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/31849616\">From Review</a>"}],"tags":[],"owner":{"account_id":19890586,"reputation":11,"user_id":14572741,"display_name":"Elg&#252;n ≈û&#252;k&#252;rov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653375875,"creation_date":1653375875,"answer_id":72358527,"question_id":36566401,"body_markdown":"Best solution for this problem is that killing active process. Mainly problem caused from active two server. As a solution you can kill this process then restart server, and everything is okay.\r\n\r\n    $ ps -fu\r\n\r\n    $ kill PID_of_target_process\r\n[Look this link!][1]\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/how-to-use-ps-kill-and-nice-to-manage-processes-in-linux","title":"SEVERE: Could not contact localhost:8005. Tomcat may not be running error while shutting down","body":"<p>Best solution for this problem is that killing active process. Mainly problem caused from active two server. As a solution you can kill this process then restart server, and everything is okay.</p>\n<pre><code>$ ps -fu\n\n$ kill PID_of_target_process\n</code></pre>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-use-ps-kill-and-nice-to-manage-processes-in-linux\" rel=\"nofollow noreferrer\">Look this link!</a></p>\n"}],"owner":{"account_id":6912817,"reputation":91,"user_id":5308070,"accept_rate":25,"display_name":"Laxmi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56204,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":7,"score":6,"last_activity_date":1681661724,"creation_date":1460446022,"question_id":36566401,"body_markdown":"I am able to start server any number of times but when i am trying to shut it down it is showing error as below. Can anyone please tell me how to resolve.\r\n\r\n```\r\nlocalhost:8080 is displaying message as successfully installed. Congratulations!\r\n\r\nUsing CATALINA_BASE:   /usr/share/apache-tomcat-8.0.33\r\n\r\nUsing CATALINA_HOME:   /usr/share/apache-tomcat-8.0.33\r\n\r\nUsing CATALINA_TMPDIR: /usr/share/apache-tomcat-8.0.33/temp\r\n\r\nUsing JRE_HOME:        /\r\n\r\nUsing CLASSPATH:       /usr/share/apache-tomcat-8.0.33/bin/bootstrap.jar:/usr/share/apache-tomcat-8.0.33/bin/tomcat-juli.jar\r\n\r\norg.apache.catalina.startup.Catalina stopServer\r\n\r\nSEVERE: Could not contact localhost:8005. Tomcat may not be running.\r\n\r\nSEVERE: Catalina.stop: \r\n\r\njava.net.ConnectException: Connection refused\r\nat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\r\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n\r\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n\r\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n\r\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\r\nat java.net.Socket.connect(Socket.java:589)\r\n\r\nat java.net.Socket.connect(Socket.java:538)\r\n\r\nat java.net.Socket.&lt;init&gt;(Socket.java:434)\r\n\r\nat java.net.Socket.&lt;init&gt;(Socket.java:211)\r\n\r\nat org.apache.catalina.startup.Catalina.stopServer(Catalina.java:450)\r\n\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\nat java.lang.reflect.Method.invoke(Method.java:497)\r\n\r\nat org.apache.catalina.startup.Bootstrap.stopServer(Bootstrap.java:400)\r\n\r\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:487)\r\n\r\n\r\n**Log file**\r\n\r\n12-Apr-2016 12:01:16.731 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_71-b15\r\n\r\n12-Apr-2016 12:01:16.731 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n\r\n12-Apr-2016 12:01:16.731 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/share/apache-tomcat-8.0.33\r\n\r\n12-Apr-2016 12:01:16.733 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/share/apache-tomcat-8.0.33\r\n\r\n12-Apr-2016 12:01:16.733 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/share/apache-tomcat-8.0.33/conf/logging.properties\r\n\r\n12-Apr-2016 12:01:16.733 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n\r\n12-Apr-2016 12:01:16.733 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.endorsed.dirs=/usr/share/apache-tomcat-8.0.33/endorsed\r\n\r\n12-Apr-2016 12:01:16.734 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/share/apache-tomcat-8.0.33\r\n\r\n12-Apr-2016 12:01:16.734 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/share/apache-tomcat-8.0.33\r\n\r\n12-Apr-2016 12:01:16.734 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/share/apache-tomcat-8.0.33/temp\r\n\r\n12-Apr-2016 12:01:16.734 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\r\n\r\n12-Apr-2016 12:01:17.280 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n\r\n12-Apr-2016 12:01:17.363 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n\r\n12-Apr-2016 12:01:17.367 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n\r\n12-Apr-2016 12:01:17.372 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n\r\n12-Apr-2016 12:01:17.373 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 2123 ms\r\n\r\n12-Apr-2016 12:01:17.444 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\r\n\r\n12-Apr-2016 12:01:17.445 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.0.33\r\n\r\n12-Apr-2016 12:01:17.511 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /usr/share/apache-tomcat-8.0.33/webapps/ROOT\r\n\r\n12-Apr-2016 12:01:18.243 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory /usr/share/apache-tomcat-8.0.33/webapps/ROOT has finished in 720 ms\r\n\r\n12-Apr-2016 12:01:18.244 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /usr/share/apache-tomcat-8.0.33/webapps/docs\r\n\r\n12-Apr-2016 12:01:18.352 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory /usr/share/apache-tomcat-8.0.33/webapps/docs has finished in 108 ms\r\n\r\n12-Apr-2016 12:01:18.354 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /usr/share/apache-tomcat-8.0.33/webapps/examples\r\n\r\n12-Apr-2016 12:01:18.995 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory /usr/share/apache-tomcat-8.0.33/webapps/examples has finished in 641 ms\r\n\r\n12-Apr-2016 12:01:18.996 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /usr/share/apache-tomcat-8.0.33/webapps/host-manager\r\n\r\n12-Apr-2016 12:01:19.065 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory /usr/share/apache-tomcat-8.0.33/webapps/host-manager has finished in 69 ms\r\n\r\n12-Apr-2016 12:01:19.066 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /usr/share/apache-tomcat-8.0.33/webapps/manager\r\n\r\n12-Apr-2016 12:01:19.123 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory /usr/share/apache-tomcat-8.0.33/webapps/manager has finished in 57 ms\r\n\r\n12-Apr-2016 12:01:19.137 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n\r\n12-Apr-2016 12:01:19.144 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n\r\n12-Apr-2016 12:01:19.145 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 1772 ms\r\n\r\n12-Apr-2016 12:03:46.070 INFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.\r\n\r\n12-Apr-2016 12:03:46.071 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n\r\n12-Apr-2016 12:03:46.124 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n\r\n12-Apr-2016 12:03:46.175 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service Catalina\r\n\r\n12-Apr-2016 12:03:46.272 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\r\n\r\n12-Apr-2016 12:03:46.288 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n\r\n12-Apr-2016 12:03:46.382 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\r\n\r\n12-Apr-2016 12:03:46.393 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n\r\n12-Apr-2016 12:30:40.202 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.0.33\r\n\r\n12-Apr-2016 12:30:40.206 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Mar 18 2016 20:31:49 UTC\r\n\r\n12-Apr-2016 12:30:40.207 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.0.33.0\r\n\r\n12-Apr-2016 12:30:40.207 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n\r\n12-Apr-2016 12:30:40.207 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            3.10.0-327.10.1.el7.x86_64\r\n\r\n12-Apr-2016 12:30:40.207 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n\r\n12-Apr-2016 12:30:40.208 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.71-2.b15.el7_2.x86_64/jre\r\n```","title":"SEVERE: Could not contact localhost:8005. Tomcat may not be running error while shutting down","body":"<p>I am able to start server any number of times but when i am trying to shut it down it is showing error as below. Can anyone please tell me how to resolve.</p>\n<pre><code>localhost:8080 is displaying message as successfully installed. Congratulations!\n\nUsing CATALINA_BASE:   /usr/share/apache-tomcat-8.0.33\n\nUsing CATALINA_HOME:   /usr/share/apache-tomcat-8.0.33\n\nUsing CATALINA_TMPDIR: /usr/share/apache-tomcat-8.0.33/temp\n\nUsing JRE_HOME:        /\n\nUsing CLASSPATH:       /usr/share/apache-tomcat-8.0.33/bin/bootstrap.jar:/usr/share/apache-tomcat-8.0.33/bin/tomcat-juli.jar\n\norg.apache.catalina.startup.Catalina stopServer\n\nSEVERE: Could not contact localhost:8005. Tomcat may not be running.\n\nSEVERE: Catalina.stop: \n\njava.net.ConnectException: Connection refused\nat java.net.PlainSocketImpl.socketConnect(Native Method)\n\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n\nat java.net.Socket.connect(Socket.java:589)\n\nat java.net.Socket.connect(Socket.java:538)\n\nat java.net.Socket.&lt;init&gt;(Socket.java:434)\n\nat java.net.Socket.&lt;init&gt;(Socket.java:211)\n\nat org.apache.catalina.startup.Catalina.stopServer(Catalina.java:450)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.lang.reflect.Method.invoke(Method.java:497)\n\nat org.apache.catalina.startup.Bootstrap.stopServer(Bootstrap.java:400)\n\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:487)\n\n\n**Log file**\n\n12-Apr-2016 12:01:16.731 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_71-b15\n\n12-Apr-2016 12:01:16.731 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n\n12-Apr-2016 12:01:16.731 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/share/apache-tomcat-8.0.33\n\n12-Apr-2016 12:01:16.733 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/share/apache-tomcat-8.0.33\n\n12-Apr-2016 12:01:16.733 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/share/apache-tomcat-8.0.33/conf/logging.properties\n\n12-Apr-2016 12:01:16.733 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n\n12-Apr-2016 12:01:16.733 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.endorsed.dirs=/usr/share/apache-tomcat-8.0.33/endorsed\n\n12-Apr-2016 12:01:16.734 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/share/apache-tomcat-8.0.33\n\n12-Apr-2016 12:01:16.734 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/share/apache-tomcat-8.0.33\n\n12-Apr-2016 12:01:16.734 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/share/apache-tomcat-8.0.33/temp\n\n12-Apr-2016 12:01:16.734 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\n\n12-Apr-2016 12:01:17.280 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n\n12-Apr-2016 12:01:17.363 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n\n12-Apr-2016 12:01:17.367 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;ajp-nio-8009&quot;]\n\n12-Apr-2016 12:01:17.372 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n\n12-Apr-2016 12:01:17.373 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 2123 ms\n\n12-Apr-2016 12:01:17.444 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\n\n12-Apr-2016 12:01:17.445 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.0.33\n\n12-Apr-2016 12:01:17.511 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /usr/share/apache-tomcat-8.0.33/webapps/ROOT\n\n12-Apr-2016 12:01:18.243 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory /usr/share/apache-tomcat-8.0.33/webapps/ROOT has finished in 720 ms\n\n12-Apr-2016 12:01:18.244 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /usr/share/apache-tomcat-8.0.33/webapps/docs\n\n12-Apr-2016 12:01:18.352 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory /usr/share/apache-tomcat-8.0.33/webapps/docs has finished in 108 ms\n\n12-Apr-2016 12:01:18.354 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /usr/share/apache-tomcat-8.0.33/webapps/examples\n\n12-Apr-2016 12:01:18.995 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory /usr/share/apache-tomcat-8.0.33/webapps/examples has finished in 641 ms\n\n12-Apr-2016 12:01:18.996 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /usr/share/apache-tomcat-8.0.33/webapps/host-manager\n\n12-Apr-2016 12:01:19.065 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory /usr/share/apache-tomcat-8.0.33/webapps/host-manager has finished in 69 ms\n\n12-Apr-2016 12:01:19.066 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory /usr/share/apache-tomcat-8.0.33/webapps/manager\n\n12-Apr-2016 12:01:19.123 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory /usr/share/apache-tomcat-8.0.33/webapps/manager has finished in 57 ms\n\n12-Apr-2016 12:01:19.137 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n\n12-Apr-2016 12:01:19.144 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;ajp-nio-8009&quot;]\n\n12-Apr-2016 12:01:19.145 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 1772 ms\n\n12-Apr-2016 12:03:46.070 INFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.\n\n12-Apr-2016 12:03:46.071 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\n\n12-Apr-2016 12:03:46.124 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;ajp-nio-8009&quot;]\n\n12-Apr-2016 12:03:46.175 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service Catalina\n\n12-Apr-2016 12:03:46.272 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\n\n12-Apr-2016 12:03:46.288 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;ajp-nio-8009&quot;]\n\n12-Apr-2016 12:03:46.382 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\n\n12-Apr-2016 12:03:46.393 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;ajp-nio-8009&quot;]\n\n12-Apr-2016 12:30:40.202 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.0.33\n\n12-Apr-2016 12:30:40.206 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Mar 18 2016 20:31:49 UTC\n\n12-Apr-2016 12:30:40.207 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.0.33.0\n\n12-Apr-2016 12:30:40.207 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n\n12-Apr-2016 12:30:40.207 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            3.10.0-327.10.1.el7.x86_64\n\n12-Apr-2016 12:30:40.207 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n\n12-Apr-2016 12:30:40.208 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.71-2.b15.el7_2.x86_64/jre\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-security-oauth2"],"answers":[{"comments":[{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":1,"creation_date":1519191021,"post_id":48898621,"comment_id":84802828,"body_markdown":"Nope. I tried the above config but this config returns a login page even on post request for `/oauth/token` instead of retrieving token and when i remove `formlogin`, it agian gives 403.","body":"Nope. I tried the above config but this config returns a login page even on post request for <code>&#47;oauth&#47;token</code> instead of retrieving token and when i remove <code>formlogin</code>, it agian gives 403."},{"owner":{"account_id":4069052,"reputation":2822,"user_id":3342866,"display_name":"CGS"},"score":1,"creation_date":1519191553,"post_id":48898621,"comment_id":84803022,"body_markdown":"I suspect your resource server&#39;s security config is getting picked up since you have set the @Order(3). Try to remove that class and check. Post which you can decide where you want to plugin in your resource server logic","body":"I suspect your resource server&#39;s security config is getting picked up since you have set the @Order(3). Try to remove that class and check. Post which you can decide where you want to plugin in your resource server logic"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1519191922,"post_id":48898621,"comment_id":84803154,"body_markdown":"Thanks man. Actually in my initial config, there was no `Order(3)` and was getting the same problem. I put that annotation after searching for solution. Removing it didn&#39;t work but changing the order to 100 did work. I assume the key here was to lower the order of this config","body":"Thanks man. Actually in my initial config, there was no <code>Order(3)</code> and was getting the same problem. I put that annotation after searching for solution. Removing it didn&#39;t work but changing the order to 100 did work. I assume the key here was to lower the order of this config"},{"owner":{"account_id":4069052,"reputation":2822,"user_id":3342866,"display_name":"CGS"},"score":1,"creation_date":1519192234,"post_id":48898621,"comment_id":84803268,"body_markdown":"yes higher the number in @Order , lower would be the precedence","body":"yes higher the number in @Order , lower would be the precedence"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1519193322,"post_id":48898621,"comment_id":84803659,"body_markdown":"Can you help me one more time. This time I am successful in obtaining token, but I am not able to access any controller mapped urls. For e.g. I am trying to access a secured url `/auth/myoauth` which just returns &quot;hello&quot;. I am getting 403 in it. I have set the Authorization header as Bearer &lt;Access-token&gt;","body":"Can you help me one more time. This time I am successful in obtaining token, but I am not able to access any controller mapped urls. For e.g. I am trying to access a secured url <code>&#47;auth&#47;myoauth</code> which just returns &quot;hello&quot;. I am getting 403 in it. I have set the Authorization header as Bearer &lt;Access-token&gt;"},{"owner":{"account_id":4069052,"reputation":2822,"user_id":3342866,"display_name":"CGS"},"score":0,"creation_date":1519193593,"post_id":48898621,"comment_id":84803763,"body_markdown":"I am not sure if it is your requirement, but general recommendation is to have a separate Service for Authorization and Resource. In your case, i understand you have both in the same solution.","body":"I am not sure if it is your requirement, but general recommendation is to have a separate Service for Authorization and Resource. In your case, i understand you have both in the same solution."},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1519193625,"post_id":48898621,"comment_id":84803776,"body_markdown":"Yes. It&#39;s a requirement","body":"Yes. It&#39;s a requirement"},{"owner":{"account_id":4069052,"reputation":2822,"user_id":3342866,"display_name":"CGS"},"score":0,"creation_date":1519194019,"post_id":48898621,"comment_id":84803935,"body_markdown":"try to add this in the Security config :   .antMatchers(&quot;/auth/**&quot;).permitAll().anyRequest().authenticated() . Not able to think any other solution for this!","body":"try to add this in the Security config :   .antMatchers(&quot;/auth/**&quot;).permitAll().anyRequest().authentica&zwnj;&#8203;ted() . Not able to think any other solution for this!"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1519194101,"post_id":48898621,"comment_id":84803964,"body_markdown":"But I want the url to be accessible only if access token is valid","body":"But I want the url to be accessible only if access token is valid"}],"tags":[],"owner":{"account_id":4069052,"reputation":2822,"user_id":3342866,"display_name":"CGS"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1519190234,"creation_date":1519190234,"answer_id":48898621,"question_id":48898096,"body_markdown":"It should be because, you are disabling all anonymous access in your configure block. You can change it to the following\r\n\r\n    @Override\r\n    \tprotected void configure(final HttpSecurity http) throws Exception {\r\n    \t\t// @formatter:off\r\n    \t\thttp.authorizeRequests().antMatchers(&quot;/login&quot;).permitAll().antMatchers(&quot;/oauth/token/revokeById/**&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/tokens/**&quot;).permitAll().anyRequest().authenticated().and().formLogin().permitAll().and()\r\n    \t\t\t\t.csrf().disable();\r\n    \t\t// @formatter:on\r\n    \t}","title":"Getting 403 error in Spring security oauth while accessing application specific urls (access_token is valid and csrf is disabled)","body":"<p>It should be because, you are disabling all anonymous access in your configure block. You can change it to the following</p>\n\n<pre><code>@Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        // @formatter:off\n        http.authorizeRequests().antMatchers(\"/login\").permitAll().antMatchers(\"/oauth/token/revokeById/**\").permitAll()\n                .antMatchers(\"/tokens/**\").permitAll().anyRequest().authenticated().and().formLogin().permitAll().and()\n                .csrf().disable();\n        // @formatter:on\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22796807,"reputation":1,"user_id":16950237,"display_name":"izilongwan"},"score":1,"creation_date":1681721739,"post_id":76028918,"comment_id":134096505,"body_markdown":"The default setting is private String checkTokenAccess = &quot;denyAll()&quot;; So maybe try in AuthorizationServerConfiguration and authenticate yourself, or &quot;permitAll()&quot; if you wish and let anybody use it","body":"The default setting is private String checkTokenAccess = &quot;denyAll()&quot;; So maybe try in AuthorizationServerConfiguration and authenticate yourself, or &quot;permitAll()&quot; if you wish and let anybody use it"}],"tags":[],"owner":{"account_id":22796807,"reputation":1,"user_id":16950237,"display_name":"izilongwan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681661712,"creation_date":1681661590,"answer_id":76028918,"question_id":48898096,"body_markdown":"```java\r\n@Override\r\n    public void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\r\n        oauthServer.checkTokenAccess(&quot;isAuthenticated()&quot;);\r\n    }\r\n```","title":"Getting 403 error in Spring security oauth while accessing application specific urls (access_token is valid and csrf is disabled)","body":"<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\n        oauthServer.checkTokenAccess(&quot;isAuthenticated()&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48898621,"answer_count":2,"score":1,"last_activity_date":1681661712,"creation_date":1519186705,"question_id":48898096,"body_markdown":"**UPDATE**\r\n\r\n(*Answer by Chids is for the problem that I posted earlier which was getting 403 error for `/oauth/token`. That error is resolved and am stuck at the next step .I have modified the question accordingly.*)\r\n\r\n**Problem:**\r\n\r\nI am trying to implement OAuth 2.0 with Spring security. And I am successful in obtaining the `access_token` by making a post request to `/oauth/token`. \r\nBut when I use this access token to use any other secured url I am getting 403.\r\n\r\nI have followed multiple questions on SO but all of them suggest to disable csrf for my problem. Issue is I have already disabled that but still getting error.\r\n\r\nCan someone guide me whether I am constructing the post request in a wrong way or whether some config is missing.\r\n\r\n**My post request through postman looks like:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Config on google:**\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Resource Server**\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    @Order(3)\r\n    public class Oauth2ResourceServerConfig extends ResourceServerConfigurerAdapter {     \r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(HttpSecurity http) throws Exception {\t\t\r\n    \t\thttp.csrf().disable();\r\n    \t\t\r\n    \t        http.requestMatchers().antMatchers(&quot;/auth/**&quot;)\r\n    \t        .and()\r\n    \t        .authorizeRequests()\t\t\t        \r\n    \t\t    .antMatchers(&quot;/auth/**&quot;).authenticated();\t\r\n    \t    \r\n        }\r\n    }\r\n\r\n**Authorization server**\r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\t\r\n    public class Oauth2AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate TokenStore tokenStore;\r\n    \r\n    \t@Autowired\r\n    \tprivate UserApprovalHandler handler;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;authenticationManagerBean&quot;)\r\n    \tprivate AuthenticationManager authManager;\r\n    \r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(final ClientDetailsServiceConfigurer clients) throws Exception {\t\t\r\n    \t\t\r\n    \t\tclients.inMemory()\r\n    \t\t\t.withClient(&quot;568176070083-1lc20949a0q58l0rhmq93n95kvu8s5o6.apps.googleusercontent.com&quot;)\r\n    \t\t\t.secret(&quot;lNfK3wOaVibgu96il6WLrkTh&quot;)\t\t\t\r\n    \t\t\t.authorizedGrantTypes(&quot;password&quot;, &quot;authorization_code&quot;, &quot;refresh_token&quot;, &quot;implicit&quot;)\r\n                .authorities(&quot;ROLE_CLIENT&quot;, &quot;ROLE_TRUSTED_CLIENT&quot;)\r\n                .scopes(&quot;read&quot;, &quot;write&quot;, &quot;trust&quot;)\r\n                .accessTokenValiditySeconds(120)\r\n                .refreshTokenValiditySeconds(600);   \t\t\t\r\n    \t\t\r\n        }   \r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n    \t\tendpoints.tokenStore(tokenStore).userApprovalHandler(handler)\r\n    \t\t\t\t.authenticationManager(authManager);\r\n    \t}   \t\r\n        \r\n    }\r\n\r\n**Security Config**\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    @ComponentScan(basePackages = &quot;com.saml.demo&quot;)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {    \r\n    \t\r\n    \t@Autowired\r\n        public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication()\r\n            .withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;)\r\n            .and()\r\n            .withUser(&quot;admin&quot;).password(&quot;admin123&quot;).roles(&quot;ADMIN&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \thttp\r\n\t\t.csrf().disable()\r\n\t\t.anonymous().disable()\r\n\t  \t.authorizeRequests()\r\n\t  \t.antMatchers(&quot;/oauth/token&quot;).permitAll()\r\n\t  \t.anyRequest().authenticated();\r\n        }\r\n    \r\n        @Override\r\n        @Bean\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic TokenStore tokenStore() {\r\n    \t\treturn new InMemoryTokenStore();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \t@Autowired\r\n    \tpublic ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\r\n    \t\tTokenApprovalStore store = new TokenApprovalStore();\r\n    \t\tstore.setTokenStore(tokenStore);\r\n    \t\treturn store;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nvj6S.png\r\n  [2]: https://i.stack.imgur.com/0scSV.png","title":"Getting 403 error in Spring security oauth while accessing application specific urls (access_token is valid and csrf is disabled)","body":"<p><strong>UPDATE</strong></p>\n\n<p>(<em>Answer by Chids is for the problem that I posted earlier which was getting 403 error for <code>/oauth/token</code>. That error is resolved and am stuck at the next step .I have modified the question accordingly.</em>)</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>I am trying to implement OAuth 2.0 with Spring security. And I am successful in obtaining the <code>access_token</code> by making a post request to <code>/oauth/token</code>. \nBut when I use this access token to use any other secured url I am getting 403.</p>\n\n<p>I have followed multiple questions on SO but all of them suggest to disable csrf for my problem. Issue is I have already disabled that but still getting error.</p>\n\n<p>Can someone guide me whether I am constructing the post request in a wrong way or whether some config is missing.</p>\n\n<p><strong>My post request through postman looks like:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Nvj6S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nvj6S.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Config on google:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/0scSV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0scSV.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Resource Server</strong></p>\n\n<pre><code>@Configuration\n@EnableResourceServer\n@Order(3)\npublic class Oauth2ResourceServerConfig extends ResourceServerConfigurerAdapter {     \n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {     \n        http.csrf().disable();\n\n            http.requestMatchers().antMatchers(\"/auth/**\")\n            .and()\n            .authorizeRequests()                    \n            .antMatchers(\"/auth/**\").authenticated();   \n\n    }\n}\n</code></pre>\n\n<p><strong>Authorization server</strong></p>\n\n<pre><code>@Configuration\n@EnableAuthorizationServer  \npublic class Oauth2AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter {\n\n    @Autowired\n    private TokenStore tokenStore;\n\n    @Autowired\n    private UserApprovalHandler handler;\n\n    @Autowired\n    @Qualifier(\"authenticationManagerBean\")\n    private AuthenticationManager authManager;\n\n\n\n    @Override\n    public void configure(final ClientDetailsServiceConfigurer clients) throws Exception {      \n\n        clients.inMemory()\n            .withClient(\"568176070083-1lc20949a0q58l0rhmq93n95kvu8s5o6.apps.googleusercontent.com\")\n            .secret(\"lNfK3wOaVibgu96il6WLrkTh\")         \n            .authorizedGrantTypes(\"password\", \"authorization_code\", \"refresh_token\", \"implicit\")\n            .authorities(\"ROLE_CLIENT\", \"ROLE_TRUSTED_CLIENT\")\n            .scopes(\"read\", \"write\", \"trust\")\n            .accessTokenValiditySeconds(120)\n            .refreshTokenValiditySeconds(600);              \n\n    }   \n\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        endpoints.tokenStore(tokenStore).userApprovalHandler(handler)\n                .authenticationManager(authManager);\n    }       \n\n}\n</code></pre>\n\n<p><strong>Security Config</strong></p>\n\n<pre><code>@EnableWebSecurity\n@Configuration\n@EnableGlobalMethodSecurity(securedEnabled = true)\n@ComponentScan(basePackages = \"com.saml.demo\")\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {    \n\n    @Autowired\n    public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n        .withUser(\"user\").password(\"password\").roles(\"USER\")\n        .and()\n        .withUser(\"admin\").password(\"admin123\").roles(\"ADMIN\");\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n    http\n    .csrf().disable()\n    .anonymous().disable()\n    .authorizeRequests()\n    .antMatchers(\"/oauth/token\").permitAll()\n    .anyRequest().authenticated();\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n\n    @Bean\n    public TokenStore tokenStore() {\n        return new InMemoryTokenStore();\n    }\n\n    @Bean\n    @Autowired\n    public ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\n        TokenApprovalStore store = new TokenApprovalStore();\n        store.setTokenStore(tokenStore);\n        return store;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","game-development"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1681663002,"post_id":76028921,"comment_id":134089249,"body_markdown":"We need to see more code. For example, we should where and how the key listeners  are registered.   Please provide a [minimal, complete and verifiable example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"We need to see more code. For example, we should where and how the key listeners  are registered.   Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, complete and verifiable example</a>"},{"owner":{"account_id":10579646,"reputation":59,"user_id":7793969,"display_name":"Bart"},"score":0,"creation_date":1681664757,"post_id":76028921,"comment_id":134089493,"body_markdown":"@OldDogProgrammer There&#39;s a lot of code for jumping and falling, just figured I would put the most relevant information down. Just want to get some ideas on how I can implement this, I&#39;m having trouble updating jumpHeight depending on how long space is being pressed. \n\nKeyListeners are registered by implementing KeyAdapter and added to the JPanel? If that was your question","body":"@OldDogProgrammer There&#39;s a lot of code for jumping and falling, just figured I would put the most relevant information down. Just want to get some ideas on how I can implement this, I&#39;m having trouble updating jumpHeight depending on how long space is being pressed.   KeyListeners are registered by implementing KeyAdapter and added to the JPanel? If that was your question"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681665927,"post_id":76028921,"comment_id":134089663,"body_markdown":"Have you tried retrieving the system time when the key is pressed  and again when the key is released? The jump strength would be based on the time difference, perhaps in microseconds or nanoseconds.","body":"Have you tried retrieving the system time when the key is pressed  and again when the key is released? The jump strength would be based on the time difference, perhaps in microseconds or nanoseconds."},{"owner":{"account_id":10579646,"reputation":59,"user_id":7793969,"display_name":"Bart"},"score":0,"creation_date":1681666266,"post_id":76028921,"comment_id":134089729,"body_markdown":"@OldDogProgrammer yes, problem is how I adjust the jump strength or the jump functionality. I want the player to keep increasing in jump height or airSpeed until he releases the key,but I&#39;m not sure how to do that.","body":"@OldDogProgrammer yes, problem is how I adjust the jump strength or the jump functionality. I want the player to keep increasing in jump height or airSpeed until he releases the key,but I&#39;m not sure how to do that."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1681674928,"post_id":76028921,"comment_id":134090905,"body_markdown":"I like @OldDogProgrammer&#39;s suggestion.  I&#39;d use key bindings.  Get the time when the space key is pressed, and get the time when the space key is released.  Calculate the height based on elapsed time.","body":"I like @OldDogProgrammer&#39;s suggestion.  I&#39;d use key bindings.  Get the time when the space key is pressed, and get the time when the space key is released.  Calculate the height based on elapsed time."},{"owner":{"account_id":10579646,"reputation":59,"user_id":7793969,"display_name":"Bart"},"score":0,"creation_date":1681675327,"post_id":76028921,"comment_id":134090951,"body_markdown":"@GilbertLeBlanc yes, I have the height calculated but the problem is how I update the player&#39;s Y position or airSpeed based on this, I don&#39;t know how to do that","body":"@GilbertLeBlanc yes, I have the height calculated but the problem is how I update the player&#39;s Y position or airSpeed based on this, I don&#39;t know how to do that"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1681680867,"post_id":76028921,"comment_id":134091613,"body_markdown":"What&#39;s the maximum jump height in pixels?  What&#39;s the minimum jump height in pixels?  How many pixels per second does the player move when jumping?  What&#39;s the frame rate?","body":"What&#39;s the maximum jump height in pixels?  What&#39;s the minimum jump height in pixels?  How many pixels per second does the player move when jumping?  What&#39;s the frame rate?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1681681300,"post_id":76028921,"comment_id":134091648,"body_markdown":"How long does the player hold down the space key to jump to maximum height?","body":"How long does the player hold down the space key to jump to maximum height?"},{"owner":{"account_id":10579646,"reputation":59,"user_id":7793969,"display_name":"Bart"},"score":0,"creation_date":1681688169,"post_id":76028921,"comment_id":134092295,"body_markdown":"I define most of these variables in the code above. The game renders the drawing 60 times per second and updates the game 200 times per seconds. I can set different jump heights by modifying jumpHeight to 2.0 * SCALE for a small jump or 8.0 * SCALE for a big jump, I want the player to be able to jump between these values depending on how long he presses jump, or just a few if statements depending on how long he&#39;s holding, e.g &lt;1 sec: 2.0 jumpheight, 1-2 sec: 4.0 jumpheight, &gt;2 sec: 6.0 jumpheight. The player moves with airSpeed upwards","body":"I define most of these variables in the code above. The game renders the drawing 60 times per second and updates the game 200 times per seconds. I can set different jump heights by modifying jumpHeight to 2.0 * SCALE for a small jump or 8.0 * SCALE for a big jump, I want the player to be able to jump between these values depending on how long he presses jump, or just a few if statements depending on how long he&#39;s holding, e.g &lt;1 sec: 2.0 jumpheight, 1-2 sec: 4.0 jumpheight, &gt;2 sec: 6.0 jumpheight. The player moves with airSpeed upwards"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681691243,"post_id":76028921,"comment_id":134092588,"body_markdown":"You want the jump to begin when the key is pressed, and continue while the key is held or the maximum jump is reached?  When I saw the question, I thought the jump would start when the key is released. This is more consistent with reality: When I jump, my path is pretty much set at the moment my feet leave the ground.","body":"You want the jump to begin when the key is pressed, and continue while the key is held or the maximum jump is reached?  When I saw the question, I thought the jump would start when the key is released. This is more consistent with reality: When I jump, my path is pretty much set at the moment my feet leave the ground."}],"owner":{"account_id":10579646,"reputation":59,"user_id":7793969,"display_name":"Bart"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681661599,"creation_date":1681661599,"question_id":76028921,"body_markdown":"I want to make the player jump higher when holding space for a long time and only a small jump when pressing space for a short time. I&#39;m having trouble increasing the airSpeed because jump() is only called once at the start of a jump and I&#39;m not sure how to increase the airSpeed for as long as holding space but not above the maximum jump height. Here is my current implementation of jumping:\r\n\r\n\tprivate void mainLoop() {\r\n\t\tif (jumping) {\r\n\t\t\tjumpTime++;\r\n\t\t\tif (canJump) {\r\n\t\t\t\t// the jump method is only called once when pressing space.\r\n\t\t\t\tjump();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// ====== Jumping ======\r\n\tprivate boolean canJump = true;\r\n\tprivate boolean jumping = false;\r\n\tprivate static final float MAX_JUMP_HEIGHT = 8.0f * SCALE;\r\n\tprivate static final float MIN_JUMP_HEIGHT = 4.0f * SCALE;\r\n\tprivate float jumpHeight = MIN_JUMP_HEIGHT;\r\n\tprivate float jumpTime = 0.0f;\r\n\r\n\tpublic void jump() {\r\n\t\tif (inAir || !canJump) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tinAir = true;\r\n\t\tcanJump = false;\r\n\r\n\t\t// Here, I need to set airSpeed depending on how long the player has pressed space\r\n\t\tairSpeed -= jumpHeight;\r\n\t}\r\n\r\n\r\nAnd here is where I set jumping to true when pressing space and to false when releasing space.\r\n\r\n    public void keyPressed(KeyEvent e) {\r\n        if (e.getKeyCode() == KeyEvent.VK_SPACE) {\r\n            player.setJumping(true);\r\n            player.setJumpTime(0);\r\n        }\r\n    }\r\n\r\n    public void keyReleased(KeyEvent e) {\r\n        if (e.getKeyCode() == KeyEvent.VK_SPACE) {\r\n            player.setJumping(false);\r\n            player.setCanJump(true);\r\n        }\r\n    }\r\n\r\nAny help is much appreciated!","title":"How to increase jump height when holding space java","body":"<p>I want to make the player jump higher when holding space for a long time and only a small jump when pressing space for a short time. I'm having trouble increasing the airSpeed because jump() is only called once at the start of a jump and I'm not sure how to increase the airSpeed for as long as holding space but not above the maximum jump height. Here is my current implementation of jumping:</p>\n<pre><code>private void mainLoop() {\n    if (jumping) {\n        jumpTime++;\n        if (canJump) {\n            // the jump method is only called once when pressing space.\n            jump();\n        }\n    }\n}\n\n// ====== Jumping ======\nprivate boolean canJump = true;\nprivate boolean jumping = false;\nprivate static final float MAX_JUMP_HEIGHT = 8.0f * SCALE;\nprivate static final float MIN_JUMP_HEIGHT = 4.0f * SCALE;\nprivate float jumpHeight = MIN_JUMP_HEIGHT;\nprivate float jumpTime = 0.0f;\n\npublic void jump() {\n    if (inAir || !canJump) {\n        return;\n    }\n    inAir = true;\n    canJump = false;\n\n    // Here, I need to set airSpeed depending on how long the player has pressed space\n    airSpeed -= jumpHeight;\n}\n</code></pre>\n<p>And here is where I set jumping to true when pressing space and to false when releasing space.</p>\n<pre><code>public void keyPressed(KeyEvent e) {\n    if (e.getKeyCode() == KeyEvent.VK_SPACE) {\n        player.setJumping(true);\n        player.setJumpTime(0);\n    }\n}\n\npublic void keyReleased(KeyEvent e) {\n    if (e.getKeyCode() == KeyEvent.VK_SPACE) {\n        player.setJumping(false);\n        player.setCanJump(true);\n    }\n}\n</code></pre>\n<p>Any help is much appreciated!</p>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1681628076,"post_id":76026272,"comment_id":134084871,"body_markdown":"Did you mean MQRC 2058 - MQRC_Q_MGR_NAME_ERROR? I am not aware of any MQRC 2508. Does a queue manager with the name you provided via queueManagerName variable exist?","body":"Did you mean MQRC 2058 - MQRC_Q_MGR_NAME_ERROR? I am not aware of any MQRC 2508. Does a queue manager with the name you provided via queueManagerName variable exist?"},{"owner":{"account_id":1361311,"reputation":685,"user_id":1298632,"accept_rate":71,"display_name":"Moh Tarvirdi"},"score":0,"creation_date":1681629457,"post_id":76026272,"comment_id":134084978,"body_markdown":"sorry, I had mistaken and corrected my question. Correct error no is 2035. Both env  (jar or maven method) are same","body":"sorry, I had mistaken and corrected my question. Correct error no is 2035. Both env  (jar or maven method) are same"},{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1681630832,"post_id":76026272,"comment_id":134085109,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/51062840/work-with-ibm-mq-from-java/51064023#51064023","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/51062840/work-with-ibm-mq-from-java/51064023#51064023\" title=\"work with ibm mq from java\">stackoverflow.com/questions/51062840/work-with-ibm-mq-from-j&zwnj;&#8203;ava/&hellip;</a>"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1681680016,"post_id":76026272,"comment_id":134091515,"body_markdown":"You should really check what showed up on the queue manager&#39;s AMQERR01.LOG. This will provide the true reason for the 2035.","body":"You should really check what showed up on the queue manager&#39;s AMQERR01.LOG. This will provide the true reason for the 2035."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1681680180,"post_id":76026272,"comment_id":134091536,"body_markdown":"My guess is it&#39;s how the user is being presented, 7.5 would send it in MQMD. 9.3 would send it in MQCSP.","body":"My guess is it&#39;s how the user is being presented, 7.5 would send it in MQMD. 9.3 would send it in MQCSP."},{"owner":{"account_id":1361311,"reputation":685,"user_id":1298632,"accept_rate":71,"display_name":"Moh Tarvirdi"},"score":0,"creation_date":1681804543,"post_id":76026272,"comment_id":134111534,"body_markdown":"I disable password parameter setting and connected well. It seems that MQ75 do not need password, then when using maven V9 lib by not sending password it switch to anonymous authentication. Thanks for all friends advise.","body":"I disable password parameter setting and connected well. It seems that MQ75 do not need password, then when using maven V9 lib by not sending password it switch to anonymous authentication. Thanks for all friends advise."}],"owner":{"account_id":1361311,"reputation":685,"user_id":1298632,"accept_rate":71,"display_name":"Moh Tarvirdi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681661295,"creation_date":1681627542,"question_id":76026272,"body_markdown":"I have a working source to connect MQ 7 by using com.ibm.mq JAR lib version 7.5.0.8.\r\n```\r\nprivate Hashtable&lt;String, Object&gt; mqProperties = new Hashtable&lt;String, Object&gt;();\r\n\r\nmqProperties.put(MQConstants.HOST_NAME_PROPERTY, ip);\r\nmqProperties.put(MQConstants.PORT_PROPERTY, port);\r\nmqProperties.put(MQConstants.USER_ID_PROPERTY, username);\r\nmqProperties.put(MQConstants.PASSWORD_PROPERTY, password);\r\nmqProperties.put(MQConstants.CHANNEL_PROPERTY, channelName);\r\nmqProperties.put(MQConstants.CCSID_PROPERTY, &quot;1098&quot;);\r\n\r\nqueueManager = new MQQueueManager(queueManagerName, mqProperties);\r\n```\r\nand no problem. I port my connect source to maven app and use latest version of MQ access lib\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\r\n    &lt;version&gt;9.3.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nSame source cannot connect and get 2035 error (user)? \r\n\r\n```\r\nReaderQueueThread.openQueue(), Queue_UserName &lt;suny&gt; is not Valid!MQJE001: Completion Code &#39;2&#39;, Reason &#39;2035&#39;.\r\n```\r\n\r\nWhat should I do more to connect? My env is windows 10 and MQ 7.5 on win 2008.\r\n","title":"MQ Connection fail (2035) in java maven project but work well with MQ7.5 Jar","body":"<p>I have a working source to connect MQ 7 by using com.ibm.mq JAR lib version 7.5.0.8.</p>\n<pre><code>private Hashtable&lt;String, Object&gt; mqProperties = new Hashtable&lt;String, Object&gt;();\n\nmqProperties.put(MQConstants.HOST_NAME_PROPERTY, ip);\nmqProperties.put(MQConstants.PORT_PROPERTY, port);\nmqProperties.put(MQConstants.USER_ID_PROPERTY, username);\nmqProperties.put(MQConstants.PASSWORD_PROPERTY, password);\nmqProperties.put(MQConstants.CHANNEL_PROPERTY, channelName);\nmqProperties.put(MQConstants.CCSID_PROPERTY, &quot;1098&quot;);\n\nqueueManager = new MQQueueManager(queueManagerName, mqProperties);\n</code></pre>\n<p>and no problem. I port my connect source to maven app and use latest version of MQ access lib</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n    &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\n    &lt;version&gt;9.3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Same source cannot connect and get 2035 error (user)?</p>\n<pre><code>ReaderQueueThread.openQueue(), Queue_UserName &lt;suny&gt; is not Valid!MQJE001: Completion Code '2', Reason '2035'.\n</code></pre>\n<p>What should I do more to connect? My env is windows 10 and MQ 7.5 on win 2008.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":403614,"reputation":6062,"user_id":771469,"accept_rate":82,"display_name":"SteeveDroz"},"score":4,"creation_date":1310027935,"post_id":6607888,"comment_id":7798463,"body_markdown":"What exactly do you want? You can&#39;t compare a `String` to an `ArrayList`. Be precise and show what you did until now.","body":"What exactly do you want? You can&#39;t compare a <code>String</code> to an <code>ArrayList</code>. Be precise and show what you did until now."},{"owner":{"account_id":61630,"reputation":38257,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"score":1,"creation_date":1310027984,"post_id":6607888,"comment_id":7798477,"body_markdown":"What do you mean &quot;compare&quot;? Do you mean check if the ArrayList contains a particular String?","body":"What do you mean &quot;compare&quot;? Do you mean check if the ArrayList contains a particular String?"},{"owner":{"account_id":778958,"reputation":139,"user_id":833154,"display_name":"shiva"},"score":0,"creation_date":1310028276,"post_id":6607888,"comment_id":7798539,"body_markdown":"ya i want to check one sting whether it is present in ArrayList or not? in java","body":"ya i want to check one sting whether it is present in ArrayList or not? in java"}],"answers":[{"comments":[{"owner":{"account_id":3002414,"reputation":361,"user_id":2547647,"display_name":"Tadeu Jr."},"score":0,"creation_date":1496263456,"post_id":6607924,"comment_id":75595087,"body_markdown":"Arrays.asList(&quot;abc&quot;,&quot;xyz&quot;).contains(&quot;abc&quot;);","body":"Arrays.asList(&quot;abc&quot;,&quot;xyz&quot;).contains(&quot;abc&quot;);"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1310027982,"creation_date":1310027982,"answer_id":6607924,"question_id":6607888,"body_markdown":"Look at the [List&lt;T&gt;#contains(T obj)][1] method, like this:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;abc&quot;);\r\n    list.add(&quot;xyz&quot;);\r\n    list.contains(&quot;abc&quot;); // true\r\n    list.contains(&quot;foo&quot;); // false\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#contains%28java.lang.Object%29\r\n","title":"How can I compare String value with ArrayList of String type in Java?","body":"<p>Look at the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#contains%28java.lang.Object%29\" rel=\"noreferrer\">List#contains(T obj)</a> method, like this:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(\"abc\");\nlist.add(\"xyz\");\nlist.contains(\"abc\"); // true\nlist.contains(\"foo\"); // false\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1653666,"reputation":430,"user_id":1523743,"accept_rate":100,"display_name":"instinct"},"score":0,"creation_date":1418812790,"post_id":6607936,"comment_id":43476071,"body_markdown":"just curious about capital A - the first letter in `ArrayList.contains(&quot;StringToBeChecked&quot;);`","body":"just curious about capital A - the first letter in <code>ArrayList.contains(&quot;StringToBeChecked&quot;);</code>"},{"owner":{"account_id":113326,"reputation":2445,"user_id":298522,"accept_rate":71,"display_name":"Logan"},"score":0,"creation_date":1418898982,"post_id":6607936,"comment_id":43515712,"body_markdown":"I didn&#39;t give the exact name of the variable. Gave more of an idea of what can be done. In actual scenario, instead of `ArrayList`, use your variable of type ArrayList.","body":"I didn&#39;t give the exact name of the variable. Gave more of an idea of what can be done. In actual scenario, instead of <code>ArrayList</code>, use your variable of type ArrayList."},{"owner":{"account_id":1653666,"reputation":430,"user_id":1523743,"accept_rate":100,"display_name":"instinct"},"score":0,"creation_date":1418913033,"post_id":6607936,"comment_id":43523934,"body_markdown":"there is a [difference](http://stackoverflow.com/questions/414001/variable-naming-conventions-in-java/414029#414029) between `ArrayList` and `arrayList` isn&#39;t it?","body":"there is a <a href=\"http://stackoverflow.com/questions/414001/variable-naming-conventions-in-java/414029#414029\">difference</a> between <code>ArrayList</code> and <code>arrayList</code> isn&#39;t it?"}],"tags":[],"owner":{"account_id":113326,"reputation":2445,"user_id":298522,"accept_rate":71,"display_name":"Logan"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1310028052,"creation_date":1310028052,"answer_id":6607936,"question_id":6607888,"body_markdown":"Use \r\n\r\n    ArrayList.contains(&quot;StringToBeChecked&quot;);\r\n\r\nIf the String is present in the ArrayList, this function will return true, else will return false.","title":"How can I compare String value with ArrayList of String type in Java?","body":"<p>Use </p>\n\n<pre><code>ArrayList.contains(\"StringToBeChecked\");\n</code></pre>\n\n<p>If the String is present in the ArrayList, this function will return true, else will return false.</p>\n"},{"tags":[],"owner":{"account_id":246003,"reputation":934,"user_id":519859,"accept_rate":64,"display_name":"Java_Waldi"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1478906979,"creation_date":1310028248,"answer_id":6607970,"question_id":6607888,"body_markdown":"This is your method:\r\n\r\n       private boolean containsString(String testString, ArrayList&lt;String&gt; list) \r\n       {\r\n\t\t    return list.contains(testString);\r\n       }","title":"How can I compare String value with ArrayList of String type in Java?","body":"<p>This is your method:</p>\n\n<pre><code>   private boolean containsString(String testString, ArrayList&lt;String&gt; list) \n   {\n        return list.contains(testString);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1310028278,"creation_date":1310028278,"answer_id":6607975,"question_id":6607888,"body_markdown":"There are different options you could consider : \r\n\r\n- a simple for each loop using equals on each member of your list to compare it to string A.\r\n- sorting all strings in list in order to boost up comparison and find if a string in the list matches A.\r\n- using a sortedSet to achieve the above\r\n- putting alls string in the intern string pool using intern method on every item in the list and on string A. This will allow to compare strings using == and not equal anymore. Comparison would then be much faster.\r\n- using a hashmap to achieve better comparison speeds \r\n- an identity hashmap to mix the two preceding strategies.\r\n\r\nWell, the are pros and cons to those methods, it all depends on what you want to do and why and how you compare strings.\r\n\r\nRegards,\r\n St&#233;phane\r\n","title":"How can I compare String value with ArrayList of String type in Java?","body":"<p>There are different options you could consider : </p>\n\n<ul>\n<li>a simple for each loop using equals on each member of your list to compare it to string A.</li>\n<li>sorting all strings in list in order to boost up comparison and find if a string in the list matches A.</li>\n<li>using a sortedSet to achieve the above</li>\n<li>putting alls string in the intern string pool using intern method on every item in the list and on string A. This will allow to compare strings using == and not equal anymore. Comparison would then be much faster.</li>\n<li>using a hashmap to achieve better comparison speeds </li>\n<li>an identity hashmap to mix the two preceding strategies.</li>\n</ul>\n\n<p>Well, the are pros and cons to those methods, it all depends on what you want to do and why and how you compare strings.</p>\n\n<p>Regards,\n St√©phane</p>\n"},{"tags":[],"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1310030572,"creation_date":1310030572,"answer_id":6608412,"question_id":6607888,"body_markdown":"If you are willing to use [Lambdaj][1], then check the presence of the String as:\r\n\r\n    private boolean isContains(ArrayList&lt;String&gt; listOfStrings, String testString) {\r\n        return (Lambda.select(listOfStrings, Matchers.equalTo(testString)).size() != 0);  \r\n    }\r\n\r\nUsing static import of `select` and `equalTo` increase the readability:\r\n\r\n    select(listOfStrings, equalTo(testString));\r\n\r\n  [1]: http://code.google.com/p/lambdaj/","title":"How can I compare String value with ArrayList of String type in Java?","body":"<p>If you are willing to use <a href=\"http://code.google.com/p/lambdaj/\" rel=\"nofollow\">Lambdaj</a>, then check the presence of the String as:</p>\n\n<pre><code>private boolean isContains(ArrayList&lt;String&gt; listOfStrings, String testString) {\n    return (Lambda.select(listOfStrings, Matchers.equalTo(testString)).size() != 0);  \n}\n</code></pre>\n\n<p>Using static import of <code>select</code> and <code>equalTo</code> increase the readability:</p>\n\n<pre><code>select(listOfStrings, equalTo(testString));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user831722"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1310031242,"creation_date":1310031242,"answer_id":6608517,"question_id":6607888,"body_markdown":"ArrayList can contain one or more Strings. You cannot compare String with ArrayList. But you can check whether the ArrayList contains that String ot not using `contains()` method\r\n\r\n    String str = //the string which you want to compare\r\n    ArrayList myArray =// my array list\r\n    boolean isStringExists = myArray.contains(str);// returns true if the array list contains string value as specified by user","title":"How can I compare String value with ArrayList of String type in Java?","body":"<p>ArrayList can contain one or more Strings. You cannot compare String with ArrayList. But you can check whether the ArrayList contains that String ot not using <code>contains()</code> method</p>\n\n<pre><code>String str = //the string which you want to compare\nArrayList myArray =// my array list\nboolean isStringExists = myArray.contains(str);// returns true if the array list contains string value as specified by user\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17428198,"reputation":4384,"user_id":12632699,"display_name":"SwissCodeMen"},"score":0,"creation_date":1681641624,"post_id":76021751,"comment_id":134086331,"body_markdown":"Please add an explanation","body":"Please add an explanation"}],"tags":[],"owner":{"account_id":28312309,"reputation":1,"user_id":21649391,"display_name":"Saidurga Padala"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681661045,"creation_date":1681555382,"answer_id":76021751,"question_id":6607888,"body_markdown":"Convert your Array to Array list first\r\n\r\n    List al = Arrays.asList(&quot;Your Array&quot;);\r\n\r\nThen compare using contains or equals\r\n\r\n    if (al.contains(&quot;Your String&quot;) {\r\n        // Code\r\n    }","title":"How can I compare String value with ArrayList of String type in Java?","body":"<p>Convert your Array to Array list first</p>\n<pre><code>List al = Arrays.asList(&quot;Your Array&quot;);\n</code></pre>\n<p>Then compare using contains or equals</p>\n<pre><code>if (al.contains(&quot;Your String&quot;) {\n    // Code\n}\n</code></pre>\n"}],"owner":{"account_id":778958,"reputation":139,"user_id":833154,"display_name":"shiva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132610,"favorite_count":0,"down_vote_count":2,"up_vote_count":14,"answer_count":7,"score":12,"last_activity_date":1681661045,"creation_date":1310027827,"question_id":6607888,"body_markdown":"My requirement is comparing `String` to `ArrayList` which contains a list of strings. Can any one suggest me?","title":"How can I compare String value with ArrayList of String type in Java?","body":"<p>My requirement is comparing <code>String</code> to <code>ArrayList</code> which contains a list of strings. Can any one suggest me?</p>\n"},{"tags":["java","driver"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1362884781,"post_id":15318431,"comment_id":21627366,"body_markdown":"Without any context the question doesn&#39;t make much sense.","body":"Without any context the question doesn&#39;t make much sense."}],"answers":[{"comments":[{"owner":{"account_id":2454244,"reputation":49,"user_id":2139814,"display_name":"Mah1990"},"score":0,"creation_date":1362889227,"post_id":15318483,"comment_id":21628100,"body_markdown":"which mean that i have to write all the  methods and constructors in the class and that i might invoke my methods and the main method from the driver class .?","body":"which mean that i have to write all the  methods and constructors in the class and that i might invoke my methods and the main method from the driver class .?"},{"owner":{"account_id":463810,"reputation":10498,"user_id":866930,"display_name":"jrd1"},"score":1,"creation_date":1362889915,"post_id":15318483,"comment_id":21628211,"body_markdown":"@Mah1990, Correct. You will have to write all your methods in one class, and then instantiate that class and use its methods and constructors from the main method of the driver class.","body":"@Mah1990, Correct. You will have to write all your methods in one class, and then instantiate that class and use its methods and constructors from the main method of the driver class."},{"owner":{"account_id":2454244,"reputation":49,"user_id":2139814,"display_name":"Mah1990"},"score":0,"creation_date":1362970192,"post_id":15318483,"comment_id":21648972,"body_markdown":"jrd1 , Thank you...i&#39;m gonna try my code in see what&#39;s gonna happen.","body":"jrd1 , Thank you...i&#39;m gonna try my code in see what&#39;s gonna happen."},{"owner":{"account_id":17823878,"reputation":1064,"user_id":12945569,"display_name":"Fr&#233;d&#233;ric LOYER"},"score":0,"creation_date":1681245622,"post_id":15318483,"comment_id":134024953,"body_markdown":"I have looked at your link. It propose the specification of a JDBC driver. Something which handle the JDBC interface. https://docs.oracle.com/javase/6/docs/api/java/sql/Driver.html no relationship with `main`.","body":"I have looked at your link. It propose the specification of a JDBC driver. Something which handle the JDBC interface. <a href=\"https://docs.oracle.com/javase/6/docs/api/java/sql/Driver.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/sql/Driver.html</a> no relationship with <code>main</code>."},{"owner":{"account_id":463810,"reputation":10498,"user_id":866930,"display_name":"jrd1"},"score":0,"creation_date":1681247287,"post_id":15318483,"comment_id":134025295,"body_markdown":"@Fr&#233;d&#233;ricLOYER Thank you for your comment. The URL you&#39;ve included is one from the related answers to the one I referenced. Please note that the answer to which you&#39;re referring clearly states that *without context* a &quot;driver class&quot; *could refer* the SQL driver class. In this case, it&#39;s not based on usage at the time (also evidenced by the content of the related answer to the linked question). Granted, things have changed since this answer was posted in 2013. Now, the nomenclature and usage has shifted to refer to the JDBC class as evidenced by Google","body":"@Fr&#233;d&#233;ricLOYER Thank you for your comment. The URL you&#39;ve included is one from the related answers to the one I referenced. Please note that the answer to which you&#39;re referring clearly states that <i>without context</i> a &quot;driver class&quot; <i>could refer</i> the SQL driver class. In this case, it&#39;s not based on usage at the time (also evidenced by the content of the related answer to the linked question). Granted, things have changed since this answer was posted in 2013. Now, the nomenclature and usage has shifted to refer to the JDBC class as evidenced by Google"},{"owner":{"account_id":17823878,"reputation":1064,"user_id":12945569,"display_name":"Fr&#233;d&#233;ric LOYER"},"score":0,"creation_date":1681247583,"post_id":15318483,"comment_id":134025338,"body_markdown":"I havn&#39;t understood &quot;Now, the nomenclature and usage has shifted to refer to the JDBC class as evidenced by Google&quot;. Do you mean &quot;driver&quot; no longer designate uniquely dynamically loaded classes which implements an interface (JDBC is only one example). This is a common meaning (a OS driver is similar : a bunch of code which implement an interface)","body":"I havn&#39;t understood &quot;Now, the nomenclature and usage has shifted to refer to the JDBC class as evidenced by Google&quot;. Do you mean &quot;driver&quot; no longer designate uniquely dynamically loaded classes which implements an interface (JDBC is only one example). This is a common meaning (a OS driver is similar : a bunch of code which implement an interface)"},{"owner":{"account_id":463810,"reputation":10498,"user_id":866930,"display_name":"jrd1"},"score":0,"creation_date":1681247838,"post_id":15318483,"comment_id":134025383,"body_markdown":"@Fr&#233;d&#233;ricLOYER It still is that - what I mean is that over time the Google results are more likely to show the JDBC driver and related classes. Namely, the results returned by a Google search without context are now more likely to show the JDBC results higher up","body":"@Fr&#233;d&#233;ricLOYER It still is that - what I mean is that over time the Google results are more likely to show the JDBC driver and related classes. Namely, the results returned by a Google search without context are now more likely to show the JDBC results higher up"}],"tags":[],"owner":{"account_id":463810,"reputation":10498,"user_id":866930,"display_name":"jrd1"},"comment_count":7,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1681660735,"creation_date":1362885233,"answer_id":15318483,"question_id":15318431,"body_markdown":"As referenced from here:\r\n\r\nhttps://stackoverflow.com/questions/765751/what-is-a-driver-class-java\r\n\r\n&gt; A &quot;Driver class&quot; is often just the class that contains a main. In a real project, you may often have numerous &quot;Driver classes&quot; for testing and whatnot, or you can build a main into any of your objects and select the runnable class through your IDE, or by simply specifying &quot;java classname.&quot;\r\n\r\nExample:\r\n\r\nThis is not a driver class since it doesn&#39;t contain any main method. In this case, it has the method `hello`:\r\n\r\n    public class HelloWorld {\r\n        public void hello() {\r\n            System.out.println(&quot;Hello, world!&quot;);\r\n        }\r\n    }\r\n\r\nVersus this one - which is a driver class since it contains a `main` method, **and** is the class that **runs** `HelloWorld`:\r\n \r\n    public class HelloWorldDriver {\r\n        public static void main(String[] args) {\r\n            HelloWorld sayhello = new HelloWorld();\r\n            sayhello.hello();\r\n        }\r\n    }\r\n\r\nHence the name &quot;driver class&quot; - as the class `HelloWorldDriver` &quot;_drives_&quot; or rather, _controls_ the instantiation and usage of the class `HelloWorld`.","title":"Java Driver Program?","body":"<p>As referenced from here:</p>\n<p><a href=\"https://stackoverflow.com/questions/765751/what-is-a-driver-class-java\">What is a &quot;driver class&quot;?</a></p>\n<blockquote>\n<p>A &quot;Driver class&quot; is often just the class that contains a main. In a real project, you may often have numerous &quot;Driver classes&quot; for testing and whatnot, or you can build a main into any of your objects and select the runnable class through your IDE, or by simply specifying &quot;java classname.&quot;</p>\n</blockquote>\n<p>Example:</p>\n<p>This is not a driver class since it doesn't contain any main method. In this case, it has the method <code>hello</code>:</p>\n<pre><code>public class HelloWorld {\n    public void hello() {\n        System.out.println(&quot;Hello, world!&quot;);\n    }\n}\n</code></pre>\n<p>Versus this one - which is a driver class since it contains a <code>main</code> method, <strong>and</strong> is the class that <strong>runs</strong> <code>HelloWorld</code>:</p>\n<pre><code>public class HelloWorldDriver {\n    public static void main(String[] args) {\n        HelloWorld sayhello = new HelloWorld();\n        sayhello.hello();\n    }\n}\n</code></pre>\n<p>Hence the name &quot;driver class&quot; - as the class <code>HelloWorldDriver</code> &quot;<em>drives</em>&quot; or rather, <em>controls</em> the instantiation and usage of the class <code>HelloWorld</code>.</p>\n"},{"comments":[{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1681660906,"post_id":75989949,"comment_id":134088907,"body_markdown":"Other than the class being named `Driver`, what does this have to do with the question?","body":"Other than the class being named <code>Driver</code>, what does this have to do with the question?"}],"tags":[],"owner":{"account_id":25121422,"reputation":11,"user_id":18969715,"display_name":"rmazur7831"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1681660111,"creation_date":1681245374,"answer_id":75989949,"question_id":15318431,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    public class Driver {\r\n        private static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;();\r\n        // Instance variables (if needed)\r\n        private static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;();\r\n        public static void main(String[] args) {\r\n        \tString userInput;\r\n    \r\n            initializeDogList();\r\n            initializeMonkeyList();\r\n            displayMenu();\r\n            Scanner scanner = new Scanner(System.in);\r\n            userInput = scanner.next().toUpperCase();\r\n            while (userInput != &quot;Q&quot;) {\r\n            \tif ((userInput != &quot;1&quot;) &amp;&amp; (userInput != &quot;2&quot;) &amp;&amp; (userInput != &quot;3&quot;) \r\n            \t\t\t&amp;&amp; (userInput != &quot;4&quot;) &amp;&amp; (userInput != &quot;5&quot;) &amp;&amp; (userInput != &quot;6&quot;)) {\r\n            \t\tSystem.out.println(&quot;Invalid Entry&quot;);\r\n            \t\tdisplayMenu();\r\n            \t\tuserInput = scanner.next().toUpperCase();\r\n            \t}\r\n            \telse if (userInput == &quot;1&quot;) {\r\n            \t\tintakeNewDog(scanner);\r\n            \t\tbreak;\r\n            \t}\r\n            \telse if (userInput == &quot;2&quot;) {\r\n            \t\tintakeNewMonkey(scanner);\r\n            \t\tbreak;\r\n            \t}\r\n            \telse if (userInput == &quot;3&quot;) {\r\n            \t\treserveAnimal(scanner);\r\n            \t\tbreak;\r\n            \t}\r\n            \telse if (userInput == &quot;4&quot;) {\r\n            \t\tint number = Integer.parseInt(userInput);\r\n            \t\tprintAnimals(number);\r\n            \t\tbreak;\r\n            \t}\r\n            \telse if (userInput == &quot;5&quot;) {\r\n            \t\tint number = Integer.parseInt(userInput);\r\n            \t\tprintAnimals(number);\r\n            \t\tbreak;\r\n            \t}\r\n            \telse if (userInput == &quot;6&quot;) {\r\n            \t\tint number = Integer.parseInt(userInput);\r\n            \t\tprintAnimals(number);\r\n            \t\tbreak;\r\n            \t}\r\n            }\r\n        }\r\n        // This method prints the menu options\r\n        public static void displayMenu() {\r\n            System.out.println(&quot;\\n\\n&quot;);\r\n            System.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\r\n            System.out.println(&quot;[1] Intake a new dog&quot;);\r\n            System.out.println(&quot;[2] Intake a new monkey&quot;);\r\n            System.out.println(&quot;[3] Reserve an animal&quot;);\r\n            System.out.println(&quot;[4] Print a list of all dogs&quot;);\r\n            System.out.println(&quot;[5] Print a list of all monkeys&quot;);\r\n            System.out.println(&quot;[6] Print a list of all animals that are not reserved&quot;);\r\n            System.out.println(&quot;[q] Quit application&quot;);\r\n            System.out.println();\r\n            System.out.println(&quot;Enter a menu selection&quot;);\r\n        }\r\n        // Adds dogs to a list for testing\r\n        public static void initializeDogList() {\r\n            Dog dog1 = new Dog(&quot;Moca&quot;, &quot;German Shepherd&quot;, &quot;male&quot;, &quot;1&quot;, &quot;25.6&quot;, &quot;05-12-2019&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\r\n            Dog dog2 = new Dog(&quot;Smokey&quot;, &quot;Great Dane&quot;, &quot;male&quot;, &quot;3&quot;, &quot;35.2&quot;, &quot;02-03-2020&quot;, &quot;United States&quot;, &quot;Phase I&quot;, false, &quot;United States&quot;);\r\n            Dog dog3 = new Dog(&quot;Pickles&quot;, &quot;Chihuahua&quot;, &quot;female&quot;, &quot;4&quot;, &quot;25.6&quot;, &quot;12-12-2019&quot;, &quot;Canada&quot;, &quot;in service&quot;, true, &quot;Canada&quot;);\r\n    \r\n            dogList.add(dog1);\r\n            dogList.add(dog2);\r\n            dogList.add(dog3);\r\n        }\r\n    \r\n        // Adds monkeys to a list for testing\r\n        //Optional for testing\r\n        public static void initializeMonkeyList() {\r\n        \tMonkey monkey1 = new Monkey(&quot;Chuckles&quot;, &quot;Mandorin&quot;, &quot;Female&quot;, &quot;2&quot;, &quot;200&quot;, &quot;8&#39;3&quot;, &quot;2&#39;&quot;, &quot;Normal&quot;, &quot;4/10/2023&quot;, &quot;South America&quot;, &quot;trained&quot;, &quot;reserved&quot;, &quot;service&quot;);\r\n            Monkey monkey2 = new Monkey(&quot;Nitro&quot;, &quot;Chimpanzee&quot;, &quot;Male&quot;, &quot;3&quot;, &quot;400&quot;, &quot;7&quot;, &quot;10&#39;&quot;, &quot;Muscular&quot;, &quot;4/10/2023&quot;, &quot;United States&quot;, &quot;Rescue&quot;, &quot;reserved&quot;, &quot;service Bouncer&quot;);\r\n            Monkey monkey3 = new Monkey(&quot;Flower&quot;, &quot;Mandorin&quot;, &quot;Female&quot;, &quot;2&quot;, &quot;50&quot;, &quot;2&quot;, &quot;6&#39;&quot;,&quot;Normal&quot;, &quot;4/10/2023&quot;, &quot;Turkey&quot;, &quot;trained&quot;, &quot;Rescue&quot;, &quot;service&quot;);\r\n            \r\n            monkeyList.add(monkey1);\r\n            monkeyList.add(monkey2);\r\n            monkeyList.add(monkey3);\r\n    \r\n        }\r\n        public static void intakeNewDog(Scanner scanner) {\r\n            System.out.println(&quot;What is the dog&#39;s name?&quot;);\r\n            String name = scanner.nextLine();\r\n            for(Dog dog: dogList) {\r\n                if(dog.getName().equalsIgnoreCase(name)) {\r\n                    System.out.println(&quot;\\n\\nThis dog is already in our system\\n\\n&quot;);\r\n                    return; //returns to menu\r\n                }\r\n            }\r\n            System.out.println(&quot;What is the dog&#39;s breed?&quot;);\r\n            String breed = scanner.nextLine();\r\n            System.out.println(&quot;What is the dog&#39;s gender?&quot;);\r\n            String gender = scanner.nextLine();\r\n            System.out.println(&quot;What is the dog&#39;s age?&quot;);\r\n            String age = scanner.nextLine();\r\n            System.out.println(&quot;What is the dog&#39;s weight?&quot;);\r\n            String weight = scanner.nextLine();\r\n            System.out.println(&quot;What is the dog&#39;s acquisition date?&quot;);\r\n            String acquisitionDate = scanner.nextLine();\r\n            System.out.println(&quot;What is the dog&#39;s acquisition location?&quot;);\r\n            String acquisitionCountry = scanner.nextLine();\r\n            System.out.println(&quot;What is the dog&#39;s training status?&quot;);\r\n            String trainingStatus = scanner.nextLine();\r\n            System.out.println(&quot;Is the dog reserved?&quot;);\r\n            boolean reserved = scanner.nextBoolean();\r\n            System.out.println(&quot;What is the dog&#39;s service country?&quot;);\r\n            String inServiceCountry = scanner.nextLine();\r\n            \r\n            Dog newDog = new Dog(name, breed, gender, age, weight, acquisitionDate, acquisitionCountry, trainingStatus, reserved, inServiceCountry);\r\n            dogList.add(newDog);\r\n            System.out.println(&quot;Dog added to list&quot;);\r\n    \r\n        }\r\n        public static void intakeNewMonkey(Scanner scanner) {\r\n        \tSystem.out.println(&quot;What is the monkey&#39;s name?&quot;);\r\n            String name = scanner.nextLine();\r\n            for(Monkey monkey: monkeyList) {\r\n                if(monkey.getName().equalsIgnoreCase(name)) {\r\n                    System.out.println(&quot;\\n\\nThis monkey is already in our system\\n\\n&quot;);\r\n                    return; //returns to menu\r\n                }\r\n            }\r\n            System.out.println(&quot;What is the monkey&#39;s species?&quot;);\r\n            String species = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s gender?&quot;);\r\n            String gender = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s age?&quot;);\r\n            String age = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s weight?&quot;);\r\n            String weight = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s height?&quot;);\r\n            String height = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s tail length?&quot;);\r\n            String tail = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s body length?&quot;);\r\n            String body = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s acquisition date?&quot;);\r\n            String date = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s acquisition location?&quot;);\r\n            String country = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s training status?&quot;);\r\n            String training = scanner.nextLine();\r\n            System.out.println(&quot;Is the monkey reserved?&quot;);\r\n            boolean reserved = scanner.nextBoolean();\r\n            System.out.println(&quot;What is the monkey&#39;s service country?&quot;);\r\n            String service = scanner.nextLine();\r\n            \r\n            Monkey newMonkey = new Monkey(name, species, gender, age, weight, height, tail, body, date, country, training, reserved, service);\r\n            monkeyList.add(newMonkey);\r\n            System.out.println(&quot;Monkey added to list&quot;);\r\n        }\r\n        public static void reserveAnimal(Scanner scanner) {\r\n        \tscanner.nextLine();\r\n            System.out.println(&quot;Enter animal type: &quot;);\r\n            String animalType = scanner.nextLine();\r\n            if (animalType.equalsIgnoreCase(&quot;Monkey&quot;)) {\r\n                System.out.println(&quot;Enter the monkey&#39;s country of acquisiton: &quot;);\r\n                String country = scanner.nextLine();\r\n                for(Monkey obj: monkeyList) {\r\n                    if(obj.getAcquisitionLocation().equalsIgnoreCase(country)) {\r\n                        obj.setReserved(true);\r\n                        System.out.println(&quot;This monkey is now reserved.&quot;);\r\n                        return;\r\n                    }\r\n                }\r\n                System.out.println(&quot;The monkey entered is not in the list&quot;);\r\n            }\r\n            else if (animalType.equalsIgnoreCase(&quot;Dog&quot;)) {\r\n                System.out.println(&quot;Enter the dog&#39;s country of acquisition: &quot;);\r\n                String country = scanner.nextLine();\r\n                for(Dog obj: dogList){\r\n                    if(obj.getAcquisitionLocation().equalsIgnoreCase(country)){\r\n                        obj.setReserved(true);\r\n                        System.out.println(&quot;This dog is now reserved.&quot;);\r\n                        return;\r\n                    }\r\n                }\r\n                System.out.println(&quot;The dog entered is not in the list&quot;);\r\n            } else {\r\n                System.out.println(&quot;Type not found&quot;);\r\n            }\r\n        }\r\n        public static void printAnimals(int option) {\r\n        \tif (option == &#39;4&#39;) {\r\n                System.out.println(dogList);\r\n            }\r\n            else if (option == &#39;5&#39;) {\r\n                System.out.println(monkeyList);\r\n            }\r\n            else if (option == &#39;6&#39;) {\r\n                // Iterates through dogs\r\n                for (int i = 0; i &lt; dogList.size(); i++) {\r\n                    if (dogList.get(i).getTrainingStatus().equals(&quot;in service&quot;) &amp;&amp; \r\n            dogList.get(i).getReserved()==false) {\r\n                        // Prints dogs that are in service and available\r\n                        System.out.println(dogList.get(i));\r\n                    }\r\n                }\r\n                // Iterates through monkeys\r\n                for (int i = 0; i &lt; monkeyList.size(); i++) {\r\n                    if (monkeyList.get(i).getTrainingStatus().equalsIgnoreCase(&quot;in service&quot;) &amp;&amp; \r\n                monkeyList.get(i).getReserved()==false) {\r\n                        // Prints monkeys that are in service and available\r\n                        System.out.println(monkeyList.get(i));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"Java Driver Program?","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\npublic class Driver {\n    private static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;();\n    // Instance variables (if needed)\n    private static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;();\n    public static void main(String[] args) {\n        String userInput;\n\n        initializeDogList();\n        initializeMonkeyList();\n        displayMenu();\n        Scanner scanner = new Scanner(System.in);\n        userInput = scanner.next().toUpperCase();\n        while (userInput != &quot;Q&quot;) {\n            if ((userInput != &quot;1&quot;) &amp;&amp; (userInput != &quot;2&quot;) &amp;&amp; (userInput != &quot;3&quot;) \n                    &amp;&amp; (userInput != &quot;4&quot;) &amp;&amp; (userInput != &quot;5&quot;) &amp;&amp; (userInput != &quot;6&quot;)) {\n                System.out.println(&quot;Invalid Entry&quot;);\n                displayMenu();\n                userInput = scanner.next().toUpperCase();\n            }\n            else if (userInput == &quot;1&quot;) {\n                intakeNewDog(scanner);\n                break;\n            }\n            else if (userInput == &quot;2&quot;) {\n                intakeNewMonkey(scanner);\n                break;\n            }\n            else if (userInput == &quot;3&quot;) {\n                reserveAnimal(scanner);\n                break;\n            }\n            else if (userInput == &quot;4&quot;) {\n                int number = Integer.parseInt(userInput);\n                printAnimals(number);\n                break;\n            }\n            else if (userInput == &quot;5&quot;) {\n                int number = Integer.parseInt(userInput);\n                printAnimals(number);\n                break;\n            }\n            else if (userInput == &quot;6&quot;) {\n                int number = Integer.parseInt(userInput);\n                printAnimals(number);\n                break;\n            }\n        }\n    }\n    // This method prints the menu options\n    public static void displayMenu() {\n        System.out.println(&quot;\\n\\n&quot;);\n        System.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\n        System.out.println(&quot;[1] Intake a new dog&quot;);\n        System.out.println(&quot;[2] Intake a new monkey&quot;);\n        System.out.println(&quot;[3] Reserve an animal&quot;);\n        System.out.println(&quot;[4] Print a list of all dogs&quot;);\n        System.out.println(&quot;[5] Print a list of all monkeys&quot;);\n        System.out.println(&quot;[6] Print a list of all animals that are not reserved&quot;);\n        System.out.println(&quot;[q] Quit application&quot;);\n        System.out.println();\n        System.out.println(&quot;Enter a menu selection&quot;);\n    }\n    // Adds dogs to a list for testing\n    public static void initializeDogList() {\n        Dog dog1 = new Dog(&quot;Moca&quot;, &quot;German Shepherd&quot;, &quot;male&quot;, &quot;1&quot;, &quot;25.6&quot;, &quot;05-12-2019&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\n        Dog dog2 = new Dog(&quot;Smokey&quot;, &quot;Great Dane&quot;, &quot;male&quot;, &quot;3&quot;, &quot;35.2&quot;, &quot;02-03-2020&quot;, &quot;United States&quot;, &quot;Phase I&quot;, false, &quot;United States&quot;);\n        Dog dog3 = new Dog(&quot;Pickles&quot;, &quot;Chihuahua&quot;, &quot;female&quot;, &quot;4&quot;, &quot;25.6&quot;, &quot;12-12-2019&quot;, &quot;Canada&quot;, &quot;in service&quot;, true, &quot;Canada&quot;);\n\n        dogList.add(dog1);\n        dogList.add(dog2);\n        dogList.add(dog3);\n    }\n\n    // Adds monkeys to a list for testing\n    //Optional for testing\n    public static void initializeMonkeyList() {\n        Monkey monkey1 = new Monkey(&quot;Chuckles&quot;, &quot;Mandorin&quot;, &quot;Female&quot;, &quot;2&quot;, &quot;200&quot;, &quot;8'3&quot;, &quot;2'&quot;, &quot;Normal&quot;, &quot;4/10/2023&quot;, &quot;South America&quot;, &quot;trained&quot;, &quot;reserved&quot;, &quot;service&quot;);\n        Monkey monkey2 = new Monkey(&quot;Nitro&quot;, &quot;Chimpanzee&quot;, &quot;Male&quot;, &quot;3&quot;, &quot;400&quot;, &quot;7&quot;, &quot;10'&quot;, &quot;Muscular&quot;, &quot;4/10/2023&quot;, &quot;United States&quot;, &quot;Rescue&quot;, &quot;reserved&quot;, &quot;service Bouncer&quot;);\n        Monkey monkey3 = new Monkey(&quot;Flower&quot;, &quot;Mandorin&quot;, &quot;Female&quot;, &quot;2&quot;, &quot;50&quot;, &quot;2&quot;, &quot;6'&quot;,&quot;Normal&quot;, &quot;4/10/2023&quot;, &quot;Turkey&quot;, &quot;trained&quot;, &quot;Rescue&quot;, &quot;service&quot;);\n        \n        monkeyList.add(monkey1);\n        monkeyList.add(monkey2);\n        monkeyList.add(monkey3);\n\n    }\n    public static void intakeNewDog(Scanner scanner) {\n        System.out.println(&quot;What is the dog's name?&quot;);\n        String name = scanner.nextLine();\n        for(Dog dog: dogList) {\n            if(dog.getName().equalsIgnoreCase(name)) {\n                System.out.println(&quot;\\n\\nThis dog is already in our system\\n\\n&quot;);\n                return; //returns to menu\n            }\n        }\n        System.out.println(&quot;What is the dog's breed?&quot;);\n        String breed = scanner.nextLine();\n        System.out.println(&quot;What is the dog's gender?&quot;);\n        String gender = scanner.nextLine();\n        System.out.println(&quot;What is the dog's age?&quot;);\n        String age = scanner.nextLine();\n        System.out.println(&quot;What is the dog's weight?&quot;);\n        String weight = scanner.nextLine();\n        System.out.println(&quot;What is the dog's acquisition date?&quot;);\n        String acquisitionDate = scanner.nextLine();\n        System.out.println(&quot;What is the dog's acquisition location?&quot;);\n        String acquisitionCountry = scanner.nextLine();\n        System.out.println(&quot;What is the dog's training status?&quot;);\n        String trainingStatus = scanner.nextLine();\n        System.out.println(&quot;Is the dog reserved?&quot;);\n        boolean reserved = scanner.nextBoolean();\n        System.out.println(&quot;What is the dog's service country?&quot;);\n        String inServiceCountry = scanner.nextLine();\n        \n        Dog newDog = new Dog(name, breed, gender, age, weight, acquisitionDate, acquisitionCountry, trainingStatus, reserved, inServiceCountry);\n        dogList.add(newDog);\n        System.out.println(&quot;Dog added to list&quot;);\n\n    }\n    public static void intakeNewMonkey(Scanner scanner) {\n        System.out.println(&quot;What is the monkey's name?&quot;);\n        String name = scanner.nextLine();\n        for(Monkey monkey: monkeyList) {\n            if(monkey.getName().equalsIgnoreCase(name)) {\n                System.out.println(&quot;\\n\\nThis monkey is already in our system\\n\\n&quot;);\n                return; //returns to menu\n            }\n        }\n        System.out.println(&quot;What is the monkey's species?&quot;);\n        String species = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's gender?&quot;);\n        String gender = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's age?&quot;);\n        String age = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's weight?&quot;);\n        String weight = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's height?&quot;);\n        String height = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's tail length?&quot;);\n        String tail = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's body length?&quot;);\n        String body = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's acquisition date?&quot;);\n        String date = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's acquisition location?&quot;);\n        String country = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's training status?&quot;);\n        String training = scanner.nextLine();\n        System.out.println(&quot;Is the monkey reserved?&quot;);\n        boolean reserved = scanner.nextBoolean();\n        System.out.println(&quot;What is the monkey's service country?&quot;);\n        String service = scanner.nextLine();\n        \n        Monkey newMonkey = new Monkey(name, species, gender, age, weight, height, tail, body, date, country, training, reserved, service);\n        monkeyList.add(newMonkey);\n        System.out.println(&quot;Monkey added to list&quot;);\n    }\n    public static void reserveAnimal(Scanner scanner) {\n        scanner.nextLine();\n        System.out.println(&quot;Enter animal type: &quot;);\n        String animalType = scanner.nextLine();\n        if (animalType.equalsIgnoreCase(&quot;Monkey&quot;)) {\n            System.out.println(&quot;Enter the monkey's country of acquisiton: &quot;);\n            String country = scanner.nextLine();\n            for(Monkey obj: monkeyList) {\n                if(obj.getAcquisitionLocation().equalsIgnoreCase(country)) {\n                    obj.setReserved(true);\n                    System.out.println(&quot;This monkey is now reserved.&quot;);\n                    return;\n                }\n            }\n            System.out.println(&quot;The monkey entered is not in the list&quot;);\n        }\n        else if (animalType.equalsIgnoreCase(&quot;Dog&quot;)) {\n            System.out.println(&quot;Enter the dog's country of acquisition: &quot;);\n            String country = scanner.nextLine();\n            for(Dog obj: dogList){\n                if(obj.getAcquisitionLocation().equalsIgnoreCase(country)){\n                    obj.setReserved(true);\n                    System.out.println(&quot;This dog is now reserved.&quot;);\n                    return;\n                }\n            }\n            System.out.println(&quot;The dog entered is not in the list&quot;);\n        } else {\n            System.out.println(&quot;Type not found&quot;);\n        }\n    }\n    public static void printAnimals(int option) {\n        if (option == '4') {\n            System.out.println(dogList);\n        }\n        else if (option == '5') {\n            System.out.println(monkeyList);\n        }\n        else if (option == '6') {\n            // Iterates through dogs\n            for (int i = 0; i &lt; dogList.size(); i++) {\n                if (dogList.get(i).getTrainingStatus().equals(&quot;in service&quot;) &amp;&amp; \n        dogList.get(i).getReserved()==false) {\n                    // Prints dogs that are in service and available\n                    System.out.println(dogList.get(i));\n                }\n            }\n            // Iterates through monkeys\n            for (int i = 0; i &lt; monkeyList.size(); i++) {\n                if (monkeyList.get(i).getTrainingStatus().equalsIgnoreCase(&quot;in service&quot;) &amp;&amp; \n            monkeyList.get(i).getReserved()==false) {\n                    // Prints monkeys that are in service and available\n                    System.out.println(monkeyList.get(i));\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2454244,"reputation":49,"user_id":2139814,"display_name":"Mah1990"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61925,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":2,"score":3,"last_activity_date":1681660735,"creation_date":1362884620,"question_id":15318431,"body_markdown":"I&#39;m really confused about Java classes and driver programs. What is the syntax of the code for a driver program and what should and should not be inside it? For the driver program we need perhaps to have a main program inside it but what about the Java class, don&#39;t we need to have any?\r\n\r\nDo I need to have this for both the Java class and the driver program or only in the driver:\r\n```\r\npublic static void main(String[] args) {\r\n\r\n}\r\n```","title":"Java Driver Program?","body":"<p>I'm really confused about Java classes and driver programs. What is the syntax of the code for a driver program and what should and should not be inside it? For the driver program we need perhaps to have a main program inside it but what about the Java class, don't we need to have any?</p>\n<p>Do I need to have this for both the Java class and the driver program or only in the driver:</p>\n<pre><code>public static void main(String[] args) {\n\n}\n</code></pre>\n"},{"tags":["java","javassist","javaagents","bcel"],"answers":[{"tags":[],"owner":{"account_id":14159226,"reputation":35,"user_id":10228983,"display_name":"Jordan Tan Jun Wen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681660609,"creation_date":1681660609,"answer_id":76028810,"question_id":76028633,"body_markdown":"Can use \r\n```\r\nfor (Method method : classfile.getMethods()) {\r\n```\r\n\r\nwhich is under the same BCEL library","title":"get Javassist MethodInfo from Apache BCEL JavaClass","body":"<p>Can use</p>\n<pre><code>for (Method method : classfile.getMethods()) {\n</code></pre>\n<p>which is under the same BCEL library</p>\n"}],"owner":{"account_id":14159226,"reputation":35,"user_id":10228983,"display_name":"Jordan Tan Jun Wen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681660609,"creation_date":1681658743,"question_id":76028633,"body_markdown":"I recently wanted to make this github project[Whyline][1] to use library instead of writing own code. This project has a javaagent and I am stucked in the whyline/tracing/ClassInstrumener.java class. So I found out that Apache BCEL and Javassist has classes that can replace existing code but I do not know how to replace this to fit the for loop\r\n```\r\nfor (MethodInfo method : classfile.getDeclaredMethods()) {\r\n```\r\n\r\nclassfile is an instance of org.apache.bcel.classfile.JavaClass but MethodInfo is an instance of javassist.bytecode.MethodInfo\r\n\r\n  [1]: https://github.com/amyjko/whyline","title":"get Javassist MethodInfo from Apache BCEL JavaClass","body":"<p>I recently wanted to make this github project<a href=\"https://github.com/amyjko/whyline\" rel=\"nofollow noreferrer\">Whyline</a> to use library instead of writing own code. This project has a javaagent and I am stucked in the whyline/tracing/ClassInstrumener.java class. So I found out that Apache BCEL and Javassist has classes that can replace existing code but I do not know how to replace this to fit the for loop</p>\n<pre><code>for (MethodInfo method : classfile.getDeclaredMethods()) {\n</code></pre>\n<p>classfile is an instance of org.apache.bcel.classfile.JavaClass but MethodInfo is an instance of javassist.bytecode.MethodInfo</p>\n"},{"tags":["java","android","android-service","alarmmanager","foreground-service"],"owner":{"account_id":14501274,"reputation":1,"user_id":10474377,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681660574,"creation_date":1681660574,"question_id":76028805,"body_markdown":"**Background and flow**:\r\n\r\nI&#39;m building the app for Android API 31+. (Tested on an Andorid 33/31 hardware) \r\nMy app should work as an alarm clock but with a logical check before sounding the alarm, the logical check uses data from the web that needs to be current at the time of the alarm.\r\n\r\n- Currently im using the Alarmmanager to set the alarm. \r\n- A BroadcastReceiver receives the alarm and then starts an foregroundservice running a thread that downloads some data from web.\r\n- When the data is downloaded the thread sends a broadcast to the same receiver (but with different intent data).\r\n- The BroadcastReceiver runs some logic checking that data corresponds with some params in alarm.\r\n- If the logic checks out the alarm is triggered as a foreground service sounding an ringtone.\r\n\r\n**Problem:**\r\n\r\nHowever this application does not trigger at the exact time in doze mode.\\\r\nIt works if the application is open, in background or closed as long as the phone is not in doze.\\\r\nIf I manually wake the phone from doze after the set alarm time it triggers the services to start.\r\n\r\nThe Application have the permissions \r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.USE_FULL_SCREEN_INTENT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot;/&gt;\r\n```\r\n\r\n\r\n\r\n`POST_NOTIFICATIONS`, `SCHEDULE_EXACT_ALARM`, `REQUEST_IGNORE_BATTERY_OPTIMIZATIONS` is requested and checked during runtime.\r\n\r\nThe alarm is set with:\r\n\r\n```\r\n Bundle bundle = new Bundle();\r\n        bundle.putParcelable(Vocabulary.ALARM_OBJECT, alarm);\r\n        Intent weatherAlarmSchedulerIntent = new Intent(context, AlarmReceiver.class)\r\n                .putExtras(bundle)\r\n                .putExtra(AlarmReceiver.BROADCAST_TYPE, AlarmReceiver.BROADCAST_TYPE_SCHEDULED_ALARM);\r\n        weatherAlarmSchedulerIntent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(context, alarmId, weatherAlarmSchedulerIntent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, alarmTime.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli(), pendingIntent);\r\n```\r\n\r\nServices are started with\r\n`context.startForegroundService(intent);`\\\r\nand services calls the `startForeground(notification.hashCode(), notification);` method.\r\n\r\nThe web data retrieval service uses `sendBroadcast(dataRetrivalIntent);` to call the broadcastreceiver.\r\n\r\nThe permissions are checked with:\\\r\n`requestPermissions(new String[]{Manifest.permission.SCHEDULE_EXACT_ALARM}, Vocabulary.PERMISSION_SCHEDULE_EXACT_ALARMS);`\r\n\r\n\r\n```\r\nIntent intent = new Intent();\r\n        intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\r\n        intent.setData(Uri.parse(&quot;package:&quot; + activity.getPackageName()));\r\n        activity.startActivity(intent);`\r\n```\r\n\r\nand\r\n\r\n`requestPermissions(permissions, Vocabulary.PERMISSION_POST_NOTIFICATION);`\r\n\r\nStill the alarm cant fire in doze. Why?","title":"How do I run logic at a exact time in Android?","body":"<p><strong>Background and flow</strong>:</p>\n<p>I'm building the app for Android API 31+. (Tested on an Andorid 33/31 hardware)\nMy app should work as an alarm clock but with a logical check before sounding the alarm, the logical check uses data from the web that needs to be current at the time of the alarm.</p>\n<ul>\n<li>Currently im using the Alarmmanager to set the alarm.</li>\n<li>A BroadcastReceiver receives the alarm and then starts an foregroundservice running a thread that downloads some data from web.</li>\n<li>When the data is downloaded the thread sends a broadcast to the same receiver (but with different intent data).</li>\n<li>The BroadcastReceiver runs some logic checking that data corresponds with some params in alarm.</li>\n<li>If the logic checks out the alarm is triggered as a foreground service sounding an ringtone.</li>\n</ul>\n<p><strong>Problem:</strong></p>\n<p>However this application does not trigger at the exact time in doze mode.<br />\nIt works if the application is open, in background or closed as long as the phone is not in doze.<br />\nIf I manually wake the phone from doze after the set alarm time it triggers the services to start.</p>\n<p>The Application have the permissions</p>\n<pre><code>    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.USE_FULL_SCREEN_INTENT&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot;/&gt;\n</code></pre>\n<p><code>POST_NOTIFICATIONS</code>, <code>SCHEDULE_EXACT_ALARM</code>, <code>REQUEST_IGNORE_BATTERY_OPTIMIZATIONS</code> is requested and checked during runtime.</p>\n<p>The alarm is set with:</p>\n<pre><code> Bundle bundle = new Bundle();\n        bundle.putParcelable(Vocabulary.ALARM_OBJECT, alarm);\n        Intent weatherAlarmSchedulerIntent = new Intent(context, AlarmReceiver.class)\n                .putExtras(bundle)\n                .putExtra(AlarmReceiver.BROADCAST_TYPE, AlarmReceiver.BROADCAST_TYPE_SCHEDULED_ALARM);\n        weatherAlarmSchedulerIntent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND);\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(context, alarmId, weatherAlarmSchedulerIntent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, alarmTime.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli(), pendingIntent);\n</code></pre>\n<p>Services are started with\n<code>context.startForegroundService(intent);</code><br />\nand services calls the <code>startForeground(notification.hashCode(), notification);</code> method.</p>\n<p>The web data retrieval service uses <code>sendBroadcast(dataRetrivalIntent);</code> to call the broadcastreceiver.</p>\n<p>The permissions are checked with:<br />\n<code>requestPermissions(new String[]{Manifest.permission.SCHEDULE_EXACT_ALARM}, Vocabulary.PERMISSION_SCHEDULE_EXACT_ALARMS);</code></p>\n<pre><code>Intent intent = new Intent();\n        intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\n        intent.setData(Uri.parse(&quot;package:&quot; + activity.getPackageName()));\n        activity.startActivity(intent);`\n</code></pre>\n<p>and</p>\n<p><code>requestPermissions(permissions, Vocabulary.PERMISSION_POST_NOTIFICATION);</code></p>\n<p>Still the alarm cant fire in doze. Why?</p>\n"},{"tags":["java","swing","svg","icons","batik"],"answers":[{"comments":[{"owner":{"account_id":87270,"reputation":2186,"user_id":242123,"accept_rate":88,"display_name":"heycam"},"score":5,"creation_date":1269297077,"post_id":2495712,"comment_id":2490358,"body_markdown":"Yep, what Devon said. :)  Here&#39;s my SVGIcon class which pretty much does that: http://mcc.id.au/2005/04/SVGIcon.java","body":"Yep, what Devon said. :)  Here&#39;s my SVGIcon class which pretty much does that: <a href=\"http://mcc.id.au/2005/04/SVGIcon.java\" rel=\"nofollow noreferrer\">mcc.id.au/2005/04/SVGIcon.java</a>"},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1587983850,"post_id":2495712,"comment_id":108714525,"body_markdown":"Would be nice to know what package those classes are supposed to be in.","body":"Would be nice to know what package those classes are supposed to be in."},{"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"score":0,"creation_date":1591225611,"post_id":2495712,"comment_id":109979183,"body_markdown":"@mmm it&#39;s been a while, but it should be something like `org.apache.batik.transcoder` or a sub-package of that.","body":"@mmm it&#39;s been a while, but it should be something like <code>org.apache.batik.transcoder</code> or a sub-package of that."},{"owner":{"account_id":14542114,"reputation":163,"user_id":10503467,"display_name":"M_L_Sing_Jump_Rap"},"score":0,"creation_date":1679012027,"post_id":2495712,"comment_id":133649092,"body_markdown":"My program reports like &quot;org.apache.batik.transcoder.TranscoderException: Unspecified transcoding hints: KEY_DOM_IMPLEMENTATION&quot; from hints.put(ImageTranscoder.KEY_WIDTH, (float)1); I don&#39;t know the reasons.","body":"My program reports like &quot;org.apache.batik.transcoder.TranscoderException: Unspecified transcoding hints: KEY_DOM_IMPLEMENTATION&quot; from hints.put(ImageTranscoder.KEY_WIDTH, (float)1); I don&#39;t know the reasons."},{"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"score":0,"creation_date":1681935222,"post_id":2495712,"comment_id":134138890,"body_markdown":"@M_L_Sing_Jump_Rap It is a 13 year old answer, so there have undoubtedly been some changes. See the answers by John Doppelmann and Dov Wasserman that includes several extra hints. But not that&#39;s still 7 years ago, so there may be more changes required.","body":"@M_L_Sing_Jump_Rap It is a 13 year old answer, so there have undoubtedly been some changes. See the answers by John Doppelmann and Dov Wasserman that includes several extra hints. But not that&#39;s still 7 years ago, so there may be more changes required."}],"tags":[],"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"comment_count":5,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1540880327,"creation_date":1269291703,"answer_id":2495712,"question_id":2495501,"body_markdown":"It&#39;s really quite easy, just not very intuitive.\r\n\r\nYou need to extend `ImageTranscoder`. In the `createImage` method you allocate a `BufferedImage`, cache it as a member variable, and return it. The `writeImage` method is empty. And you&#39;ll need to add a getter to retrieve the `BufferedImage`.\r\n\r\nIt will look something like this:\r\n\r\n        class MyTranscoder extends ImageTranscoder {\r\n            private BufferedImage image = null;\r\n            public BufferedImage createImage(int w, int h) {\r\n                image = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n                return image;\r\n            }\r\n            public void writeImage(BufferedImage img, TranscoderOutput out) {\r\n            }\r\n            public BufferedImage getImage() {\r\n                return image;\r\n            }\r\n        }\r\n\r\nNow, to create an image you create an instance of your transcoder and pass it the desired width and height by setting `TranscodingHints`. Finally you transcode from a TranscoderInput to a null target. Then call the getter on your transcoder to obtain the image.\r\n\r\nThe call looks something like this:\r\n\r\n        MyTranscoder transcoder = new MyTranscoder();\r\n        TranscodingHints hints = new TranscodingHints();\r\n        hints.put(ImageTranscoder.KEY_WIDTH, width);\r\n        hints.put(ImageTranscoder.KEY_HEIGHT, height);\r\n        transcoder.setTranscodingHints(hints);\r\n        transcoder.transcode(new TranscoderInput(url), null);\r\n        BufferedImage image = transcoder.getImage();\r\n\r\nSimple, right? (Yeah, right. Only took me 2 weeks to figure that out. Sigh.)","title":"Swing &amp; Batik: Create an ImageIcon from an SVG file?","body":"<p>It's really quite easy, just not very intuitive.</p>\n\n<p>You need to extend <code>ImageTranscoder</code>. In the <code>createImage</code> method you allocate a <code>BufferedImage</code>, cache it as a member variable, and return it. The <code>writeImage</code> method is empty. And you'll need to add a getter to retrieve the <code>BufferedImage</code>.</p>\n\n<p>It will look something like this:</p>\n\n<pre><code>    class MyTranscoder extends ImageTranscoder {\n        private BufferedImage image = null;\n        public BufferedImage createImage(int w, int h) {\n            image = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n            return image;\n        }\n        public void writeImage(BufferedImage img, TranscoderOutput out) {\n        }\n        public BufferedImage getImage() {\n            return image;\n        }\n    }\n</code></pre>\n\n<p>Now, to create an image you create an instance of your transcoder and pass it the desired width and height by setting <code>TranscodingHints</code>. Finally you transcode from a TranscoderInput to a null target. Then call the getter on your transcoder to obtain the image.</p>\n\n<p>The call looks something like this:</p>\n\n<pre><code>    MyTranscoder transcoder = new MyTranscoder();\n    TranscodingHints hints = new TranscodingHints();\n    hints.put(ImageTranscoder.KEY_WIDTH, width);\n    hints.put(ImageTranscoder.KEY_HEIGHT, height);\n    transcoder.setTranscodingHints(hints);\n    transcoder.transcode(new TranscoderInput(url), null);\n    BufferedImage image = transcoder.getImage();\n</code></pre>\n\n<p>Simple, right? (Yeah, right. Only took me 2 weeks to figure that out. Sigh.)</p>\n"},{"tags":[],"owner":{"account_id":444639,"reputation":544,"user_id":836584,"accept_rate":67,"display_name":"John Doppelmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1310217401,"creation_date":1310217401,"answer_id":6634963,"question_id":2495501,"body_markdown":"I have just followed Devon&#39;s approach with Batik-1.7\r\n\r\nHowever, in order to make it work I had to make the following additions to the hints object:\r\n\r\n    MyTranscoder transcoder =new MyTranscoder()\r\n    \t\r\n    DOMImplementation impl = SVGDOMImplementation.getDOMImplementation();\r\n    TranscodingHints hints = new TranscodingHints();\r\n    hints.put(ImageTranscoder.KEY_WIDTH, width); // e.g. width=new Float(300)\r\n    hints.put(ImageTranscoder.KEY_HEIGHT,height);// e.g. height=new Float(75)\r\n    hints.put(ImageTranscoder.KEY_DOM_IMPLEMENTATION, impl.getDOMImplementation());\r\n    hints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT_NAMESPACE_URI,SVGConstants.SVG_NAMESPACE_URI);\r\n    hints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT_NAMESPACE_URI,SVGConstants.SVG_NAMESPACE_URI);\r\n    hints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT, SVGConstants.SVG_SVG_TAG);\r\n    hints.put(ImageTranscoder.KEY_XML_PARSER_VALIDATING, false);\r\n    \t\t\r\n    transcoder.setTranscodingHints(hints);\r\n    TranscoderInput ti=new TranscoderInput(uri)\r\n    transcoder.transcode(ti, null);\r\n    BufferedImage image = transcoder.getImage();\r\n\r\n\r\nSeems like something has been updated in batik&#39;s XMLAbstractTranscoder( http://svn.apache.org/repos/asf/xmlgraphics/batik/tags/batik-1_7/sources/org/apache/batik/transcoder/XMLAbstractTranscoder.java) with version 1.7.\r\n\r\n\r\n","title":"Swing &amp; Batik: Create an ImageIcon from an SVG file?","body":"<p>I have just followed Devon's approach with Batik-1.7</p>\n\n<p>However, in order to make it work I had to make the following additions to the hints object:</p>\n\n<pre><code>MyTranscoder transcoder =new MyTranscoder()\n\nDOMImplementation impl = SVGDOMImplementation.getDOMImplementation();\nTranscodingHints hints = new TranscodingHints();\nhints.put(ImageTranscoder.KEY_WIDTH, width); // e.g. width=new Float(300)\nhints.put(ImageTranscoder.KEY_HEIGHT,height);// e.g. height=new Float(75)\nhints.put(ImageTranscoder.KEY_DOM_IMPLEMENTATION, impl.getDOMImplementation());\nhints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT_NAMESPACE_URI,SVGConstants.SVG_NAMESPACE_URI);\nhints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT_NAMESPACE_URI,SVGConstants.SVG_NAMESPACE_URI);\nhints.put(ImageTranscoder.KEY_DOCUMENT_ELEMENT, SVGConstants.SVG_SVG_TAG);\nhints.put(ImageTranscoder.KEY_XML_PARSER_VALIDATING, false);\n\ntranscoder.setTranscodingHints(hints);\nTranscoderInput ti=new TranscoderInput(uri)\ntranscoder.transcode(ti, null);\nBufferedImage image = transcoder.getImage();\n</code></pre>\n\n<p>Seems like something has been updated in batik's XMLAbstractTranscoder( <a href=\"http://svn.apache.org/repos/asf/xmlgraphics/batik/tags/batik-1_7/sources/org/apache/batik/transcoder/XMLAbstractTranscoder.java\" rel=\"nofollow\">http://svn.apache.org/repos/asf/xmlgraphics/batik/tags/batik-1_7/sources/org/apache/batik/transcoder/XMLAbstractTranscoder.java</a>) with version 1.7.</p>\n"},{"comments":[{"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"score":1,"creation_date":1375552583,"post_id":18035510,"comment_id":26383227,"body_markdown":"That should be a comment for @John Doppelmann right? Then don&#39;t &quot;answer&quot; it please, use comments if possible.","body":"That should be a comment for @John Doppelmann right? Then don&#39;t &quot;answer&quot; it please, use comments if possible."}],"tags":[],"owner":{"account_id":1424586,"reputation":278,"user_id":2170827,"accept_rate":30,"display_name":"hadf"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375551434,"creation_date":1375551434,"answer_id":18035510,"question_id":2495501,"body_markdown":"To avoid passing dom parameters :`\r\n    transcoder.setTranscodingHints((Map&lt;?, ?&gt;) hints);`","title":"Swing &amp; Batik: Create an ImageIcon from an SVG file?","body":"<p>To avoid passing dom parameters :<code>\n    transcoder.setTranscodingHints((Map&lt;?, ?&gt;) hints);</code></p>\n"},{"tags":[],"owner":{"account_id":183463,"reputation":11,"user_id":5948012,"display_name":"Dov Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461195620,"creation_date":1461195620,"answer_id":36757106,"question_id":2495501,"body_markdown":"I tried using Devon&#39;s and John&#39;s suggestions, which nearly worked for me. I had to make some tweaks as follows, feel free to use:\r\n\r\n    package com.corp.util;\r\n    \r\n    import static org.apache.batik.transcoder.SVGAbstractTranscoder.KEY_WIDTH;\r\n    import static org.apache.batik.transcoder.XMLAbstractTranscoder.KEY_DOCUMENT_ELEMENT;\r\n    import static org.apache.batik.transcoder.XMLAbstractTranscoder.KEY_DOCUMENT_ELEMENT_NAMESPACE_URI;\r\n    import static org.apache.batik.transcoder.XMLAbstractTranscoder.KEY_DOM_IMPLEMENTATION;\r\n    import static org.apache.batik.util.SVGConstants.SVG_NAMESPACE_URI;\r\n    import static org.apache.batik.util.SVGConstants.SVG_SVG_TAG;\r\n    \r\n    import com.google.common.flogger.GoogleLogger;\r\n    \r\n    import org.apache.batik.anim.dom.SVGDOMImplementation;\r\n    import org.apache.batik.transcoder.TranscoderException;\r\n    import org.apache.batik.transcoder.TranscoderInput;\r\n    import org.apache.batik.transcoder.TranscoderOutput;\r\n    import org.apache.batik.transcoder.TranscodingHints;\r\n    import org.apache.batik.transcoder.image.ImageTranscoder;\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    \r\n    import javax.annotation.concurrent.ThreadSafe;\r\n    import javax.inject.Singleton;\r\n    \r\n    /** Loads SVG images from disk. See https://en.wikipedia.org/wiki/Scalable_Vector_Graphics. */\r\n    @Singleton\r\n    @ThreadSafe\r\n    public class SvgImageLoader {\r\n    \r\n      private static final GoogleLogger logger = GoogleLogger.forEnclosingClass();\r\n    \r\n      /**\r\n       * Reads in an SVG image file and return it as a BufferedImage with the given width and a height\r\n       * where the original aspect ratio is preserved.\r\n       *\r\n       * @param url URL referencing the SVG image file, which is typically an XML file\r\n       * @param width width in pixels the returned BufferedImage should be\r\n       *\r\n       * @return a valid image representing the SVG file\r\n       * @throws IOException if the file cannot be parsed as valid SVG\r\n       */\r\n      public static BufferedImage loadSvg(URL url, float width) throws IOException {\r\n        SvgTranscoder transcoder = new SvgTranscoder();\r\n        transcoder.setTranscodingHints(getHints(width));\r\n        try {\r\n          TranscoderInput input = new TranscoderInput(url.openStream());\r\n          transcoder.transcode(input, null);\r\n        } catch (TranscoderException e) {\r\n          throw new IOException(&quot;Error parsing SVG file &quot; + url, e);\r\n        }\r\n        BufferedImage image = transcoder.getImage();\r\n        logger.atInfo().log(&quot;Read &#39;%s&#39; SVG image from disk requested with width=%.1f, sized as %dx%d pixels.&quot;,\r\n            new File(url.getFile()).getName(), width, image.getWidth(), image.getHeight());\r\n        return image;\r\n      }\r\n    \r\n      private static TranscodingHints getHints(float width) {\r\n        TranscodingHints hints = new TranscodingHints();\r\n        hints.put(KEY_DOM_IMPLEMENTATION, SVGDOMImplementation.getDOMImplementation());\r\n        hints.put(KEY_DOCUMENT_ELEMENT_NAMESPACE_URI, SVG_NAMESPACE_URI);\r\n        hints.put(KEY_DOCUMENT_ELEMENT, SVG_SVG_TAG);\r\n        hints.put(KEY_WIDTH, width);\r\n        return hints;\r\n      }\r\n    \r\n      private static class SvgTranscoder extends ImageTranscoder {\r\n    \r\n        private BufferedImage image = null;\r\n    \r\n        @Override\r\n        public BufferedImage createImage(int width, int height) {\r\n          image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n          return image;\r\n        }\r\n    \r\n        @Override\r\n        public void writeImage(BufferedImage img, TranscoderOutput out) {}\r\n    \r\n        BufferedImage getImage() {\r\n          return image;\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Swing &amp; Batik: Create an ImageIcon from an SVG file?","body":"<p>I tried using Devon's and John's suggestions, which nearly worked for me. I had to make some tweaks as follows, feel free to use:</p>\n\n<pre><code>package com.corp.util;\n\nimport static org.apache.batik.transcoder.SVGAbstractTranscoder.KEY_WIDTH;\nimport static org.apache.batik.transcoder.XMLAbstractTranscoder.KEY_DOCUMENT_ELEMENT;\nimport static org.apache.batik.transcoder.XMLAbstractTranscoder.KEY_DOCUMENT_ELEMENT_NAMESPACE_URI;\nimport static org.apache.batik.transcoder.XMLAbstractTranscoder.KEY_DOM_IMPLEMENTATION;\nimport static org.apache.batik.util.SVGConstants.SVG_NAMESPACE_URI;\nimport static org.apache.batik.util.SVGConstants.SVG_SVG_TAG;\n\nimport com.google.common.flogger.GoogleLogger;\n\nimport org.apache.batik.anim.dom.SVGDOMImplementation;\nimport org.apache.batik.transcoder.TranscoderException;\nimport org.apache.batik.transcoder.TranscoderInput;\nimport org.apache.batik.transcoder.TranscoderOutput;\nimport org.apache.batik.transcoder.TranscodingHints;\nimport org.apache.batik.transcoder.image.ImageTranscoder;\n\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URL;\n\nimport javax.annotation.concurrent.ThreadSafe;\nimport javax.inject.Singleton;\n\n/** Loads SVG images from disk. See https://en.wikipedia.org/wiki/Scalable_Vector_Graphics. */\n@Singleton\n@ThreadSafe\npublic class SvgImageLoader {\n\n  private static final GoogleLogger logger = GoogleLogger.forEnclosingClass();\n\n  /**\n   * Reads in an SVG image file and return it as a BufferedImage with the given width and a height\n   * where the original aspect ratio is preserved.\n   *\n   * @param url URL referencing the SVG image file, which is typically an XML file\n   * @param width width in pixels the returned BufferedImage should be\n   *\n   * @return a valid image representing the SVG file\n   * @throws IOException if the file cannot be parsed as valid SVG\n   */\n  public static BufferedImage loadSvg(URL url, float width) throws IOException {\n    SvgTranscoder transcoder = new SvgTranscoder();\n    transcoder.setTranscodingHints(getHints(width));\n    try {\n      TranscoderInput input = new TranscoderInput(url.openStream());\n      transcoder.transcode(input, null);\n    } catch (TranscoderException e) {\n      throw new IOException(\"Error parsing SVG file \" + url, e);\n    }\n    BufferedImage image = transcoder.getImage();\n    logger.atInfo().log(\"Read '%s' SVG image from disk requested with width=%.1f, sized as %dx%d pixels.\",\n        new File(url.getFile()).getName(), width, image.getWidth(), image.getHeight());\n    return image;\n  }\n\n  private static TranscodingHints getHints(float width) {\n    TranscodingHints hints = new TranscodingHints();\n    hints.put(KEY_DOM_IMPLEMENTATION, SVGDOMImplementation.getDOMImplementation());\n    hints.put(KEY_DOCUMENT_ELEMENT_NAMESPACE_URI, SVG_NAMESPACE_URI);\n    hints.put(KEY_DOCUMENT_ELEMENT, SVG_SVG_TAG);\n    hints.put(KEY_WIDTH, width);\n    return hints;\n  }\n\n  private static class SvgTranscoder extends ImageTranscoder {\n\n    private BufferedImage image = null;\n\n    @Override\n    public BufferedImage createImage(int width, int height) {\n      image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n      return image;\n    }\n\n    @Override\n    public void writeImage(BufferedImage img, TranscoderOutput out) {}\n\n    BufferedImage getImage() {\n      return image;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10164,"reputation":37203,"user_id":19074,"accept_rate":68,"display_name":"Electrons_Ahoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18605,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":4,"score":21,"last_activity_date":1681660549,"creation_date":1269289912,"question_id":2495501,"body_markdown":"Simply put, I&#39;m looking for a way to make an ImageIcon from an SVG file using the batik library.  I don&#39;t want to have to raster the SVG to disk first, I just want to be able to pull an svg out of the jar file and have it land as a UI element.\r\n\r\nI feel like this should be reasonably easy, but the batik javadocs aren&#39;t telling me what I need to know.\r\n\r\n(Why batik?  Well, we&#39;re already using it, so we don&#39;t have to run another library past legal.)\r\n\r\n","title":"Swing &amp; Batik: Create an ImageIcon from an SVG file?","body":"<p>Simply put, I'm looking for a way to make an ImageIcon from an SVG file using the batik library.  I don't want to have to raster the SVG to disk first, I just want to be able to pull an svg out of the jar file and have it land as a UI element.</p>\n\n<p>I feel like this should be reasonably easy, but the batik javadocs aren't telling me what I need to know.</p>\n\n<p>(Why batik?  Well, we're already using it, so we don't have to run another library past legal.)</p>\n"},{"tags":["java","kotlin","kotlin-script"],"owner":{"account_id":17582022,"reputation":138,"user_id":12755627,"display_name":"micartey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681660534,"creation_date":1681660172,"question_id":76028769,"body_markdown":"I am trying to use scripts in my project using Kotlin scripts. I followed the [official kotlin tutorial](https://kotlinlang.org/docs/custom-script-deps-tutorial.html) which works fine. Then I wanted to wrap my scripts into an object by setting the `constructorArgs`\r\n\r\n```kotlin\r\nprivate val config = createJvmCompilationConfigurationFromTemplate&lt;MavenScriptDefinition&gt;()\r\n\r\n    fun evaluate(file: File, scope: Definition): ResultWithDiagnostics&lt;EvaluationResult&gt; {\r\n        val host = BasicJvmScriptingHost()\r\n\r\n        return host.evalWithTemplate&lt;MavenScriptDefinition&gt;(file.toScriptSource(), evaluation = {\r\n            this.compilationConfiguration(config)\r\n            this.constructorArgs(scope)\r\n        })\r\n    }\r\n```\r\n\r\nDefinition is just an interface with a method `greet` that has been overwritten to print `Hello World`\r\n\r\nThis, however, results in an exception:\r\n\r\n```java\r\njava.lang.IllegalArgumentException: argument type mismatch\r\n \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n \tat kotlin.script.experimental.jvm.BasicJvmScriptEvaluator.evalWithConfigAndOtherScriptsResults(BasicJvmScriptEvaluator.kt:105)\r\n```\r\n\r\nThis seems to be due to an issue inside of `BasicJvmScriptEvaluator.kt` which is a standard kotlin class.  \r\n\r\nI removed the constructor and all methods until I have just an empty object, everything didn&#39;t work, and the exception was the same.\r\n\r\nThe full code can be found [here](https://gitlab.micartey.dev/cardinal/kotlin-script-engine/-/tree/refactor/parent-object/) but keep in mind that you need to change the `Core` file to get it working as I use a custom classloader.","title":"Kotlin Script Exception in BasicJvmScriptEvaluator","body":"<p>I am trying to use scripts in my project using Kotlin scripts. I followed the <a href=\"https://kotlinlang.org/docs/custom-script-deps-tutorial.html\" rel=\"nofollow noreferrer\">official kotlin tutorial</a> which works fine. Then I wanted to wrap my scripts into an object by setting the <code>constructorArgs</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val config = createJvmCompilationConfigurationFromTemplate&lt;MavenScriptDefinition&gt;()\n\n    fun evaluate(file: File, scope: Definition): ResultWithDiagnostics&lt;EvaluationResult&gt; {\n        val host = BasicJvmScriptingHost()\n\n        return host.evalWithTemplate&lt;MavenScriptDefinition&gt;(file.toScriptSource(), evaluation = {\n            this.compilationConfiguration(config)\n            this.constructorArgs(scope)\n        })\n    }\n</code></pre>\n<p>Definition is just an interface with a method <code>greet</code> that has been overwritten to print <code>Hello World</code></p>\n<p>This, however, results in an exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.IllegalArgumentException: argument type mismatch\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at kotlin.script.experimental.jvm.BasicJvmScriptEvaluator.evalWithConfigAndOtherScriptsResults(BasicJvmScriptEvaluator.kt:105)\n</code></pre>\n<p>This seems to be due to an issue inside of <code>BasicJvmScriptEvaluator.kt</code> which is a standard kotlin class.</p>\n<p>I removed the constructor and all methods until I have just an empty object, everything didn't work, and the exception was the same.</p>\n<p>The full code can be found <a href=\"https://gitlab.micartey.dev/cardinal/kotlin-script-engine/-/tree/refactor/parent-object/\" rel=\"nofollow noreferrer\">here</a> but keep in mind that you need to change the <code>Core</code> file to get it working as I use a custom classloader.</p>\n"},{"tags":["java","file","logging","file-io","filesystems"],"comments":[{"owner":{"account_id":334630,"reputation":5349,"user_id":661196,"accept_rate":79,"display_name":"Cygnusx1"},"score":0,"creation_date":1314278435,"post_id":7190618,"comment_id":8635387,"body_markdown":"I don`t understand how the file can be empty and still have a size of 2 bytes?  I have wrote the exact same code as you and with an empty file, i get the expected result NO ERRORS in your case.","body":"I don`t understand how the file can be empty and still have a size of 2 bytes?  I have wrote the exact same code as you and with an empty file, i get the expected result NO ERRORS in your case."},{"owner":{"account_id":334630,"reputation":5349,"user_id":661196,"accept_rate":79,"display_name":"Cygnusx1"},"score":0,"creation_date":1314278624,"post_id":7190618,"comment_id":8635466,"body_markdown":"ok forget my comment, just read about BOM and unicode.","body":"ok forget my comment, just read about BOM and unicode."},{"owner":{"account_id":171357,"reputation":3556,"user_id":398713,"accept_rate":81,"display_name":"GPX"},"score":2,"creation_date":1314278698,"post_id":7190618,"comment_id":8635496,"body_markdown":"Unicode encoding often uses a BOM field as an identifier, which takes up 255 bytes. My guess is, your empty file is ANSI encoded. Try with Unicode encoding.","body":"Unicode encoding often uses a BOM field as an identifier, which takes up 255 bytes. My guess is, your empty file is ANSI encoded. Try with Unicode encoding."},{"owner":{"account_id":334630,"reputation":5349,"user_id":661196,"accept_rate":79,"display_name":"Cygnusx1"},"score":0,"creation_date":1314279205,"post_id":7190618,"comment_id":8635711,"body_markdown":"yeah i saw, question: do you have control on the creation of this log file?  Could you change it&#39;s encoding to UTF-8?  it would solve your problem.","body":"yeah i saw, question: do you have control on the creation of this log file?  Could you change it&#39;s encoding to UTF-8?  it would solve your problem."},{"owner":{"account_id":171357,"reputation":3556,"user_id":398713,"accept_rate":81,"display_name":"GPX"},"score":0,"creation_date":1314280012,"post_id":7190618,"comment_id":8636024,"body_markdown":"I&#39;ve considered that. But in my specific case, sadly, no.","body":"I&#39;ve considered that. But in my specific case, sadly, no."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674794441,"post_id":7190618,"comment_id":132793606,"body_markdown":"@GPX - A BOM doesn&#39;t take up to 255 bytes.  It takes just 3 bytes in UTF-8 or 2 bytes in UTF-16.  (Source: https://en.wikipedia.org/wiki/Byte_order_mark)","body":"@GPX - A BOM doesn&#39;t take up to 255 bytes.  It takes just 3 bytes in UTF-8 or 2 bytes in UTF-16.  (Source: <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Byte_order_mark</a>)"}],"answers":[{"comments":[{"owner":{"account_id":171357,"reputation":3556,"user_id":398713,"accept_rate":81,"display_name":"GPX"},"score":1,"creation_date":1314276759,"post_id":7190657,"comment_id":8634779,"body_markdown":"Shouldn&#39;t I consider Rob&#39;s thoughts on the same page?","body":"Shouldn&#39;t I consider Rob&#39;s thoughts on the same page?"},{"owner":{"display_name":"user425367"},"score":0,"creation_date":1314276826,"post_id":7190657,"comment_id":8634800,"body_markdown":"Yes sorry my first post was premature :(","body":"Yes sorry my first post was premature :("}],"tags":[],"owner":{"display_name":"user425367"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1314276668,"creation_date":1314276668,"answer_id":7190657,"question_id":7190618,"body_markdown":"Stolen from http://www.coderanch.com/t/279224/Streams/java/Checking-empty-file\r\n\r\n    FileInputStream fis = new FileInputStream(new File(&quot;file_name&quot;));  \r\n    int b = fis.read();  \r\n    if (b == -1)  \r\n    {  \r\n      System.out.println(&quot;!!File &quot; + file_name + &quot; emty!!&quot;);  \r\n    }  \r\n\r\nUpdated: My first answer was premature and contained a bug.","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<p>Stolen from <a href=\"http://www.coderanch.com/t/279224/Streams/java/Checking-empty-file\" rel=\"nofollow\">http://www.coderanch.com/t/279224/Streams/java/Checking-empty-file</a></p>\n\n<pre><code>FileInputStream fis = new FileInputStream(new File(\"file_name\"));  \nint b = fis.read();  \nif (b == -1)  \n{  \n  System.out.println(\"!!File \" + file_name + \" emty!!\");  \n}  \n</code></pre>\n\n<p>Updated: My first answer was premature and contained a bug.</p>\n"},{"comments":[{"owner":{"account_id":171357,"reputation":3556,"user_id":398713,"accept_rate":81,"display_name":"GPX"},"score":0,"creation_date":1314336253,"post_id":7190664,"comment_id":8649065,"body_markdown":"Well I guess I&#39;ll use this method, as this works. Can you say this is the most efficient method?","body":"Well I guess I&#39;ll use this method, as this works. Can you say this is the most efficient method?"},{"owner":{"account_id":171357,"reputation":3556,"user_id":398713,"accept_rate":81,"display_name":"GPX"},"score":0,"creation_date":1314348073,"post_id":7190664,"comment_id":8651339,"body_markdown":"Update: This method doesn&#39;t work either. When I use `readLine()`, it returns these junk characters - `&#255;&#254;`. Now I&#39;m confused.","body":"Update: This method doesn&#39;t work either. When I use <code>readLine()</code>, it returns these junk characters - <code>&#255;&#254;</code>. Now I&#39;m confused."},{"owner":{"account_id":171357,"reputation":3556,"user_id":398713,"accept_rate":81,"display_name":"GPX"},"score":1,"creation_date":1324356695,"post_id":7190664,"comment_id":10626476,"body_markdown":"This method *does* work if the input file is ANSI-encoded. Marking this as the answer.","body":"This method <i>does</i> work if the input file is ANSI-encoded. Marking this as the answer."},{"owner":{"account_id":1134168,"reputation":882,"user_id":1119595,"display_name":"w25r"},"score":0,"creation_date":1354813318,"post_id":7190664,"comment_id":18894039,"body_markdown":"Am I missing something or is there no file.readLine() method?","body":"Am I missing something or is there no file.readLine() method?"},{"owner":{"account_id":62275,"reputation":383,"user_id":185130,"display_name":"Drupad Panchal"},"score":1,"creation_date":1358970599,"post_id":7190664,"comment_id":20189090,"body_markdown":"@w25r java.io.File.readLine() doesn&#39;t exist, Victor is referring to an example use of a BufferedReader.readLine(). I&#39;ve updated the answer so that it isn&#39;t confusing anymore.","body":"@w25r java.io.File.readLine() doesn&#39;t exist, Victor is referring to an example use of a BufferedReader.readLine(). I&#39;ve updated the answer so that it isn&#39;t confusing anymore."},{"owner":{"account_id":2556179,"reputation":1023,"user_id":2218108,"accept_rate":60,"display_name":"Arhat Baid"},"score":0,"creation_date":1429243844,"post_id":7190664,"comment_id":47516962,"body_markdown":"when I use this, the main class throws an error.\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:134)\n    at java.io.FileReader.&lt;init&gt;(FileReader.java:72)","body":"when I use this, the main class throws an error.     Exception in thread &quot;main&quot; java.lang.NullPointerException     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:134)     at java.io.FileReader.&lt;init&gt;(FileReader.java:72)"},{"owner":{"account_id":10394667,"reputation":2778,"user_id":7664765,"display_name":"Simon"},"score":0,"creation_date":1508498806,"post_id":7190664,"comment_id":80643518,"body_markdown":"This method doesn&#39;t work if the file encoding is ANSI, for example there are 10 blank-lines and than comes a character, the first line will be null yes, but the others maybe not.","body":"This method doesn&#39;t work if the file encoding is ANSI, for example there are 10 blank-lines and than comes a character, the first line will be null yes, but the others maybe not."}],"tags":[],"owner":{"account_id":542821,"reputation":957,"user_id":911769,"display_name":"Victor Carmouze"},"comment_count":7,"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1369071446,"creation_date":1314276724,"answer_id":7190664,"question_id":7190618,"body_markdown":"Check if the first line of file is empty:\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;path_to_some_file&quot;));     \r\n    if (br.readLine() == null) {\r\n        System.out.println(&quot;No errors, and file empty&quot;);\r\n    }\r\n","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<p>Check if the first line of file is empty:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(\"path_to_some_file\"));     \nif (br.readLine() == null) {\n    System.out.println(\"No errors, and file empty\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":171357,"reputation":3556,"user_id":398713,"accept_rate":81,"display_name":"GPX"},"score":0,"creation_date":1314277250,"post_id":7190667,"comment_id":8634945,"body_markdown":"Well this is embarrassing! But trying this out, I have an empty file (absolutely empty - no spaces, no new lines) - but the byte count is 255 bytes. My guess is, it could because of the BOM field for Unicode. So this method doesn&#39;t work for me.","body":"Well this is embarrassing! But trying this out, I have an empty file (absolutely empty - no spaces, no new lines) - but the byte count is 255 bytes. My guess is, it could because of the BOM field for Unicode. So this method doesn&#39;t work for me."}],"tags":[],"owner":{"account_id":13025,"reputation":18196,"user_id":25949,"accept_rate":67,"display_name":"Nivas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314276743,"creation_date":1314276743,"answer_id":7190667,"question_id":7190618,"body_markdown":"The idea of your first snippet is right. You probably meant to check `iByteCount == -1`: whether the file *has* at least one byte:\r\n\r\n    if (iByteCount == -1)  \r\n        System.out.println(&quot;NO ERRORS!&quot;);\r\n    else\r\n        System.out.println(&quot;SOME ERRORS!&quot;);\r\n\r\n","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<p>The idea of your first snippet is right. You probably meant to check <code>iByteCount == -1</code>: whether the file <em>has</em> at least one byte:</p>\n\n<pre><code>if (iByteCount == -1)  \n    System.out.println(\"NO ERRORS!\");\nelse\n    System.out.println(\"SOME ERRORS!\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":334630,"reputation":5349,"user_id":661196,"accept_rate":79,"display_name":"Cygnusx1"},"score":0,"creation_date":1314278769,"post_id":7190761,"comment_id":8635528,"body_markdown":"Yeah, i did a test with both methods and they work the same way.  In the end, my suggestion is still valid, but it does not solve the unicode BOM problem.  Look at Farmor answer and the link to another answer about this problem.","body":"Yeah, i did a test with both methods and they work the same way.  In the end, my suggestion is still valid, but it does not solve the unicode BOM problem.  Look at Farmor answer and the link to another answer about this problem."}],"tags":[],"owner":{"account_id":334630,"reputation":5349,"user_id":661196,"accept_rate":79,"display_name":"Cygnusx1"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481711122,"creation_date":1314277095,"answer_id":7190761,"question_id":7190618,"body_markdown":"Try `FileReader`, this reader is meant to read stream of character, while `FileInputStream` is meant to read raw data.\r\n\r\nFrom the Javadoc:\r\n\r\n&gt; FileReader is meant for reading streams of characters. For reading\r\n&gt; streams of raw bytes, consider using a FileInputStream.\r\n\r\nSince you wanna read a log file, `FileReader` is the class to use IMO.","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<p>Try <code>FileReader</code>, this reader is meant to read stream of character, while <code>FileInputStream</code> is meant to read raw data.</p>\n\n<p>From the Javadoc:</p>\n\n<blockquote>\n  <p>FileReader is meant for reading streams of characters. For reading\n  streams of raw bytes, consider using a FileInputStream.</p>\n</blockquote>\n\n<p>Since you wanna read a log file, <code>FileReader</code> is the class to use IMO.</p>\n"},{"comments":[{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":0,"creation_date":1483888209,"post_id":7190994,"comment_id":70273368,"body_markdown":"Whilst this may theoretically answer the question, [it would be preferable](//meta.stackoverflow.com/q/8259) to include the essential parts of the answer here, and provide the link for reference.","body":"Whilst this may theoretically answer the question, <a href=\"//meta.stackoverflow.com/q/8259\">it would be preferable</a> to include the essential parts of the answer here, and provide the link for reference."}],"tags":[],"owner":{"display_name":"user425367"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314278077,"creation_date":1314278077,"answer_id":7190994,"question_id":7190618,"body_markdown":"You can choose try the FileReader approach but it may not be time to give up just yet.\r\nIf is the BOM field destroying for you try this solution posted here at stackoverflow.\r\n\r\nhttps://stackoverflow.com/questions/1835430/byte-order-mark-screws-up-file-reading-in-java/1835529#1835529","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<p>You can choose try the FileReader approach but it may not be time to give up just yet.\nIf is the BOM field destroying for you try this solution posted here at stackoverflow.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1835430/byte-order-mark-screws-up-file-reading-in-java/1835529#1835529\">Byte order mark screws up file reading in Java</a></p>\n"},{"comments":[{"owner":{"account_id":171357,"reputation":3556,"user_id":398713,"accept_rate":81,"display_name":"GPX"},"score":11,"creation_date":1340025682,"post_id":11024071,"comment_id":14510728,"body_markdown":"This doesn&#39;t work with Unicode files. Check **Method 2** in my original post.","body":"This doesn&#39;t work with Unicode files. Check <b>Method 2</b> in my original post."},{"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"score":0,"creation_date":1495117336,"post_id":11024071,"comment_id":75126186,"body_markdown":"It also returns long the file.length() method","body":"It also returns long the file.length() method"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1518637354,"post_id":11024071,"comment_id":84592275,"body_markdown":"@GPX Sorry for being tardy to class. When you say a unicode file can be empty but have bytes, are you referring to [this](https://stackoverflow.com/questions/18516343/why-empty-text-file-contains-3-bytes)?","body":"@GPX Sorry for being tardy to class. When you say a unicode file can be empty but have bytes, are you referring to <a href=\"https://stackoverflow.com/questions/18516343/why-empty-text-file-contains-3-bytes\">this</a>?"}],"tags":[],"owner":{"account_id":947733,"reputation":693,"user_id":974625,"accept_rate":92,"display_name":"SneakyMummin"},"comment_count":3,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1681659852,"creation_date":1339625485,"answer_id":11024071,"question_id":7190618,"body_markdown":"Why not just use:\r\n\r\n    File file = new File(&quot;test.txt&quot;);\r\n\r\n    if (file.length() == 0) {\r\n        // File empty\r\n    } else {\r\n        // Not empty\r\n    }","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<p>Why not just use:</p>\n<pre><code>File file = new File(&quot;test.txt&quot;);\n\nif (file.length() == 0) {\n    // File empty\n} else {\n    // Not empty\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1354967,"reputation":1611,"user_id":1293563,"accept_rate":45,"display_name":"Anwar Shaikh"},"score":4,"creation_date":1433752711,"post_id":26651839,"comment_id":49466770,"body_markdown":"The method readFileToString(..) method will give exception &quot;Java heap space error&quot; if file is huge and insufficient memory available.","body":"The method readFileToString(..) method will give exception &quot;Java heap space error&quot; if file is huge and insufficient memory available."}],"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414668662,"creation_date":1414668662,"answer_id":26651839,"question_id":7190618,"body_markdown":"Another way to do this is (using `Apache Commons` `FileUtils`) -\r\n\r\n&lt;!-- language: c# --&gt;\r\n\r\n    private void printEmptyFileName(final File file) throws IOException {\r\n        if (FileUtils.readFileToString(file).trim().isEmpty()) {\r\n            System.out.println(&quot;File is empty: &quot; + file.getName());\r\n        }        \r\n    }","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<p>Another way to do this is (using <code>Apache Commons</code> <code>FileUtils</code>) -</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void printEmptyFileName(final File file) throws IOException {\n    if (FileUtils.readFileToString(file).trim().isEmpty()) {\n        System.out.println(\"File is empty: \" + file.getName());\n    }        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5987538,"reputation":430,"user_id":4704639,"display_name":"Emma"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1454056585,"creation_date":1454056585,"answer_id":35080079,"question_id":7190618,"body_markdown":"This is an improvement of Saik0&#39;s answer based on Anwar Shaikh&#39;s comment that too big files (above available memory) will throw an exception:\r\n\r\nUsing Apache Commons FileUtils\r\n\r\n    private void printEmptyFileName(final File file) throws IOException {\r\n        /*Arbitrary big-ish number that definitely is not an empty file*/\r\n        int limit = 4096;\r\n        if(file.length &lt; limit &amp;&amp; FileUtils.readFileToString(file).trim().isEmpty()) {\r\n            System.out.println(&quot;File is empty: &quot; + file.getName());\r\n        }        \r\n    }","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<p>This is an improvement of Saik0's answer based on Anwar Shaikh's comment that too big files (above available memory) will throw an exception:</p>\n\n<p>Using Apache Commons FileUtils</p>\n\n<pre><code>private void printEmptyFileName(final File file) throws IOException {\n    /*Arbitrary big-ish number that definitely is not an empty file*/\n    int limit = 4096;\n    if(file.length &lt; limit &amp;&amp; FileUtils.readFileToString(file).trim().isEmpty()) {\n        System.out.println(\"File is empty: \" + file.getName());\n    }        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674795014,"creation_date":1461847668,"answer_id":36915174,"question_id":7190618,"body_markdown":"&gt; Now both these methods fail at times when the log file is empty (has no content), yet the file size is not zero (2 bytes).\r\n\r\nActually, I think you will find that the file is NOT empty.  Rather I think that you will find that those two characters are a CR and a NL; i.e. the file consists of one line that is empty.  A truly empty file does in fact have a file size of zero.\r\n\r\nIf you want to test if a file is either empty or has a single empty line then a simple, relatively efficient way is:\r\n\r\n    try (BufferedReader br = new BufferedReader(FileReader(fileName))) {\r\n        String line = br.readLine();\r\n        if (line == null || \r\n            (line.length() == 0 &amp;&amp; br.readLine() == null)) {\r\n            System.out.println(&quot;NO ERRORS!&quot;);\r\n        } else {\r\n            System.out.println(&quot;SOME ERRORS!&quot;);\r\n        }\r\n    }\r\n\r\nCan we do this more efficiently?  Possibly.  It depends on how often you have to deal with the three different cases:\r\n\r\n  - a completely empty file\r\n  - a file consisting of a single empty line\r\n  - a file with a non-empty line, or multiple lines.\r\n\r\nYou can probably do better by using `Files.length()` and / or reading just the first two bytes.  However, the problems include:\r\n\r\n  - If you both test the file size AND read the first few bytes then you are making 2 syscalls.\r\n  - The actual line termination sequence could be CR, NL or CR NL, depending on the platform.  (I know you say this is for Windows, but what happens if you need to port your application?  Or if someone sends you a non-Windows file?)\r\n  - It would be nice to avoid setting up stream / reader stack, but the file&#39;s character encoding *could* map CR and NL to something other than the bytes `0x0d` and `0x0a`.  (For example ... UTF-16)\r\n  - Then there&#39;s the annoying habit of some Windows utilities have putting [byte order markers][1] into UTF-8 encoded files.  (This would even mess up the simple version above!)  A BOM is the Unicode code point U+FEFF which will render as 3 bytes in UTF-8 and 2 bytes in UTF-16 and 4 bytes in UTF-32.\r\n\r\nAll of this means that the most efficient possible solution is going to be rather complicated.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Byte_order_mark","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<blockquote>\n<p>Now both these methods fail at times when the log file is empty (has no content), yet the file size is not zero (2 bytes).</p>\n</blockquote>\n<p>Actually, I think you will find that the file is NOT empty.  Rather I think that you will find that those two characters are a CR and a NL; i.e. the file consists of one line that is empty.  A truly empty file does in fact have a file size of zero.</p>\n<p>If you want to test if a file is either empty or has a single empty line then a simple, relatively efficient way is:</p>\n<pre><code>try (BufferedReader br = new BufferedReader(FileReader(fileName))) {\n    String line = br.readLine();\n    if (line == null || \n        (line.length() == 0 &amp;&amp; br.readLine() == null)) {\n        System.out.println(&quot;NO ERRORS!&quot;);\n    } else {\n        System.out.println(&quot;SOME ERRORS!&quot;);\n    }\n}\n</code></pre>\n<p>Can we do this more efficiently?  Possibly.  It depends on how often you have to deal with the three different cases:</p>\n<ul>\n<li>a completely empty file</li>\n<li>a file consisting of a single empty line</li>\n<li>a file with a non-empty line, or multiple lines.</li>\n</ul>\n<p>You can probably do better by using <code>Files.length()</code> and / or reading just the first two bytes.  However, the problems include:</p>\n<ul>\n<li>If you both test the file size AND read the first few bytes then you are making 2 syscalls.</li>\n<li>The actual line termination sequence could be CR, NL or CR NL, depending on the platform.  (I know you say this is for Windows, but what happens if you need to port your application?  Or if someone sends you a non-Windows file?)</li>\n<li>It would be nice to avoid setting up stream / reader stack, but the file's character encoding <em>could</em> map CR and NL to something other than the bytes <code>0x0d</code> and <code>0x0a</code>.  (For example ... UTF-16)</li>\n<li>Then there's the annoying habit of some Windows utilities have putting <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">byte order markers</a> into UTF-8 encoded files.  (This would even mess up the simple version above!)  A BOM is the Unicode code point U+FEFF which will render as 3 bytes in UTF-8 and 2 bytes in UTF-16 and 4 bytes in UTF-32.</li>\n</ul>\n<p>All of this means that the most efficient possible solution is going to be rather complicated.</p>\n"},{"tags":[],"owner":{"account_id":4618351,"reputation":46,"user_id":3744089,"display_name":"Sai Kiran Challa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501254172,"creation_date":1501254172,"answer_id":45376767,"question_id":7190618,"body_markdown":"I think the best way is to use ```file.length == 0```.\r\n\r\nIt is sometimes possible that the first line is empty.","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<p>I think the best way is to use <code>file.length == 0</code>.</p>\n\n<p>It is sometimes possible that the first line is empty.</p>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1514327015,"post_id":47984320,"comment_id":82937632,"body_markdown":"Why not check if `line.isEmpty()`?","body":"Why not check if <code>line.isEmpty()</code>?"},{"owner":{"account_id":12567772,"reputation":11,"user_id":9143028,"display_name":"crazyDeveloper"},"score":0,"creation_date":1529406621,"post_id":47984320,"comment_id":88852876,"body_markdown":"Its because br.readLine will return a non-null value because when a file is created, although it looks empty, it isn&#39;t actually empty. I don&#39;t know for sure which characters are already inside it but the file is not empty even though it looks as if it is.","body":"Its because br.readLine will return a non-null value because when a file is created, although it looks empty, it isn&#39;t actually empty. I don&#39;t know for sure which characters are already inside it but the file is not empty even though it looks as if it is."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1529426388,"post_id":47984320,"comment_id":88864976,"body_markdown":"What&#39;s your point? You think `isEmpty()` will return true if it *looks* empty?","body":"What&#39;s your point? You think <code>isEmpty()</code> will return true if it <i>looks</i> empty?"},{"owner":{"account_id":12567772,"reputation":11,"user_id":9143028,"display_name":"crazyDeveloper"},"score":0,"creation_date":1531912091,"post_id":47984320,"comment_id":89771517,"body_markdown":"No, I did not mean that isEmpty() will return true if it looks empty. We all know that a String is an array of characters and we also know that isEmpty() returns true if the length of the String is zero, but these hidden junk characters that I was talking about are not visible in the file if we open it but they are there and add upto the length of the String thus making isEmpty() an inappropriate method to use here.","body":"No, I did not mean that isEmpty() will return true if it looks empty. We all know that a String is an array of characters and we also know that isEmpty() returns true if the length of the String is zero, but these hidden junk characters that I was talking about are not visible in the file if we open it but they are there and add upto the length of the String thus making isEmpty() an inappropriate method to use here."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1531931886,"post_id":47984320,"comment_id":89785279,"body_markdown":"Why would splitting operate differently?","body":"Why would splitting operate differently?"}],"tags":[],"owner":{"account_id":12567772,"reputation":11,"user_id":9143028,"display_name":"crazyDeveloper"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514326945,"creation_date":1514326945,"answer_id":47984320,"question_id":7190618,"body_markdown":"    String line = br.readLine();\r\n    String[] splitted = line.split(&quot;anySplitCharacter&quot;);\r\n    if(splitted.length == 0)\r\n        //file is empty\r\n    else\r\n        //file is not empty\r\n\r\nI had the same problem with my text file. Although it was empty, the value being returned by the readLine method was not null. Therefore, I tried to assign its value to the String array which I was using to access the splitted attributes of my data. It did work for me. Try this out and tell me if it works for u as well.\r\n\r\n","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<pre><code>String line = br.readLine();\nString[] splitted = line.split(\"anySplitCharacter\");\nif(splitted.length == 0)\n    //file is empty\nelse\n    //file is not empty\n</code></pre>\n\n<p>I had the same problem with my text file. Although it was empty, the value being returned by the readLine method was not null. Therefore, I tried to assign its value to the String array which I was using to access the splitted attributes of my data. It did work for me. Try this out and tell me if it works for u as well.</p>\n"},{"tags":[],"owner":{"account_id":4487977,"reputation":35,"user_id":3649959,"accept_rate":33,"display_name":"user3649959"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630005121,"creation_date":1565339130,"answer_id":57426166,"question_id":7190618,"body_markdown":"I combined the two best solutions to cover all the possibilities:\r\n\r\n```java\r\nFile file = new File(fileName);\r\nBufferedReader br = new BufferedReader(new FileReader(file));     \r\nif (br.readLine() == null &amp;&amp; file.length() == 0)\r\n{\r\n    System.out.println(&quot;No errors, and file empty&quot;);\r\n}                \r\nelse\r\n{\r\n    System.out.println(&quot;File contains something&quot;);\r\n}\r\n```","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<p>I combined the two best solutions to cover all the possibilities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(fileName);\nBufferedReader br = new BufferedReader(new FileReader(file));     \nif (br.readLine() == null &amp;&amp; file.length() == 0)\n{\n    System.out.println(&quot;No errors, and file empty&quot;);\n}                \nelse\n{\n    System.out.println(&quot;File contains something&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":171357,"reputation":3556,"user_id":398713,"accept_rate":81,"display_name":"GPX"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139444,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":7190664,"answer_count":12,"score":33,"last_activity_date":1681659852,"creation_date":1314276454,"question_id":7190618,"body_markdown":"I am trying to check if a log file is empty (meaning no errors) or not, in Java, on Windows. I have tried using 2 methods so far.\r\n\r\n**Method 1 (Failure)**\r\n\r\n    FileInputStream fis = new FileInputStream(new File(sLogFilename));  \r\n    int iByteCount = fis.read();  \r\n    if (iByteCount == -1)  \r\n       \tSystem.out.println(&quot;NO ERRORS!&quot;);\r\n    else\r\n    \tSystem.out.println(&quot;SOME ERRORS!&quot;);\r\n\r\n**Method 2 (Failure)**\r\n\r\n    File logFile = new File(sLogFilename);\r\n    if(logFile.length() == 0)\r\n    \tSystem.out.println(&quot;NO ERRORS!&quot;);\r\n    else\r\n    \tSystem.out.println(&quot;SOME ERRORS!&quot;);\r\n\r\nNow both these methods fail at times when the log file is empty (has no content), yet the file size is not zero (2 bytes).\r\n\r\nWhat is the most efficient *and* accurate method to check if the file is empty? I asked for efficiency, as I have to keep checking the file size thousands of times, in a loop.\r\n\r\n*Note:* The file size would hover around a few to 10 KB only!\r\n\r\n**Method 3 (Failure)**\r\n\r\nFollowing @Cygnusx1&#39;s suggestion, I had tried using a `FileReader` too, without success. Here&#39;s the snippet, if anyone&#39;s interested.\r\n\r\n    Reader reader = new FileReader(sLogFilename);\r\n    int readSize = reader.read();\r\n    if (readSize == -1)\r\n    \tSystem.out.println(&quot;NO ERRORS!&quot;);\r\n    else\r\n    \tSystem.out.println(&quot;SOME ERRORS!&quot;);","title":"Most efficient way to check if a file is empty in Java on Windows","body":"<p>I am trying to check if a log file is empty (meaning no errors) or not, in Java, on Windows. I have tried using 2 methods so far.</p>\n\n<p><strong>Method 1 (Failure)</strong></p>\n\n<pre><code>FileInputStream fis = new FileInputStream(new File(sLogFilename));  \nint iByteCount = fis.read();  \nif (iByteCount == -1)  \n    System.out.println(\"NO ERRORS!\");\nelse\n    System.out.println(\"SOME ERRORS!\");\n</code></pre>\n\n<p><strong>Method 2 (Failure)</strong></p>\n\n<pre><code>File logFile = new File(sLogFilename);\nif(logFile.length() == 0)\n    System.out.println(\"NO ERRORS!\");\nelse\n    System.out.println(\"SOME ERRORS!\");\n</code></pre>\n\n<p>Now both these methods fail at times when the log file is empty (has no content), yet the file size is not zero (2 bytes).</p>\n\n<p>What is the most efficient <em>and</em> accurate method to check if the file is empty? I asked for efficiency, as I have to keep checking the file size thousands of times, in a loop.</p>\n\n<p><em>Note:</em> The file size would hover around a few to 10 KB only!</p>\n\n<p><strong>Method 3 (Failure)</strong></p>\n\n<p>Following @Cygnusx1's suggestion, I had tried using a <code>FileReader</code> too, without success. Here's the snippet, if anyone's interested.</p>\n\n<pre><code>Reader reader = new FileReader(sLogFilename);\nint readSize = reader.read();\nif (readSize == -1)\n    System.out.println(\"NO ERRORS!\");\nelse\n    System.out.println(\"SOME ERRORS!\");\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-actuator","spring-micrometer"],"answers":[{"comments":[{"owner":{"account_id":8175549,"reputation":176,"user_id":6154409,"display_name":"Joe Mwa"},"score":0,"creation_date":1615269854,"post_id":58951336,"comment_id":117632265,"body_markdown":"&quot;method returns gauge itself, whereas MeterRegistry meterRegistry object which is passed to&quot; .. kindly could you share a link to the docs that explain this;","body":"&quot;method returns gauge itself, whereas MeterRegistry meterRegistry object which is passed to&quot; .. kindly could you share a link to the docs that explain this;"},{"owner":{"account_id":8175549,"reputation":176,"user_id":6154409,"display_name":"Joe Mwa"},"score":0,"creation_date":1615274129,"post_id":58951336,"comment_id":117633438,"body_markdown":"Thank you master lol; this should be the correct way to register the metric containers, then increment/decrement/update via methods from this class called from elsewhere.","body":"Thank you master lol; this should be the correct way to register the metric containers, then increment/decrement/update via methods from this class called from elsewhere."},{"owner":{"account_id":248722,"reputation":2399,"user_id":524289,"accept_rate":75,"display_name":"Ilya Ivanov"},"score":1,"creation_date":1698183637,"post_id":58951336,"comment_id":136372491,"body_markdown":"Doc link\nhttps://micrometer.io/docs/concepts#_manually_incrementing_or_decrementing_a_gauge","body":"Doc link <a href=\"https://micrometer.io/docs/concepts#_manually_incrementing_or_decrementing_a_gauge\" rel=\"nofollow noreferrer\">micrometer.io/docs/&hellip;</a>"}],"tags":[],"owner":{"account_id":14071019,"reputation":293,"user_id":10164507,"display_name":"AnMi"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1681659348,"creation_date":1574243489,"answer_id":58951336,"question_id":58919095,"body_markdown":"The thing is that `Gauge.builder()` method returns gauge itself, whereas  `meterRegistry` object which is passed to \r\n\r\n```\r\n@Override\r\npublic void bindTo(MeterRegistry meterRegistry)\r\n``` \r\n\r\nhas method `meterRegistry.gauge()`\r\ncan return a reference to a object-value:\r\n\r\n    AtomicDouble executorCompletedTaskCount = meterRegistry.gauge(&quot;executor.completed.task.count&quot;, new AtomicDouble(completedTaskCount));\r\n\r\nWhich then can be modified in scheduled method.\r\n\r\nThe complete code looks following:\r\n\r\n    @Component\r\n    public class ThreadPoolMetricProbe implements MeterBinder {\r\n\r\n    @Inject\r\n    private Executor taskExecutor;\r\n\r\n    private AtomicDouble executorCompletedTaskCount;\r\n    private AtomicDouble executorMaximumPoolSize;\r\n    private AtomicDouble executorLargestThreadsNumberEver;\r\n    private AtomicDouble executorCurrentNumberOfThreads;\r\n    private AtomicDouble executorTotalTaskCount;\r\n    private AtomicDouble executorActiveThreadsCount;\r\n\r\n    @Override\r\n    public void bindTo(MeterRegistry meterRegistry) {\r\n        ThreadPoolTaskExecutor exec = (ThreadPoolTaskExecutor) taskExecutor;\r\n        long completedTaskCount = exec.getThreadPoolExecutor().getCompletedTaskCount();\r\n        int largestPoolSizeEver = exec.getThreadPoolExecutor().getLargestPoolSize();\r\n        int maximumPoolSize = exec.getThreadPoolExecutor().getMaximumPoolSize();\r\n        int currentNumberOfThreads = exec.getThreadPoolExecutor().getPoolSize();\r\n        long totalTaskCountEver = exec.getThreadPoolExecutor().getTaskCount();\r\n        int activeThreadsCount = exec.getThreadPoolExecutor().getActiveCount();\r\n\r\n        executorCompletedTaskCount = meterRegistry.gauge(&quot;executor.completed.task.count&quot;, new AtomicDouble(completedTaskCount));\r\n        executorMaximumPoolSize = meterRegistry.gauge(&quot;executor.maximum.pool.size&quot;, new AtomicDouble(maximumPoolSize));\r\n        executorLargestThreadsNumberEver = meterRegistry.gauge(&quot;executor.largest.threads.number.ever&quot;, new AtomicDouble(largestPoolSizeEver));\r\n        executorCurrentNumberOfThreads = meterRegistry.gauge(&quot;executor.current.number.of.threads&quot;, new AtomicDouble(currentNumberOfThreads));\r\n        executorTotalTaskCount = meterRegistry.gauge(&quot;executor.total.tasks.ever.countunt&quot;, new AtomicDouble(totalTaskCountEver));\r\n        executorActiveThreadsCount = meterRegistry.gauge(&quot;executor.active.threads.count&quot;, new AtomicDouble(activeThreadsCount));\r\n        \r\n    }\r\n\r\n    @Scheduled(fixedDelay = 5000)\r\n    public void measure(){\r\n        ThreadPoolExecutor threadPoolExecutor = ((ThreadPoolTaskExecutor) taskExecutor).getThreadPoolExecutor();\r\n        executorCompletedTaskCount.set(threadPoolExecutor.getCompletedTaskCount());\r\n        executorMaximumPoolSize.set(threadPoolExecutor.getMaximumPoolSize());\r\n        executorLargestThreadsNumberEver.set(threadPoolExecutor.getLargestPoolSize());\r\n        executorCurrentNumberOfThreads.set(threadPoolExecutor.getPoolSize());\r\n        executorTotalTaskCount.set(threadPoolExecutor.getTaskCount());\r\n        executorActiveThreadsCount.set(threadPoolExecutor.getActiveCount());\r\n    }\r\n\r\nHope it is correct way to update gauge value. \r\n","title":"Micrometer gauge never gets updated","body":"<p>The thing is that <code>Gauge.builder()</code> method returns gauge itself, whereas  <code>meterRegistry</code> object which is passed to</p>\n<pre><code>@Override\npublic void bindTo(MeterRegistry meterRegistry)\n</code></pre>\n<p>has method <code>meterRegistry.gauge()</code>\ncan return a reference to a object-value:</p>\n<pre><code>AtomicDouble executorCompletedTaskCount = meterRegistry.gauge(&quot;executor.completed.task.count&quot;, new AtomicDouble(completedTaskCount));\n</code></pre>\n<p>Which then can be modified in scheduled method.</p>\n<p>The complete code looks following:</p>\n<pre><code>@Component\npublic class ThreadPoolMetricProbe implements MeterBinder {\n\n@Inject\nprivate Executor taskExecutor;\n\nprivate AtomicDouble executorCompletedTaskCount;\nprivate AtomicDouble executorMaximumPoolSize;\nprivate AtomicDouble executorLargestThreadsNumberEver;\nprivate AtomicDouble executorCurrentNumberOfThreads;\nprivate AtomicDouble executorTotalTaskCount;\nprivate AtomicDouble executorActiveThreadsCount;\n\n@Override\npublic void bindTo(MeterRegistry meterRegistry) {\n    ThreadPoolTaskExecutor exec = (ThreadPoolTaskExecutor) taskExecutor;\n    long completedTaskCount = exec.getThreadPoolExecutor().getCompletedTaskCount();\n    int largestPoolSizeEver = exec.getThreadPoolExecutor().getLargestPoolSize();\n    int maximumPoolSize = exec.getThreadPoolExecutor().getMaximumPoolSize();\n    int currentNumberOfThreads = exec.getThreadPoolExecutor().getPoolSize();\n    long totalTaskCountEver = exec.getThreadPoolExecutor().getTaskCount();\n    int activeThreadsCount = exec.getThreadPoolExecutor().getActiveCount();\n\n    executorCompletedTaskCount = meterRegistry.gauge(&quot;executor.completed.task.count&quot;, new AtomicDouble(completedTaskCount));\n    executorMaximumPoolSize = meterRegistry.gauge(&quot;executor.maximum.pool.size&quot;, new AtomicDouble(maximumPoolSize));\n    executorLargestThreadsNumberEver = meterRegistry.gauge(&quot;executor.largest.threads.number.ever&quot;, new AtomicDouble(largestPoolSizeEver));\n    executorCurrentNumberOfThreads = meterRegistry.gauge(&quot;executor.current.number.of.threads&quot;, new AtomicDouble(currentNumberOfThreads));\n    executorTotalTaskCount = meterRegistry.gauge(&quot;executor.total.tasks.ever.countunt&quot;, new AtomicDouble(totalTaskCountEver));\n    executorActiveThreadsCount = meterRegistry.gauge(&quot;executor.active.threads.count&quot;, new AtomicDouble(activeThreadsCount));\n    \n}\n\n@Scheduled(fixedDelay = 5000)\npublic void measure(){\n    ThreadPoolExecutor threadPoolExecutor = ((ThreadPoolTaskExecutor) taskExecutor).getThreadPoolExecutor();\n    executorCompletedTaskCount.set(threadPoolExecutor.getCompletedTaskCount());\n    executorMaximumPoolSize.set(threadPoolExecutor.getMaximumPoolSize());\n    executorLargestThreadsNumberEver.set(threadPoolExecutor.getLargestPoolSize());\n    executorCurrentNumberOfThreads.set(threadPoolExecutor.getPoolSize());\n    executorTotalTaskCount.set(threadPoolExecutor.getTaskCount());\n    executorActiveThreadsCount.set(threadPoolExecutor.getActiveCount());\n}\n</code></pre>\n<p>Hope it is correct way to update gauge value.</p>\n"},{"tags":[],"owner":{"account_id":17723139,"reputation":195,"user_id":12867672,"display_name":"MNK"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1588422044,"creation_date":1588420222,"answer_id":61558888,"question_id":58919095,"body_markdown":"Try using `.strongReference(true)` . \r\n\r\nExample:\r\n\r\n```java\r\nGauge.builder(&quot;executorTotalTaskCount&quot;, taskCount, Double::new)\r\n    .strongReference(true)\r\n    .description(String.format(&quot; Returns the approximate total number of tasks that have ever been scheduled for execution by %s executor&quot;, threadNamePrefix.toLowerCase()))\r\n    .register(meterRegistry);\r\n```","title":"Micrometer gauge never gets updated","body":"<p>Try using <code>.strongReference(true)</code> . </p>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Gauge.builder(\"executorTotalTaskCount\", taskCount, Double::new)\n    .strongReference(true)\n    .description(String.format(\" Returns the approximate total number of tasks that have ever been scheduled for execution by %s executor\", threadNamePrefix.toLowerCase()))\n    .register(meterRegistry);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672824039,"creation_date":1672824039,"answer_id":75003332,"question_id":58919095,"body_markdown":"     meterRegistry.gauge(&quot;key_name&quot;, double)\r\n\r\nthis should give you the counter. You can increment and decrement this counter  just before and after the main processing happens.","title":"Micrometer gauge never gets updated","body":"<pre><code> meterRegistry.gauge(&quot;key_name&quot;, double)\n</code></pre>\n<p>this should give you the counter. You can increment and decrement this counter  just before and after the main processing happens.</p>\n"}],"owner":{"account_id":14071019,"reputation":293,"user_id":10164507,"display_name":"AnMi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8864,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1681659348,"creation_date":1574094812,"question_id":58919095,"body_markdown":"I&#39;m trying to build a custom gauge for micrometer which should monitor custom ThreadPoolTaskExecutor. The problem is that the gauge values are stays the same and never get updated since application start. However executer statistics (which can be seen in debugger) shows changing values.\r\n\r\nHere is my class with gauge configuration.\r\n\r\n    @Component\r\n    public class ThreadPoolMetricProbe implements MeterBinder {\r\n   \r\n    @Inject\r\n    private Executor taskExecutor;\r\n\r\n    @Override\r\n    public void bindTo(MeterRegistry meterRegistry) {\r\n        ThreadPoolTaskExecutor exec = (ThreadPoolTaskExecutor) taskExecutor;\r\n        \r\n        long completedTaskCount = exec.getThreadPoolExecutor().getCompletedTaskCount();\r\n        int largestPoolSize = exec.getThreadPoolExecutor().getLargestPoolSize();\r\n        int maximumPoolSize = exec.getThreadPoolExecutor().getMaximumPoolSize();\r\n        int poolSize = exec.getThreadPoolExecutor().getPoolSize();\r\n        long taskCount = exec.getThreadPoolExecutor().getTaskCount();\r\n        int activeCount = exec.getThreadPoolExecutor().getActiveCount();\r\n        \r\n        String threadNamePrefix = exec.getThreadNamePrefix();\r\n\r\n        Gauge.builder(&quot;executorCompletedTaskCount&quot;, completedTaskCount, Double::new)\r\n                .description(String.format(&quot;Returns the approximate total number of tasks that have completed execution of %s executor&quot;, threadNamePrefix.toLowerCase()))\r\n                .register(meterRegistry);\r\n\r\n        Gauge.builder(&quot;executorLargestThreadsNumber&quot;, largestPoolSize, Double::new)\r\n                .description(String.format(&quot; Returns the largest number of threads that have ever simultaneously been in the pool of %s executor&quot;, threadNamePrefix.toLowerCase()))\r\n                .register(meterRegistry);\r\n\r\n        Gauge.builder(&quot;executorMaximumAllowedThreadsNumber&quot;, maximumPoolSize, Double::new)\r\n                .description(String.format(&quot;Returns the maximum allowed number of threads of %s executor&quot;, threadNamePrefix.toLowerCase()))\r\n                .register(meterRegistry);\r\n\r\n        Gauge.builder(&quot;executorCurrentNumberOfThreads&quot;, poolSize, Double::new)\r\n                .description(String.format(&quot;Returns the current number of threads in the %s executor pool&quot;, threadNamePrefix.toLowerCase()))\r\n                .register(meterRegistry);\r\n\r\n        Gauge.builder(&quot;executorTotalTaskCount&quot;, taskCount, Double::new)\r\n                .description(String.format(&quot; Returns the approximate total number of tasks that have ever been scheduled for execution by %s executor&quot;, threadNamePrefix.toLowerCase()))\r\n                .register(meterRegistry);\r\n\r\n        Gauge.builder(&quot;executorActiveThreadsCount&quot;, activeCount, Double::new)\r\n                .description(String.format(&quot;Returns the approximate number of threads that are actively executing tasks by %s executor&quot;, threadNamePrefix.toLowerCase()))\r\n                .register(meterRegistry);\r\n\r\n\r\n        Metrics.addRegistry(meterRegistry);\r\n\r\n    }\r\n\r\n    @Scheduled(fixedDelay = 5000)\r\n    public void measure(){\r\n        Metrics.gauge(&quot;executorCompletedTaskCount&quot;,((ThreadPoolTaskExecutor) taskExecutor).getThreadPoolExecutor().getCompletedTaskCount());\r\n        Metrics.gauge(&quot;executorTotalTaskCount&quot;,((ThreadPoolTaskExecutor) taskExecutor).getThreadPoolExecutor().getTaskCount());\r\n        Metrics.gauge(&quot;executorCurrentNumberOfThreads&quot;,((ThreadPoolTaskExecutor) taskExecutor).getThreadPoolExecutor().getPoolSize());\r\n       }\r\n    }\r\n\r\nI&#39;m registering here several gauges and expecting them to be updated once per request or...\r\nThe method measure is mu last attempt to find correct approach to monitor and update values.\r\n\r\nSo the questions are:\r\n\r\n 1. Are gauges automatically updated? If yes - how often?\r\n 2. If gauges aren&#39;t updated automatically - then how to update them\r\n   correctly?\r\n 3. Is gauge correct object for such measurements? AFAIK I cannot use\r\n   counters since some of values can be decremented.\r\n 4. Do I need to do Metrics.addRegistry(meterRegistry) after all\r\n    gauges are created ?","title":"Micrometer gauge never gets updated","body":"<p>I'm trying to build a custom gauge for micrometer which should monitor custom ThreadPoolTaskExecutor. The problem is that the gauge values are stays the same and never get updated since application start. However executer statistics (which can be seen in debugger) shows changing values.</p>\n\n<p>Here is my class with gauge configuration.</p>\n\n<pre><code>@Component\npublic class ThreadPoolMetricProbe implements MeterBinder {\n\n@Inject\nprivate Executor taskExecutor;\n\n@Override\npublic void bindTo(MeterRegistry meterRegistry) {\n    ThreadPoolTaskExecutor exec = (ThreadPoolTaskExecutor) taskExecutor;\n\n    long completedTaskCount = exec.getThreadPoolExecutor().getCompletedTaskCount();\n    int largestPoolSize = exec.getThreadPoolExecutor().getLargestPoolSize();\n    int maximumPoolSize = exec.getThreadPoolExecutor().getMaximumPoolSize();\n    int poolSize = exec.getThreadPoolExecutor().getPoolSize();\n    long taskCount = exec.getThreadPoolExecutor().getTaskCount();\n    int activeCount = exec.getThreadPoolExecutor().getActiveCount();\n\n    String threadNamePrefix = exec.getThreadNamePrefix();\n\n    Gauge.builder(\"executorCompletedTaskCount\", completedTaskCount, Double::new)\n            .description(String.format(\"Returns the approximate total number of tasks that have completed execution of %s executor\", threadNamePrefix.toLowerCase()))\n            .register(meterRegistry);\n\n    Gauge.builder(\"executorLargestThreadsNumber\", largestPoolSize, Double::new)\n            .description(String.format(\" Returns the largest number of threads that have ever simultaneously been in the pool of %s executor\", threadNamePrefix.toLowerCase()))\n            .register(meterRegistry);\n\n    Gauge.builder(\"executorMaximumAllowedThreadsNumber\", maximumPoolSize, Double::new)\n            .description(String.format(\"Returns the maximum allowed number of threads of %s executor\", threadNamePrefix.toLowerCase()))\n            .register(meterRegistry);\n\n    Gauge.builder(\"executorCurrentNumberOfThreads\", poolSize, Double::new)\n            .description(String.format(\"Returns the current number of threads in the %s executor pool\", threadNamePrefix.toLowerCase()))\n            .register(meterRegistry);\n\n    Gauge.builder(\"executorTotalTaskCount\", taskCount, Double::new)\n            .description(String.format(\" Returns the approximate total number of tasks that have ever been scheduled for execution by %s executor\", threadNamePrefix.toLowerCase()))\n            .register(meterRegistry);\n\n    Gauge.builder(\"executorActiveThreadsCount\", activeCount, Double::new)\n            .description(String.format(\"Returns the approximate number of threads that are actively executing tasks by %s executor\", threadNamePrefix.toLowerCase()))\n            .register(meterRegistry);\n\n\n    Metrics.addRegistry(meterRegistry);\n\n}\n\n@Scheduled(fixedDelay = 5000)\npublic void measure(){\n    Metrics.gauge(\"executorCompletedTaskCount\",((ThreadPoolTaskExecutor) taskExecutor).getThreadPoolExecutor().getCompletedTaskCount());\n    Metrics.gauge(\"executorTotalTaskCount\",((ThreadPoolTaskExecutor) taskExecutor).getThreadPoolExecutor().getTaskCount());\n    Metrics.gauge(\"executorCurrentNumberOfThreads\",((ThreadPoolTaskExecutor) taskExecutor).getThreadPoolExecutor().getPoolSize());\n   }\n}\n</code></pre>\n\n<p>I'm registering here several gauges and expecting them to be updated once per request or...\nThe method measure is mu last attempt to find correct approach to monitor and update values.</p>\n\n<p>So the questions are:</p>\n\n<ol>\n<li>Are gauges automatically updated? If yes - how often?</li>\n<li>If gauges aren't updated automatically - then how to update them\ncorrectly?</li>\n<li>Is gauge correct object for such measurements? AFAIK I cannot use\ncounters since some of values can be decremented.</li>\n<li>Do I need to do Metrics.addRegistry(meterRegistry) after all\ngauges are created ?</li>\n</ol>\n"},{"tags":["java","graphics","svg","graphics2d"],"comments":[{"owner":{"account_id":20629,"reputation":36635,"user_id":49478,"accept_rate":67,"display_name":"Anthony"},"score":1,"creation_date":1333097675,"post_id":9939727,"comment_id":12690296,"body_markdown":"I googled for this and the first promising thing that came up was [JViews](http://www-01.ibm.com/software/integration/visualization/java/). Is that along the right lines? I don&#39;t want to post as an answer since I have no clue about Graphics2D, but most of the SVG standard is inline or dumbed down from standard vector concepts, other than CSS, so I imagine a converter exists.","body":"I googled for this and the first promising thing that came up was <a href=\"http://www-01.ibm.com/software/integration/visualization/java/\" rel=\"nofollow noreferrer\">JViews</a>. Is that along the right lines? I don&#39;t want to post as an answer since I have no clue about Graphics2D, but most of the SVG standard is inline or dumbed down from standard vector concepts, other than CSS, so I imagine a converter exists."},{"owner":{"account_id":957138,"reputation":13164,"user_id":982238,"accept_rate":71,"display_name":"Uko"},"score":0,"creation_date":1333189568,"post_id":9939727,"comment_id":12713185,"body_markdown":"@Anthony I don&#39;t get yet how JViews can help me. Bu the idea is like this. My app lets user to add custom elements. Element has it&#39;s graphical representation (in Graphics2D, standard Java vector stuff). I want to give user an option to add elements picture in easy way. I&#39;ve chosen SVG format as it&#39;s super easy to create it using some free stuff, even online generators. Now I want to find a solution how to draw a data from it in graphics 2d.","body":"@Anthony I don&#39;t get yet how JViews can help me. Bu the idea is like this. My app lets user to add custom elements. Element has it&#39;s graphical representation (in Graphics2D, standard Java vector stuff). I want to give user an option to add elements picture in easy way. I&#39;ve chosen SVG format as it&#39;s super easy to create it using some free stuff, even online generators. Now I want to find a solution how to draw a data from it in graphics 2d."},{"owner":{"account_id":20629,"reputation":36635,"user_id":49478,"accept_rate":67,"display_name":"Anthony"},"score":0,"creation_date":1333217251,"post_id":9939727,"comment_id":12718447,"body_markdown":"The main link wasn&#39;t very informative, but when I google for it, tons of stuff came up. Look at this one, fors starters: http://pic.dhe.ibm.com/infocenter/jviewmap/v8r7/index.jsp?topic=%2Fcom.ibm.ilog.jviews.defense.doc%2Fjviews-framework87%2Fsamples%2Fsvg%2Findex.html","body":"The main link wasn&#39;t very informative, but when I google for it, tons of stuff came up. Look at this one, fors starters: <a href=\"http://pic.dhe.ibm.com/infocenter/jviewmap/v8r7/index.jsp?topic=%2Fcom.ibm.ilog.jviews.defense.doc%2Fjviews-framework87%2Fsamples%2Fsvg%2Findex.html\" rel=\"nofollow noreferrer\">pic.dhe.ibm.com/infocenter/jviewmap/v8r7/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":153385,"reputation":426,"user_id":368613,"display_name":"imy"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1334435634,"creation_date":1334435634,"answer_id":10157143,"question_id":9939727,"body_markdown":"Try to look at [SVG Salamander](http://svgsalamander.java.net/ &quot;An SVG engine for Java that&#39;s designed to be small.&quot;) library. On [this page](http://svgsalamander.java.net/docs/use.html &quot;How to use SVG Salamander in your program&quot;) there are some starting tips. It&#39;s a good thing if You want only to draw some svgs.","title":"SVG to Java Graphics2D","body":"<p>Try to look at <a href=\"http://svgsalamander.java.net/\" rel=\"noreferrer\" title=\"An SVG engine for Java that&#39;s designed to be small.\">SVG Salamander</a> library. On <a href=\"http://svgsalamander.java.net/docs/use.html\" rel=\"noreferrer\" title=\"How to use SVG Salamander in your program\">this page</a> there are some starting tips. It's a good thing if You want only to draw some svgs.</p>\n"}],"owner":{"account_id":957138,"reputation":13164,"user_id":982238,"accept_rate":71,"display_name":"Uko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9341,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1681574879,"accepted_answer_id":10157143,"answer_count":1,"score":4,"last_activity_date":1681658530,"creation_date":1333097307,"question_id":9939727,"body_markdown":"Can anyone suggest some good way to generate Graphics2D object form SVG data?\r\n\r\nI&#39;ve seen Apache Batic lib, but it seams that they use some JSVGCanvas that gets the URI etc‚Ä¶ And I want a Graphics2D stuff instead of JComponent.\r\n\r\nThanks for any suggestions!","title":"SVG to Java Graphics2D","body":"<p>Can anyone suggest some good way to generate Graphics2D object form SVG data?</p>\n\n<p>I've seen Apache Batic lib, but it seams that they use some JSVGCanvas that gets the URI etc‚Ä¶ And I want a Graphics2D stuff instead of JComponent.</p>\n\n<p>Thanks for any suggestions!</p>\n"},{"tags":["java","spring-boot","asciidoctor","asciidoctor-pdf"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681658604,"post_id":75993278,"comment_id":134088567,"body_markdown":"Have you tried with a newer version? For example `org.asciidoctor:asciidoctorj:2.5.8`? Also the maximum metaspace is not reflected by `Runtime.getRuntime().maxMemory()`, so using that is wrong. You may want to include the commandline you use to run Java","body":"Have you tried with a newer version? For example <code>org.asciidoctor:asciidoctorj:2.5.8</code>? Also the maximum metaspace is not reflected by <code>Runtime.getRuntime().maxMemory()</code>, so using that is wrong. You may want to include the commandline you use to run Java"}],"owner":{"account_id":28282759,"reputation":1,"user_id":21624169,"display_name":"Vamshi Kasarla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681658320,"creation_date":1681287102,"question_id":75993278,"body_markdown":"I am currently attempting to deploy a JAR file that converts an Asciidoc file to a PDF file. However, when attempting to convert an Asciidoc file larger than 10kb, I am encountering an out of memory error related to Metaspace. Despite allocating 700MB to Metaspace, the issue persists. How can I resolve this error?\r\n\r\n```java\r\nimport org.asciidoctor.*;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.*;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.io.File;\r\nimport java.util.Map;\r\nimport static org.asciidoctor.OptionsBuilder.options;\r\n\r\n@RestController\r\npublic class Test {\r\n  private static final String OUTPUT_DIR = new File(&quot;.&quot;).getAbsolutePath();\r\n  @Autowired\r\n  private HttpServletRequest request;\r\n\r\n  @PostMapping(&quot;/test&quot;)\r\n  public ResponseEntity&lt;byte[]&gt; handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file)  {\r\n    if (!file.isEmpty()) {\r\n      try {\r\n        //Copying th Uploaded file into the ./ Current Directory (./swaggerFile.yaml)\r\n        String fileName = StringUtils.cleanPath(file.getOriginalFilename());\r\n        File uploadedFile = new File(OUTPUT_DIR + File.separator + fileName);\r\n        file.transferTo(uploadedFile);\r\n\r\n        Asciidoctor asciidoctor = Asciidoctor.Factory.create();\r\n\r\n        Map&lt;String, Object&gt; options = options().inPlace(true)\r\n          .backend(&quot;pdf&quot;)\r\n          .asMap();\r\n\r\n        asciidoctor.convertFile(uploadedFile,options);\r\n\r\n        long maxMetaspace = Runtime.getRuntime().maxMemory();\r\n        double maxMetaspaceInMB = (double) maxMetaspace / (1024 * 1024);\r\n        System.out.println(&quot;Max Metaspace Size: &quot; + maxMetaspaceInMB + &quot; MB&quot;);\r\n\r\n        String msg = &quot;PDF CONVERTED&quot;;\r\n        byte[] m = msg.getBytes();\r\n        return new ResponseEntity&lt;&gt;(m,HttpStatus.OK);\r\n      } catch (Exception e) {\r\n        String errorMessage = &quot;FAILED&quot; + e.getMessage();\r\n        byte[] errorMessageBytes = errorMessage.getBytes();\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n        return new ResponseEntity&lt;&gt;(errorMessageBytes, headers, HttpStatus.INTERNAL_SERVER_ERROR);\r\n      }\r\n    } else {\r\n      String errorMessage = &quot;File Should not be Empty &quot;;\r\n      byte[] errorMessageBytes = errorMessage.getBytes();\r\n      HttpHeaders headers = new HttpHeaders();\r\n      headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n      return new ResponseEntity&lt;&gt;(errorMessageBytes, headers, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.github.swagger2markup&lt;/groupId&gt;\r\n  &lt;artifactId&gt;swagger2markup&lt;/artifactId&gt;\r\n  &lt;version&gt;1.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n  &lt;artifactId&gt;asciidoctorj&lt;/artifactId&gt;\r\n  &lt;version&gt;2.4.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n  &lt;artifactId&gt;asciidoctorj-pdf&lt;/artifactId&gt;\r\n  &lt;version&gt;2.3.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Terminating due to java.lang.OutOfMemoryError: Metaspace (AsciiDoctorj-pdf)","body":"<p>I am currently attempting to deploy a JAR file that converts an Asciidoc file to a PDF file. However, when attempting to convert an Asciidoc file larger than 10kb, I am encountering an out of memory error related to Metaspace. Despite allocating 700MB to Metaspace, the issue persists. How can I resolve this error?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.asciidoctor.*;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.*;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.File;\nimport java.util.Map;\nimport static org.asciidoctor.OptionsBuilder.options;\n\n@RestController\npublic class Test {\n  private static final String OUTPUT_DIR = new File(&quot;.&quot;).getAbsolutePath();\n  @Autowired\n  private HttpServletRequest request;\n\n  @PostMapping(&quot;/test&quot;)\n  public ResponseEntity&lt;byte[]&gt; handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file)  {\n    if (!file.isEmpty()) {\n      try {\n        //Copying th Uploaded file into the ./ Current Directory (./swaggerFile.yaml)\n        String fileName = StringUtils.cleanPath(file.getOriginalFilename());\n        File uploadedFile = new File(OUTPUT_DIR + File.separator + fileName);\n        file.transferTo(uploadedFile);\n\n        Asciidoctor asciidoctor = Asciidoctor.Factory.create();\n\n        Map&lt;String, Object&gt; options = options().inPlace(true)\n          .backend(&quot;pdf&quot;)\n          .asMap();\n\n        asciidoctor.convertFile(uploadedFile,options);\n\n        long maxMetaspace = Runtime.getRuntime().maxMemory();\n        double maxMetaspaceInMB = (double) maxMetaspace / (1024 * 1024);\n        System.out.println(&quot;Max Metaspace Size: &quot; + maxMetaspaceInMB + &quot; MB&quot;);\n\n        String msg = &quot;PDF CONVERTED&quot;;\n        byte[] m = msg.getBytes();\n        return new ResponseEntity&lt;&gt;(m,HttpStatus.OK);\n      } catch (Exception e) {\n        String errorMessage = &quot;FAILED&quot; + e.getMessage();\n        byte[] errorMessageBytes = errorMessage.getBytes();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n        return new ResponseEntity&lt;&gt;(errorMessageBytes, headers, HttpStatus.INTERNAL_SERVER_ERROR);\n      }\n    } else {\n      String errorMessage = &quot;File Should not be Empty &quot;;\n      byte[] errorMessageBytes = errorMessage.getBytes();\n      HttpHeaders headers = new HttpHeaders();\n      headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n      return new ResponseEntity&lt;&gt;(errorMessageBytes, headers, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n  }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.github.swagger2markup&lt;/groupId&gt;\n  &lt;artifactId&gt;swagger2markup&lt;/artifactId&gt;\n  &lt;version&gt;1.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n  &lt;artifactId&gt;asciidoctorj&lt;/artifactId&gt;\n  &lt;version&gt;2.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n  &lt;artifactId&gt;asciidoctorj-pdf&lt;/artifactId&gt;\n  &lt;version&gt;2.3.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","arraylist","text","methods","hashmap"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1681657016,"post_id":76028425,"comment_id":134088330,"body_markdown":"if you notice `Room currentRoom = playerStats.getLocation(); String result = takeItem(itemName, playerStats, currentRoom);` you are not passing the currentRoom that is being setup by setup(). You are passing the default value from playerStats, which is null","body":"if you notice <code>Room currentRoom = playerStats.getLocation(); String result = takeItem(itemName, playerStats, currentRoom);</code> you are not passing the currentRoom that is being setup by setup(). You are passing the default value from playerStats, which is null"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1681657136,"post_id":76028425,"comment_id":134088348,"body_markdown":"it would make more sense if your PlayerStats constructor takes a string for location, then in your code, you setup first, _THEN_ pass the currentRoom string to the playerstats constructor like so: `setup(); PlayerStats playerStats = new PlayerStats(this.currentRoom);`","body":"it would make more sense if your PlayerStats constructor takes a string for location, then in your code, you setup first, <i>THEN</i> pass the currentRoom string to the playerstats constructor like so: <code>setup(); PlayerStats playerStats = new PlayerStats(this.currentRoom);</code>"},{"owner":{"account_id":27948642,"reputation":1,"user_id":21343042,"display_name":"Nick Slack"},"score":0,"creation_date":1681661533,"post_id":76028425,"comment_id":134089013,"body_markdown":"Sorry but how do I actually do this?","body":"Sorry but how do I actually do this?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1681695307,"post_id":76028425,"comment_id":134092980,"body_markdown":"add a new constructor/modify your current constructor to take a string","body":"add a new constructor/modify your current constructor to take a string"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681657907,"creation_date":1681656912,"answer_id":76028484,"question_id":76028425,"body_markdown":"You initializes `currentRoom` to `clearing` in `setUp()` which is of type `String`.\r\n\r\nBut then in the `&quot;take&quot;` method your re-declare `currentRoom` as type `Room` and you use the `location` in the `Player` class.\r\n```\r\n} else {\r\n    String itemName = command.split(&quot; &quot;)[1];\r\n    Room currentRoom = playerStats.getLocation();\r\n    String result = takeItem(itemName, playerStats, currentRoom);\r\n    System.out.println(result);\r\n}\r\n```\r\nSo it appears that the global `location` is never used, and the `Player` location variable is never initialized.\r\n","title":"Text adventure game. One method thinking that I am not in any room when I am, in Java","body":"<p>You initializes <code>currentRoom</code> to <code>clearing</code> in <code>setUp()</code> which is of type <code>String</code>.</p>\n<p>But then in the <code>&quot;take&quot;</code> method your re-declare <code>currentRoom</code> as type <code>Room</code> and you use the <code>location</code> in the <code>Player</code> class.</p>\n<pre><code>} else {\n    String itemName = command.split(&quot; &quot;)[1];\n    Room currentRoom = playerStats.getLocation();\n    String result = takeItem(itemName, playerStats, currentRoom);\n    System.out.println(result);\n}\n</code></pre>\n<p>So it appears that the global <code>location</code> is never used, and the <code>Player</code> location variable is never initialized.</p>\n"}],"owner":{"account_id":27948642,"reputation":1,"user_id":21343042,"display_name":"Nick Slack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1681657907,"creation_date":1681656250,"question_id":76028425,"body_markdown":"Hi so like I said I am making a text adventure game in Java and for some reason, everything else works except the method that makes it so when I am in a room I can pick up any items there. It thinks I am not in a room and returns a null value, even though I have initialized the starting value. Also sorry in advance I have multiple classes where the issue could be, I wouldn&#39;t ask if I had any ideas left on how to fix it.\r\n\r\nHere is my main game class where the takeItems method and the function to actually take items is added: \r\n\t\r\n      //Code to go from room to room\r\n\t   static HashMap&lt;String,Room&gt; roomList = new HashMap&lt;String, Room&gt;();\r\n\t   static String currentRoom;\r\n\t   static PlayerStats player;\r\n\t   static boolean isPlaying = true;\r\n\t\r\n\t//Actual start\r\n\tpublic static void main(String[] args) {\r\n\t\tPlayerStats playerStats = new PlayerStats();\r\n\t\tCombatTest combatTest = new CombatTest();\r\n\t\tsetup(); \r\n\t\t    \r\n\t\tSystem.out.println(&quot;Welcome&quot;);\r\n\t\tlookAtRoom(true);\t\t\r\n\t\t\r\n\t\twhile(isPlaying) {\r\n\t\t\tString command = getCommand().toLowerCase();\r\n\t\t\tString word1 = command.split(&quot; &quot;)[0];\t\t\t\r\n\t\t\t\r\n\t\t\tswitch(word1.toLowerCase()) {\r\n\t\t\tcase &quot;n&quot;: case &quot;s&quot;: case &quot;w&quot;: case &quot;e&quot;: case &quot;u&quot;: case &quot;d&quot;:\r\n\t\t\tcase &quot;north&quot;: case &quot;south&quot;: case &quot;west&quot;: case &quot;east&quot;: case &quot;up&quot;: case &quot;down&quot;:\r\n\t\t\t\tmoveToRoom(word1.charAt(0), playerStats, combatTest);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;i&quot;: case &quot;inventory&quot;:\r\n\t\t\t\tshowInventory(playerStats);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;look&quot;:\r\n\t\t\t\tlookAtRoom(true);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;hp&quot;: case &quot;h&quot;:\r\n\t\t\t\tSystem.out.println(&quot;Your health is: &quot; + playerStats.getHealth());\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;take&quot;:\r\n\t\t\t    if(command.split(&quot; &quot;).length &lt; 2) {\r\n\t\t\t        System.out.println(&quot;What do you want to take?&quot;);\r\n\t\t\t    } else {\r\n\t\t\t        String itemName = command.split(&quot; &quot;)[1];\r\n\t\t\t        Room currentRoom = playerStats.getLocation();\r\n\t\t\t        String result = takeItem(itemName, playerStats, currentRoom);\r\n\t\t\t        System.out.println(result);\r\n\t\t\t    }\r\n\t\t\t    break;\r\n\t\t\tdefault: \r\n\t\t\t\tSystem.out.println(&quot;Sorry, I don&#39;t understand that command&quot;);\r\n\t\t\t\tlookAtRoom(true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t //Taking items\r\n\t  public static String takeItem(String itemName, PlayerStats playerStats, Room \r\n      currentRoom) {\r\n\r\n\t     if (currentRoom == null) {\r\n\t         System.out.println(&quot;The player is not in a room!&quot;);\r\n\t         return &quot;&quot;;\r\n\t     } \r\n\t      Item item = currentRoom.getItem(itemName);\r\n\t      if (item == null) {\r\n\t        return &quot;There is no &quot; + itemName + &quot; in this room.&quot;;\r\n\t     } else {\r\n\t         playerStats.addItem(item);\r\n\t         currentRoom.getItems().remove(item);\r\n\t         return &quot;You have taken the &quot; + itemName + &quot;.&quot;;\r\n\t     } \r\n\t }\r\n\r\n\t //This will crash if you move to a room that does not exist in the hashmap.\r\n\t public static void moveToRoom(char dir, PlayerStats playerStats, CombatTest combatTest) \r\n     {\r\n\t     Room currentRoomObject = roomList.get(currentRoom);\r\n\t     String newRoom = currentRoomObject.getExit(dir);\r\n \r\n    \t    if (newRoom.length() == 0) {\r\n\t         System.out.println(&quot;You can&#39;t go that way&quot;);\r\n\t         lookAtRoom(true);\r\n\t         return;\r\n\t      }\r\n \r\n    \t    ArrayList&lt;Enemy&gt; enemies = currentRoomObject.getEnemies();\r\n \t\r\n\t      //Bandit Encounter\r\n\t      if (newRoom.equals(&quot;dirty&quot;) &amp;&amp; !enemies.isEmpty()) {\r\n\t         System.out.println(&quot;As you step onto the dirty path, three bandits jump out \r\n           from the shadows and attack you!&quot;);\r\n\t        for (int i = 0; i &lt; enemies.size(); i++) {\r\n\t            combatTest.run(enemies.get(i));\r\n\t        }\r\n\t        for (int i = enemies.size() - 1; i &gt;= 0; i--) {\r\n\t            if (enemies.get(i).getHealth() &lt;= 0) {\r\n\t                enemies.remove(i);\r\n\t            }\r\n\t        }\r\n\t        if (enemies.isEmpty()) {\r\n\t            System.out.println(&quot;You have defeated all the bandits in this area! You can \r\n                continue on your journey!&quot;);\r\n\t        }\r\n\t    }\r\n\t   \r\n\t   //Goblin encounter\r\n\t    else if (newRoom.equals(&quot;cityGate&quot;) &amp;&amp; !enemies.isEmpty()) {\r\n\t        System.out.println(&quot;As you leave the clearing, three goblins jump out from the \r\n            bushes and attack you!&quot;);\r\n\t        for (int i = 0; i &lt; enemies.size(); i++) {\r\n\t            combatTest.run(enemies.get(i));\r\n\t        }\r\n\t        for (int i = enemies.size() - 1; i &gt;= 0; i--) {\r\n\t            if (enemies.get(i).getHealth() &lt;= 0) {\r\n\t                enemies.remove(i);\r\n\t            }\r\n\t        }\r\n\t        if (enemies.isEmpty()) {\r\n\t            System.out.println(&quot;You have defeated all the goblins in your path! You can \r\n                continue on your journey!&quot;);\r\n\t        }\r\n\t    }\r\n\t   \r\n\t   //Going to the new room\r\n\t    currentRoom = newRoom;\r\n\t    lookAtRoom(true);\r\n\t}\r\n\t\t\r\n      //looking at the rooms\r\n\t  private static void lookAtRoom(boolean b) {\r\n\t     Room rm = roomList.get(currentRoom);\r\n\t     System.out.println(&quot;\\n== &quot; + rm.getTitle() + &quot; ==&quot;);\r\n\t     System.out.println(rm.getDesc());\r\n\t  }\r\n\t\t\r\n\r\n\t  private static void showInventory(PlayerStats playerStats) {\r\n\t     ArrayList&lt;Item&gt; inventory = playerStats.getInventory();\r\n\t     if (inventory.isEmpty()) {\r\n\t         System.out.println(&quot;Your inventory is empty&quot;);\r\n\t     } else {\r\n\t         System.out.println(&quot;Inventory:&quot;);\r\n\t         for (Item item : inventory) {\r\n\t             System.out.println(&quot;- &quot; + item.getName());\r\n\t         }\r\n\t      }\r\n\t     lookAtRoom(true);\r\n\t  }\r\n\r\n\t   static Scanner sc = new Scanner(System.in);\r\n\t   static String getCommand() {\r\n\t\tSystem.out.print(&quot;=&gt; &quot;);\t\t\r\n\t\tString text = sc.nextLine();\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\tif (text.length() == 0) text = &quot;qwerty&quot;; //default command\t\t\r\n\t\treturn text;\r\n\t  }\r\n\t\r\n\t  static void setup() {\r\n\t    \tRoom.setupRooms(roomList);\r\n\t\t    currentRoom = &quot;clearing&quot;; //where you start\r\n\t   }\r\n     }\r\n \r\n\r\nHere is the Room class that deals with going from room to room as well as where the items are actually added to the rooms, right now I just have a dagger and some coins in the &quot;clearing&quot; so I could test: \r\n\r\n      import java.util.ArrayList;\r\n      import java.util.HashMap;\r\n    \r\n      class Room {\r\n    \r\n        \tprivate String title;\r\n        \tprivate String description;\t\r\n    \t    private String N,S,E,W;\r\n    \t    private ArrayList&lt;Item&gt; itemList = new ArrayList&lt;Item&gt;();\r\n    \t    public ArrayList&lt;Enemy&gt; enemyList = new ArrayList&lt;Enemy&gt;(); // added for enemies \r\n     in the room\r\n    \r\n    \t public ArrayList&lt;Enemy&gt; getEnemyList() {\r\n    \t        return enemyList;\r\n    \t    }\r\n    \t \r\n    \t //Itemlist thing\r\n    \t public void addItem(Item item) {\r\n    \t        itemList.add(item);\r\n    \t    }\r\n    \t \r\n    \t public Item getItem(String itemName) {\r\n    \t\t    for (Item item : itemList) {\r\n    \t\t        if (item.getName().equals(itemName)) {\r\n    \t\t            return item;\r\n    \t\t        }\r\n    \t\t    }\r\n    \t\t    return null;\r\n    \t\t}\r\n    \r\n    \t    public ArrayList&lt;Item&gt; getItems() {\r\n    \t        return itemList;\r\n    \t    }\r\n    \t \r\n    \tRoom(String t, String d) {\r\n    \t\ttitle = t;\r\n    \t\tdescription = d;\r\n    \t}\r\n    \t\r\n    \tprivate void setExits(String N, String S, String W, String E) {\r\n    \t\tthis.N = N;\r\n    \t\tthis.S = S;\r\n    \t\tthis.W = W;\r\n    \t\tthis.E = E;\t\t\r\n    \t}\r\n    \t\r\n    \tString getExit(char c) {\r\n    \t\tswitch (c) {\r\n    \t\tcase &#39;n&#39;: return this.N;\r\n    \t\tcase &#39;s&#39;: return this.S;\r\n    \t\tcase &#39;w&#39;: return this.W;\r\n    \t\tcase &#39;e&#39;: return this.E;\r\n    \t\tdefault: return null;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tString getTitle() {return title;}\r\n    \tString getDesc() {return description;}\r\n    \t\r\n    \tpublic ArrayList&lt;Enemy&gt; getEnemies() {\r\n    \t    return this.enemyList;\r\n    \t}\r\n    \t\r\n    \tpublic static Room getRoom(String name, ArrayList&lt;Room&gt; roomList) {\r\n    \t    for (Room room : roomList) {\r\n    \t        if (room.getTitle().equals(name)) {\r\n    \t            return room;\r\n    \t        }\r\n    \t    }\r\n    \t    return null;\r\n    \t}\r\n    \t\r\n    \t// done at the beginning of the game\r\n    \tstatic void setupRooms(HashMap &lt;String, Room&gt; roomList) {\r\n    \t\t\r\n    \t\t//Going north into the city routes\r\n    \t\tRoom r = new Room(&quot;Clearing&quot;, &quot;You are in a small clearing in a&quot; +\r\n    \t&quot; forest. You hear birds singing. You can also hear faint voices to the north of \r\n           you. You also notice a strange rock.&quot;);\r\n    \t\tr.enemyList.add(new Goblin()); // add three goblins to the clearing\r\n    \t\tr.enemyList.add(new Goblin());\r\n    \t\tr.enemyList.add(new Goblin());\r\n    \t\t\r\n    \t\tr.addItem(new Item(&quot;Coins&quot;, &quot;Shiny gold coins that can be traded for goods&quot;, 5, \r\n            0));\r\n    \t\tr.addItem(new Item(&quot;Dagger&quot;, &quot;A sturdy dagger that does 1 damage&quot;, 1, 1));\r\n    \t\t\r\n    \t\tr.setExits(&quot;cityGate&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n    \t\troomList.put(&quot;clearing&quot;, r);\r\n    \t\t\r\n    \t\t\r\n    \t\tr = new Room(&quot;City Gates&quot;, &quot;You see the gates of a city as you&quot; +\r\n    \t\t&quot; approach the voices, there are guards outside the gates. You also see a \r\n            suspicious looking man at the edge of the forest to the west.&quot;);\r\n    \t\tr.setExits(&quot;market&quot;, &quot;clearing&quot;, &quot;susman&quot;, &quot;&quot;);\r\n    \t\troomList.put(&quot;cityGate&quot;, r);\r\n    \t\t\r\n    \t\t//all the different shops and the market place.\r\n    \t\tr = new Room(&quot;Market Place&quot;, &quot;When you enter the city you see a &quot;+\r\n    \t\t&quot;busy marketplace, to the west of you is a supplies shop,&quot; +\r\n    \t\t&quot; to the east of you there is a weapons shop. You can see a large castle in the \r\n            distance northwards.&quot;);\r\n    \t\tr.setExits(&quot;ornate&quot;, &quot;cityGate&quot;, &quot;supplyMerchant&quot;, &quot;weaponsMerchant&quot;);\r\n    \t\troomList.put(&quot;market&quot;, r);\r\n    \t\t\r\n    \t\tr = new Room(&quot;Suspicious Man&quot;, &quot;As you approach the man he notices you and \r\n             quietly says \\&quot;Hey! Hey you! Over here!\\&quot; He motions for you to enter a forest \r\n            clearing and says \\&quot;Hello stranger! I have some... not so legally aquired items \r\n            for sale. So what&#39;re you buyin?\\&quot; &quot;);\r\n    \t\tr.setExits(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;cityGate&quot;);\r\n    \t\troomList.put(&quot;susman&quot;, r);\r\n    \t\t\r\n    \t\tr = new Room(&quot;Weapons Merchant&quot;, &quot;As you walk towards the weapons merachant he \r\n            says \\&quot;Welcome good sir! I have the finest weapons in the whole realm! Best \r\n            prices too! Now look around and see what you are interested in! \\&quot; &quot;);\r\n    \t\tr.setExits(&quot;&quot;, &quot;&quot;, &quot;market&quot;, &quot;&quot;);\r\n    \t\troomList.put(&quot;weaponsMerchant&quot;, r);\r\n    \t\t\r\n    \t\tr = new Room(&quot;Supplies Merchant&quot;, &quot;As you walk towards the weapons merachant he \r\n            says \\&quot;Hello sir! I have a variety of different items for sale. Please look to \r\n             your hearts content and buy whatever your heart desires.\\&quot; &quot;);\r\n    \t\tr.setExits(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;market&quot;);\r\n    \t\troomList.put(&quot;supplyMerchant&quot;, r);\r\n    \t\t\r\n    \t\t//Towards the castle/dungeon\r\n    \t\tr = new Room(&quot;Ornate Path&quot;, &quot;As you walk towards the castle you walk along an \r\n            ornate path, it is made of marble and has fancy looking lanterns hanging above \r\n            to provide light. You reach a branch in the road, you can either continue north \r\n            towards the castle, or step off the main path eastward into a much less ornate, \r\n            dirty looking path. You cannot tell where the dirty looking path leads.&quot;);\r\n    \t\tr.enemyList.add(new Bandit()); // add three bandits to the clearing\r\n    \t\tr.enemyList.add(new Bandit());\r\n    \t\tr.enemyList.add(new Bandit());\r\n    \t\tr.setExits(&quot;castle&quot;, &quot;market&quot;, &quot;&quot;, &quot;dirty&quot;);\r\n    \t\troomList.put(&quot;ornate&quot;, r);\r\n    \t\t\r\n    \t\t//Dungeon Route\r\n    \t\tr = new Room(&quot;Dirty Path&quot;, &quot;As you walk along the dirty path you evntually see a \r\n            small building that has a staircase leading downwards. This is your last chance \r\n            to turn back.&quot;);\r\n    \t\tr.setExits(&quot;&quot;, &quot;&quot;, &quot;ornate&quot;, &quot;dungeonEnt&quot;);\r\n    \t\troomList.put(&quot;dirty&quot;, r);\r\n    \t\t\r\n    \t\tr = new Room(&quot;Dungeon Entrance&quot;, &quot;You enter the dungeon and see a few cells with \r\n            skeletons in them and dried blood stains on the floor, you hear voices coming \r\n            from behind a door to the south, and the hallway continues to the east.&quot;);\r\n    \t\tr.setExits(&quot;&quot;, &quot;southDugDoor&quot;, &quot;&quot;, &quot;dungeon&quot;);\r\n    \t\troomList.put(&quot;dungeonEnt&quot;, r);\r\n    \t\t\r\n    \t\tr = new Room (&quot;Southern Dungeon Door&quot;,&quot;You can hear some voices behind the door \r\n            but would have to get closer to understand, or you could go back to the main \r\n            hall.&quot;);\r\n    \t\tr.setExits(&quot;dungeonEnt&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n    \t\troomList.put(&quot;southDugDoor&quot;, r);\r\n    \t\t\r\n    \t\tr = new Room(&quot;Dungeon&quot;, &quot;You enter the middle of the hall each side of the hall \r\n            is lined with cells with bodies and fresher looking blood in them. Ahead of you, \r\n            you can hear screams and someone talking to themselves as well, though you \r\n            cannot hear what&quot;);\r\n    \t\tr.setExits(&quot;&quot;, &quot;&quot;, &quot;dungeonEnt&quot;, &quot;torturer&quot;);\r\n    \t\troomList.put(&quot;dungeon&quot;, r);\r\n    \t\t\r\n    \t\tr = new Room(&quot;Boss Room: The Torturer&quot;, &quot;As you enter the room you see a man in \r\n            a hood injecting something into a screaming man. The hooded man then says \r\n            \\&quot;Hmmm, no not this one. Too painful. someone will hear the king scream when he \r\n             dies.\\&quot; The man then turns around and notices you, as the screaming man behind \r\n             him dies. The strange man then says \\&quot;Are you someone sent by the king, or just \r\n             an unlucky wanderer? No matter, you will die either way!\\&quot; He then pulls out \r\n             two poison covered knives and attacks you!&quot;);\r\n    \t\tr.setExits(&quot;&quot;, &quot;&quot;, &quot;dungeon&quot;, &quot;&quot;);\r\n    \t\troomList.put(&quot;torturer&quot;, r);\r\n    \t\t\r\n    \t\t//Castle Route\r\n    \t\tr = new Room(&quot;Castle Pathway&quot;, &quot;As you walk towards the castle, you are happy \r\n            that you might finally get some work from the king. This is your last chance to \r\n            turn back.&quot;);\r\n    \t\tr.setExits(&quot;castleEnt&quot;, &quot;ornate&quot;, &quot;&quot;, &quot;&quot;);\r\n    \t\troomList.put(&quot;castle&quot;, r);\r\n    \t\t\r\n    \r\n    \t\tr = new Room(&quot;Castle Entrance&quot;, &quot;As you walk up to the entrance of the castle, \r\n            you can see a large staircase and walking down the staircse towards you is an \r\n            armoured knight.&quot;);\r\n    \t\tr.setExits(&quot;throne&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n    \t\troomList.put(&quot;castleEnt&quot;, r);\r\n    \t\t\r\n    \t\t\r\n    \t\tr = new Room(&quot;Boss Room: The Assassin&quot;,&quot;&quot;);\r\n    \t\tr.setExits(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n    \t\troomList.put(&quot;Throne&quot;, r);\r\n    \t\r\n    \t  }\r\n       }\r\n\r\nHere is the playerStats class that has setters and getters for location:\r\n     \r\n             TextAdvenureGame;\r\n             import java.util.ArrayList;\r\n\r\n     public class PlayerStats {\r\n       private int baseDamage = 1;\r\n       private int health = 10;\r\n       private Weapon equippedWeapon;\r\n       private Room location;\r\n       private ArrayList&lt;Item&gt; inventory;\r\n\r\n     public PlayerStats() {\r\n        this.equippedWeapon = null;\r\n        this.inventory = new ArrayList&lt;Item&gt;();\r\n        this.location = location;\r\n      }\r\n\r\n      public void Stats(int baseDamage, int health) {\r\n          this.baseDamage = baseDamage;\r\n          this.health = health;\r\n     }\r\n\r\n     public void equipWeapon(Weapon weapon) {\r\n         this.equippedWeapon = weapon;\r\n     }\r\n\r\n     public int getDamage() {\r\n         if (equippedWeapon == null) {\r\n             return baseDamage;\r\n         } else {\r\n             return baseDamage + equippedWeapon.getDamage();\r\n         }\r\n     }\r\n\r\n     public int getHealth() {\r\n         return health;\r\n     }\r\n\r\n     public boolean isAlive() {\r\n         return health &gt; 0;\r\n     }\r\n\r\n     public void takeDamage(int damage) {\r\n         health -= damage;\r\n         if (health &lt; 0) {\r\n              health = 0;\r\n         }\r\n     }\r\n\r\n      public ArrayList&lt;Item&gt; getInventory() {\r\n         return inventory;\r\n      }\r\n\r\n      public void setInventory(ArrayList&lt;Item&gt; inventory) {\r\n          this.inventory = inventory;\r\n      }\r\n    \r\n      public void addItem(Item item) {\r\n          inventory.add(item);\r\n      }\r\n    \r\n      public void setLocation(Room currentRoom) {\r\n          this.location = currentRoom;\r\n      }\r\n    \r\n      public Room getLocation() {\r\n          return location;\r\n         }\r\n      }\r\n`\r\n\r\nAgain, sorry for the long coding question, but I really have no ideas. What it is doing right now is whenever I play the game it just does this: \r\nWelcome\r\n\r\n== Clearing ==\r\nYou are in a small clearing in a forest. You hear birds singing. You can also hear faint voices to the north of you. You also notice a strange rock.\r\n=&gt; take dagger\r\n \r\nThe player is not in a room!\r\n\r\n   \r\n\r\n    \r\n\r\n","title":"Text adventure game. One method thinking that I am not in any room when I am, in Java","body":"<p>Hi so like I said I am making a text adventure game in Java and for some reason, everything else works except the method that makes it so when I am in a room I can pick up any items there. It thinks I am not in a room and returns a null value, even though I have initialized the starting value. Also sorry in advance I have multiple classes where the issue could be, I wouldn't ask if I had any ideas left on how to fix it.</p>\n<p>Here is my main game class where the takeItems method and the function to actually take items is added:</p>\n<pre><code>  //Code to go from room to room\n   static HashMap&lt;String,Room&gt; roomList = new HashMap&lt;String, Room&gt;();\n   static String currentRoom;\n   static PlayerStats player;\n   static boolean isPlaying = true;\n\n//Actual start\npublic static void main(String[] args) {\n    PlayerStats playerStats = new PlayerStats();\n    CombatTest combatTest = new CombatTest();\n    setup(); \n        \n    System.out.println(&quot;Welcome&quot;);\n    lookAtRoom(true);       \n    \n    while(isPlaying) {\n        String command = getCommand().toLowerCase();\n        String word1 = command.split(&quot; &quot;)[0];           \n        \n        switch(word1.toLowerCase()) {\n        case &quot;n&quot;: case &quot;s&quot;: case &quot;w&quot;: case &quot;e&quot;: case &quot;u&quot;: case &quot;d&quot;:\n        case &quot;north&quot;: case &quot;south&quot;: case &quot;west&quot;: case &quot;east&quot;: case &quot;up&quot;: case &quot;down&quot;:\n            moveToRoom(word1.charAt(0), playerStats, combatTest);\n            break;\n        case &quot;i&quot;: case &quot;inventory&quot;:\n            showInventory(playerStats);\n            break;\n        case &quot;look&quot;:\n            lookAtRoom(true);\n            break;\n        case &quot;hp&quot;: case &quot;h&quot;:\n            System.out.println(&quot;Your health is: &quot; + playerStats.getHealth());\n            break;\n        case &quot;take&quot;:\n            if(command.split(&quot; &quot;).length &lt; 2) {\n                System.out.println(&quot;What do you want to take?&quot;);\n            } else {\n                String itemName = command.split(&quot; &quot;)[1];\n                Room currentRoom = playerStats.getLocation();\n                String result = takeItem(itemName, playerStats, currentRoom);\n                System.out.println(result);\n            }\n            break;\n        default: \n            System.out.println(&quot;Sorry, I don't understand that command&quot;);\n            lookAtRoom(true);\n            break;\n        }\n    }\n}\n\n //Taking items\n  public static String takeItem(String itemName, PlayerStats playerStats, Room \n  currentRoom) {\n\n     if (currentRoom == null) {\n         System.out.println(&quot;The player is not in a room!&quot;);\n         return &quot;&quot;;\n     } \n      Item item = currentRoom.getItem(itemName);\n      if (item == null) {\n        return &quot;There is no &quot; + itemName + &quot; in this room.&quot;;\n     } else {\n         playerStats.addItem(item);\n         currentRoom.getItems().remove(item);\n         return &quot;You have taken the &quot; + itemName + &quot;.&quot;;\n     } \n }\n\n //This will crash if you move to a room that does not exist in the hashmap.\n public static void moveToRoom(char dir, PlayerStats playerStats, CombatTest combatTest) \n {\n     Room currentRoomObject = roomList.get(currentRoom);\n     String newRoom = currentRoomObject.getExit(dir);\n\n        if (newRoom.length() == 0) {\n         System.out.println(&quot;You can't go that way&quot;);\n         lookAtRoom(true);\n         return;\n      }\n\n        ArrayList&lt;Enemy&gt; enemies = currentRoomObject.getEnemies();\n\n      //Bandit Encounter\n      if (newRoom.equals(&quot;dirty&quot;) &amp;&amp; !enemies.isEmpty()) {\n         System.out.println(&quot;As you step onto the dirty path, three bandits jump out \n       from the shadows and attack you!&quot;);\n        for (int i = 0; i &lt; enemies.size(); i++) {\n            combatTest.run(enemies.get(i));\n        }\n        for (int i = enemies.size() - 1; i &gt;= 0; i--) {\n            if (enemies.get(i).getHealth() &lt;= 0) {\n                enemies.remove(i);\n            }\n        }\n        if (enemies.isEmpty()) {\n            System.out.println(&quot;You have defeated all the bandits in this area! You can \n            continue on your journey!&quot;);\n        }\n    }\n   \n   //Goblin encounter\n    else if (newRoom.equals(&quot;cityGate&quot;) &amp;&amp; !enemies.isEmpty()) {\n        System.out.println(&quot;As you leave the clearing, three goblins jump out from the \n        bushes and attack you!&quot;);\n        for (int i = 0; i &lt; enemies.size(); i++) {\n            combatTest.run(enemies.get(i));\n        }\n        for (int i = enemies.size() - 1; i &gt;= 0; i--) {\n            if (enemies.get(i).getHealth() &lt;= 0) {\n                enemies.remove(i);\n            }\n        }\n        if (enemies.isEmpty()) {\n            System.out.println(&quot;You have defeated all the goblins in your path! You can \n            continue on your journey!&quot;);\n        }\n    }\n   \n   //Going to the new room\n    currentRoom = newRoom;\n    lookAtRoom(true);\n}\n    \n  //looking at the rooms\n  private static void lookAtRoom(boolean b) {\n     Room rm = roomList.get(currentRoom);\n     System.out.println(&quot;\\n== &quot; + rm.getTitle() + &quot; ==&quot;);\n     System.out.println(rm.getDesc());\n  }\n    \n\n  private static void showInventory(PlayerStats playerStats) {\n     ArrayList&lt;Item&gt; inventory = playerStats.getInventory();\n     if (inventory.isEmpty()) {\n         System.out.println(&quot;Your inventory is empty&quot;);\n     } else {\n         System.out.println(&quot;Inventory:&quot;);\n         for (Item item : inventory) {\n             System.out.println(&quot;- &quot; + item.getName());\n         }\n      }\n     lookAtRoom(true);\n  }\n\n   static Scanner sc = new Scanner(System.in);\n   static String getCommand() {\n    System.out.print(&quot;=&gt; &quot;);        \n    String text = sc.nextLine();\n    System.out.println(&quot; &quot;);\n    if (text.length() == 0) text = &quot;qwerty&quot;; //default command      \n    return text;\n  }\n\n  static void setup() {\n        Room.setupRooms(roomList);\n        currentRoom = &quot;clearing&quot;; //where you start\n   }\n }\n</code></pre>\n<p>Here is the Room class that deals with going from room to room as well as where the items are actually added to the rooms, right now I just have a dagger and some coins in the &quot;clearing&quot; so I could test:</p>\n<pre><code>  import java.util.ArrayList;\n  import java.util.HashMap;\n\n  class Room {\n\n        private String title;\n        private String description; \n        private String N,S,E,W;\n        private ArrayList&lt;Item&gt; itemList = new ArrayList&lt;Item&gt;();\n        public ArrayList&lt;Enemy&gt; enemyList = new ArrayList&lt;Enemy&gt;(); // added for enemies \n in the room\n\n     public ArrayList&lt;Enemy&gt; getEnemyList() {\n            return enemyList;\n        }\n     \n     //Itemlist thing\n     public void addItem(Item item) {\n            itemList.add(item);\n        }\n     \n     public Item getItem(String itemName) {\n            for (Item item : itemList) {\n                if (item.getName().equals(itemName)) {\n                    return item;\n                }\n            }\n            return null;\n        }\n\n        public ArrayList&lt;Item&gt; getItems() {\n            return itemList;\n        }\n     \n    Room(String t, String d) {\n        title = t;\n        description = d;\n    }\n    \n    private void setExits(String N, String S, String W, String E) {\n        this.N = N;\n        this.S = S;\n        this.W = W;\n        this.E = E;     \n    }\n    \n    String getExit(char c) {\n        switch (c) {\n        case 'n': return this.N;\n        case 's': return this.S;\n        case 'w': return this.W;\n        case 'e': return this.E;\n        default: return null;\n        }\n    }\n    \n    String getTitle() {return title;}\n    String getDesc() {return description;}\n    \n    public ArrayList&lt;Enemy&gt; getEnemies() {\n        return this.enemyList;\n    }\n    \n    public static Room getRoom(String name, ArrayList&lt;Room&gt; roomList) {\n        for (Room room : roomList) {\n            if (room.getTitle().equals(name)) {\n                return room;\n            }\n        }\n        return null;\n    }\n    \n    // done at the beginning of the game\n    static void setupRooms(HashMap &lt;String, Room&gt; roomList) {\n        \n        //Going north into the city routes\n        Room r = new Room(&quot;Clearing&quot;, &quot;You are in a small clearing in a&quot; +\n    &quot; forest. You hear birds singing. You can also hear faint voices to the north of \n       you. You also notice a strange rock.&quot;);\n        r.enemyList.add(new Goblin()); // add three goblins to the clearing\n        r.enemyList.add(new Goblin());\n        r.enemyList.add(new Goblin());\n        \n        r.addItem(new Item(&quot;Coins&quot;, &quot;Shiny gold coins that can be traded for goods&quot;, 5, \n        0));\n        r.addItem(new Item(&quot;Dagger&quot;, &quot;A sturdy dagger that does 1 damage&quot;, 1, 1));\n        \n        r.setExits(&quot;cityGate&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\n        roomList.put(&quot;clearing&quot;, r);\n        \n        \n        r = new Room(&quot;City Gates&quot;, &quot;You see the gates of a city as you&quot; +\n        &quot; approach the voices, there are guards outside the gates. You also see a \n        suspicious looking man at the edge of the forest to the west.&quot;);\n        r.setExits(&quot;market&quot;, &quot;clearing&quot;, &quot;susman&quot;, &quot;&quot;);\n        roomList.put(&quot;cityGate&quot;, r);\n        \n        //all the different shops and the market place.\n        r = new Room(&quot;Market Place&quot;, &quot;When you enter the city you see a &quot;+\n        &quot;busy marketplace, to the west of you is a supplies shop,&quot; +\n        &quot; to the east of you there is a weapons shop. You can see a large castle in the \n        distance northwards.&quot;);\n        r.setExits(&quot;ornate&quot;, &quot;cityGate&quot;, &quot;supplyMerchant&quot;, &quot;weaponsMerchant&quot;);\n        roomList.put(&quot;market&quot;, r);\n        \n        r = new Room(&quot;Suspicious Man&quot;, &quot;As you approach the man he notices you and \n         quietly says \\&quot;Hey! Hey you! Over here!\\&quot; He motions for you to enter a forest \n        clearing and says \\&quot;Hello stranger! I have some... not so legally aquired items \n        for sale. So what're you buyin?\\&quot; &quot;);\n        r.setExits(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;cityGate&quot;);\n        roomList.put(&quot;susman&quot;, r);\n        \n        r = new Room(&quot;Weapons Merchant&quot;, &quot;As you walk towards the weapons merachant he \n        says \\&quot;Welcome good sir! I have the finest weapons in the whole realm! Best \n        prices too! Now look around and see what you are interested in! \\&quot; &quot;);\n        r.setExits(&quot;&quot;, &quot;&quot;, &quot;market&quot;, &quot;&quot;);\n        roomList.put(&quot;weaponsMerchant&quot;, r);\n        \n        r = new Room(&quot;Supplies Merchant&quot;, &quot;As you walk towards the weapons merachant he \n        says \\&quot;Hello sir! I have a variety of different items for sale. Please look to \n         your hearts content and buy whatever your heart desires.\\&quot; &quot;);\n        r.setExits(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;market&quot;);\n        roomList.put(&quot;supplyMerchant&quot;, r);\n        \n        //Towards the castle/dungeon\n        r = new Room(&quot;Ornate Path&quot;, &quot;As you walk towards the castle you walk along an \n        ornate path, it is made of marble and has fancy looking lanterns hanging above \n        to provide light. You reach a branch in the road, you can either continue north \n        towards the castle, or step off the main path eastward into a much less ornate, \n        dirty looking path. You cannot tell where the dirty looking path leads.&quot;);\n        r.enemyList.add(new Bandit()); // add three bandits to the clearing\n        r.enemyList.add(new Bandit());\n        r.enemyList.add(new Bandit());\n        r.setExits(&quot;castle&quot;, &quot;market&quot;, &quot;&quot;, &quot;dirty&quot;);\n        roomList.put(&quot;ornate&quot;, r);\n        \n        //Dungeon Route\n        r = new Room(&quot;Dirty Path&quot;, &quot;As you walk along the dirty path you evntually see a \n        small building that has a staircase leading downwards. This is your last chance \n        to turn back.&quot;);\n        r.setExits(&quot;&quot;, &quot;&quot;, &quot;ornate&quot;, &quot;dungeonEnt&quot;);\n        roomList.put(&quot;dirty&quot;, r);\n        \n        r = new Room(&quot;Dungeon Entrance&quot;, &quot;You enter the dungeon and see a few cells with \n        skeletons in them and dried blood stains on the floor, you hear voices coming \n        from behind a door to the south, and the hallway continues to the east.&quot;);\n        r.setExits(&quot;&quot;, &quot;southDugDoor&quot;, &quot;&quot;, &quot;dungeon&quot;);\n        roomList.put(&quot;dungeonEnt&quot;, r);\n        \n        r = new Room (&quot;Southern Dungeon Door&quot;,&quot;You can hear some voices behind the door \n        but would have to get closer to understand, or you could go back to the main \n        hall.&quot;);\n        r.setExits(&quot;dungeonEnt&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\n        roomList.put(&quot;southDugDoor&quot;, r);\n        \n        r = new Room(&quot;Dungeon&quot;, &quot;You enter the middle of the hall each side of the hall \n        is lined with cells with bodies and fresher looking blood in them. Ahead of you, \n        you can hear screams and someone talking to themselves as well, though you \n        cannot hear what&quot;);\n        r.setExits(&quot;&quot;, &quot;&quot;, &quot;dungeonEnt&quot;, &quot;torturer&quot;);\n        roomList.put(&quot;dungeon&quot;, r);\n        \n        r = new Room(&quot;Boss Room: The Torturer&quot;, &quot;As you enter the room you see a man in \n        a hood injecting something into a screaming man. The hooded man then says \n        \\&quot;Hmmm, no not this one. Too painful. someone will hear the king scream when he \n         dies.\\&quot; The man then turns around and notices you, as the screaming man behind \n         him dies. The strange man then says \\&quot;Are you someone sent by the king, or just \n         an unlucky wanderer? No matter, you will die either way!\\&quot; He then pulls out \n         two poison covered knives and attacks you!&quot;);\n        r.setExits(&quot;&quot;, &quot;&quot;, &quot;dungeon&quot;, &quot;&quot;);\n        roomList.put(&quot;torturer&quot;, r);\n        \n        //Castle Route\n        r = new Room(&quot;Castle Pathway&quot;, &quot;As you walk towards the castle, you are happy \n        that you might finally get some work from the king. This is your last chance to \n        turn back.&quot;);\n        r.setExits(&quot;castleEnt&quot;, &quot;ornate&quot;, &quot;&quot;, &quot;&quot;);\n        roomList.put(&quot;castle&quot;, r);\n        \n\n        r = new Room(&quot;Castle Entrance&quot;, &quot;As you walk up to the entrance of the castle, \n        you can see a large staircase and walking down the staircse towards you is an \n        armoured knight.&quot;);\n        r.setExits(&quot;throne&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\n        roomList.put(&quot;castleEnt&quot;, r);\n        \n        \n        r = new Room(&quot;Boss Room: The Assassin&quot;,&quot;&quot;);\n        r.setExits(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;);\n        roomList.put(&quot;Throne&quot;, r);\n    \n      }\n   }\n</code></pre>\n<p>Here is the playerStats class that has setters and getters for location:</p>\n<pre><code>         TextAdvenureGame;\n         import java.util.ArrayList;\n\n public class PlayerStats {\n   private int baseDamage = 1;\n   private int health = 10;\n   private Weapon equippedWeapon;\n   private Room location;\n   private ArrayList&lt;Item&gt; inventory;\n\n public PlayerStats() {\n    this.equippedWeapon = null;\n    this.inventory = new ArrayList&lt;Item&gt;();\n    this.location = location;\n  }\n\n  public void Stats(int baseDamage, int health) {\n      this.baseDamage = baseDamage;\n      this.health = health;\n }\n\n public void equipWeapon(Weapon weapon) {\n     this.equippedWeapon = weapon;\n }\n\n public int getDamage() {\n     if (equippedWeapon == null) {\n         return baseDamage;\n     } else {\n         return baseDamage + equippedWeapon.getDamage();\n     }\n }\n\n public int getHealth() {\n     return health;\n }\n\n public boolean isAlive() {\n     return health &gt; 0;\n }\n\n public void takeDamage(int damage) {\n     health -= damage;\n     if (health &lt; 0) {\n          health = 0;\n     }\n }\n\n  public ArrayList&lt;Item&gt; getInventory() {\n     return inventory;\n  }\n\n  public void setInventory(ArrayList&lt;Item&gt; inventory) {\n      this.inventory = inventory;\n  }\n\n  public void addItem(Item item) {\n      inventory.add(item);\n  }\n\n  public void setLocation(Room currentRoom) {\n      this.location = currentRoom;\n  }\n\n  public Room getLocation() {\n      return location;\n     }\n  }\n</code></pre>\n<p>`</p>\n<p>Again, sorry for the long coding question, but I really have no ideas. What it is doing right now is whenever I play the game it just does this:\nWelcome</p>\n<p>== Clearing ==\nYou are in a small clearing in a forest. You hear birds singing. You can also hear faint voices to the north of you. You also notice a strange rock.\n=&gt; take dagger</p>\n<p>The player is not in a room!</p>\n"},{"tags":["java","android","android-view","android-graphview"],"owner":{"account_id":28111620,"reputation":1,"user_id":21494809,"display_name":"–î–∞–Ω–∏–∏–ª –ë–µ–ª–∫–æ–≤—Å–∫–∏–π"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681657717,"creation_date":1681657717,"question_id":76028558,"body_markdown":"Creating graph:\r\n\r\n```\r\nGraphView graph = (GraphView) (findViewById(R.id.graph));\r\n        graph.getGridLabelRenderer().setHorizontalLabelsColor(Color.rgb(0, 68, 173));\r\n        graph.getGridLabelRenderer().setVerticalLabelsColor(Color.rgb(0, 68, 173));\r\n        GridLabelRenderer glr = graph.getGridLabelRenderer();\r\n        glr.setPadding(32);\r\n        glr.setHorizontalAxisTitle(&quot;HORIZONTAL&quot;);\r\n        glr.setHorizontalAxisTitleTextSize(25);\r\n        glr.setHorizontalAxisTitleColor(Color.rgb(0, 68, 173));\r\n        glr.setVerticalAxisTitle(&quot;VERTICAL&quot;);\r\n        glr.setVerticalAxisTitleTextSize(25);\r\n        glr.setVerticalAxisTitleColor(Color.rgb(0, 68, 173));\r\n        graph.getViewport().setScalable(true);\r\n```\r\n\r\nAdding data:\r\n\r\n```\r\nGraphView graph = (GraphView) (findViewById(R.id.graph));\r\n                        graph.getViewport().setXAxisBoundsManual(true);\r\n                        graph.getViewport().setMaxX(array_for_indication_for_graph.size());\r\n                        graph.getViewport().setMinX(0);\r\n                        graph.getViewport().setYAxisBoundsManual(true);\r\n                        graph.getViewport().setMaxY(max + 1);\r\n                        graph.getViewport().setMinY(min - 1);\r\n\r\n                        LineGraphSeries&lt;DataPoint&gt; series = new LineGraphSeries&lt;&gt;();\r\n                        series.setColor(Color.rgb(255, 125, 0));\r\n                        for (int i = 0; i &lt; array_for_indication_for_graph.size(); i++) {\r\n                            series.appendData(new DataPoint(i, Float.parseFloat(array_for_indication_for_graph.get(i))), true, 20000);\r\n                        }\r\n                        graph.addSeries(series);\r\n                        graph_was_drawn = 1;\r\n```\r\n\r\n\r\n\r\nI tried delete padding, set scrolltoEnd false, but nothing works...\r\n\r\nPhotos:[Correct work before measurment](https://i.stack.imgur.com/t17DN.jpg)\r\n\r\nPhotos:[Wrong work](https://i.stack.imgur.com/edxJR.jpg)","title":"How to make graphview in android stay still when i add series to it?","body":"<p>Creating graph:</p>\n<pre><code>GraphView graph = (GraphView) (findViewById(R.id.graph));\n        graph.getGridLabelRenderer().setHorizontalLabelsColor(Color.rgb(0, 68, 173));\n        graph.getGridLabelRenderer().setVerticalLabelsColor(Color.rgb(0, 68, 173));\n        GridLabelRenderer glr = graph.getGridLabelRenderer();\n        glr.setPadding(32);\n        glr.setHorizontalAxisTitle(&quot;HORIZONTAL&quot;);\n        glr.setHorizontalAxisTitleTextSize(25);\n        glr.setHorizontalAxisTitleColor(Color.rgb(0, 68, 173));\n        glr.setVerticalAxisTitle(&quot;VERTICAL&quot;);\n        glr.setVerticalAxisTitleTextSize(25);\n        glr.setVerticalAxisTitleColor(Color.rgb(0, 68, 173));\n        graph.getViewport().setScalable(true);\n</code></pre>\n<p>Adding data:</p>\n<pre><code>GraphView graph = (GraphView) (findViewById(R.id.graph));\n                        graph.getViewport().setXAxisBoundsManual(true);\n                        graph.getViewport().setMaxX(array_for_indication_for_graph.size());\n                        graph.getViewport().setMinX(0);\n                        graph.getViewport().setYAxisBoundsManual(true);\n                        graph.getViewport().setMaxY(max + 1);\n                        graph.getViewport().setMinY(min - 1);\n\n                        LineGraphSeries&lt;DataPoint&gt; series = new LineGraphSeries&lt;&gt;();\n                        series.setColor(Color.rgb(255, 125, 0));\n                        for (int i = 0; i &lt; array_for_indication_for_graph.size(); i++) {\n                            series.appendData(new DataPoint(i, Float.parseFloat(array_for_indication_for_graph.get(i))), true, 20000);\n                        }\n                        graph.addSeries(series);\n                        graph_was_drawn = 1;\n</code></pre>\n<p>I tried delete padding, set scrolltoEnd false, but nothing works...</p>\n<p>Photos:<a href=\"https://i.stack.imgur.com/t17DN.jpg\" rel=\"nofollow noreferrer\">Correct work before measurment</a></p>\n<p>Photos:<a href=\"https://i.stack.imgur.com/edxJR.jpg\" rel=\"nofollow noreferrer\">Wrong work</a></p>\n"},{"tags":["java","spring-boot","spring-boot-starter","spring-boot-jpa"],"comments":[{"owner":{"account_id":2353940,"reputation":650,"user_id":2062201,"display_name":"Andres Sacco"},"score":0,"creation_date":1609975673,"post_id":65604566,"comment_id":115991594,"body_markdown":"Which version of Spring-Boot do you use? You add in some class the packageToScan?","body":"Which version of Spring-Boot do you use? You add in some class the packageToScan?"},{"owner":{"account_id":10886637,"reputation":1,"user_id":11702481,"display_name":"–°–µ—Ä–≥–µ–π –ö—Ä—ã–ª–æ–≤"},"score":0,"creation_date":1610002587,"post_id":65604566,"comment_id":115996895,"body_markdown":"I used 2.4.0 version. Yes, I tryied add annotation packageToScan it is not help me.The context of the application that used the custom starter did not find the repository, I think this is because it was just not defined in the configuration of the custom starter.","body":"I used 2.4.0 version. Yes, I tryied add annotation packageToScan it is not help me.The context of the application that used the custom starter did not find the repository, I think this is because it was just not defined in the configuration of the custom starter."},{"owner":{"account_id":10886637,"reputation":1,"user_id":11702481,"display_name":"–°–µ—Ä–≥–µ–π –ö—Ä—ã–ª–æ–≤"},"score":1,"creation_date":1610004492,"post_id":65604566,"comment_id":115997477,"body_markdown":"Thank you I found the problem. I forgot to add an annotation @EntityScan","body":"Thank you I found the problem. I forgot to add an annotation @EntityScan"},{"owner":{"account_id":2353940,"reputation":650,"user_id":2062201,"display_name":"Andres Sacco"},"score":0,"creation_date":1610014577,"post_id":65604566,"comment_id":116001379,"body_markdown":"Write the answer for this problem.","body":"Write the answer for this problem."}],"answers":[{"tags":[],"owner":{"account_id":20756618,"reputation":21,"user_id":15242902,"display_name":"IlnarMT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681657476,"creation_date":1681657476,"answer_id":76028544,"question_id":65604566,"body_markdown":"In the configuration class, you must use the @EnableJpaRepositories and @EntityScan annotations, indicating the package in which the Repositories and Entity classes are located\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = {&quot;com.my.app.repository&quot;})\r\n    @EntityScan(basePackages = {&quot;com.my.app.entity&quot;})\r\n    public class DomainConfiguration  {\r\n    }","title":"How using spring-boot-starter-jpa in custom spring-boot-starter?","body":"<p>In the configuration class, you must use the @EnableJpaRepositories and @EntityScan annotations, indicating the package in which the Repositories and Entity classes are located</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = {&quot;com.my.app.repository&quot;})\n@EntityScan(basePackages = {&quot;com.my.app.entity&quot;})\npublic class DomainConfiguration  {\n}\n</code></pre>\n"}],"owner":{"account_id":10886637,"reputation":1,"user_id":11702481,"display_name":"–°–µ—Ä–≥–µ–π –ö—Ä—ã–ª–æ–≤"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681657476,"creation_date":1609974797,"question_id":65604566,"body_markdown":"I have my custom starter. Inside it, I define a repository. How should I define it in the configuration?  This is how I did the usual bean before.\r\n\r\n    @Bean\r\n\t@ConditionalOnMissingBean(HelloWorldController.class)\r\n\tpublic HelloWorldController helloWorldController() {\r\n\t\treturn new HelloWorldController();\r\n\t}\r\n\r\nRepository:\r\n\r\n    @Repository\r\n    public interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\r\n    }\r\n\r\nAnd configuration\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories\r\n    public class DomainConfiguration {\r\n    }\r\n\r\nIf you use this starter, context will not see the repository bean. Because I did not declare it in the configuration.I don&#39;t know how to declare it.","title":"How using spring-boot-starter-jpa in custom spring-boot-starter?","body":"<p>I have my custom starter. Inside it, I define a repository. How should I define it in the configuration?  This is how I did the usual bean before.</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean(HelloWorldController.class)\npublic HelloWorldController helloWorldController() {\n    return new HelloWorldController();\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\n}\n</code></pre>\n<p>And configuration</p>\n<pre><code>@Configuration\n@EnableJpaRepositories\npublic class DomainConfiguration {\n}\n</code></pre>\n<p>If you use this starter, context will not see the repository bean. Because I did not declare it in the configuration.I don't know how to declare it.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681659447,"post_id":76028314,"comment_id":134088680,"body_markdown":"&quot;*the two are working the same way*&quot; which two? `a - b` and `comparintInt()` ?? I cannot believe that, pretty sure that `comparingInt` is using `Integer.compare()`, which in turn uses `?:` to return the correct value from `-1`, `0`, and `+1`","body":"&quot;<i>the two are working the same way</i>&quot; which two? <code>a - b</code> and <code>comparintInt()</code> ?? I cannot believe that, pretty sure that <code>comparingInt</code> is using <code>Integer.compare()</code>, which in turn uses <code>?:</code> to return the correct value from <code>-1</code>, <code>0</code>, and <code>+1</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681660853,"post_id":76028314,"comment_id":134088893,"body_markdown":"For reference, the LeetCode problem is https://leetcode.com/problems/super-ugly-number/ .","body":"For reference, the LeetCode problem is <a href=\"https://leetcode.com/problems/super-ugly-number/\" rel=\"nofollow noreferrer\">leetcode.com/problems/super-ugly-number</a> ."}],"answers":[{"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1681656161,"post_id":76028394,"comment_id":134088210,"body_markdown":"I think leetcode might be correct. `rets[droppedPrimecandidate.index]*droppedPrimecandidate.prime` in OP&#39;s code overflows too, which I guess &quot;cancels out&quot; the overflow problem with the `a - b` comparator.","body":"I think leetcode might be correct. <code>rets[droppedPrimecandidate.index]*droppedPrimecandidate.prim&zwnj;&#8203;e</code> in OP&#39;s code overflows too, which I guess &quot;cancels out&quot; the overflow problem with the <code>a - b</code> comparator."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681655892,"creation_date":1681655892,"answer_id":76028394,"question_id":76028314,"body_markdown":"No, the two are not the same. `Comparator.comparingInt` is correct and `a - b` is wrong.\r\n\r\nThe problem is integer overflow.\r\n\r\nImagine comparing -5 and 2. That should, obviously, return a negative number (-5 is &#39;before&#39; 2). Either one will do just that. `a - b` returns a negative number, and the comparator made by `Comparator.comparingInt(a -&gt; -5 or 2)` also would.\r\n\r\nBut now imagine comparing -2^31-1 and 20. This should also return a negative number, for the same reason. However, `a - b` would __return a positive number__ due to overflow.\r\n\r\n\r\nThis is one of the reasons why you should __never__ use `a - b` as implementation for a comparator function (and why you should heed linter tool advice and use `comparingInt` and friends which get it right - you&#39;re going to have to write `if (a &lt; b) return -1;` etc if you do it by hand).\r\n\r\nWeirdly, that would mean you&#39;d expect `Comparator.comparingInt` to give the right answer and `a - b` to fail.\r\n\r\nIt&#39;s possible the checker at leetcode was written with the same bug (as in, their impl also has the bug and therefore actually marks as correct code with the identical bug in it, and marks as &#39;incorrect&#39; a correct impl).\r\n\r\nGiven that you know the test case that fails just run both and check by hand which one has the right answer (you can use wolfram alpha to split a number into primes if you need). Then you know or at least you can check how these 2 differ specifically for the known problematic input.\r\n","title":"Why is &#39;Comparator.comparingInt&#39; not working the same as &#39;new Comparator&#39;?","body":"<p>No, the two are not the same. <code>Comparator.comparingInt</code> is correct and <code>a - b</code> is wrong.</p>\n<p>The problem is integer overflow.</p>\n<p>Imagine comparing -5 and 2. That should, obviously, return a negative number (-5 is 'before' 2). Either one will do just that. <code>a - b</code> returns a negative number, and the comparator made by <code>Comparator.comparingInt(a -&gt; -5 or 2)</code> also would.</p>\n<p>But now imagine comparing -2^31-1 and 20. This should also return a negative number, for the same reason. However, <code>a - b</code> would <strong>return a positive number</strong> due to overflow.</p>\n<p>This is one of the reasons why you should <strong>never</strong> use <code>a - b</code> as implementation for a comparator function (and why you should heed linter tool advice and use <code>comparingInt</code> and friends which get it right - you're going to have to write <code>if (a &lt; b) return -1;</code> etc if you do it by hand).</p>\n<p>Weirdly, that would mean you'd expect <code>Comparator.comparingInt</code> to give the right answer and <code>a - b</code> to fail.</p>\n<p>It's possible the checker at leetcode was written with the same bug (as in, their impl also has the bug and therefore actually marks as correct code with the identical bug in it, and marks as 'incorrect' a correct impl).</p>\n<p>Given that you know the test case that fails just run both and check by hand which one has the right answer (you can use wolfram alpha to split a number into primes if you need). Then you know or at least you can check how these 2 differ specifically for the known problematic input.</p>\n"}],"owner":{"account_id":13333617,"reputation":3,"user_id":9624136,"display_name":"ENTITY 2 is 1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681656261,"creation_date":1681654962,"question_id":76028314,"body_markdown":"I have been working on an algorithm question from leetcode. The question is 313. Super Ugly Number.\r\nQuetion description is\r\n\r\n&gt; A super ugly number is a positive integer whose prime factors are in the array primes.\r\n&gt;\r\n&gt; Given an integer n and an array of integers primes, return the nth super ugly number.\r\n&gt;\r\n&gt; The nth super ugly number is guaranteed to fit in a 32-bit signed integer.\r\n\r\nMy submission failed one case. The case is n = 5911 and primes = [2,3,5,7].\r\nBelow is my code, you can see I used `Comparator.comparingInt` instead of `new Comparator` as advised by IDEA. The result is -2147483648.\r\n\r\n```\r\n    public int nthSuperUglyNumber(int n, int[] primes) {\r\n        int[] rets = new int[n];\r\n        PriorityQueue&lt;PrimeCandidate&gt; priorityQueue = new PriorityQueue&lt;&gt;(primes.length, Comparator.comparingInt(o -&gt; o.num));\r\n        for (int i = 0; i &lt; primes.length; i++) priorityQueue.offer(new PrimeCandidate(primes[i], primes[i], 1));\r\n        rets[0] = 1;\r\n\r\n        for(int i = 1; i &lt; n; i++) {\r\n            rets[i] = priorityQueue.peek().num;\r\n            while(priorityQueue.peek().num == rets[i]) {\r\n                PrimeCandidate droppedPrimecandidate = priorityQueue.poll();\r\n                priorityQueue.offer(new PrimeCandidate(rets[droppedPrimecandidate.index]*droppedPrimecandidate.prime\r\n                        , droppedPrimecandidate.prime, droppedPrimecandidate.index+1));\r\n            }\r\n        }\r\n        return rets[n-1];\r\n    }\r\n\r\n    class PrimeCandidate {\r\n        int num;\r\n        int prime;\r\n        int index;\r\n        PrimeCandidate(int num, int prime, int index) {\r\n            this.num = num;\r\n            this.prime = prime;\r\n            this.index = index;\r\n        }\r\n    }\r\n```\r\n\r\nHowever, after I changed back to `new Comparator`, the result was correct which is 2144153025.\r\n```\r\n public int nthSuperUglyNumber(int n, int[] primes) {\r\n        int[] rets = new int[n];\r\n        PriorityQueue&lt;PrimeCandidate&gt; priorityQueue = new PriorityQueue&lt;&gt;(primes.length, new Comparator&lt;PrimeCandidate&gt;() {\r\n            @Override\r\n            public int compare(PrimeCandidate o1, PrimeCandidate o2) {\r\n                return o1.num - o2.num;\r\n            }\r\n        });\r\n        for (int i = 0; i &lt; primes.length; i++) priorityQueue.offer(new PrimeCandidate(primes[i], primes[i], 1));\r\n        rets[0] = 1;\r\n\r\n        for(int i = 1; i &lt; n; i++) {\r\n            rets[i] = priorityQueue.peek().num;\r\n            while(priorityQueue.peek().num == rets[i]) {\r\n                PrimeCandidate droppedPrimecandidate = priorityQueue.poll();\r\n                priorityQueue.offer(new PrimeCandidate(rets[droppedPrimecandidate.index]*droppedPrimecandidate.prime\r\n                        , droppedPrimecandidate.prime, droppedPrimecandidate.index+1));\r\n            }\r\n        }\r\n        return rets[n-1];\r\n    }\r\n\r\n    class PrimeCandidate {\r\n        int num;\r\n        int prime;\r\n        int index;\r\n        PrimeCandidate(int num, int prime, int index) {\r\n            this.num = num;\r\n            this.prime = prime;\r\n            this.index = index;\r\n        }\r\n    }\r\n```\r\nWhat&#39;s the reasons behind it. I thought the two methods are equivalent.\r\n\r\n\r\n- Idea suggests using &#39;Comparator.comparingInt&#39; to replace &#39;new Comparator&#39;. \r\n- I googled the usage of `Comparator.comparingInt` and the source code. \r\nAll implied that the two are working the same way. But it was not in my case.","title":"Why is &#39;Comparator.comparingInt&#39; not working the same as &#39;new Comparator&#39;?","body":"<p>I have been working on an algorithm question from leetcode. The question is 313. Super Ugly Number.\nQuetion description is</p>\n<blockquote>\n<p>A super ugly number is a positive integer whose prime factors are in the array primes.</p>\n<p>Given an integer n and an array of integers primes, return the nth super ugly number.</p>\n<p>The nth super ugly number is guaranteed to fit in a 32-bit signed integer.</p>\n</blockquote>\n<p>My submission failed one case. The case is n = 5911 and primes = [2,3,5,7].\nBelow is my code, you can see I used <code>Comparator.comparingInt</code> instead of <code>new Comparator</code> as advised by IDEA. The result is -2147483648.</p>\n<pre><code>    public int nthSuperUglyNumber(int n, int[] primes) {\n        int[] rets = new int[n];\n        PriorityQueue&lt;PrimeCandidate&gt; priorityQueue = new PriorityQueue&lt;&gt;(primes.length, Comparator.comparingInt(o -&gt; o.num));\n        for (int i = 0; i &lt; primes.length; i++) priorityQueue.offer(new PrimeCandidate(primes[i], primes[i], 1));\n        rets[0] = 1;\n\n        for(int i = 1; i &lt; n; i++) {\n            rets[i] = priorityQueue.peek().num;\n            while(priorityQueue.peek().num == rets[i]) {\n                PrimeCandidate droppedPrimecandidate = priorityQueue.poll();\n                priorityQueue.offer(new PrimeCandidate(rets[droppedPrimecandidate.index]*droppedPrimecandidate.prime\n                        , droppedPrimecandidate.prime, droppedPrimecandidate.index+1));\n            }\n        }\n        return rets[n-1];\n    }\n\n    class PrimeCandidate {\n        int num;\n        int prime;\n        int index;\n        PrimeCandidate(int num, int prime, int index) {\n            this.num = num;\n            this.prime = prime;\n            this.index = index;\n        }\n    }\n</code></pre>\n<p>However, after I changed back to <code>new Comparator</code>, the result was correct which is 2144153025.</p>\n<pre><code> public int nthSuperUglyNumber(int n, int[] primes) {\n        int[] rets = new int[n];\n        PriorityQueue&lt;PrimeCandidate&gt; priorityQueue = new PriorityQueue&lt;&gt;(primes.length, new Comparator&lt;PrimeCandidate&gt;() {\n            @Override\n            public int compare(PrimeCandidate o1, PrimeCandidate o2) {\n                return o1.num - o2.num;\n            }\n        });\n        for (int i = 0; i &lt; primes.length; i++) priorityQueue.offer(new PrimeCandidate(primes[i], primes[i], 1));\n        rets[0] = 1;\n\n        for(int i = 1; i &lt; n; i++) {\n            rets[i] = priorityQueue.peek().num;\n            while(priorityQueue.peek().num == rets[i]) {\n                PrimeCandidate droppedPrimecandidate = priorityQueue.poll();\n                priorityQueue.offer(new PrimeCandidate(rets[droppedPrimecandidate.index]*droppedPrimecandidate.prime\n                        , droppedPrimecandidate.prime, droppedPrimecandidate.index+1));\n            }\n        }\n        return rets[n-1];\n    }\n\n    class PrimeCandidate {\n        int num;\n        int prime;\n        int index;\n        PrimeCandidate(int num, int prime, int index) {\n            this.num = num;\n            this.prime = prime;\n            this.index = index;\n        }\n    }\n</code></pre>\n<p>What's the reasons behind it. I thought the two methods are equivalent.</p>\n<ul>\n<li>Idea suggests using 'Comparator.comparingInt' to replace 'new Comparator'.</li>\n<li>I googled the usage of <code>Comparator.comparingInt</code> and the source code.\nAll implied that the two are working the same way. But it was not in my case.</li>\n</ul>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681655295,"post_id":76028047,"comment_id":134088081,"body_markdown":"You look to have a problem of variable ***scope***. You have declared and initialized the variable like so: `Librarian currentLibrarian = new Librarian(...)` *inside* of an if block that is inside of a method, and so that variable is only visible within the same if block. If you need it throughout the method, then declare it in method scope. If you need it throughout the instance, than declare the variable as a private instance variable. If you need it in other objects, then perhaps give it a getter method.","body":"You look to have a problem of variable <b><i>scope</i></b>. You have declared and initialized the variable like so: <code>Librarian currentLibrarian = new Librarian(...)</code> <i>inside</i> of an if block that is inside of a method, and so that variable is only visible within the same if block. If you need it throughout the method, then declare it in method scope. If you need it throughout the instance, than declare the variable as a private instance variable. If you need it in other objects, then perhaps give it a getter method."}],"owner":{"account_id":28320758,"reputation":1,"user_id":21656604,"display_name":"Nicholas Nogueira Costa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681655043,"answer_count":0,"score":0,"last_activity_date":1681655139,"creation_date":1681651734,"question_id":76028047,"body_markdown":"So I&#39;m creating a library management program using jframes in netbeans, I know it might not be the best solution but it&#39;s what I&#39;m required to use in my course. Basically, every button action is controlled from one central private method, after a couple some username and password verification, I successfully create an object of the Librarian class called currentLibrarian. Until then I get no error, but when I try to reference this object outside the method it can&#39;t be found. the code is pretty extensive, and I understand there may be some inefficiencies, but I&#39;m just trying to focus on this problem right now. The following is a snippet of relevant code there is some past that but it isn&#39;t relevant:\r\n\r\n```\r\n    private void loginButtonActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        if(usernameField.getText().isEmpty()||passwordField.getText().isEmpty()){\r\n            JOptionPane.showMessageDialog(null, &quot;Please Appropriately Fill all Fields&quot;);\r\n        }\r\n        else{\r\n            String inputUsername = usernameField.getText();\r\n            int inputPassword = Integer.parseInt(passwordField.getText());\r\n            ConnectionDB connect= new ConnectionDB();\r\n            try {\r\n                Statement stm = (connect.connectDB()).createStatement();\r\n                String query = &quot;select * from library.username_password where username = &#39;&quot;+inputUsername+&quot;&#39;;&quot;;\r\n                ResultSet usernamePasswordResultSet = stm.executeQuery(query);\r\n                /**\r\n                 * When an invalid username is requested from mySQL database, a &#39;false&#39; boolean value is returned in Result Set\r\n                 * Thus if the username input is invalid the result of userInfoResultSet.next() should be false\r\n                 * furthermore .next() moves cursor to start position of the result set and allows us to begin reading values\r\n                 */\r\n                if(!usernamePasswordResultSet.next()){\r\n                    failedAttempt();\r\n                    JOptionPane.showMessageDialog(null, &quot;Username is Invalid&quot;);\r\n                }\r\n                else{\r\n                    /**if the username is valid we can retreive the stored password at that location\r\n                     * then verify password validity\r\n                     */\r\n                    int databasePassword = usernamePasswordResultSet.getInt(&quot;password&quot;);\r\n                    if(databasePassword != inputPassword){\r\n                        failedAttempt();\r\n                        JOptionPane.showMessageDialog(null, &quot;Password is Invalid&quot;);                        \r\n                    }\r\n                    /**\r\n                     * if both username and password are valid we need to verify what type of user we have\r\n                     * then redirect them to the respective main menu\r\n                     */ \r\n                    else{\r\n                        boolean isLibrarian = usernamePasswordResultSet.getBoolean(&quot;isLibrarian&quot;);\r\n                        if(isLibrarian){\r\n                            Librarian currentLibrarian = new Librarian(usernamePasswordResultSet.getBoolean(&quot;isHeadLibrarian&quot;));\r\n                            this.setVisible(false);\r\n                            new LibrarianMainMenuForm().setVisible(true);\r\n                        }\r\n```\r\nThe following code is where I try to reference it from:\r\n\r\n```\r\n  private void libraryStatsActionPerformed(java.awt.event.ActionEvent evt) {                                             \r\n        if(currentLibrarian.getIsHeadLibrarian()){\r\n        }\r\n    }                     \r\n```\r\n\r\n\r\nI was hoping that in the second section of code, I&#39;d get no error instead i&#39;m told that I &#39;cannot find symbol&#39;","title":"Trying to instantiate a Librarian object inside a private method, but I don&#39;t know how to make this obkect visible to other outside classes","body":"<p>So I'm creating a library management program using jframes in netbeans, I know it might not be the best solution but it's what I'm required to use in my course. Basically, every button action is controlled from one central private method, after a couple some username and password verification, I successfully create an object of the Librarian class called currentLibrarian. Until then I get no error, but when I try to reference this object outside the method it can't be found. the code is pretty extensive, and I understand there may be some inefficiencies, but I'm just trying to focus on this problem right now. The following is a snippet of relevant code there is some past that but it isn't relevant:</p>\n<pre><code>    private void loginButtonActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        if(usernameField.getText().isEmpty()||passwordField.getText().isEmpty()){\n            JOptionPane.showMessageDialog(null, &quot;Please Appropriately Fill all Fields&quot;);\n        }\n        else{\n            String inputUsername = usernameField.getText();\n            int inputPassword = Integer.parseInt(passwordField.getText());\n            ConnectionDB connect= new ConnectionDB();\n            try {\n                Statement stm = (connect.connectDB()).createStatement();\n                String query = &quot;select * from library.username_password where username = '&quot;+inputUsername+&quot;';&quot;;\n                ResultSet usernamePasswordResultSet = stm.executeQuery(query);\n                /**\n                 * When an invalid username is requested from mySQL database, a 'false' boolean value is returned in Result Set\n                 * Thus if the username input is invalid the result of userInfoResultSet.next() should be false\n                 * furthermore .next() moves cursor to start position of the result set and allows us to begin reading values\n                 */\n                if(!usernamePasswordResultSet.next()){\n                    failedAttempt();\n                    JOptionPane.showMessageDialog(null, &quot;Username is Invalid&quot;);\n                }\n                else{\n                    /**if the username is valid we can retreive the stored password at that location\n                     * then verify password validity\n                     */\n                    int databasePassword = usernamePasswordResultSet.getInt(&quot;password&quot;);\n                    if(databasePassword != inputPassword){\n                        failedAttempt();\n                        JOptionPane.showMessageDialog(null, &quot;Password is Invalid&quot;);                        \n                    }\n                    /**\n                     * if both username and password are valid we need to verify what type of user we have\n                     * then redirect them to the respective main menu\n                     */ \n                    else{\n                        boolean isLibrarian = usernamePasswordResultSet.getBoolean(&quot;isLibrarian&quot;);\n                        if(isLibrarian){\n                            Librarian currentLibrarian = new Librarian(usernamePasswordResultSet.getBoolean(&quot;isHeadLibrarian&quot;));\n                            this.setVisible(false);\n                            new LibrarianMainMenuForm().setVisible(true);\n                        }\n</code></pre>\n<p>The following code is where I try to reference it from:</p>\n<pre><code>  private void libraryStatsActionPerformed(java.awt.event.ActionEvent evt) {                                             \n        if(currentLibrarian.getIsHeadLibrarian()){\n        }\n    }                     \n</code></pre>\n<p>I was hoping that in the second section of code, I'd get no error instead i'm told that I 'cannot find symbol'</p>\n"},{"tags":["java","rest","serialization"],"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681654522,"creation_date":1681654470,"question_id":76028275,"body_markdown":"could someone tell why this happens ?\r\n\r\nException in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.example.Place and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n        RestAssured.baseURI = &quot;https://example.com&quot;;\r\n        \r\n\r\n        Place place = new Place();\r\n\r\n        Location location = new Location();\r\n        location.setLat(434334.54);\r\n        location.setLng(3545.43);\r\n        place.setLocation(location);\r\n\r\n        List&lt;String&gt; lista = Arrays.asList(&quot;ala&quot;, &quot;ma&quot;);\r\n\r\n        place.setAccuracy(50);\r\n        place.setAddress(&quot;29, side layout, cohen 09&quot;);\r\n        place.setLanguage(&quot;French&quot;);\r\n        place.setPhone_number(&quot;(+91) 983 893 3937&quot;);\r\n        place.setName(&quot;WEb site&quot;);\r\n        place.setTypes(lista);\r\n        place.setWebsite(&quot;www.web.pl&quot;);\r\n\r\n\r\n        String resposnePost =\r\n                given().relaxedHTTPSValidation()\r\n                        .queryParam(&quot;key&quot;,&quot;qaclick123&quot;)\r\n                        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                        .body(place)\r\n                        .when()\r\n                        .post(&quot;/maps/api/place/add/json&quot;)\r\n                        .then()\r\n                        .assertThat()\r\n                        .statusCode(200)\r\n                        .extract().response().asString();\r\n\r\n        JsonPath jsonPath = new JsonPath(resposnePost);\r\n\r\n        String placeId = jsonPath.getString(&quot;place_id&quot;);\r\n\r\n        String bodyDoMetodyPut = String.format(&quot;{\\n&quot; +\r\n                &quot;\\&quot;place_id\\&quot;:\\&quot;%s\\&quot;,\\n&quot; +\r\n                &quot;\\&quot;address\\&quot;:\\&quot;70 Summer walk, USA\\&quot;,\\n&quot; +\r\n                &quot;\\&quot;key\\&quot;:\\&quot;qaclick123\\&quot;\\n&quot; +\r\n                &quot;}\\n&quot;, placeId);\r\n\r\n\r\n        String resposnePut = given().relaxedHTTPSValidation()\r\n                .queryParam(&quot;key&quot;,&quot;qaclick123&quot;)\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .body(bodyDoMetodyPut)\r\n                .when()\r\n                .put(&quot;maps/api/place/update/json&quot;)\r\n                .then()\r\n                .assertThat()\r\n                .statusCode(200)\r\n                .body(&quot;msg&quot;, equalTo(&quot;Address successfully updated&quot;))\r\n                .extract().asString();\r\n\r\n        JsonPath jsonPath2 = new JsonPath(resposnePut);\r\n\r\n        String putAnswer = jsonPath2.getString(&quot;msg&quot;);\r\n\r\n        System.out.println(putAnswer);\r\n    }\r\n```\r\n\r\nPlace class with setters \r\n\r\n```\r\npublic class Place {\r\n\r\n    Location location;\r\n    int accuracy;\r\n    String name;\r\n    String phone_number;\r\n    String address;\r\n    List&lt;String&gt; types;\r\n    String website;\r\n    String language;\r\n```\r\n\r\n\r\n\r\nLocation class with setters \r\n```\r\npublic class Location {\r\n\r\n    double lat;\r\n    double lng;\r\n```\r\n\r\nPOM file\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n\r\n    &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\ncould you help ?","title":"Java rest assured - No serializer found for class org.example.Place and no properties discovered to create BeanSerializer","body":"<p>could someone tell why this happens ?</p>\n<p>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.example.Place and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)</p>\n<pre><code>public static void main(String[] args) {\n\n        RestAssured.baseURI = &quot;https://example.com&quot;;\n        \n\n        Place place = new Place();\n\n        Location location = new Location();\n        location.setLat(434334.54);\n        location.setLng(3545.43);\n        place.setLocation(location);\n\n        List&lt;String&gt; lista = Arrays.asList(&quot;ala&quot;, &quot;ma&quot;);\n\n        place.setAccuracy(50);\n        place.setAddress(&quot;29, side layout, cohen 09&quot;);\n        place.setLanguage(&quot;French&quot;);\n        place.setPhone_number(&quot;(+91) 983 893 3937&quot;);\n        place.setName(&quot;WEb site&quot;);\n        place.setTypes(lista);\n        place.setWebsite(&quot;www.web.pl&quot;);\n\n\n        String resposnePost =\n                given().relaxedHTTPSValidation()\n                        .queryParam(&quot;key&quot;,&quot;qaclick123&quot;)\n                        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                        .body(place)\n                        .when()\n                        .post(&quot;/maps/api/place/add/json&quot;)\n                        .then()\n                        .assertThat()\n                        .statusCode(200)\n                        .extract().response().asString();\n\n        JsonPath jsonPath = new JsonPath(resposnePost);\n\n        String placeId = jsonPath.getString(&quot;place_id&quot;);\n\n        String bodyDoMetodyPut = String.format(&quot;{\\n&quot; +\n                &quot;\\&quot;place_id\\&quot;:\\&quot;%s\\&quot;,\\n&quot; +\n                &quot;\\&quot;address\\&quot;:\\&quot;70 Summer walk, USA\\&quot;,\\n&quot; +\n                &quot;\\&quot;key\\&quot;:\\&quot;qaclick123\\&quot;\\n&quot; +\n                &quot;}\\n&quot;, placeId);\n\n\n        String resposnePut = given().relaxedHTTPSValidation()\n                .queryParam(&quot;key&quot;,&quot;qaclick123&quot;)\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .body(bodyDoMetodyPut)\n                .when()\n                .put(&quot;maps/api/place/update/json&quot;)\n                .then()\n                .assertThat()\n                .statusCode(200)\n                .body(&quot;msg&quot;, equalTo(&quot;Address successfully updated&quot;))\n                .extract().asString();\n\n        JsonPath jsonPath2 = new JsonPath(resposnePut);\n\n        String putAnswer = jsonPath2.getString(&quot;msg&quot;);\n\n        System.out.println(putAnswer);\n    }\n</code></pre>\n<p>Place class with setters</p>\n<pre><code>public class Place {\n\n    Location location;\n    int accuracy;\n    String name;\n    String phone_number;\n    String address;\n    List&lt;String&gt; types;\n    String website;\n    String language;\n</code></pre>\n<p>Location class with setters</p>\n<pre><code>public class Location {\n\n    double lat;\n    double lng;\n</code></pre>\n<p>POM file</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.14.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>could you help ?</p>\n"},{"tags":["java","spring","multithreading","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1678191317,"post_id":75661754,"comment_id":133481931,"body_markdown":"webflux doesn&#39;t use tomcat, so trying to configure tomcat will not work. Also why a single thread **and** webflux, that kind of beats the point.","body":"webflux doesn&#39;t use tomcat, so trying to configure tomcat will not work. Also why a single thread <b>and</b> webflux, that kind of beats the point."},{"owner":{"account_id":10066949,"reputation":67,"user_id":7441862,"display_name":"John R. Martinez"},"score":0,"creation_date":1678192244,"post_id":75661754,"comment_id":133482173,"body_markdown":"@M.Deinum, thanks for responding.\nI am just experimenting, like I mention above, I want to see the behavior of Spring Webflux. This is the first time I am using it, so I want to re-search and test everything I can.","body":"@M.Deinum, thanks for responding. I am just experimenting, like I mention above, I want to see the behavior of Spring Webflux. This is the first time I am using it, so I want to re-search and test everything I can."}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678198739,"creation_date":1678198040,"answer_id":75663031,"question_id":75661754,"body_markdown":"WebFlux has nothing to do with Tomcat by default (you can configure WebFlux to use Tomcat/Undertow/Jetty instead of Netty, though). WebFlux uses Netty by default which is not even close to servlets.\r\n\r\nIn WebFlux all web requests are processed by event-loop, internally it uses reactive Netty to handle the web requests.\r\n\r\nThe threads for serving the web requests have the name like this:\r\n\r\n&gt; reactor-http-nio-4\r\n\r\nIf you want to configure the number of threads used by event loop, you can do it passing a VM-argument before application startup:\r\n\r\n    -Dreactor.netty.ioWorkerCount=1\r\n\r\nFor example, it would look like this:\r\n\r\n    java -jar application.jar -Dreactor.netty.ioWorkerCount=1\r\n\r\n------\r\n\r\nAlso: `parallel-n` threads you can see in your logs are the threads from parallel scheduler, which is used with `Flux.interval()` method. Those are not related to the event loop for serving web requests\r\n\r\n","title":"Spring Boot Maximum Requests and Threads should be 1 (server.tomcat.max-threads=1)","body":"<p>WebFlux has nothing to do with Tomcat by default (you can configure WebFlux to use Tomcat/Undertow/Jetty instead of Netty, though). WebFlux uses Netty by default which is not even close to servlets.</p>\n<p>In WebFlux all web requests are processed by event-loop, internally it uses reactive Netty to handle the web requests.</p>\n<p>The threads for serving the web requests have the name like this:</p>\n<blockquote>\n<p>reactor-http-nio-4</p>\n</blockquote>\n<p>If you want to configure the number of threads used by event loop, you can do it passing a VM-argument before application startup:</p>\n<pre><code>-Dreactor.netty.ioWorkerCount=1\n</code></pre>\n<p>For example, it would look like this:</p>\n<pre><code>java -jar application.jar -Dreactor.netty.ioWorkerCount=1\n</code></pre>\n<hr />\n<p>Also: <code>parallel-n</code> threads you can see in your logs are the threads from parallel scheduler, which is used with <code>Flux.interval()</code> method. Those are not related to the event loop for serving web requests</p>\n"},{"comments":[{"owner":{"account_id":10066949,"reputation":67,"user_id":7441862,"display_name":"John R. Martinez"},"score":0,"creation_date":1678246699,"post_id":75668266,"comment_id":133494576,"body_markdown":"Thanks for adding to the above answer. This information is really useful.","body":"Thanks for adding to the above answer. This information is really useful."}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678265981,"creation_date":1678233264,"answer_id":75668266,"question_id":75661754,"body_markdown":"Just to add to the other answer given which is completely correct.\r\n\r\nThe threads you see in the logs are just scheduling threads, so they schedule work on the event loop. If you only want one event loop, do as the other answer suggested.\r\n\r\nIf you on the other hand only want one scheduler you can add `.onSubscribe(Schedulers.single())` on any `Flux/Mono` in the chain.\r\n\r\nThis will during subscription to your application apply a single threaded scheduler.\r\n\r\nWorth noting, this is not what it is meant for, and performance might be extremely crippled.\r\n\r\nthis single scheduler is mainly used for:\r\n\r\n&gt; Optimized for low-latency Runnable one-off executions\r\n\r\naccording to the [docs][1] and is meant for one-shot operations.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html","title":"Spring Boot Maximum Requests and Threads should be 1 (server.tomcat.max-threads=1)","body":"<p>Just to add to the other answer given which is completely correct.</p>\n<p>The threads you see in the logs are just scheduling threads, so they schedule work on the event loop. If you only want one event loop, do as the other answer suggested.</p>\n<p>If you on the other hand only want one scheduler you can add <code>.onSubscribe(Schedulers.single())</code> on any <code>Flux/Mono</code> in the chain.</p>\n<p>This will during subscription to your application apply a single threaded scheduler.</p>\n<p>Worth noting, this is not what it is meant for, and performance might be extremely crippled.</p>\n<p>this single scheduler is mainly used for:</p>\n<blockquote>\n<p>Optimized for low-latency Runnable one-off executions</p>\n</blockquote>\n<p>according to the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html\" rel=\"nofollow noreferrer\">docs</a> and is meant for one-shot operations.</p>\n"}],"owner":{"account_id":10066949,"reputation":67,"user_id":7441862,"display_name":"John R. Martinez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75663031,"answer_count":2,"score":1,"last_activity_date":1681654499,"creation_date":1678190641,"question_id":75661754,"body_markdown":"## Background ##\r\nI am experimenting with Spring Webflux, for reactive applications and I want to see the behavior of the application if I only have one thread in the application. \r\n\r\n## Question ##\r\nHow can I make Spring to only use a single thread for all the requests that could come?\r\n\r\nSo far I set `server.tomcat.max-threads=1`, however I still see that multiple threads are been created per request. You can see some of the logs of the running application below:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bUJe6.png\r\n\r\nPlease let me know if I am missing something I should add in my configurations to make this work.\r\n\r\nThanks for your help!","title":"Spring Boot Maximum Requests and Threads should be 1 (server.tomcat.max-threads=1)","body":"<h2>Background</h2>\n<p>I am experimenting with Spring Webflux, for reactive applications and I want to see the behavior of the application if I only have one thread in the application.</p>\n<h2>Question</h2>\n<p>How can I make Spring to only use a single thread for all the requests that could come?</p>\n<p>So far I set <code>server.tomcat.max-threads=1</code>, however I still see that multiple threads are been created per request. You can see some of the logs of the running application below:\n<a href=\"https://i.stack.imgur.com/bUJe6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bUJe6.png\" alt=\"enter image description here\" /></a></p>\n<p>Please let me know if I am missing something I should add in my configurations to make this work.</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","intellij-idea","testng"],"comments":[{"owner":{"account_id":14854758,"reputation":239,"user_id":10727619,"display_name":"GamingFelix"},"score":3,"creation_date":1561039104,"post_id":56687497,"comment_id":99940667,"body_markdown":"There is definitely not enough info here to be able to answer your question. You&#39;d have to show the code that&#39;s creating the report and the console log for us to be able to help","body":"There is definitely not enough info here to be able to answer your question. You&#39;d have to show the code that&#39;s creating the report and the console log for us to be able to help"},{"owner":{"account_id":5100770,"reputation":1381,"user_id":4090458,"accept_rate":38,"display_name":"Varun Jain"},"score":0,"creation_date":1561042648,"post_id":56687497,"comment_id":99942896,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/10937343/how-to-disable-console-output-from-testng","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/10937343/how-to-disable-console-output-from-testng\" title=\"how to disable console output from testng\">stackoverflow.com/questions/10937343/&hellip;</a>"},{"owner":{"account_id":16172669,"reputation":3,"user_id":11676111,"display_name":"XLOXI"},"score":0,"creation_date":1561103967,"post_id":56687497,"comment_id":99962472,"body_markdown":"@GamingFelix sorry I&#39;m still a little new here. Have now posted the whole code","body":"@GamingFelix sorry I&#39;m still a little new here. Have now posted the whole code"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1561192638,"post_id":56687497,"comment_id":99990212,"body_markdown":"It is not possible to exclude tests output in html report that IDE generates. You can file a request at https://youtrack.jetbrains.com/issues/IDEA describing your use case.","body":"It is not possible to exclude tests output in html report that IDE generates. You can file a request at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> describing your use case."}],"answers":[{"comments":[{"owner":{"account_id":172975,"reputation":343,"user_id":401360,"display_name":"totsubo"},"score":0,"creation_date":1606777350,"post_id":56688665,"comment_id":115060095,"body_markdown":"Unfortunately the URL is now dead.","body":"Unfortunately the URL is now dead."},{"owner":{"account_id":15340461,"reputation":616,"user_id":11067612,"display_name":"Prakash Saravanan"},"score":0,"creation_date":1681654444,"post_id":56688665,"comment_id":134087946,"body_markdown":"Updated the URL with a working one","body":"Updated the URL with a working one"}],"tags":[],"owner":{"account_id":15340461,"reputation":616,"user_id":11067612,"display_name":"Prakash Saravanan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681654425,"creation_date":1561042396,"answer_id":56688665,"question_id":56687497,"body_markdown":"Please refer this http://seleniumworks.blogspot.com/2014/01/testng-verbose-attribute-selenium-users.html. Try with verbose=&quot;0&quot;","title":"How do I get the console output out of my testng report?","body":"<p>Please refer this <a href=\"http://seleniumworks.blogspot.com/2014/01/testng-verbose-attribute-selenium-users.html\" rel=\"nofollow noreferrer\">http://seleniumworks.blogspot.com/2014/01/testng-verbose-attribute-selenium-users.html</a>. Try with verbose=&quot;0&quot;</p>\n"}],"owner":{"account_id":16172669,"reputation":3,"user_id":11676111,"display_name":"XLOXI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56688665,"answer_count":1,"score":0,"last_activity_date":1681654425,"creation_date":1561038693,"question_id":56687497,"body_markdown":"I wrote a test program in IntelliJ IDEA with java, selenium and testng which works well. After that, I did export my test results with\r\nIntelliJ IDEA introduced &quot;export test results&quot; function as html. My problem is that the website auto created by IntelliJ IDEA also shows my console outputs and I do not want that. \r\nhas anyone any ideas how to prevent the console output comes in the test report?\r\n\r\n\r\nI tried to delete the console output even while the program was still working, but the corresponding outputs are not created until immediately before closing the console.\r\n\r\nmy code:\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.testng.annotations.Test;\r\n    import org.testng.annotations.*;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    import org.openqa.selenium.InvalidSelectorException;\r\n    \r\n    public class tester {\r\n    \r\n        WebDriver driver;\r\n    \r\n        @Test(priority = 1)\r\n        public void start_ChromeDriver() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\sam50170\\\\Desktop\\\\chromedriver.exe&quot;);\r\n            driver = new ChromeDriver();\r\n        }\r\n    \r\n        @Test(priority = 2)\r\n        public void google() {\r\n    \r\n            driver.manage().window().maximize();\r\n            driver.get(&quot;https://www.google.de/?hl=de&quot;);\r\n    \r\n        }\r\n    \r\n        @Test(priority = 3)\r\n        public void gmail() {\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;tsf\\&quot;]/div[2]/div/div[1]/div/div[1]/input&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;tsf\\&quot;]/div[2]/div/div[1]/div/div[1]/input&quot;)).sendKeys(&quot;just a test&quot;);\r\n            try {\r\n                Thread.sleep(1000);\r\n            }\r\n            catch (Exception e) {\r\n            }\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\nmy output:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-11.0.2\\bin\\java.exe&quot; -ea -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Users\\sam50170\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\lib\\idea_rt.jar=61255:C:\\Users\\sam50170\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\sam50170\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\lib\\idea_rt.jar;C:\\Users\\sam50170\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\plugins\\testng\\lib\\testng-plugin.jar;P:\\Java\\out\\production\\Java;P:\\selenium-server-standalone-3.141.59.jar;P:\\Java\\TestNG\\testng-6.8.5.jar\\testng-6.8.5.jar;C:\\Users\\sam50170\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\plugins\\testng\\lib\\jcommander.jar&quot; org.testng.RemoteTestNGStarter -usedefaultlisteners false -socket61254 @w@C:\\Users\\sam50170\\AppData\\Local\\Temp\\idea_working_dirs_testng.tmp -temp C:\\Users\\sam50170\\AppData\\Local\\Temp\\idea_testng.tmp\r\n\t[TestNG] Running:\r\n  \tC:\\Users\\sam50170\\.IdeaIC2018.3\\system\\temp-testng-customsuite.xml\r\n\tStarting ChromeDriver 74.0.3729.6 (255758eccf3d244491b8a1317aa76e1ce10d57e9-refs/branch-heads/3729@{#29}) on port 32524\r\n\tOnly local connections are allowed.\r\n\tPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n\t[1561101866.486][WARNING]: This version of ChromeDriver has not been tested with Chrome version 75.\r\n\tJuni 21, 2019 9:24:27 VORM. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n\tINFO: Detected dialect: OSS\r\n\r\n\t===============================================\r\n\tDefault Suite\r\n\tTotal tests run: 3, Failures: 0, Skips: 0\r\n\t===============================================\r\n\r\n\r\n\tProcess finished with exit code 0\r\n\r\n\r\n\r\n\r\nThe following picture shows the automatically created test report of IntelliJ IDEA which I would like without consolen information.\r\n\r\n\r\n\r\n  [Testng test report][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ei1JC.png","title":"How do I get the console output out of my testng report?","body":"<p>I wrote a test program in IntelliJ IDEA with java, selenium and testng which works well. After that, I did export my test results with\nIntelliJ IDEA introduced \"export test results\" function as html. My problem is that the website auto created by IntelliJ IDEA also shows my console outputs and I do not want that. \nhas anyone any ideas how to prevent the console output comes in the test report?</p>\n\n<p>I tried to delete the console output even while the program was still working, but the corresponding outputs are not created until immediately before closing the console.</p>\n\n<p>my code:</p>\n\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.Test;\nimport org.testng.annotations.*;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.InvalidSelectorException;\n\npublic class tester {\n\n    WebDriver driver;\n\n    @Test(priority = 1)\n    public void start_ChromeDriver() {\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Users\\\\sam50170\\\\Desktop\\\\chromedriver.exe\");\n        driver = new ChromeDriver();\n    }\n\n    @Test(priority = 2)\n    public void google() {\n\n        driver.manage().window().maximize();\n        driver.get(\"https://www.google.de/?hl=de\");\n\n    }\n\n    @Test(priority = 3)\n    public void gmail() {\n        driver.findElement(By.xpath(\"//*[@id=\\\"tsf\\\"]/div[2]/div/div[1]/div/div[1]/input\")).click();\n        driver.findElement(By.xpath(\"//*[@id=\\\"tsf\\\"]/div[2]/div/div[1]/div/div[1]/input\")).sendKeys(\"just a test\");\n        try {\n            Thread.sleep(1000);\n        }\n        catch (Exception e) {\n        }\n        driver.quit();\n    }\n}\n</code></pre>\n\n<p>my output:</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk-11.0.2\\bin\\java.exe\" -ea -Didea.test.cyclic.buffer.size=1048576 \"-javaagent:C:\\Users\\sam50170\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\lib\\idea_rt.jar=61255:C:\\Users\\sam50170\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\bin\" -Dfile.encoding=UTF-8 -classpath \"C:\\Users\\sam50170\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\lib\\idea_rt.jar;C:\\Users\\sam50170\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\plugins\\testng\\lib\\testng-plugin.jar;P:\\Java\\out\\production\\Java;P:\\selenium-server-standalone-3.141.59.jar;P:\\Java\\TestNG\\testng-6.8.5.jar\\testng-6.8.5.jar;C:\\Users\\sam50170\\AppData\\Local\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\plugins\\testng\\lib\\jcommander.jar\" org.testng.RemoteTestNGStarter -usedefaultlisteners false -socket61254 @w@C:\\Users\\sam50170\\AppData\\Local\\Temp\\idea_working_dirs_testng.tmp -temp C:\\Users\\sam50170\\AppData\\Local\\Temp\\idea_testng.tmp\n[TestNG] Running:\nC:\\Users\\sam50170\\.IdeaIC2018.3\\system\\temp-testng-customsuite.xml\nStarting ChromeDriver 74.0.3729.6 (255758eccf3d244491b8a1317aa76e1ce10d57e9-refs/branch-heads/3729@{#29}) on port 32524\nOnly local connections are allowed.\nPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\n[1561101866.486][WARNING]: This version of ChromeDriver has not been tested with Chrome version 75.\nJuni 21, 2019 9:24:27 VORM. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: OSS\n\n===============================================\nDefault Suite\nTotal tests run: 3, Failures: 0, Skips: 0\n===============================================\n\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>The following picture shows the automatically created test report of IntelliJ IDEA which I would like without consolen information.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ei1JC.png\" rel=\"nofollow noreferrer\">Testng test report</a></p>\n"},{"tags":["java","gradle","raspberry-pi","libgdx","jpackage"],"comments":[{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1681823420,"post_id":76026410,"comment_id":134116091,"body_markdown":"I have tried to use an another tool to create the executable launcher. I used parcl https://github.com/mini2Dx/parcl . It works on Windows x64 but it doesn&#39;t work on my Raspberry Pi 4B with Raspberry Pi OS X64. It creates a launchable sh-file and saved the JDK in the folder with the output. But it doesn&#39;t launch the game","body":"I have tried to use an another tool to create the executable launcher. I used parcl <a href=\"https://github.com/mini2Dx/parcl\" rel=\"nofollow noreferrer\">github.com/mini2Dx/parcl</a> . It works on Windows x64 but it doesn&#39;t work on my Raspberry Pi 4B with Raspberry Pi OS X64. It creates a launchable sh-file and saved the JDK in the folder with the output. But it doesn&#39;t launch the game"}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681654336,"creation_date":1681629835,"question_id":76026410,"body_markdown":"I try to deploy a videogame made with LibGDX for Raspberry Pi. My customer has a specific old version of Raspbian that can not more updated and a java can not be installed. Previous games for him were created using Lua and Love2D. I have created a videogame using Java and LibGDX. To launch the game on his Raspberry Pi 3B I need to integrate Java in the game. I have tried to use JPackage. It works perfect on Windows. But it doesn&#39;t work on Ubuntu X64 (I use Khadas Vim3 pro) and Raspberry Pi OS 64 bit (I tested on my Raspberry Pi 4B). It shows an error. My build.gradle file in the desktop module:\r\n\r\n    jpackage {\r\n        String moduleName = project.name.toString()\r\n        String moduleDir = project.projectDir.toString();\r\n        int startModuleChar = moduleDir.indexOf(moduleName)\r\n        String projectDir = moduleDir.substring(0,startModuleChar)\r\n        String pathToJdk;\r\n        if (osName.contains(&#39;windows&#39;)) {\r\n            pathToJdk = projectDir+File.separator+&#39;jdks&#39;+File.separator+&#39;Win64&#39;+File.separator+&#39;jdk&#39;\r\n\r\n        }\r\n        else {\r\n            String architecture = System.getProperty(&quot;sun.arch.data.model&quot;);\r\n            if (architecture.contains(&#39;32&#39;)){\r\n                System.out.println(&quot;This is Linux 32 bit&quot;)\r\n                pathToJdk = projectDir+&#39;jdks&#39;+File.separator+&#39;arm32&#39;+File.separator+&#39;jdk-14.0.2+12&#39;\r\n            }\r\n            else {\r\n                System.out.println(&quot;This is Linux 64 bit&quot;)\r\n                pathToJdk = projectDir+&#39;jdks&#39;+File.separator+&#39;arm64&#39;+File.separator+&#39;jdk-14.0.2+12&#39;\r\n                try{\r\n                    File jdk = new File(pathToJdk);\r\n                    System.out.println(&quot;Dir exists: &quot; + jdk.exists());\r\n                }\r\n                catch(Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        jpackageHome = pathToJdk\r\n\r\n        mainJar = dist.archiveFileName.get()\r\n        if (osName.contains(&#39;windows&#39;)) {\r\n            imageOptions = [&quot;--icon&quot;, file(&quot;../icons/icon.ico&quot;)]\r\n        } else if (osName.contains(&#39;linux&#39;)) {\r\n            imageOptions = [&quot;--icon&quot;, file(&quot;../icons/icon.png&quot;)]\r\n        } else if (osName.contains(&#39;mac&#39;)) {\r\n            imageOptions = [&quot;--icon&quot;, file(&quot;../icons/icon.icns&quot;)]\r\n        }\r\n    }\r\n\r\nAnd it fails and I receive the next error message in the output:\r\n\r\n```\r\nTask :desktop:jpackageImage\r\nThe jpackage task is experimental. Use it at your own risk.\r\n/home/khadas/GD/Workspace/airfight_ussr_14.04.2023/airfight_ussr/jdks/arm64/jdk-14.0.2+12/bin/jpackage: 1: ELF: not found\r\n/home/khadas/GD/Workspace/airfight_ussr_14.04.2023/airfight_ussr/jdks/arm64/jdk-14.0.2+12/bin/jpackage: 9: Syntax error: Unterminated quoted string\r\n```\r\n\r\n\r\n&gt; Task :desktop:jpackageImage FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:desktop:jpackageImage&#39;.\r\n&gt; Process &#39;command &#39;/home/khadas/GD/Workspace/airfight_ussr_14.04.2023/airfight_ussr/jdks/arm64/jdk-14.0.2+12/bin/jpackage&#39;&#39; finished with non-zero exit value 2\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\r\nWhen I run with the stacktrace I receive:\r\n\r\n&gt; * Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:desktop:jpackageImage&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:370)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:357)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:350)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;/home/khadas/GD/Workspace/airfight_ussr_14.04.2023/airfight_ussr/jdks/arm64/jdk-14.0.2+12/bin/jpackage&#39;&#39; finished with non-zero exit value 2\r\n\tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:417)\r\n\tat org.gradle.process.ExecResult$assertNormalExitValue.call(Unknown Source)\r\n\tat org.beryx.runtime.impl.JPackageImageTaskImpl.execute(JPackageImageTaskImpl.groovy:91)\r\n\tat org.beryx.runtime.JPackageImageTask.jpackageTaskAction(JPackageImageTask.groovy:75)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:49)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:42)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:722)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:689)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.run(ExecuteActionsTaskExecuter.java:569)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:554)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:537)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:108)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:278)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:267)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$1(ExecuteStep.java:33)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\r\n\tat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:67)\r\n\tat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:49)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:34)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:43)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\r\n\tat org.gradle.internal.execution.steps.CatchExceptionStep.execute(CatchExceptionStep.java:34)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:44)\r\n\tat org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:54)\r\n\tat org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:159)\r\n\tat org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:72)\r\n\tat org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:43)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:44)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:33)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:92)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:85)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:76)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:94)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:79)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:78)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:78)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:39)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:40)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:28)\r\n\tat org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:194)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:370)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:357)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:350)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\r\n\r\nWhat is wrong and how can I deploy my game with the embedded java (not lower as Java 11)?\r\n","title":"Deploy LibGDX game with embedded java for single board computers with Linux","body":"<p>I try to deploy a videogame made with LibGDX for Raspberry Pi. My customer has a specific old version of Raspbian that can not more updated and a java can not be installed. Previous games for him were created using Lua and Love2D. I have created a videogame using Java and LibGDX. To launch the game on his Raspberry Pi 3B I need to integrate Java in the game. I have tried to use JPackage. It works perfect on Windows. But it doesn't work on Ubuntu X64 (I use Khadas Vim3 pro) and Raspberry Pi OS 64 bit (I tested on my Raspberry Pi 4B). It shows an error. My build.gradle file in the desktop module:</p>\n<pre><code>jpackage {\n    String moduleName = project.name.toString()\n    String moduleDir = project.projectDir.toString();\n    int startModuleChar = moduleDir.indexOf(moduleName)\n    String projectDir = moduleDir.substring(0,startModuleChar)\n    String pathToJdk;\n    if (osName.contains('windows')) {\n        pathToJdk = projectDir+File.separator+'jdks'+File.separator+'Win64'+File.separator+'jdk'\n\n    }\n    else {\n        String architecture = System.getProperty(&quot;sun.arch.data.model&quot;);\n        if (architecture.contains('32')){\n            System.out.println(&quot;This is Linux 32 bit&quot;)\n            pathToJdk = projectDir+'jdks'+File.separator+'arm32'+File.separator+'jdk-14.0.2+12'\n        }\n        else {\n            System.out.println(&quot;This is Linux 64 bit&quot;)\n            pathToJdk = projectDir+'jdks'+File.separator+'arm64'+File.separator+'jdk-14.0.2+12'\n            try{\n                File jdk = new File(pathToJdk);\n                System.out.println(&quot;Dir exists: &quot; + jdk.exists());\n            }\n            catch(Exception e){\n                e.printStackTrace();\n            }\n        }\n    }\n    jpackageHome = pathToJdk\n\n    mainJar = dist.archiveFileName.get()\n    if (osName.contains('windows')) {\n        imageOptions = [&quot;--icon&quot;, file(&quot;../icons/icon.ico&quot;)]\n    } else if (osName.contains('linux')) {\n        imageOptions = [&quot;--icon&quot;, file(&quot;../icons/icon.png&quot;)]\n    } else if (osName.contains('mac')) {\n        imageOptions = [&quot;--icon&quot;, file(&quot;../icons/icon.icns&quot;)]\n    }\n}\n</code></pre>\n<p>And it fails and I receive the next error message in the output:</p>\n<pre><code>Task :desktop:jpackageImage\nThe jpackage task is experimental. Use it at your own risk.\n/home/khadas/GD/Workspace/airfight_ussr_14.04.2023/airfight_ussr/jdks/arm64/jdk-14.0.2+12/bin/jpackage: 1: ELF: not found\n/home/khadas/GD/Workspace/airfight_ussr_14.04.2023/airfight_ussr/jdks/arm64/jdk-14.0.2+12/bin/jpackage: 9: Syntax error: Unterminated quoted string\n</code></pre>\n<blockquote>\n<p>Task :desktop:jpackageImage FAILED</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':desktop:jpackageImage'.</li>\n</ul>\n<blockquote>\n<p>Process 'command '/home/khadas/GD/Workspace/airfight_ussr_14.04.2023/airfight_ussr/jdks/arm64/jdk-14.0.2+12/bin/jpackage'' finished with non-zero exit value 2</p>\n</blockquote>\n<ul>\n<li>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</li>\n</ul>\n<p>When I run with the stacktrace I receive:</p>\n<blockquote>\n<ul>\n<li>Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':desktop:jpackageImage'.\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\nat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\nat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:370)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:357)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:350)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.process.internal.ExecException: Process 'command '/home/khadas/GD/Workspace/airfight_ussr_14.04.2023/airfight_ussr/jdks/arm64/jdk-14.0.2+12/bin/jpackage'' finished with non-zero exit value 2\nat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:417)\nat org.gradle.process.ExecResult$assertNormalExitValue.call(Unknown Source)\nat org.beryx.runtime.impl.JPackageImageTaskImpl.execute(JPackageImageTaskImpl.groovy:91)\nat org.beryx.runtime.JPackageImageTask.jpackageTaskAction(JPackageImageTask.groovy:75)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:49)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:42)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:722)\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:689)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.run(ExecuteActionsTaskExecuter.java:569)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\nat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:554)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:537)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:108)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:278)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:267)\nat org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$1(ExecuteStep.java:33)\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\nat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:67)\nat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:36)\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:49)\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:34)\nat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:43)\nat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\nat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\nat org.gradle.internal.execution.steps.CatchExceptionStep.execute(CatchExceptionStep.java:34)\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:44)\nat org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:54)\nat org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:38)\nat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:49)\nat org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:159)\nat org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:72)\nat org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:43)\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:44)\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:33)\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:92)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:85)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:76)\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:94)\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:79)\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:53)\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:78)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:78)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:39)\nat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:40)\nat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:28)\nat org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:194)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\nat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:370)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:357)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:350)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)</li>\n</ul>\n</blockquote>\n<p>What is wrong and how can I deploy my game with the embedded java (not lower as Java 11)?</p>\n"},{"tags":["java","spring-boot","spring-security","header","cors"],"comments":[{"owner":{"account_id":3691991,"reputation":1761,"user_id":3074381,"accept_rate":90,"display_name":"cghislai"},"score":0,"creation_date":1581722654,"post_id":60234392,"comment_id":106544367,"body_markdown":"your issue is with cors, no need to post your whole app source code. To see if the cors configuration is problematic (like you seem to disallow request `withCredentials`), the javadoc states `Use applyPermitDefaultValues() to flip the initialization model to start with open defaults that permit all cross-origin requests for GET, HEAD, and POST requests.`. I would start there.","body":"your issue is with cors, no need to post your whole app source code. To see if the cors configuration is problematic (like you seem to disallow request <code>withCredentials</code>), the javadoc states <code>Use applyPermitDefaultValues() to flip the initialization model to start with open defaults that permit all cross-origin requests for GET, HEAD, and POST requests.</code>. I would start there."},{"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"score":0,"creation_date":1581723129,"post_id":60234392,"comment_id":106544461,"body_markdown":"Could you check by adding  &#39;@EnableWebSecurity` i did not find that\n&#39;","body":"Could you check by adding  &#39;@EnableWebSecurity` i did not find that &#39;"},{"owner":{"account_id":4870174,"reputation":575,"user_id":3926980,"accept_rate":50,"display_name":"sammubr"},"score":0,"creation_date":1581723214,"post_id":60234392,"comment_id":106544480,"body_markdown":"@cghislai I tried and it didn&#39;t work. The same error continues.","body":"@cghislai I tried and it didn&#39;t work. The same error continues."},{"owner":{"account_id":4870174,"reputation":575,"user_id":3926980,"accept_rate":50,"display_name":"sammubr"},"score":0,"creation_date":1581723349,"post_id":60234392,"comment_id":106544512,"body_markdown":"@NirajSonawane This example of Spring https://github.com/spring-projects/spring-security/tree/master/samples/boot/oauth2authorizationserver has no EnableWebSecurity. And even putting it, it doesn&#39;t change anything.","body":"@NirajSonawane This example of Spring <a href=\"https://github.com/spring-projects/spring-security/tree/master/samples/boot/oauth2authorizationserver\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/tree/master/sampl&zwnj;&#8203;es/&hellip;</a> has no EnableWebSecurity. And even putting it, it doesn&#39;t change anything."},{"owner":{"account_id":197590,"reputation":83547,"user_id":441757,"accept_rate":100,"display_name":"sideshowbarker"},"score":0,"creation_date":1581725858,"post_id":60234392,"comment_id":106544965,"body_markdown":"What‚Äôs the HTTP status code of the response? You can use the Network pane in browser devtools to check. Is it a 4xx or 5xx error rather than a 200 OK success response?","body":"What‚Äôs the HTTP status code of the response? You can use the Network pane in browser devtools to check. Is it a 4xx or 5xx error rather than a 200 OK success response?"},{"owner":{"account_id":4870174,"reputation":575,"user_id":3926980,"accept_rate":50,"display_name":"sammubr"},"score":0,"creation_date":1581727295,"post_id":60234392,"comment_id":106545193,"body_markdown":"@sideshowbarker No status, only (failed) net::ER_FAILED in network tab. In console tab, i&#39;m getting ```Access to XMLHttpRequest at &#39;http://writer:secret@localhost:8081/oauth/token&#39; from origin &#39;http://localhost:8080&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\nentry.js:26 Error: Network Error\n    at createError (createError.js:16)\n    at XMLHttpRequest.handleError (xhr.js:83)\nxhr.js:178 POST http://writer:secret@localhost:8081/oauth/token net::ERR_FAILED```","body":"@sideshowbarker No status, only (failed) net::ER_FAILED in network tab. In console tab, i&#39;m getting <code>Access to XMLHttpRequest at &#39;http:&#47;&#47;writer:secret@localhost:8081&#47;oauth&#47;token&#39; from origin &#39;http:&#47;&#47;localhost:8080&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. entry.js:26 Error: Network Error     at createError (createError.js:16)     at XMLHttpRequest.handleError (xhr.js:83) xhr.js:178 POST http:&#47;&#47;writer:secret@localhost:8081&#47;oauth&#47;token net::ERR_FAILED</code>"},{"owner":{"account_id":4870174,"reputation":575,"user_id":3926980,"accept_rate":50,"display_name":"sammubr"},"score":1,"creation_date":1581774070,"post_id":60234392,"comment_id":106552465,"body_markdown":"@dur https://imgur.com/a/PrCzhRd","body":"@dur <a href=\"https://imgur.com/a/PrCzhRd\" rel=\"nofollow noreferrer\">imgur.com/a/PrCzhRd</a>"}],"owner":{"account_id":4870174,"reputation":575,"user_id":3926980,"accept_rate":50,"display_name":"sammubr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681653875,"creation_date":1581720223,"question_id":60234392,"body_markdown":"I&#39;m trying to create an application like this [OAuth 2.0 Authorization Server Sample][1], but I&#39;m having problems with CORS. \r\n\r\nI already did what was suggested here [CORS][2], but I&#39;m getting this error:\r\n```\r\nAccess to XMLHttpRequest at &#39;http://writer:secret@localhost:8081/oauth/token&#39; from origin &#39;http://localhost:8080&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n```\r\nMy classes:\r\n\r\n```\r\npackage br.com.sammubr.auth;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class AuthApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(AuthApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n```\r\npackage br.com.sammubr.auth.configuration;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;\r\nimport org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;\r\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;\r\nimport org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;\r\nimport org.springframework.security.oauth2.provider.token.DefaultAccessTokenConverter;\r\nimport org.springframework.security.oauth2.provider.token.TokenStore;\r\nimport org.springframework.security.oauth2.provider.token.store.InMemoryTokenStore;\r\nimport org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter;\r\nimport org.springframework.security.oauth2.provider.token.store.JwtTokenStore;\r\n\r\nimport java.security.KeyPair;\r\n\r\n@EnableAuthorizationServer\r\n@Configuration\r\npublic class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\r\n\r\n    AuthenticationManager authenticationManager;\r\n    KeyPair keyPair;\r\n    boolean jwtEnabled;\r\n\r\n    public AuthorizationServerConfiguration(\r\n            AuthenticationConfiguration authenticationConfiguration,\r\n            KeyPair keyPair,\r\n            @Value(&quot;${security.oauth2.authorizationserver.jwt.enabled:true}&quot;) boolean jwtEnabled) throws Exception {\r\n\r\n        this.authenticationManager = authenticationConfiguration.getAuthenticationManager();\r\n        this.keyPair = keyPair;\r\n        this.jwtEnabled = jwtEnabled;\r\n    }\r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n\r\n        clients.inMemory()\r\n                .withClient(&quot;reader&quot;)\r\n                .authorizedGrantTypes(&quot;password&quot;)\r\n                .secret(&quot;{noop}secret&quot;)\r\n                .scopes(&quot;message:read&quot;)\r\n                .accessTokenValiditySeconds(600_000_000)\r\n                .and()\r\n                .withClient(&quot;writer&quot;)\r\n                .authorizedGrantTypes(&quot;password&quot;)\r\n                .secret(&quot;{noop}secret&quot;)\r\n                .scopes(&quot;message:write&quot;)\r\n                .accessTokenValiditySeconds(600_000_000)\r\n                .and()\r\n                .withClient(&quot;noscopes&quot;)\r\n                .authorizedGrantTypes(&quot;password&quot;)\r\n                .secret(&quot;{noop}secret&quot;)\r\n                .scopes(&quot;none&quot;)\r\n                .accessTokenValiditySeconds(600_000_000);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\r\n\r\n        endpoints\r\n                .authenticationManager(this.authenticationManager)\r\n                .tokenStore(tokenStore());\r\n\r\n        if (this.jwtEnabled) {\r\n            endpoints\r\n                    .accessTokenConverter(accessTokenConverter());\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public TokenStore tokenStore() {\r\n        if (this.jwtEnabled) {\r\n            return new JwtTokenStore(accessTokenConverter());\r\n        } else {\r\n            return new InMemoryTokenStore();\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public JwtAccessTokenConverter accessTokenConverter() {\r\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\r\n        converter.setKeyPair(this.keyPair);\r\n\r\n        DefaultAccessTokenConverter accessTokenConverter = new DefaultAccessTokenConverter();\r\n        accessTokenConverter.setUserTokenConverter(new SubjectAttributeUserTokenConverter());\r\n        converter.setAccessTokenConverter(accessTokenConverter);\r\n\r\n        return converter;\r\n    }\r\n}\r\n```\r\n```\r\npackage br.com.sammubr.auth.configuration;\r\n\r\nimport org.springframework.security.oauth2.common.OAuth2AccessToken;\r\nimport org.springframework.security.oauth2.provider.OAuth2Authentication;\r\nimport org.springframework.security.oauth2.provider.endpoint.FrameworkEndpoint;\r\nimport org.springframework.security.oauth2.provider.token.TokenStore;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\n@FrameworkEndpoint\r\nclass IntrospectEndpoint {\r\n    TokenStore tokenStore;\r\n\r\n    IntrospectEndpoint(TokenStore tokenStore) {\r\n        this.tokenStore = tokenStore;\r\n    }\r\n\r\n    @PostMapping(&quot;/introspect&quot;)\r\n    @ResponseBody\r\n    public Map&lt;String, Object&gt; introspect(@RequestParam(&quot;token&quot;) String token) {\r\n        OAuth2AccessToken accessToken = this.tokenStore.readAccessToken(token);\r\n        Map&lt;String, Object&gt; attributes = new HashMap&lt;&gt;();\r\n        if (accessToken == null || accessToken.isExpired()) {\r\n            attributes.put(&quot;active&quot;, false);\r\n            return attributes;\r\n        }\r\n\r\n        OAuth2Authentication authentication = this.tokenStore.readAuthentication(token);\r\n\r\n        attributes.put(&quot;active&quot;, true);\r\n        attributes.put(&quot;exp&quot;, accessToken.getExpiration().getTime());\r\n        attributes.put(&quot;scope&quot;, accessToken.getScope().stream().collect(Collectors.joining(&quot; &quot;)));\r\n        attributes.put(&quot;sub&quot;, authentication.getName());\r\n\r\n        return attributes;\r\n    }\r\n}\r\n```\r\n```\r\npackage br.com.sammubr.auth.configuration;\r\n\r\nimport com.nimbusds.jose.jwk.JWKSet;\r\nimport com.nimbusds.jose.jwk.RSAKey;\r\nimport org.springframework.security.oauth2.provider.endpoint.FrameworkEndpoint;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport java.security.KeyPair;\r\nimport java.security.interfaces.RSAPublicKey;\r\nimport java.util.Map;\r\n\r\n@FrameworkEndpoint\r\nclass JwkSetEndpoint {\r\n    KeyPair keyPair;\r\n\r\n    JwkSetEndpoint(KeyPair keyPair) {\r\n        this.keyPair = keyPair;\r\n    }\r\n\r\n    @GetMapping(&quot;/.well-known/jwks.json&quot;)\r\n    @ResponseBody\r\n    public Map&lt;String, Object&gt; getKey() {\r\n        RSAPublicKey publicKey = (RSAPublicKey) this.keyPair.getPublic();\r\n        RSAKey key = new RSAKey.Builder(publicKey).build();\r\n        return new JWKSet(key).toJSONObject();\r\n    }\r\n}\r\n```\r\n```\r\npackage br.com.sammubr.auth.configuration;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.math.BigInteger;\r\nimport java.security.KeyFactory;\r\nimport java.security.KeyPair;\r\nimport java.security.spec.RSAPrivateKeySpec;\r\nimport java.security.spec.RSAPublicKeySpec;\r\n\r\n@Configuration\r\nclass KeyConfig {\r\n    @Bean\r\n    KeyPair keyPair() {\r\n        try {\r\n            String privateExponent = &quot;3851612021791312596791631935569878540203393691253311342052463788814433805390794604753109719790052408607029530149004451377846406736413270923596916756321977922303381344613407820854322190592787335193581632323728135479679928871596911841005827348430783250026013354350760878678723915119966019947072651782000702927096735228356171563532131162414366310012554312756036441054404004920678199077822575051043273088621405687950081861819700809912238863867947415641838115425624808671834312114785499017269379478439158796130804789241476050832773822038351367878951389438751088021113551495469440016698505614123035099067172660197922333993&quot;;\r\n            String modulus = &quot;18044398961479537755088511127417480155072543594514852056908450877656126120801808993616738273349107491806340290040410660515399239279742407357192875363433659810851147557504389760192273458065587503508596714389889971758652047927503525007076910925306186421971180013159326306810174367375596043267660331677530921991343349336096643043840224352451615452251387611820750171352353189973315443889352557807329336576421211370350554195530374360110583327093711721857129170040527236951522127488980970085401773781530555922385755722534685479501240842392531455355164896023070459024737908929308707435474197069199421373363801477026083786683&quot;;\r\n            String exponent = &quot;65537&quot;;\r\n\r\n            RSAPublicKeySpec publicSpec = new RSAPublicKeySpec(new BigInteger(modulus), new BigInteger(exponent));\r\n            RSAPrivateKeySpec privateSpec = new RSAPrivateKeySpec(new BigInteger(modulus), new BigInteger(privateExponent));\r\n            KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            return new KeyPair(factory.generatePublic(publicSpec), factory.generatePrivate(privateSpec));\r\n        } catch (Exception e) {\r\n            throw new IllegalArgumentException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\npackage br.com.sammubr.auth.configuration;\r\n\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.authority.AuthorityUtils;\r\nimport org.springframework.security.oauth2.provider.token.DefaultUserAuthenticationConverter;\r\n\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\n\r\nclass SubjectAttributeUserTokenConverter extends DefaultUserAuthenticationConverter {\r\n    @Override\r\n    public Map&lt;String, ?&gt; convertUserAuthentication(Authentication authentication) {\r\n        Map&lt;String, Object&gt; response = new LinkedHashMap&lt;&gt;();\r\n        response.put(&quot;sub&quot;, authentication.getName());\r\n        if (authentication.getAuthorities() != null &amp;&amp; !authentication.getAuthorities().isEmpty()) {\r\n            response.put(AUTHORITIES, AuthorityUtils.authorityListToSet(authentication.getAuthorities()));\r\n        }\r\n        return response;\r\n    }\r\n}\r\n```\r\n```\r\npackage br.com.sammubr.auth.configuration;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.CorsConfigurationSource;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\n\r\nimport static org.springframework.security.config.Customizer.withDefaults;\r\n\r\n@Configuration\r\nclass UserConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors(withDefaults())\r\n                .authorizeRequests()\r\n                .mvcMatchers(&quot;/.well-known/jwks.json&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic()\r\n                .and()\r\n                .csrf().ignoringRequestMatchers(request -&gt; &quot;/introspect&quot;.equals(request.getRequestURI()));\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public UserDetailsService userDetailsService() {\r\n        return new InMemoryUserDetailsManager(\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;subject&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build());\r\n    }\r\n}\r\n```\r\n\r\nAnd my request is simple like this:\r\n```\r\nimport $ from &#39;jquery&#39;;\r\nwindow.jQuery = $;\r\nwindow.$ = $;\r\n\r\nimport axios from &quot;axios&quot;;\r\n\r\nlet api = axios.create({\r\n    baseURL: &#39;http://writer:secret@localhost:8081&#39;,\r\n    headers: {\r\n        &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;\r\n    }\r\n});\r\n\r\n$(document).ready(function() {\r\n    $(&quot;input[type=submit]&quot;).on(&quot;click&quot;, function(ev) {\r\n        ev.preventDefault();\r\n        const params = new URLSearchParams();\r\n        params.append(&#39;username&#39;, &#39;subject&#39;);\r\n        params.append(&#39;password&#39;, &#39;password&#39;);\r\n        params.append(&#39;grant_type&#39;, &#39;password&#39;);\r\n\r\n        api.post(&#39;/oauth/token&#39;, params)\r\n        .then((resp) =&gt; {\r\n            console.log(resp.data)\r\n        }).catch(error =&gt; console.error(error));\r\n\r\n    });\r\n});\r\n```\r\n\r\nI&#39;m doing what you say in the Spring documentation, but it&#39;s not working. Can someone help me?\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/tree/master/samples/boot/oauth2authorizationserver\r\n  [2]: https://docs.spring.io/spring-security/site/docs/5.2.2.RELEASE/reference/htmlsingle/#cors","title":"Why am I getting &quot;No &#39;Access-Control-Allow-Origin&#39; header is present&quot; even though doing what the Spring documentation suggests","body":"<p>I'm trying to create an application like this <a href=\"https://github.com/spring-projects/spring-security/tree/master/samples/boot/oauth2authorizationserver\" rel=\"nofollow noreferrer\">OAuth 2.0 Authorization Server Sample</a>, but I'm having problems with CORS. </p>\n\n<p>I already did what was suggested here <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.2.RELEASE/reference/htmlsingle/#cors\" rel=\"nofollow noreferrer\">CORS</a>, but I'm getting this error:</p>\n\n<pre><code>Access to XMLHttpRequest at 'http://writer:secret@localhost:8081/oauth/token' from origin 'http://localhost:8080' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n\n<p>My classes:</p>\n\n<pre><code>package br.com.sammubr.auth;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AuthApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(AuthApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<pre><code>package br.com.sammubr.auth.configuration;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;\nimport org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;\nimport org.springframework.security.oauth2.provider.token.DefaultAccessTokenConverter;\nimport org.springframework.security.oauth2.provider.token.TokenStore;\nimport org.springframework.security.oauth2.provider.token.store.InMemoryTokenStore;\nimport org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter;\nimport org.springframework.security.oauth2.provider.token.store.JwtTokenStore;\n\nimport java.security.KeyPair;\n\n@EnableAuthorizationServer\n@Configuration\npublic class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\n\n    AuthenticationManager authenticationManager;\n    KeyPair keyPair;\n    boolean jwtEnabled;\n\n    public AuthorizationServerConfiguration(\n            AuthenticationConfiguration authenticationConfiguration,\n            KeyPair keyPair,\n            @Value(\"${security.oauth2.authorizationserver.jwt.enabled:true}\") boolean jwtEnabled) throws Exception {\n\n        this.authenticationManager = authenticationConfiguration.getAuthenticationManager();\n        this.keyPair = keyPair;\n        this.jwtEnabled = jwtEnabled;\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n\n        clients.inMemory()\n                .withClient(\"reader\")\n                .authorizedGrantTypes(\"password\")\n                .secret(\"{noop}secret\")\n                .scopes(\"message:read\")\n                .accessTokenValiditySeconds(600_000_000)\n                .and()\n                .withClient(\"writer\")\n                .authorizedGrantTypes(\"password\")\n                .secret(\"{noop}secret\")\n                .scopes(\"message:write\")\n                .accessTokenValiditySeconds(600_000_000)\n                .and()\n                .withClient(\"noscopes\")\n                .authorizedGrantTypes(\"password\")\n                .secret(\"{noop}secret\")\n                .scopes(\"none\")\n                .accessTokenValiditySeconds(600_000_000);\n\n    }\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\n\n        endpoints\n                .authenticationManager(this.authenticationManager)\n                .tokenStore(tokenStore());\n\n        if (this.jwtEnabled) {\n            endpoints\n                    .accessTokenConverter(accessTokenConverter());\n        }\n    }\n\n    @Bean\n    public TokenStore tokenStore() {\n        if (this.jwtEnabled) {\n            return new JwtTokenStore(accessTokenConverter());\n        } else {\n            return new InMemoryTokenStore();\n        }\n    }\n\n    @Bean\n    public JwtAccessTokenConverter accessTokenConverter() {\n        JwtAccessTokenConverter converter = new JwtAccessTokenConverter();\n        converter.setKeyPair(this.keyPair);\n\n        DefaultAccessTokenConverter accessTokenConverter = new DefaultAccessTokenConverter();\n        accessTokenConverter.setUserTokenConverter(new SubjectAttributeUserTokenConverter());\n        converter.setAccessTokenConverter(accessTokenConverter);\n\n        return converter;\n    }\n}\n</code></pre>\n\n<pre><code>package br.com.sammubr.auth.configuration;\n\nimport org.springframework.security.oauth2.common.OAuth2AccessToken;\nimport org.springframework.security.oauth2.provider.OAuth2Authentication;\nimport org.springframework.security.oauth2.provider.endpoint.FrameworkEndpoint;\nimport org.springframework.security.oauth2.provider.token.TokenStore;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\n@FrameworkEndpoint\nclass IntrospectEndpoint {\n    TokenStore tokenStore;\n\n    IntrospectEndpoint(TokenStore tokenStore) {\n        this.tokenStore = tokenStore;\n    }\n\n    @PostMapping(\"/introspect\")\n    @ResponseBody\n    public Map&lt;String, Object&gt; introspect(@RequestParam(\"token\") String token) {\n        OAuth2AccessToken accessToken = this.tokenStore.readAccessToken(token);\n        Map&lt;String, Object&gt; attributes = new HashMap&lt;&gt;();\n        if (accessToken == null || accessToken.isExpired()) {\n            attributes.put(\"active\", false);\n            return attributes;\n        }\n\n        OAuth2Authentication authentication = this.tokenStore.readAuthentication(token);\n\n        attributes.put(\"active\", true);\n        attributes.put(\"exp\", accessToken.getExpiration().getTime());\n        attributes.put(\"scope\", accessToken.getScope().stream().collect(Collectors.joining(\" \")));\n        attributes.put(\"sub\", authentication.getName());\n\n        return attributes;\n    }\n}\n</code></pre>\n\n<pre><code>package br.com.sammubr.auth.configuration;\n\nimport com.nimbusds.jose.jwk.JWKSet;\nimport com.nimbusds.jose.jwk.RSAKey;\nimport org.springframework.security.oauth2.provider.endpoint.FrameworkEndpoint;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport java.security.KeyPair;\nimport java.security.interfaces.RSAPublicKey;\nimport java.util.Map;\n\n@FrameworkEndpoint\nclass JwkSetEndpoint {\n    KeyPair keyPair;\n\n    JwkSetEndpoint(KeyPair keyPair) {\n        this.keyPair = keyPair;\n    }\n\n    @GetMapping(\"/.well-known/jwks.json\")\n    @ResponseBody\n    public Map&lt;String, Object&gt; getKey() {\n        RSAPublicKey publicKey = (RSAPublicKey) this.keyPair.getPublic();\n        RSAKey key = new RSAKey.Builder(publicKey).build();\n        return new JWKSet(key).toJSONObject();\n    }\n}\n</code></pre>\n\n<pre><code>package br.com.sammubr.auth.configuration;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.math.BigInteger;\nimport java.security.KeyFactory;\nimport java.security.KeyPair;\nimport java.security.spec.RSAPrivateKeySpec;\nimport java.security.spec.RSAPublicKeySpec;\n\n@Configuration\nclass KeyConfig {\n    @Bean\n    KeyPair keyPair() {\n        try {\n            String privateExponent = \"3851612021791312596791631935569878540203393691253311342052463788814433805390794604753109719790052408607029530149004451377846406736413270923596916756321977922303381344613407820854322190592787335193581632323728135479679928871596911841005827348430783250026013354350760878678723915119966019947072651782000702927096735228356171563532131162414366310012554312756036441054404004920678199077822575051043273088621405687950081861819700809912238863867947415641838115425624808671834312114785499017269379478439158796130804789241476050832773822038351367878951389438751088021113551495469440016698505614123035099067172660197922333993\";\n            String modulus = \"18044398961479537755088511127417480155072543594514852056908450877656126120801808993616738273349107491806340290040410660515399239279742407357192875363433659810851147557504389760192273458065587503508596714389889971758652047927503525007076910925306186421971180013159326306810174367375596043267660331677530921991343349336096643043840224352451615452251387611820750171352353189973315443889352557807329336576421211370350554195530374360110583327093711721857129170040527236951522127488980970085401773781530555922385755722534685479501240842392531455355164896023070459024737908929308707435474197069199421373363801477026083786683\";\n            String exponent = \"65537\";\n\n            RSAPublicKeySpec publicSpec = new RSAPublicKeySpec(new BigInteger(modulus), new BigInteger(exponent));\n            RSAPrivateKeySpec privateSpec = new RSAPrivateKeySpec(new BigInteger(modulus), new BigInteger(privateExponent));\n            KeyFactory factory = KeyFactory.getInstance(\"RSA\");\n            return new KeyPair(factory.generatePublic(publicSpec), factory.generatePrivate(privateSpec));\n        } catch (Exception e) {\n            throw new IllegalArgumentException(e);\n        }\n    }\n}\n</code></pre>\n\n<pre><code>package br.com.sammubr.auth.configuration;\n\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.oauth2.provider.token.DefaultUserAuthenticationConverter;\n\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\nclass SubjectAttributeUserTokenConverter extends DefaultUserAuthenticationConverter {\n    @Override\n    public Map&lt;String, ?&gt; convertUserAuthentication(Authentication authentication) {\n        Map&lt;String, Object&gt; response = new LinkedHashMap&lt;&gt;();\n        response.put(\"sub\", authentication.getName());\n        if (authentication.getAuthorities() != null &amp;&amp; !authentication.getAuthorities().isEmpty()) {\n            response.put(AUTHORITIES, AuthorityUtils.authorityListToSet(authentication.getAuthorities()));\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<pre><code>package br.com.sammubr.auth.configuration;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport java.util.Arrays;\nimport java.util.Collections;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\n\n@Configuration\nclass UserConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .cors(withDefaults())\n                .authorizeRequests()\n                .mvcMatchers(\"/.well-known/jwks.json\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic()\n                .and()\n                .csrf().ignoringRequestMatchers(request -&gt; \"/introspect\".equals(request.getRequestURI()));\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Collections.singletonList(\"*\"));\n        configuration.setAllowedMethods(Arrays.asList(\"GET\", \"POST\"));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(\"/**\", configuration);\n        return source;\n    }\n\n    @Bean\n    @Override\n    public UserDetailsService userDetailsService() {\n        return new InMemoryUserDetailsManager(\n                User.withDefaultPasswordEncoder()\n                        .username(\"subject\")\n                        .password(\"password\")\n                        .roles(\"USER\")\n                        .build());\n    }\n}\n</code></pre>\n\n<p>And my request is simple like this:</p>\n\n<pre><code>import $ from 'jquery';\nwindow.jQuery = $;\nwindow.$ = $;\n\nimport axios from \"axios\";\n\nlet api = axios.create({\n    baseURL: 'http://writer:secret@localhost:8081',\n    headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n    }\n});\n\n$(document).ready(function() {\n    $(\"input[type=submit]\").on(\"click\", function(ev) {\n        ev.preventDefault();\n        const params = new URLSearchParams();\n        params.append('username', 'subject');\n        params.append('password', 'password');\n        params.append('grant_type', 'password');\n\n        api.post('/oauth/token', params)\n        .then((resp) =&gt; {\n            console.log(resp.data)\n        }).catch(error =&gt; console.error(error));\n\n    });\n});\n</code></pre>\n\n<p>I'm doing what you say in the Spring documentation, but it's not working. Can someone help me?</p>\n"},{"tags":["java","regex","regexp-replace"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1681471314,"post_id":76014545,"comment_id":134065527,"body_markdown":"Why are you matching digits? Are there only word character? `\\B[a-z](?=[a-z]*[a-z]\\b)` https://regex101.com/r/52OVyt/1","body":"Why are you matching digits? Are there only word character? <code>\\B[a-z](?=[a-z]*[a-z]\\b)</code> <a href=\"https://regex101.com/r/52OVyt/1\" rel=\"nofollow noreferrer\">regex101.com/r/52OVyt/1</a>"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1681471318,"post_id":76014545,"comment_id":134065528,"body_markdown":"Maybe just `replaceAll(&quot;\\\\B\\\\w\\\\B&quot;, &quot;x&quot;)`? Or `replaceAll(&quot;\\\\B\\\\p{L}\\\\B&quot;, &quot;x&quot;)`?","body":"Maybe just <code>replaceAll(&quot;\\\\B\\\\w\\\\B&quot;, &quot;x&quot;)</code>? Or <code>replaceAll(&quot;\\\\B\\\\p{L}\\\\B&quot;, &quot;x&quot;)</code>?"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1681472163,"post_id":76014545,"comment_id":134065715,"body_markdown":"If you want to match all non whitespace characters, you can use lookarounds `(?&lt;=\\S)\\S(?=\\S)` https://regex101.com/r/0gSM5x/1 See https://ideone.com/nHEPiA","body":"If you want to match all non whitespace characters, you can use lookarounds <code>(?&lt;=\\S)\\S(?=\\S)</code> <a href=\"https://regex101.com/r/0gSM5x/1\" rel=\"nofollow noreferrer\">regex101.com/r/0gSM5x/1</a> See <a href=\"https://ideone.com/nHEPiA\" rel=\"nofollow noreferrer\">ideone.com/nHEPiA</a>"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681473406,"creation_date":1681473406,"answer_id":76014838,"question_id":76014545,"body_markdown":"I am not sure about a regex, if you want to do it in a OOP way - but perhaps less efficient - you can split by lines and words and programmatically mask each of them:\r\n\r\n    class MaskedText {\r\n    \tprivate final String maskedString;\r\n    \tprivate final char maskChar;\r\n    \r\n    \tpublic MaskedText(String maskedString) {\r\n    \t\tthis(maskedString, &#39;x&#39;);\r\n    \t}\r\n    \r\n    \tpublic MaskedText(String maskedString, char maskChar) {\r\n    \t\tthis.maskChar = maskChar;\r\n    \t\tthis.maskedString = Arrays.stream(maskedString.split(&quot;\\n&quot;))\r\n    \t\t\t\t.map(this::maskLine)\r\n    \t\t\t\t.collect(Collectors.joining(&quot;\\n&quot;));\r\n    \t}\r\n    \r\n    \tprivate String maskLine(String rawLine) {\r\n    \t\treturn Arrays.stream(rawLine.split(&quot; &quot;))\r\n    \t\t\t\t.map(this::maskWord)\r\n    \t\t\t\t.collect(Collectors.joining(&quot; &quot;));\r\n    \t}\r\n    \r\n    \tprivate String maskWord(String rawWord) {\r\n    \t\treturn rawWord.charAt(0)\r\n    \t\t\t\t+ String.valueOf(maskChar).repeat(rawWord.length() - 2)\r\n    \t\t\t\t+ rawWord.charAt(rawWord.length() - 1);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn maskedString;\r\n    \t}\r\n    }\r\n\r\n\r\nAnd you can use it like this:\r\n\r\n    @Test\r\n    void test() {\r\n    \tString txt = &quot;&quot;&quot;\r\n    \t\t\tIndia\r\n    \t\t\tAustralia\r\n    \t\t\tNorth America\r\n    \t\t\tSouth America\r\n    \t\t\tWhite House building\r\n    \t\t\t&quot;&quot;&quot;;\r\n    \tMaskedText masked = new MaskedText(txt);\r\n    \r\n    \tassertThat(masked.toString()).isEqualTo(&quot;&quot;&quot;\r\n    \t\t\t&quot;Ixxxa\r\n    \t\t\tAxxxxxxxa\r\n    \t\t\tNxxxh Axxxxxa\r\n    \t\t\tSxxxh Axxxxxa\r\n    \t\t\tWxxxe Hxxxe bxxxxxxg&quot;\r\n    \t\t\t&quot;&quot;&quot;);\r\n    }\r\n\r\nor directly in the logs: `log.info(&quot;account: {}&quot;, new MaskedText(account))`","title":"Is there a regex to mask all characters excluding first &amp; last characters in each word","body":"<p>I am not sure about a regex, if you want to do it in a OOP way - but perhaps less efficient - you can split by lines and words and programmatically mask each of them:</p>\n<pre><code>class MaskedText {\n    private final String maskedString;\n    private final char maskChar;\n\n    public MaskedText(String maskedString) {\n        this(maskedString, 'x');\n    }\n\n    public MaskedText(String maskedString, char maskChar) {\n        this.maskChar = maskChar;\n        this.maskedString = Arrays.stream(maskedString.split(&quot;\\n&quot;))\n                .map(this::maskLine)\n                .collect(Collectors.joining(&quot;\\n&quot;));\n    }\n\n    private String maskLine(String rawLine) {\n        return Arrays.stream(rawLine.split(&quot; &quot;))\n                .map(this::maskWord)\n                .collect(Collectors.joining(&quot; &quot;));\n    }\n\n    private String maskWord(String rawWord) {\n        return rawWord.charAt(0)\n                + String.valueOf(maskChar).repeat(rawWord.length() - 2)\n                + rawWord.charAt(rawWord.length() - 1);\n    }\n\n    @Override\n    public String toString() {\n        return maskedString;\n    }\n}\n</code></pre>\n<p>And you can use it like this:</p>\n<pre><code>@Test\nvoid test() {\n    String txt = &quot;&quot;&quot;\n            India\n            Australia\n            North America\n            South America\n            White House building\n            &quot;&quot;&quot;;\n    MaskedText masked = new MaskedText(txt);\n\n    assertThat(masked.toString()).isEqualTo(&quot;&quot;&quot;\n            &quot;Ixxxa\n            Axxxxxxxa\n            Nxxxh Axxxxxa\n            Sxxxh Axxxxxa\n            Wxxxe Hxxxe bxxxxxxg&quot;\n            &quot;&quot;&quot;);\n}\n</code></pre>\n<p>or directly in the logs: <code>log.info(&quot;account: {}&quot;, new MaskedText(account))</code></p>\n"},{"tags":[],"owner":{"account_id":28020692,"reputation":23,"user_id":21401549,"display_name":"sheshadri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681491731,"creation_date":1681491731,"answer_id":76017448,"question_id":76014545,"body_markdown":"Above suggestion posted to use below regex helped resolving the issue.\r\n\r\n(?&lt;=\\S)\\S(?=\\S)\r\n\r\nI tested it for both characters &amp; numeric with different combinations. This solved my requirement... thanks.","title":"Is there a regex to mask all characters excluding first &amp; last characters in each word","body":"<p>Above suggestion posted to use below regex helped resolving the issue.</p>\n<p>(?&lt;=\\S)\\S(?=\\S)</p>\n<p>I tested it for both characters &amp; numeric with different combinations. This solved my requirement... thanks.</p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681653722,"creation_date":1681653722,"answer_id":76028214,"question_id":76014545,"body_markdown":"To match a non whitepace char except for the &quot;outer&quot; ones, you can assert a non whitespace char `\\S` to the left and to the right right:\r\n\r\n    (?&lt;=\\S)\\S(?=\\S)\r\n\r\nIn Java\r\n\r\n    (?&lt;=\\\\S)\\S(?=\\\\S)\r\n\r\nSee a [regex demo](https://regex101.com/r/0gSM5x/1) and a [Java demo](https://ideone.com/nHEPiA).\r\n\r\nJava example:\r\n\r\n    \tString regex = &quot;(?&lt;=\\\\S)\\\\S(?=\\\\S)&quot;;\r\n        String string = &quot;India\\n&quot;\r\n     + &quot;Australia\\n&quot;\r\n     + &quot;North America\\n&quot;\r\n     + &quot;South America\\n&quot;\r\n     + &quot;White House building\\n&quot;\r\n     + &quot;a\\n&quot;\r\n     + &quot;ab\\n&quot;\r\n     + &quot;abc\\n&quot;\r\n     + &quot;tthis123_isatest\\n&quot;\r\n     + &quot;!@#$%&quot;;\r\n    \r\n        String result = string.replaceAll(regex, &quot;x&quot;);\r\n        System.out.println(result);\r\n\r\nOutput\r\n\r\n    Ixxxa\r\n    Axxxxxxxa\r\n    Nxxxh Axxxxxa\r\n    Sxxxh Axxxxxa\r\n    Wxxxe Hxxxe bxxxxxxg\r\n    a\r\n    ab\r\n    axc\r\n    txxxxxxxxxxxxxxt\r\n    !xxx%\r\n\r\n","title":"Is there a regex to mask all characters excluding first &amp; last characters in each word","body":"<p>To match a non whitepace char except for the &quot;outer&quot; ones, you can assert a non whitespace char <code>\\S</code> to the left and to the right right:</p>\n<pre><code>(?&lt;=\\S)\\S(?=\\S)\n</code></pre>\n<p>In Java</p>\n<pre><code>(?&lt;=\\\\S)\\S(?=\\\\S)\n</code></pre>\n<p>See a <a href=\"https://regex101.com/r/0gSM5x/1\" rel=\"nofollow noreferrer\">regex demo</a> and a <a href=\"https://ideone.com/nHEPiA\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n<p>Java example:</p>\n<pre><code>    String regex = &quot;(?&lt;=\\\\S)\\\\S(?=\\\\S)&quot;;\n    String string = &quot;India\\n&quot;\n + &quot;Australia\\n&quot;\n + &quot;North America\\n&quot;\n + &quot;South America\\n&quot;\n + &quot;White House building\\n&quot;\n + &quot;a\\n&quot;\n + &quot;ab\\n&quot;\n + &quot;abc\\n&quot;\n + &quot;tthis123_isatest\\n&quot;\n + &quot;!@#$%&quot;;\n\n    String result = string.replaceAll(regex, &quot;x&quot;);\n    System.out.println(result);\n</code></pre>\n<p>Output</p>\n<pre><code>Ixxxa\nAxxxxxxxa\nNxxxh Axxxxxa\nSxxxh Axxxxxa\nWxxxe Hxxxe bxxxxxxg\na\nab\naxc\ntxxxxxxxxxxxxxxt\n!xxx%\n</code></pre>\n"}],"owner":{"account_id":28020692,"reputation":23,"user_id":21401549,"display_name":"sheshadri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76028214,"answer_count":3,"score":1,"last_activity_date":1681653722,"creation_date":1681470997,"question_id":76014545,"body_markdown":"For example, I have below list of words to be masked.\r\n\r\n    India\r\n    Australia\r\n    North America\r\n    South America\r\n    White House building\r\n\r\nI need an output like below.\r\n\r\n    Ixxxa\r\n    Axxxxxxxa\r\n    Nxxxh Axxxxxa\r\n    Sxxxh Axxxxxa\r\n    Wxxxe Hxxxe bxxxxxxg\r\n\r\n\r\nusing below expression I&#39;m able to mask last characters including spaces.\r\n```java\r\nreturn input.replaceAll(&quot;[\\\\s()]+&quot;, &quot; &quot;).replaceAll(&quot;\\\\d(?=(?:\\\\D*\\\\d){4})&quot;,&quot;X&quot;);\r\n```","title":"Is there a regex to mask all characters excluding first &amp; last characters in each word","body":"<p>For example, I have below list of words to be masked.</p>\n<pre><code>India\nAustralia\nNorth America\nSouth America\nWhite House building\n</code></pre>\n<p>I need an output like below.</p>\n<pre><code>Ixxxa\nAxxxxxxxa\nNxxxh Axxxxxa\nSxxxh Axxxxxa\nWxxxe Hxxxe bxxxxxxg\n</code></pre>\n<p>using below expression I'm able to mask last characters including spaces.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return input.replaceAll(&quot;[\\\\s()]+&quot;, &quot; &quot;).replaceAll(&quot;\\\\d(?=(?:\\\\D*\\\\d){4})&quot;,&quot;X&quot;);\n</code></pre>\n"},{"tags":["java","maven","javafx","visual-studio-2019","graalvm"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1591134970,"post_id":62161913,"comment_id":109939987,"body_markdown":"Did you follow instructions at https://github.com/gluonhq/client-samples#windows? Make sure you install all listed components. `cl` is the Windows compiler, You should be able to run from the x64 command line something like `cl -v`.","body":"Did you follow instructions at <a href=\"https://github.com/gluonhq/client-samples#windows\" rel=\"nofollow noreferrer\">github.com/gluonhq/client-samples#windows</a>? Make sure you install all listed components. <code>cl</code> is the Windows compiler, You should be able to run from the x64 command line something like <code>cl -v</code>."},{"owner":{"account_id":17989472,"reputation":135,"user_id":13073903,"display_name":"Evan Zheng"},"score":0,"creation_date":1591135724,"post_id":62161913,"comment_id":109940231,"body_markdown":"@Jos&#233;Pereda Yep, I did. It says that &#39;cl&#39; is not recognized as an internal or external command. I tried adding the following directory to my system path environment variable: C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.25.28610\\bin\\HostX64\\x64. After that, I could call cl from the visual studio command line but I still couldn&#39;t get graalvm to compile because it couldn&#39;t find &quot;stdio.h&quot;. I&#39;m stumped.","body":"@Jos&#233;Pereda Yep, I did. It says that &#39;cl&#39; is not recognized as an internal or external command. I tried adding the following directory to my system path environment variable: C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.25.28610\\bin\\HostX64\\&zwnj;&#8203;x64. After that, I could call cl from the visual studio command line but I still couldn&#39;t get graalvm to compile because it couldn&#39;t find &quot;stdio.h&quot;. I&#39;m stumped."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1591136182,"post_id":62161913,"comment_id":109940360,"body_markdown":"That means you don&#39;t have `cl` or it is not in the path. VS should do that for you. Restart the x64 terminal, and start it again as an admin.","body":"That means you don&#39;t have <code>cl</code> or it is not in the path. VS should do that for you. Restart the x64 terminal, and start it again as an admin."},{"owner":{"account_id":17989472,"reputation":135,"user_id":13073903,"display_name":"Evan Zheng"},"score":0,"creation_date":1591137211,"post_id":62161913,"comment_id":109940650,"body_markdown":"@Jos&#233;Pereda I&#39;ve tried opening x64 native tools again in admin mode. With or without putting cl manually on the system path, it still gives me an error. I&#39;ve updated the post with the error that happens when cl is on the path. Nothing I think of seems to be working.","body":"@Jos&#233;Pereda I&#39;ve tried opening x64 native tools again in admin mode. With or without putting cl manually on the system path, it still gives me an error. I&#39;ve updated the post with the error that happens when cl is on the path. Nothing I think of seems to be working."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1591138337,"post_id":62161913,"comment_id":109940975,"body_markdown":"You shouldn&#39;t need to add `cl` to the path. VS should do that for you. When you run `echo %PATH` from the x64 command line, it should print several lines with all the VS stuff.","body":"You shouldn&#39;t need to add <code>cl</code> to the path. VS should do that for you. When you run <code>echo %PATH</code> from the x64 command line, it should print several lines with all the VS stuff."},{"owner":{"account_id":17989472,"reputation":135,"user_id":13073903,"display_name":"Evan Zheng"},"score":0,"creation_date":1591203800,"post_id":62161913,"comment_id":109969354,"body_markdown":"Okay, for some reason when I update from 14.25 to 14.26 the problem goes away.","body":"Okay, for some reason when I update from 14.25 to 14.26 the problem goes away."},{"owner":{"account_id":15332332,"reputation":154,"user_id":11061705,"display_name":"AbsoluteDev"},"score":0,"creation_date":1604174063,"post_id":62161913,"comment_id":114268418,"body_markdown":"Problem still there in 14.27. Can somebody tell, what is root cause of the problem?","body":"Problem still there in 14.27. Can somebody tell, what is root cause of the problem?"}],"answers":[{"tags":[],"owner":{"account_id":1842618,"reputation":54,"user_id":1671722,"display_name":"Pascal P."},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1608721488,"creation_date":1608721488,"answer_id":65423249,"question_id":62161913,"body_markdown":"I&#39;ve had the same two issues:\r\n\r\n1. No cl operations possible\r\n2. stdio.h or similar file cannot be found\r\n\r\n## Solution for the first issue (author did already): ##\r\nMake sure the system path contains the Visual Studio entry. Something like &quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.25.28610\\bin\\HostX64\\x64&quot;\r\n\r\n*Visual Studio seems to miss the entry on the path variable sometimes on installation. I had it installed to a different directory. That might cause the problem.*\r\n\r\n## Solution for the second issue: ##\r\nThe [documentation](https://docs.gluonhq.com/#_create_run_a_native_image_of_the_application) states that you have to run all maven or gradle commands in the Native Tools Command Prompt if running on Windows. I missed that part a few times while reading the docs.\r\n\r\n&gt; If you are running on Windows, you need to run all the Client goals from an x64 terminal.\r\n\r\nAfter that i was able to use the client:compile and client:link goals.","title":"Gluon client maven plugin for JavaFX on Windows fails to compile?","body":"<p>I've had the same two issues:</p>\n<ol>\n<li>No cl operations possible</li>\n<li>stdio.h or similar file cannot be found</li>\n</ol>\n<h2>Solution for the first issue (author did already):</h2>\n<p>Make sure the system path contains the Visual Studio entry. Something like &quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.25.28610\\bin\\HostX64\\x64&quot;</p>\n<p><em>Visual Studio seems to miss the entry on the path variable sometimes on installation. I had it installed to a different directory. That might cause the problem.</em></p>\n<h2>Solution for the second issue:</h2>\n<p>The <a href=\"https://docs.gluonhq.com/#_create_run_a_native_image_of_the_application\" rel=\"nofollow noreferrer\">documentation</a> states that you have to run all maven or gradle commands in the Native Tools Command Prompt if running on Windows. I missed that part a few times while reading the docs.</p>\n<blockquote>\n<p>If you are running on Windows, you need to run all the Client goals from an x64 terminal.</p>\n</blockquote>\n<p>After that i was able to use the client:compile and client:link goals.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1681889869,"post_id":76028182,"comment_id":134128028,"body_markdown":"As it‚Äôs currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it‚Äôs currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76028182/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15791584,"reputation":1,"user_id":11394677,"display_name":"ÊΩò‰∫öÊù∞"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681653379,"creation_date":1681653306,"answer_id":76028182,"question_id":62161913,"body_markdown":"I&#39;m using IntelliJ idea. As it mentioned in Gluon [Documentation](https://docs.gluonhq.com/#_microsoft_visual_studio),&quot;All build commands, be it with Maven or Gradle, must be executed in a Visual Studio 2019 Command Prompt called x64 Native Tools Command Prompt for VS 2019&quot;.\r\n    Firstly, find terminal (ALT+f12) in IntelliJ. Locate to the root directory of your module. Type &quot;cmd.exe /k &quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot;, which in my case is &quot;cmd.exe /k &quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot;. Run it.\r\n    Secondly, run &quot;mvn gluonfx:compile&quot;.\r\n    [Here](https://drive.google.com/file/d/1JreyT42vCDgvbeihatq2dDBPJLOfh-iR/view?usp=share_link) is the result. Holp it will solute your problem.\r\n","title":"Gluon client maven plugin for JavaFX on Windows fails to compile?","body":"<p>I'm using IntelliJ idea. As it mentioned in Gluon <a href=\"https://docs.gluonhq.com/#_microsoft_visual_studio\" rel=\"nofollow noreferrer\">Documentation</a>,&quot;All build commands, be it with Maven or Gradle, must be executed in a Visual Studio 2019 Command Prompt called x64 Native Tools Command Prompt for VS 2019&quot;.\nFirstly, find terminal (ALT+f12) in IntelliJ. Locate to the root directory of your module. Type &quot;cmd.exe /k &quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot;, which in my case is &quot;cmd.exe /k &quot;C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot;. Run it.\nSecondly, run &quot;mvn gluonfx:compile&quot;.\n<a href=\"https://drive.google.com/file/d/1JreyT42vCDgvbeihatq2dDBPJLOfh-iR/view?usp=share_link\" rel=\"nofollow noreferrer\">Here</a> is the result. Holp it will solute your problem.</p>\n"}],"owner":{"account_id":17989472,"reputation":135,"user_id":13073903,"display_name":"Evan Zheng"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2137,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":65423249,"answer_count":2,"score":6,"last_activity_date":1681653379,"creation_date":1591134464,"question_id":62161913,"body_markdown":"I&#39;ve been experimenting with Gluon&#39;s client maven plugin on a Windows machine for a project of mine. I decided to try out one of their &quot;hello world&quot; examples, [here.][1] I followed all of the steps on how to configure the machine.\r\n\r\nHowever, I&#39;ve encountered some errors. For some reason, the compiling always fails and gives me an error &quot;Cannot run program &quot;cl&quot;&quot;. Does anyone have any clue on how to fix this?\r\n\r\nI am running the client:build command in a &quot;x64 Native Tools Command Prompt for VS 2019&quot; window.\r\n\r\nThe logs are below:\r\n\r\n```\r\njava.io.IOException: Cannot run program &quot;cl&quot; (in directory &quot;C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\hellofxml&quot;): CreateProcess error=2, The system cannot find the file specified\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\r\n[INFO] ------------------------------------------------------------------------\r\n        at com.gluonhq.substrate.util.ProcessRunner.setupProcess(ProcessRunner.java:336)\r\n[INFO] BUILD FAILURE\r\n        at com.gluonhq.substrate.util.ProcessRunner.runProcess(ProcessRunner.java:194)\r\n[INFO] ------------------------------------------------------------------------\r\n        at com.gluonhq.substrate.target.AbstractTargetConfiguration.compileAdditionalSources(AbstractTargetConfiguration.java:330)\r\n[INFO] Total time:  2.860 s\r\n        at com.gluonhq.substrate.target.AbstractTargetConfiguration.compile(AbstractTargetConfiguration.java:130)\r\n[INFO] Finished at: 2020-06-02T17:37:39-04:00\r\n        at com.gluonhq.substrate.SubstrateDispatcher.nativeCompile(SubstrateDispatcher.java:414)\r\n[INFO] ------------------------------------------------------------------------\r\n        at com.gluonhq.NativeCompileMojo.execute(NativeCompileMojo.java:54)\r\n[ERROR] Failed to execute goal com.gluonhq:client-maven-plugin:0.1.26:compile (default-cli) on project hellofxml: Error: Cannot run program &quot;cl&quot; (in directory &quot;C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\hellofxml&quot;): CreateProcess error=2, The system cannot find the file specified -&gt; [Help 1]\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n[ERROR]\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n[ERROR]\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n        at java.base/java.lang.ProcessImpl.create(Native Method)\r\n        at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:420)\r\n        at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:151)\r\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\r\n        ... 29 more\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  5.141 s\r\n[INFO] Finished at: 2020-06-02T17:37:39-04:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.gluonhq:client-maven-plugin:0.1.26:build (default-cli) on project hellofxml: Error, client:build failed -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nWhen I add C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.25.28610\\bin\\HostX64\\x64 to my system path, the plugin gives the following error in the logs. (I ran this command in admin mode)\r\n\r\n```\r\n[Tue Jun 02 18:28:07 EDT 2020][INFO] ==================== COMPILE TASK ====================\r\n[Tue Jun 02 18:28:08 EDT 2020][FINE] PB Command for check version: D:\\graalvm-ce-java11-20.2.0-dev\\bin\\java -version\r\n[Tue Jun 02 18:28:08 EDT 2020][FINE] Start process check version...\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] openjdk version &quot;11.0.7&quot; 2020-04-14\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] OpenJDK Runtime Environment GraalVM CE 20.2.0-dev (build 11.0.7+10-jvmci-20.1-b02)\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] OpenJDK 64-Bit Server VM GraalVM CE 20.2.0-dev (build 11.0.7+10-jvmci-20.1-b02, mixed mode, sharing)\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] Result for check version: 0\r\n[Tue Jun 02 18:28:09 EDT 2020][INFO] We will now compile your code for x86_64-microsoft-windows. This may take some time.\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] Extracting native libs to: C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\lib\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] Looking for resource: /native/windows/launcher.c\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] PB Command for compile-additional-sources: cl -c -DSUBSTRATE /MD /D_UNICODE /DUNICODE /DWIN32 /D_WINDOWS -IC:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\hellofxml launcher.c\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] Start process compile-additional-sources...\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] Microsoft (R) C/C++ Optimizing Compiler Version 19.25.28610.4 for x64\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] Copyright (C) Microsoft Corporation.  All rights reserved.\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] \r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] launcher.c\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] launcher.c(28): fatal error C1083: Cannot open include file: &#39;stdio.h&#39;: No such file or directory\r\n[Tue Jun 02 18:28:09 EDT 2020][FINE] Result for compile-additional-sources: 2\r\n[Tue Jun 02 18:28:09 EDT 2020][SEVERE] Process compile-additional-sources failed with result: 2\r\nCheck the log files under C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\log\r\nAnd please check https://docs.gluonhq.com/client/ for more information.\r\n[Tue Jun 02 18:28:09 EDT 2020][INFO] Logging process [compile-additional-sources] to file: C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\log\\process-compile-additional-sources-1591136889122.log\r\n[Tue Jun 02 18:28:09 EDT 2020][SEVERE] Compiling failed.\r\nCheck the log files under C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\log\r\nAnd please check https://docs.gluonhq.com/client/ for more information.\r\n```\r\n\r\n[These are the VS 2019 components I have installed.][2]\r\n\r\n  [1]: https://github.com/gluonhq/client-samples\r\n  [2]: https://i.stack.imgur.com/XeuTA.png","title":"Gluon client maven plugin for JavaFX on Windows fails to compile?","body":"<p>I've been experimenting with Gluon's client maven plugin on a Windows machine for a project of mine. I decided to try out one of their \"hello world\" examples, <a href=\"https://github.com/gluonhq/client-samples\" rel=\"noreferrer\">here.</a> I followed all of the steps on how to configure the machine.</p>\n\n<p>However, I've encountered some errors. For some reason, the compiling always fails and gives me an error \"Cannot run program \"cl\"\". Does anyone have any clue on how to fix this?</p>\n\n<p>I am running the client:build command in a \"x64 Native Tools Command Prompt for VS 2019\" window.</p>\n\n<p>The logs are below:</p>\n\n<pre><code>java.io.IOException: Cannot run program \"cl\" (in directory \"C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\hellofxml\"): CreateProcess error=2, The system cannot find the file specified\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\n[INFO] ------------------------------------------------------------------------\n        at com.gluonhq.substrate.util.ProcessRunner.setupProcess(ProcessRunner.java:336)\n[INFO] BUILD FAILURE\n        at com.gluonhq.substrate.util.ProcessRunner.runProcess(ProcessRunner.java:194)\n[INFO] ------------------------------------------------------------------------\n        at com.gluonhq.substrate.target.AbstractTargetConfiguration.compileAdditionalSources(AbstractTargetConfiguration.java:330)\n[INFO] Total time:  2.860 s\n        at com.gluonhq.substrate.target.AbstractTargetConfiguration.compile(AbstractTargetConfiguration.java:130)\n[INFO] Finished at: 2020-06-02T17:37:39-04:00\n        at com.gluonhq.substrate.SubstrateDispatcher.nativeCompile(SubstrateDispatcher.java:414)\n[INFO] ------------------------------------------------------------------------\n        at com.gluonhq.NativeCompileMojo.execute(NativeCompileMojo.java:54)\n[ERROR] Failed to execute goal com.gluonhq:client-maven-plugin:0.1.26:compile (default-cli) on project hellofxml: Error: Cannot run program \"cl\" (in directory \"C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\hellofxml\"): CreateProcess error=2, The system cannot find the file specified -&gt; [Help 1]\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n[ERROR]\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n[ERROR]\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n        at java.base/java.lang.ProcessImpl.create(Native Method)\n        at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:420)\n        at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:151)\n        at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\n        ... 29 more\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.141 s\n[INFO] Finished at: 2020-06-02T17:37:39-04:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.gluonhq:client-maven-plugin:0.1.26:build (default-cli) on project hellofxml: Error, client:build failed -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n\n<p>When I add C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.25.28610\\bin\\HostX64\\x64 to my system path, the plugin gives the following error in the logs. (I ran this command in admin mode)</p>\n\n<pre><code>[Tue Jun 02 18:28:07 EDT 2020][INFO] ==================== COMPILE TASK ====================\n[Tue Jun 02 18:28:08 EDT 2020][FINE] PB Command for check version: D:\\graalvm-ce-java11-20.2.0-dev\\bin\\java -version\n[Tue Jun 02 18:28:08 EDT 2020][FINE] Start process check version...\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] openjdk version \"11.0.7\" 2020-04-14\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] OpenJDK Runtime Environment GraalVM CE 20.2.0-dev (build 11.0.7+10-jvmci-20.1-b02)\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] OpenJDK 64-Bit Server VM GraalVM CE 20.2.0-dev (build 11.0.7+10-jvmci-20.1-b02, mixed mode, sharing)\n[Tue Jun 02 18:28:09 EDT 2020][FINE] Result for check version: 0\n[Tue Jun 02 18:28:09 EDT 2020][INFO] We will now compile your code for x86_64-microsoft-windows. This may take some time.\n[Tue Jun 02 18:28:09 EDT 2020][FINE] Extracting native libs to: C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\lib\n[Tue Jun 02 18:28:09 EDT 2020][FINE] Looking for resource: /native/windows/launcher.c\n[Tue Jun 02 18:28:09 EDT 2020][FINE] PB Command for compile-additional-sources: cl -c -DSUBSTRATE /MD /D_UNICODE /DUNICODE /DWIN32 /D_WINDOWS -IC:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\hellofxml launcher.c\n[Tue Jun 02 18:28:09 EDT 2020][FINE] Start process compile-additional-sources...\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] Microsoft (R) C/C++ Optimizing Compiler Version 19.25.28610.4 for x64\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] Copyright (C) Microsoft Corporation.  All rights reserved.\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] \n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] launcher.c\n[Tue Jun 02 18:28:09 EDT 2020][FINE] [SUB] launcher.c(28): fatal error C1083: Cannot open include file: 'stdio.h': No such file or directory\n[Tue Jun 02 18:28:09 EDT 2020][FINE] Result for compile-additional-sources: 2\n[Tue Jun 02 18:28:09 EDT 2020][SEVERE] Process compile-additional-sources failed with result: 2\nCheck the log files under C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\log\nAnd please check https://docs.gluonhq.com/client/ for more information.\n[Tue Jun 02 18:28:09 EDT 2020][INFO] Logging process [compile-additional-sources] to file: C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\log\\process-compile-additional-sources-1591136889122.log\n[Tue Jun 02 18:28:09 EDT 2020][SEVERE] Compiling failed.\nCheck the log files under C:\\Users\\Evan\\Documents\\client-samples\\Maven\\HelloFXML\\target\\client\\x86_64-windows\\gvm\\log\nAnd please check https://docs.gluonhq.com/client/ for more information.\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/XeuTA.png\" rel=\"noreferrer\">These are the VS 2019 components I have installed.</a></p>\n"},{"tags":["java","javafx","media-player"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1681650224,"post_id":76027861,"comment_id":134087313,"body_markdown":"I don&#39;t properly understand the question, but here is an example of how you can do another action like hide the player once the media has finished playing: [How to wait for JavaFx MediaPlayer to finish](https://stackoverflow.com/a/53807696)","body":"I don&#39;t properly understand the question, but here is an example of how you can do another action like hide the player once the media has finished playing: <a href=\"https://stackoverflow.com/a/53807696\">How to wait for JavaFx MediaPlayer to finish</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1681662047,"post_id":76027861,"comment_id":134089090,"body_markdown":"*‚Äùit follows that player works in another thread‚Äù*. That doesn‚Äôt follow at all. I don‚Äôt know how media players are implemented, but animations, for example, are implemented entirely on the fx application thread and behave exactly the same way.","body":"<i>‚Äùit follows that player works in another thread‚Äù</i>. That doesn‚Äôt follow at all. I don‚Äôt know how media players are implemented, but animations, for example, are implemented entirely on the fx application thread and behave exactly the same way."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681652896,"creation_date":1681652547,"answer_id":76028108,"question_id":76027861,"body_markdown":"Unfortunately, your approach is all wrong.  There are major mistakes and misconceptions in your approach and some smaller improvements that could be made in your code.\r\n\r\nMajor problems:\r\n\r\n 1. You don&#39;t need to (and should not) create another thread to pause, use a [`PauseTransition`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/animation/PauseTransition.html).\r\n 2. You should *never* sleep the JavaFX thread.\r\n 3. You should *never* modify the properties of nodes in the Scene Graph or Stages from any thread other than the JavaFX thread.\r\n 4. GUIs are event-driven, so respond to and generate events (e.g. [`PauseTransition.onFinished`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/animation/Animation.html#onFinishedProperty)) rather than code loops.\r\n 5. *Never* loop forever on the JavaFX thread - nothing will happen in the GUI.\r\n\r\nOther improvements:\r\n\r\n 1. An application should only be responsible for the application lifecycle.\r\n 2. An application should not implement runnable.\r\n 3. To get the working directory, use the [system property &quot;user.dir&quot;](https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html).\r\n 4. Don&#39;t write a function to get random ints in ranges [use the built-in library function for that](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#nextInt(int,int)).\r\n 5. Follow [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) *always*.\r\n 6. Setting a no-match key and no hint for full-screen exit seems like a bad idea for most apps.\r\n 7. Don&#39;t define variables like the misnamed `Dir`, which you never use.\r\n 8. Code should be [properly formatted][1].\r\n 9. Bind to properties instead of the weird Bindings selection scheme you use, e.g. you could write `viewer.fitWidthProperty().bind(scene.widthProperty())`.\r\n 10. But also, don&#39;t use binding for layout, use layout panes with minimal appropriate layout hints.\r\n 11. Don&#39;t use fully qualified names in code unnecessarily, instead add the appropriate import statements.  \r\n\r\nRelated:\r\n\r\n * [Example JavaFX media player](https://stackoverflow.com/questions/12548603/playing-audio-using-javafx-mediaplayer-in-a-normal-java-application/12548929#12548929).\r\n\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/reformat-and-rearrange-code.html","title":"How to stop current thread while MediaPlayer is playing video?","body":"<p>Unfortunately, your approach is all wrong.  There are major mistakes and misconceptions in your approach and some smaller improvements that could be made in your code.</p>\n<p>Major problems:</p>\n<ol>\n<li>You don't need to (and should not) create another thread to pause, use a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/animation/PauseTransition.html\" rel=\"nofollow noreferrer\"><code>PauseTransition</code></a>.</li>\n<li>You should <em>never</em> sleep the JavaFX thread.</li>\n<li>You should <em>never</em> modify the properties of nodes in the Scene Graph or Stages from any thread other than the JavaFX thread.</li>\n<li>GUIs are event-driven, so respond to and generate events (e.g. <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/animation/Animation.html#onFinishedProperty\" rel=\"nofollow noreferrer\"><code>PauseTransition.onFinished</code></a>) rather than code loops.</li>\n<li><em>Never</em> loop forever on the JavaFX thread - nothing will happen in the GUI.</li>\n</ol>\n<p>Other improvements:</p>\n<ol>\n<li>An application should only be responsible for the application lifecycle.</li>\n<li>An application should not implement runnable.</li>\n<li>To get the working directory, use the <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow noreferrer\">system property &quot;user.dir&quot;</a>.</li>\n<li>Don't write a function to get random ints in ranges <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#nextInt(int,int)\" rel=\"nofollow noreferrer\">use the built-in library function for that</a>.</li>\n<li>Follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a> <em>always</em>.</li>\n<li>Setting a no-match key and no hint for full-screen exit seems like a bad idea for most apps.</li>\n<li>Don't define variables like the misnamed <code>Dir</code>, which you never use.</li>\n<li>Code should be <a href=\"https://www.jetbrains.com/help/idea/reformat-and-rearrange-code.html\" rel=\"nofollow noreferrer\">properly formatted</a>.</li>\n<li>Bind to properties instead of the weird Bindings selection scheme you use, e.g. you could write <code>viewer.fitWidthProperty().bind(scene.widthProperty())</code>.</li>\n<li>But also, don't use binding for layout, use layout panes with minimal appropriate layout hints.</li>\n<li>Don't use fully qualified names in code unnecessarily, instead add the appropriate import statements.</li>\n</ol>\n<p>Related:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/12548603/playing-audio-using-javafx-mediaplayer-in-a-normal-java-application/12548929#12548929\">Example JavaFX media player</a>.</li>\n</ul>\n"}],"owner":{"account_id":28320326,"reputation":3,"user_id":21656253,"display_name":"Vova_Veider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76028108,"answer_count":1,"score":-1,"last_activity_date":1681652896,"creation_date":1681649400,"question_id":76027861,"body_markdown":"Im writing program on JavaFX,which must show window,play video on it,hide window after playing and again after random time repeat this actions.I need to know how to make random delay when media player complete playing current video.My thoughts was these - if by adding `scene.hide()` after `player.play()` ,window was hiden  before playback completion , follows that player works in another thread.But if i add delay via `TimeUnit.SECONDS.sleep(10)` after command `player.play()` , video playing wil started after 10s.Please explain, what  occur in fact, and how to add delay after playing completion.\r\n\r\nMy code:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.lang.management.ManagementFactory;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.beans.property.DoubleProperty;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.scene.media.MediaView;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.input.KeyCombination;\r\nimport java.util.concurrent.TimeUnit;\r\npublic class Main extends Application implements Runnable {\r\n     private String Dir = System.getProperty(&quot;./&quot;);\r\n     private Stage stage;\r\n     private boolean fl;\r\n     public static void main(String[] args) throws Exception{\r\n               launch(args);\r\n     }\r\n     \r\n     public void run() { //if playing is complete - hide window\r\n    \t \r\n    \t //System.out.printf(&quot;Media player thread is %d \\n&quot;,Thread.currentThread().getId());\r\n    \t this.stage.hide();\r\n     }\r\n     private static int randomIntBetween(int first, int last) {\r\n    \t int rnd_int= (int)(first + Math.round(Math.random()*Math.abs((last-first))));\r\n    \t return rnd_int;\r\n     }\r\n     @Override\r\n     public void start(Stage stage) throws Exception {\r\n    \t this.stage=stage;\r\n    \t String[]  video_paths = {&quot;lp.mp4&quot;,&quot;sc_1.mp4&quot;};\r\n    \t stage.setFullScreen(true);\r\n    \t stage.setFullScreenExitHint(&quot;&quot;);\r\n    \t stage.setFullScreenExitKeyCombination(javafx.scene.input.KeyCombination.NO_MATCH);\r\n    \t while (true){\r\n    \t String video_path = video_paths[randomIntBetween(0,video_paths.length-1)];//Get random video (path)\r\n    \t File f = new File(video_path);\r\n    \t \r\n\t     Media media = new Media(f.toURI().toURL().toString());\r\n\t     javafx.scene.media.MediaPlayer player = new   javafx.scene.media.MediaPlayer(media);\r\n\t     MediaView viewer = new MediaView(player);\r\n\t    \r\n\t    //change width and height to fit video\r\n\t    DoubleProperty width = viewer.fitWidthProperty();\r\n\t    DoubleProperty height = viewer.fitHeightProperty();\r\n\t    width.bind(Bindings.selectDouble(viewer.sceneProperty(), &quot;width&quot;));\r\n\t    height.bind(Bindings.selectDouble(viewer.sceneProperty(), &quot;height&quot;));\r\n\t    viewer.setPreserveRatio(true);\r\n\t\r\n\t    StackPane root = new StackPane();\r\n\t    root.getChildren().add(viewer);\r\n\t    \r\n\t    //set the Scene\r\n\t    Scene scenes = new Scene(root);\r\n\t    stage.setScene(scenes);\r\n\t    player.setOnEndOfMedia(this);\r\n\t    //System.out.printf(&quot;Main thread is %d \\n&quot;,Thread.currentThread().getId());\r\n\t    stage.show();\r\n\t    player.play();\r\n\t    //this.stage.hide();\r\n\t    //TimeUnit.SECONDS.sleep(randomIntBetween(3,100); \r\n\t    break;//added for single iteration\r\n\t   \r\n    \r\n    \t }\r\n \r\n  }\r\n}\r\n```\r\n\r\nMy code working if i add break after player.play().But it is no solution of my  problem.","title":"How to stop current thread while MediaPlayer is playing video?","body":"<p>Im writing program on JavaFX,which must show window,play video on it,hide window after playing and again after random time repeat this actions.I need to know how to make random delay when media player complete playing current video.My thoughts was these - if by adding <code>scene.hide()</code> after <code>player.play()</code> ,window was hiden  before playback completion , follows that player works in another thread.But if i add delay via <code>TimeUnit.SECONDS.sleep(10)</code> after command <code>player.play()</code> , video playing wil started after 10s.Please explain, what  occur in fact, and how to add delay after playing completion.</p>\n<p>My code:</p>\n<pre><code>import java.io.File;\nimport java.lang.management.ManagementFactory;\n\nimport javafx.application.Application;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.property.DoubleProperty;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.MediaView;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\nimport javafx.scene.input.KeyCombination;\nimport java.util.concurrent.TimeUnit;\npublic class Main extends Application implements Runnable {\n     private String Dir = System.getProperty(&quot;./&quot;);\n     private Stage stage;\n     private boolean fl;\n     public static void main(String[] args) throws Exception{\n               launch(args);\n     }\n     \n     public void run() { //if playing is complete - hide window\n         \n         //System.out.printf(&quot;Media player thread is %d \\n&quot;,Thread.currentThread().getId());\n         this.stage.hide();\n     }\n     private static int randomIntBetween(int first, int last) {\n         int rnd_int= (int)(first + Math.round(Math.random()*Math.abs((last-first))));\n         return rnd_int;\n     }\n     @Override\n     public void start(Stage stage) throws Exception {\n         this.stage=stage;\n         String[]  video_paths = {&quot;lp.mp4&quot;,&quot;sc_1.mp4&quot;};\n         stage.setFullScreen(true);\n         stage.setFullScreenExitHint(&quot;&quot;);\n         stage.setFullScreenExitKeyCombination(javafx.scene.input.KeyCombination.NO_MATCH);\n         while (true){\n         String video_path = video_paths[randomIntBetween(0,video_paths.length-1)];//Get random video (path)\n         File f = new File(video_path);\n         \n         Media media = new Media(f.toURI().toURL().toString());\n         javafx.scene.media.MediaPlayer player = new   javafx.scene.media.MediaPlayer(media);\n         MediaView viewer = new MediaView(player);\n        \n        //change width and height to fit video\n        DoubleProperty width = viewer.fitWidthProperty();\n        DoubleProperty height = viewer.fitHeightProperty();\n        width.bind(Bindings.selectDouble(viewer.sceneProperty(), &quot;width&quot;));\n        height.bind(Bindings.selectDouble(viewer.sceneProperty(), &quot;height&quot;));\n        viewer.setPreserveRatio(true);\n    \n        StackPane root = new StackPane();\n        root.getChildren().add(viewer);\n        \n        //set the Scene\n        Scene scenes = new Scene(root);\n        stage.setScene(scenes);\n        player.setOnEndOfMedia(this);\n        //System.out.printf(&quot;Main thread is %d \\n&quot;,Thread.currentThread().getId());\n        stage.show();\n        player.play();\n        //this.stage.hide();\n        //TimeUnit.SECONDS.sleep(randomIntBetween(3,100); \n        break;//added for single iteration\n       \n    \n         }\n \n  }\n}\n</code></pre>\n<p>My code working if i add break after player.play().But it is no solution of my  problem.</p>\n"},{"tags":["java","generics","inheritance","overriding"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1681594481,"post_id":76024720,"comment_id":134082621,"body_markdown":"posted codes should not even compile &quot;*The method foo(String) of type B123 must override or implement a supertype method*&quot; or, depending on compiler, &quot;*method does not override or implement a method from a supertype*&quot;","body":"posted codes should not even compile &quot;<i>The method foo(String) of type B123 must override or implement a supertype method</i>&quot; or, depending on compiler, &quot;<i>method does not override or implement a method from a supertype</i>&quot;"},{"owner":{"account_id":26706727,"reputation":15,"user_id":20312791,"display_name":"Leah Golub"},"score":0,"creation_date":1681652557,"post_id":76024720,"comment_id":134087653,"body_markdown":"You are right, I have edited it, you shouldn&#39;t put the &quot;@Override&quot; above the foo in B123. But the question still remains. And now I have another question to figure out:) what does the &quot;@Override&quot; mean so much? It is more than a sign probably-you see.","body":"You are right, I have edited it, you shouldn&#39;t put the &quot;@Override&quot; above the foo in B123. But the question still remains. And now I have another question to figure out:) what does the &quot;@Override&quot; mean so much? It is more than a sign probably-you see."}],"answers":[{"comments":[{"owner":{"account_id":26706727,"reputation":15,"user_id":20312791,"display_name":"Leah Golub"},"score":0,"creation_date":1681594548,"post_id":76024789,"comment_id":134082624,"body_markdown":"I understand. Ok. probably the compiler first chooses the methods and only then puts String where ever there is T.\nAnd in the second code - there is no dynamic linking - why? I guess it is because of the same reason. so I shouldn&#39;t get confused by the timing of when the compiler puts Strinf in T.","body":"I understand. Ok. probably the compiler first chooses the methods and only then puts String where ever there is T. And in the second code - there is no dynamic linking - why? I guess it is because of the same reason. so I shouldn&#39;t get confused by the timing of when the compiler puts Strinf in T."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681593270,"creation_date":1681593270,"answer_id":76024789,"question_id":76024720,"body_markdown":"The compiler picks the *most specific* method signature that matches.\r\n\r\nHere, `String` is as specific as it gets. Certainly more specific than `T`, which matches anything.","title":"does a generic method overrides a none generic method of the fathers class in java","body":"<p>The compiler picks the <em>most specific</em> method signature that matches.</p>\n<p>Here, <code>String</code> is as specific as it gets. Certainly more specific than <code>T</code>, which matches anything.</p>\n"}],"owner":{"account_id":26706727,"reputation":15,"user_id":20312791,"display_name":"Leah Golub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681652447,"creation_date":1681592082,"question_id":76024720,"body_markdown":"    class A123 {\r\n        public void foo(String str) {\r\n            System.out.println(&quot;1&quot;);\r\n        }\r\n    }\r\n    \r\n    class B123 extends A123 {\r\n        \r\n        public &lt;T&gt; void foo(T item) {\r\n            System.out.println(&quot;2&quot;);\r\n        }\r\n    }\r\n\r\nI thought that when running the following:\r\n\r\n    public class Test123 {\r\n        public static void main(String[] args){\r\n            B123 b = new B123();\r\n            b.foo(&quot;test&quot;);\r\n        }\r\n    }\r\n\r\n\r\nI thought that by sending a string to b.foo the compiler puts &quot;String&quot; type in the T, and then it will be overriding, and b.foo(&quot;test&quot;) will print 2, but it actually prints &quot;1&quot;.\r\nWhy is that?\r\n\r\nAnd more than that:\r\nif I have the opposite - \r\n\r\n    class A123 {\r\n        public &lt;T&gt;void foo(T item) {\r\n            System.out.println(&quot;1&quot;);\r\n        }\r\n    }\r\n\r\n    class B123 extends A123 {\r\n        public void foo(String str) {\r\n            System.out.println(&quot;2&quot;);\r\n        }\r\n    }\r\n\r\nand I run:\r\n\r\n    public class Test123 {\r\n        public static void main(String[] args){\r\n            A123 b = new B123();\r\n            b.foo(&quot;test&quot;);\r\n        }\r\n    }\r\n\r\n(I have a A123 pointer to b)\r\nso the foo in B123 does not override the foo in A, and &quot;1&quot; is printed.","title":"does a generic method overrides a none generic method of the fathers class in java","body":"<pre><code>class A123 {\n    public void foo(String str) {\n        System.out.println(&quot;1&quot;);\n    }\n}\n\nclass B123 extends A123 {\n    \n    public &lt;T&gt; void foo(T item) {\n        System.out.println(&quot;2&quot;);\n    }\n}\n</code></pre>\n<p>I thought that when running the following:</p>\n<pre><code>public class Test123 {\n    public static void main(String[] args){\n        B123 b = new B123();\n        b.foo(&quot;test&quot;);\n    }\n}\n</code></pre>\n<p>I thought that by sending a string to b.foo the compiler puts &quot;String&quot; type in the T, and then it will be overriding, and b.foo(&quot;test&quot;) will print 2, but it actually prints &quot;1&quot;.\nWhy is that?</p>\n<p>And more than that:\nif I have the opposite -</p>\n<pre><code>class A123 {\n    public &lt;T&gt;void foo(T item) {\n        System.out.println(&quot;1&quot;);\n    }\n}\n\nclass B123 extends A123 {\n    public void foo(String str) {\n        System.out.println(&quot;2&quot;);\n    }\n}\n</code></pre>\n<p>and I run:</p>\n<pre><code>public class Test123 {\n    public static void main(String[] args){\n        A123 b = new B123();\n        b.foo(&quot;test&quot;);\n    }\n}\n</code></pre>\n<p>(I have a A123 pointer to b)\nso the foo in B123 does not override the foo in A, and &quot;1&quot; is printed.</p>\n"},{"tags":["java","nlp","opennlp","google-cloud-vertex-ai"],"owner":{"account_id":14428183,"reputation":137,"user_id":10422248,"display_name":"Sabari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681651218,"creation_date":1681651218,"question_id":76028001,"body_markdown":"We are trying to use GCP&#39;s Vertex AI to extract insights, summary and the query against the Text Data that we upload. Is it possible to do that? We are simply looking for ways to  extract information from our custom Text data through NLP. Will Vertex AI can help us in this regard? We just want to transfer learning of some pre-trained language model to our custom text data and use it to answer our queries against the custom text data. ","title":"GCP Vertex AI - Insight from Text Data","body":"<p>We are trying to use GCP's Vertex AI to extract insights, summary and the query against the Text Data that we upload. Is it possible to do that? We are simply looking for ways to  extract information from our custom Text data through NLP. Will Vertex AI can help us in this regard? We just want to transfer learning of some pre-trained language model to our custom text data and use it to answer our queries against the custom text data.</p>\n"},{"tags":["java","javafx","filechooser"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1516546765,"post_id":48368012,"comment_id":83722798,"body_markdown":"I think `JavaFX` `FileChooser` is a &quot;what you see is what you get&quot; type of Class due to it being `final`. So, I am guessing the answer is no you can&#39;t have any additional controls.","body":"I think <code>JavaFX</code> <code>FileChooser</code> is a &quot;what you see is what you get&quot; type of Class due to it being <code>final</code>. So, I am guessing the answer is no you can&#39;t have any additional controls."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1516547422,"post_id":48368012,"comment_id":83723016,"body_markdown":"@Sedrick is correct. The `FileChooser` hooks in the native windowing file chooser, so you are basically stuck with what the OS provides. You can, of course, customize a `Dialog` and implement the whole thing from scratch.","body":"@Sedrick is correct. The <code>FileChooser</code> hooks in the native windowing file chooser, so you are basically stuck with what the OS provides. You can, of course, customize a <code>Dialog</code> and implement the whole thing from scratch."},{"owner":{"account_id":6086486,"reputation":23,"user_id":4750333,"display_name":"h3k"},"score":0,"creation_date":1516565269,"post_id":48368012,"comment_id":83729172,"body_markdown":"Thanks for the answers! I guess I&#39;ll just show a new dialog with the options when the user clicks &#39;File &gt; Save as...&#39; and then call the FileChooser from that dialog. Or maybe add the item &#39;File &gt; Export options&#39; and leave the &#39;Save as...&#39; dialog as it is.","body":"Thanks for the answers! I guess I&#39;ll just show a new dialog with the options when the user clicks &#39;File &gt; Save as...&#39; and then call the FileChooser from that dialog. Or maybe add the item &#39;File &gt; Export options&#39; and leave the &#39;Save as...&#39; dialog as it is."}],"answers":[{"tags":[],"owner":{"account_id":22668154,"reputation":121,"user_id":16840210,"display_name":"deateaterOG"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1681650973,"creation_date":1634628212,"answer_id":69626604,"question_id":48368012,"body_markdown":"Edit: You can create another gui and just load the files from a default directory. Kind of like how you do from the FileChooser. You can check its docs.","title":"JavaFX FileChooser show custom options","body":"<p>Edit: You can create another gui and just load the files from a default directory. Kind of like how you do from the FileChooser. You can check its docs.</p>\n"}],"owner":{"account_id":6086486,"reputation":23,"user_id":4750333,"display_name":"h3k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681650973,"creation_date":1516545868,"question_id":48368012,"body_markdown":"Is there are a way to show additional controls on the file chooser dialog?&lt;br&gt;\r\nI want something like this:\r\n\r\n    ...\r\n    File name:    [                                                   ]\r\n    Save as type: [                                                   ]\r\n\r\n    Options (collapsed)\r\n    [x] Checkbox     Label: [TextField    ]      Label: [TextField    ]\r\n \r\n                                                    [ Save ] [ Cancel ]\r\n","title":"JavaFX FileChooser show custom options","body":"<p>Is there are a way to show additional controls on the file chooser dialog?<br>\nI want something like this:</p>\n\n<pre><code>...\nFile name:    [                                                   ]\nSave as type: [                                                   ]\n\nOptions (collapsed)\n[x] Checkbox     Label: [TextField    ]      Label: [TextField    ]\n\n                                                [ Save ] [ Cancel ]\n</code></pre>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":2,"creation_date":1681619662,"post_id":76025841,"comment_id":134084274,"body_markdown":"Given that I didn&#39;t check, nor tried to understand the correctness of what you are doing, the `NullPointerException` might be coming from `verifyBST`. If you pass a single node with no leaves to that method, then `n.left` and `n.right` are `null`, correct? So the first condition `if (n.left != null ...)` is skipped, the second condition is also skipped, and then `verifyBST(n.left)` is called again but with a `null` value. Which throws in the first condition since it is calling `n.left` on a null reference. So, check for `null` before calling `verifyBST` or return 1  when `n` is `null`","body":"Given that I didn&#39;t check, nor tried to understand the correctness of what you are doing, the <code>NullPointerException</code> might be coming from <code>verifyBST</code>. If you pass a single node with no leaves to that method, then <code>n.left</code> and <code>n.right</code> are <code>null</code>, correct? So the first condition <code>if (n.left != null ...)</code> is skipped, the second condition is also skipped, and then <code>verifyBST(n.left)</code> is called again but with a <code>null</code> value. Which throws in the first condition since it is calling <code>n.left</code> on a null reference. So, check for <code>null</code> before calling <code>verifyBST</code> or return 1  when <code>n</code> is <code>null</code>"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1681622606,"post_id":76025841,"comment_id":134084486,"body_markdown":"make the first line of `verifyBST()` this: `if (n == null) { return 0; }` (or `return1;` - whatever is appropriate; I can&#39;t tell what you&#39;re trying to do). An aside: the method name `verifyBST` suggests it should return `boolean`, not `int`. Java ain&#39;t C, so `1` and `0` have nothing to do with `true` and `false`.","body":"make the first line of <code>verifyBST()</code> this: <code>if (n == null) { return 0; }</code> (or <code>return1;</code> - whatever is appropriate; I can&#39;t tell what you&#39;re trying to do). An aside: the method name <code>verifyBST</code> suggests it should return <code>boolean</code>, not <code>int</code>. Java ain&#39;t C, so <code>1</code> and <code>0</code> have nothing to do with <code>true</code> and <code>false</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1681623198,"post_id":76025841,"comment_id":134084531,"body_markdown":"You never check whether `n` is null.","body":"You never check whether <code>n</code> is null."}],"answers":[{"comments":[{"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"score":0,"creation_date":1681686354,"post_id":76027207,"comment_id":134092135,"body_markdown":"Thank you! That helps clear it up. I appreciate it!","body":"Thank you! That helps clear it up. I appreciate it!"}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681641082,"creation_date":1681641082,"answer_id":76027207,"question_id":76025841,"body_markdown":"Your `verifyBST` method is calling `verifyBST(n.left)` when `n.left` is `null` - this leads to an NPE. If you change it as follows then the NPE doesn&#39;t occur:\r\n\r\n    static int verifyBST(Node n) {\r\n        if (n.left != null &amp;&amp; max(n.left) &gt; n.value &amp;&amp; verifyBST(n.left) != 1) {\r\n            return 0;\r\n        }\r\n\r\n        if (n.right != null &amp;&amp; min(n.right) &lt; n.value &amp;&amp; verifyBST(n.right) != 1) {\r\n            return 0;\r\n        }\r\n\r\n        return 1;\r\n    }\r\n","title":"Java Method for Verify Binary Trees?","body":"<p>Your <code>verifyBST</code> method is calling <code>verifyBST(n.left)</code> when <code>n.left</code> is <code>null</code> - this leads to an NPE. If you change it as follows then the NPE doesn't occur:</p>\n<pre><code>static int verifyBST(Node n) {\n    if (n.left != null &amp;&amp; max(n.left) &gt; n.value &amp;&amp; verifyBST(n.left) != 1) {\n        return 0;\n    }\n\n    if (n.right != null &amp;&amp; min(n.right) &lt; n.value &amp;&amp; verifyBST(n.right) != 1) {\n        return 0;\n    }\n\n    return 1;\n}\n</code></pre>\n"}],"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681652571,"answer_count":1,"score":0,"last_activity_date":1681650677,"creation_date":1681617774,"question_id":76025841,"body_markdown":"Okay, so the problem I&#39;m trying to solve is to create a recursive linear-time algorithm to verify a BT at every node. So far, here is my code;\r\n\r\n\r\n```\r\npublic class BinaryTree {\r\n\tNode root;\r\n\r\n    private Node addR(Node c, int x, Node parent) {\r\n    \tif (c == null) {\r\n    \t\tc = new Node(x);\r\n    \t\tc.parent = parent;\r\n        \treturn c;\r\n        }\r\n        if (x &lt; c.value) {\r\n        \tparent = c;\r\n            c.left = addR(c.left, x, c);\r\n        }\r\n        else if (x &gt; c.value) {\r\n        \tparent = c;\r\n            c.right = addR(c.right, x, c);\r\n        }\r\n        else {\r\n            return c;\r\n        }\r\n        return c;\r\n    }\r\n    \r\n    public void add(Node parent, int x) {\r\n        root = addR(root, x, parent);\r\n    }\r\n    \r\n    static int max(Node n) {\r\n    \tif (n == null) {\r\n    \t\treturn Integer.MIN_VALUE;\r\n    \t}\r\n    \tint value = n.value;\r\n    \tint leftMax = max(n.left);\r\n    \tint rightMax = max(n.right);\r\n    \treturn Math.max(value, Math.max(leftMax, rightMax));\r\n    }\r\n    \t\r\n    static int min(Node n) {\r\n    \tif (n == null) {\r\n    \t\treturn Integer.MAX_VALUE;\r\n    \t}\r\n    \tint value = n.value;\r\n    \tint leftMax = min(n.left);\r\n    \tint rightMax = min(n.right);\r\n    \t\r\n    \treturn Math.min(value,  Math.min(leftMax, rightMax));\r\n    }\r\n    \r\n    static int verifyBST(Node n) {\r\n        if (n.left != null &amp;&amp; max(n.left) &gt; n.value) {\r\n        \treturn 0;\r\n        }\r\n        \r\n        if (n.right != null &amp;&amp; min(n.right) &lt; n.value) {\r\n            return 0;\r\n        }\r\n        if (verifyBST(n.left) != 1 || verifyBST(n.right) != 1) {\r\n             return 0;\r\n        }\r\n        return 1;\r\n     }\r\n    \r\n    static void verifyBSTout(int x) {\r\n    \tif (x == 1) {\r\n    \t\tSystem.out.println (&quot;Confirmed Binary Tree.&quot;);\r\n    \t}\r\n    \telse {\r\n    \t\tSystem.out.println (&quot;Not a Binary Tree.&quot;);\r\n    \t}\r\n    }\r\n}\r\n```\r\n\r\nAnd my main;\r\n\r\n\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tBinaryTree test = new BinaryTree();\r\n\t\ttest.add(test.root, 7);\r\n\t\ttest.add(test.root, 5);\r\n\t\ttest.add(test.root, 6);\r\n\t\ttest.add(test.root, 9);\r\n\t\ttest.add(test.root, 3);\r\n\t\ttest.add(test.root, 8);\r\n\t\ttest.verifyBSTout(BinaryTree.verifyBST(test.root));\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nI checked to make sure that there was a value for test.root.left.value, but yet when it arrives at the the actual test, it says that n is null and throws a NullPointException. I&#39;m a bit confused since, firstly, I&#39;m passing it the test I just populated, and secondly, the verifyBST method should only use that line if n != null, so I&#39;m not sure why it would crash there due to n != null.\r\n\r\nAnybody have any insights as to where my mistake is? Thanks in advance. ","title":"Java Method for Verify Binary Trees?","body":"<p>Okay, so the problem I'm trying to solve is to create a recursive linear-time algorithm to verify a BT at every node. So far, here is my code;</p>\n<pre><code>public class BinaryTree {\n    Node root;\n\n    private Node addR(Node c, int x, Node parent) {\n        if (c == null) {\n            c = new Node(x);\n            c.parent = parent;\n            return c;\n        }\n        if (x &lt; c.value) {\n            parent = c;\n            c.left = addR(c.left, x, c);\n        }\n        else if (x &gt; c.value) {\n            parent = c;\n            c.right = addR(c.right, x, c);\n        }\n        else {\n            return c;\n        }\n        return c;\n    }\n    \n    public void add(Node parent, int x) {\n        root = addR(root, x, parent);\n    }\n    \n    static int max(Node n) {\n        if (n == null) {\n            return Integer.MIN_VALUE;\n        }\n        int value = n.value;\n        int leftMax = max(n.left);\n        int rightMax = max(n.right);\n        return Math.max(value, Math.max(leftMax, rightMax));\n    }\n        \n    static int min(Node n) {\n        if (n == null) {\n            return Integer.MAX_VALUE;\n        }\n        int value = n.value;\n        int leftMax = min(n.left);\n        int rightMax = min(n.right);\n        \n        return Math.min(value,  Math.min(leftMax, rightMax));\n    }\n    \n    static int verifyBST(Node n) {\n        if (n.left != null &amp;&amp; max(n.left) &gt; n.value) {\n            return 0;\n        }\n        \n        if (n.right != null &amp;&amp; min(n.right) &lt; n.value) {\n            return 0;\n        }\n        if (verifyBST(n.left) != 1 || verifyBST(n.right) != 1) {\n             return 0;\n        }\n        return 1;\n     }\n    \n    static void verifyBSTout(int x) {\n        if (x == 1) {\n            System.out.println (&quot;Confirmed Binary Tree.&quot;);\n        }\n        else {\n            System.out.println (&quot;Not a Binary Tree.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>And my main;</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        BinaryTree test = new BinaryTree();\n        test.add(test.root, 7);\n        test.add(test.root, 5);\n        test.add(test.root, 6);\n        test.add(test.root, 9);\n        test.add(test.root, 3);\n        test.add(test.root, 8);\n        test.verifyBSTout(BinaryTree.verifyBST(test.root));\n        \n    }\n}\n</code></pre>\n<p>I checked to make sure that there was a value for test.root.left.value, but yet when it arrives at the the actual test, it says that n is null and throws a NullPointException. I'm a bit confused since, firstly, I'm passing it the test I just populated, and secondly, the verifyBST method should only use that line if n != null, so I'm not sure why it would crash there due to n != null.</p>\n<p>Anybody have any insights as to where my mistake is? Thanks in advance.</p>\n"},{"tags":["java","functional-programming","java-stream"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1681633579,"post_id":76026638,"comment_id":134085403,"body_markdown":"Having side effects in stream methods, e.g. mutating the secondsInt state is frowned upon / not a good idea. It works here because you have a terminal operation and no parallelism but it is still not a good idea.","body":"Having side effects in stream methods, e.g. mutating the secondsInt state is frowned upon / not a good idea. It works here because you have a terminal operation and no parallelism but it is still not a good idea."},{"owner":{"account_id":5160779,"reputation":154,"user_id":4132541,"display_name":"Lior Derei"},"score":0,"creation_date":1681633798,"post_id":76026638,"comment_id":134085426,"body_markdown":"the whole idea behind for each is doing side effect operations (it&#39;s not part of pure functional programming theory). side effect in general should be avoided, but I can&#39;t find a strong argument why use one and not the other in this example","body":"the whole idea behind for each is doing side effect operations (it&#39;s not part of pure functional programming theory). side effect in general should be avoided, but I can&#39;t find a strong argument why use one and not the other in this example"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681638416,"post_id":76026638,"comment_id":134085932,"body_markdown":"The major advantage is the possible parallelism. Everything else is just opinion.","body":"The major advantage is the possible parallelism. Everything else is just opinion."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681638878,"post_id":76026638,"comment_id":134086003,"body_markdown":"map/filter are composable and lazy. forEach is eager and cannot be composed. Heavily opinion-based.","body":"map/filter are composable and lazy. forEach is eager and cannot be composed. Heavily opinion-based."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1681662157,"post_id":76026638,"comment_id":134089116,"body_markdown":"[Duplicate?](https://stackoverflow.com/questions/76004826/java-stream-filter-performance)","body":"<a href=\"https://stackoverflow.com/questions/76004826/java-stream-filter-performance\">Duplicate?</a>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681638579,"creation_date":1681638579,"answer_id":76027018,"question_id":76026638,"body_markdown":"I don‚Äôt think it‚Äôs an issue of advantages. Each mechanism has a specific purpose.\r\n\r\n.forEach() returns void so it doesn‚Äôt have an output. The intent is that the elements that the forEach iterates through are not modified. The data in the elements are used for some sort of calculation. I find that forEach is used much less than map. It‚Äôs a terminal point in a pipeline.\r\n\r\n.filter() takes a stream as input and emits a filtered stream as output. It is for filtering.\r\n\r\n.map() is like forEach but it emits a stream of modified objects. It allows the same modification to be done on each each element so that it can be saved, filtered or manipulated further.\r\n\r\n.toList is a handy shortcut to turn a stream into a list. Using forEach(List::add) where a toList() will do the work is a terrible idea. You‚Äôre preventing Java from bulking the activity.","title":"Java Stream Methods vs foreach","body":"<p>I don‚Äôt think it‚Äôs an issue of advantages. Each mechanism has a specific purpose.</p>\n<p>.forEach() returns void so it doesn‚Äôt have an output. The intent is that the elements that the forEach iterates through are not modified. The data in the elements are used for some sort of calculation. I find that forEach is used much less than map. It‚Äôs a terminal point in a pipeline.</p>\n<p>.filter() takes a stream as input and emits a filtered stream as output. It is for filtering.</p>\n<p>.map() is like forEach but it emits a stream of modified objects. It allows the same modification to be done on each each element so that it can be saved, filtered or manipulated further.</p>\n<p>.toList is a handy shortcut to turn a stream into a list. Using forEach(List::add) where a toList() will do the work is a terrible idea. You‚Äôre preventing Java from bulking the activity.</p>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1681649930,"creation_date":1681639305,"answer_id":76027076,"question_id":76026638,"body_markdown":"## Alternative 2 looks best to me in this case\r\n\r\n### 1. Readability\r\n- Alternative 2 has less number of lines\r\n- Alternative 2 read more close to `return a list containing number divisible by 6 from numList`, while forEach approach means add number divisible by 6 from numList to `secondInts`\r\n- `filter(i -&gt; i % 6 == 0)` is straight forward and \r\n  ```\r\n  if(i % 6 != 0) {\r\n      return;\r\n  }\r\n  ```\r\n  require some time for human brain to process.\r\n### 2. Performance\r\n\r\nFrom [`Stream.toList()`][1]\r\n  &gt; Implementation Note:\r\nMost instances of Stream will override this method and provide an implementation that is highly optimized compared to the implementation in this interface.\r\n\r\nWe benefit from optimization from JDK by using Stream API.  \r\n\r\nAnd in this case, using forEach and adding element one by one will be slower, especially when the list is large. It is because `ArrayList` will need to extend it capacity whenever the list full, while Stream implementation `ImmutableCollections.listFromTrustedArrayNullsAllowed` just store the result array into `ListN`.\r\n\r\nOne more point to note about parallelism:  \r\nFrom [`Stream#forEach`][2]\r\n&gt;The behavior of this operation is explicitly nondeterministic. For parallel stream pipelines, this operation does not guarantee to respect the encounter order of the stream, as doing so would sacrifice the benefit of parallelism. For any given element, the action may be performed at whatever time and in whatever thread the library chooses. If the action accesses shared state, it is responsible for providing the required synchronization.\r\n\r\n```\r\nnumbersList.stream().parallel()\r\n       .forEach(i -&gt; {\r\n           if(i % 6 != 0) {\r\n               return;\r\n           }\r\n           secondInts.add(i);\r\n       });\r\n```\r\nWill provide unexpected result, while\r\n```\r\nList&lt;Integer&gt; third = numbersList.stream().parallel()\r\n      .filter(i -&gt; i % 6 == 0).sorted().forEach()\r\n      .toList();\r\n```\r\nis totally fine.\r\n\r\n### 3. Flexibility\r\nImagine you want the filtered list to be sorted, in forEach approach, you can do it like:\r\n```\r\nnumbersList.stream().sorted().\r\n       .forEach(i -&gt; {\r\n           if(i % 6 != 0) {\r\n               return;\r\n           }\r\n           secondInts.add(i);\r\n       });\r\n```\r\nWhich is much slower compared to \r\n```\r\nnumbersList.stream()\r\n        .filter(i -&gt; i % 6 == 0)\r\n        .sorted()\r\n        .toList();\r\n```\r\nAs we need to sort the whole numbersList instead of filtered.\r\n\r\nOr if you want to limit your result to 10 elements, it is not straight forward to do so with forEach, but just as simple as adding `limit(10)` when using stream. \r\n### 4. Less error prone\r\nStream API usually return Immutable object by default.\r\n\r\nFrom [`Stream.toList()`][1]\r\n&gt;Implementation Requirements:\r\nThe implementation in this interface returns a List produced as if by the following:\r\n Collections.unmodifiableList(new ArrayList&lt;&gt;(Arrays.asList(this.toArray())))\r\n\r\nMeaning that the returned list is immutable by default. Some advantages of immutability are:\r\n1. You can safely pass the list around to different method without worrying the list is modified.\r\n2. Immutable list are thread safe.\r\n\r\nRead https://stackoverflow.com/questions/1863515/pros-cons-of-immutability-vs-mutability for further discussion.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#toList()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)","title":"Java Stream Methods vs foreach","body":"<h2>Alternative 2 looks best to me in this case</h2>\n<h3>1. Readability</h3>\n<ul>\n<li>Alternative 2 has less number of lines</li>\n<li>Alternative 2 read more close to <code>return a list containing number divisible by 6 from numList</code>, while forEach approach means add number divisible by 6 from numList to <code>secondInts</code></li>\n<li><code>filter(i -&gt; i % 6 == 0)</code> is straight forward and\n<pre><code>if(i % 6 != 0) {\n    return;\n}\n</code></pre>\nrequire some time for human brain to process.</li>\n</ul>\n<h3>2. Performance</h3>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\"><code>Stream.toList()</code></a></p>\n<blockquote>\n<p>Implementation Note:\nMost instances of Stream will override this method and provide an implementation that is highly optimized compared to the implementation in this interface.</p>\n</blockquote>\n<p>We benefit from optimization from JDK by using Stream API.</p>\n<p>And in this case, using forEach and adding element one by one will be slower, especially when the list is large. It is because <code>ArrayList</code> will need to extend it capacity whenever the list full, while Stream implementation <code>ImmutableCollections.listFromTrustedArrayNullsAllowed</code> just store the result array into <code>ListN</code>.</p>\n<p>One more point to note about parallelism:<br />\nFrom <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Stream#forEach</code></a></p>\n<blockquote>\n<p>The behavior of this operation is explicitly nondeterministic. For parallel stream pipelines, this operation does not guarantee to respect the encounter order of the stream, as doing so would sacrifice the benefit of parallelism. For any given element, the action may be performed at whatever time and in whatever thread the library chooses. If the action accesses shared state, it is responsible for providing the required synchronization.</p>\n</blockquote>\n<pre><code>numbersList.stream().parallel()\n       .forEach(i -&gt; {\n           if(i % 6 != 0) {\n               return;\n           }\n           secondInts.add(i);\n       });\n</code></pre>\n<p>Will provide unexpected result, while</p>\n<pre><code>List&lt;Integer&gt; third = numbersList.stream().parallel()\n      .filter(i -&gt; i % 6 == 0).sorted().forEach()\n      .toList();\n</code></pre>\n<p>is totally fine.</p>\n<h3>3. Flexibility</h3>\n<p>Imagine you want the filtered list to be sorted, in forEach approach, you can do it like:</p>\n<pre><code>numbersList.stream().sorted().\n       .forEach(i -&gt; {\n           if(i % 6 != 0) {\n               return;\n           }\n           secondInts.add(i);\n       });\n</code></pre>\n<p>Which is much slower compared to</p>\n<pre><code>numbersList.stream()\n        .filter(i -&gt; i % 6 == 0)\n        .sorted()\n        .toList();\n</code></pre>\n<p>As we need to sort the whole numbersList instead of filtered.</p>\n<p>Or if you want to limit your result to 10 elements, it is not straight forward to do so with forEach, but just as simple as adding <code>limit(10)</code> when using stream.</p>\n<h3>4. Less error prone</h3>\n<p>Stream API usually return Immutable object by default.</p>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\"><code>Stream.toList()</code></a></p>\n<blockquote>\n<p>Implementation Requirements:\nThe implementation in this interface returns a List produced as if by the following:\nCollections.unmodifiableList(new ArrayList&lt;&gt;(Arrays.asList(this.toArray())))</p>\n</blockquote>\n<p>Meaning that the returned list is immutable by default. Some advantages of immutability are:</p>\n<ol>\n<li>You can safely pass the list around to different method without worrying the list is modified.</li>\n<li>Immutable list are thread safe.</li>\n</ol>\n<p>Read <a href=\"https://stackoverflow.com/questions/1863515/pros-cons-of-immutability-vs-mutability\">Pros. / Cons. of Immutability vs. Mutability</a> for further discussion.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681650463,"creation_date":1681650463,"answer_id":76027950,"question_id":76026638,"body_markdown":"Streams provide for more readable, functional solution.  But that does come at a cost since the stream API is complex and does a lot under the hood.\r\n\r\nIf one is going to do everything in a `forEach` block I would just skip the stream solution and go for an imperative solution using a `for loop`.\r\n\r\nOtherwise, I would go with `alternative 2` for the reasons cited (lends itself to parallelism, easier to read, etc).  I seldom use `forEach` for anything other than printing although there are always exceptions.\r\n\r\nAnd whether its safe to modify external state in some cases (as in `alternative 1`) I just presume it won&#39;t be safe and, with that in mind, focus on the a solution (functional or imperative) that provides the desired result.","title":"Java Stream Methods vs foreach","body":"<p>Streams provide for more readable, functional solution.  But that does come at a cost since the stream API is complex and does a lot under the hood.</p>\n<p>If one is going to do everything in a <code>forEach</code> block I would just skip the stream solution and go for an imperative solution using a <code>for loop</code>.</p>\n<p>Otherwise, I would go with <code>alternative 2</code> for the reasons cited (lends itself to parallelism, easier to read, etc).  I seldom use <code>forEach</code> for anything other than printing although there are always exceptions.</p>\n<p>And whether its safe to modify external state in some cases (as in <code>alternative 1</code>) I just presume it won't be safe and, with that in mind, focus on the a solution (functional or imperative) that provides the desired result.</p>\n"}],"owner":{"account_id":5160779,"reputation":154,"user_id":4132541,"display_name":"Lior Derei"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76027076,"answer_count":3,"score":3,"last_activity_date":1681650463,"creation_date":1681633342,"question_id":76026638,"body_markdown":"I have a teammate that did all his stream operations in a foreach execution. I tried to come up with advantages of using the filter, map and to list methods instead.\r\n\r\nWhat are other advantages it has other than readability (arguably the foreach is pretty readable as well)\r\nHere is a snippet for something close to what he did:\r\n\r\n```java\r\nList&lt;Integer&gt; firstInts = new ArrayList&lt;&gt;();\r\nList&lt;Integer&gt; secondInts = new ArrayList&lt;&gt;();\r\nList&lt;Integer&gt; numbersList = IntStream.range(0, max).boxed().toList();\r\n\r\n\r\n//his stream\r\nnumbersList.stream()\r\n       .forEach(i -&gt; {\r\n           if(i % 6 != 0) {\r\n               return;\r\n           }\r\n           secondInts.add(i);\r\n       });\r\n\r\n\r\n//alternative 1\r\nnumbersList.stream()\r\n        .filter(i -&gt; i % 6 == 0)\r\n        .forEach(firstInts::add);\r\n\r\n\r\n//alternative 2\r\nList&lt;Integer&gt; third = numbersList.stream()\r\n        .filter(i -&gt; i % 6 == 0)\r\n        .toList();\r\n```\r\nwhat is the motivation of using stream methods other than readability?","title":"Java Stream Methods vs foreach","body":"<p>I have a teammate that did all his stream operations in a foreach execution. I tried to come up with advantages of using the filter, map and to list methods instead.</p>\n<p>What are other advantages it has other than readability (arguably the foreach is pretty readable as well)\nHere is a snippet for something close to what he did:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; firstInts = new ArrayList&lt;&gt;();\nList&lt;Integer&gt; secondInts = new ArrayList&lt;&gt;();\nList&lt;Integer&gt; numbersList = IntStream.range(0, max).boxed().toList();\n\n\n//his stream\nnumbersList.stream()\n       .forEach(i -&gt; {\n           if(i % 6 != 0) {\n               return;\n           }\n           secondInts.add(i);\n       });\n\n\n//alternative 1\nnumbersList.stream()\n        .filter(i -&gt; i % 6 == 0)\n        .forEach(firstInts::add);\n\n\n//alternative 2\nList&lt;Integer&gt; third = numbersList.stream()\n        .filter(i -&gt; i % 6 == 0)\n        .toList();\n</code></pre>\n<p>what is the motivation of using stream methods other than readability?</p>\n"},{"tags":["java","android","xml","sax","tmx"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681889804,"post_id":76027763,"comment_id":134128011,"body_markdown":"As it‚Äôs currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it‚Äôs currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76027763/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26285736,"reputation":1,"user_id":21290189,"display_name":"Cameron"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681648167,"creation_date":1681648167,"answer_id":76027763,"question_id":76027725,"body_markdown":"SCREEN\r\nColorDepth:\r\n24\r\nPixelDepth:\r\n24\r\nHeight:\r\n820\r\nWidth:\r\n360\r\nAvailHeight:\r\n820\r\nAvailWidth:\r\n360\r\nAvailTop:\r\n0\r\nAvailLeft:\r\n0\r\nWindow size:\r\n360x3598 (360x820)\r\nPLUGINS\r\nPlugins missing\r\nEXTENDED\r\nWebGL:\r\n076f790265bc8796\r\nCanvas:\r\n-151063313\r\nAudio:\r\n8fb5fa54c9d5e0c0\r\nFonts:\r\n202a809ae5defaa7\r\nClient Rects:\r\nda39a3ee5e6b4b0d\r\nTIME\r\nZone:\r\nAfrica/Lagos\r\nLocal:\r\nSat Apr 15 2023 00:44:44 GMT-0600 (Central Standard Time)\r\nSystem:\r\nSun Apr 16 2023 06:08:19 GMT-0600 (Central Standard Time)\r\nIP\r\nWEBRTC\r\n104.28.155.240\r\nJAVASCRIPT\r\nEnabled\r\nFLASH\r\nDisabled\r\nACTIVEX\r\nDisabled\r\nJAVA\r\nDisabled\r\nCOOKIESloxked[209.85.255.255][1]\r\nEnabled\r\n\r\n\r\n  [1]: https://","title":"Java XML parser duplicating elements on list","body":"<p>SCREEN\nColorDepth:\n24\nPixelDepth:\n24\nHeight:\n820\nWidth:\n360\nAvailHeight:\n820\nAvailWidth:\n360\nAvailTop:\n0\nAvailLeft:\n0\nWindow size:\n360x3598 (360x820)\nPLUGINS\nPlugins missing\nEXTENDED\nWebGL:\n076f790265bc8796\nCanvas:\n-151063313\nAudio:\n8fb5fa54c9d5e0c0\nFonts:\n202a809ae5defaa7\nClient Rects:\nda39a3ee5e6b4b0d\nTIME\nZone:\nAfrica/Lagos\nLocal:\nSat Apr 15 2023 00:44:44 GMT-0600 (Central Standard Time)\nSystem:\nSun Apr 16 2023 06:08:19 GMT-0600 (Central Standard Time)\nIP\nWEBRTC\n104.28.155.240\nJAVASCRIPT\nEnabled\nFLASH\nDisabled\nACTIVEX\nDisabled\nJAVA\nDisabled\nCOOKIESloxked209.85.255.255\nEnabled</p>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681650455,"creation_date":1681647733,"question_id":76027725,"body_markdown":"I have a SAX2 XML parser and I want to perform specific actions.\r\n\r\n1) Add an object to `tileFrames` list when frame element starts (as many times as frame in each animation element), \r\n2) Add String `currentTileID` with this `tileFrames` list when animation element ends.\r\n3) Clear a `tileFrames` list when animation starts so that the `tileAnimations` list receive its elements and without ellements dedcated for another animation element.\r\n\r\nI want this scenario to perfomr as long as there are no more animation tags in my xml file.\r\n\r\nNow I receive list of objects with correct `currentTileID` but with the same elements like it was the last animation iteration.\r\n\r\nHere is what I get when I log:\r\n\r\n    2023-04-16 14:07:30.538 25714-25714/abc.def.ghi D/tile_animations: TileAnimation{localGID=21, tileFrames=[TileFrame{tileId=42, duration=500}, TileFrame{tileId=43, duration=500}]}\r\n    2023-04-16 14:07:30.538 25714-25714/abc.def.ghi D/tile_animations: TileAnimation{localGID=22, tileFrames=[TileFrame{tileId=42, duration=500}, TileFrame{tileId=43, duration=500}]}\r\n    2023-04-16 14:07:30.538 25714-25714/abc.def.ghi D/tile_animations: TileAnimation{localGID=43, tileFrames=[TileFrame{tileId=42, duration=500}, TileFrame{tileId=43, duration=500}]}\r\n    (...)\r\n\r\n\r\nHere is the key code (if I cut off too much code I will attach more, I just wanted to simplify things):\r\n\r\nTmxHandler.java\r\n\r\n    @Override\r\n    public void startElement(String namespaceURI, String localName, String qName, Attributes atts) throws SAXException {\r\n        if (localName.equals(&quot;animation&quot;)) {\r\n            tileFrames.clear();\r\n\r\n        } else if (localName.equals(&quot;frame&quot;)) {\r\n            tileFrames.add(new TileFrame(Long.parseLong(atts.getValue(&quot;tileid&quot;)), Long.parseLong(atts.getValue(&quot;duration&quot;))));\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void endElement(String namespaceURI, String localName, String qName) {\r\n         if (localName.equals(&quot;animation&quot;)) {\r\n            currentTileSet.tileAnimations.add(new TileAnimation(Long.parseLong(currentTileID), tileFrames));\r\n\r\n\r\n        } else if (localName.equals(&quot;frame&quot;)) {\r\n\r\n        } \r\n    }\r\n\r\n\r\nTileAnimation.java\r\n\r\n    public class TileAnimation {\r\n\r\n    private long localGID;\r\n    private List&lt;TileFrame&gt; tileFrames;\r\n\r\n    public long getLocalGID() {\r\n        return localGID;\r\n    }\r\n\r\n    public void setLocalGID(long localGID) {\r\n        this.localGID = localGID;\r\n    }\r\n\r\n    public List&lt;TileFrame&gt; getTileFrames() {\r\n        return tileFrames;\r\n    }\r\n\r\n    public void setTileFrames(List&lt;TileFrame&gt; tileFrames) {\r\n        this.tileFrames = tileFrames;\r\n    }\r\n\r\n    public TileAnimation(long localGID, List&lt;TileFrame&gt; tileFrames) {\r\n        this.localGID = localGID;\r\n        this.tileFrames = tileFrames;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;TileAnimation{&quot; +\r\n                &quot;localGID=&quot; + localGID +\r\n                &quot;, tileFrames=&quot; + tileFrames +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n\r\nAnd here is my xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;map version=&quot;1.10&quot; tiledversion=&quot;1.10.0&quot; orientation=&quot;orthogonal&quot; renderorder=&quot;right-down&quot; width=&quot;8&quot; height=&quot;12&quot; tilewidth=&quot;32&quot; tileheight=&quot;32&quot; infinite=&quot;0&quot; nextlayerid=&quot;11&quot; nextobjectid=&quot;1&quot;&gt;\r\n     &lt;tileset firstgid=&quot;1&quot; name=&quot;RPG Nature Tileset&quot; tilewidth=&quot;32&quot; tileheight=&quot;32&quot; tilecount=&quot;180&quot; columns=&quot;20&quot;&gt;\r\n      &lt;image source=&quot;NatureTileset.png&quot; width=&quot;641&quot; height=&quot;288&quot;/&gt;\r\n      &lt;tile id=&quot;21&quot;&gt;\r\n       &lt;animation&gt;\r\n        &lt;frame tileid=&quot;21&quot; duration=&quot;1000&quot;/&gt;\r\n        &lt;frame tileid=&quot;1&quot; duration=&quot;1000&quot;/&gt;\r\n        &lt;frame tileid=&quot;20&quot; duration=&quot;1000&quot;/&gt;\r\n       &lt;/animation&gt;\r\n      &lt;/tile&gt;\r\n      &lt;tile id=&quot;22&quot;&gt;\r\n       &lt;animation&gt;\r\n        &lt;frame tileid=&quot;22&quot; duration=&quot;100&quot;/&gt;\r\n        &lt;frame tileid=&quot;2&quot; duration=&quot;100&quot;/&gt;\r\n       &lt;/animation&gt;\r\n      &lt;/tile&gt;\r\n      &lt;tile id=&quot;43&quot;&gt;\r\n       &lt;animation&gt;\r\n        &lt;frame tileid=&quot;42&quot; duration=&quot;500&quot;/&gt;\r\n        &lt;frame tileid=&quot;43&quot; duration=&quot;500&quot;/&gt;\r\n       &lt;/animation&gt;\r\n      &lt;/tile&gt;\r\n     &lt;/tileset&gt;\r\n     &lt;tileset firstgid=&quot;181&quot; name=&quot;32x32_map_tile v3.1 [MARGINLESS]&quot; tilewidth=&quot;32&quot; tileheight=&quot;32&quot; tilecount=&quot;667&quot; columns=&quot;23&quot;&gt;\r\n      &lt;image source=&quot;32x32_map_tile v3.1 [MARGINLESS].png&quot; width=&quot;736&quot; height=&quot;928&quot;/&gt;\r\n     &lt;/tileset&gt;\r\n     &lt;layer id=&quot;1&quot; name=&quot;grass&quot; width=&quot;8&quot; height=&quot;12&quot;&gt;\r\n      &lt;data encoding=&quot;csv&quot;&gt;\r\n    41,41,41,41,41,41,41,41,\r\n    41,41,41,41,41,41,41,41,\r\n    41,41,41,41,41,41,41,41,\r\n    41,41,41,41,41,41,41,41,\r\n    41,41,142,142,142,142,41,41,\r\n    41,41,142,41,142,41,41,41,\r\n    41,41,41,142,142,41,41,41,\r\n    41,41,41,41,41,41,41,41,\r\n    41,41,41,41,41,41,41,41,\r\n    41,41,41,41,41,41,41,41,\r\n    41,41,41,41,41,41,41,41,\r\n    41,41,41,41,41,41,41,41\r\n    &lt;/data&gt;\r\n     &lt;/layer&gt;\r\n     &lt;layer id=&quot;9&quot; name=&quot;anim1&quot; width=&quot;8&quot; height=&quot;12&quot;&gt;\r\n      &lt;data encoding=&quot;csv&quot;&gt;\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,23,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,44,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0\r\n    &lt;/data&gt;\r\n     &lt;/layer&gt;\r\n     &lt;layer id=&quot;10&quot; name=&quot;anim2&quot; width=&quot;8&quot; height=&quot;12&quot;&gt;\r\n      &lt;data encoding=&quot;csv&quot;&gt;\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,22,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0\r\n    &lt;/data&gt;\r\n     &lt;/layer&gt;\r\n    &lt;/map&gt;\r\n\r\nIf you need something more just ask.\r\n","title":"Java XML parser duplicating elements on list","body":"<p>I have a SAX2 XML parser and I want to perform specific actions.</p>\n<ol>\n<li>Add an object to <code>tileFrames</code> list when frame element starts (as many times as frame in each animation element),</li>\n<li>Add String <code>currentTileID</code> with this <code>tileFrames</code> list when animation element ends.</li>\n<li>Clear a <code>tileFrames</code> list when animation starts so that the <code>tileAnimations</code> list receive its elements and without ellements dedcated for another animation element.</li>\n</ol>\n<p>I want this scenario to perfomr as long as there are no more animation tags in my xml file.</p>\n<p>Now I receive list of objects with correct <code>currentTileID</code> but with the same elements like it was the last animation iteration.</p>\n<p>Here is what I get when I log:</p>\n<pre><code>2023-04-16 14:07:30.538 25714-25714/abc.def.ghi D/tile_animations: TileAnimation{localGID=21, tileFrames=[TileFrame{tileId=42, duration=500}, TileFrame{tileId=43, duration=500}]}\n2023-04-16 14:07:30.538 25714-25714/abc.def.ghi D/tile_animations: TileAnimation{localGID=22, tileFrames=[TileFrame{tileId=42, duration=500}, TileFrame{tileId=43, duration=500}]}\n2023-04-16 14:07:30.538 25714-25714/abc.def.ghi D/tile_animations: TileAnimation{localGID=43, tileFrames=[TileFrame{tileId=42, duration=500}, TileFrame{tileId=43, duration=500}]}\n(...)\n</code></pre>\n<p>Here is the key code (if I cut off too much code I will attach more, I just wanted to simplify things):</p>\n<p>TmxHandler.java</p>\n<pre><code>@Override\npublic void startElement(String namespaceURI, String localName, String qName, Attributes atts) throws SAXException {\n    if (localName.equals(&quot;animation&quot;)) {\n        tileFrames.clear();\n\n    } else if (localName.equals(&quot;frame&quot;)) {\n        tileFrames.add(new TileFrame(Long.parseLong(atts.getValue(&quot;tileid&quot;)), Long.parseLong(atts.getValue(&quot;duration&quot;))));\n\n    }\n}\n\n@Override\npublic void endElement(String namespaceURI, String localName, String qName) {\n     if (localName.equals(&quot;animation&quot;)) {\n        currentTileSet.tileAnimations.add(new TileAnimation(Long.parseLong(currentTileID), tileFrames));\n\n\n    } else if (localName.equals(&quot;frame&quot;)) {\n\n    } \n}\n</code></pre>\n<p>TileAnimation.java</p>\n<pre><code>public class TileAnimation {\n\nprivate long localGID;\nprivate List&lt;TileFrame&gt; tileFrames;\n\npublic long getLocalGID() {\n    return localGID;\n}\n\npublic void setLocalGID(long localGID) {\n    this.localGID = localGID;\n}\n\npublic List&lt;TileFrame&gt; getTileFrames() {\n    return tileFrames;\n}\n\npublic void setTileFrames(List&lt;TileFrame&gt; tileFrames) {\n    this.tileFrames = tileFrames;\n}\n\npublic TileAnimation(long localGID, List&lt;TileFrame&gt; tileFrames) {\n    this.localGID = localGID;\n    this.tileFrames = tileFrames;\n}\n\n@Override\npublic String toString() {\n    return &quot;TileAnimation{&quot; +\n            &quot;localGID=&quot; + localGID +\n            &quot;, tileFrames=&quot; + tileFrames +\n            '}';\n}\n</code></pre>\n<p>}</p>\n<p>And here is my xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;map version=&quot;1.10&quot; tiledversion=&quot;1.10.0&quot; orientation=&quot;orthogonal&quot; renderorder=&quot;right-down&quot; width=&quot;8&quot; height=&quot;12&quot; tilewidth=&quot;32&quot; tileheight=&quot;32&quot; infinite=&quot;0&quot; nextlayerid=&quot;11&quot; nextobjectid=&quot;1&quot;&gt;\n &lt;tileset firstgid=&quot;1&quot; name=&quot;RPG Nature Tileset&quot; tilewidth=&quot;32&quot; tileheight=&quot;32&quot; tilecount=&quot;180&quot; columns=&quot;20&quot;&gt;\n  &lt;image source=&quot;NatureTileset.png&quot; width=&quot;641&quot; height=&quot;288&quot;/&gt;\n  &lt;tile id=&quot;21&quot;&gt;\n   &lt;animation&gt;\n    &lt;frame tileid=&quot;21&quot; duration=&quot;1000&quot;/&gt;\n    &lt;frame tileid=&quot;1&quot; duration=&quot;1000&quot;/&gt;\n    &lt;frame tileid=&quot;20&quot; duration=&quot;1000&quot;/&gt;\n   &lt;/animation&gt;\n  &lt;/tile&gt;\n  &lt;tile id=&quot;22&quot;&gt;\n   &lt;animation&gt;\n    &lt;frame tileid=&quot;22&quot; duration=&quot;100&quot;/&gt;\n    &lt;frame tileid=&quot;2&quot; duration=&quot;100&quot;/&gt;\n   &lt;/animation&gt;\n  &lt;/tile&gt;\n  &lt;tile id=&quot;43&quot;&gt;\n   &lt;animation&gt;\n    &lt;frame tileid=&quot;42&quot; duration=&quot;500&quot;/&gt;\n    &lt;frame tileid=&quot;43&quot; duration=&quot;500&quot;/&gt;\n   &lt;/animation&gt;\n  &lt;/tile&gt;\n &lt;/tileset&gt;\n &lt;tileset firstgid=&quot;181&quot; name=&quot;32x32_map_tile v3.1 [MARGINLESS]&quot; tilewidth=&quot;32&quot; tileheight=&quot;32&quot; tilecount=&quot;667&quot; columns=&quot;23&quot;&gt;\n  &lt;image source=&quot;32x32_map_tile v3.1 [MARGINLESS].png&quot; width=&quot;736&quot; height=&quot;928&quot;/&gt;\n &lt;/tileset&gt;\n &lt;layer id=&quot;1&quot; name=&quot;grass&quot; width=&quot;8&quot; height=&quot;12&quot;&gt;\n  &lt;data encoding=&quot;csv&quot;&gt;\n41,41,41,41,41,41,41,41,\n41,41,41,41,41,41,41,41,\n41,41,41,41,41,41,41,41,\n41,41,41,41,41,41,41,41,\n41,41,142,142,142,142,41,41,\n41,41,142,41,142,41,41,41,\n41,41,41,142,142,41,41,41,\n41,41,41,41,41,41,41,41,\n41,41,41,41,41,41,41,41,\n41,41,41,41,41,41,41,41,\n41,41,41,41,41,41,41,41,\n41,41,41,41,41,41,41,41\n&lt;/data&gt;\n &lt;/layer&gt;\n &lt;layer id=&quot;9&quot; name=&quot;anim1&quot; width=&quot;8&quot; height=&quot;12&quot;&gt;\n  &lt;data encoding=&quot;csv&quot;&gt;\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,23,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,44,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0\n&lt;/data&gt;\n &lt;/layer&gt;\n &lt;layer id=&quot;10&quot; name=&quot;anim2&quot; width=&quot;8&quot; height=&quot;12&quot;&gt;\n  &lt;data encoding=&quot;csv&quot;&gt;\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,22,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0\n&lt;/data&gt;\n &lt;/layer&gt;\n&lt;/map&gt;\n</code></pre>\n<p>If you need something more just ask.</p>\n"},{"tags":["java","android","menu","android-toolbar","menuitem"],"comments":[{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1620139900,"post_id":67386269,"comment_id":119109375,"body_markdown":"&lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;","body":"&lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;"},{"owner":{"account_id":9011142,"reputation":1135,"user_id":6715678,"display_name":"mufazmi"},"score":0,"creation_date":1620140097,"post_id":67386269,"comment_id":119109470,"body_markdown":"@javdromero Before posting the question, I had changed the value of `colorOnPrimary` to a different one to debug the issue. But the issue is same..","body":"@javdromero Before posting the question, I had changed the value of <code>colorOnPrimary</code> to a different one to debug the issue. But the issue is same.."},{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1620140533,"post_id":67386269,"comment_id":119109698,"body_markdown":"What about the color on the edittexts and the search bar? Is is white also?","body":"What about the color on the edittexts and the search bar? Is is white also?"},{"owner":{"account_id":9011142,"reputation":1135,"user_id":6715678,"display_name":"mufazmi"},"score":0,"creation_date":1620140776,"post_id":67386269,"comment_id":119109827,"body_markdown":"@javdromero The search box is not actually `EditText` it&#39;s a `TextView`, When user click on it, I am open another activity.\n\nThe EditText which is inside `BottomSheetDialog` is default which is black I think","body":"@javdromero The search box is not actually <code>EditText</code> it&#39;s a <code>TextView</code>, When user click on it, I am open another activity.  The EditText which is inside <code>BottomSheetDialog</code> is default which is black I think"},{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1620141738,"post_id":67386269,"comment_id":119110375,"body_markdown":"`DayNight.DarkActionBar` must be the problem, try to override the color with `&lt;item name=&quot;android:actionMenuTextColor&quot;&gt;@color/your_color&lt;/item&gt;` on your theme. Or refer to this [answer](https://stackoverflow.com/a/63279563/15298643)","body":"<code>DayNight.DarkActionBar</code> must be the problem, try to override the color with <code>&lt;item name=&quot;android:actionMenuTextColor&quot;&gt;@color&#47;your_color&lt;&#47;item&gt;</code> on your theme. Or refer to this <a href=\"https://stackoverflow.com/a/63279563/15298643\">answer</a>"}],"answers":[{"comments":[{"owner":{"account_id":9011142,"reputation":1135,"user_id":6715678,"display_name":"mufazmi"},"score":0,"creation_date":1620148746,"post_id":67387625,"comment_id":119113436,"body_markdown":"I have followed your answer, but the issue is same. see the result -&gt; https://youtu.be/hCuhSkSgzGg","body":"I have followed your answer, but the issue is same. see the result -&gt; <a href=\"https://youtu.be/hCuhSkSgzGg\" rel=\"nofollow noreferrer\">youtu.be/hCuhSkSgzGg</a>"},{"owner":{"account_id":14739593,"reputation":398,"user_id":10644548,"display_name":"Shams"},"score":0,"creation_date":1620149509,"post_id":67387625,"comment_id":119113759,"body_markdown":"Please change android:textColorPrimary from white to black","body":"Please change android:textColorPrimary from white to black"},{"owner":{"account_id":9011142,"reputation":1135,"user_id":6715678,"display_name":"mufazmi"},"score":0,"creation_date":1620184600,"post_id":67387625,"comment_id":119123177,"body_markdown":"Working but it&#39;s changed all the text color of toolbar like title and icon, etc.\nI only want to change the menuItemTextColor.","body":"Working but it&#39;s changed all the text color of toolbar like title and icon, etc. I only want to change the menuItemTextColor."}],"tags":[],"owner":{"account_id":14739593,"reputation":398,"user_id":10644548,"display_name":"Shams"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620149560,"creation_date":1620141763,"answer_id":67387625,"question_id":67386269,"body_markdown":"I also faced with same issue. In my case I used custom toolbar with style.\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/ToolbarStyle&quot; /&gt;\r\nToolbarStyle\r\n\r\n    &lt;style name=&quot;ToolbarStyle&quot; parent=&quot;AppTheme&quot;&gt;\r\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nSo I changed `android:textColorPrimary` in `ToolbarStyle` to black and now it works fine","title":"Menu Item&#39;s Tittle Not Showing","body":"<p>I also faced with same issue. In my case I used custom toolbar with style.</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:theme=&quot;@style/ToolbarStyle&quot; /&gt;\n</code></pre>\n<p>ToolbarStyle</p>\n<pre><code>&lt;style name=&quot;ToolbarStyle&quot; parent=&quot;AppTheme&quot;&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>So I changed <code>android:textColorPrimary</code> in <code>ToolbarStyle</code> to black and now it works fine</p>\n"},{"tags":[],"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1620243425,"creation_date":1620243425,"answer_id":67407725,"question_id":67386269,"body_markdown":"The issue is the text color in the popup menu.  \r\nAdd the `app:popupTheme` attribute in your `MaterialToolbar`.\r\n\r\n        &lt;com.google.android.material.appbar.MaterialToolbar\r\n            app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; \r\n            ../&gt;\r\n\r\nwith:\r\n\r\n    &lt;style name=&quot;AppTheme.PopupOverlay&quot; parent=&quot;ThemeOverlay.MaterialComponents.Toolbar.Primary&quot; &gt;\r\n        &lt;!-- text color --&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/...&lt;/item&gt;  \r\n    &lt;/style&gt;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k7cJk.png","title":"Menu Item&#39;s Tittle Not Showing","body":"<p>The issue is the text color in the popup menu.<br />\nAdd the <code>app:popupTheme</code> attribute in your <code>MaterialToolbar</code>.</p>\n<pre><code>    &lt;com.google.android.material.appbar.MaterialToolbar\n        app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; \n        ../&gt;\n</code></pre>\n<p>with:</p>\n<pre><code>&lt;style name=&quot;AppTheme.PopupOverlay&quot; parent=&quot;ThemeOverlay.MaterialComponents.Toolbar.Primary&quot; &gt;\n    &lt;!-- text color --&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/...&lt;/item&gt;  \n&lt;/style&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/k7cJk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k7cJk.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":24341626,"reputation":25,"user_id":18278944,"display_name":"Murat-Dayan"},"score":1,"creation_date":1681650229,"post_id":76027917,"comment_id":134087315,"body_markdown":"Make the color black","body":"Make the color black"}],"tags":[],"owner":{"account_id":24341626,"reputation":25,"user_id":18278944,"display_name":"Murat-Dayan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681650111,"creation_date":1681650111,"answer_id":76027917,"question_id":67386269,"body_markdown":"just add this code to your themes.xml and themes.xml(night) files\r\n\r\n```\r\n&lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n```","title":"Menu Item&#39;s Tittle Not Showing","body":"<p>just add this code to your themes.xml and themes.xml(night) files</p>\n<pre><code>&lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\n</code></pre>\n"}],"owner":{"account_id":9011142,"reputation":1135,"user_id":6715678,"display_name":"mufazmi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67407725,"answer_count":3,"score":4,"last_activity_date":1681650111,"creation_date":1620136662,"question_id":67386269,"body_markdown":"Menu item&#39;s title is not showing inside fragment. I have two items in menu file, The first one is with icon and tag `showAsAction=always` to show the icon in toolbar. The second one is only with tittle. \r\n\r\nI don&#39;t know what&#39;s going wrong here.\r\n\r\nAll actions with the menu items is working. E.g below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**menu_sale.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;item android:title=&quot;Scanner&quot;\r\n            android:id=&quot;@+id/miScanner&quot;\r\n            android:icon=&quot;@drawable/ic_baseline_qr_code_scanner&quot;\r\n            android:iconTint=&quot;@color/white&quot;\r\n            app:showAsAction=&quot;always&quot;\r\n            /&gt;\r\n    \r\n        &lt;item\r\n            android:title=&quot;Add Credit Record&quot;\r\n            android:id=&quot;@+id/miAddCreditRecord&quot;\r\n            /&gt;\r\n    \r\n    &lt;/menu&gt;\r\n\r\nThe item without `showAsAction=&#39;always&#39;` not showing the title in my app.\r\n\r\nMy java code to inflate the menu.\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull Menu menu, @NonNull MenuInflater inflater) {\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n        inflater.inflate(R.menu.menu_sale, menu);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        int id = item.getItemId();\r\n        switch (id) {\r\n            case R.id.miScanner:\r\n                scanCode();\r\n                break;\r\n            case R.id.miAddCreditRecord:\r\n                showBottomSheetDialog();\r\n                break;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\nMy theme `theme.xml`\r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n        &lt;!-- Base application theme. --&gt;\r\n        &lt;style name=&quot;Theme.AzmiUnaniStore&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n            &lt;!-- Primary brand color. --&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n            &lt;!-- Secondary brand color. --&gt;\r\n            &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n            &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n            &lt;!-- Status bar color. --&gt;\r\n            &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n        &lt;/style&gt;\r\n        \r\n        &lt;style name=&quot;NoActionBar&quot; parent=&quot;Theme.AzmiUnaniStore&quot;&gt;\r\n            &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;BottomSheetDialogTheme&quot; parent=&quot;Theme.Design.BottomSheetDialog&quot;&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;BottomSheetStyle&quot; parent=&quot;Widget.Design.BottomSheet.Modal&quot;&gt;\r\n            \r\n        &lt;/style&gt;\r\n        \r\n    &lt;/resources&gt;\r\n\r\nPOSSIBILITIES\r\n-------------\r\nThe tittle is showing perfectly but when the action menu colour is white and the background is also white that&#39;s is the I am not able to see the tittle.\r\n\r\nThanks\r\n\r\n  [1]: https://i.stack.imgur.com/zQgZ6.gif","title":"Menu Item&#39;s Tittle Not Showing","body":"<p>Menu item's title is not showing inside fragment. I have two items in menu file, The first one is with icon and tag <code>showAsAction=always</code> to show the icon in toolbar. The second one is only with tittle.</p>\n<p>I don't know what's going wrong here.</p>\n<p>All actions with the menu items is working. E.g below.</p>\n<p><a href=\"https://i.stack.imgur.com/zQgZ6.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zQgZ6.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>menu_sale.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item android:title=&quot;Scanner&quot;\n        android:id=&quot;@+id/miScanner&quot;\n        android:icon=&quot;@drawable/ic_baseline_qr_code_scanner&quot;\n        android:iconTint=&quot;@color/white&quot;\n        app:showAsAction=&quot;always&quot;\n        /&gt;\n\n    &lt;item\n        android:title=&quot;Add Credit Record&quot;\n        android:id=&quot;@+id/miAddCreditRecord&quot;\n        /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>The item without <code>showAsAction='always'</code> not showing the title in my app.</p>\n<p>My java code to inflate the menu.</p>\n<pre><code>@Override\npublic void onCreateOptionsMenu(@NonNull Menu menu, @NonNull MenuInflater inflater) {\n    super.onCreateOptionsMenu(menu, inflater);\n    inflater.inflate(R.menu.menu_sale, menu);\n}\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    int id = item.getItemId();\n    switch (id) {\n        case R.id.miScanner:\n            scanCode();\n            break;\n        case R.id.miAddCreditRecord:\n            showBottomSheetDialog();\n            break;\n    }\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n<p>My theme <code>theme.xml</code></p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.AzmiUnaniStore&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n    \n    &lt;style name=&quot;NoActionBar&quot; parent=&quot;Theme.AzmiUnaniStore&quot;&gt;\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;BottomSheetDialogTheme&quot; parent=&quot;Theme.Design.BottomSheetDialog&quot;&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;BottomSheetStyle&quot; parent=&quot;Widget.Design.BottomSheet.Modal&quot;&gt;\n        \n    &lt;/style&gt;\n    \n&lt;/resources&gt;\n</code></pre>\n<h2>POSSIBILITIES</h2>\n<p>The tittle is showing perfectly but when the action menu colour is white and the background is also white that's is the I am not able to see the tittle.</p>\n<p>Thanks</p>\n"},{"tags":["java","rest","error-handling","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1235782909,"creation_date":1235782909,"answer_id":597252,"question_id":583973,"body_markdown":"One obvious solution: take in a String, convert to Date yourself. That way you can define format you want, catch exceptions and either re-throw or customize error being sent.\r\nFor parsing, SimpleDateFormat should work fine.\r\n\r\nI am sure there are ways to hook handlers for data types too, but perhaps little bit of simple code is all you need in this case.\r\n","title":"JAX-RS / Jersey how to customize error handling?","body":"<p>One obvious solution: take in a String, convert to Date yourself. That way you can define format you want, catch exceptions and either re-throw or customize error being sent.\nFor parsing, SimpleDateFormat should work fine.</p>\n\n<p>I am sure there are ways to hook handlers for data types too, but perhaps little bit of simple code is all you need in this case.</p>\n"},{"comments":[{"owner":{"account_id":45002,"reputation":13531,"user_id":132374,"accept_rate":87,"display_name":"Jon Onstott"},"score":3,"creation_date":1264198321,"post_id":599131,"comment_id":2058256,"body_markdown":"In your example, the call to super() should be slightly different:\n\nsuper(Response.status(Status.UNAUTHORIZED).\n           entity(message).type(&quot;text/plain&quot;).build());\n\nThanks for the insight though.","body":"In your example, the call to super() should be slightly different:  super(Response.status(Status.UNAUTHORIZED).            entity(message).type(&quot;text/plain&quot;).build());  Thanks for the insight though."},{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":0,"creation_date":1264788246,"post_id":599131,"comment_id":2108423,"body_markdown":"I think that the method wouldn&#39;t be executed in his example.","body":"I think that the method wouldn&#39;t be executed in his example."},{"owner":{"account_id":6511,"reputation":4394,"user_id":10980,"accept_rate":60,"display_name":"Rejeev Divakaran"},"score":65,"creation_date":1275477557,"post_id":599131,"comment_id":3014775,"body_markdown":"In the scenario mentioned in the question, you will not get a chance to throw an exception, as Jersey will raise exception as it will not be able to create instance of Date object from the input value. Is there a way to intercept Jersey exception? There is one ExceptionMapper interface, however that also intercepts the exceptions thrown by the method (get in this case).","body":"In the scenario mentioned in the question, you will not get a chance to throw an exception, as Jersey will raise exception as it will not be able to create instance of Date object from the input value. Is there a way to intercept Jersey exception? There is one ExceptionMapper interface, however that also intercepts the exceptions thrown by the method (get in this case)."},{"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"score":7,"creation_date":1322127282,"post_id":599131,"comment_id":10157914,"body_markdown":"How do you avoid the exception to appear in your server logs if the 404 is a valid case and not an error (i.e. every time you query for a resource, just to see if it already exists, with your approach a stacktrace appears in the server logs).","body":"How do you avoid the exception to appear in your server logs if the 404 is a valid case and not an error (i.e. every time you query for a resource, just to see if it already exists, with your approach a stacktrace appears in the server logs)."},{"owner":{"account_id":243006,"reputation":11634,"user_id":514907,"accept_rate":86,"display_name":"Srikanth"},"score":0,"creation_date":1430333569,"post_id":599131,"comment_id":48025132,"body_markdown":"@RejeevDivakaran, Yes. See my answer on how to take control of that behavior.","body":"@RejeevDivakaran, Yes. See my answer on how to take control of that behavior."},{"owner":{"account_id":2836332,"reputation":2140,"user_id":2436878,"accept_rate":90,"display_name":"Bampfer"},"score":3,"creation_date":1438372941,"post_id":599131,"comment_id":51442144,"body_markdown":"Worth mentioning that Jersey 2.x defines exceptions for some of the commonest HTTP error codes. So instead of defining your own subclasses of WebApplication, you can use built-in ones like BadRequestException and NotAuthorizedException. Look at the subclasses of javax.ws.rs.ClientErrorException for example. Also note you can supply a details string to the constructors. For example:  throw new BadRequestException(&quot;Start date must precede end date&quot;);","body":"Worth mentioning that Jersey 2.x defines exceptions for some of the commonest HTTP error codes. So instead of defining your own subclasses of WebApplication, you can use built-in ones like BadRequestException and NotAuthorizedException. Look at the subclasses of javax.ws.rs.ClientErrorException for example. Also note you can supply a details string to the constructors. For example:  throw new BadRequestException(&quot;Start date must precede end date&quot;);"},{"owner":{"account_id":2323120,"reputation":10362,"user_id":2038257,"accept_rate":66,"display_name":"Marco Dinatsoli"},"score":0,"creation_date":1443013774,"post_id":599131,"comment_id":53321635,"body_markdown":"I would really appreciate if you can check my question on this link http://stackoverflow.com/questions/32699420/url-parameters-are-not-being-passed-by-curl-post","body":"I would really appreciate if you can check my question on this link <a href=\"http://stackoverflow.com/questions/32699420/url-parameters-are-not-being-passed-by-curl-post\" title=\"url parameters are not being passed by curl post\">stackoverflow.com/questions/32699420/&hellip;</a>"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":1,"creation_date":1445371464,"post_id":599131,"comment_id":54293913,"body_markdown":"you forgot to mention yet another approach: implementing the `ExceptionMapper` interface (which is a better approach then extending). See more here https://vvirlan.wordpress.com/2015/10/19/jax-rs-exceptionmapper-example-maven-jersey-glassfish/","body":"you forgot to mention yet another approach: implementing the <code>ExceptionMapper</code> interface (which is a better approach then extending). See more here <a href=\"https://vvirlan.wordpress.com/2015/10/19/jax-rs-exceptionmapper-example-maven-jersey-glassfish/\" rel=\"nofollow noreferrer\">vvirlan.wordpress.com/2015/10/19/&hellip;</a>"},{"owner":{"account_id":5725404,"reputation":2915,"user_id":4522512,"accept_rate":43,"display_name":"Shivkumar Mallesappa"},"score":0,"creation_date":1460217450,"post_id":599131,"comment_id":60643538,"body_markdown":"Will this work if I make the following changes.\n\n**@Produces(&quot;application/json&quot;).**\n\nI am new to jersey and REST API&#39;s.\nThanks","body":"Will this work if I make the following changes.  <b>@Produces(&quot;application/json&quot;).</b>  I am new to jersey and REST API&#39;s. Thanks"},{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":0,"creation_date":1488982683,"post_id":599131,"comment_id":72471995,"body_markdown":"@RejeevDivakaran: I have faced the same problem actually for primitive types in RESTEasy. It turned out that it is not trivial to change from `NotFoundException` to e.g. `BadRequestException`, so it seems that having `String` argument type and going the conversion manually is the easiest way. See also [CXF-4976](https://issues.apache.org/jira/browse/CXF-4976?focusedCommentId=13636833&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13636833).","body":"@RejeevDivakaran: I have faced the same problem actually for primitive types in RESTEasy. It turned out that it is not trivial to change from <code>NotFoundException</code> to e.g. <code>BadRequestException</code>, so it seems that having <code>String</code> argument type and going the conversion manually is the easiest way. See also <a href=\"https://issues.apache.org/jira/browse/CXF-4976?focusedCommentId=13636833&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13636833\" rel=\"nofollow noreferrer\">CXF-4976</a>."},{"owner":{"account_id":18624889,"reputation":1199,"user_id":13574233,"display_name":"baltermia"},"score":0,"creation_date":1632300121,"post_id":599131,"comment_id":122452061,"body_markdown":"Thank you very much. `WebApplicationException` was exactly what I was looking for.","body":"Thank you very much. <code>WebApplicationException</code> was exactly what I was looking for."}],"tags":[],"owner":{"account_id":24706,"reputation":3665,"user_id":63013,"display_name":"Steven Levine"},"comment_count":11,"down_vote_count":15,"up_vote_count":295,"is_accepted":true,"score":280,"last_activity_date":1582275451,"creation_date":1235875238,"answer_id":599131,"question_id":583973,"body_markdown":"There are several approaches to customize the error handling behavior with JAX-RS.  Here are three of the easier ways.\r\n\r\nThe first approach is to create an Exception class that extends WebApplicationException.\r\n\r\nExample:\r\n\r\n    public class NotAuthorizedException extends WebApplicationException {\r\n         public NotAuthorizedException(String message) {\r\n             super(Response.status(Response.Status.UNAUTHORIZED)\r\n                 .entity(message).type(MediaType.TEXT_PLAIN).build());\r\n         }\r\n    }\r\n\r\nAnd to throw this newly create Exception you simply:\r\n\r\n    @Path(&quot;accounts/{accountId}/&quot;)\r\n        public Item getItem(@PathParam(&quot;accountId&quot;) String accountId) {\r\n           // An unauthorized user tries to enter\r\n           throw new NotAuthorizedException(&quot;You Don&#39;t Have Permission&quot;);\r\n    }\r\n\r\nNotice, you don&#39;t need to declare the exception in a throws clause because WebApplicationException is a runtime Exception.  This will return a 401 response to the client.\r\n\r\nThe second and easier approach is to simply construct an instance of the  `WebApplicationException` directly in your code.  This approach works as long as you don&#39;t have to implement your own application Exceptions.  \r\n\r\nExample:\r\n\r\n    @Path(&quot;accounts/{accountId}/&quot;)\r\n    public Item getItem(@PathParam(&quot;accountId&quot;) String accountId) {\r\n       // An unauthorized user tries to enter\r\n       throw new WebApplicationException(Response.Status.UNAUTHORIZED);\r\n    }\r\n\r\nThis code too returns a 401 to the client.\r\n\r\nOf course, this is just a simple example.  You can make the Exception much more complex if necessary, and you can generate what ever http response code you need to.  \r\n\r\nOne other approach is to wrap an existing Exception, perhaps an `ObjectNotFoundException` with an small wrapper class that implements the `ExceptionMapper` interface annotated with a `@Provider` annotation.  This tells the JAX-RS runtime, that if the wrapped Exception is raised, return the response code defined in the `ExceptionMapper`.  \r\n \r\n","title":"JAX-RS / Jersey how to customize error handling?","body":"<p>There are several approaches to customize the error handling behavior with JAX-RS.  Here are three of the easier ways.</p>\n\n<p>The first approach is to create an Exception class that extends WebApplicationException.</p>\n\n<p>Example:</p>\n\n<pre><code>public class NotAuthorizedException extends WebApplicationException {\n     public NotAuthorizedException(String message) {\n         super(Response.status(Response.Status.UNAUTHORIZED)\n             .entity(message).type(MediaType.TEXT_PLAIN).build());\n     }\n}\n</code></pre>\n\n<p>And to throw this newly create Exception you simply:</p>\n\n<pre><code>@Path(\"accounts/{accountId}/\")\n    public Item getItem(@PathParam(\"accountId\") String accountId) {\n       // An unauthorized user tries to enter\n       throw new NotAuthorizedException(\"You Don't Have Permission\");\n}\n</code></pre>\n\n<p>Notice, you don't need to declare the exception in a throws clause because WebApplicationException is a runtime Exception.  This will return a 401 response to the client.</p>\n\n<p>The second and easier approach is to simply construct an instance of the  <code>WebApplicationException</code> directly in your code.  This approach works as long as you don't have to implement your own application Exceptions.  </p>\n\n<p>Example:</p>\n\n<pre><code>@Path(\"accounts/{accountId}/\")\npublic Item getItem(@PathParam(\"accountId\") String accountId) {\n   // An unauthorized user tries to enter\n   throw new WebApplicationException(Response.Status.UNAUTHORIZED);\n}\n</code></pre>\n\n<p>This code too returns a 401 to the client.</p>\n\n<p>Of course, this is just a simple example.  You can make the Exception much more complex if necessary, and you can generate what ever http response code you need to.  </p>\n\n<p>One other approach is to wrap an existing Exception, perhaps an <code>ObjectNotFoundException</code> with an small wrapper class that implements the <code>ExceptionMapper</code> interface annotated with a <code>@Provider</code> annotation.  This tells the JAX-RS runtime, that if the wrapped Exception is raised, return the response code defined in the <code>ExceptionMapper</code>.  </p>\n"},{"tags":[],"owner":{"account_id":15437,"reputation":2139,"user_id":32595,"display_name":"dshaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1466036065,"creation_date":1238087460,"answer_id":686720,"question_id":583973,"body_markdown":"I too like [StaxMan][1] would probably implement that QueryParam as a String, then handle the conversion, rethrowing as necessary.\r\n\r\nIf the locale specific behavior is the desired and expected behavior, you would use the following to return the 400 BAD REQUEST error:\r\n\r\n`throw new WebApplicationException(Response.Status.BAD_REQUEST);`\r\n\r\nSee the JavaDoc for [javax.ws.rs.core.Response.Status][2] for more options.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/583973/jax-rs-jersey-how-to-customize-error-handling/597252#597252\r\n  [2]: http://www.jboss.org/file-access/default/members/resteasy/freezone/docs/1.0.0.GA/javadocs/javax/ws/rs/core/Response.Status.html","title":"JAX-RS / Jersey how to customize error handling?","body":"<p>I too like <a href=\"https://stackoverflow.com/questions/583973/jax-rs-jersey-how-to-customize-error-handling/597252#597252\">StaxMan</a> would probably implement that QueryParam as a String, then handle the conversion, rethrowing as necessary.</p>\n\n<p>If the locale specific behavior is the desired and expected behavior, you would use the following to return the 400 BAD REQUEST error:</p>\n\n<p><code>throw new WebApplicationException(Response.Status.BAD_REQUEST);</code></p>\n\n<p>See the JavaDoc for <a href=\"http://www.jboss.org/file-access/default/members/resteasy/freezone/docs/1.0.0.GA/javadocs/javax/ws/rs/core/Response.Status.html\" rel=\"nofollow noreferrer\">javax.ws.rs.core.Response.Status</a> for more options.</p>\n"},{"comments":[{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1341538525,"post_id":1332506,"comment_id":14955615,"body_markdown":"I am trying to add a custom query param handler in Jersey (migrating from CXF) this looks remarkably similar to what I am doing but I don&#39;t know how to install/create a new provider. Your above class doesn&#39;t show me this. I am using JodaTime DateTime objects for QueryParam and don&#39;t have a provider to decode them.\n\nIs it just as easy as subclassing it, giving it a String constructor and handling that?","body":"I am trying to add a custom query param handler in Jersey (migrating from CXF) this looks remarkably similar to what I am doing but I don&#39;t know how to install/create a new provider. Your above class doesn&#39;t show me this. I am using JodaTime DateTime objects for QueryParam and don&#39;t have a provider to decode them.  Is it just as easy as subclassing it, giving it a String constructor and handling that?"},{"owner":{"account_id":54566,"reputation":504,"user_id":163267,"display_name":"Charlie Brooking"},"score":1,"creation_date":1341556268,"post_id":1332506,"comment_id":14959081,"body_markdown":"Just create a class like the `DateParam` one above that wraps a `org.joda.time.DateTime` instead of `java.util.Calendar`. You use that with `@QueryParam` rather than `DateTime` itself.","body":"Just create a class like the <code>DateParam</code> one above that wraps a <code>org.joda.time.DateTime</code> instead of <code>java.util.Calendar</code>. You use that with <code>@QueryParam</code> rather than <code>DateTime</code> itself."},{"owner":{"account_id":243006,"reputation":11634,"user_id":514907,"accept_rate":86,"display_name":"Srikanth"},"score":1,"creation_date":1430331958,"post_id":1332506,"comment_id":48024136,"body_markdown":"If you are using Joda DateTime, jersey comes with DateTimeParam for you to use directly. No need to write your own. See https://github.com/dropwizard/dropwizard/blob/master/dropwizard-jersey/src/main/java/io/dropwizard/jersey/params/DateTimeParam.java","body":"If you are using Joda DateTime, jersey comes with DateTimeParam for you to use directly. No need to write your own. See <a href=\"https://github.com/dropwizard/dropwizard/blob/master/dropwizard-jersey/src/main/java/io/dropwizard/jersey/params/DateTimeParam.java\" rel=\"nofollow noreferrer\">github.com/dropwizard/dropwizard/blob/master/dropwizard-jers&zwnj;&#8203;ey/&hellip;</a>"},{"owner":{"account_id":2041209,"reputation":1043,"user_id":1822346,"accept_rate":71,"display_name":"j_walker_dev"},"score":0,"creation_date":1440485636,"post_id":1332506,"comment_id":52279405,"body_markdown":"I am going to add this because its super useful, but only if you are using Jackson with Jersey. Jackson 2.x has a `JodaModule` that can be registered with the `ObjectMapper` `registerModules` method. It can handle all of the joda type conversions. `com.fasterxml.jackson.datatype.joda.JodaModule`","body":"I am going to add this because its super useful, but only if you are using Jackson with Jersey. Jackson 2.x has a <code>JodaModule</code> that can be registered with the <code>ObjectMapper</code> <code>registerModules</code> method. It can handle all of the joda type conversions. <code>com.fasterxml.jackson.datatype.joda.JodaModule</code>"}],"tags":[],"owner":{"account_id":54566,"reputation":504,"user_id":163267,"display_name":"Charlie Brooking"},"comment_count":4,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1313497823,"creation_date":1251264418,"answer_id":1332506,"question_id":583973,"body_markdown":"You could also write a reusable class for QueryParam-annotated variables\r\n\r\n    public class DateParam {\r\n      private SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\r\n      private Calendar date;\r\n\r\n      public DateParam(String in) throws WebApplicationException {\r\n        try {\r\n          date = Calendar.getInstance();\r\n          date.setTime(format.parse(in));\r\n        }\r\n        catch (ParseException exception) {\r\n          throw new WebApplicationException(400);\r\n        }\r\n      }\r\n      public Calendar getDate() {\r\n        return date;\r\n      }\r\n      public String format() {\r\n        return format.format(value.getTime());\r\n      }\r\n    }\r\n\r\nthen use it like this:\r\n\r\n    private @QueryParam(&quot;from&quot;) DateParam startDateParam;\r\n    private @QueryParam(&quot;to&quot;) DateParam endDateParam;\r\n    // ...\r\n    startDateParam.getDate();\r\n\r\nAlthough the error handling is trivial in this case (throwing a 400 response), using this class allows you to factor-out parameter handling in general which might include logging etc.","title":"JAX-RS / Jersey how to customize error handling?","body":"<p>You could also write a reusable class for QueryParam-annotated variables</p>\n\n<pre><code>public class DateParam {\n  private SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd\");\n\n  private Calendar date;\n\n  public DateParam(String in) throws WebApplicationException {\n    try {\n      date = Calendar.getInstance();\n      date.setTime(format.parse(in));\n    }\n    catch (ParseException exception) {\n      throw new WebApplicationException(400);\n    }\n  }\n  public Calendar getDate() {\n    return date;\n  }\n  public String format() {\n    return format.format(value.getTime());\n  }\n}\n</code></pre>\n\n<p>then use it like this:</p>\n\n<pre><code>private @QueryParam(\"from\") DateParam startDateParam;\nprivate @QueryParam(\"to\") DateParam endDateParam;\n// ...\nstartDateParam.getDate();\n</code></pre>\n\n<p>Although the error handling is trivial in this case (throwing a 400 response), using this class allows you to factor-out parameter handling in general which might include logging etc.</p>\n"},{"comments":[{"owner":{"account_id":2375051,"reputation":7605,"user_id":2078672,"accept_rate":20,"display_name":"Saurabh"},"score":0,"creation_date":1445853819,"post_id":5960659,"comment_id":54481513,"body_markdown":"You can use implements ExceptionMapper&lt;Exception&gt; as well for generic exceptions","body":"You can use implements ExceptionMapper&lt;Exception&gt; as well for generic exceptions"},{"owner":{"account_id":174874,"reputation":1481,"user_id":404501,"display_name":"Markus Kull"},"score":1,"creation_date":1472113916,"post_id":5960659,"comment_id":65625032,"body_markdown":"This would handle WebApplicationExceptions thrown by JAX-RS Client too, hiding the error origin. Better have a custom Exception (not derived from WebApplicationException) or throw WebApplications with complete Response. \nWebApplicationExceptions thrown by JAX-RS Client should be handled directly at the call, else the response of another service is passed through as response of your service although it is an unhandled internal server error.","body":"This would handle WebApplicationExceptions thrown by JAX-RS Client too, hiding the error origin. Better have a custom Exception (not derived from WebApplicationException) or throw WebApplications with complete Response.  WebApplicationExceptions thrown by JAX-RS Client should be handled directly at the call, else the response of another service is passed through as response of your service although it is an unhandled internal server error."}],"tags":[],"owner":{"account_id":138786,"reputation":1018,"user_id":343948,"accept_rate":50,"display_name":"Arnav"},"comment_count":2,"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1354034516,"creation_date":1305098646,"answer_id":5960659,"question_id":583973,"body_markdown":"    @Provider\r\n    public class BadURIExceptionMapper implements ExceptionMapper&lt;NotFoundException&gt; {\r\n\r\n\tpublic Response toResponse(NotFoundException exception){\r\n\t\t\r\n\t\treturn Response.status(Response.Status.NOT_FOUND).\r\n\t\tentity(new ErrorResponse(exception.getClass().toString(),\r\n\t\t\t\t\texception.getMessage()) ).\r\n\t\tbuild();\r\n\t}\r\n    }\r\n\r\nCreate above class. This will handle 404 (NotFoundException) and here in toResponse method you can give your custom response. Similarly there are ParamException etc. which you would need to map to provide customized responses.","title":"JAX-RS / Jersey how to customize error handling?","body":"<pre><code>@Provider\npublic class BadURIExceptionMapper implements ExceptionMapper&lt;NotFoundException&gt; {\n\npublic Response toResponse(NotFoundException exception){\n\n    return Response.status(Response.Status.NOT_FOUND).\n    entity(new ErrorResponse(exception.getClass().toString(),\n                exception.getMessage()) ).\n    build();\n}\n}\n</code></pre>\n\n<p>Create above class. This will handle 404 (NotFoundException) and here in toResponse method you can give your custom response. Similarly there are ParamException etc. which you would need to map to provide customized responses.</p>\n"},{"comments":[{"owner":{"account_id":334934,"reputation":929,"user_id":661708,"display_name":"Patricio"},"score":0,"creation_date":1369936538,"post_id":8295777,"comment_id":24287160,"body_markdown":"where should I create this mapper specifically for Jersey to register it?","body":"where should I create this mapper specifically for Jersey to register it?"},{"owner":{"account_id":18955,"reputation":2803,"user_id":43935,"display_name":"Jan Kronquist"},"score":1,"creation_date":1370431157,"post_id":8295777,"comment_id":24454576,"body_markdown":"All you have to do is to add the @Provider annotation, see here for more details: http://stackoverflow.com/questions/15185299/jax-rs-jersey-exceptionmappers-user-defined-exception","body":"All you have to do is to add the @Provider annotation, see here for more details: <a href=\"http://stackoverflow.com/questions/15185299/jax-rs-jersey-exceptionmappers-user-defined-exception\" title=\"jax rs jersey exceptionmappers user defined exception\">stackoverflow.com/questions/15185299/&hellip;</a>"}],"tags":[],"owner":{"account_id":18955,"reputation":2803,"user_id":43935,"display_name":"Jan Kronquist"},"comment_count":2,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1466035674,"creation_date":1322483157,"answer_id":8295777,"question_id":583973,"body_markdown":"Jersey throws an com.sun.jersey.api.ParamException when it fails to unmarshall the parameters so one solution is to create an ExceptionMapper that handles these types of exceptions:\r\n\r\n\r\n    @Provider\r\n    public class ParamExceptionMapper implements ExceptionMapper&lt;ParamException&gt; {\r\n        @Override\r\n        public Response toResponse(ParamException exception) {\r\n            return Response.status(Status.BAD_REQUEST).entity(exception.getParameterName() + &quot; incorrect type&quot;).build();\r\n        }\r\n    }\r\n","title":"JAX-RS / Jersey how to customize error handling?","body":"<p>Jersey throws an com.sun.jersey.api.ParamException when it fails to unmarshall the parameters so one solution is to create an ExceptionMapper that handles these types of exceptions:</p>\n\n<pre><code>@Provider\npublic class ParamExceptionMapper implements ExceptionMapper&lt;ParamException&gt; {\n    @Override\n    public Response toResponse(ParamException exception) {\n        return Response.status(Status.BAD_REQUEST).entity(exception.getParameterName() + \" incorrect type\").build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243006,"reputation":11634,"user_id":514907,"accept_rate":86,"display_name":"Srikanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1430376105,"creation_date":1430332608,"answer_id":29951866,"question_id":583973,"body_markdown":"@QueryParam documentation says\r\n\r\n&gt; &quot;  The type T of the annotated parameter, field or property must\r\n&gt; either: \r\n&gt; \r\n&gt; 1) Be a primitive type  \r\n2) Have a constructor that accepts a single\r\n&gt; String argument  \r\n3) Have a static method named valueOf or fromString\r\n&gt; that accepts a single String argument (see, for example,\r\n&gt; Integer.valueOf(String))  \r\n4) Have a registered implementation of\r\n&gt; javax.ws.rs.ext.ParamConverterProvider JAX-RS extension SPI that\r\n&gt; returns a javax.ws.rs.ext.ParamConverter instance capable of a &quot;from\r\n&gt; string&quot; conversion for the type.  \r\n5) Be List&lt;T&gt;, Set&lt;T&gt; or\r\n&gt; SortedSet&lt;T&gt;, where T satisfies 2, 3 or 4 above. The resulting\r\n&gt; collection is read-only.  &quot;\r\n\r\nIf you want to control what response goes to user when query parameter in String form can&#39;t be converted to your type T, you can throw WebApplicationException. Dropwizard comes with following *Param classes you can use for your needs.\r\n\r\nBooleanParam, DateTimeParam, IntParam, LongParam, LocalDateParam, NonEmptyStringParam, UUIDParam. See https://github.com/dropwizard/dropwizard/tree/master/dropwizard-jersey/src/main/java/io/dropwizard/jersey/params\r\n\r\nIf you need Joda DateTime, just use Dropwizard [DateTimeParam][1]. \r\n\r\nIf the above list does not suit your needs, define your own by extending AbstractParam. Override parse method. If you need control over error response body, override error method.\r\n\r\nGood article from Coda Hale on this is at http://codahale.com/what-makes-jersey-interesting-parameter-classes/\r\n\r\n    import io.dropwizard.jersey.params.AbstractParam;\r\n    \r\n    import java.util.Date;\r\n    \r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.core.Response.Status;\r\n    \r\n    public class DateParam extends AbstractParam&lt;Date&gt; {\r\n    \r\n        public DateParam(String input) {\r\n            super(input);\r\n        }\r\n    \r\n        @Override\r\n        protected Date parse(String input) throws Exception {\r\n            return new Date(input);\r\n        }\r\n    \r\n        @Override\r\n        protected Response error(String input, Exception e) {\r\n            // customize response body if you like here by specifying entity\r\n            return Response.status(Status.BAD_REQUEST).build();\r\n        }\r\n    }\r\n\r\nDate(String arg) constructor is deprecated. I would use Java 8 date classes if you are on Java 8. Otherwise joda date time is recommended.\r\n\r\n  [1]: https://github.com/dropwizard/dropwizard/blob/master/dropwizard-jersey/src/main/java/io/dropwizard/jersey/params/DateTimeParam.java","title":"JAX-RS / Jersey how to customize error handling?","body":"<p>@QueryParam documentation says</p>\n\n<blockquote>\n  <p>\"  The type T of the annotated parameter, field or property must\n  either: </p>\n  \n  <p>1) Be a primitive type<br>\n  2) Have a constructor that accepts a single\n  String argument<br>\n  3) Have a static method named valueOf or fromString\n  that accepts a single String argument (see, for example,\n  Integer.valueOf(String))<br>\n  4) Have a registered implementation of\n  javax.ws.rs.ext.ParamConverterProvider JAX-RS extension SPI that\n  returns a javax.ws.rs.ext.ParamConverter instance capable of a \"from\n  string\" conversion for the type.<br>\n  5) Be List, Set or\n  SortedSet, where T satisfies 2, 3 or 4 above. The resulting\n  collection is read-only.  \"</p>\n</blockquote>\n\n<p>If you want to control what response goes to user when query parameter in String form can't be converted to your type T, you can throw WebApplicationException. Dropwizard comes with following *Param classes you can use for your needs.</p>\n\n<p>BooleanParam, DateTimeParam, IntParam, LongParam, LocalDateParam, NonEmptyStringParam, UUIDParam. See <a href=\"https://github.com/dropwizard/dropwizard/tree/master/dropwizard-jersey/src/main/java/io/dropwizard/jersey/params\" rel=\"noreferrer\">https://github.com/dropwizard/dropwizard/tree/master/dropwizard-jersey/src/main/java/io/dropwizard/jersey/params</a></p>\n\n<p>If you need Joda DateTime, just use Dropwizard <a href=\"https://github.com/dropwizard/dropwizard/blob/master/dropwizard-jersey/src/main/java/io/dropwizard/jersey/params/DateTimeParam.java\" rel=\"noreferrer\">DateTimeParam</a>. </p>\n\n<p>If the above list does not suit your needs, define your own by extending AbstractParam. Override parse method. If you need control over error response body, override error method.</p>\n\n<p>Good article from Coda Hale on this is at <a href=\"http://codahale.com/what-makes-jersey-interesting-parameter-classes/\" rel=\"noreferrer\">http://codahale.com/what-makes-jersey-interesting-parameter-classes/</a></p>\n\n<pre><code>import io.dropwizard.jersey.params.AbstractParam;\n\nimport java.util.Date;\n\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.Status;\n\npublic class DateParam extends AbstractParam&lt;Date&gt; {\n\n    public DateParam(String input) {\n        super(input);\n    }\n\n    @Override\n    protected Date parse(String input) throws Exception {\n        return new Date(input);\n    }\n\n    @Override\n    protected Response error(String input, Exception e) {\n        // customize response body if you like here by specifying entity\n        return Response.status(Status.BAD_REQUEST).build();\n    }\n}\n</code></pre>\n\n<p>Date(String arg) constructor is deprecated. I would use Java 8 date classes if you are on Java 8. Otherwise joda date time is recommended.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681649690,"creation_date":1445371707,"answer_id":33245911,"question_id":583973,"body_markdown":"This is the correct behavior actually. Jersey will try to find a handler for your input and will try to construct an object from the provided input. In this case it will try to create a new `Date` object with the value `X` provided to the constructor. Since this is an invalid date, by convention Jersey will return `404`. \r\n\r\nWhat you can do is rewrite and put `birthDate` as a `String`, then try to parse and if you don&#39;t get what you want, you&#39;re free to throw any exception you want by any of the exception mapping mechanisms (there are several).","title":"JAX-RS / Jersey how to customize error handling?","body":"<p>This is the correct behavior actually. Jersey will try to find a handler for your input and will try to construct an object from the provided input. In this case it will try to create a new <code>Date</code> object with the value <code>X</code> provided to the constructor. Since this is an invalid date, by convention Jersey will return <code>404</code>.</p>\n<p>What you can do is rewrite and put <code>birthDate</code> as a <code>String</code>, then try to parse and if you don't get what you want, you're free to throw any exception you want by any of the exception mapping mechanisms (there are several).</p>\n"},{"tags":[],"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556197820,"creation_date":1556197820,"answer_id":55850091,"question_id":583973,"body_markdown":"Just as an extension to @Steven Lavine answer in case you want to open the browser login window. I found it hard to properly return the Response ([MDN HTTP Authentication][1]) from the Filter in case that the user wasn&#39;t authenticated yet\r\n\r\nThis helped me to build the Response to force browser login, note the additional modification of the headers. This will set the status code to 401 and set the header that causes the browser to open the username/password dialog.\r\n```\r\n// The extended Exception class\r\npublic class NotLoggedInException extends WebApplicationException {\r\n  public NotLoggedInException(String message) {\r\n    super(Response.status(Response.Status.UNAUTHORIZED)\r\n      .entity(message)\r\n      .type(MediaType.TEXT_PLAIN)\r\n      .header(&quot;WWW-Authenticate&quot;, &quot;Basic realm=SecuredApp&quot;).build()); \r\n  }\r\n}\r\n\r\n// Usage in the Filter\r\nif(headers.get(&quot;Authorization&quot;) == null) { throw new NotLoggedInException(&quot;Not logged in&quot;); }\r\n```\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication","title":"JAX-RS / Jersey how to customize error handling?","body":"<p>Just as an extension to @Steven Lavine answer in case you want to open the browser login window. I found it hard to properly return the Response (<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication\" rel=\"nofollow noreferrer\">MDN HTTP Authentication</a>) from the Filter in case that the user wasn't authenticated yet</p>\n\n<p>This helped me to build the Response to force browser login, note the additional modification of the headers. This will set the status code to 401 and set the header that causes the browser to open the username/password dialog.</p>\n\n<pre><code>// The extended Exception class\npublic class NotLoggedInException extends WebApplicationException {\n  public NotLoggedInException(String message) {\n    super(Response.status(Response.Status.UNAUTHORIZED)\n      .entity(message)\n      .type(MediaType.TEXT_PLAIN)\n      .header(\"WWW-Authenticate\", \"Basic realm=SecuredApp\").build()); \n  }\n}\n\n// Usage in the Filter\nif(headers.get(\"Authorization\") == null) { throw new NotLoggedInException(\"Not logged in\"); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2631434,"reputation":437,"user_id":2277289,"display_name":"suraj.tripathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570536393,"creation_date":1570536393,"answer_id":58286031,"question_id":583973,"body_markdown":"I was facing the same issue.\r\n\r\nI wanted to catch all the errors at a central place and transform them.\r\n\r\nFollowing is the code for how I handled it.\r\n\r\nCreate the following class which implements `ExceptionMapper` and add `@Provider` annotation on this class. This will handle all the exceptions.\r\n\r\nOverride `toResponse` method and return the Response object populated with customised data.\r\n\r\n    //ExceptionMapperProvider.java\r\n    /**\r\n     * exception thrown by restful endpoints will be caught and transformed here\r\n     * so that client gets a proper error message\r\n     */\r\n    @Provider\r\n    public class ExceptionMapperProvider implements ExceptionMapper&lt;Throwable&gt; {\r\n        private final ErrorTransformer errorTransformer = new ErrorTransformer();\r\n    \r\n        public ExceptionMapperProvider() {\r\n            \r\n        }\r\n    \r\n        @Override\r\n        public Response toResponse(Throwable throwable) {\r\n            //transforming the error using the custom logic of ErrorTransformer \r\n            final ServiceError errorResponse = errorTransformer.getErrorResponse(throwable);\r\n            final ResponseBuilder responseBuilder = Response.status(errorResponse.getStatus());\r\n            \r\n            if (errorResponse.getBody().isPresent()) {\r\n                responseBuilder.type(MediaType.APPLICATION_JSON_TYPE);\r\n                responseBuilder.entity(errorResponse.getBody().get());\r\n            }\r\n    \r\n            for (Map.Entry&lt;String, String&gt; header : errorResponse.getHeaders().entrySet()) {\r\n                responseBuilder.header(header.getKey(), header.getValue());\r\n            }\r\n    \r\n            return responseBuilder.build();\r\n        }\r\n    }\r\n\r\n    // ErrorTransformer.java\r\n    /**\r\n     * Error transformation logic\r\n     */\r\n    public class ErrorTransformer {\r\n        public ServiceError getErrorResponse(Throwable throwable) {\r\n            ServiceError serviceError = new ServiceError();\r\n            //add you logic here\r\n            serviceError.setStatus(getStatus(throwable));\r\n            serviceError.setBody(getBody(throwable));\r\n            serviceError.setHeaders(getHeaders(throwable));\r\n\r\n        }\r\n        private String getStatus(Throwable throwable) {\r\n            //your logic\r\n        }\r\n        private Optional&lt;String&gt; getBody(Throwable throwable) {\r\n            //your logic\r\n        }\r\n        private Map&lt;String, String&gt; getHeaders(Throwable throwable) {\r\n            //your logic\r\n        }\r\n    }\r\n\r\n    //ServiceError.java\r\n    /**\r\n     * error data holder\r\n     */\r\n    public class ServiceError {\r\n        private int status;\r\n        private Map&lt;String, String&gt; headers;\r\n        private Optional&lt;String&gt; body;\r\n        //setters and getters\r\n    }","title":"JAX-RS / Jersey how to customize error handling?","body":"<p>I was facing the same issue.</p>\n\n<p>I wanted to catch all the errors at a central place and transform them.</p>\n\n<p>Following is the code for how I handled it.</p>\n\n<p>Create the following class which implements <code>ExceptionMapper</code> and add <code>@Provider</code> annotation on this class. This will handle all the exceptions.</p>\n\n<p>Override <code>toResponse</code> method and return the Response object populated with customised data.</p>\n\n<pre><code>//ExceptionMapperProvider.java\n/**\n * exception thrown by restful endpoints will be caught and transformed here\n * so that client gets a proper error message\n */\n@Provider\npublic class ExceptionMapperProvider implements ExceptionMapper&lt;Throwable&gt; {\n    private final ErrorTransformer errorTransformer = new ErrorTransformer();\n\n    public ExceptionMapperProvider() {\n\n    }\n\n    @Override\n    public Response toResponse(Throwable throwable) {\n        //transforming the error using the custom logic of ErrorTransformer \n        final ServiceError errorResponse = errorTransformer.getErrorResponse(throwable);\n        final ResponseBuilder responseBuilder = Response.status(errorResponse.getStatus());\n\n        if (errorResponse.getBody().isPresent()) {\n            responseBuilder.type(MediaType.APPLICATION_JSON_TYPE);\n            responseBuilder.entity(errorResponse.getBody().get());\n        }\n\n        for (Map.Entry&lt;String, String&gt; header : errorResponse.getHeaders().entrySet()) {\n            responseBuilder.header(header.getKey(), header.getValue());\n        }\n\n        return responseBuilder.build();\n    }\n}\n\n// ErrorTransformer.java\n/**\n * Error transformation logic\n */\npublic class ErrorTransformer {\n    public ServiceError getErrorResponse(Throwable throwable) {\n        ServiceError serviceError = new ServiceError();\n        //add you logic here\n        serviceError.setStatus(getStatus(throwable));\n        serviceError.setBody(getBody(throwable));\n        serviceError.setHeaders(getHeaders(throwable));\n\n    }\n    private String getStatus(Throwable throwable) {\n        //your logic\n    }\n    private Optional&lt;String&gt; getBody(Throwable throwable) {\n        //your logic\n    }\n    private Map&lt;String, String&gt; getHeaders(Throwable throwable) {\n        //your logic\n    }\n}\n\n//ServiceError.java\n/**\n * error data holder\n */\npublic class ServiceError {\n    private int status;\n    private Map&lt;String, String&gt; headers;\n    private Optional&lt;String&gt; body;\n    //setters and getters\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578651931,"creation_date":1578651931,"answer_id":59679808,"question_id":583973,"body_markdown":"**Approach 1: By extending WebApplicationException class**\r\n\r\nCreate new exception by extending WebApplicationException\r\n\r\n    public class RestException extends WebApplicationException {\r\n    \r\n             private static final long serialVersionUID = 1L;\r\n    \r\n             public RestException(String message, Status status) {\r\n             super(Response.status(status).entity(message).type(MediaType.TEXT_PLAIN).build());\r\n             }\r\n    }\r\n\r\nNow throw &#39;RestException&#39; whenever required.\r\n\r\n    public static Employee getEmployee(int id) {\r\n    \r\n             Employee emp = employees.get(id);\r\n    \r\n             if (emp == null) {\r\n                     throw new RestException(&quot;Employee with id &quot; + id + &quot; not exist&quot;, Status.NOT_FOUND);\r\n             }\r\n             return emp;\r\n    }\r\n\r\nYou can see complete application at this [link][1].\r\n\r\n**Approach 2: Implement ExceptionMapper&lt;ExeceptionType&gt;**\r\n\r\nFollowing mapper handles exception of type &#39;DataNotFoundException&#39;\r\n\r\n    @Provider\r\n    public class DataNotFoundExceptionMapper implements\r\n    \t\tExceptionMapper&lt;DataNotFoundException&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Response toResponse(DataNotFoundException ex) {\r\n    \t\tErrorMessage model = new ErrorMessage(ex.getErrorCode(),\r\n    \t\t\t\tex.getMessage());\r\n    \t\treturn Response.status(Status.NOT_FOUND).entity(model).build();\r\n    \t}\r\n    \r\n    }\r\n\r\nYou can see complete application at this [link][2].\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2017/08/return-http-status-code-for-exceptions.html\r\n  [2]: https://self-learning-java-tutorial.blogspot.com/2015/08/jersey-exception-handling.html","title":"JAX-RS / Jersey how to customize error handling?","body":"<p><strong>Approach 1: By extending WebApplicationException class</strong></p>\n\n<p>Create new exception by extending WebApplicationException</p>\n\n<pre><code>public class RestException extends WebApplicationException {\n\n         private static final long serialVersionUID = 1L;\n\n         public RestException(String message, Status status) {\n         super(Response.status(status).entity(message).type(MediaType.TEXT_PLAIN).build());\n         }\n}\n</code></pre>\n\n<p>Now throw 'RestException' whenever required.</p>\n\n<pre><code>public static Employee getEmployee(int id) {\n\n         Employee emp = employees.get(id);\n\n         if (emp == null) {\n                 throw new RestException(\"Employee with id \" + id + \" not exist\", Status.NOT_FOUND);\n         }\n         return emp;\n}\n</code></pre>\n\n<p>You can see complete application at this <a href=\"https://self-learning-java-tutorial.blogspot.com/2017/08/return-http-status-code-for-exceptions.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p><strong>Approach 2: Implement ExceptionMapper</strong></p>\n\n<p>Following mapper handles exception of type 'DataNotFoundException'</p>\n\n<pre><code>@Provider\npublic class DataNotFoundExceptionMapper implements\n        ExceptionMapper&lt;DataNotFoundException&gt; {\n\n    @Override\n    public Response toResponse(DataNotFoundException ex) {\n        ErrorMessage model = new ErrorMessage(ex.getErrorCode(),\n                ex.getMessage());\n        return Response.status(Status.NOT_FOUND).entity(model).build();\n    }\n\n}\n</code></pre>\n\n<p>You can see complete application at this <a href=\"https://self-learning-java-tutorial.blogspot.com/2015/08/jersey-exception-handling.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}],"owner":{"account_id":589,"reputation":30827,"user_id":758,"accept_rate":77,"display_name":"Mark Renouf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183772,"favorite_count":0,"down_vote_count":0,"up_vote_count":227,"accepted_answer_id":599131,"answer_count":11,"score":227,"last_activity_date":1681649690,"creation_date":1235515721,"question_id":583973,"body_markdown":"I&#39;m learning JAX-RS (aka, JSR-311) using Jersey. I&#39;ve successfuly created a Root Resource and am playing around with parameters:\r\n\r\n    @Path(&quot;/hello&quot;)\r\n    public class HelloWorldResource {\r\n\r\n        @GET\r\n        @Produces(&quot;text/html&quot;)\r\n        public String get(\r\n    \t\t@QueryParam(&quot;name&quot;) String name,\r\n    \t\t@QueryParam(&quot;birthDate&quot;) Date birthDate) {\r\n\r\n             // Return a greeting with the name and age\r\n        }\r\n    }\r\n\r\nThis works great, and handles any format in the current locale which is understood by the Date(String) constructor (like YYYY/mm/dd and mm/dd/YYYY). But if I supply a value which is invalid or not understood, I get a 404 response.\r\n\r\nFor example:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    GET /hello?name=Mark&amp;birthDate=X\r\n\r\n    404 Not Found\r\n\r\nHow can I customize this behavior? Maybe a different response code (probably &quot;400 Bad Request&quot;)? What about logging an error? Maybe add a description of the problem (&quot;bad date format&quot;) in a custom header to aid troubleshooting? Or return a whole Error response with details, along with a 5xx status code?\r\n","title":"JAX-RS / Jersey how to customize error handling?","body":"<p>I'm learning JAX-RS (aka, JSR-311) using Jersey. I've successfuly created a Root Resource and am playing around with parameters:</p>\n\n<pre><code>@Path(\"/hello\")\npublic class HelloWorldResource {\n\n    @GET\n    @Produces(\"text/html\")\n    public String get(\n        @QueryParam(\"name\") String name,\n        @QueryParam(\"birthDate\") Date birthDate) {\n\n         // Return a greeting with the name and age\n    }\n}\n</code></pre>\n\n<p>This works great, and handles any format in the current locale which is understood by the Date(String) constructor (like YYYY/mm/dd and mm/dd/YYYY). But if I supply a value which is invalid or not understood, I get a 404 response.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>GET /hello?name=Mark&amp;birthDate=X\n\n404 Not Found\n</code></pre>\n\n<p>How can I customize this behavior? Maybe a different response code (probably \"400 Bad Request\")? What about logging an error? Maybe add a description of the problem (\"bad date format\") in a custom header to aid troubleshooting? Or return a whole Error response with details, along with a 5xx status code?</p>\n"},{"tags":["java","android","android-webview"],"answers":[{"comments":[{"owner":{"account_id":28245129,"reputation":21,"user_id":21592301,"display_name":"crazywolf"},"score":1,"creation_date":1681080490,"post_id":75970336,"comment_id":133997087,"body_markdown":"Why should I do that?\n\nIf I turn my phone&#39;s screen off or open another application the music from the corresponding webview page should continue to play rather than stop.","body":"Why should I do that?  If I turn my phone&#39;s screen off or open another application the music from the corresponding webview page should continue to play rather than stop."}],"tags":[],"owner":{"account_id":14102121,"reputation":625,"user_id":10187218,"display_name":"Yasin Ege"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681041336,"creation_date":1681041336,"answer_id":75970336,"question_id":75969088,"body_markdown":"When your application goes into the background, you can pause the web view and resume it when the page is opened again.\r\n\r\n  \r\n\r\n    override fun onPause() {\r\n        webView.onPause()\r\n        super.onPause()\r\n\r\n     override fun onResume() {\r\n            super.onPause()\r\n            webView.onResume()\r\n        }","title":"Android app keep audio playing when screen is off","body":"<p>When your application goes into the background, you can pause the web view and resume it when the page is opened again.</p>\n<pre><code>override fun onPause() {\n    webView.onPause()\n    super.onPause()\n\n override fun onResume() {\n        super.onPause()\n        webView.onResume()\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28245129,"reputation":21,"user_id":21592301,"display_name":"crazywolf"},"score":0,"creation_date":1681731032,"post_id":76027858,"comment_id":134098633,"body_markdown":"Hey, thank you a lot for answering.\nI think the idea to create an app for something already working(jellyfin-android app) got too complicated for me, I thought the background playback would work natively, but that seems to complicated for my first ever android/java project.\n\nMy initial idea was to automate the process to start tailscale vpn, basically as soon as I start the jellyfin app the vpn should launch, so the client can connect remotely.\nThis however seems easier to implement directly into the app made by the developers, because they are on github.","body":"Hey, thank you a lot for answering. I think the idea to create an app for something already working(jellyfin-android app) got too complicated for me, I thought the background playback would work natively, but that seems to complicated for my first ever android/java project.  My initial idea was to automate the process to start tailscale vpn, basically as soon as I start the jellyfin app the vpn should launch, so the client can connect remotely. This however seems easier to implement directly into the app made by the developers, because they are on github."}],"tags":[],"owner":{"account_id":3801000,"reputation":624,"user_id":3154666,"accept_rate":75,"display_name":"Introspective"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681649369,"creation_date":1681649369,"answer_id":76027858,"question_id":75969088,"body_markdown":"In order to keep the audio playing even when the screen is turned off, you will need to use a foreground service.\r\n\r\nVery roughly, these are the steps to implement a foreground service in your app:\r\n\r\n 1. Create a new class that extends `Service`.\r\n 2. Override the `onCreate()` method and start a foreground service notification using `startForeground()`. Customize it to your liking.\r\n 3. In the `onStartCommand()` method of your service, create and configure your `WebView` instance. Enable Javascript and other settings to allow audio playback.\r\n 4. Also, in the `onStartCommand()` method, create and start a **new thread** to handle the loading of your web page in the WebView instance. Use this separate thread so that the WebView can continue to load the page while your service runs in the background.\r\n 5. In your activity, bind to the service using `bindService()`, and then call methods on the service to control the WebView instance as needed.\r\n\r\nIf you need actual example code, please post the code you have written so far.","title":"Android app keep audio playing when screen is off","body":"<p>In order to keep the audio playing even when the screen is turned off, you will need to use a foreground service.</p>\n<p>Very roughly, these are the steps to implement a foreground service in your app:</p>\n<ol>\n<li>Create a new class that extends <code>Service</code>.</li>\n<li>Override the <code>onCreate()</code> method and start a foreground service notification using <code>startForeground()</code>. Customize it to your liking.</li>\n<li>In the <code>onStartCommand()</code> method of your service, create and configure your <code>WebView</code> instance. Enable Javascript and other settings to allow audio playback.</li>\n<li>Also, in the <code>onStartCommand()</code> method, create and start a <strong>new thread</strong> to handle the loading of your web page in the WebView instance. Use this separate thread so that the WebView can continue to load the page while your service runs in the background.</li>\n<li>In your activity, bind to the service using <code>bindService()</code>, and then call methods on the service to control the WebView instance as needed.</li>\n</ol>\n<p>If you need actual example code, please post the code you have written so far.</p>\n"}],"owner":{"account_id":28245129,"reputation":21,"user_id":21592301,"display_name":"crazywolf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1681649369,"creation_date":1681021761,"question_id":75969088,"body_markdown":"Is there any way to let my self coded android app (it uses webview to display a webpage) continue playing the audio from a webview webpage even if the screen is turned off?\r\n\r\nI couldn&#39;t find a working solution for android 13 online.\r\nBut from what I have read I think I have to use a foreground Service.","title":"Android app keep audio playing when screen is off","body":"<p>Is there any way to let my self coded android app (it uses webview to display a webpage) continue playing the audio from a webview webpage even if the screen is turned off?</p>\n<p>I couldn't find a working solution for android 13 online.\nBut from what I have read I think I have to use a foreground Service.</p>\n"},{"tags":["java","spring","database","hibernate","jpa"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681650219,"post_id":76027757,"comment_id":134087312,"body_markdown":"Does class B really need to be an entity in its own right?  Are you sure it wouldn&#39;t do simply to [embed](https://www.baeldung.com/jpa-embedded-embeddable) an instance in A?","body":"Does class B really need to be an entity in its own right?  Are you sure it wouldn&#39;t do simply to <a href=\"https://www.baeldung.com/jpa-embedded-embeddable\" rel=\"nofollow noreferrer\">embed</a> an instance in A?"},{"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"score":0,"creation_date":1681650401,"post_id":76027757,"comment_id":134087342,"body_markdown":"Yes may be it is better to embed in A. But I am also curious now to know how to do this specific thing.","body":"Yes may be it is better to embed in A. But I am also curious now to know how to do this specific thing."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681651307,"post_id":76027757,"comment_id":134087488,"body_markdown":"You probably *can&#39;t* do that specific thing.  JPA persistence providers generally assume that non-polymorphic entities have their own tables.  I don&#39;t think the JPA spec requires that explicitly, but it, too, seems to take that as an implicit assumption.","body":"You probably <i>can&#39;t</i> do that specific thing.  JPA persistence providers generally assume that non-polymorphic entities have their own tables.  I don&#39;t think the JPA spec requires that explicitly, but it, too, seems to take that as an implicit assumption."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681652540,"post_id":76027757,"comment_id":134087651,"body_markdown":"More generally, there are two viable approaches to designing an ORM persistence model.  You can start with the classes and fit a database to them, or you can start with the database and fit classes to it.  If you try to specify design requirements on both sides at the same time, however, then you can wind up unable to fulfill them all.","body":"More generally, there are two viable approaches to designing an ORM persistence model.  You can start with the classes and fit a database to them, or you can start with the database and fit classes to it.  If you try to specify design requirements on both sides at the same time, however, then you can wind up unable to fulfill them all."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681655247,"post_id":76027757,"comment_id":134088070,"body_markdown":"If B doesn&#39;t have its own identity, it isn&#39;t an entity but an embeddable. Embeddables can live in their own or the owning entities Table, while Entities must be be able to exist on their own (which your B&#39;s cannot).","body":"If B doesn&#39;t have its own identity, it isn&#39;t an entity but an embeddable. Embeddables can live in their own or the owning entities Table, while Entities must be be able to exist on their own (which your B&#39;s cannot)."}],"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681648113,"creation_date":1681648113,"question_id":76027757,"body_markdown":"I want to create columns of class B which is present inside class A as a field in same table as class A, where B has One to One relationship with A.\r\nFor example, \r\n```\r\n@Entity\r\npublic class A{\r\n   String str;\r\n   boolean flag;\r\n\r\n   @OneToOne\r\n   B b;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class B{\r\n  String str2;\r\n  int a;\r\n}\r\n```\r\nI want the table to look like this,\r\n```\r\n Column | Type\r\n        |\r\n str    | character\r\n flag   | boolean\r\n str2   | character\r\n a      | integer\r\n```\r\nHow can I do this.","title":"One to One mapping in same table","body":"<p>I want to create columns of class B which is present inside class A as a field in same table as class A, where B has One to One relationship with A.\nFor example,</p>\n<pre><code>@Entity\npublic class A{\n   String str;\n   boolean flag;\n\n   @OneToOne\n   B b;\n}\n</code></pre>\n<pre><code>@Entity\npublic class B{\n  String str2;\n  int a;\n}\n</code></pre>\n<p>I want the table to look like this,</p>\n<pre><code> Column | Type\n        |\n str    | character\n flag   | boolean\n str2   | character\n a      | integer\n</code></pre>\n<p>How can I do this.</p>\n"},{"tags":["python","java","ssl","tls1.2"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1681334619,"post_id":75999757,"comment_id":134041816,"body_markdown":"You&#39;ve buggered up the Java implementation by trying to send data when the handshake is being completed I guess. Try writing data after calling the `startHandshake` method call. By the way, the `event` received through the `HandShakeCompleted` call already contains a getter to get tot the socket. Please study the interfaces you are trying to extend before doing so; I even intuitively knew that the code was bad on that aspect before looking it up.","body":"You&#39;ve buggered up the Java implementation by trying to send data when the handshake is being completed I guess. Try writing data after calling the <code>startHandshake</code> method call. By the way, the <code>event</code> received through the <code>HandShakeCompleted</code> call already contains a getter to get tot the socket. Please study the interfaces you are trying to extend before doing so; I even intuitively knew that the code was bad on that aspect before looking it up."},{"owner":{"account_id":17656405,"reputation":23,"user_id":12815897,"display_name":"BlindToMLAgainstTheWorld"},"score":0,"creation_date":1681335959,"post_id":75999757,"comment_id":134042086,"body_markdown":"Thank you for taking the time to comment. \nI could have been more to the point in the original post without using the event listener, but my original attempt was to do what you have suggested, and concerns about asynchronous processes led to the code I posted, however that is not solving the problem. I did what you suggested, and it is yielding the same results.","body":"Thank you for taking the time to comment.  I could have been more to the point in the original post without using the event listener, but my original attempt was to do what you have suggested, and concerns about asynchronous processes led to the code I posted, however that is not solving the problem. I did what you suggested, and it is yielding the same results."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1681339937,"post_id":75999757,"comment_id":134042554,"body_markdown":"Could you post an update of your code under the current code in the question? As it stands, I think that trying to send data at any part of the handshake handling is fundamentally wrong. Obviously, something else can trigger issues, but I think resolving the handshake issue would at least eliminate that part of the problem. To quote the doc of `startHandshake`: &quot;This method is synchronous for the initial handshake on a connection *and returns when the negotiated handshake is complete.* &quot; As it is synchronous, it doesn&#39;t make sense to use the callback for that.","body":"Could you post an update of your code under the current code in the question? As it stands, I think that trying to send data at any part of the handshake handling is fundamentally wrong. Obviously, something else can trigger issues, but I think resolving the handshake issue would at least eliminate that part of the problem. To quote the doc of <code>startHandshake</code>: &quot;This method is synchronous for the initial handshake on a connection <i>and returns when the negotiated handshake is complete.</i> &quot; As it is synchronous, it doesn&#39;t make sense to use the callback for that."},{"owner":{"account_id":17656405,"reputation":23,"user_id":12815897,"display_name":"BlindToMLAgainstTheWorld"},"score":0,"creation_date":1681340906,"post_id":75999757,"comment_id":134042639,"body_markdown":"Right, &quot;RTFM&quot;, as they say...","body":"Right, &quot;RTFM&quot;, as they say..."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681347610,"post_id":75999757,"comment_id":134043321,"body_markdown":"`outputStream.write(message.getBytes())``: you probably need to add a newline here. None of the above commentary is correct. You *can&#39;t* write before the handshake is complete. If you try, you will block until then.","body":"`outputStream.write(message.getBytes())``: you probably need to add a newline here. None of the above commentary is correct. You <i>can&#39;t</i> write before the handshake is complete. If you try, you will block until then."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1681353665,"post_id":75999757,"comment_id":134043876,"body_markdown":"We currently don&#39;t know anything about the protocol or the server implementation. How do you know that the data is expected and retrieved at the server? How did you determine that it was only received when the socket is closed? @user207421 What the hell do you mean with &quot;None of the above commentary is correct&quot;? I actually looked up if you were a newbe user because of that broad, unclarified comment.","body":"We currently don&#39;t know anything about the protocol or the server implementation. How do you know that the data is expected and retrieved at the server? How did you determine that it was only received when the socket is closed? @user207421 What the hell do you mean with &quot;None of the above commentary is correct&quot;? I actually looked up if you were a newbe user because of that broad, unclarified comment."}],"answers":[{"tags":[],"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681647988,"creation_date":1681647988,"answer_id":76027749,"question_id":75999757,"body_markdown":"As documented, [OutputStream.flush()][1] does nothing. You might wrap it with a [BufferedOutputStream][2] to percolate your request.\r\n\r\nThis becomes :\r\n\r\n    OutputStream outputStream = new BufferedOutputStream(sslSocket.getOutputStream(), 1024);\r\n    String message = &quot;This is a test message&quot;;\r\n    outputStream.write(message.getBytes());\r\n    outputStream.flush();\r\n\r\n    // Send more data to server\r\n    String additionalMessage = &quot;This is an additional message&quot;;\r\n    outputStream.write(additionalMessage.getBytes());\r\n    outputStream.flush();\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html#flush()\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/BufferedOutputStream.html#BufferedOutputStream(java.io.OutputStream)","title":"How do you configure Java SSL client socket to behave like Python?","body":"<p>As documented, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html#flush()\" rel=\"nofollow noreferrer\">OutputStream.flush()</a> does nothing. You might wrap it with a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/BufferedOutputStream.html#BufferedOutputStream(java.io.OutputStream)\" rel=\"nofollow noreferrer\">BufferedOutputStream</a> to percolate your request.</p>\n<p>This becomes :</p>\n<pre><code>OutputStream outputStream = new BufferedOutputStream(sslSocket.getOutputStream(), 1024);\nString message = &quot;This is a test message&quot;;\noutputStream.write(message.getBytes());\noutputStream.flush();\n\n// Send more data to server\nString additionalMessage = &quot;This is an additional message&quot;;\noutputStream.write(additionalMessage.getBytes());\noutputStream.flush();\n</code></pre>\n"}],"owner":{"account_id":17656405,"reputation":23,"user_id":12815897,"display_name":"BlindToMLAgainstTheWorld"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681647988,"creation_date":1681332883,"question_id":75999757,"body_markdown":"I am attempting to wrap application TCP data with SSL to transmit data to a server with TLS 1.2.\r\n\r\nI can achieve this using Python, but want to implement in Java. I have, what I believe to be, functionally the same process written in both languages, but obviously something is fundamentally different here. \r\n\r\nI have the proper certificates installed on Windows in the certificate registry.\r\n\r\n\r\nI can functionally send a message to the server using Python with the following code:\r\n\r\n```\r\nimport socket\r\nimport ssl\r\n\r\nHOST, PORT = &#39;server.com&#39;, 8000\r\n\r\nsock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\n#sock.settimeout(10)\r\n\r\nwrappedSocket = ssl.wrap_socket(sock, ssl_version=ssl.PROTOCOL_TLSv1_2)#, ciphers=&quot;ADH-AES256-SHA&quot;)\r\n\r\n# CONNECT AND PRINT REPLY\r\nwrappedSocket.connect((HOST, PORT))\r\n\r\nwrappedSocket.send(b&quot;Hello&quot;)\r\n\r\nwrappedSocket.close()\r\n```\r\n\r\nHowever, in Java, I can complete the handshake, but no messages are actually transmitted.\r\n\r\nThis is the Java\r\n\r\n\r\n```\r\n...\r\n\r\nString[] protocols = new String[]{&quot;TLSv1.2&quot;};\r\nSSLSocketFactory factory = (SSLSocketFactory)SSLSocketFactory.getDefault();\r\nSSLSocket socket = (SSLSocket)factory.createSocket(&quot;server.com&quot;, 8000);\r\nsocket.setEnabledProtocols(protocols);\r\nsocket.addHandshakeCompletedListener(new HandShakeListener(socket));\r\nsocket.startHandshake();\r\n\r\n...\r\n\r\nclass HandShakeListener implements HandshakeCompletedListener{\r\n\t\t\t \r\n     SSLSocket socket;\r\n\t\t\t \r\n     public HandShakeListener(SSLSocket socket) {\r\n          this.socket = socket;\r\n\t\t\t\t\r\n     }\r\n\r\n     @Override\r\n     public void handshakeCompleted(HandshakeCompletedEvent arg0) {\r\n          System.out.println(&quot;Handshake Completed&quot;);\r\n\r\n          PrintWriter out;\r\n\t  try {\r\n\t       out = new PrintWriter(\r\n\t                  new BufferedWriter(\r\n\t\t               new OutputStreamWriter(\r\n\t\t\t            socket.getOutputStream())));\r\n\t  } catch (IOException e1) {\r\n\t\te1.printStackTrace();\r\n\t\treturn;\r\n\t  }\r\n          \r\n          out.println(&quot;Hello from Java&quot;);\r\n\t  System.out.println(&quot;Sending message&quot;);\r\n\t  out.println();\r\n\t  out.flush();\r\n          out.close();\r\n     }\r\n\r\n\r\n```\r\n\r\nI am using the JVM arguments  `-Djavax.net.debug=all -Djavax.net.ssl.trustStoreType=WINDOWS-ROOT`\r\n\r\nAnd the Djavax.net debug message shows that the handshake is successful and data is writing. \r\n\r\nMy understanding is that Python and Java in this circumstance are functionally the same, however I am successfully receiving messages on the server when I send from Python, but no messages make it through using Java. \r\n\r\nWhat am I missing/what is the difference between these? \r\n\r\nThanks!\r\n\r\n\r\n**UPDATE**\r\n\r\nAs requested, I have moved away from using the event listener, however I am now only able to send data to the server when the socket closes. \r\n\r\n```\r\n\t    \t// Create an SSLContext\r\n\t        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t        sslContext.init(null, null, null);\r\n\t        SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n\t        // Connect to the server\r\n\t        SSLSocket sslSocket = (SSLSocket) sslSocketFactory.createSocket(&quot;server.com&quot;, 8000); // Replace with your target server and port\r\n\t        sslSocket.setEnabledCipherSuites(sslSocketFactory.getSupportedCipherSuites());\r\n\t        sslSocket.setTcpNoDelay(true);\r\n\r\n\t        // Perform SSL handshake\r\n\t        sslSocket.startHandshake();\r\n\r\n\t        // Send data to server\r\n\t        OutputStream outputStream = sslSocket.getOutputStream();\r\n\t        String message = &quot;This is a test message&quot;;\r\n\t        outputStream.write(message.getBytes());\r\n\t        outputStream.flush();\r\n\r\n\t        // Send more data to server\r\n\t        String additionalMessage = &quot;This is an additional message&quot;;\r\n\t        outputStream.write(additionalMessage.getBytes());\r\n\t        outputStream.flush();\r\n\r\n\t        // Close the SSL socket when done\r\n\t        sslSocket.close();\r\n```\r\n\r\nOn the server side, the message is revieved as one string, as though the &quot;flush()&quot; method isn&#39;t flushing the buffer. \r\n\r\n","title":"How do you configure Java SSL client socket to behave like Python?","body":"<p>I am attempting to wrap application TCP data with SSL to transmit data to a server with TLS 1.2.</p>\n<p>I can achieve this using Python, but want to implement in Java. I have, what I believe to be, functionally the same process written in both languages, but obviously something is fundamentally different here.</p>\n<p>I have the proper certificates installed on Windows in the certificate registry.</p>\n<p>I can functionally send a message to the server using Python with the following code:</p>\n<pre><code>import socket\nimport ssl\n\nHOST, PORT = 'server.com', 8000\n\nsock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n#sock.settimeout(10)\n\nwrappedSocket = ssl.wrap_socket(sock, ssl_version=ssl.PROTOCOL_TLSv1_2)#, ciphers=&quot;ADH-AES256-SHA&quot;)\n\n# CONNECT AND PRINT REPLY\nwrappedSocket.connect((HOST, PORT))\n\nwrappedSocket.send(b&quot;Hello&quot;)\n\nwrappedSocket.close()\n</code></pre>\n<p>However, in Java, I can complete the handshake, but no messages are actually transmitted.</p>\n<p>This is the Java</p>\n<pre><code>...\n\nString[] protocols = new String[]{&quot;TLSv1.2&quot;};\nSSLSocketFactory factory = (SSLSocketFactory)SSLSocketFactory.getDefault();\nSSLSocket socket = (SSLSocket)factory.createSocket(&quot;server.com&quot;, 8000);\nsocket.setEnabledProtocols(protocols);\nsocket.addHandshakeCompletedListener(new HandShakeListener(socket));\nsocket.startHandshake();\n\n...\n\nclass HandShakeListener implements HandshakeCompletedListener{\n             \n     SSLSocket socket;\n             \n     public HandShakeListener(SSLSocket socket) {\n          this.socket = socket;\n                \n     }\n\n     @Override\n     public void handshakeCompleted(HandshakeCompletedEvent arg0) {\n          System.out.println(&quot;Handshake Completed&quot;);\n\n          PrintWriter out;\n      try {\n           out = new PrintWriter(\n                      new BufferedWriter(\n                       new OutputStreamWriter(\n                        socket.getOutputStream())));\n      } catch (IOException e1) {\n        e1.printStackTrace();\n        return;\n      }\n          \n          out.println(&quot;Hello from Java&quot;);\n      System.out.println(&quot;Sending message&quot;);\n      out.println();\n      out.flush();\n          out.close();\n     }\n\n\n</code></pre>\n<p>I am using the JVM arguments  <code>-Djavax.net.debug=all -Djavax.net.ssl.trustStoreType=WINDOWS-ROOT</code></p>\n<p>And the Djavax.net debug message shows that the handshake is successful and data is writing.</p>\n<p>My understanding is that Python and Java in this circumstance are functionally the same, however I am successfully receiving messages on the server when I send from Python, but no messages make it through using Java.</p>\n<p>What am I missing/what is the difference between these?</p>\n<p>Thanks!</p>\n<p><strong>UPDATE</strong></p>\n<p>As requested, I have moved away from using the event listener, however I am now only able to send data to the server when the socket closes.</p>\n<pre><code>            // Create an SSLContext\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n            sslContext.init(null, null, null);\n            SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n            // Connect to the server\n            SSLSocket sslSocket = (SSLSocket) sslSocketFactory.createSocket(&quot;server.com&quot;, 8000); // Replace with your target server and port\n            sslSocket.setEnabledCipherSuites(sslSocketFactory.getSupportedCipherSuites());\n            sslSocket.setTcpNoDelay(true);\n\n            // Perform SSL handshake\n            sslSocket.startHandshake();\n\n            // Send data to server\n            OutputStream outputStream = sslSocket.getOutputStream();\n            String message = &quot;This is a test message&quot;;\n            outputStream.write(message.getBytes());\n            outputStream.flush();\n\n            // Send more data to server\n            String additionalMessage = &quot;This is an additional message&quot;;\n            outputStream.write(additionalMessage.getBytes());\n            outputStream.flush();\n\n            // Close the SSL socket when done\n            sslSocket.close();\n</code></pre>\n<p>On the server side, the message is revieved as one string, as though the &quot;flush()&quot; method isn't flushing the buffer.</p>\n"},{"tags":["java","hibernate","liquibase","liquibase-hibernate"],"comments":[{"owner":{"account_id":2311100,"reputation":319,"user_id":2029209,"display_name":"CT Liv"},"score":0,"creation_date":1681651510,"post_id":76027584,"comment_id":134087520,"body_markdown":"This is a JPA question: &quot;Which tables JPA expects to map these entities to?&quot;. I suggest to use &quot;hibernate.hbm2ddl.auto=update&quot; property (or other) to let the JPA provider automatically create the tables, then to use Liquibase &quot;generate&quot; comand to produce the changeset. Than you can set the property to &quot;none&quot; (or remove it altogheter).","body":"This is a JPA question: &quot;Which tables JPA expects to map these entities to?&quot;. I suggest to use &quot;hibernate.hbm2ddl.auto=update&quot; property (or other) to let the JPA provider automatically create the tables, then to use Liquibase &quot;generate&quot; comand to produce the changeset. Than you can set the property to &quot;none&quot; (or remove it altogheter)."}],"owner":{"account_id":17981414,"reputation":73,"user_id":13067646,"display_name":"JerryThePineapple"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681646866,"creation_date":1681645733,"question_id":76027584,"body_markdown":"Let &quot;A&quot; be a base entity with TABLE_PER_CLASS inheritance strategy. Let &quot;B&quot; and &quot;C&quot; be entity subclasses of &quot;A&quot;. let &quot;D&quot; be an entity that has a @ManyToOne relationship to &quot;A&quot;. let &quot;A&quot; have a @OneToMany relationship to &quot;D&quot;. Entity classes are given below:\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\npublic abstract class A {\r\n    @Id\r\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;a_sequence_generator&quot;)\r\n    @SequenceGenerator(name = &quot;a_sequence_generator&quot;, sequenceName = &quot;sequence_a&quot;)\r\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;a&quot;)\r\n    private List&lt;D&gt; dlist;\r\n    \r\n    // other fields and methods\r\n}\r\n\r\n@Entity\r\npublic class B extends A {\r\n    // fields and methods specific to B\r\n}\r\n\r\n@Entity\r\npublic class C extends A {\r\n    // fields and methods specific to C\r\n}\r\n\r\n@Entity\r\npublic class D {\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;a_id&quot;)\r\n    private A a;\r\n    \r\n    // other fields and methods\r\n}\r\n\r\n```\r\n\r\nWhat should the change-sets look like for tables &quot;A&quot;, &quot;B&quot;, &quot;C&quot; and &quot;D&quot; in that case? What confuses me is the @ManyToOne mapping. Since @JoinColumn is used, &quot;a_id&quot; must be a valid column, which means that &quot;A&quot; table needs to be created even though it can never be instantiated.\r\n\r\nCan we avoid creating the &quot;A&quot; table?","title":"Liquibase script for TABLE_PER_CLASS inheritance and @OneToMany mapping","body":"<p>Let &quot;A&quot; be a base entity with TABLE_PER_CLASS inheritance strategy. Let &quot;B&quot; and &quot;C&quot; be entity subclasses of &quot;A&quot;. let &quot;D&quot; be an entity that has a @ManyToOne relationship to &quot;A&quot;. let &quot;A&quot; have a @OneToMany relationship to &quot;D&quot;. Entity classes are given below:</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class A {\n    @Id\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;a_sequence_generator&quot;)\n    @SequenceGenerator(name = &quot;a_sequence_generator&quot;, sequenceName = &quot;sequence_a&quot;)\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;a&quot;)\n    private List&lt;D&gt; dlist;\n    \n    // other fields and methods\n}\n\n@Entity\npublic class B extends A {\n    // fields and methods specific to B\n}\n\n@Entity\npublic class C extends A {\n    // fields and methods specific to C\n}\n\n@Entity\npublic class D {\n    @ManyToOne\n    @JoinColumn(name = &quot;a_id&quot;)\n    private A a;\n    \n    // other fields and methods\n}\n\n</code></pre>\n<p>What should the change-sets look like for tables &quot;A&quot;, &quot;B&quot;, &quot;C&quot; and &quot;D&quot; in that case? What confuses me is the @ManyToOne mapping. Since @JoinColumn is used, &quot;a_id&quot; must be a valid column, which means that &quot;A&quot; table needs to be created even though it can never be instantiated.</p>\n<p>Can we avoid creating the &quot;A&quot; table?</p>\n"},{"tags":["java","jetty"],"comments":[{"owner":{"account_id":928280,"reputation":3199,"user_id":958616,"display_name":"raevilman"},"score":0,"creation_date":1435829873,"post_id":24920302,"comment_id":50367718,"body_markdown":"Did anything work for you?","body":"Did anything work for you?"},{"owner":{"account_id":4673730,"reputation":13,"user_id":3784828,"display_name":"Raj"},"score":1,"creation_date":1443215621,"post_id":24920302,"comment_id":53420453,"body_markdown":"nope! I just kept using Jetty 7 for a while and then switched to Jersey.","body":"nope! I just kept using Jetty 7 for a while and then switched to Jersey."}],"answers":[{"tags":[],"owner":{"account_id":3417768,"reputation":1027,"user_id":2866161,"display_name":"SzB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1491230430,"creation_date":1491226369,"answer_id":43186055,"question_id":24920302,"body_markdown":"    import org.eclipse.jetty.client.HttpClient;\r\n    import org.eclipse.jetty.client.Request;\r\n    import org.eclipse.jetty.client.ContentResponse;\r\n    import org.eclipse.jetty.http.HttpMethod;\r\n    import org.eclipse.jetty.http.HttpHeader;\r\n    ...\r\n    HttpClient client = new HttpClient();\r\n    client.start();\r\n    Request req = client.newRequest(&quot;http://....&quot;);\r\n    req.method(HttpMethod.GET);\r\n    req.agent(&quot;Mozilla/5.0...&quot;);\r\n    req.header(HttpHeader.ACCEPT, &quot;text/html&quot;);\r\n    req.header(HtppHeader.CONNECTION, &quot;Keep-Alive&quot;);\r\n    ContentResponse resp = req.send():\r\n    ...\r\n    client.stop();\r\n","title":"Jetty 9 - How do I set &quot;request content&quot; and &quot;request headers&quot; using Jetty 9?","body":"<pre><code>import org.eclipse.jetty.client.HttpClient;\nimport org.eclipse.jetty.client.Request;\nimport org.eclipse.jetty.client.ContentResponse;\nimport org.eclipse.jetty.http.HttpMethod;\nimport org.eclipse.jetty.http.HttpHeader;\n...\nHttpClient client = new HttpClient();\nclient.start();\nRequest req = client.newRequest(\"http://....\");\nreq.method(HttpMethod.GET);\nreq.agent(\"Mozilla/5.0...\");\nreq.header(HttpHeader.ACCEPT, \"text/html\");\nreq.header(HtppHeader.CONNECTION, \"Keep-Alive\");\nContentResponse resp = req.send():\n...\nclient.stop();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7458524,"reputation":651,"user_id":5670939,"display_name":"Radioactive"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623880623,"creation_date":1623880623,"answer_id":68010496,"question_id":24920302,"body_markdown":"In addition to the above answer,\r\n\r\nI was working with Jetty 11 Http Client and realized that **req.header** has been deprecated in the latest release. ( **11.0.5** ). \r\n\r\nAs a result I had to figure out a way send authentication headers with Jetty Http Client 11.\r\n\r\nThis is how I did it. Pay attention to line 4.\r\n\r\n        httpClient.start();\r\n        URI uri = UriBuilder.fromUri(URI.create(ENDPOINT)).path(&quot;v1/testPath&quot;).queryParam(&quot;testParam&quot;,&quot;testValue&quot;).build();\r\n        InputStreamResponseListener listener = new InputStreamResponseListener(); //Required for large responses only\r\n        httpClient.newRequest(uri).method(HttpMethod.GET).headers(httpFields -&gt; httpFields.add(&quot;Authorization&quot;,&quot;Bearer &quot;+token)).send(listener);\r\n        Response response =  listener.get(20, TimeUnit.SECONDS);\r\n        if(response.getStatus() == 200){\r\n            //doSomething.\r\n        }","title":"Jetty 9 - How do I set &quot;request content&quot; and &quot;request headers&quot; using Jetty 9?","body":"<p>In addition to the above answer,</p>\n<p>I was working with Jetty 11 Http Client and realized that <strong>req.header</strong> has been deprecated in the latest release. ( <strong>11.0.5</strong> ).</p>\n<p>As a result I had to figure out a way send authentication headers with Jetty Http Client 11.</p>\n<p>This is how I did it. Pay attention to line 4.</p>\n<pre><code>    httpClient.start();\n    URI uri = UriBuilder.fromUri(URI.create(ENDPOINT)).path(&quot;v1/testPath&quot;).queryParam(&quot;testParam&quot;,&quot;testValue&quot;).build();\n    InputStreamResponseListener listener = new InputStreamResponseListener(); //Required for large responses only\n    httpClient.newRequest(uri).method(HttpMethod.GET).headers(httpFields -&gt; httpFields.add(&quot;Authorization&quot;,&quot;Bearer &quot;+token)).send(listener);\n    Response response =  listener.get(20, TimeUnit.SECONDS);\n    if(response.getStatus() == 200){\n        //doSomething.\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5868718,"reputation":300,"user_id":7800693,"display_name":"Bhargav Kosaraju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681646612,"creation_date":1681646612,"answer_id":76027638,"question_id":24920302,"body_markdown":"If any one stumbles on documentation, \r\n\r\nfor the case of content: `req.post(OldWayOfcontentProviders)` is deprecated and replaced with : `req.body(Request.Content oneOfFollowingImplementations)`\r\n\r\nplease refer utils(` org.eclipse.jetty.client.util`) where some of the pre-defined implementations example-\r\n\r\n`ByteBufferRequestContent`\r\n\r\n`StringRequestContent`\r\n\r\n`MultiPartRequestContent` ...\r\n\r\nAll of them have implementation of Request.Content Interface.\r\n\r\nExample:\r\n\r\n```java\r\n      post.body(new ByteBufferRequestContent(&quot;text/xml&quot;, ByteBuffer.wrap(&quot;MyXMLContentAsString&quot;.getBytes)))\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Jetty 9 - How do I set &quot;request content&quot; and &quot;request headers&quot; using Jetty 9?","body":"<p>If any one stumbles on documentation,</p>\n<p>for the case of content: <code>req.post(OldWayOfcontentProviders)</code> is deprecated and replaced with : <code>req.body(Request.Content oneOfFollowingImplementations)</code></p>\n<p>please refer utils(<code> org.eclipse.jetty.client.util</code>) where some of the pre-defined implementations example-</p>\n<p><code>ByteBufferRequestContent</code></p>\n<p><code>StringRequestContent</code></p>\n<p><code>MultiPartRequestContent</code> ...</p>\n<p>All of them have implementation of Request.Content Interface.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      post.body(new ByteBufferRequestContent(&quot;text/xml&quot;, ByteBuffer.wrap(&quot;MyXMLContentAsString&quot;.getBytes)))\n\n</code></pre>\n"}],"owner":{"account_id":4673730,"reputation":13,"user_id":3784828,"display_name":"Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3922,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43186055,"answer_count":3,"score":1,"last_activity_date":1681646612,"creation_date":1406147178,"question_id":24920302,"body_markdown":"I used ContentExchange class of Jetty 7 for setting URL, headers and requestContent.&lt;br /&gt;&lt;br /&gt;\r\nFollowing is What I have using Jetty 7. &lt;br /&gt;\r\n\r\n        HttpClient client = new HttpClient();\r\n        client.start();\r\n        ContentExchange exchange = new ContentExchange();\r\n        exchange.setURL(url);\r\n        exchange.setRequestHeader(&quot;Content-Type&quot;, &quot;application/xml&quot;);\r\n        exchange.setRequestHeader(&quot;Authorization&quot;, &quot;Basic &quot; + this.getAuthenticatonString());\r\n        exchange.setMethod(&quot;POST&quot;);\r\n    \r\n        final AbstractBuffer cb = new ByteArrayBuffer(xml.getBytes(&quot;UTF-8&quot;));\r\n        exchange.setRequestContent(cb);\r\n    \r\n        client.send(exchange);\r\n        exchange.waitForDone();\r\n&lt;br /&gt;\r\nJetty 9 doesn&#39;t have ContentExchange class but after some research I have this &lt;br /&gt;\r\n\r\n    HttpClient client = new HttpClient();\r\n    client\r\n    .POST(url)\r\n    .send()\r\n&lt;br /&gt;\r\nI think I can use client.param for setting request headers but I am not really sure about it.&lt;br /&gt; &lt;br /&gt;\r\n\r\n&lt;b&gt;So my question is how do I set &quot;request content&quot; and &quot;request headers&quot; using Jetty 9?&lt;/b&gt;","title":"Jetty 9 - How do I set &quot;request content&quot; and &quot;request headers&quot; using Jetty 9?","body":"<p>I used ContentExchange class of Jetty 7 for setting URL, headers and requestContent.<br /><br />\nFollowing is What I have using Jetty 7. <br /></p>\n\n<pre><code>    HttpClient client = new HttpClient();\n    client.start();\n    ContentExchange exchange = new ContentExchange();\n    exchange.setURL(url);\n    exchange.setRequestHeader(\"Content-Type\", \"application/xml\");\n    exchange.setRequestHeader(\"Authorization\", \"Basic \" + this.getAuthenticatonString());\n    exchange.setMethod(\"POST\");\n\n    final AbstractBuffer cb = new ByteArrayBuffer(xml.getBytes(\"UTF-8\"));\n    exchange.setRequestContent(cb);\n\n    client.send(exchange);\n    exchange.waitForDone();\n</code></pre>\n\n<p><br />\nJetty 9 doesn't have ContentExchange class but after some research I have this <br /></p>\n\n<pre><code>HttpClient client = new HttpClient();\nclient\n.POST(url)\n.send()\n</code></pre>\n\n<p><br />\nI think I can use client.param for setting request headers but I am not really sure about it.<br /> <br /></p>\n\n<p><b>So my question is how do I set \"request content\" and \"request headers\" using Jetty 9?</b></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1681556325,"post_id":76021807,"comment_id":134077661,"body_markdown":"`&#39;,&#39;` is not a `CharSequence`, but a `char`. A string such as `&quot;,&quot;` is a char sequence.","body":"<code>&#39;,&#39;</code> is not a <code>CharSequence</code>, but a <code>char</code>. A string such as <code>&quot;,&quot;</code> is a char sequence."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1681556703,"post_id":76021807,"comment_id":134077708,"body_markdown":"Also, what does &quot;no such iterable&quot; mean? It is not part of the compiler error message.","body":"Also, what does &quot;no such iterable&quot; mean? It is not part of the compiler error message."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1681561270,"post_id":76021807,"comment_id":134078335,"body_markdown":"@knittl It is from the compiler message","body":"@knittl It is from the compiler message"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1681561387,"post_id":76021807,"comment_id":134078357,"body_markdown":"I don&#39;t see it in the compiler message which you have posted. Nevertheless, this is a typo (and knowing that methods in Java must be called with arguments of the correct type)","body":"I don&#39;t see it in the compiler message which you have posted. Nevertheless, this is a typo (and knowing that methods in Java must be called with arguments of the correct type)"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1681564919,"post_id":76021807,"comment_id":134078784,"body_markdown":"@knittl See the answer I posted for the resolution","body":"@knittl See the answer I posted for the resolution"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681567333,"post_id":76021807,"comment_id":134079082,"body_markdown":"Yes, the error is still caused by a typo `&quot;,&quot;` != `&#39;,&#39;`","body":"Yes, the error is still caused by a typo <code>&quot;,&quot;</code> != <code>&#39;,&#39;</code>"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1681580881,"post_id":76021807,"comment_id":134080902,"body_markdown":"@knittl It&#39;s not a typo. They are two completely different types.","body":"@knittl It&#39;s not a typo. They are two completely different types."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1681580912,"post_id":76021807,"comment_id":134080910,"body_markdown":"@knittl One is a char, one is a String. Comeing from other languages, you would usually expect to be able to join with either, but apparently not in Java.","body":"@knittl One is a char, one is a String. Comeing from other languages, you would usually expect to be able to join with either, but apparently not in Java."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681585988,"post_id":76021807,"comment_id":134081589,"body_markdown":"I cannot think of a programming language where a string and a char is equivalent and can be used interchangeably. Can you give an example?","body":"I cannot think of a programming language where a string and a char is equivalent and can be used interchangeably. Can you give an example?"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1681646057,"post_id":76021807,"comment_id":134086894,"body_markdown":"@knittl most languages would typically provide an overload to String.join functions to permit both types. Alternatively, Python is one example. `&#39;,&#39;` and `&quot;,&quot;` are the same. A string. Javascript is yet another example.","body":"@knittl most languages would typically provide an overload to String.join functions to permit both types. Alternatively, Python is one example. <code>&#39;,&#39;</code> and <code>&quot;,&quot;</code> are the same. A string. Javascript is yet another example."},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1681649789,"post_id":76021807,"comment_id":134087260,"body_markdown":"@FreelanceConsultant - I am puzzled as to how you got up to 12K rep and not realise that this is considered a typo in the review queues ?","body":"@FreelanceConsultant - I am puzzled as to how you got up to 12K rep and not realise that this is considered a typo in the review queues ?"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1681659998,"post_id":76021807,"comment_id":134088766,"body_markdown":"@RohitGupta I started using Java for the first time literally a few days ago. If you bothered to look at my reputation, you should also have bothered to look at some questions I have asked before, and from this you would quickly realize that I am a specialist systems engineer and almost exclusively work with C++.","body":"@RohitGupta I started using Java for the first time literally a few days ago. If you bothered to look at my reputation, you should also have bothered to look at some questions I have asked before, and from this you would quickly realize that I am a specialist systems engineer and almost exclusively work with C++."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1681660067,"post_id":76021807,"comment_id":134088779,"body_markdown":"@RohitGupta By the way high rep does not equal good software engineer or Computer Scientist. There are many people with many times more reputation than I personally have, but they cannot tell you what a linked list is.","body":"@RohitGupta By the way high rep does not equal good software engineer or Computer Scientist. There are many people with many times more reputation than I personally have, but they cannot tell you what a linked list is."}],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1681581344,"post_id":76021819,"comment_id":134080953,"body_markdown":"&quot;It&#39;s got to be a string, not a char.&quot; Well, it&#39;s got to be a `CharSequence`. There are implementations of `CharSequence` other than `String`. See [the documentation](https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)).","body":"&quot;It&#39;s got to be a string, not a char.&quot; Well, it&#39;s got to be a <code>CharSequence</code>. There are implementations of <code>CharSequence</code> other than <code>String</code>. See <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)\" rel=\"nofollow noreferrer\">the documentation</a>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1681582222,"post_id":76021819,"comment_id":134081047,"body_markdown":"(And in general, when a method call doesn&#39;t work as expected, the documentation should be the first place you look, IMO.)","body":"(And in general, when a method call doesn&#39;t work as expected, the documentation should be the first place you look, IMO.)"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1681646124,"post_id":76021819,"comment_id":134086902,"body_markdown":"@JonSkeet You assume I didn&#39;t look at it? Why else would I say &quot;I believe this should work&quot;.","body":"@JonSkeet You assume I didn&#39;t look at it? Why else would I say &quot;I believe this should work&quot;."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1681646232,"post_id":76021819,"comment_id":134086914,"body_markdown":"I&#39;m assuming you didn&#39;t look at it before asking the question, yes - otherwise why ask the question at all? (&quot;I can&#39;t call a method with arguments that aren&#39;t appropriate for any of the overloads&quot; isn&#39;t really a useful question, IMO. And it would be *really* odd to ask a question including code that you&#39;re &quot;fairly confident should work&quot; if you&#39;ve already looked at the documentation and seen that it really shouldn&#39;t...)","body":"I&#39;m assuming you didn&#39;t look at it before asking the question, yes - otherwise why ask the question at all? (&quot;I can&#39;t call a method with arguments that aren&#39;t appropriate for any of the overloads&quot; isn&#39;t really a useful question, IMO. And it would be <i>really</i> odd to ask a question including code that you&#39;re &quot;fairly confident should work&quot; if you&#39;ve already looked at the documentation and seen that it really shouldn&#39;t...)"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1681646455,"post_id":76021819,"comment_id":134086937,"body_markdown":"@JonSkeet I have added a couple of lines to my question to explain for you what my confusion was. Hopefully this will convince you that I did indeed look at the documentation, misunderstood it, and hence why it was the case I thought this should work when it didn&#39;t. Not sure quite why this matter is so important to you however.","body":"@JonSkeet I have added a couple of lines to my question to explain for you what my confusion was. Hopefully this will convince you that I did indeed look at the documentation, misunderstood it, and hence why it was the case I thought this should work when it didn&#39;t. Not sure quite why this matter is so important to you however."}],"tags":[],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":5,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1681580949,"creation_date":1681556265,"answer_id":76021819,"question_id":76021807,"body_markdown":"It&#39;s got to be a string, not a char.\r\n\r\n```\r\nString.join(&quot;,&quot;, array);\r\n```\r\n\r\n`&#39;,&#39;` is a char, `&quot;,&quot;` is a string. Apparently in Java, one cannot call String join with a char argument as the delimiter, as a string is required instead.","title":"No such iterable when trying to join strings with Java String.join","body":"<p>It's got to be a string, not a char.</p>\n<pre><code>String.join(&quot;,&quot;, array);\n</code></pre>\n<p><code>','</code> is a char, <code>&quot;,&quot;</code> is a string. Apparently in Java, one cannot call String join with a char argument as the delimiter, as a string is required instead.</p>\n"},{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1681556470,"creation_date":1681556470,"answer_id":76021836,"question_id":76021807,"body_markdown":"You could change in this way. The first parameter type of &quot;String.join&quot; is &quot;CharSequence&quot;, not &quot;char&quot;.\r\n\r\n`String stringBoostrapServers = String.join(&quot;,&quot;, arrayBootstrapServers);`","title":"No such iterable when trying to join strings with Java String.join","body":"<p>You could change in this way. The first parameter type of &quot;String.join&quot; is &quot;CharSequence&quot;, not &quot;char&quot;.</p>\n<p><code>String stringBoostrapServers = String.join(&quot;,&quot;, arrayBootstrapServers);</code></p>\n"}],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1681581243,"answer_count":2,"score":-1,"last_activity_date":1681646313,"creation_date":1681556140,"question_id":76021807,"body_markdown":"This question was not caused by a typo. I did not realize that there was no function overload which takes a char as well as a string. I also did not realize that a char would not be converted to a string in a function call. Finally, I did not realize that char and string were two strongly differenced types.\r\n\r\nSo no, it&#39;s not a typo - I just don&#39;t know Java.\r\n\r\n----\r\n\r\nThe following code snippet, which I am fairly confident should work\r\n\r\n```\r\nString[] arrayBootstrapServers = {\r\n    &quot;server1.com:9093&quot;,\r\n    &quot;server2.com:9093&quot;\r\n};\r\n\r\nString stringBoostrapServers = String.join(&#39;,&#39;, arrayBootstrapServers);\r\n```\r\n\r\nproduces the following error when compiling\r\n\r\n```\r\n[ERROR] ... no suitable method found for join(char,java.lang.String[])\r\n[ERROR]     method java.lang.String.join(java.lang.CharSequence,java.lang.CharSequence...) is not applicable\r\n[ERROR]       (argument mismatch; char cannot be converted to java.lang.CharSequence)\r\n[ERROR]     method java.lang.String.join(java.lang.CharSequence,java.lang.Iterable&lt;? extends java.lang.CharSequence&gt;) is not applicable\r\n[ERROR]       (argument mismatch; char cannot be converted to java.lang.CharSequence)\r\n```\r\n\r\nWhy?","title":"No such iterable when trying to join strings with Java String.join","body":"<p>This question was not caused by a typo. I did not realize that there was no function overload which takes a char as well as a string. I also did not realize that a char would not be converted to a string in a function call. Finally, I did not realize that char and string were two strongly differenced types.</p>\n<p>So no, it's not a typo - I just don't know Java.</p>\n<hr />\n<p>The following code snippet, which I am fairly confident should work</p>\n<pre><code>String[] arrayBootstrapServers = {\n    &quot;server1.com:9093&quot;,\n    &quot;server2.com:9093&quot;\n};\n\nString stringBoostrapServers = String.join(',', arrayBootstrapServers);\n</code></pre>\n<p>produces the following error when compiling</p>\n<pre><code>[ERROR] ... no suitable method found for join(char,java.lang.String[])\n[ERROR]     method java.lang.String.join(java.lang.CharSequence,java.lang.CharSequence...) is not applicable\n[ERROR]       (argument mismatch; char cannot be converted to java.lang.CharSequence)\n[ERROR]     method java.lang.String.join(java.lang.CharSequence,java.lang.Iterable&lt;? extends java.lang.CharSequence&gt;) is not applicable\n[ERROR]       (argument mismatch; char cannot be converted to java.lang.CharSequence)\n</code></pre>\n<p>Why?</p>\n"},{"tags":["python","java","memory-leaks","io","resources"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681585720,"post_id":76024248,"comment_id":134081554,"body_markdown":"Java has try-with-resources, which is probably the best way, *except in certain circumstances*, one of which you are using System.in (as you are doing) and wish to avoid closing it prematurely. Once closed, that stream remains closed.","body":"Java has try-with-resources, which is probably the best way, <i>except in certain circumstances</i>, one of which you are using System.in (as you are doing) and wish to avoid closing it prematurely. Once closed, that stream remains closed."},{"owner":{"account_id":19044543,"reputation":6393,"user_id":13903942,"display_name":"Federico Ba&#249;"},"score":0,"creation_date":1681586215,"post_id":76024248,"comment_id":134081612,"body_markdown":"Ok thanks. But i dont understand one thing. You are saying about System.in, but i am closing a Scanner. Am i missing something ?","body":"Ok thanks. But i dont understand one thing. You are saying about System.in, but i am closing a Scanner. Am i missing something ?"},{"owner":{"account_id":19044543,"reputation":6393,"user_id":13903942,"display_name":"Federico Ba&#249;"},"score":0,"creation_date":1681586291,"post_id":76024248,"comment_id":134081619,"body_markdown":"Ah i see. I addes System.in in the scanner.","body":"Ah i see. I addes System.in in the scanner."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1681586296,"post_id":76024248,"comment_id":134081621,"body_markdown":"Your Scanner is scanning a stream -- what stream is it scanning?","body":"Your Scanner is scanning a stream -- what stream is it scanning?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1681586312,"post_id":76024248,"comment_id":134081623,"body_markdown":"When you close that Scanner, you closer the stream.","body":"When you close that Scanner, you closer the stream."},{"owner":{"account_id":19044543,"reputation":6393,"user_id":13903942,"display_name":"Federico Ba&#249;"},"score":0,"creation_date":1681586374,"post_id":76024248,"comment_id":134081633,"body_markdown":"Thats a really good point. But in a way good that i wrote it this way, as it gives an example of bad why to close it too soon (i didnt know. Just happened)","body":"Thats a really good point. But in a way good that i wrote it this way, as it gives an example of bad why to close it too soon (i didnt know. Just happened)"}],"answers":[{"tags":[],"owner":{"account_id":27436725,"reputation":89,"user_id":20932425,"display_name":"shmily"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681623205,"creation_date":1681623205,"answer_id":76026057,"question_id":76024248,"body_markdown":"I think you can use `try(...){...}catch{}` statement `(try with resource statement)`.\r\n\r\n\r\nfor example:\r\n \r\n\r\n    try (\r\n               Scanner reader = new Scanner(System.in);\r\n               // other resource initalization\r\n     ) {\r\n                System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\r\n                if (reader.hasNextLine()) {\r\n                    String username = reader.nextLine();\r\n                    System.out.format(&quot;Hello %s&quot;, username);\r\n                }\r\n            } catch (Exception error) {\r\n                System.out.format(&quot;Error while reading scanner %s&quot;, error);\r\n            }\r\n\r\nSince JDK 1.7, the `()` after `try` is used to initialize one or more resources that must be closed after the program ends. This approach does not require a `finally` block","title":"Java | Safest way to close resources","body":"<p>I think you can use <code>try(...){...}catch{}</code> statement <code>(try with resource statement)</code>.</p>\n<p>for example:</p>\n<pre><code>try (\n           Scanner reader = new Scanner(System.in);\n           // other resource initalization\n ) {\n            System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\n            if (reader.hasNextLine()) {\n                String username = reader.nextLine();\n                System.out.format(&quot;Hello %s&quot;, username);\n            }\n        } catch (Exception error) {\n            System.out.format(&quot;Error while reading scanner %s&quot;, error);\n        }\n</code></pre>\n<p>Since JDK 1.7, the <code>()</code> after <code>try</code> is used to initialize one or more resources that must be closed after the program ends. This approach does not require a <code>finally</code> block</p>\n"},{"tags":[],"owner":{"account_id":19044543,"reputation":6393,"user_id":13903942,"display_name":"Federico Ba&#249;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681642635,"creation_date":1681641927,"answer_id":76027264,"question_id":76024248,"body_markdown":"Ok so this turns out to be a pretty old feature and well documented, I just didn&#39;t see it. \r\nThe feature is called [The try-with-resources Statement][1].\r\n\r\nI keep @shmily as accepted answer since, is correct and it responds the question (and was also the first), I&#39;ll just add here a bit since it may help, and especially I&#39;ll add the code for my use-case that I needed it.\r\n\r\n**Also, read the last note about what user &#39;Hovercraft Full Of Eels&#39; said regarding my implementation**\r\n\r\nSo at it&#39;s simpler form, we can use it as \r\n```\r\n    public static void main( String... args )\r\n    {\r\n        try (Scanner reader = new Scanner(System.in)) {\r\n            System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\r\n            if (reader.hasNextLine()) {\r\n                String username = reader.nextLine();\r\n                System.out.format(&quot;Hello %s&quot;, username);\r\n            }\r\n        } catch (NoSuchElementException | IllegalStateException error) {\r\n            System.out.println(&quot;Error while reading scanner&quot;);\r\n            error.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nNow, following this docs of [baeldung.com/java-try-with-resources][2] it shows that you can actually declared it outside, as long is either *final*.\r\n\r\n```\r\nfinal Scanner scanner = new Scanner(new File(&quot;testRead.txt&quot;));\r\nPrintWriter writer = new PrintWriter(new File(&quot;testWrite.txt&quot;))\r\ntry (scanner;writer) { \r\n    // omitted\r\n}\r\n```\r\n\r\nNow, for my particular use case, and first evaluation though, I would not recommended always (since, actually even in their example, the PrintWriter may thrown an error FileNotFoundException) so it makes sense if that error is catch before-hand or is expected. else I see that you can do a variation\r\n\r\n```\r\n  public static void main( String... args )\r\n    {\r\n        String fileName = &quot;output.txt&quot;;\r\n        final Scanner readerTerminal = new Scanner(System.in);\r\n        try (\r\n                readerTerminal;\r\n                PrintWriter writer = new PrintWriter(&quot;output.txt&quot;);\r\n        ) {\r\n            System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\r\n            if (readerTerminal.hasNextLine()) {\r\n                String username = readerTerminal.nextLine();\r\n                System.out.format(&quot;Hello %s&quot;, username);\r\n\r\n                writer.write(username);\r\n            }\r\n        } catch (FileNotFoundException error) {\r\n            System.out.format(&quot;File %s not found, reason: %s&quot;, fileName, error);\r\n            error.printStackTrace();\r\n        } catch (NoSuchElementException | IllegalStateException error) {\r\n            System.out.format(&quot;Error while reading scanner, reason: %s&quot;, error);\r\n            error.printStackTrace();\r\n        } catch (Exception error) {\r\n            System.out.format(&quot;Something went wrong while reading scanner, reason: %s&quot;, error);\r\n            error.printStackTrace();\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThis especially makes sense, if the `reader` comes from the function parameters. \r\n\r\nHaving said that, this feature is **very very very similar to python context manager*, you can define/custom your own class that implements `AutoCloseable`.\r\n\r\n* https://www.baeldung.com/java-try-with-resources#custom\r\n\r\n```\r\npublic class MyResource implements AutoCloseable {\r\n    @Override\r\n    public void close() throws Exception {\r\n        System.out.println(&quot;Closed MyResource&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAs longs as it calls the `close`, so you can do whatever you want with it (any kind of clean-up, resource closing, api closing and what more what else). \r\n\r\nThe only difference I see (at least from user perspective, obviously the implementation may be very different on each language) is that, to **enable** this feature in `java` you really need to put it inside a try/catch block, whereas, in `python` is completely independent of an error - catch scenario.\r\n\r\n**Why is this relevant?**\r\n\r\nFor what I see, having it as a try-catch scenario may seems to restrict what you can actually do with it and especially, you wanna close that resource **not because an error was raised, but because it existed the scope!**, which is in fact how it works, but it may make you think that, it closes only when is raised. \r\n\r\nIn the following example I show how to use it without the need for an exception to be thrown, but, it doesn&#39;t look as obvious as in the python way to be honest (which is not the end of the world). \r\n\r\nNormal AutoCloseable\r\n\r\n```\r\npublic class Main\r\n{\r\n    public static class MyResource implements AutoCloseable {\r\n        @Override\r\n        public void close() throws Exception {\r\n            System.out.println(&quot;Resource closed, let&#39;s call some resource ... &quot;);\r\n        }\r\n    }\r\n\r\n    public static void main( String[] args )\r\n    {\r\n        final MyResource resource1 = new MyResource();\r\n\r\n        try (resource1; ) {\r\n            System.out.println(&quot;Inside Try - catch block&quot;);\r\n        } catch (Exception error) {\r\n            error.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nMhh, but what if I don&#39;t wanna thrown an error ? \r\nAnd I just want to call some other thing that, I want to make sure are called when that object is closed. \r\n\r\n```\r\npublic class Main\r\n{\r\n    public static class MyResource implements AutoCloseable {\r\n        @Override\r\n        public void close() {\r\n            System.out.println(&quot;Resource closed, let&#39;s call some resource ... &quot;);\r\n        }\r\n    }\r\n\r\n    public static void main( String[] args )\r\n    {\r\n        final MyResource resource1 = new MyResource();\r\n\r\n        try (resource1; ) {\r\n            System.out.println(&quot;Inside Try - catch block&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nDo it this way, it&#39;s looks very similar to the python version, I **don&#39;t have to catch (and throw)** anything since, that is not the point my particular autoclosable, \r\n\r\nCool thing is that, any un-caught erorrs that happened withing that try-with-resource will still call the **close method**\r\n\r\n```\r\npublic class Main\r\n{\r\n    public static class MyResource implements AutoCloseable {\r\n        @Override\r\n        public void close() {\r\n            System.out.println(&quot;Resource closed, let&#39;s call some resource ... &quot;);\r\n        }\r\n    }\r\n\r\n    public static void main( String[] args ) throws FileNotFoundException {\r\n        final MyResource resource1 = new MyResource();\r\n\r\n        try (resource1; ) {\r\n            System.out.println(&quot;Inside Try - catch block&quot;);\r\n            final Scanner readerTerminal = new Scanner(new File(&quot;dont_exits.txt&quot;));\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n \r\nWhich outputs\r\n\r\n```\r\n\r\nInside Try - catch block\r\nResource closed, let&#39;s call some resource ... \r\nException in thread &quot;main&quot; java.io.FileNotFoundException: dont_exits.txt (No such file or directory)\r\n\tat java.base/java.io.FileInputStream.open0(Native Method)\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\tat java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:639)\r\n\tat com.koubae.app1.Main.main(Main.java:30)\r\n\r\nProcess finished with exit code 1\r\n``` \r\n\r\n### &#39;Hovercraft Full Of Eels&#39; note on comment\r\n\r\n&gt; Java has try-with-resources, which is probably the best way, except in certain circumstances, one of which you are using System.in (as you are doing) and wish to avoid closing it prematurely. Once closed, that stream remains closed. \r\n\r\nSo, despite all the above example, I don&#39;t think you should close at a Scanner which scans the `System.in` (but there may be reasons) \r\n\r\n```\r\n  public static void main( String[] args )\r\n    {\r\n        final Scanner readerUserTerminal = new Scanner(System.in);\r\n        try (\r\n            readerUserTerminal;\r\n        ) {\r\n            System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\r\n            if (readerUserTerminal.hasNextLine()) {\r\n                String username = readerUserTerminal.nextLine();\r\n                System.out.format(&quot;Hello %s&quot;, username);\r\n            }\r\n        } catch (NoSuchElementException | IllegalStateException error) {\r\n            System.out.format(&quot;Error while reading scanner, reason: %s&quot;, error);\r\n            error.printStackTrace();\r\n        } catch (Exception error) {\r\n            System.out.format(&quot;Something went wrong while reading scanner, reason: %s&quot;, error);\r\n            error.printStackTrace();\r\n        }\r\n        // yea no ... will break...\r\n        Scanner second = new Scanner(System.in);\r\n        System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\r\n        String username2 = second.nextLine();\r\n        System.out.format(&quot;Hello %s&quot;, username2);\r\n\r\n\r\n\r\n    }\r\n```\r\n**output**\r\n```\r\nHello fede&gt;&gt;&gt; username: Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n\tat java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n\tat com.koubae.app1.Main.main(Main.java:39)\r\n```\r\n\r\n**So be careful!**, I am actually surpise since, in many many tutorials they are using the Scanner to read user input from terminal and then show to close it, wich, not being a File, but the System.in (for me is like `stdin` like in C or python `sys.stdin`. Quite awful the level of tutorials out there. watch out! :D\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [2]: https://www.baeldung.com/java-try-with-resources#java-9---effectively-finalvariables","title":"Java | Safest way to close resources","body":"<p>Ok so this turns out to be a pretty old feature and well documented, I just didn't see it.\nThe feature is called <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The try-with-resources Statement</a>.</p>\n<p>I keep @shmily as accepted answer since, is correct and it responds the question (and was also the first), I'll just add here a bit since it may help, and especially I'll add the code for my use-case that I needed it.</p>\n<p><strong>Also, read the last note about what user 'Hovercraft Full Of Eels' said regarding my implementation</strong></p>\n<p>So at it's simpler form, we can use it as</p>\n<pre><code>    public static void main( String... args )\n    {\n        try (Scanner reader = new Scanner(System.in)) {\n            System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\n            if (reader.hasNextLine()) {\n                String username = reader.nextLine();\n                System.out.format(&quot;Hello %s&quot;, username);\n            }\n        } catch (NoSuchElementException | IllegalStateException error) {\n            System.out.println(&quot;Error while reading scanner&quot;);\n            error.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Now, following this docs of <a href=\"https://www.baeldung.com/java-try-with-resources#java-9---effectively-finalvariables\" rel=\"nofollow noreferrer\">baeldung.com/java-try-with-resources</a> it shows that you can actually declared it outside, as long is either <em>final</em>.</p>\n<pre><code>final Scanner scanner = new Scanner(new File(&quot;testRead.txt&quot;));\nPrintWriter writer = new PrintWriter(new File(&quot;testWrite.txt&quot;))\ntry (scanner;writer) { \n    // omitted\n}\n</code></pre>\n<p>Now, for my particular use case, and first evaluation though, I would not recommended always (since, actually even in their example, the PrintWriter may thrown an error FileNotFoundException) so it makes sense if that error is catch before-hand or is expected. else I see that you can do a variation</p>\n<pre><code>  public static void main( String... args )\n    {\n        String fileName = &quot;output.txt&quot;;\n        final Scanner readerTerminal = new Scanner(System.in);\n        try (\n                readerTerminal;\n                PrintWriter writer = new PrintWriter(&quot;output.txt&quot;);\n        ) {\n            System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\n            if (readerTerminal.hasNextLine()) {\n                String username = readerTerminal.nextLine();\n                System.out.format(&quot;Hello %s&quot;, username);\n\n                writer.write(username);\n            }\n        } catch (FileNotFoundException error) {\n            System.out.format(&quot;File %s not found, reason: %s&quot;, fileName, error);\n            error.printStackTrace();\n        } catch (NoSuchElementException | IllegalStateException error) {\n            System.out.format(&quot;Error while reading scanner, reason: %s&quot;, error);\n            error.printStackTrace();\n        } catch (Exception error) {\n            System.out.format(&quot;Something went wrong while reading scanner, reason: %s&quot;, error);\n            error.printStackTrace();\n        }\n    }\n\n</code></pre>\n<p>This especially makes sense, if the <code>reader</code> comes from the function parameters.</p>\n<p>Having said that, this feature is *<em>very very very similar to python context manager</em>, you can define/custom your own class that implements <code>AutoCloseable</code>.</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-try-with-resources#custom\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-try-with-resources#custom</a></li>\n</ul>\n<pre><code>public class MyResource implements AutoCloseable {\n    @Override\n    public void close() throws Exception {\n        System.out.println(&quot;Closed MyResource&quot;);\n    }\n}\n</code></pre>\n<p>As longs as it calls the <code>close</code>, so you can do whatever you want with it (any kind of clean-up, resource closing, api closing and what more what else).</p>\n<p>The only difference I see (at least from user perspective, obviously the implementation may be very different on each language) is that, to <strong>enable</strong> this feature in <code>java</code> you really need to put it inside a try/catch block, whereas, in <code>python</code> is completely independent of an error - catch scenario.</p>\n<p><strong>Why is this relevant?</strong></p>\n<p>For what I see, having it as a try-catch scenario may seems to restrict what you can actually do with it and especially, you wanna close that resource <strong>not because an error was raised, but because it existed the scope!</strong>, which is in fact how it works, but it may make you think that, it closes only when is raised.</p>\n<p>In the following example I show how to use it without the need for an exception to be thrown, but, it doesn't look as obvious as in the python way to be honest (which is not the end of the world).</p>\n<p>Normal AutoCloseable</p>\n<pre><code>public class Main\n{\n    public static class MyResource implements AutoCloseable {\n        @Override\n        public void close() throws Exception {\n            System.out.println(&quot;Resource closed, let's call some resource ... &quot;);\n        }\n    }\n\n    public static void main( String[] args )\n    {\n        final MyResource resource1 = new MyResource();\n\n        try (resource1; ) {\n            System.out.println(&quot;Inside Try - catch block&quot;);\n        } catch (Exception error) {\n            error.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>Mhh, but what if I don't wanna thrown an error ?\nAnd I just want to call some other thing that, I want to make sure are called when that object is closed.</p>\n<pre><code>public class Main\n{\n    public static class MyResource implements AutoCloseable {\n        @Override\n        public void close() {\n            System.out.println(&quot;Resource closed, let's call some resource ... &quot;);\n        }\n    }\n\n    public static void main( String[] args )\n    {\n        final MyResource resource1 = new MyResource();\n\n        try (resource1; ) {\n            System.out.println(&quot;Inside Try - catch block&quot;);\n        }\n\n    }\n}\n\n</code></pre>\n<p>Do it this way, it's looks very similar to the python version, I <strong>don't have to catch (and throw)</strong> anything since, that is not the point my particular autoclosable,</p>\n<p>Cool thing is that, any un-caught erorrs that happened withing that try-with-resource will still call the <strong>close method</strong></p>\n<pre><code>public class Main\n{\n    public static class MyResource implements AutoCloseable {\n        @Override\n        public void close() {\n            System.out.println(&quot;Resource closed, let's call some resource ... &quot;);\n        }\n    }\n\n    public static void main( String[] args ) throws FileNotFoundException {\n        final MyResource resource1 = new MyResource();\n\n        try (resource1; ) {\n            System.out.println(&quot;Inside Try - catch block&quot;);\n            final Scanner readerTerminal = new Scanner(new File(&quot;dont_exits.txt&quot;));\n        }\n\n    }\n}\n\n</code></pre>\n<p>Which outputs</p>\n<pre><code>\nInside Try - catch block\nResource closed, let's call some resource ... \nException in thread &quot;main&quot; java.io.FileNotFoundException: dont_exits.txt (No such file or directory)\n    at java.base/java.io.FileInputStream.open0(Native Method)\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n    at java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:639)\n    at com.koubae.app1.Main.main(Main.java:30)\n\nProcess finished with exit code 1\n</code></pre>\n<h3>'Hovercraft Full Of Eels' note on comment</h3>\n<blockquote>\n<p>Java has try-with-resources, which is probably the best way, except in certain circumstances, one of which you are using System.in (as you are doing) and wish to avoid closing it prematurely. Once closed, that stream remains closed.</p>\n</blockquote>\n<p>So, despite all the above example, I don't think you should close at a Scanner which scans the <code>System.in</code> (but there may be reasons)</p>\n<pre><code>  public static void main( String[] args )\n    {\n        final Scanner readerUserTerminal = new Scanner(System.in);\n        try (\n            readerUserTerminal;\n        ) {\n            System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\n            if (readerUserTerminal.hasNextLine()) {\n                String username = readerUserTerminal.nextLine();\n                System.out.format(&quot;Hello %s&quot;, username);\n            }\n        } catch (NoSuchElementException | IllegalStateException error) {\n            System.out.format(&quot;Error while reading scanner, reason: %s&quot;, error);\n            error.printStackTrace();\n        } catch (Exception error) {\n            System.out.format(&quot;Something went wrong while reading scanner, reason: %s&quot;, error);\n            error.printStackTrace();\n        }\n        // yea no ... will break...\n        Scanner second = new Scanner(System.in);\n        System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\n        String username2 = second.nextLine();\n        System.out.format(&quot;Hello %s&quot;, username2);\n\n\n\n    }\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>Hello fede&gt;&gt;&gt; username: Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n    at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n    at com.koubae.app1.Main.main(Main.java:39)\n</code></pre>\n<p><strong>So be careful!</strong>, I am actually surpise since, in many many tutorials they are using the Scanner to read user input from terminal and then show to close it, wich, not being a File, but the System.in (for me is like <code>stdin</code> like in C or python <code>sys.stdin</code>. Quite awful the level of tutorials out there. watch out! :D</p>\n"}],"owner":{"account_id":19044543,"reputation":6393,"user_id":13903942,"display_name":"Federico Ba&#249;"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1681645942,"accepted_answer_id":76026057,"answer_count":2,"score":-1,"last_activity_date":1681646046,"creation_date":1681585594,"question_id":76024248,"body_markdown":"## Question\r\n\r\nWhat&#39;s the best way / safest way to close a &#39;i/O resource&#39; in Java? \r\n\r\n### Context\r\n\r\nComing from python background, which uses  the `with` which creates a [Context Manager][1] statement to \r\n[Reading and Writing Files][2], it **ensures that, the resource of the context if closed/cleanedup** (technically this can be anything, but built in io operations for instance will do a close once it goes out of scope, even sockets)\r\n\r\nSo taking this code:\r\n\r\n```\r\nfile = open(&#39;workfile&#39;, encoding=&quot;utf-8&quot;)\r\nread_data = f.read()\r\nfile.close()\r\n```\r\n\r\n**The recommended way is using the `with` statement**\r\n\r\n```\r\nwith open(&#39;workfile&#39;, encoding=&quot;utf-8&quot;) as file:\r\n    read_data = file.read()\r\n```\r\nBy the time we exit the with scope (which is literally, the previous indentation level) even if an error occurred, the file **will always be closed** \r\n\r\nSure we could do this\r\n\r\n```\r\ntry:\r\n    file = open(&#39;workfile&#39;, encoding=&quot;utf-8&quot;)\r\n    read_data = f.read()\r\nexcept Exception as _: \r\n    pass\r\nfinally:\r\n    file.close()\r\n```\r\n\r\nBut, most cases, a context manager is better. One reason is that, simply someone may forget to write down the `file.close()` but also, is simply more clean and safe. \r\n\r\n### Java example code\r\n\r\n\r\nNow in java, what is the recommended, similar why to handle this?\r\n\r\nTaking as example the `Scanner`:\r\n\r\n\r\n```\r\npublic class App \r\n{\r\n    public static void main( String... args )\r\n    {\r\n        Scanner reader = new Scanner(System.in);\r\n        try {\r\n            System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\r\n            if (reader.hasNextLine()) {\r\n                String username = reader.nextLine();\r\n                System.out.format(&quot;Hello %s&quot;, username);\r\n            }\r\n        } catch (Exception error) {\r\n            System.out.format(&quot;Error while reading scanner %s&quot;, error);\r\n        } finally {\r\n            reader.close();\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, this is how I am handling it, \r\n#### is this the `java` way?\r\n\r\n  [1]: https://docs.python.org/3/reference/datamodel.html#context-managers\r\n  [2]: https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files","title":"Java | Safest way to close resources","body":"<h2>Question</h2>\n<p>What's the best way / safest way to close a 'i/O resource' in Java?</p>\n<h3>Context</h3>\n<p>Coming from python background, which uses  the <code>with</code> which creates a <a href=\"https://docs.python.org/3/reference/datamodel.html#context-managers\" rel=\"nofollow noreferrer\">Context Manager</a> statement to\n<a href=\"https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow noreferrer\">Reading and Writing Files</a>, it <strong>ensures that, the resource of the context if closed/cleanedup</strong> (technically this can be anything, but built in io operations for instance will do a close once it goes out of scope, even sockets)</p>\n<p>So taking this code:</p>\n<pre><code>file = open('workfile', encoding=&quot;utf-8&quot;)\nread_data = f.read()\nfile.close()\n</code></pre>\n<p><strong>The recommended way is using the <code>with</code> statement</strong></p>\n<pre><code>with open('workfile', encoding=&quot;utf-8&quot;) as file:\n    read_data = file.read()\n</code></pre>\n<p>By the time we exit the with scope (which is literally, the previous indentation level) even if an error occurred, the file <strong>will always be closed</strong></p>\n<p>Sure we could do this</p>\n<pre><code>try:\n    file = open('workfile', encoding=&quot;utf-8&quot;)\n    read_data = f.read()\nexcept Exception as _: \n    pass\nfinally:\n    file.close()\n</code></pre>\n<p>But, most cases, a context manager is better. One reason is that, simply someone may forget to write down the <code>file.close()</code> but also, is simply more clean and safe.</p>\n<h3>Java example code</h3>\n<p>Now in java, what is the recommended, similar why to handle this?</p>\n<p>Taking as example the <code>Scanner</code>:</p>\n<pre><code>public class App \n{\n    public static void main( String... args )\n    {\n        Scanner reader = new Scanner(System.in);\n        try {\n            System.out.print(&quot;&gt;&gt;&gt; username: &quot;);\n            if (reader.hasNextLine()) {\n                String username = reader.nextLine();\n                System.out.format(&quot;Hello %s&quot;, username);\n            }\n        } catch (Exception error) {\n            System.out.format(&quot;Error while reading scanner %s&quot;, error);\n        } finally {\n            reader.close();\n        }\n\n\n    }\n}\n</code></pre>\n<p>As you can see, this is how I am handling it,</p>\n<h4>is this the <code>java</code> way?</h4>\n"},{"tags":["java","io"],"answers":[{"tags":[],"owner":{"account_id":20261613,"reputation":323,"user_id":14859844,"display_name":"Shahab Ranjbary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681627731,"creation_date":1681627731,"answer_id":76026279,"question_id":76026134,"body_markdown":"Because you used input.nextLine() twice inside the while loop, which is causing every second value to be skipped. You should only call input.nextLine() once inside the loop and store the value in a variable for further processing.\r\n\r\nTry updating your code to the following:     \r\n\r\n    while(input.hasNextLine())\r\n    {\r\n        newLine = input.nextLine();\r\n        if(newLine.isEmpty()) {\r\n            break;\r\n        }\r\n        System.out.println(&quot;new line is: &quot; + newLine);\r\n        inputStrings.add(newLine);\r\n    }","title":"Read multiple console lines of input &amp; store them in java","body":"<p>Because you used input.nextLine() twice inside the while loop, which is causing every second value to be skipped. You should only call input.nextLine() once inside the loop and store the value in a variable for further processing.</p>\n<p>Try updating your code to the following:</p>\n<pre><code>while(input.hasNextLine())\n{\n    newLine = input.nextLine();\n    if(newLine.isEmpty()) {\n        break;\n    }\n    System.out.println(&quot;new line is: &quot; + newLine);\n    inputStrings.add(newLine);\n}\n</code></pre>\n"}],"owner":{"account_id":21499234,"reputation":33,"user_id":15843743,"display_name":"Lucas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681645570,"creation_date":1681624908,"question_id":76026134,"body_markdown":"I&#39;m currently working on a program that reads multiple lines of input from the console, each line is stored in an ArrayList. I have it somewhat working except it only stores every second value, I&#39;ve tried for a while to figure out what&#39;s causing it with no luck. I&#39;d appreciate any help. The code and output are below.\r\n\r\n```\r\nSystem.out.println(&quot;\\nPlease enter your input: &quot;);\r\nwhile(input.hasNextLine() &amp;&amp; input.nextLine().isEmpty() == false) {\r\n     newLine = input.nextLine();\r\n     System.out.println(&quot;new line is: &quot; + newLine);\r\n     inputStrings.add(newLine);\r\n}\r\nSystem.out.println(&quot;input is: &quot; + inputStrings);           \r\n```\r\n\r\nOUTPUT: \r\n\r\n```\r\nPlease enter your input:\r\ntest1\r\ntest2\r\nnew line is: test2\r\ntest3\r\ntest4\r\nnew line is: test4\r\ninput is: [test2, test4]\r\n```\r\n\r\n\r\noutput should instead be: [test1, test2, test3, test4]","title":"Read multiple console lines of input &amp; store them in java","body":"<p>I'm currently working on a program that reads multiple lines of input from the console, each line is stored in an ArrayList. I have it somewhat working except it only stores every second value, I've tried for a while to figure out what's causing it with no luck. I'd appreciate any help. The code and output are below.</p>\n<pre><code>System.out.println(&quot;\\nPlease enter your input: &quot;);\nwhile(input.hasNextLine() &amp;&amp; input.nextLine().isEmpty() == false) {\n     newLine = input.nextLine();\n     System.out.println(&quot;new line is: &quot; + newLine);\n     inputStrings.add(newLine);\n}\nSystem.out.println(&quot;input is: &quot; + inputStrings);           \n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>Please enter your input:\ntest1\ntest2\nnew line is: test2\ntest3\ntest4\nnew line is: test4\ninput is: [test2, test4]\n</code></pre>\n<p>output should instead be: [test1, test2, test3, test4]</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681456655,"post_id":76008518,"comment_id":134062177,"body_markdown":"Why that databaseconfig while you are using SPring Boot (that shouldn&#39;t be needed in the firs tplace and makes me wonder what else you are doing to fight the defaults). The cod eyou have in your controller belongs in a service which should be `@Transactional`.","body":"Why that databaseconfig while you are using SPring Boot (that shouldn&#39;t be needed in the firs tplace and makes me wonder what else you are doing to fight the defaults). The cod eyou have in your controller belongs in a service which should be <code>@Transactional</code>."},{"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"score":0,"creation_date":1681465758,"post_id":76008518,"comment_id":134064352,"body_markdown":"The project is a minimal example. I can remove `DatabaseConfig` and it still leads to a connection leak. I don&#39;t use any other config or annotations except for `@SpringBootApplication` on the entry class. It does not leak when i use `@Transactional`, but does that matter? Shouldn&#39;t it also work without leaking if i don&#39;t use any transaction management myself? I can do the same without `@Transactional`, but instead of `scroll` call `getResultList` and that does not leak.","body":"The project is a minimal example. I can remove <code>DatabaseConfig</code> and it still leads to a connection leak. I don&#39;t use any other config or annotations except for <code>@SpringBootApplication</code> on the entry class. It does not leak when i use <code>@Transactional</code>, but does that matter? Shouldn&#39;t it also work without leaking if i don&#39;t use any transaction management myself? I can do the same without <code>@Transactional</code>, but instead of <code>scroll</code> call <code>getResultList</code> and that does not leak."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681473818,"post_id":76008518,"comment_id":134066085,"body_markdown":"Yes it does matter, as you noticed yourself. Data access code should be in a transaction, that way Spring will manage the resources for you. If you don&#39;t you manually have to manage everything and if you are doing things wrong you even might end up using multiple connections (which I suspect is the case here and releasing only one).","body":"Yes it does matter, as you noticed yourself. Data access code should be in a transaction, that way Spring will manage the resources for you. If you don&#39;t you manually have to manage everything and if you are doing things wrong you even might end up using multiple connections (which I suspect is the case here and releasing only one)."}],"answers":[{"tags":[],"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681645489,"creation_date":1681641597,"answer_id":76027239,"question_id":76008518,"body_markdown":"Answering my own question. As M. Deinum mentioned in the comments you should always have clear boundaries for your transactions, even if they are read-only. Hibernate also mentions this in their documentation:\r\n\r\n&gt; Database, or system, transaction boundaries are always necessary. No\r\n&gt; communication with the database can occur outside of a database\r\n&gt; transaction (this seems to confuse many developers who are used to the\r\n&gt; auto-commit mode). Always use clear transaction boundaries, even for\r\n&gt; read-only operations.\r\n\r\nhttps://docs.jboss.org/hibernate/core/3.3/reference/en/html/transactions.html#transactions-demarcation\r\n\r\nI still wanted to understand why a simple `getResultList` on the Query does not leak a connection, while `scroll`/`next` does, although both only request one connection and return a valid result. \r\n\r\nIt turns out that this is an interaction between the shared `EntityManager` that Spring provides and specific methods on the `Query` interface. The `EntityManager` you receive from Spring is actually a shared proxy of type `SharedEntityManagerInvocationHandler` which proxies the methods called on it. Specifically methods that return a `Query` interface (i.e. `createQuery`) return another proxy for the actual `Query` object.\r\n\r\nThat proxy has a list of methods which it considers to be terminating, called `queryTerminatingMethods`. The list contains: \t\t\t\r\n\r\n- &quot;execute&quot;,  // jakarta.persistence.StoredProcedureQuery.execute()\r\n- &quot;executeUpdate&quot;, // jakarta.persistence.Query.executeUpdate()\r\n- &quot;getSingleResult&quot;,  // jakarta.persistence.Query.getSingleResult()\r\n- &quot;getResultStream&quot;,  // jakarta.persistence.Query.getResultStream()\r\n- &quot;getResultList&quot;,  // jakarta.persistence.Query.getResultList()\r\n- &quot;list&quot;,  // org.hibernate.query.Query.list()\r\n- &quot;stream&quot;,  // org.hibernate.query.Query.stream()\r\n- &quot;uniqueResult&quot;,  // org.hibernate.query.Query.uniqueResult() \t\t\t\r\n- &quot;uniqueResultOptional&quot; // org.hibernate.query.Query.uniqueResultOptional()\r\n\r\nFor all those methods the proxy will automatically close the shared entity manager after invoking them, which also in turn releases the connection. `scroll` is missing from the list, which makes sense. And this is the reason why it leaks a connection here. You can also not just call `close` on the proxied EntityManager Spring provides, because that actually does nothing.\r\n\r\nYou can also confirm this behaviour by creating your own `EntityManager` with the Spring provided `EntityManagerFactory` before executing the query (which in most cases you wouldn&#39;t want/need to do). If you don&#39;t call close on this `EntityManager`, both `getResultList` and `scroll` will leak a connection.","title":"Spring/Hibernate connection leak with ScrollableResults","body":"<p>Answering my own question. As M. Deinum mentioned in the comments you should always have clear boundaries for your transactions, even if they are read-only. Hibernate also mentions this in their documentation:</p>\n<blockquote>\n<p>Database, or system, transaction boundaries are always necessary. No\ncommunication with the database can occur outside of a database\ntransaction (this seems to confuse many developers who are used to the\nauto-commit mode). Always use clear transaction boundaries, even for\nread-only operations.</p>\n</blockquote>\n<p><a href=\"https://docs.jboss.org/hibernate/core/3.3/reference/en/html/transactions.html#transactions-demarcation\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/core/3.3/reference/en/html/transactions.html#transactions-demarcation</a></p>\n<p>I still wanted to understand why a simple <code>getResultList</code> on the Query does not leak a connection, while <code>scroll</code>/<code>next</code> does, although both only request one connection and return a valid result.</p>\n<p>It turns out that this is an interaction between the shared <code>EntityManager</code> that Spring provides and specific methods on the <code>Query</code> interface. The <code>EntityManager</code> you receive from Spring is actually a shared proxy of type <code>SharedEntityManagerInvocationHandler</code> which proxies the methods called on it. Specifically methods that return a <code>Query</code> interface (i.e. <code>createQuery</code>) return another proxy for the actual <code>Query</code> object.</p>\n<p>That proxy has a list of methods which it considers to be terminating, called <code>queryTerminatingMethods</code>. The list contains:</p>\n<ul>\n<li>&quot;execute&quot;,  // jakarta.persistence.StoredProcedureQuery.execute()</li>\n<li>&quot;executeUpdate&quot;, // jakarta.persistence.Query.executeUpdate()</li>\n<li>&quot;getSingleResult&quot;,  // jakarta.persistence.Query.getSingleResult()</li>\n<li>&quot;getResultStream&quot;,  // jakarta.persistence.Query.getResultStream()</li>\n<li>&quot;getResultList&quot;,  // jakarta.persistence.Query.getResultList()</li>\n<li>&quot;list&quot;,  // org.hibernate.query.Query.list()</li>\n<li>&quot;stream&quot;,  // org.hibernate.query.Query.stream()</li>\n<li>&quot;uniqueResult&quot;,  // org.hibernate.query.Query.uniqueResult()</li>\n<li>&quot;uniqueResultOptional&quot; // org.hibernate.query.Query.uniqueResultOptional()</li>\n</ul>\n<p>For all those methods the proxy will automatically close the shared entity manager after invoking them, which also in turn releases the connection. <code>scroll</code> is missing from the list, which makes sense. And this is the reason why it leaks a connection here. You can also not just call <code>close</code> on the proxied EntityManager Spring provides, because that actually does nothing.</p>\n<p>You can also confirm this behaviour by creating your own <code>EntityManager</code> with the Spring provided <code>EntityManagerFactory</code> before executing the query (which in most cases you wouldn't want/need to do). If you don't call close on this <code>EntityManager</code>, both <code>getResultList</code> and <code>scroll</code> will leak a connection.</p>\n"}],"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76027239,"answer_count":1,"score":2,"last_activity_date":1681645489,"creation_date":1681408806,"question_id":76008518,"body_markdown":"I am currently investigating the following issue, which also affects our production environment https://github.com/querydsl/querydsl/issues/3089. A author of this library suspected that Hibernate might be the culprit of the issue, and i was able to reproduce this with a minimal example. Before opening an issue in the Hibernate issue tracker i wanted to make sure that i am not doing anything horribly wrong or it actually is an issue with Spring. \r\n\r\nI am using the following versions:\r\n\r\n - Spring-Boot 3.0.5 (older versions are also affected)\r\n - Hibernate 6.1.7 FINAL (older versions are also affected)\r\n\r\nCalling the following controller is causing the connection leak, which Hikari also picks up and logs in the output.\r\n\r\n    @Controller\r\n    public class IndexController {\r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        @GetMapping(&quot;/test&quot;)\r\n        public ResponseEntity&lt;Map&lt;Long, String&gt;&gt; fetchEntities() {\r\n            Query query = entityManager.createQuery(&quot;select testEntity.id, testEntity.name from TestEntity testEntity&quot;);\r\n            org.hibernate.query.Query&lt;?&gt; unwrappedQuery = query.unwrap(org.hibernate.query.Query.class);\r\n            try (ScrollableResults&lt;?&gt; results = unwrappedQuery.scroll()) {\r\n                while (results.next()) {}\r\n            }\r\n            return ResponseEntity.noContent().build();\r\n        }\r\n    }\r\nThe connection also leaks, if i call `entityManager.close` and/or `results.close()`\r\n\r\nWith this entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;test&quot;)\r\n    public class TestEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        private String name;\r\n    \r\n        public TestEntity() {\r\n        }\r\n    \r\n        public TestEntity(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n    }\r\n\r\nThis is my database config:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(basePackageClasses = { DatabaseConfig.class })\r\n    @EntityScan(basePackageClasses = { DatabaseConfig.class })\r\n    public class DatabaseConfig {\r\n    }\r\n\r\nMy application config:\r\n\r\n    management:\r\n      server:\r\n        base-path: /actuator\r\n        port: 8081\r\n      endpoints.web.exposure.include: &#39;*&#39;\r\n    \r\n    spring:\r\n      datasource:\r\n        url: jdbc:h2:mem:testdb\r\n        driver-class-name: org.h2.Driver\r\n        username: \r\n        password:\r\n        hikari:\r\n          leak-detection-threshold: 2000\r\n      jpa:\r\n        open-in-view: false\r\n        hibernate:\r\n          ddl-auto: create\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.H2Dialect\r\n    \r\n    logging:\r\n      level:\r\n        com.zaxxer.hikari.pool.HikariPool: debug","title":"Spring/Hibernate connection leak with ScrollableResults","body":"<p>I am currently investigating the following issue, which also affects our production environment <a href=\"https://github.com/querydsl/querydsl/issues/3089\" rel=\"nofollow noreferrer\">https://github.com/querydsl/querydsl/issues/3089</a>. A author of this library suspected that Hibernate might be the culprit of the issue, and i was able to reproduce this with a minimal example. Before opening an issue in the Hibernate issue tracker i wanted to make sure that i am not doing anything horribly wrong or it actually is an issue with Spring.</p>\n<p>I am using the following versions:</p>\n<ul>\n<li>Spring-Boot 3.0.5 (older versions are also affected)</li>\n<li>Hibernate 6.1.7 FINAL (older versions are also affected)</li>\n</ul>\n<p>Calling the following controller is causing the connection leak, which Hikari also picks up and logs in the output.</p>\n<pre><code>@Controller\npublic class IndexController {\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @GetMapping(&quot;/test&quot;)\n    public ResponseEntity&lt;Map&lt;Long, String&gt;&gt; fetchEntities() {\n        Query query = entityManager.createQuery(&quot;select testEntity.id, testEntity.name from TestEntity testEntity&quot;);\n        org.hibernate.query.Query&lt;?&gt; unwrappedQuery = query.unwrap(org.hibernate.query.Query.class);\n        try (ScrollableResults&lt;?&gt; results = unwrappedQuery.scroll()) {\n            while (results.next()) {}\n        }\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>\n<p>The connection also leaks, if i call <code>entityManager.close</code> and/or <code>results.close()</code></p>\n<p>With this entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;test&quot;)\npublic class TestEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String name;\n\n    public TestEntity() {\n    }\n\n    public TestEntity(String name) {\n        this.name = name;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n<p>This is my database config:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackageClasses = { DatabaseConfig.class })\n@EntityScan(basePackageClasses = { DatabaseConfig.class })\npublic class DatabaseConfig {\n}\n</code></pre>\n<p>My application config:</p>\n<pre><code>management:\n  server:\n    base-path: /actuator\n    port: 8081\n  endpoints.web.exposure.include: '*'\n\nspring:\n  datasource:\n    url: jdbc:h2:mem:testdb\n    driver-class-name: org.h2.Driver\n    username: \n    password:\n    hikari:\n      leak-detection-threshold: 2000\n  jpa:\n    open-in-view: false\n    hibernate:\n      ddl-auto: create\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.H2Dialect\n\nlogging:\n  level:\n    com.zaxxer.hikari.pool.HikariPool: debug\n</code></pre>\n"},{"tags":["java","performance","execution","boxing","autoboxing"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1478029010,"post_id":40367376,"comment_id":67987960,"body_markdown":"Instead of creating the wrapper yourself, try using casting/autoboxing. `Integer` is cached within the byte range. Regardless, your method for microbenchmarking isn&#39;t quite up to par with what you need for accurate results (jvm warmup, way more runs, nano vs millis, etc)","body":"Instead of creating the wrapper yourself, try using casting/autoboxing. <code>Integer</code> is cached within the byte range. Regardless, your method for microbenchmarking isn&#39;t quite up to par with what you need for accurate results (jvm warmup, way more runs, nano vs millis, etc)"},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1478029300,"post_id":40367376,"comment_id":67988113,"body_markdown":"You could also try flipping the processing order to try your wrapper before the primitive to see if you see the same thing.  I agree with Rogue though - there are some issues with the micro benchmarking you&#39;re doing.  Take a look at https://github.com/google/caliper if you want more detail into the reasons.","body":"You could also try flipping the processing order to try your wrapper before the primitive to see if you see the same thing.  I agree with Rogue though - there are some issues with the micro benchmarking you&#39;re doing.  Take a look at <a href=\"https://github.com/google/caliper\" rel=\"nofollow noreferrer\">github.com/google/caliper</a> if you want more detail into the reasons."},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1478029374,"post_id":40367376,"comment_id":67988160,"body_markdown":"You might want to update with question with _why_ you care.  You might get better answers.","body":"You might want to update with question with <i>why</i> you care.  You might get better answers."},{"owner":{"account_id":7884110,"reputation":2090,"user_id":5956891,"accept_rate":91,"display_name":"Shree Prakash"},"score":0,"creation_date":1478030281,"post_id":40367376,"comment_id":67988629,"body_markdown":"@Snekse Sir thanks a lot. When I flipped the processing order of wrapper before the primitive . I got same.","body":"@Snekse Sir thanks a lot. When I flipped the processing order of wrapper before the primitive . I got same."},{"owner":{"account_id":6661882,"reputation":355,"user_id":5140713,"display_name":"Konrad"},"score":0,"creation_date":1478033239,"post_id":40367376,"comment_id":67990149,"body_markdown":"And you measure the time to output of &#39;count&#39;. You should move the System.out behind the &#39;stopTime&#39;. IO operations may influence the result notable.","body":"And you measure the time to output of &#39;count&#39;. You should move the System.out behind the &#39;stopTime&#39;. IO operations may influence the result notable."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1681644878,"creation_date":1478029121,"answer_id":40367427,"question_id":40367376,"body_markdown":"You are getting essential things wrong here.\r\n\r\nFirst of all, writing a good micro-benchmark goes way beyond what you are doing in your code; see [here][1] for some guidelines.\r\n\r\nThen: you have to understand the things you want to benchmark. For example:\r\n\r\n    public static long wrapper(Integer count)\r\n    {\r\n      long startTime = System.currentTimeMillis();\r\n      for(int i=0;i&lt;10000;i++)\r\n        count++\r\n\r\nInteger objects are **immutable**. This code does not only &quot;add&quot; Integer objects, it **creates** one new Integer object per iteration. \r\n\r\nAnd of course: your code doesn&#39;t even **use** the computation result. If the JVM/JIT notices that, it might **completely** throw away that looping and adding construct. So your methods should at least return the final value of count; and the caller should print that result.\r\n\r\nAnd to answer your specific question: of course using the reference type wrapper classes comes at certain cost. When your program is dealing with (really) high numbers of elements to work on, then using a List of Integer **does have** considerable higher cost than using an array of int for example. And when you don&#39;t pay attention and you are doing implicit autoboxing/unboxing in your code, that can really **[hurt][2]**. \r\n\r\nBut the *real* answer here is: you are focusing on the wrong thing. You see, your **first** priority should be to do a **great design**, followed by a well-tested, robust, readable, maintainble implementation. Of course, you should not do outright stupid things and waste performance, but well, before **you** worry about performance, you better **worry** about your Java skills in general.\r\n\r\nLong story short: focus on understanding java and on &quot;how do I create a good design&quot;; and *forget* about &quot;performance&quot; for now. You only have to deal with &quot;performance&quot; when it is a *real* issue in your application. And then you do *real* profiling in order to identify the root cause and fix that.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\r\n  [2]: https://stackoverflow.com/questions/6037389/integer-auto-unboxing-and-auto-boxing-gives-performance-issues","title":"Performance of Primitive Data types VS their Wrapper class","body":"<p>You are getting essential things wrong here.</p>\n<p>First of all, writing a good micro-benchmark goes way beyond what you are doing in your code; see <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">here</a> for some guidelines.</p>\n<p>Then: you have to understand the things you want to benchmark. For example:</p>\n<pre><code>public static long wrapper(Integer count)\n{\n  long startTime = System.currentTimeMillis();\n  for(int i=0;i&lt;10000;i++)\n    count++\n</code></pre>\n<p>Integer objects are <strong>immutable</strong>. This code does not only &quot;add&quot; Integer objects, it <strong>creates</strong> one new Integer object per iteration.</p>\n<p>And of course: your code doesn't even <strong>use</strong> the computation result. If the JVM/JIT notices that, it might <strong>completely</strong> throw away that looping and adding construct. So your methods should at least return the final value of count; and the caller should print that result.</p>\n<p>And to answer your specific question: of course using the reference type wrapper classes comes at certain cost. When your program is dealing with (really) high numbers of elements to work on, then using a List of Integer <strong>does have</strong> considerable higher cost than using an array of int for example. And when you don't pay attention and you are doing implicit autoboxing/unboxing in your code, that can really <strong><a href=\"https://stackoverflow.com/questions/6037389/integer-auto-unboxing-and-auto-boxing-gives-performance-issues\">hurt</a></strong>.</p>\n<p>But the <em>real</em> answer here is: you are focusing on the wrong thing. You see, your <strong>first</strong> priority should be to do a <strong>great design</strong>, followed by a well-tested, robust, readable, maintainble implementation. Of course, you should not do outright stupid things and waste performance, but well, before <strong>you</strong> worry about performance, you better <strong>worry</strong> about your Java skills in general.</p>\n<p>Long story short: focus on understanding java and on &quot;how do I create a good design&quot;; and <em>forget</em> about &quot;performance&quot; for now. You only have to deal with &quot;performance&quot; when it is a <em>real</em> issue in your application. And then you do <em>real</em> profiling in order to identify the root cause and fix that.</p>\n"}],"owner":{"account_id":7884110,"reputation":2090,"user_id":5956891,"accept_rate":91,"display_name":"Shree Prakash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3189,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":40367427,"answer_count":1,"score":3,"last_activity_date":1681644878,"creation_date":1478028902,"question_id":40367376,"body_markdown":"I tried to measure execution time of primitive data types and their wrapper class for counting same number. I got that wrapper class is taking more time than primitive data types. \r\n\r\nExecution time of primitive t1=5 and Execution time of wrapper class t2= 31 in my following code.\r\n\r\n  \r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    public class Performance\r\n    {\r\n      public static long primitive(int count)\r\n         {\r\n       long startTime = System.currentTimeMillis();\r\n       for(int i=0;i&lt;10000;i++)\r\n         count++;\r\n        System.out.println(count);\r\n       long stopTime = System.currentTimeMillis();\r\n       long elapsedTime = stopTime - startTime;\r\n       return elapsedTime;\r\n    }\r\n      public static long wrapper(Integer count)\r\n    {\r\n        long startTime = System.currentTimeMillis();\r\n        for(int i=0;i&lt;10000;i++)\r\n          count++;\r\n          System.out.println(count);\r\n        long stopTime = System.currentTimeMillis();\r\n        long elapsedTime = stopTime - startTime;\r\n        return elapsedTime;\r\n     }\r\n\r\n      public static void main(String args[])\r\n      {\r\n       \r\n       Integer c = new Integer(0);\r\n       long t2=Performance.wrapper(c);\r\n        int count=0;\r\n       long t1=Performance.primitive(count);\r\n      System.out.println(&quot;t1=&quot;+t1+&quot;t2=&quot;+t2);\r\n\r\n      }\r\n    }\r\n\r\nIs there performance difference due to object creation of Wrapper class (Integer) or anything else ?\r\n","title":"Performance of Primitive Data types VS their Wrapper class","body":"<p>I tried to measure execution time of primitive data types and their wrapper class for counting same number. I got that wrapper class is taking more time than primitive data types. </p>\n\n<p>Execution time of primitive t1=5 and Execution time of wrapper class t2= 31 in my following code.</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\npublic class Performance\n{\n  public static long primitive(int count)\n     {\n   long startTime = System.currentTimeMillis();\n   for(int i=0;i&lt;10000;i++)\n     count++;\n    System.out.println(count);\n   long stopTime = System.currentTimeMillis();\n   long elapsedTime = stopTime - startTime;\n   return elapsedTime;\n}\n  public static long wrapper(Integer count)\n{\n    long startTime = System.currentTimeMillis();\n    for(int i=0;i&lt;10000;i++)\n      count++;\n      System.out.println(count);\n    long stopTime = System.currentTimeMillis();\n    long elapsedTime = stopTime - startTime;\n    return elapsedTime;\n }\n\n  public static void main(String args[])\n  {\n\n   Integer c = new Integer(0);\n   long t2=Performance.wrapper(c);\n    int count=0;\n   long t1=Performance.primitive(count);\n  System.out.println(\"t1=\"+t1+\"t2=\"+t2);\n\n  }\n}\n</code></pre>\n\n<p>Is there performance difference due to object creation of Wrapper class (Integer) or anything else ?</p>\n"},{"tags":["java","html","spring","rest"],"owner":{"account_id":28317640,"reputation":1,"user_id":21653929,"display_name":"Artom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681644543,"creation_date":1681614174,"question_id":76025716,"body_markdown":"I have a method, that is supposed to call html form and then add use info from it in another function. But when I call http request like this `localhost:8080/stops/addStop` I get blank page(&quot;/stops&quot; is passed to @RequestMapping at class declaration).\r\nHere is my method:\r\n\r\n```\r\n@PostMapping(&quot;/addStop&quot;)\r\n    public String addStop(@RequestParam String stopName) {\r\n        try {\r\n            stopsDao.insertStop(new Stops(stopName));\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n        return &quot;redirect:/stops&quot;;\r\n    }\r\n```\r\nAnd that&#39;s like my form looks:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Add stop&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;form method=&quot;POST&quot; action=&quot;/stops/addStop&quot;&gt;\r\n    &lt;label for=&quot;stop&quot;&gt;Stop:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;stop&quot; name=&quot;stop&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n  &lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI have already tried to find the answer to this problem, but none of them helped. I will be happy to get any advice on it.\r\n\r\n**Update**\r\nIt might be obvious for some, but took some time for me, so I will leave the answer here. If I want to show the page, I can use  `@GetMapping`(might be some ways to do it using only @Post, but I couldn&#39;t find anything on it). \r\nSo the following code for showing the page should look like:\r\n\r\n    @GetMapping(&quot;/addStop&quot;)\r\n    public String showAddStopForm(Model model) throws IOException {\r\n         String formHtml = Files.readString(Path.of(&quot;lab-1/src/main/resources/templates/stops.html&quot;)); //Path to your html file\r\n         return formHtml;\r\n    }\r\nHope this helps someone.\r\n\r\n","title":"Unable to get post form using rest api","body":"<p>I have a method, that is supposed to call html form and then add use info from it in another function. But when I call http request like this <code>localhost:8080/stops/addStop</code> I get blank page(&quot;/stops&quot; is passed to @RequestMapping at class declaration).\nHere is my method:</p>\n<pre><code>@PostMapping(&quot;/addStop&quot;)\n    public String addStop(@RequestParam String stopName) {\n        try {\n            stopsDao.insertStop(new Stops(stopName));\n        }\n        catch (Exception ex)\n        {\n            System.out.println(ex.getMessage());\n        }\n        return &quot;redirect:/stops&quot;;\n    }\n</code></pre>\n<p>And that's like my form looks:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Add stop&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;form method=&quot;POST&quot; action=&quot;/stops/addStop&quot;&gt;\n    &lt;label for=&quot;stop&quot;&gt;Stop:&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;stop&quot; name=&quot;stop&quot;&gt;&lt;br&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n  &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I have already tried to find the answer to this problem, but none of them helped. I will be happy to get any advice on it.</p>\n<p><strong>Update</strong>\nIt might be obvious for some, but took some time for me, so I will leave the answer here. If I want to show the page, I can use  <code>@GetMapping</code>(might be some ways to do it using only @Post, but I couldn't find anything on it).\nSo the following code for showing the page should look like:</p>\n<pre><code>@GetMapping(&quot;/addStop&quot;)\npublic String showAddStopForm(Model model) throws IOException {\n     String formHtml = Files.readString(Path.of(&quot;lab-1/src/main/resources/templates/stops.html&quot;)); //Path to your html file\n     return formHtml;\n}\n</code></pre>\n<p>Hope this helps someone.</p>\n"},{"tags":["java","mysql","intellij-idea","dependencies"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1646236060,"post_id":71325414,"comment_id":126074139,"body_markdown":"That should work, Maven will automatically download the necessary library when you build it. Try building the project with Maven (`mvn clean install`, or by clicking it in the Maven panel in IntelliJ).","body":"That should work, Maven will automatically download the necessary library when you build it. Try building the project with Maven (<code>mvn clean install</code>, or by clicking it in the Maven panel in IntelliJ)."},{"owner":{"account_id":18449889,"reputation":55,"user_id":13440279,"display_name":"JohnSA"},"score":0,"creation_date":1646237183,"post_id":71325414,"comment_id":126074664,"body_markdown":"Thank you, reloading the project with maven fixed the issue!","body":"Thank you, reloading the project with maven fixed the issue!"},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1646237474,"post_id":71325414,"comment_id":126074784,"body_markdown":"Find the answer in here (as @Jesper comment)? [Import Maven dependencies in IntelliJ IDEA](https://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea)","body":"Find the answer in here (as @Jesper comment)? <a href=\"https://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea\">Import Maven dependencies in IntelliJ IDEA</a>"}],"answers":[{"tags":[],"owner":{"account_id":20170061,"reputation":31,"user_id":14793084,"display_name":"Kamal chaudhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681643084,"creation_date":1681643084,"answer_id":76027359,"question_id":71325414,"body_markdown":"I think they have recently changed in dependency MySQL.\r\nMy issue was resolved by adding the below dependency.You can also try it\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n","title":"IntelliJ Dependency not found: mysql-connector-java","body":"<p>I think they have recently changed in dependency MySQL.\nMy issue was resolved by adding the below dependency.You can also try it</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.mysql&lt;/groupId&gt;\n&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18449889,"reputation":55,"user_id":13440279,"display_name":"JohnSA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3506,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681643084,"creation_date":1646235741,"question_id":71325414,"body_markdown":"I am having an issue in which IntelliJ is not recognising the mysql-connector dependency in my pom.xml file. It appears as red and displays &#39;Dependency &#39;mysql:mysql-connector-java:8.0.25&#39; not found&#39;. I don&#39;t have to download anything, do I? Is declaring the dependency in pom.xml enough? I am also getting the same for the maven-failsafe-plugin.\r\n\r\nMy pom.xml file dependency:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.25&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIf anyone has any suggestions, they would be greatly appreciated. ","title":"IntelliJ Dependency not found: mysql-connector-java","body":"<p>I am having an issue in which IntelliJ is not recognising the mysql-connector dependency in my pom.xml file. It appears as red and displays 'Dependency 'mysql:mysql-connector-java:8.0.25' not found'. I don't have to download anything, do I? Is declaring the dependency in pom.xml enough? I am also getting the same for the maven-failsafe-plugin.</p>\n<p>My pom.xml file dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.25&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If anyone has any suggestions, they would be greatly appreciated.</p>\n"},{"tags":["java","char"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1681642560,"post_id":76027281,"comment_id":134086441,"body_markdown":"`char` is a (specialized) unsigned number. If you want that to work, you need to &#39;signal&#39; that a string is required: `System.out.print(&quot;&quot;+one+two+three);`","body":"<code>char</code> is a (specialized) unsigned number. If you want that to work, you need to &#39;signal&#39; that a string is required: <code>System.out.print(&quot;&quot;+one+two+three);</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681643771,"post_id":76027281,"comment_id":134086605,"body_markdown":"`+` only works as string concatenation if at least one operand is a `String` - not the case in posted code - Java Language Specification: [15.18. Additive Operators](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18): &quot;*If the type of either operand of a `+` operator is `String`, then the operation is string concatenation.*&quot;","body":"<code>+</code> only works as string concatenation if at least one operand is a <code>String</code> - not the case in posted code - Java Language Specification: <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18\" rel=\"nofollow noreferrer\">15.18. Additive Operators</a>: &quot;<i>If the type of either operand of a <code>+</code> operator is <code>String</code>, then the operation is string concatenation.</i>&quot;"}],"owner":{"account_id":28319831,"reputation":1,"user_id":21655826,"display_name":"Cem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681644329,"answer_count":0,"score":0,"last_activity_date":1681642389,"creation_date":1681642256,"question_id":76027281,"body_markdown":"I want to enter string value and writing first char to screen.\r\n\r\nCode:\t        \r\n\r\n        Scanner giris = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Enter Name: &quot;);\r\n\t\tString ad = giris.next();\r\n\t\tSystem.out.print(&quot;Enter Second Name: &quot;);\r\n\t\tString ikinciad = giris.next();\r\n\t\tSystem.out.print(&quot;Enter Lastname: &quot;);\r\n\t\tString soyad = giris.next();\r\n\t\t\r\n\t\tchar one = ad.charAt(0); //ilk karakterini almak i&#231;in 0 yazdik\r\n\t\tchar two = ikinciad.charAt(0); //ikinci olsaydi 1 yazardik \r\n\t\tchar three = soyad.charAt(0);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Initials: &quot;);\r\n\t\tSystem.out.print(one+two+three);\r\n\t\t\r\n\t\tgiris.close();\r\n\r\n\r\n\r\nOutput:\r\n\r\n         Enter Name: cem\r\n         Enter Second Name: ahmet\r\n         Enter Lastname: mehmet\r\n         Initials: 305\r\n\r\n","title":"my Java code prints numbers instead of characters","body":"<p>I want to enter string value and writing first char to screen.</p>\n<p>Code:</p>\n<pre><code>    Scanner giris = new Scanner(System.in);\n    \n    System.out.print(&quot;Enter Name: &quot;);\n    String ad = giris.next();\n    System.out.print(&quot;Enter Second Name: &quot;);\n    String ikinciad = giris.next();\n    System.out.print(&quot;Enter Lastname: &quot;);\n    String soyad = giris.next();\n    \n    char one = ad.charAt(0); //ilk karakterini almak i√ßin 0 yazdik\n    char two = ikinciad.charAt(0); //ikinci olsaydi 1 yazardik \n    char three = soyad.charAt(0);\n    \n    System.out.print(&quot;Initials: &quot;);\n    System.out.print(one+two+three);\n    \n    giris.close();\n</code></pre>\n<p>Output:</p>\n<pre><code>     Enter Name: cem\n     Enter Second Name: ahmet\n     Enter Lastname: mehmet\n     Initials: 305\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3804421,"reputation":338,"user_id":3157223,"display_name":"Prabhat"},"score":0,"creation_date":1468383479,"post_id":38342455,"comment_id":64098922,"body_markdown":"Java defines four integer types i.e., long , int, short, byte. So don&#39;t be confused with integer types and int. In java int is of 32 bits.","body":"Java defines four integer types i.e., long , int, short, byte. So don&#39;t be confused with integer types and int. In java int is of 32 bits."},{"owner":{"account_id":5279261,"reputation":481,"user_id":4215176,"accept_rate":79,"display_name":"Sanku"},"score":0,"creation_date":1468383568,"post_id":38342455,"comment_id":64098947,"body_markdown":"Yeah I am aware of that but I am not able to understand what that sentence actually means.Can you please explain me that?","body":"Yeah I am aware of that but I am not able to understand what that sentence actually means.Can you please explain me that?"},{"owner":{"account_id":5279261,"reputation":481,"user_id":4215176,"accept_rate":79,"display_name":"Sanku"},"score":0,"creation_date":1468384969,"post_id":38342455,"comment_id":64099340,"body_markdown":"@AsteriskNinja So you are saying that when we typecast for example from int to long,java decides to use long width which is of 64 bits?","body":"@AsteriskNinja So you are saying that when we typecast for example from int to long,java decides to use long width which is of 64 bits?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1468385169,"post_id":38342455,"comment_id":64099409,"body_markdown":"@SaiSankalp That&#39;s what the specification requires. The JVM is always free to use wider types, but it would be wasteful.","body":"@SaiSankalp That&#39;s what the specification requires. The JVM is always free to use wider types, but it would be wasteful."},{"owner":{"account_id":5279261,"reputation":481,"user_id":4215176,"accept_rate":79,"display_name":"Sanku"},"score":0,"creation_date":1468385846,"post_id":38342455,"comment_id":64099613,"body_markdown":"@EJP Yeah I got it thanks","body":"@EJP Yeah I got it thanks"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1468388125,"post_id":38342795,"comment_id":64100398,"body_markdown":"Arjan‚Äôs explanation is very well-said and correct. I&#39;ll just add that this is the basic idea behind all of the specifications for the Java language and for the JVM: *Define the required behaviors but leave the implementation details to the implementer.* There have been many implementations of Java over the years, all behaving the same but varying quite dramatically as to what&#39;s ‚Äúunder the hood‚Äù.","body":"Arjan‚Äôs explanation is very well-said and correct. I&#39;ll just add that this is the basic idea behind all of the specifications for the Java language and for the JVM: <i>Define the required behaviors but leave the implementation details to the implementer.</i> There have been many implementations of Java over the years, all behaving the same but varying quite dramatically as to what&#39;s ‚Äúunder the hood‚Äù."}],"tags":[],"owner":{"account_id":8209952,"reputation":823,"user_id":6178459,"display_name":"Arjan"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1681641828,"creation_date":1468384942,"answer_id":38342795,"question_id":38342455,"body_markdown":"&gt; &quot;The width of an integer type should not be thought of as the amount\r\n&gt; of storage it consumes,\r\n\r\nA JVM may *store* a Java 16-bit `short` in 32 bits on 32-bit implementations to improve performance...\r\n\r\n&gt; but rather as the behavior it defines for variables and expressions of\r\n&gt; that type.\r\n\r\n... but it will *behave* like a 16-bit signed two&#39;s complement integer, regardless of how it&#39;s stored in memory.\r\n\r\n&gt; The java run-time environment is free to use whatever size\r\n&gt; it wants,as long as the types behave as you declared them&quot;.\r\n\r\nIf a program needs to run on any JVM, all JVMs need to treat the program and its integers in the same way. But how the JVM is implemented doesn&#39;t matter to a Java developer, which allows for optimizations that are specific to the architecture.","title":"Is java run-time environment free to use whatever size it wants for primitive data types?","body":"<blockquote>\n<p>&quot;The width of an integer type should not be thought of as the amount\nof storage it consumes,</p>\n</blockquote>\n<p>A JVM may <em>store</em> a Java 16-bit <code>short</code> in 32 bits on 32-bit implementations to improve performance...</p>\n<blockquote>\n<p>but rather as the behavior it defines for variables and expressions of\nthat type.</p>\n</blockquote>\n<p>... but it will <em>behave</em> like a 16-bit signed two's complement integer, regardless of how it's stored in memory.</p>\n<blockquote>\n<p>The java run-time environment is free to use whatever size\nit wants,as long as the types behave as you declared them&quot;.</p>\n</blockquote>\n<p>If a program needs to run on any JVM, all JVMs need to treat the program and its integers in the same way. But how the JVM is implemented doesn't matter to a Java developer, which allows for optimizations that are specific to the architecture.</p>\n"}],"owner":{"account_id":5279261,"reputation":481,"user_id":4215176,"accept_rate":79,"display_name":"Sanku"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":38342795,"answer_count":1,"score":6,"last_activity_date":1681641828,"creation_date":1468382386,"question_id":38342455,"body_markdown":"I was going through the book &quot;Java-The Complete Reference&quot; and I came across a sentence which says that \r\n\r\n  \r\n\r\n&gt;&quot;The width of an integer type should not be thought of as the amount of storage it consumes,but rather as the behavior it defines for variables and expressions of that type. The java run-time environment is free to use whatever size it wants,as long as the types behave as you declared them&quot;.\r\n\r\nDoes this mean the java is free to choose the size of the integer data type which is typically of 4 bytes?","title":"Is java run-time environment free to use whatever size it wants for primitive data types?","body":"<p>I was going through the book \"Java-The Complete Reference\" and I came across a sentence which says that </p>\n\n<blockquote>\n  <p>\"The width of an integer type should not be thought of as the amount of storage it consumes,but rather as the behavior it defines for variables and expressions of that type. The java run-time environment is free to use whatever size it wants,as long as the types behave as you declared them\".</p>\n</blockquote>\n\n<p>Does this mean the java is free to choose the size of the integer data type which is typically of 4 bytes?</p>\n"},{"tags":["java","jquery","ajax","spring","servlets"],"owner":{"account_id":26715547,"reputation":3,"user_id":20320200,"display_name":"Levent Kaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681641823,"creation_date":1681641721,"question_id":76027248,"body_markdown":"I am working in a SOAP service on spring boot. I need some data on a jsp I am working on but the service of the related end point is not an returning an object or a but PageForward.\r\n\r\nExample Controller:\r\n\r\n    @RequestMapping(value = &quot;/exampleEndpoind.oim&quot;, produces = &quot;application/json;charset=UTF-8&quot;)\r\n        public String ExampleController(HttpServletRequest request) {\r\n            return service.exampleService(request);\r\n        }\r\nExample Service :\r\n\r\n    String exampleService(HttpServletRequest request) {\r\n       // some Calculations and Datas\r\n       return PageForward.EXAMPLE_JSP_PAGE.toString();\r\n    }\r\nAs in the example above, I want to show the data that comes after some calculations made within the service, on the jsp page related to the ajax success method. but the related service is not returns object or string but PageForward . How can I get the relevant data from this service using ajax?\r\n\r\n","title":"Get daja with Ajax from Method That Returns PageForward","body":"<p>I am working in a SOAP service on spring boot. I need some data on a jsp I am working on but the service of the related end point is not an returning an object or a but PageForward.</p>\n<p>Example Controller:</p>\n<pre><code>@RequestMapping(value = &quot;/exampleEndpoind.oim&quot;, produces = &quot;application/json;charset=UTF-8&quot;)\n    public String ExampleController(HttpServletRequest request) {\n        return service.exampleService(request);\n    }\n</code></pre>\n<p>Example Service :</p>\n<pre><code>String exampleService(HttpServletRequest request) {\n   // some Calculations and Datas\n   return PageForward.EXAMPLE_JSP_PAGE.toString();\n}\n</code></pre>\n<p>As in the example above, I want to show the data that comes after some calculations made within the service, on the jsp page related to the ajax success method. but the related service is not returns object or string but PageForward . How can I get the relevant data from this service using ajax?</p>\n"},{"tags":["java","sql-server","spring","spring-boot"],"comments":[{"owner":{"account_id":5363666,"reputation":1950,"user_id":4274223,"display_name":"Gregorio Palam&#224;"},"score":0,"creation_date":1630400436,"post_id":68995723,"comment_id":121939090,"body_markdown":"Looks like a firewall configuration, to me. The error is a &quot;Connection Refused&quot;, and it is usually related to the firewall that is blocking the connection. I&#39;d suggest you check your firewall setup","body":"Looks like a firewall configuration, to me. The error is a &quot;Connection Refused&quot;, and it is usually related to the firewall that is blocking the connection. I&#39;d suggest you check your firewall setup"},{"owner":{"account_id":18424305,"reputation":41,"user_id":16617186,"display_name":"Baron"},"score":0,"creation_date":1630401501,"post_id":68995723,"comment_id":121939560,"body_markdown":"where should i see firewall settings? and what should i change?","body":"where should i see firewall settings? and what should i change?"},{"owner":{"account_id":4468601,"reputation":7637,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1630402325,"post_id":68995723,"comment_id":121939900,"body_markdown":"Hi, instead of images can you please post the actual text/code? E.g. copy-paste the contents of `application.properties` in your post not just add an image. It makes it easier for all of us.","body":"Hi, instead of images can you please post the actual text/code? E.g. copy-paste the contents of <code>application.properties</code> in your post not just add an image. It makes it easier for all of us."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1630589236,"post_id":68995723,"comment_id":122002552,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":18424305,"reputation":41,"user_id":16617186,"display_name":"Baron"},"score":0,"creation_date":1630401458,"post_id":68995808,"comment_id":121939539,"body_markdown":"i don&#39;t understand with what should i replace my connection string can you tell me?","body":"i don&#39;t understand with what should i replace my connection string can you tell me?"},{"owner":{"account_id":1202845,"reputation":1436,"user_id":1173140,"accept_rate":72,"display_name":"Sean"},"score":0,"creation_date":1630415513,"post_id":68995808,"comment_id":121945942,"body_markdown":"Should be something like `jdbc:sqlserver://localhost/SQLEXPRESS;databaseName=product`","body":"Should be something like <code>jdbc:sqlserver:&#47;&#47;localhost&#47;SQLEXPRESS;databaseName=product</code>"},{"owner":{"account_id":10773302,"reputation":2841,"user_id":7926183,"display_name":"SMor"},"score":0,"creation_date":1630520661,"post_id":68995808,"comment_id":121981296,"body_markdown":"backslash, not forward slash, to separate machine and instance names.","body":"backslash, not forward slash, to separate machine and instance names."}],"tags":[],"owner":{"account_id":1202845,"reputation":1436,"user_id":1173140,"accept_rate":72,"display_name":"Sean"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630400486,"creation_date":1630400486,"answer_id":68995808,"question_id":68995723,"body_markdown":"Your connection string is wrong. For Express you need to add the instance name on the end. Have a look at this question: https://stackoverflow.com/questions/9256044/jdbc-connection-url-for-sqlserver-express-r2","title":"How to connect spring boot to sql server management studio","body":"<p>Your connection string is wrong. For Express you need to add the instance name on the end. Have a look at this question: <a href=\"https://stackoverflow.com/questions/9256044/jdbc-connection-url-for-sqlserver-express-r2\">JDBC connection Url for SQLServer express R2</a></p>\n"},{"tags":[],"owner":{"account_id":21964535,"reputation":17,"user_id":16241971,"display_name":"CharlieWhisky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630402581,"creation_date":1630402581,"answer_id":68996338,"question_id":68995723,"body_markdown":"A few things might be missing from your connection URL, for example : \r\n\r\n - Port number\r\n - Instance name\r\n - Basic authentication\r\n\r\nChange the URL to something like this: \r\n\r\n    jdbc:sqlserver://DESKTOP-7HI4O73;user=Givexa;password=yourPassWord","title":"How to connect spring boot to sql server management studio","body":"<p>A few things might be missing from your connection URL, for example :</p>\n<ul>\n<li>Port number</li>\n<li>Instance name</li>\n<li>Basic authentication</li>\n</ul>\n<p>Change the URL to something like this:</p>\n<pre><code>jdbc:sqlserver://DESKTOP-7HI4O73;user=Givexa;password=yourPassWord\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10773302,"reputation":2841,"user_id":7926183,"display_name":"SMor"},"score":0,"creation_date":1630520461,"post_id":68996395,"comment_id":121981226,"body_markdown":"Use port number or instance name, not both.","body":"Use port number or instance name, not both."}],"tags":[],"owner":{"account_id":4468601,"reputation":7637,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630402787,"creation_date":1630402787,"answer_id":68996395,"question_id":68995723,"body_markdown":"In your `application.properties` file try changing the `spring.datasource.url` property to:\r\n\r\n    spring.datasource.url=jdbc:sqlserver://localhost\\\\SQLEXPRESS:1433;databaseName=product","title":"How to connect spring boot to sql server management studio","body":"<p>In your <code>application.properties</code> file try changing the <code>spring.datasource.url</code> property to:</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://localhost\\\\SQLEXPRESS:1433;databaseName=product\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1681889815,"post_id":76027184,"comment_id":134128012,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76027184/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25896425,"reputation":1,"user_id":19622921,"display_name":"Awais Hassan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681640771,"creation_date":1681640771,"answer_id":76027184,"question_id":68995723,"body_markdown":"please check your pom.xml and see if you are adding correct dependancy.\r\n","title":"How to connect spring boot to sql server management studio","body":"<p>please check your pom.xml and see if you are adding correct dependancy.</p>\n"}],"owner":{"account_id":18424305,"reputation":41,"user_id":16617186,"display_name":"Baron"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":981,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1681640771,"creation_date":1630400139,"question_id":68995723,"body_markdown":"So, i want to connect spring boot to sql server management studio, to practice crud operations, however when I try it i get an error: \r\n[enter image description here][1]\r\n\r\n\r\nSo, I have added the dependencies:\r\n[enter image description here][2]\r\n\r\nI have added properties:\r\n[enter image description here][3]\r\n\r\nHere is my sql server:\r\n[enter image description here][4]\r\n\r\nHere i have created a database called product:\r\n[enter image description here][5]\r\n\r\nI have also enabled TCP/IP: [enter image description here][6]\r\n\r\nAnd i also have set the TCP port to 1433: [enter image description here][7]\r\n\r\nHowever i still get the same error, could some one explain me what is the problem and how can i fix it?\r\n\r\nP.s I have not written any code yet, i just made an empty project with spring initilizer, and for now i just want to connect spring boot to sql server (so i just run a empty demo application)\r\n\r\nI have also tried to connect to sql server with writing java code, however it also fails: [![enter image description here][8]][8]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EHDf4.png\r\n  [2]: https://i.stack.imgur.com/91y7f.png\r\n  [3]: https://i.stack.imgur.com/nmhPX.png\r\n  [4]: https://i.stack.imgur.com/wjmRr.png\r\n  [5]: https://i.stack.imgur.com/zpT57.png\r\n  [6]: https://i.stack.imgur.com/WuS5H.png\r\n  [7]: https://i.stack.imgur.com/Dp0ZW.png\r\n  [8]: https://i.stack.imgur.com/B4QaC.png","title":"How to connect spring boot to sql server management studio","body":"<p>So, i want to connect spring boot to sql server management studio, to practice crud operations, however when I try it i get an error:\n<a href=\"https://i.stack.imgur.com/EHDf4.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>So, I have added the dependencies:\n<a href=\"https://i.stack.imgur.com/91y7f.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have added properties:\n<a href=\"https://i.stack.imgur.com/nmhPX.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Here is my sql server:\n<a href=\"https://i.stack.imgur.com/wjmRr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Here i have created a database called product:\n<a href=\"https://i.stack.imgur.com/zpT57.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have also enabled TCP/IP: <a href=\"https://i.stack.imgur.com/WuS5H.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>And i also have set the TCP port to 1433: <a href=\"https://i.stack.imgur.com/Dp0ZW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>However i still get the same error, could some one explain me what is the problem and how can i fix it?</p>\n<p>P.s I have not written any code yet, i just made an empty project with spring initilizer, and for now i just want to connect spring boot to sql server (so i just run a empty demo application)</p>\n<p>I have also tried to connect to sql server with writing java code, however it also fails: <a href=\"https://i.stack.imgur.com/B4QaC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B4QaC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","binary-tree"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681640681,"creation_date":1681640681,"answer_id":76027178,"question_id":76024974,"body_markdown":"Some things to change to achieve that:\r\n\r\n* The binary search should now keep track of the *maximized* sum, so this means  that instead of minimizing a variable `min`, you should maximize a variable `max`, and at the end return that value.\r\n\r\n* When `required_no_of_chunks` is true, the binary search algorithm should now try lesser values instead of greater values, so that means the `low, high` window should be reduced in the opposite direction.\r\n\r\n* `required_no_of_chunks` should now ensure that *all* partitions have at least the required sum. This means the inner `while` loop should continue (if possible) when `val` is still less than the required `mid`. It should also check that if there are no more values in the array, the last chunk also has attained this minimal sum.\r\n\r\nHere is the adapted code with comments where changes were made:\r\n\r\n```java\r\nclass Solution {\r\n    int[] nums;\r\n    public int splitArray(int[] nums, int m) {\r\n        this.nums = nums;\r\n        int low = 0, high = 0, \r\n            max = Integer.MIN_VALUE; // adapted\r\n        for(int i=0;i&lt;nums.length;i++){\r\n            low = Math.max(low, nums[i]);\r\n            high += nums[i];\r\n        }\r\n        while(low &lt;= high) {\r\n            int mid = (low + high) / 2;\r\n            if(required_no_of_chunks(mid, m)){\r\n               max = Math.max(max, mid); // adapted\r\n               low = mid + 1;  // adapted\r\n            }\r\n            else high = mid - 1; // adapted \r\n        }\r\n        return max; // adapted\r\n    }\r\n    \r\n    private boolean required_no_of_chunks(int mid, int m){\r\n        int chunks = 0, i=0;\r\n        while(i &lt; nums.length &amp;&amp; chunks &lt; m){ // condition extended for quicker exit\r\n            int val = 0;\r\n            // Second part of Loop condition adapted\r\n            while(i &lt; nums.length &amp;&amp; val &lt; mid) val += nums[i++];\r\n            // Added: give up if val is too low\r\n            if (val &lt; mid) return false;\r\n            chunks++;\r\n        }\r\n        return true; // Simplified in view of extended loop condition\r\n    }\r\n}\r\n```","title":"Split Array &amp; Maximized Smallest Sum","body":"<p>Some things to change to achieve that:</p>\n<ul>\n<li><p>The binary search should now keep track of the <em>maximized</em> sum, so this means  that instead of minimizing a variable <code>min</code>, you should maximize a variable <code>max</code>, and at the end return that value.</p>\n</li>\n<li><p>When <code>required_no_of_chunks</code> is true, the binary search algorithm should now try lesser values instead of greater values, so that means the <code>low, high</code> window should be reduced in the opposite direction.</p>\n</li>\n<li><p><code>required_no_of_chunks</code> should now ensure that <em>all</em> partitions have at least the required sum. This means the inner <code>while</code> loop should continue (if possible) when <code>val</code> is still less than the required <code>mid</code>. It should also check that if there are no more values in the array, the last chunk also has attained this minimal sum.</p>\n</li>\n</ul>\n<p>Here is the adapted code with comments where changes were made:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    int[] nums;\n    public int splitArray(int[] nums, int m) {\n        this.nums = nums;\n        int low = 0, high = 0, \n            max = Integer.MIN_VALUE; // adapted\n        for(int i=0;i&lt;nums.length;i++){\n            low = Math.max(low, nums[i]);\n            high += nums[i];\n        }\n        while(low &lt;= high) {\n            int mid = (low + high) / 2;\n            if(required_no_of_chunks(mid, m)){\n               max = Math.max(max, mid); // adapted\n               low = mid + 1;  // adapted\n            }\n            else high = mid - 1; // adapted \n        }\n        return max; // adapted\n    }\n    \n    private boolean required_no_of_chunks(int mid, int m){\n        int chunks = 0, i=0;\n        while(i &lt; nums.length &amp;&amp; chunks &lt; m){ // condition extended for quicker exit\n            int val = 0;\n            // Second part of Loop condition adapted\n            while(i &lt; nums.length &amp;&amp; val &lt; mid) val += nums[i++];\n            // Added: give up if val is too low\n            if (val &lt; mid) return false;\n            chunks++;\n        }\n        return true; // Simplified in view of extended loop condition\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28316419,"reputation":3,"user_id":21652911,"display_name":"learner26"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76027178,"answer_count":1,"score":0,"last_activity_date":1681640681,"creation_date":1681596255,"question_id":76024974,"body_markdown":"Given an integer array nums and an integer k, split nums into k non-empty subarrays such that the smallest sum of any subarray is maximized.\r\nReturn the maximized smallest sum of the split.\r\nInput: nums = [7,2,5,10,8], k = 2\r\nOutput: 14\r\nI found an algorithm that finds the minimized largest sum. \r\nHow to modify this algorithm so that it finds the maximized smallest sum?\r\n\r\n```\r\nclass Solution {\r\n    int[] nums;\r\n    public int splitArray(int[] nums, int m) {\r\n        this.nums = nums;\r\n        int low = 0, high = 0, min = Integer.MAX_VALUE;\r\n        for(int i=0;i&lt;nums.length;i++){\r\n            low = Math.max(low, nums[i]);\r\n            high += nums[i];\r\n        }\r\n        while(low &lt;= high) {\r\n            int mid = (low + high) / 2;\r\n            if(required_no_of_chunks(mid, m)){\r\n               min = Math.min(min, mid);\r\n               high = mid - 1;\r\n            }\r\n            else low = mid + 1;\r\n        }\r\n        return min;\r\n    }\r\n    \r\n    private boolean required_no_of_chunks(int mid, int m){\r\n        int chunks = 0, i=0;\r\n        while(i &lt; nums.length){\r\n            int val = 0;\r\n            while(i &lt; nums.length &amp;&amp; nums[i] + val &lt;= mid) val += nums[i++];\r\n            chunks++;\r\n        }\r\n        return chunks &lt;= m;\r\n    }\r\n}\r\n```\r\n  ","title":"Split Array &amp; Maximized Smallest Sum","body":"<p>Given an integer array nums and an integer k, split nums into k non-empty subarrays such that the smallest sum of any subarray is maximized.\nReturn the maximized smallest sum of the split.\nInput: nums = [7,2,5,10,8], k = 2\nOutput: 14\nI found an algorithm that finds the minimized largest sum.\nHow to modify this algorithm so that it finds the maximized smallest sum?</p>\n<pre><code>class Solution {\n    int[] nums;\n    public int splitArray(int[] nums, int m) {\n        this.nums = nums;\n        int low = 0, high = 0, min = Integer.MAX_VALUE;\n        for(int i=0;i&lt;nums.length;i++){\n            low = Math.max(low, nums[i]);\n            high += nums[i];\n        }\n        while(low &lt;= high) {\n            int mid = (low + high) / 2;\n            if(required_no_of_chunks(mid, m)){\n               min = Math.min(min, mid);\n               high = mid - 1;\n            }\n            else low = mid + 1;\n        }\n        return min;\n    }\n    \n    private boolean required_no_of_chunks(int mid, int m){\n        int chunks = 0, i=0;\n        while(i &lt; nums.length){\n            int val = 0;\n            while(i &lt; nums.length &amp;&amp; nums[i] + val &lt;= mid) val += nums[i++];\n            chunks++;\n        }\n        return chunks &lt;= m;\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","hibernate"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1681520638,"post_id":76019654,"comment_id":134074728,"body_markdown":"Is that a typo?   private in bId;. What is an in , is that a keyword or an API keyword, most id&#39;s usually are int or long and just interested.","body":"Is that a typo?   private in bId;. What is an in , is that a keyword or an API keyword, most id&#39;s usually are int or long and just interested."},{"owner":{"account_id":2864484,"reputation":815,"user_id":2459062,"accept_rate":44,"display_name":"Klunk"},"score":0,"creation_date":1681548952,"post_id":76019654,"comment_id":134076873,"body_markdown":"Yes it is a typo. The code is not the real code but an example class. All of my code compiles and runs it is just the behaviour that is wrong.","body":"Yes it is a typo. The code is not the real code but an example class. All of my code compiles and runs it is just the behaviour that is wrong."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1681572355,"post_id":76019654,"comment_id":134079758,"body_markdown":"I have a strong feeling that either there are no rows in TableB that reference the rows loaded from TableA, or you are getting a lazy load exception, but something in the code is swallowing it. Also please note that using `@Data` on entities will create all sorts of issues with Hibernate, please read the hibernate docs about equals and hashcode.","body":"I have a strong feeling that either there are no rows in TableB that reference the rows loaded from TableA, or you are getting a lazy load exception, but something in the code is swallowing it. Also please note that using <code>@Data</code> on entities will create all sorts of issues with Hibernate, please read the hibernate docs about equals and hashcode."},{"owner":{"account_id":2864484,"reputation":815,"user_id":2459062,"accept_rate":44,"display_name":"Klunk"},"score":0,"creation_date":1681576670,"post_id":76019654,"comment_id":134080348,"body_markdown":"There is data in TableB that satisfies the query, in fact TableB has 4 rows and the one that is currently matching does sometimes have the tableAs Set populated, when I debug","body":"There is data in TableB that satisfies the query, in fact TableB has 4 rows and the one that is currently matching does sometimes have the tableAs Set populated, when I debug"}],"answers":[{"tags":[],"owner":{"account_id":2864484,"reputation":815,"user_id":2459062,"accept_rate":44,"display_name":"Klunk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681639961,"creation_date":1681639961,"answer_id":76027123,"question_id":76019654,"body_markdown":"I solved is with the help of the comment from Augusto, it looks to be the @Data annotation that is the problem. I changed my classes to look like the following and it worked.\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;TableA&quot;)\r\n    class TableA {\r\n        @Id\r\n        private int aId;\r\n        private String aValue;\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(name = &quot;TableAB&quot;,\r\n            JoinColumns = {@JoinColumn(name=&quot;TableAId&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name=&quot;TableBId&quot;)})\r\n        private Set&lt;TableB&gt; tableBs = new HashSet&lt;&gt;();\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            TableA tableA = (TableA) o;\r\n            return aId == tableA.aId;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(aId);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;TableB&quot;)\r\n    class TableB {\r\n        @Id\r\n        private int bId;\r\n        private String bValue;\r\n        @ManyToMany(mappedBy = &quot;tableBs&quot;)\r\n        private Set&lt;TableA&gt; tableAs;\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            TableB tableB = (TableB) o;\r\n            return bId == tableB.bId;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(bId);\r\n        }\r\n    }\r\n","title":"Hibernate not retrieving Many to Many relations","body":"<p>I solved is with the help of the comment from Augusto, it looks to be the @Data annotation that is the problem. I changed my classes to look like the following and it worked.</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;TableA&quot;)\nclass TableA {\n    @Id\n    private int aId;\n    private String aValue;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;TableAB&quot;,\n        JoinColumns = {@JoinColumn(name=&quot;TableAId&quot;)},\n        inverseJoinColumns = {@JoinColumn(name=&quot;TableBId&quot;)})\n    private Set&lt;TableB&gt; tableBs = new HashSet&lt;&gt;();\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        TableA tableA = (TableA) o;\n        return aId == tableA.aId;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(aId);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;TableB&quot;)\nclass TableB {\n    @Id\n    private int bId;\n    private String bValue;\n    @ManyToMany(mappedBy = &quot;tableBs&quot;)\n    private Set&lt;TableA&gt; tableAs;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        TableB tableB = (TableB) o;\n        return bId == tableB.bId;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(bId);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2864484,"reputation":815,"user_id":2459062,"accept_rate":44,"display_name":"Klunk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681639961,"creation_date":1681515992,"question_id":76019654,"body_markdown":"I have 2 tables with a many to many relationship, all tables are created in PostgreSQL using external scripts. I am struggling to get the full data in my data model objects. I am using Lombok and my entity classes look similar to this\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;TableA&quot;)\r\n    class TableA {\r\n        @Id\r\n        private int aId;\r\n        private String aValue;\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(name = &quot;TableAB&quot;,\r\n            JoinColumns = {@JoinColumn(name=&quot;TableAId&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name=&quot;TableBId&quot;)})\r\n        private Set&lt;TableB&gt; tableBs = new HashSet&lt;&gt;();\r\n    }\r\n\r\nand\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;TableB&quot;)\r\n    class TableB {\r\n        @Id\r\n        private int bId;\r\n        private String bValue;\r\n        @ManyToMany(mappedBy = &quot;tableBs&quot;)\r\n        private Set&lt;TableA&gt; tableAs;\r\n    }\r\n\r\nWhen I run:\r\n\r\n    session.createQuery(&quot;FROM TableA a JOIN FETCH a.TableBs&quot;, TableA.class).list()\r\n\r\nI get a list of TableA objects but tableBs in those objects is an empty Set. I have hibernate SQL turned on and I can see a query joining TableAB to TableB and if I run that query in the Intellij database console it returns the expected results.\r\n\r\nI have tried also returning all TableB objects with a similar query, in the debugger that resolves the TableAs, but when not debugging or when running my application inside a Docker container I get nothing returned for TableAs.\r\n\r\nI am using Java 19 with Hibernate 6.2.0-Final and version 42.6.0 of the PostgreSQL driver.\r\n\r\nAny suggestions to how I can get TableA returned with TableB populated? TableB does have another relationship with a TableC which has One To Many relationships with a few other tables and I see queries for these in the logs as well, even though every relationship is marked as Lazy fetch.\r\n\r\nEDIT: Fix typo","title":"Hibernate not retrieving Many to Many relations","body":"<p>I have 2 tables with a many to many relationship, all tables are created in PostgreSQL using external scripts. I am struggling to get the full data in my data model objects. I am using Lombok and my entity classes look similar to this</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;TableA&quot;)\nclass TableA {\n    @Id\n    private int aId;\n    private String aValue;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;TableAB&quot;,\n        JoinColumns = {@JoinColumn(name=&quot;TableAId&quot;)},\n        inverseJoinColumns = {@JoinColumn(name=&quot;TableBId&quot;)})\n    private Set&lt;TableB&gt; tableBs = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;TableB&quot;)\nclass TableB {\n    @Id\n    private int bId;\n    private String bValue;\n    @ManyToMany(mappedBy = &quot;tableBs&quot;)\n    private Set&lt;TableA&gt; tableAs;\n}\n</code></pre>\n<p>When I run:</p>\n<pre><code>session.createQuery(&quot;FROM TableA a JOIN FETCH a.TableBs&quot;, TableA.class).list()\n</code></pre>\n<p>I get a list of TableA objects but tableBs in those objects is an empty Set. I have hibernate SQL turned on and I can see a query joining TableAB to TableB and if I run that query in the Intellij database console it returns the expected results.</p>\n<p>I have tried also returning all TableB objects with a similar query, in the debugger that resolves the TableAs, but when not debugging or when running my application inside a Docker container I get nothing returned for TableAs.</p>\n<p>I am using Java 19 with Hibernate 6.2.0-Final and version 42.6.0 of the PostgreSQL driver.</p>\n<p>Any suggestions to how I can get TableA returned with TableB populated? TableB does have another relationship with a TableC which has One To Many relationships with a few other tables and I see queries for these in the logs as well, even though every relationship is marked as Lazy fetch.</p>\n<p>EDIT: Fix typo</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":12498833,"reputation":135427,"user_id":9097906,"display_name":"Littlefoot"},"score":0,"creation_date":1681637278,"post_id":76026868,"comment_id":134085780,"body_markdown":"Is there a database trigger on that table? Maybe it causes what you described.","body":"Is there a database trigger on that table? Maybe it causes what you described."},{"owner":{"account_id":15518456,"reputation":11,"user_id":18679326,"display_name":"alnvalnnn"},"score":0,"creation_date":1681637464,"post_id":76026868,"comment_id":134085800,"body_markdown":"Hi. How can i check it?","body":"Hi. How can i check it?"},{"owner":{"account_id":12498833,"reputation":135427,"user_id":9097906,"display_name":"Littlefoot"},"score":0,"creation_date":1681637589,"post_id":76026868,"comment_id":134085816,"body_markdown":"I don&#39;t use MySQL so I don&#39;t know which data dictionary view you&#39;d query (manually). But, if you use some GUI, I presume that - if you navigate to that table, there&#39;s a tab which shows triggers related to that table, or (at least) **script** used to create table and all other objects (indexes, constraints, triggers ...) related to it. So, if you do use such a GUI, have a look.","body":"I don&#39;t use MySQL so I don&#39;t know which data dictionary view you&#39;d query (manually). But, if you use some GUI, I presume that - if you navigate to that table, there&#39;s a tab which shows triggers related to that table, or (at least) <b>script</b> used to create table and all other objects (indexes, constraints, triggers ...) related to it. So, if you do use such a GUI, have a look."},{"owner":{"account_id":15518456,"reputation":11,"user_id":18679326,"display_name":"alnvalnnn"},"score":0,"creation_date":1681637693,"post_id":76026868,"comment_id":134085829,"body_markdown":"It doesnt have any triggers, i just checked in workbench","body":"It doesnt have any triggers, i just checked in workbench"},{"owner":{"account_id":12498833,"reputation":135427,"user_id":9097906,"display_name":"Littlefoot"},"score":0,"creation_date":1681637944,"post_id":76026868,"comment_id":134085854,"body_markdown":"OK; then trigger isn&#39;t to blame.  I don&#39;t have any other ideas (especially regarding tools you use) so I can just hope that someone else will be able to assist.","body":"OK; then trigger isn&#39;t to blame.  I don&#39;t have any other ideas (especially regarding tools you use) so I can just hope that someone else will be able to assist."}],"owner":{"account_id":15518456,"reputation":11,"user_id":18679326,"display_name":"alnvalnnn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681639114,"creation_date":1681636652,"question_id":76026868,"body_markdown":"SOLVED! I want to implement deleting a product from a customer&#39;s cart. I have tables customers, shopping_cart, cart_item. And similar Java classes. When delete button is pressed, the item from shoppingCart.cartItems is deleted, but when row from cartItem is deleted, customer_id and shopping_cart_id increase by one.\r\n\r\n\r\n```\r\npublic class Customer {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;customer_id&quot;)\r\n    private Long id;\r\n\r\n    ...\r\n\r\n    @OneToOne(mappedBy = &quot;customer&quot;)\r\n    private ShoppingCart shoppingCart;\r\n}\r\n```\r\n\r\n```\r\npublic class ShoppingCart {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;shopping_cart_id&quot;)\r\n    private Long id;\r\n\r\n    ...\r\n\r\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;customer_id&quot;, referencedColumnName = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;cart&quot;)\r\n    private Set&lt;CartItem&gt; cartItem;\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class CartItem {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;cart_item_id&quot;)\r\n    private Long id;\r\n\r\n    ...\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;shopping_cart_id&quot;, referencedColumnName = &quot;shopping_cart_id&quot;)\r\n    private ShoppingCart cart;\r\n\r\n}\r\n```\r\n\r\n```\r\n@RequestMapping(value = &quot;/update-cart&quot;, method = RequestMethod.POST, params = &quot;action=delete&quot;)\r\n    public String deleteItemFromCart(@RequestParam(&quot;id&quot;) Long productId,\r\n                                     Model model,\r\n                                     Principal principal){\r\n        if(principal == null){\r\n            return &quot;redirect:/login&quot;;\r\n        }else{\r\n            String username = principal.getName();\r\n            Customer customer = customerService.findByUsername(username);\r\n            Product product = productService.getProductById(productId);\r\n            ShoppingCart cart = cartService.deleteItemFromCart(product, customer);\r\n            model.addAttribute(&quot;shoppingCart&quot;, cart);\r\n            return &quot;redirect:/cart&quot;;\r\n        }\r\n\r\n    }\r\n```\r\n\r\n```\r\n@Override\r\n    public ShoppingCart deleteItemFromCart(Product product, Customer customer) {\r\n        ShoppingCart cart = customer.getShoppingCart();\r\n        Set&lt;CartItem&gt; cartItems = cart.getCartItem();\r\n        CartItem item = findCartItem(cartItems, product.getId());\r\n        cartItems.remove(item);\r\n\r\n        double totalPrice = totalPrice(cartItems);\r\n        int totalItems = totalItems(cartItems);\r\n\r\n        cart.setCartItem(cartItems);\r\n        cart.setTotalItems(totalItems);\r\n        cart.setTotalPrices(totalPrice);\r\n        itemRepository.delete(item);\r\n\r\n        return cartRepository.save(cart);\r\n    }\r\n```\r\n\r\n\r\nTables dont have triggers [schema][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LH9lv.jpg\r\nUPD: I have solved my issue by removing cascade = CascadeType.ALL above ShoppingCart field from CartItem class and above Customer field from ShoppingCart class. Thanks!","title":"Why deleting a row from one table leads to change of id in another?","body":"<p>SOLVED! I want to implement deleting a product from a customer's cart. I have tables customers, shopping_cart, cart_item. And similar Java classes. When delete button is pressed, the item from shoppingCart.cartItems is deleted, but when row from cartItem is deleted, customer_id and shopping_cart_id increase by one.</p>\n<pre><code>public class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;customer_id&quot;)\n    private Long id;\n\n    ...\n\n    @OneToOne(mappedBy = &quot;customer&quot;)\n    private ShoppingCart shoppingCart;\n}\n</code></pre>\n<pre><code>public class ShoppingCart {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;shopping_cart_id&quot;)\n    private Long id;\n\n    ...\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;customer_id&quot;, referencedColumnName = &quot;customer_id&quot;)\n    private Customer customer;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;cart&quot;)\n    private Set&lt;CartItem&gt; cartItem;\n\n}\n</code></pre>\n<pre><code>public class CartItem {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;cart_item_id&quot;)\n    private Long id;\n\n    ...\n\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;shopping_cart_id&quot;, referencedColumnName = &quot;shopping_cart_id&quot;)\n    private ShoppingCart cart;\n\n}\n</code></pre>\n<pre><code>@RequestMapping(value = &quot;/update-cart&quot;, method = RequestMethod.POST, params = &quot;action=delete&quot;)\n    public String deleteItemFromCart(@RequestParam(&quot;id&quot;) Long productId,\n                                     Model model,\n                                     Principal principal){\n        if(principal == null){\n            return &quot;redirect:/login&quot;;\n        }else{\n            String username = principal.getName();\n            Customer customer = customerService.findByUsername(username);\n            Product product = productService.getProductById(productId);\n            ShoppingCart cart = cartService.deleteItemFromCart(product, customer);\n            model.addAttribute(&quot;shoppingCart&quot;, cart);\n            return &quot;redirect:/cart&quot;;\n        }\n\n    }\n</code></pre>\n<pre><code>@Override\n    public ShoppingCart deleteItemFromCart(Product product, Customer customer) {\n        ShoppingCart cart = customer.getShoppingCart();\n        Set&lt;CartItem&gt; cartItems = cart.getCartItem();\n        CartItem item = findCartItem(cartItems, product.getId());\n        cartItems.remove(item);\n\n        double totalPrice = totalPrice(cartItems);\n        int totalItems = totalItems(cartItems);\n\n        cart.setCartItem(cartItems);\n        cart.setTotalItems(totalItems);\n        cart.setTotalPrices(totalPrice);\n        itemRepository.delete(item);\n\n        return cartRepository.save(cart);\n    }\n</code></pre>\n<p>Tables dont have triggers <a href=\"https://i.stack.imgur.com/LH9lv.jpg\" rel=\"nofollow noreferrer\">schema</a></p>\n<p>UPD: I have solved my issue by removing cascade = CascadeType.ALL above ShoppingCart field from CartItem class and above Customer field from ShoppingCart class. Thanks!</p>\n"},{"tags":["java","json","dataframe","apache-spark","schema"],"comments":[{"owner":{"account_id":4567547,"reputation":1327,"user_id":3708175,"accept_rate":80,"display_name":"sramalingam24"},"score":0,"creation_date":1570897200,"post_id":58349787,"comment_id":103065356,"body_markdown":"What happens when you remove .schema(myschema)?","body":"What happens when you remove .schema(myschema)?"},{"owner":{"account_id":16876372,"reputation":121,"user_id":12203675,"display_name":"Mitchan"},"score":0,"creation_date":1571073901,"post_id":58349787,"comment_id":103111128,"body_markdown":"It returns the JSON data in table format with the correct data fields instead of null values. However, all of the data are String types instead of their correct schema.","body":"It returns the JSON data in table format with the correct data fields instead of null values. However, all of the data are String types instead of their correct schema."},{"owner":{"account_id":4567547,"reputation":1327,"user_id":3708175,"accept_rate":80,"display_name":"sramalingam24"},"score":0,"creation_date":1571115986,"post_id":58349787,"comment_id":103122112,"body_markdown":"Then remove the supplied schema and just add a select at the end where you cast y as integer and z as boolean if that works for you","body":"Then remove the supplied schema and just add a select at the end where you cast y as integer and z as boolean if that works for you"}],"answers":[{"tags":[],"owner":{"account_id":16876372,"reputation":121,"user_id":12203675,"display_name":"Mitchan"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1574551198,"creation_date":1574551198,"answer_id":59013189,"question_id":58349787,"body_markdown":"Figured out the problem: \r\n\r\nIf there is data in the inputted file that cannot have a schema applied to it, it will return Null for ALL the data in your table. For example: &quot;1n&quot; is impossible to convert to integer. If a DataTypes.IntegerType is applied to the column that contains &quot;1n&quot;, then the whole table with have null values. ","title":"SPARK dataframe returning null when trying to apply schema to JSON data","body":"<p>Figured out the problem: </p>\n\n<p>If there is data in the inputted file that cannot have a schema applied to it, it will return Null for ALL the data in your table. For example: \"1n\" is impossible to convert to integer. If a DataTypes.IntegerType is applied to the column that contains \"1n\", then the whole table with have null values. </p>\n"},{"tags":[],"owner":{"account_id":3092796,"reputation":131,"user_id":2618587,"display_name":"Jaliya Sumanadasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623157394,"creation_date":1623157394,"answer_id":67887530,"question_id":58349787,"body_markdown":"I think this is happening due to a data type mismatch in JSON and defined schema.\r\nas an example, in JSON attribute has &quot;age&quot; with integer but schema has defined &quot;age&quot; with String type. Due to that mismatch, all data get null.","title":"SPARK dataframe returning null when trying to apply schema to JSON data","body":"<p>I think this is happening due to a data type mismatch in JSON and defined schema.\nas an example, in JSON attribute has &quot;age&quot; with integer but schema has defined &quot;age&quot; with String type. Due to that mismatch, all data get null.</p>\n"},{"tags":[],"owner":{"account_id":28319588,"reputation":1,"user_id":21655619,"display_name":"Sampan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681639114,"creation_date":1681639114,"answer_id":76027059,"question_id":58349787,"body_markdown":"Not sure if this helps, but while reading a JSON file in spark, make sure that the columns name in your schema and JSON file exactly matches. It will show Null values otherwise.","title":"SPARK dataframe returning null when trying to apply schema to JSON data","body":"<p>Not sure if this helps, but while reading a JSON file in spark, make sure that the columns name in your schema and JSON file exactly matches. It will show Null values otherwise.</p>\n"}],"owner":{"account_id":16876372,"reputation":121,"user_id":12203675,"display_name":"Mitchan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3998,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1681639114,"creation_date":1570839374,"question_id":58349787,"body_markdown":"I&#39;m using the SPARK Java API to read a text file, convert it to JSON, and then apply a schema to it. The schema can vary based on a mapping table in the database, which is why I need to first convert the file to JSON so the schema mapping does not have to be in column order. Here is what I&#39;ve done:\r\n\r\n    // Defined the schema (basic representation)\r\n    StructType myschema = new StructType().add(&quot;a&quot;, DataTypes.StringType, true)\r\n                                          .add(&quot;b&quot;, DataTypes.StringType, true)\r\n                                          .add(&quot;x&quot;, DataTypes.StringType, true)\r\n                                          .add(&quot;y&quot;, DataTypes.IntegerType, true)\r\n                                          .add(&quot;z&quot;, DataTypes.BooleanType, true);\r\n\r\n    //Reading a pipe delimited text file as JSON, the file has less columns than myschema\r\n    Dataset&lt;String&gt; data = spark.read().option(&quot;delimiter&quot;,&quot;|&quot;).option(&quot;header&quot;,&quot;true&quot;).csv(myFile).toJSON();\r\n\r\nThe above table returns something like this:\r\n\r\n    data.show(false);\r\n\r\n    |value|\r\n    +----------------------------------------+\r\n    |      {&quot;x&quot;:&quot;name1&quot;,&quot;z&quot;:&quot;true&quot;,&quot;y&quot;:&quot;1234&quot;}|\r\n    |      {&quot;x&quot;:&quot;name2&quot;,&quot;z&quot;:&quot;false&quot;,&quot;y&quot;:&quot;1445&quot;}|\r\n    |      {&quot;x&quot;:&quot;name3&quot;,&quot;z&quot;:&quot;true&quot;,:y&quot;:&quot;1212&quot;}|\r\n\r\nMy issue comes when I run this:\r\n\r\n    Dataset&lt;Row&gt; data_with_schema = spark.read().schema(myschema).json(data);\r\n\r\nBecause my result turns into this:\r\n\r\n    data_with_schema.show(false);\r\n    |x|y|z|\r\n    +-------+-------+-------+\r\n    |null  |null  |null  |\r\n    |null  |null  |null  |\r\n    |null  |null  |null  |\r\n\r\nI read on stackoverflow that this might be because I&#39;m trying to cast json strings as integers. However, I tried to define the data variable as a Row Dataset instead of String Dataset but there was an Incompatible Types error. I&#39;m not sure what the workaround is or what the real issue is. ","title":"SPARK dataframe returning null when trying to apply schema to JSON data","body":"<p>I'm using the SPARK Java API to read a text file, convert it to JSON, and then apply a schema to it. The schema can vary based on a mapping table in the database, which is why I need to first convert the file to JSON so the schema mapping does not have to be in column order. Here is what I've done:</p>\n\n<pre><code>// Defined the schema (basic representation)\nStructType myschema = new StructType().add(\"a\", DataTypes.StringType, true)\n                                      .add(\"b\", DataTypes.StringType, true)\n                                      .add(\"x\", DataTypes.StringType, true)\n                                      .add(\"y\", DataTypes.IntegerType, true)\n                                      .add(\"z\", DataTypes.BooleanType, true);\n\n//Reading a pipe delimited text file as JSON, the file has less columns than myschema\nDataset&lt;String&gt; data = spark.read().option(\"delimiter\",\"|\").option(\"header\",\"true\").csv(myFile).toJSON();\n</code></pre>\n\n<p>The above table returns something like this:</p>\n\n<pre><code>data.show(false);\n\n|value|\n+----------------------------------------+\n|      {\"x\":\"name1\",\"z\":\"true\",\"y\":\"1234\"}|\n|      {\"x\":\"name2\",\"z\":\"false\",\"y\":\"1445\"}|\n|      {\"x\":\"name3\",\"z\":\"true\",:y\":\"1212\"}|\n</code></pre>\n\n<p>My issue comes when I run this:</p>\n\n<pre><code>Dataset&lt;Row&gt; data_with_schema = spark.read().schema(myschema).json(data);\n</code></pre>\n\n<p>Because my result turns into this:</p>\n\n<pre><code>data_with_schema.show(false);\n|x|y|z|\n+-------+-------+-------+\n|null  |null  |null  |\n|null  |null  |null  |\n|null  |null  |null  |\n</code></pre>\n\n<p>I read on stackoverflow that this might be because I'm trying to cast json strings as integers. However, I tried to define the data variable as a Row Dataset instead of String Dataset but there was an Incompatible Types error. I'm not sure what the workaround is or what the real issue is. </p>\n"},{"tags":["java","windows","intellij-idea","gluon"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1673551109,"post_id":75101130,"comment_id":132530737,"body_markdown":"[Docs](https://docs.gluonhq.com/#_create_run_a_native_image_of_the_application) do mention that you need Visual Studio, and also that you need to run from an _x64_ terminal. If you use IntelliJ, see the note about customizing the terminal to run `vcvars64.bat`.","body":"<a href=\"https://docs.gluonhq.com/#_create_run_a_native_image_of_the_application\" rel=\"nofollow noreferrer\">Docs</a> do mention that you need Visual Studio, and also that you need to run from an <i>x64</i> terminal. If you use IntelliJ, see the note about customizing the terminal to run <code>vcvars64.bat</code>."},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1673596088,"post_id":75101130,"comment_id":132538901,"body_markdown":"I did try to do use vcvars64.bat as the shell path and it still didn&#39;t work... It could be becuase I have VS2022 instead of 19. If that&#39;s not the case: Do I need to use the inbuilt terminal? What commands do I need to run to make it work?","body":"I did try to do use vcvars64.bat as the shell path and it still didn&#39;t work... It could be becuase I have VS2022 instead of 19. If that&#39;s not the case: Do I need to use the inbuilt terminal? What commands do I need to run to make it work?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1673601496,"post_id":75101130,"comment_id":132540413,"body_markdown":"I haven&#39;t tried VS2022, but it should work too. As Docs mention, you can simply run from the `x64 Native Tools Command Prompt for VS` outside your IDE, or you can try to modify the `cmd.exe` path in your IDE settings. Just make sure that, before running the project, from any of those terminals if you type `cl` that works (as in the command is found).","body":"I haven&#39;t tried VS2022, but it should work too. As Docs mention, you can simply run from the <code>x64 Native Tools Command Prompt for VS</code> outside your IDE, or you can try to modify the <code>cmd.exe</code> path in your IDE settings. Just make sure that, before running the project, from any of those terminals if you type <code>cl</code> that works (as in the command is found)."},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1673602565,"post_id":75101130,"comment_id":132540794,"body_markdown":"when using the terminal in itellij it closes at a couple of moments after I open the terminal... It closes just before writing : &quot;[vcvarsall.bat] Environment initialized for: &#39;x64&#39; &quot;. To access the x64 Native Tools Command Prompt for VS I need to open the project in VS? because when I did, it didn&#39;t recognize mvn gluonfx:compile as a command...","body":"when using the terminal in itellij it closes at a couple of moments after I open the terminal... It closes just before writing : &quot;[vcvarsall.bat] Environment initialized for: &#39;x64&#39; &quot;. To access the x64 Native Tools Command Prompt for VS I need to open the project in VS? because when I did, it didn&#39;t recognize mvn gluonfx:compile as a command..."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1673604154,"post_id":75101130,"comment_id":132541284,"body_markdown":"The x64 native tools... is a direct access so you can find it for instance typing Win key + `x64` or so.","body":"The x64 native tools... is a direct access so you can find it for instance typing Win key + <code>x64</code> or so."},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1673619163,"post_id":75101130,"comment_id":132546058,"body_markdown":"thank you but when running cl + &lt;path to my project&gt; it didnt work : &quot; LINK : fatal error LNK1104: cannot open file &#39;Java.exe&#39; &quot;. What are the commands that I need to run to preform run or build?","body":"thank you but when running cl + &lt;path to my project&gt; it didnt work : &quot; LINK : fatal error LNK1104: cannot open file &#39;Java.exe&#39; &quot;. What are the commands that I need to run to preform run or build?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1673621355,"post_id":75101130,"comment_id":132546868,"body_markdown":"Once you have a terminal that works, cd into your project folder and run `mvn gluonfx:run` your verify it works, and then `mvn gluonfx:build` you build the native image. Just follow the docs‚Ä¶","body":"Once you have a terminal that works, cd into your project folder and run <code>mvn gluonfx:run</code> your verify it works, and then <code>mvn gluonfx:build</code> you build the native image. Just follow the docs‚Ä¶"},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1673642700,"post_id":75101130,"comment_id":132553198,"body_markdown":"I did everything as you said and I get &quot;&#39;mvn&#39; is not recognized as an internal or external command,\noperable program or batch file.&quot;","body":"I did everything as you said and I get &quot;&#39;mvn&#39; is not recognized as an internal or external command, operable program or batch file.&quot;"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1673643543,"post_id":75101130,"comment_id":132553387,"body_markdown":"Before, you were using Maven preinstalled in IntelliJ from this [path](C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\bin). You can install [Maven](https://maven.apache.org/download.html) as external tool, or use it from that path.","body":"Before, you were using Maven preinstalled in IntelliJ from this [path](C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\bin). You can install <a href=\"https://maven.apache.org/download.html\" rel=\"nofollow noreferrer\">Maven</a> as external tool, or use it from that path."},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1673644575,"post_id":75101130,"comment_id":132553622,"body_markdown":"The commands work when I cd to that directory but mvn gluonfx:run doesnt becuase I dont mention what is my project directory, how do I go about doing that?","body":"The commands work when I cd to that directory but mvn gluonfx:run doesnt becuase I dont mention what is my project directory, how do I go about doing that?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1673645583,"post_id":75101130,"comment_id":132553862,"body_markdown":"Use the full path? Cd into your project root and then `C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\bin\\mvn.exe gluonfx:run`? That is of course not the recommended way to do it, but try it first to see it that works.","body":"Use the full path? Cd into your project root and then <code>C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\bin\\mvn.exe gluonfx:run</code>? That is of course not the recommended way to do it, but try it first to see it that works."},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1673646063,"post_id":75101130,"comment_id":132553982,"body_markdown":"I get &quot;&#39;C:\\Program&#39; is not recognized as an internal or external command,\noperable program or batch file.&quot; after cd my project root... Just to be sure the project root is the folder that contains src, target, ect, ect?","body":"I get &quot;&#39;C:\\Program&#39; is not recognized as an internal or external command, operable program or batch file.&quot; after cd my project root... Just to be sure the project root is the folder that contains src, target, ect, ect?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1673646295,"post_id":75101130,"comment_id":132554026,"body_markdown":"use `&quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\bin\\mvn.exe&quot; gluonfx:run`","body":"use <code>&quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\bin\\mvn.exe&quot; gluonfx:run</code>"},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1673647070,"post_id":75101130,"comment_id":132554166,"body_markdown":"I get &quot;&#39;&quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\bin\\mvn.exe&quot;&#39; is not recognized as an internal or external command,\noperable program or batch file.&quot;","body":"I get &quot;&#39;&quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\bin\\mvn.exe&quot;&#39; is not recognized as an internal or external command, operable program or batch file.&quot;"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1673647741,"post_id":75101130,"comment_id":132554318,"body_markdown":"You need to solve your issues with paths and terminals to get this working, I can&#39;t help you with that. You have all the information available in the docs, and I&#39;ve mention a few other options (I strongly suggest that you install Maven from the link I&#39;ve posted earlier).","body":"You need to solve your issues with paths and terminals to get this working, I can&#39;t help you with that. You have all the information available in the docs, and I&#39;ve mention a few other options (I strongly suggest that you install Maven from the link I&#39;ve posted earlier)."}],"answers":[{"comments":[{"owner":{"account_id":15791584,"reputation":1,"user_id":11394677,"display_name":"ÊΩò‰∫öÊù∞"},"score":0,"creation_date":1681652483,"post_id":76027023,"comment_id":134087642,"body_markdown":"My [answer](https://drive.google.com/file/d/1JreyT42vCDgvbeihatq2dDBPJLOfh-iR/view?usp=share_link)","body":"My <a href=\"https://drive.google.com/file/d/1JreyT42vCDgvbeihatq2dDBPJLOfh-iR/view?usp=share_link\" rel=\"nofollow noreferrer\">answer</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1681889824,"post_id":76027023,"comment_id":134128018,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76027023/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15791584,"reputation":1,"user_id":11394677,"display_name":"ÊΩò‰∫öÊù∞"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681638636,"creation_date":1681638636,"answer_id":76027023,"question_id":75101130,"body_markdown":"MilckShake Beans and Jos&#233; Pereda. I have seen your dialogues again and again for more than 3 days , for I&#39;ve met the &quot; Cannot run program &#39;cl&#39;&quot; error too.\r\n    After I give up for one day to ease my headache, suddenly I figure out what the Gluon document pre-requisites windows tips.\r\n\t I‚Äôm using IntelliJ idea 2022, Java se 17.0.6, and graalvm-svm-java17-windows-gluon-22.1.0.1-Final.\r\n\tBelow image is my solution, hope it will help you.\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cs58o.png","title":"Gluon plugin fails to compile on Window intellij","body":"<p>MilckShake Beans and Jos√© Pereda. I have seen your dialogues again and again for more than 3 days , for I've met the &quot; Cannot run program 'cl'&quot; error too.\nAfter I give up for one day to ease my headache, suddenly I figure out what the Gluon document pre-requisites windows tips.\nI‚Äôm using IntelliJ idea 2022, Java se 17.0.6, and graalvm-svm-java17-windows-gluon-22.1.0.1-Final.\nBelow image is my solution, hope it will help you.</p>\n"}],"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681638636,"creation_date":1673549996,"question_id":75101130,"body_markdown":"I know that this is basicly the same as [this](https://stackoverflow.com/questions/62161913/gluon-client-maven-plugin-for-javafx-on-windows-fails-to-compile) but I followed all the advice from the answer and it doesnt work for me... When trying to do anything that isn&#39;t - gluonfx:run I get the following error:\r\n\r\n```\r\n&quot;C:\\Program Files\\Amazon Corretto\\jdk11.0.16_8\\bin\\java.exe&quot; &quot;-Dmaven.multiModuleProjectDirectory=C:\\Java Projects\\SPO related\\Prototypes\\SPO Gluon Prototype&quot; &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3&quot; &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\lib\\idea_rt.jar=56069:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license&quot; org.codehaus.classworlds.Launcher -Didea.version=2022.2 com.gluonhq:gluonfx-maven-plugin:1.0.16:compile\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] -------&lt; com.spoapplication:spo-gluon-prototype &gt;--------\r\n[INFO] Building SPO Gluon Prototype 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] &gt;&gt;&gt; gluonfx-maven-plugin:1.0.16:compile (default-cli) &gt; process-classes @ spo-gluon-prototype &gt;&gt;&gt;\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ spo-gluon-prototype ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 13 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ spo-gluon-prototype ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] \r\n[INFO] &lt;&lt;&lt; gluonfx-maven-plugin:1.0.16:compile (default-cli) &lt; process-classes @ spo-gluon-prototype &lt;&lt;&lt;\r\n[INFO] \r\n[INFO] \r\n[INFO] --- gluonfx-maven-plugin:1.0.16:compile (default-cli) @ spo-gluon-prototype ---\r\n[Thu Jan 12 20:52:44 IST 2023][INFO] ==================== COMPILE TASK ====================\r\n             _______  ___      __   __  _______  __    _\r\n            |       ||   |    |  | |  ||       ||  |  | |\r\n            |    ___||   |    |  | |  ||   _   ||   |_| |\r\n            |   | __ |   |    |  |_|  ||  | |  ||       |\r\n            |   ||  ||   |___ |       ||  |_|  ||  _    |\r\n            |   |_| ||       ||       ||       || | |   |\r\n            |_______||_______||_______||_______||_|  |__|\r\n\r\n    Access to the latest docs, tips and tricks and more info on\r\n    how to get support? Register your usage of Gluon Substrate now at\r\n\r\n    https://gluonhq.com/activate\r\n\r\n\r\n\r\n[Thu Jan 12 20:52:45 IST 2023][INFO] We will now compile your code for x86_64-microsoft-windows. This may take some time.\r\njava.io.IOException: Cannot run program &quot;cl&quot; (in directory &quot;C:\\Java Projects\\SPO related\\Prototypes\\SPO Gluon Prototype\\target\\gluonfx\\x86_64-windows\\gvm\\SPO Gluon Prototype&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\r\n\tat com.gluonhq.substrate.util.ProcessRunner.setupProcess(ProcessRunner.java:378)\r\n\tat com.gluonhq.substrate.util.ProcessRunner.runProcess(ProcessRunner.java:236)\r\n\tat com.gluonhq.substrate.target.AbstractTargetConfiguration.compileAdditionalSources(AbstractTargetConfiguration.java:356)\r\n\tat com.gluonhq.substrate.target.AbstractTargetConfiguration.compile(AbstractTargetConfiguration.java:134)\r\n\tat com.gluonhq.substrate.SubstrateDispatcher.nativeCompile(SubstrateDispatcher.java:425)\r\n\tat com.gluonhq.NativeCompileMojo.execute(NativeCompileMojo.java:54)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n\tat org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n\tat java.base/java.lang.ProcessImpl.create(Native Method)\r\n\tat java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:492)\r\n\tat java.base/java.lang.ProcessImpl.start(ProcessImpl.java:153)\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\r\n\t... 30 more\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.639 s\r\n[INFO] Finished at: 2023-01-12T20:52:45+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.gluonhq:gluonfx-maven-plugin:1.0.16:compile (default-cli) on project spo-gluon-prototype: Error: Cannot run program &quot;cl&quot; (in directory &quot;C:\\Java Projects\\SPO related\\Prototypes\\SPO Gluon Prototype\\target\\gluonfx\\x86_64-windows\\gvm\\SPO Gluon Prototype&quot;): CreateProcess error=2, The system cannot find the file specified -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI don&#39;t understand why do I get: cannot run program &quot;cl&quot;.\r\n\r\nI tried reading and re-reading all the gluon documantion and online solutions but it didn&#39;t bear any fruit. It could be that I installed VS 2022 or I installed some things incorrectly there.\r\n\r\nI need to chat with someone that has experience because I have none, I learned to code the past couple of months for a project in a high school class.","title":"Gluon plugin fails to compile on Window intellij","body":"<p>I know that this is basicly the same as <a href=\"https://stackoverflow.com/questions/62161913/gluon-client-maven-plugin-for-javafx-on-windows-fails-to-compile\">this</a> but I followed all the advice from the answer and it doesnt work for me... When trying to do anything that isn't - gluonfx:run I get the following error:</p>\n<pre><code>&quot;C:\\Program Files\\Amazon Corretto\\jdk11.0.16_8\\bin\\java.exe&quot; &quot;-Dmaven.multiModuleProjectDirectory=C:\\Java Projects\\SPO related\\Prototypes\\SPO Gluon Prototype&quot; &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3&quot; &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\lib\\idea_rt.jar=56069:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license&quot; org.codehaus.classworlds.Launcher -Didea.version=2022.2 com.gluonhq:gluonfx-maven-plugin:1.0.16:compile\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------&lt; com.spoapplication:spo-gluon-prototype &gt;--------\n[INFO] Building SPO Gluon Prototype 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] &gt;&gt;&gt; gluonfx-maven-plugin:1.0.16:compile (default-cli) &gt; process-classes @ spo-gluon-prototype &gt;&gt;&gt;\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ spo-gluon-prototype ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 13 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ spo-gluon-prototype ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] &lt;&lt;&lt; gluonfx-maven-plugin:1.0.16:compile (default-cli) &lt; process-classes @ spo-gluon-prototype &lt;&lt;&lt;\n[INFO] \n[INFO] \n[INFO] --- gluonfx-maven-plugin:1.0.16:compile (default-cli) @ spo-gluon-prototype ---\n[Thu Jan 12 20:52:44 IST 2023][INFO] ==================== COMPILE TASK ====================\n             _______  ___      __   __  _______  __    _\n            |       ||   |    |  | |  ||       ||  |  | |\n            |    ___||   |    |  | |  ||   _   ||   |_| |\n            |   | __ |   |    |  |_|  ||  | |  ||       |\n            |   ||  ||   |___ |       ||  |_|  ||  _    |\n            |   |_| ||       ||       ||       || | |   |\n            |_______||_______||_______||_______||_|  |__|\n\n    Access to the latest docs, tips and tricks and more info on\n    how to get support? Register your usage of Gluon Substrate now at\n\n    https://gluonhq.com/activate\n\n\n\n[Thu Jan 12 20:52:45 IST 2023][INFO] We will now compile your code for x86_64-microsoft-windows. This may take some time.\njava.io.IOException: Cannot run program &quot;cl&quot; (in directory &quot;C:\\Java Projects\\SPO related\\Prototypes\\SPO Gluon Prototype\\target\\gluonfx\\x86_64-windows\\gvm\\SPO Gluon Prototype&quot;): CreateProcess error=2, The system cannot find the file specified\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\n    at com.gluonhq.substrate.util.ProcessRunner.setupProcess(ProcessRunner.java:378)\n    at com.gluonhq.substrate.util.ProcessRunner.runProcess(ProcessRunner.java:236)\n    at com.gluonhq.substrate.target.AbstractTargetConfiguration.compileAdditionalSources(AbstractTargetConfiguration.java:356)\n    at com.gluonhq.substrate.target.AbstractTargetConfiguration.compile(AbstractTargetConfiguration.java:134)\n    at com.gluonhq.substrate.SubstrateDispatcher.nativeCompile(SubstrateDispatcher.java:425)\n    at com.gluonhq.NativeCompileMojo.execute(NativeCompileMojo.java:54)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    at java.base/java.lang.ProcessImpl.create(Native Method)\n    at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:492)\n    at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:153)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\n    ... 30 more\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.639 s\n[INFO] Finished at: 2023-01-12T20:52:45+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.gluonhq:gluonfx-maven-plugin:1.0.16:compile (default-cli) on project spo-gluon-prototype: Error: Cannot run program &quot;cl&quot; (in directory &quot;C:\\Java Projects\\SPO related\\Prototypes\\SPO Gluon Prototype\\target\\gluonfx\\x86_64-windows\\gvm\\SPO Gluon Prototype&quot;): CreateProcess error=2, The system cannot find the file specified -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\nProcess finished with exit code 1\n</code></pre>\n<p>I don't understand why do I get: cannot run program &quot;cl&quot;.</p>\n<p>I tried reading and re-reading all the gluon documantion and online solutions but it didn't bear any fruit. It could be that I installed VS 2022 or I installed some things incorrectly there.</p>\n<p>I need to chat with someone that has experience because I have none, I learned to code the past couple of months for a project in a high school class.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1520268222,"post_id":49115135,"comment_id":85235749,"body_markdown":"Can you be more specific about your actual question? To which methods you are actually referring to, there are multiple `map` and `flatMap` methods in Java.","body":"Can you be more specific about your actual question? To which methods you are actually referring to, there are multiple <code>map</code> and <code>flatMap</code> methods in Java."},{"owner":{"account_id":132707,"reputation":5434,"user_id":333566,"accept_rate":70,"display_name":"shredding"},"score":0,"creation_date":1520268530,"post_id":49115135,"comment_id":85235969,"body_markdown":"I&#39;m talking about the Reactor project. https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html","body":"I&#39;m talking about the Reactor project. <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1520268742,"post_id":49115135,"comment_id":85236115,"body_markdown":"Yeah, now please be more specific about the question. Where exactly you have difficulties understanding it? Why doesn&#39;t taking a look at the source code and the documentation clear the confusion? Is there something specific you don&#39;t get?","body":"Yeah, now please be more specific about the question. Where exactly you have difficulties understanding it? Why doesn&#39;t taking a look at the source code and the documentation clear the confusion? Is there something specific you don&#39;t get?"},{"owner":{"account_id":132707,"reputation":5434,"user_id":333566,"accept_rate":70,"display_name":"shredding"},"score":0,"creation_date":1520269017,"post_id":49115135,"comment_id":85236335,"body_markdown":"I understand from the docs that both are ways to iterate over a given Flux and that `map` is synchronous and `flatMap` is not. But I also understand that the function i give into `map` is executed async and I don&#39;t know when to use which one.","body":"I understand from the docs that both are ways to iterate over a given Flux and that <code>map</code> is synchronous and <code>flatMap</code> is not. But I also understand that the function i give into <code>map</code> is executed async and I don&#39;t know when to use which one."},{"owner":{"account_id":132707,"reputation":5434,"user_id":333566,"accept_rate":70,"display_name":"shredding"},"score":1,"creation_date":1520269051,"post_id":49115135,"comment_id":85236353,"body_markdown":"... i&#39;ll update with a concrete example.","body":"... i&#39;ll update with a concrete example."},{"owner":{"account_id":132707,"reputation":5434,"user_id":333566,"accept_rate":70,"display_name":"shredding"},"score":0,"creation_date":1520269342,"post_id":49115135,"comment_id":85236557,"body_markdown":"I did update the sample ...","body":"I did update the sample ..."},{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":0,"creation_date":1520499847,"post_id":49115135,"comment_id":85343435,"body_markdown":"you mention finding a lot of answers regarding RxJava. Note that this is the exact same concept as in RxJava","body":"you mention finding a lot of answers regarding RxJava. Note that this is the exact same concept as in RxJava"},{"owner":{"account_id":1807152,"reputation":1059,"user_id":1644036,"accept_rate":100,"display_name":"Inego"},"score":0,"creation_date":1567561370,"post_id":49115135,"comment_id":101995515,"body_markdown":"Add a tag `kotlin` probably? Since your example is in this language and not in Java?","body":"Add a tag <code>kotlin</code> probably? Since your example is in this language and not in Java?"}],"answers":[{"comments":[{"owner":{"account_id":132707,"reputation":5434,"user_id":333566,"accept_rate":70,"display_name":"shredding"},"score":0,"creation_date":1520505095,"post_id":49169314,"comment_id":85346864,"body_markdown":"you meant map is `blocking`, right? I also don&#39;t get the `1-to-N` really. Can you give an example when one is useful over the other? I understand that i use flatMap when I expect the result to be asynchronous, because it flattens the publishers once the result is there - is that correct?","body":"you meant map is <code>blocking</code>, right? I also don&#39;t get the <code>1-to-N</code> really. Can you give an example when one is useful over the other? I understand that i use flatMap when I expect the result to be asynchronous, because it flattens the publishers once the result is there - is that correct?"},{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":2,"creation_date":1520508853,"post_id":49169314,"comment_id":85349077,"body_markdown":"no, map function should be non-blocking (unless you also offset the work on a separate thread using `publishOn`/`subscribeOn`). that is, it is executed synchronously but shouldn&#39;t have latency. flatMap function is asynchronous and indeed the operator flatten the results as they become available","body":"no, map function should be non-blocking (unless you also offset the work on a separate thread using <code>publishOn</code>/<code>subscribeOn</code>). that is, it is executed synchronously but shouldn&#39;t have latency. flatMap function is asynchronous and indeed the operator flatten the results as they become available"},{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":1,"creation_date":1520509516,"post_id":49169314,"comment_id":85349474,"body_markdown":"edited the answer to explain both these aspects + flatMap 1-N example","body":"edited the answer to explain both these aspects + flatMap 1-N example"},{"owner":{"account_id":7929469,"reputation":869,"user_id":5987851,"accept_rate":50,"display_name":"Hazel T"},"score":1,"creation_date":1542406029,"post_id":49169314,"comment_id":93570953,"body_markdown":"Is this answer out of date? I think what you&#39;re calling flatMap is now &quot;flatMapMany&quot;, and flatMap does something different -- https://github.com/reactor/reactor-core/issues/516","body":"Is this answer out of date? I think what you&#39;re calling flatMap is now &quot;flatMapMany&quot;, and flatMap does something different -- <a href=\"https://github.com/reactor/reactor-core/issues/516\" rel=\"nofollow noreferrer\">github.com/reactor/reactor-core/issues/516</a>"},{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":1,"creation_date":1542466292,"post_id":49169314,"comment_id":93582310,"body_markdown":"Just that Mono now has the added subtlety of having both flatMap (async 1 to 1 transformation) and flatMapMany (async 1 to n)","body":"Just that Mono now has the added subtlety of having both flatMap (async 1 to 1 transformation) and flatMapMany (async 1 to n)"}],"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"comment_count":5,"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1530114839,"creation_date":1520500234,"answer_id":49169314,"question_id":49115135,"body_markdown":" - `map` is for synchronous, non-blocking, 1-to-1 transformations\r\n - `flatMap` is for asynchronous (non-blocking) 1-to-N transformations\r\n\r\nThe difference is visible in the method signature: \r\n\r\n - `map` takes a `Function&lt;T, U&gt;` and returns a `Flux&lt;U&gt;`\r\n - `flatMap` takes a `Function&lt;T, Publisher&lt;V&gt;&gt;` and returns a `Flux&lt;V&gt;`\r\n\r\nThat&#39;s the major hint: you _can_ pass a `Function&lt;T, Publisher&lt;V&gt;&gt;` to a `map`, but it wouldn&#39;t know what to do with the `Publishers`, and that would result in a `Flux&lt;Publisher&lt;V&gt;&gt;`, a sequence of inert publishers.\r\n\r\nOn the other hand, `flatMap` expects a `Publisher&lt;V&gt;` for each `T`. It knows what to do with it: subscribe to it and propagate its elements in the output sequence. As a result, the return type is `Flux&lt;V&gt;`: `flatMap` will flatten each inner `Publisher&lt;V&gt;` into the output sequence of _all_ the `V`s.\r\n\r\n**About the 1-N aspect:**\r\n\r\nfor each `&lt;T&gt;` input element, `flatMap` maps it to a `Publisher&lt;V&gt;`. In some cases (eg. an HTTP request), that publisher will emit only one item, in which case we&#39;re pretty close to an async `map`.\r\n\r\nBut that&#39;s the degenerate case. The generic case is that a `Publisher` can emit multiple elements, and `flatMap` works just as well.\r\n\r\nFor an example, imagine you have a reactive database and you flatMap from a sequence of user IDs, with a request that returns a user&#39;s set of `Badge`. You end up with a single `Flux&lt;Badge&gt;` of all the badges of all these users.\r\n\r\n**Is `map` really synchronous and _non-blocking_?**\r\n\r\nYes: it is synchronous in the way the operator applies it (a simple method call, and then the operator emits the result) and non-blocking in the sense that the function itself shouldn&#39;t block the operator calling it. In other terms it shouldn&#39;t introduce latency. That&#39;s because a `Flux` is still asynchronous as a whole. If it blocks mid-sequence, it will impact the rest of the `Flux` processing, or even other `Flux`.\r\n\r\nIf your map function is blocking/introduces latency but cannot be converted to return a `Publisher`, consider `publishOn`/`subscribeOn` to offset that blocking work on a separate thread.","title":"map vs flatMap in reactor","body":"<ul>\n<li><code>map</code> is for synchronous, non-blocking, 1-to-1 transformations</li>\n<li><code>flatMap</code> is for asynchronous (non-blocking) 1-to-N transformations</li>\n</ul>\n\n<p>The difference is visible in the method signature: </p>\n\n<ul>\n<li><code>map</code> takes a <code>Function&lt;T, U&gt;</code> and returns a <code>Flux&lt;U&gt;</code></li>\n<li><code>flatMap</code> takes a <code>Function&lt;T, Publisher&lt;V&gt;&gt;</code> and returns a <code>Flux&lt;V&gt;</code></li>\n</ul>\n\n<p>That's the major hint: you <em>can</em> pass a <code>Function&lt;T, Publisher&lt;V&gt;&gt;</code> to a <code>map</code>, but it wouldn't know what to do with the <code>Publishers</code>, and that would result in a <code>Flux&lt;Publisher&lt;V&gt;&gt;</code>, a sequence of inert publishers.</p>\n\n<p>On the other hand, <code>flatMap</code> expects a <code>Publisher&lt;V&gt;</code> for each <code>T</code>. It knows what to do with it: subscribe to it and propagate its elements in the output sequence. As a result, the return type is <code>Flux&lt;V&gt;</code>: <code>flatMap</code> will flatten each inner <code>Publisher&lt;V&gt;</code> into the output sequence of <em>all</em> the <code>V</code>s.</p>\n\n<p><strong>About the 1-N aspect:</strong></p>\n\n<p>for each <code>&lt;T&gt;</code> input element, <code>flatMap</code> maps it to a <code>Publisher&lt;V&gt;</code>. In some cases (eg. an HTTP request), that publisher will emit only one item, in which case we're pretty close to an async <code>map</code>.</p>\n\n<p>But that's the degenerate case. The generic case is that a <code>Publisher</code> can emit multiple elements, and <code>flatMap</code> works just as well.</p>\n\n<p>For an example, imagine you have a reactive database and you flatMap from a sequence of user IDs, with a request that returns a user's set of <code>Badge</code>. You end up with a single <code>Flux&lt;Badge&gt;</code> of all the badges of all these users.</p>\n\n<p><strong>Is <code>map</code> really synchronous and <em>non-blocking</em>?</strong></p>\n\n<p>Yes: it is synchronous in the way the operator applies it (a simple method call, and then the operator emits the result) and non-blocking in the sense that the function itself shouldn't block the operator calling it. In other terms it shouldn't introduce latency. That's because a <code>Flux</code> is still asynchronous as a whole. If it blocks mid-sequence, it will impact the rest of the <code>Flux</code> processing, or even other <code>Flux</code>.</p>\n\n<p>If your map function is blocking/introduces latency but cannot be converted to return a <code>Publisher</code>, consider <code>publishOn</code>/<code>subscribeOn</code> to offset that blocking work on a separate thread.</p>\n"},{"tags":[],"owner":{"account_id":12271702,"reputation":313,"user_id":8956678,"display_name":"Raouf Makhlouf"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1609507410,"creation_date":1609494712,"answer_id":65528707,"question_id":49115135,"body_markdown":"The flatMap method is similar to the map method with the key difference that the supplier you provide to it should return a ``` Mono&lt;T&gt; ``` or  ``` Flux&lt;T&gt; ```.\r\n\r\nUsing the map method would result in a ``` Mono&lt;Mono&lt;T&gt;&gt; ```\r\nwhereas using flatMap results in a ``` Mono&lt;T&gt; ```.\r\n\r\nFor example, it is useful when you have to make a network call to retrieve data, with a java API that returns a Mono, and then another network call that needs the result of the first one.\r\n\r\n```java\r\n// Signature of the HttpClient.get method\r\nMono&lt;JsonObject&gt; get(String url);\r\n\r\n// The two urls to call\r\nString firstUserUrl = &quot;my-api/first-user&quot;;\r\nString userDetailsUrl = &quot;my-api/users/details/&quot;; // needs the id at the end\r\n\r\n// Example with map\r\nMono&lt;Mono&lt;JsonObject&gt;&gt; result = HttpClient.get(firstUserUrl).\r\n  map(user -&gt; HttpClient.get(userDetailsUrl + user.getId()));\r\n// This results with a Mono&lt;Mono&lt;...&gt;&gt; because HttpClient.get(...)\r\n// returns a Mono\r\n\r\n// Same example with flatMap\r\nMono&lt;JsonObject&gt; bestResult = HttpClient.get(firstUserUrl).\r\n  flatMap(user -&gt; HttpClient.get(userDetailsUrl + user.getId()));\r\n// Now the result has the type we expected\r\n\r\n```\r\nAlso, it allows for handling errors precisely:\r\n```java\r\npublic UserApi {\r\n  \r\n  private HttpClient httpClient;\r\n    \r\n  Mono&lt;User&gt; findUser(String username) {\r\n    String queryUrl = &quot;http://my-api-address/users/&quot; + username;\r\n    \r\n    return Mono.fromCallable(() -&gt; httpClient.get(queryUrl)).\r\n      flatMap(response -&gt; {\r\n        if (response.statusCode == 404) return Mono.error(new NotFoundException(&quot;User &quot; + username + &quot; not found&quot;));\r\n        else if (response.statusCode == 500) return Mono.error(new InternalServerErrorException());\r\n        else if (response.statusCode != 200) return Mono.error(new Exception(&quot;Unknown error calling my-api&quot;));\r\n        return Mono.just(response.data);\r\n      });\r\n  }\r\n                                           \r\n}\r\n```\r\n\r\n\r\n\r\n","title":"map vs flatMap in reactor","body":"<p>The flatMap method is similar to the map method with the key difference that the supplier you provide to it should return a <code>Mono&lt;T&gt;</code> or  <code>Flux&lt;T&gt;</code>.</p>\n<p>Using the map method would result in a <code>Mono&lt;Mono&lt;T&gt;&gt;</code>\nwhereas using flatMap results in a <code>Mono&lt;T&gt;</code>.</p>\n<p>For example, it is useful when you have to make a network call to retrieve data, with a java API that returns a Mono, and then another network call that needs the result of the first one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Signature of the HttpClient.get method\nMono&lt;JsonObject&gt; get(String url);\n\n// The two urls to call\nString firstUserUrl = &quot;my-api/first-user&quot;;\nString userDetailsUrl = &quot;my-api/users/details/&quot;; // needs the id at the end\n\n// Example with map\nMono&lt;Mono&lt;JsonObject&gt;&gt; result = HttpClient.get(firstUserUrl).\n  map(user -&gt; HttpClient.get(userDetailsUrl + user.getId()));\n// This results with a Mono&lt;Mono&lt;...&gt;&gt; because HttpClient.get(...)\n// returns a Mono\n\n// Same example with flatMap\nMono&lt;JsonObject&gt; bestResult = HttpClient.get(firstUserUrl).\n  flatMap(user -&gt; HttpClient.get(userDetailsUrl + user.getId()));\n// Now the result has the type we expected\n\n</code></pre>\n<p>Also, it allows for handling errors precisely:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public UserApi {\n  \n  private HttpClient httpClient;\n    \n  Mono&lt;User&gt; findUser(String username) {\n    String queryUrl = &quot;http://my-api-address/users/&quot; + username;\n    \n    return Mono.fromCallable(() -&gt; httpClient.get(queryUrl)).\n      flatMap(response -&gt; {\n        if (response.statusCode == 404) return Mono.error(new NotFoundException(&quot;User &quot; + username + &quot; not found&quot;));\n        else if (response.statusCode == 500) return Mono.error(new InternalServerErrorException());\n        else if (response.statusCode != 200) return Mono.error(new Exception(&quot;Unknown error calling my-api&quot;));\n        return Mono.just(response.data);\n      });\n  }\n                                           \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673338236,"post_id":71826804,"comment_id":132470367,"body_markdown":"Based on the  picture In your flatmap example it is possible to have different amount of input and output elements. Could you please provide example ? because in your example you have equal amount (3 input elements and 3 output) elements.","body":"Based on the  picture In your flatmap example it is possible to have different amount of input and output elements. Could you please provide example ? because in your example you have equal amount (3 input elements and 3 output) elements."},{"owner":{"account_id":11935386,"reputation":1283,"user_id":8734046,"display_name":"jwpol"},"score":0,"creation_date":1697480383,"post_id":71826804,"comment_id":136282552,"body_markdown":"Good answer, but please if you quote sth, indicate the source. Yours are from spring-in-action-fifth-edition","body":"Good answer, but please if you quote sth, indicate the source. Yours are from spring-in-action-fifth-edition"}],"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1649861900,"creation_date":1649675553,"answer_id":71826804,"question_id":49115135,"body_markdown":"&lt;h1&gt;How map internally works in the Reactor.&lt;/h1&gt;\r\n\r\n[![How MAP internally works][2]][2]\r\n\r\n\r\nCreating a `Player` class.\r\n```\r\n@Data\r\n@AllArgsConstructor\r\npublic class Player {\r\n        String name;\r\n        String name;\r\n}\r\n\r\n```\r\nNow creating some instances of `Player` class\r\n```\r\nFlux&lt;Player&gt; players = Flux.just(\r\n        &quot;Zahid Khan&quot;,\r\n        &quot;Arif Khan&quot;,\r\n        &quot;Obaid Sheikh&quot;)\r\n        .map(fullname -&gt; {\r\n            String[] split = fullname.split(&quot;\\\\s&quot;);\r\n            return new Player(split[0], split[1]);\r\n        });\r\n\r\nStepVerifier.create(players)\r\n          .expectNext(new Player(&quot;Zahid&quot;, &quot;Khan&quot;))\r\n          .expectNext(new Player(&quot;Arif&quot;, &quot;Khan&quot;))\r\n          .expectNext(new Player(&quot;Obaid&quot;, &quot;Sheikh&quot;))\r\n          .verifyComplete();\r\n```\r\n\r\n&gt; What‚Äôs important to understand about the map() is that the mapping is\r\n&gt; performed synchronously, as each item is published by the source Flux.\r\n&gt; If you want to perform the mapping asynchronously, you should consider\r\n&gt; the flatMap() operation.\r\n\r\n&lt;h1&gt; How FlatMap internally works.&lt;/h1&gt;\r\n\r\n[![How FlatMap internally works.][3]][3]\r\n\r\n```\r\nFlux&lt;Player&gt; players = Flux.just(\r\n      &quot;Zahid Khan&quot;, \r\n      &quot;Arif Khan&quot;, \r\n      &quot;Obaid Sheikh&quot;)\r\n      .flatMap(\r\n            fullname -&gt; \r\n                  Mono.just(fullname).map(p -&gt; {\r\n                        String[] split = p.split(&quot;\\\\s&quot;);\r\n                        return new Player(split[0], split[1]);\r\n        }).subscribeOn(Scheduler.parallel()));\r\n\r\n        List&lt;Player&gt; playerList = Arrays.asList(\r\n                  new Player(&quot;Zahid&quot;, &quot;Khan&quot;),\r\n                  new Player(&quot;Arif&quot;, &quot;Khan&quot;), \r\n                  new Player(&quot;Obaid&quot;, &quot;Sheikh&quot;));\r\n\r\n        StepVerifier.create(players).expectNextMatches(player -&gt;         \r\n                playerList.contains(player))    \r\n                        .expectNextMatches(player -&gt;  \r\n                                playerList.contains(player))\r\n                        .expectNextMatches(player -&gt; \r\n                                playerList.contains(player))\r\n                        .expectNextMatches(player -&gt; \r\n                                playerList.contains(player))\r\n                        .verifyComplete();\r\n\r\n```\r\nInternally in a Flatmap(), a map() operation is performed to the Mono to transform the String to Player. Furthermore, **subcribeOn () indicates that each subscription should take place in a parallel thread.** **In absence of subscribeOn() flatmap() acts as a synchronized.**\r\n\r\nThe map is for synchronous, non-blocking, one-to-one transformations\r\nwhile the flatMap is for asynchronous (non-blocking) One-to-Many transformations.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://livebook.manning.com/book/spring-in-action-fifth-edition/chapter-10/176\r\n  [2]: https://i.stack.imgur.com/6wxQ9.png\r\n  [3]: https://i.stack.imgur.com/6sCq4.png","title":"map vs flatMap in reactor","body":"<h1>How map internally works in the Reactor.</h1>\n<p><a href=\"https://i.stack.imgur.com/6wxQ9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6wxQ9.png\" alt=\"How MAP internally works\" /></a></p>\n<p>Creating a <code>Player</code> class.</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class Player {\n        String name;\n        String name;\n}\n\n</code></pre>\n<p>Now creating some instances of <code>Player</code> class</p>\n<pre><code>Flux&lt;Player&gt; players = Flux.just(\n        &quot;Zahid Khan&quot;,\n        &quot;Arif Khan&quot;,\n        &quot;Obaid Sheikh&quot;)\n        .map(fullname -&gt; {\n            String[] split = fullname.split(&quot;\\\\s&quot;);\n            return new Player(split[0], split[1]);\n        });\n\nStepVerifier.create(players)\n          .expectNext(new Player(&quot;Zahid&quot;, &quot;Khan&quot;))\n          .expectNext(new Player(&quot;Arif&quot;, &quot;Khan&quot;))\n          .expectNext(new Player(&quot;Obaid&quot;, &quot;Sheikh&quot;))\n          .verifyComplete();\n</code></pre>\n<blockquote>\n<p>What‚Äôs important to understand about the map() is that the mapping is\nperformed synchronously, as each item is published by the source Flux.\nIf you want to perform the mapping asynchronously, you should consider\nthe flatMap() operation.</p>\n</blockquote>\n<h1> How FlatMap internally works.</h1>\n<p><a href=\"https://i.stack.imgur.com/6sCq4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6sCq4.png\" alt=\"How FlatMap internally works.\" /></a></p>\n<pre><code>Flux&lt;Player&gt; players = Flux.just(\n      &quot;Zahid Khan&quot;, \n      &quot;Arif Khan&quot;, \n      &quot;Obaid Sheikh&quot;)\n      .flatMap(\n            fullname -&gt; \n                  Mono.just(fullname).map(p -&gt; {\n                        String[] split = p.split(&quot;\\\\s&quot;);\n                        return new Player(split[0], split[1]);\n        }).subscribeOn(Scheduler.parallel()));\n\n        List&lt;Player&gt; playerList = Arrays.asList(\n                  new Player(&quot;Zahid&quot;, &quot;Khan&quot;),\n                  new Player(&quot;Arif&quot;, &quot;Khan&quot;), \n                  new Player(&quot;Obaid&quot;, &quot;Sheikh&quot;));\n\n        StepVerifier.create(players).expectNextMatches(player -&gt;         \n                playerList.contains(player))    \n                        .expectNextMatches(player -&gt;  \n                                playerList.contains(player))\n                        .expectNextMatches(player -&gt; \n                                playerList.contains(player))\n                        .expectNextMatches(player -&gt; \n                                playerList.contains(player))\n                        .verifyComplete();\n\n</code></pre>\n<p>Internally in a Flatmap(), a map() operation is performed to the Mono to transform the String to Player. Furthermore, <strong>subcribeOn () indicates that each subscription should take place in a parallel thread.</strong> <strong>In absence of subscribeOn() flatmap() acts as a synchronized.</strong></p>\n<p>The map is for synchronous, non-blocking, one-to-one transformations\nwhile the flatMap is for asynchronous (non-blocking) One-to-Many transformations.</p>\n"}],"owner":{"account_id":132707,"reputation":5434,"user_id":333566,"accept_rate":70,"display_name":"shredding"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39923,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":49169314,"answer_count":3,"score":60,"last_activity_date":1681638375,"creation_date":1520267483,"question_id":49115135,"body_markdown":"I&#39;ve found a lot of answers regarding [RxJava][1], but I want to understand how it works in Reactor.\r\n\r\nMy current understanding is very vague, i tend to think of map as being synchronous and flatMap to be asynchronous but I can&#39;t really get my had around it.\r\n\r\nHere is an example:\r\n\r\n    files.flatMap { it -&gt;\r\n    \tMono.just(Paths.get(UPLOAD_ROOT, it.filename()).toFile())\r\n            .map {destFile -&gt;\r\n                destFile.createNewFile()\r\n    \t\t\tdestFile\t\r\n    \t\t}\t\t\t\t\r\n    \t\t.flatMap(it::transferTo)\r\n    }.then()  \r\n\r\nI have files (a `Flux&lt;FilePart&gt;`) and i want to copy it to some `UPLOAD_ROOT` on the server.\r\n\r\nThis example is taken from a book.\r\n\r\nI can change all the `.map` to `.flatMap` and vice versa and everything still works. I wonder what the difference is.\r\n\r\n  [1]: https://stackoverflow.com/questions/22847105/when-do-you-use-map-vs-flatmap-in-rxjava","title":"map vs flatMap in reactor","body":"<p>I've found a lot of answers regarding <a href=\"https://stackoverflow.com/questions/22847105/when-do-you-use-map-vs-flatmap-in-rxjava\">RxJava</a>, but I want to understand how it works in Reactor.</p>\n\n<p>My current understanding is very vague, i tend to think of map as being synchronous and flatMap to be asynchronous but I can't really get my had around it.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>files.flatMap { it -&gt;\n    Mono.just(Paths.get(UPLOAD_ROOT, it.filename()).toFile())\n        .map {destFile -&gt;\n            destFile.createNewFile()\n            destFile    \n        }               \n        .flatMap(it::transferTo)\n}.then()  \n</code></pre>\n\n<p>I have files (a <code>Flux&lt;FilePart&gt;</code>) and i want to copy it to some <code>UPLOAD_ROOT</code> on the server.</p>\n\n<p>This example is taken from a book.</p>\n\n<p>I can change all the <code>.map</code> to <code>.flatMap</code> and vice versa and everything still works. I wonder what the difference is.</p>\n"},{"tags":["java","spring-boot","ssl","tls1.2"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681637923,"post_id":76026944,"comment_id":134085853,"body_markdown":"Your server code is at least 10 years out of date. Fix that.","body":"Your server code is at least 10 years out of date. Fix that."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681638048,"post_id":76026944,"comment_id":134085866,"body_markdown":"The problem is not on the Java side, it is on the SQL Server side. You&#39;re either using a SQL Server version so old it doesn&#39;t supports TLS v1.2 or v1.3, or it is not enabled.","body":"The problem is not on the Java side, it is on the SQL Server side. You&#39;re either using a SQL Server version so old it doesn&#39;t supports TLS v1.2 or v1.3, or it is not enabled."},{"owner":{"account_id":21062249,"reputation":1,"user_id":15480377,"display_name":"Malik Sheraz"},"score":0,"creation_date":1681638081,"post_id":76026944,"comment_id":134085871,"body_markdown":"can you elaborate?","body":"can you elaborate?"},{"owner":{"account_id":21062249,"reputation":1,"user_id":15480377,"display_name":"Malik Sheraz"},"score":0,"creation_date":1681638119,"post_id":76026944,"comment_id":134085880,"body_markdown":"@MarkRotteveel i am using sql server 2014","body":"@MarkRotteveel i am using sql server 2014"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681638244,"post_id":76026944,"comment_id":134085907,"body_markdown":"See the article linked in the duplicate. It also applies to SQL Server 2014.","body":"See the article linked in the duplicate. It also applies to SQL Server 2014."},{"owner":{"account_id":21062249,"reputation":1,"user_id":15480377,"display_name":"Malik Sheraz"},"score":0,"creation_date":1681638253,"post_id":76026944,"comment_id":134085909,"body_markdown":"@user207421 how can i do that?","body":"@user207421 how can i do that?"}],"owner":{"account_id":21062249,"reputation":1,"user_id":15480377,"display_name":"Malik Sheraz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681638003,"answer_count":0,"score":0,"last_activity_date":1681637679,"creation_date":1681637679,"question_id":76026944,"body_markdown":"I am starting in spring boot but facing this issue of tls version. I have tried everything including changing the java.security file below i am posting the code of my application and complete error message if anyone can help me.\r\n\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n**This is my main class i have created the spring starter project in STS4.**\r\n\r\nspring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=myDB;encrypt = false\r\nspring.datasource.username=sheraz\r\nspring.datasource.password=sheraz123\r\n\r\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n**this is my appliation.properties file**\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;12.2.0.jre11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n**This is my pom.xml file**\r\n\r\nI have tried a lot of thing but still getting the error the error is:\r\n\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]&quot;. ClientConnectionId:a195cbc5-abbc-4005-b48b-3295c3a64aaa\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3937) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1950) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3456) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3077) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2919) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1787) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1229) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\nCaused by: javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305) ~[na:na]\r\n\tat java.base/sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(ServerHello.java:972) ~[na:na]\r\n\tat java.base/sun.security.ssl.ServerHello$ServerHelloConsumer.consume(ServerHello.java:894) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1839) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\t... 49 common frames omitted\r\n\r\n[2m2023-04-16T14:14:54.561+05:00[0;39m [33m WARN[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.e.j.e.i.JdbcEnvironmentInitiator    [0;39m [2m:[0;39m HHH000342: Could not obtain connection to query metadata\r\n\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]&quot;. ClientConnectionId:a195cbc5-abbc-4005-b48b-3295c3a64aaa\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3937) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1950) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3456) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3077) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2919) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1787) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1229) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\nCaused by: javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305) ~[na:na]\r\n\tat java.base/sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(ServerHello.java:972) ~[na:na]\r\n\tat java.base/sun.security.ssl.ServerHello$ServerHelloConsumer.consume(ServerHello.java:894) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1839) ~[mssql-jdbc-12.2.0.jre11.jar:na]\r\n\t... 49 common frames omitted\r\n\r\n[2m2023-04-16T14:14:54.570+05:00[0;39m [31mERROR[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36mj.LocalContainerEntityManagerFactoryBean[0;39m [2m:[0;39m Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n[2m2023-04-16T14:14:54.571+05:00[0;39m [33m WARN[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36mConfigServletWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n[2m2023-04-16T14:14:54.578+05:00[0;39m [32m INFO[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\r\n[2m2023-04-16T14:14:54.619+05:00[0;39m [32m INFO[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.b.a.l.ConditionEvaluationReportLogger[0;39m [2m:[0;39m \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n[2m2023-04-16T14:14:54.656+05:00[0;39m [31mERROR[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:267) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat \r\n\r\nI have tried almost every method mentioned in google and also use ChatGpt for help but nothing helped i have been trying to solve it from 2 days. Hope i get the answer now.","title":"Spring boot Error :The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]","body":"<p>I am starting in spring boot but facing this issue of tls version. I have tried everything including changing the java.security file below i am posting the code of my application and complete error message if anyone can help me.</p>\n<p>package com.example.demo;</p>\n<p>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;</p>\n<p>@SpringBootApplication\npublic class DemoApplication {</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n}\n</code></pre>\n<p>}\n<strong>This is my main class i have created the spring starter project in STS4.</strong></p>\n<p>spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=myDB;encrypt = false\nspring.datasource.username=sheraz\nspring.datasource.password=sheraz123</p>\n<p>spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.hibernate.ddl-auto=update</p>\n<p><strong>this is my appliation.properties file</strong></p>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n3.0.5\n \n\ncom.example\ndemo\n0.0.1-SNAPSHOT\ndemo\nDemo project for Spring Boot\n\n&lt;java.version&gt;17&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-data-jpa\n\n\norg.springframework.boot\nspring-boot-starter-web\n</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;12.2.0.jre11&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><strong>This is my pom.xml file</strong></p>\n<p>I have tried a lot of thing but still getting the error the error is:</p>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]&quot;. ClientConnectionId:a195cbc5-abbc-4005-b48b-3295c3a64aaa\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3937) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1950) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3456) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3077) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2919) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1787) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1229) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\nat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.model.relational.Database.(Database.java:44) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\nat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305) ~[na:na]\nat java.base/sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(ServerHello.java:972) ~[na:na]\nat java.base/sun.security.ssl.ServerHello$ServerHelloConsumer.consume(ServerHello.java:894) ~[na:na]\nat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[na:na]\nat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\nat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1839) ~[mssql-jdbc-12.2.0.jre11.jar:na]\n... 49 common frames omitted</p>\n<p>[2m2023-04-16T14:14:54.561+05:00[0;39m [33m WARN[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.e.j.e.i.JdbcEnvironmentInitiator    [0;39m [2m:[0;39m HHH000342: Could not obtain connection to query metadata</p>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]&quot;. ClientConnectionId:a195cbc5-abbc-4005-b48b-3295c3a64aaa\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3937) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1950) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3456) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3077) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2919) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1787) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1229) ~[mssql-jdbc-12.2.0.jre11.jar:na]\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\nat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.model.relational.Database.(Database.java:44) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\nat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305) ~[na:na]\nat java.base/sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(ServerHello.java:972) ~[na:na]\nat java.base/sun.security.ssl.ServerHello$ServerHelloConsumer.consume(ServerHello.java:894) ~[na:na]\nat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[na:na]\nat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[na:na]\nat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1839) ~[mssql-jdbc-12.2.0.jre11.jar:na]\n... 49 common frames omitted</p>\n<p>[2m2023-04-16T14:14:54.570+05:00[0;39m [31mERROR[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36mj.LocalContainerEntityManagerFactoryBean[0;39m [2m:[0;39m Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n[2m2023-04-16T14:14:54.571+05:00[0;39m [33m WARN[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36mConfigServletWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n[2m2023-04-16T14:14:54.578+05:00[0;39m [32m INFO[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\n[2m2023-04-16T14:14:54.619+05:00[0;39m [32m INFO[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.b.a.l.ConditionEvaluationReportLogger[0;39m [2m:[0;39m</p>\n<p>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n[2m2023-04-16T14:14:54.656+05:00[0;39m [31mERROR[0;39m [35m11492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed</p>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\nat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:267) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.model.relational.Database.(Database.java:44) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\nat</p>\n<p>I have tried almost every method mentioned in google and also use ChatGpt for help but nothing helped i have been trying to solve it from 2 days. Hope i get the answer now.</p>\n"},{"tags":["java","android","mysql"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681638215,"post_id":76026668,"comment_id":134085899,"body_markdown":"You don&#39;t need to create a certificate. You need to import the server&#39;s certificate, or that of one of its signers, into your truststore. Duplicate.","body":"You don&#39;t need to create a certificate. You need to import the server&#39;s certificate, or that of one of its signers, into your truststore. Duplicate."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681636844,"creation_date":1681636844,"answer_id":76026882,"question_id":76026668,"body_markdown":"You need a certificate in the PHP instance that your Java trusts.\r\n\r\nEither you get a real cert, eg https://letsencrypt.org/ and install it to PHP \r\n\r\nOr you [make your own][1], install in PHP and [add][2] it to your JRE security CACERTS.\r\n\r\n\r\n  [1]: https://devopscube.com/create-self-signed-certificates-openssl/\r\n  [2]: https://stackoverflow.com/questions/11617210/how-to-properly-import-a-selfsigned-certificate-into-java-keystore-that-is-avail/11617655#11617655","title":"What certificate do I need and how to create it","body":"<p>You need a certificate in the PHP instance that your Java trusts.</p>\n<p>Either you get a real cert, eg <a href=\"https://letsencrypt.org/\" rel=\"nofollow noreferrer\">https://letsencrypt.org/</a> and install it to PHP</p>\n<p>Or you <a href=\"https://devopscube.com/create-self-signed-certificates-openssl/\" rel=\"nofollow noreferrer\">make your own</a>, install in PHP and <a href=\"https://stackoverflow.com/questions/11617210/how-to-properly-import-a-selfsigned-certificate-into-java-keystore-that-is-avail/11617655#11617655\">add</a> it to your JRE security CACERTS.</p>\n"}],"owner":{"account_id":28319095,"reputation":1,"user_id":21655182,"display_name":"user21655182"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1681638272,"answer_count":1,"score":-1,"last_activity_date":1681636844,"creation_date":1681633761,"question_id":76026668,"body_markdown":"I want to use a php API to connect to my MySql database but I get the following error all the time:\r\n`javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found`\r\n\r\nI know I need a certificate but I have no clue how to create one, because I am the host which is why I need to create it my self.\r\n\r\nThe php code is the following from this github : https://github.com/VishnuSivadasVS/LogIn-SignUp\r\n\r\n```\r\n&lt;?php\r\nrequire &quot;DataBase.php&quot;;\r\n$db = new DataBase();\r\nif (isset($_POST[&#39;fullname&#39;]) &amp;&amp; isset($_POST[&#39;email&#39;]) &amp;&amp; isset($_POST[&#39;username&#39;]) &amp;&amp; isset($_POST[&#39;password&#39;])) {\r\n    if ($db-&gt;dbConnect()) {\r\n        if ($db-&gt;signUp(&quot;users&quot;, $_POST[&#39;fullname&#39;], $_POST[&#39;email&#39;], $_POST[&#39;username&#39;], $_POST[&#39;password&#39;])) {\r\n            echo &quot;Sign Up Success&quot;;\r\n        } else echo &quot;Sign up Failed&quot;;\r\n    } else echo &quot;Error: Database connection&quot;;\r\n} else echo &quot;All fields are required&quot;;\r\n?&gt;\r\n```\r\n\r\nAnd this is how I try to connect in my Java/Android Code:\r\n\r\n```\r\n                        public void run() {\r\n                            //Starting Write and Read data with URL\r\n                            //Creating array for parameters\r\n                            String[] field = new String[4];\r\n                            field[0] = &quot;fullname&quot;;\r\n                            field[1] = &quot;username&quot;;\r\n                            field[2] = &quot;password&quot;;\r\n                            field[3] = &quot;email&quot;;\r\n                            //Creating array for data\r\n                            String[] data = new String[4];\r\n                            data[0] = fullnametext;\r\n                            data[1] = usernametext;\r\n                            data[2] = passwordtext;\r\n                            data[3] = emailtext;\r\n                            PutData putData = new PutData(&quot;https://127.0.0.1/LoginRegister/signup.php&quot;, &quot;POST&quot;, field, data);\r\n                            if (putData.startPut()) {\r\n                                if (putData.onComplete()) {\r\n                                    String result = putData.getResult();\r\n                                    progressBar.setVisibility(View.GONE);\r\n                                    if(result.equals(&quot;Sign Up Success&quot;)){\r\n                                        Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\r\n                                        Log.i(&quot;Result&quot;, result);\r\n                                        Intent intent = new Intent(getApplicationContext(), LogIn.class);\r\n                                        startActivity(intent);\r\n                                        finish();\r\n\r\n                                    }\r\n```\r\n\r\nIt would really help me if anybody could tell me how to create the certificate I need and where to put it in my android code.\r\n\r\nThanks for any help :)\r\n\r\nI already searched for information, but I only ran into more questions. Like do I need a certificate for my database or the php Code?","title":"What certificate do I need and how to create it","body":"<p>I want to use a php API to connect to my MySql database but I get the following error all the time:\n<code>javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found</code></p>\n<p>I know I need a certificate but I have no clue how to create one, because I am the host which is why I need to create it my self.</p>\n<p>The php code is the following from this github : <a href=\"https://github.com/VishnuSivadasVS/LogIn-SignUp\" rel=\"nofollow noreferrer\">https://github.com/VishnuSivadasVS/LogIn-SignUp</a></p>\n<pre><code>&lt;?php\nrequire &quot;DataBase.php&quot;;\n$db = new DataBase();\nif (isset($_POST['fullname']) &amp;&amp; isset($_POST['email']) &amp;&amp; isset($_POST['username']) &amp;&amp; isset($_POST['password'])) {\n    if ($db-&gt;dbConnect()) {\n        if ($db-&gt;signUp(&quot;users&quot;, $_POST['fullname'], $_POST['email'], $_POST['username'], $_POST['password'])) {\n            echo &quot;Sign Up Success&quot;;\n        } else echo &quot;Sign up Failed&quot;;\n    } else echo &quot;Error: Database connection&quot;;\n} else echo &quot;All fields are required&quot;;\n?&gt;\n</code></pre>\n<p>And this is how I try to connect in my Java/Android Code:</p>\n<pre><code>                        public void run() {\n                            //Starting Write and Read data with URL\n                            //Creating array for parameters\n                            String[] field = new String[4];\n                            field[0] = &quot;fullname&quot;;\n                            field[1] = &quot;username&quot;;\n                            field[2] = &quot;password&quot;;\n                            field[3] = &quot;email&quot;;\n                            //Creating array for data\n                            String[] data = new String[4];\n                            data[0] = fullnametext;\n                            data[1] = usernametext;\n                            data[2] = passwordtext;\n                            data[3] = emailtext;\n                            PutData putData = new PutData(&quot;https://127.0.0.1/LoginRegister/signup.php&quot;, &quot;POST&quot;, field, data);\n                            if (putData.startPut()) {\n                                if (putData.onComplete()) {\n                                    String result = putData.getResult();\n                                    progressBar.setVisibility(View.GONE);\n                                    if(result.equals(&quot;Sign Up Success&quot;)){\n                                        Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\n                                        Log.i(&quot;Result&quot;, result);\n                                        Intent intent = new Intent(getApplicationContext(), LogIn.class);\n                                        startActivity(intent);\n                                        finish();\n\n                                    }\n</code></pre>\n<p>It would really help me if anybody could tell me how to create the certificate I need and where to put it in my android code.</p>\n<p>Thanks for any help :)</p>\n<p>I already searched for information, but I only ran into more questions. Like do I need a certificate for my database or the php Code?</p>\n"},{"tags":["java","freemarker"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681382886,"creation_date":1681378895,"answer_id":76003964,"question_id":76000107,"body_markdown":"You shouldn&#39;t be taking values from data and putting them directly into the sql as this will make your application susceptible to [sql injection attacks](https://en.wikipedia.org/wiki/SQL_injection)\r\n\r\nPlease see https://xkcd.com/327/\r\n\r\n[![bobby tables][1]][1] \r\n\r\nInstead, you should be creating sql like\r\n\r\n```sql\r\nWHERE column1 in (?, ?)\r\nOR column2 in (?, ?)\r\nOR column3 in (?, ?)\r\n```\r\n\r\nThen doing something like\r\n```java\r\nPreparedStatement ps = connection.prepareStatement(sql);\r\nps.setString(1, data.key1[0]);\r\nps.setString(2, data.key1[1]);\r\n...\r\nps.setString(6, data.key3[1]);\r\nResultSet rs = ps.executeQuery();\r\nwhile (rs.next()) {\r\n   ...\r\n}\r\n```\r\n\r\n\r\n\r\n[1]: https://i.stack.imgur.com/J3DxE.png","title":"Freemarker applying join after another join","body":"<p>You shouldn't be taking values from data and putting them directly into the sql as this will make your application susceptible to <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow noreferrer\">sql injection attacks</a></p>\n<p>Please see <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">https://xkcd.com/327/</a></p>\n<p><a href=\"https://i.stack.imgur.com/J3DxE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J3DxE.png\" alt=\"bobby tables\" /></a></p>\n<p>Instead, you should be creating sql like</p>\n<pre class=\"lang-sql prettyprint-override\"><code>WHERE column1 in (?, ?)\nOR column2 in (?, ?)\nOR column3 in (?, ?)\n</code></pre>\n<p>Then doing something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement ps = connection.prepareStatement(sql);\nps.setString(1, data.key1[0]);\nps.setString(2, data.key1[1]);\n...\nps.setString(6, data.key3[1]);\nResultSet rs = ps.executeQuery();\nwhile (rs.next()) {\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681636527,"creation_date":1681636527,"answer_id":76026859,"question_id":76000107,"body_markdown":"Use can use `#list`, and `#sep`. Something like this:\r\n\r\n    WHERE\r\n    &lt;#list map as k, v&gt;\r\n    ${k} in (${v?join(&quot;, &quot;)})\r\n    &lt;#sep&gt;\r\n    OR\r\n    &lt;/#list&gt;\r\n\r\nAlso, you might want to use `?join` in simpler cases instead, like I did above for the nested listing. If that listing has to do something complicated, you you probably want to use `&lt;#list v as it&gt;complex stuff for ${it}&lt;#sep&gt;, &lt;/#list&gt;` there.\r\n","title":"Freemarker applying join after another join","body":"<p>Use can use <code>#list</code>, and <code>#sep</code>. Something like this:</p>\n<pre><code>WHERE\n&lt;#list map as k, v&gt;\n${k} in (${v?join(&quot;, &quot;)})\n&lt;#sep&gt;\nOR\n&lt;/#list&gt;\n</code></pre>\n<p>Also, you might want to use <code>?join</code> in simpler cases instead, like I did above for the nested listing. If that listing has to do something complicated, you you probably want to use <code>&lt;#list v as it&gt;complex stuff for ${it}&lt;#sep&gt;, &lt;/#list&gt;</code> there.</p>\n"}],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76026859,"answer_count":2,"score":0,"last_activity_date":1681636527,"creation_date":1681336259,"question_id":76000107,"body_markdown":"I got such a data:\r\n\r\n    { &quot;key1&quot; : [ &quot;value1&quot;, &quot;value2&quot; ],\r\n      &quot;key2&quot; : [ &quot;value3&quot;, &quot;value4&quot; ],\r\n      &quot;key3&quot; : [ &quot;value5&quot;, &quot;value6&quot; ] }\r\n\r\nAnd i want to create sql query `WHERE` clause from them like this:\r\n\r\n    WHERE\r\n    column1 in (value1, value2)\r\n    OR\r\n    column2 in (value3, value4)\r\n    OR\r\n    column3 in (value5, value6)\r\n\r\nI try to make an assign `&lt;#assign column1 = &lt;#if key1??&gt; ${key1?join(&quot;, &quot;)} &lt;/#if&gt; &gt;`, but it seems that it is not possible\r\n\r\nThe question is: how to set `OR` delimiter between clauses? How to apply join from join? Maybe some else solutions without using assign?\r\n","title":"Freemarker applying join after another join","body":"<p>I got such a data:</p>\n<pre><code>{ &quot;key1&quot; : [ &quot;value1&quot;, &quot;value2&quot; ],\n  &quot;key2&quot; : [ &quot;value3&quot;, &quot;value4&quot; ],\n  &quot;key3&quot; : [ &quot;value5&quot;, &quot;value6&quot; ] }\n</code></pre>\n<p>And i want to create sql query <code>WHERE</code> clause from them like this:</p>\n<pre><code>WHERE\ncolumn1 in (value1, value2)\nOR\ncolumn2 in (value3, value4)\nOR\ncolumn3 in (value5, value6)\n</code></pre>\n<p>I try to make an assign <code>&lt;#assign column1 = &lt;#if key1??&gt; ${key1?join(&quot;, &quot;)} &lt;/#if&gt; &gt;</code>, but it seems that it is not possible</p>\n<p>The question is: how to set <code>OR</code> delimiter between clauses? How to apply join from join? Maybe some else solutions without using assign?</p>\n"},{"tags":["java","antlr","antlr4"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1681568927,"post_id":76022693,"comment_id":134079285,"body_markdown":"There is no referential value for the index of the child into the children array of the parse node. You&#39;ll have to write a method to find the node in the parent&#39;s children list, convert to index, then back up.","body":"There is no referential value for the index of the child into the children array of the parse node. You&#39;ll have to write a method to find the node in the parent&#39;s children list, convert to index, then back up."}],"answers":[{"tags":[],"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681569272,"creation_date":1681569272,"answer_id":76022887,"question_id":76022693,"body_markdown":"If you break \r\n```\r\nregExp : branch (PIPE branch)*;\r\n```\r\nInto something like:\r\n```\r\nregExp : branch pipeBranch*;\r\npipeBranch: PIPE branch;\r\n```\r\n\r\nYou would get a specific context for `pipeBranch` and could set a listener for that.","title":"How to get &quot;previous&quot; node in ANTLR ParseTree","body":"<p>If you break</p>\n<pre><code>regExp : branch (PIPE branch)*;\n</code></pre>\n<p>Into something like:</p>\n<pre><code>regExp : branch pipeBranch*;\npipeBranch: PIPE branch;\n</code></pre>\n<p>You would get a specific context for <code>pipeBranch</code> and could set a listener for that.</p>\n"},{"tags":[],"owner":{"account_id":1156784,"reputation":50192,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681635698,"creation_date":1681635698,"answer_id":76026802,"question_id":76022693,"body_markdown":"Just check if `ctx.PIPE().size() &gt; 0`. If that&#39;s the case you know you must have a branch preceded by a PIPE.","title":"How to get &quot;previous&quot; node in ANTLR ParseTree","body":"<p>Just check if <code>ctx.PIPE().size() &gt; 0</code>. If that's the case you know you must have a branch preceded by a PIPE.</p>\n"}],"owner":{"account_id":15481877,"reputation":1067,"user_id":11173594,"display_name":"136"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681635698,"creation_date":1681567205,"question_id":76022693,"body_markdown":"I have the following rule: `regExp : branch (PIPE branch)*`. I built a listener and on my `exitBranch` method I want to know if a `branch` comes after a `PIPE` token. Something like\r\n```java\r\n@Override\r\npublic void exitBranch(BranchContext ctx)\r\n{\r\n    if (/*branch is preceeded by PIPE)*/)\r\n    {\r\n        // do stuff\r\n    }\r\n}\r\n```\r\nIn case it helps, here&#39;s an example of a parse tree (`PIPE` corresponds to the `|` token):\r\n```\r\nregExp\r\n  branch\r\n    piece\r\n      atom a\r\n  |\r\n  branch\r\n    piece\r\n      atom b\r\n&lt;EOF&gt;\r\n```\r\n\r\nEdit: I guess I could check if a `branch` is the first child of `regExp` but I would like a better solution","title":"How to get &quot;previous&quot; node in ANTLR ParseTree","body":"<p>I have the following rule: <code>regExp : branch (PIPE branch)*</code>. I built a listener and on my <code>exitBranch</code> method I want to know if a <code>branch</code> comes after a <code>PIPE</code> token. Something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void exitBranch(BranchContext ctx)\n{\n    if (/*branch is preceeded by PIPE)*/)\n    {\n        // do stuff\n    }\n}\n</code></pre>\n<p>In case it helps, here's an example of a parse tree (<code>PIPE</code> corresponds to the <code>|</code> token):</p>\n<pre><code>regExp\n  branch\n    piece\n      atom a\n  |\n  branch\n    piece\n      atom b\n&lt;EOF&gt;\n</code></pre>\n<p>Edit: I guess I could check if a <code>branch</code> is the first child of <code>regExp</code> but I would like a better solution</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681638372,"post_id":13613538,"comment_id":134085926,"body_markdown":"Define &#39;doesn&#39;t work&#39;.","body":"Define &#39;doesn&#39;t work&#39;."}],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1354133847,"creation_date":1354133406,"answer_id":13613564,"question_id":13613538,"body_markdown":"[`Thread.sleep()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#sleep%28long%29) takes a `long` value not `double`. You would need a typecast here: -\r\n\r\n    Thread.sleep((long)(Math.random() * 1000));","title":"Making Thread sleep for random amount of MS","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#sleep%28long%29\" rel=\"noreferrer\"><code>Thread.sleep()</code></a> takes a <code>long</code> value not <code>double</code>. You would need a typecast here: -</p>\n\n<pre><code>Thread.sleep((long)(Math.random() * 1000));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1354133410,"creation_date":1354133410,"answer_id":13613567,"question_id":13613538,"body_markdown":"[`Thread.sleep()`][1] takes a `long` value, which is the number of milliseconds to sleep. Passing a floating-point value between zero and one won&#39;t work since the value will always get truncated to zero.\r\n\r\nTo fix this, generate a random integer from an appropriate range, and pass that to `Thread.sleep()`.\r\n\r\nFor example, to sleep for up to a second, use `Thread.sleep(random.nextInt(1000));`. Here, `random` is an object of type [`Random`][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#sleep%28long%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Random.html","title":"Making Thread sleep for random amount of MS","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#sleep%28long%29\" rel=\"noreferrer\"><code>Thread.sleep()</code></a> takes a <code>long</code> value, which is the number of milliseconds to sleep. Passing a floating-point value between zero and one won't work since the value will always get truncated to zero.</p>\n\n<p>To fix this, generate a random integer from an appropriate range, and pass that to <code>Thread.sleep()</code>.</p>\n\n<p>For example, to sleep for up to a second, use <code>Thread.sleep(random.nextInt(1000));</code>. Here, <code>random</code> is an object of type <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Random.html\" rel=\"noreferrer\"><code>Random</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1354133541,"creation_date":1354133430,"answer_id":13613575,"question_id":13613538,"body_markdown":"There are two problems with your code:\r\n\r\n1. The smallest amount of time you can `sleep()` is 1 millisecond\r\n\r\n2. Types are incorrect: `double` vs. `long`.\r\n\r\nThis will work:\r\n\r\n    Thread.sleep((long)(Math.random() * 1000));\r\n\r\nIt will sleep for something between 0 and 1000 milliseconds.","title":"Making Thread sleep for random amount of MS","body":"<p>There are two problems with your code:</p>\n\n<ol>\n<li><p>The smallest amount of time you can <code>sleep()</code> is 1 millisecond</p></li>\n<li><p>Types are incorrect: <code>double</code> vs. <code>long</code>.</p></li>\n</ol>\n\n<p>This will work:</p>\n\n<pre><code>Thread.sleep((long)(Math.random() * 1000));\n</code></pre>\n\n<p>It will sleep for something between 0 and 1000 milliseconds.</p>\n"},{"tags":[],"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681635403,"creation_date":1681635403,"answer_id":76026784,"question_id":13613538,"body_markdown":"You can use the following code snippet to sleep for a random number of milliseconds between 1000 and 2000 for example:\r\n\r\n```java\r\nint min = 1000;\r\nint max = 2000;\r\nTimeUnit.MILLISECONDS.sleep(ThreadLocalRandom.current().nextInt(min, max));\r\n```\r\n\r\nThe advantage of using `TimeUnit.MILLISECONDS.sleep(...)` instead of `Thread.sleep(...)` is that it explicitly specifies the time unit (milliseconds) being used, which makes the code more readable and less error-prone. \r\n\r\nUsing `ThreadLocalRandom.current()` instead of `Math.random()` has the advantage that it is (a tiny bit) more efficient, since it doesn&#39;t require any locking mechanisms.","title":"Making Thread sleep for random amount of MS","body":"<p>You can use the following code snippet to sleep for a random number of milliseconds between 1000 and 2000 for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int min = 1000;\nint max = 2000;\nTimeUnit.MILLISECONDS.sleep(ThreadLocalRandom.current().nextInt(min, max));\n</code></pre>\n<p>The advantage of using <code>TimeUnit.MILLISECONDS.sleep(...)</code> instead of <code>Thread.sleep(...)</code> is that it explicitly specifies the time unit (milliseconds) being used, which makes the code more readable and less error-prone.</p>\n<p>Using <code>ThreadLocalRandom.current()</code> instead of <code>Math.random()</code> has the advantage that it is (a tiny bit) more efficient, since it doesn't require any locking mechanisms.</p>\n"}],"owner":{"account_id":2024057,"reputation":431,"user_id":1809582,"accept_rate":92,"display_name":"Tom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51984,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":13613564,"answer_count":4,"score":22,"last_activity_date":1681635403,"creation_date":1354133313,"question_id":13613538,"body_markdown":"Hey so I have 3 threads which have certain conditions when they print out something. this works fine. What I want to do now is make the thread just before it outputs something to send it to sleep for random amount of ms. I was thinking using the math class but not sure how.\r\n\r\nthe random() should generate random double greater than or equal to 0.0 and less than 1.0 right ?\r\n\r\nwill I just write something like\r\n\r\n    Thread.sleep(random());\r\n\r\n^ that doesn&#39;t work though tried it","title":"Making Thread sleep for random amount of MS","body":"<p>Hey so I have 3 threads which have certain conditions when they print out something. this works fine. What I want to do now is make the thread just before it outputs something to send it to sleep for random amount of ms. I was thinking using the math class but not sure how.</p>\n\n<p>the random() should generate random double greater than or equal to 0.0 and less than 1.0 right ?</p>\n\n<p>will I just write something like</p>\n\n<pre><code>Thread.sleep(random());\n</code></pre>\n\n<p>^ that doesn't work though tried it</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1586226166,"post_id":61071381,"comment_id":108044574,"body_markdown":"Simply remove new lines.","body":"Simply remove new lines."},{"owner":{"account_id":1613606,"reputation":2676,"user_id":1491909,"display_name":"Lochlan"},"score":0,"creation_date":1586226292,"post_id":61071381,"comment_id":108044600,"body_markdown":"The problem isn&#39;t just the newline chars, unfortunately‚Äîany extra whitespace will have the same issue.","body":"The problem isn&#39;t just the newline chars, unfortunately‚Äîany extra whitespace will have the same issue."},{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1586226365,"post_id":61071381,"comment_id":108044614,"body_markdown":"Do a trim() then as well. Otherwise you will need to parse the json to some Java Object, and then parse it back into a string as you see fit.","body":"Do a trim() then as well. Otherwise you will need to parse the json to some Java Object, and then parse it back into a string as you see fit."},{"owner":{"account_id":1613606,"reputation":2676,"user_id":1491909,"display_name":"Lochlan"},"score":0,"creation_date":1586226518,"post_id":61071381,"comment_id":108044645,"body_markdown":"trim() eliminates leading and trailing whitespace, but I would also need to remove whitespace in the middle.  And I can&#39;t remove _all_ whitespace because there could be valid whitespace within a string value.","body":"trim() eliminates leading and trailing whitespace, but I would also need to remove whitespace in the middle.  And I can&#39;t remove <i>all</i> whitespace because there could be valid whitespace within a string value."}],"answers":[{"tags":[],"owner":{"account_id":1613606,"reputation":2676,"user_id":1491909,"display_name":"Lochlan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586363372,"creation_date":1586363372,"answer_id":61105471,"question_id":61071381,"body_markdown":"The solution I landed on involved using a parser (instead of trying this only with `ObjectMapper`), but using `JsonNode` and again relying on its `toString()` behavior to give me a JSON string representation:\r\n\r\n```java\r\n    public List&lt;String&gt; extractJsonBlobs(String json) throws IOException {\r\n        JsonFactory factory = new JsonFactory(new ObjectMapper());\r\n        JsonParser parser = factory.createParser(json);\r\n        Iterator&lt;JsonNode&gt; messages = parser.readValuesAs(JsonNode.class);\r\n\r\n        return Streams.stream(messages)\r\n                .map(m -&gt; m.toString())\r\n                .collect(toList());\r\n    }\r\n```","title":"How to process String of concatenated JSON blobs into List of Strings with Jackson?","body":"<p>The solution I landed on involved using a parser (instead of trying this only with <code>ObjectMapper</code>), but using <code>JsonNode</code> and again relying on its <code>toString()</code> behavior to give me a JSON string representation:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;String&gt; extractJsonBlobs(String json) throws IOException {\n        JsonFactory factory = new JsonFactory(new ObjectMapper());\n        JsonParser parser = factory.createParser(json);\n        Iterator&lt;JsonNode&gt; messages = parser.readValuesAs(JsonNode.class);\n\n        return Streams.stream(messages)\n                .map(m -&gt; m.toString())\n                .collect(toList());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6557305"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681634468,"creation_date":1681634468,"answer_id":76026715,"question_id":61071381,"body_markdown":"Here&#39;s another solution:\r\n\r\n```\r\n    public List&lt;String&gt; extractJsonBlobs(String json) {\r\n\r\n        JsonMapper mapper = new JsonMapper();\r\n        List&lt;String&gt; jsonBlobs = new ArrayList&lt;&gt;();\r\n\r\n        MappingIterator&lt;JsonNode&gt; it = mapper.readerFor(JsonNode.class)\r\n                .readValues(json)) {\r\n            while (it.hasNextValue()) {\r\n                jsonBlobs.add(it.nextValue().toString());\r\n            }\r\n\r\n        return jsonBlobs;\r\n    }\r\n```\r\nYou can try-catch it for JsonEOFException in case that the data is not complete (e.g. coming from a stream) to prepend a buffer with the missing data :\r\n```\r\n    public List&lt;String&gt; extractJsonBlobs(String json) {\r\n\r\n        JsonMapper mapper = new JsonMapper();\r\n        List&lt;String&gt; jsonBlobs = new ArrayList&lt;&gt;();\r\n\r\n        int lastSuccessfulParseCharLocation = 0;\r\n\r\n        try (MappingIterator&lt;JsonNode&gt; it = mapper.readerFor(JsonNode.class)\r\n                .readValues(json)) {\r\n            while (it.hasNextValue()) {\r\n                jsonBlobs.add(it.nextValue().toString());\r\n                lastSuccessfulParseCharLocation = (int) it.getCurrentLocation().getCharOffset();\r\n            }\r\n\r\n\r\n        } catch (JsonEOFException e) {\r\n            charBuffer.position(lastSuccessfulParseCharLocation);\r\n            Arrays.fill(prependChars, &#39;\\0&#39;);\r\n            charBuffer.get(prependChars, 0, (charBuffer.length()));\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        return jsonBlobs;\r\n    }\r\n```\r\nFor context, charBuffer is a `CharBuffer` and prependChars is a `char[]`","title":"How to process String of concatenated JSON blobs into List of Strings with Jackson?","body":"<p>Here's another solution:</p>\n<pre><code>    public List&lt;String&gt; extractJsonBlobs(String json) {\n\n        JsonMapper mapper = new JsonMapper();\n        List&lt;String&gt; jsonBlobs = new ArrayList&lt;&gt;();\n\n        MappingIterator&lt;JsonNode&gt; it = mapper.readerFor(JsonNode.class)\n                .readValues(json)) {\n            while (it.hasNextValue()) {\n                jsonBlobs.add(it.nextValue().toString());\n            }\n\n        return jsonBlobs;\n    }\n</code></pre>\n<p>You can try-catch it for JsonEOFException in case that the data is not complete (e.g. coming from a stream) to prepend a buffer with the missing data :</p>\n<pre><code>    public List&lt;String&gt; extractJsonBlobs(String json) {\n\n        JsonMapper mapper = new JsonMapper();\n        List&lt;String&gt; jsonBlobs = new ArrayList&lt;&gt;();\n\n        int lastSuccessfulParseCharLocation = 0;\n\n        try (MappingIterator&lt;JsonNode&gt; it = mapper.readerFor(JsonNode.class)\n                .readValues(json)) {\n            while (it.hasNextValue()) {\n                jsonBlobs.add(it.nextValue().toString());\n                lastSuccessfulParseCharLocation = (int) it.getCurrentLocation().getCharOffset();\n            }\n\n\n        } catch (JsonEOFException e) {\n            charBuffer.position(lastSuccessfulParseCharLocation);\n            Arrays.fill(prependChars, '\\0');\n            charBuffer.get(prependChars, 0, (charBuffer.length()));\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        return jsonBlobs;\n    }\n</code></pre>\n<p>For context, charBuffer is a <code>CharBuffer</code> and prependChars is a <code>char[]</code></p>\n"}],"owner":{"account_id":1613606,"reputation":2676,"user_id":1491909,"display_name":"Lochlan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681634468,"creation_date":1586222636,"question_id":61071381,"body_markdown":"I have a String that contains concatenated JSON objects of varying structure that I want to turn into a list of strings.  For example, given this input:\r\n\r\n```\r\n{\r\n  &quot;foo&quot;: &quot;bar&quot;\r\n}{\r\n  &quot;wibble&quot;: &quot;wobble&quot;\r\n}\r\n```\r\n\r\n...I would like to have a `List&lt;String&gt;` object output that looks like this:\r\n\r\n```\r\n[{&quot;foo&quot;:&quot;bar&quot;}, {&quot;wibble&quot;:&quot;wobble&quot;}]\r\n```\r\n\r\nIdeally I want to do this without implementing the JSON specification myself.  I have found a naive implementation using Jackson that works if my initial string does **not** contain extra whitespace:\r\n\r\n```java\r\npublic List&lt;String&gt; extractJsonBlobs(String json) throws IOException {\r\n    if (json.length() == 0) return ImmutableList.of();\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    JsonNode jsonNode = objectMapper.readValue(json, JsonNode.class);\r\n\r\n    return new ImmutableList.Builder&lt;String&gt;()\r\n            .add(jsonNode.toString())\r\n            .addAll(extractJsonBlobs(\r\n                    json.substring(jsonNode.toString().length())\r\n            ))\r\n            .build();\r\n}\r\n```\r\n\r\n```java\r\n// this input works as described\r\nString workingString = &quot;{\\&quot;foo\\&quot;:\\&quot;bar\\&quot;}{\\&quot;wibble\\&quot;:\\&quot;wobble\\&quot;}&quot;;\r\n\r\n// this input fails\r\nString problemString = &quot;{\\n&quot; +\r\n        &quot;  \\&quot;foo\\&quot;: \\&quot;bar\\&quot;\\n&quot; +\r\n        &quot;}{\\n&quot; +\r\n        &quot;  \\&quot;wibble\\&quot;: \\&quot;wobble\\&quot;\\n&quot; +\r\n        &quot;}&quot;;\r\n```\r\n\r\nThe issue is that `jsonNode.toString().length()` always gives me the smallest representation possible (13 for the first object in this case) when what I need is the original unprocessed string length for the concatenated JSON object (18 for the first object in this case).  How can I either get that &quot;original&quot; string length _or_ otherwise iterate through these JSON objects? \r\n Thanks!","title":"How to process String of concatenated JSON blobs into List of Strings with Jackson?","body":"<p>I have a String that contains concatenated JSON objects of varying structure that I want to turn into a list of strings.  For example, given this input:</p>\n\n<pre><code>{\n  \"foo\": \"bar\"\n}{\n  \"wibble\": \"wobble\"\n}\n</code></pre>\n\n<p>...I would like to have a <code>List&lt;String&gt;</code> object output that looks like this:</p>\n\n<pre><code>[{\"foo\":\"bar\"}, {\"wibble\":\"wobble\"}]\n</code></pre>\n\n<p>Ideally I want to do this without implementing the JSON specification myself.  I have found a naive implementation using Jackson that works if my initial string does <strong>not</strong> contain extra whitespace:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;String&gt; extractJsonBlobs(String json) throws IOException {\n    if (json.length() == 0) return ImmutableList.of();\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    JsonNode jsonNode = objectMapper.readValue(json, JsonNode.class);\n\n    return new ImmutableList.Builder&lt;String&gt;()\n            .add(jsonNode.toString())\n            .addAll(extractJsonBlobs(\n                    json.substring(jsonNode.toString().length())\n            ))\n            .build();\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>// this input works as described\nString workingString = \"{\\\"foo\\\":\\\"bar\\\"}{\\\"wibble\\\":\\\"wobble\\\"}\";\n\n// this input fails\nString problemString = \"{\\n\" +\n        \"  \\\"foo\\\": \\\"bar\\\"\\n\" +\n        \"}{\\n\" +\n        \"  \\\"wibble\\\": \\\"wobble\\\"\\n\" +\n        \"}\";\n</code></pre>\n\n<p>The issue is that <code>jsonNode.toString().length()</code> always gives me the smallest representation possible (13 for the first object in this case) when what I need is the original unprocessed string length for the concatenated JSON object (18 for the first object in this case).  How can I either get that \"original\" string length <em>or</em> otherwise iterate through these JSON objects? \n Thanks!</p>\n"},{"tags":["java","ajax","spring-mvc"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681635935,"post_id":76026677,"comment_id":134085639,"body_markdown":"What error are you getting? Add failure and error handlers. BTW: this Ajax is very old and deprecated.","body":"What error are you getting? Add failure and error handlers. BTW: this Ajax is very old and deprecated."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1681715863,"post_id":76026677,"comment_id":134095319,"body_markdown":"This is jQuery Javascript? Please add names and tags. Will help you get attention of right developers. Java is different","body":"This is jQuery Javascript? Please add names and tags. Will help you get attention of right developers. Java is different"}],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681633853,"creation_date":1681633853,"question_id":76026677,"body_markdown":"why is my ajax even though i have commented it doesn&#39;t run but it works fine and when i add a click event it doesn&#39;t run even though my path is correct:\r\n\r\n\r\n```\r\n$(document).ready(function(){\r\n\t$(&quot;#check-login&quot;).click(function(){\r\n\t\temail = $(&quot;#email&quot;).val();\r\n\t\tpassword = $(&quot;#password&quot;).val();\r\n\t\t$.ajax({\r\n\t\t\turl:&quot;/PhoneAccessories/api/checklogin&quot;,\r\n\t\t\ttype:&quot;GET&quot;,\r\n\t\t\tdata:{\r\n\t\t\t\temployee_email:email,\r\n\t\t\t\temployee_password:password,\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tsuccess: function(value){\r\n\t\t\t\talert(value);\r\n\t\t\t\t\r\n\t\t\t\tif(value == &quot;true&quot;){\r\n\t\t\t\t\tpath = window.location.href\r\n\t\t\t\t\tnewPath = path.replace(&quot;login/&quot;,&quot;&quot;)\r\n\t\t\t\t\twindow.location = newPath;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t\t$(&quot;.login-failed&quot;).text(&quot;login failed&quot;)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t});\r\n```","title":"my ajax comment doesn&#39;t let it run but it works fine","body":"<p>why is my ajax even though i have commented it doesn't run but it works fine and when i add a click event it doesn't run even though my path is correct:</p>\n<pre><code>$(document).ready(function(){\n    $(&quot;#check-login&quot;).click(function(){\n        email = $(&quot;#email&quot;).val();\n        password = $(&quot;#password&quot;).val();\n        $.ajax({\n            url:&quot;/PhoneAccessories/api/checklogin&quot;,\n            type:&quot;GET&quot;,\n            data:{\n                employee_email:email,\n                employee_password:password,\n                \n            },\n            success: function(value){\n                alert(value);\n                \n                if(value == &quot;true&quot;){\n                    path = window.location.href\n                    newPath = path.replace(&quot;login/&quot;,&quot;&quot;)\n                    window.location = newPath;\n                }else{\n                    \n                    $(&quot;.login-failed&quot;).text(&quot;login failed&quot;)\n                }\n                \n                \n            }\n        })\n    });\n</code></pre>\n"},{"tags":["java","java-time","java.time.instant"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":7,"creation_date":1681571265,"post_id":76022929,"comment_id":134079586,"body_markdown":"no, not a bug - as [documented](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)), `parse()` is using ISO-8601; and it [requires](https://en.wikipedia.org/wiki/ISO_8601#Years): &quot;*To represent years before 0000 or after 9999, the standard also permits the expansion of the year representation  ... An expanded year representation [&#177;YYYYY] ..., and it must be prefixed with a + or ‚àí sign*&quot; - posted input string is missing the `+` sign","body":"no, not a bug - as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">documented</a>, <code>parse()</code> is using ISO-8601; and it <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Years\" rel=\"nofollow noreferrer\">requires</a>: &quot;<i>To represent years before 0000 or after 9999, the standard also permits the expansion of the year representation  ... An expanded year representation [&#177;YYYYY] ..., and it must be prefixed with a + or ‚àí sign</i>&quot; - posted input string is missing the <code>+</code> sign"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1681575138,"post_id":76022929,"comment_id":134080146,"body_markdown":"&quot;_Did I find a bug in Java_&quot; Anytime you ask this question, almost always the answer is NO.","body":"&quot;<i>Did I find a bug in Java</i>&quot; Anytime you ask this question, almost always the answer is NO."}],"answers":[{"comments":[{"owner":{"account_id":5450308,"reputation":147,"user_id":4335353,"display_name":"Sogawa-sps"},"score":0,"creation_date":1681579448,"post_id":76023149,"comment_id":134080730,"body_markdown":"Thank you @user16320675, it&#39;s clear now. BTW, I wonder why it was decided not to allow a &quot;+&quot; for dates within the 0000..9999 range (say &quot;+1300-01-01T00:00:00Z&quot; is unparseable), from my point it would make more sense. But it is what it is.","body":"Thank you @user16320675, it&#39;s clear now. BTW, I wonder why it was decided not to allow a &quot;+&quot; for dates within the 0000..9999 range (say &quot;+1300-01-01T00:00:00Z&quot; is unparseable), from my point it would make more sense. But it is what it is."}],"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1681633445,"creation_date":1681571916,"answer_id":76023149,"question_id":76022929,"body_markdown":"# Feature, not a bug\r\n\r\nNo, it is not a bug - is working as specified!\r\n\r\nFrom [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)) of `parse()`:\r\n\r\n&gt; is parsed using [DateTimeFormatter.ISO_INSTANT](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT)\r\n\r\nand from [ISO_INSTANT](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT)\r\n\r\n&gt; returns an immutable formatter capable of formatting and parsing the ISO-8601 instant format\r\n\r\n`ISO_INSTANT` refers to `ISO_OFFSET_DATE_TIME` to `ISO_LOCAL_DATE_TIME` to [`ISO_LOCAL_DATE`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE). The last one says:\r\n\r\n&gt;  - Four digits or more for the year. Years in the range 0000 to 9999   \r\n&gt;    will be pre-padded by zero to ensure four digits. Years outside that  \r\n&gt;    range will have a prefixed positive or negative symbol.\r\n\r\nThis is meant to imply that years to be parsed must abide by the mentioned format too.\r\n\r\nFinally, from [Wikipedia](https://en.wikipedia.org/wiki/ISO_8601) for ISO-8601 ([Years](https://en.wikipedia.org/wiki/ISO_8601#Years)):\r\n\r\n&gt; To represent years before 0000 or after 9999, the standard also permits the expansion of the year representation .... An expanded year representation [&#177;YYYYY] must have an agreed-upon number of extra year digits beyond the four-digit minimum, and **it must be prefixed with a + or ‚àí sign**.\r\n\r\n&lt;sup&gt;Emphasis mine&lt;/sup&gt;\r\n\r\n----\r\n\r\nThe input string `&quot;78000000-01-01T00:00:00Z&quot;` is missing that `+` sign, while `&quot;-78000000-01-01T00:00:00Z&quot;` correctly starts with a `-` sign.\r\n\r\nThe input `&quot;+78000000-01-01T00:00:00Z&quot;` is parsed without error.\r\n\r\n\r\n---\r\n\r\nHint: you can *check* the format by formatting a test date/time/... before parsing.  \r\nFor example:\r\n\r\n```\r\nvar test = Instant.from(OffsetDateTime.of(78000000, 1, 1, 0, 0, 0, 0,ZoneOffset.UTC));\r\nSystem.out.println(test.toString());  // or using any relevant formatter\r\n```\r\n\r\nOutput: \r\n&gt; `+78000000-01-01T00:00:00Z`\r\n\r\n","title":"java.time.Instant - error while parsing a huge date","body":"<h1>Feature, not a bug</h1>\n<p>No, it is not a bug - is working as specified!</p>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">documentation</a> of <code>parse()</code>:</p>\n<blockquote>\n<p>is parsed using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\">DateTimeFormatter.ISO_INSTANT</a></p>\n</blockquote>\n<p>and from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\">ISO_INSTANT</a></p>\n<blockquote>\n<p>returns an immutable formatter capable of formatting and parsing the ISO-8601 instant format</p>\n</blockquote>\n<p><code>ISO_INSTANT</code> refers to <code>ISO_OFFSET_DATE_TIME</code> to <code>ISO_LOCAL_DATE_TIME</code> to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\" rel=\"nofollow noreferrer\"><code>ISO_LOCAL_DATE</code></a>. The last one says:</p>\n<blockquote>\n<ul>\n<li>Four digits or more for the year. Years in the range 0000 to 9999<br />\nwill be pre-padded by zero to ensure four digits. Years outside that<br />\nrange will have a prefixed positive or negative symbol.</li>\n</ul>\n</blockquote>\n<p>This is meant to imply that years to be parsed must abide by the mentioned format too.</p>\n<p>Finally, from <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia</a> for ISO-8601 (<a href=\"https://en.wikipedia.org/wiki/ISO_8601#Years\" rel=\"nofollow noreferrer\">Years</a>):</p>\n<blockquote>\n<p>To represent years before 0000 or after 9999, the standard also permits the expansion of the year representation .... An expanded year representation [¬±YYYYY] must have an agreed-upon number of extra year digits beyond the four-digit minimum, and <strong>it must be prefixed with a + or ‚àí sign</strong>.</p>\n</blockquote>\n<p><sup>Emphasis mine</sup></p>\n<hr />\n<p>The input string <code>&quot;78000000-01-01T00:00:00Z&quot;</code> is missing that <code>+</code> sign, while <code>&quot;-78000000-01-01T00:00:00Z&quot;</code> correctly starts with a <code>-</code> sign.</p>\n<p>The input <code>&quot;+78000000-01-01T00:00:00Z&quot;</code> is parsed without error.</p>\n<hr />\n<p>Hint: you can <em>check</em> the format by formatting a test date/time/... before parsing.<br />\nFor example:</p>\n<pre><code>var test = Instant.from(OffsetDateTime.of(78000000, 1, 1, 0, 0, 0, 0,ZoneOffset.UTC));\nSystem.out.println(test.toString());  // or using any relevant formatter\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p><code>+78000000-01-01T00:00:00Z</code></p>\n</blockquote>\n"}],"owner":{"account_id":5450308,"reputation":147,"user_id":4335353,"display_name":"Sogawa-sps"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76023149,"answer_count":1,"score":1,"last_activity_date":1681633445,"creation_date":1681569699,"question_id":76022929,"body_markdown":"I&#39;m trying to parse a really large date (but still way less than Instant.MAX) using the Instant.parse method but getting an error.\r\n\r\n    String input = &quot;78000000-01-01T00:00:00Z&quot;;\r\n    Instant instant = Instant.parse(input);\r\n\r\nException:\r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;78000000-01-01T00:00:00Z&#39; could not be parsed at index 0\r\n\tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2106)\r\n\tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008)\r\n\tat java.base/java.time.Instant.parse(Instant.java:399)\r\n\r\nThe BC date &quot;-78000000-01-01T00:00:00Z&quot; is parsed ok.\r\n\r\nDid I find a bug in Java :)?","title":"java.time.Instant - error while parsing a huge date","body":"<p>I'm trying to parse a really large date (but still way less than Instant.MAX) using the Instant.parse method but getting an error.</p>\n<pre><code>String input = &quot;78000000-01-01T00:00:00Z&quot;;\nInstant instant = Instant.parse(input);\n</code></pre>\n<p>Exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '78000000-01-01T00:00:00Z' could not be parsed at index 0\nat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2106)\nat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008)\nat java.base/java.time.Instant.parse(Instant.java:399)\n</code></pre>\n<p>The BC date &quot;-78000000-01-01T00:00:00Z&quot; is parsed ok.</p>\n<p>Did I find a bug in Java :)?</p>\n"},{"tags":["java"],"owner":{"account_id":21208230,"reputation":1,"user_id":15597407,"display_name":"dreamck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681625168,"answer_count":0,"score":0,"last_activity_date":1681632670,"creation_date":1681618081,"question_id":76025849,"body_markdown":"I want to perform group validation on request parametersÔºå so I use **@Validated annotaion**,but i got this error: No validator could be found for type: java.lang.Integer\r\n\r\nI think the problem happens with my custom annotation, **@Number**\r\nHere is the implement of @Number\r\n\r\n```\r\n@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER})\r\n@Retention(RUNTIME)\r\n@Documented\r\n@Constraint(validatedBy = NumberValidator.class)\r\npublic @interface Number {\r\n\r\n    String message() default &quot;Êï¥Êï∞ÂÄº‰∏çÁ¨¶ÂêàÈ¢ÑÊúü&quot;;\r\n\r\n    /**\r\n     * params[1]ÂØπÂ∫îfield name\r\n     *\r\n     * @return\r\n     */\r\n    String[] params() default {&quot;&quot;, &quot;&quot;};\r\n\r\n    /**\r\n     * max value include\r\n     *\r\n     * @return\r\n     */\r\n    long max() default Long.MAX_VALUE;\r\n\r\n    /**\r\n     * min value include\r\n     *\r\n     * @return\r\n     */\r\n    long min() default Long.MIN_VALUE;\r\n\r\n    /**\r\n     * is allowed null?\r\n     *\r\n     * @return\r\n     */\r\n    boolean nullable() default false;\r\n\r\n    /**\r\n     * value enum\r\n     */\r\n    String[] values() default {};\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n}\r\n\r\nclass NumberValidator implements ConstraintValidator&lt;Number, java.lang.Number&gt; {\r\n\r\n    private long     max;\r\n    private long     min;\r\n    private boolean  nullable;\r\n    private String[] values;\r\n\r\n    @Override\r\n    public void initialize(Number num) {\r\n        max = num.max();\r\n        min = num.min();\r\n        nullable = num.nullable();\r\n        values = num.values();\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(java.lang.Number value, ConstraintValidatorContext context) {\r\n        if (value == null) {\r\n            if (nullable) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        if (values != null &amp;&amp; values.length &gt; 0) {\r\n            return Arrays.asList(values).contains(value.toString());\r\n        }\r\n        return value.longValue() &lt;= max &amp;&amp; value.longValue() &gt;= min;\r\n    }\r\n}\r\n```\r\n\r\ncontroller:\r\n\r\n```\r\n   public HttpResponse&lt;AdPositionParamVO&gt; create(@RequestHeader(&quot;x-ub-userId&quot;) Long ucId,\r\n                                                @RequestBody @Validated(CreateAction.class) AdPositionParamVO param) {\r\n```\r\n\r\nVO:\r\n\r\n```\r\n    @Number(values = {&quot;33&quot;, &quot;34&quot;, &quot;36&quot;, &quot;44&quot;, &quot;52&quot;},  groups = CreateAction.class)\r\n    @NotNull( groups = CreateAction.class)\r\n    protected Integer adType;\r\n\r\n    @Valid\r\n    private AdInfo adInfo;\r\n```\r\nAdInfo:\r\n\r\n```\r\n    @Number(values = {&quot;1&quot;, &quot;2&quot;},  groups = {CreateAction.class, UpdateAction.class})\r\n    private Integer cpAdScene;\r\n```\r\n\r\nwhere is the problemÔºü\r\n","title":"@Validated group error : No validator could be found for type: java.lang.Integer","body":"<p>I want to perform group validation on request parametersÔºå so I use <strong>@Validated annotaion</strong>,but i got this error: No validator could be found for type: java.lang.Integer</p>\n<p>I think the problem happens with my custom annotation, <strong>@Number</strong>\nHere is the implement of @Number</p>\n<pre><code>@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER})\n@Retention(RUNTIME)\n@Documented\n@Constraint(validatedBy = NumberValidator.class)\npublic @interface Number {\n\n    String message() default &quot;Êï¥Êï∞ÂÄº‰∏çÁ¨¶ÂêàÈ¢ÑÊúü&quot;;\n\n    /**\n     * params[1]ÂØπÂ∫îfield name\n     *\n     * @return\n     */\n    String[] params() default {&quot;&quot;, &quot;&quot;};\n\n    /**\n     * max value include\n     *\n     * @return\n     */\n    long max() default Long.MAX_VALUE;\n\n    /**\n     * min value include\n     *\n     * @return\n     */\n    long min() default Long.MIN_VALUE;\n\n    /**\n     * is allowed null?\n     *\n     * @return\n     */\n    boolean nullable() default false;\n\n    /**\n     * value enum\n     */\n    String[] values() default {};\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n\nclass NumberValidator implements ConstraintValidator&lt;Number, java.lang.Number&gt; {\n\n    private long     max;\n    private long     min;\n    private boolean  nullable;\n    private String[] values;\n\n    @Override\n    public void initialize(Number num) {\n        max = num.max();\n        min = num.min();\n        nullable = num.nullable();\n        values = num.values();\n    }\n\n    @Override\n    public boolean isValid(java.lang.Number value, ConstraintValidatorContext context) {\n        if (value == null) {\n            if (nullable) {\n                return true;\n            }\n            return false;\n        }\n        if (values != null &amp;&amp; values.length &gt; 0) {\n            return Arrays.asList(values).contains(value.toString());\n        }\n        return value.longValue() &lt;= max &amp;&amp; value.longValue() &gt;= min;\n    }\n}\n</code></pre>\n<p>controller:</p>\n<pre><code>   public HttpResponse&lt;AdPositionParamVO&gt; create(@RequestHeader(&quot;x-ub-userId&quot;) Long ucId,\n                                                @RequestBody @Validated(CreateAction.class) AdPositionParamVO param) {\n</code></pre>\n<p>VO:</p>\n<pre><code>    @Number(values = {&quot;33&quot;, &quot;34&quot;, &quot;36&quot;, &quot;44&quot;, &quot;52&quot;},  groups = CreateAction.class)\n    @NotNull( groups = CreateAction.class)\n    protected Integer adType;\n\n    @Valid\n    private AdInfo adInfo;\n</code></pre>\n<p>AdInfo:</p>\n<pre><code>    @Number(values = {&quot;1&quot;, &quot;2&quot;},  groups = {CreateAction.class, UpdateAction.class})\n    private Integer cpAdScene;\n</code></pre>\n<p>where is the problemÔºü</p>\n"},{"tags":["javascript","java","d3.js","spline"],"answers":[{"tags":[],"owner":{"account_id":14896288,"reputation":6952,"user_id":10756489,"display_name":"Michael Rovinsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681631392,"creation_date":1681631392,"answer_id":76026515,"question_id":75971989,"body_markdown":"Here is an example of a 5-degree Bezier curve calculated point by point. \r\n\r\nCall `getB5Point` with 6 base points and a variable param `t` (0 to 1):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n    const points = [\r\n      {x: 40, y: 130},\r\n      {x: 120, y: 100},\r\n      {x: 10, y: 20},\t\r\n      {x: 290, y: 10},\t\r\n      {x: 150, y: 110},\r\n      {x: 270, y: 140},\r\n    ]\r\n\r\n    const getB5Point = (p, t) =&gt; {\r\n      const coef = [1, 5, 10, 10, 5, 1];\r\n      let factor = Math.pow(1 - t, 5);\r\n      let x = 0, y = 0;\r\n      for (let i = 0; i &lt; 6; i++) {\r\n        x += p[i].x * coef[i] * factor;\r\n        y += p[i].y * coef[i] * factor;\r\n        factor /= (1 - t);\r\n        factor *= t;\r\n      }\r\n      return {x, y};\r\n    }\r\n\r\n    const svg = d3.select(&#39;svg&#39;);\r\n    for (let i = 0; i &lt; points.length; i++) {\r\n    \tsvg.append(&#39;circle&#39;)\r\n    \t  .classed(&#39;marker&#39;, true)\r\n    \t  .attr(&#39;cx&#39;, points[i].x)\r\n      \t  .attr(&#39;cy&#39;, points[i].y)\r\n      \t  .attr(&#39;r&#39;, 5);\r\n      if (i &gt; 0) {\r\n      \tsvg.append(&#39;line&#39;)\r\n        \t  .attr(&#39;x1&#39;, points[i - 1].x)\r\n        \t  .attr(&#39;y1&#39;, points[i - 1].y)\r\n        \t  .attr(&#39;x2&#39;, points[i].x)\r\n        \t  .attr(&#39;y2&#39;, points[i].y)\r\n      }\r\n    }\r\n\r\n    for (let t = 0; t &lt;= 1; t += 0.01) {\r\n    \tconst point = getB5Point(points, t);\r\n    \tsvg.append(&#39;circle&#39;)\r\n    \t  .classed(&#39;dot&#39;, true)\r\n    \t  .attr(&#39;cx&#39;, point.x)\r\n      \t  .attr(&#39;cy&#39;, point.y)\r\n      \t  .attr(&#39;r&#39;, 2);\r\n      \r\n    }\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    svg {\r\n      border: 1px solid black;\r\n    }\r\n\r\n    .marker {\r\n      fill: red;\r\n      stroke: red;\r\n    }\r\n\r\n    line {\r\n      stroke: black;\r\n      fill: none;\r\n    }\r\n\r\n    .dot {\r\n      fill: green;\r\n      stroke: none;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;svg width=&#39;300&#39; height=&#39;175&#39;&gt;\r\n      \r\n    &lt;/svg&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java equivalent of D3.js .curveBasis","body":"<p>Here is an example of a 5-degree Bezier curve calculated point by point.</p>\n<p>Call <code>getB5Point</code> with 6 base points and a variable param <code>t</code> (0 to 1):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const points = [\n  {x: 40, y: 130},\n  {x: 120, y: 100},\n  {x: 10, y: 20},   \n  {x: 290, y: 10},  \n  {x: 150, y: 110},\n  {x: 270, y: 140},\n]\n\nconst getB5Point = (p, t) =&gt; {\n  const coef = [1, 5, 10, 10, 5, 1];\n  let factor = Math.pow(1 - t, 5);\n  let x = 0, y = 0;\n  for (let i = 0; i &lt; 6; i++) {\n    x += p[i].x * coef[i] * factor;\n    y += p[i].y * coef[i] * factor;\n    factor /= (1 - t);\n    factor *= t;\n  }\n  return {x, y};\n}\n\nconst svg = d3.select('svg');\nfor (let i = 0; i &lt; points.length; i++) {\n    svg.append('circle')\n      .classed('marker', true)\n      .attr('cx', points[i].x)\n      .attr('cy', points[i].y)\n      .attr('r', 5);\n  if (i &gt; 0) {\n    svg.append('line')\n          .attr('x1', points[i - 1].x)\n          .attr('y1', points[i - 1].y)\n          .attr('x2', points[i].x)\n          .attr('y2', points[i].y)\n  }\n}\n\nfor (let t = 0; t &lt;= 1; t += 0.01) {\n    const point = getB5Point(points, t);\n    svg.append('circle')\n      .classed('dot', true)\n      .attr('cx', point.x)\n      .attr('cy', point.y)\n      .attr('r', 2);\n  \n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>svg {\n  border: 1px solid black;\n}\n\n.marker {\n  fill: red;\n  stroke: red;\n}\n\nline {\n  stroke: black;\n  fill: none;\n}\n\n.dot {\n  fill: green;\n  stroke: none;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;\n&lt;svg width='300' height='175'&gt;\n  \n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":21535210,"reputation":47,"user_id":17085543,"display_name":"Jeff Higgins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681631392,"creation_date":1681062060,"question_id":75971989,"body_markdown":"I&#39;m reading the article [Generating SVG Jigsaw Puzzles][1].\r\nI would like to implement the procedures in Java, but having\r\ntrouble finding a graphics primative in java.awt.geom that is parameterized\r\nthe same as the javascript D3 library&#39;s `d3_shape.line().curve(d3_shape.curveBasis)`.\r\n\r\nThe curve is drawn in d3.js using six points: two end points and four control points.\r\nI have tried using various combinations of CubicCurve2D and QuadCurve2D but haven&#39;t\r\nbeen able to reproduce it.\r\n\r\nCan anyone point me to a method in Java that will allow me to draw a curve using \r\ntwo end points and four control points?\r\n\r\nA picture of the curve that I would like to produce:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://dev.inventables.com/2016/02/26/generating-svg-jigsaw-puzzles.html\r\n  [2]: https://i.stack.imgur.com/bC8mT.png","title":"Java equivalent of D3.js .curveBasis","body":"<p>I'm reading the article <a href=\"https://dev.inventables.com/2016/02/26/generating-svg-jigsaw-puzzles.html\" rel=\"nofollow noreferrer\">Generating SVG Jigsaw Puzzles</a>.\nI would like to implement the procedures in Java, but having\ntrouble finding a graphics primative in java.awt.geom that is parameterized\nthe same as the javascript D3 library's <code>d3_shape.line().curve(d3_shape.curveBasis)</code>.</p>\n<p>The curve is drawn in d3.js using six points: two end points and four control points.\nI have tried using various combinations of CubicCurve2D and QuadCurve2D but haven't\nbeen able to reproduce it.</p>\n<p>Can anyone point me to a method in Java that will allow me to draw a curve using\ntwo end points and four control points?</p>\n<p>A picture of the curve that I would like to produce:</p>\n<p><a href=\"https://i.stack.imgur.com/bC8mT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bC8mT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse-plugin","code-signing"],"comments":[{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1393585058,"post_id":22092585,"comment_id":33509296,"body_markdown":"You should somehow get a `*.p12` file (password-protected) from your Authenticode certificate. Then you should execute `jarsigner` to sign a jar:\n`jarsigner -keystore &lt;path-to-p12-file&gt; -storetype pkcs12 -storepass &lt;password&gt; -tsa http://tsa.starfieldtech.com -verbose &lt;jar-name&gt; &lt;alias&gt;` (the alias can be found by running `keytool -list -storetype pkcs12 -keystore &lt;path-to-p12-file&gt;`)","body":"You should somehow get a <code>*.p12</code> file (password-protected) from your Authenticode certificate. Then you should execute <code>jarsigner</code> to sign a jar: <code>jarsigner -keystore &lt;path-to-p12-file&gt; -storetype pkcs12 -storepass &lt;password&gt; -tsa http:&#47;&#47;tsa.starfieldtech.com -verbose &lt;jar-name&gt; &lt;alias&gt;</code> (the alias can be found by running <code>keytool -list -storetype pkcs12 -keystore &lt;path-to-p12-file&gt;</code>)"},{"owner":{"account_id":77207,"reputation":3382,"user_id":2405757,"accept_rate":88,"display_name":"aphex"},"score":0,"creation_date":1393588709,"post_id":22092585,"comment_id":33511697,"body_markdown":"@orionll: The tutorial describes how to get the .p12 file, but do you know if there is a difference between java code signing certificate and the Microsoft Authenticode Certificate? Or it is just the certificate format?","body":"@orionll: The tutorial describes how to get the .p12 file, but do you know if there is a difference between java code signing certificate and the Microsoft Authenticode Certificate? Or it is just the certificate format?"},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1393591801,"post_id":22092585,"comment_id":33513756,"body_markdown":"There is no difference, I think. However, Windows and Java use different trusted stores. You should check that your certificate provider is in the trusted authorities list. You can check it by executing `keytool -keystore &quot;%JAVA_HOME%/jre/lib/security/cacerts&quot; -list`","body":"There is no difference, I think. However, Windows and Java use different trusted stores. You should check that your certificate provider is in the trusted authorities list. You can check it by executing <code>keytool -keystore &quot;%JAVA_HOME%&#47;jre&#47;lib&#47;security&#47;cacerts&quot; -list</code>"},{"owner":{"account_id":77207,"reputation":3382,"user_id":2405757,"accept_rate":88,"display_name":"aphex"},"score":0,"creation_date":1393592341,"post_id":22092585,"comment_id":33514125,"body_markdown":"I&#39;m using thawte and they are supported. Thanks for your comments.","body":"I&#39;m using thawte and they are supported. Thanks for your comments."}],"answers":[{"comments":[{"owner":{"account_id":77207,"reputation":3382,"user_id":2405757,"accept_rate":88,"display_name":"aphex"},"score":0,"creation_date":1393588546,"post_id":22093109,"comment_id":33511585,"body_markdown":"For test purposes I&#39;ve tried that, but it still shows a warning in eclipse, that the certificate is not trusted.","body":"For test purposes I&#39;ve tried that, but it still shows a warning in eclipse, that the certificate is not trusted."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1393601164,"post_id":22093109,"comment_id":33520251,"body_markdown":"Run `jarsigner -verify &lt;your-jar&gt;`. Is the jar actually signed?","body":"Run <code>jarsigner -verify &lt;your-jar&gt;</code>. Is the jar actually signed?"}],"tags":[],"owner":{"account_id":3779685,"reputation":1386,"user_id":3206215,"accept_rate":95,"display_name":"Balayesu Chilakalapudi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1393588901,"creation_date":1393584842,"answer_id":22093109,"question_id":22092585,"body_markdown":"use keytool provided by jdk for generating the certificate, you can sign your jar file with this certificate by using the jarsigner tool. Both keytool, jarsigner are available in bin folder of the jdk1.7.0 kit.\r\n\r\n\r\nhttp://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html","title":"Sign jar files with a Microsoft Authenticode Certificate","body":"<p>use keytool provided by jdk for generating the certificate, you can sign your jar file with this certificate by using the jarsigner tool. Both keytool, jarsigner are available in bin folder of the jdk1.7.0 kit.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html</a></p>\n"},{"tags":[],"owner":{"account_id":8256979,"reputation":196,"user_id":6209851,"display_name":"Markus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460734909,"creation_date":1460734909,"answer_id":36651464,"question_id":22092585,"body_markdown":"There is typically no difference between a certificate for Authenticode or Java code signing. Both are X.509 certificates with the Extended Key Usage (EKU) &quot;Code Signing&quot;.\r\n\r\nWhat could be different is the format of the key store. That is how the private key together with the certificate is stored (if stored in software and not on a smartcard or in a hardware security module). Historically Java was using the Java Keystore format (JKS) but can nowdays use PKCS#12/PFX as well. You should be able to convert the keystore to an appropriate format.","title":"Sign jar files with a Microsoft Authenticode Certificate","body":"<p>There is typically no difference between a certificate for Authenticode or Java code signing. Both are X.509 certificates with the Extended Key Usage (EKU) \"Code Signing\".</p>\n\n<p>What could be different is the format of the key store. That is how the private key together with the certificate is stored (if stored in software and not on a smartcard or in a hardware security module). Historically Java was using the Java Keystore format (JKS) but can nowdays use PKCS#12/PFX as well. You should be able to convert the keystore to an appropriate format.</p>\n"}],"owner":{"account_id":77207,"reputation":3382,"user_id":2405757,"accept_rate":88,"display_name":"aphex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1880,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22093109,"answer_count":2,"score":1,"last_activity_date":1681631068,"creation_date":1393583580,"question_id":22092585,"body_markdown":"Can I use Microsoft Authenticode Certificate for java code signing? Does anyone have experience with it? \r\n\r\nI found [this tutorial][1] on the website of Thawte, which describes how to convert MS Certificate to Java one. On the other side Thawte sells java code signing certificates and I&#39;m not sure if there are some cons converting the MS one.\r\n\r\n\r\nP.S: I want to sign eclipse plugins with it.\r\n\r\n  [1]: https://search.thawte.com/support/ssl-digital-certificates/index?page=content&amp;id=SO133&amp;actp=search&amp;viewlocale=en_US&amp;searchid=1393582392293","title":"Sign jar files with a Microsoft Authenticode Certificate","body":"<p>Can I use Microsoft Authenticode Certificate for java code signing? Does anyone have experience with it?</p>\n<p>I found <a href=\"https://search.thawte.com/support/ssl-digital-certificates/index?page=content&amp;id=SO133&amp;actp=search&amp;viewlocale=en_US&amp;searchid=1393582392293\" rel=\"nofollow noreferrer\">this tutorial</a> on the website of Thawte, which describes how to convert MS Certificate to Java one. On the other side Thawte sells java code signing certificates and I'm not sure if there are some cons converting the MS one.</p>\n<p>P.S: I want to sign eclipse plugins with it.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1681639137,"post_id":76025712,"comment_id":134086038,"body_markdown":"1. No. 2. Yes. Best: use the latest release (minor) version + according (managed) dependencies: https://start.spring.io","body":"1. No. 2. Yes. Best: use the latest release (minor) version + according (managed) dependencies: <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a>"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681889848,"post_id":76026480,"comment_id":134128025,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76026480/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28314440,"reputation":16,"user_id":21651221,"display_name":"hugoSpeed9999"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681630716,"creation_date":1681630716,"answer_id":76026480,"question_id":76025712,"body_markdown":"It should be compatible as spring security only needs a Java 8 or higher Runtime Environment.","title":"Spring boot 2.7.5 and Spring Security 6.0.2","body":"<p>It should be compatible as spring security only needs a Java 8 or higher Runtime Environment.</p>\n"}],"owner":{"account_id":20883043,"reputation":3,"user_id":20233546,"display_name":"Lester_stack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76026480,"answer_count":1,"score":-3,"last_activity_date":1681630716,"creation_date":1681614096,"question_id":76025712,"body_markdown":"Can you deploy spring security latest version 6.0.2 to a project using spring boot 2.7.5 ? Does this cause incompatibility issues?\r\n\r\nI want to implement spring security in a spring boot 2.7.5 project","title":"Spring boot 2.7.5 and Spring Security 6.0.2","body":"<p>Can you deploy spring security latest version 6.0.2 to a project using spring boot 2.7.5 ? Does this cause incompatibility issues?</p>\n<p>I want to implement spring security in a spring boot 2.7.5 project</p>\n"},{"tags":["java","spring-boot-actuator"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681459268,"post_id":76012534,"comment_id":134062780,"body_markdown":"It is not clear what do you want to achieve. In one place you say &quot;I am considering to run logic AFTER application started&quot;. In other &quot;may run BEFORE all beans are ready&quot;. Please edit your question to remove ambiguity.","body":"It is not clear what do you want to achieve. In one place you say &quot;I am considering to run logic AFTER application started&quot;. In other &quot;may run BEFORE all beans are ready&quot;. Please edit your question to remove ambiguity."},{"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"score":0,"creation_date":1681626315,"post_id":76012534,"comment_id":134084748,"body_markdown":"Sorry about that. I have edited the post. Thanks for pointing that out.","body":"Sorry about that. I have edited the post. Thanks for pointing that out."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1681627291,"post_id":76012534,"comment_id":134084811,"body_markdown":"According to [SpringApplication#run](https://github.com/spring-projects/spring-boot/blob/148c632299f408a50ba506b1ec79a9938730d3b6/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L317) spring-boot fires those beans after context has been refreshed, so, yes, it is safe to use this feature.","body":"According to <a href=\"https://github.com/spring-projects/spring-boot/blob/148c632299f408a50ba506b1ec79a9938730d3b6/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L317\" rel=\"nofollow noreferrer\">SpringApplication#run</a> spring-boot fires those beans after context has been refreshed, so, yes, it is safe to use this feature."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681630653,"creation_date":1681630061,"answer_id":76026423,"question_id":76012534,"body_markdown":"There are different ways to run code after spring boot application startup.\r\n\r\n - CommandLineRunner interface (with command-line arguments as string array)\r\n - ApplicationRunner interface (with ApplicationArguments instead of string array)\r\n - ApplicationStartedEvent - triggered after context has been refreshed but before command-line and application runners are called\r\n - ApplicationReadyEvent - triggered after any application and command-line runners are called\r\n\r\nYou can even combine multiple options. They will execute in following order:\r\n\r\n 1. ApplicationStartedEvent\r\n 2. ApplicationRunner or CommandLineRunner depends on @Order\r\n 3. ApplicationReadyEvent\r\n\r\n[Source: [https://stacktraceguru.com/springboot/run-method-on-startup][1]]\r\n\r\n\r\n  [1]: https://stacktraceguru.com/springboot/run-method-on-startup","title":"Does Spring Boot ApplicationRunner.run() run when all beans are created?","body":"<p>There are different ways to run code after spring boot application startup.</p>\n<ul>\n<li>CommandLineRunner interface (with command-line arguments as string array)</li>\n<li>ApplicationRunner interface (with ApplicationArguments instead of string array)</li>\n<li>ApplicationStartedEvent - triggered after context has been refreshed but before command-line and application runners are called</li>\n<li>ApplicationReadyEvent - triggered after any application and command-line runners are called</li>\n</ul>\n<p>You can even combine multiple options. They will execute in following order:</p>\n<ol>\n<li>ApplicationStartedEvent</li>\n<li>ApplicationRunner or CommandLineRunner depends on @Order</li>\n<li>ApplicationReadyEvent</li>\n</ol>\n<p>[Source: <a href=\"https://stacktraceguru.com/springboot/run-method-on-startup\" rel=\"nofollow noreferrer\">https://stacktraceguru.com/springboot/run-method-on-startup</a>]</p>\n"}],"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681630653,"creation_date":1681456939,"question_id":76012534,"body_markdown":"**Question:** does spring-boot function ApplicationRunner.run() run when **all beans** are created or does it run when *the bean which implements the interface* is built?\r\n\r\nFor example, given:\r\n\r\n    @Component\r\n    public class MyRunner implements ApplicationRunner {\r\n        @Override\r\n        public void run(ApplicationArguments args) throws Exception {\r\n           // run some logic...\r\n        }\r\n    }\r\n    \r\n    @Component \r\n    pubic class OtherClass{\r\n      // ...\r\n    }\r\n\r\nDoes MyRunner.run() \r\n\r\n - run when both the MyRunner bean and the OtherClass bean are created, **or** \r\n   \r\n - run when just the MyRunner bean is created and the \r\n\r\n   OtherClass bean is not created?\r\n\r\nI think the latter is the case based on https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html  \r\n\r\n&gt; public interface ApplicationRunner \r\n&gt;\r\n&gt; Interface used to indicate that a\r\n&gt; bean should run when it is contained within a SpringApplication.\r\n&gt; Multiple ApplicationRunner beans can be defined within the same\r\n&gt; application context and can be ordered using the Ordered interface or\r\n&gt; @Order annotation.\r\n\r\n**Why asking the question?**\r\nI am considering to run some logic when my spring-boot application starts. I know both ```ApplicationRunner``` and ```ApplicationListener&lt;ContextRefreshedEvent&gt;``` can be used for that purpose but do not know which one is better. If `ApplicationRunner.run()` may run while some beans are not created, it will be not reliable for my use case.","title":"Does Spring Boot ApplicationRunner.run() run when all beans are created?","body":"<p><strong>Question:</strong> does spring-boot function ApplicationRunner.run() run when <strong>all beans</strong> are created or does it run when <em>the bean which implements the interface</em> is built?</p>\n<p>For example, given:</p>\n<pre><code>@Component\npublic class MyRunner implements ApplicationRunner {\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n       // run some logic...\n    }\n}\n\n@Component \npubic class OtherClass{\n  // ...\n}\n</code></pre>\n<p>Does MyRunner.run()</p>\n<ul>\n<li><p>run when both the MyRunner bean and the OtherClass bean are created, <strong>or</strong></p>\n</li>\n<li><p>run when just the MyRunner bean is created and the</p>\n<p>OtherClass bean is not created?</p>\n</li>\n</ul>\n<p>I think the latter is the case based on <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html</a></p>\n<blockquote>\n<p>public interface ApplicationRunner</p>\n<p>Interface used to indicate that a\nbean should run when it is contained within a SpringApplication.\nMultiple ApplicationRunner beans can be defined within the same\napplication context and can be ordered using the Ordered interface or\n@Order annotation.</p>\n</blockquote>\n<p><strong>Why asking the question?</strong>\nI am considering to run some logic when my spring-boot application starts. I know both <code>ApplicationRunner</code> and <code>ApplicationListener&lt;ContextRefreshedEvent&gt;</code> can be used for that purpose but do not know which one is better. If <code>ApplicationRunner.run()</code> may run while some beans are not created, it will be not reliable for my use case.</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactive","spring-boot-actuator"],"owner":{"account_id":3331179,"reputation":2145,"user_id":2800089,"accept_rate":44,"display_name":"user2800089"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681629623,"creation_date":1681573558,"question_id":76023282,"body_markdown":"I am trying to implement reactive health indicator to check health of multiple target services.\r\n\r\nHowever , respective services are json is not getting parsed. I understood that&#39;s Mono of Health is having Mono of Map. To remove Mono of Map , if I use block() then also it fails with error as block() is not allowed in reactive call. I tried to use map() function and populate value in another map but no value is being passed to that map and it&#39;s not subscribed by caller. Since I am using spring boot actuator I cannot force caller to subscribe so how can I achieve below response in health check\r\n\r\n**Desired Response**\r\n\r\n    &gt; &quot;reactiveTarget&quot;: {\r\n    &gt;             &quot;status&quot;: &quot;UP&quot; \t\t\t{\r\n    &gt; \t\t\t\t&quot;target1&quot;: {\r\n    &gt; \t\t\t\t\t&quot;status&quot;: &quot;UP&quot;\r\n    &gt; \t\t\t\t},\r\n    &gt; \t\t\t\t&quot;target2&quot;: {\r\n    &gt; \t\t\t\t\t&quot;status&quot;: &quot;UP&quot;\r\n    &gt; \t\t\t\t} \t\t\t}\r\n    &gt;         },\r\n\r\n**Achieved Response**\r\n\r\n    &quot;reactiveTarget&quot;: {\r\n                &quot;status&quot;: &quot;UP&quot;,\r\n                &quot;details&quot;: {\r\n                    &quot;target1&quot;: {\r\n                        &quot;scanAvailable&quot;: true\r\n                    },\r\n                    &quot;holdingsWebClient&quot;: {\r\n                        &quot;target2&quot;: true\r\n                    }\r\n                }\r\n            },\r\n\r\n**Code used** \r\n\r\n    @Component\r\n    @Slf4j\r\n    public class ReactiveTargetHealthIndicator implements ReactiveHealthIndicator {\r\n    \r\n        private final ApplicationContext context;\r\n    \r\n        private String overallStatus=&quot;UP&quot;;\r\n    \r\n        public ReactiveTargetHealthIndicator(@NonNull ApplicationContext context) {\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public Mono&lt;Health&gt; health() {\r\n            return checkTargetServiceHealth().onErrorResume(\r\n                    ex -&gt; Mono.just(new Health.Builder().down(ex).build())\r\n            );\r\n        }\r\n    \r\n        private Mono&lt;Health&gt; checkTargetServiceHealth() {\r\n            var target = this.context;\r\n            Map&lt;String, Mono&lt;Map&lt;String, String&gt;&gt;&gt; targetServiceBeans= new LinkedHashMap&lt;&gt;();\r\n            while (target != null) {\r\n                target.getBeansOfType(WebClient.class)\r\n                        .forEach((name, webclient) -&gt; targetServiceBeans.put(name, createReport(name,webclient)));\r\n                target = target.getParent();\r\n            }\r\n            log.info(&quot;Reactive Webclient Beans [{}]&quot;, targetServiceBeans); // Bean is empty\r\n            var heathBuilder = new Health.Builder().withDetails(targetServiceBeans);\r\n            return (overallStatus.equals(&quot;DOWN&quot;) )? Mono.just(heathBuilder.down().build())\r\n                    : Mono.just(heathBuilder.up().build());\r\n        }\r\n    \r\n        private Mono&lt;Map&lt;String, String&gt;&gt; createReport(String name, WebClient webclient) {\r\n            log.info(&quot;Reactive Webclient [{}] is triggered&quot;, name); // Here name of bean is coming\r\n            return webclient.get()\r\n                    .uri(&quot;/actuator/health/liveness&quot;)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .retrieve()\r\n                    .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt;() {\r\n                    })\r\n                    .onErrorResume(e -&gt; {\r\n                        log.error(&quot;Could not retrieve reactive health status of : {}&quot;, name, e);\r\n                        overallStatus=&quot;DOWN&quot;;\r\n                        return Mono.just(Map.of(&quot;status&quot;, &quot;DOWN&quot;));\r\n                    });\r\n        }\r\n    }\r\n\r\n","title":"How to implement reactive health indicator having health information from multiple webclients?","body":"<p>I am trying to implement reactive health indicator to check health of multiple target services.</p>\n<p>However , respective services are json is not getting parsed. I understood that's Mono of Health is having Mono of Map. To remove Mono of Map , if I use block() then also it fails with error as block() is not allowed in reactive call. I tried to use map() function and populate value in another map but no value is being passed to that map and it's not subscribed by caller. Since I am using spring boot actuator I cannot force caller to subscribe so how can I achieve below response in health check</p>\n<p><strong>Desired Response</strong></p>\n<pre><code>&gt; &quot;reactiveTarget&quot;: {\n&gt;             &quot;status&quot;: &quot;UP&quot;            {\n&gt;               &quot;target1&quot;: {\n&gt;                   &quot;status&quot;: &quot;UP&quot;\n&gt;               },\n&gt;               &quot;target2&quot;: {\n&gt;                   &quot;status&quot;: &quot;UP&quot;\n&gt;               }           }\n&gt;         },\n</code></pre>\n<p><strong>Achieved Response</strong></p>\n<pre><code>&quot;reactiveTarget&quot;: {\n            &quot;status&quot;: &quot;UP&quot;,\n            &quot;details&quot;: {\n                &quot;target1&quot;: {\n                    &quot;scanAvailable&quot;: true\n                },\n                &quot;holdingsWebClient&quot;: {\n                    &quot;target2&quot;: true\n                }\n            }\n        },\n</code></pre>\n<p><strong>Code used</strong></p>\n<pre><code>@Component\n@Slf4j\npublic class ReactiveTargetHealthIndicator implements ReactiveHealthIndicator {\n\n    private final ApplicationContext context;\n\n    private String overallStatus=&quot;UP&quot;;\n\n    public ReactiveTargetHealthIndicator(@NonNull ApplicationContext context) {\n        this.context = context;\n    }\n\n    @Override\n    public Mono&lt;Health&gt; health() {\n        return checkTargetServiceHealth().onErrorResume(\n                ex -&gt; Mono.just(new Health.Builder().down(ex).build())\n        );\n    }\n\n    private Mono&lt;Health&gt; checkTargetServiceHealth() {\n        var target = this.context;\n        Map&lt;String, Mono&lt;Map&lt;String, String&gt;&gt;&gt; targetServiceBeans= new LinkedHashMap&lt;&gt;();\n        while (target != null) {\n            target.getBeansOfType(WebClient.class)\n                    .forEach((name, webclient) -&gt; targetServiceBeans.put(name, createReport(name,webclient)));\n            target = target.getParent();\n        }\n        log.info(&quot;Reactive Webclient Beans [{}]&quot;, targetServiceBeans); // Bean is empty\n        var heathBuilder = new Health.Builder().withDetails(targetServiceBeans);\n        return (overallStatus.equals(&quot;DOWN&quot;) )? Mono.just(heathBuilder.down().build())\n                : Mono.just(heathBuilder.up().build());\n    }\n\n    private Mono&lt;Map&lt;String, String&gt;&gt; createReport(String name, WebClient webclient) {\n        log.info(&quot;Reactive Webclient [{}] is triggered&quot;, name); // Here name of bean is coming\n        return webclient.get()\n                .uri(&quot;/actuator/health/liveness&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt;() {\n                })\n                .onErrorResume(e -&gt; {\n                    log.error(&quot;Could not retrieve reactive health status of : {}&quot;, name, e);\n                    overallStatus=&quot;DOWN&quot;;\n                    return Mono.just(Map.of(&quot;status&quot;, &quot;DOWN&quot;));\n                });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","visualvm","heap-dump","eclipse-memory-analyzer"],"owner":{"account_id":14179266,"reputation":63,"user_id":10243490,"display_name":"Iman Ahrari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681629402,"creation_date":1681585880,"question_id":76024270,"body_markdown":"I have an Spring boot application that is running in production, but we encountered some memory problems. I&#39;ve got heapdump with the help of Spring Boot Admin, then I try to open this file with Eclipse memory analyzer but it fails and logs this error (I tried visualvm too):\r\n```Detected compressed references, because with uncompressed 64-bit references the array at 0x60397eca8 would overlap the array at 0x60397ec90```\r\nThe heapdump size that Spring boot Admin provides never reach 50 MB but when I run the same application on my local the file size is 180 MB and it works perfectly with Analyzer. \r\n\r\nOn my local I obtain heapdump with actuator and as I undestand Spring boot Admin uses the same endpoints too.\r\nDoes anyone have any knowledge how can I analyze this file or if I needed to decompress this file?","title":"How can I analyze heapdump fetched from spring boot admin?","body":"<p>I have an Spring boot application that is running in production, but we encountered some memory problems. I've got heapdump with the help of Spring Boot Admin, then I try to open this file with Eclipse memory analyzer but it fails and logs this error (I tried visualvm too):\n<code>Detected compressed references, because with uncompressed 64-bit references the array at 0x60397eca8 would overlap the array at 0x60397ec90</code>\nThe heapdump size that Spring boot Admin provides never reach 50 MB but when I run the same application on my local the file size is 180 MB and it works perfectly with Analyzer.</p>\n<p>On my local I obtain heapdump with actuator and as I undestand Spring boot Admin uses the same endpoints too.\nDoes anyone have any knowledge how can I analyze this file or if I needed to decompress this file?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679818356,"post_id":75844953,"comment_id":133786024,"body_markdown":"Please try this https://stackoverflow.com/questions/26881739/unable-to-get-spring-boot-to-automatically-create-database-schema/26882135#26882135 . If you fail please add your application.properties and pom to the question.","body":"Please try this <a href=\"https://stackoverflow.com/questions/26881739/unable-to-get-spring-boot-to-automatically-create-database-schema/26882135#26882135\" title=\"unable to get spring boot to automatically create database schema\">stackoverflow.com/questions/26881739/&hellip;</a> . If you fail please add your application.properties and pom to the question."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679818675,"post_id":75844953,"comment_id":133786066,"body_markdown":"Have a look at https://stackoverflow.com/questions/26881739/unable-to-get-spring-boot-to-automatically-create-database-schema/26882135#26882135 , specifically spring.jpa.hibernate.ddl-auto = create","body":"Have a look at <a href=\"https://stackoverflow.com/questions/26881739/unable-to-get-spring-boot-to-automatically-create-database-schema/26882135#26882135\" title=\"unable to get spring boot to automatically create database schema\">stackoverflow.com/questions/26881739/&hellip;</a> , specifically spring.jpa.hibernate.ddl-auto = create"}],"answers":[{"tags":[],"owner":{"account_id":16796963,"reputation":114,"user_id":12143234,"display_name":"Uttam Pawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681629139,"creation_date":1681629139,"answer_id":76026349,"question_id":75844953,"body_markdown":"If you want to create table from the Hibernate, you should pass hibernate properties in application.properties files.\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/local\r\n    spring.datasource.username=root\r\n    spring.datasource.password=welcome\r\n    spring.jpa.database=MYSQL\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    spring.flyway.validate-on-migrate=false\r\n\r\n1) If you want create new table from entity you defined you can use create property of spring.jpa.hibernate.ddl-auto\r\n   e.g spring.jpa.hibernate.ddl-auto=create\r\n\r\n2) For updating/alter table use update \r\n   e.g spring.jpa.hibernate.ddl-auto=update\r\n    \r\n3) For validating all tables are created use \r\n  e.g spring.jpa.hibernate.ddl-auto=validate\r\n\r\n4) If you want to create and drop tables on application start up\r\n  e.g spring.jpa.hibernate.ddl-auto=create-drop\r\n\r\n\r\n\r\n","title":"Error creating bean with name &#39;entityManagerFactory&#39; Schema-validation: missing table","body":"<p>If you want to create table from the Hibernate, you should pass hibernate properties in application.properties files.</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/local\nspring.datasource.username=root\nspring.datasource.password=welcome\nspring.jpa.database=MYSQL\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.flyway.validate-on-migrate=false\n</code></pre>\n<ol>\n<li><p>If you want create new table from entity you defined you can use create property of spring.jpa.hibernate.ddl-auto\ne.g spring.jpa.hibernate.ddl-auto=create</p>\n</li>\n<li><p>For updating/alter table use update\ne.g spring.jpa.hibernate.ddl-auto=update</p>\n</li>\n<li><p>For validating all tables are created use\ne.g spring.jpa.hibernate.ddl-auto=validate</p>\n</li>\n<li><p>If you want to create and drop tables on application start up\ne.g spring.jpa.hibernate.ddl-auto=create-drop</p>\n</li>\n</ol>\n"}],"owner":{"display_name":"user19862959"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681629139,"creation_date":1679784506,"question_id":75844953,"body_markdown":"I can&#39;t get rid of this error in any way. I want to create a table using Hibernate. But it gives me this error that there is no such table. But after all, he must create it, since it does not exist. I will be glad for any hint.\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [order]\r\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [order]\r\naused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [order]\r\n```\r\nI use application.yaml\r\n```\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: validate\r\n    show-sql: true\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/shop\r\n    username: postgres\r\n    password: 1111\r\n  flyway:\r\n    baseline-on-migrate: true\r\n```\r\nAlso here is my code pom.xml. I heard that this error may be related to flywaydb, but I didn&#39;t find exactly how to solve it\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TestTaskShop&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;TestTaskShop&lt;/name&gt;\r\n    &lt;description&gt;TestTaskShop&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Error creating bean with name &#39;entityManagerFactory&#39; Schema-validation: missing table","body":"<p>I can't get rid of this error in any way. I want to create a table using Hibernate. But it gives me this error that there is no such table. But after all, he must create it, since it does not exist. I will be glad for any hint.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [order]\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [order]\naused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [order]\n</code></pre>\n<p>I use application.yaml</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: validate\n    show-sql: true\n  datasource:\n    url: jdbc:postgresql://localhost:5432/shop\n    username: postgres\n    password: 1111\n  flyway:\n    baseline-on-migrate: true\n</code></pre>\n<p>Also here is my code pom.xml. I heard that this error may be related to flywaydb, but I didn't find exactly how to solve it</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TestTaskShop&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;TestTaskShop&lt;/name&gt;\n    &lt;description&gt;TestTaskShop&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1681641312,"post_id":76026308,"comment_id":134086291,"body_markdown":"Use `Thread.currentThread().getStackTrace()` to get the stack trace and then take the 2nd element to get the calling function.","body":"Use <code>Thread.currentThread().getStackTrace()</code> to get the stack trace and then take the 2nd element to get the calling function."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1681660767,"post_id":76026308,"comment_id":134088881,"body_markdown":"To be more useful to a general audience, this question might benefit from an excerpt of your `LogWrapper` class and an example of the location info. However I think it is understandable **as is** (hence the reopen vote).","body":"To be more useful to a general audience, this question might benefit from an excerpt of your <code>LogWrapper</code> class and an example of the location info. However I think it is understandable <b>as is</b> (hence the reopen vote)."}],"owner":{"account_id":5220684,"reputation":21,"user_id":4174248,"display_name":"Andrey Zavtrakov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1681640495,"answer_count":0,"score":1,"last_activity_date":1681628216,"creation_date":1681628216,"question_id":76026308,"body_markdown":"I am using my own wrapper classes around Log4j2 logger. Every time I try to use location info in patterns I am getting my LogWrapper class and methods.\r\n\r\n\r\nIs there a way to supply my own location info extractor or specify stack &quot;depth&quot; to retrieve location in patterns, like %F{3}?","title":"Java Log4j2 location info customization","body":"<p>I am using my own wrapper classes around Log4j2 logger. Every time I try to use location info in patterns I am getting my LogWrapper class and methods.</p>\n<p>Is there a way to supply my own location info extractor or specify stack &quot;depth&quot; to retrieve location in patterns, like %F{3}?</p>\n"},{"tags":["java","for-loop","methods","printing"],"comments":[{"owner":{"account_id":28315945,"reputation":19,"user_id":21652513,"display_name":"Bublik"},"score":0,"creation_date":1681589868,"post_id":76024551,"comment_id":134082070,"body_markdown":"http://18.217.68.73/course/pages/java_1/assets/assignment01/duck.txt?date=JbSZDEwpVF -&gt; here is a picture of the duck I should get to print 5 times","body":"<a href=\"http://18.217.68.73/course/pages/java_1/assets/assignment01/duck.txt?date=JbSZDEwpVF\" rel=\"nofollow noreferrer\">18.217.68.73/course/pages/java_1/assets/assignment01/&hellip;</a> -&gt; here is a picture of the duck I should get to print 5 times"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1681599256,"post_id":76024600,"comment_id":134083031,"body_markdown":"By the way, [`List.of`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...)) would simplify this code a bit.","body":"By the way, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> would simplify this code a bit."}],"tags":[],"owner":{"account_id":21268452,"reputation":397,"user_id":15648344,"display_name":"Cosemuckel"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1681599173,"creation_date":1681590544,"answer_id":76024600,"question_id":76024551,"body_markdown":"# Same line length\r\n\r\nWhen printing the ducks, **every line must have the same length**, currently some lines are longer than others. \r\n\r\nAlso note that lines using escape characters will need to appear longer in your editor!\r\n\r\nFurthermore would it be practical to store all lines in an array and loop over that array, so that you don&#39;t need a for loop for every line!\r\n\r\nSomething like:\r\n\r\n```java\r\nimport java.util.ArrayList; \r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        int numDucks = 5;\r\n\r\n        ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n        lines.add(&quot;               ____           &quot;);\r\n        lines.add(&quot;            __|____|__        &quot;);\r\n        lines.add(&quot;           |__________|       &quot;);\r\n        lines.add(&quot;            ((      ))        &quot;);\r\n        lines.add(&quot;           ((     O  ```)\\&quot;    &quot;);\r\n        lines.add(&quot;           ((        ``)      &quot;);\r\n        lines.add(&quot;            \\\\\\\\     x``        &quot;);\r\n        lines.add(&quot;     (())    \\\\\\\\     X         &quot;);\r\n        lines.add(&quot;    ((  ))~~~~      ))        &quot;);\r\n        lines.add(&quot;  ((                 ))       &quot;);\r\n        lines.add(&quot; ((      ~~~~~~       ))      &quot;);\r\n        lines.add(&quot; ((     ~~~~~~~~      ))      &quot;);\r\n        lines.add(&quot;  \\\\\\\\     ~~~~~~      //       &quot;);\r\n        lines.add(&quot;   --__--__--__--__--__       &quot;);\r\n        lines.add(&quot;  --__--__--__--__--__        &quot;);\r\n\r\n        for (int i = 0; i &lt; lines.size(); i++) { // for each line\r\n            for (int j = 0; j &lt; numDucks; j++) { // print it numDucks times\r\n                System.out.print(lines.get(i));\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"I need to print 5 ducks Horizontally, but nothing works","body":"<h1>Same line length</h1>\n<p>When printing the ducks, <strong>every line must have the same length</strong>, currently some lines are longer than others.</p>\n<p>Also note that lines using escape characters will need to appear longer in your editor!</p>\n<p>Furthermore would it be practical to store all lines in an array and loop over that array, so that you don't need a for loop for every line!</p>\n<p>Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList; \npublic class Main {\n\n    public static void main(String[] args) {\n        int numDucks = 5;\n\n        ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n        lines.add(&quot;               ____           &quot;);\n        lines.add(&quot;            __|____|__        &quot;);\n        lines.add(&quot;           |__________|       &quot;);\n        lines.add(&quot;            ((      ))        &quot;);\n        lines.add(&quot;           ((     O  ```)\\&quot;    &quot;);\n        lines.add(&quot;           ((        ``)      &quot;);\n        lines.add(&quot;            \\\\\\\\     x``        &quot;);\n        lines.add(&quot;     (())    \\\\\\\\     X         &quot;);\n        lines.add(&quot;    ((  ))~~~~      ))        &quot;);\n        lines.add(&quot;  ((                 ))       &quot;);\n        lines.add(&quot; ((      ~~~~~~       ))      &quot;);\n        lines.add(&quot; ((     ~~~~~~~~      ))      &quot;);\n        lines.add(&quot;  \\\\\\\\     ~~~~~~      //       &quot;);\n        lines.add(&quot;   --__--__--__--__--__       &quot;);\n        lines.add(&quot;  --__--__--__--__--__        &quot;);\n\n        for (int i = 0; i &lt; lines.size(); i++) { // for each line\n            for (int j = 0; j &lt; numDucks; j++) { // print it numDucks times\n                System.out.print(lines.get(i));\n            }\n            System.out.println();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681628118,"creation_date":1681601584,"answer_id":76025220,"question_id":76024551,"body_markdown":"The [Answer by Cosemuckel][1] is correct. I can add some possible improvements.\r\n\r\n# Soft-code each line-length\r\n\r\nFirstly, the `ArrayList` could more compactly be replaced by [List.of][3]. \r\n\r\nOr even better, use [text blocks][4] for the duck. However the backslash characters must still be escaped. So I would ‚Äúdraw‚Äù my [ascii-art][5] in a simple [text-editor][6] like [*TextEdit*][7] on macOS. Then paste into the Java editor of a smart [IDE][8] like [IntelliJ][9] to create the text block while automatically adding escapes.\r\n\r\n```java\r\nfinal String duck =\r\n        &quot;&quot;&quot;\r\n                      ____\r\n                   __|____|__\r\n                  |__________|\r\n                   ((      ))\r\n                  ((     O  ```)\r\n                  ((        ``)\r\n                   \\\\\\\\     x``\r\n            (())    \\\\\\\\     X\r\n           ((  ))~~~~      ))\r\n         ((                 ))\r\n        ((      ~~~~~~       ))\r\n        ((     ~~~~~~~~      ))\r\n         \\\\\\\\     ~~~~~~      //\r\n          --__--__--__--__--__\r\n         --__--__--__--__--__\r\n        &quot;&quot;&quot;;\r\n```\r\n\r\nTo get lines from our duck string, use a [`Stream`][10] of the lines collected into a `List`.\r\n\r\nThe main concept I suggest here is to **&#128073; [soft-code][11] the line length**. Let your code determine the longest line. Then, when printing the other lines, add a number of spaces to match that line length. You can multiply the SPACE character with a call to [`String#repeat`][12]. Let the computer do the work!\r\n\r\nWe can replace the outer `for` loop with the simpler for-each syntax.\r\n\r\nAnd we can better name our variables to be more [self-documenting][13].\r\n\r\nLastly, account for a gap between each duck horizontally.\r\n\r\nThis code makes use of streams and method references, advanced features of Java. But those can be replaced with conventional loops and method calls, for those who are not yet familiar.\r\n\r\n```java\r\nfinal int countDucks = 5;\r\nfinal List &lt; String &gt; lines = duck.lines().toList();\r\nfinal OptionalInt maxLength = lines.stream().mapToInt( String :: length ).max();\r\nfinal int gap = 7;\r\nif ( maxLength.isPresent() )\r\n{\r\n    for ( String line : lines )\r\n    {\r\n        for ( int duckIndex = 0 ; duckIndex &lt; countDucks ; duckIndex++ )\r\n        {\r\n            System.out.print( line + &quot; &quot;.repeat( maxLength.getAsInt() - line.length() + gap ) );\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\n              ____                           ____                           ____                           ____                           ____             \r\n           __|____|__                     __|____|__                     __|____|__                     __|____|__                     __|____|__          \r\n          |__________|                   |__________|                   |__________|                   |__________|                   |__________|         \r\n           ((      ))                     ((      ))                     ((      ))                     ((      ))                     ((      ))          \r\n          ((     O  ```)                 ((     O  ```)                 ((     O  ```)                 ((     O  ```)                 ((     O  ```)       \r\n          ((        ``)                  ((        ``)                  ((        ``)                  ((        ``)                  ((        ``)        \r\n           \\\\     x``                     \\\\     x``                     \\\\     x``                     \\\\     x``                     \\\\     x``          \r\n    (())    \\\\     X               (())    \\\\     X               (())    \\\\     X               (())    \\\\     X               (())    \\\\     X           \r\n   ((  ))~~~~      ))             ((  ))~~~~      ))             ((  ))~~~~      ))             ((  ))~~~~      ))             ((  ))~~~~      ))          \r\n ((                 ))          ((                 ))          ((                 ))          ((                 ))          ((                 ))         \r\n((      ~~~~~~       ))        ((      ~~~~~~       ))        ((      ~~~~~~       ))        ((      ~~~~~~       ))        ((      ~~~~~~       ))        \r\n((     ~~~~~~~~      ))        ((     ~~~~~~~~      ))        ((     ~~~~~~~~      ))        ((     ~~~~~~~~      ))        ((     ~~~~~~~~      ))        \r\n \\\\     ~~~~~~      //          \\\\     ~~~~~~      //          \\\\     ~~~~~~      //          \\\\     ~~~~~~      //          \\\\     ~~~~~~      //         \r\n  --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__         \r\n --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__        \r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76024600/642706\r\n  [2]: https://en.wikipedia.org/wiki/Escape_character\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...)\r\n  [4]: https://openjdk.org/jeps/378\r\n  [5]: https://en.wikipedia.org/wiki/ASCII_art\r\n  [6]: https://en.wikipedia.org/wiki/Text_editor\r\n  [7]: https://en.wikipedia.org/wiki/TextEdit\r\n  [8]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [9]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [10]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html\r\n  [11]: https://en.wikipedia.org/wiki/Softcoding\r\n  [12]: https://download.java.net/java/early_access/jdk20/docs/api/java.base/java/lang/String.html#repeat(int)\r\n  [13]: https://en.wikipedia.org/wiki/Self-documenting_code","title":"I need to print 5 ducks Horizontally, but nothing works","body":"<p>The <a href=\"https://stackoverflow.com/a/76024600/642706\">Answer by Cosemuckel</a> is correct. I can add some possible improvements.</p>\n<h1>Soft-code each line-length</h1>\n<p>Firstly, the <code>ArrayList</code> could more compactly be replaced by <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"nofollow noreferrer\">List.of</a>.</p>\n<p>Or even better, use <a href=\"https://openjdk.org/jeps/378\" rel=\"nofollow noreferrer\">text blocks</a> for the duck. However the backslash characters must still be escaped. So I would ‚Äúdraw‚Äù my <a href=\"https://en.wikipedia.org/wiki/ASCII_art\" rel=\"nofollow noreferrer\">ascii-art</a> in a simple <a href=\"https://en.wikipedia.org/wiki/Text_editor\" rel=\"nofollow noreferrer\">text-editor</a> like <a href=\"https://en.wikipedia.org/wiki/TextEdit\" rel=\"nofollow noreferrer\"><em>TextEdit</em></a> on macOS. Then paste into the Java editor of a smart <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> like <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a> to create the text block while automatically adding escapes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String duck =\n        &quot;&quot;&quot;\n                      ____\n                   __|____|__\n                  |__________|\n                   ((      ))\n                  ((     O  ```)\n                  ((        ``)\n                   \\\\\\\\     x``\n            (())    \\\\\\\\     X\n           ((  ))~~~~      ))\n         ((                 ))\n        ((      ~~~~~~       ))\n        ((     ~~~~~~~~      ))\n         \\\\\\\\     ~~~~~~      //\n          --__--__--__--__--__\n         --__--__--__--__--__\n        &quot;&quot;&quot;;\n</code></pre>\n<p>To get lines from our duck string, use a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code></a> of the lines collected into a <code>List</code>.</p>\n<p>The main concept I suggest here is to <strong>üëâ <a href=\"https://en.wikipedia.org/wiki/Softcoding\" rel=\"nofollow noreferrer\">soft-code</a> the line length</strong>. Let your code determine the longest line. Then, when printing the other lines, add a number of spaces to match that line length. You can multiply the SPACE character with a call to <a href=\"https://download.java.net/java/early_access/jdk20/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\"><code>String#repeat</code></a>. Let the computer do the work!</p>\n<p>We can replace the outer <code>for</code> loop with the simpler for-each syntax.</p>\n<p>And we can better name our variables to be more <a href=\"https://en.wikipedia.org/wiki/Self-documenting_code\" rel=\"nofollow noreferrer\">self-documenting</a>.</p>\n<p>Lastly, account for a gap between each duck horizontally.</p>\n<p>This code makes use of streams and method references, advanced features of Java. But those can be replaced with conventional loops and method calls, for those who are not yet familiar.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int countDucks = 5;\nfinal List &lt; String &gt; lines = duck.lines().toList();\nfinal OptionalInt maxLength = lines.stream().mapToInt( String :: length ).max();\nfinal int gap = 7;\nif ( maxLength.isPresent() )\n{\n    for ( String line : lines )\n    {\n        for ( int duckIndex = 0 ; duckIndex &lt; countDucks ; duckIndex++ )\n        {\n            System.out.print( line + &quot; &quot;.repeat( maxLength.getAsInt() - line.length() + gap ) );\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>              ____                           ____                           ____                           ____                           ____             \n           __|____|__                     __|____|__                     __|____|__                     __|____|__                     __|____|__          \n          |__________|                   |__________|                   |__________|                   |__________|                   |__________|         \n           ((      ))                     ((      ))                     ((      ))                     ((      ))                     ((      ))          \n          ((     O  ```)                 ((     O  ```)                 ((     O  ```)                 ((     O  ```)                 ((     O  ```)       \n          ((        ``)                  ((        ``)                  ((        ``)                  ((        ``)                  ((        ``)        \n           \\\\     x``                     \\\\     x``                     \\\\     x``                     \\\\     x``                     \\\\     x``          \n    (())    \\\\     X               (())    \\\\     X               (())    \\\\     X               (())    \\\\     X               (())    \\\\     X           \n   ((  ))~~~~      ))             ((  ))~~~~      ))             ((  ))~~~~      ))             ((  ))~~~~      ))             ((  ))~~~~      ))          \n ((                 ))          ((                 ))          ((                 ))          ((                 ))          ((                 ))         \n((      ~~~~~~       ))        ((      ~~~~~~       ))        ((      ~~~~~~       ))        ((      ~~~~~~       ))        ((      ~~~~~~       ))        \n((     ~~~~~~~~      ))        ((     ~~~~~~~~      ))        ((     ~~~~~~~~      ))        ((     ~~~~~~~~      ))        ((     ~~~~~~~~      ))        \n \\\\     ~~~~~~      //          \\\\     ~~~~~~      //          \\\\     ~~~~~~      //          \\\\     ~~~~~~      //          \\\\     ~~~~~~      //         \n  --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__         \n --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__           --__--__--__--__--__        \n</code></pre>\n"}],"owner":{"account_id":28315945,"reputation":19,"user_id":21652513,"display_name":"Bublik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":2,"score":-2,"last_activity_date":1681628118,"creation_date":1681589791,"question_id":76024551,"body_markdown":"I need to print 5 ducks in a horizontal line using only for loops and static methods. I got to this so far but the ducks shift.\r\n\r\n\r\n\r\n\r\n     public static void main(String[] args) {\r\n           int numDucks = 5;\r\n           printHat(numDucks);\r\n           printBody(numDucks);\r\n           printWater(numDucks);\r\n       }\r\n\r\n    public static void printHat(int numDucks) {\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;               ____       &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;            __|____|__    &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;           |__________|   &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void printBody(int numDucks) {\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;            ((      ))   &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;           ((     O  ```)\\&quot;&quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;           ((        ``)   &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;            \\\\\\\\     x``   &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;     (())    \\\\\\\\     X   &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;    ((  ))~~~~      ))   &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;  ((                 ))   &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot; ((      ~~~~~~       ))   &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot; ((     ~~~~~~~~      ))   &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;  \\\\\\\\     ~~~~~~      //   &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void printWater(int numDucks) {\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;   --__--__--__--__--__   &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 1; i &lt;= numDucks; i++) {\r\n            System.out.print(&quot;  --__--__--__--__--__   &quot;);\r\n        }\r\n        System.out.println();\r\n        }\r\n      }\r\n\r\nThis is what I should get (but 5 times horizontally):\r\n\r\n                  ____           \r\n               __|____|__         \r\n              |__________|       \r\n               ((      ))\r\n              ((     O  ```)\r\n              ((        ``) \r\n               \\\\     x``\r\n        (())    \\\\     X\r\n       ((  ))~~~~      ))\r\n     ((                 ))\r\n    ((      ~~~~~~       ))   \r\n    ((     ~~~~~~~~      ))\r\n     \\\\     ~~~~~~      //\r\n      --__--__--__--__--__\r\n     --__--__--__--__--__","title":"I need to print 5 ducks Horizontally, but nothing works","body":"<p>I need to print 5 ducks in a horizontal line using only for loops and static methods. I got to this so far but the ducks shift.</p>\n<pre><code> public static void main(String[] args) {\n       int numDucks = 5;\n       printHat(numDucks);\n       printBody(numDucks);\n       printWater(numDucks);\n   }\n\npublic static void printHat(int numDucks) {\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;               ____       &quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;            __|____|__    &quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;           |__________|   &quot;);\n    }\n    System.out.println();\n}\n\npublic static void printBody(int numDucks) {\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;            ((      ))   &quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;           ((     O  ```)\\&quot;&quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;           ((        ``)   &quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;            \\\\\\\\     x``   &quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;     (())    \\\\\\\\     X   &quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;    ((  ))~~~~      ))   &quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;  ((                 ))   &quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot; ((      ~~~~~~       ))   &quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot; ((     ~~~~~~~~      ))   &quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;  \\\\\\\\     ~~~~~~      //   &quot;);\n    }\n    System.out.println();\n}\n\npublic static void printWater(int numDucks) {\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;   --__--__--__--__--__   &quot;);\n    }\n    System.out.println();\n    for (int i = 1; i &lt;= numDucks; i++) {\n        System.out.print(&quot;  --__--__--__--__--__   &quot;);\n    }\n    System.out.println();\n    }\n  }\n</code></pre>\n<p>This is what I should get (but 5 times horizontally):</p>\n<pre><code>              ____           \n           __|____|__         \n          |__________|       \n           ((      ))\n          ((     O  ```)\n          ((        ``) \n           \\\\     x``\n    (())    \\\\     X\n   ((  ))~~~~      ))\n ((                 ))\n((      ~~~~~~       ))   \n((     ~~~~~~~~      ))\n \\\\     ~~~~~~      //\n  --__--__--__--__--__\n --__--__--__--__--__\n</code></pre>\n"},{"tags":["java","spring","multithreading","spring-boot","amazon-sqs"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1681398568,"post_id":76007007,"comment_id":134053104,"body_markdown":"I&#39;d expect a ThreadLocal only to be valid for a single execution of any message processing, then wiped - in other words: If you use ThreadPools, don&#39;t rely on persistent ThreadLocals. If you want those, don&#39;t use pools. If you make sure that a message is only processed by a single thread, you often don&#39;t even need locking, syncing etc., so I don&#39;t understand where your issue is (apart from the arbitrary decision to look for the same thread over and over. Don&#39;t do that)","body":"I&#39;d expect a ThreadLocal only to be valid for a single execution of any message processing, then wiped - in other words: If you use ThreadPools, don&#39;t rely on persistent ThreadLocals. If you want those, don&#39;t use pools. If you make sure that a message is only processed by a single thread, you often don&#39;t even need locking, syncing etc., so I don&#39;t understand where your issue is (apart from the arbitrary decision to look for the same thread over and over. Don&#39;t do that)"},{"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"score":0,"creation_date":1681398943,"post_id":76007007,"comment_id":134053228,"body_markdown":"I do not process the messages in the threads but only collect them - this way i can continue fetching messages and fast. They will be processed after 1000 messages collected, or after 5 seconds - the first from both. I&#39;m using this method in order to do bulk update in the DB.. I have millions of users sending messages constantly. Would not want to update the DB every single message. Once the messages are processed and well processed, I&#39;m removing them from the original Queue. If something bad happend, then they will be back in the queue after 30 seconds automatically and will be re-fetched.","body":"I do not process the messages in the threads but only collect them - this way i can continue fetching messages and fast. They will be processed after 1000 messages collected, or after 5 seconds - the first from both. I&#39;m using this method in order to do bulk update in the DB.. I have millions of users sending messages constantly. Would not want to update the DB every single message. Once the messages are processed and well processed, I&#39;m removing them from the original Queue. If something bad happend, then they will be back in the queue after 30 seconds automatically and will be re-fetched."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1681398979,"post_id":76007007,"comment_id":134053239,"body_markdown":"Don&#39;t use `ThreadLocal`. ThreadLocal only makes sense if it&#39;s a `static` variable, and you should get out of the habit of using static variables. Code with static variables is hard to maintain, and hard to test. Also, try to avoid writing code that has to be called by a certain thread. If a thing needs to be done, it should be OK for any thread to do it.","body":"Don&#39;t use <code>ThreadLocal</code>. ThreadLocal only makes sense if it&#39;s a <code>static</code> variable, and you should get out of the habit of using static variables. Code with static variables is hard to maintain, and hard to test. Also, try to avoid writing code that has to be called by a certain thread. If a thing needs to be done, it should be OK for any thread to do it."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1681399092,"post_id":76007007,"comment_id":134053272,"body_markdown":"P.S., the reason why `ThreadLocal` even exists is because if you have old, single-threaded library code that has a lot of `static` variables, then making them `ThreadLocal` can be a shortcut to making a &quot;thread-safe&quot; version of it.","body":"P.S., the reason why <code>ThreadLocal</code> even exists is because if you have old, single-threaded library code that has a lot of <code>static</code> variables, then making them <code>ThreadLocal</code> can be a shortcut to making a &quot;thread-safe&quot; version of it."},{"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"score":0,"creation_date":1681399132,"post_id":76007007,"comment_id":134053281,"body_markdown":"Thanks for the replies! Any good Ideas to solve my problem?","body":"Thanks for the replies! Any good Ideas to solve my problem?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681407988,"post_id":76007007,"comment_id":134055338,"body_markdown":"Why retrieve x messages and/or y seconds? What is the rationale why not just process the messages as the come in? Why queue them again (because that is what you are basically doing) and then again process them one by one? I don&#39;t really see the benefit here, it could even slow things down. Feels like you are optimizing something without even having measured that it is a problem or not. We process millions of messages from multiple topics and we just process them one by one. Why queue 1000 process them and have 999 good ones and the last one fails.","body":"Why retrieve x messages and/or y seconds? What is the rationale why not just process the messages as the come in? Why queue them again (because that is what you are basically doing) and then again process them one by one? I don&#39;t really see the benefit here, it could even slow things down. Feels like you are optimizing something without even having measured that it is a problem or not. We process millions of messages from multiple topics and we just process them one by one. Why queue 1000 process them and have 999 good ones and the last one fails."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681457007,"post_id":76007007,"comment_id":134062233,"body_markdown":"One thing that came to mind is that you can use Spring Batch to read x messages and do the commit (and have proper error handling). It has readers for jms, kafka etc. and you can set the chunk size. You would have a long live job. Another option is to manually do tx management and count the number of messages processed and then do a commit. Although I would first make it work with single messages and actually see if it is really a performance issue before optimizing.","body":"One thing that came to mind is that you can use Spring Batch to read x messages and do the commit (and have proper error handling). It has readers for jms, kafka etc. and you can set the chunk size. You would have a long live job. Another option is to manually do tx management and count the number of messages processed and then do a commit. Although I would first make it work with single messages and actually see if it is really a performance issue before optimizing."},{"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"score":0,"creation_date":1681627690,"post_id":76007007,"comment_id":134084846,"body_markdown":"@M.Deinum Thanks for the Help. Processing it is not so much but saving to the DB the new state the clients sent as a message. We use AWS SQS as queue, and use spring cloud for fetching the messages. As we saw spring is creating 10 threads for fetching messages and we created those threads in order to let free its threads to fetch more messages and not process/save each to the DB in the fetch message thread. On top we have many pods running. When each message in each thread in each pod will do simple update in the DB, instead of bulk update it is very much performance issue. It was tested by us","body":"@M.Deinum Thanks for the Help. Processing it is not so much but saving to the DB the new state the clients sent as a message. We use AWS SQS as queue, and use spring cloud for fetching the messages. As we saw spring is creating 10 threads for fetching messages and we created those threads in order to let free its threads to fetch more messages and not process/save each to the DB in the fetch message thread. On top we have many pods running. When each message in each thread in each pod will do simple update in the DB, instead of bulk update it is very much performance issue. It was tested by us"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681645521,"post_id":76007007,"comment_id":134086846,"body_markdown":"You can reduce the number of threads. Make sure you have investigated properly and that you are solving the right problem, instead of introducing complexity which appears to solve the problem. Because as stated we have more or less the same setup without issues (reading from kafka with multiple threads and pods to store in db). That all being said as stated you can use Spring Batch which will read x messages from a topic/queue and process them, instead of trying to build your own.","body":"You can reduce the number of threads. Make sure you have investigated properly and that you are solving the right problem, instead of introducing complexity which appears to solve the problem. Because as stated we have more or less the same setup without issues (reading from kafka with multiple threads and pods to store in db). That all being said as stated you can use Spring Batch which will read x messages from a topic/queue and process them, instead of trying to build your own."},{"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"score":0,"creation_date":1681715709,"post_id":76007007,"comment_id":134095287,"body_markdown":"We did investigate and saw that simple update of DB on every message is slow, compares to bulk update which is much faster. This is why we would like somehow to collect messages. But we don&#39;t want to say every X messages to perform the DB update because we can&#39;t guarantee this X all the time. So we&#39;ve added the time limit. I will check out the Spring Batch. Thanks so far","body":"We did investigate and saw that simple update of DB on every message is slow, compares to bulk update which is much faster. This is why we would like somehow to collect messages. But we don&#39;t want to say every X messages to perform the DB update because we can&#39;t guarantee this X all the time. So we&#39;ve added the time limit. I will check out the Spring Batch. Thanks so far"},{"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"score":0,"creation_date":1681765836,"post_id":76007007,"comment_id":134107026,"body_markdown":"If you upgrade to Spring Cloud AWS 3.0, you can set maxMessagesPerPoll to 1000 and the framework will make concurrent calls to SQS to try to fulfill that. You can then use a List&lt;&gt; in your listener method to fetch the list of messages and process in batch.","body":"If you upgrade to Spring Cloud AWS 3.0, you can set maxMessagesPerPoll to 1000 and the framework will make concurrent calls to SQS to try to fulfill that. You can then use a List&lt;&gt; in your listener method to fetch the list of messages and process in batch."},{"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"score":0,"creation_date":1681768694,"post_id":76007007,"comment_id":134107461,"body_markdown":"Docs if you‚Äôre interested: https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC2/reference/html/index.html#batch-processing","body":"Docs if you‚Äôre interested: <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC2/reference/html/index.html#batch-processing\" rel=\"nofollow noreferrer\">docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC2/reference/h&zwnj;&#8203;tml/&hellip;</a>"},{"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"score":0,"creation_date":1681802881,"post_id":76007007,"comment_id":134111188,"body_markdown":"due to Vulnerability issues we can&#39;t yet upgrade from S-Boot 2.. But Thanks for the suggestion. it will definitely help us in the future","body":"due to Vulnerability issues we can&#39;t yet upgrade from S-Boot 2.. But Thanks for the suggestion. it will definitely help us in the future"}],"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681628060,"creation_date":1681398284,"question_id":76007007,"body_markdown":"I have a messages queue, and thread pool.\r\nMassive messages amount are being sent to queue.\r\n\r\nIn my threads (from the pool) I&#39;m taking each message and pushing into the thread in-memory list using `ThreadLocal&lt;List&lt;...&gt;&gt;`.\r\n\r\nMy goal is on the X message to do some processing such as save to the DB,...\r\n\r\nBut,\r\nI want as well, every Y seconds to do the same processing.\r\n\r\nSo, or we reached to X messages or Y seconds passed - then do processing.\r\n\r\nWhat I&#39;ve done is to start the timer on the first message and on fired to do the processing. The processing will stop the timer incase it was done by X messages.\r\n\r\nMy problem is with my timer that I create in the thread. The callback function naturally is being raised in a new thread and I don&#39;t have access to `ThreadLocal-List`.\r\n\r\nI&#39;m trying to avoid locking, syncing, and such - this is why i use ThreadLocal for my lists and timers.\r\n\r\nIs there any elegant way to do what I wished for?\r\n\r\nMaybe in the callback of my timer to execute the processing method with the same thread from the thread pool who created the timer?\r\n\r\n--EDIT--\r\nWe use AWS SQS for the queue.\r\nWe fetch the message using SQSListener of spring cloud.\r\nOur processing is basically saving to the DB.\r\nWe run on many pods (Kubernetes).\r\n\r\n2 issues we faced:\r\n\r\n1. Performing a simple Update on the DB every message in each thread of the `SQSListener` in each pod will be inefficient, therefor we thought about doing a bulk update which is faster - we tested it.\r\n\r\n2. `SQSListener` creates max 10 threads to fetch the messages. It won&#39;t fetch another message till the thread is done. Therefor we wanted to &quot;kicK&quot; the message to a new thread fast, so `SQSListener` thread will fetch a new one and we would be able to collect more message for the bulk update.\r\n\r\n","title":"How to execute function in a specific thread from threadpool","body":"<p>I have a messages queue, and thread pool.\nMassive messages amount are being sent to queue.</p>\n<p>In my threads (from the pool) I'm taking each message and pushing into the thread in-memory list using <code>ThreadLocal&lt;List&lt;...&gt;&gt;</code>.</p>\n<p>My goal is on the X message to do some processing such as save to the DB,...</p>\n<p>But,\nI want as well, every Y seconds to do the same processing.</p>\n<p>So, or we reached to X messages or Y seconds passed - then do processing.</p>\n<p>What I've done is to start the timer on the first message and on fired to do the processing. The processing will stop the timer incase it was done by X messages.</p>\n<p>My problem is with my timer that I create in the thread. The callback function naturally is being raised in a new thread and I don't have access to <code>ThreadLocal-List</code>.</p>\n<p>I'm trying to avoid locking, syncing, and such - this is why i use ThreadLocal for my lists and timers.</p>\n<p>Is there any elegant way to do what I wished for?</p>\n<p>Maybe in the callback of my timer to execute the processing method with the same thread from the thread pool who created the timer?</p>\n<p>--EDIT--\nWe use AWS SQS for the queue.\nWe fetch the message using SQSListener of spring cloud.\nOur processing is basically saving to the DB.\nWe run on many pods (Kubernetes).</p>\n<p>2 issues we faced:</p>\n<ol>\n<li><p>Performing a simple Update on the DB every message in each thread of the <code>SQSListener</code> in each pod will be inefficient, therefor we thought about doing a bulk update which is faster - we tested it.</p>\n</li>\n<li><p><code>SQSListener</code> creates max 10 threads to fetch the messages. It won't fetch another message till the thread is done. Therefor we wanted to &quot;kicK&quot; the message to a new thread fast, so <code>SQSListener</code> thread will fetch a new one and we would be able to collect more message for the bulk update.</p>\n</li>\n</ol>\n"},{"tags":["java","java-9"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1505252042,"post_id":46180116,"comment_id":79334131,"body_markdown":"Out of curiosity, why do you need this?","body":"Out of curiosity, why do you need this?"}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505906911,"creation_date":1505229796,"answer_id":46180209,"question_id":46180116,"body_markdown":"If you desire to access the *module content* you should [`open`](http://download.java.net/java/jdk9/docs/api/java/lang/module/ModuleReference.html#open--) the `ModuleReference` that you&#39;ve attained.\r\nThis would provide you access to the [`ModuleReader`](http://download.java.net/java/jdk9/docs/api/java/lang/module/ModuleReader.html) which\r\n\r\n&gt;  is intended for cases where access to the  resources in a module is\r\n&gt; required\r\n\r\n&gt; A resource in a module is identified by an abstract name that is a\r\n&gt; `&#39;/&#39;`-separated path string. For example, module `java.base` \r\n&gt; may have a resource `&quot;java/lang/Object.class&quot;` that, by convention, \r\n&gt; is the class file for `java.lang.Object`. A module reader may treat\r\n&gt; directories in the module content as resources (whether it does or not is\r\n&gt; module reader specific). Where the module content contains a directory\r\n&gt; that can be located as a resource then its name ends with a slash (`&#39;/&#39;`). The directory can also be located with a name that drops the trailing slash.\r\n\r\n\r\n\r\nDo keep in mind though, that the docs also specify :\r\n\r\n&gt; A ModuleReader is open upon creation and is closed by invoking the\r\n&gt; [`close`](http://download.java.net/java/jdk9/docs/api/java/lang/module/ModuleReader.html#close--)\r\n&gt; method. Failure to close a module reader may result in a resource\r\n&gt; leak. The [`try-with-resources`](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) statement provides a useful construct to\r\n&gt; ensure that module readers are closed.\r\n\r\n----------\r\n\r\nOne  way to get the `Module` from the resources would be to access it using the [`Class#getModule`](http://download.java.net/java/jdk9/docs/api/java/lang/Class.html#getModule--) as:\r\n\r\n    Module module = com.foo.bar.YourClass.class.getModule();\r\n\r\n----------\r\n\r\n***Edit***: I&#39;ve learned with time a better way to use the `ModuleFinder` to access a `Module` as suggested by [@Alan](https://stackoverflow.com/a/46180598/1746118) as well could possibly be :\r\n\r\n    ModuleFinder finder = ModuleFinder.of(path);\r\n    ModuleLayer parent = ModuleLayer.boot();\r\n    Configuration configuration = parent.configuration().resolve(finder, ModuleFinder.of(), Set.of(&quot;curious&quot;)); // &#39;curious&#39; being the name of the module\r\n    ClassLoader systemClassLoader = ClassLoader.getSystemClassLoader();\r\n    ModuleLayer layer = parent.defineModulesWithOneLoader(configuration, systemClassLoader);\r\n\r\n    Module m = layer.findModule(&quot;curious&quot;).orElse(null);","title":"How to get a Module object from a ModuleReference","body":"<p>If you desire to access the <em>module content</em> you should <a href=\"http://download.java.net/java/jdk9/docs/api/java/lang/module/ModuleReference.html#open--\" rel=\"nofollow noreferrer\"><code>open</code></a> the <code>ModuleReference</code> that you've attained.\nThis would provide you access to the <a href=\"http://download.java.net/java/jdk9/docs/api/java/lang/module/ModuleReader.html\" rel=\"nofollow noreferrer\"><code>ModuleReader</code></a> which</p>\n\n<blockquote>\n  <p>is intended for cases where access to the  resources in a module is\n  required</p>\n  \n  <p>A resource in a module is identified by an abstract name that is a\n  <code>'/'</code>-separated path string. For example, module <code>java.base</code> \n  may have a resource <code>\"java/lang/Object.class\"</code> that, by convention, \n  is the class file for <code>java.lang.Object</code>. A module reader may treat\n  directories in the module content as resources (whether it does or not is\n  module reader specific). Where the module content contains a directory\n  that can be located as a resource then its name ends with a slash (<code>'/'</code>). The directory can also be located with a name that drops the trailing slash.</p>\n</blockquote>\n\n<p>Do keep in mind though, that the docs also specify :</p>\n\n<blockquote>\n  <p>A ModuleReader is open upon creation and is closed by invoking the\n  <a href=\"http://download.java.net/java/jdk9/docs/api/java/lang/module/ModuleReader.html#close--\" rel=\"nofollow noreferrer\"><code>close</code></a>\n  method. Failure to close a module reader may result in a resource\n  leak. The <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><code>try-with-resources</code></a> statement provides a useful construct to\n  ensure that module readers are closed.</p>\n</blockquote>\n\n<hr>\n\n<p>One  way to get the <code>Module</code> from the resources would be to access it using the <a href=\"http://download.java.net/java/jdk9/docs/api/java/lang/Class.html#getModule--\" rel=\"nofollow noreferrer\"><code>Class#getModule</code></a> as:</p>\n\n<pre><code>Module module = com.foo.bar.YourClass.class.getModule();\n</code></pre>\n\n<hr>\n\n<p><strong><em>Edit</em></strong>: I've learned with time a better way to use the <code>ModuleFinder</code> to access a <code>Module</code> as suggested by <a href=\"https://stackoverflow.com/a/46180598/1746118\">@Alan</a> as well could possibly be :</p>\n\n<pre><code>ModuleFinder finder = ModuleFinder.of(path);\nModuleLayer parent = ModuleLayer.boot();\nConfiguration configuration = parent.configuration().resolve(finder, ModuleFinder.of(), Set.of(\"curious\")); // 'curious' being the name of the module\nClassLoader systemClassLoader = ClassLoader.getSystemClassLoader();\nModuleLayer layer = parent.defineModulesWithOneLoader(configuration, systemClassLoader);\n\nModule m = layer.findModule(\"curious\").orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681627443,"creation_date":1505230904,"answer_id":46180598,"question_id":46180116,"body_markdown":"The classes in java.lang.module are more model world. Look at `java.lang.module.Configuration` and also `java.lang.ModuleLayer` to see how to create a configuration and instantiate it in the Java virtual machine as a layer of modules. There is a code fragment in the `ModuleLayer` javadoc that might get you going, just be warned that this is an advanced topic and best to master the basics first.\r\n","title":"How to get a Module object from a ModuleReference","body":"<p>The classes in java.lang.module are more model world. Look at <code>java.lang.module.Configuration</code> and also <code>java.lang.ModuleLayer</code> to see how to create a configuration and instantiate it in the Java virtual machine as a layer of modules. There is a code fragment in the <code>ModuleLayer</code> javadoc that might get you going, just be warned that this is an advanced topic and best to master the basics first.</p>\n"}],"owner":{"account_id":10387706,"reputation":586,"user_id":7660161,"accept_rate":47,"display_name":"MrSir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1681627443,"creation_date":1505229511,"question_id":46180116,"body_markdown":"Using the code: \r\n\r\n    ModuleFinder.of(Paths.get(path)).findAll() \r\n\r\nI am able to retrieve a `Set&lt;ModuleReference&gt;` of all the ***.jars*** in the `path` folder. \r\n\r\nMy next step would be getting a `Module` from a [`ModuleReference`][1] but there&#39;s no method that returns that, I can get a [`ModuleDescriptor`][2] but even that one doesn&#39;t help. Is there a way to do this?\r\n\r\n\r\n  [1]: http://download.java.net/java/jdk9/docs/api/java/lang/module/ModuleReference.html\r\n  [2]: http://download.java.net/java/jdk9/docs/api/java/lang/module/ModuleDescriptor.html","title":"How to get a Module object from a ModuleReference","body":"<p>Using the code: </p>\n\n<pre><code>ModuleFinder.of(Paths.get(path)).findAll() \n</code></pre>\n\n<p>I am able to retrieve a <code>Set&lt;ModuleReference&gt;</code> of all the <strong><em>.jars</em></strong> in the <code>path</code> folder. </p>\n\n<p>My next step would be getting a <code>Module</code> from a <a href=\"http://download.java.net/java/jdk9/docs/api/java/lang/module/ModuleReference.html\" rel=\"noreferrer\"><code>ModuleReference</code></a> but there's no method that returns that, I can get a <a href=\"http://download.java.net/java/jdk9/docs/api/java/lang/module/ModuleDescriptor.html\" rel=\"noreferrer\"><code>ModuleDescriptor</code></a> but even that one doesn't help. Is there a way to do this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9727,"page":498,"page_size":100}
