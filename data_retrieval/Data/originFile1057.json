{"items":[{"tags":["java","arrays","json","android-studio","android-recyclerview"],"comments":[{"owner":{"account_id":24585988,"reputation":25,"user_id":18490497,"display_name":"Abhishek Tiwari"},"score":0,"creation_date":1656406957,"post_id":72780660,"comment_id":128558303,"body_markdown":"as we have json string :    {&quot;SILVERRohit&quot;:0,&quot;DINRCosmic&quot;:20,&quot;NATURALGASCosmic&quot;:0 }   \n first make this into   [ {&quot;SILVERRohit&quot;:0} , {&quot;DINRCosmic&quot;:20} , {&quot;NATURALGASCosmic&quot;:0}  ]  then finally i want to replace all keys with same key -  [ {&quot;open&quot;:0} , {&quot;open&quot;:20} , {&quot;open&quot;:0}  ] if is it possible guys. please help me .","body":"as we have json string :    {&quot;SILVERRohit&quot;:0,&quot;DINRCosmic&quot;:20,&quot;NATURALGASCosmic&quot;:0 }     first make this into   [ {&quot;SILVERRohit&quot;:0} , {&quot;DINRCosmic&quot;:20} , {&quot;NATURALGASCosmic&quot;:0}  ]  then finally i want to replace all keys with same key -  [ {&quot;open&quot;:0} , {&quot;open&quot;:20} , {&quot;open&quot;:0}  ] if is it possible guys. please help me ."}],"answers":[{"tags":[],"owner":{"account_id":25617055,"reputation":47,"user_id":19389498,"display_name":"JonathanQXP"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1662462728,"creation_date":1656401044,"answer_id":72782269,"question_id":72780660,"body_markdown":"As you got the hashmap, iterate the map like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Map&lt;String,String&gt; data = MapUtil.newHashMap();\r\n    JSONArray jsonArray = new JSONArray();\r\n    for (Map.Entry&lt;String, String&gt; entry : data.entrySet()) {\r\n        Map&lt;String,String&gt; json = MapUtil.newHashMap();\r\n        json.put(&quot;open&quot;, entry.getValue());\r\n        jsonArray.add(json);\r\n    }\r\n    return jsonArray;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n","title":"How to convert a jsonobject into a jsonarray and also change all keys with all custom same keys in Java and Android","body":"<p>As you got the hashmap, iterate the map like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Map&lt;String,String&gt; data = MapUtil.newHashMap();\nJSONArray jsonArray = new JSONArray();\nfor (Map.Entry&lt;String, String&gt; entry : data.entrySet()) {\n    Map&lt;String,String&gt; json = MapUtil.newHashMap();\n    json.put(\"open\", entry.getValue());\n    jsonArray.add(json);\n}\nreturn jsonArray;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":24585988,"reputation":25,"user_id":18490497,"display_name":"Abhishek Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72782269,"answer_count":1,"score":0,"last_activity_date":1662462867,"creation_date":1656389511,"question_id":72780660,"body_markdown":"Code:\r\n---\r\n\r\n    Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n\r\n    for (int j = 0; j &lt; jsonArray.length(); j++) {\r\n        JSONObject list = jsonArray.getJSONObject(j);\r\n\r\n        String key = list.getString(&quot;symbol&quot;) + list.getString(&quot;groupname&quot;);\r\n\r\n        if (!map.containsKey(key)) {\r\n            map.put(key, list.getInt(&quot;openqty&quot;));\r\n\r\n        } else {\r\n            int val = map.get(key) + list.getInt(&quot;openqty&quot;);\r\n            map.put(key, val);\r\n        }\r\n\r\n        System.out.println(&quot;map &quot; + map);\r\n    }\r\n\r\n    // Converted map into jsonstring\r\n    String jsonString = new JSONObject(map).toString();\r\n    System.out.println(&quot;jsonstring &quot; + jsonString);\r\n\r\n---\r\n\r\n**Output:**\r\n\r\n```\r\n     {&quot;SILVERRohit&quot;:0,&quot;DINRCosmic&quot;:20,&quot;NATURALGASCosmic&quot;:0,&quot;NGCosmic&quot;:0,&quot;SICosmic&quot;:-5,&quot;SILVERCosmic&quot;:35,&quot;DINRRishi&quot;:0,&quot;SIRishi&quot;:0,&quot;SILVERRishi&quot;:0,&quot;CLAmitTA&quot;:-6,\r\n&quot;CRUDEOILAmitTA&quot;:60,&quot;DINRAmitTA&quot;:24,&quot;GCAmitTA&quot;:0,&quot;GOLDAmitTA&quot;:0,&quot;SIAmitTA&quot;:0,&quot;SILVERAmitTA&quot;:0,&quot;DINRPraveen&quot;:0,&quot;GCPraveen&quot;:0,&quot;GOLDPraveen&quot;:0,&quot;DINRHarsh&quot;:46,\r\n&quot;GCHarsh&quot;:-9,&quot;GOLDHarsh&quot;:28,&quot;SIHarsh&quot;:9,&quot;SILVERHarsh&quot;:-45,&quot;DINRGovind&quot;:-160,&quot;SIGovind&quot;:11}\r\n```\r\n\r\n^^ this is an jsonobject I have got by using linkedhashmap. So, now my problem is I want to convert it into jsonArray format to set in the model (recyclerview). I have also tried by iterating, but I am getting the same values in each single row.\r\n\r\nNot only this, but also I want to change all jsonobject keys to &quot;open&quot;, so that I can use this in recyclerview for each single row.\r\n\r\n**Expected output:**\r\n\r\n```\r\n[    {&quot;open&quot;:0},{&quot;open&quot;:20} , {&quot;open&quot;:0} ,   {&quot;open&quot;:0} ,{&quot;open&quot;:-5 } ,\r\n {&quot;open&quot;:35 } , {&quot;open&quot;:0} ,{&quot;open&quot;:0 },{&quot;open&quot;:0 } ,{&quot;open&quot;:-6 },\r\n {&quot;open&quot;:60},{&quot;open&quot;:24},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},\r\n{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:46},\r\n{&quot;open&quot;:-9},{&quot;open&quot;:28},{&quot;open&quot;:9},{&quot;open&quot;:-45},\r\n{&quot;open&quot;:-160},{&quot;open&quot;:11}    ]\r\n```\r\n\r\n","title":"How to convert a jsonobject into a jsonarray and also change all keys with all custom same keys in Java and Android","body":"<h2>Code:</h2>\n<pre><code>Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n\nfor (int j = 0; j &lt; jsonArray.length(); j++) {\n    JSONObject list = jsonArray.getJSONObject(j);\n\n    String key = list.getString(&quot;symbol&quot;) + list.getString(&quot;groupname&quot;);\n\n    if (!map.containsKey(key)) {\n        map.put(key, list.getInt(&quot;openqty&quot;));\n\n    } else {\n        int val = map.get(key) + list.getInt(&quot;openqty&quot;);\n        map.put(key, val);\n    }\n\n    System.out.println(&quot;map &quot; + map);\n}\n\n// Converted map into jsonstring\nString jsonString = new JSONObject(map).toString();\nSystem.out.println(&quot;jsonstring &quot; + jsonString);\n</code></pre>\n<hr />\n<p><strong>Output:</strong></p>\n<pre><code>     {&quot;SILVERRohit&quot;:0,&quot;DINRCosmic&quot;:20,&quot;NATURALGASCosmic&quot;:0,&quot;NGCosmic&quot;:0,&quot;SICosmic&quot;:-5,&quot;SILVERCosmic&quot;:35,&quot;DINRRishi&quot;:0,&quot;SIRishi&quot;:0,&quot;SILVERRishi&quot;:0,&quot;CLAmitTA&quot;:-6,\n&quot;CRUDEOILAmitTA&quot;:60,&quot;DINRAmitTA&quot;:24,&quot;GCAmitTA&quot;:0,&quot;GOLDAmitTA&quot;:0,&quot;SIAmitTA&quot;:0,&quot;SILVERAmitTA&quot;:0,&quot;DINRPraveen&quot;:0,&quot;GCPraveen&quot;:0,&quot;GOLDPraveen&quot;:0,&quot;DINRHarsh&quot;:46,\n&quot;GCHarsh&quot;:-9,&quot;GOLDHarsh&quot;:28,&quot;SIHarsh&quot;:9,&quot;SILVERHarsh&quot;:-45,&quot;DINRGovind&quot;:-160,&quot;SIGovind&quot;:11}\n</code></pre>\n<p>^^ this is an jsonobject I have got by using linkedhashmap. So, now my problem is I want to convert it into jsonArray format to set in the model (recyclerview). I have also tried by iterating, but I am getting the same values in each single row.</p>\n<p>Not only this, but also I want to change all jsonobject keys to &quot;open&quot;, so that I can use this in recyclerview for each single row.</p>\n<p><strong>Expected output:</strong></p>\n<pre><code>[    {&quot;open&quot;:0},{&quot;open&quot;:20} , {&quot;open&quot;:0} ,   {&quot;open&quot;:0} ,{&quot;open&quot;:-5 } ,\n {&quot;open&quot;:35 } , {&quot;open&quot;:0} ,{&quot;open&quot;:0 },{&quot;open&quot;:0 } ,{&quot;open&quot;:-6 },\n {&quot;open&quot;:60},{&quot;open&quot;:24},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},\n{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:0},{&quot;open&quot;:46},\n{&quot;open&quot;:-9},{&quot;open&quot;:28},{&quot;open&quot;:9},{&quot;open&quot;:-45},\n{&quot;open&quot;:-160},{&quot;open&quot;:11}    ]\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1662372868,"post_id":73607734,"comment_id":129983345,"body_markdown":"There is nothing in `DayLogic` that uses `T`. Why do you need the generic parameter in the first place?","body":"There is nothing in <code>DayLogic</code> that uses <code>T</code>. Why do you need the generic parameter in the first place?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":5,"creation_date":1662372870,"post_id":73607734,"comment_id":129983348,"body_markdown":"Generics are for types. Day.WEDNESDAY is not a type. It&#39;s an instance","body":"Generics are for types. Day.WEDNESDAY is not a type. It&#39;s an instance"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1662373047,"post_id":73607734,"comment_id":129983402,"body_markdown":"There&#39;s [`java.time.DayOfWeek`](https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html) since Java 8, worth a try using that for your logic.","body":"There&#39;s <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\"><code>java.time.DayOfWeek</code></a> since Java 8, worth a try using that for your logic."},{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":2,"creation_date":1662373922,"post_id":73607734,"comment_id":129983697,"body_markdown":"Generics are a way to specify certain variables during runtime (example `class&lt;T extends Number&gt;` can be instantiated with any type extending `Number`). In your case you already know the type `DAY`, meaning you dont need generics, and can simply implement the interface instead. I am wondering though, what do you want to achieve? Do you want to select a certain logic with an enum-type? Maybe you can elaborate a bit more so we can understand the situation better.","body":"Generics are a way to specify certain variables during runtime (example <code>class&lt;T extends Number&gt;</code> can be instantiated with any type extending <code>Number</code>). In your case you already know the type <code>DAY</code>, meaning you dont need generics, and can simply implement the interface instead. I am wondering though, what do you want to achieve? Do you want to select a certain logic with an enum-type? Maybe you can elaborate a bit more so we can understand the situation better."},{"owner":{"account_id":6683686,"reputation":407,"user_id":5155846,"accept_rate":56,"display_name":"Ahmad"},"score":0,"creation_date":1662374217,"post_id":73607734,"comment_id":129983779,"body_markdown":"@n247s I want each item in the `enum` to have different logic, so that I dont need to loop over enum value or check a condition if it matches the enum","body":"@n247s I want each item in the <code>enum</code> to have different logic, so that I dont need to loop over enum value or check a condition if it matches the enum"}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662374593,"creation_date":1662374245,"answer_id":73608043,"question_id":73607734,"body_markdown":"Since there are already answers to your original question, here&#39;s what you can do that should fit your use case: since an `enum` is just a (restricted) `class`, it can implement an `interface`, which looks like what you need: \r\n\r\n```\r\npublic enum DAY implements DayLogic { \r\n SUNDAY {\r\n  public void doLogic() {\r\n   // sunday logic implementation\r\n  }\r\n }, \r\n MONDAY{\r\n  public void doLogic() {\r\n   // monday logic implementation\r\n  }\r\n }, \r\n // ...\r\n}\r\n```\r\n\r\nYou can then use it like \r\n```\r\nDAY day = decideDay();\r\nday.doLogic();\r\n```\r\n\r\nIf you don&#39;t like the individual values having the method (I don&#39;t), you can do something like\r\n\r\n```\r\npublic enum DAY implements DayLogic {\r\n SUNDAY(new SundayLogic()),\r\n MONDAY(new MondayLogic()),\r\n // ...\r\n ;\r\n\r\n private DayLogic logicDelegate; // or Runnable, it&#39;s the same signature\r\n\r\n private DAY(DayLogic logic) {\r\n  logicDelegate = logic;\r\n }\r\n\r\n public doLogic() {\r\n  logicDelegate.run();\r\n }\r\n}\r\n```","title":"use enum as generic parameter","body":"<p>Since there are already answers to your original question, here's what you can do that should fit your use case: since an <code>enum</code> is just a (restricted) <code>class</code>, it can implement an <code>interface</code>, which looks like what you need:</p>\n<pre><code>public enum DAY implements DayLogic { \n SUNDAY {\n  public void doLogic() {\n   // sunday logic implementation\n  }\n }, \n MONDAY{\n  public void doLogic() {\n   // monday logic implementation\n  }\n }, \n // ...\n}\n</code></pre>\n<p>You can then use it like</p>\n<pre><code>DAY day = decideDay();\nday.doLogic();\n</code></pre>\n<p>If you don't like the individual values having the method (I don't), you can do something like</p>\n<pre><code>public enum DAY implements DayLogic {\n SUNDAY(new SundayLogic()),\n MONDAY(new MondayLogic()),\n // ...\n ;\n\n private DayLogic logicDelegate; // or Runnable, it's the same signature\n\n private DAY(DayLogic logic) {\n  logicDelegate = logic;\n }\n\n public doLogic() {\n  logicDelegate.run();\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662462683,"creation_date":1662374805,"answer_id":73608149,"question_id":73607734,"body_markdown":"Looks like you can achieve this concept by:\r\n\r\n    public enum DAY\r\n    {\r\n    \tSUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY\r\n    }\r\n\r\n**Day Logic interface and Factory initializer**\r\n\r\n    public interface DayLogic\r\n    {\r\n    \tvoid doLogic();\r\n    \r\n    \tpublic static class Factory\r\n    \t{\r\n    \t\tpublic static DayLogic getDayLogic(DAY day)\r\n    \t\t{\r\n    \t\t\tif (DAY.WEDNESDAY.equals(day))\r\n    \t\t\t{\r\n    \t\t\t\treturn new WednesdayLogic();\r\n    \t\t\t}\r\n    \t\t\t// ...\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**WednesdayLogic Class:**\r\n\r\n    public class WednesdayLogic implements DayLogic\r\n    {\r\n    \tfinal DAY day = DAY.WEDNESDAY;\r\n    \r\n    \t@Override\r\n    \tpublic void doLogic()\r\n    \t{\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t}\r\n    }\r\n\r\nProblem is that Enum Day is a value, not a class. \r\n\r\nEdit: Thanks to @daniu I am adding how it was to be used:\r\nDayLogic dayLogic = DayLogic.Factory.getDayLogic(DAY.WEDNESDAY);\r\n","title":"use enum as generic parameter","body":"<p>Looks like you can achieve this concept by:</p>\n<pre><code>public enum DAY\n{\n    SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY\n}\n</code></pre>\n<p><strong>Day Logic interface and Factory initializer</strong></p>\n<pre><code>public interface DayLogic\n{\n    void doLogic();\n\n    public static class Factory\n    {\n        public static DayLogic getDayLogic(DAY day)\n        {\n            if (DAY.WEDNESDAY.equals(day))\n            {\n                return new WednesdayLogic();\n            }\n            // ...\n            return null;\n        }\n    }\n}\n</code></pre>\n<p><strong>WednesdayLogic Class:</strong></p>\n<pre><code>public class WednesdayLogic implements DayLogic\n{\n    final DAY day = DAY.WEDNESDAY;\n\n    @Override\n    public void doLogic()\n    {\n        // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n<p>Problem is that Enum Day is a value, not a class.</p>\n<p>Edit: Thanks to @daniu I am adding how it was to be used:\nDayLogic dayLogic = DayLogic.Factory.getDayLogic(DAY.WEDNESDAY);</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662375819,"creation_date":1662375819,"answer_id":73608339,"question_id":73607734,"body_markdown":"The answer from daniu is one option: the enum can implement an interface, and you do all in the interface. Especially using a constructor with DayLogic is nice.\r\n\r\nOften that DayLogic is a later, uncoupled phenomenon. In that case use an [**`EnumMap`**][1] from the enum to your logic.\r\n\r\n    public class Dayly {\r\n        private final Map&lt;Day, DayLogic&gt; logicMap = new EnumMap&lt;&gt;(Day.class);\r\n\r\n        public void putLogic(Day day, DayLogic logic) {\r\n            logicMap.put(day, logic);\r\n        }\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/EnumMap.html","title":"use enum as generic parameter","body":"<p>The answer from daniu is one option: the enum can implement an interface, and you do all in the interface. Especially using a constructor with DayLogic is nice.</p>\n<p>Often that DayLogic is a later, uncoupled phenomenon. In that case use an <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><strong><code>EnumMap</code></strong></a> from the enum to your logic.</p>\n<pre><code>public class Dayly {\n    private final Map&lt;Day, DayLogic&gt; logicMap = new EnumMap&lt;&gt;(Day.class);\n\n    public void putLogic(Day day, DayLogic logic) {\n        logicMap.put(day, logic);\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":6683686,"reputation":407,"user_id":5155846,"accept_rate":56,"display_name":"Ahmad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73608149,"answer_count":3,"score":0,"last_activity_date":1662462683,"creation_date":1662372537,"question_id":73607734,"body_markdown":"I have an enum `day`\r\n```\r\npublic enum DAY { SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY}\r\n```\r\n\r\nI want to create a generic interface so that for each day I want to have a different implementation\r\n\r\n``` \r\npublic interface DayLogic&lt;T&gt;\r\n{\r\n  void doLogic();\r\n}\r\n```\r\n\r\nI want `&lt;T&gt;` to be a value of `DAY` `enum` \r\nfor example \r\n``` \r\npublic class WednesdayLogic implements DayLogic&lt;DAY.WEDNESDAY&gt;\r\n{\r\n   @Override\r\n   public void doLogic()\r\n   {}    \r\n}\r\n```\r\n\r\nis it possible or is there any alternate flow to do so?","title":"use enum as generic parameter","body":"<p>I have an enum <code>day</code></p>\n<pre><code>public enum DAY { SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY}\n</code></pre>\n<p>I want to create a generic interface so that for each day I want to have a different implementation</p>\n<pre><code>public interface DayLogic&lt;T&gt;\n{\n  void doLogic();\n}\n</code></pre>\n<p>I want <code>&lt;T&gt;</code> to be a value of <code>DAY</code> <code>enum</code>\nfor example</p>\n<pre><code>public class WednesdayLogic implements DayLogic&lt;DAY.WEDNESDAY&gt;\n{\n   @Override\n   public void doLogic()\n   {}    \n}\n</code></pre>\n<p>is it possible or is there any alternate flow to do so?</p>\n"},{"tags":["java","android","arraylist","android-viewmodel","observers"],"answers":[{"tags":[],"owner":{"account_id":15525786,"reputation":513,"user_id":11200630,"display_name":"Kalai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662462682,"creation_date":1607529694,"answer_id":65220365,"question_id":65210945,"body_markdown":"If you are using Java 8 onward, something like this would work, provided that there are &gt;= 5 elements in the list:\r\n\r\n    List&lt;Person&gt; personList = personViewModel.getNoobs();\r\n    Random random = new Random();\r\n    IntStream.range(0,5).forEach(val -&gt;\r\n                  currentNoobList.add(personList.remove(random.nextInt(personList.size()))));\r\n\r\n\r\nIf you are unable to use Java 8, this [answer](https://stackoverflow.com/a/4702061) could come in handy.\r\n\r\n\r\nGiven that you are using a Room Database, you could add an annotated method stub in your DAO interface and make appropriate changes such that you can  directly get your results via your database. Something like this in your DAO:\r\n\r\n\r\n    @Query(&quot;SELECT * FROM person ORDER BY RANDOM() LIMIT 5&quot;)\r\n        public List&lt;Person&gt; getFiveRandomPersons();\r\n\r\nTypically an observer would `observe` a subject; Checkout [Observer Pattern](https://en.wikipedia.org/wiki/Observer_pattern). Given there isn&#39;t much information, I believe you are using `Livedata`, since you mentioned `.observe` in context with the Room Database. This  [documentation](https://developer.android.com/topic/libraries/architecture/livedata#work_livedata) and this [codelab](https://developer.android.com/codelabs/android-training-livedata-viewmodel#12) might give you some idea on the usage of `observe()`.","title":"How to recieve 5 random Objects from Room database and add them to a new ArrayList","body":"<p>If you are using Java 8 onward, something like this would work, provided that there are &gt;= 5 elements in the list:</p>\n<pre><code>List&lt;Person&gt; personList = personViewModel.getNoobs();\nRandom random = new Random();\nIntStream.range(0,5).forEach(val -&gt;\n              currentNoobList.add(personList.remove(random.nextInt(personList.size()))));\n</code></pre>\n<p>If you are unable to use Java 8, this <a href=\"https://stackoverflow.com/a/4702061\">answer</a> could come in handy.</p>\n<p>Given that you are using a Room Database, you could add an annotated method stub in your DAO interface and make appropriate changes such that you can  directly get your results via your database. Something like this in your DAO:</p>\n<pre><code>@Query(&quot;SELECT * FROM person ORDER BY RANDOM() LIMIT 5&quot;)\n    public List&lt;Person&gt; getFiveRandomPersons();\n</code></pre>\n<p>Typically an observer would <code>observe</code> a subject; Checkout <a href=\"https://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow noreferrer\">Observer Pattern</a>. Given there isn't much information, I believe you are using <code>Livedata</code>, since you mentioned <code>.observe</code> in context with the Room Database. This  <a href=\"https://developer.android.com/topic/libraries/architecture/livedata#work_livedata\" rel=\"nofollow noreferrer\">documentation</a> and this <a href=\"https://developer.android.com/codelabs/android-training-livedata-viewmodel#12\" rel=\"nofollow noreferrer\">codelab</a> might give you some idea on the usage of <code>observe()</code>.</p>\n"}],"owner":{"account_id":18950396,"reputation":257,"user_id":13828248,"display_name":"Alex Rodionow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65220365,"answer_count":1,"score":0,"last_activity_date":1662462682,"creation_date":1607490218,"question_id":65210945,"body_markdown":"1) I have method ``` personViewModel.getNoobs(); ``` which returns ``` List&lt;Person&gt; ``` from Room database;\r\n2) I have new  ``` ArrayList&lt;Person&gt; currentNoobList; ``` in my Activity.\r\n\r\nI need to take 5 random Persons from database and add them to ``` currentNoobList ``` in ``` onCreate() ```.\r\n\r\nAs far as I know, I need to use ``` .observe ``` in order to get random Objects from that ``` List&lt;Person&gt; ``` which I get using method ``` getNoobs() ```;\r\nbut I cannot understand how to write this code correctly. Could you help?\r\n\r\nThanks!","title":"How to recieve 5 random Objects from Room database and add them to a new ArrayList","body":"<ol>\n<li>I have method <code>personViewModel.getNoobs();</code> which returns <code>List&lt;Person&gt;</code> from Room database;</li>\n<li>I have new  <code>ArrayList&lt;Person&gt; currentNoobList;</code> in my Activity.</li>\n</ol>\n<p>I need to take 5 random Persons from database and add them to <code>currentNoobList</code> in <code>onCreate()</code>.</p>\n<p>As far as I know, I need to use <code>.observe</code> in order to get random Objects from that <code>List&lt;Person&gt;</code> which I get using method <code>getNoobs()</code>;\nbut I cannot understand how to write this code correctly. Could you help?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","xml","fragment"],"comments":[{"owner":{"account_id":417643,"reputation":8078,"user_id":793752,"accept_rate":42,"display_name":"Ashish Dwivedi"},"score":0,"creation_date":1509613566,"post_id":13034746,"comment_id":81090631,"body_markdown":"Try this, https://stackoverflow.com/questions/8641575/custom-attributes-in-android-fragments/17674292#17674292","body":"Try this, <a href=\"https://stackoverflow.com/questions/8641575/custom-attributes-in-android-fragments/17674292#17674292\" title=\"custom attributes in android fragments\">stackoverflow.com/questions/8641575/&hellip;</a>"},{"owner":{"account_id":111674,"reputation":20653,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1618253640,"post_id":13034746,"comment_id":118541802,"body_markdown":"its dead easy, see the excellent answer of @DanieleSegato","body":"its dead easy, see the excellent answer of @DanieleSegato"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":2,"up_vote_count":56,"is_accepted":true,"score":54,"last_activity_date":1395228453,"creation_date":1351008632,"answer_id":13034812,"question_id":13034746,"body_markdown":"&gt; Now that my Activity is just a wrapper around a Fragment that does the same work, how do I get that bundle to the Fragment if I declare the fragment in XML with the tag?\r\n\r\nYou can&#39;t.\r\n\r\nHowever, you are welcome to call `findFragmentById()` on your `FragmentManager` to retrieve the fragment post-inflation, then call some method on the fragment to associate data with it. While apparently that cannot be `setArguments()`, your fragment could arrange to hold onto the data itself past a configuration change by some other means (`onSaveInstanceState()`, `setRetainInstance(true)`, etc.).","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<blockquote>\n  <p>Now that my Activity is just a wrapper around a Fragment that does the same work, how do I get that bundle to the Fragment if I declare the fragment in XML with the tag?</p>\n</blockquote>\n\n<p>You can't.</p>\n\n<p>However, you are welcome to call <code>findFragmentById()</code> on your <code>FragmentManager</code> to retrieve the fragment post-inflation, then call some method on the fragment to associate data with it. While apparently that cannot be <code>setArguments()</code>, your fragment could arrange to hold onto the data itself past a configuration change by some other means (<code>onSaveInstanceState()</code>, <code>setRetainInstance(true)</code>, etc.).</p>\n"},{"tags":[],"owner":{"account_id":3721597,"reputation":1647,"user_id":3096537,"display_name":"Renascienza"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415828555,"creation_date":1403014201,"answer_id":24266049,"question_id":13034746,"body_markdown":"The only solution I see is to not use the arguments as data exchange channel. Instead, make your fragment to obtain the necessary information from elsewhere. Call back to get the proper activity, consult a temporary storage memory, a Singleton object, etc.. \r\n\r\nAnother solution that can be helpful is to employ frameworks that allow unrelated objects to exchange messages via Mediator design pattern, as [Otto][1].\r\n\r\n\r\n  [1]: http://square.github.io/otto/","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>The only solution I see is to not use the arguments as data exchange channel. Instead, make your fragment to obtain the necessary information from elsewhere. Call back to get the proper activity, consult a temporary storage memory, a Singleton object, etc.. </p>\n\n<p>Another solution that can be helpful is to employ frameworks that allow unrelated objects to exchange messages via Mediator design pattern, as <a href=\"http://square.github.io/otto/\" rel=\"nofollow\">Otto</a>.</p>\n"},{"tags":[],"owner":{"account_id":365390,"reputation":28841,"user_id":710284,"display_name":"Oded Breiner"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1420459100,"creation_date":1420459100,"answer_id":27779053,"question_id":13034746,"body_markdown":"It&#39;s not an encapsulated way, but I ended up &quot;pulling&quot; the bundle from the parent activity:\r\n\r\n    Bundle bundle = getActivity().getIntent().getExtras();","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>It's not an encapsulated way, but I ended up \"pulling\" the bundle from the parent activity:</p>\n\n<pre><code>Bundle bundle = getActivity().getIntent().getExtras();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1403684,"reputation":22268,"user_id":1331971,"accept_rate":46,"display_name":"Zapnologica"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1618257766,"creation_date":1450668260,"answer_id":34388511,"question_id":13034746,"body_markdown":"Another option is to not declare the fragment in the XML. I know it is not exactly what you want to do. However you could declare a simple layout in your view like this:\r\n\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/fragment_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot; /&gt;\r\n\r\n\r\n\r\nAnd then in your `Activity` class you programatically inflate the layout with the fragment. This way you can pass through parameters using args.\r\n\r\n    FragmentManager fragmentManager = getSupportFragmentManager();\r\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n    MyFragment fragment = MyFragment.newInstance();\r\n    Bundle args = new Bundle();\r\n    args.putInt(Global.INTENT_INT_ROLE, 1);\r\n    fragment.setArguments(args);\r\n    fragmentTransaction.add(R.id.fragment_container, fragment, &quot;MyActivity&quot;);\r\n    fragmentTransaction.commit();\r\n\r\nIn the fragment,\r\n\r\n    if (getArguments() != null) {\r\n       int role = getArguments().getInt(Global.INTENT_INT_ROLE); }\r\n\r\nThis approach is not as clean and simple as declaring it in the xml however I have moved to it as it gives you a lot more control over the fragment.","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>Another option is to not declare the fragment in the XML. I know it is not exactly what you want to do. However you could declare a simple layout in your view like this:</p>\n<pre><code>    &lt;LinearLayout\n        android:id=&quot;@+id/fragment_container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot; /&gt;\n</code></pre>\n<p>And then in your <code>Activity</code> class you programatically inflate the layout with the fragment. This way you can pass through parameters using args.</p>\n<pre><code>FragmentManager fragmentManager = getSupportFragmentManager();\nFragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\nMyFragment fragment = MyFragment.newInstance();\nBundle args = new Bundle();\nargs.putInt(Global.INTENT_INT_ROLE, 1);\nfragment.setArguments(args);\nfragmentTransaction.add(R.id.fragment_container, fragment, &quot;MyActivity&quot;);\nfragmentTransaction.commit();\n</code></pre>\n<p>In the fragment,</p>\n<pre><code>if (getArguments() != null) {\n   int role = getArguments().getInt(Global.INTENT_INT_ROLE); }\n</code></pre>\n<p>This approach is not as clean and simple as declaring it in the xml however I have moved to it as it gives you a lot more control over the fragment.</p>\n"},{"tags":[],"owner":{"account_id":485766,"reputation":12489,"user_id":902276,"accept_rate":53,"display_name":"Daniele Segato"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1570958955,"creation_date":1536824578,"answer_id":52308875,"question_id":13034746,"body_markdown":"You can&#39;t pass a Bundle (unless you inflate your fragment programmatically rather then via XML) but you CAN pass parameters (or rather attributes) via XML to a fragment.\r\n\r\nThe process is similar to [how you define View custom attributes][1].\r\nExcept AndroidStudio (currently) do not assist you in the process.\r\n\r\nsuppose this is your fragment using arguments (I&#39;ll use kotlin but it totally works in Java too):\r\n\r\n    class MyFragment: Fragment() {\r\n    \r\n        // your fragment parameter, a string\r\n        private var screenName: String? = null\r\n    \r\n        override fun onAttach(context: Context?) {\r\n            super.onAttach(context)\r\n            if (screenName == null) {\r\n                screenName = arguments?.getString(&quot;screen_name&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\nAnd you want to do something like this:\r\n\r\n    &lt;fragment\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/myFragment&quot;\r\n        android:name=&quot;com.example.MyFragment&quot;\r\n        app:screen_name=&quot;@string/screen_a&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n\r\nNote the `app:screen_name=&quot;@string/screen_a&quot;`\r\n\r\nto make it work just add this in a values file (`fragment_attrs.xml` or pick any name you want):\r\n\r\n    &lt;!-- define your attribute name and type --&gt;\r\n    &lt;attr name=&quot;screen_name&quot; format=&quot;string|reference&quot;/&gt;\r\n    \r\n    &lt;!-- define a bunch of constants you wanna use --&gt;\r\n    &lt;string name=&quot;screen_a&quot; translatable=&quot;false&quot;&gt;ScreenA&lt;/string&gt;\r\n    &lt;string name=&quot;screen_b&quot; translatable=&quot;false&quot;&gt;ScreeenB&lt;/string&gt;\r\n    \r\n    &lt;!-- now define which arguments your fragment is gonna have (can be more then one) --&gt;\r\n    &lt;!-- the convention is &quot;FragmentClassName_MembersInjector&quot; --&gt;\r\n    &lt;declare-styleable name=&quot;MyFragment_MembersInjector&quot;&gt;\r\n        &lt;attr name=&quot;screen_name&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n\r\nAlmost done, you just need to read it in your fragment, so add the method:\r\n\r\n    override fun onInflate(context: Context?, attrs: AttributeSet?, savedInstanceState: Bundle?) {\r\n        super.onInflate(context, attrs, savedInstanceState)\r\n        if (context != null &amp;&amp; attrs != null &amp;&amp; screenName == null) {\r\n            val ta = context.obtainStyledAttributes(attrs, R.styleable.MyFragment_MembersInjector)\r\n            if (ta.hasValue(R.styleable.MyFragment_MembersInjector_screen_name)) {\r\n                screenName = ta.getString(R.styleable.MyFragment_MembersInjector_screen_name)\r\n            }\r\n            ta.recycle()\r\n        }\r\n    }\r\n\r\net voil&#225;, your XML attributes in your fragment :)\r\n\r\nLimitations:\r\n\r\n - Android Studio (as of now) do not autocomplete such arguments in the layout XML\r\n - You can&#39;t pass `Parcelable` but only what can be defined as Android Attributes\r\n\r\n\r\n  [1]: https://developer.android.com/training/custom-views/create-view#customattr","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>You can't pass a Bundle (unless you inflate your fragment programmatically rather then via XML) but you CAN pass parameters (or rather attributes) via XML to a fragment.</p>\n\n<p>The process is similar to <a href=\"https://developer.android.com/training/custom-views/create-view#customattr\" rel=\"noreferrer\">how you define View custom attributes</a>.\nExcept AndroidStudio (currently) do not assist you in the process.</p>\n\n<p>suppose this is your fragment using arguments (I'll use kotlin but it totally works in Java too):</p>\n\n<pre><code>class MyFragment: Fragment() {\n\n    // your fragment parameter, a string\n    private var screenName: String? = null\n\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n        if (screenName == null) {\n            screenName = arguments?.getString(\"screen_name\")\n        }\n    }\n}\n</code></pre>\n\n<p>And you want to do something like this:</p>\n\n<pre><code>&lt;fragment\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/myFragment\"\n    android:name=\"com.example.MyFragment\"\n    app:screen_name=\"@string/screen_a\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n\n<p>Note the <code>app:screen_name=\"@string/screen_a\"</code></p>\n\n<p>to make it work just add this in a values file (<code>fragment_attrs.xml</code> or pick any name you want):</p>\n\n<pre><code>&lt;!-- define your attribute name and type --&gt;\n&lt;attr name=\"screen_name\" format=\"string|reference\"/&gt;\n\n&lt;!-- define a bunch of constants you wanna use --&gt;\n&lt;string name=\"screen_a\" translatable=\"false\"&gt;ScreenA&lt;/string&gt;\n&lt;string name=\"screen_b\" translatable=\"false\"&gt;ScreeenB&lt;/string&gt;\n\n&lt;!-- now define which arguments your fragment is gonna have (can be more then one) --&gt;\n&lt;!-- the convention is \"FragmentClassName_MembersInjector\" --&gt;\n&lt;declare-styleable name=\"MyFragment_MembersInjector\"&gt;\n    &lt;attr name=\"screen_name\"/&gt;\n&lt;/declare-styleable&gt;\n</code></pre>\n\n<p>Almost done, you just need to read it in your fragment, so add the method:</p>\n\n<pre><code>override fun onInflate(context: Context?, attrs: AttributeSet?, savedInstanceState: Bundle?) {\n    super.onInflate(context, attrs, savedInstanceState)\n    if (context != null &amp;&amp; attrs != null &amp;&amp; screenName == null) {\n        val ta = context.obtainStyledAttributes(attrs, R.styleable.MyFragment_MembersInjector)\n        if (ta.hasValue(R.styleable.MyFragment_MembersInjector_screen_name)) {\n            screenName = ta.getString(R.styleable.MyFragment_MembersInjector_screen_name)\n        }\n        ta.recycle()\n    }\n}\n</code></pre>\n\n<p>et voilá, your XML attributes in your fragment :)</p>\n\n<p>Limitations:</p>\n\n<ul>\n<li>Android Studio (as of now) do not autocomplete such arguments in the layout XML</li>\n<li>You can't pass <code>Parcelable</code> but only what can be defined as Android Attributes</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13216279,"reputation":161,"user_id":9544711,"display_name":"A S A D I"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1573140389,"creation_date":1573113801,"answer_id":58744321,"question_id":13034746,"body_markdown":"I know its too late answer, but i think someone need that :)\r\n\r\nJust in activity override `onAttachFragment()`\r\n\r\n\r\n    @Override\r\n    public void onAttachFragment(Fragment fragment)\r\n    {\r\n        super.onAttachFragment(fragment);\r\n\r\n        if (fragment.getId() == R.id.frgBlank)\r\n        {\r\n            Bundle b = new Bundle();\r\n            b.putString(&quot;msg&quot;, &quot;Message&quot;);\r\n\r\n            fragment.setArguments(b);\r\n        }\r\n    }\r\n\r\nand in fragment onCreateView method\r\n\r\n    Bundle b = getArguments();\r\n    if (b != null)\r\n    {\r\n        Toast.makeText(getBaseContext(), b.getString(&quot;msg&quot;), Toast.LENGTH_SHORT).show();\r\n    }\r\n","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>I know its too late answer, but i think someone need that :)</p>\n\n<p>Just in activity override <code>onAttachFragment()</code></p>\n\n<pre><code>@Override\npublic void onAttachFragment(Fragment fragment)\n{\n    super.onAttachFragment(fragment);\n\n    if (fragment.getId() == R.id.frgBlank)\n    {\n        Bundle b = new Bundle();\n        b.putString(\"msg\", \"Message\");\n\n        fragment.setArguments(b);\n    }\n}\n</code></pre>\n\n<p>and in fragment onCreateView method</p>\n\n<pre><code>Bundle b = getArguments();\nif (b != null)\n{\n    Toast.makeText(getBaseContext(), b.getString(\"msg\"), Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7262850,"reputation":309,"user_id":14136006,"display_name":"Roop Kishore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649412708,"creation_date":1649412708,"answer_id":71795245,"question_id":13034746,"body_markdown":"this approach worked for me.\r\n\r\nYou will not pass the Bundle from Anywhere, but instead you can set the arguments in onAttach method in the fragment itself.\r\n\r\nand later in the lifecycle methods of the fragments you can use those bundle arguments. \r\n\r\n\r\n    override fun onAttach(context: Context) {\r\n            super.onAttach(context)\r\n            if(arguments == null){\r\n                val bundle = Bundle()\r\n                bundle.putString(&quot;mykey&quot;, &quot;myvalue&quot;)\r\n                arguments = bundle\r\n            }\r\n        }\r\n\r\n\r\nAnyone might ask a question, why to set the arguments in the fragment while we can directly use the values in the usable places. It&#39;s right, but \r\n     This approach can also work when you will be passing these arguments to some other classes let&#39;s say any view model.\r\n\r\nfor example\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n            super.onViewCreated(view, savedInstanceState)\r\n\r\n            /*\r\n             Here I am passing these arguments to a viewmodel \r\n            */\r\n            viewModel.prepareData(arguments) \r\n            \r\n            --------\r\n            --------\r\n            --------\r\n\r\n        }\r\n\r\nThanks.","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>this approach worked for me.</p>\n<p>You will not pass the Bundle from Anywhere, but instead you can set the arguments in onAttach method in the fragment itself.</p>\n<p>and later in the lifecycle methods of the fragments you can use those bundle arguments.</p>\n<pre><code>override fun onAttach(context: Context) {\n        super.onAttach(context)\n        if(arguments == null){\n            val bundle = Bundle()\n            bundle.putString(&quot;mykey&quot;, &quot;myvalue&quot;)\n            arguments = bundle\n        }\n    }\n</code></pre>\n<p>Anyone might ask a question, why to set the arguments in the fragment while we can directly use the values in the usable places. It's right, but\nThis approach can also work when you will be passing these arguments to some other classes let's say any view model.</p>\n<p>for example</p>\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        /*\n         Here I am passing these arguments to a viewmodel \n        */\n        viewModel.prepareData(arguments) \n        \n        --------\n        --------\n        --------\n\n    }\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":923404,"reputation":7408,"user_id":954643,"accept_rate":80,"display_name":"qix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662462667,"creation_date":1662460294,"answer_id":73620528,"question_id":13034746,"body_markdown":"Since [v1.3.0 of the androidx.fragment][1] module (Feb 2021), they deprecated the `onAttachFragment()` callbacks in favor of using a [FragmentOnAttachListener][2], which is attached to your [FragmentManager][3]. So inside your `FragmentActivity`&#39;s `onCreate`, you could do something like:\r\n\r\n```\r\ngetSupportFragmentManager().addFragmentOnAttachListener((fragmentManager, fragment) -&gt; {\r\n    if (fragment instanceof MyFragment) {\r\n        Bundle args = getIntent().getExtras();\r\n        fragment.setArguments(args);\r\n    }\r\n}\r\n```\r\nThis will fire after `setContentView()` if you use `&lt;fragment&gt;` in your XML, but happens later if you used a `&lt;FragmentContainerView&gt;`. \r\n\r\nBe careful, [as I&#39;ve noticed][4] that a configuration change could re-attach an existing Fragment inside `super.onCreate`, and therefore needed to add the listener *before* this point. (That said, this isn&#39;t necessary for the purpose of passing `Bundle` args, and otherwise one should try to use [onSaveInstanceState()][5] first.)\r\n\r\n&lt;hr&gt;\r\n\r\nIncidentally, listening for the &quot;onAttach&quot; could also be a handy place to add an observer of the Fragment&#39;s view [Lifecycle][6] if needed, should you need to do anything in the Activity once the Fragment&#39;s view is instantiated. e.g. add:\r\n\r\n```\r\n        LiveData&lt;LifecycleOwner&gt; liveData = fragment.getViewLifecycleOwnerLiveData();\r\n        // Let this observer be constrained to the fragment&#39;s lifecycle.\r\n        liveData.observe(fragment, new Observer&lt;LifecycleOwner&gt;() {\r\n            @Override\r\n            public void onChanged(LifecycleOwner lifecycleOwner) {\r\n                // ...do work...\r\n                // If you don&#39;t need to listen anymore, can clean ourselves up early.\r\n                liveData.removeObserver(this);\r\n            }\r\n        });\r\n```\r\nOr as an alternative to observing the Fragment&#39;s view lifecycle from the Activity (and as a replacement for the Fragment&#39;s deprecated [onActivityCreated()][7]), you can listen the other way, to the Activity&#39;s Lifecycle from the Fragment! From the Fragment&#39;s [onAttach(context)][8] callback, add your own [observer][9] that implements [onCreate(@NonNull LifecycleOwner owner)][10]. re: https://stackoverflow.com/questions/61306719/onactivitycreated-is-deprecated-how-to-properly-use-lifecycleobserver\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/fragment#1.3.0\r\n  [2]: https://developer.android.com/reference/androidx/fragment/app/FragmentOnAttachListener\r\n  [3]: https://developer.android.com/reference/androidx/fragment/app/FragmentManager#addFragmentOnAttachListener(androidx.fragment.app.FragmentOnAttachListener)\r\n  [4]: https://stackoverflow.com/a/73585265/954643\r\n  [5]: https://developer.android.com/reference/androidx/fragment/app/Fragment#onSaveInstanceState(android.os.Bundle)\r\n  [6]: https://developer.android.com/guide/fragments/lifecycle#states\r\n  [7]: https://developer.android.com/reference/androidx/fragment/app/Fragment#onActivityCreated(android.os.Bundle)\r\n  [8]: https://developer.android.com/reference/androidx/fragment/app/Fragment#onAttach(android.content.Context)\r\n  [9]: https://developer.android.com/reference/androidx/lifecycle/DefaultLifecycleObserver\r\n  [10]: https://developer.android.com/reference/androidx/lifecycle/DefaultLifecycleObserver#onCreate(androidx.lifecycle.LifecycleOwner)","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>Since <a href=\"https://developer.android.com/jetpack/androidx/releases/fragment#1.3.0\" rel=\"nofollow noreferrer\">v1.3.0 of the androidx.fragment</a> module (Feb 2021), they deprecated the <code>onAttachFragment()</code> callbacks in favor of using a <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentOnAttachListener\" rel=\"nofollow noreferrer\">FragmentOnAttachListener</a>, which is attached to your <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentManager#addFragmentOnAttachListener(androidx.fragment.app.FragmentOnAttachListener)\" rel=\"nofollow noreferrer\">FragmentManager</a>. So inside your <code>FragmentActivity</code>'s <code>onCreate</code>, you could do something like:</p>\n<pre><code>getSupportFragmentManager().addFragmentOnAttachListener((fragmentManager, fragment) -&gt; {\n    if (fragment instanceof MyFragment) {\n        Bundle args = getIntent().getExtras();\n        fragment.setArguments(args);\n    }\n}\n</code></pre>\n<p>This will fire after <code>setContentView()</code> if you use <code>&lt;fragment&gt;</code> in your XML, but happens later if you used a <code>&lt;FragmentContainerView&gt;</code>.</p>\n<p>Be careful, <a href=\"https://stackoverflow.com/a/73585265/954643\">as I've noticed</a> that a configuration change could re-attach an existing Fragment inside <code>super.onCreate</code>, and therefore needed to add the listener <em>before</em> this point. (That said, this isn't necessary for the purpose of passing <code>Bundle</code> args, and otherwise one should try to use <a href=\"https://developer.android.com/reference/androidx/fragment/app/Fragment#onSaveInstanceState(android.os.Bundle)\" rel=\"nofollow noreferrer\">onSaveInstanceState()</a> first.)</p>\n<hr>\n<p>Incidentally, listening for the &quot;onAttach&quot; could also be a handy place to add an observer of the Fragment's view <a href=\"https://developer.android.com/guide/fragments/lifecycle#states\" rel=\"nofollow noreferrer\">Lifecycle</a> if needed, should you need to do anything in the Activity once the Fragment's view is instantiated. e.g. add:</p>\n<pre><code>        LiveData&lt;LifecycleOwner&gt; liveData = fragment.getViewLifecycleOwnerLiveData();\n        // Let this observer be constrained to the fragment's lifecycle.\n        liveData.observe(fragment, new Observer&lt;LifecycleOwner&gt;() {\n            @Override\n            public void onChanged(LifecycleOwner lifecycleOwner) {\n                // ...do work...\n                // If you don't need to listen anymore, can clean ourselves up early.\n                liveData.removeObserver(this);\n            }\n        });\n</code></pre>\n<p>Or as an alternative to observing the Fragment's view lifecycle from the Activity (and as a replacement for the Fragment's deprecated <a href=\"https://developer.android.com/reference/androidx/fragment/app/Fragment#onActivityCreated(android.os.Bundle)\" rel=\"nofollow noreferrer\">onActivityCreated()</a>), you can listen the other way, to the Activity's Lifecycle from the Fragment! From the Fragment's <a href=\"https://developer.android.com/reference/androidx/fragment/app/Fragment#onAttach(android.content.Context)\" rel=\"nofollow noreferrer\">onAttach(context)</a> callback, add your own <a href=\"https://developer.android.com/reference/androidx/lifecycle/DefaultLifecycleObserver\" rel=\"nofollow noreferrer\">observer</a> that implements <a href=\"https://developer.android.com/reference/androidx/lifecycle/DefaultLifecycleObserver#onCreate(androidx.lifecycle.LifecycleOwner)\" rel=\"nofollow noreferrer\">onCreate(@NonNull LifecycleOwner owner)</a>. re: <a href=\"https://stackoverflow.com/questions/61306719/onactivitycreated-is-deprecated-how-to-properly-use-lifecycleobserver\">onActivityCreated is deprecated, how to properly use LifecycleObserver?</a></p>\n"}],"owner":{"account_id":329119,"reputation":1463,"user_id":652466,"display_name":"Plantage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29412,"favorite_count":0,"down_vote_count":1,"up_vote_count":82,"accepted_answer_id":13034812,"answer_count":8,"score":81,"last_activity_date":1662462667,"creation_date":1351008423,"question_id":13034746,"body_markdown":"I&#39;ve got an activity that I&#39;ve replaced with a fragment.  The activity took an Intent that had some extra information on what data the activity was supposed to display.\r\n\r\nNow that my Activity is just a wrapper around a Fragment that does the same work, how do I get that bundle to the Fragment if I declare the fragment in XML with the &lt;fragment/&gt; tag?\r\n\r\nIf I were to use a FragmentTransaction to put the Fragment into a ViewGroup, I&#39;d get a chance to pass this info along in the Fragment constructor, but I&#39;m wondering about the situation where the fragment is defined in XML.","title":"If I declare a fragment in an XML layout, how do I pass it a Bundle?","body":"<p>I've got an activity that I've replaced with a fragment.  The activity took an Intent that had some extra information on what data the activity was supposed to display.</p>\n\n<p>Now that my Activity is just a wrapper around a Fragment that does the same work, how do I get that bundle to the Fragment if I declare the fragment in XML with the  tag?</p>\n\n<p>If I were to use a FragmentTransaction to put the Fragment into a ViewGroup, I'd get a chance to pass this info along in the Fragment constructor, but I'm wondering about the situation where the fragment is defined in XML.</p>\n"},{"tags":["java","android","json","retrofit2","okhttp"],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662458100,"creation_date":1662458100,"answer_id":73620052,"question_id":73619945,"body_markdown":"**Modify your Model class- the exception itself says the solution**\r\n\r\nCheck your API in Postman your response contains Array I think, And You have declared Data as an object in **SendOtpAPI** model class. check the below code - \r\n\r\n*Change Data class into an array in **SendOtpAPI** model class*\r\n\r\n    private Data data; --&gt; private ArrayList&lt;Data&gt; dataList;","title":"How to handle Json Array and Json Object same time in Retrofit Andorid","body":"<p><strong>Modify your Model class- the exception itself says the solution</strong></p>\n<p>Check your API in Postman your response contains Array I think, And You have declared Data as an object in <strong>SendOtpAPI</strong> model class. check the below code -</p>\n<p><em>Change Data class into an array in <strong>SendOtpAPI</strong> model class</em></p>\n<pre><code>private Data data; --&gt; private ArrayList&lt;Data&gt; dataList;\n</code></pre>\n"}],"owner":{"account_id":26214541,"reputation":21,"user_id":19892832,"display_name":"Android"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662462515,"creation_date":1662457587,"question_id":73619945,"body_markdown":"I am new to Android. When the response is a success, I get a JSON Object and when it is a failure I get an empty JSON array.\r\n\r\nI have created a POJO class for the same, but I&#39;m getting the exception below: \r\n\r\n&gt; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\r\n&gt; Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 5 column 14 path\r\n&gt; $.data\r\n\r\nWhen the API response is a success, I get the response below:\r\n\r\n    {\r\n      &quot;status&quot;: &quot;S&quot;,\r\n      &quot;code&quot;: &quot;000&quot;,\r\n      &quot;description&quot;: &quot;OTP Sent Successfully&quot;,\r\n      &quot;data&quot;: {\r\n        &quot;ProcessId&quot;: &quot;39a71-6d5c-4ae1-1415e63&quot;\r\n      }\r\n    }\r\n\r\nWhen the response is a failure, I get the response below:\r\n\r\n    {\r\n      &quot;status&quot;: &quot;F&quot;,\r\n      &quot;code&quot;: &quot;002&quot;,\r\n      &quot;description&quot;: &quot;Customer with Mobile already Exists&quot;,\r\n      &quot;data&quot;: []\r\n    }\r\n\r\nMy POJO Class:\r\n\r\n    public class SendOtpAPI {\r\n      @SerializedName(&quot;status&quot;)\r\n      @Expose\r\n      private String status;\r\n      @SerializedName(&quot;code&quot;)\r\n      @Expose\r\n      private String code;\r\n      @SerializedName(&quot;description&quot;)\r\n      @Expose\r\n      private String description;\r\n      @SerializedName(&quot;data&quot;)\r\n      @Nullable\r\n      @Expose\r\n      private Data data;\r\n    \r\n      public String getStatus() {\r\n        return status;\r\n      }\r\n    \r\n      public void setStatus(String status) {\r\n        this.status = status;\r\n      }\r\n    \r\n      public String getCode() {\r\n        return code;\r\n      }\r\n    \r\n      public void setCode(String code) {\r\n        this.code = code;\r\n      }\r\n    \r\n      public String getDescription() {\r\n        return description;\r\n      }\r\n    \r\n      public void setDescription(String description) {\r\n        this.description = description;\r\n      }\r\n    \r\n      public Data getData() {\r\n        return data;\r\n      }\r\n    \r\n      public void setData(Data data) {\r\n        this.data = data;\r\n      }\r\n    }\r\n\r\nPOJO Data Class:\r\n\r\n    public class Data {\r\n      @SerializedName(&quot;ProcessId&quot;)\r\n      @Expose\r\n      private String processId;\r\n    \r\n      public String getProcessId() {\r\n        return processId;\r\n      }\r\n    \r\n      public void setProcessId(String processId) {\r\n        this.processId = processId;\r\n      }\r\n    }\r\n\r\nRetrofit API Call:\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;https://dev2.test/otp&quot;)\r\n    Call&lt;SendOtpAPI&gt; sendOtpRegister(\r\n      @Field(&quot;operation&quot;)String operation,\r\n      @Field(&quot;mobile&quot;)String mobile\r\n    );\r\n\r\nHow can I handle this?","title":"How to handle Json Array and Json Object same time in Retrofit Andorid","body":"<p>I am new to Android. When the response is a success, I get a JSON Object and when it is a failure I get an empty JSON array.</p>\n<p>I have created a POJO class for the same, but I'm getting the exception below:</p>\n<blockquote>\n<p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\nExpected BEGIN_OBJECT but was BEGIN_ARRAY at line 5 column 14 path\n$.data</p>\n</blockquote>\n<p>When the API response is a success, I get the response below:</p>\n<pre><code>{\n  &quot;status&quot;: &quot;S&quot;,\n  &quot;code&quot;: &quot;000&quot;,\n  &quot;description&quot;: &quot;OTP Sent Successfully&quot;,\n  &quot;data&quot;: {\n    &quot;ProcessId&quot;: &quot;39a71-6d5c-4ae1-1415e63&quot;\n  }\n}\n</code></pre>\n<p>When the response is a failure, I get the response below:</p>\n<pre><code>{\n  &quot;status&quot;: &quot;F&quot;,\n  &quot;code&quot;: &quot;002&quot;,\n  &quot;description&quot;: &quot;Customer with Mobile already Exists&quot;,\n  &quot;data&quot;: []\n}\n</code></pre>\n<p>My POJO Class:</p>\n<pre><code>public class SendOtpAPI {\n  @SerializedName(&quot;status&quot;)\n  @Expose\n  private String status;\n  @SerializedName(&quot;code&quot;)\n  @Expose\n  private String code;\n  @SerializedName(&quot;description&quot;)\n  @Expose\n  private String description;\n  @SerializedName(&quot;data&quot;)\n  @Nullable\n  @Expose\n  private Data data;\n\n  public String getStatus() {\n    return status;\n  }\n\n  public void setStatus(String status) {\n    this.status = status;\n  }\n\n  public String getCode() {\n    return code;\n  }\n\n  public void setCode(String code) {\n    this.code = code;\n  }\n\n  public String getDescription() {\n    return description;\n  }\n\n  public void setDescription(String description) {\n    this.description = description;\n  }\n\n  public Data getData() {\n    return data;\n  }\n\n  public void setData(Data data) {\n    this.data = data;\n  }\n}\n</code></pre>\n<p>POJO Data Class:</p>\n<pre><code>public class Data {\n  @SerializedName(&quot;ProcessId&quot;)\n  @Expose\n  private String processId;\n\n  public String getProcessId() {\n    return processId;\n  }\n\n  public void setProcessId(String processId) {\n    this.processId = processId;\n  }\n}\n</code></pre>\n<p>Retrofit API Call:</p>\n<pre><code>@FormUrlEncoded\n@POST(&quot;https://dev2.test/otp&quot;)\nCall&lt;SendOtpAPI&gt; sendOtpRegister(\n  @Field(&quot;operation&quot;)String operation,\n  @Field(&quot;mobile&quot;)String mobile\n);\n</code></pre>\n<p>How can I handle this?</p>\n"},{"tags":["java","dto","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662044314,"creation_date":1662044314,"answer_id":73571509,"question_id":73499293,"body_markdown":"I don&#39;t know if it will work for your use case, because the solution is global, not specific to a certain mapping, but probably a good approach would be using a custom `MappingExclusionProvider`.\r\n\r\nThe [Mapstruct documentation](https://mapstruct.org/documentation/stable/reference/html/#mapping-exclusion-provider) indicates:\r\n\r\n&gt; MapStruct offers the possibility to override the `MappingExclusionProvider` \r\n&gt; via the Service Provider Interface (SPI). A nice example is to not allow \r\n&gt; MapStruct to create an automatic sub-mapping for a certain type, i.e. \r\n&gt; MapStruct will not try to generate an automatic sub-mapping method for an \r\n&gt; excluded type.\r\n\r\nFor example:\r\n\r\n```java\r\nimport java.util.regex.Pattern;\r\nimport javax.lang.model.element.Name;\r\nimport javax.lang.model.element.TypeElement;\r\n\r\nimport org.mapstruct.ap.spi.MappingExclusionProvider;\r\n\r\npublic class CustomMappingExclusionProvider implements MappingExclusionProvider {\r\n    private static final Pattern JAVA_JAVAX_PACKAGE = Pattern.compile( &quot;^javax?\\\\..*&quot; );\r\n\r\n    @Override\r\n    public boolean isExcluded(TypeElement typeElement) {\r\n        Name name = typeElement.getQualifiedName();\r\n        return name.length() != 0 &amp;&amp; ( JAVA_JAVAX_PACKAGE.matcher( name ).matches() ||\r\n            name.toString().equals( &quot;your.pkg.DefaultDto&quot; )||\r\n            name.toString().equals( &quot;your.pkg.DefaultEntity&quot; ) );\r\n    }\r\n}\r\n```\r\n\r\nTwo things should be pointed out here:\r\n\r\n- First, as the Mapstruct default implementation, your custom exclusion mapper should exclude all types under the `java` or `javax` packages. As indicated in the docs, this means that MapStruct will not try to generate an automatic sub-mapping method between some custom type and some type declared in the Java class library.\r\n- Second, as explained again in the [docs](https://mapstruct.org/documentation/stable/reference/html/#using-spi), to register the service your need to:\r\n&gt; To use a custom SPI implementation, it must be located in a separate JAR \r\n&gt; file together with a file named after the SPI (e.g. \r\n&gt; `org.mapstruct.ap.spi.AccessorNamingStrategy`) in `META-INF/services/` with \r\n&gt; the fully qualified name of your custom implementation as content (e.g. \r\n&gt; `org.mapstruct.example.CustomAccessorNamingStrategy`). This JAR file needs \r\n&gt; to be added to the annotation processor classpath (i.e. add it next to the \r\n&gt; place where you added the `mapstruct-processor` jar).\r\n\r\nIn your case it means to define a file named `org.mapstruct.ap.spi.MappingExclusionProvider` under `META-INF/services/` with the fully qualified name of your custom `MappingExclusionProvider`.\r\n","title":"Mapstruct: exclude all field by superclass","body":"<p>I don't know if it will work for your use case, because the solution is global, not specific to a certain mapping, but probably a good approach would be using a custom <code>MappingExclusionProvider</code>.</p>\n<p>The <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-exclusion-provider\" rel=\"nofollow noreferrer\">Mapstruct documentation</a> indicates:</p>\n<blockquote>\n<p>MapStruct offers the possibility to override the <code>MappingExclusionProvider</code>\nvia the Service Provider Interface (SPI). A nice example is to not allow\nMapStruct to create an automatic sub-mapping for a certain type, i.e.\nMapStruct will not try to generate an automatic sub-mapping method for an\nexcluded type.</p>\n</blockquote>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Pattern;\nimport javax.lang.model.element.Name;\nimport javax.lang.model.element.TypeElement;\n\nimport org.mapstruct.ap.spi.MappingExclusionProvider;\n\npublic class CustomMappingExclusionProvider implements MappingExclusionProvider {\n    private static final Pattern JAVA_JAVAX_PACKAGE = Pattern.compile( &quot;^javax?\\\\..*&quot; );\n\n    @Override\n    public boolean isExcluded(TypeElement typeElement) {\n        Name name = typeElement.getQualifiedName();\n        return name.length() != 0 &amp;&amp; ( JAVA_JAVAX_PACKAGE.matcher( name ).matches() ||\n            name.toString().equals( &quot;your.pkg.DefaultDto&quot; )||\n            name.toString().equals( &quot;your.pkg.DefaultEntity&quot; ) );\n    }\n}\n</code></pre>\n<p>Two things should be pointed out here:</p>\n<ul>\n<li>First, as the Mapstruct default implementation, your custom exclusion mapper should exclude all types under the <code>java</code> or <code>javax</code> packages. As indicated in the docs, this means that MapStruct will not try to generate an automatic sub-mapping method between some custom type and some type declared in the Java class library.</li>\n<li>Second, as explained again in the <a href=\"https://mapstruct.org/documentation/stable/reference/html/#using-spi\" rel=\"nofollow noreferrer\">docs</a>, to register the service your need to:</li>\n</ul>\n<blockquote>\n<p>To use a custom SPI implementation, it must be located in a separate JAR\nfile together with a file named after the SPI (e.g.\n<code>org.mapstruct.ap.spi.AccessorNamingStrategy</code>) in <code>META-INF/services/</code> with\nthe fully qualified name of your custom implementation as content (e.g.\n<code>org.mapstruct.example.CustomAccessorNamingStrategy</code>). This JAR file needs\nto be added to the annotation processor classpath (i.e. add it next to the\nplace where you added the <code>mapstruct-processor</code> jar).</p>\n</blockquote>\n<p>In your case it means to define a file named <code>org.mapstruct.ap.spi.MappingExclusionProvider</code> under <code>META-INF/services/</code> with the fully qualified name of your custom <code>MappingExclusionProvider</code>.</p>\n"},{"tags":[],"owner":{"account_id":17434662,"reputation":77,"user_id":12637910,"display_name":"Carlos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662462372,"creation_date":1662462372,"answer_id":73620990,"question_id":73499293,"body_markdown":"What about using `@BeforeMapping` and `@AfterMapping` hooks ? The map will be done anyways, so perhaps is not the best solution, but no exclusion seems possible due to mapstruct features on exclusion and your requirement about applying only to some converters, but mapping can be done with non conflicting, i.e. null or empty values if those values are modified in any of the hooks. Here an example, source from mapstruct doc: https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after\r\n\r\n    @Mapper\r\n    public abstract class VehicleMapper {\r\n        @BeforeMapping\r\n        protected void flushEntity(AbstractVehicle vehicle) {\r\n\r\n        }\r\n\r\n        @AfterMapping\r\n        protected void fillTank(AbstractVehicle vehicle, @MappingTarget AbstractVehicleDto result) {\r\n            result.fuelUp( new Fuel( vehicle.getTankCapacity(), vehicle.getFuelType() ) );\r\n        }\r\n\r\n        public abstract CarDto toCarDto(Car car);\r\n    }\r\n\r\n    // Generates something like this:\r\n    public class VehicleMapperImpl extends VehicleMapper {\r\n        public CarDto toCarDto(Car car) {\r\n            flushEntity( car );\r\n\r\n            if ( car == null ) {\r\n                return null;\r\n            }\r\n\r\n            CarDto carDto = new CarDto();\r\n            // attributes mapping ...\r\n\r\n            fillTank( car, carDto );\r\n\r\n            return carDto;\r\n        }\r\n    }","title":"Mapstruct: exclude all field by superclass","body":"<p>What about using <code>@BeforeMapping</code> and <code>@AfterMapping</code> hooks ? The map will be done anyways, so perhaps is not the best solution, but no exclusion seems possible due to mapstruct features on exclusion and your requirement about applying only to some converters, but mapping can be done with non conflicting, i.e. null or empty values if those values are modified in any of the hooks. Here an example, source from mapstruct doc: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after</a></p>\n<pre><code>@Mapper\npublic abstract class VehicleMapper {\n    @BeforeMapping\n    protected void flushEntity(AbstractVehicle vehicle) {\n\n    }\n\n    @AfterMapping\n    protected void fillTank(AbstractVehicle vehicle, @MappingTarget AbstractVehicleDto result) {\n        result.fuelUp( new Fuel( vehicle.getTankCapacity(), vehicle.getFuelType() ) );\n    }\n\n    public abstract CarDto toCarDto(Car car);\n}\n\n// Generates something like this:\npublic class VehicleMapperImpl extends VehicleMapper {\n    public CarDto toCarDto(Car car) {\n        flushEntity( car );\n\n        if ( car == null ) {\n            return null;\n        }\n\n        CarDto carDto = new CarDto();\n        // attributes mapping ...\n\n        fillTank( car, carDto );\n\n        return carDto;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5767684,"reputation":167,"user_id":4552105,"display_name":"Арсен Мирзаян"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1662462372,"creation_date":1661508191,"question_id":73499293,"body_markdown":"I have standard entities and dto&#39;s. \r\n\r\nEntities:\r\n\r\n```java\r\npublic class Type extends DefaultEntity {\r\n  int id;\r\n  String name\r\n  ...\r\n}\r\n            \r\npublic class Attribute extends DefaultEntity{\r\n  int id;\r\n  String name; \r\n  Type type;\r\n  ...\r\n}\r\n```\r\n\r\nand DTO&#39;s\r\n\r\n```java\r\npublic class TypeDto extends DefaultDto {\r\n  int id;\r\n  String name;\r\n  ...\r\n}\r\n        \r\npublic class AttributeDto extends DefaultDto{\r\n  int id;\r\n  String name; \r\n  TypeDto type;\r\n  ....\r\n}\r\n```\r\n\r\nwhen I create this `Mapper`:\r\n\r\n```java\r\n@Mapper\r\npublic interface AttributeDtoConverter {\r\n  AttributeDto convert(Attribute source);\r\n}\r\n```\r\n\r\nMapstruct generates:\r\n\r\n```java\r\npublic class AttributeDtoConverterImpl implements AttributeDtoConverter {\r\n    \r\n  @Override\r\n  public AttributeDto convert(Attribute source) {\r\n    if ( source == null ) {\r\n        return null;\r\n    }\r\n\r\n    AttributeDto attributeDto = new AttributeDto();\r\n\r\n    attributeDto.setId( source.getId() );\r\n    attributeDto.setName( source.getName() );\r\n    attributeDto.setCode( source.getCode() );\r\n    attributeDto.setType( typeToTypeDto( source.getType() ) );\r\n\r\n    return attributeDto;\r\n  }\r\n\r\n  // Here is the problem\r\n  protected TypeDto typeToTypeDto(Type type) {\r\n    if ( type== null ) {\r\n        return null;\r\n    }\r\n\r\n    TypeDto dictionaryDto = new TypeDto();\r\n\r\n    typeDto.setId( type.getId() );\r\n    typeDto.setName( type.getName() );\r\n\r\n    return typeDto;\r\n  }\r\n}\r\n```\r\n\r\nI want to exclude from mapping all properties of target object if they are subclasses of `DefaultDto` (or exclude all properties of source object if they are subclasses of `DefaultEntity`). \r\n\r\nI know I can exclude every property by name `@Mapping(target=&quot;type&quot;, ignore=true)`, but for large classes with much more dependencies it will we very annoying. And changing model with this approach becomes hell. \r\n\r\nCan I somehow exclude all properties by their superclass? \r\n\r\n**Update** \r\nI tried `@Condition`:\r\n\r\n```java\r\n@Mapper\r\npublic interface AttributeDtoConverter {\r\n  AttributeDto convert(Attribute source);\r\n\r\n  @Condition\r\n  default boolean needToMap(Object value){\r\n    return ! (value instanceof DefaultDto || value instanceof DefaultEntity);\r\n  }\r\n}\r\n```\r\n\r\nIt works but I don&#39;t like how the generated code looks like:\r\n\r\n```java\r\npublic class AttributeDtoConverterImpl implements AttributeDtoConverter {\r\n    \r\n    @Override\r\n    public AttributeDto convert(Attribute source) {\r\n        if ( source == null ) {\r\n            return null;\r\n        }\r\n\r\n        AttributeDto attributeDto = new AttributeDto();\r\n\r\n        if ( needToMap( attributeDto.getId() ) ) {\r\n          attributeDto.setId( source.getId() );\r\n        }\r\n        \r\n          if ( needToMap( attributeDto.getName() ) ) {\r\n            attributeDto.setName( source.getName() );\r\n        }\r\n        if ( needToMap( attributeDto.getCode() ) ) {\r\n          attributeDto.setCode( source.getCode() );\r\n        }\r\n        if ( needToMap( attributeDto.getType() ) ) {\r\n          attributeDto.setType( typeToTypeDto( source.getType() ) );\r\n        }\r\n\r\n        return attributeDto;\r\n    }\r\n...\r\n}\r\n```\r\n\r\n","title":"Mapstruct: exclude all field by superclass","body":"<p>I have standard entities and dto's.</p>\n<p>Entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Type extends DefaultEntity {\n  int id;\n  String name\n  ...\n}\n            \npublic class Attribute extends DefaultEntity{\n  int id;\n  String name; \n  Type type;\n  ...\n}\n</code></pre>\n<p>and DTO's</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TypeDto extends DefaultDto {\n  int id;\n  String name;\n  ...\n}\n        \npublic class AttributeDto extends DefaultDto{\n  int id;\n  String name; \n  TypeDto type;\n  ....\n}\n</code></pre>\n<p>when I create this <code>Mapper</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface AttributeDtoConverter {\n  AttributeDto convert(Attribute source);\n}\n</code></pre>\n<p>Mapstruct generates:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AttributeDtoConverterImpl implements AttributeDtoConverter {\n    \n  @Override\n  public AttributeDto convert(Attribute source) {\n    if ( source == null ) {\n        return null;\n    }\n\n    AttributeDto attributeDto = new AttributeDto();\n\n    attributeDto.setId( source.getId() );\n    attributeDto.setName( source.getName() );\n    attributeDto.setCode( source.getCode() );\n    attributeDto.setType( typeToTypeDto( source.getType() ) );\n\n    return attributeDto;\n  }\n\n  // Here is the problem\n  protected TypeDto typeToTypeDto(Type type) {\n    if ( type== null ) {\n        return null;\n    }\n\n    TypeDto dictionaryDto = new TypeDto();\n\n    typeDto.setId( type.getId() );\n    typeDto.setName( type.getName() );\n\n    return typeDto;\n  }\n}\n</code></pre>\n<p>I want to exclude from mapping all properties of target object if they are subclasses of <code>DefaultDto</code> (or exclude all properties of source object if they are subclasses of <code>DefaultEntity</code>).</p>\n<p>I know I can exclude every property by name <code>@Mapping(target=&quot;type&quot;, ignore=true)</code>, but for large classes with much more dependencies it will we very annoying. And changing model with this approach becomes hell.</p>\n<p>Can I somehow exclude all properties by their superclass?</p>\n<p><strong>Update</strong>\nI tried <code>@Condition</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface AttributeDtoConverter {\n  AttributeDto convert(Attribute source);\n\n  @Condition\n  default boolean needToMap(Object value){\n    return ! (value instanceof DefaultDto || value instanceof DefaultEntity);\n  }\n}\n</code></pre>\n<p>It works but I don't like how the generated code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AttributeDtoConverterImpl implements AttributeDtoConverter {\n    \n    @Override\n    public AttributeDto convert(Attribute source) {\n        if ( source == null ) {\n            return null;\n        }\n\n        AttributeDto attributeDto = new AttributeDto();\n\n        if ( needToMap( attributeDto.getId() ) ) {\n          attributeDto.setId( source.getId() );\n        }\n        \n          if ( needToMap( attributeDto.getName() ) ) {\n            attributeDto.setName( source.getName() );\n        }\n        if ( needToMap( attributeDto.getCode() ) ) {\n          attributeDto.setCode( source.getCode() );\n        }\n        if ( needToMap( attributeDto.getType() ) ) {\n          attributeDto.setType( typeToTypeDto( source.getType() ) );\n        }\n\n        return attributeDto;\n    }\n...\n}\n</code></pre>\n"},{"tags":["java","exception","servlets","jdbc","jakarta-ee"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1662440820,"post_id":73616743,"comment_id":129999364,"body_markdown":"`connection()` is within the try, so it will be caught and printed.  But, if an Exception is thrown, you are not closing your connection.","body":"<code>connection()</code> is within the try, so it will be caught and printed.  But, if an Exception is thrown, you are not closing your connection."},{"owner":{"account_id":6129341,"reputation":25,"user_id":4780131,"display_name":"Strannngahhhh"},"score":0,"creation_date":1662441377,"post_id":73616743,"comment_id":129999446,"body_markdown":"@ScaryWombat It can be fixed by adding &quot;finally&quot; and writing connection close there, if I&#39;m not wrong?","body":"@ScaryWombat It can be fixed by adding &quot;finally&quot; and writing connection close there, if I&#39;m not wrong?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1662445788,"post_id":73616743,"comment_id":130000347,"body_markdown":"Yep, but I think that `Connection` implements autoCloseable, so just use a try-with-resources.","body":"Yep, but I think that <code>Connection</code> implements autoCloseable, so just use a try-with-resources."}],"owner":{"account_id":6129341,"reputation":25,"user_id":4780131,"display_name":"Strannngahhhh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662462241,"answer_count":0,"score":0,"last_activity_date":1662462283,"creation_date":1662438799,"question_id":73616743,"body_markdown":"Is it good practice to handle exception like this? Or there is any better alternative way to do it?\r\nThe code works fine but I feel that not all the Exceptions of getAllGrades() method will be shown because of throws added infront of connection(). \r\nPlease correct me if I&#39;m wrong. \r\n```\r\npackage DAO;\r\n\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class StudentDAO {\r\n\tstatic Connection con;\r\n\tstatic PreparedStatement stmt;\r\n\tstatic ResultSet rs;\r\n\tpublic static void connection() throws Exception {\r\n\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t\tcon = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:xe&quot;, &quot;xxx&quot;, &quot;yyy&quot;);\r\n\t}\r\n\tpublic static ArrayList&lt;String&gt; getAllGrades() {\r\n\t\ttry {\r\n\t\t\tconnection();\r\n\t\t\tstmt=con.prepareStatement(&quot;SELECT DISTINCT grade from student&quot;);\r\n\t\t\trs=stmt.executeQuery();\r\n\t\t\tArrayList&lt;String&gt; grades=new ArrayList&lt;String&gt;();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tgrades.add(rs.getString(1));\r\n\t\t\t}\r\n\t\t\tcon.close();\r\n\t\t\treturn grades;\r\n\t\t}\r\n\t\tcatch(SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\t\t\r\n\t}\r\n}\r\n```","title":"JEE Servlet SQLException practice","body":"<p>Is it good practice to handle exception like this? Or there is any better alternative way to do it?\nThe code works fine but I feel that not all the Exceptions of getAllGrades() method will be shown because of throws added infront of connection().\nPlease correct me if I'm wrong.</p>\n<pre><code>package DAO;\n\nimport java.sql.*;\nimport java.util.ArrayList;\n\npublic class StudentDAO {\n    static Connection con;\n    static PreparedStatement stmt;\n    static ResultSet rs;\n    public static void connection() throws Exception {\n        Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n        con = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:xe&quot;, &quot;xxx&quot;, &quot;yyy&quot;);\n    }\n    public static ArrayList&lt;String&gt; getAllGrades() {\n        try {\n            connection();\n            stmt=con.prepareStatement(&quot;SELECT DISTINCT grade from student&quot;);\n            rs=stmt.executeQuery();\n            ArrayList&lt;String&gt; grades=new ArrayList&lt;String&gt;();\n            while(rs.next()) {\n                grades.add(rs.getString(1));\n            }\n            con.close();\n            return grades;\n        }\n        catch(SQLException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;        \n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-viewpager"],"answers":[{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626405168,"creation_date":1626405168,"answer_id":68402971,"question_id":68402527,"body_markdown":"About the recyclerview filter data:\r\n\r\n1. could make your class CustomerAdapter implements Filterable \r\n\r\nlike :\r\n\r\n    class Adapter extends RecyclerView.Adapter implements Filterable {\r\n        ......    \r\n        @Override\r\n        public Filter getFilter() {\r\n            return new Filter() {\r\n                @Override\r\n                protected FilterResults performFiltering(CharSequence constraint) {\r\n                    return ...;\r\n                }\r\n\r\n                @Override\r\n                protected void publishResults(CharSequence constraint, FilterResults results) {\r\n\r\n                }\r\n            };\r\n        }\r\n    }    \r\n\r\n2. could also refer this：https://github.com/xaverkapeller/Searchable-RecyclerView-Demo\r\n\r\nAbout how to do this in selected viewpager fragment , you just need to invoke the search method of the current fragment.","title":"How can filter recyclerview in selected viewpager fragment on search?","body":"<p>About the recyclerview filter data:</p>\n<ol>\n<li>could make your class CustomerAdapter implements Filterable</li>\n</ol>\n<p>like :</p>\n<pre><code>class Adapter extends RecyclerView.Adapter implements Filterable {\n    ......    \n    @Override\n    public Filter getFilter() {\n        return new Filter() {\n            @Override\n            protected FilterResults performFiltering(CharSequence constraint) {\n                return ...;\n            }\n\n            @Override\n            protected void publishResults(CharSequence constraint, FilterResults results) {\n\n            }\n        };\n    }\n}    \n</code></pre>\n<ol start=\"2\">\n<li>could also refer this：https://github.com/xaverkapeller/Searchable-RecyclerView-Demo</li>\n</ol>\n<p>About how to do this in selected viewpager fragment , you just need to invoke the search method of the current fragment.</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626494755,"creation_date":1626406515,"answer_id":68403095,"question_id":68402527,"body_markdown":"&gt; the Searchview can place on activity which is common for all fragments, will be better in my case.\r\n\r\nThis is right.\r\n\r\n&gt; I tried several ways but was failed. My search was resulting always only in last tab (Paid). \r\n\r\nSo, I&#39;m assuming that the issue now isn&#39;t in the filtering itself, but that it always returns the results of the last tab; and therefore you probably didn&#39;t provide the filtering code for such a reason.\r\n\r\n\r\nNow we&#39;ve 3 tabs in the `ViewPager`, each represents a fragment; So we need to get the current selected fragment of the `ViewPager` in order to allow the activity send it the searched text.\r\n\r\n\r\n**To get the current fragment from ViewPager (Your case):**\r\n\r\n```\r\nViewPagerFragment currentFragment = (ViewPagerFragment) mViewPagerAdapter.instantiateItem(viewPager, viewPager.getCurrentItem());\r\n```\r\n\r\n\r\n**To get the current fragment from ViewPager2:**\r\n\r\nThe ViewPager has `getCurrentItem()` which returns the current page number\r\nSo, we need to link the each page fragment to the page number.\r\n\r\nBut we can get a ViewPager fragment by its id (item id), so the first step is to have page Ids that equals to the corresponding position, to do so override `getItemId` in the ViewPager adapter.\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\nThen in the activity filtering part assuming you are searching for a String that is in a var named `seachString`:\r\n\r\n```\r\nint pageId = viewpager.getCurrentItem();\r\n\r\nFragment currentFragment = (ViewPagerFragment) getChildFragmentManager()\r\n                                              .findFragmentByTag(&quot;f&quot; + pageId);\r\n```\r\n\r\nThen after getting the current fragment, create some method in it that accepts a String parameter for the searched value:\r\n\r\nSo, in `ViewPagerFragment`, create:\r\n```\r\npublic void searchFor(String search) {\r\n    // filter the results of the RecyclerView\r\n}\r\n```\r\n\r\nAnd call that method on the current fragment of the ViewPager in the activity:\r\n```\r\ncurrentFragment.searchFor(seachString);\r\n```","title":"How can filter recyclerview in selected viewpager fragment on search?","body":"<blockquote>\n<p>the Searchview can place on activity which is common for all fragments, will be better in my case.</p>\n</blockquote>\n<p>This is right.</p>\n<blockquote>\n<p>I tried several ways but was failed. My search was resulting always only in last tab (Paid).</p>\n</blockquote>\n<p>So, I'm assuming that the issue now isn't in the filtering itself, but that it always returns the results of the last tab; and therefore you probably didn't provide the filtering code for such a reason.</p>\n<p>Now we've 3 tabs in the <code>ViewPager</code>, each represents a fragment; So we need to get the current selected fragment of the <code>ViewPager</code> in order to allow the activity send it the searched text.</p>\n<p><strong>To get the current fragment from ViewPager (Your case):</strong></p>\n<pre><code>ViewPagerFragment currentFragment = (ViewPagerFragment) mViewPagerAdapter.instantiateItem(viewPager, viewPager.getCurrentItem());\n</code></pre>\n<p><strong>To get the current fragment from ViewPager2:</strong></p>\n<p>The ViewPager has <code>getCurrentItem()</code> which returns the current page number\nSo, we need to link the each page fragment to the page number.</p>\n<p>But we can get a ViewPager fragment by its id (item id), so the first step is to have page Ids that equals to the corresponding position, to do so override <code>getItemId</code> in the ViewPager adapter.</p>\n<pre><code>@Override\npublic long getItemId(int position) {\n    return position;\n}\n</code></pre>\n<p>Then in the activity filtering part assuming you are searching for a String that is in a var named <code>seachString</code>:</p>\n<pre><code>int pageId = viewpager.getCurrentItem();\n\nFragment currentFragment = (ViewPagerFragment) getChildFragmentManager()\n                                              .findFragmentByTag(&quot;f&quot; + pageId);\n</code></pre>\n<p>Then after getting the current fragment, create some method in it that accepts a String parameter for the searched value:</p>\n<p>So, in <code>ViewPagerFragment</code>, create:</p>\n<pre><code>public void searchFor(String search) {\n    // filter the results of the RecyclerView\n}\n</code></pre>\n<p>And call that method on the current fragment of the ViewPager in the activity:</p>\n<pre><code>currentFragment.searchFor(seachString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5296408,"reputation":98,"user_id":4227474,"display_name":"Koyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626431248,"creation_date":1626430884,"answer_id":68407388,"question_id":68402527,"body_markdown":"At last I succeeded, I think it is not very professional but it is working fine. To help some one suffering I am sharing that here.\r\n\r\n**Firstly I added tabScrollingListener to get the selected fragment  in MainActivity**\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity{\r\n\r\n..........\r\n  private ViewPagerFragment selectedFragment;\r\n\r\n  private void initializeTab(){\r\n\r\n    mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\r\n\r\n    viewPager = (MyViewPager) findViewById(R.id.view_pager);\r\n    viewPager.setOffscreenPageLimit(5);\r\n    viewPager.setAdapter(mSectionsPagerAdapter);\r\n\r\n    tabLayout = (SmartTabLayout) findViewById(R.id.tabs);\r\n    tabLayout.setViewPager(viewPager);\r\n    viewPager.setPagingEnabled(true);\r\n    viewPager.setCurrentItem(0);\r\n\r\n    tabLayout.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {\r\n        @Override\r\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n                selectedFragment = (ViewPagerFragment) mSectionsPagerAdapter.getCurrentFragment();\r\n            }\r\n\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onPageScrollStateChanged(int state) {\r\n\r\n            }\r\n     });\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n**Then I transferred my filter function to Fragment like mentioned in Zain&#39;s answer**. As I am using ListAdapter for my recycler it&#39;s easy to submit my filter list to adapter. I loaded my filter list on loadData function.\r\n\r\n```\r\npublic class ViewPagerFragment extends AbstractFragment {\r\n  ............\r\n private List&lt;Customers&gt; filterList;\r\n\r\n public static ViewPagerFragment newInstance(String title) {\r\n   ViewPagerFragment fragment = new ViewPagerFragment();\r\n   Bundle args = new Bundle();\r\n   args.putString(&quot;TITLE&quot;,title);\r\n   fragment.setArguments(args);\r\n   return fragment;\r\n }\r\n @Override\r\n public void onViewCreated(final View view, Bundle savedInstanceState) {\r\n   swipeLayout = (SwipeRefreshLayout) view.findViewById(R.id.swipeToRefresh);\r\n\r\n   recycler = (RecyclerView) view.findViewById(R.id.recycler);\r\n   adapter = new CustomerAdapter(getContext());\r\n   recycler.setLayoutManager(new LinearLayoutManager(getContext()));\r\n   recycler.setHasFixedSize(true);\r\n   recycler.addItemDecoration(new ItemDecoration(1,false, dpToPx(0),true,2));\r\n   recycler.setItemAnimator(new DefaultItemAnimator());\r\n   recycler.setAdapter(adapter);\r\n   changeFragment(swipeLayout);\r\n }\r\n\r\n public void changeFragment(final SwipeRefreshLayout swipeLayout){\r\n\r\n        final String tab = getArguments().getString(&quot;TITLE&quot;);\r\n\r\n        loadDatas(allRecords,tab);\r\n\r\n        swipeLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh() {\r\n                swipeLayout.setRefreshing(true);\r\n                utils.getDetails(getContext());\r\n                utils.setOnDataLoaded(new MyUtils.DataLoadingListener() {\r\n                    @Override\r\n                    public void onDataLoaded(ArrayList&lt;Customers&gt; list) {\r\n                        loadDatas(list, tab);\r\n                        swipeLayout.setRefreshing(false);\r\n                    }\r\n\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n\r\n        // Scheme colors for animation\r\n        swipeLayout.setColorSchemeColors(\r\n                getResources().getColor(android.R.color.holo_blue_bright),\r\n                getResources().getColor(android.R.color.holo_green_light),\r\n                getResources().getColor(android.R.color.holo_orange_light),\r\n                getResources().getColor(android.R.color.holo_red_light)\r\n        );\r\n  }\r\n\r\n  void loadDatas(List&lt;Customers&gt; list, String tab){\r\n\r\n        if (list != null &amp;&amp; list.size() &gt; 0) {\r\n            List&lt;Customers&gt; tabList = new ArrayList&lt;&gt;();\r\n\r\n            if (tab.equals(&quot;All&quot;)) {\r\n                tabList = list;\r\n            }else {\r\n                for (Customers item : list) {\r\n                    if (item.getStatus().equals(tab)) {\r\n                        tabList.add(item);\r\n                    }else {\r\n                       Log.d(TAG, &quot;loadDatas: &quot;+item.getStatus());\r\n                    }\r\n                }\r\n            }\r\n            filterList = tabList; // this fills filter list\r\n            adapter.submitList(tabList);\r\n        }\r\n    }\r\n\r\n}\r\n\r\npublic void filter(String text, String filter) {\r\n\r\n        ArrayList&lt;Customers&gt; filteredlist = new ArrayList&lt;&gt;();\r\n\r\n        // running a for loop to compare elements.\r\n        if (filterList != null &amp;&amp; filterList.size() &gt; 0) {\r\n            if (text.length() &gt; 0) {\r\n                for (Customers item : filterList) {\r\n                   // here filter options gone\r\n                }\r\n            }else {\r\n                filteredlist.addAll(filterList);\r\n            }\r\n        }\r\n        adapter.submitList(filteredlist);\r\n\r\n}\r\n```\r\n\r\n**Yea, Now I got currentSelectedFragment with filter function in MainActivity**\r\nIn searchListener I can call it like selectedFragment.filter(query).\r\n\r\n```\r\n       searchview.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n\r\n                selectedFragment.filter(newText); // search filter here\r\n\r\n                return true;\r\n            }\r\n        });\r\n```","title":"How can filter recyclerview in selected viewpager fragment on search?","body":"<p>At last I succeeded, I think it is not very professional but it is working fine. To help some one suffering I am sharing that here.</p>\n<p><strong>Firstly I added tabScrollingListener to get the selected fragment  in MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity{\n\n..........\n  private ViewPagerFragment selectedFragment;\n\n  private void initializeTab(){\n\n    mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\n\n    viewPager = (MyViewPager) findViewById(R.id.view_pager);\n    viewPager.setOffscreenPageLimit(5);\n    viewPager.setAdapter(mSectionsPagerAdapter);\n\n    tabLayout = (SmartTabLayout) findViewById(R.id.tabs);\n    tabLayout.setViewPager(viewPager);\n    viewPager.setPagingEnabled(true);\n    viewPager.setCurrentItem(0);\n\n    tabLayout.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n        @Override\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n                selectedFragment = (ViewPagerFragment) mSectionsPagerAdapter.getCurrentFragment();\n            }\n\n            @Override\n            public void onPageSelected(int position) {\n\n            }\n\n            @Override\n            public void onPageScrollStateChanged(int state) {\n\n            }\n     });\n\n  }\n\n}\n</code></pre>\n<p><strong>Then I transferred my filter function to Fragment like mentioned in Zain's answer</strong>. As I am using ListAdapter for my recycler it's easy to submit my filter list to adapter. I loaded my filter list on loadData function.</p>\n<pre><code>public class ViewPagerFragment extends AbstractFragment {\n  ............\n private List&lt;Customers&gt; filterList;\n\n public static ViewPagerFragment newInstance(String title) {\n   ViewPagerFragment fragment = new ViewPagerFragment();\n   Bundle args = new Bundle();\n   args.putString(&quot;TITLE&quot;,title);\n   fragment.setArguments(args);\n   return fragment;\n }\n @Override\n public void onViewCreated(final View view, Bundle savedInstanceState) {\n   swipeLayout = (SwipeRefreshLayout) view.findViewById(R.id.swipeToRefresh);\n\n   recycler = (RecyclerView) view.findViewById(R.id.recycler);\n   adapter = new CustomerAdapter(getContext());\n   recycler.setLayoutManager(new LinearLayoutManager(getContext()));\n   recycler.setHasFixedSize(true);\n   recycler.addItemDecoration(new ItemDecoration(1,false, dpToPx(0),true,2));\n   recycler.setItemAnimator(new DefaultItemAnimator());\n   recycler.setAdapter(adapter);\n   changeFragment(swipeLayout);\n }\n\n public void changeFragment(final SwipeRefreshLayout swipeLayout){\n\n        final String tab = getArguments().getString(&quot;TITLE&quot;);\n\n        loadDatas(allRecords,tab);\n\n        swipeLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @Override\n            public void onRefresh() {\n                swipeLayout.setRefreshing(true);\n                utils.getDetails(getContext());\n                utils.setOnDataLoaded(new MyUtils.DataLoadingListener() {\n                    @Override\n                    public void onDataLoaded(ArrayList&lt;Customers&gt; list) {\n                        loadDatas(list, tab);\n                        swipeLayout.setRefreshing(false);\n                    }\n\n                });\n\n            }\n        });\n\n\n        // Scheme colors for animation\n        swipeLayout.setColorSchemeColors(\n                getResources().getColor(android.R.color.holo_blue_bright),\n                getResources().getColor(android.R.color.holo_green_light),\n                getResources().getColor(android.R.color.holo_orange_light),\n                getResources().getColor(android.R.color.holo_red_light)\n        );\n  }\n\n  void loadDatas(List&lt;Customers&gt; list, String tab){\n\n        if (list != null &amp;&amp; list.size() &gt; 0) {\n            List&lt;Customers&gt; tabList = new ArrayList&lt;&gt;();\n\n            if (tab.equals(&quot;All&quot;)) {\n                tabList = list;\n            }else {\n                for (Customers item : list) {\n                    if (item.getStatus().equals(tab)) {\n                        tabList.add(item);\n                    }else {\n                       Log.d(TAG, &quot;loadDatas: &quot;+item.getStatus());\n                    }\n                }\n            }\n            filterList = tabList; // this fills filter list\n            adapter.submitList(tabList);\n        }\n    }\n\n}\n\npublic void filter(String text, String filter) {\n\n        ArrayList&lt;Customers&gt; filteredlist = new ArrayList&lt;&gt;();\n\n        // running a for loop to compare elements.\n        if (filterList != null &amp;&amp; filterList.size() &gt; 0) {\n            if (text.length() &gt; 0) {\n                for (Customers item : filterList) {\n                   // here filter options gone\n                }\n            }else {\n                filteredlist.addAll(filterList);\n            }\n        }\n        adapter.submitList(filteredlist);\n\n}\n</code></pre>\n<p><strong>Yea, Now I got currentSelectedFragment with filter function in MainActivity</strong>\nIn searchListener I can call it like selectedFragment.filter(query).</p>\n<pre><code>       searchview.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n\n                selectedFragment.filter(newText); // search filter here\n\n                return true;\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11100085,"reputation":1,"user_id":8149009,"display_name":"Vasuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662462146,"creation_date":1662462146,"answer_id":73620931,"question_id":68402527,"body_markdown":"    Follow the below step to find the clicked tab, \r\n    \r\n    First add tab select listener \r\n        \r\n        tabLayout.addOnTabSelectedListener(object:TabLayout.OnTabSelectedListener{\r\n        override fun onTabSelected(tab: TabLayout.Tab?) {\r\n           selectedFragment= fragmentViewPagerAdapter!!.fragments[tab!!.position]\r\n        }\r\n        override fun onTabUnselected(tab: TabLayout.Tab?) {\r\n    //               enter code here\r\n                }\r\n        override fun onTabReselected(tab: TabLayout.Tab?) {\r\n    //               enter code here\r\n                }\r\n            }) \r\n    \r\n    and then  setupWithViewPager \r\n            tabLayout.setupWithViewPager(viewPager)\r\n      ","title":"How can filter recyclerview in selected viewpager fragment on search?","body":"<pre><code>Follow the below step to find the clicked tab, \n\nFirst add tab select listener \n    \n    tabLayout.addOnTabSelectedListener(object:TabLayout.OnTabSelectedListener{\n    override fun onTabSelected(tab: TabLayout.Tab?) {\n       selectedFragment= fragmentViewPagerAdapter!!.fragments[tab!!.position]\n    }\n    override fun onTabUnselected(tab: TabLayout.Tab?) {\n//               enter code here\n            }\n    override fun onTabReselected(tab: TabLayout.Tab?) {\n//               enter code here\n            }\n        }) \n\nand then  setupWithViewPager \n        tabLayout.setupWithViewPager(viewPager)\n  \n</code></pre>\n"}],"owner":{"account_id":5296408,"reputation":98,"user_id":4227474,"display_name":"Koyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68403095,"answer_count":4,"score":2,"last_activity_date":1662462146,"creation_date":1626399917,"question_id":68402527,"body_markdown":"I have 3 tab fragments in viewpager with tabs. All tabs have recyclerview with ListAdapter showing customers list. Each tab represents 1) all customers 2) New ordered customers 3) Paid customers. I want to set search filter only **on tab selected fragment**. If the Searchview can place on activity which is common for all fragments, will be better in my case. I tried several ways but was failed. My search was resulting always only in last tab (Paid). Please can any one help me with full example of code ?\r\n\r\nAnd my MainActivity\r\n\r\n```\r\nprivate void initializeTab(){\r\n\r\n   mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\r\n\r\n   viewPager = (MyViewPager) findViewById(R.id.view_pager);\r\n   viewPager.setOffscreenPageLimit(5);\r\n   viewPager.setAdapter(mSectionsPagerAdapter);\r\n\r\n   tabLayout = (SmartTabLayout) findViewById(R.id.tabs);\r\n   tabLayout.setViewPager(viewPager);\r\n   viewPager.setPagingEnabled(true);\r\n\r\n}\r\n\r\nprivate class SectionsPagerAdapter extends FragmentStatePagerAdapter {\r\n\r\n  protected int currentPosition = -1;\r\n  protected Fragment currentFragment;\r\n\r\n  public SectionsPagerAdapter(FragmentManager fm) {\r\n     super(fm,BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\r\n  }\r\n\r\n  @Override\r\n  public Fragment getItem(int position) {\r\n\r\n    return ViewPagerFragment.newInstance(getPageTitle(position)+&quot;&quot;);\r\n  }\r\n\r\n  @Override\r\n  public int getCount() {\r\n    // Show 3 total pages.\r\n    return 3;\r\n  }\r\n\r\n  @Override\r\n  public CharSequence getPageTitle(int position) {\r\n    switch (position) {\r\n       case 0:\r\n         return &quot;All&quot;;\r\n       case 1:\r\n         return &quot;New&quot;;\r\n       case 2:\r\n         return &quot;Paid&quot;;\r\n    }\r\n       return null;\r\n }\r\n\r\n @Override\r\n public void setPrimaryItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\r\n   super.setPrimaryItem(container, position, object);\r\n   this.currentPosition = position;\r\n   if (object instanceof Fragment){\r\n      this.currentFragment = (Fragment)object;\r\n   }\r\n }\r\n\r\n public Fragment getCurrentFragment() {\r\n   return currentFragment;\r\n }\r\n\r\n public void setCurrentFragment(Fragment currentFragment) {\r\n    this.currentFragment = currentFragment;\r\n }\r\n}\r\n\r\n```\r\n\r\nand my Fragment\r\n\r\n```\r\npublic class ViewPagerFragment extends AbstractFragment {\r\n  ............\r\n public static ViewPagerFragment newInstance(String title) {\r\n   ViewPagerFragment fragment = new ViewPagerFragment();\r\n   Bundle args = new Bundle();\r\n   args.putString(&quot;TITLE&quot;,title);\r\n   fragment.setArguments(args);\r\n   return fragment;\r\n }\r\n @Override\r\n public void onViewCreated(final View view, Bundle savedInstanceState) {\r\n   swipeLayout = (SwipeRefreshLayout) view.findViewById(R.id.swipeToRefresh);\r\n\r\n   recycler = (RecyclerView) view.findViewById(R.id.recycler);\r\n   adapter = new CustomerAdapter(getContext());\r\n   recycler.setLayoutManager(new LinearLayoutManager(getContext()));\r\n   recycler.setHasFixedSize(true);\r\n   recycler.addItemDecoration(new ItemDecoration(1,false, dpToPx(0),true,2));\r\n   recycler.setItemAnimator(new DefaultItemAnimator());\r\n   recycler.setAdapter(adapter);\r\n   changeFragment(swipeLayout);\r\n }\r\n\r\n public void changeFragment(final SwipeRefreshLayout swipeLayout){\r\n\r\n        final String tab = getArguments().getString(&quot;TITLE&quot;);\r\n\r\n        loadDatas(allRecords,tab);\r\n\r\n        swipeLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh() {\r\n                swipeLayout.setRefreshing(true);\r\n                utils.getDetails(getContext());\r\n                utils.setOnDataLoaded(new MyUtils.DataLoadingListener() {\r\n                    @Override\r\n                    public void onDataLoaded(ArrayList&lt;Customers&gt; list) {\r\n                        loadDatas(list, tab);\r\n                        swipeLayout.setRefreshing(false);\r\n                    }\r\n\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n\r\n        // Scheme colors for animation\r\n        swipeLayout.setColorSchemeColors(\r\n                getResources().getColor(android.R.color.holo_blue_bright),\r\n                getResources().getColor(android.R.color.holo_green_light),\r\n                getResources().getColor(android.R.color.holo_orange_light),\r\n                getResources().getColor(android.R.color.holo_red_light)\r\n        );\r\n  }\r\n\r\n  void loadDatas(List&lt;Customers&gt; list, String tab){\r\n\r\n        if (list != null &amp;&amp; list.size() &gt; 0) {\r\n            List&lt;Customers&gt; tabList = new ArrayList&lt;&gt;();\r\n\r\n            if (tab.equals(&quot;All&quot;)) {\r\n                tabList = list;\r\n            }else {\r\n                for (Customers item : list) {\r\n                    if (item.getStatus().equals(tab)) {\r\n                        tabList.add(item);\r\n                    }else {\r\n                       Log.d(TAG, &quot;loadDatas: &quot;+item.getStatus());\r\n                    }\r\n                }\r\n            }\r\n            adapter.submitList(tabList);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How can filter recyclerview in selected viewpager fragment on search?","body":"<p>I have 3 tab fragments in viewpager with tabs. All tabs have recyclerview with ListAdapter showing customers list. Each tab represents 1) all customers 2) New ordered customers 3) Paid customers. I want to set search filter only <strong>on tab selected fragment</strong>. If the Searchview can place on activity which is common for all fragments, will be better in my case. I tried several ways but was failed. My search was resulting always only in last tab (Paid). Please can any one help me with full example of code ?</p>\n<p>And my MainActivity</p>\n<pre><code>private void initializeTab(){\n\n   mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\n\n   viewPager = (MyViewPager) findViewById(R.id.view_pager);\n   viewPager.setOffscreenPageLimit(5);\n   viewPager.setAdapter(mSectionsPagerAdapter);\n\n   tabLayout = (SmartTabLayout) findViewById(R.id.tabs);\n   tabLayout.setViewPager(viewPager);\n   viewPager.setPagingEnabled(true);\n\n}\n\nprivate class SectionsPagerAdapter extends FragmentStatePagerAdapter {\n\n  protected int currentPosition = -1;\n  protected Fragment currentFragment;\n\n  public SectionsPagerAdapter(FragmentManager fm) {\n     super(fm,BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\n  }\n\n  @Override\n  public Fragment getItem(int position) {\n\n    return ViewPagerFragment.newInstance(getPageTitle(position)+&quot;&quot;);\n  }\n\n  @Override\n  public int getCount() {\n    // Show 3 total pages.\n    return 3;\n  }\n\n  @Override\n  public CharSequence getPageTitle(int position) {\n    switch (position) {\n       case 0:\n         return &quot;All&quot;;\n       case 1:\n         return &quot;New&quot;;\n       case 2:\n         return &quot;Paid&quot;;\n    }\n       return null;\n }\n\n @Override\n public void setPrimaryItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\n   super.setPrimaryItem(container, position, object);\n   this.currentPosition = position;\n   if (object instanceof Fragment){\n      this.currentFragment = (Fragment)object;\n   }\n }\n\n public Fragment getCurrentFragment() {\n   return currentFragment;\n }\n\n public void setCurrentFragment(Fragment currentFragment) {\n    this.currentFragment = currentFragment;\n }\n}\n\n</code></pre>\n<p>and my Fragment</p>\n<pre><code>public class ViewPagerFragment extends AbstractFragment {\n  ............\n public static ViewPagerFragment newInstance(String title) {\n   ViewPagerFragment fragment = new ViewPagerFragment();\n   Bundle args = new Bundle();\n   args.putString(&quot;TITLE&quot;,title);\n   fragment.setArguments(args);\n   return fragment;\n }\n @Override\n public void onViewCreated(final View view, Bundle savedInstanceState) {\n   swipeLayout = (SwipeRefreshLayout) view.findViewById(R.id.swipeToRefresh);\n\n   recycler = (RecyclerView) view.findViewById(R.id.recycler);\n   adapter = new CustomerAdapter(getContext());\n   recycler.setLayoutManager(new LinearLayoutManager(getContext()));\n   recycler.setHasFixedSize(true);\n   recycler.addItemDecoration(new ItemDecoration(1,false, dpToPx(0),true,2));\n   recycler.setItemAnimator(new DefaultItemAnimator());\n   recycler.setAdapter(adapter);\n   changeFragment(swipeLayout);\n }\n\n public void changeFragment(final SwipeRefreshLayout swipeLayout){\n\n        final String tab = getArguments().getString(&quot;TITLE&quot;);\n\n        loadDatas(allRecords,tab);\n\n        swipeLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @Override\n            public void onRefresh() {\n                swipeLayout.setRefreshing(true);\n                utils.getDetails(getContext());\n                utils.setOnDataLoaded(new MyUtils.DataLoadingListener() {\n                    @Override\n                    public void onDataLoaded(ArrayList&lt;Customers&gt; list) {\n                        loadDatas(list, tab);\n                        swipeLayout.setRefreshing(false);\n                    }\n\n                });\n\n            }\n        });\n\n\n        // Scheme colors for animation\n        swipeLayout.setColorSchemeColors(\n                getResources().getColor(android.R.color.holo_blue_bright),\n                getResources().getColor(android.R.color.holo_green_light),\n                getResources().getColor(android.R.color.holo_orange_light),\n                getResources().getColor(android.R.color.holo_red_light)\n        );\n  }\n\n  void loadDatas(List&lt;Customers&gt; list, String tab){\n\n        if (list != null &amp;&amp; list.size() &gt; 0) {\n            List&lt;Customers&gt; tabList = new ArrayList&lt;&gt;();\n\n            if (tab.equals(&quot;All&quot;)) {\n                tabList = list;\n            }else {\n                for (Customers item : list) {\n                    if (item.getStatus().equals(tab)) {\n                        tabList.add(item);\n                    }else {\n                       Log.d(TAG, &quot;loadDatas: &quot;+item.getStatus());\n                    }\n                }\n            }\n            adapter.submitList(tabList);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","azure-blob-storage"],"comments":[{"owner":{"account_id":2252242,"reputation":766,"user_id":1984237,"display_name":"slashdot"},"score":0,"creation_date":1680202264,"post_id":73619913,"comment_id":133862557,"body_markdown":"Were you able to figure out what was the issue? I have blob storage contributor role and even then i&#39;m getting permssion issues. Read, Write, List works fine but only the Delete is what is giving this error. Any help is highly appreciated.","body":"Were you able to figure out what was the issue? I have blob storage contributor role and even then i&#39;m getting permssion issues. Read, Write, List works fine but only the Delete is what is giving this error. Any help is highly appreciated."}],"answers":[{"tags":[],"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662462104,"creation_date":1662462104,"answer_id":73620918,"question_id":73619913,"body_markdown":"The reason your code is failing is because your SAS token does not have the permission to delete a blob version. It only has the permission to delete the base blob.\r\n\r\nTo fix, please include `Delete Blob Version` permission in your SAS token.\r\n\r\nI also noticed that you are using an older version of Blob Storage SDK which does not have this permission. You will first need to upgrade your code to make use of the latest version of the Blob Storage SDK and then create a SAS token with delete blob version permission.\r\n\r\nPlease see this link for the permissions for a blob service resource in a SAS token: https://docs.microsoft.com/en-us/rest/api/storageservices/create-service-sas#permissions-for-a-directory-container-or-blob ","title":"Sas token to delete blob using java","body":"<p>The reason your code is failing is because your SAS token does not have the permission to delete a blob version. It only has the permission to delete the base blob.</p>\n<p>To fix, please include <code>Delete Blob Version</code> permission in your SAS token.</p>\n<p>I also noticed that you are using an older version of Blob Storage SDK which does not have this permission. You will first need to upgrade your code to make use of the latest version of the Blob Storage SDK and then create a SAS token with delete blob version permission.</p>\n<p>Please see this link for the permissions for a blob service resource in a SAS token: <a href=\"https://learn.microsoft.com/en-us/rest/api/storageservices/create-service-sas#permissions-for-a-directory-container-or-blob\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/rest/api/storageservices/create-service-sas#permissions-for-a-directory-container-or-blob</a></p>\n"}],"owner":{"account_id":11521504,"reputation":9,"user_id":8443136,"display_name":"hyd_33"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662462104,"creation_date":1662457400,"question_id":73619913,"body_markdown":"I am generating the sas token using below java code ,using generated sas token i can able create/update/download/delete the blob operations but for delete blob based on filename with specific versions getting below error.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;Error&gt;\r\n    &lt;Code&gt;OperationNotAllowedOnAutomaticSnapshot&lt;/Code&gt;\r\n    &lt;Message&gt;The specified operation is not allowed on version.\r\n    RequestId:59c5b1ae-d01e-0018-36d2-XXXX\r\n    Time:2022-09-06T09:28:07.7293570Z&lt;/Message&gt;\r\n    &lt;/Error&gt;\r\n\r\n\r\nJava code:\r\n\r\n    import java.net.URISyntaxException;\r\n    import java.security.InvalidKeyException;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneOffset;\r\n    import java.util.Date;\r\n    import java.util.EnumSet;\r\n\r\n    import com.microsoft.azure.storage.CloudStorageAccount;\r\n    import com.microsoft.azure.storage.SharedAccessAccountPolicy;\r\n    import com.microsoft.azure.storage.SharedAccessProtocols;\r\n    import com.microsoft.azure.storage.StorageException;\r\n    import com.microsoft.azure.storage.blob.CloudBlobClient;\r\n    import com.microsoft.azure.storage.blob.CloudBlobContainer;\r\n    import com.microsoft.azure.storage.blob.SharedAccessBlobPermissions;\r\n    import com.microsoft.azure.storage.blob.SharedAccessBlobPolicy;\r\n\r\n\r\n    public class GenerateSAStoken {\r\n\tpublic static String GetToken(String connString,String containerName,Integer ttl) throws InvalidKeyException, URISyntaxException, StorageException {\r\n\t\t\r\n\t\tCloudStorageAccount account = CloudStorageAccount.parse(connString);\r\n\r\n\t\t// Create a blob service client\r\n\t\tCloudBlobClient blobClient = account.createCloudBlobClient();\r\n\r\n\t\tCloudBlobContainer container = blobClient.getContainerReference(containerName);\r\n\r\n\t\tDate expirationTime = Date.from(LocalDateTime.now().plusMinutes(ttl).atZone(ZoneOffset.UTC).toInstant());\r\n\t\tSharedAccessProtocols accessProtocols= SharedAccessProtocols.HTTPS_ONLY;\r\n\t\tSharedAccessBlobPolicy sharedAccessPolicy = new SharedAccessBlobPolicy();\r\n\t\tsharedAccessPolicy.setPermissions(EnumSet.of(SharedAccessBlobPermissions.READ,SharedAccessBlobPermissions.CREATE,\r\n\t\t\t\tSharedAccessBlobPermissions.WRITE, SharedAccessBlobPermissions.ADD,SharedAccessBlobPermissions.LIST,SharedAccessBlobPermissions.DELETE));\r\n\t\tsharedAccessPolicy.setSharedAccessStartTime(new Date());\r\n\t\tsharedAccessPolicy.setSharedAccessExpiryTime(expirationTime);\r\n\r\n\t\tString sasToken = container.generateSharedAccessSignature(sharedAccessPolicy, null, null, accessProtocols);\r\n\t\t\r\n\t\treturn sasToken;\r\n\t}\r\n    }\r\n\r\nAfter sas token generation i am passing token to azure blob rest api&#39;s for all curd operations \r\n","title":"Sas token to delete blob using java","body":"<p>I am generating the sas token using below java code ,using generated sas token i can able create/update/download/delete the blob operations but for delete blob based on filename with specific versions getting below error.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;Error&gt;\n&lt;Code&gt;OperationNotAllowedOnAutomaticSnapshot&lt;/Code&gt;\n&lt;Message&gt;The specified operation is not allowed on version.\nRequestId:59c5b1ae-d01e-0018-36d2-XXXX\nTime:2022-09-06T09:28:07.7293570Z&lt;/Message&gt;\n&lt;/Error&gt;\n</code></pre>\n<p>Java code:</p>\n<pre><code>import java.net.URISyntaxException;\nimport java.security.InvalidKeyException;\nimport java.time.LocalDateTime;\nimport java.time.ZoneOffset;\nimport java.util.Date;\nimport java.util.EnumSet;\n\nimport com.microsoft.azure.storage.CloudStorageAccount;\nimport com.microsoft.azure.storage.SharedAccessAccountPolicy;\nimport com.microsoft.azure.storage.SharedAccessProtocols;\nimport com.microsoft.azure.storage.StorageException;\nimport com.microsoft.azure.storage.blob.CloudBlobClient;\nimport com.microsoft.azure.storage.blob.CloudBlobContainer;\nimport com.microsoft.azure.storage.blob.SharedAccessBlobPermissions;\nimport com.microsoft.azure.storage.blob.SharedAccessBlobPolicy;\n\n\npublic class GenerateSAStoken {\npublic static String GetToken(String connString,String containerName,Integer ttl) throws InvalidKeyException, URISyntaxException, StorageException {\n    \n    CloudStorageAccount account = CloudStorageAccount.parse(connString);\n\n    // Create a blob service client\n    CloudBlobClient blobClient = account.createCloudBlobClient();\n\n    CloudBlobContainer container = blobClient.getContainerReference(containerName);\n\n    Date expirationTime = Date.from(LocalDateTime.now().plusMinutes(ttl).atZone(ZoneOffset.UTC).toInstant());\n    SharedAccessProtocols accessProtocols= SharedAccessProtocols.HTTPS_ONLY;\n    SharedAccessBlobPolicy sharedAccessPolicy = new SharedAccessBlobPolicy();\n    sharedAccessPolicy.setPermissions(EnumSet.of(SharedAccessBlobPermissions.READ,SharedAccessBlobPermissions.CREATE,\n            SharedAccessBlobPermissions.WRITE, SharedAccessBlobPermissions.ADD,SharedAccessBlobPermissions.LIST,SharedAccessBlobPermissions.DELETE));\n    sharedAccessPolicy.setSharedAccessStartTime(new Date());\n    sharedAccessPolicy.setSharedAccessExpiryTime(expirationTime);\n\n    String sasToken = container.generateSharedAccessSignature(sharedAccessPolicy, null, null, accessProtocols);\n    \n    return sasToken;\n}\n}\n</code></pre>\n<p>After sas token generation i am passing token to azure blob rest api's for all curd operations</p>\n"},{"tags":["java","abstract-syntax-tree","eclipse-jdt"],"answers":[{"tags":[],"owner":{"account_id":102617,"reputation":2303,"user_id":275347,"display_name":"Gunnar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662461624,"creation_date":1662461624,"answer_id":73620812,"question_id":73580037,"body_markdown":"I ended up implementing it in the following way. It does require a bit of recursion in order to follow all the method signatures of a type.\r\n\r\n```Java\r\n// the type to analyze\r\nIType typeToAnalyze = ...\r\n\r\n// create an ASTParser\r\nASTParser parser = ASTParser.newParser(AST.getJLSLatest());\r\n\r\n// set the resolution to a specific project which has the full classpath\r\nparser.setProject(aJavaProject);\r\n\r\n// configure the parser to resolve bindings\r\nparser.setResolveBindings(true);\r\n\r\n// I&#39;m ok with ignoring method bodies\r\nparser.setIgnoreMethodBodies(true);\r\n\r\n// get the IBinding from the parser\r\nIBinding[] bindings = parser.createBindings(new IJavaElement[] { typeToAnalyze }, monitor);\r\n\r\n// I&#39;m interested in the jar files or IJavaProjects \r\nSet&lt;IPath&gt; dependencies = new HashSet&lt;&gt;();\r\n\r\n// collect processed type names in a set to avoid endless recursion\r\nSet&lt;String&gt; processedTypes = new HashSet&lt;&gt;();\r\n\r\n// because we passed in an IType the returned binding is an instance of ITypeBinding\r\nfor (final IBinding binding : bindings) {\r\n    collectDependenciesFromType((ITypeBinding) binding, dependencies, processedTypes, monitor);\r\n}\r\n```\r\n\r\nWith a couple supporting methods:\r\n```Java\r\n\tprivate void collectDependenciesFromType(final ITypeBinding binding, final Set&lt;IPath&gt; dependencies,\r\n\t\t\tfinal Set&lt;String&gt; processedTypes, final IProgressMonitor monitor) {\r\n\t\tif (monitor.isCanceled())\r\n\t\t\tthrow new OperationCanceledException();\r\n\r\n\t\tif (binding.isAnonymous() || binding.isPrimitive() || binding.isNullType() || binding.isGenericType()\r\n\t\t\t\t|| binding.isTypeVariable() || binding.isCapture() || binding.isWildcardType() || binding.isRecovered())\r\n\t\t\treturn;\r\n\r\n\t\tif (binding.isArray()) {\r\n\t\t\tcollectDependenciesFromType(binding.getElementType(), dependencies, processedTypes, monitor);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (binding.getPackage().getName().startsWith(&quot;java.&quot;))\r\n\t\t\treturn;\r\n\r\n\t\tif (processedTypes.contains(binding.getQualifiedName()))\r\n\t\t\treturn;\r\n\r\n\t\tprocessedTypes.add(binding.getQualifiedName());\r\n\t\tmonitor.subTask(binding.getQualifiedName());\r\n\r\n\t\tfinal IPath path = getJarOrProjectPath((IType) binding.getJavaElement());\r\n\t\tif (path == null)\r\n\t\t\treturn;\r\n\r\n\t\tdependencies.add(path);\r\n\r\n\t\tfor (final ITypeBinding interfaceBinding : binding.getInterfaces()) {\r\n\t\t\tcollectDependenciesFromType(interfaceBinding, dependencies, processedTypes, monitor);\r\n\t\t}\r\n\r\n\t\tfinal ITypeBinding superclass = binding.getSuperclass();\r\n\t\tif (superclass != null) {\r\n\t\t\tcollectDependenciesFromType(superclass, dependencies, processedTypes, monitor);\r\n\t\t}\r\n\r\n\t\tfor (final ITypeBinding typeParameter : binding.getTypeParameters()) {\r\n\t\t\tcollectDependenciesFromType(typeParameter, dependencies, processedTypes, monitor);\r\n\t\t}\r\n\r\n\t\tfor (final IMethodBinding methodBinding : binding.getDeclaredMethods()) {\r\n\t\t\tcollectDependenciesFromMethod(methodBinding, dependencies, processedTypes, monitor);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void collectDependenciesFromMethod(final IMethodBinding binding, final Set&lt;IPath&gt; dependencies,\r\n\t\t\tfinal Set&lt;String&gt; processedTypes, final IProgressMonitor monitor) {\r\n\t\tif (monitor.isCanceled())\r\n\t\t\tthrow new OperationCanceledException();\r\n\r\n\t\tif (Modifier.isPrivate(binding.getModifiers()) || Modifier.isDefault(binding.getModifiers()))\r\n\t\t\treturn;\r\n\r\n\t\tfor (final ITypeBinding parameterType : binding.getParameterTypes()) {\r\n\t\t\tcollectDependenciesFromType(parameterType, dependencies, processedTypes, monitor);\r\n\t\t}\r\n\r\n\t\tcollectDependenciesFromType(binding.getReturnType(), dependencies, processedTypes, monitor);\r\n\t}\r\n\r\n\tprivate IPath getJarOrProjectPath(final IType type) {\r\n\t\tif (type.isBinary()) {\r\n\t\t\tfinal IPackageFragmentRoot root = (IPackageFragmentRoot) type\r\n\t\t\t\t\t.getAncestor(IJavaElement.PACKAGE_FRAGMENT_ROOT);\r\n\t\t\tif ((root != null) &amp;&amp; root.isArchive() &amp;&amp; &quot;jar&quot;.equals(root.getPath().getFileExtension()))\r\n\t\t\t\treturn root.getPath();\r\n\t\t} else {\r\n\t\t\tfinal IJavaProject javaProject = type.getJavaProject();\r\n\t\t\tif (javaProject != null)\r\n\t\t\t\treturn javaProject.getPath();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```","title":"How to discover all dependencies (aka. &quot;imports&quot;) from an IType?","body":"<p>I ended up implementing it in the following way. It does require a bit of recursion in order to follow all the method signatures of a type.</p>\n<pre><code>// the type to analyze\nIType typeToAnalyze = ...\n\n// create an ASTParser\nASTParser parser = ASTParser.newParser(AST.getJLSLatest());\n\n// set the resolution to a specific project which has the full classpath\nparser.setProject(aJavaProject);\n\n// configure the parser to resolve bindings\nparser.setResolveBindings(true);\n\n// I'm ok with ignoring method bodies\nparser.setIgnoreMethodBodies(true);\n\n// get the IBinding from the parser\nIBinding[] bindings = parser.createBindings(new IJavaElement[] { typeToAnalyze }, monitor);\n\n// I'm interested in the jar files or IJavaProjects \nSet&lt;IPath&gt; dependencies = new HashSet&lt;&gt;();\n\n// collect processed type names in a set to avoid endless recursion\nSet&lt;String&gt; processedTypes = new HashSet&lt;&gt;();\n\n// because we passed in an IType the returned binding is an instance of ITypeBinding\nfor (final IBinding binding : bindings) {\n    collectDependenciesFromType((ITypeBinding) binding, dependencies, processedTypes, monitor);\n}\n</code></pre>\n<p>With a couple supporting methods:</p>\n<pre><code>    private void collectDependenciesFromType(final ITypeBinding binding, final Set&lt;IPath&gt; dependencies,\n            final Set&lt;String&gt; processedTypes, final IProgressMonitor monitor) {\n        if (monitor.isCanceled())\n            throw new OperationCanceledException();\n\n        if (binding.isAnonymous() || binding.isPrimitive() || binding.isNullType() || binding.isGenericType()\n                || binding.isTypeVariable() || binding.isCapture() || binding.isWildcardType() || binding.isRecovered())\n            return;\n\n        if (binding.isArray()) {\n            collectDependenciesFromType(binding.getElementType(), dependencies, processedTypes, monitor);\n            return;\n        }\n\n        if (binding.getPackage().getName().startsWith(&quot;java.&quot;))\n            return;\n\n        if (processedTypes.contains(binding.getQualifiedName()))\n            return;\n\n        processedTypes.add(binding.getQualifiedName());\n        monitor.subTask(binding.getQualifiedName());\n\n        final IPath path = getJarOrProjectPath((IType) binding.getJavaElement());\n        if (path == null)\n            return;\n\n        dependencies.add(path);\n\n        for (final ITypeBinding interfaceBinding : binding.getInterfaces()) {\n            collectDependenciesFromType(interfaceBinding, dependencies, processedTypes, monitor);\n        }\n\n        final ITypeBinding superclass = binding.getSuperclass();\n        if (superclass != null) {\n            collectDependenciesFromType(superclass, dependencies, processedTypes, monitor);\n        }\n\n        for (final ITypeBinding typeParameter : binding.getTypeParameters()) {\n            collectDependenciesFromType(typeParameter, dependencies, processedTypes, monitor);\n        }\n\n        for (final IMethodBinding methodBinding : binding.getDeclaredMethods()) {\n            collectDependenciesFromMethod(methodBinding, dependencies, processedTypes, monitor);\n        }\n    }\n\n    private void collectDependenciesFromMethod(final IMethodBinding binding, final Set&lt;IPath&gt; dependencies,\n            final Set&lt;String&gt; processedTypes, final IProgressMonitor monitor) {\n        if (monitor.isCanceled())\n            throw new OperationCanceledException();\n\n        if (Modifier.isPrivate(binding.getModifiers()) || Modifier.isDefault(binding.getModifiers()))\n            return;\n\n        for (final ITypeBinding parameterType : binding.getParameterTypes()) {\n            collectDependenciesFromType(parameterType, dependencies, processedTypes, monitor);\n        }\n\n        collectDependenciesFromType(binding.getReturnType(), dependencies, processedTypes, monitor);\n    }\n\n    private IPath getJarOrProjectPath(final IType type) {\n        if (type.isBinary()) {\n            final IPackageFragmentRoot root = (IPackageFragmentRoot) type\n                    .getAncestor(IJavaElement.PACKAGE_FRAGMENT_ROOT);\n            if ((root != null) &amp;&amp; root.isArchive() &amp;&amp; &quot;jar&quot;.equals(root.getPath().getFileExtension()))\n                return root.getPath();\n        } else {\n            final IJavaProject javaProject = type.getJavaProject();\n            if (javaProject != null)\n                return javaProject.getPath();\n        }\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":102617,"reputation":2303,"user_id":275347,"display_name":"Gunnar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662461624,"creation_date":1662108614,"question_id":73580037,"body_markdown":"I&#39;m using the Eclipse JDT API and I have an IType. I&#39;d like to discover all &quot;dependencies&quot; of this IType. \r\n\r\nI think this would be:\r\n\r\n - direct imports (import statements)\r\n - as well full qualifier usage within the method signatures\r\n - above information from supertypes \r\n\r\nI am ignoring runtime dependency discovery right now. My goal is to come up with a QuickFix for &quot;indirectly referenced from class file&quot; for a setup with strict classpaths (no transitive dependencies).\r\n\r\nOne more complication: the type itself or supertypes could come from a jar without source attachment.\r\n\r\nI&#39;ll probably need to produce the AST for this as [this answer][1] recommends. Any tips for the approach? Do I need to walk the full type? Is there another way to just get all the bindings and use them? Would that work?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41837009/275347","title":"How to discover all dependencies (aka. &quot;imports&quot;) from an IType?","body":"<p>I'm using the Eclipse JDT API and I have an IType. I'd like to discover all &quot;dependencies&quot; of this IType.</p>\n<p>I think this would be:</p>\n<ul>\n<li>direct imports (import statements)</li>\n<li>as well full qualifier usage within the method signatures</li>\n<li>above information from supertypes</li>\n</ul>\n<p>I am ignoring runtime dependency discovery right now. My goal is to come up with a QuickFix for &quot;indirectly referenced from class file&quot; for a setup with strict classpaths (no transitive dependencies).</p>\n<p>One more complication: the type itself or supertypes could come from a jar without source attachment.</p>\n<p>I'll probably need to produce the AST for this as <a href=\"https://stackoverflow.com/a/41837009/275347\">this answer</a> recommends. Any tips for the approach? Do I need to walk the full type? Is there another way to just get all the bindings and use them? Would that work?</p>\n"},{"tags":["java","facebook","chatbot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662461778,"post_id":73620809,"comment_id":130005639,"body_markdown":"We can&#39;t possibly figure it out either, since we know nothing about your application. What operating system/plaftform does your application run on?","body":"We can&#39;t possibly figure it out either, since we know nothing about your application. What operating system/plaftform does your application run on?"},{"owner":{"account_id":24392398,"reputation":1,"user_id":18932061,"display_name":"kzrvv"},"score":0,"creation_date":1662462075,"post_id":73620809,"comment_id":130005751,"body_markdown":"@FedericoklezCulloca I created a page on facebook, to which the chat bot (for messenger) was connected. I created this bot with java and deployed it to heroku. Nothing more, I need people to be able to find this page on facebook and send a message, nothing more","body":"@FedericoklezCulloca I created a page on facebook, to which the chat bot (for messenger) was connected. I created this bot with java and deployed it to heroku. Nothing more, I need people to be able to find this page on facebook and send a message, nothing more"},{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":0,"creation_date":1662465314,"post_id":73620809,"comment_id":130006903,"body_markdown":"Add the Website platform, and point it to something on your heroku webspace. You&#39;re going to need a valid privacy policy in any case, so you will have to place _some_ web content there anyway.","body":"Add the Website platform, and point it to something on your heroku webspace. You&#39;re going to need a valid privacy policy in any case, so you will have to place <i>some</i> web content there anyway."},{"owner":{"account_id":24392398,"reputation":1,"user_id":18932061,"display_name":"kzrvv"},"score":0,"creation_date":1662466640,"post_id":73620809,"comment_id":130007345,"body_markdown":"@CBroe this is my first application, can you advise whether it is better to place the policy on heroku or can I leave it on freeprivacypolicy.com ?","body":"@CBroe this is my first application, can you advise whether it is better to place the policy on heroku or can I leave it on freeprivacypolicy.com ?"},{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":0,"creation_date":1662470515,"post_id":73620809,"comment_id":130008945,"body_markdown":"Should not matter too much, as long as the Facebook scraper can read the URL. https://developers.facebook.com/tools/debug/","body":"Should not matter too much, as long as the Facebook scraper can read the URL. <a href=\"https://developers.facebook.com/tools/debug/\" rel=\"nofollow noreferrer\">developers.facebook.com/tools/debug</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662476415,"post_id":73620809,"comment_id":130011476,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24392398,"reputation":1,"user_id":18932061,"display_name":"kzrvv"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662461612,"creation_date":1662461612,"question_id":73620809,"body_markdown":"I made a chat bot for facebook messenger and now to complete I need to send it for verification (pages_messaging permission). And when submitting, I am asked to select a platform (to enter?). I don’t understand which one to choose and why, if to contact the bot it’s enough to find a page on Facebook.[enter image description here][1]\r\nI&#39;ve looked at a lot of documentation but still can&#39;t figure it out.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xLgr6.png","title":"which platform on facebook for developers to choose?","body":"<p>I made a chat bot for facebook messenger and now to complete I need to send it for verification (pages_messaging permission). And when submitting, I am asked to select a platform (to enter?). I don’t understand which one to choose and why, if to contact the bot it’s enough to find a page on Facebook.<a href=\"https://i.stack.imgur.com/xLgr6.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI've looked at a lot of documentation but still can't figure it out.</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":12872821,"reputation":350,"user_id":9310648,"accept_rate":100,"display_name":"CodingM"},"score":2,"creation_date":1621435059,"post_id":66943245,"comment_id":119495441,"body_markdown":"That would be impossible if the text channels contains messages that are more than 14 days old. That is because bots cannot delete messages that are 14 or more days old, see https://discord.com/developers/docs/resources/channel#bulk-delete-messages. A workaround is to clone the channel and delete the old one. (See the top answer)","body":"That would be impossible if the text channels contains messages that are more than 14 days old. That is because bots cannot delete messages that are 14 or more days old, see <a href=\"https://discord.com/developers/docs/resources/channel#bulk-delete-messages\" rel=\"nofollow noreferrer\">discord.com/developers/docs/resources/&hellip;</a>. A workaround is to clone the channel and delete the old one. (See the top answer)"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1697743789,"post_id":66943245,"comment_id":136321724,"body_markdown":"Bots can delete messages that are older than 14 days, they just cannot bulk delete them in one request.","body":"Bots can delete messages that are older than 14 days, they just cannot bulk delete them in one request."}],"answers":[{"tags":[],"owner":{"account_id":16432809,"reputation":320,"user_id":11871203,"display_name":"Redi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1617901708,"creation_date":1617901708,"answer_id":67008753,"question_id":66943245,"body_markdown":"The fastest and most efficient way I could think of, would be to clone the Channel and delete the old one.\r\n\r\nTry something like this:\r\n```\r\ntextChannel.createCopy().queue();\r\ntextChannel.delete().queue();\r\n```","title":"JDA Discord bot to delete all messages from a text channel","body":"<p>The fastest and most efficient way I could think of, would be to clone the Channel and delete the old one.</p>\n<p>Try something like this:</p>\n<pre><code>textChannel.createCopy().queue();\ntextChannel.delete().queue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23637796,"reputation":79,"user_id":17668557,"display_name":"michel929"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662461320,"creation_date":1662461320,"answer_id":73620740,"question_id":66943245,"body_markdown":"    \r\n\r\nHere is a solution to your problem:\r\n\r\n    MessageHistory history = MessageHistory.getHistoryFromBeginning(channel).complete();\r\n    List&lt;Message&gt; mess = history.getRetrievedHistory();\r\n    for(Message m: mess){\r\n       m.delete().queue();\r\n    }\r\n\r\n","title":"JDA Discord bot to delete all messages from a text channel","body":"<p>Here is a solution to your problem:</p>\n<pre><code>MessageHistory history = MessageHistory.getHistoryFromBeginning(channel).complete();\nList&lt;Message&gt; mess = history.getRetrievedHistory();\nfor(Message m: mess){\n   m.delete().queue();\n}\n</code></pre>\n"}],"owner":{"account_id":18266526,"reputation":43,"user_id":13298127,"display_name":"Aritra Bag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1534,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":67008753,"answer_count":2,"score":3,"last_activity_date":1662461320,"creation_date":1617552278,"question_id":66943245,"body_markdown":"I am trying for my JDA discord bot to delete all the messages from a text channel and I am using a highly inefficient code as of right now which occasionally works and occassionally doesn&#39;t. The code:\r\n``` public void ClearEvidence(TextChannel textChannel)\r\n    {\r\n        List&lt;Message&gt; msgs;\r\n\r\n        msgs = textChannel.getHistory().retrievePast(50).complete();\r\n        textChannel.deleteMessages(msgs).queue();\r\n    }\r\n```\r\nI know for a fact that I am calling the function and I know for a fact that the textChannel being passed is the correct one.\r\nPlease do help me with the same.","title":"JDA Discord bot to delete all messages from a text channel","body":"<p>I am trying for my JDA discord bot to delete all the messages from a text channel and I am using a highly inefficient code as of right now which occasionally works and occassionally doesn't. The code:</p>\n<pre><code>    {\n        List&lt;Message&gt; msgs;\n\n        msgs = textChannel.getHistory().retrievePast(50).complete();\n        textChannel.deleteMessages(msgs).queue();\n    }\n</code></pre>\n<p>I know for a fact that I am calling the function and I know for a fact that the textChannel being passed is the correct one.\nPlease do help me with the same.</p>\n"},{"tags":["java","docker-compose","jwt","wso2","wso2-api-manager"],"comments":[{"owner":{"account_id":7595116,"reputation":269,"user_id":5761501,"display_name":"Ruwan Abeykoon"},"score":1,"creation_date":1662118718,"post_id":73580533,"comment_id":129937755,"body_markdown":"Since you are using IS 5.11.0 as a independent runtime, can you try installing the CustomTokenGenerator on the IS 5.11.0, as that is the place the keys are issued for APIM to consume.","body":"Since you are using IS 5.11.0 as a independent runtime, can you try installing the CustomTokenGenerator on the IS 5.11.0, as that is the place the keys are issued for APIM to consume."},{"owner":{"account_id":5871617,"reputation":369,"user_id":4623781,"display_name":"David"},"score":0,"creation_date":1662124830,"post_id":73580533,"comment_id":129939923,"body_markdown":"Hi Ruwan, how do I install it inside IS? In the deployment.toml of IS 5.11.0 I don&#39;t have entries about jwt","body":"Hi Ruwan, how do I install it inside IS? In the deployment.toml of IS 5.11.0 I don&#39;t have entries about jwt"},{"owner":{"account_id":3830467,"reputation":3834,"user_id":3176125,"display_name":"Pubci"},"score":0,"creation_date":1662366918,"post_id":73580533,"comment_id":129981363,"body_markdown":"Did you request openid scope when generating the access token?","body":"Did you request openid scope when generating the access token?"},{"owner":{"account_id":3830467,"reputation":3834,"user_id":3176125,"display_name":"Pubci"},"score":0,"creation_date":1662366966,"post_id":73580533,"comment_id":129981381,"body_markdown":"https://apim.docs.wso2.com/en/latest/design/api-security/openid-connect/obtaining-user-profile-information-with-openid-connect/#decoding-the-id_token","body":"<a href=\"https://apim.docs.wso2.com/en/latest/design/api-security/openid-connect/obtaining-user-profile-information-with-openid-connect/#decoding-the-id_token\" rel=\"nofollow noreferrer\">apim.docs.wso2.com/en/latest/design/api-security/openid-conn&zwnj;&#8203;ect/&hellip;</a>"},{"owner":{"account_id":5871617,"reputation":369,"user_id":4623781,"display_name":"David"},"score":0,"creation_date":1662371046,"post_id":73580533,"comment_id":129982716,"body_markdown":"Hi Pubci, what I need is not to get the user information on the frontend but verify the user role in the backend called through api gateway to send different responses based on role on the same endpoint. The userinfo endpoint is not ideal as it would imply an additional network request everytime, or did I get it wrong?","body":"Hi Pubci, what I need is not to get the user information on the frontend but verify the user role in the backend called through api gateway to send different responses based on role on the same endpoint. The userinfo endpoint is not ideal as it would imply an additional network request everytime, or did I get it wrong?"},{"owner":{"account_id":5871617,"reputation":369,"user_id":4623781,"display_name":"David"},"score":0,"creation_date":1662371349,"post_id":73580533,"comment_id":129982818,"body_markdown":"Also I was using the IS as separate runtime only because I need PAP/PDP policies, in case it is possible to use Entitlement in APIM I could use only APIM without the IS.","body":"Also I was using the IS as separate runtime only because I need PAP/PDP policies, in case it is possible to use Entitlement in APIM I could use only APIM without the IS."},{"owner":{"account_id":5871617,"reputation":369,"user_id":4623781,"display_name":"David"},"score":0,"creation_date":1662372774,"post_id":73580533,"comment_id":129983317,"body_markdown":"I found this https://wso2.com/library/articles/2014/02/use-of-wso2-api-manager-to-validate-fine-grained-policy-decisions-using-xacml/ article but the jar plugin entitlement-0.0.1-SNAPSHOT.jar is not linked anywhere","body":"I found this <a href=\"https://wso2.com/library/articles/2014/02/use-of-wso2-api-manager-to-validate-fine-grained-policy-decisions-using-xacml/\" rel=\"nofollow noreferrer\">wso2.com/library/articles/2014/02/&hellip;</a> article but the jar plugin entitlement-0.0.1-SNAPSHOT.jar is not linked anywhere"}],"owner":{"account_id":5871617,"reputation":369,"user_id":4623781,"display_name":"David"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662461269,"creation_date":1662111206,"question_id":73580533,"body_markdown":"I have an instance of WSO2 apim 4.1.0 with IS 5.11.0 using docker compose, I need to get the roles of the logged in user when sending requests through the backend of an application exposed via OpenApi with the WSO2 gateway.\r\n\r\nI tried to add the role as mandatory claim as shown in [this](https://stackoverflow.com/a/64237665/4623781) question but the token still does not contain the user roles.\r\n\r\nExample token:\r\n```\r\neyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik4ySmpNak5pTTJFeFlqUmtOelpqWm1ZMVlUQXhObUZsTmpnNE9XVTFZV1EyWXpjMU5tWTVOUT09In0=.eyJzdWIiOiJ0ZXN0VGVyYXBldXRhIiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvYXBpbmFtZSI6Ik1hcHNFSCIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2FwcGxpY2F0aW9udGllciI6IlVubGltaXRlZCIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL3ZlcnNpb24iOiIxLjAuMCIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2tleXR5cGUiOiJQUk9EVUNUSU9OIiwiaXNzIjoid3NvMi5vcmdcL3Byb2R1Y3RzXC9hbSIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2FwcGxpY2F0aW9ubmFtZSI6IkRlZmF1bHRBcHBsaWNhdGlvbiIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2VuZHVzZXIiOiJ0ZXN0VGVyYXBldXRhQGNhcmJvbi5zdXBlciIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2VuZHVzZXJUZW5hbnRJZCI6Ii0xMjM0IiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvYXBwbGljYXRpb25VVUlkIjoiYTA4MzFjYjYtMzdlYy00ZWE2LTg4OTQtYzliNWZiMzViMmMwIiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvc3Vic2NyaWJlciI6InRlc3RUZXJhcGV1dGEiLCJhenAiOiJOOEFWTzNRVzBkdllMVktzUWhUeV93dWQ3andhIiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvdGllciI6IlVubGltaXRlZCIsInNjb3BlIjoiZGVmYXVsdCIsImV4cCI6MTY2MjExMDUzNywiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvYXBwbGljYXRpb25pZCI6IjEiLCJodHRwOlwvXC93c28yLm9yZ1wvY2xhaW1zXC91c2VydHlwZSI6IkFwcGxpY2F0aW9uX1VzZXIiLCJpYXQiOjE2NjIxMDk2MzcsImp0aSI6ImFiMGVmMzU0LWZjZTMtNDIzMy04MzIzLTNlODQ0MWM1YzAwYiIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2FwaWNvbnRleHQiOiJcL21hcHMtZWhcLzEuMC4wIn0=.iFVbpj3TG4UdtU3DhaLnMRGoIwfyHhenuCRr7C2t37lOlqJOsdLCeo0tGb_U5EsmdnHrN8kSscCG41v7JcOm97W5v7PKHtg95y3QKOTouzFppEq71DIXPmW51wDWh5EHNPFwXZ0e_371ZjXAOSB5UzStyzha7heg_DoPDTf1b6aLSP-9t50qsI4wT_HR7fm_Hmn-ZRL8ncmiuiQbofoGuTUHCmM1CfjiqQ_U65SAXgIKB2hATWaJFxqfr6emUsHMTdqS0_79DwxqHE_PdTQobBECOiU8RHZ_kxsQ1WpY__Ud9PEn13qRtGGV_Rp1LRd14iYF4l9ns1ENhNc1Tz0JNg==\r\n```\r\n\r\nWhich translates to \r\n```\r\n{\r\n  &quot;sub&quot;: &quot;testTerapeuta&quot;,\r\n  &quot;http://wso2.org/claims/apiname&quot;: &quot;MapsEH&quot;,\r\n  &quot;http://wso2.org/claims/applicationtier&quot;: &quot;Unlimited&quot;,\r\n  &quot;http://wso2.org/claims/version&quot;: &quot;1.0.0&quot;,\r\n  &quot;http://wso2.org/claims/keytype&quot;: &quot;PRODUCTION&quot;,\r\n  &quot;iss&quot;: &quot;wso2.org/products/am&quot;,\r\n  &quot;http://wso2.org/claims/applicationname&quot;: &quot;DefaultApplication&quot;,\r\n  &quot;http://wso2.org/claims/enduser&quot;: &quot;testTerapeuta@carbon.super&quot;,\r\n  &quot;http://wso2.org/claims/enduserTenantId&quot;: &quot;-1234&quot;,\r\n  &quot;http://wso2.org/claims/applicationUUId&quot;: &quot;a0831cb6-37ec-4ea6-8894-c9b5fb35b2c0&quot;,\r\n  &quot;http://wso2.org/claims/subscriber&quot;: &quot;testTerapeuta&quot;,\r\n  &quot;azp&quot;: &quot;N8AVO3QW0dvYLVKsQhTy_wud7jwa&quot;,\r\n  &quot;http://wso2.org/claims/tier&quot;: &quot;Unlimited&quot;,\r\n  &quot;scope&quot;: &quot;default&quot;,\r\n  &quot;exp&quot;: 1662110537,\r\n  &quot;http://wso2.org/claims/applicationid&quot;: &quot;1&quot;,\r\n  &quot;http://wso2.org/claims/usertype&quot;: &quot;Application_User&quot;,\r\n  &quot;iat&quot;: 1662109637,\r\n  &quot;jti&quot;: &quot;ab0ef354-fce3-4233-8323-3e8441c5c00b&quot;,\r\n  &quot;http://wso2.org/claims/apicontext&quot;: &quot;/maps-eh/1.0.0&quot;\r\n}\r\n```\r\n\r\nI also tried to compile a custom token generator as shown in the [official docs](https://apim.docs.wso2.com/en/latest/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/) but the result is the same, here is the java code that I compiled into a jar with `maven install`, filename `src/main/java/org/wso2/carbon/test/CustomTokenGenerator.java` with the jar put in the path `&lt;API-M_HOME&gt;/repository/components/lib`.\r\n```\r\nimport org.wso2.carbon.apimgt.api.APIManagementException;\r\nimport org.wso2.carbon.apimgt.impl.APIConstants;\r\nimport org.wso2.carbon.apimgt.keymgt.service.TokenValidationContext;\r\nimport org.wso2.carbon.apimgt.keymgt.token.JWTGenerator;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class CustomTokenGenerator extends JWTGenerator {\r\n\r\n    public Map&lt;String, String&gt; populateStandardClaims(TokenValidationContext validationContext)\r\n            throws APIManagementException {\r\n        Map&lt;String, String&gt; claims = super.populateStandardClaims(validationContext);\r\n        boolean isApplicationToken =\r\n                validationContext.getValidationInfoDTO().getUserType().equalsIgnoreCase(APIConstants.ACCESS_TOKEN_USER_TYPE_APPLICATION) ? true : false;\r\n        String dialect = getDialectURI();\r\n        if (claims.get(dialect + &quot;/enduser&quot;) != null) {\r\n            if (isApplicationToken) {\r\n                claims.put(dialect + &quot;/enduser&quot;, &quot;null&quot;);\r\n                claims.put(dialect + &quot;/enduserTenantId&quot;, &quot;null&quot;);\r\n            } else {\r\n                String enduser = claims.get(dialect + &quot;/enduser&quot;);\r\n                if (enduser.endsWith(&quot;@carbon.super&quot;)) {\r\n                    enduser = enduser.replace(&quot;@carbon.super&quot;, &quot;&quot;);\r\n                    claims.put(dialect + &quot;/enduser&quot;, enduser);\r\n                }\r\n            }\r\n            claims.put(dialect + &quot;/role&quot;, &quot;null&quot;);\r\n        }\r\n\r\n        return claims;\r\n\r\n    }\r\n\r\n    public Map&lt;String, String&gt; populateCustomClaims(TokenValidationContext validationContext) throws APIManagementException{\r\n        Long time = System.currentTimeMillis();\r\n        Map&lt;String,String&gt; customClaims = new HashMap&lt;String, String&gt;();\r\n        customClaims.put(&quot;current_timestamp&quot;, time.toString());\r\n        customClaims.put(getDialectURI() + &quot;/scope&quot;, validationContext.getValidationInfoDTO().getScopes().toString());\r\n        return customClaims;\r\n    }\r\n}\r\n```\r\n\r\nAnd also here is my docker-compose file\r\n```\r\nversion: &#39;3&#39;\r\n\r\nservices:\r\n  mysql:\r\n    image: mysql:5.7.37\r\n    ports:\r\n      - 3306\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: *\r\n    volumes:\r\n      - ./conf/mysql/scripts:/docker-entrypoint-initdb.d\r\n      - ./conf/mysql/conf/my.cnf:/etc/mysql/my.cnf\r\n    ulimits:\r\n      nofile:\r\n        soft: 20000\r\n        hard: 40000\r\n    command: [--ssl=0]\r\n    healthcheck:\r\n      test: [&quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-uroot&quot;, &quot;-proot&quot;]\r\n      interval: 30s\r\n      timeout: 60s\r\n      retries: 5\r\n      start_period: 80s\r\n  is-as-km:\r\n    build: ./dockerfiles/is-as-km (image wso2/wso2is:5.11.0)\r\n    healthcheck:\r\n      test: [&quot;CMD&quot;, &quot;nc&quot;, &quot;-z&quot;,&quot;localhost&quot;, &quot;9444&quot;]\r\n      interval: 10s\r\n      start_period: 180s\r\n      retries: 20\r\n    depends_on:\r\n      mysql:\r\n        condition: service_healthy\r\n    volumes:\r\n      - ./conf/is-as-km:/home/wso2carbon/wso2-config-volume\r\n    ports:\r\n      - &quot;9444:9444&quot;\r\n  api-manager:\r\n    build: ./dockerfiles/apim (image wso2/wso2am:4.1.0)\r\n    healthcheck:\r\n      test: [&quot;CMD&quot;, &quot;nc&quot;, &quot;-z&quot;,&quot;localhost&quot;, &quot;9443&quot;]\r\n      interval: 10s\r\n      start_period: 180s\r\n      retries: 20\r\n    depends_on:\r\n      mysql:\r\n        condition: service_healthy\r\n      is-as-km:\r\n        condition: service_healthy\r\n    volumes:\r\n      - ./conf/apim:/home/wso2carbon/wso2-config-volume\r\n    ports:\r\n      - &quot;9443:9443&quot;\r\n      - &quot;8280:8280&quot;\r\n      - &quot;8243:8243&quot;\r\n  backend:\r\n    build: .\r\n    restart: always\r\n    container_name: myapp\r\n    #working_dir: /app\r\n    ports:\r\n      - &quot;3000:3000&quot;\r\n      - &quot;2999:3001&quot;\r\n    env_file:\r\n      - .env\r\n    volumes:\r\n      - ./src:/home/node/app/src\r\n      - ./public:/home/node/app/public\r\n      - ./node_modules:/home/node/app/node_modules\r\n```\r\nFinally the relevant part of my `deployment.toml` file following\r\n```\r\n[apim.jwt]\r\nenable = true\r\nencoding = &quot;base64&quot; #base64,base64url\r\n#generator_impl = &quot;org.wso2.carbon.test.CustomTokenGenerator&quot;\r\ngenerator_impl = &quot;org.wso2.carbon.apimgt.gateway.handlers.security.jwt.generator.APIMgtGatewayJWTGeneratorImpl&quot;\r\nclaim_dialect = &quot;http://wso2.org/claims&quot;\r\n#convert_dialect = false\r\nheader = &quot;X-JWT-Assertion&quot;\r\nsigning_algorithm = &quot;SHA256withRSA&quot;\r\nenable_user_claims = true\r\nclaims_extractor_impl = &quot;org.wso2.carbon.apimgt.impl.token.ExtendedDefaultClaimsRetriever&quot;\r\n\r\n#[apim.jwt.gateway_generator]\r\n#impl = &quot;org.wso2.carbon.test.CustomTokenGenerator&quot;\r\n\r\n[apim.key_manager]\r\nservice_url = &quot;https://is-as-km:9444/services/&quot;\r\ntype = &quot;WSO2-IS&quot;\r\n```\r\n\r\nAny hint about what may be wrong? Thanks","title":"WSO2 apim get user roles in the backend","body":"<p>I have an instance of WSO2 apim 4.1.0 with IS 5.11.0 using docker compose, I need to get the roles of the logged in user when sending requests through the backend of an application exposed via OpenApi with the WSO2 gateway.</p>\n<p>I tried to add the role as mandatory claim as shown in <a href=\"https://stackoverflow.com/a/64237665/4623781\">this</a> question but the token still does not contain the user roles.</p>\n<p>Example token:</p>\n<pre><code>eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik4ySmpNak5pTTJFeFlqUmtOelpqWm1ZMVlUQXhObUZsTmpnNE9XVTFZV1EyWXpjMU5tWTVOUT09In0=.eyJzdWIiOiJ0ZXN0VGVyYXBldXRhIiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvYXBpbmFtZSI6Ik1hcHNFSCIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2FwcGxpY2F0aW9udGllciI6IlVubGltaXRlZCIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL3ZlcnNpb24iOiIxLjAuMCIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2tleXR5cGUiOiJQUk9EVUNUSU9OIiwiaXNzIjoid3NvMi5vcmdcL3Byb2R1Y3RzXC9hbSIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2FwcGxpY2F0aW9ubmFtZSI6IkRlZmF1bHRBcHBsaWNhdGlvbiIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2VuZHVzZXIiOiJ0ZXN0VGVyYXBldXRhQGNhcmJvbi5zdXBlciIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2VuZHVzZXJUZW5hbnRJZCI6Ii0xMjM0IiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvYXBwbGljYXRpb25VVUlkIjoiYTA4MzFjYjYtMzdlYy00ZWE2LTg4OTQtYzliNWZiMzViMmMwIiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvc3Vic2NyaWJlciI6InRlc3RUZXJhcGV1dGEiLCJhenAiOiJOOEFWTzNRVzBkdllMVktzUWhUeV93dWQ3andhIiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvdGllciI6IlVubGltaXRlZCIsInNjb3BlIjoiZGVmYXVsdCIsImV4cCI6MTY2MjExMDUzNywiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvYXBwbGljYXRpb25pZCI6IjEiLCJodHRwOlwvXC93c28yLm9yZ1wvY2xhaW1zXC91c2VydHlwZSI6IkFwcGxpY2F0aW9uX1VzZXIiLCJpYXQiOjE2NjIxMDk2MzcsImp0aSI6ImFiMGVmMzU0LWZjZTMtNDIzMy04MzIzLTNlODQ0MWM1YzAwYiIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2FwaWNvbnRleHQiOiJcL21hcHMtZWhcLzEuMC4wIn0=.iFVbpj3TG4UdtU3DhaLnMRGoIwfyHhenuCRr7C2t37lOlqJOsdLCeo0tGb_U5EsmdnHrN8kSscCG41v7JcOm97W5v7PKHtg95y3QKOTouzFppEq71DIXPmW51wDWh5EHNPFwXZ0e_371ZjXAOSB5UzStyzha7heg_DoPDTf1b6aLSP-9t50qsI4wT_HR7fm_Hmn-ZRL8ncmiuiQbofoGuTUHCmM1CfjiqQ_U65SAXgIKB2hATWaJFxqfr6emUsHMTdqS0_79DwxqHE_PdTQobBECOiU8RHZ_kxsQ1WpY__Ud9PEn13qRtGGV_Rp1LRd14iYF4l9ns1ENhNc1Tz0JNg==\n</code></pre>\n<p>Which translates to</p>\n<pre><code>{\n  &quot;sub&quot;: &quot;testTerapeuta&quot;,\n  &quot;http://wso2.org/claims/apiname&quot;: &quot;MapsEH&quot;,\n  &quot;http://wso2.org/claims/applicationtier&quot;: &quot;Unlimited&quot;,\n  &quot;http://wso2.org/claims/version&quot;: &quot;1.0.0&quot;,\n  &quot;http://wso2.org/claims/keytype&quot;: &quot;PRODUCTION&quot;,\n  &quot;iss&quot;: &quot;wso2.org/products/am&quot;,\n  &quot;http://wso2.org/claims/applicationname&quot;: &quot;DefaultApplication&quot;,\n  &quot;http://wso2.org/claims/enduser&quot;: &quot;testTerapeuta@carbon.super&quot;,\n  &quot;http://wso2.org/claims/enduserTenantId&quot;: &quot;-1234&quot;,\n  &quot;http://wso2.org/claims/applicationUUId&quot;: &quot;a0831cb6-37ec-4ea6-8894-c9b5fb35b2c0&quot;,\n  &quot;http://wso2.org/claims/subscriber&quot;: &quot;testTerapeuta&quot;,\n  &quot;azp&quot;: &quot;N8AVO3QW0dvYLVKsQhTy_wud7jwa&quot;,\n  &quot;http://wso2.org/claims/tier&quot;: &quot;Unlimited&quot;,\n  &quot;scope&quot;: &quot;default&quot;,\n  &quot;exp&quot;: 1662110537,\n  &quot;http://wso2.org/claims/applicationid&quot;: &quot;1&quot;,\n  &quot;http://wso2.org/claims/usertype&quot;: &quot;Application_User&quot;,\n  &quot;iat&quot;: 1662109637,\n  &quot;jti&quot;: &quot;ab0ef354-fce3-4233-8323-3e8441c5c00b&quot;,\n  &quot;http://wso2.org/claims/apicontext&quot;: &quot;/maps-eh/1.0.0&quot;\n}\n</code></pre>\n<p>I also tried to compile a custom token generator as shown in the <a href=\"https://apim.docs.wso2.com/en/latest/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/\" rel=\"nofollow noreferrer\">official docs</a> but the result is the same, here is the java code that I compiled into a jar with <code>maven install</code>, filename <code>src/main/java/org/wso2/carbon/test/CustomTokenGenerator.java</code> with the jar put in the path <code>&lt;API-M_HOME&gt;/repository/components/lib</code>.</p>\n<pre><code>import org.wso2.carbon.apimgt.api.APIManagementException;\nimport org.wso2.carbon.apimgt.impl.APIConstants;\nimport org.wso2.carbon.apimgt.keymgt.service.TokenValidationContext;\nimport org.wso2.carbon.apimgt.keymgt.token.JWTGenerator;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class CustomTokenGenerator extends JWTGenerator {\n\n    public Map&lt;String, String&gt; populateStandardClaims(TokenValidationContext validationContext)\n            throws APIManagementException {\n        Map&lt;String, String&gt; claims = super.populateStandardClaims(validationContext);\n        boolean isApplicationToken =\n                validationContext.getValidationInfoDTO().getUserType().equalsIgnoreCase(APIConstants.ACCESS_TOKEN_USER_TYPE_APPLICATION) ? true : false;\n        String dialect = getDialectURI();\n        if (claims.get(dialect + &quot;/enduser&quot;) != null) {\n            if (isApplicationToken) {\n                claims.put(dialect + &quot;/enduser&quot;, &quot;null&quot;);\n                claims.put(dialect + &quot;/enduserTenantId&quot;, &quot;null&quot;);\n            } else {\n                String enduser = claims.get(dialect + &quot;/enduser&quot;);\n                if (enduser.endsWith(&quot;@carbon.super&quot;)) {\n                    enduser = enduser.replace(&quot;@carbon.super&quot;, &quot;&quot;);\n                    claims.put(dialect + &quot;/enduser&quot;, enduser);\n                }\n            }\n            claims.put(dialect + &quot;/role&quot;, &quot;null&quot;);\n        }\n\n        return claims;\n\n    }\n\n    public Map&lt;String, String&gt; populateCustomClaims(TokenValidationContext validationContext) throws APIManagementException{\n        Long time = System.currentTimeMillis();\n        Map&lt;String,String&gt; customClaims = new HashMap&lt;String, String&gt;();\n        customClaims.put(&quot;current_timestamp&quot;, time.toString());\n        customClaims.put(getDialectURI() + &quot;/scope&quot;, validationContext.getValidationInfoDTO().getScopes().toString());\n        return customClaims;\n    }\n}\n</code></pre>\n<p>And also here is my docker-compose file</p>\n<pre><code>version: '3'\n\nservices:\n  mysql:\n    image: mysql:5.7.37\n    ports:\n      - 3306\n    environment:\n      MYSQL_ROOT_PASSWORD: *\n    volumes:\n      - ./conf/mysql/scripts:/docker-entrypoint-initdb.d\n      - ./conf/mysql/conf/my.cnf:/etc/mysql/my.cnf\n    ulimits:\n      nofile:\n        soft: 20000\n        hard: 40000\n    command: [--ssl=0]\n    healthcheck:\n      test: [&quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-uroot&quot;, &quot;-proot&quot;]\n      interval: 30s\n      timeout: 60s\n      retries: 5\n      start_period: 80s\n  is-as-km:\n    build: ./dockerfiles/is-as-km (image wso2/wso2is:5.11.0)\n    healthcheck:\n      test: [&quot;CMD&quot;, &quot;nc&quot;, &quot;-z&quot;,&quot;localhost&quot;, &quot;9444&quot;]\n      interval: 10s\n      start_period: 180s\n      retries: 20\n    depends_on:\n      mysql:\n        condition: service_healthy\n    volumes:\n      - ./conf/is-as-km:/home/wso2carbon/wso2-config-volume\n    ports:\n      - &quot;9444:9444&quot;\n  api-manager:\n    build: ./dockerfiles/apim (image wso2/wso2am:4.1.0)\n    healthcheck:\n      test: [&quot;CMD&quot;, &quot;nc&quot;, &quot;-z&quot;,&quot;localhost&quot;, &quot;9443&quot;]\n      interval: 10s\n      start_period: 180s\n      retries: 20\n    depends_on:\n      mysql:\n        condition: service_healthy\n      is-as-km:\n        condition: service_healthy\n    volumes:\n      - ./conf/apim:/home/wso2carbon/wso2-config-volume\n    ports:\n      - &quot;9443:9443&quot;\n      - &quot;8280:8280&quot;\n      - &quot;8243:8243&quot;\n  backend:\n    build: .\n    restart: always\n    container_name: myapp\n    #working_dir: /app\n    ports:\n      - &quot;3000:3000&quot;\n      - &quot;2999:3001&quot;\n    env_file:\n      - .env\n    volumes:\n      - ./src:/home/node/app/src\n      - ./public:/home/node/app/public\n      - ./node_modules:/home/node/app/node_modules\n</code></pre>\n<p>Finally the relevant part of my <code>deployment.toml</code> file following</p>\n<pre><code>[apim.jwt]\nenable = true\nencoding = &quot;base64&quot; #base64,base64url\n#generator_impl = &quot;org.wso2.carbon.test.CustomTokenGenerator&quot;\ngenerator_impl = &quot;org.wso2.carbon.apimgt.gateway.handlers.security.jwt.generator.APIMgtGatewayJWTGeneratorImpl&quot;\nclaim_dialect = &quot;http://wso2.org/claims&quot;\n#convert_dialect = false\nheader = &quot;X-JWT-Assertion&quot;\nsigning_algorithm = &quot;SHA256withRSA&quot;\nenable_user_claims = true\nclaims_extractor_impl = &quot;org.wso2.carbon.apimgt.impl.token.ExtendedDefaultClaimsRetriever&quot;\n\n#[apim.jwt.gateway_generator]\n#impl = &quot;org.wso2.carbon.test.CustomTokenGenerator&quot;\n\n[apim.key_manager]\nservice_url = &quot;https://is-as-km:9444/services/&quot;\ntype = &quot;WSO2-IS&quot;\n</code></pre>\n<p>Any hint about what may be wrong? Thanks</p>\n"},{"tags":["java","object","methods","point-of-sale"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662457245,"post_id":73619572,"comment_id":130004124,"body_markdown":"What is the purpose of the converting between number and string back and forth, i.e. `String.valueOf(Math.abs(Integer.parseInt(Byte.toString((byte) id.getMostSignificantBits()))))`? There’s no difference to `String.valueOf(Math.abs((byte) id.getMostSignificantBits()))`. But even this is a waste of resources, creating a random UUID, just to effectively creating a random byte.","body":"What is the purpose of the converting between number and string back and forth, i.e. <code>String.valueOf(Math.abs(Integer.parseInt(Byte.toString((byte&zwnj;&#8203;) id.getMostSignificantBits()))))</code>? There’s no difference to <code>String.valueOf(Math.abs((byte) id.getMostSignificantBits()))</code>. But even this is a waste of resources, creating a random UUID, just to effectively creating a random byte."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662461158,"creation_date":1662461158,"answer_id":73620710,"question_id":73619572,"body_markdown":"Let&#39;s have a look at your code. Your method `setId` doesn&#39;t set an ID, so the name is misleading or you want to have a different functionality.\r\n\r\nThe code generates a type 4 UUID and gets its most significant 64 bits. Then, there&#39;s a cast to type `byte`, that is you effectively use only the lower 8 significant bits of the most significant 64 bits of the UUID. 8 bits are 256 different values in the range from -128 to 127. Afterwards you convert them to String, parse this String as int, calculate its absolute value and convert it back to String.\r\n\r\nIn the end, you&#39;ll get a random value between 0 and 255 (incl.), represented as String which you can get also by e.g. `Integer.toString((int)(Math.random() * 256))`, or `rand.nextInt(256)` with `rand` being of type `java.util.Random`.\r\n\r\nBack to the naming of the method. It&#39;s unclear if this is a utility method or if it is part of your Employee class (btw: type names are written in UpperCamelCase in Java by convention, so it&#39;s class Employee instead of employee).\r\n\r\nI&#39;ll assume you want this method to be part of the Employee class, so the question is, how can you set the ID of some employee?\r\n\r\n```\r\npublic class Employee {\r\n    private String id; // the id of the employee\r\n\r\n    public final void setId() {\r\n        id = Integer.toString((int)(Math.random() * 256));\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nIf you now call \r\n\r\n```\r\nEmployee emp1 = new Employee(&quot;sarah&quot;, 2500,300);\r\nemp1.setId();\r\n```\r\n\r\nthe id of emp1 will be set. Usually you want this to happen at the time the object is constructed, so you call this method inside the constructor. Then, you can optionally make this method private to prevent it from being called by objects of some other type (you encapsulate the functionality). \r\n\r\nApart from that you should think about using the UUID directly (e. g. member variable declaration `private UUID id;`) because a random number out of 256 is very likely to produce duplicates which is not the purpose of an ID.","title":"Assign a method number to an object in Java","body":"<p>Let's have a look at your code. Your method <code>setId</code> doesn't set an ID, so the name is misleading or you want to have a different functionality.</p>\n<p>The code generates a type 4 UUID and gets its most significant 64 bits. Then, there's a cast to type <code>byte</code>, that is you effectively use only the lower 8 significant bits of the most significant 64 bits of the UUID. 8 bits are 256 different values in the range from -128 to 127. Afterwards you convert them to String, parse this String as int, calculate its absolute value and convert it back to String.</p>\n<p>In the end, you'll get a random value between 0 and 255 (incl.), represented as String which you can get also by e.g. <code>Integer.toString((int)(Math.random() * 256))</code>, or <code>rand.nextInt(256)</code> with <code>rand</code> being of type <code>java.util.Random</code>.</p>\n<p>Back to the naming of the method. It's unclear if this is a utility method or if it is part of your Employee class (btw: type names are written in UpperCamelCase in Java by convention, so it's class Employee instead of employee).</p>\n<p>I'll assume you want this method to be part of the Employee class, so the question is, how can you set the ID of some employee?</p>\n<pre><code>public class Employee {\n    private String id; // the id of the employee\n\n    public final void setId() {\n        id = Integer.toString((int)(Math.random() * 256));\n    }\n\n    // ...\n}\n</code></pre>\n<p>If you now call</p>\n<pre><code>Employee emp1 = new Employee(&quot;sarah&quot;, 2500,300);\nemp1.setId();\n</code></pre>\n<p>the id of emp1 will be set. Usually you want this to happen at the time the object is constructed, so you call this method inside the constructor. Then, you can optionally make this method private to prevent it from being called by objects of some other type (you encapsulate the functionality).</p>\n<p>Apart from that you should think about using the UUID directly (e. g. member variable declaration <code>private UUID id;</code>) because a random number out of 256 is very likely to produce duplicates which is not the purpose of an ID.</p>\n"}],"owner":{"account_id":22253475,"reputation":1,"user_id":16485981,"display_name":"Pristige Beetle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662461158,"creation_date":1662455976,"question_id":73619572,"body_markdown":"I made this method which generates an ID number:\r\n\r\n    public String setID() {\r\n        UUID id = UUID.randomUUID();\r\n        String numericUUID = String.valueOf(Math.abs(Integer.parseInt(Byte.toString((byte) id.getMostSignificantBits()))));\r\n        return numericUUID;\r\n    }\r\n\r\nNow I want to assign each number generated to a specific object such: \r\n\r\n    employee emp1 = new employee(&quot;sarah&quot;, 2500,300);\r\n\r\nHow can I do that in the simplest way possible?\r\n","title":"Assign a method number to an object in Java","body":"<p>I made this method which generates an ID number:</p>\n<pre><code>public String setID() {\n    UUID id = UUID.randomUUID();\n    String numericUUID = String.valueOf(Math.abs(Integer.parseInt(Byte.toString((byte) id.getMostSignificantBits()))));\n    return numericUUID;\n}\n</code></pre>\n<p>Now I want to assign each number generated to a specific object such:</p>\n<pre><code>employee emp1 = new employee(&quot;sarah&quot;, 2500,300);\n</code></pre>\n<p>How can I do that in the simplest way possible?</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":6,"creation_date":1537951501,"post_id":52513490,"comment_id":91966767,"body_markdown":"Hmm, I can see three `while` loops","body":"Hmm, I can see three <code>while</code> loops"},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1537951586,"post_id":52513490,"comment_id":91966816,"body_markdown":"Yes, why would you need more than one?","body":"Yes, why would you need more than one?"},{"owner":{"account_id":7210927,"reputation":71,"user_id":5505079,"display_name":"Akshay Salvi"},"score":0,"creation_date":1537953588,"post_id":52513490,"comment_id":91968063,"body_markdown":"yes indeed there are 3 while loops, but it iterates through the array just once. I agree it&#39;s not the best solution but that was the first solution that came to mind.","body":"yes indeed there are 3 while loops, but it iterates through the array just once. I agree it&#39;s not the best solution but that was the first solution that came to mind."}],"answers":[{"tags":[],"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1537951702,"creation_date":1537951702,"answer_id":52513600,"question_id":52513490,"body_markdown":"    while (true) {\r\n        // ....\r\n    \r\n        if( j - i &gt; maxLen) {\r\n            maxLen = j - i;\r\n            j++;\r\n            break;\r\n        }\r\n    \r\n    }\r\n\r\nIn this part, you are not breaking the infinity loop unless the current length is maximum than `maxLen`. This loop can be infinite and the program will give you TLE.\r\n\r\nI removed the loop and did some modification here:\r\n\r\n    public static int findMaxConsecutiveOnes(int[] nums) {      \r\n    \r\n         int i=0, j=0, maxLen=0;\r\n    \r\n         while(j&lt;nums.length) {\r\n    \r\n             if(nums[j] == 1) {\r\n    \r\n                i=j;\r\n                while (j + 1 &lt; nums.length &amp;&amp; nums[j + 1] == 1) {\r\n                    j++;\r\n                }\r\n    \r\n                if( j - i + 1 &gt; maxLen) {\r\n                    maxLen = j - i + 1;\r\n                }\r\n             }\r\n             \r\n             j++;        \r\n         }\r\n    \r\n         return maxLen;\r\n    \r\n    }\r\n\r\n","title":"Max Consecutive Ones in a given array(Leetcode)","body":"<pre><code>while (true) {\n    // ....\n\n    if( j - i &gt; maxLen) {\n        maxLen = j - i;\n        j++;\n        break;\n    }\n\n}\n</code></pre>\n\n<p>In this part, you are not breaking the infinity loop unless the current length is maximum than <code>maxLen</code>. This loop can be infinite and the program will give you TLE.</p>\n\n<p>I removed the loop and did some modification here:</p>\n\n<pre><code>public static int findMaxConsecutiveOnes(int[] nums) {      \n\n     int i=0, j=0, maxLen=0;\n\n     while(j&lt;nums.length) {\n\n         if(nums[j] == 1) {\n\n            i=j;\n            while (j + 1 &lt; nums.length &amp;&amp; nums[j + 1] == 1) {\n                j++;\n            }\n\n            if( j - i + 1 &gt; maxLen) {\n                maxLen = j - i + 1;\n            }\n         }\n\n         j++;        \n     }\n\n     return maxLen;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":348807,"reputation":460,"user_id":683714,"accept_rate":73,"display_name":"Samoth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537951734,"creation_date":1537951734,"answer_id":52513614,"question_id":52513490,"body_markdown":"Three `while` loops. In my opinion your code is too complex. You just need only **one** loop.\r\n\r\nSome simpler solution:\r\n\r\n    public static int findMaxConsecutiveOnes(int[] nums) {\r\n        int maxCount = 0;\r\n        int currentCount = 0;\r\n        for (int number : nums) {\r\n            if (number == 1) {\r\n                currentCount++;\r\n            } else {\r\n                currentCount = 0;\r\n            }\r\n            maxCount = Math.max(maxCount, currentCount);\r\n        }\r\n        return maxCount;\r\n    }","title":"Max Consecutive Ones in a given array(Leetcode)","body":"<p>Three <code>while</code> loops. In my opinion your code is too complex. You just need only <strong>one</strong> loop.</p>\n\n<p>Some simpler solution:</p>\n\n<pre><code>public static int findMaxConsecutiveOnes(int[] nums) {\n    int maxCount = 0;\n    int currentCount = 0;\n    for (int number : nums) {\n        if (number == 1) {\n            currentCount++;\n        } else {\n            currentCount = 0;\n        }\n        maxCount = Math.max(maxCount, currentCount);\n    }\n    return maxCount;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537952232,"creation_date":1537952232,"answer_id":52513769,"question_id":52513490,"body_markdown":"One loop enough. Calling Math.max at min.\r\n\r\n    public static int findMaxConsecutiveOnes(int[] nums) {\r\n\r\n     int reset = 0, run=0, maxLen=0;\r\n\r\n     for (int i = 0 ; i &lt; nums.length; i++) {\r\n     \r\n        if ( nums[i] == 1 ) {\r\n            run++;\r\n        } else {\r\n            maxLen = Math.max(maxLen, run);\r\n            run = 0;\r\n        }\r\n     }\r\n     maxLen = Math.max(maxLen, run);\r\n     \r\n     return maxLen;\r\n    }\r\n","title":"Max Consecutive Ones in a given array(Leetcode)","body":"<p>One loop enough. Calling Math.max at min.</p>\n\n<pre><code>public static int findMaxConsecutiveOnes(int[] nums) {\n\n int reset = 0, run=0, maxLen=0;\n\n for (int i = 0 ; i &lt; nums.length; i++) {\n\n    if ( nums[i] == 1 ) {\n        run++;\n    } else {\n        maxLen = Math.max(maxLen, run);\n        run = 0;\n    }\n }\n maxLen = Math.max(maxLen, run);\n\n return maxLen;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18057661,"reputation":11,"user_id":13125640,"display_name":"Ankita1989s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595862859,"creation_date":1595862859,"answer_id":63118286,"question_id":52513490,"body_markdown":"    public class ConsecutiveOne {\r\n    \r\n    \r\n        public  static int  Consecutiveones(int[] nums)\r\n        {\r\n            int count=0;\r\n            HashSet Consecutivecount=new HashSet();\r\n           // Object[] obj=new Object[]{};\r\n    \r\n            for(int i=0;i&lt;nums.length;i++)\r\n            {\r\n                if(nums[i]==1)\r\n                {\r\n                    count++;\r\n    \r\n                    if(i==nums.length-1)\r\n                    {\r\n                        Consecutivecount.add(count);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n    \r\n                    Consecutivecount.add(count);\r\n                    count=0;\r\n                }\r\n            }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    return (int) Collections.max(Consecutivecount);\r\n        }\r\n        public static void main(String[] args)\r\n        {\r\n            int[] arr={1,1,1,1,0,0,1,1,1,0,1,1,1,1,1};\r\n    \r\n        int longestCOunt= Consecutiveones(arr);\r\n        System.out.println(longestCOunt);\r\n        }\r\n    }","title":"Max Consecutive Ones in a given array(Leetcode)","body":"<pre><code>public class ConsecutiveOne {\n\n\n    public  static int  Consecutiveones(int[] nums)\n    {\n        int count=0;\n        HashSet Consecutivecount=new HashSet();\n       // Object[] obj=new Object[]{};\n\n        for(int i=0;i&lt;nums.length;i++)\n        {\n            if(nums[i]==1)\n            {\n                count++;\n\n                if(i==nums.length-1)\n                {\n                    Consecutivecount.add(count);\n                }\n            }\n            else\n            {\n\n                Consecutivecount.add(count);\n                count=0;\n            }\n        }\n\n\n\n\n\nreturn (int) Collections.max(Consecutivecount);\n    }\n    public static void main(String[] args)\n    {\n        int[] arr={1,1,1,1,0,0,1,1,1,0,1,1,1,1,1};\n\n    int longestCOunt= Consecutiveones(arr);\n    System.out.println(longestCOunt);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15662878,"reputation":1,"user_id":11301405,"display_name":"Lannie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662460915,"creation_date":1662460915,"answer_id":73620665,"question_id":52513490,"body_markdown":"    class Solution {\r\n        public int findMaxConsecutiveOnes(int[] nums) {\r\n            int leftEnd =0;\r\n            int maxConCount =0;\r\n            \r\n            while(leftEnd&lt;nums.length){\r\n                if(nums[leftEnd]==0){\r\n                    leftEnd++;\r\n                }else{\r\n                    int rightEnd = leftEnd;\r\n                    while(rightEnd&lt;nums.length &amp;&amp; nums[rightEnd]==1){\r\n                        rightEnd++;\r\n                        maxConCount = Math.max(maxConCount,(rightEnd-leftEnd));\r\n                    }\r\n                    leftEnd = rightEnd++;\r\n                }\r\n            }\r\n            return maxConCount;\r\n        }\r\n    }","title":"Max Consecutive Ones in a given array(Leetcode)","body":"<pre><code>class Solution {\n    public int findMaxConsecutiveOnes(int[] nums) {\n        int leftEnd =0;\n        int maxConCount =0;\n        \n        while(leftEnd&lt;nums.length){\n            if(nums[leftEnd]==0){\n                leftEnd++;\n            }else{\n                int rightEnd = leftEnd;\n                while(rightEnd&lt;nums.length &amp;&amp; nums[rightEnd]==1){\n                    rightEnd++;\n                    maxConCount = Math.max(maxConCount,(rightEnd-leftEnd));\n                }\n                leftEnd = rightEnd++;\n            }\n        }\n        return maxConCount;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7210927,"reputation":71,"user_id":5505079,"display_name":"Akshay Salvi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":52513600,"answer_count":5,"score":-1,"last_activity_date":1662460915,"creation_date":1537951259,"question_id":52513490,"body_markdown":"I&#39;m trying to find the maximum number of consecutive 1s in the array with O(n) time complexity and not utilizing more than one unit of space.(Other than the variables used for iterating through the array). Here&#39;s the code I&#39;ve come up with, but Leetcode submission shows it&#39;s exceeding the time limit. I&#39;m struggling to understand how is it exceeding the time limit because I iterate each element of the array just once and run the logic in the same iteration.\r\n\r\n    public class MaxConsecutive {\r\n\r\n\t  public static void main(String[] args) {\r\n\t\t\r\n\t\tSystem.out.println(findMaxConsecutiveOnes(new int[] {0,1,0,0,0,0,1,1,1}));\r\n\t  }\r\n\r\n\t   public static int findMaxConsecutiveOnes(int[] nums) {\r\n\t     \r\n\t\t int i=0, j=0, maxLen=0;\r\n\t\t \r\n\t\t while(j&lt;nums.length) {\r\n\t\t\t \r\n\t\t\t if(nums[j] == 1) {\r\n\t\t\t\t \r\n\t\t\t\ti=j; \r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\twhile (j &lt; nums.length &amp;&amp; nums[j] == 1) {\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif( j - i &gt; maxLen) {\r\n\t\t\t\t\t\tmaxLen = j - i;\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t }\r\n\t\t\t else\r\n\t\t\t\t j++; \r\n\t\t }\r\n\t\t return maxLen;\r\n\t    }\r\n    }","title":"Max Consecutive Ones in a given array(Leetcode)","body":"<p>I'm trying to find the maximum number of consecutive 1s in the array with O(n) time complexity and not utilizing more than one unit of space.(Other than the variables used for iterating through the array). Here's the code I've come up with, but Leetcode submission shows it's exceeding the time limit. I'm struggling to understand how is it exceeding the time limit because I iterate each element of the array just once and run the logic in the same iteration.</p>\n\n<pre><code>public class MaxConsecutive {\n\n  public static void main(String[] args) {\n\n    System.out.println(findMaxConsecutiveOnes(new int[] {0,1,0,0,0,0,1,1,1}));\n  }\n\n   public static int findMaxConsecutiveOnes(int[] nums) {\n\n     int i=0, j=0, maxLen=0;\n\n     while(j&lt;nums.length) {\n\n         if(nums[j] == 1) {\n\n            i=j; \n            while (true) {\n                while (j &lt; nums.length &amp;&amp; nums[j] == 1) {\n                    j++;\n                }\n\n                if( j - i &gt; maxLen) {\n                    maxLen = j - i;\n                    j++;\n                    break;\n                }\n            }\n         }\n         else\n             j++; \n     }\n     return maxLen;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1662462951,"post_id":73620625,"comment_id":130006029,"body_markdown":"There is no `id` in your given code chunk: `&lt;table role=&quot;grid&quot; aria-multiselectable=&quot;false&quot; aria-rowcount=&quot;93&quot;&gt;`. So how can you find a table with id `MyTable` , like you are doing here: `getTable(&quot;MyTable&quot;)`\n\nI am sorry, I guess nobody can help without relevant code and relevant data(in this case, your html file sample)","body":"There is no <code>id</code> in your given code chunk: <code>&lt;table role=&quot;grid&quot; aria-multiselectable=&quot;false&quot; aria-rowcount=&quot;93&quot;&gt;</code>. So how can you find a table with id <code>MyTable</code> , like you are doing here: <code>getTable(&quot;MyTable&quot;)</code>  I am sorry, I guess nobody can help without relevant code and relevant data(in this case, your html file sample)"},{"owner":{"account_id":25966286,"reputation":3,"user_id":19682196,"display_name":"Latest"},"score":0,"creation_date":1662464475,"post_id":73620625,"comment_id":130006580,"body_markdown":"aria-table is within div with classname &#39;v-grid v-widget v-has-width v-has-height&#39; and that div has an ID which i enter into getTable method. and i suppose this table is not an actual table but only a grid, so this grid displays only 29 rows which is exactly what is on a screen at the moment. but how to get whole table i just can\\t figure that out.","body":"aria-table is within div with classname &#39;v-grid v-widget v-has-width v-has-height&#39; and that div has an ID which i enter into getTable method. and i suppose this table is not an actual table but only a grid, so this grid displays only 29 rows which is exactly what is on a screen at the moment. but how to get whole table i just can\\t figure that out."},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1662468354,"post_id":73620625,"comment_id":130008060,"body_markdown":"Yeah, but we cannot guess without html file. Maybe other rows are not in `tr` tags, or maybe in a different div/table altogether. You&#39;ll have to share html file, Maybe you can remove sensitive data from it, or generate it using dummy data","body":"Yeah, but we cannot guess without html file. Maybe other rows are not in <code>tr</code> tags, or maybe in a different div/table altogether. You&#39;ll have to share html file, Maybe you can remove sensitive data from it, or generate it using dummy data"},{"owner":{"account_id":25966286,"reputation":3,"user_id":19682196,"display_name":"Latest"},"score":0,"creation_date":1662470538,"post_id":73620625,"comment_id":130008958,"body_markdown":"i wish i could share html, but in the body of it it is really a mess like wrapped text, don&#39;t have a time to make it prettier. maybe image would help somehow https://postimg.cc/qhDYBNqg","body":"i wish i could share html, but in the body of it it is really a mess like wrapped text, don&#39;t have a time to make it prettier. maybe image would help somehow <a href=\"https://postimg.cc/qhDYBNqg\" rel=\"nofollow noreferrer\">postimg.cc/qhDYBNqg</a>"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1662521473,"post_id":73620625,"comment_id":130021897,"body_markdown":"Are the rows lazy loaded on the fly, as you scroll down?","body":"Are the rows lazy loaded on the fly, as you scroll down?"},{"owner":{"account_id":25966286,"reputation":3,"user_id":19682196,"display_name":"Latest"},"score":0,"creation_date":1662524547,"post_id":73620625,"comment_id":130022305,"body_markdown":"Seems so, all i see in DOM if i scroll, that Y parameter in translate3d(x,y,z) is changing its value.","body":"Seems so, all i see in DOM if i scroll, that Y parameter in translate3d(x,y,z) is changing its value."},{"owner":{"account_id":25966286,"reputation":3,"user_id":19682196,"display_name":"Latest"},"score":0,"creation_date":1662540128,"post_id":73620625,"comment_id":130026589,"body_markdown":"i suppose that this tip might help https://stackoverflow.com/questions/20465671/how-can-i-disable-vaadin-table-lazy-loading?rq=1 to set pageLength, but i don&#39;t understand how to apply that to my test. has anyone such experience?","body":"i suppose that this tip might help <a href=\"https://stackoverflow.com/questions/20465671/how-can-i-disable-vaadin-table-lazy-loading?rq=1\" title=\"how can i disable vaadin table lazy loading\">stackoverflow.com/questions/20465671/&hellip;</a> to set pageLength, but i don&#39;t understand how to apply that to my test. has anyone such experience?"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1662550760,"post_id":73620625,"comment_id":130030718,"body_markdown":"How does it work from a user perspective? I mean does user have to scroll down to load more records, or are there any &quot;load more&quot; links? User actions can be simulated in good web clients like Selenium","body":"How does it work from a user perspective? I mean does user have to scroll down to load more records, or are there any &quot;load more&quot; links? User actions can be simulated in good web clients like Selenium"},{"owner":{"account_id":25966286,"reputation":3,"user_id":19682196,"display_name":"Latest"},"score":0,"creation_date":1662555742,"post_id":73620625,"comment_id":130032780,"body_markdown":"appreciate attention. from user perspective it is just a big table so that you have to scroll down to see more rows and there is no pages or &quot;load more&quot; options.","body":"appreciate attention. from user perspective it is just a big table so that you have to scroll down to see more rows and there is no pages or &quot;load more&quot; options."},{"owner":{"account_id":25966286,"reputation":3,"user_id":19682196,"display_name":"Latest"},"score":0,"creation_date":1663129975,"post_id":73620625,"comment_id":130163900,"body_markdown":"seems noone has encountered this.. sad","body":"seems noone has encountered this.. sad"}],"owner":{"account_id":25966286,"reputation":3,"user_id":19682196,"display_name":"Latest"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662460741,"creation_date":1662460741,"question_id":73620625,"body_markdown":"I am getting table row count but row count isn&#39;t correct. Or at least it is not what is expected. \r\nI need to get the same amount of rows as Developer Tools&#39;s info shows in tag table: &quot;table role=&quot;grid&quot; aria-multiselectable=&quot;false&quot; aria-rowcount=&quot;93&quot;&quot;.\r\n\r\nCode:\r\n\r\nmethod getTable:\r\n\r\n    public Table getTable(String table) {\r\n    \t\treturn new Table(driver, driver.findElement(By.xpath(&quot;//*[@id=&#39;&quot; + table + &quot;&#39;]//tbody&quot;)));\r\n    \t}\r\n\t\r\nmethod getRowCount:\r\n\r\n    public int getRowCount() {\r\n    \treturn tableContent.findElements(By.tagName(&quot;tr&quot;)).size();\r\n    }\r\n\r\nand in the test i call it like this:\r\n\r\n    getTable(&quot;MyTable&quot;).getRowCount();\r\n\r\nand the result is for example 29. But in Developers Tools i see &lt;table role=&quot;grid&quot; aria-multiselectable=&quot;false&quot; **aria-rowcount=&quot;93&quot;**&gt;\r\n\r\nThe question is, how to get this whole table, that has 93 rows in it? How to get this aria table?\r\nI already tried so many xpath paths, so i just can&#39;t figure it out. Maybe anyone already met something like this? \r\n\r\nMaybe it could be case like this: https://stackoverflow.com/questions/70726960/scrapping-dynamic-table-using-selenium-webdriver-wait-returning-truncated-data-f\r\nBut in my case **there are no pagination visible**. All i have in front of my eyes is a big table with more than 29 rows definitely.\r\n\r\nI apologize again cause i cannot share the project and i really can&#39;t find any alike code examples on which you can test the code, but could be really useful to get at least some tips from you.","title":"Getting size of table less than aria-rowcount","body":"<p>I am getting table row count but row count isn't correct. Or at least it is not what is expected.\nI need to get the same amount of rows as Developer Tools's info shows in tag table: &quot;table role=&quot;grid&quot; aria-multiselectable=&quot;false&quot; aria-rowcount=&quot;93&quot;&quot;.</p>\n<p>Code:</p>\n<p>method getTable:</p>\n<pre><code>public Table getTable(String table) {\n        return new Table(driver, driver.findElement(By.xpath(&quot;//*[@id='&quot; + table + &quot;']//tbody&quot;)));\n    }\n</code></pre>\n<p>method getRowCount:</p>\n<pre><code>public int getRowCount() {\n    return tableContent.findElements(By.tagName(&quot;tr&quot;)).size();\n}\n</code></pre>\n<p>and in the test i call it like this:</p>\n<pre><code>getTable(&quot;MyTable&quot;).getRowCount();\n</code></pre>\n<p>and the result is for example 29. But in Developers Tools i see &lt;table role=&quot;grid&quot; aria-multiselectable=&quot;false&quot; <strong>aria-rowcount=&quot;93&quot;</strong>&gt;</p>\n<p>The question is, how to get this whole table, that has 93 rows in it? How to get this aria table?\nI already tried so many xpath paths, so i just can't figure it out. Maybe anyone already met something like this?</p>\n<p>Maybe it could be case like this: <a href=\"https://stackoverflow.com/questions/70726960/scrapping-dynamic-table-using-selenium-webdriver-wait-returning-truncated-data-f\">Scrapping Dynamic Table Using Selenium WebDriver Wait Returning Truncated Data Frame</a>\nBut in my case <strong>there are no pagination visible</strong>. All i have in front of my eyes is a big table with more than 29 rows definitely.</p>\n<p>I apologize again cause i cannot share the project and i really can't find any alike code examples on which you can test the code, but could be really useful to get at least some tips from you.</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1662398237,"post_id":73612765,"comment_id":129992097,"body_markdown":"So what exactly is the question?","body":"So what exactly is the question?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1662398546,"post_id":73612765,"comment_id":129992189,"body_markdown":"Try forming the queries into `String` variables first and log them for debugging and supply the variable as the parameter.  You&#39;ll soon see that the queries are not formed correctly. And logically they make no sense (putting aside syntax) - a column cannot both be 1 AND 2 eg..","body":"Try forming the queries into <code>String</code> variables first and log them for debugging and supply the variable as the parameter.  You&#39;ll soon see that the queries are not formed correctly. And logically they make no sense (putting aside syntax) - a column cannot both be 1 AND 2 eg.."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662429623,"post_id":73612765,"comment_id":129997861,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":17743196,"reputation":55,"user_id":12883017,"display_name":"Şageldi Aly&#253;ew"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1662454842,"creation_date":1662454842,"answer_id":73619349,"question_id":73612765,"body_markdown":"**I think Room database better than Sqlite. Room database also create Sqlite database, but Room db is easy to use. Room is Sqlite ORM like the Node JS Prisama. You don&#39;t need Cursor if you use Room db, because Room database return List,Object class or variable when you select something**\r\n\r\n[You can find Room database implementation here][1]\r\n\r\n\r\n[I write one example here, If you need][2]\r\n\r\n*Caution: Although these APIs are powerful, they are fairly low-level and require a great deal of time and effort to use:\r\nThere is no compile-time verification of raw SQL queries. As your data graph changes, you need to update the affected SQL queries manually. This process can be time consuming and error prone.\r\nYou need to use lots of boilerplate code to convert between SQL queries and data objects.\r\nFor these reasons, we highly recommended using the Room Persistence Library as an abstraction layer for accessing information in your app&#39;s SQLite databases.*\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/room\r\n  [2]: https://stackoverflow.com/questions/73601436/insert-into-local-sql-lite-databse-recived-push-notification-from-firebase-cloud/73610834#73610834","title":"SQLite SUM query in Java on Android","body":"<p><strong>I think Room database better than Sqlite. Room database also create Sqlite database, but Room db is easy to use. Room is Sqlite ORM like the Node JS Prisama. You don't need Cursor if you use Room db, because Room database return List,Object class or variable when you select something</strong></p>\n<p><a href=\"https://developer.android.com/training/data-storage/room\" rel=\"nofollow noreferrer\">You can find Room database implementation here</a></p>\n<p><a href=\"https://stackoverflow.com/questions/73601436/insert-into-local-sql-lite-databse-recived-push-notification-from-firebase-cloud/73610834#73610834\">I write one example here, If you need</a></p>\n<p><em>Caution: Although these APIs are powerful, they are fairly low-level and require a great deal of time and effort to use:\nThere is no compile-time verification of raw SQL queries. As your data graph changes, you need to update the affected SQL queries manually. This process can be time consuming and error prone.\nYou need to use lots of boilerplate code to convert between SQL queries and data objects.\nFor these reasons, we highly recommended using the Room Persistence Library as an abstraction layer for accessing information in your app's SQLite databases.</em></p>\n"},{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662460467,"creation_date":1662460096,"answer_id":73620478,"question_id":73612765,"body_markdown":"Ignoring the fact that your code will not work hence the red underlined sections in the images.\r\n\r\nYou could use a query two will retrieve two rows each containing a single value, the first being total1 the second being total2 in a single query.\r\n\r\nAs an example if the table is called **choice** and it has 3 columns price, _order and sub and is created using:-\r\n\r\n    CREATE TABLE IF NOT EXISTS choice (price INTEGER,_order INTEGER, sub INTEGER);\r\n\r\n- note that order is an SQLite keyword and would be an invalid column name so _order has been used.\r\n\r\nThen you could use a query such as:-\r\n\r\n    SELECT sum(CASE WHEN sub=1 THEN price ELSE -price END) AS total, _order AS indicator FROM choice WHERE _order BETWEEN 1 AND 2 AND sub BETWEEN 1 AND 3 GROUP BY _order ORDER BY _order;\r\n\r\n\r\n- note that in the above each row output (one per order) is the sum of the sub 1 rows - the sum of the sub 2 and the sub 3 rows.\r\n\r\nFor example using an SQLite tool (Navicat for SQLite in this case) and the following:-\r\n\r\n    DROP TABLE IF EXISTS choice;\r\n    CREATE TABLE IF NOT EXISTS choice (price INTEGER,_order INTEGER, sub INTEGER);\r\n    INSERT INTO choice VALUES \r\n    \t(10,1,1),(20,1,1),(30,1,1), /* + 60 */\r\n    \t(11,1,2),(12,1,2),(13,1,2),(14,1,2), /*( - 50) */\r\n    \t(100,1,3),(101,1,3),(102,1,3), /* - 303 */\r\n    \t/* total -293 */\r\n    \t(5,2,1),(10,2,1),(15,2,1),(20,2,1),(25,2,1), /* + 75 */\r\n    \t(1000,2,2),(1001,2,2), /* - 2001 */\r\n    \t(10000,2,3),(12000,2,3) /* - 22000 */\r\n    ;\r\n    SELECT \r\n    \tsum(\r\n    \t\tCASE \r\n    \t\t\tWHEN sub=1 THEN price \r\n    \t\t\tELSE -price \r\n    \t\tEND) AS total,\r\n    \t_order AS indicator \r\n    FROM choice \r\n    WHERE _order BETWEEN 1 AND 2 AND sub BETWEEN 1 AND 3 \r\n    GROUP BY _order\r\n    ORDER BY _order /* not really required */\r\n    ;\r\n    \r\n    DROP TABLE IF EXISTS choice; /* cleanup test */\r\n\r\nResults in:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- The indicator column indicates which order the value is for\r\n\r\nSo your method could be along the lines of\r\n\r\n    @SuppressLint(&quot;Range&quot;)\r\n    public int[] CalsumBoth() {\r\n        int[] rv = new int[2];\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        Cursor csr = db.rawQuery(\r\n                &quot;SELECT &quot; +\r\n                        &quot;sum(CASE WHEN sub=1 THEN price ELSE -price END) AS total, &quot; +\r\n                        &quot;_order AS indicator &quot; +\r\n                        &quot;FROM choice &quot; +\r\n                        &quot;WHERE _order BETWEEN 1 AND 2 AND sub BETWEEN 1 AND 3 &quot; +\r\n                        &quot;GROUP BY _order &quot; +\r\n                        &quot;ORDER BY _order;&quot;,\r\n                null);\r\n        if (csr.getCount() == 1) {\r\n            csr.moveToFirst();\r\n            rv[0] = csr.getInt(csr.getColumnIndex(&quot;_order&quot;));\r\n            csr.moveToNext();\r\n            rv[1] = csr.getInt(csr.getColumnIndex(&quot;_odrer&quot;));\r\n        }\r\n        csr.close();\r\n        return rv;\r\n    }\r\n\r\n- note that this will return an **`int[]`** with 2 elements, the first (element 0) with total1, the second element (element 1) with total 2.\r\n- note you should ALWAYS close Cursors when done with them.\r\n    - if you leave too many open then an exception will occur.\r\n- obviously you can amend the above to introduce your constants\r\n- note should there not be the expected/required 2 rows, then both elements of the returned **`int[]`** will be 0 (you may want to use a value other than 0, or perhaps another way (3rd element) to indicate that the data was not extracted).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZCXWu.png","title":"SQLite SUM query in Java on Android","body":"<p>Ignoring the fact that your code will not work hence the red underlined sections in the images.</p>\n<p>You could use a query two will retrieve two rows each containing a single value, the first being total1 the second being total2 in a single query.</p>\n<p>As an example if the table is called <strong>choice</strong> and it has 3 columns price, _order and sub and is created using:-</p>\n<pre><code>CREATE TABLE IF NOT EXISTS choice (price INTEGER,_order INTEGER, sub INTEGER);\n</code></pre>\n<ul>\n<li>note that order is an SQLite keyword and would be an invalid column name so _order has been used.</li>\n</ul>\n<p>Then you could use a query such as:-</p>\n<pre><code>SELECT sum(CASE WHEN sub=1 THEN price ELSE -price END) AS total, _order AS indicator FROM choice WHERE _order BETWEEN 1 AND 2 AND sub BETWEEN 1 AND 3 GROUP BY _order ORDER BY _order;\n</code></pre>\n<ul>\n<li>note that in the above each row output (one per order) is the sum of the sub 1 rows - the sum of the sub 2 and the sub 3 rows.</li>\n</ul>\n<p>For example using an SQLite tool (Navicat for SQLite in this case) and the following:-</p>\n<pre><code>DROP TABLE IF EXISTS choice;\nCREATE TABLE IF NOT EXISTS choice (price INTEGER,_order INTEGER, sub INTEGER);\nINSERT INTO choice VALUES \n    (10,1,1),(20,1,1),(30,1,1), /* + 60 */\n    (11,1,2),(12,1,2),(13,1,2),(14,1,2), /*( - 50) */\n    (100,1,3),(101,1,3),(102,1,3), /* - 303 */\n    /* total -293 */\n    (5,2,1),(10,2,1),(15,2,1),(20,2,1),(25,2,1), /* + 75 */\n    (1000,2,2),(1001,2,2), /* - 2001 */\n    (10000,2,3),(12000,2,3) /* - 22000 */\n;\nSELECT \n    sum(\n        CASE \n            WHEN sub=1 THEN price \n            ELSE -price \n        END) AS total,\n    _order AS indicator \nFROM choice \nWHERE _order BETWEEN 1 AND 2 AND sub BETWEEN 1 AND 3 \nGROUP BY _order\nORDER BY _order /* not really required */\n;\n\nDROP TABLE IF EXISTS choice; /* cleanup test */\n</code></pre>\n<p>Results in:-</p>\n<p><a href=\"https://i.stack.imgur.com/ZCXWu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZCXWu.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>The indicator column indicates which order the value is for</li>\n</ul>\n<p>So your method could be along the lines of</p>\n<pre><code>@SuppressLint(&quot;Range&quot;)\npublic int[] CalsumBoth() {\n    int[] rv = new int[2];\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    Cursor csr = db.rawQuery(\n            &quot;SELECT &quot; +\n                    &quot;sum(CASE WHEN sub=1 THEN price ELSE -price END) AS total, &quot; +\n                    &quot;_order AS indicator &quot; +\n                    &quot;FROM choice &quot; +\n                    &quot;WHERE _order BETWEEN 1 AND 2 AND sub BETWEEN 1 AND 3 &quot; +\n                    &quot;GROUP BY _order &quot; +\n                    &quot;ORDER BY _order;&quot;,\n            null);\n    if (csr.getCount() == 1) {\n        csr.moveToFirst();\n        rv[0] = csr.getInt(csr.getColumnIndex(&quot;_order&quot;));\n        csr.moveToNext();\n        rv[1] = csr.getInt(csr.getColumnIndex(&quot;_odrer&quot;));\n    }\n    csr.close();\n    return rv;\n}\n</code></pre>\n<ul>\n<li>note that this will return an <strong><code>int[]</code></strong> with 2 elements, the first (element 0) with total1, the second element (element 1) with total 2.</li>\n<li>note you should ALWAYS close Cursors when done with them.\n<ul>\n<li>if you leave too many open then an exception will occur.</li>\n</ul>\n</li>\n<li>obviously you can amend the above to introduce your constants</li>\n<li>note should there not be the expected/required 2 rows, then both elements of the returned <strong><code>int[]</code></strong> will be 0 (you may want to use a value other than 0, or perhaps another way (3rd element) to indicate that the data was not extracted).</li>\n</ul>\n"}],"owner":{"account_id":26252591,"reputation":1,"user_id":19925159,"display_name":"fkkcdd ahgdf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1662460467,"creation_date":1662398124,"question_id":73612765,"body_markdown":"Android and Java beginners. I&#39;m posting a question because there&#39;s something I want to implement but can&#39;t\r\nI received the price value by dividing the order into 1 and 2 and sub into 1 and 2 and 3\r\n\r\nI want to find two values using sum function in db.\r\n\r\ntotal1 = (total sum of price values with order 1 and sub = 1) - (total sum of price values with order 1 and sub = 2) - (total sum of price values with order 1 and sub = 3)\r\nTotal2 = (total sum of price values with order 2 and sub = 1) - (total sum of price values with order 2 and sub = 2) - (total sum of price values with order 2 and sub = 3)\r\n\r\nI want to get two values and put total1 and total2 in the textview.\r\n\r\nFirst, I have to write a query in the database, but I don&#39;t know what to do. I wonder if it is right to use the cursor like this.\r\n\r\n[enter image description here][1]\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vh1pR.png\r\n  [2]: https://i.stack.imgur.com/yRxj8.png\r\n\r\n     public int Calsum1() {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            int a=0, b=0, c=0, tot1;\r\n    \r\n            Cursor cursor1 = db.rawQuery(&quot;SELECT SUM(&quot; + (DBHelper.COLUMN_CH_Price) + &quot;) FROM &quot; + DBHelper.TABLE_CHOICE\r\n                                    +&quot; WHERE &quot; +DBHelper.COLUMN_CH_SUB = 1 &amp;&amp; DBHelper.COLUMN_CH_SUB = 1, null);\r\n            if(cursor1.moveToFirst()) {\r\n               return a =cursor1.getInt(4);\r\n            }\r\n    \r\n            Cursor cursor2 = db.rawQuery(&quot;SELECT SUM(&quot; + (DBHelper.COLUMN_CH_Price) + &quot;) FROM &quot; + DBHelper.TABLE_CHOICE\r\n                    +&quot; WHERE &quot; +DBHelper.COLUMN_CH_SUB = 1 &amp;&amp; DBHelper.COLUMN_CH_SUB = 2, null);\r\n            if(cursor2.moveToFirst()) {\r\n                return b =cursor2.getInt(4);\r\n            }\r\n    \r\n            Cursor cursor3 = db.rawQuery(&quot;SELECT SUM(&quot; + (DBHelper.COLUMN_CH_Price) + &quot;) FROM &quot; + DBHelper.TABLE_CHOICE\r\n                    +&quot; WHERE &quot; +DBHelper.COLUMN_CH_SUB = 1 &amp;&amp; DBHelper.COLUMN_CH_SUB = 3, null);\r\n            if(cursor3.moveToFirst()) {\r\n                return c =cursor3.getInt(4);\r\n            }\r\n    \r\n            tot1= a-(b+c);\r\n            return tot1;\r\n        }","title":"SQLite SUM query in Java on Android","body":"<p>Android and Java beginners. I'm posting a question because there's something I want to implement but can't\nI received the price value by dividing the order into 1 and 2 and sub into 1 and 2 and 3</p>\n<p>I want to find two values using sum function in db.</p>\n<p>total1 = (total sum of price values with order 1 and sub = 1) - (total sum of price values with order 1 and sub = 2) - (total sum of price values with order 1 and sub = 3)\nTotal2 = (total sum of price values with order 2 and sub = 1) - (total sum of price values with order 2 and sub = 2) - (total sum of price values with order 2 and sub = 3)</p>\n<p>I want to get two values and put total1 and total2 in the textview.</p>\n<p>First, I have to write a query in the database, but I don't know what to do. I wonder if it is right to use the cursor like this.</p>\n<p><a href=\"https://i.stack.imgur.com/Vh1pR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/yRxj8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code> public int Calsum1() {\n        SQLiteDatabase db = this.getWritableDatabase();\n        int a=0, b=0, c=0, tot1;\n\n        Cursor cursor1 = db.rawQuery(&quot;SELECT SUM(&quot; + (DBHelper.COLUMN_CH_Price) + &quot;) FROM &quot; + DBHelper.TABLE_CHOICE\n                                +&quot; WHERE &quot; +DBHelper.COLUMN_CH_SUB = 1 &amp;&amp; DBHelper.COLUMN_CH_SUB = 1, null);\n        if(cursor1.moveToFirst()) {\n           return a =cursor1.getInt(4);\n        }\n\n        Cursor cursor2 = db.rawQuery(&quot;SELECT SUM(&quot; + (DBHelper.COLUMN_CH_Price) + &quot;) FROM &quot; + DBHelper.TABLE_CHOICE\n                +&quot; WHERE &quot; +DBHelper.COLUMN_CH_SUB = 1 &amp;&amp; DBHelper.COLUMN_CH_SUB = 2, null);\n        if(cursor2.moveToFirst()) {\n            return b =cursor2.getInt(4);\n        }\n\n        Cursor cursor3 = db.rawQuery(&quot;SELECT SUM(&quot; + (DBHelper.COLUMN_CH_Price) + &quot;) FROM &quot; + DBHelper.TABLE_CHOICE\n                +&quot; WHERE &quot; +DBHelper.COLUMN_CH_SUB = 1 &amp;&amp; DBHelper.COLUMN_CH_SUB = 3, null);\n        if(cursor3.moveToFirst()) {\n            return c =cursor3.getInt(4);\n        }\n\n        tot1= a-(b+c);\n        return tot1;\n    }\n</code></pre>\n"},{"tags":["java","javafx","textarea","changelistener"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1662456804,"post_id":73619418,"comment_id":130003964,"body_markdown":"*”Is it a correct way to do it”*. Not really. You should use a layout pane that resizes the text area the way you want. Create and post a [mre].","body":"<i>”Is it a correct way to do it”</i>. Not really. You should use a layout pane that resizes the text area the way you want. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"score":0,"creation_date":1662460443,"post_id":73619418,"comment_id":130005216,"body_markdown":"@James_D I agree, but I had to fix this quickly without changing the XML.","body":"@James_D I agree, but I had to fix this quickly without changing the XML."}],"answers":[{"tags":[],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1662460240,"creation_date":1662460240,"answer_id":73620521,"question_id":73619418,"body_markdown":"I solved this issue by adding the ChangeListener after the pStage.show(), so after calling the show() on the prinary stage, in my GUI class. \r\n\r\n    pStage.widthProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n                @Override\r\n                public void changed(ObservableValue&lt;? extends Number&gt; observableValue, Number oldValue, Number newValue) {\r\n                    getController.textarea.setPrefWidth(newValue.doubleValue());\r\n                }\r\n    });\r\n\r\n ","title":"JavaFX: Use ChangeListener to dynamically adjust TextArea according to the Scene size/Stage size","body":"<p>I solved this issue by adding the ChangeListener after the pStage.show(), so after calling the show() on the prinary stage, in my GUI class.</p>\n<pre><code>pStage.widthProperty().addListener(new ChangeListener&lt;Number&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends Number&gt; observableValue, Number oldValue, Number newValue) {\n                getController.textarea.setPrefWidth(newValue.doubleValue());\n            }\n});\n</code></pre>\n"}],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73620521,"answer_count":1,"score":-2,"last_activity_date":1662460240,"creation_date":1662455166,"question_id":73619418,"body_markdown":"I would like to use a ChangeListener to dynamically adjust the size of a TextArea, for example the width. I have created the ChangeListener, but not sure if it is correct, also unable to try due to an error (NullpointerException). This error occures due to the reason that the Stage is not yet initialized (read it on StackOverflow). I have created the listener in the controller class, and put the method adjustTextArea() into the initialize() method. \r\n\r\nI would like to aks, where to put my method, and is it a correct way to do it?\r\n\r\nThis is the method:\r\n\r\n    // ChangeListener to change width of a textarea\r\n    public void adjustTextArea(TextArea textarea){\r\n    \r\n    \t// Using a getter to get the primarystage (view is my package, GUI is a class in which I have the getter):\r\n    \tview.GUI.getpStage().maxWidthProperty().addListener(new ChangeListener&lt;Number&gt;(){\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void changed(ObservableValue&lt;? extends Number&gt; observableValue, Number oldValue, Number newValue) {\r\n    \t\t\t// To check if it is working:\r\n    \t\t\tSystem.out.println(&quot;Size changed! Original size: &quot;+oldValue.intValue()+&quot;, new size: &quot;+ newValue.intValue() + &quot;)\\n&quot;);\r\n    \t\t\t// Change TextArea size (width):\r\n    \t\t\ttextarea.setPrefWidth(newValue.doubleValue());\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\nThis is how I call my method:\r\n\r\n    @FXML\r\n    \tpublic void initialize(){\r\n    adjustTextArea(this.textarea);\r\n    }","title":"JavaFX: Use ChangeListener to dynamically adjust TextArea according to the Scene size/Stage size","body":"<p>I would like to use a ChangeListener to dynamically adjust the size of a TextArea, for example the width. I have created the ChangeListener, but not sure if it is correct, also unable to try due to an error (NullpointerException). This error occures due to the reason that the Stage is not yet initialized (read it on StackOverflow). I have created the listener in the controller class, and put the method adjustTextArea() into the initialize() method.</p>\n<p>I would like to aks, where to put my method, and is it a correct way to do it?</p>\n<p>This is the method:</p>\n<pre><code>// ChangeListener to change width of a textarea\npublic void adjustTextArea(TextArea textarea){\n\n    // Using a getter to get the primarystage (view is my package, GUI is a class in which I have the getter):\n    view.GUI.getpStage().maxWidthProperty().addListener(new ChangeListener&lt;Number&gt;(){\n\n        @Override\n        public void changed(ObservableValue&lt;? extends Number&gt; observableValue, Number oldValue, Number newValue) {\n            // To check if it is working:\n            System.out.println(&quot;Size changed! Original size: &quot;+oldValue.intValue()+&quot;, new size: &quot;+ newValue.intValue() + &quot;)\\n&quot;);\n            // Change TextArea size (width):\n            textarea.setPrefWidth(newValue.doubleValue());\n        }\n    });\n}\n</code></pre>\n<p>This is how I call my method:</p>\n<pre><code>@FXML\n    public void initialize(){\nadjustTextArea(this.textarea);\n}\n</code></pre>\n"},{"tags":["java","css","selenium","automation","webdriverwait"],"comments":[{"owner":{"account_id":11119865,"reputation":3661,"user_id":8163071,"display_name":"C. Peck"},"score":0,"creation_date":1662455997,"post_id":73618155,"comment_id":130003682,"body_markdown":"We&#39;d need to see the rest of your HTML to figure out why it&#39;s not working.","body":"We&#39;d need to see the rest of your HTML to figure out why it&#39;s not working."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662468533,"post_id":73618155,"comment_id":130008128,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662460210,"creation_date":1662460210,"answer_id":73620513,"question_id":73618155,"body_markdown":"The element `Show` button is inside an `iframe`.\r\nIn order to access the element, you need to switch to `iframe` first and then you can access the element.\r\n\r\nUse `WebDriverWait()` and wait for `frameToBeAvailableAndSwitchToIt()` and wit for `elementtobeclickable()` to click on the `Show` button.\r\n\r\n    WebDriverWait w =new WebDriverWait(dChromedriver, Duration.ofSeconds(30));\r\n    \r\n    w.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.id(&quot;FrameContent&quot;)));\r\n    \r\n    w.until(ExpectedConditions.elementToBeClickable(By.id(&quot;btnshow&quot;))).click();\r\n\r\nTo jump out from `iframe` you need to use this code.\r\n\r\n    dChromedriver.switchto().defaultcontent();\r\n\r\n\r\nSnapshot iframe:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fPZqF.png","title":"no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;input#btnshow&quot;}","body":"<p>The element <code>Show</code> button is inside an <code>iframe</code>.\nIn order to access the element, you need to switch to <code>iframe</code> first and then you can access the element.</p>\n<p>Use <code>WebDriverWait()</code> and wait for <code>frameToBeAvailableAndSwitchToIt()</code> and wit for <code>elementtobeclickable()</code> to click on the <code>Show</code> button.</p>\n<pre><code>WebDriverWait w =new WebDriverWait(dChromedriver, Duration.ofSeconds(30));\n\nw.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.id(&quot;FrameContent&quot;)));\n\nw.until(ExpectedConditions.elementToBeClickable(By.id(&quot;btnshow&quot;))).click();\n</code></pre>\n<p>To jump out from <code>iframe</code> you need to use this code.</p>\n<pre><code>dChromedriver.switchto().defaultcontent();\n</code></pre>\n<p>Snapshot iframe:</p>\n<p><a href=\"https://i.stack.imgur.com/fPZqF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fPZqF.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18124739,"reputation":51,"user_id":13180353,"display_name":"Avdhut Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662460236,"creation_date":1662448902,"question_id":73618155,"body_markdown":"I am a beginner in selenium, I am using java for that, I am getting a error saying Unable to locate element although that element is present in the web page.\r\n\r\nJava Code:\r\n\r\n        WebDriver dChromedriver=new ChromeDriver();\r\n    \tdChromedriver.get(&quot;https://erp.mitwpu.edu.in/&quot;);\r\n    \tdChromedriver.manage().window().maximize();\r\n    \tWebElement \ttxtPassword=dChromedriver.findElement(By.id(&quot;txtPassword&quot;)) ;\r\n    \tWebElement txtUserId=dChromedriver.findElement(By.id(&quot;txtUserId&quot;)) ;\r\n    \ttxtUserId.sendKeys(&quot;S1032200787&quot;);\r\n    \ttxtPassword.sendKeys(&quot;FynS@3XbZH6ZMWH&quot;);\r\n    \t\t//\r\n    \t\tWebDriverWait w =new WebDriverWait(dChromedriver, Duration.ofSeconds(30));\r\n    \t\t \r\n     \r\n     w.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@id=&#39;ReCaptchContainer&#39;]&quot;)));\r\n    \t\tdChromedriver.findElement(By.xpath(&quot;//div[@id=&#39;ReCaptchContainer&#39;]&quot;)).click();\r\n    //\t\tThread.sleep(3000);\r\n    \t\tw.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;label#lblMessage&quot;)));\r\n    \t\tWebElement success_lablElement=dChromedriver.findElement(By.cssSelector(&quot;label#lblMessage&quot;));\r\n    \t\tAssert.assertEquals(success_lablElement.getText(),&quot;Success&quot; );\r\n    \t\tdChromedriver.findElement(By.id(&quot;btnLogin&quot;)).click();\r\n    \t\tWebElement resultWebElement=dChromedriver.findElement(By.xpath(&quot;//nav[@class=\\&quot;mt-2\\&quot;]/ul/li[12]/a[@href=\\&quot;Examination/Report/StudentGradeCardDetail.aspx?MENU_CODE=Web_Result\\&quot;]&quot;));\r\n    \t\tresultWebElement.click();\r\n    \t\tThread.sleep(30000);\r\n    \tdChromedriver.findElement(By.cssSelector(&quot;input#btnshow&quot;)).click();\r\nhtml code: \r\n   \r\n\r\n     &lt;div class=&quot;labelinfo col-md-12 col-sm-7 col-xs-12 padd6&quot;&gt;                                  &lt;input type=&quot;submit&quot; name=&quot;btnshow&quot; value=&quot;Show&quot; onclick=&quot;return funValidation();&quot; id=&quot;btnshow&quot; class=&quot;btn btn-primary&quot; style=&quot;&quot;&gt; &amp;nbsp;&amp;nbsp; \r\n    &lt;input type=&quot;submit&quot; value=&quot;Show&quot; onclick=&quot;return funValidation();&quot; id=&quot;btnshow&quot; class=&quot;btn btn-primary&quot; style=&quot;&quot;&gt;\r\n&gt;\r\n     &lt;/div&gt;","title":"no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;input#btnshow&quot;}","body":"<p>I am a beginner in selenium, I am using java for that, I am getting a error saying Unable to locate element although that element is present in the web page.</p>\n<p>Java Code:</p>\n<pre><code>    WebDriver dChromedriver=new ChromeDriver();\n    dChromedriver.get(&quot;https://erp.mitwpu.edu.in/&quot;);\n    dChromedriver.manage().window().maximize();\n    WebElement  txtPassword=dChromedriver.findElement(By.id(&quot;txtPassword&quot;)) ;\n    WebElement txtUserId=dChromedriver.findElement(By.id(&quot;txtUserId&quot;)) ;\n    txtUserId.sendKeys(&quot;S1032200787&quot;);\n    txtPassword.sendKeys(&quot;FynS@3XbZH6ZMWH&quot;);\n        //\n        WebDriverWait w =new WebDriverWait(dChromedriver, Duration.ofSeconds(30));\n         \n \n w.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@id='ReCaptchContainer']&quot;)));\n        dChromedriver.findElement(By.xpath(&quot;//div[@id='ReCaptchContainer']&quot;)).click();\n//      Thread.sleep(3000);\n        w.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;label#lblMessage&quot;)));\n        WebElement success_lablElement=dChromedriver.findElement(By.cssSelector(&quot;label#lblMessage&quot;));\n        Assert.assertEquals(success_lablElement.getText(),&quot;Success&quot; );\n        dChromedriver.findElement(By.id(&quot;btnLogin&quot;)).click();\n        WebElement resultWebElement=dChromedriver.findElement(By.xpath(&quot;//nav[@class=\\&quot;mt-2\\&quot;]/ul/li[12]/a[@href=\\&quot;Examination/Report/StudentGradeCardDetail.aspx?MENU_CODE=Web_Result\\&quot;]&quot;));\n        resultWebElement.click();\n        Thread.sleep(30000);\n    dChromedriver.findElement(By.cssSelector(&quot;input#btnshow&quot;)).click();\n</code></pre>\n<p>html code:</p>\n<pre><code> &lt;div class=&quot;labelinfo col-md-12 col-sm-7 col-xs-12 padd6&quot;&gt;                                  &lt;input type=&quot;submit&quot; name=&quot;btnshow&quot; value=&quot;Show&quot; onclick=&quot;return funValidation();&quot; id=&quot;btnshow&quot; class=&quot;btn btn-primary&quot; style=&quot;&quot;&gt; &amp;nbsp;&amp;nbsp; \n&lt;input type=&quot;submit&quot; value=&quot;Show&quot; onclick=&quot;return funValidation();&quot; id=&quot;btnshow&quot; class=&quot;btn btn-primary&quot; style=&quot;&quot;&gt;\n</code></pre>\n<blockquote>\n</blockquote>\n<pre><code> &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","kotlin","redis"],"comments":[{"owner":{"account_id":5344327,"reputation":1074,"user_id":6771708,"accept_rate":71,"display_name":"namila007"},"score":0,"creation_date":1662464373,"post_id":73620296,"comment_id":130006539,"body_markdown":"first, check whether you can access Redis server with a local redis client by using `redis-cli -c` and see if it redirects","body":"first, check whether you can access Redis server with a local redis client by using <code>redis-cli -c</code> and see if it redirects"},{"owner":{"account_id":11791627,"reputation":1124,"user_id":8627570,"accept_rate":46,"display_name":"Maciaz"},"score":0,"creation_date":1662464574,"post_id":73620296,"comment_id":130006617,"body_markdown":"Using that command I get &quot;logged&quot; to `127.0.0.1:6379`. Can use all the commands like `KEYS &#39;*&#39;, FLUSHALL` etc.","body":"Using that command I get &quot;logged&quot; to <code>127.0.0.1:6379</code>. Can use all the commands like <code>KEYS &#39;*&#39;, FLUSHALL</code> etc."},{"owner":{"account_id":5344327,"reputation":1074,"user_id":6771708,"accept_rate":71,"display_name":"namila007"},"score":0,"creation_date":1662536880,"post_id":73620296,"comment_id":130025402,"body_markdown":"yeh i mean try adding keys like &#39;a&#39;,&#39;t&#39;,&#39;x&#39; and then try to retrieve them. if you are getting moved again even with the `-c` option ,check the configurations of elasticache","body":"yeh i mean try adding keys like &#39;a&#39;,&#39;t&#39;,&#39;x&#39; and then try to retrieve them. if you are getting moved again even with the <code>-c</code> option ,check the configurations of elasticache"},{"owner":{"account_id":7929172,"reputation":1787,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":0,"creation_date":1686849242,"post_id":73620296,"comment_id":134858103,"body_markdown":"were you able to figure this out?","body":"were you able to figure this out?"}],"owner":{"account_id":11791627,"reputation":1124,"user_id":8627570,"accept_rate":46,"display_name":"Maciaz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662459715,"creation_date":1662459215,"question_id":73620296,"body_markdown":"I have created a cluster on AWS Elasticache for Redis. The cluster operates in cluster mode `enabled`. There is 1 shard with 2 nodes currently created.  \r\n\r\nI&#39;m trying to connect to the cluster through bastion host, thus using such port forwarding:\r\n\r\n`LocalForward localhost:6379 my-app.redis.apps.region.company.com:6379`  \r\n\r\nI can reach the elasticache service with Spring Boot standalone configuration, but when fetching data from the cache, I get `MOVED` exception.  \r\nI have tried to switch the configuration to cluster mode using only cluster endpoint, but am getting:\r\n\r\n```\r\nCaused by: io.lettuce.core.RedisException: Cannot obtain initial Redis Cluster topology\r\n\tat io.lettuce.core.cluster.RedisClusterClient.lambda$getPartitions$0(RedisClusterClient.java:329)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.get(RedisClusterClient.java:941)\r\n\tat io.lettuce.core.cluster.RedisClusterClient.getPartitions(RedisClusterClient.java:329)\r\n\tat org.springframework.data.redis.connection.lettuce.ClusterConnectionProvider.getConnectionAsync(ClusterConnectionProvider.java:92)\r\n\tat org.springframework.data.redis.connection.lettuce.ClusterConnectionProvider.getConnectionAsync(ClusterConnectionProvider.java:40)\r\n\tat org.springframework.data.redis.connection.lettuce.LettuceConnectionProvider.getConnection(LettuceConnectionProvider.java:53)\r\n\tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1595)\r\n\t... 134 common frames omitted\r\nCaused by: io.lettuce.core.cluster.topology.DefaultClusterTopologyRefresh$CannotRetrieveClusterPartitions: Cannot retrieve cluster partitions from [redis://clustercfg.redis-*******.****.****.cache.amazonaws.com]\r\n\r\n```\r\n\r\nHere&#39;s my configuration:\r\n```\r\n@Configuration\r\nclass RedisConfiguration {\r\n\r\n    @Bean\r\n    fun connectionFactory(): RedisConnectionFactory? {\r\n        return LettuceConnectionFactory(\r\n            RedisClusterConfiguration().clusterNode(\r\n                &quot;clustercfg.redis-*******.****.****.cache.amazonaws.com&quot;,\r\n                6379\r\n            )\r\n        )\r\n    }\r\n    \r\n    @Bean\r\n    fun redisTemplate(redisConnectionFactory: RedisConnectionFactory) =\r\n        RedisTemplate&lt;String, String&gt;().apply {\r\n            setConnectionFactory(redisConnectionFactory)\r\n            StringRedisSerializer().let {\r\n                keySerializer = it\r\n                valueSerializer = it\r\n            }\r\n        }\r\n\r\n    @Bean\r\n    fun remoteConfigCacheManager(\r\n        connectionFactory: RedisConnectionFactory\r\n    ): RedisCacheManager? {\r\n        return RedisCacheManager.builder(connectionFactory)\r\n            .withCacheConfiguration(\r\n               “CACHE_NAME”,\r\n                RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofHours(1))\r\n            )\r\n            .build()\r\n    }\r\n}\r\n\r\n```\r\nAnd there&#39;s the config in `application.yml`\r\n```\r\nredis:\r\n  host: ${REDIS_HOST:clustercfg.redis-*******.****.****.cache.amazonaws.com}\r\n  port: ${REDIS_PORT:6379}\r\n  password: ${REDIS_PASSWORD:&lt;SOME_SECRET_PASSWORD&gt;}\r\n  ssl: ${REDIS_SSL:true}\r\n```\r\n\r\n\r\nI&#39;ve really browsed through every possible SO thread and could not find a solution. Can this be related to my bastion host?","title":"Cannot connect to clustered AWS Elasticache for Redis","body":"<p>I have created a cluster on AWS Elasticache for Redis. The cluster operates in cluster mode <code>enabled</code>. There is 1 shard with 2 nodes currently created.</p>\n<p>I'm trying to connect to the cluster through bastion host, thus using such port forwarding:</p>\n<p><code>LocalForward localhost:6379 my-app.redis.apps.region.company.com:6379</code></p>\n<p>I can reach the elasticache service with Spring Boot standalone configuration, but when fetching data from the cache, I get <code>MOVED</code> exception.<br />\nI have tried to switch the configuration to cluster mode using only cluster endpoint, but am getting:</p>\n<pre><code>Caused by: io.lettuce.core.RedisException: Cannot obtain initial Redis Cluster topology\n    at io.lettuce.core.cluster.RedisClusterClient.lambda$getPartitions$0(RedisClusterClient.java:329)\n    at io.lettuce.core.cluster.RedisClusterClient.get(RedisClusterClient.java:941)\n    at io.lettuce.core.cluster.RedisClusterClient.getPartitions(RedisClusterClient.java:329)\n    at org.springframework.data.redis.connection.lettuce.ClusterConnectionProvider.getConnectionAsync(ClusterConnectionProvider.java:92)\n    at org.springframework.data.redis.connection.lettuce.ClusterConnectionProvider.getConnectionAsync(ClusterConnectionProvider.java:40)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionProvider.getConnection(LettuceConnectionProvider.java:53)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1595)\n    ... 134 common frames omitted\nCaused by: io.lettuce.core.cluster.topology.DefaultClusterTopologyRefresh$CannotRetrieveClusterPartitions: Cannot retrieve cluster partitions from [redis://clustercfg.redis-*******.****.****.cache.amazonaws.com]\n\n</code></pre>\n<p>Here's my configuration:</p>\n<pre><code>@Configuration\nclass RedisConfiguration {\n\n    @Bean\n    fun connectionFactory(): RedisConnectionFactory? {\n        return LettuceConnectionFactory(\n            RedisClusterConfiguration().clusterNode(\n                &quot;clustercfg.redis-*******.****.****.cache.amazonaws.com&quot;,\n                6379\n            )\n        )\n    }\n    \n    @Bean\n    fun redisTemplate(redisConnectionFactory: RedisConnectionFactory) =\n        RedisTemplate&lt;String, String&gt;().apply {\n            setConnectionFactory(redisConnectionFactory)\n            StringRedisSerializer().let {\n                keySerializer = it\n                valueSerializer = it\n            }\n        }\n\n    @Bean\n    fun remoteConfigCacheManager(\n        connectionFactory: RedisConnectionFactory\n    ): RedisCacheManager? {\n        return RedisCacheManager.builder(connectionFactory)\n            .withCacheConfiguration(\n               “CACHE_NAME”,\n                RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofHours(1))\n            )\n            .build()\n    }\n}\n\n</code></pre>\n<p>And there's the config in <code>application.yml</code></p>\n<pre><code>redis:\n  host: ${REDIS_HOST:clustercfg.redis-*******.****.****.cache.amazonaws.com}\n  port: ${REDIS_PORT:6379}\n  password: ${REDIS_PASSWORD:&lt;SOME_SECRET_PASSWORD&gt;}\n  ssl: ${REDIS_SSL:true}\n</code></pre>\n<p>I've really browsed through every possible SO thread and could not find a solution. Can this be related to my bastion host?</p>\n"},{"tags":["java","spring","database","jdbc","metadata"],"answers":[{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662459573,"creation_date":1662459573,"answer_id":73620362,"question_id":73620217,"body_markdown":"You may consider using [Connection#getCatalog()][1] for your case. \r\n\r\nPlease see the following example below:\r\n```java\r\ntry (final Connection connection = jdbcTemplate.getDataSource().getConnection()) {\r\n    String databaseName = connection.getCatalog();\r\n} catch (SQLException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#getCatalog()","title":"What is the best way to get database name use java metadata","body":"<p>You may consider using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#getCatalog()\" rel=\"nofollow noreferrer\">Connection#getCatalog()</a> for your case.</p>\n<p>Please see the following example below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (final Connection connection = jdbcTemplate.getDataSource().getConnection()) {\n    String databaseName = connection.getCatalog();\n} catch (SQLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73620362,"answer_count":1,"score":0,"last_activity_date":1662459573,"creation_date":1662458844,"question_id":73620217,"body_markdown":"In my application using different databases (postgres, mssql, oracle ...). What is the best way to get database name use metadata. I was trying to use this approach:\r\n\r\n    try (final Connection connection = jdbcTemplate.getDataSource().getConnection()) {\r\n        final DatabaseMetaData metaData = connection.getMetaData();\r\n        final String databaseName = StringUtils.substringAfterLast(connection.getMetaData().getURL(), &quot;/&quot;);\r\n\r\nIt works in this case:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/2022_2\r\n\r\nBut in this case it doesn&#39;t work:\r\n\r\n    spring.datasource.url=jdbc:sqlserver://localhost:1433;DatabaseName=test_mssql;encrypt=true;trustServerCertificate=true;","title":"What is the best way to get database name use java metadata","body":"<p>In my application using different databases (postgres, mssql, oracle ...). What is the best way to get database name use metadata. I was trying to use this approach:</p>\n<pre><code>try (final Connection connection = jdbcTemplate.getDataSource().getConnection()) {\n    final DatabaseMetaData metaData = connection.getMetaData();\n    final String databaseName = StringUtils.substringAfterLast(connection.getMetaData().getURL(), &quot;/&quot;);\n</code></pre>\n<p>It works in this case:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/2022_2\n</code></pre>\n<p>But in this case it doesn't work:</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://localhost:1433;DatabaseName=test_mssql;encrypt=true;trustServerCertificate=true;\n</code></pre>\n"},{"tags":["java","android","android-studio","opencv","java-native-interface"],"comments":[{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1449901085,"post_id":34236619,"comment_id":56216750,"body_markdown":"From your post it is not clear how **libLaneDetectionNative.so** is built. At any rate, please start by checking which native libraries see packed into your APK file (you can list its content with any unzip).","body":"From your post it is not clear how <b>libLaneDetectionNative.so</b> is built. At any rate, please start by checking which native libraries see packed into your APK file (you can list its content with any unzip)."}],"answers":[{"tags":[],"owner":{"account_id":8145325,"reputation":1,"user_id":6134142,"display_name":"monangkn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460688404,"creation_date":1460687933,"answer_id":36637358,"question_id":34236619,"body_markdown":"I solved it by using the following in build.gradle, within the sourceSets section:\r\n\r\n    jniLibs.srcDirs = [&#39;libs&#39;]\r\n","title":"Native file unable to load","body":"<p>I solved it by using the following in build.gradle, within the sourceSets section:</p>\n\n<pre><code>jniLibs.srcDirs = ['libs']\n</code></pre>\n"}],"owner":{"account_id":7459126,"reputation":1,"user_id":5671306,"display_name":"Haneet Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662459244,"creation_date":1449897851,"question_id":34236619,"body_markdown":"I am trying to run a lane detection code found here: https://github.com/wahibhaq/android-opencv-lanedetection\r\n\r\nI am running this app on a Samsung Galaxy tab, and the app displays the initial screen where I set the hough values, but then when I proceed, it crashes.\r\nThe logcat shows the following:\r\n\r\n    12-11 22:09:18.926  31825-31825/? E/AndroidRuntime﹕ FATAL EXCEPTION: main\r\n    Process: tum.andrive.lanedetection, PID: 31825\r\n    java.lang.UnsatisfiedLinkError: Couldn&#39;t load LaneDetectionNative from     loader dalvik.system.PathClassLoader[dexPath=/data/app/tum.andrive.lanedetection-5.apk,libraryPath=/data/app-lib/tum.andrive.lanedetection-5]: findLibrary returned null\r\n            at java.lang.Runtime.loadLibrary(Runtime.java:358)\r\n            at java.lang.System.loadLibrary(System.java:526)\r\n            at tum.andrive.lanedetection.LaneDetector$1.onManagerConnected(LaneDetector.java:53)\r\n            at org.opencv.android.AsyncServiceHelper$3.onServiceConnected(AsyncServiceHelper.java:318)\r\n            at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1119)\r\n            at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1136)\r\n            at android.os.Handler.handleCallback(Handler.java:733)\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)\r\n            at android.os.Looper.loop(Looper.java:157)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5377)\r\n            at java.lang.reflect.Method.invokeNative(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:515)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\r\n            at dalvik.system.NativeStart.main(Native Method)\r\n    12-11 22:09:19.246    891-32069/? E/android.os.Debug﹕ !@Dumpstate &gt; sdumpstate -k -t -z -d -o /data/log/dumpstate_app_error\r\n    12-11 22:09:22.886  32153-32153/? E/QSEECOMAPI:﹕ Error::Failed to open /dev/qseecom device\r\n    12-11 22:09:22.886  32153-32153/? E/QSEECOMAPI:﹕ Error::Failed to open /dev/qseecom device\r\n\r\nFor reference, here is the build.gradle. I updated it a little based off suggestions from other similar posts:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    buildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:1.5.0&#39;\r\n    }\r\n    }\r\n    allprojects{\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    compile project(&#39;openCVLibrary2411&#39;)\r\n    }\r\n\r\n    android {\r\n    compileSdkVersion 23\r\n    buildToolsVersion &quot;23.0.2&quot;\r\n\r\n    sourceSets {\r\n        main {\r\n            manifest.srcFile &#39;AndroidManifest.xml&#39;\r\n            java.srcDirs = [&#39;src&#39;]\r\n            resources.srcDirs = [&#39;src&#39;]\r\n            aidl.srcDirs = [&#39;src&#39;]\r\n            renderscript.srcDirs = [&#39;src&#39;]\r\n            res.srcDirs = [&#39;res&#39;]\r\n            assets.srcDirs = [&#39;assets&#39;]\r\n        }\r\n\r\n        // Move the tests to tests/java, tests/res, etc...\r\n        instrumentTest.setRoot(&#39;tests&#39;)\r\n\r\n        // Move the build types to build-types/&lt;type&gt;\r\n        // For instance, build-types/debug/java, build-types/debug/AndroidManifest.xml, ...\r\n        // This moves them out of them default location under src/&lt;type&gt;/... which would\r\n        // conflict with src/ being used by the main source set.\r\n        // Adding new build types or product flavors should be accompanied\r\n        // by a similar customization.\r\n        debug.setRoot(&#39;build-types/debug/java&#39;)\r\n        release.setRoot(&#39;build-types/release&#39;)\r\n    }\r\n    }\r\n","title":"Native file unable to load","body":"<p>I am trying to run a lane detection code found here: <a href=\"https://github.com/wahibhaq/android-opencv-lanedetection\" rel=\"nofollow\">https://github.com/wahibhaq/android-opencv-lanedetection</a></p>\n\n<p>I am running this app on a Samsung Galaxy tab, and the app displays the initial screen where I set the hough values, but then when I proceed, it crashes.\nThe logcat shows the following:</p>\n\n<pre><code>12-11 22:09:18.926  31825-31825/? E/AndroidRuntime﹕ FATAL EXCEPTION: main\nProcess: tum.andrive.lanedetection, PID: 31825\njava.lang.UnsatisfiedLinkError: Couldn't load LaneDetectionNative from     loader dalvik.system.PathClassLoader[dexPath=/data/app/tum.andrive.lanedetection-5.apk,libraryPath=/data/app-lib/tum.andrive.lanedetection-5]: findLibrary returned null\n        at java.lang.Runtime.loadLibrary(Runtime.java:358)\n        at java.lang.System.loadLibrary(System.java:526)\n        at tum.andrive.lanedetection.LaneDetector$1.onManagerConnected(LaneDetector.java:53)\n        at org.opencv.android.AsyncServiceHelper$3.onServiceConnected(AsyncServiceHelper.java:318)\n        at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1119)\n        at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1136)\n        at android.os.Handler.handleCallback(Handler.java:733)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:157)\n        at android.app.ActivityThread.main(ActivityThread.java:5377)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:515)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\n        at dalvik.system.NativeStart.main(Native Method)\n12-11 22:09:19.246    891-32069/? E/android.os.Debug﹕ !@Dumpstate &gt; sdumpstate -k -t -z -d -o /data/log/dumpstate_app_error\n12-11 22:09:22.886  32153-32153/? E/QSEECOMAPI:﹕ Error::Failed to open /dev/qseecom device\n12-11 22:09:22.886  32153-32153/? E/QSEECOMAPI:﹕ Error::Failed to open /dev/qseecom device\n</code></pre>\n\n<p>For reference, here is the build.gradle. I updated it a little based off suggestions from other similar posts:</p>\n\n<pre><code>apply plugin: 'com.android.application'\nbuildscript {\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:1.5.0'\n}\n}\nallprojects{\nrepositories {\n    mavenCentral()\n}\n}\n\ndependencies {\ncompile fileTree(include: ['*.jar'], dir: 'libs')\ncompile project('openCVLibrary2411')\n}\n\nandroid {\ncompileSdkVersion 23\nbuildToolsVersion \"23.0.2\"\n\nsourceSets {\n    main {\n        manifest.srcFile 'AndroidManifest.xml'\n        java.srcDirs = ['src']\n        resources.srcDirs = ['src']\n        aidl.srcDirs = ['src']\n        renderscript.srcDirs = ['src']\n        res.srcDirs = ['res']\n        assets.srcDirs = ['assets']\n    }\n\n    // Move the tests to tests/java, tests/res, etc...\n    instrumentTest.setRoot('tests')\n\n    // Move the build types to build-types/&lt;type&gt;\n    // For instance, build-types/debug/java, build-types/debug/AndroidManifest.xml, ...\n    // This moves them out of them default location under src/&lt;type&gt;/... which would\n    // conflict with src/ being used by the main source set.\n    // Adding new build types or product flavors should be accompanied\n    // by a similar customization.\n    debug.setRoot('build-types/debug/java')\n    release.setRoot('build-types/release')\n}\n}\n</code></pre>\n"},{"tags":["java","android","opencv"],"comments":[{"owner":{"account_id":2785811,"reputation":4258,"user_id":2397253,"accept_rate":84,"display_name":"oarfish"},"score":0,"creation_date":1439620306,"post_id":32020384,"comment_id":51946318,"body_markdown":"I don&#39;t know about `solveZ`, but the first part is in the doc.\nhttp://docs.opencv.org/java/org/opencv/core/Core.html #SVDecomp(org.opencv.core.Mat, org.opencv.core.Mat, org.opencv.core.Mat, org.opencv.core.Mat) [SO does not display URL correctly, just remove the space before `#`)","body":"I don&#39;t know about <code>solveZ</code>, but the first part is in the doc. <a href=\"http://docs.opencv.org/java/org/opencv/core/Core.html\" rel=\"nofollow noreferrer\">docs.opencv.org/java/org/opencv/core/Core.html</a> #SVDecomp(org.opencv.core.Mat, org.opencv.core.Mat, org.opencv.core.Mat, org.opencv.core.Mat) [SO does not display URL correctly, just remove the space before <code>#</code>)"}],"answers":[{"tags":[],"owner":{"account_id":1312960,"reputation":1813,"user_id":1260543,"accept_rate":94,"display_name":"gregoiregentil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439789427,"creation_date":1439789427,"answer_id":32043362,"question_id":32020384,"body_markdown":"    org.opencv.core.Core.solve(AA, BB, XX, org.opencv.core.Core.DECOMP_SVD);","title":"SVD solvez with OpenCV java wrapper","body":"<pre><code>org.opencv.core.Core.solve(AA, BB, XX, org.opencv.core.Core.DECOMP_SVD);\n</code></pre>\n"}],"owner":{"account_id":1312960,"reputation":1813,"user_id":1260543,"accept_rate":94,"display_name":"gregoiregentil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32043362,"answer_count":1,"score":1,"last_activity_date":1662459174,"creation_date":1439599125,"question_id":32020384,"body_markdown":"I&#39;m porting some C++ code using the OpenCV_2.4.11 java wrapper (on Android). I have the following C++ lines:\r\n\r\n\tMatx44d A(...);\r\n\tMatx41d u;\r\n\r\n\tSVD svd;\r\n\tsvd.solveZ(A, u);\r\n\r\n\r\nIn java, I have:\r\n\r\n\t\tMat A = new Mat(4, 4, CvType.CV_32F);\r\n\t\tA.put(0 ,0, ...\r\n\t\tMat u = new Mat(4, 1, CvType.CV_32F);\r\n\r\nHow can I translate the last two lines using the OpenCV java wrapper?\r\n","title":"SVD solvez with OpenCV java wrapper","body":"<p>I'm porting some C++ code using the OpenCV_2.4.11 java wrapper (on Android). I have the following C++ lines:</p>\n\n<pre><code>Matx44d A(...);\nMatx41d u;\n\nSVD svd;\nsvd.solveZ(A, u);\n</code></pre>\n\n<p>In java, I have:</p>\n\n<pre><code>    Mat A = new Mat(4, 4, CvType.CV_32F);\n    A.put(0 ,0, ...\n    Mat u = new Mat(4, 1, CvType.CV_32F);\n</code></pre>\n\n<p>How can I translate the last two lines using the OpenCV java wrapper?</p>\n"},{"tags":["java","android","opencv","edge-detection"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1438813167,"post_id":31843642,"comment_id":51609041,"body_markdown":"If you can remove one of the lines from the image, you can use [distanceTransform](http://docs.opencv.org/modules/imgproc/doc/miscellaneous_transformations.html#distancetransform) to calculate the distance from all pixels in the other line; then you got through all of the pixels in the other line, and find the one which has the largest value of the distance transform to the other line.","body":"If you can remove one of the lines from the image, you can use <a href=\"http://docs.opencv.org/modules/imgproc/doc/miscellaneous_transformations.html#distancetransform\" rel=\"nofollow noreferrer\">distanceTransform</a> to calculate the distance from all pixels in the other line; then you got through all of the pixels in the other line, and find the one which has the largest value of the distance transform to the other line."},{"owner":{"account_id":2845412,"reputation":785,"user_id":2443960,"accept_rate":65,"display_name":"Zy0n"},"score":0,"creation_date":1438815451,"post_id":31843642,"comment_id":51609820,"body_markdown":"Hmm, you&#39;ve given me an idea. I could do this for each line individually, then take the mean max distance from each other. Do you understand what I mean? I&#39;m terrible at explaining streams of ideas that come to mind..","body":"Hmm, you&#39;ve given me an idea. I could do this for each line individually, then take the mean max distance from each other. Do you understand what I mean? I&#39;m terrible at explaining streams of ideas that come to mind.."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1438815819,"post_id":31843642,"comment_id":51609929,"body_markdown":"You don&#39;t need to do it for each line individually: you only need to do it for one line or the other. The result ought to be symmetrical.","body":"You don&#39;t need to do it for each line individually: you only need to do it for one line or the other. The result ought to be symmetrical."}],"answers":[{"tags":[],"owner":{"account_id":2062013,"reputation":2161,"user_id":1838346,"accept_rate":50,"display_name":"Karthik N G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467035244,"creation_date":1467035244,"answer_id":38055663,"question_id":31843642,"body_markdown":"If you know two points on those lines then you can calculate the distance using below code in OpenCV. \r\n\r\n    public double euclideanDistance(Point a, Point b){\r\n\t\tdouble distance = 0.0;\r\n\t\ttry{\r\n\t\t\tif(a != null &amp;&amp; b != null){\r\n\t\t\t\tdouble xDiff = a.x - b.x;\r\n\t\t\t\tdouble yDiff = a.y - b.y;\r\n\t\t\t\tdistance = Math.sqrt(Math.pow(xDiff,2) + Math.pow(yDiff, 2));\r\n\t\t\t}\r\n\t\t}catch(Exception e){\r\n\t\t\tSystem.err.println(&quot;Something went wrong in euclideanDistance function in &quot;+Utility.class+&quot; &quot;+e.getMessage());\r\n\t\t}\r\n\t\treturn distance;\r\n\t}\r\n\r\nI hope this helps.","title":"Android OpenCV - Getting distance between two indistinct lines","body":"<p>If you know two points on those lines then you can calculate the distance using below code in OpenCV. </p>\n\n<pre><code>public double euclideanDistance(Point a, Point b){\n    double distance = 0.0;\n    try{\n        if(a != null &amp;&amp; b != null){\n            double xDiff = a.x - b.x;\n            double yDiff = a.y - b.y;\n            distance = Math.sqrt(Math.pow(xDiff,2) + Math.pow(yDiff, 2));\n        }\n    }catch(Exception e){\n        System.err.println(\"Something went wrong in euclideanDistance function in \"+Utility.class+\" \"+e.getMessage());\n    }\n    return distance;\n}\n</code></pre>\n\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":2845412,"reputation":785,"user_id":2443960,"accept_rate":65,"display_name":"Zy0n"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1769,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662459168,"creation_date":1438812335,"question_id":31843642,"body_markdown":"As mentioned, I&#39;m trying to get the distance between two indistinct lines from an image with applied edge detection. As an example please look at the below image for clarification.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Xaq2y.png\r\n\r\nAs you can see, the lines are misshaped. Ideally what I would like is to get the furthest points from each line as displayed above, and calculate their distance from that. Is this possible with OpenCV? I know I can use the magnitude function to calculate the distance appropriately, but the issue comes with actually trying to find the furthest points in the first place.\r\n\r\nWould anyone have an idea as to how I might go about this?","title":"Android OpenCV - Getting distance between two indistinct lines","body":"<p>As mentioned, I'm trying to get the distance between two indistinct lines from an image with applied edge detection. As an example please look at the below image for clarification.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xaq2y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xaq2y.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, the lines are misshaped. Ideally what I would like is to get the furthest points from each line as displayed above, and calculate their distance from that. Is this possible with OpenCV? I know I can use the magnitude function to calculate the distance appropriately, but the issue comes with actually trying to find the furthest points in the first place.</p>\n\n<p>Would anyone have an idea as to how I might go about this?</p>\n"},{"tags":["java","android","opencv","image-stitching"],"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1452707489,"post_id":34772891,"comment_id":57292281,"body_markdown":"`scene` being a `CV_32FC2` might have something to do with the assertion failing, since it&#39;s looking for a `CV_32F` or `CV_64F`. However this is only speculation, if you&#39;re looking for an answer then you should edit your question and include more information. Such as: if you wrote the code to `warpPerspective` then that code would be useful, what the types and values are for `hsv`, `result`, `homography`, `input.cols()`, `input1.rows` ...","body":"<code>scene</code> being a <code>CV_32FC2</code> might have something to do with the assertion failing, since it&#39;s looking for a <code>CV_32F</code> or <code>CV_64F</code>. However this is only speculation, if you&#39;re looking for an answer then you should edit your question and include more information. Such as: if you wrote the code to <code>warpPerspective</code> then that code would be useful, what the types and values are for <code>hsv</code>, <code>result</code>, <code>homography</code>, <code>input.cols()</code>, <code>input1.rows</code> ..."},{"owner":{"account_id":4256879,"reputation":61,"user_id":3482336,"accept_rate":40,"display_name":"Junaid Younad"},"score":0,"creation_date":1452790420,"post_id":34772891,"comment_id":57333788,"body_markdown":"@Jonny yes.... it was because of matrix type scene","body":"@Jonny yes.... it was because of matrix type scene"}],"answers":[{"tags":[],"owner":{"account_id":4256879,"reputation":61,"user_id":3482336,"accept_rate":40,"display_name":"Junaid Younad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1453056434,"creation_date":1453056434,"answer_id":34842199,"question_id":34772891,"body_markdown":"Actually the problem was with the type of homography matrix. Homography matrix is a single dimensional mathematical matrix.The homoghraphy matrix mentioned in the question was 2 dimensional array thats why it was not working. I have to change its type from **&quot;2&quot;** to **&quot;1&quot;** to make it work.","title":"Exception thrown when stitching together two images using OpenCV","body":"<p>Actually the problem was with the type of homography matrix. Homography matrix is a single dimensional mathematical matrix.The homoghraphy matrix mentioned in the question was 2 dimensional array thats why it was not working. I have to change its type from <strong>\"2\"</strong> to <strong>\"1\"</strong> to make it work.</p>\n"}],"owner":{"account_id":4256879,"reputation":61,"user_id":3482336,"accept_rate":40,"display_name":"Junaid Younad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34842199,"answer_count":1,"score":2,"last_activity_date":1662459098,"creation_date":1452705163,"question_id":34772891,"body_markdown":"I am stitching two images together using `opencv-2.4.9` with Java in Eclipse. My code throws the following exception from `warpPerspective()`:\r\n\r\n    OpenCV Error: Assertion failed ((M0.type() == CV_32F || M0.type() == CV_64F) &amp;&amp; M0.rows == 3 &amp;&amp; M0.cols == 3) in warpPerspective\r\n\r\n`warpPerspective` method call:\r\n\r\n    Imgproc.warpPerspective(hsv, result, homoghraphy,\r\n                            new Size(2 * input.cols(), input1.rows)) \r\n\r\nType Of Homgraphy Matrix is:\r\n\r\n    scene = Mat [ 3*3*CV_32FC2,\r\n                  isCont = true,\r\n                  isSubmat = false,\r\n                  nativeObj = 0x7f32a0130160,\r\n                  dataAddr = 0x7f32a01301e0 ]\r\n\r\nCould someone please explain why this exception is being thrown?","title":"Exception thrown when stitching together two images using OpenCV","body":"<p>I am stitching two images together using <code>opencv-2.4.9</code> with Java in Eclipse. My code throws the following exception from <code>warpPerspective()</code>:</p>\n\n<pre><code>OpenCV Error: Assertion failed ((M0.type() == CV_32F || M0.type() == CV_64F) &amp;&amp; M0.rows == 3 &amp;&amp; M0.cols == 3) in warpPerspective\n</code></pre>\n\n<p><code>warpPerspective</code> method call:</p>\n\n<pre><code>Imgproc.warpPerspective(hsv, result, homoghraphy,\n                        new Size(2 * input.cols(), input1.rows)) \n</code></pre>\n\n<p>Type Of Homgraphy Matrix is:</p>\n\n<pre><code>scene = Mat [ 3*3*CV_32FC2,\n              isCont = true,\n              isSubmat = false,\n              nativeObj = 0x7f32a0130160,\n              dataAddr = 0x7f32a01301e0 ]\n</code></pre>\n\n<p>Could someone please explain why this exception is being thrown?</p>\n"},{"tags":["java","android","opencv"],"answers":[{"tags":[],"owner":{"account_id":4155060,"reputation":382,"user_id":3406563,"display_name":"don_pablito"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1453879704,"creation_date":1453878813,"answer_id":35030928,"question_id":34999412,"body_markdown":"You can use found rectangles to crop faces, just like this:\r\n\r\n    for (Rect rect : faceDetections.toArray()) {\r\n       Mat faceImage = image.submat(rect);\r\n       Imgcodecs.imwrite(String.valueOf(System.currentTimeMillis()) + &quot;.jpg&quot;, faceImage)\r\n    }\r\n","title":"Crop detected face with opencv 3.0 java","body":"<p>You can use found rectangles to crop faces, just like this:</p>\n\n<pre><code>for (Rect rect : faceDetections.toArray()) {\n   Mat faceImage = image.submat(rect);\n   Imgcodecs.imwrite(String.valueOf(System.currentTimeMillis()) + \".jpg\", faceImage)\n}\n</code></pre>\n"}],"owner":{"account_id":7614504,"reputation":153,"user_id":5774415,"accept_rate":0,"display_name":"VasyPupkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662459023,"creation_date":1453745643,"question_id":34999412,"body_markdown":"I want to crop(cut off)  face that I recognized with opencv3.0 on  the image. I tried do this task in Java.\r\nCan you help me to do it? \r\nBottom i fetch code that i use to save image with recognize border around a face.\r\n  \r\n\r\n    package lol;\r\n    \r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfRect;\r\n    import org.opencv.core.Point;\r\n    import org.opencv.core.Rect;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n    import org.opencv.objdetect.CascadeClassifier;\r\n    import org.opencv.imgproc.Imgproc;\r\n    public class Lol {\r\n    \r\n       \r\n        public static void main(String[] args) {\r\n             System.out.println(&quot;Hello, OpenCV&quot;);\r\n    \r\n        // Load the native library.\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n        new DetectFaceDemo().run();\r\n        }\r\n        \r\n    }\r\n    //\r\n    // Detects faces in an image, draws boxes around them, and writes the results\r\n    // to &quot;faceDetection.png&quot;.\r\n    //\r\n    class DetectFaceDemo {\r\n      public void run() {\r\n        System.out.println(&quot;\\nRunning DetectFaceDemo&quot;);\r\n    \r\n        // Create a face detector from the cascade file in the resources\r\n        // directory.\r\n        //CascadeClassifier faceDetector = new CascadeClassifier(getClass().getResource(&quot;C:/opencv/sources/data/haarcascades/haarcascade_frontalface_alt.xml&quot;).getPath());\r\n       CascadeClassifier faceDetector = new CascadeClassifier(&quot;C:/opencv2/opencv/sources/data/haarcascades/haarcascade_frontalface_alt.xml&quot;);\r\n       // Mat image = Imgcodecs.imread(getClass().getResource(&quot;E:/lol.png&quot;).getPath());\r\n         Mat image = Imgcodecs.imread(&quot;E:/lol.png&quot;);\r\n    if (faceDetector.empty()){\r\n         System.out.println(&quot;faceless&quot;);\r\n        }\r\n        if(image.empty()){\r\n         System.out.println(&quot;imageless&quot;);\r\n        }\r\n        \r\n        // Detect faces in the image.\r\n        // MatOfRect is a special container class for Rect.\r\n        MatOfRect faceDetections = new MatOfRect();\r\n        faceDetector.detectMultiScale(image, faceDetections);\r\n    \r\n        System.out.println(String.format(&quot;Detected %s faces&quot;, faceDetections.toArray().length));\r\n    \r\n        // Draw a bounding box around each face.\r\n        for (Rect rect : faceDetections.toArray()) {\r\n            Imgproc.rectangle(image, new Point(rect.x, rect.y), new Point(rect.x + rect.width, rect.y + rect.height), new Scalar(0, 255, 0));\r\n        }\r\n    \r\n        // Save the visualized detection.\r\n        String filename = &quot;E:/faceDetection.png&quot;;\r\n        System.out.println(String.format(&quot;Writing %s&quot;, filename));\r\n        Imgcodecs.imwrite(filename, image);\r\n      }\r\n    }\r\n\r\n\r\n","title":"Crop detected face with opencv 3.0 java","body":"<p>I want to crop(cut off)  face that I recognized with opencv3.0 on  the image. I tried do this task in Java.\nCan you help me to do it? \nBottom i fetch code that i use to save image with recognize border around a face.</p>\n\n<pre><code>package lol;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfRect;\nimport org.opencv.core.Point;\nimport org.opencv.core.Rect;\nimport org.opencv.core.Scalar;\nimport org.opencv.imgcodecs.Imgcodecs;\nimport org.opencv.objdetect.CascadeClassifier;\nimport org.opencv.imgproc.Imgproc;\npublic class Lol {\n\n\n    public static void main(String[] args) {\n         System.out.println(\"Hello, OpenCV\");\n\n    // Load the native library.\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n    new DetectFaceDemo().run();\n    }\n\n}\n//\n// Detects faces in an image, draws boxes around them, and writes the results\n// to \"faceDetection.png\".\n//\nclass DetectFaceDemo {\n  public void run() {\n    System.out.println(\"\\nRunning DetectFaceDemo\");\n\n    // Create a face detector from the cascade file in the resources\n    // directory.\n    //CascadeClassifier faceDetector = new CascadeClassifier(getClass().getResource(\"C:/opencv/sources/data/haarcascades/haarcascade_frontalface_alt.xml\").getPath());\n   CascadeClassifier faceDetector = new CascadeClassifier(\"C:/opencv2/opencv/sources/data/haarcascades/haarcascade_frontalface_alt.xml\");\n   // Mat image = Imgcodecs.imread(getClass().getResource(\"E:/lol.png\").getPath());\n     Mat image = Imgcodecs.imread(\"E:/lol.png\");\nif (faceDetector.empty()){\n     System.out.println(\"faceless\");\n    }\n    if(image.empty()){\n     System.out.println(\"imageless\");\n    }\n\n    // Detect faces in the image.\n    // MatOfRect is a special container class for Rect.\n    MatOfRect faceDetections = new MatOfRect();\n    faceDetector.detectMultiScale(image, faceDetections);\n\n    System.out.println(String.format(\"Detected %s faces\", faceDetections.toArray().length));\n\n    // Draw a bounding box around each face.\n    for (Rect rect : faceDetections.toArray()) {\n        Imgproc.rectangle(image, new Point(rect.x, rect.y), new Point(rect.x + rect.width, rect.y + rect.height), new Scalar(0, 255, 0));\n    }\n\n    // Save the visualized detection.\n    String filename = \"E:/faceDetection.png\";\n    System.out.println(String.format(\"Writing %s\", filename));\n    Imgcodecs.imwrite(filename, image);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","opencv"],"answers":[{"tags":[],"owner":{"account_id":2896348,"reputation":867,"user_id":2484039,"accept_rate":70,"display_name":"Dmitriy  Korobkov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470031152,"creation_date":1470031152,"answer_id":38691885,"question_id":35010938,"body_markdown":"Actually, you can&#39;t use the FaceRecognizer classes from java at all in `OpenCV 2.4.9`. Cause of there is no proper way to wrap a `cv::Ptr&lt;FaceRecognizer&gt;`, so those classes (or rather the `create...()` functions) are skipped during the wrapper code generation.","title":"Why not work createFisherFaceRecognizer() in opencv java?","body":"<p>Actually, you can't use the FaceRecognizer classes from java at all in <code>OpenCV 2.4.9</code>. Cause of there is no proper way to wrap a <code>cv::Ptr&lt;FaceRecognizer&gt;</code>, so those classes (or rather the <code>create...()</code> functions) are skipped during the wrapper code generation.</p>\n"}],"owner":{"account_id":7614504,"reputation":153,"user_id":5774415,"accept_rate":0,"display_name":"VasyPupkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1662459017,"creation_date":1453801742,"question_id":35010938,"body_markdown":"Hellow\r\n\r\nI want to create face detected? and predicted them from base? for this i  read i need createFisherFaceRecognizer(), dut when i try to add this in my project write that is not this in my libarary i use 2.4.9,can you help me. \r\n\r\nBottom i fetch code it not work.\r\n\r\nSorry for my bad English\r\n\r\nFaceRecognizer rec = new FaceRecognizer();\r\n\r\nthis method is not work too\r\n\r\n    FaceRecognizer rec=createLBPHFaceRecognizer();\r\n    or\r\n    FaceRecognizer rec=createEigenFaceRecognizer();\r\n    or\r\n    FaceRecognizer rec=createFisherFaceRecognizer();","title":"Why not work createFisherFaceRecognizer() in opencv java?","body":"<p>Hellow</p>\n\n<p>I want to create face detected? and predicted them from base? for this i  read i need createFisherFaceRecognizer(), dut when i try to add this in my project write that is not this in my libarary i use 2.4.9,can you help me. </p>\n\n<p>Bottom i fetch code it not work.</p>\n\n<p>Sorry for my bad English</p>\n\n<p>FaceRecognizer rec = new FaceRecognizer();</p>\n\n<p>this method is not work too</p>\n\n<pre><code>FaceRecognizer rec=createLBPHFaceRecognizer();\nor\nFaceRecognizer rec=createEigenFaceRecognizer();\nor\nFaceRecognizer rec=createFisherFaceRecognizer();\n</code></pre>\n"},{"tags":["java","android","opencv","image-processing"],"answers":[{"tags":[],"owner":{"account_id":4013247,"reputation":1125,"user_id":3306091,"display_name":"MarcoM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458112079,"creation_date":1458112079,"answer_id":36028859,"question_id":36027786,"body_markdown":"Give a look to this [tutorial][1], it could be a good starting point.\r\nIt explain exactly how to change image brightness accessing each pixel of the image.\r\n\r\nHere is how to traverse the image pixel by pixel:\r\n\r\n\r\n    for( int y = 0; y &lt; image.rows; y++ )\r\n       { for( int x = 0; x &lt; image.cols; x++ )\r\n            { for( int c = 0; c &lt; 3; c++ )\r\n                 { new_image.at&lt;Vec3b&gt;(y,x)[c] =\r\n                             saturate_cast&lt;uchar&gt;( alpha*( image.at&lt;Vec3b&gt;(y,x)[c] ) + beta ); }\r\n       }\r\n       }\r\n\r\n  [1]: http://docs.opencv.org/2.4/doc/tutorials/core/basic_linear_transform/basic_linear_transform.html","title":"How could i enhance the brightness of the image only in the regions in which it is dark in opencv(java)","body":"<p>Give a look to this <a href=\"http://docs.opencv.org/2.4/doc/tutorials/core/basic_linear_transform/basic_linear_transform.html\" rel=\"nofollow\">tutorial</a>, it could be a good starting point.\nIt explain exactly how to change image brightness accessing each pixel of the image.</p>\n\n<p>Here is how to traverse the image pixel by pixel:</p>\n\n<pre><code>for( int y = 0; y &lt; image.rows; y++ )\n   { for( int x = 0; x &lt; image.cols; x++ )\n        { for( int c = 0; c &lt; 3; c++ )\n             { new_image.at&lt;Vec3b&gt;(y,x)[c] =\n                         saturate_cast&lt;uchar&gt;( alpha*( image.at&lt;Vec3b&gt;(y,x)[c] ) + beta ); }\n   }\n   }\n</code></pre>\n"}],"owner":{"account_id":7628731,"reputation":52,"user_id":5784463,"display_name":"Sethu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662459010,"creation_date":1458107735,"question_id":36027786,"body_markdown":"I could increase or decrease the brighness off the entire image by using    **convertTo** function .\r\n\r\nBut how could i traverse the image pixel by pixel and increase the brighness of the image only if its dark at that particular pixel ?","title":"How could i enhance the brightness of the image only in the regions in which it is dark in opencv(java)","body":"<p>I could increase or decrease the brighness off the entire image by using    <strong>convertTo</strong> function .</p>\n\n<p>But how could i traverse the image pixel by pixel and increase the brighness of the image only if its dark at that particular pixel ?</p>\n"},{"tags":["java","rest-assured","wiremock","wiremock-standalone"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662454362,"post_id":73618874,"comment_id":130003085,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662458844,"creation_date":1662458844,"answer_id":73620216,"question_id":73618874,"body_markdown":"You can use [Wiremock][1] for this case. It&#39;s a library for stubbing and mocking web services.\r\n\r\nThis is the example of basic usage:\r\n```java\r\nint port = 8080;\r\nWireMockServer wireMockServer = new WireMockServer(port);\r\nwireMockServer.start();\r\n\r\nstubFor(get(urlEqualTo(&quot;/ms/api/v3&quot;))\r\n        .willReturn(aResponse()\r\n                .withStatus(HttpStatus.FORBIDDEN.value())));\r\n\r\n// after completing all your tests\r\nwireMockServer.shutdown();\r\n```\r\n\r\nFirstly, you configure your WireMock server. Then you specify the stub for a specific URL. After all the work you should also shut down the server.\r\n\r\nIf you&#39;re using the Spring framework and JUnit, it might be a good idea to set up the WireMock server as a Spring-manged bean. This will remove a lot of overhead. Please see my configuration example below:\r\n```java\r\nimport com.github.tomakehurst.wiremock.WireMockServer;\r\nimport org.springframework.boot.test.context.TestConfiguration;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@TestConfiguration\r\npublic class WiremockConfig {\r\n    private static final Integer WIREMOCK_PORT = 8080;\r\n\r\n    @Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\r\n    public WireMockServer wireMockServer() {\r\n        return new WireMockServer(WIREMOCK_PORT);\r\n    }\r\n}\r\n```\r\n\r\nDependencies you may need:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n    &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\r\n    &lt;version&gt;2.27.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n    &lt;artifactId&gt;wiremock-jre8-standalone&lt;/artifactId&gt;\r\n    &lt;version&gt;2.32.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;de.mkammerer.wiremock-junit5&lt;/groupId&gt;\r\n    &lt;artifactId&gt;wiremock-junit5&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n  [1]: https://wiremock.org/docs/getting-started/","title":"How to mock 3rd API response when 1st API and 2nd API is working on test environment","body":"<p>You can use <a href=\"https://wiremock.org/docs/getting-started/\" rel=\"nofollow noreferrer\">Wiremock</a> for this case. It's a library for stubbing and mocking web services.</p>\n<p>This is the example of basic usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int port = 8080;\nWireMockServer wireMockServer = new WireMockServer(port);\nwireMockServer.start();\n\nstubFor(get(urlEqualTo(&quot;/ms/api/v3&quot;))\n        .willReturn(aResponse()\n                .withStatus(HttpStatus.FORBIDDEN.value())));\n\n// after completing all your tests\nwireMockServer.shutdown();\n</code></pre>\n<p>Firstly, you configure your WireMock server. Then you specify the stub for a specific URL. After all the work you should also shut down the server.</p>\n<p>If you're using the Spring framework and JUnit, it might be a good idea to set up the WireMock server as a Spring-manged bean. This will remove a lot of overhead. Please see my configuration example below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.github.tomakehurst.wiremock.WireMockServer;\nimport org.springframework.boot.test.context.TestConfiguration;\nimport org.springframework.context.annotation.Bean;\n\n@TestConfiguration\npublic class WiremockConfig {\n    private static final Integer WIREMOCK_PORT = 8080;\n\n    @Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\n    public WireMockServer wireMockServer() {\n        return new WireMockServer(WIREMOCK_PORT);\n    }\n}\n</code></pre>\n<p>Dependencies you may need:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n    &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\n    &lt;version&gt;2.27.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n    &lt;artifactId&gt;wiremock-jre8-standalone&lt;/artifactId&gt;\n    &lt;version&gt;2.32.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;de.mkammerer.wiremock-junit5&lt;/groupId&gt;\n    &lt;artifactId&gt;wiremock-junit5&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":21285730,"reputation":1,"user_id":15663405,"display_name":"Ankur Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662458844,"creation_date":1662452528,"question_id":73618874,"body_markdown":"I have 3 microservices\r\nWant to mock last ms api response.\r\n\r\nEx: my 1st api sends the correct request. And some fields are used in the 2nd MS API to send the request to 3rd MS API.\r\n\r\nNow I want to send 403 from the 3rd MS api.","title":"How to mock 3rd API response when 1st API and 2nd API is working on test environment","body":"<p>I have 3 microservices\nWant to mock last ms api response.</p>\n<p>Ex: my 1st api sends the correct request. And some fields are used in the 2nd MS API to send the request to 3rd MS API.</p>\n<p>Now I want to send 403 from the 3rd MS api.</p>\n"},{"tags":["java","jackson","dropwizard"],"comments":[{"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"score":0,"creation_date":1662445821,"post_id":73617091,"comment_id":130000356,"body_markdown":"Can you maybe share the code/method with the `nextToken()`?","body":"Can you maybe share the code/method with the <code>nextToken()</code>?"},{"owner":{"account_id":1363360,"reputation":3371,"user_id":1300307,"accept_rate":92,"display_name":"Friedrich &#39;Fred&#39; Clausen"},"score":0,"creation_date":1662458764,"post_id":73617091,"comment_id":130004663,"body_markdown":"I want to use the JsonParser [nextToken()](https://fasterxml.github.io/jackson-core/javadoc/2.5/com/fasterxml/jackson/core/JsonParser.html#nextToken()) method as it is intended (via a loop perhaps) but it needs to &quot;go back to the start&quot; in my scenario.","body":"I want to use the JsonParser <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.5/com/fasterxml/jackson/core/JsonParser.html#nextToken()\" rel=\"nofollow noreferrer\">nextToken()</a> method as it is intended (via a loop perhaps) but it needs to &quot;go back to the start&quot; in my scenario."},{"owner":{"account_id":20297157,"reputation":73,"user_id":14887449,"display_name":"Diana Eftaiha"},"score":0,"creation_date":1700805131,"post_id":73617091,"comment_id":136700471,"body_markdown":"Hi @Friedrich&#39;Fred&#39;Clausen I am in a similar situation now. Have you managed to find a way to reset the JsonParser back to the start?","body":"Hi @Friedrich&#39;Fred&#39;Clausen I am in a similar situation now. Have you managed to find a way to reset the JsonParser back to the start?"}],"owner":{"account_id":1363360,"reputation":3371,"user_id":1300307,"accept_rate":92,"display_name":"Friedrich &#39;Fred&#39; Clausen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662458713,"creation_date":1662442214,"question_id":73617091,"body_markdown":"### Summary\r\n\r\nHow do I reset JsonParser&#39;s [nextToken()](https://fasterxml.github.io/jackson-core/javadoc/2.5/com/fasterxml/jackson/core/JsonParser.html#nextToken()) back to the start and get the tokens anew? I can&#39;t find any promising methods for this.\r\n\r\n### Details\r\n\r\nI am creating a custom ExceptionMapper of kind JsonProcessingException to handle a situation where some un-mappable JSON is POSTed to a Jersey endpoint. The `nextToken()` is already &quot;finished&quot; and I can&#39;t re-inspect the payload.\r\n\r\nI need to do this because it is a health check payload that doesn&#39;t conform to the expected JSON structure of the usual API. The contents of the health check payload is not under our control. More context [over here](https://stackoverflow.com/questions/73604632/deserialising-unrelated-json-payloads-not-polymorphic-on-same-endpoint) but, basically, we expect this:\r\n\r\n```\r\n{  \r\n  &quot;eventKey&quot;:&quot;repo:refs_changed&quot;,\r\n  &quot;date&quot;:&quot;2017-09-19T09:45:32+1000&quot;,\r\n  ... other details but eventKey is necessary\r\n}\r\n```\r\n\r\nbut get this:\r\n\r\n```\r\n{&quot;test&quot;: true}\r\n```\r\n\r\nIf I can, in the ExceptionMapper of kind JsonProcessingException, just check for literally `{ &quot;test&quot;: true }` and return `200 OK` otherwise the usual 400 error it would be handy.","title":"JsonParser reset nextToken() to beginning in ExceptionMapper of type JsonProcessingException","body":"<h3>Summary</h3>\n<p>How do I reset JsonParser's <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.5/com/fasterxml/jackson/core/JsonParser.html#nextToken()\" rel=\"nofollow noreferrer\">nextToken()</a> back to the start and get the tokens anew? I can't find any promising methods for this.</p>\n<h3>Details</h3>\n<p>I am creating a custom ExceptionMapper of kind JsonProcessingException to handle a situation where some un-mappable JSON is POSTed to a Jersey endpoint. The <code>nextToken()</code> is already &quot;finished&quot; and I can't re-inspect the payload.</p>\n<p>I need to do this because it is a health check payload that doesn't conform to the expected JSON structure of the usual API. The contents of the health check payload is not under our control. More context <a href=\"https://stackoverflow.com/questions/73604632/deserialising-unrelated-json-payloads-not-polymorphic-on-same-endpoint\">over here</a> but, basically, we expect this:</p>\n<pre><code>{  \n  &quot;eventKey&quot;:&quot;repo:refs_changed&quot;,\n  &quot;date&quot;:&quot;2017-09-19T09:45:32+1000&quot;,\n  ... other details but eventKey is necessary\n}\n</code></pre>\n<p>but get this:</p>\n<pre><code>{&quot;test&quot;: true}\n</code></pre>\n<p>If I can, in the ExceptionMapper of kind JsonProcessingException, just check for literally <code>{ &quot;test&quot;: true }</code> and return <code>200 OK</code> otherwise the usual 400 error it would be handy.</p>\n"},{"tags":["java","listview","javafx"],"comments":[{"owner":{"account_id":10130954,"reputation":119,"user_id":7484393,"display_name":"Hades"},"score":0,"creation_date":1542885492,"post_id":53429709,"comment_id":93733565,"body_markdown":"Try here: https://stackoverflow.com/questions/11088612/javafx-select-item-in-listview","body":"Try here: <a href=\"https://stackoverflow.com/questions/11088612/javafx-select-item-in-listview\" title=\"javafx select item in listview\">stackoverflow.com/questions/11088612/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14598230,"reputation":698,"user_id":10543258,"display_name":"Gnas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542885696,"creation_date":1542885696,"answer_id":53429850,"question_id":53429709,"body_markdown":"You&#39;re alreading using `listView.getSelectionModel().select(newEmail)` which is the same method you would use to do what you want. Just call this after you initialize the item list and replace `newEmail` by the index of the first item, which is 0.\r\n\r\n    listView.setItems(model.getEmailList());\r\n\r\n    // assuming the list is never null\r\n    if (!listView.getItems().isEmpty()) {\r\n        listView.getSelectionModel().select(0);\r\n    }","title":"Autoselect first Item of a ListView in JavaFX","body":"<p>You're alreading using <code>listView.getSelectionModel().select(newEmail)</code> which is the same method you would use to do what you want. Just call this after you initialize the item list and replace <code>newEmail</code> by the index of the first item, which is 0.</p>\n\n<pre><code>listView.setItems(model.getEmailList());\n\n// assuming the list is never null\nif (!listView.getItems().isEmpty()) {\n    listView.getSelectionModel().select(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6566208,"reputation":444,"user_id":5075743,"accept_rate":90,"display_name":"sasieightynine"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1564141801,"creation_date":1564141801,"answer_id":57219483,"question_id":53429709,"body_markdown":"You can use `getSelectionModel().select(0)` But you have to make sure you use it right after you&#39;ve added the elements to the list.","title":"Autoselect first Item of a ListView in JavaFX","body":"<p>You can use <code>getSelectionModel().select(0)</code> But you have to make sure you use it right after you've added the elements to the list.</p>\n"},{"tags":[],"owner":{"account_id":10010266,"reputation":13,"user_id":7403305,"display_name":"S. Sami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662458696,"creation_date":1661790805,"answer_id":73531893,"question_id":53429709,"body_markdown":"Try this\r\n```\r\nlistView.getSelectionModel().selectFirst();\r\n```","title":"Autoselect first Item of a ListView in JavaFX","body":"<p>Try this</p>\n<pre><code>listView.getSelectionModel().selectFirst();\n</code></pre>\n"}],"owner":{"account_id":14710683,"reputation":33,"user_id":10624111,"display_name":"Samoa Joe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3048,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1662458696,"creation_date":1542885163,"question_id":53429709,"body_markdown":"I created a ListView, but when I open it, no elements are selected. How can I autoselect the first item that get loaded? I&#39;m asking this because I&#39;m trying to create an email client and I need that when the user opens the program the informations of the first email must be automatically loaded. This is my code: \r\n\r\n    public class ListController {\r\n\r\n    @FXML\r\n    private ListView&lt;Email&gt; listView;\r\n    private DataModel model;\r\n\r\n    public void initModel(DataModel model) {\r\n        if (this.model != null) {\r\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\r\n        }\r\n        this.model = model;\r\n        model.loadData(null);\r\n        listView.setItems(model.getEmailList());\r\n        listView.getSelectionModel().selectedItemProperty().addListener((obs, oldSelection, newSelection)\r\n                -&gt; model.setCurrentEmail(newSelection));\r\n\r\n        model.currentEmailProperty().addListener((obs, oldEmail, newEmail) -&gt; {\r\n            if (newEmail == null) {\r\n                listView.getSelectionModel().clearSelection();\r\n            } else {\r\n                listView.getSelectionModel().select(newEmail);\r\n            }\r\n        });\r\n        \r\n        listView.setCellFactory(lv -&gt; new ListCell&lt;Email&gt;() {\r\n            @Override\r\n            public void updateItem(Email mail, boolean empty) {\r\n                super.updateItem(mail, empty);\r\n                if (empty) {\r\n                    setText(null);\r\n                } else {\r\n                    setText(mail.getMittente());\r\n                }\r\n            }\r\n        });\r\n    }\r\nEDIT: @Gnas This is my code now, but it stil doesn&#39;t works:\r\n\r\n    public class ListController {\r\n\r\n    @FXML\r\n    private ListView&lt;Email&gt; listView;\r\n    private DataModel model;\r\n\r\n    public void initModel(DataModel model) {\r\n        if (this.model != null) {\r\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\r\n        }\r\n        this.model = model;\r\n        model.loadData(null);\r\n        listView.setItems(model.getEmailList());\r\n        if (!listView.getItems().isEmpty()) {\r\n            listView.getSelectionModel().select(0);\r\n        }\r\n\r\n        listView.setCellFactory(lv -&gt; new ListCell&lt;Email&gt;() {\r\n            @Override\r\n            public void updateItem(Email mail, boolean empty) {\r\n                super.updateItem(mail, empty);\r\n                if (empty) {\r\n                    setText(null);\r\n                } else {\r\n                    setText(mail.getMittente());\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nEDIT2:\r\n\r\n    public void start(Stage stage) throws Exception {\r\n        FXMLLoader listLoader = new FXMLLoader(getClass().getResource(&quot;lista.fxml&quot;));\r\n        FXMLLoader menuLoader = new FXMLLoader(getClass().getResource(&quot;menubar.fxml&quot;));\r\n        FXMLLoader textareaLoader = new FXMLLoader(getClass().getResource(&quot;textarea.fxml&quot;));\r\n        FXMLLoader fieldLoader = new FXMLLoader(getClass().getResource(&quot;textfield.fxml&quot;));\r\n        FXMLLoader buttonLoader = new FXMLLoader(getClass().getResource(&quot;button.fxml&quot;));\r\n        \r\n        AnchorPane root = new AnchorPane(listLoader.load(), textareaLoader.load(), fieldLoader.load(), menuLoader.load(), buttonLoader.load());\r\n        \r\n        ListController listController = listLoader.getController();\r\n        MenuBarController menuController = menuLoader.getController();\r\n        TextAreaController textareaController = textareaLoader.getController();\r\n        TextFieldController fieldController = fieldLoader.getController();\r\n        ButtonController buttonController = buttonLoader.getController();\r\n\r\n        DataModel model = new DataModel();\r\n        listController.initModel(model);\r\n        menuController.initModel(model);\r\n        textareaController.initModel(model);\r\n        fieldController.initModel(model);\r\n        buttonController.initModel(model);\r\n\r\n        Scene scene = new Scene(root, 603, 403);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }","title":"Autoselect first Item of a ListView in JavaFX","body":"<p>I created a ListView, but when I open it, no elements are selected. How can I autoselect the first item that get loaded? I'm asking this because I'm trying to create an email client and I need that when the user opens the program the informations of the first email must be automatically loaded. This is my code: </p>\n\n<pre><code>public class ListController {\n\n@FXML\nprivate ListView&lt;Email&gt; listView;\nprivate DataModel model;\n\npublic void initModel(DataModel model) {\n    if (this.model != null) {\n        throw new IllegalStateException(\"Model can only be initialized once\");\n    }\n    this.model = model;\n    model.loadData(null);\n    listView.setItems(model.getEmailList());\n    listView.getSelectionModel().selectedItemProperty().addListener((obs, oldSelection, newSelection)\n            -&gt; model.setCurrentEmail(newSelection));\n\n    model.currentEmailProperty().addListener((obs, oldEmail, newEmail) -&gt; {\n        if (newEmail == null) {\n            listView.getSelectionModel().clearSelection();\n        } else {\n            listView.getSelectionModel().select(newEmail);\n        }\n    });\n\n    listView.setCellFactory(lv -&gt; new ListCell&lt;Email&gt;() {\n        @Override\n        public void updateItem(Email mail, boolean empty) {\n            super.updateItem(mail, empty);\n            if (empty) {\n                setText(null);\n            } else {\n                setText(mail.getMittente());\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>EDIT: @Gnas This is my code now, but it stil doesn't works:</p>\n\n<pre><code>public class ListController {\n\n@FXML\nprivate ListView&lt;Email&gt; listView;\nprivate DataModel model;\n\npublic void initModel(DataModel model) {\n    if (this.model != null) {\n        throw new IllegalStateException(\"Model can only be initialized once\");\n    }\n    this.model = model;\n    model.loadData(null);\n    listView.setItems(model.getEmailList());\n    if (!listView.getItems().isEmpty()) {\n        listView.getSelectionModel().select(0);\n    }\n\n    listView.setCellFactory(lv -&gt; new ListCell&lt;Email&gt;() {\n        @Override\n        public void updateItem(Email mail, boolean empty) {\n            super.updateItem(mail, empty);\n            if (empty) {\n                setText(null);\n            } else {\n                setText(mail.getMittente());\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>EDIT2:</p>\n\n<pre><code>public void start(Stage stage) throws Exception {\n    FXMLLoader listLoader = new FXMLLoader(getClass().getResource(\"lista.fxml\"));\n    FXMLLoader menuLoader = new FXMLLoader(getClass().getResource(\"menubar.fxml\"));\n    FXMLLoader textareaLoader = new FXMLLoader(getClass().getResource(\"textarea.fxml\"));\n    FXMLLoader fieldLoader = new FXMLLoader(getClass().getResource(\"textfield.fxml\"));\n    FXMLLoader buttonLoader = new FXMLLoader(getClass().getResource(\"button.fxml\"));\n\n    AnchorPane root = new AnchorPane(listLoader.load(), textareaLoader.load(), fieldLoader.load(), menuLoader.load(), buttonLoader.load());\n\n    ListController listController = listLoader.getController();\n    MenuBarController menuController = menuLoader.getController();\n    TextAreaController textareaController = textareaLoader.getController();\n    TextFieldController fieldController = fieldLoader.getController();\n    ButtonController buttonController = buttonLoader.getController();\n\n    DataModel model = new DataModel();\n    listController.initModel(model);\n    menuController.initModel(model);\n    textareaController.initModel(model);\n    fieldController.initModel(model);\n    buttonController.initModel(model);\n\n    Scene scene = new Scene(root, 603, 403);\n    stage.setScene(scene);\n    stage.show();\n}\n</code></pre>\n"},{"tags":["java","eclipse","google-app-engine","eclipse-wtp"],"answers":[{"tags":[],"owner":{"account_id":3394748,"reputation":11749,"user_id":2848676,"accept_rate":75,"display_name":"Michael Osofsky"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1399505130,"creation_date":1399505130,"answer_id":23530158,"question_id":23530157,"body_markdown":"Jordan Fish from Google Cloud Platform Support helped me solve this problem.  He said:\r\n\r\n&gt; As far as the error message when you try to start the dev_appserver, I believe this is probably due to a vm argument in the run configuration for your project.  Can you please go to the run configuration (with the project selected, go to the Run menu and select Run Configurations), click on the Arguments tab, and see what is listed in the VM arguments text box?\r\n\r\nHere was my original VM arguments:\r\n\r\n    -javaagent:C:\\Program Files\\eclipse\\plugins\\com.google.appengine.eclipse.sdkbundle_1.9.4\\appengine-java-sdk-1.9.4\\lib\\agent\\appengine-agent.jar -Xmx512m -Dappengine.fullscan.seconds=5 -Ddatastore.default_high_rep_job_policy_unapplied_job_pct=50\r\n\r\nHere is what I changed it to (added double quotes around the directory that&#39;s passed as the -javaagent: param):\r\n\r\n    -javaagent:&quot;C:\\Program Files\\eclipse\\plugins\\com.google.appengine.eclipse.sdkbundle_1.9.4\\appengine-java-sdk-1.9.4\\lib\\agent\\appengine-agent.jar&quot; -Xmx512m -Dappengine.fullscan.seconds=5 -Ddatastore.default_high_rep_job_policy_unapplied_job_pct=50\r\n\r\nThis fixed my problem, I was able to complete step &quot;Running project on the Server&quot; from https://developers.google.com/appengine/docs/java/webtoolsplatform#dynamic_web_project","title":"Error opening zip file or JAR manifest missing : C:\\Program","body":"<p>Jordan Fish from Google Cloud Platform Support helped me solve this problem.  He said:</p>\n\n<blockquote>\n  <p>As far as the error message when you try to start the dev_appserver, I believe this is probably due to a vm argument in the run configuration for your project.  Can you please go to the run configuration (with the project selected, go to the Run menu and select Run Configurations), click on the Arguments tab, and see what is listed in the VM arguments text box?</p>\n</blockquote>\n\n<p>Here was my original VM arguments:</p>\n\n<pre><code>-javaagent:C:\\Program Files\\eclipse\\plugins\\com.google.appengine.eclipse.sdkbundle_1.9.4\\appengine-java-sdk-1.9.4\\lib\\agent\\appengine-agent.jar -Xmx512m -Dappengine.fullscan.seconds=5 -Ddatastore.default_high_rep_job_policy_unapplied_job_pct=50\n</code></pre>\n\n<p>Here is what I changed it to (added double quotes around the directory that's passed as the -javaagent: param):</p>\n\n<pre><code>-javaagent:\"C:\\Program Files\\eclipse\\plugins\\com.google.appengine.eclipse.sdkbundle_1.9.4\\appengine-java-sdk-1.9.4\\lib\\agent\\appengine-agent.jar\" -Xmx512m -Dappengine.fullscan.seconds=5 -Ddatastore.default_high_rep_job_policy_unapplied_job_pct=50\n</code></pre>\n\n<p>This fixed my problem, I was able to complete step \"Running project on the Server\" from <a href=\"https://developers.google.com/appengine/docs/java/webtoolsplatform#dynamic_web_project\">https://developers.google.com/appengine/docs/java/webtoolsplatform#dynamic_web_project</a></p>\n"},{"tags":[],"owner":{"account_id":9333787,"reputation":21,"user_id":6928669,"display_name":"Dozie"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1475700601,"creation_date":1475700214,"answer_id":39883309,"question_id":23530157,"body_markdown":"Run your cmd as an Admin. When you try to startup your server and you are not starting it up as an admin you get this error.","title":"Error opening zip file or JAR manifest missing : C:\\Program","body":"<p>Run your cmd as an Admin. When you try to startup your server and you are not starting it up as an admin you get this error.</p>\n"},{"tags":[],"owner":{"account_id":3576183,"reputation":8143,"user_id":2985377,"accept_rate":75,"display_name":"Jason D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492445049,"creation_date":1492445049,"answer_id":43455009,"question_id":23530157,"body_markdown":"If you use IntelliJ the solution appears to be slightly different. You need to edit the Run Configuration the same way that the Eclipse users do, but add the &quot;VM Options&quot; using this format instead:\r\n\r\n`-javaagent:[/absolute/path/DMEnhancerJava-1.0.jar][classes=META-INF/]`\r\n\r\nNote the formatting with the brackets after the colon with no spaces for each parameter. If you miss that you&#39;ll get a runtime error message about JavaAgent expecting that input format.\r\n\r\nAlso, remember that if you use a build tool like Maven or Gradle and add this to your JAVA_ARGS variable (via something like MAVEN_OPTS) you&#39;ll need to wrap the whole thing in double quotes.\r\n\r\nThe second parameter appears to be necessary to tell DMEnhancer what to instrument (mine was relative to the top level of my classpath; because my compiled POJOs were in the META-INF directory).\r\n\r\nLastly, you may notice that you sometimes get an error talking about a class being implemented in two places in the classpath internal to the VM:\r\n\r\n    Class JavaLaunchHelper is implemented in both &lt;Two full classspaths shown here&gt; One of the two will be used. Which one is undefined.\r\n\r\nThis seems to happen because of a bug in the JVM and is fixed (on MacOS X) in 1.8u152 (at the time of writing, this is considered an Early Access Release available [here][1]). See this other [answer][2] for more information on this JVM bug.\r\n\r\n\r\n  [1]: https://jdk8.java.net/download.html\r\n  [2]: https://stackoverflow.com/questions/43003012/objc3648-class-javalaunchhelper-is-implemented-in-both","title":"Error opening zip file or JAR manifest missing : C:\\Program","body":"<p>If you use IntelliJ the solution appears to be slightly different. You need to edit the Run Configuration the same way that the Eclipse users do, but add the \"VM Options\" using this format instead:</p>\n\n<p><code>-javaagent:[/absolute/path/DMEnhancerJava-1.0.jar][classes=META-INF/]</code></p>\n\n<p>Note the formatting with the brackets after the colon with no spaces for each parameter. If you miss that you'll get a runtime error message about JavaAgent expecting that input format.</p>\n\n<p>Also, remember that if you use a build tool like Maven or Gradle and add this to your JAVA_ARGS variable (via something like MAVEN_OPTS) you'll need to wrap the whole thing in double quotes.</p>\n\n<p>The second parameter appears to be necessary to tell DMEnhancer what to instrument (mine was relative to the top level of my classpath; because my compiled POJOs were in the META-INF directory).</p>\n\n<p>Lastly, you may notice that you sometimes get an error talking about a class being implemented in two places in the classpath internal to the VM:</p>\n\n<pre><code>Class JavaLaunchHelper is implemented in both &lt;Two full classspaths shown here&gt; One of the two will be used. Which one is undefined.\n</code></pre>\n\n<p>This seems to happen because of a bug in the JVM and is fixed (on MacOS X) in 1.8u152 (at the time of writing, this is considered an Early Access Release available <a href=\"https://jdk8.java.net/download.html\" rel=\"nofollow noreferrer\">here</a>). See this other <a href=\"https://stackoverflow.com/questions/43003012/objc3648-class-javalaunchhelper-is-implemented-in-both\">answer</a> for more information on this JVM bug.</p>\n"},{"tags":[],"owner":{"account_id":4388786,"reputation":300,"user_id":3577963,"display_name":"Crytis"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1526683088,"creation_date":1498986797,"answer_id":44869201,"question_id":23530157,"body_markdown":"You just have to add `&quot;&quot;` to your jar file behind `-javaagent`:","title":"Error opening zip file or JAR manifest missing : C:\\Program","body":"<p>You just have to add <code>\"\"</code> to your jar file behind <code>-javaagent</code>:</p>\n"},{"tags":[],"owner":{"account_id":11913489,"reputation":1,"user_id":8717988,"display_name":"Inzamam Syed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1561621519,"creation_date":1561618060,"answer_id":56785402,"question_id":23530157,"body_markdown":"Export jar with manifest file in eclipse as follows:\r\n\r\n[![enter image description here][2]][2]\r\n**OR**\r\n\r\nMerge manifest file with created jar.\r\nCMD: **jar ufm /Users/inzamam/Desktop/inzaa.jar META-INF/MANIFEST.MF**\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/LJTYs.png","title":"Error opening zip file or JAR manifest missing : C:\\Program","body":"<p>Export jar with manifest file in eclipse as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LJTYs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJTYs.png\" alt=\"enter image description here\"></a>\n<strong>OR</strong></p>\n\n<p>Merge manifest file with created jar.\nCMD: <strong>jar ufm /Users/inzamam/Desktop/inzaa.jar META-INF/MANIFEST.MF</strong></p>\n"},{"tags":[],"owner":{"account_id":4999311,"reputation":59,"user_id":4018817,"accept_rate":0,"display_name":"Rajesh Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662458640,"creation_date":1662458640,"answer_id":73620175,"question_id":23530157,"body_markdown":"Rebuild your project or try `mvn clean install`","title":"Error opening zip file or JAR manifest missing : C:\\Program","body":"<p>Rebuild your project or try <code>mvn clean install</code></p>\n"}],"owner":{"account_id":3394748,"reputation":11749,"user_id":2848676,"accept_rate":75,"display_name":"Michael Osofsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157886,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"accepted_answer_id":23530158,"answer_count":6,"score":26,"last_activity_date":1662458640,"creation_date":1399505130,"question_id":23530157,"body_markdown":"I&#39;m on step &quot;Running project on the Server&quot; from https://developers.google.com/appengine/docs/java/webtoolsplatform#dynamic_web_project and I ran into a problem:\r\n\r\n&gt; Error occurred during initialization of VM\r\n&gt; agent library failed to init: instrument\r\n&gt; Error opening zip file or JAR manifest missing : C:\\Program\r\n\r\nAnother person reported a similar problem here: https://stackoverflow.com/questions/18660629/error-opening-zip-file-or-jar-manifest-missing-c-program.  But the solution was for a different set of technologies.  I&#39;m using Eclipse, Web Tools Platform, and Google-App-Engine.\r\n\r\nMost likely it&#39;s because my Java is installed in C:\\Program Files, a directory which contains a space.  But I&#39;m not sure how to fix this.  I’m not sure how to safely move the Java\\jre7 directory to a directory without a space in it.","title":"Error opening zip file or JAR manifest missing : C:\\Program","body":"<p>I'm on step \"Running project on the Server\" from <a href=\"https://developers.google.com/appengine/docs/java/webtoolsplatform#dynamic_web_project\" rel=\"noreferrer\">https://developers.google.com/appengine/docs/java/webtoolsplatform#dynamic_web_project</a> and I ran into a problem:</p>\n\n<blockquote>\n  <p>Error occurred during initialization of VM\n  agent library failed to init: instrument\n  Error opening zip file or JAR manifest missing : C:\\Program</p>\n</blockquote>\n\n<p>Another person reported a similar problem here: <a href=\"https://stackoverflow.com/questions/18660629/error-opening-zip-file-or-jar-manifest-missing-c-program\">Error opening zip file or JAR manifest missing : C:/Program</a>.  But the solution was for a different set of technologies.  I'm using Eclipse, Web Tools Platform, and Google-App-Engine.</p>\n\n<p>Most likely it's because my Java is installed in C:\\Program Files, a directory which contains a space.  But I'm not sure how to fix this.  I’m not sure how to safely move the Java\\jre7 directory to a directory without a space in it.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1662456494,"post_id":73619629,"comment_id":130003855,"body_markdown":"This sounds like something you could reproduce yourself. Have you tried?","body":"This sounds like something you could reproduce yourself. Have you tried?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1662456554,"post_id":73619629,"comment_id":130003878,"body_markdown":"&quot;*on shutdown ... Does Bean B ceases to exist ... ?*&quot; Everything ceases to exist on shutdown...","body":"&quot;<i>on shutdown ... Does Bean B ceases to exist ... ?</i>&quot; Everything ceases to exist on shutdown..."},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1662456665,"post_id":73619629,"comment_id":130003915,"body_markdown":"Hi, I am not sure how to check if a bean has been destroyed or not. The application I am working on is very vast and I am having troubles reproducing this. By shutdown I mean ApplicationContext shutdown","body":"Hi, I am not sure how to check if a bean has been destroyed or not. The application I am working on is very vast and I am having troubles reproducing this. By shutdown I mean ApplicationContext shutdown"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662458394,"creation_date":1662458394,"answer_id":73620120,"question_id":73619629,"body_markdown":"Think of it that method destroy() always exists for each bean. But by default it is empty. If you need to have some logic executed upon Bean destruction beyond what is done by default than you override this method with your own logic. But just you didn&#39;t override such method for some beans does not mean that they are not destroyed. ","title":"What happens when there is no destroy method specified for a spring bean?","body":"<p>Think of it that method destroy() always exists for each bean. But by default it is empty. If you need to have some logic executed upon Bean destruction beyond what is done by default than you override this method with your own logic. But just you didn't override such method for some beans does not mean that they are not destroyed.</p>\n"}],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662458394,"creation_date":1662456172,"question_id":73619629,"body_markdown":"Let&#39;s say I have 2 beans, Bean A and Bean B. Bean A is a dependency of Bean B. Let&#39;s assume I have specified a destroy method for Bean A but not for Bean B. By logic, Bean B should first be destroyed and then Bean A should be destroyed on shutdown. Does Bean B ceases to exist even if no destroy method is specified?\r\nIf Bean B actually doesn&#39;t get destroyed then does Bean A also not get destroyed even though a destroy method has been specified for it?","title":"What happens when there is no destroy method specified for a spring bean?","body":"<p>Let's say I have 2 beans, Bean A and Bean B. Bean A is a dependency of Bean B. Let's assume I have specified a destroy method for Bean A but not for Bean B. By logic, Bean B should first be destroyed and then Bean A should be destroyed on shutdown. Does Bean B ceases to exist even if no destroy method is specified?\nIf Bean B actually doesn't get destroyed then does Bean A also not get destroyed even though a destroy method has been specified for it?</p>\n"},{"tags":["java","spring","annotations","java-annotations"],"answers":[{"tags":[],"owner":{"account_id":6365827,"reputation":3652,"user_id":4939853,"accept_rate":69,"display_name":"Oreste Viron"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662457822,"creation_date":1662457822,"answer_id":73619998,"question_id":73619923,"body_markdown":"The component scanning is done at the startup, not at the compilation.\r\nAlso, the aspects (AOP) are created at the runtime","title":"Why is Spring&#39;s @Component Annotation RUNTIME?","body":"<p>The component scanning is done at the startup, not at the compilation.\nAlso, the aspects (AOP) are created at the runtime</p>\n"}],"owner":{"account_id":26258663,"reputation":13,"user_id":19930350,"display_name":"wanshurst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73619998,"answer_count":1,"score":0,"last_activity_date":1662457822,"creation_date":1662457460,"question_id":73619923,"body_markdown":"I am wondering, why Spring&#39;s implementation of the `@Component` Annotation has `RetentionPolicy.RUNTIME`.\r\nHere&#39;s the official implementation from [github][1]\r\n\r\n```java\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Indexed\r\npublic @interface Component {\r\n\tString value() default &quot;&quot;;\r\n}\r\n\r\n```\r\n\r\n\r\nIn my thought, the scanning for all Spring-Components annotated with `@Component` would be done at compile-time and all the results (annotated classes) would *somehow* be stored inside the `ApplicationContext`. I guess I am wrong, but why does this annotation need to be `RetentionPolicy.Runtime`?\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/stereotype/Component.java","title":"Why is Spring&#39;s @Component Annotation RUNTIME?","body":"<p>I am wondering, why Spring's implementation of the <code>@Component</code> Annotation has <code>RetentionPolicy.RUNTIME</code>.\nHere's the official implementation from <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/stereotype/Component.java\" rel=\"nofollow noreferrer\">github</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Indexed\npublic @interface Component {\n    String value() default &quot;&quot;;\n}\n\n</code></pre>\n<p>In my thought, the scanning for all Spring-Components annotated with <code>@Component</code> would be done at compile-time and all the results (annotated classes) would <em>somehow</em> be stored inside the <code>ApplicationContext</code>. I guess I am wrong, but why does this annotation need to be <code>RetentionPolicy.Runtime</code>?</p>\n"},{"tags":["java","android","opencv","arraylist"],"comments":[{"owner":{"account_id":4307476,"reputation":2427,"user_id":3519504,"display_name":"Sandeep Kumar"},"score":0,"creation_date":1576751242,"post_id":59407724,"comment_id":105003098,"body_markdown":"Can you provide your code in the question?","body":"Can you provide your code in the question?"},{"owner":{"account_id":17314664,"reputation":35,"user_id":12541435,"display_name":"Avadhoot Khedekar"},"score":0,"creation_date":1576770763,"post_id":59407724,"comment_id":105013350,"body_markdown":"Here  I want to print contents of approxCurve.                               \n                                                                                                        `MatOfPoint2f matOfPoint2f = new MatOfPoint2f();\n MatOfPoint2f approxCurve = new MatOfPoint2f();\n Rect rect = Imgproc.boundingRect(contoursCopy.get(maxAreaID));\n matOfPoint2f.fromList(contoursCopy.get(maxAreaID).toList());\nImgproc.approxPolyDP(matOfPoint2f, approxCurve, Imgproc.arcLength(matOfPoint2f, true) * 0.02, true);`","body":"Here  I want to print contents of approxCurve.                                                                                                                                        <code>MatOfPoint2f matOfPoint2f = new MatOfPoint2f();  MatOfPoint2f approxCurve = new MatOfPoint2f();  Rect rect = Imgproc.boundingRect(contoursCopy.get(maxAreaID));  matOfPoint2f.fromList(contoursCopy.get(maxAreaID).toList()); Imgproc.approxPolyDP(matOfPoint2f, approxCurve, Imgproc.arcLength(matOfPoint2f, true) * 0.02, true);</code>"}],"owner":{"account_id":17314664,"reputation":35,"user_id":12541435,"display_name":"Avadhoot Khedekar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662457737,"creation_date":1576751182,"question_id":59407724,"body_markdown":"I am new to opencv java and want to print contents of matOfPoint2f on terminal. I tried using method just like to we use to print the matrix but it didn&#39;t work. So how can I print the contents of it?","title":"Printing contents of matOfPoint2f in opencv java","body":"<p>I am new to opencv java and want to print contents of matOfPoint2f on terminal. I tried using method just like to we use to print the matrix but it didn't work. So how can I print the contents of it?</p>\n"},{"tags":["java","android","opencv","mat","lbph-algorithm"],"answers":[{"tags":[],"owner":{"account_id":4548006,"reputation":475,"user_id":5254732,"accept_rate":60,"display_name":"Rohit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592476466,"creation_date":1592470197,"answer_id":62446028,"question_id":62443053,"body_markdown":"I was able to read the values by converting opencv_core.Mat to opencv_core.CvMat object. I don&#39;t know for what reason this object is marked deprecated but this worked fine for me:\r\n\r\n                double[][] input = new double[(int)vector.size()][vector.get(0).size().width()];\r\n                for (int i = 0; i &lt; vector.size(); i++) {\r\n                    opencv_core.Mat mat = vector.get(i);\r\n                    (new opencv_core.CvMat(mat)).get(input[i]);\r\n                }\r\n\r\ninput variable here now had required values of all the histograms.","title":"Reading values in opencv_face.LBPHFaceRecognizer.getHistograms()","body":"<p>I was able to read the values by converting opencv_core.Mat to opencv_core.CvMat object. I don't know for what reason this object is marked deprecated but this worked fine for me:</p>\n\n<pre><code>            double[][] input = new double[(int)vector.size()][vector.get(0).size().width()];\n            for (int i = 0; i &lt; vector.size(); i++) {\n                opencv_core.Mat mat = vector.get(i);\n                (new opencv_core.CvMat(mat)).get(input[i]);\n            }\n</code></pre>\n\n<p>input variable here now had required values of all the histograms.</p>\n"}],"owner":{"account_id":4548006,"reputation":475,"user_id":5254732,"accept_rate":60,"display_name":"Rohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662457722,"creation_date":1592458591,"question_id":62443053,"body_markdown":"I am trying to work with the open_cv library in android. I have never worked on it before, so this may be a very basic question.\r\n\r\nI have an `opencv_face.LBPHFaceRecognizer` object in my **Recognizer**Activity. My requirement is to read the histogram values for previously-stored faces.\r\n\r\n                opencv_face.LBPHFaceRecognizer mFaceRecognizer = = createLBPHFaceRecognizer(2, 8, 8, 8, 95);\r\n                File file = new File(RegisterActivity.getFilePath(mContext));\r\n                mFaceRecognizer.load(file.getAbsolutePath());\r\n\r\n\r\n                opencv_core.MatVector vector = mFaceRecognizer.getHistograms();\r\n                for (int i = 0; i &lt; vector.size(); i++) {\r\n                    opencv_core.Mat mat = vector.get(i);\r\n                    opencv_core.Size size = mat.size();\r\n                    for (int j = 0; j &lt; size.height();j++)\r\n                        for (int k = 0; k &lt; size.width(); k++) {\r\n                            // Here I want to ready the values (which would be same as the values in file am initializing mFaceRecognizer with) of these matrices but I am not able to find any appropriate method to do so.\r\n                        }\r\n                }\r\n\r\nPlease help me out with the required methods to do so, I have tried many resources and gone through documentation as well, but being a beginner I think I am missing something.\r\n\r\nI am not able to find any version of .get() or .at() method in mat object.\r\n\r\nAny help would be greatly appreciated. Thanks in advance.","title":"Reading values in opencv_face.LBPHFaceRecognizer.getHistograms()","body":"<p>I am trying to work with the open_cv library in android. I have never worked on it before, so this may be a very basic question.</p>\n\n<p>I have an <code>opencv_face.LBPHFaceRecognizer</code> object in my <strong>Recognizer</strong>Activity. My requirement is to read the histogram values for previously-stored faces.</p>\n\n<pre><code>            opencv_face.LBPHFaceRecognizer mFaceRecognizer = = createLBPHFaceRecognizer(2, 8, 8, 8, 95);\n            File file = new File(RegisterActivity.getFilePath(mContext));\n            mFaceRecognizer.load(file.getAbsolutePath());\n\n\n            opencv_core.MatVector vector = mFaceRecognizer.getHistograms();\n            for (int i = 0; i &lt; vector.size(); i++) {\n                opencv_core.Mat mat = vector.get(i);\n                opencv_core.Size size = mat.size();\n                for (int j = 0; j &lt; size.height();j++)\n                    for (int k = 0; k &lt; size.width(); k++) {\n                        // Here I want to ready the values (which would be same as the values in file am initializing mFaceRecognizer with) of these matrices but I am not able to find any appropriate method to do so.\n                    }\n            }\n</code></pre>\n\n<p>Please help me out with the required methods to do so, I have tried many resources and gone through documentation as well, but being a beginner I think I am missing something.</p>\n\n<p>I am not able to find any version of .get() or .at() method in mat object.</p>\n\n<p>Any help would be greatly appreciated. Thanks in advance.</p>\n"},{"tags":["java","android","android-studio","opencv"],"answers":[{"tags":[],"owner":{"account_id":9451707,"reputation":590,"user_id":7028310,"display_name":"0xDEADBEEF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602829210,"creation_date":1602828819,"answer_id":64383798,"question_id":63090645,"body_markdown":"Hello I experience this problem also.\r\nThe link you provide does not work on version 4.+.+ of opencv. \r\n*I found there is a tutorial in build.gradle, inside the sdk folder(sdk/build.gradle)*. \r\nUnload your sdk and try following the latest tutorial inside the sdk folder.\r\n\r\n    // This file is part of OpenCV project.\r\n    // It is subject to the license terms in the LICENSE file found in the top-level directory\r\n    // of this distribution and at http://opencv.org/license.html.\r\n    \r\n    //\r\n    // Notes about integration OpenCV into existed Android Studio application project are below (application &#39;app&#39; module should exist).\r\n    //\r\n    // This file is located in &lt;OpenCV-android-sdk&gt;/sdk directory (near &#39;etc&#39;, &#39;java&#39;, &#39;native&#39; subdirectories)\r\n    //\r\n    // Add module into Android Studio application project:\r\n    //\r\n    // - Android Studio way:\r\n    //   (will copy almost all OpenCV Android SDK into your project, ~200Mb)\r\n    //\r\n    //   Import module: Menu -&gt; &quot;File&quot; -&gt; &quot;New&quot; -&gt; &quot;Module&quot; -&gt; &quot;Import Gradle project&quot;:\r\n    //   Source directory: select this &quot;sdk&quot; directory\r\n    //   Module name: &quot;:opencv&quot;\r\n    //\r\n    // - or attach library module from OpenCV Android SDK\r\n    //   (without copying into application project directory, allow to share the same module between projects)\r\n    //\r\n    //   Edit &quot;settings.gradle&quot; and add these lines:\r\n    //\r\n    //   def opencvsdk=&#39;&lt;path_to_opencv_android_sdk_rootdir&gt;&#39;\r\n    //   // You can put declaration above into gradle.properties file instead (including file in HOME directory),\r\n    //   // but without &#39;def&#39; and apostrophe symbols (&#39;): opencvsdk=&lt;path_to_opencv_android_sdk_rootdir&gt;\r\n    //   include &#39;:opencv&#39;\r\n    //   project(&#39;:opencv&#39;).projectDir = new File(opencvsdk + &#39;/sdk&#39;)\r\n    //\r\n    //\r\n    //\r\n    // Add dependency into application module:\r\n    //\r\n    // - Android Studio way:\r\n    //   &quot;Open Module Settings&quot; (F4) -&gt; &quot;Dependencies&quot; tab\r\n    //\r\n    // - or add &quot;project(&#39;:opencv&#39;)&quot; dependency into app/build.gradle:\r\n    //\r\n    //   dependencies {\r\n    //       implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    //       ...\r\n    //       implementation project(&#39;:opencv&#39;)\r\n    //   }\r\n    //\r\n    //\r\n    //\r\n    // Load OpenCV native library before using:\r\n    //\r\n    // - avoid using of &quot;OpenCVLoader.initAsync()&quot; approach - it is deprecated\r\n    //   It may load library with different version (from OpenCV Android Manager, which is installed separatelly on device)\r\n    //\r\n    // - use &quot;System.loadLibrary(&quot;opencv_java4&quot;)&quot; or &quot;OpenCVLoader.initDebug()&quot;","title":"Adding opencv to android studio: Dependent features configured but no package ID was set","body":"<p>Hello I experience this problem also.\nThe link you provide does not work on version 4.+.+ of opencv.\n<em>I found there is a tutorial in build.gradle, inside the sdk folder(sdk/build.gradle)</em>.\nUnload your sdk and try following the latest tutorial inside the sdk folder.</p>\n<pre><code>// This file is part of OpenCV project.\n// It is subject to the license terms in the LICENSE file found in the top-level directory\n// of this distribution and at http://opencv.org/license.html.\n\n//\n// Notes about integration OpenCV into existed Android Studio application project are below (application 'app' module should exist).\n//\n// This file is located in &lt;OpenCV-android-sdk&gt;/sdk directory (near 'etc', 'java', 'native' subdirectories)\n//\n// Add module into Android Studio application project:\n//\n// - Android Studio way:\n//   (will copy almost all OpenCV Android SDK into your project, ~200Mb)\n//\n//   Import module: Menu -&gt; &quot;File&quot; -&gt; &quot;New&quot; -&gt; &quot;Module&quot; -&gt; &quot;Import Gradle project&quot;:\n//   Source directory: select this &quot;sdk&quot; directory\n//   Module name: &quot;:opencv&quot;\n//\n// - or attach library module from OpenCV Android SDK\n//   (without copying into application project directory, allow to share the same module between projects)\n//\n//   Edit &quot;settings.gradle&quot; and add these lines:\n//\n//   def opencvsdk='&lt;path_to_opencv_android_sdk_rootdir&gt;'\n//   // You can put declaration above into gradle.properties file instead (including file in HOME directory),\n//   // but without 'def' and apostrophe symbols ('): opencvsdk=&lt;path_to_opencv_android_sdk_rootdir&gt;\n//   include ':opencv'\n//   project(':opencv').projectDir = new File(opencvsdk + '/sdk')\n//\n//\n//\n// Add dependency into application module:\n//\n// - Android Studio way:\n//   &quot;Open Module Settings&quot; (F4) -&gt; &quot;Dependencies&quot; tab\n//\n// - or add &quot;project(':opencv')&quot; dependency into app/build.gradle:\n//\n//   dependencies {\n//       implementation fileTree(dir: 'libs', include: ['*.jar'])\n//       ...\n//       implementation project(':opencv')\n//   }\n//\n//\n//\n// Load OpenCV native library before using:\n//\n// - avoid using of &quot;OpenCVLoader.initAsync()&quot; approach - it is deprecated\n//   It may load library with different version (from OpenCV Android Manager, which is installed separatelly on device)\n//\n// - use &quot;System.loadLibrary(&quot;opencv_java4&quot;)&quot; or &quot;OpenCVLoader.initDebug()&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16212726,"reputation":151,"user_id":11706242,"display_name":"Jyoti Prajapati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606209241,"creation_date":1606202854,"answer_id":64981942,"question_id":63090645,"body_markdown":"It happens with my project also so i doing few changes inside my build.gradle file inside the java file. \r\nyou can try this also \r\nProject Folder-&gt;java-&gt;build.gradle file\r\n\r\nopen this file and edit the file like this -\r\napply plugin: &#39;com.android.library&#39;\r\n\r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &quot;29.0.2&quot;\r\n    \r\n        defaultConfig {\r\n            //applicationId &quot;org.opencv&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 29\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n            }\r\n        }\r\n    }\r\n\r\ntry this maybe its helpful for you\r\n\r\n\r\n","title":"Adding opencv to android studio: Dependent features configured but no package ID was set","body":"<p>It happens with my project also so i doing few changes inside my build.gradle file inside the java file.\nyou can try this also\nProject Folder-&gt;java-&gt;build.gradle file</p>\n<p>open this file and edit the file like this -\napply plugin: 'com.android.library'</p>\n<pre><code>android {\n    compileSdkVersion 29\n    buildToolsVersion &quot;29.0.2&quot;\n\n    defaultConfig {\n        //applicationId &quot;org.opencv&quot;\n        minSdkVersion 16\n        targetSdkVersion 29\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n}\n</code></pre>\n<p>try this maybe its helpful for you</p>\n"}],"owner":{"account_id":12578212,"reputation":367,"user_id":9149882,"display_name":"Felix Hegg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3636,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662457646,"creation_date":1595693826,"question_id":63090645,"body_markdown":"I am trying to add OpenCV to my AndroidStudio project. However, I get the error mentioned above, when trying to build the project:  &quot;Dependent features configured but no package ID was set.&quot;\r\n\r\nI used the following link for the implementation:  https://android.jlelse.eu/a-beginners-guide-to-setting-up-opencv-android-library-on-android-studio-19794e220f3c\r\nI was not able to follow step 5, because there was no option to choose from. It was just a blank screen. I assumed, that AndroidStudio already performed that step automatically. I was able to access Objects from openCv like &quot;Mat&quot;, but when building the project, I got the error mentioned above.\r\n\r\n\r\n\r\nIf you need more information, please let me know.\r\n\r\n","title":"Adding opencv to android studio: Dependent features configured but no package ID was set","body":"<p>I am trying to add OpenCV to my AndroidStudio project. However, I get the error mentioned above, when trying to build the project:  &quot;Dependent features configured but no package ID was set.&quot;</p>\n<p>I used the following link for the implementation:  <a href=\"https://android.jlelse.eu/a-beginners-guide-to-setting-up-opencv-android-library-on-android-studio-19794e220f3c\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/a-beginners-guide-to-setting-up-opencv-android-library-on-android-studio-19794e220f3c</a>\nI was not able to follow step 5, because there was no option to choose from. It was just a blank screen. I assumed, that AndroidStudio already performed that step automatically. I was able to access Objects from openCv like &quot;Mat&quot;, but when building the project, I got the error mentioned above.</p>\n<p>If you need more information, please let me know.</p>\n"},{"tags":["java","android","opencv","graphics","3d"],"comments":[{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1626329238,"post_id":68386675,"comment_id":120864560,"body_markdown":"can you show hiw you compute and set R and T? Can you try to really feed identical images to your pipeline? Check whether R and T then stay identical over all the frames. Of they still change, maybe you update R and T in a wrong way.","body":"can you show hiw you compute and set R and T? Can you try to really feed identical images to your pipeline? Check whether R and T then stay identical over all the frames. Of they still change, maybe you update R and T in a wrong way."},{"owner":{"display_name":"user4581586"},"score":0,"creation_date":1626339912,"post_id":68386675,"comment_id":120868523,"body_markdown":"@Micka sure, I just edited the question to include the method that detects the markers every frame (updates rvecs and tvecs). I doubt this is the problem because as I mentioned we are able to drawAxis easily and accurately with the rvecs and tvecs detected by this method","body":"@Micka sure, I just edited the question to include the method that detects the markers every frame (updates rvecs and tvecs). I doubt this is the problem because as I mentioned we are able to drawAxis easily and accurately with the rvecs and tvecs detected by this method"},{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1626364801,"post_id":68386675,"comment_id":120879343,"body_markdown":"what does updateDetectedMarkers do? Is the same object information used for rendering coordinate axis and the object itself?","body":"what does updateDetectedMarkers do? Is the same object information used for rendering coordinate axis and the object itself?"},{"owner":{"display_name":"user4581586"},"score":0,"creation_date":1626365557,"post_id":68386675,"comment_id":120879669,"body_markdown":"@Micka updateDetectedMarkers is only `this.detectedMarkers = detectedMarkers;`. Sets the member List of MarkerData to the passed List of marker data. drawAxis doesn&#39;t use markerData as it uses `rvecs` and `tvecs` directly, but the `rvec` and `tvec` values in markerData are the same as the ones in `rvecs` and `tvecs` because we set them through the `rvecs` and `tvecs` as is shown in the code.","body":"@Micka updateDetectedMarkers is only <code>this.detectedMarkers = detectedMarkers;</code>. Sets the member List of MarkerData to the passed List of marker data. drawAxis doesn&#39;t use markerData as it uses <code>rvecs</code> and <code>tvecs</code> directly, but the <code>rvec</code> and <code>tvec</code> values in markerData are the same as the ones in <code>rvecs</code> and <code>tvecs</code> because we set them through the <code>rvecs</code> and <code>tvecs</code> as is shown in the code."},{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1626368482,"post_id":68386675,"comment_id":120880803,"body_markdown":"currentScene is resetted before each image? Is the scene rendered with static camera position? Can you still debug/verify that rvec and tvec are the same as at the time when the coordinate axes are rendered? For axes rendering do you use openCV or the scene rendering?","body":"currentScene is resetted before each image? Is the scene rendered with static camera position? Can you still debug/verify that rvec and tvec are the same as at the time when the coordinate axes are rendered? For axes rendering do you use openCV or the scene rendering?"},{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1626369005,"post_id":68386675,"comment_id":120881014,"body_markdown":"Afaik coordinate axis directions are different in openCV and openGL. In OpenCV: x axis pointing in the right side from the camera, y axis pointing down, and z pointing in the direction camera is faced. IN OpenGL afair it is x: right, y: up; z: backward","body":"Afaik coordinate axis directions are different in openCV and openGL. In OpenCV: x axis pointing in the right side from the camera, y axis pointing down, and z pointing in the direction camera is faced. IN OpenGL afair it is x: right, y: up; z: backward"}],"owner":{"display_name":"user4581586"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662457615,"creation_date":1626311252,"question_id":68386675,"body_markdown":"Me and my teammates are working on a project, we use OpenCV to detect ArUco markers and use Rajawali (OpenGL ES wrapper library, on github) to render 3D objects over the detected markers.\r\nWe know our detection is correct, because we test it using the `drawAxis` method and it&#39;s incredibly stable and accurate. So this should rule out calibration and detection errors.\r\nHere&#39;s how the axis look, drawn over a marker on my laptop. It isn&#39;t a video, but trust me, it&#39;s consistent across most distance/angle configurations I tried so I think it&#39;s pretty good.\r\n\r\n[![enter image description here][1]][1]\r\nThis leaves nothing but the rendering method, which produces *very* wrong results.\r\nOnce we start trying to render an object over the marker:\r\n1. Orientation gets butchered. Model is *rarely* oriented correctly with respect to the marker. Feels like it&#39;s almost not even rotating, just floating on the screen.\r\n2. Translation also gets butchered. Model is never &quot;stuck&quot; to the marker, instead it moves almost always with the center of the camera (as if it&#39;s locked to the camera, not to the marker).\r\n3. Model jitters slightly, unstable. Totally unlike the axis. Even when I hold the camera totally still.\r\n3 is a problem we can probably live with, but 1 and 2 are too much.\r\nHere&#39;s the method that renders the object, it&#39;s in Java but I think it&#39;s pretty accessible to non-Java users as well.\r\nThis is how markers are detected (rvec and tvec values):\r\n```\r\n    /**\r\n     * This method takes a gray frame, detects the markers\r\n     * and stores their corners, rvecs, tvecs and ids,\r\n     * then updates the detectedMarkers list with the new markers detected.\r\n     * @param frameGray\r\n     */\r\n    public void markerDetection(Mat frameGray)\r\n    {\r\n        ids = new Mat();\r\n        corners = new ArrayList&lt;&gt;();\r\n        Aruco.detectMarkers(frameGray, markerDictionary, corners, ids);\r\n\r\n        List&lt;MarkerData&gt; newDetectedMarkers = new ArrayList&lt;&gt;();\r\n\r\n        if(ids.size().height &gt; 0)\r\n        {\r\n            rvecs = new Mat();\r\n            tvecs = new Mat();\r\n            Aruco.estimatePoseSingleMarkers(corners, markerLength, cameraMatrix, distortionCoef, rvecs, tvecs);\r\n\r\n            for(int i=0; i&lt;ids.size().height; i++)\r\n            {\r\n                double[] rvecArray = new double[]{\r\n                        rvecs.get(i , 0)[0],\r\n                        rvecs.get(i , 0)[1],\r\n                        rvecs.get(i , 0)[2]};\r\n                double[] tvecArray = new double[]{\r\n                        tvecs.get(i , 0)[0],\r\n                        tvecs.get(i , 0)[1],\r\n                        tvecs.get(i , 0)[2]};\r\n\r\n                MarkerData newMarker = new MarkerData(rvecArray, tvecArray, corners.get(i), (int)ids.get(i, 0)[0]);\r\n                newDetectedMarkers.add(newMarker);\r\n            }\r\n        }\r\n\r\n        updateDetectedMarkers(newDetectedMarkers);\r\n    }\r\n```\r\nThis is how rendering is done:\r\n```\r\n    @Override\r\n    protected void onRender(long elapsedRealtime, double deltaTime) {\r\n        super.onRender(elapsedRealtime, deltaTime);\r\n        getCurrentScene().clearChildren();\r\n        List&lt;MarkerData&gt; markerData = markerDetector.getDetectedMarkers();\r\n        for (MarkerData marker : markerData) {\r\n            try {\r\n                int id = R.raw.monkey;\r\n                LoaderOBJ parser = new LoaderOBJ(mContext.getResources(), mTextureManager, id);\r\n                parser.parse();\r\n\r\n                Object3D object = parser.getParsedObject();\r\n                object.setMaterial(defaultMaterial);\r\n                object.setScale(0.3);\r\n\r\n                Mat rvec = marker.getRvec(); // 3x1 Mat\r\n                Mat tvec = marker.getTvec(); // 3x1 Mat\r\n\r\n                object.setRotation(new Vector3(rvec.get(0, 0)[0], rvec.get(1, 0)[0], rvec.get(2, 0)[0]));\r\n                object.setPosition(new Vector3(tvec.get(0, 0)[0], tvec.get(1,  0)[0], tvec.get(2, 0)[0]));\r\n\r\n                getCurrentScene().addChild(object);\r\n            } catch (ParsingException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\nmarkerData is a List of MarkerData objects, which contain `rvec`, `tvec`, `corners` and `id` of every detected marker.\r\nobject is the parsed 3D object, in this case it&#39;s the Suzanne monkey object.\r\nWe get the rvec and tvec associated with the current marker, and store them in `rvec` and `tvec`.\r\nWe use them to set the rotation and set the position of the object, and the rest is up to rajawali.\r\nI am sure we are missing some Linear Algebra magic here and there, but we aren&#39;t really well versed in that area. What are we missing? How can we get this right? Help will be super appreciated.\r\nThis is my guess, and I hope it&#39;s a good guess. Good enough for anyone to help, anyways.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qkb1L.jpg","title":"Why aren&#39;t 3D models being rendered correctly over the detected ArUco marker?","body":"<p>Me and my teammates are working on a project, we use OpenCV to detect ArUco markers and use Rajawali (OpenGL ES wrapper library, on github) to render 3D objects over the detected markers.\nWe know our detection is correct, because we test it using the <code>drawAxis</code> method and it's incredibly stable and accurate. So this should rule out calibration and detection errors.\nHere's how the axis look, drawn over a marker on my laptop. It isn't a video, but trust me, it's consistent across most distance/angle configurations I tried so I think it's pretty good.</p>\n<p><a href=\"https://i.stack.imgur.com/Qkb1L.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qkb1L.jpg\" alt=\"enter image description here\" /></a>\nThis leaves nothing but the rendering method, which produces <em>very</em> wrong results.\nOnce we start trying to render an object over the marker:</p>\n<ol>\n<li>Orientation gets butchered. Model is <em>rarely</em> oriented correctly with respect to the marker. Feels like it's almost not even rotating, just floating on the screen.</li>\n<li>Translation also gets butchered. Model is never &quot;stuck&quot; to the marker, instead it moves almost always with the center of the camera (as if it's locked to the camera, not to the marker).</li>\n<li>Model jitters slightly, unstable. Totally unlike the axis. Even when I hold the camera totally still.\n3 is a problem we can probably live with, but 1 and 2 are too much.\nHere's the method that renders the object, it's in Java but I think it's pretty accessible to non-Java users as well.\nThis is how markers are detected (rvec and tvec values):</li>\n</ol>\n<pre><code>    /**\n     * This method takes a gray frame, detects the markers\n     * and stores their corners, rvecs, tvecs and ids,\n     * then updates the detectedMarkers list with the new markers detected.\n     * @param frameGray\n     */\n    public void markerDetection(Mat frameGray)\n    {\n        ids = new Mat();\n        corners = new ArrayList&lt;&gt;();\n        Aruco.detectMarkers(frameGray, markerDictionary, corners, ids);\n\n        List&lt;MarkerData&gt; newDetectedMarkers = new ArrayList&lt;&gt;();\n\n        if(ids.size().height &gt; 0)\n        {\n            rvecs = new Mat();\n            tvecs = new Mat();\n            Aruco.estimatePoseSingleMarkers(corners, markerLength, cameraMatrix, distortionCoef, rvecs, tvecs);\n\n            for(int i=0; i&lt;ids.size().height; i++)\n            {\n                double[] rvecArray = new double[]{\n                        rvecs.get(i , 0)[0],\n                        rvecs.get(i , 0)[1],\n                        rvecs.get(i , 0)[2]};\n                double[] tvecArray = new double[]{\n                        tvecs.get(i , 0)[0],\n                        tvecs.get(i , 0)[1],\n                        tvecs.get(i , 0)[2]};\n\n                MarkerData newMarker = new MarkerData(rvecArray, tvecArray, corners.get(i), (int)ids.get(i, 0)[0]);\n                newDetectedMarkers.add(newMarker);\n            }\n        }\n\n        updateDetectedMarkers(newDetectedMarkers);\n    }\n</code></pre>\n<p>This is how rendering is done:</p>\n<pre><code>    @Override\n    protected void onRender(long elapsedRealtime, double deltaTime) {\n        super.onRender(elapsedRealtime, deltaTime);\n        getCurrentScene().clearChildren();\n        List&lt;MarkerData&gt; markerData = markerDetector.getDetectedMarkers();\n        for (MarkerData marker : markerData) {\n            try {\n                int id = R.raw.monkey;\n                LoaderOBJ parser = new LoaderOBJ(mContext.getResources(), mTextureManager, id);\n                parser.parse();\n\n                Object3D object = parser.getParsedObject();\n                object.setMaterial(defaultMaterial);\n                object.setScale(0.3);\n\n                Mat rvec = marker.getRvec(); // 3x1 Mat\n                Mat tvec = marker.getTvec(); // 3x1 Mat\n\n                object.setRotation(new Vector3(rvec.get(0, 0)[0], rvec.get(1, 0)[0], rvec.get(2, 0)[0]));\n                object.setPosition(new Vector3(tvec.get(0, 0)[0], tvec.get(1,  0)[0], tvec.get(2, 0)[0]));\n\n                getCurrentScene().addChild(object);\n            } catch (ParsingException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>markerData is a List of MarkerData objects, which contain <code>rvec</code>, <code>tvec</code>, <code>corners</code> and <code>id</code> of every detected marker.\nobject is the parsed 3D object, in this case it's the Suzanne monkey object.\nWe get the rvec and tvec associated with the current marker, and store them in <code>rvec</code> and <code>tvec</code>.\nWe use them to set the rotation and set the position of the object, and the rest is up to rajawali.\nI am sure we are missing some Linear Algebra magic here and there, but we aren't really well versed in that area. What are we missing? How can we get this right? Help will be super appreciated.\nThis is my guess, and I hope it's a good guess. Good enough for anyone to help, anyways.</p>\n"},{"tags":["java","unit-testing","testing","junit","hamcrest"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":2,"creation_date":1466487662,"post_id":37936350,"comment_id":63322430,"body_markdown":"In case of junit, when testcase would fail, you would get reversed message saying was expecting &quot;abc&quot; and got &quot;pqr&quot; which in reality would be vice versa. but in reality it doesnt makes any difference.","body":"In case of junit, when testcase would fail, you would get reversed message saying was expecting &quot;abc&quot; and got &quot;pqr&quot; which in reality would be vice versa. but in reality it doesnt makes any difference."}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662457409,"creation_date":1466487730,"answer_id":37936406,"question_id":37936350,"body_markdown":"Well, for Hamcrest, the types are actually different: the left-hand side is an `Object` and the right hand side is a `Matcher`.\r\n\r\nFor JUnit the difference is &quot;only&quot; semantics, i.e. you get a misleading assert message in case of failure.\r\n\r\n[AssertJ](http://joel-costigliola.github.io/assertj/) (to add another example) uses a fluent-style interface:\r\n\r\n```lang-java\r\nassertThat(actual).isEqualTo(expected);\r\nassertThat(actual).isGreaterThan(expected);\r\n...\r\n```","title":"Order of argument in both Junit and Hamcrest","body":"<p>Well, for Hamcrest, the types are actually different: the left-hand side is an <code>Object</code> and the right hand side is a <code>Matcher</code>.</p>\n<p>For JUnit the difference is &quot;only&quot; semantics, i.e. you get a misleading assert message in case of failure.</p>\n<p><a href=\"http://joel-costigliola.github.io/assertj/\" rel=\"nofollow noreferrer\">AssertJ</a> (to add another example) uses a fluent-style interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(actual).isEqualTo(expected);\nassertThat(actual).isGreaterThan(expected);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1466493331,"creation_date":1466493331,"answer_id":37937820,"question_id":37936350,"body_markdown":"A lot of that confusion goes away when you realize that you **only** need to use **assertThat**. This assert simply does what all the others do; and it does it in a much better way. \r\n\r\nAnd no, the order doesn&#39;t really matter. In the end, this is about matching two values. If the two values are identical, you don&#39;t care.\r\n\r\nThe only problem: if you reverse values, then fixing broken tests might be harder - as you should better understand the difference between the *actual* and the *expected* value. \r\n\r\nFinally: there is a simple helper when using assertThat. It wants A (ctual), then E(expected). Very much in alphabetical order.","title":"Order of argument in both Junit and Hamcrest","body":"<p>A lot of that confusion goes away when you realize that you <strong>only</strong> need to use <strong>assertThat</strong>. This assert simply does what all the others do; and it does it in a much better way. </p>\n\n<p>And no, the order doesn't really matter. In the end, this is about matching two values. If the two values are identical, you don't care.</p>\n\n<p>The only problem: if you reverse values, then fixing broken tests might be harder - as you should better understand the difference between the <em>actual</em> and the <em>expected</em> value. </p>\n\n<p>Finally: there is a simple helper when using assertThat. It wants A (ctual), then E(expected). Very much in alphabetical order.</p>\n"}],"owner":{"account_id":7327084,"reputation":9738,"user_id":5581182,"accept_rate":88,"display_name":"Thor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37937820,"answer_count":2,"score":1,"last_activity_date":1662457409,"creation_date":1466487473,"question_id":37936350,"body_markdown":"I saw the following code snippet online:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: http://i.stack.imgur.com/sgkYY.png\r\n\r\nAs it mentioned, the argument order of Junit(expected, actual) and Hamcrest(actual, expected) is reversed. \r\n\r\nI was wondering what is the reason behind it? Does the argument order really matter for Junit or Hamcrest? If someone accidently placed the argument in the wrong order, will it affect the result?\r\n","title":"Order of argument in both Junit and Hamcrest","body":"<p>I saw the following code snippet online:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sgkYY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sgkYY.png\" alt=\"enter image description here\"></a></p>\n\n<p>As it mentioned, the argument order of Junit(expected, actual) and Hamcrest(actual, expected) is reversed. </p>\n\n<p>I was wondering what is the reason behind it? Does the argument order really matter for Junit or Hamcrest? If someone accidently placed the argument in the wrong order, will it affect the result?</p>\n"},{"tags":["java","sql-server","spring","mssql-jdbc","database-metadata"],"comments":[{"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"score":0,"creation_date":1662452145,"post_id":73618748,"comment_id":130002328,"body_markdown":"please add all what you see in your console","body":"please add all what you see in your console"},{"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"score":0,"creation_date":1662452608,"post_id":73618748,"comment_id":130002464,"body_markdown":"Sorry I added it","body":"Sorry I added it"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662453873,"post_id":73618748,"comment_id":130002891,"body_markdown":"That code is wrong on many levels. When you see code like `jdbcTemplate.getDataSource().getConnection()`. Stop typing, get a cup of coffee/tea/... and lean back and rethink. You should use a `ConnectionCallback`. Next you are getting the wrong `String` after the last `/` (I assume)`. What you want is after the first `;` and the following `;` and then strip the `DatabaseName` part. But you are probably better of unwrapping the connection to the MSSQL native connection and calling the appropriate methods from there.","body":"That code is wrong on many levels. When you see code like <code>jdbcTemplate.getDataSource().getConnection()</code>. Stop typing, get a cup of coffee/tea/... and lean back and rethink. You should use a <code>ConnectionCallback</code>. Next you are getting the wrong <code>String</code> after the last <code>&#47;</code> (I assume)<code>. What you want is after the first </code>;` and the following <code>;</code> and then strip the <code>DatabaseName</code> part. But you are probably better of unwrapping the connection to the MSSQL native connection and calling the appropriate methods from there."},{"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"score":0,"creation_date":1662461993,"post_id":73618748,"comment_id":130005716,"body_markdown":"I didn&#39;t get the point, why and how I must use ConnectionCallback?","body":"I didn&#39;t get the point, why and how I must use ConnectionCallback?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1662462601,"post_id":73618748,"comment_id":130005904,"body_markdown":"`connection.getCatalog()`? Although it can return `null` when the URL doesn&#39;t contain a database name, i.e.: is depending the the login&#39;s default database setting.","body":"<code>connection.getCatalog()</code>? Although it can return <code>null</code> when the URL doesn&#39;t contain a database name, i.e.: is depending the the login&#39;s default database setting."}],"answers":[{"tags":[],"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662457194,"creation_date":1662457194,"answer_id":73619865,"question_id":73618748,"body_markdown":"My problem was in this place:\r\n\r\n    final String databaseName = StringUtils.substringAfterLast(connection.getMetaData().getURL(), &quot;/&quot;);\r\n\r\nI waited to see `test_mssql` but I would get this: `LOCALHOST:1433;CONNECTRETRYINTERVAL=10;CONNECTRETRYCOUNT=1;MAXRESULTBUFFER=-1;SENDTEMPORALDATATYPESASSTRINGFORBULKCOPY=TRUE;DELA`\r\n\r\nThanks M. Deinum for comment.","title":"The identifier that starts with &#39;....&#39; is too long. Maximum length is 128","body":"<p>My problem was in this place:</p>\n<pre><code>final String databaseName = StringUtils.substringAfterLast(connection.getMetaData().getURL(), &quot;/&quot;);\n</code></pre>\n<p>I waited to see <code>test_mssql</code> but I would get this: <code>LOCALHOST:1433;CONNECTRETRYINTERVAL=10;CONNECTRETRYCOUNT=1;MAXRESULTBUFFER=-1;SENDTEMPORALDATATYPESASSTRINGFORBULKCOPY=TRUE;DELA</code></p>\n<p>Thanks M. Deinum for comment.</p>\n"}],"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662457194,"creation_date":1662451838,"question_id":73618748,"body_markdown":"I try retrive metadata from my MSSQL database, but I get this error:\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: The identifier that starts with &#39;LOCALHOST:1433;CONNECTRETRYINTERVAL=10;CONNECTRETRYCOUNT=1;MAXRESULTBUFFER=-1;SENDTEMPORALDATATYPESASSTRINGFORBULKCOPY=TRUE;DELA&#39; is too long. Maximum length is 128.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:299)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:132)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:37)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:26)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection$1ConnectionCommand.doExecute(SQLServerConnection.java:3897)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7730)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3786)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectionCommand(SQLServerConnection.java:3905)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.setCatalog(SQLServerConnection.java:4271)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDatabaseMetaData.switchCatalogs(SQLServerDatabaseMetaData.java:400)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDatabaseMetaData.getResultSetFromStoredProc(SQLServerDatabaseMetaData.java:349)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDatabaseMetaData.getResultSetWithProvidedColumnNames(SQLServerDatabaseMetaData.java:374)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDatabaseMetaData.getTables(SQLServerDatabaseMetaData.java:561)\r\n    \tat com.zaxxer.hikari.pool.ProxyDatabaseMetaData.getTables(ProxyDatabaseMetaData.java:68)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyDatabaseMetaData.getTables(HikariProxyDatabaseMetaData.java)\r\n    \tat com.scand.bma.querytool.service.MetaDataService.getTablesInfo(MetaDataService.java:52)\r\n\r\nThis is my connection setting:\r\n\r\n    spring.datasource.url=jdbc:sqlserver://localhost:1433;DatabaseName=test_mssql;encrypt=true;trustServerCertificate=true;\r\n    spring.datasource.username=test\r\n    spring.datasource.password=dNZrpWp:0tEEv&quot;JSWGE*\r\n    spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\n    spring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nThis is code when I get error:\r\n\r\n      try (final Connection connection = jdbcTemplate.getDataSource().getConnection()) {\r\n                final Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; tablesAndColumns = new LinkedHashMap&lt;&gt;();\r\n                final DatabaseMetaData metaData = connection.getMetaData();\r\n                final String databaseName = StringUtils.substringAfterLast(connection.getMetaData().getURL(), &quot;/&quot;);\r\n    \r\n                result.setTableName(databaseName);\r\n                try (final ResultSet tables = metaData.getTables(databaseName.toUpperCase(), null, null, new String[]{&quot;TABLE&quot;})) {\r\n    ...\r\n      }\r\n    }\r\n\r\nI get the error in this place:\r\n\r\n    metaData.getTables(databaseName.toUpperCase(), null, null, new String[]{&quot;TABLE&quot;})\r\n\r\nI added this dependencies:\r\n\r\n    implementation group: &#39;com.microsoft.sqlserver&#39;, name: &#39;mssql-jdbc&#39;, version: &#39;11.2.0.jre17&#39;\r\n\r\nSQL queries execute perfectly, but I can&#39;t get metadata.","title":"The identifier that starts with &#39;....&#39; is too long. Maximum length is 128","body":"<p>I try retrive metadata from my MSSQL database, but I get this error:</p>\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: The identifier that starts with 'LOCALHOST:1433;CONNECTRETRYINTERVAL=10;CONNECTRETRYCOUNT=1;MAXRESULTBUFFER=-1;SENDTEMPORALDATATYPESASSTRINGFORBULKCOPY=TRUE;DELA' is too long. Maximum length is 128.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265)\n    at com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:299)\n    at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:132)\n    at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:37)\n    at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:26)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection$1ConnectionCommand.doExecute(SQLServerConnection.java:3897)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7730)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3786)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectionCommand(SQLServerConnection.java:3905)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.setCatalog(SQLServerConnection.java:4271)\n    at com.microsoft.sqlserver.jdbc.SQLServerDatabaseMetaData.switchCatalogs(SQLServerDatabaseMetaData.java:400)\n    at com.microsoft.sqlserver.jdbc.SQLServerDatabaseMetaData.getResultSetFromStoredProc(SQLServerDatabaseMetaData.java:349)\n    at com.microsoft.sqlserver.jdbc.SQLServerDatabaseMetaData.getResultSetWithProvidedColumnNames(SQLServerDatabaseMetaData.java:374)\n    at com.microsoft.sqlserver.jdbc.SQLServerDatabaseMetaData.getTables(SQLServerDatabaseMetaData.java:561)\n    at com.zaxxer.hikari.pool.ProxyDatabaseMetaData.getTables(ProxyDatabaseMetaData.java:68)\n    at com.zaxxer.hikari.pool.HikariProxyDatabaseMetaData.getTables(HikariProxyDatabaseMetaData.java)\n    at com.scand.bma.querytool.service.MetaDataService.getTablesInfo(MetaDataService.java:52)\n</code></pre>\n<p>This is my connection setting:</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://localhost:1433;DatabaseName=test_mssql;encrypt=true;trustServerCertificate=true;\nspring.datasource.username=test\nspring.datasource.password=dNZrpWp:0tEEv&quot;JSWGE*\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.show-sql=true\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n<p>This is code when I get error:</p>\n<pre><code>  try (final Connection connection = jdbcTemplate.getDataSource().getConnection()) {\n            final Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; tablesAndColumns = new LinkedHashMap&lt;&gt;();\n            final DatabaseMetaData metaData = connection.getMetaData();\n            final String databaseName = StringUtils.substringAfterLast(connection.getMetaData().getURL(), &quot;/&quot;);\n\n            result.setTableName(databaseName);\n            try (final ResultSet tables = metaData.getTables(databaseName.toUpperCase(), null, null, new String[]{&quot;TABLE&quot;})) {\n...\n  }\n}\n</code></pre>\n<p>I get the error in this place:</p>\n<pre><code>metaData.getTables(databaseName.toUpperCase(), null, null, new String[]{&quot;TABLE&quot;})\n</code></pre>\n<p>I added this dependencies:</p>\n<pre><code>implementation group: 'com.microsoft.sqlserver', name: 'mssql-jdbc', version: '11.2.0.jre17'\n</code></pre>\n<p>SQL queries execute perfectly, but I can't get metadata.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1662457492,"post_id":73619826,"comment_id":130004216,"body_markdown":"The good practice is not to implement such a pointless restriction.","body":"The good practice is not to implement such a pointless restriction."},{"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"score":0,"creation_date":1662457738,"post_id":73619826,"comment_id":130004292,"body_markdown":"Why do you think it is pointless ? And for learning sake, is it regex the only way to handle this type of validation ?","body":"Why do you think it is pointless ? And for learning sake, is it regex the only way to handle this type of validation ?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1662457925,"post_id":73619826,"comment_id":130004359,"body_markdown":"I don’t know what purpose your hypothetical input has. Why should a Polish user not be able to enter the name of their German colleague or the name of a German city or a German product sold in Poland under the original name? Or, to ask the other way round: what actual harm do you want to prevent by not allowing a Polish user to enter `&#252;`?","body":"I don’t know what purpose your hypothetical input has. Why should a Polish user not be able to enter the name of their German colleague or the name of a German city or a German product sold in Poland under the original name? Or, to ask the other way round: what actual harm do you want to prevent by not allowing a Polish user to enter <code>&#252;</code>?"},{"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"score":0,"creation_date":1662459009,"post_id":73619826,"comment_id":130004759,"body_markdown":"e.g. using some kind of print service which only supports characters present in native language. I know it&#39;s very unlikely scenario. I&#39;m good with the answer that we do not do that. But whenever I&#39;d like to write user input validation should I use regex ?","body":"e.g. using some kind of print service which only supports characters present in native language. I know it&#39;s very unlikely scenario. I&#39;m good with the answer that we do not do that. But whenever I&#39;d like to write user input validation should I use regex ?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1662463346,"post_id":73619826,"comment_id":130006162,"body_markdown":"Whether a print service handles certain characters depends on the charset encoding and/or fonts in use, but not on the user’s language configured while entering the data. Each user can have a different language setting but that obviously doesn’t affect the system’s global printing service. Still, even a printing service can change after the user entered data. Besides that, there is no rule what to use for input validation. If you want to use regex, use it, if you want to use something else, use something else.","body":"Whether a print service handles certain characters depends on the charset encoding and/or fonts in use, but not on the user’s language configured while entering the data. Each user can have a different language setting but that obviously doesn’t affect the system’s global printing service. Still, even a printing service can change after the user entered data. Besides that, there is no rule what to use for input validation. If you want to use regex, use it, if you want to use something else, use something else."}],"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662457036,"creation_date":1662457036,"question_id":73619826,"body_markdown":"In my application, I&#39;d like to ensure user input consistss of characters valid for his/her localization e.g. Polish based user is allowed to use letter &#39;&#243;&#39; but not German &#39;&#252;&#39;.\r\n\r\nWhat is a good practice to implement this validator ?      ","title":"Validate country specific characters","body":"<p>In my application, I'd like to ensure user input consistss of characters valid for his/her localization e.g. Polish based user is allowed to use letter 'ó' but not German 'ü'.</p>\n<p>What is a good practice to implement this validator ?</p>\n"},{"tags":["java","gis","kml","geojson","geotools"],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1662456973,"creation_date":1446041898,"answer_id":33393521,"question_id":33386467,"body_markdown":"I think that you need something like this to produce a FeatureCollection:\r\n\r\n            FileInputStream reader = new FileInputStream(args[0]);\r\n    \t\tPullParser parser = new PullParser(new KMLConfiguration(), reader, SimpleFeature.class);\r\n    \r\n    \t\t\r\n    \t\tFileWriter tmp = new FileWriter(args[0] + &quot;.geojson&quot;);\r\n    \t\tBufferedWriter writer = new BufferedWriter(tmp);\r\n    \t\tArrayList&lt;SimpleFeature&gt; features = new ArrayList&lt;&gt;();\r\n    \t\tSimpleFeature simpleFeature = (SimpleFeature) parser.parse();\r\n    \t\twhile (simpleFeature != null) {\r\n    \t\t\tSystem.out.println(simpleFeature);\r\n    \t\t\tfeatures.add(simpleFeature);\r\n    \t\t\tsimpleFeature = (SimpleFeature) parser.parse();\r\n    \t\t}\r\n    \t\tSimpleFeatureCollection fc = DataUtilities.collection(features);\r\n        GeoJSONDataStoreFactory fac = new GeoJSONDataStoreFactory();\r\n        Map&lt;String, Serializable&gt; params = new HashMap&lt;&gt;();\r\n        params.put(GeoJSONDataStoreFactory.URL_PARAM.key, url);\r\n        DataStore ds = fac.createNewDataStore(params);\r\n        store.createSchema(schema);\r\n        SimpleFeatureSource featureSource = null;\r\n        try {\r\n            featureSource = ds.getFeatureSource(schema.getTypeName());\r\n        } catch (IOException e1) {\r\n            log.log(Level.INFO, &quot;Didn&#39;t get a featureSource&quot;, e1);\r\n            System.exit();\r\n        }\r\n        SimpleFeatureStore store = (SimpleFeatureStore) featureSource;\r\n\r\n        store.addFeatures(ds.getFeatureSource().getFeatures());\r\n\r\n\r\n## Updated 6/9/22 \r\n\r\n`gt-geojson-store` is now the preferred way to deal with GeoJSON input and output.","title":"Convert Kml with multiple features to Geojson","body":"<p>I think that you need something like this to produce a FeatureCollection:</p>\n<pre><code>        FileInputStream reader = new FileInputStream(args[0]);\n        PullParser parser = new PullParser(new KMLConfiguration(), reader, SimpleFeature.class);\n\n        \n        FileWriter tmp = new FileWriter(args[0] + &quot;.geojson&quot;);\n        BufferedWriter writer = new BufferedWriter(tmp);\n        ArrayList&lt;SimpleFeature&gt; features = new ArrayList&lt;&gt;();\n        SimpleFeature simpleFeature = (SimpleFeature) parser.parse();\n        while (simpleFeature != null) {\n            System.out.println(simpleFeature);\n            features.add(simpleFeature);\n            simpleFeature = (SimpleFeature) parser.parse();\n        }\n        SimpleFeatureCollection fc = DataUtilities.collection(features);\n    GeoJSONDataStoreFactory fac = new GeoJSONDataStoreFactory();\n    Map&lt;String, Serializable&gt; params = new HashMap&lt;&gt;();\n    params.put(GeoJSONDataStoreFactory.URL_PARAM.key, url);\n    DataStore ds = fac.createNewDataStore(params);\n    store.createSchema(schema);\n    SimpleFeatureSource featureSource = null;\n    try {\n        featureSource = ds.getFeatureSource(schema.getTypeName());\n    } catch (IOException e1) {\n        log.log(Level.INFO, &quot;Didn't get a featureSource&quot;, e1);\n        System.exit();\n    }\n    SimpleFeatureStore store = (SimpleFeatureStore) featureSource;\n\n    store.addFeatures(ds.getFeatureSource().getFeatures());\n</code></pre>\n<h2>Updated 6/9/22</h2>\n<p><code>gt-geojson-store</code> is now the preferred way to deal with GeoJSON input and output.</p>\n"}],"owner":{"account_id":4580686,"reputation":453,"user_id":3717782,"accept_rate":86,"display_name":"Mel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3680,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":33393521,"answer_count":1,"score":5,"last_activity_date":1662456973,"creation_date":1446022101,"question_id":33386467,"body_markdown":"I use this code to convert a kml file with a single feature to a GeoJson file. \r\n\r\n    String kmlToGeoJson(String fileName)\r\n            throws IOException, ParserConfigurationException, SAXException, XMLStreamException {\r\n\r\n        FileInputStream reader = new FileInputStream(fileName);\r\n        PullParser parser = new PullParser(new KMLConfiguration(),reader, SimpleFeature.class);\r\n\r\n        FeatureJSON fjson = new FeatureJSON();\r\n        FileWriter tmp = new FileWriter(fileName + &quot;.geojson&quot;);\r\n        BufferedWriter writer = new BufferedWriter(tmp);\r\n\r\n        SimpleFeature simpleFeature = (SimpleFeature) parser.parse();\r\n\r\n        while (simpleFeature != null) {\r\n            fjson.writeFeature(simpleFeature, writer);\r\n            simpleFeature = (SimpleFeature) parser.parse();\r\n        }\r\n\r\n        return &quot;success&quot;;\r\n    }\r\n\r\nHowever, when I use a Kml file with multiple features like this one : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;kml xmlns=&quot;http://www.opengis.net/kml/2.2&quot;&gt;\r\n      &lt;Document&gt;\r\n        &lt;name&gt;KmlFile&lt;/name&gt;\r\n        &lt;Style id=&quot;west_campus_style&quot;&gt;\r\n          &lt;IconStyle&gt;\r\n            &lt;Icon&gt;\r\n              &lt;href&gt;https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png\r\n              &lt;/href&gt;\r\n            &lt;/Icon&gt;\r\n          &lt;/IconStyle&gt;\r\n          &lt;BalloonStyle&gt;\r\n            &lt;text&gt;$[video]&lt;/text&gt;\r\n          &lt;/BalloonStyle&gt;\r\n        &lt;/Style&gt;\r\n        &lt;Placemark&gt;\r\n          &lt;name&gt;Google West Campus 1&lt;/name&gt;\r\n          &lt;styleUrl&gt;#west_campus_style&lt;/styleUrl&gt;\r\n          &lt;ExtendedData&gt;\r\n            &lt;Data name=&quot;video&quot;&gt;\r\n              &lt;value&gt;&lt;![CDATA[&lt;iframe width=&quot;480&quot; height=&quot;360&quot;\r\n                src=&quot;https://www.youtube.com/embed/ZE8ODPL2VPI&quot; frameborder=&quot;0&quot;\r\n                allowfullscreen&gt;&lt;/iframe&gt;&lt;br&gt;&lt;br&gt;]]&gt;&lt;/value&gt;\r\n            &lt;/Data&gt;\r\n          &lt;/ExtendedData&gt;\r\n          &lt;Point&gt;\r\n            &lt;coordinates&gt;-122.0914977709329,37.42390182131783,0&lt;/coordinates&gt;\r\n          &lt;/Point&gt;\r\n        &lt;/Placemark&gt;\r\n        &lt;Placemark&gt;\r\n          &lt;name&gt;Google West Campus 2&lt;/name&gt;\r\n          &lt;styleUrl&gt;#west_campus_style&lt;/styleUrl&gt;\r\n          &lt;ExtendedData&gt;\r\n            &lt;Data name=&quot;video&quot;&gt;\r\n              &lt;value&gt;&lt;![CDATA[&lt;iframe width=&quot;480&quot; height=&quot;360&quot;\r\n                src=&quot;https://www.youtube.com/embed/nb4gvrNrDWw&quot; frameborder=&quot;0&quot;\r\n                allowfullscreen&gt;&lt;/iframe&gt;&lt;br&gt;&lt;br&gt;]]&gt;&lt;/value&gt;\r\n            &lt;/Data&gt;\r\n          &lt;/ExtendedData&gt;\r\n          &lt;Point&gt;\r\n            &lt;coordinates&gt;-122.0926995893311,37.42419403634421,0&lt;/coordinates&gt;\r\n          &lt;/Point&gt;\r\n        &lt;/Placemark&gt;\r\n        &lt;Placemark&gt;\r\n          &lt;name&gt;Google West Campus 3&lt;/name&gt;\r\n          &lt;styleUrl&gt;#west_campus_style&lt;/styleUrl&gt;\r\n          &lt;ExtendedData&gt;\r\n            &lt;Data name=&quot;video&quot;&gt;\r\n              &lt;value&gt;&lt;![CDATA[&lt;iframe width=&quot;480&quot; height=&quot;360&quot;\r\n                src=&quot;https://www.youtube.com/embed/0hhiEjf7_NA&quot; frameborder=&quot;0&quot;\r\n                allowfullscreen&gt;&lt;/iframe&gt;&lt;br&gt;&lt;br&gt;]]&gt;&lt;/value&gt;\r\n            &lt;/Data&gt;\r\n          &lt;/ExtendedData&gt;\r\n          &lt;Point&gt;\r\n            &lt;coordinates&gt;-122.0922532985281,37.42301710721216,0&lt;/coordinates&gt;\r\n          &lt;/Point&gt;\r\n        &lt;/Placemark&gt;\r\n      &lt;/Document&gt;\r\n    &lt;/kml&gt;\r\n\r\nI get this Geojson file : \r\n\r\n    { &quot;type&quot;:&quot;Feature&quot;,\r\n             &quot;geometry&quot;:{\r\n                       &quot;type&quot;:&quot;Point&quot;,\r\n                       &quot;coordinates&quot;:[-122.0915,37.4239,0.0]},\r\n             &quot;properties&quot;:{&quot;name&quot;:&quot;Google West Campus 1&quot;,\r\n                          &quot;visibility&quot;:true,\r\n                          &quot;open&quot;:true,\r\n                          &quot;Style&quot;:&quot;FeatureTypeStyleImpl[ name=name, [], rules=&lt;1&gt;                   (&lt;RuleImpl&gt; null\\n)]&quot;},\r\n             &quot;id&quot;:&quot;fid--579a589e_150ad9a2e4f_-8000&quot;\r\n               }\r\n    {&quot;type&quot;:&quot;Feature&quot;,\r\n    &quot;geometry&quot;:{\r\n                &quot;type&quot;:&quot;Point&quot;,\r\n                &quot;coordinates&quot;:[-122.0927,37.4242,0.0]},\r\n    &quot;properties&quot;:{\r\n                 &quot;name&quot;:&quot;Google West Campus 2&quot;,               \r\n                 &quot;visibility&quot;:true, \r\n                 &quot;open&quot;:true,\r\n                 &quot;Style&quot;:&quot;FeatureTypeStyleImpl[ name=name, [], rules=&lt;1&gt;(&lt;RuleImpl&gt; null\\n)]&quot;},\r\n    &quot;id&quot;:&quot;fid--579a589e_150ad9a2e4f_-7fff&quot;\r\n    }\r\n    {&quot;type&quot;:&quot;Feature&quot;,\r\n    &quot;geometry&quot;:{\r\n               &quot;type&quot;:&quot;Point&quot;,\r\n               &quot;coordinates&quot;:[-122.0923,37.423,0.0]},\r\n    &quot;properties&quot;:{&quot;name&quot;:&quot;Google West Campus 3&quot;,\r\n                  &quot;visibility&quot;:true,\r\n                  &quot;open&quot;:true,\r\n                  &quot;Style&quot;:&quot;FeatureTypeStyleImpl[ name=name, [], rules=&lt;1&gt;(&lt;RuleImpl&gt; null\\n)]&quot;},\r\n    &quot;id&quot;:&quot;fid--579a589e_150ad9a2e4f_-7ffe&quot;}\r\n    {&quot;type&quot;:&quot;Feature&quot;,\r\n    &quot;properties&quot;:          \r\n              {&quot;name&quot;:&quot;KmlFile&quot;,\r\n              &quot;visibility&quot;:true,\r\n              &quot;open&quot;:true,\r\n             &quot;name&quot;:&quot;KmlFile&quot;,\r\n             &quot;Feature&quot;:&quot;[]&quot;},\r\n    &quot;id&quot;:&quot;fid--579a589e_150ad9a2e4f_-7ffd&quot;}\r\n\r\nIt&#39;s like the whole kml file is considered a Single feature, with no comma between the features. \r\nHow do I get it to consider the whole file as a Multiple Feature File \r\nI tried replacing `SimpleFeature.class` with `SimpleFeatureCollection.class`, buth the returned Geojson file is empty then. \r\n","title":"Convert Kml with multiple features to Geojson","body":"<p>I use this code to convert a kml file with a single feature to a GeoJson file. </p>\n\n<pre><code>String kmlToGeoJson(String fileName)\n        throws IOException, ParserConfigurationException, SAXException, XMLStreamException {\n\n    FileInputStream reader = new FileInputStream(fileName);\n    PullParser parser = new PullParser(new KMLConfiguration(),reader, SimpleFeature.class);\n\n    FeatureJSON fjson = new FeatureJSON();\n    FileWriter tmp = new FileWriter(fileName + \".geojson\");\n    BufferedWriter writer = new BufferedWriter(tmp);\n\n    SimpleFeature simpleFeature = (SimpleFeature) parser.parse();\n\n    while (simpleFeature != null) {\n        fjson.writeFeature(simpleFeature, writer);\n        simpleFeature = (SimpleFeature) parser.parse();\n    }\n\n    return \"success\";\n}\n</code></pre>\n\n<p>However, when I use a Kml file with multiple features like this one : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;kml xmlns=\"http://www.opengis.net/kml/2.2\"&gt;\n  &lt;Document&gt;\n    &lt;name&gt;KmlFile&lt;/name&gt;\n    &lt;Style id=\"west_campus_style\"&gt;\n      &lt;IconStyle&gt;\n        &lt;Icon&gt;\n          &lt;href&gt;https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png\n          &lt;/href&gt;\n        &lt;/Icon&gt;\n      &lt;/IconStyle&gt;\n      &lt;BalloonStyle&gt;\n        &lt;text&gt;$[video]&lt;/text&gt;\n      &lt;/BalloonStyle&gt;\n    &lt;/Style&gt;\n    &lt;Placemark&gt;\n      &lt;name&gt;Google West Campus 1&lt;/name&gt;\n      &lt;styleUrl&gt;#west_campus_style&lt;/styleUrl&gt;\n      &lt;ExtendedData&gt;\n        &lt;Data name=\"video\"&gt;\n          &lt;value&gt;&lt;![CDATA[&lt;iframe width=\"480\" height=\"360\"\n            src=\"https://www.youtube.com/embed/ZE8ODPL2VPI\" frameborder=\"0\"\n            allowfullscreen&gt;&lt;/iframe&gt;&lt;br&gt;&lt;br&gt;]]&gt;&lt;/value&gt;\n        &lt;/Data&gt;\n      &lt;/ExtendedData&gt;\n      &lt;Point&gt;\n        &lt;coordinates&gt;-122.0914977709329,37.42390182131783,0&lt;/coordinates&gt;\n      &lt;/Point&gt;\n    &lt;/Placemark&gt;\n    &lt;Placemark&gt;\n      &lt;name&gt;Google West Campus 2&lt;/name&gt;\n      &lt;styleUrl&gt;#west_campus_style&lt;/styleUrl&gt;\n      &lt;ExtendedData&gt;\n        &lt;Data name=\"video\"&gt;\n          &lt;value&gt;&lt;![CDATA[&lt;iframe width=\"480\" height=\"360\"\n            src=\"https://www.youtube.com/embed/nb4gvrNrDWw\" frameborder=\"0\"\n            allowfullscreen&gt;&lt;/iframe&gt;&lt;br&gt;&lt;br&gt;]]&gt;&lt;/value&gt;\n        &lt;/Data&gt;\n      &lt;/ExtendedData&gt;\n      &lt;Point&gt;\n        &lt;coordinates&gt;-122.0926995893311,37.42419403634421,0&lt;/coordinates&gt;\n      &lt;/Point&gt;\n    &lt;/Placemark&gt;\n    &lt;Placemark&gt;\n      &lt;name&gt;Google West Campus 3&lt;/name&gt;\n      &lt;styleUrl&gt;#west_campus_style&lt;/styleUrl&gt;\n      &lt;ExtendedData&gt;\n        &lt;Data name=\"video\"&gt;\n          &lt;value&gt;&lt;![CDATA[&lt;iframe width=\"480\" height=\"360\"\n            src=\"https://www.youtube.com/embed/0hhiEjf7_NA\" frameborder=\"0\"\n            allowfullscreen&gt;&lt;/iframe&gt;&lt;br&gt;&lt;br&gt;]]&gt;&lt;/value&gt;\n        &lt;/Data&gt;\n      &lt;/ExtendedData&gt;\n      &lt;Point&gt;\n        &lt;coordinates&gt;-122.0922532985281,37.42301710721216,0&lt;/coordinates&gt;\n      &lt;/Point&gt;\n    &lt;/Placemark&gt;\n  &lt;/Document&gt;\n&lt;/kml&gt;\n</code></pre>\n\n<p>I get this Geojson file : </p>\n\n<pre><code>{ \"type\":\"Feature\",\n         \"geometry\":{\n                   \"type\":\"Point\",\n                   \"coordinates\":[-122.0915,37.4239,0.0]},\n         \"properties\":{\"name\":\"Google West Campus 1\",\n                      \"visibility\":true,\n                      \"open\":true,\n                      \"Style\":\"FeatureTypeStyleImpl[ name=name, [], rules=&lt;1&gt;                   (&lt;RuleImpl&gt; null\\n)]\"},\n         \"id\":\"fid--579a589e_150ad9a2e4f_-8000\"\n           }\n{\"type\":\"Feature\",\n\"geometry\":{\n            \"type\":\"Point\",\n            \"coordinates\":[-122.0927,37.4242,0.0]},\n\"properties\":{\n             \"name\":\"Google West Campus 2\",               \n             \"visibility\":true, \n             \"open\":true,\n             \"Style\":\"FeatureTypeStyleImpl[ name=name, [], rules=&lt;1&gt;(&lt;RuleImpl&gt; null\\n)]\"},\n\"id\":\"fid--579a589e_150ad9a2e4f_-7fff\"\n}\n{\"type\":\"Feature\",\n\"geometry\":{\n           \"type\":\"Point\",\n           \"coordinates\":[-122.0923,37.423,0.0]},\n\"properties\":{\"name\":\"Google West Campus 3\",\n              \"visibility\":true,\n              \"open\":true,\n              \"Style\":\"FeatureTypeStyleImpl[ name=name, [], rules=&lt;1&gt;(&lt;RuleImpl&gt; null\\n)]\"},\n\"id\":\"fid--579a589e_150ad9a2e4f_-7ffe\"}\n{\"type\":\"Feature\",\n\"properties\":          \n          {\"name\":\"KmlFile\",\n          \"visibility\":true,\n          \"open\":true,\n         \"name\":\"KmlFile\",\n         \"Feature\":\"[]\"},\n\"id\":\"fid--579a589e_150ad9a2e4f_-7ffd\"}\n</code></pre>\n\n<p>It's like the whole kml file is considered a Single feature, with no comma between the features. \nHow do I get it to consider the whole file as a Multiple Feature File \nI tried replacing <code>SimpleFeature.class</code> with <code>SimpleFeatureCollection.class</code>, buth the returned Geojson file is empty then. </p>\n"},{"tags":["java","unit-testing","junit","assertj"],"comments":[{"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"score":1,"creation_date":1547956898,"post_id":28994316,"comment_id":117321047,"body_markdown":"FYI this is documented in the new AssertJ website, see https://assertj.github.io/doc/#assertj-core-assertion-description.","body":"FYI this is documented in the new AssertJ website, see <a href=\"https://assertj.github.io/doc/#assertj-core-assertion-description\" rel=\"nofollow noreferrer\">assertj.github.io/doc/#assertj-core-assertion-description</a>."}],"answers":[{"tags":[],"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"down_vote_count":0,"up_vote_count":182,"is_accepted":true,"score":182,"last_activity_date":1583751055,"creation_date":1426099302,"answer_id":28994810,"question_id":28994316,"body_markdown":"And in classic fashion, I found what I was looking for moments after posting the question. Hopefully this will make it easier for the next person to find without first having to know what it&#39;s called. The magic method is the deceptively short-named [`as`][1], which is part of another interface that `AbstractAssert` implements: [Descriptable][2], not the base Assert interface.\r\n\r\n&gt; `public S as(String description, Object... args)`\r\n\r\n&gt; Sets the description of this object supporting `String.format(String, Object...)` syntax.&lt;br&gt;\r\n&gt; Example :\r\n\r\n\r\n&gt;     try {\r\n&gt;       // set a bad age to Mr Frodo which is really 33 years old.\r\n&gt;       frodo.setAge(50);\r\n&gt;       // you can specify a test description with as() method or describedAs(), it supports String format args\r\n&gt;       assertThat(frodo.getAge()).as(&quot;check %s&#39;s age&quot;, frodo.getName()).isEqualTo(33);\r\n&gt;     } catch (AssertionError e) {\r\n&gt;       assertThat(e).hasMessage(&quot;[check Frodo&#39;s age] expected:&lt;[33]&gt; but was:&lt;[50]&gt;&quot;);\r\n&gt;     }\r\n\r\nWhere that quoted string in the catch block `hasMessage` is what appears in your unit test output log if the assertion fails.\r\n\r\n-----\r\n\r\nI found this by noticing the `failWithMessage` helper in the [custom assert page][3] linked in the question. The [JavaDoc][4] for that method points out that it is protected, so it can&#39;t be used by callers to set a custom message. It does however mention the `as` helper: \r\n\r\n&gt; Moreover, this method honors any description set with `as(String, Object...)` or overridden error message defined by the user with `overridingErrorMessage(String, Object...)`.\r\n\r\n... and the [overridingErrorMessage][5] helper, which completely replaces the standard AssertJ `expected: ... but was:...` message with the new string provided.\r\n\r\nThe AssertJ homepage doesn&#39;t mention either helper until the features highlights page, which shows examples of the `as` helper in the [Soft Assertions][6] section, but doesn&#39;t directly describe what it does.\r\n\r\n\r\n  [1]: https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/AbstractAssert.html#as(java.lang.String,%20java.lang.Object...)\r\n  [2]: https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/Descriptable.html\r\n  [3]: https://joel-costigliola.github.io/assertj/assertj-core-custom-assertions.html\r\n  [4]: https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/AbstractAssert.html#failWithMessage(java.lang.String,%20java.lang.Object...)\r\n  [5]: https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/AbstractAssert.html#overridingErrorMessage(java.lang.String,%20java.lang.Object...)\r\n  [6]: https://joel-costigliola.github.io/assertj/assertj-core-features-highlight.html#soft-assertions","title":"Can you add a custom message to AssertJ assertThat?","body":"<p>And in classic fashion, I found what I was looking for moments after posting the question. Hopefully this will make it easier for the next person to find without first having to know what it's called. The magic method is the deceptively short-named <a href=\"https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/AbstractAssert.html#as(java.lang.String,%20java.lang.Object...)\" rel=\"noreferrer\"><code>as</code></a>, which is part of another interface that <code>AbstractAssert</code> implements: <a href=\"https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/Descriptable.html\" rel=\"noreferrer\">Descriptable</a>, not the base Assert interface.</p>\n\n<blockquote>\n  <p><code>public S as(String description, Object... args)</code></p>\n  \n  <p>Sets the description of this object supporting <code>String.format(String, Object...)</code> syntax.<br>\n  Example :</p>\n\n<pre><code>try {\n  // set a bad age to Mr Frodo which is really 33 years old.\n  frodo.setAge(50);\n  // you can specify a test description with as() method or describedAs(), it supports String format args\n  assertThat(frodo.getAge()).as(\"check %s's age\", frodo.getName()).isEqualTo(33);\n} catch (AssertionError e) {\n  assertThat(e).hasMessage(\"[check Frodo's age] expected:&lt;[33]&gt; but was:&lt;[50]&gt;\");\n}\n</code></pre>\n</blockquote>\n\n<p>Where that quoted string in the catch block <code>hasMessage</code> is what appears in your unit test output log if the assertion fails.</p>\n\n<hr>\n\n<p>I found this by noticing the <code>failWithMessage</code> helper in the <a href=\"https://joel-costigliola.github.io/assertj/assertj-core-custom-assertions.html\" rel=\"noreferrer\">custom assert page</a> linked in the question. The <a href=\"https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/AbstractAssert.html#failWithMessage(java.lang.String,%20java.lang.Object...)\" rel=\"noreferrer\">JavaDoc</a> for that method points out that it is protected, so it can't be used by callers to set a custom message. It does however mention the <code>as</code> helper: </p>\n\n<blockquote>\n  <p>Moreover, this method honors any description set with <code>as(String, Object...)</code> or overridden error message defined by the user with <code>overridingErrorMessage(String, Object...)</code>.</p>\n</blockquote>\n\n<p>... and the <a href=\"https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/AbstractAssert.html#overridingErrorMessage(java.lang.String,%20java.lang.Object...)\" rel=\"noreferrer\">overridingErrorMessage</a> helper, which completely replaces the standard AssertJ <code>expected: ... but was:...</code> message with the new string provided.</p>\n\n<p>The AssertJ homepage doesn't mention either helper until the features highlights page, which shows examples of the <code>as</code> helper in the <a href=\"https://joel-costigliola.github.io/assertj/assertj-core-features-highlight.html#soft-assertions\" rel=\"noreferrer\">Soft Assertions</a> section, but doesn't directly describe what it does.</p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1662456398,"creation_date":1549018980,"answer_id":54478171,"question_id":28994316,"body_markdown":"*To add another option to Patrick M&#39;s answer:*\r\n\r\nInstead of using `Descriptable.as`, you can also use [`AbstractAssert.withFailMessage()`][1]:\r\n\r\n    try {\r\n      // set a bad age to Mr Frodo which is really 33 years old.\r\n      frodo.setAge(50);\r\n      // you can specify a test description via withFailMessage(), supports String format args\r\n      assertThat(frodo.getAge()).\r\n        withFailMessage(&quot;Frodo&#39;s age is wrong: %s years, difference %s years&quot;,\r\n          frodo.getAge(), frodo.getAge()-33).\r\n        isEqualTo(33);\r\n    } catch (AssertionError e) {\r\n      assertThat(e).hasMessage(&quot;Frodo&#39;s age is wrong: 50 years, difference 17 years&quot;);\r\n    }\r\n\r\nThe difference to using `Descriptable.as` is that it gives you **complete control over the custom message** - there is no &quot;expected&quot; and &quot;but was&quot;.\r\n\r\nThis is useful where the actual values being tested are not useful for presentation - this method allows you to show other, possibly calculated values instead, or none at all.\r\n\r\n---\r\n\r\n**Important Note** that, just like `Descriptable.as`, you must call `withFailMessage()` _before_ any actual assertions - otherwise it will not work, as the assertion will fire first. This is noted in the Javadoc.\r\n\r\n  [1]: https://github.com/joel-costigliola/assertj-core/blob/9692f7dc339765e9d7ef2725c89b3241c613268f/src/main/java/org/assertj/core/api/AbstractAssert.java#L504","title":"Can you add a custom message to AssertJ assertThat?","body":"<p><em>To add another option to Patrick M's answer:</em></p>\n<p>Instead of using <code>Descriptable.as</code>, you can also use <a href=\"https://github.com/joel-costigliola/assertj-core/blob/9692f7dc339765e9d7ef2725c89b3241c613268f/src/main/java/org/assertj/core/api/AbstractAssert.java#L504\" rel=\"noreferrer\"><code>AbstractAssert.withFailMessage()</code></a>:</p>\n<pre><code>try {\n  // set a bad age to Mr Frodo which is really 33 years old.\n  frodo.setAge(50);\n  // you can specify a test description via withFailMessage(), supports String format args\n  assertThat(frodo.getAge()).\n    withFailMessage(&quot;Frodo's age is wrong: %s years, difference %s years&quot;,\n      frodo.getAge(), frodo.getAge()-33).\n    isEqualTo(33);\n} catch (AssertionError e) {\n  assertThat(e).hasMessage(&quot;Frodo's age is wrong: 50 years, difference 17 years&quot;);\n}\n</code></pre>\n<p>The difference to using <code>Descriptable.as</code> is that it gives you <strong>complete control over the custom message</strong> - there is no &quot;expected&quot; and &quot;but was&quot;.</p>\n<p>This is useful where the actual values being tested are not useful for presentation - this method allows you to show other, possibly calculated values instead, or none at all.</p>\n<hr />\n<p><strong>Important Note</strong> that, just like <code>Descriptable.as</code>, you must call <code>withFailMessage()</code> <em>before</em> any actual assertions - otherwise it will not work, as the assertion will fire first. This is noted in the Javadoc.</p>\n"},{"tags":[],"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1601240725,"creation_date":1601240725,"answer_id":64093326,"question_id":28994316,"body_markdown":"Use the inbuilt `as()` method in AssertJ. For example:\r\n\r\n     assertThat(myTest).as(&quot;The test microservice is not active&quot;).isEqualTo(&quot;active&quot;);","title":"Can you add a custom message to AssertJ assertThat?","body":"<p>Use the inbuilt <code>as()</code> method in AssertJ. For example:</p>\n<pre><code> assertThat(myTest).as(&quot;The test microservice is not active&quot;).isEqualTo(&quot;active&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1614639594,"creation_date":1614639083,"answer_id":66430850,"question_id":28994316,"body_markdown":"The two options mentioned so far are `as` and `withFailMessage`, so I won&#39;t go into the syntax or usage again. To see the difference between them, and how each can be useful, consider the use case where we are testing metrics being exported:\r\n\r\n    // map of all metrics, keyed by metrics name\r\n    Map&lt;String, Double&gt; invocations = ...\r\n    \r\n    List.of(\r\n        &quot;grpc.client.requests.sent&quot;,\r\n        &quot;grpc.client.responses.received&quot;,\r\n        &quot;grpc.server.requests.received&quot;,\r\n        &quot;grpc.server.responses.sent&quot;\r\n    ).forEach { counter -&gt;\r\n        var meter = // create meter name using counter\r\n        assertThat(invocations)\r\n            .withFailMessage(&quot;Meter %s is not found&quot;, meter)\r\n            .containsKey(meter)\r\n        assertThat(invocations.get(meter))\r\n            .as(meter)\r\n            .isEqualTo(0.0)\r\n    }\r\n\r\n&gt; I&#39;ve used Java 11 syntax to reduce some boilerplate.\r\n\r\nWithout the `withFailMessage`, if the meter isn&#39;t present in the map, the default output contains a dump of all entries in the map, which clutters the test log. We don&#39;t care what other meters are present, only that the one we want is there.\r\n\r\nUsing `withFailMessage`, the output becomes:\r\n\r\n    java.lang.AssertionError: Meter blah is not found\r\n\r\n\r\nAs for `as`, it only appends the given message to the output, but retains the failed comparison, which is very useful. We get:\r\n\r\n    org.opentest4j.AssertionFailedError: [blah] \r\n    Expecting:\r\n     &lt;1.0&gt;\r\n    to be equal to:\r\n     &lt;0.0&gt;\r\n    but was not.","title":"Can you add a custom message to AssertJ assertThat?","body":"<p>The two options mentioned so far are <code>as</code> and <code>withFailMessage</code>, so I won't go into the syntax or usage again. To see the difference between them, and how each can be useful, consider the use case where we are testing metrics being exported:</p>\n<pre><code>// map of all metrics, keyed by metrics name\nMap&lt;String, Double&gt; invocations = ...\n\nList.of(\n    &quot;grpc.client.requests.sent&quot;,\n    &quot;grpc.client.responses.received&quot;,\n    &quot;grpc.server.requests.received&quot;,\n    &quot;grpc.server.responses.sent&quot;\n).forEach { counter -&gt;\n    var meter = // create meter name using counter\n    assertThat(invocations)\n        .withFailMessage(&quot;Meter %s is not found&quot;, meter)\n        .containsKey(meter)\n    assertThat(invocations.get(meter))\n        .as(meter)\n        .isEqualTo(0.0)\n}\n</code></pre>\n<blockquote>\n<p>I've used Java 11 syntax to reduce some boilerplate.</p>\n</blockquote>\n<p>Without the <code>withFailMessage</code>, if the meter isn't present in the map, the default output contains a dump of all entries in the map, which clutters the test log. We don't care what other meters are present, only that the one we want is there.</p>\n<p>Using <code>withFailMessage</code>, the output becomes:</p>\n<pre><code>java.lang.AssertionError: Meter blah is not found\n</code></pre>\n<p>As for <code>as</code>, it only appends the given message to the output, but retains the failed comparison, which is very useful. We get:</p>\n<pre><code>org.opentest4j.AssertionFailedError: [blah] \nExpecting:\n &lt;1.0&gt;\nto be equal to:\n &lt;0.0&gt;\nbut was not.\n</code></pre>\n"}],"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64539,"favorite_count":0,"down_vote_count":0,"up_vote_count":143,"accepted_answer_id":28994810,"answer_count":4,"score":143,"last_activity_date":1662456398,"creation_date":1426097666,"question_id":28994316,"body_markdown":"We have a test suite that primarily uses JUnit assertions with Hamcrest matchers. One of our team started experimenting with [AssertJ][1] and impressed people with its syntax, flexibility and declarative-ness. There is one feature that JUnit provides that I can&#39;t find an equivalent for in AssertJ: adding a custom assert failure message.\r\n\r\nWe&#39;re often comparing objects that are not made for human readability and will have random-seeming Ids or UUIDs and it&#39;s impossible to tell what they&#39;re supposed to be by the data they contain. This is an unavoidable situation for our codebase, sadly, as part of the purpose it fulfills is mapping data between other services without necessarily understanding what it is.\r\n\r\nIn JUnit, the [`assertThat`][2] method provides a version with a `String reason` parameter before the `Matcher&lt;T&gt;` param. This makes it trivial to add a short debug string shedding some light on the problem, like what the comparison should mean to a human.\r\n\r\nAssertJ, on the other hand, provides a jillion different [genericized `static assertThat`][3] methods which return some form of [interface Assert][4] or one of its many implementing classes. This interface does not provide a standard way of setting a custom message to be included with failures.\r\n\r\nIs there any way to get this functionality from the AssertJ API or one of its extensions without having to [create a custom assert class for every assert type][5] we want to add messages to?\r\n\r\n\r\n  [1]: http://joel-costigliola.github.io/assertj/\r\n  [2]: http://junit.org/apidocs/org/junit/Assert.html#assertThat(java.lang.String,%20T,%20org.hamcrest.Matcher)\r\n  [3]: http://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/Assertions.html#assertThat(org.assertj.core.api.AssertProvider)\r\n  [4]: http://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/Assert.html\r\n  [5]: http://joel-costigliola.github.io/assertj/assertj-core-custom-assertions.html","title":"Can you add a custom message to AssertJ assertThat?","body":"<p>We have a test suite that primarily uses JUnit assertions with Hamcrest matchers. One of our team started experimenting with <a href=\"http://joel-costigliola.github.io/assertj/\">AssertJ</a> and impressed people with its syntax, flexibility and declarative-ness. There is one feature that JUnit provides that I can't find an equivalent for in AssertJ: adding a custom assert failure message.</p>\n\n<p>We're often comparing objects that are not made for human readability and will have random-seeming Ids or UUIDs and it's impossible to tell what they're supposed to be by the data they contain. This is an unavoidable situation for our codebase, sadly, as part of the purpose it fulfills is mapping data between other services without necessarily understanding what it is.</p>\n\n<p>In JUnit, the <a href=\"http://junit.org/apidocs/org/junit/Assert.html#assertThat(java.lang.String,%20T,%20org.hamcrest.Matcher)\"><code>assertThat</code></a> method provides a version with a <code>String reason</code> parameter before the <code>Matcher&lt;T&gt;</code> param. This makes it trivial to add a short debug string shedding some light on the problem, like what the comparison should mean to a human.</p>\n\n<p>AssertJ, on the other hand, provides a jillion different <a href=\"http://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/Assertions.html#assertThat(org.assertj.core.api.AssertProvider)\">genericized <code>static assertThat</code></a> methods which return some form of <a href=\"http://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/Assert.html\">interface Assert</a> or one of its many implementing classes. This interface does not provide a standard way of setting a custom message to be included with failures.</p>\n\n<p>Is there any way to get this functionality from the AssertJ API or one of its extensions without having to <a href=\"http://joel-costigliola.github.io/assertj/assertj-core-custom-assertions.html\">create a custom assert class for every assert type</a> we want to add messages to?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":2,"creation_date":1662387721,"post_id":73610770,"comment_id":129988790,"body_markdown":"Your server call is asynchronous, it runs on a separate thread, so `httpPost` returns immediately before the call is finished. This is a really common question, have a look [here](https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-or-launches-a-coroutine-return-an-empty-o/70178210#70178210) for some possible solutions. You need to use a callback to wait to run the validation code until after the response is retrieved.","body":"Your server call is asynchronous, it runs on a separate thread, so <code>httpPost</code> returns immediately before the call is finished. This is a really common question, have a look <a href=\"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-or-launches-a-coroutine-return-an-empty-o/70178210#70178210\">here</a> for some possible solutions. You need to use a callback to wait to run the validation code until after the response is retrieved."}],"answers":[{"tags":[],"owner":{"account_id":17743196,"reputation":55,"user_id":12883017,"display_name":"Şageldi Aly&#253;ew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662455486,"creation_date":1662455486,"answer_id":73619477,"question_id":73610770,"body_markdown":"**Why you don&#39;t use retrofit library? Retrofit easy way to work with api&#39;s.**\r\n\r\n[You can find here retrofit library][1]\r\n\r\n\r\n**Retrofit has two callback:**\r\n\r\n    call.enqueue(callback) - asynchronous, runs the request on a background thread, and runs the callback on the current thread\r\n    \r\n    call.execute() - synchronous, runs the request on the current thread.\r\n\r\n**I use call.enqueue(callback). Because this is asynchronous and this callback does not freeze ui components.**\r\n\r\n\r\n  [1]: https://square.github.io/retrofit/","title":"How to get the response until the server complete?","body":"<p><strong>Why you don't use retrofit library? Retrofit easy way to work with api's.</strong></p>\n<p><a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">You can find here retrofit library</a></p>\n<p><strong>Retrofit has two callback:</strong></p>\n<pre><code>call.enqueue(callback) - asynchronous, runs the request on a background thread, and runs the callback on the current thread\n\ncall.execute() - synchronous, runs the request on the current thread.\n</code></pre>\n<p><strong>I use call.enqueue(callback). Because this is asynchronous and this callback does not freeze ui components.</strong></p>\n"},{"tags":[],"owner":{"account_id":26258482,"reputation":1,"user_id":19930195,"display_name":"Sanjar Suvonov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662456125,"creation_date":1662456125,"answer_id":73619616,"question_id":73610770,"body_markdown":"You need learn REST API libraries volley, retrofit or ktor.\r\nYou can use any library.\r\n\r\nVolley: https://google.github.io/volley/\r\n\r\nRetrofit: https://square.github.io/retrofit/\r\n\r\nKtor: https://ktor.io/\r\n\r\n","title":"How to get the response until the server complete?","body":"<p>You need learn REST API libraries volley, retrofit or ktor.\nYou can use any library.</p>\n<p>Volley: <a href=\"https://google.github.io/volley/\" rel=\"nofollow noreferrer\">https://google.github.io/volley/</a></p>\n<p>Retrofit: <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">https://square.github.io/retrofit/</a></p>\n<p>Ktor: <a href=\"https://ktor.io/\" rel=\"nofollow noreferrer\">https://ktor.io/</a></p>\n"}],"owner":{"account_id":26251061,"reputation":1,"user_id":19923868,"display_name":"Fgyfg Fyyf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1662456125,"creation_date":1662387341,"question_id":73610770,"body_markdown":"Here is the Server class within the server connection. I need to get the response and  check the result after the server process complete. The following codes only check the result before got the respond. \r\n\r\n    public class Server {\r\n        \r\n            String line;\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n        \r\n            public void httpPost(String URL) {\r\n                new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        try {\r\n                            URL url = new URL(URL);\r\n                            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                            connection.setRequestMethod(&quot;POST&quot;);\r\n                            connection.setDoOutput(true);\r\n                            connection.setDoInput(true);\r\n                            connection.setUseCaches(false);\r\n                            connection.connect();\r\n                            int responseCode = connection.getResponseCode();\r\n                            if(responseCode == HttpURLConnection.HTTP_OK){\r\n                                InputStream inputStream = connection.getInputStream();\r\n        \r\n                                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n                                stringBuilder.setLength(0);\r\n        \r\n                                while ((line = reader.readLine()) != null) {\r\n                                    stringBuilder.append(line);\r\n                                }\r\n                            }\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }).start();\r\n            }\r\n        }\r\n    \r\n    button.setOnClickListener(new View.OnClickListener() {\r\n                @RequiresApi(api = Build.VERSION_CODES.O)\r\n                @Override\r\n                public void onClick(View view) {\r\n                   \r\n                        server.httpPost(&quot;https://google.com?username=Peter&quot;);\r\n                        if (server.stringBuilder.toString().contains(&quot;Successful&quot;)){\r\n                             Log.d(&quot;test&quot;,server.stringBuilder.toString());\r\n                        }\r\n    \r\n                    }\r\n                }\r\n            });","title":"How to get the response until the server complete?","body":"<p>Here is the Server class within the server connection. I need to get the response and  check the result after the server process complete. The following codes only check the result before got the respond.</p>\n<pre><code>public class Server {\n    \n        String line;\n        StringBuilder stringBuilder = new StringBuilder();\n    \n        public void httpPost(String URL) {\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        URL url = new URL(URL);\n                        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                        connection.setRequestMethod(&quot;POST&quot;);\n                        connection.setDoOutput(true);\n                        connection.setDoInput(true);\n                        connection.setUseCaches(false);\n                        connection.connect();\n                        int responseCode = connection.getResponseCode();\n                        if(responseCode == HttpURLConnection.HTTP_OK){\n                            InputStream inputStream = connection.getInputStream();\n    \n                            BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n                            stringBuilder.setLength(0);\n    \n                            while ((line = reader.readLine()) != null) {\n                                stringBuilder.append(line);\n                            }\n                        }\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            }).start();\n        }\n    }\n\nbutton.setOnClickListener(new View.OnClickListener() {\n            @RequiresApi(api = Build.VERSION_CODES.O)\n            @Override\n            public void onClick(View view) {\n               \n                    server.httpPost(&quot;https://google.com?username=Peter&quot;);\n                    if (server.stringBuilder.toString().contains(&quot;Successful&quot;)){\n                         Log.d(&quot;test&quot;,server.stringBuilder.toString());\n                    }\n\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":1838270,"reputation":674,"user_id":1668225,"accept_rate":78,"display_name":"Vishal"},"score":0,"creation_date":1662223644,"post_id":73593770,"comment_id":129958802,"body_markdown":"You can mock the service","body":"You can mock the service"},{"owner":{"account_id":16458155,"reputation":97,"user_id":11889865,"display_name":"timothy jeong"},"score":0,"creation_date":1662875778,"post_id":73593770,"comment_id":130104723,"body_markdown":"@Vishal \nDoes mocking the Service help to test the Service layer?","body":"@Vishal  Does mocking the Service help to test the Service layer?"}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662246580,"creation_date":1662246580,"answer_id":73595910,"question_id":73593770,"body_markdown":"You have a bidirectional relationship between User and Authority so you should keep the relationship in sync. As well as setting the User in an Authority you should also add the Authority to the the User\r\n```\r\npublic void addAuthority(Authority authority) {\r\n    if (authList == null) {\r\n        authList = new ArrayList&lt;&gt;();\r\n    }\r\n    authList.add(authority);\r\n    authority.setUser(this);\r\n}\r\n```\r\nIt would also be helpful to see how you are persisting the sampleUser","title":"How to map relationship while testing spring data jpa","body":"<p>You have a bidirectional relationship between User and Authority so you should keep the relationship in sync. As well as setting the User in an Authority you should also add the Authority to the the User</p>\n<pre><code>public void addAuthority(Authority authority) {\n    if (authList == null) {\n        authList = new ArrayList&lt;&gt;();\n    }\n    authList.add(authority);\n    authority.setUser(this);\n}\n</code></pre>\n<p>It would also be helpful to see how you are persisting the sampleUser</p>\n"}],"owner":{"account_id":16458155,"reputation":97,"user_id":11889865,"display_name":"timothy jeong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73595910,"answer_count":1,"score":0,"last_activity_date":1662455993,"creation_date":1662222198,"question_id":73593770,"body_markdown":"## Issue\r\nI&#39;m writing test code for a simple service layer using jpa data entity, but entity&#39;s relationship doesn&#39;t seem to work properly.\r\n\r\nI googled but couldn&#39;t find an answer. I&#39;m not sure what&#39;s wrong.\r\n\r\nPlease check the code below\r\n\r\n## Codes\r\n### (0) test property\r\n\r\n```md\r\nspring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;MODE=MySQL\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.h2.console.enabled=true\r\n\r\nspring.jpa.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n```\r\n\r\n### (1) entities\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;users&quot;)\r\npublic class User implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public long id;\r\n    private String username;\r\n    private String password;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private List&lt;Authority&gt; authList;\r\n\r\n    public Set&lt;String&gt; getAuthName() {\r\n        if (this.authList == null || this.authList.isEmpty()) return null;\r\n\r\n        Set&lt;String&gt; authNameSet = new HashSet&lt;&gt;();\r\n        authList.forEach(e -&gt; authNameSet.add(e.getStringName()));\r\n        return authNameSet;\r\n    }\r\n}\r\n\r\n//----------\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;authorities&quot;)\r\npublic class Authority implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(length = 10)\r\n    private AuthorityName name;\r\n}\r\n```\r\n\r\n### (2) repositories \r\n\r\n```java\r\n@Repository\r\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n\r\n    Optional&lt;User&gt; findByUsername(String username);\r\n    Optional&lt;User&gt; findByEmail(String email);\r\n}\r\n//----------\r\n@Repository\r\npublic interface AuthorityRepository extends CrudRepository&lt;Authority, Long&gt; {\r\n\r\n    List&lt;Authority&gt; findByUser(User user);\r\n}\r\n\r\n```\r\n\r\n### (3) service layer to test\r\n\r\n```java\r\n@Service\r\npublic class AuthorityService {\r\n\r\n    // this is the method i want to test\r\n    public boolean isUserHaveAuthorityOf(User user, AuthorityName authOf) {\r\n        if (user == null || authOf == null) throw new InternalError(&quot;msg&quot;);\r\n        if (user.getAuthName() == null) return false;\r\n\r\n        return user.getAuthName().contains(authOf.name());\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n### (4) test code\r\n\r\n```java\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@TestPropertySource(&quot;/application-test.properties&quot;)\r\n@SpringBootTest\r\n@Transactional\r\nclass AuthorityServiceTest {\r\n\r\n    @Autowired private UserRepository userRepository;\r\n    @Autowired private AuthorityRepository authorityRepository;\r\n    @Autowired private AuthorityService authorityService;\r\n    private User sampleUser;\r\n\r\n     @BeforeEach\r\n    void setupDB() {\r\n        User user = new User();\r\n        user.setId(1);\r\n        user.setUsername(&quot;name&quot;);\r\n        user.setPassword(&quot;passwd&quot;);\r\n        user.setEmail(&quot;email@dot.com&quot;);\r\n        user.setBirth(&quot;20000101&quot;);\r\n        user.setAddress(&quot;addr&quot;);\r\n        user.setAddressDetail(&quot;addrDetail&quot;);\r\n        user.setZipCode(&quot;12345&quot;);\r\n        user.setDeleted(false);\r\n        user.setDisabled(false);\r\n        user.setBlock(false);\r\n        userRepository.save(user);\r\n        sampleUser = user;\r\n    }\r\n\r\n    @Test\r\n    void testIsUserHaveAuthorityOfNormalCase() {\r\n        assertFalse(authorityService.isUserHaveAuthorityOf(sampleUser, AuthorityName.USER));\r\n        assertFalse(authorityService.isUserHaveAuthorityOf(sampleUser, AuthorityName.ADMIN));\r\n\r\n        Authority auth = new Authority();\r\n        auth.setUser(sampleUser);\r\n        auth.setName(AuthorityName.USER);\r\n        authorityRepository.save(auth);\r\n\r\n        assertNotNull(sampleUser.getAuthName()); // it is null!\r\n\r\n\r\n        // I thought it was because of a caching, so I get a new user from the db.\r\n        User flushedUser = userRepository.findById(sampleUser.getId()).get(); \r\n        assertNotNull(flushedUser.getAuthName()); // but still null\r\n\r\n    }\r\n\r\n\r\n    @AfterEach\r\n    void cleanDB() {\r\n        authorityRepository.deleteAll();\r\n        userRepository.deleteAll();\r\n    }\r\n\r\n}\r\n\r\nThank you","title":"How to map relationship while testing spring data jpa","body":"<h2>Issue</h2>\n<p>I'm writing test code for a simple service layer using jpa data entity, but entity's relationship doesn't seem to work properly.</p>\n<p>I googled but couldn't find an answer. I'm not sure what's wrong.</p>\n<p>Please check the code below</p>\n<h2>Codes</h2>\n<h3>(0) test property</h3>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;MODE=MySQL\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.h2.console.enabled=true\n\nspring.jpa.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n<h3>(1) entities</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;users&quot;)\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public long id;\n    private String username;\n    private String password;\n\n    @OneToMany(mappedBy = &quot;user&quot;)\n    private List&lt;Authority&gt; authList;\n\n    public Set&lt;String&gt; getAuthName() {\n        if (this.authList == null || this.authList.isEmpty()) return null;\n\n        Set&lt;String&gt; authNameSet = new HashSet&lt;&gt;();\n        authList.forEach(e -&gt; authNameSet.add(e.getStringName()));\n        return authNameSet;\n    }\n}\n\n//----------\n\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;authorities&quot;)\npublic class Authority implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    @Enumerated(EnumType.STRING)\n    @Column(length = 10)\n    private AuthorityName name;\n}\n</code></pre>\n<h3>(2) repositories</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n\n    Optional&lt;User&gt; findByUsername(String username);\n    Optional&lt;User&gt; findByEmail(String email);\n}\n//----------\n@Repository\npublic interface AuthorityRepository extends CrudRepository&lt;Authority, Long&gt; {\n\n    List&lt;Authority&gt; findByUser(User user);\n}\n\n</code></pre>\n<h3>(3) service layer to test</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class AuthorityService {\n\n    // this is the method i want to test\n    public boolean isUserHaveAuthorityOf(User user, AuthorityName authOf) {\n        if (user == null || authOf == null) throw new InternalError(&quot;msg&quot;);\n        if (user.getAuthName() == null) return false;\n\n        return user.getAuthName().contains(authOf.name());\n    }\n}\n\n</code></pre>\n<h3>(4) test code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.junit.jupiter.api.Assertions.*;\n\n@TestPropertySource(&quot;/application-test.properties&quot;)\n@SpringBootTest\n@Transactional\nclass AuthorityServiceTest {\n\n    @Autowired private UserRepository userRepository;\n    @Autowired private AuthorityRepository authorityRepository;\n    @Autowired private AuthorityService authorityService;\n    private User sampleUser;\n\n     @BeforeEach\n    void setupDB() {\n        User user = new User();\n        user.setId(1);\n        user.setUsername(&quot;name&quot;);\n        user.setPassword(&quot;passwd&quot;);\n        user.setEmail(&quot;email@dot.com&quot;);\n        user.setBirth(&quot;20000101&quot;);\n        user.setAddress(&quot;addr&quot;);\n        user.setAddressDetail(&quot;addrDetail&quot;);\n        user.setZipCode(&quot;12345&quot;);\n        user.setDeleted(false);\n        user.setDisabled(false);\n        user.setBlock(false);\n        userRepository.save(user);\n        sampleUser = user;\n    }\n\n    @Test\n    void testIsUserHaveAuthorityOfNormalCase() {\n        assertFalse(authorityService.isUserHaveAuthorityOf(sampleUser, AuthorityName.USER));\n        assertFalse(authorityService.isUserHaveAuthorityOf(sampleUser, AuthorityName.ADMIN));\n\n        Authority auth = new Authority();\n        auth.setUser(sampleUser);\n        auth.setName(AuthorityName.USER);\n        authorityRepository.save(auth);\n\n        assertNotNull(sampleUser.getAuthName()); // it is null!\n\n\n        // I thought it was because of a caching, so I get a new user from the db.\n        User flushedUser = userRepository.findById(sampleUser.getId()).get(); \n        assertNotNull(flushedUser.getAuthName()); // but still null\n\n    }\n\n\n    @AfterEach\n    void cleanDB() {\n        authorityRepository.deleteAll();\n        userRepository.deleteAll();\n    }\n\n}\n\nThank you\n</code></pre>\n"},{"tags":["java","apache-spark","dataset"],"answers":[{"tags":[],"owner":{"account_id":6099207,"reputation":6223,"user_id":4758823,"display_name":"Som"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662441240,"creation_date":1662441240,"answer_id":73616982,"question_id":73616177,"body_markdown":"`Lit` internally map the provided object type to its equivalent type. Since the input has type `Array[Object]` with component type as Object. Spark might not be able to map the vague object to any specific spark type. Please convert the Arraylist of Object to arraylist of String or some specific type as below-\r\n```\r\nList&lt;String&gt; newValues = new ArrayList&lt;&gt;();\r\n// populate the list with values\r\nDataset&lt;Row&gt; d1 = dataframe.withColumn(&quot;c1&quot;, lit(newValues.toArray(new String[0])));\r\nd1.show();\r\n```","title":"How to update Spark Column using an array of values in java","body":"<p><code>Lit</code> internally map the provided object type to its equivalent type. Since the input has type <code>Array[Object]</code> with component type as Object. Spark might not be able to map the vague object to any specific spark type. Please convert the Arraylist of Object to arraylist of String or some specific type as below-</p>\n<pre><code>List&lt;String&gt; newValues = new ArrayList&lt;&gt;();\n// populate the list with values\nDataset&lt;Row&gt; d1 = dataframe.withColumn(&quot;c1&quot;, lit(newValues.toArray(new String[0])));\nd1.show();\n</code></pre>\n"}],"owner":{"account_id":2404898,"reputation":564,"user_id":2101649,"accept_rate":27,"display_name":"vs777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662455989,"creation_date":1662432121,"question_id":73616177,"body_markdown":"I have a Dataset loaded in the memory and for every row I need to updated the value of the particular column.\r\n\r\nI Iterate thru every row and make an API call( passing row values as parameters ) that returns me different value for every single row. I collect these values into the ArrayList.\r\n\r\nI tried to use :\r\n\r\n    List&lt;Object&gt; newValues = new ArrayList&lt;&gt;();\r\n    // populate the list with values\r\n    dataframe.withColumn(&quot;c1&quot;,functions.lit(newValues));\r\n\r\nbut I am getting \r\n&gt;     SparkRunTimeException : feature is not supported.\r\n\r\nIn essence what I need is to create a new Column that will contain all the values returned by my API call and then replace an existing column.","title":"How to update Spark Column using an array of values in java","body":"<p>I have a Dataset loaded in the memory and for every row I need to updated the value of the particular column.</p>\n<p>I Iterate thru every row and make an API call( passing row values as parameters ) that returns me different value for every single row. I collect these values into the ArrayList.</p>\n<p>I tried to use :</p>\n<pre><code>List&lt;Object&gt; newValues = new ArrayList&lt;&gt;();\n// populate the list with values\ndataframe.withColumn(&quot;c1&quot;,functions.lit(newValues));\n</code></pre>\n<p>but I am getting</p>\n<blockquote>\n<pre><code>SparkRunTimeException : feature is not supported.\n</code></pre>\n</blockquote>\n<p>In essence what I need is to create a new Column that will contain all the values returned by my API call and then replace an existing column.</p>\n"},{"tags":["java","android","opencv","geometry"],"comments":[{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1453625442,"post_id":34970638,"comment_id":57677231,"body_markdown":"Note that your last question *&quot;Any tutorials/other resources on doing this would be greatly appreciated!&quot;* is off-topic on StackOverflow (see [here](https://stackoverflow.com/help/on-topic), pt4). Please edit your question and either remove it, or ask a question that does not ask for an off-site resource.","body":"Note that your last question <i>&quot;Any tutorials/other resources on doing this would be greatly appreciated!&quot;</i> is off-topic on StackOverflow (see <a href=\"https://stackoverflow.com/help/on-topic\">here</a>, pt4). Please edit your question and either remove it, or ask a question that does not ask for an off-site resource."}],"owner":{"account_id":7697960,"reputation":357,"user_id":5831714,"accept_rate":40,"display_name":"Sumeet Batra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662455866,"creation_date":1453594316,"question_id":34970638,"body_markdown":"I have been following a tutorial on tracking circular/elliptical objects with OpenCV 3.1.0 on Android and I need some help with code optimization and improving the recognition accuracy. Currently, the code tries to find all circles in each frame and draw an outline around it. Since I am very new to OpenCV, I was hoping someone could help me with the following issues:\r\n\r\n-When the camera recognizes a circular object and draws an outline, the framerate drops to 1-2fps. Otherwise, the framerate is decent. How can I optimize my code to remedy this?\r\n\r\n-I want to track a very specific object which also happens to be an imperfect circle. By that, I mean there are slight indents around the circumference of the circle. Also, if possible, I want to be able to track the object from the side (the object is cylindrical), which means smooth transitions between drawing circles (top view) and drawing ellipses/rectangles with rounded corners (angled/side view).\r\n\r\n-I get a lot of false positives as well as recognition of other circular objects. I have considered thresholding the frames based on the specific color of the object I want to track (white), but I am unsure how to implement this. \r\n\r\n\r\n    public class MainActivity extends Activity implements CvCameraViewListener2 {\r\n    private static final String TAG = &quot;OCVSample::Activity&quot;;\r\n\r\n    private CameraBridgeViewBase mOpenCvCameraView;\r\n    private boolean              mIsJavaCamera = true;\r\n    private MenuItem             mItemSwitchCamera = null;\r\n\r\n    private BaseLoaderCallback mLoaderCallback = new BaseLoaderCallback(this) {\r\n        @Override\r\n        public void onManagerConnected(int status) {\r\n            switch (status) {\r\n                case LoaderCallbackInterface.SUCCESS:\r\n                {\r\n                    Log.i(TAG, &quot;OpenCV loaded successfully&quot;);\r\n                    mOpenCvCameraView.enableView();\r\n                    mOpenCvCameraView.setMaxFrameSize(640,480);\r\n                } break;\r\n                default:\r\n                {\r\n                    super.onManagerConnected(status);\r\n                } break;\r\n            }\r\n        }\r\n    };\r\n\r\n    public MainActivity() {\r\n        Log.i(TAG, &quot;Instantiated new &quot; + this.getClass());\r\n    }\r\n\r\n    /** Called when the activity is first created. */\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        Log.i(TAG, &quot;called onCreate&quot;);\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mOpenCvCameraView = (CameraBridgeViewBase) findViewById(R.id.activity_main);\r\n\r\n        mOpenCvCameraView.setVisibility(SurfaceView.VISIBLE);\r\n\r\n        mOpenCvCameraView.setCvCameraViewListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onPause()\r\n    {\r\n        super.onPause();\r\n        if (mOpenCvCameraView != null)\r\n            mOpenCvCameraView.disableView();\r\n    }\r\n\r\n    @Override\r\n    public void onResume()\r\n    {\r\n        super.onResume();\r\n        if (!OpenCVLoader.initDebug()) {\r\n            Log.d(TAG, &quot;Internal OpenCV library not found. Using OpenCV Manager for initialization&quot;);\r\n            OpenCVLoader.initAsync(OpenCVLoader.OPENCV_VERSION_3_0_0, this, mLoaderCallback);\r\n        } else {\r\n            Log.d(TAG, &quot;OpenCV library found inside package. Using it!&quot;);\r\n            mLoaderCallback.onManagerConnected(LoaderCallbackInterface.SUCCESS);\r\n        }\r\n    }\r\n\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        if (mOpenCvCameraView != null)\r\n            mOpenCvCameraView.disableView();\r\n    }\r\n\r\n    public void onCameraViewStarted(int width, int height) {\r\n    }\r\n\r\n    public void onCameraViewStopped() {\r\n    }\r\n\r\n    public Mat onCameraFrame(CvCameraViewFrame inputFrame) {\r\n    \tMat rgba = inputFrame.rgba();\r\n    \tCore.flip(rgba, rgba, 1);\r\n    \tMat greyMat = new Mat(); \r\n    \tImgproc.cvtColor(rgba, greyMat,Imgproc.COLOR_RGBA2GRAY , 0);\r\n    \tImgproc.GaussianBlur(greyMat, greyMat, new Size(9, 9), 2,2);\r\n    \tdouble dp = 1.2d;\r\n    \tdouble minDist = 100; \r\n    \tint minRadius = 0;\r\n    \tint maxRadius = 0; \r\n    \tdouble param1 = 70, param2 = 72;\r\n    \tMat circles = new Mat();\r\n    \t\r\n    \tImgproc.HoughCircles(greyMat, circles, Imgproc.HOUGH_GRADIENT, dp, minDist, param1, param2, minRadius, maxRadius);\r\n    \tint numCircles = (circles.rows()==0) ? 0: circles.cols();\r\n    \tfor (int i = 0; i &lt; numCircles; i++) {\r\n    \t\tdouble[] circleCoordinates = circles.get(0, i);\r\n        \tint x = (int) circleCoordinates[0], y = (int)circleCoordinates[1];\r\n        \tPoint center = new Point(x,y);\r\n        \tint radius = (int) circleCoordinates[2];\r\n        \tImgproc.circle(rgba, center, radius, new Scalar(0, 255, 0), 4);\r\n    \t}\r\n \r\n    \treturn rgba; \r\n    }\r\n}\r\n","title":"Circular object tracking with OpenCV for Android: Framerate drops, false positives","body":"<p>I have been following a tutorial on tracking circular/elliptical objects with OpenCV 3.1.0 on Android and I need some help with code optimization and improving the recognition accuracy. Currently, the code tries to find all circles in each frame and draw an outline around it. Since I am very new to OpenCV, I was hoping someone could help me with the following issues:</p>\n\n<p>-When the camera recognizes a circular object and draws an outline, the framerate drops to 1-2fps. Otherwise, the framerate is decent. How can I optimize my code to remedy this?</p>\n\n<p>-I want to track a very specific object which also happens to be an imperfect circle. By that, I mean there are slight indents around the circumference of the circle. Also, if possible, I want to be able to track the object from the side (the object is cylindrical), which means smooth transitions between drawing circles (top view) and drawing ellipses/rectangles with rounded corners (angled/side view).</p>\n\n<p>-I get a lot of false positives as well as recognition of other circular objects. I have considered thresholding the frames based on the specific color of the object I want to track (white), but I am unsure how to implement this. </p>\n\n<pre><code>public class MainActivity extends Activity implements CvCameraViewListener2 {\nprivate static final String TAG = \"OCVSample::Activity\";\n\nprivate CameraBridgeViewBase mOpenCvCameraView;\nprivate boolean              mIsJavaCamera = true;\nprivate MenuItem             mItemSwitchCamera = null;\n\nprivate BaseLoaderCallback mLoaderCallback = new BaseLoaderCallback(this) {\n    @Override\n    public void onManagerConnected(int status) {\n        switch (status) {\n            case LoaderCallbackInterface.SUCCESS:\n            {\n                Log.i(TAG, \"OpenCV loaded successfully\");\n                mOpenCvCameraView.enableView();\n                mOpenCvCameraView.setMaxFrameSize(640,480);\n            } break;\n            default:\n            {\n                super.onManagerConnected(status);\n            } break;\n        }\n    }\n};\n\npublic MainActivity() {\n    Log.i(TAG, \"Instantiated new \" + this.getClass());\n}\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    Log.i(TAG, \"called onCreate\");\n    super.onCreate(savedInstanceState);\n    getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n\n    setContentView(R.layout.activity_main);\n\n    mOpenCvCameraView = (CameraBridgeViewBase) findViewById(R.id.activity_main);\n\n    mOpenCvCameraView.setVisibility(SurfaceView.VISIBLE);\n\n    mOpenCvCameraView.setCvCameraViewListener(this);\n}\n\n@Override\npublic void onPause()\n{\n    super.onPause();\n    if (mOpenCvCameraView != null)\n        mOpenCvCameraView.disableView();\n}\n\n@Override\npublic void onResume()\n{\n    super.onResume();\n    if (!OpenCVLoader.initDebug()) {\n        Log.d(TAG, \"Internal OpenCV library not found. Using OpenCV Manager for initialization\");\n        OpenCVLoader.initAsync(OpenCVLoader.OPENCV_VERSION_3_0_0, this, mLoaderCallback);\n    } else {\n        Log.d(TAG, \"OpenCV library found inside package. Using it!\");\n        mLoaderCallback.onManagerConnected(LoaderCallbackInterface.SUCCESS);\n    }\n}\n\npublic void onDestroy() {\n    super.onDestroy();\n    if (mOpenCvCameraView != null)\n        mOpenCvCameraView.disableView();\n}\n\npublic void onCameraViewStarted(int width, int height) {\n}\n\npublic void onCameraViewStopped() {\n}\n\npublic Mat onCameraFrame(CvCameraViewFrame inputFrame) {\n    Mat rgba = inputFrame.rgba();\n    Core.flip(rgba, rgba, 1);\n    Mat greyMat = new Mat(); \n    Imgproc.cvtColor(rgba, greyMat,Imgproc.COLOR_RGBA2GRAY , 0);\n    Imgproc.GaussianBlur(greyMat, greyMat, new Size(9, 9), 2,2);\n    double dp = 1.2d;\n    double minDist = 100; \n    int minRadius = 0;\n    int maxRadius = 0; \n    double param1 = 70, param2 = 72;\n    Mat circles = new Mat();\n\n    Imgproc.HoughCircles(greyMat, circles, Imgproc.HOUGH_GRADIENT, dp, minDist, param1, param2, minRadius, maxRadius);\n    int numCircles = (circles.rows()==0) ? 0: circles.cols();\n    for (int i = 0; i &lt; numCircles; i++) {\n        double[] circleCoordinates = circles.get(0, i);\n        int x = (int) circleCoordinates[0], y = (int)circleCoordinates[1];\n        Point center = new Point(x,y);\n        int radius = (int) circleCoordinates[2];\n        Imgproc.circle(rgba, center, radius, new Scalar(0, 255, 0), 4);\n    }\n\n    return rgba; \n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring-boot","azure-active-directory","microsoft-graph-api","microsoft-graph-sdks"],"answers":[{"tags":[],"owner":{"account_id":24140407,"reputation":571,"user_id":18106676,"display_name":"vicky kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662455824,"creation_date":1662455824,"answer_id":73619548,"question_id":73585427,"body_markdown":"Could you please check the docs to get the sample code for UsernamePasswordProvider - https://docs.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#usernamepassword-provider .\r\n\r\nfinal UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\r\n        .clientId(clientId)\r\n        .username(username)\r\n        .password(password)\r\n        .build();\r\n\r\nfinal TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, usernamePasswordCredential);\r\n\r\nfinal GraphServiceClient graphClient =\r\n  GraphServiceClient\r\n    .builder()\r\n    .authenticationProvider(tokenCredentialAuthProvider)\r\n    .buildClient();\r\n\r\nfinal User me = graphClient.me().buildRequest().get();\r\n\r\nHope this helps \r\n\r\nThanks","title":"Get User details from Azure AD","body":"<p>Could you please check the docs to get the sample code for UsernamePasswordProvider - <a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#usernamepassword-provider\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#usernamepassword-provider</a> .</p>\n<p>final UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\n.clientId(clientId)\n.username(username)\n.password(password)\n.build();</p>\n<p>final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, usernamePasswordCredential);</p>\n<p>final GraphServiceClient graphClient =\nGraphServiceClient\n.builder()\n.authenticationProvider(tokenCredentialAuthProvider)\n.buildClient();</p>\n<p>final User me = graphClient.me().buildRequest().get();</p>\n<p>Hope this helps</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":9011355,"reputation":170,"user_id":6715804,"display_name":"Farhan Fida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1098,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662455824,"creation_date":1662135337,"question_id":73585427,"body_markdown":"I have a user created in Azure Active Directory and i&#39;m trying to read it&#39;s properties / attributes but i&#39;m getting an error.\r\n\r\nhere is my code:\r\n\r\n            UsernamePasswordProvider authProvider = new UsernamePasswordProvider(clientId, Collections.singletonList(&quot;https://graph.microsoft.com/.default&quot;),\r\n                username, password, NationalCloud.Global, tenantId, clientSecret);\r\n            GraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient\r\n                .builder()\r\n                .authenticationProvider(authProvider)\r\n                .buildClient();\r\n\r\n            User user = graphClient.me().buildRequest().get();\r\n            System.out.println(user.companyName);\r\n\r\n\r\nthe error I get is :\r\n\r\n    SEVERE: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: com/microsoft/graph/httpcore/ICoreAuthenticationProvider] with root cause\r\n\r\n\r\nthese are the dependencies im using:\r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\r\n            &lt;version&gt;5.34.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;microsoft-graph-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;microsoft-graph-auth&lt;/artifactId&gt;\r\n            &lt;version&gt;0.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThank You.","title":"Get User details from Azure AD","body":"<p>I have a user created in Azure Active Directory and i'm trying to read it's properties / attributes but i'm getting an error.</p>\n<p>here is my code:</p>\n<pre><code>        UsernamePasswordProvider authProvider = new UsernamePasswordProvider(clientId, Collections.singletonList(&quot;https://graph.microsoft.com/.default&quot;),\n            username, password, NationalCloud.Global, tenantId, clientSecret);\n        GraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient\n            .builder()\n            .authenticationProvider(authProvider)\n            .buildClient();\n\n        User user = graphClient.me().buildRequest().get();\n        System.out.println(user.companyName);\n</code></pre>\n<p>the error I get is :</p>\n<pre><code>SEVERE: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: com/microsoft/graph/httpcore/ICoreAuthenticationProvider] with root cause\n</code></pre>\n<p>these are the dependencies im using:</p>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n        &lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\n        &lt;version&gt;5.34.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n        &lt;artifactId&gt;microsoft-graph-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt; \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n        &lt;artifactId&gt;microsoft-graph-auth&lt;/artifactId&gt;\n        &lt;version&gt;0.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Thank You.</p>\n"},{"tags":["java","android","android-studio","opencv","android-fragments"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1456008590,"post_id":35528501,"comment_id":58749604,"body_markdown":"What makes you think you can guess gender from a photo anyway?  The one and only way to determine someone&#39;s gender is for them to tell you.","body":"What makes you think you can guess gender from a photo anyway?  The one and only way to determine someone&#39;s gender is for them to tell you."},{"owner":{"account_id":7883632,"reputation":1,"user_id":5956605,"display_name":"Jasmin437"},"score":0,"creation_date":1456013999,"post_id":35528501,"comment_id":58750983,"body_markdown":"This is one of the interview questions, to create an app for gender analysis. I had seen some youtube videos of apps doing the same using opencv. https://www.youtube.com/watch?v=wUb_zKfrheg.  Is there a way or tutorial i can follow to create an app as in the youtube link i have mentioned above?","body":"This is one of the interview questions, to create an app for gender analysis. I had seen some youtube videos of apps doing the same using opencv. <a href=\"https://www.youtube.com/watch?v=wUb_zKfrheg\" rel=\"nofollow noreferrer\">youtube.com/watch?v=wUb_zKfrheg</a>.  Is there a way or tutorial i can follow to create an app as in the youtube link i have mentioned above?"}],"answers":[{"tags":[],"owner":{"account_id":2829805,"reputation":156,"user_id":2431603,"display_name":"Anurag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456089501,"creation_date":1456089501,"answer_id":35542190,"question_id":35528501,"body_markdown":"I don&#39;t think you will find something ready made, which you could directly use in android application to detect the gender from the image.&lt;br&gt;&lt;br&gt;\r\nLearn image processing first. You will have to create your own algorithm to process the image to figure out if the person is a man or woman. For example, detect if the person has long hair, if the person is wearing a make-up, if ear-rings are present, etc&lt;br&gt;&lt;br&gt;\r\nOnes you develop that module, integrating it in an android application should be straight forward.","title":"Android Studio gender Analysis app:How to create an android app to do gender analysis on a photo. Any tutorials which helps to create an app","body":"<p>I don't think you will find something ready made, which you could directly use in android application to detect the gender from the image.<br><br>\nLearn image processing first. You will have to create your own algorithm to process the image to figure out if the person is a man or woman. For example, detect if the person has long hair, if the person is wearing a make-up, if ear-rings are present, etc<br><br>\nOnes you develop that module, integrating it in an android application should be straight forward.</p>\n"}],"owner":{"account_id":7883632,"reputation":1,"user_id":5956605,"display_name":"Jasmin437"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662455803,"creation_date":1455999595,"question_id":35528501,"body_markdown":"I am new to android app development. I have created some simple apps recently. Now I want to create an app for gender analysis on a photo. The app should work like this, it should take a photo save it and perform gender analysis on the photo. I have heard about open cv but not sure where to start. Can someone please post any link to these kind of tutorials.","title":"Android Studio gender Analysis app:How to create an android app to do gender analysis on a photo. Any tutorials which helps to create an app","body":"<p>I am new to android app development. I have created some simple apps recently. Now I want to create an app for gender analysis on a photo. The app should work like this, it should take a photo save it and perform gender analysis on the photo. I have heard about open cv but not sure where to start. Can someone please post any link to these kind of tutorials.</p>\n"},{"tags":["java","android","opencv","sample"],"comments":[{"owner":{"account_id":5460139,"reputation":173006,"user_id":4342498,"accept_rate":50,"display_name":"NathanOliver"},"score":0,"creation_date":1465231229,"post_id":37662688,"comment_id":62803716,"body_markdown":"This looks like Java not C++","body":"This looks like Java not C++"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1465231945,"post_id":37662688,"comment_id":62804111,"body_markdown":"Take a look at http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for","body":"Take a look at <a href=\"http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for\" title=\"what is the native keyword in java for\">stackoverflow.com/questions/6101311/&hellip;</a>"},{"owner":{"account_id":8533960,"reputation":1,"user_id":6396482,"display_name":"Davide Di Nucci"},"score":0,"creation_date":1465232437,"post_id":37662688,"comment_id":62804366,"body_markdown":"@Tunaki thank you for your answer!","body":"@Tunaki thank you for your answer!"},{"owner":{"account_id":8533960,"reputation":1,"user_id":6396482,"display_name":"Davide Di Nucci"},"score":0,"creation_date":1465234704,"post_id":37662688,"comment_id":62805544,"body_markdown":"someone know how this particulary metods works??","body":"someone know how this particulary metods works??"},{"owner":{"account_id":8533960,"reputation":1,"user_id":6396482,"display_name":"Davide Di Nucci"},"score":0,"creation_date":1465285795,"post_id":37662688,"comment_id":62824416,"body_markdown":"@Tunaki do you know what nativeStart and nativeStope do??","body":"@Tunaki do you know what nativeStart and nativeStope do??"}],"owner":{"account_id":8533960,"reputation":1,"user_id":6396482,"display_name":"Davide Di Nucci"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1465234523,"answer_count":0,"score":0,"last_activity_date":1662455763,"creation_date":1465231185,"question_id":37662688,"body_markdown":"I don&#39;t understand the function of the native metods called in this sample.\r\nSomeone can explain me why we use native metods and how does it work?\r\n        \r\n    package org.opencv.samples.facedetect;\r\n\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfRect;\r\n\r\n    public class DetectionBasedTracker\r\n    {\r\n        public DetectionBasedTracker(String cascadeName, int minFaceSize) {\r\n            mNativeObj = nativeCreateObject(cascadeName, minFaceSize);\r\n        }\r\n\r\n        public void start() {\r\n            nativeStart(mNativeObj);\r\n        }\r\n\r\n        public void stop() {\r\n            nativeStop(mNativeObj);\r\n        }\r\n\r\n        public void setMinFaceSize(int size) {\r\n            nativeSetFaceSize(mNativeObj, size);\r\n        }\r\n\r\n        public void detect(Mat imageGray, MatOfRect faces) {\r\n            nativeDetect(mNativeObj, imageGray.getNativeObjAddr(), faces.getNativeObjAddr());\r\n        }\r\n\r\n        public void release() {\r\n            nativeDestroyObject(mNativeObj);\r\n            mNativeObj = 0;\r\n        }\r\n\r\n        private long mNativeObj = 0;\r\n\r\n        private static native long nativeCreateObject(String cascadeName, int minFaceSize);\r\n        private static native void nativeDestroyObject(long thiz);\r\n        private static native void nativeStart(long thiz);\r\n        private static native void nativeStop(long thiz);\r\n        private static native void nativeSetFaceSize(long thiz, int size);\r\n        private static native void nativeDetect(long thiz, long inputImage, long faces);\r\n    }","title":"I don&#39;t understand how to DetectionBasedTracker functions","body":"<p>I don't understand the function of the native metods called in this sample.\nSomeone can explain me why we use native metods and how does it work?</p>\n\n<pre><code>package org.opencv.samples.facedetect;\n\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfRect;\n\npublic class DetectionBasedTracker\n{\n    public DetectionBasedTracker(String cascadeName, int minFaceSize) {\n        mNativeObj = nativeCreateObject(cascadeName, minFaceSize);\n    }\n\n    public void start() {\n        nativeStart(mNativeObj);\n    }\n\n    public void stop() {\n        nativeStop(mNativeObj);\n    }\n\n    public void setMinFaceSize(int size) {\n        nativeSetFaceSize(mNativeObj, size);\n    }\n\n    public void detect(Mat imageGray, MatOfRect faces) {\n        nativeDetect(mNativeObj, imageGray.getNativeObjAddr(), faces.getNativeObjAddr());\n    }\n\n    public void release() {\n        nativeDestroyObject(mNativeObj);\n        mNativeObj = 0;\n    }\n\n    private long mNativeObj = 0;\n\n    private static native long nativeCreateObject(String cascadeName, int minFaceSize);\n    private static native void nativeDestroyObject(long thiz);\n    private static native void nativeStart(long thiz);\n    private static native void nativeStop(long thiz);\n    private static native void nativeSetFaceSize(long thiz, int size);\n    private static native void nativeDetect(long thiz, long inputImage, long faces);\n}\n</code></pre>\n"},{"tags":["java","android","opencv","image-processing"],"answers":[{"tags":[],"owner":{"account_id":3567931,"reputation":1427,"user_id":2979003,"accept_rate":100,"display_name":"FreeMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472815792,"creation_date":1472815792,"answer_id":39291305,"question_id":39291106,"body_markdown":"Canny, sobel,prewitt and many edge detection algorithms perform edge detection.\r\nBut, as you said,they remain incapable to extract all edges.\r\nYou can use some edge linking algorithms to link those broken edges.\r\nI used ant colony algorithm(genetic algorithm) to make the image understandable.\r\nBut there are dozens of linking algorithm you can use.\r\n\r\nCheers.\r\n","title":"opencv android-edge detection","body":"<p>Canny, sobel,prewitt and many edge detection algorithms perform edge detection.\nBut, as you said,they remain incapable to extract all edges.\nYou can use some edge linking algorithms to link those broken edges.\nI used ant colony algorithm(genetic algorithm) to make the image understandable.\nBut there are dozens of linking algorithm you can use.</p>\n\n<p>Cheers.</p>\n"}],"owner":{"account_id":9019220,"reputation":39,"user_id":6720830,"display_name":"shreya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662455699,"creation_date":1472815176,"question_id":39291106,"body_markdown":"I am creating a project in android ,where i need to detect the `edges` of the `object` in very intial stage.But the `edges` are not appropriate they are broken .I have tried otsu `thresholding` method for `edge detection`.\r\nNow i m trying to get the intensity from histogram ,can anyone help me to figure out the mean from the `histogram` of an image using `calchist` method in `opencv`. Also, i am giving a thought to dividing the image into blocks of 3* 3,as then computing each block.,but enable to find how to do that .\r\nI am using `opencv` library.\r\n\r\n\r\nThanks,\r\nPlease do respond.","title":"opencv android-edge detection","body":"<p>I am creating a project in android ,where i need to detect the <code>edges</code> of the <code>object</code> in very intial stage.But the <code>edges</code> are not appropriate they are broken .I have tried otsu <code>thresholding</code> method for <code>edge detection</code>.\nNow i m trying to get the intensity from histogram ,can anyone help me to figure out the mean from the <code>histogram</code> of an image using <code>calchist</code> method in <code>opencv</code>. Also, i am giving a thought to dividing the image into blocks of 3* 3,as then computing each block.,but enable to find how to do that .\nI am using <code>opencv</code> library.</p>\n\n<p>Thanks,\nPlease do respond.</p>\n"},{"tags":["c#","java","gzip","inflate","compression"],"comments":[{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1378272056,"post_id":18605874,"comment_id":27385270,"body_markdown":"Please show us the error message you get.","body":"Please show us the error message you get."}],"answers":[{"tags":[],"owner":{"account_id":2985114,"reputation":6238,"user_id":2534148,"accept_rate":65,"display_name":"Deepak Bhatia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1378273693,"creation_date":1378273693,"answer_id":18606270,"question_id":18605874,"body_markdown":"My C# code to compress is  \r\n\r\n     private string Compress(string text)\r\n        {\r\n            byte[] buffer = Encoding.UTF8.GetBytes(text);\r\n            MemoryStream ms = new MemoryStream();\r\n            using (GZipStream zip = new GZipStream(ms, CompressionMode.Compress, true))\r\n            {\r\n                zip.Write(buffer, 0, buffer.Length);\r\n            }\r\n\r\n            ms.Position = 0;\r\n            MemoryStream outStream = new MemoryStream();\r\n\r\n            byte[] compressed = new byte[ms.Length];\r\n            ms.Read(compressed, 0, compressed.Length);\r\n\r\n            byte[] gzBuffer = new byte[compressed.Length + 4];\r\n            System.Buffer.BlockCopy(compressed, 0, gzBuffer, 4, compressed.Length);\r\n            System.Buffer.BlockCopy(BitConverter.GetBytes(buffer.Length), 0, gzBuffer, 0, 4);\r\n            return Convert.ToBase64String(gzBuffer);\r\n        }\r\n  \r\nJava code to decompress the text is  \r\n\r\n    private String Decompress(String compressedText)\r\n\t{\r\n\r\n\t\tbyte[] compressed = compressedText.getBytes(&quot;UTF8&quot;);\r\n\t\tcompressed = org.apache.commons.codec.binary.Base64.decodeBase64(compressed);\r\n\t\tbyte[] buffer=new byte[compressed.length-4];\r\n\t\tbuffer = copyForDecompression(compressed,buffer, 4, 0);\r\n\t\tfinal int BUFFER_SIZE = 32;\r\n\t\tByteArrayInputStream is = new ByteArrayInputStream(buffer);\r\n\t\tGZIPInputStream gis = new GZIPInputStream(is, BUFFER_SIZE);\r\n\t\tStringBuilder string = new StringBuilder();\r\n\t\tbyte[] data = new byte[BUFFER_SIZE];\r\n\t\tint bytesRead;\r\n\t\twhile ((bytesRead = gis.read(data)) != -1) \r\n\t\t{\r\n\t\t\tstring.append(new String(data, 0, bytesRead));\r\n\t\t}\r\n\t\tgis.close();\r\n\t\tis.close();\r\n\t\treturn string.toString();\r\n\t}\r\n    private  byte[] copyForDecompression(byte[] b1,byte[] b2,int srcoffset,int dstoffset)\r\n\t{\t\t\r\n\t\tfor(int i=0;i&lt;b2.length &amp;&amp; i&lt;b1.length;i++)\r\n\t\t{\r\n\t\t\tb2[i]=b1[i+4];\r\n\t\t}\r\n\t\treturn b2;\r\n\t}\r\n\r\n  \r\n\r\n  This code works perfectly fine for me.","title":"Decompress string in java from compressed string in C#","body":"<p>My C# code to compress is  </p>\n\n<pre><code> private string Compress(string text)\n    {\n        byte[] buffer = Encoding.UTF8.GetBytes(text);\n        MemoryStream ms = new MemoryStream();\n        using (GZipStream zip = new GZipStream(ms, CompressionMode.Compress, true))\n        {\n            zip.Write(buffer, 0, buffer.Length);\n        }\n\n        ms.Position = 0;\n        MemoryStream outStream = new MemoryStream();\n\n        byte[] compressed = new byte[ms.Length];\n        ms.Read(compressed, 0, compressed.Length);\n\n        byte[] gzBuffer = new byte[compressed.Length + 4];\n        System.Buffer.BlockCopy(compressed, 0, gzBuffer, 4, compressed.Length);\n        System.Buffer.BlockCopy(BitConverter.GetBytes(buffer.Length), 0, gzBuffer, 0, 4);\n        return Convert.ToBase64String(gzBuffer);\n    }\n</code></pre>\n\n<p>Java code to decompress the text is  </p>\n\n<pre><code>private String Decompress(String compressedText)\n{\n\n    byte[] compressed = compressedText.getBytes(\"UTF8\");\n    compressed = org.apache.commons.codec.binary.Base64.decodeBase64(compressed);\n    byte[] buffer=new byte[compressed.length-4];\n    buffer = copyForDecompression(compressed,buffer, 4, 0);\n    final int BUFFER_SIZE = 32;\n    ByteArrayInputStream is = new ByteArrayInputStream(buffer);\n    GZIPInputStream gis = new GZIPInputStream(is, BUFFER_SIZE);\n    StringBuilder string = new StringBuilder();\n    byte[] data = new byte[BUFFER_SIZE];\n    int bytesRead;\n    while ((bytesRead = gis.read(data)) != -1) \n    {\n        string.append(new String(data, 0, bytesRead));\n    }\n    gis.close();\n    is.close();\n    return string.toString();\n}\nprivate  byte[] copyForDecompression(byte[] b1,byte[] b2,int srcoffset,int dstoffset)\n{       \n    for(int i=0;i&lt;b2.length &amp;&amp; i&lt;b1.length;i++)\n    {\n        b2[i]=b1[i+4];\n    }\n    return b2;\n}\n</code></pre>\n\n<p>This code works perfectly fine for me.</p>\n"},{"tags":[],"owner":{"account_id":4474450,"reputation":1785,"user_id":3639893,"accept_rate":22,"display_name":"Hubert Str&#246;bitzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475255766,"creation_date":1475255766,"answer_id":39796754,"question_id":18605874,"body_markdown":"Had exactly the same issue. Could solve it via\r\n\r\n    byte[] compressed = Base64Utils.decodeFromString(&quot;mybase64encodedandwithc#zippedcrap&quot;);\r\n    Inflater decompresser = new Inflater(true);\r\n    decompresser.setInput(compressed);\r\n    byte[] result = new byte[4096];\r\n    decompresser.inflate(result);\r\n    decompresser.end();\r\n    System.out.printf(new String(result));\r\n\r\nThe magic happens with the boolen parameter on instantiating the Inflator\r\n\r\nBW Hubert","title":"Decompress string in java from compressed string in C#","body":"<p>Had exactly the same issue. Could solve it via</p>\n\n<pre><code>byte[] compressed = Base64Utils.decodeFromString(\"mybase64encodedandwithc#zippedcrap\");\nInflater decompresser = new Inflater(true);\ndecompresser.setInput(compressed);\nbyte[] result = new byte[4096];\ndecompresser.inflate(result);\ndecompresser.end();\nSystem.out.printf(new String(result));\n</code></pre>\n\n<p>The magic happens with the boolen parameter on instantiating the Inflator</p>\n\n<p>BW Hubert</p>\n"},{"tags":[],"owner":{"account_id":4805620,"reputation":3130,"user_id":3880796,"accept_rate":61,"display_name":"Muhammad Naderi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555936242,"creation_date":1555769834,"answer_id":55774359,"question_id":18605874,"body_markdown":"For beloved googlers,\r\n\r\nAs @dbw mentioned, \r\n\r\n&gt; according to post https://stackoverflow.com/questions/8490718/how-to-decompress-stream-deflated-with-java-util-zip-deflater-in-net,\r\n&gt; https://stackoverflow.com/questions/6522778/java-util-zip-deflater-equivalent-in-c-sharp the default deflater used in C#\r\n&gt; is not having any java equivalent that&#39;s why users prefer Gzip, Ziplib\r\n&gt; or some other zip techniques.\r\n\r\na relatively simple method would be using GZip.\r\nAnd for the **accepted answer**, **one problem** is that in this method you should append the data size to the compressed string yourself, **and more importantly** as per my own experience in our production app, It is buggy when the string reaches ~2000 chars!\r\n\r\nthe bug is in the System.io.Compression.GZipStream\r\n\r\nany way using [SharpZipLib][1] in c# the problem goes away and everything would be as simple as following snippets:\r\n\r\nJAVA:\r\n\r\n \r\n\r\n    import android.util.Base64;\r\n    \r\n    import com.google.android.gms.common.util.IOUtils;\r\n    \r\n    import org.jetbrains.annotations.Nullable;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.zip.GZIPInputStream;\r\n    import java.util.zip.GZIPOutputStream;\r\n    \r\n    public class CompressionHelper {\r\n    \r\n        @Nullable\r\n        public static String compress(@Nullable String data) {\r\n            if(data == null || data.length() == 0)\r\n                return null;\r\n            try {\r\n    \r\n                // Create an output stream, and a gzip stream to wrap over.\r\n                ByteArrayOutputStream bos = new ByteArrayOutputStream(data.length());\r\n                GZIPOutputStream gzip = new GZIPOutputStream(bos);\r\n    \r\n                // Compress the input string\r\n                gzip.write(data.getBytes());\r\n                gzip.close();\r\n                byte[] compressed;\r\n                // Convert to base64\r\n                compressed = Base64.encode(bos.toByteArray(),Base64.NO_WRAP);\r\n                bos.close();\r\n                // return the newly created string\r\n                return new String(compressed);\r\n            } catch(IOException e) {\r\n    \r\n                return null;\r\n            }\r\n        }\r\n    \r\n    \r\n        @Nullable\r\n        public static String decompress(@Nullable String compressedText) {\r\n            if(compressedText == null || compressedText.length() == 0)\r\n                return null;\r\n            try {\r\n                // get the bytes for the compressed string\r\n                byte[] compressed = compressedText.getBytes(&quot;UTF-8&quot;);\r\n    \r\n                // convert the bytes from base64 to normal string\r\n                compressed = Base64.decode(compressed, Base64.NO_WRAP);\r\n    \r\n                ByteArrayInputStream bis = new ByteArrayInputStream(compressed);\r\n                GZIPInputStream gis = new GZIPInputStream(bis);\r\n                byte[] bytes = IOUtils.toByteArray(gis);\r\n                return new String(bytes, &quot;UTF-8&quot;);\r\n    \r\n            }catch (IOException e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\nand c#:\r\n\r\n    using ICSharpCode.SharpZipLib.GZip; //PM&gt; Install-Package SharpZipLib\r\n    using System;\r\n    using System.Collections.Generic;\r\n    using System.IO;\r\n    using System.IO.Compression;\r\n    using System.Linq;\r\n    using System.Text;\r\n    using System.Threading.Tasks;\r\n    \r\n    namespace GeneralTools\r\n    {\r\n        public static class CompressionTools\r\n        {\r\n            public static string CompressString(string text)\r\n            {\r\n                if (string.IsNullOrEmpty(text))\r\n                    return null;\r\n                byte[] buffer = Encoding.UTF8.GetBytes(text);\r\n                using (var compressedStream = new MemoryStream())\r\n                {\r\n                    GZip.Compress(new MemoryStream(buffer), compressedStream, false);\r\n                    byte[] compressedData = compressedStream.ToArray();\r\n                    return Convert.ToBase64String(compressedData);\r\n                }\r\n            }\r\n    \r\n    \r\n            public static string DecompressString(string compressedText)\r\n            {\r\n                if (string.IsNullOrEmpty(compressedText))\r\n                    return null;\r\n                byte[] gZipBuffer = Convert.FromBase64String(compressedText);\r\n                using (var memoryStream = new MemoryStream())\r\n                {\r\n                    using (var compressedStream = new MemoryStream(gZipBuffer))\r\n                    {\r\n                        var decompressedStream = new MemoryStream();\r\n                        GZip.Decompress(compressedStream, decompressedStream, false);\r\n    \r\n                        return Encoding.UTF8.GetString(decompressedStream.ToArray()).Trim();\r\n                    }\r\n                }\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\nyou may also find the codes [here][2]\r\n\r\n\r\n  [1]: https://github.com/icsharpcode/SharpZipLib\r\n  [2]: https://gist.github.com/muhammad-naderi/ae58ba0564897c6126c59164269ed428\r\n","title":"Decompress string in java from compressed string in C#","body":"<p>For beloved googlers,</p>\n\n<p>As @dbw mentioned, </p>\n\n<blockquote>\n  <p>according to post <a href=\"https://stackoverflow.com/questions/8490718/how-to-decompress-stream-deflated-with-java-util-zip-deflater-in-net\">How to decompress stream deflated with java.util.zip.Deflater in .NET?</a>,\n  <a href=\"https://stackoverflow.com/questions/6522778/java-util-zip-deflater-equivalent-in-c-sharp\">java.util.zip.deflater equivalent in c#</a> the default deflater used in C#\n  is not having any java equivalent that's why users prefer Gzip, Ziplib\n  or some other zip techniques.</p>\n</blockquote>\n\n<p>a relatively simple method would be using GZip.\nAnd for the <strong>accepted answer</strong>, <strong>one problem</strong> is that in this method you should append the data size to the compressed string yourself, <strong>and more importantly</strong> as per my own experience in our production app, It is buggy when the string reaches ~2000 chars!</p>\n\n<p>the bug is in the System.io.Compression.GZipStream</p>\n\n<p>any way using <a href=\"https://github.com/icsharpcode/SharpZipLib\" rel=\"nofollow noreferrer\">SharpZipLib</a> in c# the problem goes away and everything would be as simple as following snippets:</p>\n\n<p>JAVA:</p>\n\n<pre><code>import android.util.Base64;\n\nimport com.google.android.gms.common.util.IOUtils;\n\nimport org.jetbrains.annotations.Nullable;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.zip.GZIPInputStream;\nimport java.util.zip.GZIPOutputStream;\n\npublic class CompressionHelper {\n\n    @Nullable\n    public static String compress(@Nullable String data) {\n        if(data == null || data.length() == 0)\n            return null;\n        try {\n\n            // Create an output stream, and a gzip stream to wrap over.\n            ByteArrayOutputStream bos = new ByteArrayOutputStream(data.length());\n            GZIPOutputStream gzip = new GZIPOutputStream(bos);\n\n            // Compress the input string\n            gzip.write(data.getBytes());\n            gzip.close();\n            byte[] compressed;\n            // Convert to base64\n            compressed = Base64.encode(bos.toByteArray(),Base64.NO_WRAP);\n            bos.close();\n            // return the newly created string\n            return new String(compressed);\n        } catch(IOException e) {\n\n            return null;\n        }\n    }\n\n\n    @Nullable\n    public static String decompress(@Nullable String compressedText) {\n        if(compressedText == null || compressedText.length() == 0)\n            return null;\n        try {\n            // get the bytes for the compressed string\n            byte[] compressed = compressedText.getBytes(\"UTF-8\");\n\n            // convert the bytes from base64 to normal string\n            compressed = Base64.decode(compressed, Base64.NO_WRAP);\n\n            ByteArrayInputStream bis = new ByteArrayInputStream(compressed);\n            GZIPInputStream gis = new GZIPInputStream(bis);\n            byte[] bytes = IOUtils.toByteArray(gis);\n            return new String(bytes, \"UTF-8\");\n\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>and c#:</p>\n\n<pre><code>using ICSharpCode.SharpZipLib.GZip; //PM&gt; Install-Package SharpZipLib\nusing System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.IO.Compression;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace GeneralTools\n{\n    public static class CompressionTools\n    {\n        public static string CompressString(string text)\n        {\n            if (string.IsNullOrEmpty(text))\n                return null;\n            byte[] buffer = Encoding.UTF8.GetBytes(text);\n            using (var compressedStream = new MemoryStream())\n            {\n                GZip.Compress(new MemoryStream(buffer), compressedStream, false);\n                byte[] compressedData = compressedStream.ToArray();\n                return Convert.ToBase64String(compressedData);\n            }\n        }\n\n\n        public static string DecompressString(string compressedText)\n        {\n            if (string.IsNullOrEmpty(compressedText))\n                return null;\n            byte[] gZipBuffer = Convert.FromBase64String(compressedText);\n            using (var memoryStream = new MemoryStream())\n            {\n                using (var compressedStream = new MemoryStream(gZipBuffer))\n                {\n                    var decompressedStream = new MemoryStream();\n                    GZip.Decompress(compressedStream, decompressedStream, false);\n\n                    return Encoding.UTF8.GetString(decompressedStream.ToArray()).Trim();\n                }\n            }\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>you may also find the codes <a href=\"https://gist.github.com/muhammad-naderi/ae58ba0564897c6126c59164269ed428\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":5161124,"reputation":1,"user_id":4132775,"display_name":"GVaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662455504,"creation_date":1662455504,"answer_id":73619479,"question_id":18605874,"body_markdown":"If anyone still interested, here&#39;s my full solution with outputstream to handle unknown string size. Using C# DeflateStream and Java Inflater (based on Hubert Str&#246;bitzer answer).\r\n\r\nC# Compression:\r\n\r\n        string CompressString(string raw)\r\n        {\r\n            byte[] uncompressedData = Encoding.UTF8.GetBytes(raw);\r\n\r\n            MemoryStream output = new MemoryStream();\r\n            using (DeflateStream dStream = new DeflateStream(output, CompressionLevel.Optimal))\r\n            {\r\n                dStream.Write(uncompressedData, 0, uncompressedData.Length);\r\n            }\r\n\r\n            string compressedString = Convert.ToBase64String(output.ToArray());\r\n            return compressedString;\r\n        }\r\n\r\nJava decompress:\r\n\r\n        String decompressString(String compressedString) {\r\n        byte[] compressed = Base64Utils.decodeFromString(compressedString);\r\n\r\n        Inflater inflater = new Inflater(true);\r\n        inflater.setInput(compressed);\r\n        \r\n        //Using output stream to handle unknown size of decompressed string\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        byte[] buffer = new byte[1024];\r\n\r\n        try {\r\n            while(!inflater.finished()){\r\n                int count = inflater.inflate(buffer);\r\n                outputStream.write(buffer, 0, count);\r\n            }\r\n            inflater.end();\r\n            outputStream.close();\r\n        } catch (DataFormatException e) {\r\n            //Handle DataFormatException\r\n        } catch (IOException e) {\r\n            //Handle IOException\r\n        }\r\n\r\n        return outputStream.toString();\r\n    }","title":"Decompress string in java from compressed string in C#","body":"<p>If anyone still interested, here's my full solution with outputstream to handle unknown string size. Using C# DeflateStream and Java Inflater (based on Hubert Ströbitzer answer).</p>\n<p>C# Compression:</p>\n<pre><code>    string CompressString(string raw)\n    {\n        byte[] uncompressedData = Encoding.UTF8.GetBytes(raw);\n\n        MemoryStream output = new MemoryStream();\n        using (DeflateStream dStream = new DeflateStream(output, CompressionLevel.Optimal))\n        {\n            dStream.Write(uncompressedData, 0, uncompressedData.Length);\n        }\n\n        string compressedString = Convert.ToBase64String(output.ToArray());\n        return compressedString;\n    }\n</code></pre>\n<p>Java decompress:</p>\n<pre><code>    String decompressString(String compressedString) {\n    byte[] compressed = Base64Utils.decodeFromString(compressedString);\n\n    Inflater inflater = new Inflater(true);\n    inflater.setInput(compressed);\n    \n    //Using output stream to handle unknown size of decompressed string\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    byte[] buffer = new byte[1024];\n\n    try {\n        while(!inflater.finished()){\n            int count = inflater.inflate(buffer);\n            outputStream.write(buffer, 0, count);\n        }\n        inflater.end();\n        outputStream.close();\n    } catch (DataFormatException e) {\n        //Handle DataFormatException\n    } catch (IOException e) {\n        //Handle IOException\n    }\n\n    return outputStream.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":2784432,"reputation":119,"user_id":2396204,"accept_rate":60,"display_name":"Muthu kader"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18606270,"answer_count":4,"score":1,"last_activity_date":1662455504,"creation_date":1378271777,"question_id":18605874,"body_markdown":"I was searching for the correct solution to decompress the string in java coming from c# code.I tried myself with lot of techniques in java like(gzip,inflatter etc.).but didn&#39;t get the solution.i got some error while trying to decompress the string in java from compressed string  from c# code.\r\n    \r\nMy C# code to compress the string is,\r\n    \r\n    public static string CompressString(string text)\r\n    {\r\n    \r\n       byte[] byteArray = Encoding.GetEncoding(1252).GetBytes(text);//  Encoding.ASCII.GetBytes(text);\r\n    \r\n       using (var ms = new MemoryStream())\r\n       {\r\n        // Compress the text\r\n        using (var ds = new DeflateStream(ms, CompressionMode.Compress))\r\n        {\r\n         ds.Write(byteArray, 0, byteArray.Length);\r\n        }\r\n    \r\n        return Convert.ToBase64String(ms.ToArray());\r\n       }\r\n      }\r\n    \r\nAnd decompress the string in java using,\r\n    \r\n    private static void compressAndDecompress(){\r\n        try {\r\n            // Encode a String into bytes\r\n            String string = &quot;xxxxxxSAMPLECOMPRESSEDSTRINGxxxxxxxxxx&quot;;\r\n            // // Compress the bytes\r\n            byte[] decoded = Base64.decodeBase64(string.getBytes());\r\n            byte[] output = new byte[4096];\r\n            // Decompress the bytes\r\n            Inflater decompresser = new Inflater();\r\n            decompresser.setInput(decoded);\r\n            \r\n            int resultLength = decompresser.inflate(output);\r\n            decompresser.end();\r\n            \r\n            // Decode the bytes into a String\r\n            String outputString = new String(output, 0, resultLength, &quot;UTF-8&quot;);\r\n            \r\n            System.out.println(outputString);\r\n        } catch(java.io.UnsupportedEncodingException ex) {    \r\n            ex.printStackTrace();\r\n        } catch (java.util.zip.DataFormatException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    \r\nI get this exception when running the above code:\r\n    \r\n    java.util.zip.DataFormatException: incorrect header check\r\n    \r\nKindly give me the sample code in java to decompress the string java.Thanks\r\n\r\n","title":"Decompress string in java from compressed string in C#","body":"<p>I was searching for the correct solution to decompress the string in java coming from c# code.I tried myself with lot of techniques in java like(gzip,inflatter etc.).but didn't get the solution.i got some error while trying to decompress the string in java from compressed string  from c# code.</p>\n\n<p>My C# code to compress the string is,</p>\n\n<pre><code>public static string CompressString(string text)\n{\n\n   byte[] byteArray = Encoding.GetEncoding(1252).GetBytes(text);//  Encoding.ASCII.GetBytes(text);\n\n   using (var ms = new MemoryStream())\n   {\n    // Compress the text\n    using (var ds = new DeflateStream(ms, CompressionMode.Compress))\n    {\n     ds.Write(byteArray, 0, byteArray.Length);\n    }\n\n    return Convert.ToBase64String(ms.ToArray());\n   }\n  }\n</code></pre>\n\n<p>And decompress the string in java using,</p>\n\n<pre><code>private static void compressAndDecompress(){\n    try {\n        // Encode a String into bytes\n        String string = \"xxxxxxSAMPLECOMPRESSEDSTRINGxxxxxxxxxx\";\n        // // Compress the bytes\n        byte[] decoded = Base64.decodeBase64(string.getBytes());\n        byte[] output = new byte[4096];\n        // Decompress the bytes\n        Inflater decompresser = new Inflater();\n        decompresser.setInput(decoded);\n\n        int resultLength = decompresser.inflate(output);\n        decompresser.end();\n\n        // Decode the bytes into a String\n        String outputString = new String(output, 0, resultLength, \"UTF-8\");\n\n        System.out.println(outputString);\n    } catch(java.io.UnsupportedEncodingException ex) {    \n        ex.printStackTrace();\n    } catch (java.util.zip.DataFormatException ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>I get this exception when running the above code:</p>\n\n<pre><code>java.util.zip.DataFormatException: incorrect header check\n</code></pre>\n\n<p>Kindly give me the sample code in java to decompress the string java.Thanks</p>\n"},{"tags":["java","android","opencv"],"answers":[{"tags":[],"owner":{"account_id":6899633,"reputation":29,"user_id":5299664,"display_name":"PetrosMarkopoulos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444454886,"creation_date":1444454886,"answer_id":33050651,"question_id":33040448,"body_markdown":"Have you tried to check if the surface is valid, before trying to lock the canvas?\r\nIf all this code is in a loop try putting this before locking the canvas:\r\n\r\n    if(!getHolder().getSurface().isValid()){\r\n    continue;\r\n    }\r\n\r\nIf it is not inside a loop, try putting all the code (from locking the canvas and below) inside this if statement:\r\n\r\n    if(getHolder().getSurface().isValid()){\r\n    //code goes here\r\n    }\r\n","title":"lockCanvas keeps throwing exceptions","body":"<p>Have you tried to check if the surface is valid, before trying to lock the canvas?\nIf all this code is in a loop try putting this before locking the canvas:</p>\n\n<pre><code>if(!getHolder().getSurface().isValid()){\ncontinue;\n}\n</code></pre>\n\n<p>If it is not inside a loop, try putting all the code (from locking the canvas and below) inside this if statement:</p>\n\n<pre><code>if(getHolder().getSurface().isValid()){\n//code goes here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2532500,"reputation":434,"user_id":2200494,"display_name":"Sameh Yassin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547936112,"creation_date":1547936112,"answer_id":54271853,"question_id":33040448,"body_markdown":"I had the same problem, to solve it -believe or not- just comment out this part!\r\nIt is trying to redraw what is being drawn when you call mCamera.startPreview();","title":"lockCanvas keeps throwing exceptions","body":"<p>I had the same problem, to solve it -believe or not- just comment out this part!\nIt is trying to redraw what is being drawn when you call mCamera.startPreview();</p>\n"}],"owner":{"account_id":2631481,"reputation":402,"user_id":2277321,"accept_rate":61,"display_name":"Tim Hsu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2088,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1662455483,"creation_date":1444399790,"question_id":33040448,"body_markdown":"I copied sample code from opencv4android(face detection). I passed the NDK part. And run the app on phone. However SurfaceView only shows camera preview. It seems whatever done in OnCameraFrame is not affecting the Canvas on the SurfaceView. So I trace into their SDK. the problem is in deliverAndDrawFrame function. Does anybody had the same problem before?\r\n \r\n    Canvas canvas = getHolder().lockCanvas();\r\n    if (canvas != null) {\r\n    canvas.drawColor(0, android.graphics.PorterDuff.Mode.CLEAR);\r\n    Log.d(TAG, &quot;mStretch value: &quot; + mScale);\r\n\r\n    if (mScale != 0) {\r\n        canvas.drawBitmap(mCacheBitmap, new Rect(0,0,mCacheBitmap.getWidth(), mCacheBitmap.getHeight()),\r\n                         new Rect((int)((canvas.getWidth() - mScale*mCacheBitmap.getWidth()) / 2),\r\n                         (int)((canvas.getHeight() - mScale*mCacheBitmap.getHeight()) / 2),\r\n                         (int)((canvas.getWidth() - mScale*mCacheBitmap.getWidth()) / 2 + mScale*mCacheBitmap.getWidth()),\r\n                         (int)((canvas.getHeight() - mScale*mCacheBitmap.getHeight()) / 2 + mScale*mCacheBitmap.getHeight())), null);\r\n    } else {\r\n        canvas.drawBitmap(mCacheBitmap, new Rect(0,0,mCacheBitmap.getWidth(), mCacheBitmap.getHeight()),\r\n                         new Rect((canvas.getWidth() - mCacheBitmap.getWidth()) / 2,\r\n                         (canvas.getHeight() - mCacheBitmap.getHeight()) / 2,\r\n                         (canvas.getWidth() - mCacheBitmap.getWidth()) / 2 + mCacheBitmap.getWidth(),\r\n                         (canvas.getHeight() - mCacheBitmap.getHeight()) / 2 + mCacheBitmap.getHeight()), null);\r\n    }\r\n\r\n    if (mFpsMeter != null) {\r\n        mFpsMeter.measure();\r\n        mFpsMeter.draw(canvas, 20, 30);\r\n    }\r\n    getHolder().unlockCanvasAndPost(canvas);\r\n    }\r\n\r\n\r\nError:\r\n\r\n\r\n    10-09 21:57:47.485  28018-28088/com.example.tim.r3dmobileclient E/SurfaceHolder﹕ Exception locking surface\r\n    java.lang.IllegalArgumentException\r\n            at android.view.Surface.nativeLockCanvas(Native Method)\r\n            at android.view.Surface.lockCanvas(Surface.java:253)\r\n            at android.view.SurfaceView$4.internalLockCanvas(SurfaceView.java:848)\r\n            at android.view.SurfaceView$4.lockCanvas(SurfaceView.java:816)\r\n            at org.opencv.android.CameraBridgeViewBase.deliverAndDrawFrame(CameraBridgeViewBase.java:412)\r\n            at org.opencv.android.JavaCameraView$CameraWorker.run(JavaCameraView.java:348)\r\n            at java.lang.Thread.run(Thread.java:841)","title":"lockCanvas keeps throwing exceptions","body":"<p>I copied sample code from opencv4android(face detection). I passed the NDK part. And run the app on phone. However SurfaceView only shows camera preview. It seems whatever done in OnCameraFrame is not affecting the Canvas on the SurfaceView. So I trace into their SDK. the problem is in deliverAndDrawFrame function. Does anybody had the same problem before?</p>\n\n<pre><code>Canvas canvas = getHolder().lockCanvas();\nif (canvas != null) {\ncanvas.drawColor(0, android.graphics.PorterDuff.Mode.CLEAR);\nLog.d(TAG, \"mStretch value: \" + mScale);\n\nif (mScale != 0) {\n    canvas.drawBitmap(mCacheBitmap, new Rect(0,0,mCacheBitmap.getWidth(), mCacheBitmap.getHeight()),\n                     new Rect((int)((canvas.getWidth() - mScale*mCacheBitmap.getWidth()) / 2),\n                     (int)((canvas.getHeight() - mScale*mCacheBitmap.getHeight()) / 2),\n                     (int)((canvas.getWidth() - mScale*mCacheBitmap.getWidth()) / 2 + mScale*mCacheBitmap.getWidth()),\n                     (int)((canvas.getHeight() - mScale*mCacheBitmap.getHeight()) / 2 + mScale*mCacheBitmap.getHeight())), null);\n} else {\n    canvas.drawBitmap(mCacheBitmap, new Rect(0,0,mCacheBitmap.getWidth(), mCacheBitmap.getHeight()),\n                     new Rect((canvas.getWidth() - mCacheBitmap.getWidth()) / 2,\n                     (canvas.getHeight() - mCacheBitmap.getHeight()) / 2,\n                     (canvas.getWidth() - mCacheBitmap.getWidth()) / 2 + mCacheBitmap.getWidth(),\n                     (canvas.getHeight() - mCacheBitmap.getHeight()) / 2 + mCacheBitmap.getHeight()), null);\n}\n\nif (mFpsMeter != null) {\n    mFpsMeter.measure();\n    mFpsMeter.draw(canvas, 20, 30);\n}\ngetHolder().unlockCanvasAndPost(canvas);\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>10-09 21:57:47.485  28018-28088/com.example.tim.r3dmobileclient E/SurfaceHolder﹕ Exception locking surface\njava.lang.IllegalArgumentException\n        at android.view.Surface.nativeLockCanvas(Native Method)\n        at android.view.Surface.lockCanvas(Surface.java:253)\n        at android.view.SurfaceView$4.internalLockCanvas(SurfaceView.java:848)\n        at android.view.SurfaceView$4.lockCanvas(SurfaceView.java:816)\n        at org.opencv.android.CameraBridgeViewBase.deliverAndDrawFrame(CameraBridgeViewBase.java:412)\n        at org.opencv.android.JavaCameraView$CameraWorker.run(JavaCameraView.java:348)\n        at java.lang.Thread.run(Thread.java:841)\n</code></pre>\n"},{"tags":["java","aerospike"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1662455626,"post_id":73619277,"comment_id":130003559,"body_markdown":"It is hard to give advice without knowing all the details. I assume by &quot;double field&quot; you mean `long`, otherwise  `BigInteger` isn&#39;t good replacement. `long` have huge upper limit. I doubt you can count to it in years. So it is unclear why you need this in first place.","body":"It is hard to give advice without knowing all the details. I assume by &quot;double field&quot; you mean <code>long</code>, otherwise  <code>BigInteger</code> isn&#39;t good replacement. <code>long</code> have huge upper limit. I doubt you can count to it in years. So it is unclear why you need this in first place."}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662455414,"creation_date":1662455414,"answer_id":73619464,"question_id":73619277,"body_markdown":"One option is to use `AtomicReference`.\r\n\r\nYou can do something like this.\r\n\r\n        AtomicReference&lt;BigInteger&gt; r = new AtomicReference&lt;&gt;();\r\n\r\n        BigInteger oldValue = r.get();\r\n        BigInteger newValue;\r\n        do {\r\n            newValue = oldValue.add(BigInteger.ONE);\r\n        } while (!r.compareAndSet(oldValue, newValue));\r\n\r\nThis isn&#39;t best solution performancewise though.\r\n\r\n","title":"Aerospike Atomic increment on bigInt","body":"<p>One option is to use <code>AtomicReference</code>.</p>\n<p>You can do something like this.</p>\n<pre><code>    AtomicReference&lt;BigInteger&gt; r = new AtomicReference&lt;&gt;();\n\n    BigInteger oldValue = r.get();\n    BigInteger newValue;\n    do {\n        newValue = oldValue.add(BigInteger.ONE);\n    } while (!r.compareAndSet(oldValue, newValue));\n</code></pre>\n<p>This isn't best solution performancewise though.</p>\n"}],"owner":{"account_id":155927,"reputation":478,"user_id":372909,"accept_rate":43,"display_name":"Leonid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73619464,"answer_count":1,"score":3,"last_activity_date":1662455414,"creation_date":1662454450,"question_id":73619277,"body_markdown":"we have a double field type in Aerospike bin which need to be incremented in highly load conditions.\r\nSo far it worked fine with a use of atomic increment operation provided by Aerospike natively.\r\n\r\nUnfortunately, now we have to use BigInteger instead of double, and there is no atomic increment from Aerospike now.\r\n\r\nWhich approach you recommend if performance is the most important point and requests for update more likely appears in concurrent way.\r\nThank you in advance.","title":"Aerospike Atomic increment on bigInt","body":"<p>we have a double field type in Aerospike bin which need to be incremented in highly load conditions.\nSo far it worked fine with a use of atomic increment operation provided by Aerospike natively.</p>\n<p>Unfortunately, now we have to use BigInteger instead of double, and there is no atomic increment from Aerospike now.</p>\n<p>Which approach you recommend if performance is the most important point and requests for update more likely appears in concurrent way.\nThank you in advance.</p>\n"},{"tags":["java","android","opencv"],"comments":[{"owner":{"account_id":6617866,"reputation":2097,"user_id":5110536,"accept_rate":11,"display_name":"Usman Rana"},"score":0,"creation_date":1477373973,"post_id":29168602,"comment_id":67726809,"body_markdown":"any help with this issue?","body":"any help with this issue?"},{"owner":{"account_id":8187432,"reputation":348,"user_id":6199844,"display_name":"Carlos Diego"},"score":0,"creation_date":1588094181,"post_id":29168602,"comment_id":108766173,"body_markdown":"i&#39;m really in need of help with this question, can you help me, please? https://stackoverflow.com/questions/61216402/how-to-improve-image-segmentation-using-the-watershed","body":"i&#39;m really in need of help with this question, can you help me, please? <a href=\"https://stackoverflow.com/questions/61216402/how-to-improve-image-segmentation-using-the-watershed\" title=\"how to improve image segmentation using the watershed\">stackoverflow.com/questions/61216402/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2540933,"reputation":501,"user_id":4953707,"display_name":"Binil Jacob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455891692,"creation_date":1455891692,"answer_id":35507526,"question_id":29168602,"body_markdown":"I am getting similar error. I think there is problem with the Imgproc. Try putting  `Log.i(&quot;thistag&quot;, &quot;$$&quot;);` before fuction lines  to see which is the function that is creating the problem. In my case I found some alternative than using Imgproc. ","title":"Error while implementing watershed segmentation using Opencv Android","body":"<p>I am getting similar error. I think there is problem with the Imgproc. Try putting  <code>Log.i(\"thistag\", \"$$\");</code> before fuction lines  to see which is the function that is creating the problem. In my case I found some alternative than using Imgproc. </p>\n"}],"owner":{"account_id":5233369,"reputation":375,"user_id":4182845,"display_name":"Rahul Solanki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662455390,"creation_date":1426860833,"question_id":29168602,"body_markdown":"I was implementing watershed segmentation on android and I happen to get an error.\r\nThe error reads \r\n\r\n     java.lang.NullPointerException:Attempt to read from field &#39;long org.opencv.core.Mat.nativeObj&#39; on a null object reference\r\n\r\nPlease help me with it. Here is the code:\r\n\r\n \r\n    public Mat steptowatershed(Mat img)\r\n\t {\r\n\t\t Mat threeChannel = new Mat();\r\n\t     \r\n        Imgproc.cvtColor(img, threeChannel, Imgproc.COLOR_BGR2GRAY);\r\n        Imgproc.threshold(threeChannel, threeChannel, 100, 255, Imgproc.THRESH_BINARY);\r\n\r\n        Mat fg = new Mat(img.size(),CvType.CV_8U);\r\n        Imgproc.erode(threeChannel,fg,new Mat());\r\n\r\n        Mat bg = new Mat(img.size(),CvType.CV_8U);\r\n        Imgproc.dilate(threeChannel,bg,new Mat());\r\n        Imgproc.threshold(bg,bg,1, 128,Imgproc.THRESH_BINARY_INV);\r\n\r\n        Mat markers = new Mat(img.size(),CvType.CV_8U, new Scalar(0));\r\n        Core.add(fg, bg, markers);\r\n\r\n        WatershedSegmenter segmenter = new WatershedSegmenter();\r\n        segmenter.setMarkers(markers);\r\n        Mat result = segmenter.process(img);\r\n        return result;\r\n\t }\r\n\t public class WatershedSegmenter\r\n\t     {\r\n\t\t    public Mat markers;\r\n\r\n\t\t    public void setMarkers(Mat markerImage)\r\n\t\t    {\r\n\t\t        markerImage.convertTo(markers, CvType.CV_32S);\r\n\t\t    }\r\n\r\n\t\t    public Mat process(Mat image)\r\n\t\t    {\r\n\t\t        Imgproc.watershed(image, markers);\r\n\t\t        markers.convertTo(markers,CvType.CV_8U);\r\n\t\t        return markers;\r\n\t\t    }\r\n\t\t}\r\n\r\nHere is my Logcat:\r\n\r\n\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): FATAL EXCEPTION: main\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): Process: net.viralpatel.android.imagegalleray, PID: 13948\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=Intent { dat=content://media/external/images/media/14963 flg=0x1 }} to activity {net.viralpatel.android.imagegalleray/net.viralpatel.android.imagegalleray.ImageGalleryDemoActivity}: java.lang.NullPointerException: Attempt to read from field &#39;long org.opencv.core.Mat.nativeObj&#39; on a null object reference\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat android.app.ActivityThread.deliverResults(ActivityThread.java:3626)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat android.app.ActivityThread.handleSendResult(ActivityThread.java:3669)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat android.app.ActivityThread.access$1300(ActivityThread.java:148)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1341)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat android.os.Looper.loop(Looper.java:135)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat android.app.ActivityThread.main(ActivityThread.java:5312)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat java.lang.reflect.Method.invoke(Native Method)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat java.lang.reflect.Method.invoke(Method.java:372)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:901)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:696)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): Caused by: java.lang.NullPointerException: Attempt to read from field &#39;long org.opencv.core.Mat.nativeObj&#39; on a null object reference\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat org.opencv.core.Mat.convertTo(Mat.java:1010)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat net.viralpatel.android.imagegalleray.ImageGalleryDemoActivity$WatershedSegmenter.setMarkers(ImageGalleryDemoActivity.java:141)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat net.viralpatel.android.imagegalleray.ImageGalleryDemoActivity.steptowatershed(ImageGalleryDemoActivity.java:131)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat net.viralpatel.android.imagegalleray.ImageGalleryDemoActivity.onActivityResult(ImageGalleryDemoActivity.java:105)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat android.app.Activity.dispatchActivityResult(Activity.java:6161)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \tat android.app.ActivityThread.deliverResults(ActivityThread.java:3622)\r\n\t03-20 19:09:34.050: E/AndroidRuntime(13948): \t... 10 more\r\n","title":"Error while implementing watershed segmentation using Opencv Android","body":"<p>I was implementing watershed segmentation on android and I happen to get an error.\nThe error reads </p>\n\n<pre><code> java.lang.NullPointerException:Attempt to read from field 'long org.opencv.core.Mat.nativeObj' on a null object reference\n</code></pre>\n\n<p>Please help me with it. Here is the code:</p>\n\n<pre><code>public Mat steptowatershed(Mat img)\n {\n     Mat threeChannel = new Mat();\n\n    Imgproc.cvtColor(img, threeChannel, Imgproc.COLOR_BGR2GRAY);\n    Imgproc.threshold(threeChannel, threeChannel, 100, 255, Imgproc.THRESH_BINARY);\n\n    Mat fg = new Mat(img.size(),CvType.CV_8U);\n    Imgproc.erode(threeChannel,fg,new Mat());\n\n    Mat bg = new Mat(img.size(),CvType.CV_8U);\n    Imgproc.dilate(threeChannel,bg,new Mat());\n    Imgproc.threshold(bg,bg,1, 128,Imgproc.THRESH_BINARY_INV);\n\n    Mat markers = new Mat(img.size(),CvType.CV_8U, new Scalar(0));\n    Core.add(fg, bg, markers);\n\n    WatershedSegmenter segmenter = new WatershedSegmenter();\n    segmenter.setMarkers(markers);\n    Mat result = segmenter.process(img);\n    return result;\n }\n public class WatershedSegmenter\n     {\n        public Mat markers;\n\n        public void setMarkers(Mat markerImage)\n        {\n            markerImage.convertTo(markers, CvType.CV_32S);\n        }\n\n        public Mat process(Mat image)\n        {\n            Imgproc.watershed(image, markers);\n            markers.convertTo(markers,CvType.CV_8U);\n            return markers;\n        }\n    }\n</code></pre>\n\n<p>Here is my Logcat:</p>\n\n<pre><code>03-20 19:09:34.050: E/AndroidRuntime(13948): FATAL EXCEPTION: main\n03-20 19:09:34.050: E/AndroidRuntime(13948): Process: net.viralpatel.android.imagegalleray, PID: 13948\n03-20 19:09:34.050: E/AndroidRuntime(13948): java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=Intent { dat=content://media/external/images/media/14963 flg=0x1 }} to activity {net.viralpatel.android.imagegalleray/net.viralpatel.android.imagegalleray.ImageGalleryDemoActivity}: java.lang.NullPointerException: Attempt to read from field 'long org.opencv.core.Mat.nativeObj' on a null object reference\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at android.app.ActivityThread.deliverResults(ActivityThread.java:3626)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at android.app.ActivityThread.handleSendResult(ActivityThread.java:3669)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at android.app.ActivityThread.access$1300(ActivityThread.java:148)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1341)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at android.os.Handler.dispatchMessage(Handler.java:102)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at android.os.Looper.loop(Looper.java:135)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at android.app.ActivityThread.main(ActivityThread.java:5312)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at java.lang.reflect.Method.invoke(Native Method)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at java.lang.reflect.Method.invoke(Method.java:372)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:901)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:696)\n03-20 19:09:34.050: E/AndroidRuntime(13948): Caused by: java.lang.NullPointerException: Attempt to read from field 'long org.opencv.core.Mat.nativeObj' on a null object reference\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at org.opencv.core.Mat.convertTo(Mat.java:1010)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at net.viralpatel.android.imagegalleray.ImageGalleryDemoActivity$WatershedSegmenter.setMarkers(ImageGalleryDemoActivity.java:141)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at net.viralpatel.android.imagegalleray.ImageGalleryDemoActivity.steptowatershed(ImageGalleryDemoActivity.java:131)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at net.viralpatel.android.imagegalleray.ImageGalleryDemoActivity.onActivityResult(ImageGalleryDemoActivity.java:105)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at android.app.Activity.dispatchActivityResult(Activity.java:6161)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    at android.app.ActivityThread.deliverResults(ActivityThread.java:3622)\n03-20 19:09:34.050: E/AndroidRuntime(13948):    ... 10 more\n</code></pre>\n"},{"tags":["java","spring-boot","interface","postman","postman-collection-runner"],"comments":[{"owner":{"account_id":25557844,"reputation":93,"user_id":19340995,"display_name":"gmrm"},"score":0,"creation_date":1662414694,"post_id":73614474,"comment_id":129995858,"body_markdown":"Try putting @RestController on your controller. Issues with the repository should result in other errors.","body":"Try putting @RestController on your controller. Issues with the repository should result in other errors."}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662415080,"creation_date":1662415080,"answer_id":73614985,"question_id":73614474,"body_markdown":"Specify LoginApplication annotations\r\n```\r\n@SpringBootApplication(scanBasePackages = &quot;com.kingMachine&quot;)\r\n@EnableJpaRepositories(&quot;com.kingMachine.repository&quot;)\r\n@EntityScan(&quot;com.kingMachine.entity&quot;)\r\npublic class LoginApplication {\r\n\r\n```\r\nand add @Controller annotation to EmployeeController so it can be scanned\r\n```\r\n@Controller\r\npublic class EmployeeController {\r\n```","title":"Cant find interface in spring boot","body":"<p>Specify LoginApplication annotations</p>\n<pre><code>@SpringBootApplication(scanBasePackages = &quot;com.kingMachine&quot;)\n@EnableJpaRepositories(&quot;com.kingMachine.repository&quot;)\n@EntityScan(&quot;com.kingMachine.entity&quot;)\npublic class LoginApplication {\n\n</code></pre>\n<p>and add @Controller annotation to EmployeeController so it can be scanned</p>\n<pre><code>@Controller\npublic class EmployeeController {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662454698,"creation_date":1662454698,"answer_id":73619321,"question_id":73614474,"body_markdown":"Since your main class is not in parent package of your repositories. You need to use `@EnableJpaRepositories`. Or just move you main class into `com.kingMachine`","title":"Cant find interface in spring boot","body":"<p>Since your main class is not in parent package of your repositories. You need to use <code>@EnableJpaRepositories</code>. Or just move you main class into <code>com.kingMachine</code></p>\n"}],"owner":{"account_id":26253878,"reputation":1,"user_id":19926239,"display_name":"Matthew Hinson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":847,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662454698,"creation_date":1662410461,"question_id":73614474,"body_markdown":"My server starts up fine but when I use postman to send a request I get a 404 not found. In my server details on console it says &quot;Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.&quot; I&#39;m just trying to get a simple check to see if a employee is in my MySQL database.\r\n\r\nMy repository\r\n```\r\npackage com.kingMachine.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.kingMachine.entity.Employees;\r\n\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employees, String&gt;{\r\n\r\n\t@Query(&quot;Select S from Employees S where S.id = ?1 and S.password = ?2&quot;)\r\n\tEmployees login(String id, String password);\r\n}\r\n\r\n```\r\n\r\nMy Controller\r\n```\r\npackage com.kingMachine.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\n\r\nimport com.kingMachine.entity.Employees;\r\nimport com.kingMachine.repository.EmployeeRepository;\r\n\r\npublic class EmployeeController {\r\n\r\n\t@Autowired\r\n\tEmployeeRepository employeeRepository;\r\n\t\r\n\t//login info finds user by id and password in a query\r\n\t@RequestMapping(value=&quot;/login&quot;,\r\n\t\t\tproduces=MediaType.APPLICATION_JSON_VALUE,\r\n\t\t\tmethod=RequestMethod.POST\r\n\t\t\t)\r\n\tpublic ResponseEntity&lt;Employees&gt;login(@RequestBody Employees employees){\r\n\t\tEmployees employeeLogin = employeeRepository.login(employees.getId(), employees.getPassword());\r\n\t\tif(employeeLogin != null) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(employeeLogin, HttpStatus.OK);\r\n\t\t}else {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nMain Application \r\n```\r\npackage com.kingMachine.login;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages=&quot;com.kingMachine&quot;)\r\npublic class LoginApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(LoginApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nFinally POM\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.kingMachine&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;login&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;login&lt;/name&gt;\r\n\t&lt;description&gt;KingMachine Login&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;version&gt;6.1.2.Final&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Cant find interface in spring boot","body":"<p>My server starts up fine but when I use postman to send a request I get a 404 not found. In my server details on console it says &quot;Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.&quot; I'm just trying to get a simple check to see if a employee is in my MySQL database.</p>\n<p>My repository</p>\n<pre><code>package com.kingMachine.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport com.kingMachine.entity.Employees;\n\n@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employees, String&gt;{\n\n    @Query(&quot;Select S from Employees S where S.id = ?1 and S.password = ?2&quot;)\n    Employees login(String id, String password);\n}\n\n</code></pre>\n<p>My Controller</p>\n<pre><code>package com.kingMachine.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport com.kingMachine.entity.Employees;\nimport com.kingMachine.repository.EmployeeRepository;\n\npublic class EmployeeController {\n\n    @Autowired\n    EmployeeRepository employeeRepository;\n    \n    //login info finds user by id and password in a query\n    @RequestMapping(value=&quot;/login&quot;,\n            produces=MediaType.APPLICATION_JSON_VALUE,\n            method=RequestMethod.POST\n            )\n    public ResponseEntity&lt;Employees&gt;login(@RequestBody Employees employees){\n        Employees employeeLogin = employeeRepository.login(employees.getId(), employees.getPassword());\n        if(employeeLogin != null) {\n            return new ResponseEntity&lt;&gt;(employeeLogin, HttpStatus.OK);\n        }else {\n            return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n        }\n    }\n}\n\n</code></pre>\n<p>Main Application</p>\n<pre><code>package com.kingMachine.login;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages=&quot;com.kingMachine&quot;)\npublic class LoginApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(LoginApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>Finally POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.kingMachine&lt;/groupId&gt;\n    &lt;artifactId&gt;login&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;login&lt;/name&gt;\n    &lt;description&gt;KingMachine Login&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;6.1.2.Final&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","android-intent","android-fileprovider"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1662376265,"post_id":73608303,"comment_id":129984472,"body_markdown":"Did you read &quot;exported&quot; attribute of &quot;provider&quot; documentation?","body":"Did you read &quot;exported&quot; attribute of &quot;provider&quot; documentation?"},{"owner":{"account_id":25606773,"reputation":1,"user_id":19380752,"display_name":"Ahmad Alsabbagh"},"score":0,"creation_date":1662376945,"post_id":73608303,"comment_id":129984714,"body_markdown":"Yes I did, what about it.","body":"Yes I did, what about it."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1662377213,"post_id":73608303,"comment_id":129984832,"body_markdown":"My guess is that you do not have read access to `sharingFile`. You do not have access to files in `Download/` that your app did not put there itself (on Android 11 and higher).","body":"My guess is that you do not have read access to <code>sharingFile</code>. You do not have access to files in <code>Download&#47;</code> that your app did not put there itself (on Android 11 and higher)."}],"owner":{"account_id":25606773,"reputation":1,"user_id":19380752,"display_name":"Ahmad Alsabbagh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662454528,"creation_date":1662375594,"question_id":73608303,"body_markdown":"I &#39;Am trying to share a pdf file that exists on my phone from my application but it keeps giving me &quot;Encountering problems reading the file&quot; if I tried to share it using Microsoft Teams or &quot;Unable to attach file&quot;  if I used Gmail.\r\n\r\nHere&#39;s my code.\r\n\r\n``` \r\nFile sharingFile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)+ &quot;/123.pdf&quot;);\r\n\r\nif (sharingFile.exists()) {\r\n    final Intent shareIntent = new Intent(Intent.ACTION_SEND);\r\n    shareIntent.setType(&quot;application/pdf&quot;);\r\n    Uri outputPdfUri = FileProvider.getUriForFile(this, TransferInformation.this.getPackageName() + &quot;.provider&quot;, sharingFile);\r\n    shareIntent.putExtra(Intent.EXTRA_STREAM, outputPdfUri);\r\n    shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    startActivity(Intent.createChooser(shareIntent, &quot;Share PDF using..&quot;));\r\n}\r\n```\r\n\r\nAnd I have already added this to my Manifest\r\n```\r\n&lt;provider\r\n    android:name=&quot;androidx.core.content.FileProvider&quot;\r\n    android:authorities=&quot;${applicationId}.provider&quot;\r\n    android:exported=&quot;false&quot;\r\n    android:grantUriPermissions=&quot;true&quot;&gt;\r\n    &lt;meta-data\r\n        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n        android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n&lt;/provider&gt;\r\n\r\n```\r\n\r\nfile_paths.xml \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths&gt;\r\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\r\n&lt;/paths&gt;\r\n```","title":"Can&#39;t share pdf file from android","body":"<p>I 'Am trying to share a pdf file that exists on my phone from my application but it keeps giving me &quot;Encountering problems reading the file&quot; if I tried to share it using Microsoft Teams or &quot;Unable to attach file&quot;  if I used Gmail.</p>\n<p>Here's my code.</p>\n<pre><code>File sharingFile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)+ &quot;/123.pdf&quot;);\n\nif (sharingFile.exists()) {\n    final Intent shareIntent = new Intent(Intent.ACTION_SEND);\n    shareIntent.setType(&quot;application/pdf&quot;);\n    Uri outputPdfUri = FileProvider.getUriForFile(this, TransferInformation.this.getPackageName() + &quot;.provider&quot;, sharingFile);\n    shareIntent.putExtra(Intent.EXTRA_STREAM, outputPdfUri);\n    shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    startActivity(Intent.createChooser(shareIntent, &quot;Share PDF using..&quot;));\n}\n</code></pre>\n<p>And I have already added this to my Manifest</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.core.content.FileProvider&quot;\n    android:authorities=&quot;${applicationId}.provider&quot;\n    android:exported=&quot;false&quot;\n    android:grantUriPermissions=&quot;true&quot;&gt;\n    &lt;meta-data\n        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n        android:resource=&quot;@xml/file_paths&quot; /&gt;\n&lt;/provider&gt;\n\n</code></pre>\n<p>file_paths.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n"},{"tags":["java","string","io","stream"],"answers":[{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":5,"up_vote_count":700,"is_accepted":true,"score":695,"last_activity_date":1563924541,"creation_date":1224447338,"answer_id":216913,"question_id":216894,"body_markdown":"I would use a `ByteArrayOutputStream`. And on finish you can call:\r\n\r\n    new String( baos.toByteArray(), codepage );\r\n\r\nor better:\r\n\r\n    baos.toString( codepage );\r\n\r\nFor the `String` constructor, the `codepage` can be a `String` or an instance of [java.nio.charset.Charset][1]. A possible value is [java.nio.charset.StandardCharsets.UTF_8][2].\r\n\r\nThe method `toString()` accepts only a `String` as a `codepage` parameter (stand Java 8).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/charset/Charset.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html#UTF_8","title":"Get an OutputStream into a String","body":"<p>I would use a <code>ByteArrayOutputStream</code>. And on finish you can call:</p>\n\n<pre><code>new String( baos.toByteArray(), codepage );\n</code></pre>\n\n<p>or better:</p>\n\n<pre><code>baos.toString( codepage );\n</code></pre>\n\n<p>For the <code>String</code> constructor, the <code>codepage</code> can be a <code>String</code> or an instance of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/charset/Charset.html\" rel=\"noreferrer\">java.nio.charset.Charset</a>. A possible value is <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html#UTF_8\" rel=\"noreferrer\">java.nio.charset.StandardCharsets.UTF_8</a>.</p>\n\n<p>The method <code>toString()</code> accepts only a <code>String</code> as a <code>codepage</code> parameter (stand Java 8).</p>\n"},{"tags":[],"owner":{"account_id":3192,"reputation":4124,"user_id":4552,"display_name":"Joe Liversedge"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1561393549,"creation_date":1224447806,"answer_id":216921,"question_id":216894,"body_markdown":"I like the Apache Commons IO library. Take a look at its version of [ByteArrayOutputStream][1], which has a `toString(String enc) ` method as well as `toByteArray() `. Using existing and trusted components like the Commons project lets your code be smaller and easier to extend and repurpose.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/output/ByteArrayOutputStream.html","title":"Get an OutputStream into a String","body":"<p>I like the Apache Commons IO library. Take a look at its version of <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/output/ByteArrayOutputStream.html\" rel=\"noreferrer\">ByteArrayOutputStream</a>, which has a <code>toString(String enc)</code> method as well as <code>toByteArray()</code>. Using existing and trusted components like the Commons project lets your code be smaller and easier to extend and repurpose.</p>\n"},{"tags":[],"owner":{"account_id":3062,"reputation":45059,"user_id":4332,"accept_rate":88,"display_name":"Adrian Mouat"},"down_vote_count":6,"up_vote_count":25,"is_accepted":false,"score":19,"last_activity_date":1285172930,"creation_date":1225746295,"answer_id":259952,"question_id":216894,"body_markdown":"Here&#39;s what I ended up doing:\r\n\r\n    Obj.writeToStream(toWrite, os);\r\n    try {\r\n        String out = new String(os.toByteArray(), &quot;UTF-8&quot;);\r\n        assertTrue(out.contains(&quot;testString&quot;));\r\n    } catch (UnsupportedEncondingException e) {\r\n        fail(&quot;Caught exception: &quot; + e.getMessage());\r\n    }\r\n\r\nWhere os is a `ByteArrayOutputStream`.","title":"Get an OutputStream into a String","body":"<p>Here's what I ended up doing:</p>\n\n<pre><code>Obj.writeToStream(toWrite, os);\ntry {\n    String out = new String(os.toByteArray(), \"UTF-8\");\n    assertTrue(out.contains(\"testString\"));\n} catch (UnsupportedEncondingException e) {\n    fail(\"Caught exception: \" + e.getMessage());\n}\n</code></pre>\n\n<p>Where os is a <code>ByteArrayOutputStream</code>.</p>\n"},{"tags":[],"owner":{"display_name":"alcardenas"},"down_vote_count":9,"up_vote_count":38,"is_accepted":false,"score":29,"last_activity_date":1579612743,"creation_date":1245528802,"answer_id":1022434,"question_id":216894,"body_markdown":"This worked nicely\r\n```java\r\nOutputStream output = new OutputStream() {\r\n    private StringBuilder string = new StringBuilder();\r\n\r\n    @Override\r\n    public void write(int b) throws IOException {\r\n        this.string.append((char) b );\r\n    }\r\n            \r\n    //Netbeans IDE automatically overrides this toString()\r\n    public String toString() {\r\n        return this.string.toString();\r\n    }\r\n};\r\n```\r\nmethod call =&gt;&gt; `marshaller.marshal( (Object) toWrite , (OutputStream) output);`\r\n\r\nthen to print the string or get it just reference the &quot;output&quot; stream itself\r\nAs an example, to print the string out to console =&gt;&gt; `System.out.println(output);`\r\n\r\n\r\nFYI: my method call `marshaller.marshal(Object,Outputstream)` is for working with XML. It is irrelevant to this topic.\r\n\r\n\r\nThis is highly wasteful for productional use, there is a way too many conversion and it is a bit loose. This was just coded to prove to you that it is totally possible to create a custom OuputStream and output a string. But just go Horcrux7 way and all is good with merely two method calls. \r\n\r\nAnd the world lives on another day....\r\n\r\n","title":"Get an OutputStream into a String","body":"<p>This worked nicely</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>OutputStream output = new OutputStream() {\n    private StringBuilder string = new StringBuilder();\n\n    @Override\n    public void write(int b) throws IOException {\n        this.string.append((char) b );\n    }\n\n    //Netbeans IDE automatically overrides this toString()\n    public String toString() {\n        return this.string.toString();\n    }\n};\n</code></pre>\n\n<p>method call =>> <code>marshaller.marshal( (Object) toWrite , (OutputStream) output);</code></p>\n\n<p>then to print the string or get it just reference the \"output\" stream itself\nAs an example, to print the string out to console =>> <code>System.out.println(output);</code></p>\n\n<p>FYI: my method call <code>marshaller.marshal(Object,Outputstream)</code> is for working with XML. It is irrelevant to this topic.</p>\n\n<p>This is highly wasteful for productional use, there is a way too many conversion and it is a bit loose. This was just coded to prove to you that it is totally possible to create a custom OuputStream and output a string. But just go Horcrux7 way and all is good with merely two method calls. </p>\n\n<p>And the world lives on another day....</p>\n"},{"tags":[],"owner":{"account_id":1605316,"reputation":8784,"user_id":1485527,"accept_rate":100,"display_name":"jschnasse"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1644473867,"creation_date":1589867293,"answer_id":61884063,"question_id":216894,"body_markdown":"\r\n```\r\nbaos.toString(StandardCharsets.UTF_8);\r\n```\r\n&gt;Converts the buffer&#39;s contents into a string by decoding the bytes using the named charset. \r\n\r\n[Java 17 - https://docs.oracle.com/](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayOutputStream.html#toString())","title":"Get an OutputStream into a String","body":"<pre><code>baos.toString(StandardCharsets.UTF_8);\n</code></pre>\n<blockquote>\n<p>Converts the buffer's contents into a string by decoding the bytes using the named charset.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayOutputStream.html#toString()\" rel=\"nofollow noreferrer\">Java 17 - https://docs.oracle.com/</a></p>\n"},{"tags":[],"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1662454187,"creation_date":1662454187,"answer_id":73619210,"question_id":216894,"body_markdown":"Here&#39;s what I did (don&#39;t use this in production, this is not great! But it makes fixing multiple errors easier.)\r\n\r\n- Create a list that holds Exceptions.\r\n- Create a logger to log exceptions.\r\n\r\n- Use the code below:\r\n\r\n    private static void exceptionChecker() throws Exception {\r\n        if(exceptionList.isEmpty()) return; //nothing to do :) great news\r\n    \r\n        //create lock for multithreading\r\n        synchronized (System.err){\r\n            //create new error stream\r\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n            PrintStream errorOut = new PrintStream(byteArrayOutputStream);\r\n    \r\n            //save standard err  out\r\n            PrintStream standardErrOut = System.err;\r\n    \r\n            try{\r\n                //set new error stream\r\n                System.setErr(errorOut);\r\n    \r\n                exceptionList.forEach(exception -&gt; {\r\n                    exception.printStackTrace();\r\n                    System.err.println(&quot;&lt;----------&gt;&quot;);\r\n                });\r\n    \r\n    \r\n            } finally {\r\n                //reset everything back to normal\r\n                System.setErr(standardErrOut);\r\n    \r\n                //Log all the exceptions\r\n                exceptionLogger.warning(byteArrayOutputStream.toString());\r\n    \r\n                //throw final generic exception\r\n                throw new Exception();\r\n            }\r\n        }}\r\n    \r\n\r\nThis isn&#39;t great as you are throwing an error in the finally block and it locks on the error stream, but it works for dev purposes.\r\n\r\n","title":"Get an OutputStream into a String","body":"<p>Here's what I did (don't use this in production, this is not great! But it makes fixing multiple errors easier.)</p>\n<ul>\n<li><p>Create a list that holds Exceptions.</p>\n</li>\n<li><p>Create a logger to log exceptions.</p>\n</li>\n<li><p>Use the code below:</p>\n<p>private static void exceptionChecker() throws Exception {\nif(exceptionList.isEmpty()) return; //nothing to do :) great news</p>\n<pre><code>  //create lock for multithreading\n  synchronized (System.err){\n      //create new error stream\n      ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n      PrintStream errorOut = new PrintStream(byteArrayOutputStream);\n\n      //save standard err  out\n      PrintStream standardErrOut = System.err;\n\n      try{\n          //set new error stream\n          System.setErr(errorOut);\n\n          exceptionList.forEach(exception -&gt; {\n              exception.printStackTrace();\n              System.err.println(&quot;&lt;----------&gt;&quot;);\n          });\n\n\n      } finally {\n          //reset everything back to normal\n          System.setErr(standardErrOut);\n\n          //Log all the exceptions\n          exceptionLogger.warning(byteArrayOutputStream.toString());\n\n          //throw final generic exception\n          throw new Exception();\n      }\n  }}\n</code></pre>\n</li>\n</ul>\n<p>This isn't great as you are throwing an error in the finally block and it locks on the error stream, but it works for dev purposes.</p>\n"}],"owner":{"account_id":3062,"reputation":45059,"user_id":4332,"accept_rate":88,"display_name":"Adrian Mouat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726905,"favorite_count":0,"down_vote_count":2,"up_vote_count":672,"accepted_answer_id":216913,"answer_count":6,"score":670,"last_activity_date":1662454187,"creation_date":1224446603,"question_id":216894,"body_markdown":"What&#39;s the best way to pipe the output from an java.io.OutputStream to a String in Java?\r\n\r\nSay I have the method:\r\n\r\n      writeToStream(Object o, OutputStream out)\r\n\r\nWhich writes certain data from the object to the given stream. However, I want to get this output into a String as easily as possible.\r\n\r\nI&#39;m considering writing a class like this (untested):\r\n\r\n    class StringOutputStream extends OutputStream {\r\n    \r\n      StringBuilder mBuf;\r\n    \r\n      public void write(int byte) throws IOException {\r\n        mBuf.append((char) byte);\r\n      }\r\n\r\n      public String getString() {\r\n        return mBuf.toString();\r\n      }\r\n    }\r\n\r\nBut is there a better way? I only want to run a test!\r\n","title":"Get an OutputStream into a String","body":"<p>What's the best way to pipe the output from an java.io.OutputStream to a String in Java?</p>\n\n<p>Say I have the method:</p>\n\n<pre><code>  writeToStream(Object o, OutputStream out)\n</code></pre>\n\n<p>Which writes certain data from the object to the given stream. However, I want to get this output into a String as easily as possible.</p>\n\n<p>I'm considering writing a class like this (untested):</p>\n\n<pre><code>class StringOutputStream extends OutputStream {\n\n  StringBuilder mBuf;\n\n  public void write(int byte) throws IOException {\n    mBuf.append((char) byte);\n  }\n\n  public String getString() {\n    return mBuf.toString();\n  }\n}\n</code></pre>\n\n<p>But is there a better way? I only want to run a test!</p>\n"},{"tags":["c#","java","static","abstract-class","final"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":2,"creation_date":1380612466,"post_id":19110342,"comment_id":28256554,"body_markdown":"Because of different language specifications ??  Then it is `true`.","body":"Because of different language specifications ??  Then it is <code>true</code>."},{"owner":{"account_id":1167770,"reputation":33137,"user_id":1145666,"accept_rate":75,"display_name":"Bart Friederichs"},"score":0,"creation_date":1380612750,"post_id":19110342,"comment_id":28256698,"body_markdown":"Read this: http://stackoverflow.com/questions/3584113/why-are-you-not-able-to-declare-a-class-as-static-in-java","body":"Read this: <a href=\"http://stackoverflow.com/questions/3584113/why-are-you-not-able-to-declare-a-class-as-static-in-java\" title=\"why are you not able to declare a class as static in java\">stackoverflow.com/questions/3584113/&hellip;</a>"},{"owner":{"account_id":875469,"reputation":6935,"user_id":925202,"accept_rate":72,"display_name":"PC."},"score":0,"creation_date":1380612898,"post_id":19110342,"comment_id":28256764,"body_markdown":"thanks Bart. You have provided the right answer. I can have a final class with private constructor.","body":"thanks Bart. You have provided the right answer. I can have a final class with private constructor."},{"owner":{"account_id":1464388,"reputation":3904,"user_id":1377706,"accept_rate":83,"display_name":"Pharap"},"score":0,"creation_date":1414611883,"post_id":19110342,"comment_id":41885444,"body_markdown":"You&#39;ve confused what `final` means; `final` is equivalent to C#&#39;s `sealed`, not `static`.","body":"You&#39;ve confused what <code>final</code> means; <code>final</code> is equivalent to C#&#39;s <code>sealed</code>, not <code>static</code>."},{"owner":{"account_id":436357,"reputation":1538,"user_id":823470,"accept_rate":100,"display_name":"tar"},"score":0,"creation_date":1506106735,"post_id":19110342,"comment_id":79702559,"body_markdown":"`public final abstract class ChuckNorris extends ChuckNorris {}`","body":"<code>public final abstract class ChuckNorris extends ChuckNorris {}</code>"},{"owner":{"account_id":4535825,"reputation":1025,"user_id":9104070,"display_name":"Alonso del Arte"},"score":0,"creation_date":1583649194,"post_id":19110342,"comment_id":107184216,"body_markdown":"You might like Scala: https://www.scala-lang.org/api/2.12.1/scala/Double.html","body":"You might like Scala: <a href=\"https://www.scala-lang.org/api/2.12.1/scala/Double.html\" rel=\"nofollow noreferrer\">scala-lang.org/api/2.12.1/scala/Double.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1014852,"reputation":16091,"user_id":1026645,"accept_rate":39,"display_name":"ssantos"},"down_vote_count":5,"up_vote_count":18,"is_accepted":true,"score":13,"last_activity_date":1380612932,"creation_date":1380612587,"answer_id":19110396,"question_id":19110342,"body_markdown":"A `final` class can&#39;t be extended, an `abstract` class *needs* to be extended in order to be instantiated. Therefore, a `final abstract` class would be a logical contradiction.\r\n\r\nIf your class just have `static` methods, maybe you should just `hide` its constructor, by defining it as `private`.-\r\n\r\n    private StringUtils() {\r\n    }","title":"Why can&#39;t a Java class be both abstract and final","body":"<p>A <code>final</code> class can't be extended, an <code>abstract</code> class <em>needs</em> to be extended in order to be instantiated. Therefore, a <code>final abstract</code> class would be a logical contradiction.</p>\n\n<p>If your class just have <code>static</code> methods, maybe you should just <code>hide</code> its constructor, by defining it as <code>private</code>.-</p>\n\n<pre><code>private StringUtils() {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1640651,"reputation":624,"user_id":1515520,"accept_rate":25,"display_name":"user1515520"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542710684,"creation_date":1397340268,"answer_id":23036685,"question_id":19110342,"body_markdown":"There is no reason except subjectivity but you can accomplish the same objective by\r\n making your class abstract and make all your methods final. Like:\r\n\r\n    \r\n    public abstract class MyClass {\r\n        …\r\n        public final static void myMethod1() {\r\n            …\r\n        }\r\n\r\n        public final static void myMethod2() {\r\n            …\r\n        }\r\n    }\r\n\r\nThe compiler will check this and give an error if you try to instantiate an object of MyClass, and it will also not be possible to override the final methods when any subclass extends MyClass","title":"Why can&#39;t a Java class be both abstract and final","body":"<p>There is no reason except subjectivity but you can accomplish the same objective by\n making your class abstract and make all your methods final. Like:</p>\n\n<pre><code>public abstract class MyClass {\n    …\n    public final static void myMethod1() {\n        …\n    }\n\n    public final static void myMethod2() {\n        …\n    }\n}\n</code></pre>\n\n<p>The compiler will check this and give an error if you try to instantiate an object of MyClass, and it will also not be possible to override the final methods when any subclass extends MyClass</p>\n"},{"tags":[],"owner":{"account_id":889447,"reputation":1823,"user_id":928038,"display_name":"Joe Lee-Moyet"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1662454088,"creation_date":1414164445,"answer_id":26551157,"question_id":19110342,"body_markdown":"It is not possible because the Java language specification states that:\r\n\r\n&gt; It is a compile-time error to declare an abstract class type such that\r\n&gt; it is not possible to create a subclass that implements all of its\r\n&gt; abstract methods [\\[1\\]][1]\r\n\r\nOther than this, there is no inherent reason why an abstract final class would be illogical - the word _abstract_ is generally used in contrast to _concrete_ to mean that no direct instances of a type may exist.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.1.1","title":"Why can&#39;t a Java class be both abstract and final","body":"<p>It is not possible because the Java language specification states that:</p>\n<blockquote>\n<p>It is a compile-time error to declare an abstract class type such that\nit is not possible to create a subclass that implements all of its\nabstract methods <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.1.1\" rel=\"nofollow noreferrer\">[1]</a></p>\n</blockquote>\n<p>Other than this, there is no inherent reason why an abstract final class would be illogical - the word <em>abstract</em> is generally used in contrast to <em>concrete</em> to mean that no direct instances of a type may exist.</p>\n"},{"tags":[],"owner":{"account_id":3202267,"reputation":2714,"user_id":2704113,"accept_rate":50,"display_name":"Sreedhar GS"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1448360181,"creation_date":1448360181,"answer_id":33890913,"question_id":19110342,"body_markdown":"A method can never, ever, ever be marked as both abstract and final, or both\r\nabstract and private. Think about it—abstract methods must be implemented\r\n(which essentially means overridden by a subclass) whereas final and private\r\nmethods cannot ever be overridden by a subclass. Or to phrase it another way, an\r\nabstract designation means the superclass doesn&#39;t know anything about how\r\nthe subclasses should behave in that method, whereas a final designation means\r\nthe superclass knows everything about how all subclasses (however far down the\r\ninheritance tree they may be) should behave in that method. The abstract and\r\nfinal modifiers are virtually opposites. Because private methods cannot even be\r\nseen by a subclass (let alone inherited), they too cannot be overridden, so they too\r\ncannot be marked abstract.","title":"Why can&#39;t a Java class be both abstract and final","body":"<p>A method can never, ever, ever be marked as both abstract and final, or both\nabstract and private. Think about it—abstract methods must be implemented\n(which essentially means overridden by a subclass) whereas final and private\nmethods cannot ever be overridden by a subclass. Or to phrase it another way, an\nabstract designation means the superclass doesn't know anything about how\nthe subclasses should behave in that method, whereas a final designation means\nthe superclass knows everything about how all subclasses (however far down the\ninheritance tree they may be) should behave in that method. The abstract and\nfinal modifiers are virtually opposites. Because private methods cannot even be\nseen by a subclass (let alone inherited), they too cannot be overridden, so they too\ncannot be marked abstract.</p>\n"},{"tags":[],"owner":{"account_id":5312708,"reputation":11,"user_id":4238459,"display_name":"Ankur08"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1545591287,"creation_date":1545590945,"answer_id":53906265,"question_id":19110342,"body_markdown":"In Java an instance of an abstract class cannot be created, we can only have references of abstract class type. So there if we make abstract class final then we wont be able to extend it.\r\nabstract and final are the mutual exclusive concept.\r\nthat&#39;s why Java compiler throws a compile time error when you try to make an abstract class final in Java","title":"Why can&#39;t a Java class be both abstract and final","body":"<p>In Java an instance of an abstract class cannot be created, we can only have references of abstract class type. So there if we make abstract class final then we wont be able to extend it.\nabstract and final are the mutual exclusive concept.\nthat's why Java compiler throws a compile time error when you try to make an abstract class final in Java</p>\n"},{"tags":[],"owner":{"account_id":10416215,"reputation":341,"user_id":9216952,"display_name":"Kumar Anil Chaurasiya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635158936,"creation_date":1546230297,"answer_id":53983561,"question_id":19110342,"body_markdown":"Due to some certain reasons we can not use final keyword with abstract class.\r\n1. If we define abstract final then we can&#39;t extend it.\r\n2. Abstract class meant to be inherit by some other classes and provide the implementation of non-concrete methods.\r\n3. If we are defining abstract class as final the it will give the compile time error..","title":"Why can&#39;t a Java class be both abstract and final","body":"<p>Due to some certain reasons we can not use final keyword with abstract class.</p>\n<ol>\n<li>If we define abstract final then we can't extend it.</li>\n<li>Abstract class meant to be inherit by some other classes and provide the implementation of non-concrete methods.</li>\n<li>If we are defining abstract class as final the it will give the compile time error..</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23125776,"reputation":11,"user_id":17231597,"display_name":"PAVAN SAI POTNURU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635091613,"creation_date":1635091613,"answer_id":69698524,"question_id":19110342,"body_markdown":"When we declare a class as an abstract it cannot be **instantiated**. When we declare a class as final it cannot be inherited. To implement the methods in the abstract the Class need to be inherited. But if we declare a class as final, the class cannot be **inherited**. So, we cannot declare a class as both **abstract** and **final**","title":"Why can&#39;t a Java class be both abstract and final","body":"<p>When we declare a class as an abstract it cannot be <strong>instantiated</strong>. When we declare a class as final it cannot be inherited. To implement the methods in the abstract the Class need to be inherited. But if we declare a class as final, the class cannot be <strong>inherited</strong>. So, we cannot declare a class as both <strong>abstract</strong> and <strong>final</strong></p>\n"}],"owner":{"account_id":875469,"reputation":6935,"user_id":925202,"accept_rate":72,"display_name":"PC."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23939,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":19110396,"answer_count":7,"score":10,"last_activity_date":1662454088,"creation_date":1380612371,"question_id":19110342,"body_markdown":"Suppose I&#39;ve a utility class which contains only static methods and variables. e.g:\r\n\r\n    public abstract final class StringUtils\r\n    {\r\n        public static final String NEW_LINE = System.getProperty(&quot;line.separator&quot;);\r\n    \r\n        public static boolean isNotNullOrSpace(final String string)\r\n        {\r\n            return !(string == null || string.length() &lt; 1 || string.trim().length() &lt; 1);\r\n        }\r\n    }\r\n\r\nIn this scenario, it makes sense to make the class both abstract and final. Abstract because making an object of this class will be of no use as all methods are accessible statically. Final because the derived class cannot inherit anything from this class as it does not have any non-static member.\r\n\r\nC# allows **static** modifier for such classes. Why doesn&#39;t Java support this?","title":"Why can&#39;t a Java class be both abstract and final","body":"<p>Suppose I've a utility class which contains only static methods and variables. e.g:</p>\n\n<pre><code>public abstract final class StringUtils\n{\n    public static final String NEW_LINE = System.getProperty(\"line.separator\");\n\n    public static boolean isNotNullOrSpace(final String string)\n    {\n        return !(string == null || string.length() &lt; 1 || string.trim().length() &lt; 1);\n    }\n}\n</code></pre>\n\n<p>In this scenario, it makes sense to make the class both abstract and final. Abstract because making an object of this class will be of no use as all methods are accessible statically. Final because the derived class cannot inherit anything from this class as it does not have any non-static member.</p>\n\n<p>C# allows <strong>static</strong> modifier for such classes. Why doesn't Java support this?</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1662453600,"post_id":73617234,"comment_id":130002811,"body_markdown":"Why does you original code use `equalsIgnoreCase` but when you try a Stream approach, you suddenly use `contains`? Are you aware of the differences between these methods? Which match operation do you actually need? A plain `equals` perhaps?","body":"Why does you original code use <code>equalsIgnoreCase</code> but when you try a Stream approach, you suddenly use <code>contains</code>? Are you aware of the differences between these methods? Which match operation do you actually need? A plain <code>equals</code> perhaps?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662445547,"creation_date":1662443572,"answer_id":73617265,"question_id":73617234,"body_markdown":"You should be able to use `anyMatch()` along with `String#matches()`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String regex = &quot;CRN|PRN|PCCN|CCN&quot;\r\n    List&lt;String&gt; matchedResults = filterParamsMap.keySet().stream().filter(key -&gt; key.matches(regex)).map(filterParamsMap::get).collect(Collectors.toList());\r\n\r\nHere are using a regex alternation which contains the 4 possible key values which you want to match.  Note that `String#matches()` implicitly applies the input pattern to the entire string.  More generally, we would use the following regex pattern:\r\n\r\n&lt;!-- language: regex --&gt;\r\n\r\n    ^(?:CRN|PRN|PCCN|CCN)$","title":"Find a specific key out of few given keys from a hashmap in Java 8","body":"<p>You should be able to use <code>anyMatch()</code> along with <code>String#matches()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;CRN|PRN|PCCN|CCN&quot;\nList&lt;String&gt; matchedResults = filterParamsMap.keySet().stream().filter(key -&gt; key.matches(regex)).map(filterParamsMap::get).collect(Collectors.toList());\n</code></pre>\n<p>Here are using a regex alternation which contains the 4 possible key values which you want to match.  Note that <code>String#matches()</code> implicitly applies the input pattern to the entire string.  More generally, we would use the following regex pattern:</p>\n<pre><code>^(?:CRN|PRN|PCCN|CCN)$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662445797,"creation_date":1662445797,"answer_id":73617593,"question_id":73617234,"body_markdown":"You can use filter function and then find the first occurence.\r\n\r\n    String key = filterParamsMap.keySet()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.filter(r -&gt; {return r.contains(&quot;CRN&quot;) || r.contains(&quot;PRN&quot;) || r.contains(&quot;PCCN&quot;) || r.contains(&quot;CCN&quot;);})\r\n\t\t\t\t.findFirst().orElse(null);\r\n\r\n[findFirst()][1] returns [Optional][2] you can use this object later on to validate further. In my example above I return null object if no object found because get() method will throw NoSuchElementException if there is no object found, but the behavior is up to you maybe you want to catch this exception or not this is for example purposes only.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"Find a specific key out of few given keys from a hashmap in Java 8","body":"<p>You can use filter function and then find the first occurence.</p>\n<pre><code>String key = filterParamsMap.keySet()\n            .stream()\n            .filter(r -&gt; {return r.contains(&quot;CRN&quot;) || r.contains(&quot;PRN&quot;) || r.contains(&quot;PCCN&quot;) || r.contains(&quot;CCN&quot;);})\n            .findFirst().orElse(null);\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--\" rel=\"nofollow noreferrer\">findFirst()</a> returns <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">Optional</a> you can use this object later on to validate further. In my example above I return null object if no object found because get() method will throw NoSuchElementException if there is no object found, but the behavior is up to you maybe you want to catch this exception or not this is for example purposes only.</p>\n"}],"owner":{"account_id":20558744,"reputation":65,"user_id":15089685,"display_name":"Mira Devi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73617265,"answer_count":2,"score":-1,"last_activity_date":1662453656,"creation_date":1662443341,"question_id":73617234,"body_markdown":"I have the following hashmap out of which I want to find if it contains a specific key out of the below 4 keys. In Java 7 I can do below. How can I do the same in Java8?\r\n\r\n```\r\nMap&lt;String, String&gt; filterParamsMap = new HashMap&lt;&gt;();\r\nfilterParamsMap.put(&quot;CRN&quot;, &quot;1234&quot;);\r\n\r\nString key;\r\nfor (String customReference : filterParamsMap.keySet()) {\r\n\tif (customReference.equalsIgnoreCase(&quot;CCN&quot;) || customReference.equalsIgnoreCase(&quot;PRN&quot;)\r\n\t|| customReference.equalsIgnoreCase(&quot;PCCN&quot;) || customReference.equalsIgnoreCase(&quot;CRN&quot;)) {\r\n\r\n\t\t\t\tkey = customReference;\r\n\t}\r\n```\r\nI tried but I&#39;m able to check just 1 string out of the above 4. Also, it returns boolean whereas my output should be a String. \r\n```\r\nString key = filterParamsMap.keySet().stream().anyMatch(r-&gt;r.contains(&quot;CRN&quot;));\r\n```\r\nI cannot do the below:\r\n\r\n```\r\nString key = filterParamsMap.keySet().stream().anyMatch(r-&gt;r.contains(&quot;CRN&quot;)||r-&gt;r.contains(&quot;PRN&quot;)||r-&gt;r.contains(&quot;PCCN&quot;)\r\n\t\t\t\t||r-&gt;r.contains(&quot;CCN&quot;));\r\n```","title":"Find a specific key out of few given keys from a hashmap in Java 8","body":"<p>I have the following hashmap out of which I want to find if it contains a specific key out of the below 4 keys. In Java 7 I can do below. How can I do the same in Java8?</p>\n<pre><code>Map&lt;String, String&gt; filterParamsMap = new HashMap&lt;&gt;();\nfilterParamsMap.put(&quot;CRN&quot;, &quot;1234&quot;);\n\nString key;\nfor (String customReference : filterParamsMap.keySet()) {\n    if (customReference.equalsIgnoreCase(&quot;CCN&quot;) || customReference.equalsIgnoreCase(&quot;PRN&quot;)\n    || customReference.equalsIgnoreCase(&quot;PCCN&quot;) || customReference.equalsIgnoreCase(&quot;CRN&quot;)) {\n\n                key = customReference;\n    }\n</code></pre>\n<p>I tried but I'm able to check just 1 string out of the above 4. Also, it returns boolean whereas my output should be a String.</p>\n<pre><code>String key = filterParamsMap.keySet().stream().anyMatch(r-&gt;r.contains(&quot;CRN&quot;));\n</code></pre>\n<p>I cannot do the below:</p>\n<pre><code>String key = filterParamsMap.keySet().stream().anyMatch(r-&gt;r.contains(&quot;CRN&quot;)||r-&gt;r.contains(&quot;PRN&quot;)||r-&gt;r.contains(&quot;PCCN&quot;)\n                ||r-&gt;r.contains(&quot;CCN&quot;));\n</code></pre>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":3135078,"reputation":1516,"user_id":2754695,"accept_rate":62,"display_name":"Constantin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436928633,"creation_date":1436928297,"answer_id":31420632,"question_id":31420138,"body_markdown":"A solution that promotes commonality between UI and database column names would be nice but probably not feasible. \r\n\r\nSome sort of mapping table that captures the following will work:\r\n\r\n - META-DB-TABLE-NAME\r\n - META-DB-COLUMN-NAME\r\n - META-UI-COLUMN-NAME\r\n\r\nPersonally I would prefer to keep this mapping meta-data as close to the database as possible.\r\n\r\nUser-defined meta data is nicely described here from an Oracle perspective:\r\nhttp://docs.oracle.com/cd/B28359_01/appdev.111/b28369/xdb_repos_meta.htm\r\n\r\nDo some research on this and keep us informed with what you find. Very interesting question!","title":"dynamic sql generation design","body":"<p>A solution that promotes commonality between UI and database column names would be nice but probably not feasible. </p>\n\n<p>Some sort of mapping table that captures the following will work:</p>\n\n<ul>\n<li>META-DB-TABLE-NAME</li>\n<li>META-DB-COLUMN-NAME</li>\n<li>META-UI-COLUMN-NAME</li>\n</ul>\n\n<p>Personally I would prefer to keep this mapping meta-data as close to the database as possible.</p>\n\n<p>User-defined meta data is nicely described here from an Oracle perspective:\n<a href=\"http://docs.oracle.com/cd/B28359_01/appdev.111/b28369/xdb_repos_meta.htm\" rel=\"nofollow\">http://docs.oracle.com/cd/B28359_01/appdev.111/b28369/xdb_repos_meta.htm</a></p>\n\n<p>Do some research on this and keep us informed with what you find. Very interesting question!</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662452461,"creation_date":1662452461,"answer_id":73618860,"question_id":31420138,"body_markdown":"In such a dynamic SQL scenario, query builders like [jOOQ][1] really shine. See for example the jOOQ manual section about [dynamic SQL][2]. \r\n\r\nIn your specific case, assuming you&#39;re using generated code in jOOQ ([which isn&#39;t a must, but certainly recommended][3]), you&#39;ll be maintaining some sort of lookup between UI fields and SQL fields, such as:\r\n\r\n```java\r\nMap&lt;UIField, Field&lt;?&gt;&gt; lookup = ...\r\nlookup.put(UI.NUMBER, TABLE.NUMBER);\r\nlookup.put(UI.DESCRIPTION, TABLE.DESCRIPTION);\r\nlookup.put(UI.PRICE, TABLE.PRICE);\r\n```\r\n\r\nYou can then construct your query dynamically according to user needs:\r\n\r\n```java\r\nList&lt;UIField&gt; userRequestedFields = ...\r\nList&lt;Field&lt;?&gt;&gt; queryFields = userRequestedFields\r\n    .stream()\r\n    .map(lookup::get)\r\n    .toList();\r\n```\r\n\r\nAnd then:\r\n\r\n```java\r\nctx.select(queryFields)\r\n   .from(TABLE)\r\n   .where(...)\r\n   .fetch();\r\n```\r\n\r\nThere are other query builders, even JPA has the criteria API for these purposes. You could also roll your own, though you&#39;ll be re-inventing a lot of wheels.\r\n\r\nDisclaimer: I work for the company behind jOOQ.\r\n\r\n  [1]: https://www.jooq.org\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/dynamic-sql/\r\n  [3]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/","title":"dynamic sql generation design","body":"<p>In such a dynamic SQL scenario, query builders like <a href=\"https://www.jooq.org\" rel=\"nofollow noreferrer\">jOOQ</a> really shine. See for example the jOOQ manual section about <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dynamic-sql/\" rel=\"nofollow noreferrer\">dynamic SQL</a>.</p>\n<p>In your specific case, assuming you're using generated code in jOOQ (<a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">which isn't a must, but certainly recommended</a>), you'll be maintaining some sort of lookup between UI fields and SQL fields, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;UIField, Field&lt;?&gt;&gt; lookup = ...\nlookup.put(UI.NUMBER, TABLE.NUMBER);\nlookup.put(UI.DESCRIPTION, TABLE.DESCRIPTION);\nlookup.put(UI.PRICE, TABLE.PRICE);\n</code></pre>\n<p>You can then construct your query dynamically according to user needs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;UIField&gt; userRequestedFields = ...\nList&lt;Field&lt;?&gt;&gt; queryFields = userRequestedFields\n    .stream()\n    .map(lookup::get)\n    .toList();\n</code></pre>\n<p>And then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.select(queryFields)\n   .from(TABLE)\n   .where(...)\n   .fetch();\n</code></pre>\n<p>There are other query builders, even JPA has the criteria API for these purposes. You could also roll your own, though you'll be re-inventing a lot of wheels.</p>\n<p>Disclaimer: I work for the company behind jOOQ.</p>\n"}],"owner":{"account_id":6627900,"reputation":31,"user_id":5117489,"display_name":"Mark Nicholas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1662453569,"creation_date":1436924647,"question_id":31420138,"body_markdown":"Good Afternoon,\r\n \r\nWe are bulding a web application and as part of it building a search functionality, have a design question on &quot;Search Functionality&quot;\r\n \r\nThe field names on the UI vs DB are different .i.e. a field on the UI called as &quot;Number&quot; the same is called Text10 in the DB. following are the two issues\r\n \r\n1. How to generate a SQL as user gives the UI field names, we have a table in the DB where we r maintaining configuration(UI name to DB Name)?\r\n2. User selects the columns which he wants to search, say for example there fields are selected &quot;Number, Description, Price&quot; and once the sql is generated, how to know what data corresponds to what column? Do we have to maintain an index capturing position or a bean?\r\nwhat is the better way to gather the data based on the resultset?\r\n \r\n \r\nThanks","title":"dynamic sql generation design","body":"<p>Good Afternoon,</p>\n\n<p>We are bulding a web application and as part of it building a search functionality, have a design question on \"Search Functionality\"</p>\n\n<p>The field names on the UI vs DB are different .i.e. a field on the UI called as \"Number\" the same is called Text10 in the DB. following are the two issues</p>\n\n<ol>\n<li>How to generate a SQL as user gives the UI field names, we have a table in the DB where we r maintaining configuration(UI name to DB Name)?</li>\n<li>User selects the columns which he wants to search, say for example there fields are selected \"Number, Description, Price\" and once the sql is generated, how to know what data corresponds to what column? Do we have to maintain an index capturing position or a bean?\nwhat is the better way to gather the data based on the resultset?</li>\n</ol>\n\n<p>Thanks</p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662449517,"post_id":73618139,"comment_id":130001497,"body_markdown":"You&#39;re writing an empty byte array into your stream. You might want to at least use `in.read(buffer)`.","body":"You&#39;re writing an empty byte array into your stream. You might want to at least use <code>in.read(buffer)</code>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1662450067,"post_id":73618139,"comment_id":130001681,"body_markdown":"@Thomas is right. The `read()` method returns a single byte, not the number of bytes that are read, and you don&#39;t read anything into `buffer`. The only reason you don&#39;t get any `IndexOutOfBoundsException` is because your buffer size is larger than the maximum unsigned byte value (255).","body":"@Thomas is right. The <code>read()</code> method returns a single byte, not the number of bytes that are read, and you don&#39;t read anything into <code>buffer</code>. The only reason you don&#39;t get any <code>IndexOutOfBoundsException</code> is because your buffer size is larger than the maximum unsigned byte value (255)."},{"owner":{"account_id":22820977,"reputation":101,"user_id":16970845,"display_name":"Smile"},"score":0,"creation_date":1662454287,"post_id":73618139,"comment_id":130003054,"body_markdown":"Thanks a lot! `@Thomas`  is right.Thanks for your explantion,too.Thanks` @Rob Spoor`","body":"Thanks a lot! <code>@Thomas</code>  is right.Thanks for your explantion,too.Thanks` @Rob Spoor`"}],"owner":{"account_id":22820977,"reputation":101,"user_id":16970845,"display_name":"Smile"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662453465,"answer_count":0,"score":0,"last_activity_date":1662453518,"creation_date":1662448810,"question_id":73618139,"body_markdown":"I want to download an image by servlet.  \r\nI can download the file.But the file is broken.  \r\nThis is my servlet java file.\r\n```java\r\n   @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {\r\n        String filePath = &quot;D:\\\\programe\\\\code\\\\javaCode\\\\javaBase\\\\maven-demo-Servlet\\\\servletDown\\\\src\\\\main\\\\img.png&quot;;\r\n\r\n        String fileName = filePath.substring(filePath.lastIndexOf(&quot;\\\\&quot;) + 1);\r\n        System.out.println(fileName);\r\n        File file = new File(filePath);\r\n        FileInputStream in = new FileInputStream(file);\r\n        resp.setContentType(&quot;image/png&quot;);\r\n        resp.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + URLEncoder.encode(fileName, &quot;UTF-8&quot;));\r\n\r\n        int len;\r\n        byte[] buffer = new byte[1024];\r\n        ServletOutputStream outputStream = resp.getOutputStream();\r\n        while ((len = in.read()) &gt; 0) {\r\n            outputStream.write(buffer, 0, len);\r\n        }\r\n\r\n        outputStream.flush();\r\n        outputStream.close();\r\n        in.close();\r\n    }\r\n```\r\nI can down load file,but I get this.  \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YPR9f.png\r\n\r\nthe file size is 0 bytes.  \r\nI can look the img on server.Please help me!! thanks!","title":"How to write FileInputStream to ServletOutputStream","body":"<p>I want to download an image by servlet.<br />\nI can download the file.But the file is broken.<br />\nThis is my servlet java file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {\n        String filePath = &quot;D:\\\\programe\\\\code\\\\javaCode\\\\javaBase\\\\maven-demo-Servlet\\\\servletDown\\\\src\\\\main\\\\img.png&quot;;\n\n        String fileName = filePath.substring(filePath.lastIndexOf(&quot;\\\\&quot;) + 1);\n        System.out.println(fileName);\n        File file = new File(filePath);\n        FileInputStream in = new FileInputStream(file);\n        resp.setContentType(&quot;image/png&quot;);\n        resp.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + URLEncoder.encode(fileName, &quot;UTF-8&quot;));\n\n        int len;\n        byte[] buffer = new byte[1024];\n        ServletOutputStream outputStream = resp.getOutputStream();\n        while ((len = in.read()) &gt; 0) {\n            outputStream.write(buffer, 0, len);\n        }\n\n        outputStream.flush();\n        outputStream.close();\n        in.close();\n    }\n</code></pre>\n<p>I can down load file,but I get this.<br />\n<a href=\"https://i.stack.imgur.com/YPR9f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YPR9f.png\" alt=\"enter image description here\" /></a></p>\n<p>the file size is 0 bytes.<br />\nI can look the img on server.Please help me!! thanks!</p>\n"},{"tags":["java","android","android-activity","android-recyclerview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662406396,"post_id":73613909,"comment_id":129994174,"body_markdown":"If you started the second activity with start activity for result then at ending the second activity you can put in the intent if and which item has to be deleted. In onActivityResult of first activity you read that intent and handle accordingly. You delete the item from a list for the adapter for the recycle view.","body":"If you started the second activity with start activity for result then at ending the second activity you can put in the intent if and which item has to be deleted. In onActivityResult of first activity you read that intent and handle accordingly. You delete the item from a list for the adapter for the recycle view."},{"owner":{"account_id":20307744,"reputation":19,"user_id":14895570,"display_name":"Sohaibs Amir"},"score":0,"creation_date":1662406706,"post_id":73613909,"comment_id":129994227,"body_markdown":"The problem is I am also handling with sqlite database as well. When delete button is pressed, that particular item needs to be deleted in sqlite database, and then in recycleview.","body":"The problem is I am also handling with sqlite database as well. When delete button is pressed, that particular item needs to be deleted in sqlite database, and then in recycleview."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662406876,"post_id":73613909,"comment_id":129994278,"body_markdown":"Well, ok. Do it. Whats the problem exactly?","body":"Well, ok. Do it. Whats the problem exactly?"},{"owner":{"account_id":20307744,"reputation":19,"user_id":14895570,"display_name":"Sohaibs Amir"},"score":0,"creation_date":1662414474,"post_id":73613909,"comment_id":129995820,"body_markdown":"Sir, I have tried your method. It worked to some extent however the problem now I am facing is that item&#39; position couldn&#39;t pass to another activity. @blackapps","body":"Sir, I have tried your method. It worked to some extent however the problem now I am facing is that item&#39; position couldn&#39;t pass to another activity. @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662440242,"post_id":73613909,"comment_id":129999268,"body_markdown":"You have only start activity. Not start activity for result","body":"You have only start activity. Not start activity for result"},{"owner":{"account_id":16721431,"reputation":96,"user_id":12914089,"display_name":"Sudarshan"},"score":0,"creation_date":1662447143,"post_id":73613909,"comment_id":130000698,"body_markdown":"you can override the @onResume method on first activity to refresh the recyclerview. When you delete the item in the second activity it gets deleted from the database and when you come back to the first activity the onResume method get called and new list is fetched to the recyclerview from the database.","body":"you can override the @onResume method on first activity to refresh the recyclerview. When you delete the item in the second activity it gets deleted from the database and when you come back to the first activity the onResume method get called and new list is fetched to the recyclerview from the database."}],"answers":[{"tags":[],"owner":{"account_id":14672981,"reputation":66,"user_id":10596965,"display_name":"Vitaliy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662453294,"creation_date":1662453294,"answer_id":73619033,"question_id":73613909,"body_markdown":"For interaction between activities, you can use the LocalBroadcastManager.  You can send a broadcast from one activity and receive it in another.\r\n\r\n**Send broadcast**\r\n\r\n    val intent = Intent(&quot;ACTION&quot;)\r\n    intent.putExtra(&quot;needUpdate&quot;, true)\r\n    LocalBroadcastManager.getInstance(getApplicationContext()).sendBroadcast(intent)\r\n\r\n**Receive broadcast**\r\n\r\n1.Create a listener\r\n\r\n    val myBroadcastReceiver = object : BroadcastReceiver() {\r\n       override fun onReceive(context: Context?, intent: Intent?) {\r\n           println(&quot;Your value: &quot; + intent?.getStringExtra(&quot;needUpdate&quot;))\r\n       }\r\n    }\r\n\r\nRegister\r\n\r\n    override fun onResume() {\r\n       // …\r\n       val filter = IntentFilter(&quot;ACTION&quot;)\r\n       LocalBroadcastManager.getInstance(applicationContext).registerReceiver(myBroadcastReceiver, filter)\r\n    }\r\n\r\nCancel registration\r\n\r\n    override fun onPause() {\r\n       // …\r\n       LocalBroadcastManager.getInstance(applicationContext).unregisterReceiver(myBroadcastReceiver)\r\n    }\r\n\r\n\r\nMore details: https://developer.android.com/guide/components/broadcasts\r\n","title":"how to delete an item in recycleview from another activity?","body":"<p>For interaction between activities, you can use the LocalBroadcastManager.  You can send a broadcast from one activity and receive it in another.</p>\n<p><strong>Send broadcast</strong></p>\n<pre><code>val intent = Intent(&quot;ACTION&quot;)\nintent.putExtra(&quot;needUpdate&quot;, true)\nLocalBroadcastManager.getInstance(getApplicationContext()).sendBroadcast(intent)\n</code></pre>\n<p><strong>Receive broadcast</strong></p>\n<p>1.Create a listener</p>\n<pre><code>val myBroadcastReceiver = object : BroadcastReceiver() {\n   override fun onReceive(context: Context?, intent: Intent?) {\n       println(&quot;Your value: &quot; + intent?.getStringExtra(&quot;needUpdate&quot;))\n   }\n}\n</code></pre>\n<p>Register</p>\n<pre><code>override fun onResume() {\n   // …\n   val filter = IntentFilter(&quot;ACTION&quot;)\n   LocalBroadcastManager.getInstance(applicationContext).registerReceiver(myBroadcastReceiver, filter)\n}\n</code></pre>\n<p>Cancel registration</p>\n<pre><code>override fun onPause() {\n   // …\n   LocalBroadcastManager.getInstance(applicationContext).unregisterReceiver(myBroadcastReceiver)\n}\n</code></pre>\n<p>More details: <a href=\"https://developer.android.com/guide/components/broadcasts\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/broadcasts</a></p>\n"}],"owner":{"account_id":20307744,"reputation":19,"user_id":14895570,"display_name":"Sohaibs Amir"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662453294,"creation_date":1662405951,"question_id":73613909,"body_markdown":"I am working on an expense tracker app. When I click on item in recycleview, it takes me to another activity where I have two buttons : update and delete. The issue is I don&#39;t get the idea how to delete item from recycleview, which is in another activity, when delete button in that activity is pressed. Actually, I also searched and looked up other similar questions and answers on stack overflow however that didn&#39;t help me. If someone can help me on this, I will appreciate it greatly.\r\n\r\nThis is my code where I am passing the position of my item : \r\n\r\n    final int pos = holder.getAdapterPosition();\r\n            holder.date.setText(MyModel.getDate());\r\n            holder.note.setText(MyModel.getNote());\r\n            holder.Btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent i = new Intent(context,Update_transaction.class);\r\n                    i.putExtra(&quot;key&quot;,myViewsList.get(pos).getId());\r\n                    i.putExtra(&quot;pos&quot;,holder.getAdapterPosition());\r\n                    context.startActivity(i);\r\n    \r\n                }\r\n            });\r\n\r\nThis is the code where I am retrieving the data in another activity :\r\n\r\n    Bundle bundle = getIntent().getExtras();\r\n            Update_db = new DataSaver(this);\r\n            if(bundle != null)\r\n            {\r\n                id = bundle.getString(&quot;key&quot;);\r\n                pos = bundle.getString(&quot;pos&quot;);\r\n                Toast.makeText(this, &quot;pos : &quot; + pos, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n","title":"how to delete an item in recycleview from another activity?","body":"<p>I am working on an expense tracker app. When I click on item in recycleview, it takes me to another activity where I have two buttons : update and delete. The issue is I don't get the idea how to delete item from recycleview, which is in another activity, when delete button in that activity is pressed. Actually, I also searched and looked up other similar questions and answers on stack overflow however that didn't help me. If someone can help me on this, I will appreciate it greatly.</p>\n<p>This is my code where I am passing the position of my item :</p>\n<pre><code>final int pos = holder.getAdapterPosition();\n        holder.date.setText(MyModel.getDate());\n        holder.note.setText(MyModel.getNote());\n        holder.Btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent i = new Intent(context,Update_transaction.class);\n                i.putExtra(&quot;key&quot;,myViewsList.get(pos).getId());\n                i.putExtra(&quot;pos&quot;,holder.getAdapterPosition());\n                context.startActivity(i);\n\n            }\n        });\n</code></pre>\n<p>This is the code where I am retrieving the data in another activity :</p>\n<pre><code>Bundle bundle = getIntent().getExtras();\n        Update_db = new DataSaver(this);\n        if(bundle != null)\n        {\n            id = bundle.getString(&quot;key&quot;);\n            pos = bundle.getString(&quot;pos&quot;);\n            Toast.makeText(this, &quot;pos : &quot; + pos, Toast.LENGTH_SHORT).show();\n        }\n</code></pre>\n"},{"tags":["java","android","flutter","firebase","push-notification"],"answers":[{"tags":[],"owner":{"account_id":19083612,"reputation":521,"user_id":13935335,"display_name":"Muhammad Ibrahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662453276,"creation_date":1662453276,"answer_id":73619028,"question_id":73600847,"body_markdown":"&gt;FirebaseInstanceId is deprecated but now you can use FirebaseMessaging.getInstance().token\r\n\r\ne.g.\r\n\r\n    FirebaseMessaging.getInstance().token.addOnSuccessListener { result -&gt;\r\n            if(result != null){\r\n                firebaseToken = result\r\n                // do what ever you want to do with Firebase token\r\n            }\r\n    }","title":"Need assistance with my deprecated FirebaseInstanceId code","body":"<blockquote>\n<p>FirebaseInstanceId is deprecated but now you can use FirebaseMessaging.getInstance().token</p>\n</blockquote>\n<p>e.g.</p>\n<pre><code>FirebaseMessaging.getInstance().token.addOnSuccessListener { result -&gt;\n        if(result != null){\n            firebaseToken = result\n            // do what ever you want to do with Firebase token\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":26054611,"reputation":335,"user_id":19757192,"display_name":"Praveesh Ramroop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1662453276,"creation_date":1662307311,"question_id":73600847,"body_markdown":"The FirebaseInstanceId is deprecated and need to fix the code. Here below I&#39;ll post the errors and the code after that. Thanks in advance for any help.\r\n\r\n     Metadata.getDefaultSenderId(FirebaseApp.getInstance());\r\n     ^\r\n\r\n     FirebaseInstanceId.getInstance().deleteToken(senderId, &quot;*&quot;);\r\n     ^\r\n\r\n    Metadata.getDefaultSenderId(FirebaseApp.getInstance());\r\n    ^\r\n\r\n    String token = FirebaseInstanceId.getInstance().getToken(senderId, &quot;*&quot;);\r\n                   ^\r\n\r\nHere below you&#39;ll see the code:\r\n\r\n     private Task&lt;Void&gt; deleteToken(Map&lt;String, Object&gt; arguments) {\r\n    return Tasks.call(\r\n        cachedThreadPool,\r\n        () -&gt; {\r\n          String senderId =\r\n              arguments.get(&quot;senderId&quot;) != null\r\n                  ? (String) arguments.get(&quot;senderId&quot;)\r\n                  : Metadata.getDefaultSenderId(FirebaseApp.getInstance());\r\n          FirebaseInstanceId.getInstance().deleteToken(senderId, &quot;*&quot;);\r\n          return null;\r\n        });\r\n  \r\n\r\n    }\r\n\r\n\r\n    private Task&lt;Map&lt;String, Object&gt;&gt; getToken(Map&lt;String, Object&gt; arguments) {\r\n    return Tasks.call(\r\n        cachedThreadPool,\r\n        () -&gt; {\r\n          String senderId =\r\n              arguments.get(&quot;senderId&quot;) != null\r\n                  ? (String) arguments.get(&quot;senderId&quot;)\r\n                  : Metadata.getDefaultSenderId(FirebaseApp.getInstance());\r\n          String token = FirebaseInstanceId.getInstance().getToken(senderId, &quot;*&quot;);\r\n          return new HashMap&lt;String, Object&gt;() {\r\n            {\r\n              put(&quot;token&quot;, token);\r\n            }\r\n          };\r\n        });\r\n  \r\n\r\n    }","title":"Need assistance with my deprecated FirebaseInstanceId code","body":"<p>The FirebaseInstanceId is deprecated and need to fix the code. Here below I'll post the errors and the code after that. Thanks in advance for any help.</p>\n<pre><code> Metadata.getDefaultSenderId(FirebaseApp.getInstance());\n ^\n\n FirebaseInstanceId.getInstance().deleteToken(senderId, &quot;*&quot;);\n ^\n\nMetadata.getDefaultSenderId(FirebaseApp.getInstance());\n^\n\nString token = FirebaseInstanceId.getInstance().getToken(senderId, &quot;*&quot;);\n               ^\n</code></pre>\n<p>Here below you'll see the code:</p>\n<pre><code> private Task&lt;Void&gt; deleteToken(Map&lt;String, Object&gt; arguments) {\nreturn Tasks.call(\n    cachedThreadPool,\n    () -&gt; {\n      String senderId =\n          arguments.get(&quot;senderId&quot;) != null\n              ? (String) arguments.get(&quot;senderId&quot;)\n              : Metadata.getDefaultSenderId(FirebaseApp.getInstance());\n      FirebaseInstanceId.getInstance().deleteToken(senderId, &quot;*&quot;);\n      return null;\n    });\n\n\n}\n\n\nprivate Task&lt;Map&lt;String, Object&gt;&gt; getToken(Map&lt;String, Object&gt; arguments) {\nreturn Tasks.call(\n    cachedThreadPool,\n    () -&gt; {\n      String senderId =\n          arguments.get(&quot;senderId&quot;) != null\n              ? (String) arguments.get(&quot;senderId&quot;)\n              : Metadata.getDefaultSenderId(FirebaseApp.getInstance());\n      String token = FirebaseInstanceId.getInstance().getToken(senderId, &quot;*&quot;);\n      return new HashMap&lt;String, Object&gt;() {\n        {\n          put(&quot;token&quot;, token);\n        }\n      };\n    });\n\n\n}\n</code></pre>\n"},{"tags":["java","performance-testing"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1662453749,"post_id":73619012,"comment_id":130002859,"body_markdown":"If the user&#39;s browser can decompress (request header) you can send compressed content which is/should be faster. However the compression costs too. Static content could be kept compressed. Also things like JPEG need not be compressed. So do a bit of network traffic analysis.","body":"If the user&#39;s browser can decompress (request header) you can send compressed content which is/should be faster. However the compression costs too. Static content could be kept compressed. Also things like JPEG need not be compressed. So do a bit of network traffic analysis."},{"owner":{"account_id":26060123,"reputation":11,"user_id":19761619,"display_name":"Raz Raz"},"score":0,"creation_date":1663070724,"post_id":73619012,"comment_id":130148210,"body_markdown":"Thank you for that information @JoopEggen . Can u  show more details the method of compress the header or for content body?","body":"Thank you for that information @JoopEggen . Can u  show more details the method of compress the header or for content body?"}],"owner":{"account_id":26060123,"reputation":11,"user_id":19761619,"display_name":"Raz Raz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662453218,"creation_date":1662453218,"question_id":73619012,"body_markdown":"Currently I&#39;m working on API for Performance test,and getting the response time slow as trace with Dynatrace showing that slowness on doFilter &gt;&gt; BaseFilter&gt;&gt;Inflater.inflateBytesBytes. Currently we using spring version 2.6.6.\r\n\r\nAny solution can i made to enhancement for improve the performance of my API. One more question did i can edit the Springboot java class code?\r\n","title":"I&#39;m getting performance slow for DoFilter Class AT Springboot version 2.6.6, any solution to improve?","body":"<p>Currently I'm working on API for Performance test,and getting the response time slow as trace with Dynatrace showing that slowness on doFilter &gt;&gt; BaseFilter&gt;&gt;Inflater.inflateBytesBytes. Currently we using spring version 2.6.6.</p>\n<p>Any solution can i made to enhancement for improve the performance of my API. One more question did i can edit the Springboot java class code?</p>\n"},{"tags":["java","selenium-webdriver","gitlab","gitlab-ci","pipeline"],"comments":[{"owner":{"account_id":1916259,"reputation":4166,"user_id":1728790,"accept_rate":67,"display_name":"demouser123"},"score":0,"creation_date":1588764715,"post_id":61633574,"comment_id":109022509,"body_markdown":"What is the error?","body":"What is the error?"},{"owner":{"account_id":7065506,"reputation":454,"user_id":5408955,"display_name":"Deepak_Mahalingam"},"score":0,"creation_date":1588765805,"post_id":61633574,"comment_id":109023103,"body_markdown":"there is no error, it needs to save the changes but it is not doing so","body":"there is no error, it needs to save the changes but it is not doing so"},{"owner":{"account_id":1916259,"reputation":4166,"user_id":1728790,"accept_rate":67,"display_name":"demouser123"},"score":0,"creation_date":1588770307,"post_id":61633574,"comment_id":109025925,"body_markdown":"Are you getting the correct path on the gitlab ci and also do you correct permissions to edit the file ?","body":"Are you getting the correct path on the gitlab ci and also do you correct permissions to edit the file ?"},{"owner":{"account_id":7065506,"reputation":454,"user_id":5408955,"display_name":"Deepak_Mahalingam"},"score":0,"creation_date":1588822129,"post_id":61633574,"comment_id":109049642,"body_markdown":"Actually path looks like /builds/XXXXXXXX/projectNmae/src/test/resources/ Excel/XXXXX.xlsx","body":"Actually path looks like /builds/XXXXXXXX/projectNmae/src/test/resources/ Excel/XXXXX.xlsx"}],"owner":{"account_id":7065506,"reputation":454,"user_id":5408955,"display_name":"Deepak_Mahalingam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662453173,"creation_date":1588763096,"question_id":61633574,"body_markdown":"I&#39;m executing my test scripts in gitlab pipeline. In one of scenario I will be reading the data from excel (I use apache POI to achieve it) and use it in test case. Then I&#39;m trying to update the same excel sheet with custom value during run time and trying save the excel file (excel file is saved in gitlab repository). I cannot save the excel sheet during execution from git.\r\n\r\nSame code works from local system.\r\n\r\nCan anybody help me how to save the file in gitlab repo while execution in pipeline\r\n\r\nThanks in Advance","title":"How to save or update the excel file in Gitlab repository during the pipeline execution","body":"<p>I'm executing my test scripts in gitlab pipeline. In one of scenario I will be reading the data from excel (I use apache POI to achieve it) and use it in test case. Then I'm trying to update the same excel sheet with custom value during run time and trying save the excel file (excel file is saved in gitlab repository). I cannot save the excel sheet during execution from git.</p>\n\n<p>Same code works from local system.</p>\n\n<p>Can anybody help me how to save the file in gitlab repo while execution in pipeline</p>\n\n<p>Thanks in Advance</p>\n"},{"tags":["java","jsp","intellij-idea","unicode","encoding"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662451685,"post_id":73618682,"comment_id":130002178,"body_markdown":"Check the encoding of your files or the defaults of your project. Use UTF-8 if possible.","body":"Check the encoding of your files or the defaults of your project. Use UTF-8 if possible."},{"owner":{"account_id":26257772,"reputation":11,"user_id":19929579,"display_name":"Levent Kaya"},"score":0,"creation_date":1662451871,"post_id":73618682,"comment_id":130002225,"body_markdown":"the encoding is UTF-8 for the spesific fiel but the characters are still unreadable","body":"the encoding is UTF-8 for the spesific fiel but the characters are still unreadable"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1662452116,"post_id":73618682,"comment_id":130002311,"body_markdown":"Then it&#39;s the font used in intellij that do&#39;t have those characters. choose another font.","body":"Then it&#39;s the font used in intellij that do&#39;t have those characters. choose another font."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1662452283,"post_id":73618682,"comment_id":130002359,"body_markdown":"`\\u0131` is the unicode representation of `ı` it seems. IDEs tend to stick to ascii only to provide compatibility. You probably can change that somewhere in the settings but since I&#39;m not an IntelliJ user I can&#39;t tell you where.","body":"<code>\\u0131</code> is the unicode representation of <code>ı</code> it seems. IDEs tend to stick to ascii only to provide compatibility. You probably can change that somewhere in the settings but since I&#39;m not an IntelliJ user I can&#39;t tell you where."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1662453740,"post_id":73618682,"comment_id":130002856,"body_markdown":"@JustanotherJavaprogrammer: no, missing glyphs would be represented by a rectangular character (usually empty, sometimes with the Unicode codepoint inside it). This is not a font problem.","body":"@JustanotherJavaprogrammer: no, missing glyphs would be represented by a rectangular character (usually empty, sometimes with the Unicode codepoint inside it). This is not a font problem."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662459446,"post_id":73618682,"comment_id":130004917,"body_markdown":"It will help in future to give the output of ```System.out.println(System.getProperty(&quot;file.encoding&quot;));``` . Are you using WIndows?","body":"It will help in future to give the output of <code>System.out.println(System.getProperty(&quot;file.encoding&quot;));</code> . Are you using WIndows?"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1662985893,"post_id":73618682,"comment_id":130125610,"body_markdown":"Try adding `-Dfile.encoding=UTF-8` under `Help | Edit Custom VM Options` and restart the IDE.","body":"Try adding <code>-Dfile.encoding=UTF-8</code> under <code>Help | Edit Custom VM Options</code> and restart the IDE."}],"answers":[{"tags":[],"owner":{"account_id":12991330,"reputation":94,"user_id":9390458,"display_name":"&#199;iğdem Erşep&#231;iler"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662452141,"creation_date":1662452141,"answer_id":73618790,"question_id":73618682,"body_markdown":"Do not use Turkish characters, instead use their unicode representatives.For example for &quot;ı&quot; use &quot;\\u+0131&quot;","title":"IntelliJ IDEA Non-English Character Problem on Files","body":"<p>Do not use Turkish characters, instead use their unicode representatives.For example for &quot;ı&quot; use &quot;\\u+0131&quot;</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662452952,"creation_date":1662452952,"answer_id":73618957,"question_id":73618682,"body_markdown":"It is a decision, but best do all in UTF-8. Sources, JSP sources, properties and so on.\r\nEnsure that the compilers, javac, jspc also use UTF-8. This will allow special Unicode characters like bullets, emoji and many more.\r\n\r\nYou could still deliver a Turkish page in a Turkish encoding like ISO-8859-3. But UTF-8 would do too.\r\n\r\n`\\u0131` (dotless i, `ı`) is an encoding to ASCII. You can use this to test that the encodings are correct.\r\n\r\nIn IntelliJ set all the encoding in the preferences and the project. If you have an infrastructure like maven or gradle, set it there. For the compiler.\r\n\r\nPossibly check with a programmer&#39;s editor like NotePad++ that the encoding is correct.\r\n\r\nAnd last but not least check the database, tables/columns stored as UTF-8.\r\n\r\nUser form entry should also accept UTF-8, so the data does not go encoded as numeric entities to the server (=more efficient).\r\n\r\n","title":"IntelliJ IDEA Non-English Character Problem on Files","body":"<p>It is a decision, but best do all in UTF-8. Sources, JSP sources, properties and so on.\nEnsure that the compilers, javac, jspc also use UTF-8. This will allow special Unicode characters like bullets, emoji and many more.</p>\n<p>You could still deliver a Turkish page in a Turkish encoding like ISO-8859-3. But UTF-8 would do too.</p>\n<p><code>\\u0131</code> (dotless i, <code>ı</code>) is an encoding to ASCII. You can use this to test that the encodings are correct.</p>\n<p>In IntelliJ set all the encoding in the preferences and the project. If you have an infrastructure like maven or gradle, set it there. For the compiler.</p>\n<p>Possibly check with a programmer's editor like NotePad++ that the encoding is correct.</p>\n<p>And last but not least check the database, tables/columns stored as UTF-8.</p>\n<p>User form entry should also accept UTF-8, so the data does not go encoded as numeric entities to the server (=more efficient).</p>\n"}],"owner":{"account_id":26257772,"reputation":11,"user_id":19929579,"display_name":"Levent Kaya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662452952,"creation_date":1662451466,"question_id":73618682,"body_markdown":"I am woking on a spring project, the used language on this projects is Turkish but my systems layout and my keyboard is English. When I try to open project with Intelij IDEA, some characters are not seen, here is the example: \r\n\r\n    Kullan\\u0131m Detaylar\\u0131\r\nThis is what I see on the Intellij IDEA, but istead It should be like this:\r\n\r\n    Kullanım Detayları\r\n\r\nThis is just only one example some JSP files can be even worser,\r\nOne of my jsp file looks like this:\r\n\r\n    &lt;span&gt;Ar&#253;za &#221;&#254;lemleri&lt;/span&gt;\r\n\r\nBut it should be look like this:\r\n\r\n    &lt;span&gt;Arıza İşlemleri&lt;/span&gt;\r\n\r\nThis is also effects my WEB output, I tried to change some of the ide properties but nothing really changed.  ","title":"IntelliJ IDEA Non-English Character Problem on Files","body":"<p>I am woking on a spring project, the used language on this projects is Turkish but my systems layout and my keyboard is English. When I try to open project with Intelij IDEA, some characters are not seen, here is the example:</p>\n<pre><code>Kullan\\u0131m Detaylar\\u0131\n</code></pre>\n<p>This is what I see on the Intellij IDEA, but istead It should be like this:</p>\n<pre><code>Kullanım Detayları\n</code></pre>\n<p>This is just only one example some JSP files can be even worser,\nOne of my jsp file looks like this:</p>\n<pre><code>&lt;span&gt;Arýza Ýþlemleri&lt;/span&gt;\n</code></pre>\n<p>But it should be look like this:</p>\n<pre><code>&lt;span&gt;Arıza İşlemleri&lt;/span&gt;\n</code></pre>\n<p>This is also effects my WEB output, I tried to change some of the ide properties but nothing really changed.</p>\n"},{"tags":["java","ssl","curl","ssl-certificate","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":20099597,"reputation":446,"user_id":14738350,"display_name":"devblack.exe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662375434,"creation_date":1662374967,"answer_id":73608182,"question_id":73607851,"body_markdown":"From the details you provided, I understand that the `SslContextBuilder` can&#39;t understand your key type. \r\n\r\nTry to convert a non-encrypted key to PKCS8 using the following command.\r\n\r\n```bash\r\nopenssl pkcs8 -topk8 -nocrypt -in pkcs1_key_file -out pkcs8_key.pem\r\n````\r\n\r\nAlso, see the examples at https://netty.io/4.0/api/io/netty/handler/ssl/util/InsecureTrustManagerFactory.html that accepts without verification all X.509 certificates, including those that are self-signed. \r\n\r\nAlso discussed at https://groups.google.com/forum/#!topic/grpc-io/5uAK5c9rTHw","title":"How to configure Web client for Https request","body":"<p>From the details you provided, I understand that the <code>SslContextBuilder</code> can't understand your key type.</p>\n<p>Try to convert a non-encrypted key to PKCS8 using the following command.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>openssl pkcs8 -topk8 -nocrypt -in pkcs1_key_file -out pkcs8_key.pem\n</code></pre>\n<p>Also, see the examples at <a href=\"https://netty.io/4.0/api/io/netty/handler/ssl/util/InsecureTrustManagerFactory.html\" rel=\"nofollow noreferrer\">https://netty.io/4.0/api/io/netty/handler/ssl/util/InsecureTrustManagerFactory.html</a> that accepts without verification all X.509 certificates, including those that are self-signed.</p>\n<p>Also discussed at <a href=\"https://groups.google.com/forum/#!topic/grpc-io/5uAK5c9rTHw\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/grpc-io/5uAK5c9rTHw</a></p>\n"},{"tags":[],"owner":{"account_id":3867735,"reputation":186,"user_id":3894411,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662452921,"creation_date":1662382610,"answer_id":73609754,"question_id":73607851,"body_markdown":"This is how I solved the problem:\r\n1) Verify that `.cert` and `.key` files are valid:\r\n```\r\nopenssl x509 -noout -modulus -in certFile.crt | openssl md5\r\n#&gt; (stdin)= 7f1a9c4d13aead7fd4a0f241a6ce8\r\n```\r\nand \r\n```\r\nopenssl rsa -noout -modulus -in certKey.key | openssl md5\r\n#&gt; (stdin)= 7f1a9c4d13aead7fd4a0f241a6ce8\r\n```\r\n\r\n2) Convert my `.cert` and `.key` files into a `PCKS12` that Java can understand. (Keep in mind that my cert and key files are in PEM format as explained in the question). I used the following command:\r\n```\r\nopenssl pkcs12 -export -in certFile.crt -inkey keyFile.key -out cert.p12\r\n```\r\nThis step will prompt you to enter a password. We will use this password when reading the certificate into a KeyStore.\r\n\r\n3) Create an SSLContext by reading the certificate:\r\n```\r\nprivate SslContext getSSLContext() {\r\n  try (FileInputStream keyStoreFileInputStream = new \r\n    FileInputStream(&quot;pathTop12CertificateFile&quot;)) {\r\n      KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n      keyStore.load(keyStoreFileInputStream,&quot;password&quot;.toCharArray());\r\n      KeyManagerFactory keyManagerFactory = \r\n              KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n      keyManagerFactory.init(keyStore, &quot;password&quot;.toCharArray());\r\n\r\n      return SslContextBuilder.forClient()\r\n              .keyManager(keyManagerFactory)\r\n              .build();\r\n\r\n  } catch (Exception e) {\r\n      log.error(&quot;An error has occurred: &quot;, e);\r\n  }\r\n  return null;\r\n}\r\n```\r\n4) Build a Spring WebClient using this SSLContext:\r\n```\r\nprivate WebClient getWebClient() {\r\n    HttpClient httpClient = HttpClient.create().secure(sslSpec -&gt; sslSpec.sslContext(getSSLContext()));\r\n    ClientHttpConnector clientHttpConnector = new ReactorClientHttpConnector(httpClient);\r\n    return WebClient\r\n            .builder()\r\n            .clientConnector(clientHttpConnector)\r\n            .build();\r\n\r\n}\r\n```\r\n\r\nNow we can use WebClient to make our HTTP Requests.","title":"How to configure Web client for Https request","body":"<p>This is how I solved the problem:</p>\n<ol>\n<li>Verify that <code>.cert</code> and <code>.key</code> files are valid:</li>\n</ol>\n<pre><code>openssl x509 -noout -modulus -in certFile.crt | openssl md5\n#&gt; (stdin)= 7f1a9c4d13aead7fd4a0f241a6ce8\n</code></pre>\n<p>and</p>\n<pre><code>openssl rsa -noout -modulus -in certKey.key | openssl md5\n#&gt; (stdin)= 7f1a9c4d13aead7fd4a0f241a6ce8\n</code></pre>\n<ol start=\"2\">\n<li>Convert my <code>.cert</code> and <code>.key</code> files into a <code>PCKS12</code> that Java can understand. (Keep in mind that my cert and key files are in PEM format as explained in the question). I used the following command:</li>\n</ol>\n<pre><code>openssl pkcs12 -export -in certFile.crt -inkey keyFile.key -out cert.p12\n</code></pre>\n<p>This step will prompt you to enter a password. We will use this password when reading the certificate into a KeyStore.</p>\n<ol start=\"3\">\n<li>Create an SSLContext by reading the certificate:</li>\n</ol>\n<pre><code>private SslContext getSSLContext() {\n  try (FileInputStream keyStoreFileInputStream = new \n    FileInputStream(&quot;pathTop12CertificateFile&quot;)) {\n      KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n      keyStore.load(keyStoreFileInputStream,&quot;password&quot;.toCharArray());\n      KeyManagerFactory keyManagerFactory = \n              KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n      keyManagerFactory.init(keyStore, &quot;password&quot;.toCharArray());\n\n      return SslContextBuilder.forClient()\n              .keyManager(keyManagerFactory)\n              .build();\n\n  } catch (Exception e) {\n      log.error(&quot;An error has occurred: &quot;, e);\n  }\n  return null;\n}\n</code></pre>\n<ol start=\"4\">\n<li>Build a Spring WebClient using this SSLContext:</li>\n</ol>\n<pre><code>private WebClient getWebClient() {\n    HttpClient httpClient = HttpClient.create().secure(sslSpec -&gt; sslSpec.sslContext(getSSLContext()));\n    ClientHttpConnector clientHttpConnector = new ReactorClientHttpConnector(httpClient);\n    return WebClient\n            .builder()\n            .clientConnector(clientHttpConnector)\n            .build();\n\n}\n</code></pre>\n<p>Now we can use WebClient to make our HTTP Requests.</p>\n"}],"owner":{"account_id":3867735,"reputation":186,"user_id":3894411,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2742,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73609754,"answer_count":2,"score":2,"last_activity_date":1662452921,"creation_date":1662373228,"question_id":73607851,"body_markdown":"I am trying to understand how to configure the Web client. What I have is a working curl that I am not able to convert into a valid HTTPS request through (any) Java HTTP client.\r\nThe curl is:\r\n```\r\ncurl -s --cert $CERTIFICATE --key $KEY https.url\r\n```\r\nwhere $CERTIFICATE is a `.crt` file containing:\r\n```\r\n----BEGIN CERTIFICATE----\r\n....\r\n----END CERTIFICATE-----\r\n```\r\nAnd the $KEY is a `.key` file containing:\r\n```\r\n-----BEGIN RSA PRIVATE KEY-----\r\n...\r\n-----END RSA PRIVATE KEY-----\r\n```\r\n\r\n\r\nI want to convert this curl into a valid JAVA request. Currently, I am configuring a Spring WebClient in this way:\r\n```\r\nprivate WebClient getWebClient() throws SSLException {\r\n  SslContext sslContext = SslContextBuilder.forClient().keyManager(\r\n                Paths.get(properties.getCrtFile()).toFile(),\r\n                Paths.get(properties.getKeyFile()).toFile(),\r\n                properties.getCertKeyPassword()).build();\r\n\r\n  HttpClient httpClient = HttpClient.create().secure(t -&gt; t.sslContext(sslContext));\r\n\r\n  return WebClient\r\n                .builder()\r\n                .clientConnector(new ReactorClientHttpConnector(httpClient)).build();\r\n\r\n}\r\n```\r\nBut when I use the webclient to make a request it returns an error:\r\n```\r\nexception: File does not contain valid private key: \r\n```\r\n\r\nAny idea where is the error?","title":"How to configure Web client for Https request","body":"<p>I am trying to understand how to configure the Web client. What I have is a working curl that I am not able to convert into a valid HTTPS request through (any) Java HTTP client.\nThe curl is:</p>\n<pre><code>curl -s --cert $CERTIFICATE --key $KEY https.url\n</code></pre>\n<p>where $CERTIFICATE is a <code>.crt</code> file containing:</p>\n<pre><code>----BEGIN CERTIFICATE----\n....\n----END CERTIFICATE-----\n</code></pre>\n<p>And the $KEY is a <code>.key</code> file containing:</p>\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>I want to convert this curl into a valid JAVA request. Currently, I am configuring a Spring WebClient in this way:</p>\n<pre><code>private WebClient getWebClient() throws SSLException {\n  SslContext sslContext = SslContextBuilder.forClient().keyManager(\n                Paths.get(properties.getCrtFile()).toFile(),\n                Paths.get(properties.getKeyFile()).toFile(),\n                properties.getCertKeyPassword()).build();\n\n  HttpClient httpClient = HttpClient.create().secure(t -&gt; t.sslContext(sslContext));\n\n  return WebClient\n                .builder()\n                .clientConnector(new ReactorClientHttpConnector(httpClient)).build();\n\n}\n</code></pre>\n<p>But when I use the webclient to make a request it returns an error:</p>\n<pre><code>exception: File does not contain valid private key: \n</code></pre>\n<p>Any idea where is the error?</p>\n"},{"tags":["java","spring","urlencode","http-request-parameters"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":1,"creation_date":1662196047,"post_id":73590468,"comment_id":129953695,"body_markdown":"How do you call that other service, which you want to pass query param? Can you post that code?","body":"How do you call that other service, which you want to pass query param? Can you post that code?"},{"owner":{"account_id":503016,"reputation":111,"user_id":1049141,"accept_rate":50,"display_name":"user82504"},"score":0,"creation_date":1662359081,"post_id":73590468,"comment_id":129978923,"body_markdown":"I have updated the question with the code that how I am calling the other service.","body":"I have updated the question with the code that how I am calling the other service."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1662360171,"post_id":73590468,"comment_id":129979244,"body_markdown":"`URLEncoder.encode(URLEncoder.encode(searchQuery, &quot;UTF-8&quot;), &quot;UTF_8&quot;)` - a hack, as the second encode should have been done at forwarding. Also bypassing the HTTP REST protocol is often done.","body":"<code>URLEncoder.encode(URLEncoder.encode(searchQuery, &quot;UTF-8&quot;), &quot;UTF_8&quot;)</code> - a hack, as the second encode should have been done at forwarding. Also bypassing the HTTP REST protocol is often done."},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1662365221,"post_id":73590468,"comment_id":129980798,"body_markdown":"What type is the rootWebTarget object? With resttemplate this should work without issues.","body":"What type is the rootWebTarget object? With resttemplate this should work without issues."},{"owner":{"account_id":503016,"reputation":111,"user_id":1049141,"accept_rate":50,"display_name":"user82504"},"score":0,"creation_date":1662372590,"post_id":73590468,"comment_id":129983249,"body_markdown":"WebTarget rootWebTarget ... rootWebTarget represents javax.ws.rs.client.WebTarget.","body":"WebTarget rootWebTarget ... rootWebTarget represents javax.ws.rs.client.WebTarget."}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662388894,"creation_date":1662388313,"answer_id":73610976,"question_id":73590468,"body_markdown":"Send the query parameter using the `queryParam` method.\r\n\r\nIf you submit your request using the code below, that should pass without issues.\r\n\r\n      Client client = ClientBuilder.newClient();\r\n            WebTarget rootWebTarget = client.target(&quot;localhost:port/api/version&quot;);\r\n            rootWebTarget\r\n                    .queryParam(&quot;address&quot;, &quot;%253ST%25&quot;) \r\n                    .path(&quot;/search&quot;) \r\n                    .request(MediaType.APPLICATION_JSON_TYPE)\r\n                    .get();\r\n\r\nYour request will look like this `localhost:port/api/version/search?address=%253ST%25`","title":"How to encode &#39;%&#39; in request param","body":"<p>Send the query parameter using the <code>queryParam</code> method.</p>\n<p>If you submit your request using the code below, that should pass without issues.</p>\n<pre><code>  Client client = ClientBuilder.newClient();\n        WebTarget rootWebTarget = client.target(&quot;localhost:port/api/version&quot;);\n        rootWebTarget\n                .queryParam(&quot;address&quot;, &quot;%253ST%25&quot;) \n                .path(&quot;/search&quot;) \n                .request(MediaType.APPLICATION_JSON_TYPE)\n                .get();\n</code></pre>\n<p>Your request will look like this <code>localhost:port/api/version/search?address=%253ST%25</code></p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662391122,"creation_date":1662391122,"answer_id":73611555,"question_id":73590468,"body_markdown":"I used\r\n\r\n    String encodedSuffix = URLEncoder.encode(suffix, StandardCharsets.UTF_8.displayName());\r\n\r\nAnd for suffix value `%3 ST%` I got the result `%253+ST%25` and when I send this as a url parameter I saw in debug in my rest controller it was successfully decoded as `%3 ST%`. So `UrlEncoder` works as expected","title":"How to encode &#39;%&#39; in request param","body":"<p>I used</p>\n<pre><code>String encodedSuffix = URLEncoder.encode(suffix, StandardCharsets.UTF_8.displayName());\n</code></pre>\n<p>And for suffix value <code>%3 ST%</code> I got the result <code>%253+ST%25</code> and when I send this as a url parameter I saw in debug in my rest controller it was successfully decoded as <code>%3 ST%</code>. So <code>UrlEncoder</code> works as expected</p>\n"},{"tags":[],"owner":{"account_id":503016,"reputation":111,"user_id":1049141,"accept_rate":50,"display_name":"user82504"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662452341,"creation_date":1662452341,"answer_id":73618842,"question_id":73590468,"body_markdown":"I am able to resolve the issue with the following changes. I am not sure if it&#39;s a hack or something but it&#39;s resolved.\r\n\r\n```\r\n            String searchQuery = &quot;%25&quot; + searchAddress + &quot;%25&quot;;\r\n            String uri = MessageFormat.format(GET_SERVICE_ADDRESSES, URLEncoder.encode(searchQuery, &quot;UTF-8&quot;));\r\n            Response response = rootWebTarget.path(uri).request(MediaType.APPLICATION_JSON_TYPE).header(HEADER, AUTH_HEADER_VALUE).get();\r\n```","title":"How to encode &#39;%&#39; in request param","body":"<p>I am able to resolve the issue with the following changes. I am not sure if it's a hack or something but it's resolved.</p>\n<pre><code>            String searchQuery = &quot;%25&quot; + searchAddress + &quot;%25&quot;;\n            String uri = MessageFormat.format(GET_SERVICE_ADDRESSES, URLEncoder.encode(searchQuery, &quot;UTF-8&quot;));\n            Response response = rootWebTarget.path(uri).request(MediaType.APPLICATION_JSON_TYPE).header(HEADER, AUTH_HEADER_VALUE).get();\n</code></pre>\n"}],"owner":{"account_id":503016,"reputation":111,"user_id":1049141,"accept_rate":50,"display_name":"user82504"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73610976,"answer_count":3,"score":0,"last_activity_date":1662452341,"creation_date":1662190554,"question_id":73590468,"body_markdown":"I want to pass request parameter in spring API as \r\n```\r\n%3 ST%\r\n```\r\nI send this request via postman like\r\n```\r\n%253 ST%\r\n```\r\nThis works as expected. The problem is that I need to pass this from one microservice to another via REST API. Both applications are built on Spring framework. When I construct this url as string as\r\n```\r\nlocalhost:port/api/version/search?address=%253ST%25\r\n```\r\nThe other microservice endpoint couldn&#39;t decode and throws exception\r\n\r\n```\r\njava.lang.IllegalArgumentException: URLDecoder: Illegal hex characters in escape (%) pattern - For input string: &quot;3 &quot;\r\n\tat java.net.URLDecoder.decode(URLDecoder.java:194)\r\n\tat io.undertow.util.QueryParameterUtils.decodeParam(QueryParameterUtils.java:134)\r\n\tat io.undertow.util.QueryParameterUtils.handleQueryParameter(QueryParameterUtils.java:118)\r\n\tat io.undertow.util.QueryParameterUtils.parseQueryString(QueryParameterUtils.java:106)\r\n\tat io.undertow.util.QueryParameterUtils.mergeQueryParametersWithNewQueryString(QueryParameterUtils.java:151)\r\n\tat io.undertow.servlet.spec.RequestDispatcherImpl.forwardImpl(RequestDispatcherImpl.java:205)\r\n\tat io.undertow.servlet.spec.RequestDispatcherImpl.forwardImplSetup(RequestDispatcherImpl.java:150)\r\n\tat io.undertow.servlet.spec.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:112)\r\n\tat org.tuckey.web.filters.urlrewrite.NormalRewrittenUrl.doRewrite(NormalRewrittenUrl.java:213)\r\n\tat org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:171)\r\n\tat org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\r\n\tat org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\r\n\tat org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\r\n```\r\n\r\nI am calling the service as\r\n\r\n```\r\nString searchQuery = &quot;%&quot; + searchAddress + &quot;%&quot;;\r\n\t\t\tString uri = MessageFormat.format(GET_SERVICE_ADDRESSES, URLEncoder.encode(searchQuery, &quot;UTF-8&quot;));\r\n            Response response = rootWebTarget.path(uri).request(MediaType.APPLICATION_JSON_TYPE).header(&quot;Authorization&quot;, &quot;AUTH_TOKEN&quot;).get();\r\n```\r\n\r\nI also tried to use URLEncoder to encode and then send this to API. When I encode that search string it looks like \r\n\r\n```\r\n%253+ST%25\r\nor\r\n%253%20ST%25\r\n```\r\nBoth of these encode don&#39;t work.\r\n\r\nPlease help.","title":"How to encode &#39;%&#39; in request param","body":"<p>I want to pass request parameter in spring API as</p>\n<pre><code>%3 ST%\n</code></pre>\n<p>I send this request via postman like</p>\n<pre><code>%253 ST%\n</code></pre>\n<p>This works as expected. The problem is that I need to pass this from one microservice to another via REST API. Both applications are built on Spring framework. When I construct this url as string as</p>\n<pre><code>localhost:port/api/version/search?address=%253ST%25\n</code></pre>\n<p>The other microservice endpoint couldn't decode and throws exception</p>\n<pre><code>java.lang.IllegalArgumentException: URLDecoder: Illegal hex characters in escape (%) pattern - For input string: &quot;3 &quot;\n    at java.net.URLDecoder.decode(URLDecoder.java:194)\n    at io.undertow.util.QueryParameterUtils.decodeParam(QueryParameterUtils.java:134)\n    at io.undertow.util.QueryParameterUtils.handleQueryParameter(QueryParameterUtils.java:118)\n    at io.undertow.util.QueryParameterUtils.parseQueryString(QueryParameterUtils.java:106)\n    at io.undertow.util.QueryParameterUtils.mergeQueryParametersWithNewQueryString(QueryParameterUtils.java:151)\n    at io.undertow.servlet.spec.RequestDispatcherImpl.forwardImpl(RequestDispatcherImpl.java:205)\n    at io.undertow.servlet.spec.RequestDispatcherImpl.forwardImplSetup(RequestDispatcherImpl.java:150)\n    at io.undertow.servlet.spec.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:112)\n    at org.tuckey.web.filters.urlrewrite.NormalRewrittenUrl.doRewrite(NormalRewrittenUrl.java:213)\n    at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:171)\n    at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\n    at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\n    at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n\n</code></pre>\n<p>I am calling the service as</p>\n<pre><code>String searchQuery = &quot;%&quot; + searchAddress + &quot;%&quot;;\n            String uri = MessageFormat.format(GET_SERVICE_ADDRESSES, URLEncoder.encode(searchQuery, &quot;UTF-8&quot;));\n            Response response = rootWebTarget.path(uri).request(MediaType.APPLICATION_JSON_TYPE).header(&quot;Authorization&quot;, &quot;AUTH_TOKEN&quot;).get();\n</code></pre>\n<p>I also tried to use URLEncoder to encode and then send this to API. When I encode that search string it looks like</p>\n<pre><code>%253+ST%25\nor\n%253%20ST%25\n</code></pre>\n<p>Both of these encode don't work.</p>\n<p>Please help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1492989,"reputation":15802,"user_id":1399620,"accept_rate":83,"display_name":"Rob"},"score":2,"creation_date":1362746290,"post_id":15294136,"comment_id":21582831,"body_markdown":"Why do you need to add this method in your interface if there is only one class using it?","body":"Why do you need to add this method in your interface if there is only one class using it?"},{"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"score":0,"creation_date":1362746333,"post_id":15294136,"comment_id":21582860,"body_markdown":"At present just one and it has to implement baseInterface + new method.","body":"At present just one and it has to implement baseInterface + new method."},{"owner":{"account_id":313957,"reputation":7003,"user_id":628881,"accept_rate":57,"display_name":"devrobf"},"score":0,"creation_date":1362746388,"post_id":15294136,"comment_id":21582890,"body_markdown":"The question is a bit confusing - are you saying that your `Applauncher` class cannot be changed, and holds a reference to `baseInterface` - but the actual reference being stored is to a `newInterface`?  If so, I think you might be able to handle your problem with casting.  So `newInterface asNew = (newInterface) b`, where `b` is a variable of type `baseInterface` which actually stores a reference to `newInterface`.","body":"The question is a bit confusing - are you saying that your <code>Applauncher</code> class cannot be changed, and holds a reference to <code>baseInterface</code> - but the actual reference being stored is to a <code>newInterface</code>?  If so, I think you might be able to handle your problem with casting.  So <code>newInterface asNew = (newInterface) b</code>, where <code>b</code> is a variable of type <code>baseInterface</code> which actually stores a reference to <code>newInterface</code>."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1362746684,"post_id":15294136,"comment_id":21583050,"body_markdown":"Why don&#39;t you simply add the method you need to the new class without adding it to the interface?","body":"Why don&#39;t you simply add the method you need to the new class without adding it to the interface?"},{"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"score":0,"creation_date":1362746705,"post_id":15294136,"comment_id":21583064,"body_markdown":"Yes Applaunch class is not supposed to be changed. I need to amke a call &quot;newInterface.newMethod()&quot; in AppLauncher but with current implementation i can&#39;t do that. You are doing down casting i.e base class to child class, java should throw exception, isn&#39;t it?","body":"Yes Applaunch class is not supposed to be changed. I need to amke a call &quot;newInterface.newMethod()&quot; in AppLauncher but with current implementation i can&#39;t do that. You are doing down casting i.e base class to child class, java should throw exception, isn&#39;t it?"},{"owner":{"account_id":1492989,"reputation":15802,"user_id":1399620,"accept_rate":83,"display_name":"Rob"},"score":0,"creation_date":1362746796,"post_id":15294136,"comment_id":21583107,"body_markdown":"Supposed you have your `BaseInterface` with a `methodA();` and your `NewInterface extends BaseInterface` with a `methodB();` : this is the method that you want to be used by only one class, let&#39;s say `NewClass`. If there is and will always be only one class that needs this `methodB();`, then just implement it into your class. If you think that for the moment only `NewClass` needs `methodB();` but there will be other classes in the future that will need it too, then just create `NewClass implements NewInterface` and it will implement `methodA();` and `methodB()`.","body":"Supposed you have your <code>BaseInterface</code> with a <code>methodA();</code> and your <code>NewInterface extends BaseInterface</code> with a <code>methodB();</code> : this is the method that you want to be used by only one class, let&#39;s say <code>NewClass</code>. If there is and will always be only one class that needs this <code>methodB();</code>, then just implement it into your class. If you think that for the moment only <code>NewClass</code> needs <code>methodB();</code> but there will be other classes in the future that will need it too, then just create <code>NewClass implements NewInterface</code> and it will implement <code>methodA();</code> and <code>methodB()</code>."},{"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"score":0,"creation_date":1362746800,"post_id":15294136,"comment_id":21583109,"body_markdown":"@assylias: That will be a crude solution which wont be extensible.","body":"@assylias: That will be a crude solution which wont be extensible."}],"answers":[{"tags":[],"owner":{"account_id":335827,"reputation":9535,"user_id":663130,"accept_rate":89,"display_name":"pushy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1362747092,"creation_date":1362746378,"answer_id":15294193,"question_id":15294136,"body_markdown":"Basically at the point where you need to call the new methods in your applauncher, you could do something like this:\r\n\r\n\r\n    if (b instanceof NewInterface) {\r\n      ((NewInterface)b).newMethod();\r\n    }\r\n\r\nWould that be a solution for you?","title":"Adding new method to interface","body":"<p>Basically at the point where you need to call the new methods in your applauncher, you could do something like this:</p>\n\n<pre><code>if (b instanceof NewInterface) {\n  ((NewInterface)b).newMethod();\n}\n</code></pre>\n\n<p>Would that be a solution for you?</p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1362746681,"creation_date":1362746681,"answer_id":15294295,"question_id":15294136,"body_markdown":"Admittedly not yet released, but when Java 8 comes out you&#39;ll have a nice solution to this general issue:\r\n\r\n    public interface MyInterface {\r\n       Calendar myMethod();\r\n       Object myMeth2() default null;\r\n    }\r\n\r\nThe important point there is the `default null` bit - the default keyword has a new usage from 8 onwards which allows you to specify default return values (meaning you don&#39;t need to implement this method in all implementations.)\r\n\r\n","title":"Adding new method to interface","body":"<p>Admittedly not yet released, but when Java 8 comes out you'll have a nice solution to this general issue:</p>\n\n<pre><code>public interface MyInterface {\n   Calendar myMethod();\n   Object myMeth2() default null;\n}\n</code></pre>\n\n<p>The important point there is the <code>default null</code> bit - the default keyword has a new usage from 8 onwards which allows you to specify default return values (meaning you don't need to implement this method in all implementations.)</p>\n"},{"tags":[],"owner":{"account_id":4418840,"reputation":7587,"user_id":3599535,"accept_rate":39,"display_name":"Riyafa Abdul Hameed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662451741,"creation_date":1662451741,"answer_id":73618732,"question_id":15294136,"body_markdown":"Java 8 on wards provides a facility to create default methods inside the interface. Methods which are defined inside the interface and tagged with default are known as default methods. These methods are non-abstract methods. They allow adding new methods to interfaces without breaking the interface for those that already implement it.\r\n```\r\ninterface MyInterface {    \r\n    // default method    \r\n    default void method1(){    \r\n        System.out.println(&quot;Hello, this is default method&quot;);    \r\n    }    \r\n    // Already existing Abstract method    \r\n    void method2(String msg); \r\n}   ","title":"Adding new method to interface","body":"<p>Java 8 on wards provides a facility to create default methods inside the interface. Methods which are defined inside the interface and tagged with default are known as default methods. These methods are non-abstract methods. They allow adding new methods to interfaces without breaking the interface for those that already implement it.</p>\n<pre><code>interface MyInterface {    \n    // default method    \n    default void method1(){    \n        System.out.println(&quot;Hello, this is default method&quot;);    \n    }    \n    // Already existing Abstract method    \n    void method2(String msg); \n}   \n</code></pre>\n"}],"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15294193,"answer_count":3,"score":1,"last_activity_date":1662451741,"creation_date":1362746174,"question_id":15294136,"body_markdown":"I am using an interface in my code which has been there for a long time and many classes have implemented it.\r\nNow i have to add a new method to this interface for a new class [old classes dont need the new method]. So as has been suggested at many places that i can extend that old interface and create a new one with new method.\r\nNow my problem is that app launcher which uses the interface implementation is only having reference to base interface and using base interface i can&#39;t call method in new interface.\r\n\r\n    baseInterface is extended by newInterface\r\n    \r\n    Class Applauncher{\r\n    \r\n      baseInterface b;\r\n    \r\n    }\r\n\r\nSo as can be seen i can&#39;t call new method in &quot;newInterface&quot; in Applauncher class.\r\n\r\nI want a solution which will not shake up my old implementation.","title":"Adding new method to interface","body":"<p>I am using an interface in my code which has been there for a long time and many classes have implemented it.\nNow i have to add a new method to this interface for a new class [old classes dont need the new method]. So as has been suggested at many places that i can extend that old interface and create a new one with new method.\nNow my problem is that app launcher which uses the interface implementation is only having reference to base interface and using base interface i can't call method in new interface.</p>\n\n<pre><code>baseInterface is extended by newInterface\n\nClass Applauncher{\n\n  baseInterface b;\n\n}\n</code></pre>\n\n<p>So as can be seen i can't call new method in \"newInterface\" in Applauncher class.</p>\n\n<p>I want a solution which will not shake up my old implementation.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1662397045,"post_id":73611875,"comment_id":129991755,"body_markdown":"I think you want to call the TimerTask&#39;s cancel method. Keep a reference to it (global by all means - better than traversing all stacks) when you create it and call cancel. That will not stop it if it is running, but it will prevent it from starting again.","body":"I think you want to call the TimerTask&#39;s cancel method. Keep a reference to it (global by all means - better than traversing all stacks) when you create it and call cancel. That will not stop it if it is running, but it will prevent it from starting again."}],"answers":[{"tags":[],"owner":{"account_id":6034200,"reputation":158,"user_id":8285132,"display_name":"Vladimir Krylov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662451614,"creation_date":1662451056,"answer_id":73618594,"question_id":73611875,"body_markdown":"According to the answer from [ewramner][1] I found the solution. It works as expected. Every new request cancels the existing task and creates a new one.\r\n\r\nI&#39;ve created the nested task class:\r\n\r\n    private class ShutDownTask extends TimerTask {\r\n\r\n        private final Vpn vpn;\r\n        private final PlatformTransactionManager txManager;\r\n        private final EntityManager em;\r\n\r\n        ShutDownTask(Vpn vpn, PlatformTransactionManager txManager, EntityManager em) {\r\n          this.vpn = vpn;\r\n          this.txManager = txManager;\r\n          this.em = em;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            TransactionStatus tx = this.txManager.getTransaction(new \r\n            DefaultTransactionDefinition());\r\n            try {\r\n                var vpnToUpdate = this.em.find(Vpn.class, this.vpn.getId());\r\n                doTearDown(vpnToUpdate);\r\n                this.txManager.commit(tx);\r\n            } catch (RuntimeException e) {\r\n                this.txManager.rollback(tx);\r\n            }\r\n        }\r\n    }\r\n\r\nIn my service class:\r\n\r\n    @Service\r\n    public class VpnServiceImpl {\r\n        ...\r\n        private final PlatformTransactionManager txManager;\r\n        private final EntityManager em;\r\n        private ShutDownTask shutDownTask;\r\n        ...\r\n\r\n        if (this.shutDownTask != null) {\r\n          this.shutDownTask.cancel();\r\n        }\r\n\r\n        var timer = new Timer(&quot;vpn-timer&quot;);\r\n        this.shutDownTask = new ShutDownTask(vpn, this.txManager, this.em);\r\n\r\n        timer.schedule(this.shutDownTask, this.vpnProperties.delay());\r\n\r\n        ...\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/2612030/ewramner","title":"How to correctly stop the TimerTask","body":"<p>According to the answer from <a href=\"https://stackoverflow.com/users/2612030/ewramner\">ewramner</a> I found the solution. It works as expected. Every new request cancels the existing task and creates a new one.</p>\n<p>I've created the nested task class:</p>\n<pre><code>private class ShutDownTask extends TimerTask {\n\n    private final Vpn vpn;\n    private final PlatformTransactionManager txManager;\n    private final EntityManager em;\n\n    ShutDownTask(Vpn vpn, PlatformTransactionManager txManager, EntityManager em) {\n      this.vpn = vpn;\n      this.txManager = txManager;\n      this.em = em;\n    }\n\n    @Override\n    public void run() {\n        TransactionStatus tx = this.txManager.getTransaction(new \n        DefaultTransactionDefinition());\n        try {\n            var vpnToUpdate = this.em.find(Vpn.class, this.vpn.getId());\n            doTearDown(vpnToUpdate);\n            this.txManager.commit(tx);\n        } catch (RuntimeException e) {\n            this.txManager.rollback(tx);\n        }\n    }\n}\n</code></pre>\n<p>In my service class:</p>\n<pre><code>@Service\npublic class VpnServiceImpl {\n    ...\n    private final PlatformTransactionManager txManager;\n    private final EntityManager em;\n    private ShutDownTask shutDownTask;\n    ...\n\n    if (this.shutDownTask != null) {\n      this.shutDownTask.cancel();\n    }\n\n    var timer = new Timer(&quot;vpn-timer&quot;);\n    this.shutDownTask = new ShutDownTask(vpn, this.txManager, this.em);\n\n    timer.schedule(this.shutDownTask, this.vpnProperties.delay());\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":6034200,"reputation":158,"user_id":8285132,"display_name":"Vladimir Krylov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662451614,"creation_date":1662392796,"question_id":73611875,"body_markdown":"So basically I have a task with a delay that kills a VPN pod. I don&#39;t want to have a running pod when it&#39;s not needed.\r\n\r\nThe Desired behavior is when the service receives a request(REST) it cancels the existing task and creates a new one with further delay. \r\n\r\nIn my solution I use *thread.stop()* to cancel my task which has been deprecated for a while.\r\n    \r\n    ...\r\n\r\n    var VPN_TIMER_THREAD_NAME = &quot;vpn-timer&quot;;\r\n    for (var thread : Thread.getAllStackTraces().keySet()) {\r\n        if (thread.getName().equals(VPN_TIMER_THREAD_NAME)) {\r\n            // Interrupted doesn&#39;t work for me\r\n            thread.stop();\r\n        }\r\n    }\r\n    \r\n    var timer = new Timer(VPN_TIMER_THREAD_NAME);\r\n    timer.schedule(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                  // New Transaction for EM\r\n                  TransactionStatus tx = VpnServiceImpl.this.txManager.getTransaction(new DefaultTransactionDefinition());\r\n                  try {\r\n                    var vpnToUpdate = VpnServiceImpl.this.em.find(Vpn.class, vpn.getId());\r\n                    doTearDown(vpnToUpdate);\r\n                    VpnServiceImpl.this.txManager.commit(tx);\r\n                  } catch (RuntimeException e) {\r\n                    log.error(&quot;Tear Down Error {}.&quot;, e.getMessage());\r\n                    VpnServiceImpl.this.txManager.rollback(tx);\r\n                  }\r\n                }\r\n              }, this.vpnProperties.delay());\r\n    ...\r\n\r\n    private VpnStatusS2SDto doTearDown(Vpn vpn) {\r\n        log.debug(&quot;In the tear down&quot;);\r\n        this.client\r\n            .pods()\r\n            .inNamespace(this.kubeProps.getNamespace())\r\n            .withLabel(&quot;app&quot;, &quot;vpn-gateway&quot;)\r\n            .withLabel(&quot;app.kubernetes.io/component&quot;, &quot;vpn&quot;)\r\n            .delete();\r\n\r\n        entity.setModifiedDate(Instant.now());\r\n        this.em.persist(entity);\r\n        return mapper.toVpnStatusDto(entity);\r\n    }\r\n\r\nWhen I&#39;m changing to thread.interrupt() the doTearDown method is invoking more than once if I make more than one request. \r\nWith thread.stop it &quot;kills&quot; the previous task and creates a new one, indeed the tear down has been invoked only once.\r\n\r\nI&#39;m using Spring Boot.\r\n\r\nIs there any way to implement that behavior?\r\nThanks in advance","title":"How to correctly stop the TimerTask","body":"<p>So basically I have a task with a delay that kills a VPN pod. I don't want to have a running pod when it's not needed.</p>\n<p>The Desired behavior is when the service receives a request(REST) it cancels the existing task and creates a new one with further delay.</p>\n<p>In my solution I use <em>thread.stop()</em> to cancel my task which has been deprecated for a while.</p>\n<pre><code>...\n\nvar VPN_TIMER_THREAD_NAME = &quot;vpn-timer&quot;;\nfor (var thread : Thread.getAllStackTraces().keySet()) {\n    if (thread.getName().equals(VPN_TIMER_THREAD_NAME)) {\n        // Interrupted doesn't work for me\n        thread.stop();\n    }\n}\n\nvar timer = new Timer(VPN_TIMER_THREAD_NAME);\ntimer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n              // New Transaction for EM\n              TransactionStatus tx = VpnServiceImpl.this.txManager.getTransaction(new DefaultTransactionDefinition());\n              try {\n                var vpnToUpdate = VpnServiceImpl.this.em.find(Vpn.class, vpn.getId());\n                doTearDown(vpnToUpdate);\n                VpnServiceImpl.this.txManager.commit(tx);\n              } catch (RuntimeException e) {\n                log.error(&quot;Tear Down Error {}.&quot;, e.getMessage());\n                VpnServiceImpl.this.txManager.rollback(tx);\n              }\n            }\n          }, this.vpnProperties.delay());\n...\n\nprivate VpnStatusS2SDto doTearDown(Vpn vpn) {\n    log.debug(&quot;In the tear down&quot;);\n    this.client\n        .pods()\n        .inNamespace(this.kubeProps.getNamespace())\n        .withLabel(&quot;app&quot;, &quot;vpn-gateway&quot;)\n        .withLabel(&quot;app.kubernetes.io/component&quot;, &quot;vpn&quot;)\n        .delete();\n\n    entity.setModifiedDate(Instant.now());\n    this.em.persist(entity);\n    return mapper.toVpnStatusDto(entity);\n}\n</code></pre>\n<p>When I'm changing to thread.interrupt() the doTearDown method is invoking more than once if I make more than one request.\nWith thread.stop it &quot;kills&quot; the previous task and creates a new one, indeed the tear down has been invoked only once.</p>\n<p>I'm using Spring Boot.</p>\n<p>Is there any way to implement that behavior?\nThanks in advance</p>\n"},{"tags":["java","json","groovy","jsonslurper"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662451257,"creation_date":1662451257,"answer_id":73618647,"question_id":73618103,"body_markdown":"JsonSlurper is a parser of json string to object (map/array) - map in your case. \r\n\r\nAfter parsing you have to modify object and format it back to json string using JsonBuilder (or JsonOutput)\r\n\r\n```\r\ndef obj = jsonSlurper.parseText(...)\r\nobj.remove(&#39;eventLogs&#39;)\r\n\r\nprintln new JsonBuilder(obj).toPrettyString()\r\n```","title":"modifying Json with Json Slurper in groovy","body":"<p>JsonSlurper is a parser of json string to object (map/array) - map in your case.</p>\n<p>After parsing you have to modify object and format it back to json string using JsonBuilder (or JsonOutput)</p>\n<pre><code>def obj = jsonSlurper.parseText(...)\nobj.remove('eventLogs')\n\nprintln new JsonBuilder(obj).toPrettyString()\n</code></pre>\n"}],"owner":{"account_id":19068200,"reputation":113,"user_id":19692198,"display_name":"deewreck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73618647,"answer_count":1,"score":0,"last_activity_date":1662451257,"creation_date":1662448623,"question_id":73618103,"body_markdown":"I have a scenario where i need to remove one object inside my Json string in groovy. below is the structure of my json. I need to remove &quot;eventLogs&quot; part from my Json. \r\n\r\n```\r\n{\r\n  &quot;_id&quot;:&quot;123456&quot;,\r\n  &quot;type&quot;: &quot;prod&quot;,\r\n  &quot;metaData&quot; :{...},\r\n  &quot;isUpdated&quot;: true,\r\n  &quot;crossId&quot;:[...],\r\n  &quot;eventLogs&quot;:{...}\r\n}\r\n```\r\nExpected\r\n```\r\n{\r\n  &quot;_id&quot;:&quot;123456&quot;,\r\n  &quot;type&quot;: &quot;prod&quot;,\r\n  &quot;metaData&quot; :{...},\r\n  &quot;isUpdated&quot;: true,\r\n  &quot;crossId&quot;:[...]\r\n}\r\n```\r\nI don&#39;t see any remove() function in jsonSlurpur to do this task. please advice. \r\n\r\n```\r\ndef json = jsonSlurper.parseText(db.get(id).content().toString())\r\n```","title":"modifying Json with Json Slurper in groovy","body":"<p>I have a scenario where i need to remove one object inside my Json string in groovy. below is the structure of my json. I need to remove &quot;eventLogs&quot; part from my Json.</p>\n<pre><code>{\n  &quot;_id&quot;:&quot;123456&quot;,\n  &quot;type&quot;: &quot;prod&quot;,\n  &quot;metaData&quot; :{...},\n  &quot;isUpdated&quot;: true,\n  &quot;crossId&quot;:[...],\n  &quot;eventLogs&quot;:{...}\n}\n</code></pre>\n<p>Expected</p>\n<pre><code>{\n  &quot;_id&quot;:&quot;123456&quot;,\n  &quot;type&quot;: &quot;prod&quot;,\n  &quot;metaData&quot; :{...},\n  &quot;isUpdated&quot;: true,\n  &quot;crossId&quot;:[...]\n}\n</code></pre>\n<p>I don't see any remove() function in jsonSlurpur to do this task. please advice.</p>\n<pre><code>def json = jsonSlurper.parseText(db.get(id).content().toString())\n</code></pre>\n"},{"tags":["java","mysql","jdbc","metadata"],"answers":[{"tags":[],"owner":{"account_id":1742,"reputation":42756,"user_id":2362,"accept_rate":79,"display_name":"brabster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1270161195,"creation_date":1270160872,"answer_id":2564074,"question_id":2564043,"body_markdown":"Assuming you&#39;re doing a `select * from mytable` you could just add a `where` clause that ensures no records will be returned and the ResultSet will be empty?\r\n\r\nThat way you are still just getting the metadata for the table you are interested in instead of the entire database.","title":"How to get equivalent of ResultSetMetaData without ResultSet","body":"<p>Assuming you're doing a <code>select * from mytable</code> you could just add a <code>where</code> clause that ensures no records will be returned and the ResultSet will be empty?</p>\n\n<p>That way you are still just getting the metadata for the table you are interested in instead of the entire database.</p>\n"},{"tags":[],"owner":{"account_id":110220,"reputation":37362,"user_id":291741,"accept_rate":87,"display_name":"Chris Lercher"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1311260202,"creation_date":1270160880,"answer_id":2564075,"question_id":2564043,"body_markdown":"Maybe you could use \r\n\r\n    DatabaseMetaData databaseMetaData = connection.getMetaData();\r\n    databaseMetaData.getColumns(null, null, tableName, &quot;%&quot;);\r\n\r\nIt returns one row for each table column.\r\n\r\nIn this case you&#39;d use the returned `ResultSet` itself, not its `ResultSetMetaData`.\r\n\r\nOne advantage of this approach is, that it doesn&#39;t interfere with database locking and transactions.","title":"How to get equivalent of ResultSetMetaData without ResultSet","body":"<p>Maybe you could use </p>\n\n<pre><code>DatabaseMetaData databaseMetaData = connection.getMetaData();\ndatabaseMetaData.getColumns(null, null, tableName, \"%\");\n</code></pre>\n\n<p>It returns one row for each table column.</p>\n\n<p>In this case you'd use the returned <code>ResultSet</code> itself, not its <code>ResultSetMetaData</code>.</p>\n\n<p>One advantage of this approach is, that it doesn't interfere with database locking and transactions.</p>\n"},{"tags":[],"owner":{"account_id":323947,"reputation":301,"user_id":644265,"display_name":"user644265"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662451253,"creation_date":1467750050,"answer_id":38212048,"question_id":2564043,"body_markdown":"Another solution\r\n\r\n```sql\r\nselect * from mytable limit 0;\r\n```\r\n\r\nThen the query dont get any data.","title":"How to get equivalent of ResultSetMetaData without ResultSet","body":"<p>Another solution</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * from mytable limit 0;\n</code></pre>\n<p>Then the query dont get any data.</p>\n"}],"owner":{"account_id":40571,"reputation":1300,"user_id":117549,"accept_rate":85,"display_name":"javanix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3474,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2564075,"answer_count":3,"score":3,"last_activity_date":1662451253,"creation_date":1270160266,"question_id":2564043,"body_markdown":"I need to resolve a bunch of column names to column indexes (so as to use some of the nice `ResultSetMetaData` methods). However, the only way that I know how to get a `ResultSetMetaData` object is by calling `getMetaData()` on some `ResultSet`.\r\n\r\nThe problem I have with that is that grabbing a ResultSet takes up uneccesary resources in my mind - I don&#39;t really need to query the data in the table, I just want some information about the table.\r\n\r\nDoes anyone know of any way to get a `ResultSetMetaData` object without getting a `ResultSet` (from a potentially huge table) first?","title":"How to get equivalent of ResultSetMetaData without ResultSet","body":"<p>I need to resolve a bunch of column names to column indexes (so as to use some of the nice <code>ResultSetMetaData</code> methods). However, the only way that I know how to get a <code>ResultSetMetaData</code> object is by calling <code>getMetaData()</code> on some <code>ResultSet</code>.</p>\n\n<p>The problem I have with that is that grabbing a ResultSet takes up uneccesary resources in my mind - I don't really need to query the data in the table, I just want some information about the table.</p>\n\n<p>Does anyone know of any way to get a <code>ResultSetMetaData</code> object without getting a <code>ResultSet</code> (from a potentially huge table) first?</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1662394776,"post_id":73612171,"comment_id":129991188,"body_markdown":"When in doubt, check the [docs](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html?is-external=true#findAll--). It says - `all entities`.","body":"When in doubt, check the <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html?is-external=true#findAll--\" rel=\"nofollow noreferrer\">docs</a>. It says - <code>all entities</code>."}],"answers":[{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662396692,"creation_date":1662396692,"answer_id":73612529,"question_id":73612171,"body_markdown":"It is better to not use findAll if there are a lot of entities. You can use pagination something like, ( taking no of records in single page as ***SIZE***): \r\n       \r\n\r\n    Pageable pageable = PageRequest.of(0, SIZE);  // for example SIZE = 500\r\n    Page&lt;Qmail&gt; page = repository.findAll(pageable);\r\n    \r\n    while (!page.isEmpty()) {\r\n    \tpageable = pageable.next();\r\n    \r\n        //   TODO WITH ENTITIES    \r\n        page.forEach( entity -&gt; SOP(entity.getId()) );\r\n    \r\n        page = repository.findAll(pageable);\r\n    }","title":"JPA repository findAll() limit","body":"<p>It is better to not use findAll if there are a lot of entities. You can use pagination something like, ( taking no of records in single page as <em><strong>SIZE</strong></em>):</p>\n<pre><code>Pageable pageable = PageRequest.of(0, SIZE);  // for example SIZE = 500\nPage&lt;Qmail&gt; page = repository.findAll(pageable);\n\nwhile (!page.isEmpty()) {\n    pageable = pageable.next();\n\n    //   TODO WITH ENTITIES    \n    page.forEach( entity -&gt; SOP(entity.getId()) );\n\n    page = repository.findAll(pageable);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662451152,"creation_date":1662451152,"answer_id":73618615,"question_id":73612171,"body_markdown":"You will receive *all* entities until something breaks. \r\n\r\nThings that might break: \r\n- List implementations may have a size constraint. See https://stackoverflow.com/questions/3767979/how-much-data-can-a-list-can-hold-at-the-maximum\r\n- The memory of your computer is limited.\r\n- The size of your JVM heap is limited.\r\n- The duration your user is willing to wait for a result is limited.\r\n\r\nAs a rule of thumb: Never plan to have millions of JPA entities in memory.\r\nEither process them in batches using pagination as [_Jimmy_][1] proposed. \r\nOr use some other technology that scales better, e.g. [`JdbcTemplate`][2] and one of it&#39;s `query` methods taking a [`RowCallbackHandler`][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73612529/66686\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/RowCallbackHandler.html","title":"JPA repository findAll() limit","body":"<p>You will receive <em>all</em> entities until something breaks.</p>\n<p>Things that might break:</p>\n<ul>\n<li>List implementations may have a size constraint. See <a href=\"https://stackoverflow.com/questions/3767979/how-much-data-can-a-list-can-hold-at-the-maximum\">How much data can a List can hold at the maximum?</a></li>\n<li>The memory of your computer is limited.</li>\n<li>The size of your JVM heap is limited.</li>\n<li>The duration your user is willing to wait for a result is limited.</li>\n</ul>\n<p>As a rule of thumb: Never plan to have millions of JPA entities in memory.\nEither process them in batches using pagination as <a href=\"https://stackoverflow.com/a/73612529/66686\"><em>Jimmy</em></a> proposed.\nOr use some other technology that scales better, e.g. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"nofollow noreferrer\"><code>JdbcTemplate</code></a> and one of it's <code>query</code> methods taking a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/RowCallbackHandler.html\" rel=\"nofollow noreferrer\"><code>RowCallbackHandler</code></a></p>\n"}],"owner":{"account_id":7183667,"reputation":333,"user_id":5486546,"display_name":"Sameesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1662451152,"creation_date":1662394467,"question_id":73612171,"body_markdown":"Hi I just wanted to know is there any limit for retrieving row from MYSQL database using JPARepository.findAll() , I have around 3700000 entries in my database. If I use findAll() do I get all the entries or truncated count? ","title":"JPA repository findAll() limit","body":"<p>Hi I just wanted to know is there any limit for retrieving row from MYSQL database using JPARepository.findAll() , I have around 3700000 entries in my database. If I use findAll() do I get all the entries or truncated count?</p>\n"},{"tags":["java","caching","project-reactor","spring-data-r2dbc","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":5883683,"reputation":1,"user_id":4632332,"display_name":"Frederik Alexander Vygg Larsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662450961,"creation_date":1662450961,"answer_id":73618571,"question_id":73573537,"body_markdown":"I&#39;m not familiar with there being any fluent integration between the @Cacheable annotation and reactive frameworks. The primary issue is that there are no non-blocking cache implementations (JSR-107 cache API is blocking). Only Redis is providing a reactive driver. [See Spring.io&#39;s reactive caching guide][1]. I&#39;ve read somewhere that you can still use the annotation on service methods, but that will &quot;only&quot; cache your wrapper objects, i.e., Mono / Flux, but not the actual result of your findById..\r\n\r\n  [1]: https://spring.io/guides/gs/spring-data-reactive-redis/","title":"How would you cache in R2DBC?","body":"<p>I'm not familiar with there being any fluent integration between the @Cacheable annotation and reactive frameworks. The primary issue is that there are no non-blocking cache implementations (JSR-107 cache API is blocking). Only Redis is providing a reactive driver. <a href=\"https://spring.io/guides/gs/spring-data-reactive-redis/\" rel=\"nofollow noreferrer\">See Spring.io's reactive caching guide</a>. I've read somewhere that you can still use the annotation on service methods, but that will &quot;only&quot; cache your wrapper objects, i.e., Mono / Flux, but not the actual result of your findById..</p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662450961,"creation_date":1662054371,"question_id":73573537,"body_markdown":"I am trying to implement something like this https://stackoverflow.com/questions/67664404/spring-boot-populating-cache-used-by-findbyid-method-with-findall-method\r\n\r\nbut with R2DBC.  However, it does not appear to work as I am returning a Mono.\r\n\r\n```java\r\n@Cacheable(&quot;stores&quot;,key = &quot;#storeId&quot;)\r\nMono&lt;Store&gt; findById(int storeId);\r\n```\r\n\r\nThe way I determine it is looking at the general_log of the database and find that it&#39;s still performing the query","title":"How would you cache in R2DBC?","body":"<p>I am trying to implement something like this <a href=\"https://stackoverflow.com/questions/67664404/spring-boot-populating-cache-used-by-findbyid-method-with-findall-method\">Spring boot populating cache used by findById method with findAll method</a></p>\n<p>but with R2DBC.  However, it does not appear to work as I am returning a Mono.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(&quot;stores&quot;,key = &quot;#storeId&quot;)\nMono&lt;Store&gt; findById(int storeId);\n</code></pre>\n<p>The way I determine it is looking at the general_log of the database and find that it's still performing the query</p>\n"},{"tags":["java","spring","spring-boot","keycloak"],"comments":[{"owner":{"account_id":18917803,"reputation":31,"user_id":13802470,"display_name":"ferrocene"},"score":0,"creation_date":1649333053,"post_id":71757579,"comment_id":126852020,"body_markdown":"Please someone should help out","body":"Please someone should help out"},{"owner":{"account_id":44593,"reputation":4230,"user_id":130993,"accept_rate":90,"display_name":"Jean-Fran&#231;ois C&#244;t&#233;"},"score":0,"creation_date":1652715284,"post_id":71757579,"comment_id":127667094,"body_markdown":"Hi @ferrocene, I have exactly the same problem. Did you find any solution to it?","body":"Hi @ferrocene, I have exactly the same problem. Did you find any solution to it?"},{"owner":{"account_id":18917803,"reputation":31,"user_id":13802470,"display_name":"ferrocene"},"score":0,"creation_date":1652716883,"post_id":71757579,"comment_id":127667701,"body_markdown":"Yes it took me weeks.. The issue was with the dependency. I had to remove all rest easy dependencies since later versions were unsupported then added only latest keycloak admin client dependency. As of now it&#39;s version 18.0.0.. Let me know if it works","body":"Yes it took me weeks.. The issue was with the dependency. I had to remove all rest easy dependencies since later versions were unsupported then added only latest keycloak admin client dependency. As of now it&#39;s version 18.0.0.. Let me know if it works"},{"owner":{"account_id":18917803,"reputation":31,"user_id":13802470,"display_name":"ferrocene"},"score":0,"creation_date":1652717252,"post_id":71757579,"comment_id":127667834,"body_markdown":"Also make sure your server url is the port which keycloak is running something like &quot;http:// localhost:8080/&quot; do not use &quot;http:// localhost:8080/auth&quot; as seen in examples","body":"Also make sure your server url is the port which keycloak is running something like &quot;http:// localhost:8080/&quot; do not use &quot;http:// localhost:8080/auth&quot; as seen in examples"}],"answers":[{"tags":[],"owner":{"account_id":17763146,"reputation":352,"user_id":12898692,"display_name":"Akhilesh Magdum"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1662031077,"creation_date":1662031077,"answer_id":73568474,"question_id":71757579,"body_markdown":"You can use keycloak&#39;s SDK for your springboot application. Include these two dependencies in the `pom.xml`\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n      &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;18.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n      &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n      &lt;version&gt;18.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter that create a keycloak&#39;s instance in your springboot application.\r\n\r\n    public Keycloak getAdminKeycloakUser() {\r\n        return KeycloakBuilder.builder().serverUrl(&quot;keycloak-auth-url&quot;)\r\n                .grantType(&quot;password&quot;).realm(&quot;realm-name&quot;)\r\n                .clientId(&quot;client-id&quot;)\r\n                .username(&quot;admin-user&quot;)\r\n                .password(&quot;admin-password&quot;)\r\n                .resteasyClient(new ResteasyClientBuilder().connectionPoolSize(10).build()).build();\r\n    }\r\n\r\nThe above method will get you the admin user which is needed in order to create users into Keycloak.\r\nThe next step would be to get the realm as realm manages users.\r\n\r\n    public RealmResource getRealm() {\r\n        return getAdminKeycloakUser().realm(realm);\r\n    }\r\n\r\nFinally now you can create user by using `org.keycloak.representations.idm.UserRepresentation`.\r\n\r\n    public void createUser() {\r\n        UserRepresentation userRepresentation = new UserRepresentation();\r\n\r\n        userRepresentation.setUsername(&quot;username&quot;);\r\n        userRepresentation.setFirstName(&quot;first-name&quot;);\r\n        userRepresentation.setLastName(&quot;last-name&quot;);\r\n        userRepresentation.setEmail(&quot;test@email.com&quot;);\r\n\r\n        Response response = getRealm().realmResource.users().create(userRepresentation);\r\n        //If user is created successfully 200 is returned for response status.\r\n\r\n        //Set password flow\r\n        CredentialRepresentation passwordCred = new CredentialRepresentation();\r\n        String userId = CreatedResponseUtil.getCreatedId(response);\r\n        passwordCred.setTemporary(false);\r\n        passwordCred.setType(&quot;password&quot;);\r\n        passwordCred.setValue(&quot;some-password&quot;);\r\n        UserResource userResource = realmResource.users().get(userId);\r\n        userResource.resetPassword(passwordCred);\r\n    }\r\n\r\n","title":"Creating keycloak users through spring boot","body":"<p>You can use keycloak's SDK for your springboot application. Include these two dependencies in the <code>pom.xml</code></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n  &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;18.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n  &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n  &lt;version&gt;18.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After that create a keycloak's instance in your springboot application.</p>\n<pre><code>public Keycloak getAdminKeycloakUser() {\n    return KeycloakBuilder.builder().serverUrl(&quot;keycloak-auth-url&quot;)\n            .grantType(&quot;password&quot;).realm(&quot;realm-name&quot;)\n            .clientId(&quot;client-id&quot;)\n            .username(&quot;admin-user&quot;)\n            .password(&quot;admin-password&quot;)\n            .resteasyClient(new ResteasyClientBuilder().connectionPoolSize(10).build()).build();\n}\n</code></pre>\n<p>The above method will get you the admin user which is needed in order to create users into Keycloak.\nThe next step would be to get the realm as realm manages users.</p>\n<pre><code>public RealmResource getRealm() {\n    return getAdminKeycloakUser().realm(realm);\n}\n</code></pre>\n<p>Finally now you can create user by using <code>org.keycloak.representations.idm.UserRepresentation</code>.</p>\n<pre><code>public void createUser() {\n    UserRepresentation userRepresentation = new UserRepresentation();\n\n    userRepresentation.setUsername(&quot;username&quot;);\n    userRepresentation.setFirstName(&quot;first-name&quot;);\n    userRepresentation.setLastName(&quot;last-name&quot;);\n    userRepresentation.setEmail(&quot;test@email.com&quot;);\n\n    Response response = getRealm().realmResource.users().create(userRepresentation);\n    //If user is created successfully 200 is returned for response status.\n\n    //Set password flow\n    CredentialRepresentation passwordCred = new CredentialRepresentation();\n    String userId = CreatedResponseUtil.getCreatedId(response);\n    passwordCred.setTemporary(false);\n    passwordCred.setType(&quot;password&quot;);\n    passwordCred.setValue(&quot;some-password&quot;);\n    UserResource userResource = realmResource.users().get(userId);\n    userResource.resetPassword(passwordCred);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662063964,"creation_date":1662063964,"answer_id":73575093,"question_id":71757579,"body_markdown":"`keycloak-spring-boot-starter` [is deprecated](https://github.com/keycloak/keycloak/discussions/10187), don&#39;t use it. You might find alternatives [here](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials)\r\n\r\nI wouldn&#39;t use `keycloak-admin-client` neither. Admin API is quite well [documented](https://www.keycloak.org/docs-api/19.0.1/rest-api/#_users_resource). Just use your favorite REST client (with spring-boot features to configure OAuth2 REST client if you like) and POST a request to your Keycloak server.","title":"Creating keycloak users through spring boot","body":"<p><code>keycloak-spring-boot-starter</code> <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">is deprecated</a>, don't use it. You might find alternatives <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I wouldn't use <code>keycloak-admin-client</code> neither. Admin API is quite well <a href=\"https://www.keycloak.org/docs-api/19.0.1/rest-api/#_users_resource\" rel=\"nofollow noreferrer\">documented</a>. Just use your favorite REST client (with spring-boot features to configure OAuth2 REST client if you like) and POST a request to your Keycloak server.</p>\n"},{"tags":[],"owner":{"account_id":12049957,"reputation":21,"user_id":8813362,"display_name":"Mahesh solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662450596,"creation_date":1662450596,"answer_id":73618502,"question_id":71757579,"body_markdown":"    UserRepresentation userRepresentation = new UserRepresentation();\r\n    userRepresentation.setUsername(&quot;username&quot;);\r\n    userRepresentation.setFirstName(&quot;first-name&quot;);\r\n    userRepresentation.setLastName(&quot;last-name&quot;);\r\n    userRepresentation.setEmail(&quot;test@email.com&quot;);\r\n    // set other required values\r\n    \r\n    javax.ws.rs.core.Response response = KeycloakBuilder.builder().build().realm(&quot;your-realm-nam&quot;).users().create(userRepresentation);\r\n    if (response != null &amp;&amp; response.getStatusInfo().getFamily() == Family.SUCCESSFUL) \r\n    {\r\n    \treturn org.keycloak.admin.client.CreatedResponseUtil.getCreatedId(response);\t\t// returns String (Id of created User)\r\n    }","title":"Creating keycloak users through spring boot","body":"<pre><code>UserRepresentation userRepresentation = new UserRepresentation();\nuserRepresentation.setUsername(&quot;username&quot;);\nuserRepresentation.setFirstName(&quot;first-name&quot;);\nuserRepresentation.setLastName(&quot;last-name&quot;);\nuserRepresentation.setEmail(&quot;test@email.com&quot;);\n// set other required values\n\njavax.ws.rs.core.Response response = KeycloakBuilder.builder().build().realm(&quot;your-realm-nam&quot;).users().create(userRepresentation);\nif (response != null &amp;&amp; response.getStatusInfo().getFamily() == Family.SUCCESSFUL) \n{\n    return org.keycloak.admin.client.CreatedResponseUtil.getCreatedId(response);        // returns String (Id of created User)\n}\n</code></pre>\n"}],"owner":{"account_id":18917803,"reputation":31,"user_id":13802470,"display_name":"ferrocene"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5791,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1662450596,"creation_date":1649188006,"question_id":71757579,"body_markdown":"I am trying to create a keycloak object to register new user with keycloak with the following code:\r\n\r\n    public Keycloak getInstance() {\r\n        if (keycloak == null) {\r\n    \r\n            return KeycloakBuilder.builder()\r\n                    .realm(realm)\r\n                    .serverUrl(serverURL)\r\n                    .clientId(clientID)\r\n                    .clientSecret(clientSecret)\r\n                    .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\r\n                    .build();\r\n        }\r\n        return keycloak;\r\n    }\r\n\r\nBut i keep getting the following error:\r\n\r\n&gt;java.lang.ClassCastException: class org.jboss.resteasy.client.jaxrs.internal.ResteasyClientBuilderImpl cannot be cast to class javax.ws.rs.client.ClientBuilder (org.jboss.resteasy.client.jaxrs.internal.ResteasyClientBuilderImpl and javax.ws.rs.client.ClientBuilder are in unnamed module of loader &#39;app&#39;)\r\nat org.keycloak.admin.client.ClientBuilderWrapper.create(ClientBuilderWrapper.java:29) \\~\\[keycloak-admin-client-17.0.1.jar:17.0.1\\]\r\nat org.keycloak.admin.client.spi.ResteasyClientClassicProvider.newRestEasyClient(ResteasyClientClassicProvider.java:35) \\~\\[keycloak-admin-client-17.0.1.jar:17.0.1\\]\r\nat org.keycloak.admin.client.Keycloak.newRestEasyClient(Keycloak.java:98) \\~\\[keycloak-admin-client-17.0.1.jar:17.0.1\\]\r\nat org.keycloak.admin.client.Keycloak.\\&lt;init\\&gt;(Keycloak.java:89) \\~\\[keycloak-admin-client-17.0.1.jar:17.0.1\\]\r\nat org.keycloak.admin.client.KeycloakBuilder.build(KeycloakBuilder.java:146) \\~\\[keycloak-admin-client-17.0.1.jar:17.0.1\\]\r\nat com.microfinanceBank.Customer.Config.KeycloakProvider.getInstance(KeycloakProvider.java:41) \\~\\[classes/:na\\]\r\nat com.microfinanceBank.Customer.service.KeycloakAdminClientServices.wow(KeycloakAdminClientServices.java:31) \\~\\[classes/:na\\]\r\nat com.microfinanceBank.Customer.controller.CustomerController.getCustomer(CustomerController.java:68) \\~\\[classes/:na\\]\r\nat com.microfinanceBank.Customer.controller.CustomerController$$FastClassBySpringCGLIB$$8c9f9beb.invoke(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\r\n\r\nBelow are my keycloak dependencies:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n       &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n       &lt;version&gt;17.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n       &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n       &lt;version&gt;6.1.0.Alpha1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n       &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\r\n       &lt;version&gt;6.1.0.Alpha1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n       &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n       &lt;version&gt;6.1.0.Alpha1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.guicedee.services&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n       &lt;version&gt;1.2.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhat am i doing wrong?\r\n\r\nI have tried adding some dependencies yet keep getting error.\r\nPlease what should i do.Thanks in advance","title":"Creating keycloak users through spring boot","body":"<p>I am trying to create a keycloak object to register new user with keycloak with the following code:</p>\n<pre><code>public Keycloak getInstance() {\n    if (keycloak == null) {\n\n        return KeycloakBuilder.builder()\n                .realm(realm)\n                .serverUrl(serverURL)\n                .clientId(clientID)\n                .clientSecret(clientSecret)\n                .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\n                .build();\n    }\n    return keycloak;\n}\n</code></pre>\n<p>But i keep getting the following error:</p>\n<blockquote>\n<p>java.lang.ClassCastException: class org.jboss.resteasy.client.jaxrs.internal.ResteasyClientBuilderImpl cannot be cast to class javax.ws.rs.client.ClientBuilder (org.jboss.resteasy.client.jaxrs.internal.ResteasyClientBuilderImpl and javax.ws.rs.client.ClientBuilder are in unnamed module of loader 'app')\nat org.keycloak.admin.client.ClientBuilderWrapper.create(ClientBuilderWrapper.java:29) ~[keycloak-admin-client-17.0.1.jar:17.0.1]\nat org.keycloak.admin.client.spi.ResteasyClientClassicProvider.newRestEasyClient(ResteasyClientClassicProvider.java:35) ~[keycloak-admin-client-17.0.1.jar:17.0.1]\nat org.keycloak.admin.client.Keycloak.newRestEasyClient(Keycloak.java:98) ~[keycloak-admin-client-17.0.1.jar:17.0.1]\nat org.keycloak.admin.client.Keycloak.&lt;init&gt;(Keycloak.java:89) ~[keycloak-admin-client-17.0.1.jar:17.0.1]\nat org.keycloak.admin.client.KeycloakBuilder.build(KeycloakBuilder.java:146) ~[keycloak-admin-client-17.0.1.jar:17.0.1]\nat com.microfinanceBank.Customer.Config.KeycloakProvider.getInstance(KeycloakProvider.java:41) ~[classes/:na]\nat com.microfinanceBank.Customer.service.KeycloakAdminClientServices.wow(KeycloakAdminClientServices.java:31) ~[classes/:na]\nat com.microfinanceBank.Customer.controller.CustomerController.getCustomer(CustomerController.java:68) ~[classes/:na]\nat com.microfinanceBank.Customer.controller.CustomerController$$FastClassBySpringCGLIB$$8c9f9beb.invoke(&lt;generated&gt;) ~[classes/:na]</p>\n</blockquote>\n<p>Below are my keycloak dependencies:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n   &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n   &lt;version&gt;17.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n   &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n   &lt;version&gt;6.1.0.Alpha1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n   &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\n   &lt;version&gt;6.1.0.Alpha1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n   &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n   &lt;version&gt;6.1.0.Alpha1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;com.guicedee.services&lt;/groupId&gt;\n   &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n   &lt;version&gt;1.2.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What am i doing wrong?</p>\n<p>I have tried adding some dependencies yet keep getting error.\nPlease what should i do.Thanks in advance</p>\n"},{"tags":["java","sql","regex","jdbc"],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409324664,"creation_date":1409324664,"answer_id":25571056,"question_id":25570907,"body_markdown":"The best way of obtaining the columns of the result set is to ask JDBC to do it for you. You do not need a `ResultSet` object for it - [`ResultSetMetaData`][1] would be enough.\r\n\r\n    PreparedStatement preparedStatement = connection.prepareStatement(query);\r\n    ResultSetMetaData metaData = preparedStatement.getMetaData();\r\n\r\n    for (int i = 1 ; i &lt;= metaData.getColumnCount() ; i++) {\r\n        listOfColumns.add(metaData.getColumnLabel(i));\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSetMetaData.html","title":"Regex to Parse DB Columns like JDBC ResultSet","body":"<p>The best way of obtaining the columns of the result set is to ask JDBC to do it for you. You do not need a <code>ResultSet</code> object for it - <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSetMetaData.html\" rel=\"nofollow\"><code>ResultSetMetaData</code></a> would be enough.</p>\n\n<pre><code>PreparedStatement preparedStatement = connection.prepareStatement(query);\nResultSetMetaData metaData = preparedStatement.getMetaData();\n\nfor (int i = 1 ; i &lt;= metaData.getColumnCount() ; i++) {\n    listOfColumns.add(metaData.getColumnLabel(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409324686,"creation_date":1409324686,"answer_id":25571064,"question_id":25570907,"body_markdown":"To get the column names that are associated with your `ResultSet`, you should consult its `ResultSetMetaData`.  That&#39;s going to be both easier and more reliable than parsing the query text.","title":"Regex to Parse DB Columns like JDBC ResultSet","body":"<p>To get the column names that are associated with your <code>ResultSet</code>, you should consult its <code>ResultSetMetaData</code>.  That's going to be both easier and more reliable than parsing the query text.</p>\n"},{"tags":[],"owner":{"account_id":4504941,"reputation":406,"user_id":3662544,"display_name":"Yanek Martinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409325303,"creation_date":1409325303,"answer_id":25571247,"question_id":25570907,"body_markdown":"So, after having split on the delimiter (comma) to get column names between SELECT and FROM, check each one to see if it contains the string &quot; AS &quot; (you may need to account for upper and lowercase), then if present, split on that, and use the rightmost value.","title":"Regex to Parse DB Columns like JDBC ResultSet","body":"<p>So, after having split on the delimiter (comma) to get column names between SELECT and FROM, check each one to see if it contains the string \" AS \" (you may need to account for upper and lowercase), then if present, split on that, and use the rightmost value.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662450506,"creation_date":1662450506,"answer_id":73618486,"question_id":25570907,"body_markdown":"While I agree with others you should probably use `ResultSetMetaData` in &quot;ordinary&quot; use-cases, you seem to insist that the query string itself should be parsed. Parsing SQL with regular expressions is brittle, and you should avoid doing that. Better use an off-the-shelf SQL parser, which can do the parsing for you. There are several, including:\r\n\r\n- [jOOQ][1]\r\n- [JSqlParser][2]\r\n- [General SQL Parser][3]\r\n\r\nWith jOOQ, you could just write this:\r\n\r\n```java\r\nctx.parser()\r\n   .parseSelect(&quot;SELECT a, b ...&quot;)\r\n   .getSelect()\r\n   .stream()\r\n   .forEach(f -&gt; System.out.println(f.getName()));\r\n```\r\n\r\nDisclaimer: I work for the company behind jOOQ\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/\r\n  [2]: https://github.com/JSQLParser/JSqlParser\r\n  [3]: https://www.sqlparser.com/index.php","title":"Regex to Parse DB Columns like JDBC ResultSet","body":"<p>While I agree with others you should probably use <code>ResultSetMetaData</code> in &quot;ordinary&quot; use-cases, you seem to insist that the query string itself should be parsed. Parsing SQL with regular expressions is brittle, and you should avoid doing that. Better use an off-the-shelf SQL parser, which can do the parsing for you. There are several, including:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/\" rel=\"nofollow noreferrer\">jOOQ</a></li>\n<li><a href=\"https://github.com/JSQLParser/JSqlParser\" rel=\"nofollow noreferrer\">JSqlParser</a></li>\n<li><a href=\"https://www.sqlparser.com/index.php\" rel=\"nofollow noreferrer\">General SQL Parser</a></li>\n</ul>\n<p>With jOOQ, you could just write this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.parser()\n   .parseSelect(&quot;SELECT a, b ...&quot;)\n   .getSelect()\n   .stream()\n   .forEach(f -&gt; System.out.println(f.getName()));\n</code></pre>\n<p>Disclaimer: I work for the company behind jOOQ</p>\n"}],"owner":{"account_id":430922,"reputation":750,"user_id":814633,"accept_rate":58,"display_name":"Frederic Fortier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1662450506,"creation_date":1409324230,"question_id":25570907,"body_markdown":"I am using JDBC to get columns from query results.\r\n\r\nFor example:\r\n\r\n    String query = &quot;SELECT foo, bar AS barAlias FROM table&quot;;\r\n    PreparedStatement preparedStatement = connection.prepareStatement(query);\r\n    ResultSet resultSet = preparedStatement.executeQuery();\r\n    \r\n    //Show my &quot;foo&quot; column results\r\n    while (resultSet.next()) {\r\n        log.debug(resultSet.getString(&quot;foo&quot;));\r\n    }\r\n\r\nI would like to parse my queries BEFORE running them. Essentially, I want to create an array for column labels that will match the value expected by the resultSet.get** method. For illustration purpose, I would like to replace the loop above by this and get the same results:\r\n\r\n    //Show my &quot;foo&quot; column results\r\n    while (resultSet.next()) {\r\n        log.debug(resultSet.getString(arrayOfColumns.get(0)));\r\n    }\r\n\r\nThis seems easy. I could parse my statement with a simple regex that takes the string between SELECT and FROM, creating groups using the column delimiter, and building arrayOfColumns from the groups. But JDBC has specific ways to deal with aliases for example. For the second column, this naive parser would return the entire &quot;bar AS barAlias&quot; where I believe that resultSet.get** expects &quot;barAlias&quot;. It will tell me &quot;The column name bar As barAlias is not valid.&quot;\r\n\r\nEssentially, I would like to understand the JBDC column label parsing behavior in order to replicate it. \r\n\r\nNOTE, I am aware that I can get columns by index from the resultSet object. That is not the objective here. Also, I do not want to use any JDBC related method (I understand that the preparedStatement metadata is available). Think of this as a theoretical questions where do not have a JDBC library and MUST use regular expressions.","title":"Regex to Parse DB Columns like JDBC ResultSet","body":"<p>I am using JDBC to get columns from query results.</p>\n\n<p>For example:</p>\n\n<pre><code>String query = \"SELECT foo, bar AS barAlias FROM table\";\nPreparedStatement preparedStatement = connection.prepareStatement(query);\nResultSet resultSet = preparedStatement.executeQuery();\n\n//Show my \"foo\" column results\nwhile (resultSet.next()) {\n    log.debug(resultSet.getString(\"foo\"));\n}\n</code></pre>\n\n<p>I would like to parse my queries BEFORE running them. Essentially, I want to create an array for column labels that will match the value expected by the resultSet.get** method. For illustration purpose, I would like to replace the loop above by this and get the same results:</p>\n\n<pre><code>//Show my \"foo\" column results\nwhile (resultSet.next()) {\n    log.debug(resultSet.getString(arrayOfColumns.get(0)));\n}\n</code></pre>\n\n<p>This seems easy. I could parse my statement with a simple regex that takes the string between SELECT and FROM, creating groups using the column delimiter, and building arrayOfColumns from the groups. But JDBC has specific ways to deal with aliases for example. For the second column, this naive parser would return the entire \"bar AS barAlias\" where I believe that resultSet.get** expects \"barAlias\". It will tell me \"The column name bar As barAlias is not valid.\"</p>\n\n<p>Essentially, I would like to understand the JBDC column label parsing behavior in order to replicate it. </p>\n\n<p>NOTE, I am aware that I can get columns by index from the resultSet object. That is not the objective here. Also, I do not want to use any JDBC related method (I understand that the preparedStatement metadata is available). Think of this as a theoretical questions where do not have a JDBC library and MUST use regular expressions.</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662450489,"creation_date":1662399363,"answer_id":73612950,"question_id":73612889,"body_markdown":"```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.util.ArrayList.size()&#39; on a null object reference\r\n    at com.example.recyclerview_practice_4.Adapter.RecyclerViewCustomAdapter.getItemCount(RecyclerViewCustomAdapter.java:45)\r\n```\r\n\r\n&lt;strike&gt;\r\nseems like your JSON does not contain an array called &quot;articles&quot;, so you get a null pointer when attempting to ask for the `.length()` of a null object.\r\n&lt;/strike&gt;\r\n\r\nSorry that&#39;s not your problem.\r\n\r\nThe problem is your `RecyclerViewCustomAdapter` but you have not shared the code for that class. Inside that class you call `.size()` on a null object.","title":"Is there solution i&#39;m facing E/AndroidRuntime: FATAL EXCEPTION:","body":"<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'int java.util.ArrayList.size()' on a null object reference\n    at com.example.recyclerview_practice_4.Adapter.RecyclerViewCustomAdapter.getItemCount(RecyclerViewCustomAdapter.java:45)\n</code></pre>\n<strike>\nseems like your JSON does not contain an array called \"articles\", so you get a null pointer when attempting to ask for the `.length()` of a null object.\n</strike>\n<p>Sorry that's not your problem.</p>\n<p>The problem is your <code>RecyclerViewCustomAdapter</code> but you have not shared the code for that class. Inside that class you call <code>.size()</code> on a null object.</p>\n"}],"owner":{"account_id":26252445,"reputation":1,"user_id":19925037,"display_name":"Adarsh Kumar Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1662399392,"answer_count":1,"score":-1,"last_activity_date":1662450489,"creation_date":1662399030,"question_id":73612889,"body_markdown":"    2022-09-05 22:15:46.726 5385-5385/com.example.recyclerview_practice_4 E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.recyclerview_practice_4, PID: 5385\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.util.ArrayList.size()&#39; on a null object reference\r\n        at com.example.recyclerview_practice_4.Adapter.RecyclerViewCustomAdapter.getItemCount(RecyclerViewCustomAdapter.java:45)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4044)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3849)\r\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3470)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2938)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:796)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:731)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n2022-09-05 22:20:54.963 5452-5452/com.example.recyclerview_practice_4 E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.recyclerview_practice_4, PID: 5452\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.util.ArrayList.size()&#39; on a null object reference\r\n        at com.example.recyclerview_practice_4.Adapter.RecyclerViewCustomAdapter.getItemCount(RecyclerViewCustomAdapter.java:45)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4044)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3849)\r\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3470)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2938)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:796)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:731)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n2022-09-05 22:28:22.360 5544-5544/com.example.recyclerview_practice_4 E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.recyclerview_practice_4, PID: 5544\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.util.ArrayList.size()&#39; on a null object reference\r\n        at com.example.recyclerview_practice_4.Adapter.RecyclerViewCustomAdapter.getItemCount(RecyclerViewCustomAdapter.java:45)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4044)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3849)\r\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\r\n        at android.view.View.layout(View.java:22844)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3470)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2938)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:796)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:731)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n    \r\n\r\n\r\n\r\n\r\n**here i&#39;m providing my java code and yes i&#39;m a beginner so pls i&#39;m sorry for any silly work**\r\n**Some of the things which i want to share is that**\r\n**1)i&#39;ve checked my api key**\r\n**2)and for some reason for small Json data it&#39;s working but for little big data like news\r\nit&#39;s not**\r\n**3)i&#39;ve tried a lot,find out my issue but i was unable to rectify it**\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        recyclerView = findViewById(R.id.recyclerView);\r\n        RequestQueue requestQueue;\r\n        requestQueue = Volley.newRequestQueue(this);\r\n\r\n\r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n\r\n                try {\r\n                    JSONArray article_array = response.getJSONArray(&quot;articles&quot;);\r\n                    for (int i = 0; i &lt; article_array.length(); i++) {\r\n                        JSONObject object = article_array.getJSONObject(i);\r\n                        News news = new News(object.getString(&quot;author&quot;), object.getString(&quot;title&quot;),\r\n                                object.getString(&quot;description&quot;), object.getString(&quot;url&quot;),\r\n                                object.getString(&quot;urlToImage&quot;), object.getString(&quot;publishedAt&quot;));\r\n                        newsArrayList.add(news);\r\n                    }\r\n\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Log.d(&quot;fine&quot;, &quot;Something Wrong&quot; + error);\r\n                Toast.makeText(MainActivity.this, &quot;Something Wrong &quot; + error, Toast.LENGTH_SHORT).show();\r\n                error.printStackTrace();\r\n            }\r\n        });\r\n        requestQueue.add(request);\r\n        RecyclerViewCustomAdapter recyclerViewCustomAdapter = new RecyclerViewCustomAdapter(this, newsArrayList);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(recyclerViewCustomAdapter);\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/black&quot;\r\n    \r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        &gt;\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_height=&quot;335dp&quot;\r\n            android:id=&quot;@+id/card&quot;\r\n            app:cardCornerRadius=&quot;5dp&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:background=&quot;#BEDFFF&quot;\r\n            android:backgroundTint=&quot;#BEDBF8&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            &gt;\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:id=&quot;@+id/constraint_1&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:id=&quot;@+id/linearlayout_cardview_activity_1&quot;\r\n                    android:padding=&quot;10dp&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;@id/constraint_1&quot;\r\n                    app:layout_constraintLeft_toLeftOf=&quot;@id/constraint_1&quot;\r\n                    app:layout_constraintRight_toRightOf=&quot;@id/constraint_1&quot;\r\n                    android:orientation=&quot;vertical&quot;\r\n                    &gt;\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/newsimage&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;200dp&quot;\r\n                        android:src=&quot;@mipmap/ic_launcher_round&quot;\r\n                        /&gt;\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/newsheadline&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;70dp&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textAlignment=&quot;center&quot;\r\n                        android:text=&quot;&quot;\r\n                        android:padding=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        /&gt;\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/newsauthor&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;author&quot;\r\n                        android:padding=&quot;2dp&quot;\r\n                        android:textStyle=&quot;italic&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n","title":"Is there solution i&#39;m facing E/AndroidRuntime: FATAL EXCEPTION:","body":"<pre><code>2022-09-05 22:15:46.726 5385-5385/com.example.recyclerview_practice_4 E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.recyclerview_practice_4, PID: 5385\njava.lang.NullPointerException: Attempt to invoke virtual method 'int java.util.ArrayList.size()' on a null object reference\n    at com.example.recyclerview_practice_4.Adapter.RecyclerViewCustomAdapter.getItemCount(RecyclerViewCustomAdapter.java:45)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4044)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3849)\n    at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\n    at android.view.View.layout(View.java:22844)\n    at android.view.ViewGroup.layout(ViewGroup.java:6389)\n    at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\n    at android.view.View.layout(View.java:22844)\n    at android.view.ViewGroup.layout(ViewGroup.java:6389)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n    at android.view.View.layout(View.java:22844)\n    at android.view.ViewGroup.layout(ViewGroup.java:6389)\n    at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\n    at android.view.View.layout(View.java:22844)\n    at android.view.ViewGroup.layout(ViewGroup.java:6389)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n    at android.view.View.layout(View.java:22844)\n    at android.view.ViewGroup.layout(ViewGroup.java:6389)\n    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n    at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n    at android.view.View.layout(View.java:22844)\n    at android.view.ViewGroup.layout(ViewGroup.java:6389)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n    at com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\n    at android.view.View.layout(View.java:22844)\n    at android.view.ViewGroup.layout(ViewGroup.java:6389)\n    at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3470)\n    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2938)\n    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\n    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:796)\n    at android.view.Choreographer.doFrame(Choreographer.java:731)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>2022-09-05 22:20:54.963 5452-5452/com.example.recyclerview_practice_4 E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.recyclerview_practice_4, PID: 5452\njava.lang.NullPointerException: Attempt to invoke virtual method 'int java.util.ArrayList.size()' on a null object reference\nat com.example.recyclerview_practice_4.Adapter.RecyclerViewCustomAdapter.getItemCount(RecyclerViewCustomAdapter.java:45)\nat androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4044)\nat androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3849)\nat androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\nat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\nat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\nat android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\nat android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\nat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\nat com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3470)\nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2938)\nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\nat android.view.Choreographer.doCallbacks(Choreographer.java:796)\nat android.view.Choreographer.doFrame(Choreographer.java:731)\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n2022-09-05 22:28:22.360 5544-5544/com.example.recyclerview_practice_4 E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.recyclerview_practice_4, PID: 5544\njava.lang.NullPointerException: Attempt to invoke virtual method 'int java.util.ArrayList.size()' on a null object reference\nat com.example.recyclerview_practice_4.Adapter.RecyclerViewCustomAdapter.getItemCount(RecyclerViewCustomAdapter.java:45)\nat androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4044)\nat androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3849)\nat androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\nat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\nat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\nat android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\nat android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\nat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\nat com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\nat android.view.View.layout(View.java:22844)\nat android.view.ViewGroup.layout(ViewGroup.java:6389)\nat android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3470)\nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2938)\nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\nat android.view.Choreographer.doCallbacks(Choreographer.java:796)\nat android.view.Choreographer.doFrame(Choreographer.java:731)\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)</p>\n<p><strong>here i'm providing my java code and yes i'm a beginner so pls i'm sorry for any silly work</strong>\n<strong>Some of the things which i want to share is that</strong>\n<strong>1)i've checked my api key</strong>\n<strong>2)and for some reason for small Json data it's working but for little big data like news\nit's not</strong>\n<strong>3)i've tried a lot,find out my issue but i was unable to rectify it</strong></p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    recyclerView = findViewById(R.id.recyclerView);\n    RequestQueue requestQueue;\n    requestQueue = Volley.newRequestQueue(this);\n\n\n    JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\n        @Override\n        public void onResponse(JSONObject response) {\n\n            try {\n                JSONArray article_array = response.getJSONArray(&quot;articles&quot;);\n                for (int i = 0; i &lt; article_array.length(); i++) {\n                    JSONObject object = article_array.getJSONObject(i);\n                    News news = new News(object.getString(&quot;author&quot;), object.getString(&quot;title&quot;),\n                            object.getString(&quot;description&quot;), object.getString(&quot;url&quot;),\n                            object.getString(&quot;urlToImage&quot;), object.getString(&quot;publishedAt&quot;));\n                    newsArrayList.add(news);\n                }\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Log.d(&quot;fine&quot;, &quot;Something Wrong&quot; + error);\n            Toast.makeText(MainActivity.this, &quot;Something Wrong &quot; + error, Toast.LENGTH_SHORT).show();\n            error.printStackTrace();\n        }\n    });\n    requestQueue.add(request);\n    RecyclerViewCustomAdapter recyclerViewCustomAdapter = new RecyclerViewCustomAdapter(this, newsArrayList);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setAdapter(recyclerViewCustomAdapter);\n\n}\n</code></pre>\n<p>}</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/black&quot;\n\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    &gt;\n    &lt;androidx.cardview.widget.CardView\n        android:layout_height=&quot;335dp&quot;\n        android:id=&quot;@+id/card&quot;\n        app:cardCornerRadius=&quot;5dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:background=&quot;#BEDFFF&quot;\n        android:backgroundTint=&quot;#BEDBF8&quot;\n        android:layout_width=&quot;match_parent&quot;\n        &gt;\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:id=&quot;@+id/constraint_1&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/linearlayout_cardview_activity_1&quot;\n                android:padding=&quot;10dp&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;@id/constraint_1&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;@id/constraint_1&quot;\n                app:layout_constraintRight_toRightOf=&quot;@id/constraint_1&quot;\n                android:orientation=&quot;vertical&quot;\n                &gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/newsimage&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;200dp&quot;\n                    android:src=&quot;@mipmap/ic_launcher_round&quot;\n                    /&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/newsheadline&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;70dp&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:textAlignment=&quot;center&quot;\n                    android:text=&quot;&quot;\n                    android:padding=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    /&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/newsauthor&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;author&quot;\n                    android:padding=&quot;2dp&quot;\n                    android:textStyle=&quot;italic&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    /&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","webclient","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":13859480,"reputation":282,"user_id":10005456,"display_name":"saij9999"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1612423408,"creation_date":1612423408,"answer_id":66041009,"question_id":64457096,"body_markdown":"the problem solved after adding the client Connector.\r\n\r\n```\r\n private ClientHttpConnector connector() {\r\n    return new \r\n ReactorClientHttpConnector(HttpClient.create(ConnectionProvider.newConnection()));\r\n  }\r\n\r\nWebClient.builder()\r\n        .clientConnector(connector())\r\n        .exchangeStrategies(exchangeStrategies)\r\n        .baseUrl(baseurl)\r\n        .build();","title":"Spring web flux WebClient : Connection rest by peers,#block terminated with an error.Error has been observed at the following site","body":"<p>the problem solved after adding the client Connector.</p>\n<pre><code> private ClientHttpConnector connector() {\n    return new \n ReactorClientHttpConnector(HttpClient.create(ConnectionProvider.newConnection()));\n  }\n\nWebClient.builder()\n        .clientConnector(connector())\n        .exchangeStrategies(exchangeStrategies)\n        .baseUrl(baseurl)\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7746434,"reputation":537,"user_id":5864025,"display_name":"Anthony Vinay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662450442,"creation_date":1662450442,"answer_id":73618473,"question_id":64457096,"body_markdown":"For me adding the baseUrl solved the issue. Just `.mutate()` the existing instance of `WebClient/WebTestClient` and set the `.baseUrl(&lt;&gt;)`","title":"Spring web flux WebClient : Connection rest by peers,#block terminated with an error.Error has been observed at the following site","body":"<p>For me adding the baseUrl solved the issue. Just <code>.mutate()</code> the existing instance of <code>WebClient/WebTestClient</code> and set the <code>.baseUrl(&lt;&gt;)</code></p>\n"}],"owner":{"account_id":13859480,"reputation":282,"user_id":10005456,"display_name":"saij9999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26041,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":66041009,"answer_count":2,"score":5,"last_activity_date":1662450442,"creation_date":1603257272,"question_id":64457096,"body_markdown":"i am using spring web flux, web client to call a rest api. i am getting the following error.\r\n\r\n```\r\nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8 \tSuppressed: java.lang.Exception: #block terminated with an error \r\nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8 \t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.3.2.RELEASE.jar!/:3.3.2.RELEASE] \r\nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8 \t\t... 97 common frames omitted \r\nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8 Caused by: io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer \r\nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8 \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:  \r\nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8 Error has been observed at the following site(s): \r\nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8 \t|_ checkpoint ? Request to GET https://cc-qa.app/api/matches/list/?status=current&amp;page=0&amp;size=100 [DefaultWebClient] \r\n```\r\nis the problem with my web client call or the api i am calling ?\r\ni am confused as it showing many error like Connection rest by peers,#block terminated with an error.Error has been observed at the following site.\r\nhow to solve this ?\r\nplease find the code below\r\n\r\n```\r\n  @Bean\r\n  public WebClient restClient() {\r\n\r\n    String baseurl = env.getProperty(&quot;base-url&quot;);\r\n    int memoryLimit = Integer.parseInt(env.getProperty(&quot;webclient-buffer-size&quot;));\r\n\r\n    ExchangeStrategies exchangeStrategies =\r\n        ExchangeStrategies.builder()\r\n            .codecs(\r\n                configurer -&gt; configurer.defaultCodecs().maxInMemorySize(1024 * 1024 * memoryLimit))\r\n            .build();\r\n    return WebClient.builder()\r\n        .exchangeStrategies(exchangeStrategies)\r\n        .baseUrl(baseurl)\r\n        .build();\r\n  }\r\n```\r\n\r\nthis the api call:\r\n```\r\nwebClient\r\n              .get()\r\n              .uri(&quot;/api/matches/list/?status=current&amp;page=0&amp;size=100&quot;)\r\n              .header(&quot;authorization&quot;, accessToken)\r\n              .retrieve()\r\n              .bodyToMono(InfoPayload.class)\r\n              .block();\r\n```\r\n\r\nplease help me to find the issue . thanks in advance","title":"Spring web flux WebClient : Connection rest by peers,#block terminated with an error.Error has been observed at the following site","body":"<p>i am using spring web flux, web client to call a rest api. i am getting the following error.</p>\n<pre><code>Oct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8  Suppressed: java.lang.Exception: #block terminated with an error \nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8      at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.3.2.RELEASE.jar!/:3.3.2.RELEASE] \nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8      ... 97 common frames omitted \nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8 Caused by: io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer \nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8  Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:  \nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8 Error has been observed at the following site(s): \nOct 21 09:46:27 ql-hybrid-stg web.7d755d6967-5d7v8  |_ checkpoint ? Request to GET https://cc-qa.app/api/matches/list/?status=current&amp;page=0&amp;size=100 [DefaultWebClient] \n</code></pre>\n<p>is the problem with my web client call or the api i am calling ?\ni am confused as it showing many error like Connection rest by peers,#block terminated with an error.Error has been observed at the following site.\nhow to solve this ?\nplease find the code below</p>\n<pre><code>  @Bean\n  public WebClient restClient() {\n\n    String baseurl = env.getProperty(&quot;base-url&quot;);\n    int memoryLimit = Integer.parseInt(env.getProperty(&quot;webclient-buffer-size&quot;));\n\n    ExchangeStrategies exchangeStrategies =\n        ExchangeStrategies.builder()\n            .codecs(\n                configurer -&gt; configurer.defaultCodecs().maxInMemorySize(1024 * 1024 * memoryLimit))\n            .build();\n    return WebClient.builder()\n        .exchangeStrategies(exchangeStrategies)\n        .baseUrl(baseurl)\n        .build();\n  }\n</code></pre>\n<p>this the api call:</p>\n<pre><code>webClient\n              .get()\n              .uri(&quot;/api/matches/list/?status=current&amp;page=0&amp;size=100&quot;)\n              .header(&quot;authorization&quot;, accessToken)\n              .retrieve()\n              .bodyToMono(InfoPayload.class)\n              .block();\n</code></pre>\n<p>please help me to find the issue . thanks in advance</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1662445113,"post_id":73616969,"comment_id":130000187,"body_markdown":"The main problem is the opinion that there is `@OneToMany` relationship between posts and comments is wrong. Yes, they are somehow related, however in JPA terms `@OneToMany` is actually `@OneToFew` like &quot;person may be reachable by a couple of phone numbers&quot;, assuming the same about posts and comments is incorrect.","body":"The main problem is the opinion that there is <code>@OneToMany</code> relationship between posts and comments is wrong. Yes, they are somehow related, however in JPA terms <code>@OneToMany</code> is actually <code>@OneToFew</code> like &quot;person may be reachable by a couple of phone numbers&quot;, assuming the same about posts and comments is incorrect."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1662448046,"post_id":73616969,"comment_id":130001004,"body_markdown":"You can check unidirectional mappings to avoid unnecessary queries.\nCurrently you are using bidirectional approach. If you have really big data about comments and posts which contains comments, you can create repository to fetch and use it in proper way. If you don&#39;t have really big data, you can simply use bidirectional approach for mappings and simply you can call getter to fetch data from db.","body":"You can check unidirectional mappings to avoid unnecessary queries. Currently you are using bidirectional approach. If you have really big data about comments and posts which contains comments, you can create repository to fetch and use it in proper way. If you don&#39;t have really big data, you can simply use bidirectional approach for mappings and simply you can call getter to fetch data from db."}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662450078,"creation_date":1662449607,"answer_id":73618290,"question_id":73616969,"body_markdown":"N+1 problem: fetch data in loop and If you have 2000+ data for posts and comments, you need to avoid to fetch for each data.\r\n\r\n    // Ex: 2000 posts is fetched\r\n    for(Post post: userRepository.findById(&quot;1&quot;).getPosts()) {\r\n       // fetching in loop: you go to database for each post(2000) and get comments of posts.\r\n       Set&lt;Comment&gt; comments = post.getComments();\r\n    }\r\n\r\nSolution: create a repository for Post and fetch with custom repository. There are a lot of way to fetch eagerly. Ex: EntityGraph, FetchType.EAGER, JPQL ...\r\n\r\n    @Query(value = &quot;select p from Post p fetch left join p.comments c where p.id=:postId)\r\n    public Set&lt;Post&gt; postsWithComments(@Param(&quot;postId&quot;) Long postId)\r\n\r\n    Set&lt;Post&gt; posts = postRepository.postWithComments(1L);\r\n\r\nEven you need to be careful when fetching data eagerly, If there are a lot of comments for post simply use another repository for Comment.\r\n\r\n    public Set&lt;Comment&gt; findByPostId(String postId);\r\n    Set&lt;Comment&gt; comments = commentRepository.findByPostId(1L);\r\n\r\nEven if there are 60000 comments for a single post. you need to fetch with pagination which can be helpful in critical times.\r\n\r\n    public Page&lt;Comment&gt; findByPostId(Long postId, Pageable pageable);\r\n    Page&lt;Comment&gt; comments = commentRepository.findByPostId(1L, PageRequest.of(2000));\r\n    int loopCounter = comments.getTotalElements() % 2000 == 0 ? comments.getTotalElements() / 2000 : comments.getTotalElements() / 2000 + 1;\r\n    int i=1;\r\n    do{\r\n    \r\n       // do something\r\n       i++;\r\n    }while(i &lt;= loopCounter);\r\n\r\nFor further things you need to use cache strategies for improving performance.\r\n\r\n\r\n\r\nAlso you need to define what can be the response time of request and what is actual response time. You can use fetch with left join or simply another request. In the long running processes you can use async operations as well.","title":"What is the best practice to create repository on Spring Boot?","body":"<p>N+1 problem: fetch data in loop and If you have 2000+ data for posts and comments, you need to avoid to fetch for each data.</p>\n<pre><code>// Ex: 2000 posts is fetched\nfor(Post post: userRepository.findById(&quot;1&quot;).getPosts()) {\n   // fetching in loop: you go to database for each post(2000) and get comments of posts.\n   Set&lt;Comment&gt; comments = post.getComments();\n}\n</code></pre>\n<p>Solution: create a repository for Post and fetch with custom repository. There are a lot of way to fetch eagerly. Ex: EntityGraph, FetchType.EAGER, JPQL ...</p>\n<pre><code>@Query(value = &quot;select p from Post p fetch left join p.comments c where p.id=:postId)\npublic Set&lt;Post&gt; postsWithComments(@Param(&quot;postId&quot;) Long postId)\n\nSet&lt;Post&gt; posts = postRepository.postWithComments(1L);\n</code></pre>\n<p>Even you need to be careful when fetching data eagerly, If there are a lot of comments for post simply use another repository for Comment.</p>\n<pre><code>public Set&lt;Comment&gt; findByPostId(String postId);\nSet&lt;Comment&gt; comments = commentRepository.findByPostId(1L);\n</code></pre>\n<p>Even if there are 60000 comments for a single post. you need to fetch with pagination which can be helpful in critical times.</p>\n<pre><code>public Page&lt;Comment&gt; findByPostId(Long postId, Pageable pageable);\nPage&lt;Comment&gt; comments = commentRepository.findByPostId(1L, PageRequest.of(2000));\nint loopCounter = comments.getTotalElements() % 2000 == 0 ? comments.getTotalElements() / 2000 : comments.getTotalElements() / 2000 + 1;\nint i=1;\ndo{\n\n   // do something\n   i++;\n}while(i &lt;= loopCounter);\n</code></pre>\n<p>For further things you need to use cache strategies for improving performance.</p>\n<p>Also you need to define what can be the response time of request and what is actual response time. You can use fetch with left join or simply another request. In the long running processes you can use async operations as well.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662450020,"creation_date":1662450020,"answer_id":73618376,"question_id":73616969,"body_markdown":"&quot;best&quot; is not well defined. \r\nBut here is what is probably to be considered the canonic stance the Spring Data Team has on this question.\r\n\r\nYou definitely should *NOT* have one repository per entity (s. https://stackoverflow.com/questions/21265262/are-you-supposed-to-have-one-repository-per-table-in-jpa).\r\n\r\nThe reason is certainly not that you&#39;d have to many classes/interfaces. \r\nClasses and interfaces are really cheap to create both at implementation time and at run time. \r\nIt is kind of hard to have so many of them that it poses a significant problem. \r\nAnd if it would, already the entities would cause a problem.\r\n\r\nThe reason is that repositories handle aggregates, not entities. \r\nAlthough, admittedly the difference is hard to see in JPA based code.\r\nSo your question boils down to: What should be an aggregate.\r\n\r\nAt least part of the answer is already in your question:\r\n&gt; In the second solution, there are performance issues. To load, add or remove nested entities, the root entity must be loaded first. To add entity, other related entities like User Entity in Comment Entity must be loaded from userRepository. As a result, these additional loadings cause a decrease in speed and total performance.\r\n\r\nThe concepts of aggregate and repository are widely adopted in the microservice community because they lead to good scalability.\r\nThis certainly isn&#39;t the same as &quot;speed and total performance&quot; but certainly related. \r\n\r\nSo how go these two view together? \r\n_Andrey B. Panfilov_ is onto something with their comment: \r\n&gt; @OneToMany is actually @OneToFew like &quot;person may be reachable by a couple of phone numbers&quot;.\r\nBut it only describes a heuristic.\r\n\r\nThe real rule is: An aggregate should group classes that need to be consistent at all times.\r\nThe canonical example is a purchase order with its line items. \r\nLine items on their own don&#39;t make sense.\r\nAnd if you modify a line item (or add/remove one) you might have to update the purchase order, for example in order to update the total price or in order to maintain constraints like a maximum value.\r\nSo purchase order should be an aggregate including its line items.\r\n\r\nThis also means that you need to completely load an aggregate.\r\nThis in turn means that it can&#39;t be to big, because otherwise you&#39;d run into performance problems.\r\n\r\n\r\nIn your example of `Post`, `Comment`, and `User`, `Post` might form an aggregate with `Comment`. \r\nBut in most systems the number of comments is close to unlimited and can be huge.\r\nI therefore would vote for making each entity in your example its own aggregate.\r\n\r\nFor more input about aggregates and repositories you might find [Spring Data JDBC, References, and Aggregates][1] interesting. \r\nIt is about Spring Data JDBC not Spring Data JPA, but the conceptual ideas do apply.\r\n\r\n\r\n  [1]: https://spring.io/blog/2018/09/24/spring-data-jdbc-references-and-aggregates","title":"What is the best practice to create repository on Spring Boot?","body":"<p>&quot;best&quot; is not well defined.\nBut here is what is probably to be considered the canonic stance the Spring Data Team has on this question.</p>\n<p>You definitely should <em>NOT</em> have one repository per entity (s. <a href=\"https://stackoverflow.com/questions/21265262/are-you-supposed-to-have-one-repository-per-table-in-jpa\">Are you supposed to have one repository per table in JPA?</a>).</p>\n<p>The reason is certainly not that you'd have to many classes/interfaces.\nClasses and interfaces are really cheap to create both at implementation time and at run time.\nIt is kind of hard to have so many of them that it poses a significant problem.\nAnd if it would, already the entities would cause a problem.</p>\n<p>The reason is that repositories handle aggregates, not entities.\nAlthough, admittedly the difference is hard to see in JPA based code.\nSo your question boils down to: What should be an aggregate.</p>\n<p>At least part of the answer is already in your question:</p>\n<blockquote>\n<p>In the second solution, there are performance issues. To load, add or remove nested entities, the root entity must be loaded first. To add entity, other related entities like User Entity in Comment Entity must be loaded from userRepository. As a result, these additional loadings cause a decrease in speed and total performance.</p>\n</blockquote>\n<p>The concepts of aggregate and repository are widely adopted in the microservice community because they lead to good scalability.\nThis certainly isn't the same as &quot;speed and total performance&quot; but certainly related.</p>\n<p>So how go these two view together?\n<em>Andrey B. Panfilov</em> is onto something with their comment:</p>\n<blockquote>\n<p>@OneToMany is actually @OneToFew like &quot;person may be reachable by a couple of phone numbers&quot;.\nBut it only describes a heuristic.</p>\n</blockquote>\n<p>The real rule is: An aggregate should group classes that need to be consistent at all times.\nThe canonical example is a purchase order with its line items.\nLine items on their own don't make sense.\nAnd if you modify a line item (or add/remove one) you might have to update the purchase order, for example in order to update the total price or in order to maintain constraints like a maximum value.\nSo purchase order should be an aggregate including its line items.</p>\n<p>This also means that you need to completely load an aggregate.\nThis in turn means that it can't be to big, because otherwise you'd run into performance problems.</p>\n<p>In your example of <code>Post</code>, <code>Comment</code>, and <code>User</code>, <code>Post</code> might form an aggregate with <code>Comment</code>.\nBut in most systems the number of comments is close to unlimited and can be huge.\nI therefore would vote for making each entity in your example its own aggregate.</p>\n<p>For more input about aggregates and repositories you might find <a href=\"https://spring.io/blog/2018/09/24/spring-data-jdbc-references-and-aggregates\" rel=\"nofollow noreferrer\">Spring Data JDBC, References, and Aggregates</a> interesting.\nIt is about Spring Data JDBC not Spring Data JPA, but the conceptual ideas do apply.</p>\n"}],"owner":{"account_id":469638,"reputation":2358,"user_id":876325,"accept_rate":60,"display_name":"ArMaN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662450078,"creation_date":1662441093,"question_id":73616969,"body_markdown":"I want to create one to many mapping like Post has many Comments. I have two solutions for adding comments. The first solution is to create a repository for the comment and the second solution is to use PostRepository and get post and add comment to the post. Each solution has its own challenges.\r\n\r\nIn the first solution, creating repositories per entity increases the number of repositories too much and based on the DDD, repositories should be created for Aggregate Roots.\r\n\r\nIn the second solution, there are performance issues. To load, add or remove nested entities, the root entity must be loaded first. To add entity, other related entities like User Entity in Comment Entity must be loaded from userRepository. As a result, these additional loadings cause a decrease in speed and total performance.\r\n\r\nWhat is the best practice to load, add or remove nested entities?\r\n\r\nFile `Post.java`\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;posts&quot;)\r\n@Getter\r\n@Setter\r\npublic class Post\r\n{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Size(max = 250)\r\n    private String description;\r\n\r\n    @NotNull\r\n    @Lob\r\n    private String content;\r\n\r\n    @OneToMany(mappedBy = &quot;post&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private User user;\r\n}\r\n```\r\n\r\nFile `Comment.java`\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;comments&quot;)\r\n@Getter\r\n@Setter\r\npublic class Comment {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Lob\r\n    private String text;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;post_id&quot;, nullable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private Post post;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private User user;\r\n}\r\n```\r\n    \r\n    @Entity\r\n    @Table(name = &quot;Users&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class User\r\n    {   \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id; \r\n    \r\n        @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        private Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\r\n    \r\n        @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        private Set&lt;Post&gt; posts = new HashSet&lt;&gt;();\r\n    }","title":"What is the best practice to create repository on Spring Boot?","body":"<p>I want to create one to many mapping like Post has many Comments. I have two solutions for adding comments. The first solution is to create a repository for the comment and the second solution is to use PostRepository and get post and add comment to the post. Each solution has its own challenges.</p>\n<p>In the first solution, creating repositories per entity increases the number of repositories too much and based on the DDD, repositories should be created for Aggregate Roots.</p>\n<p>In the second solution, there are performance issues. To load, add or remove nested entities, the root entity must be loaded first. To add entity, other related entities like User Entity in Comment Entity must be loaded from userRepository. As a result, these additional loadings cause a decrease in speed and total performance.</p>\n<p>What is the best practice to load, add or remove nested entities?</p>\n<p>File <code>Post.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;posts&quot;)\n@Getter\n@Setter\npublic class Post\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Size(max = 250)\n    private String description;\n\n    @NotNull\n    @Lob\n    private String content;\n\n    @OneToMany(mappedBy = &quot;post&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private User user;\n}\n</code></pre>\n<p>File <code>Comment.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;comments&quot;)\n@Getter\n@Setter\npublic class Comment {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @Lob\n    private String text;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;post_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Post post;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private User user;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;Users&quot;)\n@Getter\n@Setter\npublic class User\n{   \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id; \n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private Set&lt;Post&gt; posts = new HashSet&lt;&gt;();\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","tycho"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1662444082,"post_id":73617148,"comment_id":129999933,"body_markdown":"In your `pom.xml`, does adding `&lt;resolveWithExecutionEnvironmentConstraints&gt;false&lt;/resolveWithExecutionEnvironmentConstraints&gt;` to your target platform configuration fix it (for details see https://www.eclipse.org/justj/?page=documentation)? Otherwise, show your `pom.xml`.","body":"In your <code>pom.xml</code>, does adding <code>&lt;resolveWithExecutionEnvironmentConstraints&gt;false&lt;&#47;resolveWi&zwnj;&#8203;thExecutionEnvironme&zwnj;&#8203;ntConstraints&gt;</code> to your target platform configuration fix it (for details see <a href=\"https://www.eclipse.org/justj/?page=documentation\" rel=\"nofollow noreferrer\">eclipse.org/justj/?page=documentation</a>)? Otherwise, show your <code>pom.xml</code>."},{"owner":{"account_id":557330,"reputation":960,"user_id":639404,"accept_rate":79,"display_name":"OGP"},"score":0,"creation_date":1662444474,"post_id":73617148,"comment_id":130000014,"body_markdown":"Yes, I tried the above switch. Did not help.\n\nThe main pom is here:\n\nhttps://drive.google.com/file/d/1XIe6dkujNygpsvZ-KY6puqMUOTHrKsPa/view?usp=sharing","body":"Yes, I tried the above switch. Did not help.  The main pom is here:  <a href=\"https://drive.google.com/file/d/1XIe6dkujNygpsvZ-KY6puqMUOTHrKsPa/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1XIe6dkujNygpsvZ-KY6puqMUOTHrKsPa/&hellip;</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1662446118,"post_id":73617148,"comment_id":130000415,"body_markdown":"Eclipse Mars and Tycho 1.2.0, are you kidding? Tycho 1.2.0 is probably too old to understand `resolveWithExecutionEnvironmentConstraints`. Please improve your question by including the content of your `pom.xml`.","body":"Eclipse Mars and Tycho 1.2.0, are you kidding? Tycho 1.2.0 is probably too old to understand <code>resolveWithExecutionEnvironmentConstraints</code>. Please improve your question by including the content of your <code>pom.xml</code>."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1662449061,"post_id":73617148,"comment_id":130001322,"body_markdown":"That version of the formattedtext appears to require Java 11, it probably isn&#39;t going to run with just Java 8.","body":"That version of the formattedtext appears to require Java 11, it probably isn&#39;t going to run with just Java 8."},{"owner":{"account_id":557330,"reputation":960,"user_id":639404,"accept_rate":79,"display_name":"OGP"},"score":0,"creation_date":1662450158,"post_id":73617148,"comment_id":130001704,"body_markdown":"Yes, I know about EOL versions. Unfortunately, we cannot go from Mars. Regarding Tycho, is there any good version to move to?\n\nAnd for the version of FormattedText. Can we specify the old version to pull?","body":"Yes, I know about EOL versions. Unfortunately, we cannot go from Mars. Regarding Tycho, is there any good version to move to?  And for the version of FormattedText. Can we specify the old version to pull?"},{"owner":{"account_id":557330,"reputation":960,"user_id":639404,"accept_rate":79,"display_name":"OGP"},"score":0,"creation_date":1662450905,"post_id":73617148,"comment_id":130001949,"body_markdown":"I updated Tycho to 2.3.0 and it resolved. \n\nPlease create an answer so I can approve. Thank you all very much.","body":"I updated Tycho to 2.3.0 and it resolved.   Please create an answer so I can approve. Thank you all very much."}],"owner":{"account_id":557330,"reputation":960,"user_id":639404,"accept_rate":79,"display_name":"OGP"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662450077,"creation_date":1662442709,"question_id":73617148,"body_markdown":"There is an old Java8 OSGI project. The maven build started to fail after the recent (Aug 2022) update of the **org.eclipse.nebula.widgets.formattedtext** to the version **1.0.0.202208171905**.\r\n\r\nThe older version **1.0.0.202205212120** was OK.\r\n\r\nThe updated one produces the error:\r\n\r\n    [ERROR] Cannot resolve project dependencies:\r\n    [ERROR]   Software being installed: com.company.product 1.2.3.qualifier\r\n    [ERROR]   Missing requirement: org.eclipse.nebula.widgets.formattedtext 1.0.0.202208171905 requires &#39;osgi.ee; (&amp;(osgi.ee=JavaSE)(version=11))&#39; but it could not be found\r\n    [ERROR]   Cannot satisfy dependency: com.company.product 1.2.3.qualifier depends on: osgi.bundle; org.eclipse.nebula.widgets.formattedtext 1.0.0\r\n    [ERROR]\r\n    [ERROR] See http://wiki.eclipse.org/Tycho/Dependency_Resolution_Troubleshooting for help.\r\n    [ERROR] Cannot resolve dependencies of MavenProject: com.company.product:com.company.product:1.2.3-SNAPSHOT @ C:\\dev\\designer\\com.company.product\\pom.xml: See log for details -&gt; [Help 1]\r\n\r\nWhat should be changed to make it work again?\r\nThank you\r\n\r\nP.S. The POM file is here: https://drive.google.com/file/d/1XIe6dkujNygpsvZ-KY6puqMUOTHrKsPa/view\r\n\r\n","title":"Old Equnox (Eclipse) project for Java8 failed to rebuild itself after a recent update","body":"<p>There is an old Java8 OSGI project. The maven build started to fail after the recent (Aug 2022) update of the <strong>org.eclipse.nebula.widgets.formattedtext</strong> to the version <strong>1.0.0.202208171905</strong>.</p>\n<p>The older version <strong>1.0.0.202205212120</strong> was OK.</p>\n<p>The updated one produces the error:</p>\n<pre><code>[ERROR] Cannot resolve project dependencies:\n[ERROR]   Software being installed: com.company.product 1.2.3.qualifier\n[ERROR]   Missing requirement: org.eclipse.nebula.widgets.formattedtext 1.0.0.202208171905 requires 'osgi.ee; (&amp;(osgi.ee=JavaSE)(version=11))' but it could not be found\n[ERROR]   Cannot satisfy dependency: com.company.product 1.2.3.qualifier depends on: osgi.bundle; org.eclipse.nebula.widgets.formattedtext 1.0.0\n[ERROR]\n[ERROR] See http://wiki.eclipse.org/Tycho/Dependency_Resolution_Troubleshooting for help.\n[ERROR] Cannot resolve dependencies of MavenProject: com.company.product:com.company.product:1.2.3-SNAPSHOT @ C:\\dev\\designer\\com.company.product\\pom.xml: See log for details -&gt; [Help 1]\n</code></pre>\n<p>What should be changed to make it work again?\nThank you</p>\n<p>P.S. The POM file is here: <a href=\"https://drive.google.com/file/d/1XIe6dkujNygpsvZ-KY6puqMUOTHrKsPa/view\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1XIe6dkujNygpsvZ-KY6puqMUOTHrKsPa/view</a></p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":418860,"reputation":3119,"user_id":795683,"display_name":"Sain Pradeep"},"score":0,"creation_date":1662442875,"post_id":73617130,"comment_id":129999701,"body_markdown":"when you are writing the line  Example1 e = new Example1(); you are calling the class constructor and initializing the class which also initializes the variable of class Example 1.","body":"when you are writing the line  Example1 e = new Example1(); you are calling the class constructor and initializing the class which also initializes the variable of class Example 1."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1662446018,"creation_date":1662443725,"answer_id":73617290,"question_id":73617130,"body_markdown":"When you write:\r\n \r\n    int b; // this is declaration\r\n\r\n`int b;` is a local variable. Method local variables need to be initialized before using them. And this is why you&#39;ve got an error.\r\n  \r\nWhen you write\r\n  \r\n     int b = 0; // this is initialization\r\n  \r\nWhen you write:\r\n\r\n      Example1 e = new Example1();  // This is an initialization\r\n\r\nPrimitive default value is zero when declared as class members. ","title":"There is two variable &#39;a&#39; and &#39;b&#39; which is not initialised. &#39;a&#39; variable is of class Example1 and &#39;b&#39; variable of class Main","body":"<p>When you write:</p>\n<pre><code>int b; // this is declaration\n</code></pre>\n<p><code>int b;</code> is a local variable. Method local variables need to be initialized before using them. And this is why you've got an error.</p>\n<p>When you write</p>\n<pre><code> int b = 0; // this is initialization\n</code></pre>\n<p>When you write:</p>\n<pre><code>  Example1 e = new Example1();  // This is an initialization\n</code></pre>\n<p>Primitive default value is zero when declared as class members.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662444953,"creation_date":1662444953,"answer_id":73617469,"question_id":73617130,"body_markdown":"&gt;as we know if we not initialised any variable in java then it take default value\r\n\r\nThis is true for class member [variables][1] but not for local variables. Refer to [Default initialization in java][2]\r\n\r\n`a` is a class member variable but `b` is a local variable.\r\n\r\nIn fact your code does not compile. Nonetheless, my IDE (which is [Eclipse][3]) still allows me to run code that does not compile. When I run the code, I get this error:\r\n```none\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tThe local variable b may not have been initialized\r\n```\r\nYou need to **explicitly** initialize local variables.\r\n\r\nConsider the following code:\r\n```java\r\nclass Example1 {\r\n    int a;\r\n}\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        int b = -1;\r\n        Example1 e = new Example1();\r\n        System.out.println(e.a);\r\n        System.out.println(b);\r\n    }    \r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html\r\n  [2]: https://stackoverflow.com/questions/15165238/default-initialization-in-java\r\n  [3]: https://www.eclipse.org/downloads/packages/release/2022-06/r/eclipse-ide-java-developers","title":"There is two variable &#39;a&#39; and &#39;b&#39; which is not initialised. &#39;a&#39; variable is of class Example1 and &#39;b&#39; variable of class Main","body":"<blockquote>\n<p>as we know if we not initialised any variable in java then it take default value</p>\n</blockquote>\n<p>This is true for class member <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html\" rel=\"nofollow noreferrer\">variables</a> but not for local variables. Refer to <a href=\"https://stackoverflow.com/questions/15165238/default-initialization-in-java\">Default initialization in java</a></p>\n<p><code>a</code> is a class member variable but <code>b</code> is a local variable.</p>\n<p>In fact your code does not compile. Nonetheless, my IDE (which is <a href=\"https://www.eclipse.org/downloads/packages/release/2022-06/r/eclipse-ide-java-developers\" rel=\"nofollow noreferrer\">Eclipse</a>) still allows me to run code that does not compile. When I run the code, I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    The local variable b may not have been initialized\n</code></pre>\n<p>You need to <strong>explicitly</strong> initialize local variables.</p>\n<p>Consider the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Example1 {\n    int a;\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        int b = -1;\n        Example1 e = new Example1();\n        System.out.println(e.a);\n        System.out.println(b);\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662449984,"creation_date":1662445008,"answer_id":73617479,"question_id":73617130,"body_markdown":"I think, java&#39;s documentation already explains why.\r\n\r\nHere:[Definite Assignment][1]\r\n&gt; For every access of a local variable or blank final field x, x must be definitely assigned before the access, or a compile-time error occurs.\r\n\r\n\r\nAnd here:[Initial Values of Variables][2]\r\n&gt; Every variable in a program must have a value before its value is used:\r\n\r\n&gt; Each class variable, instance variable, or array component is initialized with a default value when it is created (&#167;15.9, &#167;15.10.2):\r\n\r\n&gt;For type byte, the default value is zero, that is, the value of (byte)0.\r\n\r\n&gt;For type short, the default value is zero, that is, the value of (short)0.\r\n\r\n&gt;For type int, the default value is zero, that is, 0.\r\n\r\n&gt;For type long, the default value is zero, that is, 0L.\r\n\r\n&gt;For type float, the default value is positive zero, that is, 0.0f.\r\n\r\n&gt;For type double, the default value is positive zero, that is, 0.0d.\r\n\r\n&gt;For type char, the default value is the null character, that is, &#39;\\u0000&#39;.\r\n\r\n&gt;For type boolean, the default value is false.\r\n\r\n&gt;For all reference types (&#167;4.3), the default value is null.\r\n\r\nAnd here:[Creation of New Class Instances][3]\r\n&gt; If there is not sufficient space available to allocate memory for the object, then creation of the class instance completes abruptly with an OutOfMemoryError. Otherwise, all the instance variables in the new object, including those declared in superclasses, are initialized to their default values (&#167;4.12.5).\r\n\r\n\r\nso when you use `Example1 e = new Example1();` the `int a` will be `0`, but the local variable `b` still not definite assignment.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-16.html\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.5\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5","title":"There is two variable &#39;a&#39; and &#39;b&#39; which is not initialised. &#39;a&#39; variable is of class Example1 and &#39;b&#39; variable of class Main","body":"<p>I think, java's documentation already explains why.</p>\n<p>Here:<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-16.html\" rel=\"nofollow noreferrer\">Definite Assignment</a></p>\n<blockquote>\n<p>For every access of a local variable or blank final field x, x must be definitely assigned before the access, or a compile-time error occurs.</p>\n</blockquote>\n<p>And here:<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.5\" rel=\"nofollow noreferrer\">Initial Values of Variables</a></p>\n<blockquote>\n<p>Every variable in a program must have a value before its value is used:</p>\n</blockquote>\n<blockquote>\n<p>Each class variable, instance variable, or array component is initialized with a default value when it is created (§15.9, §15.10.2):</p>\n</blockquote>\n<blockquote>\n<p>For type byte, the default value is zero, that is, the value of (byte)0.</p>\n</blockquote>\n<blockquote>\n<p>For type short, the default value is zero, that is, the value of (short)0.</p>\n</blockquote>\n<blockquote>\n<p>For type int, the default value is zero, that is, 0.</p>\n</blockquote>\n<blockquote>\n<p>For type long, the default value is zero, that is, 0L.</p>\n</blockquote>\n<blockquote>\n<p>For type float, the default value is positive zero, that is, 0.0f.</p>\n</blockquote>\n<blockquote>\n<p>For type double, the default value is positive zero, that is, 0.0d.</p>\n</blockquote>\n<blockquote>\n<p>For type char, the default value is the null character, that is, '\\u0000'.</p>\n</blockquote>\n<blockquote>\n<p>For type boolean, the default value is false.</p>\n</blockquote>\n<blockquote>\n<p>For all reference types (§4.3), the default value is null.</p>\n</blockquote>\n<p>And here:<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">Creation of New Class Instances</a></p>\n<blockquote>\n<p>If there is not sufficient space available to allocate memory for the object, then creation of the class instance completes abruptly with an OutOfMemoryError. Otherwise, all the instance variables in the new object, including those declared in superclasses, are initialized to their default values (§4.12.5).</p>\n</blockquote>\n<p>so when you use <code>Example1 e = new Example1();</code> the <code>int a</code> will be <code>0</code>, but the local variable <code>b</code> still not definite assignment.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662445589,"creation_date":1662445589,"answer_id":73617570,"question_id":73617130,"body_markdown":"Class fields are initialized with a default. One cannot leave them uninitialized and let the compiler decide that upon the first usage the field is filled. Also unneeded initialization would be required. Certainly this was also influenced by C++&#39;s possible uninitialized fields.\r\n\r\nLocal variables serve an immediate purpose, and can be tracked to their first usage. It was decided that a local variable _requires an explicit initialization_ as a default initialization could hide a forgotten explicit initialization, like assigning only in an _if_ or _try-catch_ statement.","title":"There is two variable &#39;a&#39; and &#39;b&#39; which is not initialised. &#39;a&#39; variable is of class Example1 and &#39;b&#39; variable of class Main","body":"<p>Class fields are initialized with a default. One cannot leave them uninitialized and let the compiler decide that upon the first usage the field is filled. Also unneeded initialization would be required. Certainly this was also influenced by C++'s possible uninitialized fields.</p>\n<p>Local variables serve an immediate purpose, and can be tracked to their first usage. It was decided that a local variable <em>requires an explicit initialization</em> as a default initialization could hide a forgotten explicit initialization, like assigning only in an <em>if</em> or <em>try-catch</em> statement.</p>\n"}],"owner":{"account_id":23713331,"reputation":43,"user_id":17734863,"display_name":"Amol Kumar Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73617570,"answer_count":4,"score":4,"last_activity_date":1662449984,"creation_date":1662442574,"question_id":73617130,"body_markdown":"There are two variables, `a` and `b`, which are not initialized. `a` variable is of class `Example1` and `b` variable of class `Main`. As we know if we not initialized any variable in java then it take default value. But when I want to print variable of `Main` class it show error of initialization. But when I call the `Example1` class variable then it executed successfully and gives default value.\r\n\r\nWhat is the exact reason behind it?\r\n\r\n    class Example1 {\r\n        int a;\r\n    }\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t    int b;\r\n    \t    Example1 e = new Example1();\r\n    \t\tSystem.out.println(e.a);        // output: 0\r\n     \t\tSystem.out.println(b);          // error: variable a might not have been initialized\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"There is two variable &#39;a&#39; and &#39;b&#39; which is not initialised. &#39;a&#39; variable is of class Example1 and &#39;b&#39; variable of class Main","body":"<p>There are two variables, <code>a</code> and <code>b</code>, which are not initialized. <code>a</code> variable is of class <code>Example1</code> and <code>b</code> variable of class <code>Main</code>. As we know if we not initialized any variable in java then it take default value. But when I want to print variable of <code>Main</code> class it show error of initialization. But when I call the <code>Example1</code> class variable then it executed successfully and gives default value.</p>\n<p>What is the exact reason behind it?</p>\n<pre><code>class Example1 {\n    int a;\n}\npublic class Main\n{\n    public static void main(String[] args) {\n        int b;\n        Example1 e = new Example1();\n        System.out.println(e.a);        // output: 0\n        System.out.println(b);          // error: variable a might not have been initialized\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662449919,"creation_date":1662398058,"answer_id":73612756,"question_id":73612249,"body_markdown":"You could use the split EIP to send each map entry to a distinct file.\r\nFor instance:\r\n\r\n    .split(simple(&quot;${in.body.entrySet}&quot;))\r\n          .setHeader(&quot;theKey&quot;, simple(&quot;${body.getKey}&quot;))\r\n          .setBody(simple(&quot;${body.getValue}&quot;))\r\n          .process( e -&gt; this.setTargetFileName(e) )\r\n          .to(&quot;file:/mydir&quot;)\r\n       .end()\r\n       \r\n       \r\n    private void setTargetFileName(Exchange exchange) {\r\n      String key = exchange.getMessage().getHeader(&quot;theKey&quot;, String.class);\r\n      if ( &quot;simpletext&quot;.equals(key) ) {\r\n      \texchange.getMessage().setHeader(&quot;CamelFileName&quot;, &quot;targetA.txt&quot;);\r\n      } else {\r\n        exchange.getMessage().setHeader(&quot;CamelFileName&quot;, &quot;targetB.txt&quot;);\r\n      }  \t\r\n    }   ","title":"Retrieve body of exchange object which is a map in Apache Camel","body":"<p>You could use the split EIP to send each map entry to a distinct file.\nFor instance:</p>\n<pre><code>.split(simple(&quot;${in.body.entrySet}&quot;))\n      .setHeader(&quot;theKey&quot;, simple(&quot;${body.getKey}&quot;))\n      .setBody(simple(&quot;${body.getValue}&quot;))\n      .process( e -&gt; this.setTargetFileName(e) )\n      .to(&quot;file:/mydir&quot;)\n   .end()\n   \n   \nprivate void setTargetFileName(Exchange exchange) {\n  String key = exchange.getMessage().getHeader(&quot;theKey&quot;, String.class);\n  if ( &quot;simpletext&quot;.equals(key) ) {\n    exchange.getMessage().setHeader(&quot;CamelFileName&quot;, &quot;targetA.txt&quot;);\n  } else {\n    exchange.getMessage().setHeader(&quot;CamelFileName&quot;, &quot;targetB.txt&quot;);\n  }     \n}   \n</code></pre>\n"}],"owner":{"account_id":21678421,"reputation":33,"user_id":15994997,"display_name":"Satyabrat Sahoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662449919,"creation_date":1662395002,"question_id":73612249,"body_markdown":"```\r\nMap&lt;String,String&gt; map= new HashMap&lt;&gt;();\r\nmap.put(&quot;simpletext&quot;,&quot;Simple text&quot;);\r\nmap.put(&quot;errortext&quot;,&quot;Error text&quot;);\r\nexchange.getIn().setBody(map);\r\n```\r\n\r\nBased on the key of the map in the exchange object I want to write them to two separate file locations. How can I achieve this in apache camel?\r\n","title":"Retrieve body of exchange object which is a map in Apache Camel","body":"<pre><code>Map&lt;String,String&gt; map= new HashMap&lt;&gt;();\nmap.put(&quot;simpletext&quot;,&quot;Simple text&quot;);\nmap.put(&quot;errortext&quot;,&quot;Error text&quot;);\nexchange.getIn().setBody(map);\n</code></pre>\n<p>Based on the key of the map in the exchange object I want to write them to two separate file locations. How can I achieve this in apache camel?</p>\n"},{"tags":["java","recursion","java-8","scope"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1662447695,"post_id":73617879,"comment_id":130000887,"body_markdown":"The result *variable* isn&#39;t updated. The *object that the variable&#39;s value refers to* is updated. Please read https://stackoverflow.com/questions/40480 and https://stackoverflow.com/questions/32010172 (This really isn&#39;t about recursion at all - it&#39;s just about how variables, references and objects work in Java.)","body":"The result <i>variable</i> isn&#39;t updated. The <i>object that the variable&#39;s value refers to</i> is updated. Please read <a href=\"https://stackoverflow.com/questions/40480\">stackoverflow.com/questions/40480</a> and <a href=\"https://stackoverflow.com/questions/32010172\">stackoverflow.com/questions/32010172</a> (This really isn&#39;t about recursion at all - it&#39;s just about how variables, references and objects work in Java.)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662447707,"post_id":73617879,"comment_id":130000889,"body_markdown":"You&#39;re confusing things here. In the first example `result` is generated at the top of the recursive call stack and a _reference_ to that list passed down. In your own code you&#39;re passing down a primitive value which doesn&#39;t work. Note: [Java is pass-by-value, not pass-by-reference](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value#:~:text=Pass%2Dby%2Dvalue%20means%20that,always%20pass%2Dby%2Dvalue.).","body":"You&#39;re confusing things here. In the first example <code>result</code> is generated at the top of the recursive call stack and a <i>reference</i> to that list passed down. In your own code you&#39;re passing down a primitive value which doesn&#39;t work. Note: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value#:~:text=Pass%2Dby%2Dvalue%20means%20that,always%20pass%2Dby%2Dvalue.\">Java is pass-by-value, not pass-by-reference</a>."}],"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662449628,"answer_count":0,"score":0,"last_activity_date":1662449376,"creation_date":1662447499,"question_id":73617879,"body_markdown":"I was reading recursive solution of permutation in Java. Below is the code for the same.\r\n\r\n```java\r\nclass PermutationsRecursive {\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; generatePermutations(int[] nums) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        generatePermutationsRecursive(nums, 0, new ArrayList&lt;Integer&gt;(), result);\r\n        return result;\r\n    }\r\n\r\n    private static void generatePermutationsRecursive(int[] nums, int index, List&lt;Integer&gt; currentPermutation, List&lt;List&lt;Integer&gt;&gt; result) {\r\n        if (index == nums.length) {\r\n            result.add(currentPermutation);\r\n        }\r\n        else {\r\n            // Create a new permutation by adding the current number at every position\r\n            for (int i = 0; i &lt;= currentPermutation.size(); i++) {\r\n                List&lt;Integer&gt; newPermutation = new ArrayList&lt;Integer&gt;(currentPermutation);\r\n                newPermutation.add(i, nums[index]);\r\n                generatePermutationsRecursive(nums, index + 1, newPermutation, result);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = PermutationsRecursive.generatePermutations(new int[] { 1, 3, 5 });\r\n        System.out.print(&quot;Here are all the permutations: &quot; + result);\r\n    }\r\n}\r\n```\r\n\r\nNow the variable result declared as `List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;()` in the `generatePermutations` method is passed in next line in `generatePermutationsRecursive`, and this function returns `void`.\r\n\r\nWhat puzzles me is that result variable declared in `generatePermutations` and the result variable declared in definition of `generatePermutationsRecursive` function are of different scope and yet the result variable is updated and gives the permutation of the set.\r\n\r\nI wrote a sample program with similar approach but the variable `y` was not updated and it gives me 0 which makes sense to me as the variable `y` scope is different in both functions. But I couldn&#39;t understand the above code that how variable result was updated. Below is my sample code.\r\n\r\n```java\r\nclass Jewel {\r\n    public static int findNum(int x) {\r\n        int y = 0;\r\n        temp(x, y);\r\n        return y;\r\n    }\r\n\r\n    public static void temp(int x, int y) {\r\n        while (x &gt; 0) {\r\n            y = y + 2;\r\n            x--;\r\n            temp(x,y);\r\n        }\r\n    }\r\n}\r\n\r\npublic class HelloWorld {\r\n\r\n    public static void main(String[] args) {\r\n        Jewel j1 = new Jewel();\r\n        int result = j1.findNum(4);\r\n        System.out.println(result);\r\n    }\r\n}\r\n```","title":"Variable scope in recursive call in java","body":"<p>I was reading recursive solution of permutation in Java. Below is the code for the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PermutationsRecursive {\n\n    public static List&lt;List&lt;Integer&gt;&gt; generatePermutations(int[] nums) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        generatePermutationsRecursive(nums, 0, new ArrayList&lt;Integer&gt;(), result);\n        return result;\n    }\n\n    private static void generatePermutationsRecursive(int[] nums, int index, List&lt;Integer&gt; currentPermutation, List&lt;List&lt;Integer&gt;&gt; result) {\n        if (index == nums.length) {\n            result.add(currentPermutation);\n        }\n        else {\n            // Create a new permutation by adding the current number at every position\n            for (int i = 0; i &lt;= currentPermutation.size(); i++) {\n                List&lt;Integer&gt; newPermutation = new ArrayList&lt;Integer&gt;(currentPermutation);\n                newPermutation.add(i, nums[index]);\n                generatePermutationsRecursive(nums, index + 1, newPermutation, result);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;List&lt;Integer&gt;&gt; result = PermutationsRecursive.generatePermutations(new int[] { 1, 3, 5 });\n        System.out.print(&quot;Here are all the permutations: &quot; + result);\n    }\n}\n</code></pre>\n<p>Now the variable result declared as <code>List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;()</code> in the <code>generatePermutations</code> method is passed in next line in <code>generatePermutationsRecursive</code>, and this function returns <code>void</code>.</p>\n<p>What puzzles me is that result variable declared in <code>generatePermutations</code> and the result variable declared in definition of <code>generatePermutationsRecursive</code> function are of different scope and yet the result variable is updated and gives the permutation of the set.</p>\n<p>I wrote a sample program with similar approach but the variable <code>y</code> was not updated and it gives me 0 which makes sense to me as the variable <code>y</code> scope is different in both functions. But I couldn't understand the above code that how variable result was updated. Below is my sample code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Jewel {\n    public static int findNum(int x) {\n        int y = 0;\n        temp(x, y);\n        return y;\n    }\n\n    public static void temp(int x, int y) {\n        while (x &gt; 0) {\n            y = y + 2;\n            x--;\n            temp(x,y);\n        }\n    }\n}\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n        Jewel j1 = new Jewel();\n        int result = j1.findNum(4);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":26257278,"reputation":11,"user_id":19929158,"display_name":"Ouanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662449114,"creation_date":1662449114,"question_id":73618195,"body_markdown":"This is the first time I&#39;ve used the code obfuscation feature provided by Android Studio, and I got a bug. When I enabled code obfuscation, the compilation run reported an error.If I turn off code obfuscation, it works fine.How can I solve this problem?\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.android.systemui, PID: 10439\r\n    java.lang.IllegalAccessError: tried to access field android.os.Looper.sThreadLocal from class org.greenrobot.eventbus.android.AndroidDependenciesDetector\r\n        at org.greenrobot.eventbus.android.AndroidDependenciesDetector.isAndroidSDKAvailable(AndroidDependenciesDetector.java:12)\r\n        at org.greenrobot.eventbus.android.AndroidComponents.&lt;clinit&gt;(AndroidComponents.java:11)\r\n        at org.greenrobot.eventbus.Logger$Default.get(Logger.java:65)\r\n        at org.greenrobot.eventbus.EventBusBuilder.getLogger(EventBusBuilder.java:157)\r\n        at org.greenrobot.eventbus.EventBus.&lt;init&gt;(EventBus.java:114)\r\n        at org.greenrobot.eventbus.EventBus.&lt;init&gt;(EventBus.java:110)\r\n        at org.greenrobot.eventbus.EventBus.getDefault(EventBus.java:88)\r\n        at com.android.systemui.MainActivity.registerEventBus(MainActivity.java:81)\r\n        at com.android.systemui.MainActivity.onCreate(MainActivity.java:70)\r\n        at android.app.Activity.performCreate(Activity.java:5281)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1101)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:135)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:136)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5017)\r\n        at java.lang.reflect.Method.invokeNative(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:515)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:788)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:604)\r\n        at dalvik.system.NativeStart.main(Native Method)\r\nThe error points to registering the Eventbus method.\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        registerEventBus();\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        init();\r\n        Intent intent = new Intent(this, SystemService.class);\r\n        startService(intent);\r\n\r\n\r\n    }\r\n\r\n    private void registerEventBus() {\r\n        if (!EventBus.getDefault().isRegistered(this)) {\r\n            EventBus.getDefault().register(this);\r\n        }\r\n    }\r\n\r\n    @Subscribe(sticky = true, threadMode = ThreadMode.MAIN)\r\n    public void onMessageEvent(UpdateMessage message){\r\n        EventBus.getDefault().removeStickyEvent(message);\r\n        updateTime();\r\n    }\r\n\r\nin build.gradle\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        debug {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n\r\nin proguard-rules.pro \r\n\r\n    -keepattributes *Annotation*\r\n    -keepclassmembers class * {\r\n        @org.greenrobot.eventbus.Subscribe &lt;methods&gt;;\r\n    }\r\n    -keep enum org.greenrobot.eventbus.ThreadMode { *; }\r\n    -keep class android.**{*;}","title":"IllegalAccessError: tried to access field android.os.Looper.sThreadLocal from class org.greenrobot.eventbus.android.AndroidDependenciesDetector","body":"<p>This is the first time I've used the code obfuscation feature provided by Android Studio, and I got a bug. When I enabled code obfuscation, the compilation run reported an error.If I turn off code obfuscation, it works fine.How can I solve this problem?</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.android.systemui, PID: 10439\njava.lang.IllegalAccessError: tried to access field android.os.Looper.sThreadLocal from class org.greenrobot.eventbus.android.AndroidDependenciesDetector\n    at org.greenrobot.eventbus.android.AndroidDependenciesDetector.isAndroidSDKAvailable(AndroidDependenciesDetector.java:12)\n    at org.greenrobot.eventbus.android.AndroidComponents.&lt;clinit&gt;(AndroidComponents.java:11)\n    at org.greenrobot.eventbus.Logger$Default.get(Logger.java:65)\n    at org.greenrobot.eventbus.EventBusBuilder.getLogger(EventBusBuilder.java:157)\n    at org.greenrobot.eventbus.EventBus.&lt;init&gt;(EventBus.java:114)\n    at org.greenrobot.eventbus.EventBus.&lt;init&gt;(EventBus.java:110)\n    at org.greenrobot.eventbus.EventBus.getDefault(EventBus.java:88)\n    at com.android.systemui.MainActivity.registerEventBus(MainActivity.java:81)\n    at com.android.systemui.MainActivity.onCreate(MainActivity.java:70)\n    at android.app.Activity.performCreate(Activity.java:5281)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1101)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\n    at android.app.ActivityThread.access$800(ActivityThread.java:135)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:136)\n    at android.app.ActivityThread.main(ActivityThread.java:5017)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:515)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:788)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:604)\n    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n<p>The error points to registering the Eventbus method.</p>\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    registerEventBus();\n    binding = ActivityMainBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n    init();\n    Intent intent = new Intent(this, SystemService.class);\n    startService(intent);\n\n\n}\n\nprivate void registerEventBus() {\n    if (!EventBus.getDefault().isRegistered(this)) {\n        EventBus.getDefault().register(this);\n    }\n}\n\n@Subscribe(sticky = true, threadMode = ThreadMode.MAIN)\npublic void onMessageEvent(UpdateMessage message){\n    EventBus.getDefault().removeStickyEvent(message);\n    updateTime();\n}\n</code></pre>\n<p>in build.gradle</p>\n<pre><code>buildTypes {\n    release {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n    debug {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n<p>in proguard-rules.pro</p>\n<pre><code>-keepattributes *Annotation*\n-keepclassmembers class * {\n    @org.greenrobot.eventbus.Subscribe &lt;methods&gt;;\n}\n-keep enum org.greenrobot.eventbus.ThreadMode { *; }\n-keep class android.**{*;}\n</code></pre>\n"},{"tags":["java","rest","date","web-services"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1662448844,"post_id":73617905,"comment_id":130001256,"body_markdown":"Both of the `Date` classes were years ago supplanted by the modern *java.time* classes defined in JSR 310. Search Stack Overflow to learn more.","body":"Both of the <code>Date</code> classes were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310. Search Stack Overflow to learn more."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1662449412,"post_id":73617905,"comment_id":130001457,"body_markdown":"Return [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format with UTC offset. Use Offset `Z` (zero) if there isn’t a particular reason for something else. You can generate it easily from an `Instant` with jackson-modules-java-8. 1185746400000 confuses me, what is it? A date in late July 2007?","body":"Return <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format with UTC offset. Use Offset <code>Z</code> (zero) if there isn’t a particular reason for something else. You can generate it easily from an <code>Instant</code> with jackson-modules-java-8. 1185746400000 confuses me, what is it? A date in late July 2007?"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662448657,"creation_date":1662447627,"question_id":73617905,"body_markdown":"What is correct way of returning date from Rest API\r\n\r\nThis\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy.MM.dd HH:mm:ss&quot;)\r\n\tprotected Date changeDate;\r\n    validFrom&quot;: &quot;2021.12.31 22:00:00&quot;, (Any random format using Date or XmlGregorianCalendar etc. or specific format)\r\n\r\nOr\r\n\r\n    private Date startDateConcern;\r\n    &quot;startDateConcern&quot;: 1185746400000\r\n\r\nPreparing a Masterdata API so finding this information. Will that &quot;1185746400000&quot; confusing for my customers?","title":"How to return date from Rest API eg. 1185746400000 OR Custom format like &quot;2021.12.31 22:00:00&quot;?","body":"<p>What is correct way of returning date from Rest API</p>\n<p>This</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy.MM.dd HH:mm:ss&quot;)\nprotected Date changeDate;\nvalidFrom&quot;: &quot;2021.12.31 22:00:00&quot;, (Any random format using Date or XmlGregorianCalendar etc. or specific format)\n</code></pre>\n<p>Or</p>\n<pre><code>private Date startDateConcern;\n&quot;startDateConcern&quot;: 1185746400000\n</code></pre>\n<p>Preparing a Masterdata API so finding this information. Will that &quot;1185746400000&quot; confusing for my customers?</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1662446115,"post_id":73617624,"comment_id":130000414,"body_markdown":"remove `relativePath` tag and then run `mvn clean install`","body":"remove <code>relativePath</code> tag and then run <code>mvn clean install</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1662449400,"post_id":73617624,"comment_id":130001454,"body_markdown":"The first thing is: `transfer failed for`. and the second `Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be` it would really suggest to upgrade to the most recent JDK 8 version because that old version seemed to be missing some encryptions parts...apart from being insecure...using such an old version...","body":"The first thing is: <code>transfer failed for</code>. and the second <code>Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be</code> it would really suggest to upgrade to the most recent JDK 8 version because that old version seemed to be missing some encryptions parts...apart from being insecure...using such an old version..."},{"owner":{"account_id":21596581,"reputation":121,"user_id":15925446,"display_name":"Sajith dilshan"},"score":0,"creation_date":1662462364,"post_id":73617624,"comment_id":130005839,"body_markdown":"I change my java version to oracle java8 after that It solved","body":"I change my java version to oracle java8 after that It solved"}],"answers":[{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662448484,"creation_date":1662448484,"answer_id":73618073,"question_id":73617624,"body_markdown":"can you test this pom instead, with **mvn clean -U** and then **mvn package**?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**Note:** If you are using STS/Eclipse then you might require **Right click pom -&gt; Maven -&gt; Update Project**","title":"Some problems were encountered while processing the POMs:","body":"<p>can you test this pom instead, with <strong>mvn clean -U</strong> and then <strong>mvn package</strong>?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Note:</strong> If you are using STS/Eclipse then you might require <strong>Right click pom -&gt; Maven -&gt; Update Project</strong></p>\n"}],"owner":{"account_id":21596581,"reputation":121,"user_id":15925446,"display_name":"Sajith dilshan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662448484,"creation_date":1662445966,"question_id":73617624,"body_markdown":"I was created and try to build project using `mvn clean install` but It is not working. not this project I try to build my all project to build but not working in my ubuntu laptop\r\n\r\n    \r\n\r\n&gt; [INFO] Scanning for projects...\r\nDownloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[FATAL] Non-resolvable parent POM for com.example:demo:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.11 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom and &#39;parent.relativePath&#39; points at no local POM @ line 5, column 10\r\n @ \r\n[ERROR] The build could not read 1 project -&gt; [Help 1]\r\n[ERROR]   \r\n[ERROR]   The project com.example:demo:0.0.1-SNAPSHOT (/home/sajith/Downloads/demo/pom.xml) has 1 error\r\n[ERROR]     Non-resolvable parent POM for com.example:demo:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.11 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom and &#39;parent.relativePath&#39; points at no local POM @ line 5, column 10: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty -&gt; [Help 2]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n\r\n\r\nmy pom.xml:\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.11&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nmy java and mvn version:\r\n\r\nopenjdk version &quot;1.8.0_42&quot;\r\nApache Maven 3.8.6\r\n","title":"Some problems were encountered while processing the POMs:","body":"<p>I was created and try to build project using <code>mvn clean install</code> but It is not working. not this project I try to build my all project to build but not working in my ubuntu laptop</p>\n<blockquote>\n<p>[INFO] Scanning for projects...\nDownloading from central: <a href=\"https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom</a>\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[FATAL] Non-resolvable parent POM for com.example:demo:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.11 from/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>): transfer failed for <a href=\"https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom</a> and 'parent.relativePath' points at no local POM @ line 5, column 10\n@\n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]<br />\n[ERROR]   The project com.example:demo:0.0.1-SNAPSHOT (/home/sajith/Downloads/demo/pom.xml) has 1 error\n[ERROR]     Non-resolvable parent POM for com.example:demo:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.11 from/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>): transfer failed for <a href=\"https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.6.11/spring-boot-starter-parent-2.6.11.pom</a> and 'parent.relativePath' points at no local POM @ line 5, column 10: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty -&gt; [Help 2]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException</a>\n[ERROR] [Help 2] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException</a></p>\n</blockquote>\n<p>my pom.xml:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.11&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>my java and mvn version:</p>\n<p>openjdk version &quot;1.8.0_42&quot;\nApache Maven 3.8.6</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662446673,"post_id":73617340,"comment_id":130000579,"body_markdown":"I would provide a method to delete multiple transactions based on id or whatever your input contains. Just use a where-condition that accepts a list of elements - of just delete all transactions for that user if that meets your requirements.","body":"I would provide a method to delete multiple transactions based on id or whatever your input contains. Just use a where-condition that accepts a list of elements - of just delete all transactions for that user if that meets your requirements."},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1662447573,"post_id":73617340,"comment_id":130000846,"body_markdown":"@Thomas Thanks for comment. I have written a logic for serviceImpl, can you please check it correct way to do or not. Then I have written query in Repository, but getting error, what would be the correct way to write repo.","body":"@Thomas Thanks for comment. I have written a logic for serviceImpl, can you please check it correct way to do or not. Then I have written query in Repository, but getting error, what would be the correct way to write repo."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662447936,"post_id":73617340,"comment_id":130000961,"body_markdown":"Well. it&#39;s certainly one way to do it. I&#39;d probably use a different approach but let&#39;s not get sidetracked here - if it works for you that&#39;s fine. No speaking of &quot;if it works&quot;: if you&#39;re getting an error you&#39;ve made a mistake. That&#39;s it. Since I lack details, e.g. the error you get, your data model etc., I can&#39;t say more than this.","body":"Well. it&#39;s certainly one way to do it. I&#39;d probably use a different approach but let&#39;s not get sidetracked here - if it works for you that&#39;s fine. No speaking of &quot;if it works&quot;: if you&#39;re getting an error you&#39;ve made a mistake. That&#39;s it. Since I lack details, e.g. the error you get, your data model etc., I can&#39;t say more than this."},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1662448189,"post_id":73617340,"comment_id":130001053,"body_markdown":"@Thomas yes, I don&#39;t have a data model for `trans_user ` table since I am using intermediate table as `many to many relationship`. Can you please help me with different approach. and do I need to create another data model(as what i get in tutorial is no). or different repo.","body":"@Thomas yes, I don&#39;t have a data model for <code>trans_user </code> table since I am using intermediate table as <code>many to many relationship</code>. Can you please help me with different approach. and do I need to create another data model(as what i get in tutorial is no). or different repo."},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1662448296,"post_id":73617340,"comment_id":130001085,"body_markdown":"@Thomas Updated error in Question.","body":"@Thomas Updated error in Question."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662449362,"post_id":73617340,"comment_id":130001440,"body_markdown":"&quot;Cannot resolve method &#39;removeUser&#39; in &#39;TransRepository&quot; - that looks like an error in your build or a problem with visibility. If your IDE already complains then it&#39;s probably the latter (probably missing the `public` or `protected` modifier - depending on your code structure). If it&#39;s the former then make sure your build updates all your code. If the error persists then there&#39;s probably some other error or warning being logged before that - this might hint at the cause.","body":"&quot;Cannot resolve method &#39;removeUser&#39; in &#39;TransRepository&quot; - that looks like an error in your build or a problem with visibility. If your IDE already complains then it&#39;s probably the latter (probably missing the <code>public</code> or <code>protected</code> modifier - depending on your code structure). If it&#39;s the former then make sure your build updates all your code. If the error persists then there&#39;s probably some other error or warning being logged before that - this might hint at the cause."}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662448085,"creation_date":1662444050,"question_id":73617340,"body_markdown":"\r\n\r\n\r\nHow to do batch delete from the sql table in spring boot. \r\n\r\n\r\nI have many to many relationship intermediate table. I want to remove few data based on the similar request payload. \r\n\r\n\r\n    {\r\n    \tuser : “SomUser”,\r\n    \ttransaction : [“A”,”B”]\r\n    }\r\n\r\nNow here is my controller and here I am able to get the request payload from the request and I am getting input and passing to service.\r\n\r\n    @PostMapping(“/remove”)\r\n    public EntityModel&lt;TrasnDTO&gt; removeByUserId(\r\n            @RequestBody TrasnDTO input\r\n    ) throws IOException {\r\n    \r\n        TrasnDTO someVar = transeService. deleteTransByUser(input);\r\n    \r\n        return  null; // will write once it complete\r\n        \r\n    }\r\n\r\n\r\nHere is my Service Interface \r\n\r\n    TrasnDTO deleteTransByUser(TrasnDTO input);\r\n\r\n\r\nImplementation :\r\n\r\n   \r\n\r\n     @Override\r\n        \r\n        public TrasnDTO deleteTransByUser(TrasnDTO input){\r\n           for(int counter=0; counter&lt;input.getTrans().size(); counter++){\r\n           UUID transVal = input.getTrans().get(counter);\r\n           transRepository.removeUser(input.getUserId(), transVal);\r\n         }\r\n            return null;\r\n        }\r\n\r\nIn My TransRepo : \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;delete from trans_user where user_id = :user_id and trans_id = :trans_id)\r\n    void removeUser(UUID user_id, UUID trans_id);\r\n\r\nMy question is how should I write in impl method to go to repository and delete that. I am using Java 11. \r\n\r\nI am getting error as I don&#39;t have specific repo for trans_user\r\n\r\nError : Cannot resolve method &#39;removeUser&#39; in &#39;TransRepository","title":"How to do batch delete from the sql table in spring boot. Service Implementation","body":"<p>How to do batch delete from the sql table in spring boot.</p>\n<p>I have many to many relationship intermediate table. I want to remove few data based on the similar request payload.</p>\n<pre><code>{\n    user : “SomUser”,\n    transaction : [“A”,”B”]\n}\n</code></pre>\n<p>Now here is my controller and here I am able to get the request payload from the request and I am getting input and passing to service.</p>\n<pre><code>@PostMapping(“/remove”)\npublic EntityModel&lt;TrasnDTO&gt; removeByUserId(\n        @RequestBody TrasnDTO input\n) throws IOException {\n\n    TrasnDTO someVar = transeService. deleteTransByUser(input);\n\n    return  null; // will write once it complete\n    \n}\n</code></pre>\n<p>Here is my Service Interface</p>\n<pre><code>TrasnDTO deleteTransByUser(TrasnDTO input);\n</code></pre>\n<p>Implementation :</p>\n<pre><code> @Override\n    \n    public TrasnDTO deleteTransByUser(TrasnDTO input){\n       for(int counter=0; counter&lt;input.getTrans().size(); counter++){\n       UUID transVal = input.getTrans().get(counter);\n       transRepository.removeUser(input.getUserId(), transVal);\n     }\n        return null;\n    }\n</code></pre>\n<p>In My TransRepo :</p>\n<pre><code>@Modifying\n@Transactional\n@Query(&quot;delete from trans_user where user_id = :user_id and trans_id = :trans_id)\nvoid removeUser(UUID user_id, UUID trans_id);\n</code></pre>\n<p>My question is how should I write in impl method to go to repository and delete that. I am using Java 11.</p>\n<p>I am getting error as I don't have specific repo for trans_user</p>\n<p>Error : Cannot resolve method 'removeUser' in 'TransRepository</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1662387877,"post_id":73610796,"comment_id":129988849,"body_markdown":"1) Spring figures it out as long as you don&#39;t have circular dependencies. 2) Order in MyConfig doesn&#39;t mater. 3) How do you know about the destroy issue? Any log to look at? 4) Don&#39;t annotate with `@Component` AND create `@Beans` in `@Configuration`. This is just doubling up ;)","body":"1) Spring figures it out as long as you don&#39;t have circular dependencies. 2) Order in MyConfig doesn&#39;t mater. 3) How do you know about the destroy issue? Any log to look at? 4) Don&#39;t annotate with <code>@Component</code> AND create <code>@Beans</code> in <code>@Configuration</code>. This is just doubling up ;)"},{"owner":{"account_id":13010918,"reputation":452,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1662388216,"post_id":73610796,"comment_id":129988973,"body_markdown":"I think you could have two problems with this, first one, as other say, you mustn&#39;t have circular dependencies, and the second problem its, you can&#39;t control the way to destroy or create a bean if not a Singleton, if you want create and destroy in a specific order use the annotation of DependsOn https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-dependson","body":"I think you could have two problems with this, first one, as other say, you mustn&#39;t have circular dependencies, and the second problem its, you can&#39;t control the way to destroy or create a bean if not a Singleton, if you want create and destroy in a specific order use the annotation of DependsOn <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-dependson\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1662388483,"post_id":73610796,"comment_id":129989080,"body_markdown":"I think the default scope is singleton right? and above code does not have a circular dependency","body":"I think the default scope is singleton right? and above code does not have a circular dependency"},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1662389710,"post_id":73610796,"comment_id":129989541,"body_markdown":"Mainly I want to know if this equivalent to using constructor injection/ setter injection","body":"Mainly I want to know if this equivalent to using constructor injection/ setter injection"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662447058,"post_id":73610796,"comment_id":130000676,"body_markdown":"There is no difference. The only ugly or wrong is the `demo2.getDemo1()` and inject that, but as `Demo3` depends on `Demo2` which in turn depends on `Demo1` it doesn&#39;t matter.","body":"There is no difference. The only ugly or wrong is the <code>demo2.getDemo1()</code> and inject that, but as <code>Demo3</code> depends on <code>Demo2</code> which in turn depends on <code>Demo1</code> it doesn&#39;t matter."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662447392,"post_id":73610796,"comment_id":130000792,"body_markdown":"Additionaly the `@Autowired` on a single constructor isn&#39;t need (as of Spring 4.3) but implied for beans with just a single constructor.","body":"Additionaly the <code>@Autowired</code> on a single constructor isn&#39;t need (as of Spring 4.3) but implied for beans with just a single constructor."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662448009,"creation_date":1662447324,"answer_id":73617842,"question_id":73610796,"body_markdown":"It doesn&#39;t matter if you express configuration in XML, properties (yes that is possible, see https://deinum.biz/2018-04-12-on-spring-applicationcontext-and-bean-creation/), java config or annotations. All of those are bean definitions and the relation between those. Spring will have (some kind) of dependency tree. \r\n\r\nBeans are constructed in a certain order and destroyed in the reverse order. \r\n\r\nThe only &quot;wrong&quot; thing in your code is the `demo2.getDemo1()` but in this case shouldn&#39;t make any difference as `Demo3` depends on `Demo2 which depends on `Demo1`. Ideally you would write the configuration in the following way\r\n\r\n```java\r\nConfiguration\r\nclass MyConfig {\r\n\r\n  @Bean\r\n  public Demo1 demo1(){\r\n    return new demo1()\r\n  }\r\n\r\n  @Bean\r\n  public Demo2 demo2(Demo1 demo1){\r\n    return new Demo2(demo1);\r\n  }\r\n\r\n  @Bean\r\n  public Demo3 demo3(Demo2 demo2, Demo1 demo1){\r\n   return new Demo3(demo1, demo2);\r\n  }\r\n}\r\n```\r\n\r\nThis code/config makes it easier for Spring to figure out the interdependencies. \r\n\r\nIn your case, if you are using Spring Boot **and** have declared those `@Bean` methods you will actually end up with multiple instances of the beans. \r\n\r\nRunning your sample produces, for me the following output (I added `@PostConstruct` and `@PreDestroy` methods to the classes). \r\n\r\n```\r\n2022-09-06 09:03:48.366  INFO 64364 --- [           main] b.d.d.DestructionOrderApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@2fb5fe30 - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@389562d6 - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@5a101b1c - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@2160e52a - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@29f0802c - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@3a60c416 - @PostConstruct\r\n2022-09-06 09:03:48.559  INFO 64364 --- [           main] b.d.d.DestructionOrderApplication        : Started DestructionOrderApplication in 0.311 seconds (JVM running for 0.552)\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@3a60c416 - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@29f0802c - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@2160e52a - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@5a101b1c - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@389562d6 - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@2fb5fe30 - @PreDestroy\r\n```\r\n\r\nIn which you can clearly see the `@PostConstruct` is called in the right order and the `@PreDestroy` in the reverse order. You can also see you have 2 instances. Removing the `@Component` leads to the following output:\r\n\r\n```\r\n2022-09-06 09:06:03.520  INFO 64388 --- [           main] b.d.d.DestructionOrderApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@72ab05ed - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@27e32fe4 - @PostConstruct\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@c3c4c1c - @PostConstruct\r\n2022-09-06 09:06:03.714  INFO 64388 --- [           main] b.d.d.DestructionOrderApplication        : Started DestructionOrderApplication in 0.32 seconds (JVM running for 0.561)\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@c3c4c1c - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@27e32fe4 - @PreDestroy\r\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@72ab05ed - @PreDestroy\r\n\r\n```","title":"Can spring handle indirect dependency injection?","body":"<p>It doesn't matter if you express configuration in XML, properties (yes that is possible, see <a href=\"https://deinum.biz/2018-04-12-on-spring-applicationcontext-and-bean-creation/\" rel=\"nofollow noreferrer\">https://deinum.biz/2018-04-12-on-spring-applicationcontext-and-bean-creation/</a>), java config or annotations. All of those are bean definitions and the relation between those. Spring will have (some kind) of dependency tree.</p>\n<p>Beans are constructed in a certain order and destroyed in the reverse order.</p>\n<p>The only &quot;wrong&quot; thing in your code is the <code>demo2.getDemo1()</code> but in this case shouldn't make any difference as <code>Demo3</code> depends on <code>Demo2 which depends on </code>Demo1`. Ideally you would write the configuration in the following way</p>\n<pre class=\"lang-java prettyprint-override\"><code>Configuration\nclass MyConfig {\n\n  @Bean\n  public Demo1 demo1(){\n    return new demo1()\n  }\n\n  @Bean\n  public Demo2 demo2(Demo1 demo1){\n    return new Demo2(demo1);\n  }\n\n  @Bean\n  public Demo3 demo3(Demo2 demo2, Demo1 demo1){\n   return new Demo3(demo1, demo2);\n  }\n}\n</code></pre>\n<p>This code/config makes it easier for Spring to figure out the interdependencies.</p>\n<p>In your case, if you are using Spring Boot <strong>and</strong> have declared those <code>@Bean</code> methods you will actually end up with multiple instances of the beans.</p>\n<p>Running your sample produces, for me the following output (I added <code>@PostConstruct</code> and <code>@PreDestroy</code> methods to the classes).</p>\n<pre><code>2022-09-06 09:03:48.366  INFO 64364 --- [           main] b.d.d.DestructionOrderApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@2fb5fe30 - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@389562d6 - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@5a101b1c - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@2160e52a - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@29f0802c - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@3a60c416 - @PostConstruct\n2022-09-06 09:03:48.559  INFO 64364 --- [           main] b.d.d.DestructionOrderApplication        : Started DestructionOrderApplication in 0.311 seconds (JVM running for 0.552)\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@3a60c416 - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@29f0802c - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@2160e52a - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@5a101b1c - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@389562d6 - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@2fb5fe30 - @PreDestroy\n</code></pre>\n<p>In which you can clearly see the <code>@PostConstruct</code> is called in the right order and the <code>@PreDestroy</code> in the reverse order. You can also see you have 2 instances. Removing the <code>@Component</code> leads to the following output:</p>\n<pre><code>2022-09-06 09:06:03.520  INFO 64388 --- [           main] b.d.d.DestructionOrderApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@72ab05ed - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@27e32fe4 - @PostConstruct\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@c3c4c1c - @PostConstruct\n2022-09-06 09:06:03.714  INFO 64388 --- [           main] b.d.d.DestructionOrderApplication        : Started DestructionOrderApplication in 0.32 seconds (JVM running for 0.561)\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo3@c3c4c1c - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo2@27e32fe4 - @PreDestroy\nbiz.deinum.destructionorder.DestructionOrderApplication$Demo1@72ab05ed - @PreDestroy\n\n</code></pre>\n"}],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73617842,"answer_count":1,"score":0,"last_activity_date":1662448009,"creation_date":1662387436,"question_id":73610796,"body_markdown":"I am currently trying to understand the way in which spring creates and destroys beans and how it comes up with the right order to do so.\r\nLets assume we have three classes\r\n```\r\n@Component\r\nclass Demo1 {\r\n\r\n}\r\n```\r\n```\r\n@Component\r\nclass Demo2{\r\n\r\n   Demo1 demo1;\r\n   \r\n   // specifically not using @Autowired\r\n   public Demo2(Demo1 demo1){\r\n      this.demo1 = demo1;\r\n   }\r\n\r\n   public Demo1 getDemo1(){\r\n     return this.demo1\r\n   }\r\n}\r\n```\r\n\r\n```\r\n@Component\r\nclass Demo3 {\r\n   \r\n   Demo1 demo1\r\n   Demo2 demo2;\r\n\r\n   public Demo3(Demo1 demo1, Demo2 demo2){\r\n     this.demo1 = demo1;\r\n     this.demo2 = demo2;\r\n   }\r\n}\r\n```\r\n\r\nConfig class\r\n\r\n```\r\n@Configuration\r\nclass MyConfig {\r\n\r\n  @Bean\r\n  public Demo1 demo1(){\r\n    return new demo1()\r\n  }\r\n\r\n  @Bean\r\n  public Demo2 demo2(){\r\n    return new Demo2(demo1());\r\n  }\r\n\r\n  @Bean\r\n  public Demo3 demo3(){\r\n   Demo2 demo2 = demo2()\r\n   return new Demo3(demo2.getDemo1(), demo2);\r\n  }\r\n}\r\n```\r\n\r\nI understand that this is not the best/right way to do it but I want to know if its equivalent to using ```@Autowired``` annotation and if spring is able to resolve the dependency among the beans while creation, that is create in order\r\n1. demo1\r\n2. demo2\r\n3. demo3\r\n\r\nand destroy in order\r\n1. demo3\r\n2. demo2\r\n3. demo1\r\n\r\nDoes changing the order of the functions in ```MyConfig``` make any difference ?\r\n\r\nCurrently I am facing an error where I believe ```demo1``` is getting destroyed before ```demo2``` or ```demo3```","title":"Can spring handle indirect dependency injection?","body":"<p>I am currently trying to understand the way in which spring creates and destroys beans and how it comes up with the right order to do so.\nLets assume we have three classes</p>\n<pre><code>@Component\nclass Demo1 {\n\n}\n</code></pre>\n<pre><code>@Component\nclass Demo2{\n\n   Demo1 demo1;\n   \n   // specifically not using @Autowired\n   public Demo2(Demo1 demo1){\n      this.demo1 = demo1;\n   }\n\n   public Demo1 getDemo1(){\n     return this.demo1\n   }\n}\n</code></pre>\n<pre><code>@Component\nclass Demo3 {\n   \n   Demo1 demo1\n   Demo2 demo2;\n\n   public Demo3(Demo1 demo1, Demo2 demo2){\n     this.demo1 = demo1;\n     this.demo2 = demo2;\n   }\n}\n</code></pre>\n<p>Config class</p>\n<pre><code>@Configuration\nclass MyConfig {\n\n  @Bean\n  public Demo1 demo1(){\n    return new demo1()\n  }\n\n  @Bean\n  public Demo2 demo2(){\n    return new Demo2(demo1());\n  }\n\n  @Bean\n  public Demo3 demo3(){\n   Demo2 demo2 = demo2()\n   return new Demo3(demo2.getDemo1(), demo2);\n  }\n}\n</code></pre>\n<p>I understand that this is not the best/right way to do it but I want to know if its equivalent to using <code>@Autowired</code> annotation and if spring is able to resolve the dependency among the beans while creation, that is create in order</p>\n<ol>\n<li>demo1</li>\n<li>demo2</li>\n<li>demo3</li>\n</ol>\n<p>and destroy in order</p>\n<ol>\n<li>demo3</li>\n<li>demo2</li>\n<li>demo1</li>\n</ol>\n<p>Does changing the order of the functions in <code>MyConfig</code> make any difference ?</p>\n<p>Currently I am facing an error where I believe <code>demo1</code> is getting destroyed before <code>demo2</code> or <code>demo3</code></p>\n"},{"tags":["java","pass-by-reference","pass-by-value"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1662442305,"post_id":73617047,"comment_id":129999597,"body_markdown":"1) Java is always pass by value.  2) If the parameter is an object, the object&#39;s reference is passed by value.  This means that the called function can *modify* the object&#39;s value, and the modification will be seen by the caller.  3) It also means that any changes to the reference (e.g. setting &quot;root = null&quot;) will *NOT* be seen by the caller. 4) Regarding Solution 1 vs. Solution 2: Q: Did you step through the code in the debugger?  What did you find?","body":"1) Java is always pass by value.  2) If the parameter is an object, the object&#39;s reference is passed by value.  This means that the called function can <i>modify</i> the object&#39;s value, and the modification will be seen by the caller.  3) It also means that any changes to the reference (e.g. setting &quot;root = null&quot;) will <i>NOT</i> be seen by the caller. 4) Regarding Solution 1 vs. Solution 2: Q: Did you step through the code in the debugger?  What did you find?"},{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1662443006,"post_id":73617047,"comment_id":129999730,"body_markdown":"Note: do yourself a favor and use consistent formatting (including indentation). It will make things easier for you, and for others trying to assist you.","body":"Note: do yourself a favor and use consistent formatting (including indentation). It will make things easier for you, and for others trying to assist you."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662443082,"post_id":73617047,"comment_id":129999745,"body_markdown":"Does this answer your question? [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"},{"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"score":0,"creation_date":1662443416,"post_id":73617047,"comment_id":129999800,"body_markdown":"@tgdavies I went through this answer before but wasn&#39;t able to figure out why in this specific case it isn&#39;t working as its supposed to .\nI am passing an object int the second solution so ideally it should change the original object as Object variable name is just a reference to actual object","body":"@tgdavies I went through this answer before but wasn&#39;t able to figure out why in this specific case it isn&#39;t working as its supposed to . I am passing an object int the second solution so ideally it should change the original object as Object variable name is just a reference to actual object"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1662444365,"post_id":73617047,"comment_id":129999993,"body_markdown":"@AmanKumarSinha - When I look into the requirements: you&#39;re never supposed to return null. It&#39;s required to *always* return the original tree. Reconsider your solution. In fact, it does not work.","body":"@AmanKumarSinha - When I look into the requirements: you&#39;re never supposed to return null. It&#39;s required to <i>always</i> return the original tree. Reconsider your solution. In fact, it does not work."},{"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"score":0,"creation_date":1662444487,"post_id":73617047,"comment_id":130000018,"body_markdown":"@AndreasDolk it got accepted by leetcode so not sure what you are referring to","body":"@AndreasDolk it got accepted by leetcode so not sure what you are referring to"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1662445162,"post_id":73617047,"comment_id":130000203,"body_markdown":"@AmanKumarSinha - consider a tree [0]. You&#39;d return null instead of the &#39;same&#39; tree. It&#39;s a corner case. I&#39;d expect, that you&#39;d have to return the same tree, [0], because &#39;null&#39; does not fulfill the &#39;same tree&#39; requirement. On the other hand, we could argue, that the root was supposed to be removed. In that case, the tree model was broken, because i&#39;d require some invisible root with a single child node, so that we could remove that and still return the tree model.","body":"@AmanKumarSinha - consider a tree [0]. You&#39;d return null instead of the &#39;same&#39; tree. It&#39;s a corner case. I&#39;d expect, that you&#39;d have to return the same tree, [0], because &#39;null&#39; does not fulfill the &#39;same tree&#39; requirement. On the other hand, we could argue, that the root was supposed to be removed. In that case, the tree model was broken, because i&#39;d require some invisible root with a single child node, so that we could remove that and still return the tree model."},{"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"score":1,"creation_date":1662445304,"post_id":73617047,"comment_id":130000240,"body_markdown":"@AndreasDolk Your answer makes sense to me but i guess either that case wasn&#39;t a test case for the question or the expectation was to remove a tree completely when it has only one node with value 0 . In any case I see your point . Thanks for pointing that out","body":"@AndreasDolk Your answer makes sense to me but i guess either that case wasn&#39;t a test case for the question or the expectation was to remove a tree completely when it has only one node with value 0 . In any case I see your point . Thanks for pointing that out"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662448003,"creation_date":1662443427,"answer_id":73617250,"question_id":73617047,"body_markdown":"In the second example you nowhere worked with the result of `pruneTree1()`. But the parameter of that method never got modified for its caller (due to pass-by-value).\r\n\r\n*Update* for your added example:\r\n\r\n`root.left` and `root2.left` are referring to the same object. As `root.left.val != 5` you also don&#39;t change that.\r\n\r\nYou assign `root.left` and `root.right` to the return value of the method, but return the input parameter in the most cases. So as long as you don&#39;t return `null`, the *same* objects are still referenced.","title":"Clarification regrading Java pass-by-value","body":"<p>In the second example you nowhere worked with the result of <code>pruneTree1()</code>. But the parameter of that method never got modified for its caller (due to pass-by-value).</p>\n<p><em>Update</em> for your added example:</p>\n<p><code>root.left</code> and <code>root2.left</code> are referring to the same object. As <code>root.left.val != 5</code> you also don't change that.</p>\n<p>You assign <code>root.left</code> and <code>root.right</code> to the return value of the method, but return the input parameter in the most cases. So as long as you don't return <code>null</code>, the <em>same</em> objects are still referenced.</p>\n"}],"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73617250,"answer_count":1,"score":0,"last_activity_date":1662448003,"creation_date":1662441758,"question_id":73617047,"body_markdown":"I am solving a coding question where we need to remove all the sub-trees of a binary tree that only has 0 as its value . Question link https://leetcode.com/problems/binary-tree-pruning/\r\nThe solution that worked for me is this \r\n```java\r\npublic TreeNode pruneTree(TreeNode root) {\r\n    if (root == null)\r\n        return null;\r\n    root.left = pruneTree(root.left);\r\n    root.right = pruneTree(root.right);\r\n    if (root.val == 0 &amp;&amp; root.left == null &amp;&amp; root.right == null)\r\n        root = null;\r\n    else\r\n        return root;\r\n   // pruneTree1(root);\r\n //   printTree(root);\r\n    return root;\r\n}\r\n```\r\nThe solution I tried submitting earlier was this \r\n```java\r\npublic TreeNode pruneTree(TreeNode root) {\r\n    pruneTree1(root);\r\n    return root;\r\n}\r\n\r\nTreeNode pruneTree1 (TreeNode root) {\r\n    if(root ==null)\r\n        return root ;\r\n    root.left = pruneTree1(root.left);\r\n    root.right = pruneTree1(root.right);\r\n    if(root.left==null &amp;&amp; root.right==null &amp;&amp; root.val==0) {\r\n        System.out.println(root.val);\r\n        root =null;\r\n    }\r\n    return root;\r\n}\r\n```\r\nMy question/doubt is why the second solution wasn&#39;t changing the original tree. My understanding was Java is pass by value but when we pass an Object by its variable  name its a reference to original object and we can change its content.  \r\n\r\nWhy was it not working in this case. Is it because I am  trying to set the whole object as null and not just its value ?\r\n\r\n\r\nI tired recreating the scenario with another example and the code behaves differently in this case . Here&#39;s what i tried \r\n\r\n    public void run1() {\r\n            TreeNode root = new TreeNode();\r\n            root.val = 2;\r\n            TreeNode left = new TreeNode();\r\n            left.val = 3;\r\n            TreeNode right = new TreeNode();\r\n            right.val = 4;\r\n            TreeNode leftLeft = new TreeNode();\r\n            leftLeft.val = 5;\r\n            TreeNode rightRight = new TreeNode();\r\n            rightRight.val = 6;\r\n            root.left = left;\r\n            root.right = right;\r\n            left.left = leftLeft;\r\n            right.right = rightRight;\r\n            System.out.println(root.left.left.val);\r\n            TreeNode root2 = makeNull(root);\r\n            System.out.println(root.left.left);\r\n            System.out.println(root2.left.left);\r\n    \r\n        };\r\n    \r\n     public   TreeNode  makeNull (TreeNode root){\r\n            if(root ==null)\r\n                return root ;\r\n            root.left = makeNull(root.left);\r\n            root.right = makeNull(root.right);\r\n            if(root.val==5)\r\n                root=null;\r\n            //  left.left = null;\r\n            return root;\r\n        }\r\n\r\nIn the example i both root.left.left and root2.left.left is set as null when i print it . Why it acts like parameter is passed as reference in this case but not in the above example.\r\n\r\n\r\n","title":"Clarification regrading Java pass-by-value","body":"<p>I am solving a coding question where we need to remove all the sub-trees of a binary tree that only has 0 as its value . Question link <a href=\"https://leetcode.com/problems/binary-tree-pruning/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/binary-tree-pruning/</a>\nThe solution that worked for me is this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public TreeNode pruneTree(TreeNode root) {\n    if (root == null)\n        return null;\n    root.left = pruneTree(root.left);\n    root.right = pruneTree(root.right);\n    if (root.val == 0 &amp;&amp; root.left == null &amp;&amp; root.right == null)\n        root = null;\n    else\n        return root;\n   // pruneTree1(root);\n //   printTree(root);\n    return root;\n}\n</code></pre>\n<p>The solution I tried submitting earlier was this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public TreeNode pruneTree(TreeNode root) {\n    pruneTree1(root);\n    return root;\n}\n\nTreeNode pruneTree1 (TreeNode root) {\n    if(root ==null)\n        return root ;\n    root.left = pruneTree1(root.left);\n    root.right = pruneTree1(root.right);\n    if(root.left==null &amp;&amp; root.right==null &amp;&amp; root.val==0) {\n        System.out.println(root.val);\n        root =null;\n    }\n    return root;\n}\n</code></pre>\n<p>My question/doubt is why the second solution wasn't changing the original tree. My understanding was Java is pass by value but when we pass an Object by its variable  name its a reference to original object and we can change its content.</p>\n<p>Why was it not working in this case. Is it because I am  trying to set the whole object as null and not just its value ?</p>\n<p>I tired recreating the scenario with another example and the code behaves differently in this case . Here's what i tried</p>\n<pre><code>public void run1() {\n        TreeNode root = new TreeNode();\n        root.val = 2;\n        TreeNode left = new TreeNode();\n        left.val = 3;\n        TreeNode right = new TreeNode();\n        right.val = 4;\n        TreeNode leftLeft = new TreeNode();\n        leftLeft.val = 5;\n        TreeNode rightRight = new TreeNode();\n        rightRight.val = 6;\n        root.left = left;\n        root.right = right;\n        left.left = leftLeft;\n        right.right = rightRight;\n        System.out.println(root.left.left.val);\n        TreeNode root2 = makeNull(root);\n        System.out.println(root.left.left);\n        System.out.println(root2.left.left);\n\n    };\n\n public   TreeNode  makeNull (TreeNode root){\n        if(root ==null)\n            return root ;\n        root.left = makeNull(root.left);\n        root.right = makeNull(root.right);\n        if(root.val==5)\n            root=null;\n        //  left.left = null;\n        return root;\n    }\n</code></pre>\n<p>In the example i both root.left.left and root2.left.left is set as null when i print it . Why it acts like parameter is passed as reference in this case but not in the above example.</p>\n"},{"tags":["java","eclipse","stack-trace"],"answers":[{"tags":[],"owner":{"account_id":2067196,"reputation":1815,"user_id":1842490,"display_name":"TheCodeKiller"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1509030946,"creation_date":1509030946,"answer_id":46958025,"question_id":46957952,"body_markdown":"It seems you cannot found one of your class, check your classpath.","title":"How to get rid of this Java Stacktrace?","body":"<p>It seems you cannot found one of your class, check your classpath.</p>\n"}],"owner":{"account_id":8751719,"reputation":334,"user_id":6544697,"accept_rate":62,"display_name":"John_H_Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1509041477,"accepted_answer_id":46958025,"answer_count":1,"score":-1,"last_activity_date":1662447770,"creation_date":1509030732,"question_id":46957952,"body_markdown":"I wrote a **working** program with java using the [teamspeak3API][1]. I haven&#39;t changed the code or the jar, so it is exactly the same jar as before. I stopped the program and restarted it, and it caused this error:\r\n\r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/github/theholywaf\r\n    fle/teamspeak3/api/wrapper/Client\r\n            at java.lang.Class.getDeclaredMethods0(Native Method)\r\n            at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n            at java.lang.Class.privateGetMethodRecursive(Unknown Source)\r\n            at java.lang.Class.getMethod0(Unknown Source)\r\n            at java.lang.Class.getMethod(Unknown Source)\r\n            at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)\r\n            at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: com.github.theholywaffle.teamspeak3\r\n    .api.wrapper.Client\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            ... 7 more\r\n\r\nI use Oracle JRE v8 update 151 on Windows Server 2008.\r\nI also tried restarting the root, reinstalling java and re-import the library into the jar through eclipse.\r\n\r\nThe jar is running fine on local dev environment but don&#39;t in productive server environment.\r\n\r\n\r\n  [1]: https://github.com/TheHolyWaffle/TeamSpeak-3-Java-API","title":"How to get rid of this Java Stacktrace?","body":"<p>I wrote a <strong>working</strong> program with java using the <a href=\"https://github.com/TheHolyWaffle/TeamSpeak-3-Java-API\" rel=\"nofollow noreferrer\">teamspeak3API</a>. I haven't changed the code or the jar, so it is exactly the same jar as before. I stopped the program and restarted it, and it caused this error:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/github/theholywaf\nfle/teamspeak3/api/wrapper/Client\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n        at java.lang.Class.privateGetMethodRecursive(Unknown Source)\n        at java.lang.Class.getMethod0(Unknown Source)\n        at java.lang.Class.getMethod(Unknown Source)\n        at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: com.github.theholywaffle.teamspeak3\n.api.wrapper.Client\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 7 more\n</code></pre>\n<p>I use Oracle JRE v8 update 151 on Windows Server 2008.\nI also tried restarting the root, reinstalling java and re-import the library into the jar through eclipse.</p>\n<p>The jar is running fine on local dev environment but don't in productive server environment.</p>\n"},{"tags":["java","linux","azure"],"comments":[{"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"score":0,"creation_date":1662454800,"post_id":73617791,"comment_id":130003254,"body_markdown":"Is it a firewall issue?","body":"Is it a firewall issue?"},{"owner":{"account_id":25416593,"reputation":29,"user_id":19223393,"display_name":"Rajesh Gandhavarapu"},"score":0,"creation_date":1662484663,"post_id":73617791,"comment_id":130014380,"body_markdown":"Hi @Jatin, I enabled the required ports in the firewall. I think it&#39;s not a firewall issue. If in case it&#39;s a firewall issue I am not able to access the website in the browser.                       if you feel anything I am missing, Please suggest me clear this issue. It&#39;s very helpful.            Thank you.","body":"Hi @Jatin, I enabled the required ports in the firewall. I think it&#39;s not a firewall issue. If in case it&#39;s a firewall issue I am not able to access the website in the browser.                       if you feel anything I am missing, Please suggest me clear this issue. It&#39;s very helpful.            Thank you."}],"owner":{"account_id":25416593,"reputation":29,"user_id":19223393,"display_name":"Rajesh Gandhavarapu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662447024,"creation_date":1662447024,"question_id":73617791,"body_markdown":"I deployed my website in Azure Virtual Machine(RedHat8).\r\n\r\nI faced an issue while login into a website(java based), It has taken too much time to login(taken more than 950s), or while refreshing the page it can be redirected to the home page, and sometimes it has login very quickly(in 5s).\r\n\r\nThe Same project I deployed in AWS and GCP Linux servers there is no login issue. I followed the same process for every Deployment. \r\n\r\nI don&#39;t know why the login issue coming in Azure servers.\r\n\r\nPlease anyone help regarding this issue. It is very helpful to me.\r\n\r\nThanks in Advance.\r\n\r\n\r\n\r\n","title":"Website Login issue in Azure Linux Servers","body":"<p>I deployed my website in Azure Virtual Machine(RedHat8).</p>\n<p>I faced an issue while login into a website(java based), It has taken too much time to login(taken more than 950s), or while refreshing the page it can be redirected to the home page, and sometimes it has login very quickly(in 5s).</p>\n<p>The Same project I deployed in AWS and GCP Linux servers there is no login issue. I followed the same process for every Deployment.</p>\n<p>I don't know why the login issue coming in Azure servers.</p>\n<p>Please anyone help regarding this issue. It is very helpful to me.</p>\n<p>Thanks in Advance.</p>\n"},{"tags":["java","android","opencv","gradle","android-ndk"],"owner":{"account_id":5497719,"reputation":150,"user_id":4368223,"display_name":"Stanko Kovacevic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662446741,"creation_date":1481124978,"question_id":41021471,"body_markdown":"I can&#39;t use LLDB for JNI C code debugging. None of the breakpoints hit, and I can&#39;t even get into C code with debugger.\r\nGradle files:&lt;br/&gt;\r\nproject-gradle:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.2.2&#39;\r\n\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;br /&gt;\r\napp-module-gradle:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.0&quot;\r\n        defaultConfig {\r\n            applicationId &quot;co.bstorm.pazljivko&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 25\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            externalNativeBuild {\r\n                cmake {\r\n                    cppFlags &quot;-frtti -fexceptions -std=c++11&quot;\r\n                    abiFilters &#39;x86&#39;, &#39;x86_64&#39;, &#39;armeabi&#39;, &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;mips&#39;, &#39;mips64&#39;\r\n                }\r\n            }\r\n        }\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n            debug {\r\n                debuggable true\r\n                jniDebuggable true\r\n            }\r\n        }\r\n        externalNativeBuild {\r\n            cmake {\r\n                path &quot;CMakeLists.txt&quot;\r\n            }\r\n        }\r\n        sourceSets {\r\n            main {\r\n                jni.srcDirs = [&#39;src/main/jni&#39;, &#39;src/main/jniLibs/&#39;]\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &#39;com.android.support:appcompat-v7:25.0.1&#39;\r\n        compile &#39;com.android.support:design:25.0.1&#39;\r\n        compile &#39;com.android.support:support-v4:25.0.1&#39;\r\n        compile &#39;com.squareup.okhttp3:okhttp:3.4.2&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        debugCompile project(&#39;:signrecognizer&#39;)\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;br /&gt;\r\nsignrecognizer-module-gradle:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    apply plugin: &#39;com.android.library&#39;\r\n\r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.0&quot;\r\n\r\n        defaultConfig {\r\n            minSdkVersion 15\r\n            targetSdkVersion 25\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n\r\n            externalNativeBuild {\r\n                cmake {\r\n                    cppFlags &quot;-frtti -fexceptions -std=c++11 -D_DEBUG&quot;\r\n                    abiFilters &#39;x86&#39;, &#39;x86_64&#39;, &#39;armeabi&#39;, &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;mips&#39;, &#39;mips64&#39;\r\n                }\r\n            }\r\n        }\r\n\r\n        configurations {\r\n            debug\r\n            release\r\n        }\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n            debug {\r\n                debuggable true\r\n                jniDebuggable true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                path &quot;../CMakeLists.txt&quot;\r\n            }\r\n        }\r\n        sourceSets {\r\n            main {\r\n                jni.srcDirs = [&#39;src/main/jni&#39;, &#39;src/main/jniLibs/&#39;]\r\n                jniLibs.srcDirs = [&#39;../lib&#39;]\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &#39;com.android.support:appcompat-v7:25.0.1&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile project(&#39;:openCVLibrary310&#39;)\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy signrecognizer module is using OpenCV with CMake files. They all build successfuly, but i can&#39;t access those units too.\r\n\r\n","title":"Android Studio 2.2 Native debugging of submodule (library)","body":"<p>I can't use LLDB for JNI C code debugging. None of the breakpoints hit, and I can't even get into C code with debugger.\nGradle files:<br/>\nproject-gradle:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath 'com.android.tools.build:gradle:2.2.2'\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><br />\napp-module-gradle:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>apply plugin: 'com.android.application'\r\n\r\nandroid {\r\n    compileSdkVersion 25\r\n    buildToolsVersion \"25.0.0\"\r\n    defaultConfig {\r\n        applicationId \"co.bstorm.pazljivko\"\r\n        minSdkVersion 15\r\n        targetSdkVersion 25\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\r\n        externalNativeBuild {\r\n            cmake {\r\n                cppFlags \"-frtti -fexceptions -std=c++11\"\r\n                abiFilters 'x86', 'x86_64', 'armeabi', 'armeabi-v7a', 'arm64-v8a', 'mips', 'mips64'\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\r\n        }\r\n        debug {\r\n            debuggable true\r\n            jniDebuggable true\r\n        }\r\n    }\r\n    externalNativeBuild {\r\n        cmake {\r\n            path \"CMakeLists.txt\"\r\n        }\r\n    }\r\n    sourceSets {\r\n        main {\r\n            jni.srcDirs = ['src/main/jni', 'src/main/jniLibs/']\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    compile fileTree(include: ['*.jar'], dir: 'libs')\r\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\r\n        exclude group: 'com.android.support', module: 'support-annotations'\r\n    })\r\n    compile 'com.android.support:appcompat-v7:25.0.1'\r\n    compile 'com.android.support:design:25.0.1'\r\n    compile 'com.android.support:support-v4:25.0.1'\r\n    compile 'com.squareup.okhttp3:okhttp:3.4.2'\r\n    testCompile 'junit:junit:4.12'\r\n    debugCompile project(':signrecognizer')\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><br />\nsignrecognizer-module-gradle:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>apply plugin: 'com.android.library'\r\n\r\nandroid {\r\n    compileSdkVersion 25\r\n    buildToolsVersion \"25.0.0\"\r\n\r\n    defaultConfig {\r\n        minSdkVersion 15\r\n        targetSdkVersion 25\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                cppFlags \"-frtti -fexceptions -std=c++11 -D_DEBUG\"\r\n                abiFilters 'x86', 'x86_64', 'armeabi', 'armeabi-v7a', 'arm64-v8a', 'mips', 'mips64'\r\n            }\r\n        }\r\n    }\r\n\r\n    configurations {\r\n        debug\r\n        release\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\r\n        }\r\n        debug {\r\n            debuggable true\r\n            jniDebuggable true\r\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n\r\n    externalNativeBuild {\r\n        cmake {\r\n            path \"../CMakeLists.txt\"\r\n        }\r\n    }\r\n    sourceSets {\r\n        main {\r\n            jni.srcDirs = ['src/main/jni', 'src/main/jniLibs/']\r\n            jniLibs.srcDirs = ['../lib']\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    compile fileTree(include: ['*.jar'], dir: 'libs')\r\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\r\n        exclude group: 'com.android.support', module: 'support-annotations'\r\n    })\r\n    compile 'com.android.support:appcompat-v7:25.0.1'\r\n    testCompile 'junit:junit:4.12'\r\n    compile project(':openCVLibrary310')\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My signrecognizer module is using OpenCV with CMake files. They all build successfuly, but i can't access those units too.</p>\n"},{"tags":["java","android","opencv","android-camera","google-project-tango"],"answers":[{"tags":[],"owner":{"account_id":4366242,"reputation":1826,"user_id":3561953,"accept_rate":75,"display_name":"xuguo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498064764,"creation_date":1498064764,"answer_id":44682222,"question_id":44111775,"body_markdown":"There are two things potentially happened here: \r\n\r\n1. the buffer for camera image went out of scope.\r\n\r\nWith current Tango&#39;s SDK, the callee of `onFrameAvailable` callback only have control to `imageBuffer` within the scope of the callback. That means if you reference `imageBuffer` in an `AsynTask`, you could potentially get a null buffer, and result in a crash. The way Tango solve it is to always deep copy out the data from the callback, and process it in another thread.\r\n\r\n\r\n2. the process is blocking Tango&#39;s thread for too long.\r\n\r\nWithout the AsyncTask, what&#39;s likely happened is that the processing blocked Tango&#39;s thread for too long, and this is know to be bad for Tango as well. ","title":"google tango / opencv android camera app crashes/hangs","body":"<p>There are two things potentially happened here: </p>\n\n<ol>\n<li>the buffer for camera image went out of scope.</li>\n</ol>\n\n<p>With current Tango's SDK, the callee of <code>onFrameAvailable</code> callback only have control to <code>imageBuffer</code> within the scope of the callback. That means if you reference <code>imageBuffer</code> in an <code>AsynTask</code>, you could potentially get a null buffer, and result in a crash. The way Tango solve it is to always deep copy out the data from the callback, and process it in another thread.</p>\n\n<ol start=\"2\">\n<li>the process is blocking Tango's thread for too long.</li>\n</ol>\n\n<p>Without the AsyncTask, what's likely happened is that the processing blocked Tango's thread for too long, and this is know to be bad for Tango as well. </p>\n"}],"owner":{"account_id":10951331,"reputation":1,"user_id":8047622,"display_name":"Nille"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662446629,"creation_date":1495452649,"question_id":44111775,"body_markdown":"I am developing a prototype app, utilizing the tango depth camera for template matching. So far, I have been able to solve all problems with the help of already answered questions, documentation etc.\r\n\r\nHowever, now I seem to have come to a stop. Last major change I made, was to draw a contour on the camera preview image, before displaying it. No matter what I do now, the app works for a while, before it crashes.\r\n\r\nI have looked at heap dumps and allocation tracking in Android Studio. The only possibly weird thing there is that there can be a lot of memory on FinalizerReference objects in the heap dump...\r\n\r\nI also tried moving the processing to an AsyncTask, and just skip every color frame until the task was done (so that only one task was running at a time) and the processed frame was displayed, but the problem remained.\r\n\r\nI am using Google Tango for getting color and depth camera data and opencv in java for analyzing the data and doing the template matching.\r\n\r\nDoes someone have a clue of what these logcat messages mean?\r\n\r\nLogcat errors:\r\n\r\n&gt; E/lowmemorykiller: Error opening /proc/10173/oom_score_adj; errno=2  \r\n&gt; E/mm-camera-isp2: abf40_trigger_update:587 aec_ratio.ratio = 0.039062  \r\n&gt; W/ActivityManager: Scheduling restart of crashed service \r\ncom.lenovo.lsf.device/com.lenovo.lsf.push.service.PushService in 68068ms  \r\n&gt; W/ActivityManager: Scheduling restart of crashed service com.qualcomm.qti.modemtestmode/.MbnSystemService in 88020ms  \r\n&gt; E/InputDispatcher: channel &#39;478a66c com.android.documentsui/com.android.documentsui.DocumentsActivity (server)&#39; ~ Channel is unrecoverably broken and will be disposed!  \r\n&gt; E/lowmemorykiller: Error writing /proc/10113/oom_score_adj; errno=22  \r\n&gt; E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)  \r\n&gt; E/lowmemorykiller: Error writing /proc/32408/oom_score_adj; errno=22  \r\n&gt; E/InputDispatcher: channel &#39;85c4188 com.android.launcher3/com.android.launcher3.Launcher (server)&#39; ~ Channel is unrecoverably broken and will be disposed!  \r\n&gt; E/mm-camera-isp2: abf40_trigger_update:587 aec_ratio.ratio = 0.000000  \r\n&gt; E/ConnectivityService: RemoteException caught trying to send a callback msg for NetworkRequest [ id=332, legacyType=-1, [ Capabilities: INTERNET&amp;NOT_RESTRICTED&amp;TRUSTED] ]  \r\n&gt; E/mm-camera: mct_util_timer_handler:Error Backend stuck during HAL Command Raising SIGABRT  \r\n&gt; E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)   \r\n&gt; E/lowmemorykiller: Error writing /proc/32437/oom_score_adj; errno=22  \r\n&gt; E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 308)  \r\n&gt; E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)  \r\n&gt; E/lowmemorykiller: Error writing /proc/32437/oom_score_adj; errno=22  \r\n&gt; E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)  \r\n&gt; E/mm-camera: mct_util_timer_handler:Error Backend stuck during HAL Command Raising SIGABRT  E/Surface: queueBuffer: error queuing buffer to SurfaceTexture, -32  \r\n&gt; E/Surface: queueBuffer: error queuing buffer to SurfaceTexture, -32  \r\n&gt; E/mm-camera: cpp_module_send_buf_divert_event:545] buffer event received with no divert config  \r\n&gt; E/mm-camera: cpp_module_send_buf_divert_event:545] buffer event received with no divert config  \r\n&gt; E/Camera3-OutputStream: getBufferLocked: Stream 0: Can&#39;t dequeue next output buffer: Broken pipe (-32)  \r\n&gt; E/Camera3-OutputStream: returnBufferCheckedLocked: Stream 0: Error queueing buffer to native window: Broken pipe (-32)  \r\n&gt; E/Camera3-Device: RequestThread: Can&#39;t get output buffer, skipping request: Broken pipe (-32)  \r\n&gt; E/Camera3-Device: Can&#39;t return buffer to its stream: Broken pipe (-32)  \r\n&gt; E/Camera3-OutputStream: getBufferLocked: Stream 0: Can&#39;t dequeue next output buffer: Broken pipe (-32)  \r\n&gt; E/Camera3-Device: RequestThread: Can&#39;t get output buffer, skipping request: Broken pipe (-32) \r\n\r\nCode for displaying camera preview:\r\n\r\n    mTango.experimentalConnectOnFrameListener(TangoCameraIntrinsics.TANGO_CAMERA_COLOR, new Tango.OnFrameAvailableListener() {\r\n        byte[] imageByteArray = new byte[colorCameraIntrinsics.height * colorCameraIntrinsics.width * 3 / 2];  \r\n        Mat yuvMat = new Mat( colorCameraIntrinsics.height + colorCameraIntrinsics.height/2, colorCameraIntrinsics.width, CvType.CV_8UC1 );\r\n        Bitmap bitmapDisplay = Bitmap.createBitmap( colorCameraIntrinsics.width, colorCameraIntrinsics.height, Bitmap.Config.ARGB_8888 );\r\n        Mat colorMatDisplay;\r\n    \r\n        @Override\r\n        public void onFrameAvailable(TangoImageBuffer imageBuffer, int cameraId) {\r\n            Log.d(TAG, &quot;onFrameAvailable: color frame available&quot;);\r\n            if (colorFrameCounter &lt; 3) { //only use every 3rd frame\r\n                Log.d(TAG, &quot;onFrameAvailable: skipping frame &quot; + colorFrameCounter);\r\n                colorFrameCounter++;\r\n            } else {\r\n                colorFrameCounter = 0;\r\n                if (!stopCameraView.get()) { // Only view frame if camera view is not stopped\r\n    \r\n                    // convert image buffer data to byte array\r\n                    imageBuffer.data.get(imageByteArray);\r\n\r\n                    // byte array to Mat object with YUV coding (NV21)\r\n                    yuvMat.put(0, 0, imageByteArray);\r\n    \r\n                    // locking access to lastColorFrameMat\r\n                    synchronized (lockVar) {\r\n                        Log.d(TAG, &quot;onFrameAvailable: converting to bitmap&quot;);\r\n                        // convert from YUV (NV21) Mat to RGBA Mat and place in lastColorFrameMat (global)\r\n                        Imgproc.cvtColor(yuvMat, lastColorFrameMat, Imgproc.COLOR_YUV2RGBA_NV21, 4);\r\n                        colorMatDisplay = lastColorFrameMat.clone();\r\n                    }\r\n    \r\n                    if (templateContours != null) {\r\n                        Imgproc.drawContours(colorMatDisplay, templateContours, templateContourMaxIdx, new Scalar(0, 255, 0, 255), 5);\r\n                    }\r\n    \r\n                    // convert colorMatDisplay to bitmap, for display in imageview\r\n                    Utils.matToBitmap(colorMatDisplay, bitmapDisplay);\r\n    \r\n                    Log.d(TAG, &quot;onFrameAvailable: view lastColorFrameMat on phone display&quot;);\r\n    \r\n                    // View colorImage in imageViewer on UI thread\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            imageViewer.setImageBitmap(bitmapDisplay);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n    \r\n        }\r\n    });\r\n\r\n","title":"google tango / opencv android camera app crashes/hangs","body":"<p>I am developing a prototype app, utilizing the tango depth camera for template matching. So far, I have been able to solve all problems with the help of already answered questions, documentation etc.</p>\n\n<p>However, now I seem to have come to a stop. Last major change I made, was to draw a contour on the camera preview image, before displaying it. No matter what I do now, the app works for a while, before it crashes.</p>\n\n<p>I have looked at heap dumps and allocation tracking in Android Studio. The only possibly weird thing there is that there can be a lot of memory on FinalizerReference objects in the heap dump...</p>\n\n<p>I also tried moving the processing to an AsyncTask, and just skip every color frame until the task was done (so that only one task was running at a time) and the processed frame was displayed, but the problem remained.</p>\n\n<p>I am using Google Tango for getting color and depth camera data and opencv in java for analyzing the data and doing the template matching.</p>\n\n<p>Does someone have a clue of what these logcat messages mean?</p>\n\n<p>Logcat errors:</p>\n\n<blockquote>\n  <p>E/lowmemorykiller: Error opening /proc/10173/oom_score_adj; errno=2<br>\n  E/mm-camera-isp2: abf40_trigger_update:587 aec_ratio.ratio = 0.039062<br>\n  W/ActivityManager: Scheduling restart of crashed service \n  com.lenovo.lsf.device/com.lenovo.lsf.push.service.PushService in 68068ms<br>\n  W/ActivityManager: Scheduling restart of crashed service com.qualcomm.qti.modemtestmode/.MbnSystemService in 88020ms<br>\n  E/InputDispatcher: channel '478a66c com.android.documentsui/com.android.documentsui.DocumentsActivity (server)' ~ Channel is unrecoverably broken and will be disposed!<br>\n  E/lowmemorykiller: Error writing /proc/10113/oom_score_adj; errno=22<br>\n  E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)<br>\n  E/lowmemorykiller: Error writing /proc/32408/oom_score_adj; errno=22<br>\n  E/InputDispatcher: channel '85c4188 com.android.launcher3/com.android.launcher3.Launcher (server)' ~ Channel is unrecoverably broken and will be disposed!<br>\n  E/mm-camera-isp2: abf40_trigger_update:587 aec_ratio.ratio = 0.000000<br>\n  E/ConnectivityService: RemoteException caught trying to send a callback msg for NetworkRequest [ id=332, legacyType=-1, [ Capabilities: INTERNET&amp;NOT_RESTRICTED&amp;TRUSTED] ]<br>\n  E/mm-camera: mct_util_timer_handler:Error Backend stuck during HAL Command Raising SIGABRT<br>\n  E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)<br>\n  E/lowmemorykiller: Error writing /proc/32437/oom_score_adj; errno=22<br>\n  E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 308)<br>\n  E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)<br>\n  E/lowmemorykiller: Error writing /proc/32437/oom_score_adj; errno=22<br>\n  E/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 76)<br>\n  E/mm-camera: mct_util_timer_handler:Error Backend stuck during HAL Command Raising SIGABRT  E/Surface: queueBuffer: error queuing buffer to SurfaceTexture, -32<br>\n  E/Surface: queueBuffer: error queuing buffer to SurfaceTexture, -32<br>\n  E/mm-camera: cpp_module_send_buf_divert_event:545] buffer event received with no divert config<br>\n  E/mm-camera: cpp_module_send_buf_divert_event:545] buffer event received with no divert config<br>\n  E/Camera3-OutputStream: getBufferLocked: Stream 0: Can't dequeue next output buffer: Broken pipe (-32)<br>\n  E/Camera3-OutputStream: returnBufferCheckedLocked: Stream 0: Error queueing buffer to native window: Broken pipe (-32)<br>\n  E/Camera3-Device: RequestThread: Can't get output buffer, skipping request: Broken pipe (-32)<br>\n  E/Camera3-Device: Can't return buffer to its stream: Broken pipe (-32)<br>\n  E/Camera3-OutputStream: getBufferLocked: Stream 0: Can't dequeue next output buffer: Broken pipe (-32)<br>\n  E/Camera3-Device: RequestThread: Can't get output buffer, skipping request: Broken pipe (-32) </p>\n</blockquote>\n\n<p>Code for displaying camera preview:</p>\n\n<pre><code>mTango.experimentalConnectOnFrameListener(TangoCameraIntrinsics.TANGO_CAMERA_COLOR, new Tango.OnFrameAvailableListener() {\n    byte[] imageByteArray = new byte[colorCameraIntrinsics.height * colorCameraIntrinsics.width * 3 / 2];  \n    Mat yuvMat = new Mat( colorCameraIntrinsics.height + colorCameraIntrinsics.height/2, colorCameraIntrinsics.width, CvType.CV_8UC1 );\n    Bitmap bitmapDisplay = Bitmap.createBitmap( colorCameraIntrinsics.width, colorCameraIntrinsics.height, Bitmap.Config.ARGB_8888 );\n    Mat colorMatDisplay;\n\n    @Override\n    public void onFrameAvailable(TangoImageBuffer imageBuffer, int cameraId) {\n        Log.d(TAG, \"onFrameAvailable: color frame available\");\n        if (colorFrameCounter &lt; 3) { //only use every 3rd frame\n            Log.d(TAG, \"onFrameAvailable: skipping frame \" + colorFrameCounter);\n            colorFrameCounter++;\n        } else {\n            colorFrameCounter = 0;\n            if (!stopCameraView.get()) { // Only view frame if camera view is not stopped\n\n                // convert image buffer data to byte array\n                imageBuffer.data.get(imageByteArray);\n\n                // byte array to Mat object with YUV coding (NV21)\n                yuvMat.put(0, 0, imageByteArray);\n\n                // locking access to lastColorFrameMat\n                synchronized (lockVar) {\n                    Log.d(TAG, \"onFrameAvailable: converting to bitmap\");\n                    // convert from YUV (NV21) Mat to RGBA Mat and place in lastColorFrameMat (global)\n                    Imgproc.cvtColor(yuvMat, lastColorFrameMat, Imgproc.COLOR_YUV2RGBA_NV21, 4);\n                    colorMatDisplay = lastColorFrameMat.clone();\n                }\n\n                if (templateContours != null) {\n                    Imgproc.drawContours(colorMatDisplay, templateContours, templateContourMaxIdx, new Scalar(0, 255, 0, 255), 5);\n                }\n\n                // convert colorMatDisplay to bitmap, for display in imageview\n                Utils.matToBitmap(colorMatDisplay, bitmapDisplay);\n\n                Log.d(TAG, \"onFrameAvailable: view lastColorFrameMat on phone display\");\n\n                // View colorImage in imageViewer on UI thread\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        imageViewer.setImageBitmap(bitmapDisplay);\n                    }\n                });\n            }\n        }\n\n    }\n});\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628054139,"creation_date":1628054139,"answer_id":68645728,"question_id":68644824,"body_markdown":"There are many ways to do it. Change your mapper as below with implementation for your carDto to Person conversion.\r\n\r\n\r\n    package examples.mapper;\r\n    \r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.Mapping;\r\n    import org.mapstruct.factory.Mappers;\r\n    \r\n    import examples.dto.CarDTO;\r\n    import examples.model.Car;\r\n    \r\n    @Mapper\r\n    public abstract class CarMapper {\r\n    \r\n        CarMapper MAPPER = Mappers.getMapper(CarMapper.class);\r\n    \r\n        @Mapping(source = &quot;dto&quot;, target = &quot;owner&quot;)\r\n        public abstract Car toModel(CarDTO dto);\r\n    \r\n        public Person carDtoToPerson(CarDTO carDto) {\r\n            if (carDto == null || carDto.getOwnerId() == null) {\r\n                return null;\r\n            }\r\n    \r\n            Person person = new Person();\r\n    \r\n            if (carDto.getOwnerId() != null) {\r\n                person.setId(Integer.parseInt(carDto.getOwnerId()));\r\n            }\r\n    \r\n            return person;\r\n        }\r\n    }\r\n\r\n","title":"Mapstruct - Controlling mapping result for &#39;null&#39; arguments","body":"<p>There are many ways to do it. Change your mapper as below with implementation for your carDto to Person conversion.</p>\n<pre><code>package examples.mapper;\n\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.factory.Mappers;\n\nimport examples.dto.CarDTO;\nimport examples.model.Car;\n\n@Mapper\npublic abstract class CarMapper {\n\n    CarMapper MAPPER = Mappers.getMapper(CarMapper.class);\n\n    @Mapping(source = &quot;dto&quot;, target = &quot;owner&quot;)\n    public abstract Car toModel(CarDTO dto);\n\n    public Person carDtoToPerson(CarDTO carDto) {\n        if (carDto == null || carDto.getOwnerId() == null) {\n            return null;\n        }\n\n        Person person = new Person();\n\n        if (carDto.getOwnerId() != null) {\n            person.setId(Integer.parseInt(carDto.getOwnerId()));\n        }\n\n        return person;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22184457,"reputation":1,"user_id":16427613,"display_name":"lmg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662446462,"creation_date":1628045615,"question_id":68644824,"body_markdown":"Good evening :)\r\n\r\nI have a project with 2 main classes, Car and Person and I&#39;m trying to map their DTO with mapstruct.\r\n\r\nAs Car and Person have a one-to-one optional relationship, **I need that Car.owner == null when CarDTO.ownerId == null** Otherwise I&#39;d face problems trying to persist the Car object with a &lt;Person(id=0, name=null, age=0)&gt; attribute.\r\n\r\nHere are the classes:\r\n\r\n```\r\npackage examples.model;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Car {\r\n\r\n\tprivate int id;\r\n\tprivate Person owner;\r\n\tprivate int numerOfWheels;\r\n\tprivate int seatingCapacity;\r\n\tprivate double maximumVelocity;\r\n}\r\n```\r\n```\r\npackage examples.dto;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class CarDTO {\r\n\r\n\tprivate String id;\r\n\tprivate String ownerId;\r\n\tprivate String numerOfWheels;\r\n\tprivate String seatingCapacity;\r\n\tprivate String maximumVelocity;\r\n}\r\n```\r\n```\r\npackage examples.model;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Person {\r\n\r\n\t\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate int age;\r\n}\r\n```\r\n```\r\npackage examples.mapper;\r\n\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.Mapping;\r\nimport org.mapstruct.factory.Mappers;\r\n\r\nimport examples.dto.CarDTO;\r\nimport examples.model.Car;\r\n\r\n@Mapper\r\npublic interface CarMapper {\r\n\r\n\tCarMapper MAPPER = Mappers.getMapper(CarMapper.class);\r\n\t\r\n\t@Mapping(source = &quot;dto.ownerId&quot;, target = &quot;owner.id&quot;)\r\n\tCar toModel(CarDTO dto);\r\n}\r\n```\r\n\r\nHere is the mapstruct implementation:\r\n```\r\npackage examples.mapper;\r\n\r\nimport examples.dto.CarDTO;\r\nimport examples.model.Car;\r\nimport examples.model.Person;\r\nimport javax.annotation.processing.Generated;\r\n\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2021-08-03T23:26:30-0300&quot;,\r\n    comments = &quot;version: 1.5.0.Beta1, compiler: Eclipse JDT (IDE) 1.3.1300.v20210419-1022, environment: Java 11.0.11 (Ubuntu)&quot;\r\n)\r\npublic class CarMapperImpl implements CarMapper {\r\n\r\n    @Override\r\n    public Car toModel(CarDTO dto) {\r\n        if ( dto == null ) {\r\n            return null;\r\n        }\r\n\r\n        Car car = new Car();\r\n\r\n        car.setOwner( carDTOToPerson( dto ) );\r\n        if ( dto.getId() != null ) {\r\n            car.setId( Integer.parseInt( dto.getId() ) );\r\n        }\r\n        if ( dto.getMaximumVelocity() != null ) {\r\n            car.setMaximumVelocity( Double.parseDouble( dto.getMaximumVelocity() ) );\r\n        }\r\n        if ( dto.getNumerOfWheels() != null ) {\r\n            car.setNumerOfWheels( Integer.parseInt( dto.getNumerOfWheels() ) );\r\n        }\r\n        if ( dto.getSeatingCapacity() != null ) {\r\n            car.setSeatingCapacity( Integer.parseInt( dto.getSeatingCapacity() ) );\r\n        }\r\n\r\n        return car;\r\n    }\r\n\r\n    protected Person carDTOToPerson(CarDTO carDTO) {\r\n        if ( carDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        Person person = new Person();\r\n\r\n        if ( carDTO.getOwnerId() != null ) {\r\n            person.setId( Integer.parseInt( carDTO.getOwnerId() ) );\r\n        }\r\n\r\n        return person;\r\n    }\r\n}\r\n```\r\nThe test:\r\n```\r\npackage examples;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport examples.dto.CarDTO;\r\nimport examples.mapper.CarMapper;\r\nimport examples.model.Car;\r\n\r\nclass CarMapperTest {\r\n\r\n\t\r\n\t@Test\r\n\tpublic void testMapDtoToEntity() {\r\n\t\t\r\n\t\t\r\n\t\tCarDTO carDTO = new CarDTO();\r\n\t\tcarDTO.setMaximumVelocity(&quot;115.2&quot;);\r\n\t\tcarDTO.setNumerOfWheels(&quot;4&quot;);\r\n\t\tcarDTO.setSeatingCapacity(&quot;5&quot;);\r\n\t\t\r\n\t\tCar car = CarMapper.MAPPER.toModel(carDTO);\r\n\t\t\r\n\t\tassertEquals(115.2, car.getMaximumVelocity() );\r\n\t\tassertEquals(4, car.getNumerOfWheels() );\r\n\t\tassertEquals(5, car.getSeatingCapacity());\r\n\t\tassertEquals(null, car.getOwner());\r\n\t}\r\n}\r\n```\r\nThe result:\r\n```\r\norg.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Person(id=0, name=null, age=0)&gt;\r\n```\r\n\r\nCan anybody help me solve this? \r\n\r\nThank you very much","title":"Mapstruct - Controlling mapping result for &#39;null&#39; arguments","body":"<p>Good evening :)</p>\n<p>I have a project with 2 main classes, Car and Person and I'm trying to map their DTO with mapstruct.</p>\n<p>As Car and Person have a one-to-one optional relationship, <strong>I need that Car.owner == null when CarDTO.ownerId == null</strong> Otherwise I'd face problems trying to persist the Car object with a &lt;Person(id=0, name=null, age=0)&gt; attribute.</p>\n<p>Here are the classes:</p>\n<pre><code>package examples.model;\n\nimport lombok.Data;\n\n@Data\npublic class Car {\n\n    private int id;\n    private Person owner;\n    private int numerOfWheels;\n    private int seatingCapacity;\n    private double maximumVelocity;\n}\n</code></pre>\n<pre><code>package examples.dto;\n\nimport lombok.Data;\n\n@Data\npublic class CarDTO {\n\n    private String id;\n    private String ownerId;\n    private String numerOfWheels;\n    private String seatingCapacity;\n    private String maximumVelocity;\n}\n</code></pre>\n<pre><code>package examples.model;\n\nimport lombok.Data;\n\n@Data\npublic class Person {\n\n    \n    private int id;\n    private String name;\n    private int age;\n}\n</code></pre>\n<pre><code>package examples.mapper;\n\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.factory.Mappers;\n\nimport examples.dto.CarDTO;\nimport examples.model.Car;\n\n@Mapper\npublic interface CarMapper {\n\n    CarMapper MAPPER = Mappers.getMapper(CarMapper.class);\n    \n    @Mapping(source = &quot;dto.ownerId&quot;, target = &quot;owner.id&quot;)\n    Car toModel(CarDTO dto);\n}\n</code></pre>\n<p>Here is the mapstruct implementation:</p>\n<pre><code>package examples.mapper;\n\nimport examples.dto.CarDTO;\nimport examples.model.Car;\nimport examples.model.Person;\nimport javax.annotation.processing.Generated;\n\n@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2021-08-03T23:26:30-0300&quot;,\n    comments = &quot;version: 1.5.0.Beta1, compiler: Eclipse JDT (IDE) 1.3.1300.v20210419-1022, environment: Java 11.0.11 (Ubuntu)&quot;\n)\npublic class CarMapperImpl implements CarMapper {\n\n    @Override\n    public Car toModel(CarDTO dto) {\n        if ( dto == null ) {\n            return null;\n        }\n\n        Car car = new Car();\n\n        car.setOwner( carDTOToPerson( dto ) );\n        if ( dto.getId() != null ) {\n            car.setId( Integer.parseInt( dto.getId() ) );\n        }\n        if ( dto.getMaximumVelocity() != null ) {\n            car.setMaximumVelocity( Double.parseDouble( dto.getMaximumVelocity() ) );\n        }\n        if ( dto.getNumerOfWheels() != null ) {\n            car.setNumerOfWheels( Integer.parseInt( dto.getNumerOfWheels() ) );\n        }\n        if ( dto.getSeatingCapacity() != null ) {\n            car.setSeatingCapacity( Integer.parseInt( dto.getSeatingCapacity() ) );\n        }\n\n        return car;\n    }\n\n    protected Person carDTOToPerson(CarDTO carDTO) {\n        if ( carDTO == null ) {\n            return null;\n        }\n\n        Person person = new Person();\n\n        if ( carDTO.getOwnerId() != null ) {\n            person.setId( Integer.parseInt( carDTO.getOwnerId() ) );\n        }\n\n        return person;\n    }\n}\n</code></pre>\n<p>The test:</p>\n<pre><code>package examples;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport org.junit.jupiter.api.Test;\n\nimport examples.dto.CarDTO;\nimport examples.mapper.CarMapper;\nimport examples.model.Car;\n\nclass CarMapperTest {\n\n    \n    @Test\n    public void testMapDtoToEntity() {\n        \n        \n        CarDTO carDTO = new CarDTO();\n        carDTO.setMaximumVelocity(&quot;115.2&quot;);\n        carDTO.setNumerOfWheels(&quot;4&quot;);\n        carDTO.setSeatingCapacity(&quot;5&quot;);\n        \n        Car car = CarMapper.MAPPER.toModel(carDTO);\n        \n        assertEquals(115.2, car.getMaximumVelocity() );\n        assertEquals(4, car.getNumerOfWheels() );\n        assertEquals(5, car.getSeatingCapacity());\n        assertEquals(null, car.getOwner());\n    }\n}\n</code></pre>\n<p>The result:</p>\n<pre><code>org.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Person(id=0, name=null, age=0)&gt;\n</code></pre>\n<p>Can anybody help me solve this?</p>\n<p>Thank you very much</p>\n"},{"tags":["java","android","opencv"],"answers":[{"tags":[],"owner":{"account_id":6722570,"reputation":1864,"user_id":5181947,"accept_rate":82,"display_name":"Ank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1497940876,"creation_date":1497940876,"answer_id":44645626,"question_id":44621029,"body_markdown":"So finally I managed to write a similar code in Java:\r\n\r\n    int k = 0;\r\n    for(int i=0; i&lt; contours.size();i++) {\r\n       if (Imgproc.contourArea(contours.get(i)) &gt; 1000 &amp;&amp; Imgproc.contourArea(contours.get(i)) &lt; 10000 ) {\r\n           Scalar colour = new Scalar(90,255,255);\r\n           Imgproc.drawContours(image,contours,i,colour,-1);\r\n           Imgproc.convexHull(contours.get(i),hull);\r\n           List&lt;Point&gt; l = new ArrayList&lt;Point&gt;();\r\n           l.clear();\r\n           double sum_x = 0;\r\n           double sum_y = 0;\r\n           int j;\r\n           for (j = 0; j &lt; hull.size().height; j++) {\r\n               l.add(contours.get(i).toList().get(hull.toList().get(j)));\r\n               sum_x += l.get(j).x;\r\n               sum_y += l.get(j).y;\r\n           }\r\n           x[0][k] = sum_x / j;\r\n           x[1][k] = sum_y / j;\r\n           k++;\r\n       }\r\n    }","title":"Find center of objects using OpenCV4Android","body":"<p>So finally I managed to write a similar code in Java:</p>\n\n<pre><code>int k = 0;\nfor(int i=0; i&lt; contours.size();i++) {\n   if (Imgproc.contourArea(contours.get(i)) &gt; 1000 &amp;&amp; Imgproc.contourArea(contours.get(i)) &lt; 10000 ) {\n       Scalar colour = new Scalar(90,255,255);\n       Imgproc.drawContours(image,contours,i,colour,-1);\n       Imgproc.convexHull(contours.get(i),hull);\n       List&lt;Point&gt; l = new ArrayList&lt;Point&gt;();\n       l.clear();\n       double sum_x = 0;\n       double sum_y = 0;\n       int j;\n       for (j = 0; j &lt; hull.size().height; j++) {\n           l.add(contours.get(i).toList().get(hull.toList().get(j)));\n           sum_x += l.get(j).x;\n           sum_y += l.get(j).y;\n       }\n       x[0][k] = sum_x / j;\n       x[1][k] = sum_y / j;\n       k++;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":6722570,"reputation":1864,"user_id":5181947,"accept_rate":82,"display_name":"Ank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44645626,"answer_count":1,"score":0,"last_activity_date":1662446350,"creation_date":1497834896,"question_id":44621029,"body_markdown":"Sometime ago I wrote a code in python using OpenCV to find the center of objects:\r\n\r\n    x= np.zeros(4)\r\n\ty = np.zeros(4)\r\n\ti = 0\r\n\tfor cnt in contour:\r\n\t\tarea = cv2.contourArea(cnt)\r\n\t\tif area&gt;=100 and area&lt;=5000:\r\n\t\t\thull = cv2.convexHull(cnt)\r\n\t\t\tx[i] = hull[:,:,0].mean()\r\n\t\t\ty[i] = hull[:,:,1].mean()\r\n\t\t\ti = i + 1\r\nSince OpenCV has Java interface too I want to implement this code in an android app. I wrote a somewhat similar code but I am not getting what I want. mopOut is just giving some random things which I don&#39;t need:\r\n\r\n    for(int i=0; i&lt; contours.size();i++) {\r\n            if (Imgproc.contourArea(contours.get(i)) &gt; 1000 &amp;&amp; Imgproc.contourArea(contours.get(i)) &lt; 10000 ) {\r\n                Imgproc.convexHull(contours.get(i),hull);\r\n                MatOfPoint mopOut = new MatOfPoint();\r\n                mopOut.create((int)hull.size().height,1, CvType.CV_32SC2);\r\n                for(int j = 0; j &lt; hull.size().height ; j++)\r\n                {\r\n                    int index = (int)hull.get(j, 0)[0];\r\n                    double[] point = new double[] {\r\n                            contours.get(i).get(index, 0)[0], contours.get(i).get(index, 0)[1]\r\n                    };\r\n                    mopOut.put(i, 0, point);\r\n                }\r\n            }\r\n        }\r\nCan someone tell me the right way to do it? Or else any other better alternative way to find the centers?\r\n\r\nI am new to Java and Android app development, so I might be missing something simple. Thanks for help!","title":"Find center of objects using OpenCV4Android","body":"<p>Sometime ago I wrote a code in python using OpenCV to find the center of objects:</p>\n\n<pre><code>x= np.zeros(4)\ny = np.zeros(4)\ni = 0\nfor cnt in contour:\n    area = cv2.contourArea(cnt)\n    if area&gt;=100 and area&lt;=5000:\n        hull = cv2.convexHull(cnt)\n        x[i] = hull[:,:,0].mean()\n        y[i] = hull[:,:,1].mean()\n        i = i + 1\n</code></pre>\n\n<p>Since OpenCV has Java interface too I want to implement this code in an android app. I wrote a somewhat similar code but I am not getting what I want. mopOut is just giving some random things which I don't need:</p>\n\n<pre><code>for(int i=0; i&lt; contours.size();i++) {\n        if (Imgproc.contourArea(contours.get(i)) &gt; 1000 &amp;&amp; Imgproc.contourArea(contours.get(i)) &lt; 10000 ) {\n            Imgproc.convexHull(contours.get(i),hull);\n            MatOfPoint mopOut = new MatOfPoint();\n            mopOut.create((int)hull.size().height,1, CvType.CV_32SC2);\n            for(int j = 0; j &lt; hull.size().height ; j++)\n            {\n                int index = (int)hull.get(j, 0)[0];\n                double[] point = new double[] {\n                        contours.get(i).get(index, 0)[0], contours.get(i).get(index, 0)[1]\n                };\n                mopOut.put(i, 0, point);\n            }\n        }\n    }\n</code></pre>\n\n<p>Can someone tell me the right way to do it? Or else any other better alternative way to find the centers?</p>\n\n<p>I am new to Java and Android app development, so I might be missing something simple. Thanks for help!</p>\n"},{"tags":["java","orm","ebean"],"answers":[{"tags":[],"owner":{"account_id":394237,"reputation":10095,"user_id":756566,"accept_rate":53,"display_name":"Steven Matthews"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603753469,"creation_date":1603753469,"answer_id":64546165,"question_id":64544066,"body_markdown":"Apparently something like this works:\r\n\r\n     Article article = DB.find(Article.class)\r\n    .select(&quot;id, title, body&quot;).where().eq(&quot;id&quot;, articleId)\r\n    .findOne();\r\n\r\n    System.out.println(&quot;Article&quot;);\r\n    System.out.println(article);\r\n\r\nNot entirely sure what the difference is, as the Ebeans documentation is a little sparse, but this works for me","title":"Ebean query seems to stop execution","body":"<p>Apparently something like this works:</p>\n<pre><code> Article article = DB.find(Article.class)\n.select(&quot;id, title, body&quot;).where().eq(&quot;id&quot;, articleId)\n.findOne();\n\nSystem.out.println(&quot;Article&quot;);\nSystem.out.println(article);\n</code></pre>\n<p>Not entirely sure what the difference is, as the Ebeans documentation is a little sparse, but this works for me</p>\n"},{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662445657,"creation_date":1662445657,"answer_id":73617575,"question_id":64544066,"body_markdown":"&gt; see your log , **io.ebean.SQL - txn[txnNum] -&gt; your query** , **io.ebean.SUM - txn[txNum] -&gt; find bean or not** \r\n\r\n if find -&gt; **row[1]** :\r\n\r\n    io.ebean.SUM - txn[txNum] FindBean type[beanType] origin[DrFzdL.A.A] exeMicros[num] rows[1] bind[beanId, ]\r\n \r\nif not find -&gt; **row[0]** :\r\n\r\n    io.ebean.SUM - txn[txNum] FindBean type[beanType] origin[DrFzdL.A.A] exeMicros[num] rows[0] bind[beanId, ]\r\n","title":"Ebean query seems to stop execution","body":"<blockquote>\n<p>see your log , <strong>io.ebean.SQL - txn[txnNum] -&gt; your query</strong> , <strong>io.ebean.SUM - txn[txNum] -&gt; find bean or not</strong></p>\n</blockquote>\n<p>if find -&gt; <strong>row[1]</strong> :</p>\n<pre><code>io.ebean.SUM - txn[txNum] FindBean type[beanType] origin[DrFzdL.A.A] exeMicros[num] rows[1] bind[beanId, ]\n</code></pre>\n<p>if not find -&gt; <strong>row[0]</strong> :</p>\n<pre><code>io.ebean.SUM - txn[txNum] FindBean type[beanType] origin[DrFzdL.A.A] exeMicros[num] rows[0] bind[beanId, ]\n</code></pre>\n"}],"owner":{"account_id":394237,"reputation":10095,"user_id":756566,"accept_rate":53,"display_name":"Steven Matthews"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662445657,"creation_date":1603741879,"question_id":64544066,"body_markdown":"I am trying to do a fairly simple Ebean query:\r\n\r\n     Long articleId = Long.parseLong(dataFetchingEnvironment.getArgument(&quot;id&quot;));\r\n     System.out.println(&quot;Article ID&quot;);\r\n     System.out.println(articleId);\r\n     Article article = DB.find(Article.class).where().eq(&quot;id&quot;, articleId).findOne();\r\n     System.out.println(&quot;Article&quot;);\r\n     System.out.println(article);\r\n\r\nArticle ID prints to the console, articleId prints to the console\r\n\r\nHowever everything after the query does not. Absolutely no logging at all.\r\n\r\nI&#39;ve tried to enable a logback.xml on all of the queries, I&#39;m not seeing any errors.\r\n\r\nWhat could be going on here? Clearly there&#39;s some problem going on that is not being made available for me to see - how do I debug this?","title":"Ebean query seems to stop execution","body":"<p>I am trying to do a fairly simple Ebean query:</p>\n<pre><code> Long articleId = Long.parseLong(dataFetchingEnvironment.getArgument(&quot;id&quot;));\n System.out.println(&quot;Article ID&quot;);\n System.out.println(articleId);\n Article article = DB.find(Article.class).where().eq(&quot;id&quot;, articleId).findOne();\n System.out.println(&quot;Article&quot;);\n System.out.println(article);\n</code></pre>\n<p>Article ID prints to the console, articleId prints to the console</p>\n<p>However everything after the query does not. Absolutely no logging at all.</p>\n<p>I've tried to enable a logback.xml on all of the queries, I'm not seeing any errors.</p>\n<p>What could be going on here? Clearly there's some problem going on that is not being made available for me to see - how do I debug this?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","docx4j"],"answers":[{"tags":[],"owner":{"account_id":1940767,"reputation":17954,"user_id":1747018,"accept_rate":100,"display_name":"Yogesh_D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662445486,"creation_date":1662445089,"answer_id":73617492,"question_id":73615663,"body_markdown":"Not an expert on docx4j but you do have the save method on the `WordprocessingMLPackage` class that allows you to save to a file.\r\n\r\nhttps://javadoc.io/doc/org.docx4j/docx4j/latest/org/docx4j/openpackaging/packages/OpcPackage.html\r\n\r\nThe `OpcPackage` is a parent class of WordprocessingMLPackage so you should be able to call the save method that saves to a file.\r\n\r\n\r\n&gt; public void save(File file)\r\n&gt;           throws Docx4JException\r\n&gt; \r\n&gt; Convenience method to save a WordprocessingMLPackage or\r\n&gt; PresentationMLPackage to a File. If the file ends with .xml, use Flat\r\n&gt; OPC XML format; otherwise zip it up.\r\n&gt; \r\n&gt; Throws:\r\n&gt;     Docx4JException\r\n\r\nYou could use this to save the file and then upload it to S3.\r\n\r\nYou could also save the file to a byteArray using this method.\r\n\r\n&gt; public void save(OutputStream outStream)\r\n&gt;           throws Docx4JException\r\n&gt; \r\n&gt; Save this pkg to an OutputStream in the usual zipped up format\r\n&gt; (Docx4J.FLAG_SAVE_ZIP_FILE)\r\n&gt; \r\n&gt; Throws:\r\n&gt;     Docx4JException Since:\r\n&gt;     3.1.0\r\n\r\nAnd then use the contents of the OutputStream to save to S3.","title":"Download a .docx file from s3, rewrite and upload to s3 again. Java 17 Springboot","body":"<p>Not an expert on docx4j but you do have the save method on the <code>WordprocessingMLPackage</code> class that allows you to save to a file.</p>\n<p><a href=\"https://javadoc.io/doc/org.docx4j/docx4j/latest/org/docx4j/openpackaging/packages/OpcPackage.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.docx4j/docx4j/latest/org/docx4j/openpackaging/packages/OpcPackage.html</a></p>\n<p>The <code>OpcPackage</code> is a parent class of WordprocessingMLPackage so you should be able to call the save method that saves to a file.</p>\n<blockquote>\n<p>public void save(File file)\nthrows Docx4JException</p>\n<p>Convenience method to save a WordprocessingMLPackage or\nPresentationMLPackage to a File. If the file ends with .xml, use Flat\nOPC XML format; otherwise zip it up.</p>\n<p>Throws:\nDocx4JException</p>\n</blockquote>\n<p>You could use this to save the file and then upload it to S3.</p>\n<p>You could also save the file to a byteArray using this method.</p>\n<blockquote>\n<p>public void save(OutputStream outStream)\nthrows Docx4JException</p>\n<p>Save this pkg to an OutputStream in the usual zipped up format\n(Docx4J.FLAG_SAVE_ZIP_FILE)</p>\n<p>Throws:\nDocx4JException Since:\n3.1.0</p>\n</blockquote>\n<p>And then use the contents of the OutputStream to save to S3.</p>\n"}],"owner":{"account_id":17100954,"reputation":3,"user_id":13830486,"display_name":"Ivan David Mui&#241;os"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73617492,"answer_count":1,"score":0,"last_activity_date":1662445486,"creation_date":1662424272,"question_id":73615663,"body_markdown":"I have a templates files (.docx) in a Bucket S3. These files contains text and variables that will be replaced with some content. \r\nThis replacement will be do with Docx4J.\r\nOnce it is replaced, I have to upload these files to S3 again. \r\n\r\nWhen I get the file from s3 I use:\r\n\r\n    byte[] doc = s3Client.downloadFile(s3TemplateFolder, &quot;example-template-en.docx&quot;, bucket);\r\n\r\nFor replace the variables in the file I use Docx4J:\r\n\r\n      InputStream targetStream = ByteSource.wrap(doc).openStream();\r\n      HashMap mappings = new HashMap();\r\n      WordprocessingMLPackage wordMLPackage = Docx4J.load(targetStream);\r\n      VariablePrepare.prepare(wordMLPackage);\r\n      mappings.put(&quot;Download_date&quot;, &quot;asd!&quot;);\r\n      wordMLPackage.getMainDocumentPart().variableReplace(mappings);\r\n\r\nThe problem is when I have to upload the updated file to s3 again. S3client only support File type. I don&#39;t know how should I do for convert WordprocessingMLPackage to a File again.\r\n\r\nIf you can think of another way to do this, you are welcome :)\r\n\r\nThank you so much.","title":"Download a .docx file from s3, rewrite and upload to s3 again. Java 17 Springboot","body":"<p>I have a templates files (.docx) in a Bucket S3. These files contains text and variables that will be replaced with some content.\nThis replacement will be do with Docx4J.\nOnce it is replaced, I have to upload these files to S3 again.</p>\n<p>When I get the file from s3 I use:</p>\n<pre><code>byte[] doc = s3Client.downloadFile(s3TemplateFolder, &quot;example-template-en.docx&quot;, bucket);\n</code></pre>\n<p>For replace the variables in the file I use Docx4J:</p>\n<pre><code>  InputStream targetStream = ByteSource.wrap(doc).openStream();\n  HashMap mappings = new HashMap();\n  WordprocessingMLPackage wordMLPackage = Docx4J.load(targetStream);\n  VariablePrepare.prepare(wordMLPackage);\n  mappings.put(&quot;Download_date&quot;, &quot;asd!&quot;);\n  wordMLPackage.getMainDocumentPart().variableReplace(mappings);\n</code></pre>\n<p>The problem is when I have to upload the updated file to s3 again. S3client only support File type. I don't know how should I do for convert WordprocessingMLPackage to a File again.</p>\n<p>If you can think of another way to do this, you are welcome :)</p>\n<p>Thank you so much.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183758,"reputation":15637,"user_id":419338,"accept_rate":82,"display_name":"mbatchkarov"},"score":3,"creation_date":1316220741,"post_id":7451707,"comment_id":9013469,"body_markdown":"Javac is usually quite helpful and the error messages it returns are quite clear. Next time you have one of these have a short break and the answer will come to you :)","body":"Javac is usually quite helpful and the error messages it returns are quite clear. Next time you have one of these have a short break and the answer will come to you :)"},{"owner":{"display_name":"user166390"},"score":2,"creation_date":1316222233,"post_id":7451707,"comment_id":9013603,"body_markdown":"`CircleR` is not a constructor for `Circle`. The names *must* match.","body":"<code>CircleR</code> is not a constructor for <code>Circle</code>. The names <i>must</i> match."}],"answers":[{"tags":[],"owner":{"account_id":904529,"reputation":3765,"user_id":939709,"display_name":"datalost"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1316220594,"creation_date":1316220594,"answer_id":7451717,"question_id":7451707,"body_markdown":"You forgot to declare double as a return type\r\n\r\n    public double diameter()\r\n    {\r\n        double d = radius * 2;\r\n        return d;\r\n    }\r\n","title":"Java error - &quot;invalid method declaration; return type required&quot;","body":"<p>You forgot to declare double as a return type</p>\n\n<pre><code>public double diameter()\n{\n    double d = radius * 2;\n    return d;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1316220616,"creation_date":1316220616,"answer_id":7451720,"question_id":7451707,"body_markdown":"Every method (other than a constructor) must have a return type.\r\n\r\n    public double diameter(){...","title":"Java error - &quot;invalid method declaration; return type required&quot;","body":"<p>Every method (other than a constructor) must have a return type.</p>\n\n<pre><code>public double diameter(){...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":539082,"reputation":3215,"user_id":906815,"accept_rate":100,"display_name":"Annie Lagang"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1447353713,"creation_date":1316222648,"answer_id":7451848,"question_id":7451707,"body_markdown":"&gt; As you can see, the code public Circle(double r).... how is that\r\n&gt; different from  what I did in mine with public CircleR(double r)? For\r\n&gt; whatever reason, no error  is given in the code from the book, however\r\n&gt; mine says there is an error there.\r\n\r\nWhen defining constructors of a class, they should have the same name as its class.\r\nThus the following code\r\n    \r\n    public class Circle\r\n    { \r\n        //This part is called the constructor and lets us specify the radius of a  \r\n        //particular circle. \r\n      public Circle(double r) \r\n      { \r\n       radius = r; \r\n      }\r\n     ....\r\n    } \r\n\r\nis correct while your code\r\n\r\n    public class Circle\r\n    {\r\n        private double radius;\r\n        public CircleR(double r)\r\n        {\r\n            radius = r;\r\n        }\r\n        public diameter()\r\n        {\r\n           double d = radius * 2;\r\n           return d;\r\n        }\r\n    }\r\n\r\nis wrong because your constructor has different name from its class. You could either follow the same code from the book and change your constructor from     \r\n\r\n    public CircleR(double r) \r\n\r\nto \r\n\r\n    public Circle(double r)\r\n\r\nor (if you really wanted to name your constructor as CircleR) rename your class to CircleR.  \r\n\r\nSo your new class should be\r\n\r\n    public class CircleR\r\n    {\r\n        private double radius;\r\n        public CircleR(double r)\r\n        {\r\n            radius = r;\r\n        }\r\n        public double diameter()\r\n        {\r\n           double d = radius * 2;\r\n           return d;\r\n        }\r\n    }\r\n\r\nI also added the return type double in your method as pointed out by Froyo and John B. \r\n\r\nRefer to this [article][1] about constructors.\r\n\r\nHTH.\r\n\r\n  [1]: http://leepoint.net/notes-java/oop/constructors/constructor.html","title":"Java error - &quot;invalid method declaration; return type required&quot;","body":"<blockquote>\n  <p>As you can see, the code public Circle(double r).... how is that\n  different from  what I did in mine with public CircleR(double r)? For\n  whatever reason, no error  is given in the code from the book, however\n  mine says there is an error there.</p>\n</blockquote>\n\n<p>When defining constructors of a class, they should have the same name as its class.\nThus the following code</p>\n\n<pre><code>public class Circle\n{ \n    //This part is called the constructor and lets us specify the radius of a  \n    //particular circle. \n  public Circle(double r) \n  { \n   radius = r; \n  }\n ....\n} \n</code></pre>\n\n<p>is correct while your code</p>\n\n<pre><code>public class Circle\n{\n    private double radius;\n    public CircleR(double r)\n    {\n        radius = r;\n    }\n    public diameter()\n    {\n       double d = radius * 2;\n       return d;\n    }\n}\n</code></pre>\n\n<p>is wrong because your constructor has different name from its class. You could either follow the same code from the book and change your constructor from     </p>\n\n<pre><code>public CircleR(double r) \n</code></pre>\n\n<p>to </p>\n\n<pre><code>public Circle(double r)\n</code></pre>\n\n<p>or (if you really wanted to name your constructor as CircleR) rename your class to CircleR.  </p>\n\n<p>So your new class should be</p>\n\n<pre><code>public class CircleR\n{\n    private double radius;\n    public CircleR(double r)\n    {\n        radius = r;\n    }\n    public double diameter()\n    {\n       double d = radius * 2;\n       return d;\n    }\n}\n</code></pre>\n\n<p>I also added the return type double in your method as pointed out by Froyo and John B. </p>\n\n<p>Refer to this <a href=\"http://leepoint.net/notes-java/oop/constructors/constructor.html\" rel=\"noreferrer\">article</a> about constructors.</p>\n\n<p>HTH.</p>\n"},{"tags":[],"owner":{"account_id":5751917,"reputation":1,"user_id":4541303,"display_name":"BeforeThunder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1423334293,"creation_date":1423334293,"answer_id":28385883,"question_id":7451707,"body_markdown":"I had a similar issue when adding a class to the main method. Turns out it wasn&#39;t an issue, it was me not checking my spelling. So, as a noob, I learned that mis-spelling can and will mess things up. These posts helped me &quot;see&quot; my mistake and all is good now. ","title":"Java error - &quot;invalid method declaration; return type required&quot;","body":"<p>I had a similar issue when adding a class to the main method. Turns out it wasn't an issue, it was me not checking my spelling. So, as a noob, I learned that mis-spelling can and will mess things up. These posts helped me \"see\" my mistake and all is good now. </p>\n"}],"owner":{"account_id":558434,"reputation":747,"user_id":920920,"accept_rate":97,"display_name":"Alex G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130770,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7451848,"answer_count":4,"score":8,"last_activity_date":1662445018,"creation_date":1316220475,"question_id":7451707,"body_markdown":"We are learning how to use multiple classes in `Java` now, and there is a project asking about creating a class `Circle` which will contain a `radius` and a `diameter`, then reference it from a main class to find the diameter. This code continues to receive an error (mentioned in the title)\r\n\r\n\r\n    public class Circle\r\n    {\r\n        public CircleR(double r)\r\n        {\r\n            radius = r;\r\n        }\r\n        public diameter()\r\n        {\r\n            double d = radius * 2;\r\n            return d;\r\n        }\r\n    }\r\n\r\nThanks for any help, -AJ\r\n\r\n**Update 1**:\r\nOkay, but I shouldn&#39;t have to declare the third line `public CircleR(double r)` as a double, right? In the book I am learning from, the example doesn&#39;t do that.\r\n\r\n    public class Circle \r\n    \r\n        { \r\n            //This part is called the constructor and lets us specify the radius of a  \r\n          //particular circle. \r\n          public Circle(double r) \r\n          { \r\n           radius = r; \r\n          } \r\n         \r\n          //This is a method. It performs some action (in this case it calculates the \r\n            //area of the circle and returns it. \r\n            public double area( )  //area method \r\n          { \r\n              double a = Math.PI * radius * radius; \r\n           return a; \r\n        } \r\n         \r\n        public double circumference( )  //circumference method \r\n        { \r\n          double c = 2 * Math.PI * radius; \r\n         return c; \r\n        } \r\n         \r\n            public double radius;  //This is a State Variable…also called Instance \r\n             //Field and Data Member. It is available to code \r\n        // in ALL the methods in this class. \r\n         } \r\n\r\nAs you can see, the code `public Circle(double r)....` how is that different from what I did in mine with `public CircleR(double r)`? For whatever reason, no error is given in the code from the book, however mine says there is an error there.\r\n\r\n","title":"Java error - &quot;invalid method declaration; return type required&quot;","body":"<p>We are learning how to use multiple classes in <code>Java</code> now, and there is a project asking about creating a class <code>Circle</code> which will contain a <code>radius</code> and a <code>diameter</code>, then reference it from a main class to find the diameter. This code continues to receive an error (mentioned in the title)</p>\n\n<pre><code>public class Circle\n{\n    public CircleR(double r)\n    {\n        radius = r;\n    }\n    public diameter()\n    {\n        double d = radius * 2;\n        return d;\n    }\n}\n</code></pre>\n\n<p>Thanks for any help, -AJ</p>\n\n<p><strong>Update 1</strong>:\nOkay, but I shouldn't have to declare the third line <code>public CircleR(double r)</code> as a double, right? In the book I am learning from, the example doesn't do that.</p>\n\n<pre><code>public class Circle \n\n    { \n        //This part is called the constructor and lets us specify the radius of a  \n      //particular circle. \n      public Circle(double r) \n      { \n       radius = r; \n      } \n\n      //This is a method. It performs some action (in this case it calculates the \n        //area of the circle and returns it. \n        public double area( )  //area method \n      { \n          double a = Math.PI * radius * radius; \n       return a; \n    } \n\n    public double circumference( )  //circumference method \n    { \n      double c = 2 * Math.PI * radius; \n     return c; \n    } \n\n        public double radius;  //This is a State Variable…also called Instance \n         //Field and Data Member. It is available to code \n    // in ALL the methods in this class. \n     } \n</code></pre>\n\n<p>As you can see, the code <code>public Circle(double r)....</code> how is that different from what I did in mine with <code>public CircleR(double r)</code>? For whatever reason, no error is given in the code from the book, however mine says there is an error there.</p>\n"},{"tags":["java","java-8","inputstream","java-stream"],"comments":[{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":0,"creation_date":1474139452,"post_id":39550670,"comment_id":66413146,"body_markdown":"I/O streams are streams of data, bits and bytes from some source. The java8 streams are a way of traversing collections. They are used for completely different things.","body":"I/O streams are streams of data, bits and bytes from some source. The java8 streams are a way of traversing collections. They are used for completely different things."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1474139528,"post_id":39550670,"comment_id":66413166,"body_markdown":"You&#39;re asking use to compare a mechanism for applying methods to elements in some form of collection to the concept of writing (or reading) bytes. Those aren&#39;t really very similar concepts.","body":"You&#39;re asking use to compare a mechanism for applying methods to elements in some form of collection to the concept of writing (or reading) bytes. Those aren&#39;t really very similar concepts."},{"owner":{"account_id":2205006,"reputation":186,"user_id":1948454,"display_name":"codebat"},"score":0,"creation_date":1474140239,"post_id":39550670,"comment_id":66413396,"body_markdown":"Yeah I know, but this is somehow too vague for me. Can this be somehow explained like, the one thing is a datastructure (?) and the other thing is... what?","body":"Yeah I know, but this is somehow too vague for me. Can this be somehow explained like, the one thing is a datastructure (?) and the other thing is... what?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1474142410,"post_id":39550670,"comment_id":66414017,"body_markdown":"*I/O streams* are for reading/writing bytes for Input/Output, mostly files and network sockets. The new *Streams* are for functional programming, mostly for processing Collections. They have nothing to do with each other, except an accidental **name conflict**.","body":"<i>I/O streams</i> are for reading/writing bytes for Input/Output, mostly files and network sockets. The new <i>Streams</i> are for functional programming, mostly for processing Collections. They have nothing to do with each other, except an accidental <b>name conflict</b>."},{"owner":{"account_id":8184500,"reputation":499,"user_id":6160689,"display_name":"Sartorius"},"score":4,"creation_date":1474147208,"post_id":39550670,"comment_id":66415262,"body_markdown":"&quot;both deal with sequences of things, be it bytes, data or objects...&quot;. Right, there is no real difference on this abstract conceptual level. And I think this is the reason why both got named `streams`.","body":"&quot;both deal with sequences of things, be it bytes, data or objects...&quot;. Right, there is no real difference on this abstract conceptual level. And I think this is the reason why both got named <code>streams</code>."}],"answers":[{"tags":[],"owner":{"account_id":8615996,"reputation":1316,"user_id":6452817,"accept_rate":100,"display_name":"Silverclaw"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1474139480,"creation_date":1474139480,"answer_id":39550724,"question_id":39550670,"body_markdown":"It has nothing to do with each other and I agree, it&#39;s bad luck that IO Streams had their name before the &quot;new&quot; Streams have arrived. The I/O streams were meant as connections to external resources, mostly files, but also others. The new Streams are for functional programming and should be treated separately.\r\n\r\nBut you can actually use both concepts together. For example, a BufferedReader has a [lines](https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--)-method, which returns lines of a file (or other resources) as a Stream of Strings.","title":"Java: Difference between Streams and I/O stream explained","body":"<p>It has nothing to do with each other and I agree, it's bad luck that IO Streams had their name before the \"new\" Streams have arrived. The I/O streams were meant as connections to external resources, mostly files, but also others. The new Streams are for functional programming and should be treated separately.</p>\n\n<p>But you can actually use both concepts together. For example, a BufferedReader has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--\" rel=\"noreferrer\">lines</a>-method, which returns lines of a file (or other resources) as a Stream of Strings.</p>\n"},{"tags":[],"owner":{"account_id":5618516,"reputation":117,"user_id":4449097,"accept_rate":0,"display_name":"Daniel Urbaniak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508077151,"creation_date":1508077151,"answer_id":46756048,"question_id":39550670,"body_markdown":"In term of &#39;stream&#39; there is no difference. Stream is abstract phrase that means something that has a source and destination. What is more it is something that represents sequence of data. \n\nIn term of these two mechanism there is a lot of differences. For example Java i/o streams let you only read and write data. If you want to process data from that stream there is no builded in mechanism for that. In Java 8 stream there are additional possibilities of processig like map/filter etc.","title":"Java: Difference between Streams and I/O stream explained","body":"<p>In term of 'stream' there is no difference. Stream is abstract phrase that means something that has a source and destination. What is more it is something that represents sequence of data. </p>\n\n<p>In term of these two mechanism there is a lot of differences. For example Java i/o streams let you only read and write data. If you want to process data from that stream there is no builded in mechanism for that. In Java 8 stream there are additional possibilities of processig like map/filter etc.</p>\n"},{"tags":[],"owner":{"account_id":7438670,"reputation":991,"user_id":5657159,"display_name":"Uvuvwevwevwe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662444832,"creation_date":1605630652,"answer_id":64879319,"question_id":39550670,"body_markdown":"Let&#39;s take a look at the picture illustrated I/O stream.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere are **three concerning concepts** related to I/O stream: **Source**, **Destination**, and **Element** (represented by the letter &#39;e&#39;), where\r\n- **Source** or **Destination** could by a file, network connection, pipe, memory buffer etc.\r\n- An **Element** is just simply a piece of data and a **stream** consist of a chunk of elements\r\n\r\n## When to use what? ##\r\n\r\n**I/O streams** are for reading content from a source, or writing the content to a destination. That&#39;s it, simple :-)\r\n\r\n**The new Stream concept introduced in Java 8 has nothing to do with I/O streams**. Streams are not themselves data structures, but Classes that allow you to manipulate a collection of data in a declarative way (functional-style operation).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KgsSE.png","title":"Java: Difference between Streams and I/O stream explained","body":"<p>Let's take a look at the picture illustrated I/O stream.</p>\n<p><a href=\"https://i.stack.imgur.com/KgsSE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KgsSE.png\" alt=\"enter image description here\" /></a></p>\n<p>There are <strong>three concerning concepts</strong> related to I/O stream: <strong>Source</strong>, <strong>Destination</strong>, and <strong>Element</strong> (represented by the letter 'e'), where</p>\n<ul>\n<li><strong>Source</strong> or <strong>Destination</strong> could by a file, network connection, pipe, memory buffer etc.</li>\n<li>An <strong>Element</strong> is just simply a piece of data and a <strong>stream</strong> consist of a chunk of elements</li>\n</ul>\n<h2>When to use what?</h2>\n<p><strong>I/O streams</strong> are for reading content from a source, or writing the content to a destination. That's it, simple :-)</p>\n<p><strong>The new Stream concept introduced in Java 8 has nothing to do with I/O streams</strong>. Streams are not themselves data structures, but Classes that allow you to manipulate a collection of data in a declarative way (functional-style operation).</p>\n"}],"owner":{"account_id":2205006,"reputation":186,"user_id":1948454,"display_name":"codebat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6095,"favorite_count":0,"down_vote_count":3,"up_vote_count":10,"answer_count":3,"score":7,"last_activity_date":1662444832,"creation_date":1474139121,"question_id":39550670,"body_markdown":"I&#39;m looking for a good explaination of the difference between the &quot;new&quot; Streams in Java 8 and the &quot;old&quot; I/O Streams we had before in Java 7. For someone without any knowledge of functional programming, it&#39;s hard to get that those are complete different things, especially because the names are the same. I get that the Stream API is something completely new and even revolutionary in some point, but in my naive thinking, in both cases we deal with sequences of &quot;things&quot;, be it bytes, data or objects...\r\n\r\nCan someone please offer a good explaination?","title":"Java: Difference between Streams and I/O stream explained","body":"<p>I'm looking for a good explaination of the difference between the \"new\" Streams in Java 8 and the \"old\" I/O Streams we had before in Java 7. For someone without any knowledge of functional programming, it's hard to get that those are complete different things, especially because the names are the same. I get that the Stream API is something completely new and even revolutionary in some point, but in my naive thinking, in both cases we deal with sequences of \"things\", be it bytes, data or objects...</p>\n\n<p>Can someone please offer a good explaination?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8935,"page":1057,"page_size":100}
