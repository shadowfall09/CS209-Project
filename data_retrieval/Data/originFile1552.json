{"items":[{"tags":["java","recursion","stack"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646150108,"creation_date":1646150108,"answer_id":71311193,"question_id":71311083,"body_markdown":"You have to compare the top of the stack to the minimum element of the rest of the stack.\r\n\r\nThat&#39;s not what you are doing. You are only comparing the top of the stack to the next element of the stack.\r\n\r\nYou should probably change your recursive method to return the minimum element. This way you can compare to it:\r\n\r\n    public static int removeMin(Stack&lt;Integer&gt; st)\r\n    {\r\n        if (st.isEmpty())\r\n            return Integer.MAX_VALUE; // if the stack is empty, return a value that is larger \r\n                                      // than any other value\r\n        int top = st.pop();\r\n        int min = removeMin(st);\r\n        if(top &lt; min) {\r\n            // top is the minimum element\r\n            st.push(min);\r\n            return top;\r\n        } else {\r\n            // min is the minimum element\r\n            st.push(top);\r\n            return min;\r\n        }\r\n    }\r\n\r\nI haven&#39;t tested it.","title":"Java: Recursively Finding the minimum element in a Stack","body":"<p>You have to compare the top of the stack to the minimum element of the rest of the stack.</p>\n<p>That's not what you are doing. You are only comparing the top of the stack to the next element of the stack.</p>\n<p>You should probably change your recursive method to return the minimum element. This way you can compare to it:</p>\n<pre><code>public static int removeMin(Stack&lt;Integer&gt; st)\n{\n    if (st.isEmpty())\n        return Integer.MAX_VALUE; // if the stack is empty, return a value that is larger \n                                  // than any other value\n    int top = st.pop();\n    int min = removeMin(st);\n    if(top &lt; min) {\n        // top is the minimum element\n        st.push(min);\n        return top;\n    } else {\n        // min is the minimum element\n        st.push(top);\n        return min;\n    }\n}\n</code></pre>\n<p>I haven't tested it.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646151214,"creation_date":1646150540,"answer_id":71311296,"question_id":71311083,"body_markdown":"I tested your method. You had two lines transposed. All you need to do is place the recursive call **AFTER** the test.\r\n\r\n```\r\npublic static void removeMin(Stack&lt;Integer&gt; st) {\r\n    if (st == null || st.isEmpty())\r\n        return;\r\n    int min = st.pop();\r\n    if(st.isEmpty() || min&lt;st.firstElement())\r\n        return;\r\n    removeMin(st); // this was in the wrong place, causing the stack to empty out completely\r\n    st.push(min);\r\n}\r\n```\r\nI ran this example:\r\n```\r\npublic static void main (String[] args) {\r\n\tStack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n\tstack.add(2);\r\n\tstack.add(1); // to be removed\r\n\tstack.add(5);\r\n\tstack.add(3);\r\n\tstack.add(4);\r\n\tremoveMin(stack);\r\n\tSystem.out.println(stack.toString());\r\n}\r\n```\r\nand it printed out `[2, 5, 3, 4]`.\r\n\r\nThis solution works with the minimum value being at the top, bottom, or anywhere in the middle of the stack.","title":"Java: Recursively Finding the minimum element in a Stack","body":"<p>I tested your method. You had two lines transposed. All you need to do is place the recursive call <strong>AFTER</strong> the test.</p>\n<pre><code>public static void removeMin(Stack&lt;Integer&gt; st) {\n    if (st == null || st.isEmpty())\n        return;\n    int min = st.pop();\n    if(st.isEmpty() || min&lt;st.firstElement())\n        return;\n    removeMin(st); // this was in the wrong place, causing the stack to empty out completely\n    st.push(min);\n}\n</code></pre>\n<p>I ran this example:</p>\n<pre><code>public static void main (String[] args) {\n    Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n    stack.add(2);\n    stack.add(1); // to be removed\n    stack.add(5);\n    stack.add(3);\n    stack.add(4);\n    removeMin(stack);\n    System.out.println(stack.toString());\n}\n</code></pre>\n<p>and it printed out <code>[2, 5, 3, 4]</code>.</p>\n<p>This solution works with the minimum value being at the top, bottom, or anywhere in the middle of the stack.</p>\n"}],"owner":{"account_id":23325202,"reputation":59,"user_id":17402478,"display_name":"MORAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71311296,"answer_count":2,"score":0,"last_activity_date":1646151214,"creation_date":1646149513,"question_id":71311083,"body_markdown":"    public static void removeMin(Stack&lt;Integer&gt; st)\r\n    {\r\n    \tif (st.isEmpty())\r\n    \t\treturn;\r\n    \tint min = st.pop();\r\n    \tremoveMin(st);\r\n    \tif(min&lt;st.top())\r\n    \t\treturn;\r\n    \tst.push(min);\r\n    }\r\nI tried to find the minimum element and remove it, but unfortunately I could not. I would like to get some help, here is my code.\r\n\r\nI only have these methods in Class Stack: equals, isEmpty, pop, push, top, toString (the main methods).\r\n\r\nThanks in advance.","title":"Java: Recursively Finding the minimum element in a Stack","body":"<pre><code>public static void removeMin(Stack&lt;Integer&gt; st)\n{\n    if (st.isEmpty())\n        return;\n    int min = st.pop();\n    removeMin(st);\n    if(min&lt;st.top())\n        return;\n    st.push(min);\n}\n</code></pre>\n<p>I tried to find the minimum element and remove it, but unfortunately I could not. I would like to get some help, here is my code.</p>\n<p>I only have these methods in Class Stack: equals, isEmpty, pop, push, top, toString (the main methods).</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","environment-variables","struts2","log4j2"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645807998,"creation_date":1645807007,"answer_id":71268946,"question_id":71267326,"body_markdown":"The alternative way is to use `System` properties. Then you programmatically add properties:\r\n```\r\nSystem.setProperty(&quot;log4j2.configurationFile&quot;, &quot;/path/to/log4j2.xml&quot;);\r\n```\r\n\r\nYou can add this code to the dispatcher listener. See [how the dispatcher listener should be used][3].\r\n\r\n**Referencies:**\r\n\r\n - The [System Properties tutorial][1].\r\n - The javadoc for [`System.setProperty(String key, String value)`][2].\r\n\r\n\r\n  [1]: https://download.oracle.com/javase/tutorial/essential/environment/sysprop.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#setProperty-java.lang.String-java.lang.String-\r\n  [3]: https://stackoverflow.com/a/17700813/573032","title":"Logs not printing after migrating from log4j-1.2.17 to Log4j2 2.17.1","body":"<p>The alternative way is to use <code>System</code> properties. Then you programmatically add properties:</p>\n<pre><code>System.setProperty(&quot;log4j2.configurationFile&quot;, &quot;/path/to/log4j2.xml&quot;);\n</code></pre>\n<p>You can add this code to the dispatcher listener. See <a href=\"https://stackoverflow.com/a/17700813/573032\">how the dispatcher listener should be used</a>.</p>\n<p><strong>Referencies:</strong></p>\n<ul>\n<li>The <a href=\"https://download.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow noreferrer\">System Properties tutorial</a>.</li>\n<li>The javadoc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#setProperty-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><code>System.setProperty(String key, String value)</code></a>.</li>\n</ul>\n"}],"owner":{"account_id":22225852,"reputation":45,"user_id":16462814,"display_name":"Manish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1776,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646151072,"creation_date":1645799276,"question_id":71267326,"body_markdown":"I am trying to migrate from `log4j-1.2.17` to `log4j-api-2.17.1` but after all the changes, the logs are not getting printed. I am using &#39;Option 2&#39; as suggested by the https://logging.apache.org/log4j/2.x/manual/migration.html . \r\n\r\nI have added `lo4j-api-2.17.1.jar` and `log4j-core-2.17.1.jar` in my libs folder and properly configured `log4j2.xml` in the `src/resources/...` folder.\r\n\r\nThere are no build errors nor any errors or warnings in my console when I run my `Weblogic 12c` server. It is a `jdk 1.6` and `struts 2` java web application. \r\n\r\nThe logs print fine when I use below VM args: \r\n```\r\n-Dlog4j2.configurationFile=%LOG_PATH% -Dlogpath=%LOGS%\r\nset LOG_PATH=C:\\bea\\user_projects\\domains\\app_domain\\conf\\log4j2.xml\r\nset LOGS=C:\\bea\\user_projects\\domains\\app_domain\\logs\r\n```\r\n\r\nBut this method is not acceptable for Prod env due to business requirements. Is there any alternative to perform the tasks of VM args through java code without using the VM args?","title":"Logs not printing after migrating from log4j-1.2.17 to Log4j2 2.17.1","body":"<p>I am trying to migrate from <code>log4j-1.2.17</code> to <code>log4j-api-2.17.1</code> but after all the changes, the logs are not getting printed. I am using 'Option 2' as suggested by the <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a> .</p>\n<p>I have added <code>lo4j-api-2.17.1.jar</code> and <code>log4j-core-2.17.1.jar</code> in my libs folder and properly configured <code>log4j2.xml</code> in the <code>src/resources/...</code> folder.</p>\n<p>There are no build errors nor any errors or warnings in my console when I run my <code>Weblogic 12c</code> server. It is a <code>jdk 1.6</code> and <code>struts 2</code> java web application.</p>\n<p>The logs print fine when I use below VM args:</p>\n<pre><code>-Dlog4j2.configurationFile=%LOG_PATH% -Dlogpath=%LOGS%\nset LOG_PATH=C:\\bea\\user_projects\\domains\\app_domain\\conf\\log4j2.xml\nset LOGS=C:\\bea\\user_projects\\domains\\app_domain\\logs\n</code></pre>\n<p>But this method is not acceptable for Prod env due to business requirements. Is there any alternative to perform the tasks of VM args through java code without using the VM args?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":2730835,"reputation":932,"user_id":2354663,"accept_rate":75,"display_name":"Serge Farny"},"score":0,"creation_date":1374658633,"post_id":17827963,"comment_id":26023232,"body_markdown":"Is your plug-in loaded ? (please check that `Activator.start()` is called)","body":"Is your plug-in loaded ? (please check that <code>Activator.start()</code> is called)"},{"owner":{"account_id":423941,"reputation":3512,"user_id":803649,"accept_rate":65,"display_name":"rockstar"},"score":0,"creation_date":1374659331,"post_id":17827963,"comment_id":26023713,"body_markdown":"@scawf i think it is because besides the dynamic dropdown menu my plug-in also contributes other UI components which get rendered properly . Only the dynamic dropdown menu doesnt.","body":"@scawf i think it is because besides the dynamic dropdown menu my plug-in also contributes other UI components which get rendered properly . Only the dynamic dropdown menu doesnt."},{"owner":{"account_id":2730835,"reputation":932,"user_id":2354663,"accept_rate":75,"display_name":"Serge Farny"},"score":0,"creation_date":1374659429,"post_id":17827963,"comment_id":26023763,"body_markdown":"It depends. Statics menu does NOT need the plug-in to be loaded to be &quot;kind-of&quot; working. But yes, if you have a custom view opened, your plug-in is loaded.","body":"It depends. Statics menu does NOT need the plug-in to be loaded to be &quot;kind-of&quot; working. But yes, if you have a custom view opened, your plug-in is loaded."}],"owner":{"account_id":423941,"reputation":3512,"user_id":803649,"accept_rate":65,"display_name":"rockstar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646150994,"creation_date":1374651556,"question_id":17827963,"body_markdown":"I am trying to create an eclipse plugin implemented in the form of a dynamic dropdown menu. The contents of the dropdown menu must be filled dynamically. I am able to add contents statically however the dynamic implementation is what i really what.\r\n\r\nI see [Static and dynamic pulldown menus](http://codeandme.blogspot.sg/2013/01/static-and-dynamic-pulldown-menus.html) article and followed the steps to create dynamic pull down menu . \r\n\r\nHowever as I try to implement the dynamic part the plugin doesn&#39;t load in Eclipse. I don&#39;t see any errors in the console either. \r\n\r\nI did the following:\r\n\r\n1. Right click on my `org.eclipse.ui.menus` and added a menu contribution\r\n2. I right clicked on the added contribution and added dynamic node to it. \r\n3. I implemented the dynamic class. \r\n\r\nResulting XML: \r\n\r\n&lt;!-- langauge: xml --&gt;\r\n\r\n     &lt;menuContribution\r\n           allPopups=&quot;false&quot;\r\n           locationURI=&quot;toolbar:org.eclipse.ui.main.toolbar?after=additions&quot;&gt;\r\n        &lt;dynamic\r\n              class=&quot;org.eclipse.ui.articles.action.contribution.DynamicContributionItem&quot;\r\n              id=&quot;org.eclipse.ui.articles.action.contribution.dynamic3&quot;&gt;\r\n        &lt;/dynamic&gt;\r\n     &lt;/menuContribution&gt;\r\n\r\nMy implemented class named `DynamicContributionItem` is never called. I can&#39;t figure out what could be wrong?\r\n\r\nIs there a better way to create a dynamic dropdown than what is mentioned here?","title":"Dynamic pull down menu in Eclipse not working","body":"<p>I am trying to create an eclipse plugin implemented in the form of a dynamic dropdown menu. The contents of the dropdown menu must be filled dynamically. I am able to add contents statically however the dynamic implementation is what i really what.</p>\n\n<p>I see <a href=\"http://codeandme.blogspot.sg/2013/01/static-and-dynamic-pulldown-menus.html\" rel=\"nofollow noreferrer\">Static and dynamic pulldown menus</a> article and followed the steps to create dynamic pull down menu . </p>\n\n<p>However as I try to implement the dynamic part the plugin doesn't load in Eclipse. I don't see any errors in the console either. </p>\n\n<p>I did the following:</p>\n\n<ol>\n<li>Right click on my <code>org.eclipse.ui.menus</code> and added a menu contribution</li>\n<li>I right clicked on the added contribution and added dynamic node to it. </li>\n<li>I implemented the dynamic class. </li>\n</ol>\n\n<p>Resulting XML: </p>\n\n\n\n<pre><code> &lt;menuContribution\n       allPopups=\"false\"\n       locationURI=\"toolbar:org.eclipse.ui.main.toolbar?after=additions\"&gt;\n    &lt;dynamic\n          class=\"org.eclipse.ui.articles.action.contribution.DynamicContributionItem\"\n          id=\"org.eclipse.ui.articles.action.contribution.dynamic3\"&gt;\n    &lt;/dynamic&gt;\n &lt;/menuContribution&gt;\n</code></pre>\n\n<p>My implemented class named <code>DynamicContributionItem</code> is never called. I can't figure out what could be wrong?</p>\n\n<p>Is there a better way to create a dynamic dropdown than what is mentioned here?</p>\n"},{"tags":["java","wrapper","java-8","primitive-types","java-stream"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1397205347,"post_id":23007422,"comment_id":35141451,"body_markdown":"Isn&#39;t it normal to use IntStream methods to deal with IntStreams, and Stream methods to deal with Streams?","body":"Isn&#39;t it normal to use IntStream methods to deal with IntStreams, and Stream methods to deal with Streams?"},{"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":5,"creation_date":1397206324,"post_id":23007422,"comment_id":35142081,"body_markdown":"You can also use `Arrays.stream(ints).forEach(System.out::println)`.","body":"You can also use <code>Arrays.stream(ints).forEach(System.out::println)</code>."},{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1518041939,"post_id":23007422,"comment_id":84346902,"body_markdown":"Related to (but not a direct duplicate of) https://stackoverflow.com/q/14850879/2886891","body":"Related to (but not a direct duplicate of) <a href=\"https://stackoverflow.com/q/14850879/2886891\">stackoverflow.com/q/14850879/2886891</a>"}],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1646150828,"creation_date":1397213294,"answer_id":23010472,"question_id":23007422,"body_markdown":"Java 8 stream framework has a generic `Stream&lt;T&gt;` for objects as elements, and three primitive streams `IntStream`, `LongStream`, `DoubleStream` for the main three primitives. If you work with primitives, use one of those latter, in your case `IntStream`.\r\n\r\nSee the picture:\r\n\r\n![enter image description here][1]\r\n\r\nWhat lies behind is that:\r\n\r\n1. [Java generics][2] cannot work with primitive types: it is possible to have only `List&lt;Integer&gt;` and `Stream&lt;Integer&gt;`, but not &lt;s&gt;`List&lt;int&gt;`&lt;/s&gt; and &lt;s&gt;`Stream&lt;int&gt;`&lt;/s&gt;\r\n\r\n2. When the [Java Collections][3] framework was introduced, it was introduced only for classes, so if you want to have a `List` of `int`s, you have to wrap them (each single element!) to `Integer`s. This is costly!\r\n\r\n3. When the [Java Streams][4] framework was introduced, they decided to get around this overhead and *in parallel* with the &quot;class-oriented&quot; streams (using the generics mechanism), they introduced three extra sets of all the library functions, specifically designed for the most important primitive types: `int`, `long`, `double`.\r\n\r\nBTW, they did the same with the predefined functional interfaces in the [java.util.function][5] package, so you have `Predicate`, `IntPredicate`, `DoublePredicate`, and `LongPredicate`.\r\n\r\nAnd see also a marvelous explanation here: https://stackoverflow.com/a/22919112/2886891\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/uI6XA.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/generics/\r\n  [3]: https://docs.oracle.com/javase/tutorial/collections/\r\n  [4]: https://docs.oracle.com/javase/tutorial/collections/streams/\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/package-summary.html","title":"Using Streams with primitives data types and corresponding wrappers","body":"<p>Java 8 stream framework has a generic <code>Stream&lt;T&gt;</code> for objects as elements, and three primitive streams <code>IntStream</code>, <code>LongStream</code>, <code>DoubleStream</code> for the main three primitives. If you work with primitives, use one of those latter, in your case <code>IntStream</code>.</p>\n<p>See the picture:</p>\n<p><img src=\"https://i.stack.imgur.com/uI6XA.png\" alt=\"enter image description here\" /></p>\n<p>What lies behind is that:</p>\n<ol>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/\" rel=\"nofollow noreferrer\">Java generics</a> cannot work with primitive types: it is possible to have only <code>List&lt;Integer&gt;</code> and <code>Stream&lt;Integer&gt;</code>, but not <s><code>List&lt;int&gt;</code></s> and <s><code>Stream&lt;int&gt;</code></s></p>\n</li>\n<li><p>When the <a href=\"https://docs.oracle.com/javase/tutorial/collections/\" rel=\"nofollow noreferrer\">Java Collections</a> framework was introduced, it was introduced only for classes, so if you want to have a <code>List</code> of <code>int</code>s, you have to wrap them (each single element!) to <code>Integer</code>s. This is costly!</p>\n</li>\n<li><p>When the <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/\" rel=\"nofollow noreferrer\">Java Streams</a> framework was introduced, they decided to get around this overhead and <em>in parallel</em> with the &quot;class-oriented&quot; streams (using the generics mechanism), they introduced three extra sets of all the library functions, specifically designed for the most important primitive types: <code>int</code>, <code>long</code>, <code>double</code>.</p>\n</li>\n</ol>\n<p>BTW, they did the same with the predefined functional interfaces in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">java.util.function</a> package, so you have <code>Predicate</code>, <code>IntPredicate</code>, <code>DoublePredicate</code>, and <code>LongPredicate</code>.</p>\n<p>And see also a marvelous explanation here: <a href=\"https://stackoverflow.com/a/22919112/2886891\">https://stackoverflow.com/a/22919112/2886891</a></p>\n"}],"owner":{"account_id":4259399,"reputation":8159,"user_id":3484146,"display_name":"ifloop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14517,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":23010472,"answer_count":1,"score":22,"last_activity_date":1646150828,"creation_date":1397205074,"question_id":23007422,"body_markdown":"While playing around with Java8&#39;s Streams-API, I stumbled over the following:\r\n \r\nTo convert an array of primitive wrapper classe objects into a `Stream` I just have to call `Stream.of(array)`. But to convert an array of primitive data types, I have to call `.of(array)` from the corresponding wrapper (class) stream class (&lt;-- that sounds silly).\r\n\r\nAn example:\r\n\r\n    final Integer[] integers = {1, 2, 3};\r\n    final int[]     ints     = {1, 2, 3};\r\n\r\n\r\n    Stream.of(integers).forEach(System.out::println); //That works just fine\r\n    \r\n    Stream.of(ints).forEach(System.out::println);     //That doesn&#39;t\r\n\r\n    IntStream.of(ints).forEach(System.out::println);  //Have to use IntStream instead\r\n&lt;br&gt;\r\n**My question(s):**\r\nWhy is this? Does this correlate to e.g. the behaviour of `Arrays.asList()` which also just works for wrapper class arrays?","title":"Using Streams with primitives data types and corresponding wrappers","body":"<p>While playing around with Java8's Streams-API, I stumbled over the following:</p>\n\n<p>To convert an array of primitive wrapper classe objects into a <code>Stream</code> I just have to call <code>Stream.of(array)</code>. But to convert an array of primitive data types, I have to call <code>.of(array)</code> from the corresponding wrapper (class) stream class (&lt;-- that sounds silly).</p>\n\n<p>An example:</p>\n\n<pre><code>final Integer[] integers = {1, 2, 3};\nfinal int[]     ints     = {1, 2, 3};\n\n\nStream.of(integers).forEach(System.out::println); //That works just fine\n\nStream.of(ints).forEach(System.out::println);     //That doesn't\n\nIntStream.of(ints).forEach(System.out::println);  //Have to use IntStream instead\n</code></pre>\n\n<p><br>\n<strong>My question(s):</strong>\nWhy is this? Does this correlate to e.g. the behaviour of <code>Arrays.asList()</code> which also just works for wrapper class arrays?</p>\n"},{"tags":["java","spring-boot","jackson","iso8601"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1646150938,"post_id":71311356,"comment_id":126050004,"body_markdown":"An `Instant` has a time zone (UTC). Print a `LocalDateTime` instead (e.g. `LocalDateTime.now()`).","body":"An <code>Instant</code> has a time zone (UTC). Print a <code>LocalDateTime</code> instead (e.g. <code>LocalDateTime.now()</code>)."},{"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"score":0,"creation_date":1646151272,"post_id":71311356,"comment_id":126050124,"body_markdown":"How about defaulting it to Z, making it optional, if it is missing?","body":"How about defaulting it to Z, making it optional, if it is missing?"}],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646150777,"creation_date":1646150777,"question_id":71311356,"body_markdown":"I need to deserialize a ISO 8601 value into an Instant, but the string is without the trailing Z character.\r\n\r\nE.g.\r\n\r\n    2022-03-01T15:42:23.800\r\n\r\ninstead of\r\n\r\n    2022-03-01T15:42:23.800Z\r\n\r\nThese are my tests:\r\n\r\npublic class JacksonParsingTests {\r\n\r\n    private static ObjectMapper objectMapper;\r\n\r\n    @BeforeClass\r\n    public static void setUp(){\r\n        objectMapper = new ObjectMapper();\r\n\r\n        objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n        objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n\r\n        objectMapper.registerModule(new Jdk8Module());\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n    }\r\n\r\n    @Test\r\n    public void testInstantSerializationFormat(){\r\n        try {\r\n            String instantJSON = objectMapper.writeValueAsString(Instant.now());\r\n\r\n            System.out.println(&quot;Instant JSON:&quot;);\r\n            System.out.println(instantJSON);\r\n        } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void testInstantDeserialization() {\r\n\r\n        try {\r\n            String iso8601JSON = &quot;\\&quot;2022-03-01T15:42:23.800Z\\&quot;&quot;;\r\n            Instant now = objectMapper.readValue(iso8601JSON, Instant.class);\r\n\r\n            System.out.println(&quot;Zulu ISO8601 deserialization:&quot;);\r\n            System.out.println(now);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void testCustomInstantDeserialization(){\r\n        try {\r\n            String customISO8601JSON = &quot;\\&quot;2022-03-01T15:42:23.800\\&quot;&quot;;\r\n            Instant now = objectMapper.readValue(customISO8601JSON, Instant.class);\r\n\r\n            System.out.println(&quot;No Zulu ISO8601 deserialization:&quot;);\r\n            System.out.println(now);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nHow can I define a custom deserializer for the Instant class and register it with the ObjectMapper?\r\n\r\nI tried with\r\n\r\n    public class ISO8601InstantDeserializer extends InstantDeserializer&lt;Instant&gt; {\r\n        public ISO8601InstantDeserializer() {\r\n            super(InstantDeserializer.INSTANT, new DateTimeFormatterBuilder()\r\n                .parseCaseInsensitive()\r\n                .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\r\n                .optionalStart().appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;).optionalEnd()\r\n                .optionalStart().appendOffset(&quot;+HHMM&quot;, &quot;+0000&quot;).optionalEnd()\r\n                .optionalStart().appendOffset(&quot;+HH&quot;, &quot;Z&quot;).optionalEnd()\r\n                .toFormatter());\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    @BeforeClass\r\n    public static void setUp(){\r\n        objectMapper = new ObjectMapper();\r\n\r\n        objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n        objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n\r\n        objectMapper.registerModule(new Jdk8Module());\r\n        objectMapper.registerModule(new JavaTimeModule().addDeserializer(Instant.class, new ISO8601InstantDeserializer()));\r\n    }\r\n\r\nbut without success.\r\n\r\nThe error I get is:\r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: Failed to deserialize java.time.Instant: (java.time.DateTimeException) Unable to obtain Instant from TemporalAccessor: {},ISO resolved to 2022-03-01T15:42:23.800 of type java.time.format.Parsed\r\n     at [Source: &quot;2022-03-01T15:42:23.800&quot;; line: 1, column: 1]\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:277)\r\n    \tat com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._rethrowDateTimeException(JSR310DeserializerBase.java:82)\r\n    \tat com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer.deserialize(InstantDeserializer.java:208)\r\n    \tat com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer.deserialize(InstantDeserializer.java:48)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3814)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2858)\r\n    \tat eu.config.jackson.JacksonParsingTests.testCustomInstantDeserialization(JacksonParsingTests.java:60)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: java.time.DateTimeException: Unable to obtain Instant from TemporalAccessor: {},ISO resolved to 2022-03-01T15:42:23.800 of type java.time.format.Parsed\r\n    \tat java.time.Instant.from(Instant.java:378)\r\n    \tat com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer.deserialize(InstantDeserializer.java:203)\r\n    \t... 27 more\r\n    Caused by: java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: InstantSeconds\r\n    \tat java.time.format.Parsed.getLong(Parsed.java:203)\r\n    \tat java.time.Instant.from(Instant.java:373)\r\n    \t... 28 more","title":"Jackson custom Instant deserialization from ISO8601 String without Z","body":"<p>I need to deserialize a ISO 8601 value into an Instant, but the string is without the trailing Z character.</p>\n<p>E.g.</p>\n<pre><code>2022-03-01T15:42:23.800\n</code></pre>\n<p>instead of</p>\n<pre><code>2022-03-01T15:42:23.800Z\n</code></pre>\n<p>These are my tests:</p>\n<p>public class JacksonParsingTests {</p>\n<pre><code>private static ObjectMapper objectMapper;\n\n@BeforeClass\npublic static void setUp(){\n    objectMapper = new ObjectMapper();\n\n    objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n    objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n\n    objectMapper.registerModule(new Jdk8Module());\n    objectMapper.registerModule(new JavaTimeModule());\n}\n\n@Test\npublic void testInstantSerializationFormat(){\n    try {\n        String instantJSON = objectMapper.writeValueAsString(Instant.now());\n\n        System.out.println(&quot;Instant JSON:&quot;);\n        System.out.println(instantJSON);\n    } catch (JsonProcessingException e) {\n        e.printStackTrace();\n    }\n}\n\n@Test\npublic void testInstantDeserialization() {\n\n    try {\n        String iso8601JSON = &quot;\\&quot;2022-03-01T15:42:23.800Z\\&quot;&quot;;\n        Instant now = objectMapper.readValue(iso8601JSON, Instant.class);\n\n        System.out.println(&quot;Zulu ISO8601 deserialization:&quot;);\n        System.out.println(now);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n@Test\npublic void testCustomInstantDeserialization(){\n    try {\n        String customISO8601JSON = &quot;\\&quot;2022-03-01T15:42:23.800\\&quot;&quot;;\n        Instant now = objectMapper.readValue(customISO8601JSON, Instant.class);\n\n        System.out.println(&quot;No Zulu ISO8601 deserialization:&quot;);\n        System.out.println(now);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>How can I define a custom deserializer for the Instant class and register it with the ObjectMapper?</p>\n<p>I tried with</p>\n<pre><code>public class ISO8601InstantDeserializer extends InstantDeserializer&lt;Instant&gt; {\n    public ISO8601InstantDeserializer() {\n        super(InstantDeserializer.INSTANT, new DateTimeFormatterBuilder()\n            .parseCaseInsensitive()\n            .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\n            .optionalStart().appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;).optionalEnd()\n            .optionalStart().appendOffset(&quot;+HHMM&quot;, &quot;+0000&quot;).optionalEnd()\n            .optionalStart().appendOffset(&quot;+HH&quot;, &quot;Z&quot;).optionalEnd()\n            .toFormatter());\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@BeforeClass\npublic static void setUp(){\n    objectMapper = new ObjectMapper();\n\n    objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n    objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n\n    objectMapper.registerModule(new Jdk8Module());\n    objectMapper.registerModule(new JavaTimeModule().addDeserializer(Instant.class, new ISO8601InstantDeserializer()));\n}\n</code></pre>\n<p>but without success.</p>\n<p>The error I get is:</p>\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Failed to deserialize java.time.Instant: (java.time.DateTimeException) Unable to obtain Instant from TemporalAccessor: {},ISO resolved to 2022-03-01T15:42:23.800 of type java.time.format.Parsed\n at [Source: &quot;2022-03-01T15:42:23.800&quot;; line: 1, column: 1]\n    at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:277)\n    at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._rethrowDateTimeException(JSR310DeserializerBase.java:82)\n    at com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer.deserialize(InstantDeserializer.java:208)\n    at com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer.deserialize(InstantDeserializer.java:48)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3814)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2858)\n    at eu.config.jackson.JacksonParsingTests.testCustomInstantDeserialization(JacksonParsingTests.java:60)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.time.DateTimeException: Unable to obtain Instant from TemporalAccessor: {},ISO resolved to 2022-03-01T15:42:23.800 of type java.time.format.Parsed\n    at java.time.Instant.from(Instant.java:378)\n    at com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer.deserialize(InstantDeserializer.java:203)\n    ... 27 more\nCaused by: java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: InstantSeconds\n    at java.time.format.Parsed.getLong(Parsed.java:203)\n    at java.time.Instant.from(Instant.java:373)\n    ... 28 more\n</code></pre>\n"},{"tags":["java","maven","nuget"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1646147730,"post_id":71310246,"comment_id":126048642,"body_markdown":"What are you planning to do? Is this a Java program you are trying to build or something else?","body":"What are you planning to do? Is this a Java program you are trying to build or something else?"},{"owner":{"account_id":1714642,"reputation":687,"user_id":1571996,"accept_rate":28,"display_name":"Michael Remijan"},"score":0,"creation_date":1646152695,"post_id":71310246,"comment_id":126050697,"body_markdown":"well it really doesn&#39;t matter. I just need to know if Maven can be configured to pull from a Nuget repository like a Maven repository. I know I can setup multiple Maven repos if the artifacts I need are in different locations, but, in this particular case what I need is in a Nuget repo.","body":"well it really doesn&#39;t matter. I just need to know if Maven can be configured to pull from a Nuget repository like a Maven repository. I know I can setup multiple Maven repos if the artifacts I need are in different locations, but, in this particular case what I need is in a Nuget repo."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1646167471,"post_id":71310246,"comment_id":126055599,"body_markdown":"No, it cannot. What is the background?","body":"No, it cannot. What is the background?"},{"owner":{"account_id":1714642,"reputation":687,"user_id":1571996,"accept_rate":28,"display_name":"Michael Remijan"},"score":0,"creation_date":1646168940,"post_id":71310246,"comment_id":126056026,"body_markdown":"I have a Java application and when my assembly builds the deployable artifact, I now need to grab and include something that&#39;s in a Nuget repo. It&#39;s easy to grab dependencies from a Maven repo and include them when I build the deployable artifact, however this particular dependency is in Nuget. So if there is no way for Maven to pull from a Nuget repo then I&#39;ll need to come up with a different strategy.","body":"I have a Java application and when my assembly builds the deployable artifact, I now need to grab and include something that&#39;s in a Nuget repo. It&#39;s easy to grab dependencies from a Maven repo and include them when I build the deployable artifact, however this particular dependency is in Nuget. So if there is no way for Maven to pull from a Nuget repo then I&#39;ll need to come up with a different strategy."}],"owner":{"account_id":1714642,"reputation":687,"user_id":1571996,"accept_rate":28,"display_name":"Michael Remijan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646150731,"creation_date":1646145831,"question_id":71310246,"body_markdown":"I&#39;m looking to see anyone knows if Maven can be configured to point to a Nuget repository so that a dependency can put items from Nuget?","title":"How to configure Maven for a Nuget repository","body":"<p>I'm looking to see anyone knows if Maven can be configured to point to a Nuget repository so that a dependency can put items from Nuget?</p>\n"},{"tags":["java","ant","yguard","openjdk-17"],"answers":[{"tags":[],"owner":{"account_id":3224892,"reputation":94,"user_id":2721491,"display_name":"Jeancc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632896124,"creation_date":1632896124,"answer_id":69371265,"question_id":69361145,"body_markdown":"Asked in github, actual yguard version (3.0.0) don&#39;t support java 17.  Switching to openjdk 11 by now.","title":"yguard: Error obfuscating java class Unsupported class file major version 61","body":"<p>Asked in github, actual yguard version (3.0.0) don't support java 17.  Switching to openjdk 11 by now.</p>\n"},{"tags":[],"owner":{"account_id":143479,"reputation":7829,"user_id":351836,"accept_rate":89,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646150641,"creation_date":1646150641,"answer_id":71311329,"question_id":69361145,"body_markdown":"As of today, the [latest 3.1.0 release][1] claims to support JDK 17.\r\n\r\n\r\n  [1]: https://github.com/yWorks/yGuard/releases/tag/3.1.0","title":"yguard: Error obfuscating java class Unsupported class file major version 61","body":"<p>As of today, the <a href=\"https://github.com/yWorks/yGuard/releases/tag/3.1.0\" rel=\"nofollow noreferrer\">latest 3.1.0 release</a> claims to support JDK 17.</p>\n"}],"owner":{"account_id":3224892,"reputation":94,"user_id":2721491,"display_name":"Jeancc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646150641,"creation_date":1632829562,"question_id":69361145,"body_markdown":"I&#39;m switching my project from jdk1.8 to openjdk 17. Code works fine and ANT can generate the executable jar. Using Eclipse IDE.\r\n\r\nThe problem appears when trying to obfuscate with yguard 3.0.0 (through ant). The task is:\r\n\r\n    &lt;target depends=&quot;create_javafx_jar&quot; name=&quot;ofuscaJars2&quot;&gt;    \t\r\n        \t\r\n          &lt;taskdef name=&quot;yguard&quot; classname=&quot;com.yworks.yguard.YGuardTask&quot; classpath=&quot;${yguard}&quot;/&gt;\r\n        \t\r\n          &lt;echo level=&quot;info&quot; message=&quot;OFUSCANDO JAR v2...&quot; /&gt;    \t\r\n        \t\r\n        \t&lt;if&gt;\r\n    \t\t  &lt;available file=&quot;${dir.jarfile}/assistcontrol.jar&quot; type=&quot;file&quot; /&gt;\r\n    \t\t  &lt;then&gt;\t\t    \r\n    \t\t  &lt;/then&gt;\r\n    \t\t  &lt;else&gt;\r\n    \t\t    &lt;fail message=&quot;Fichero ${dir.jarfile}/assistcontrol.jar no existe&quot; /&gt;\r\n    \t\t  &lt;/else&gt;\r\n    \t\t&lt;/if&gt;\r\n        \t\t\t\r\n        \t &lt;yguard&gt;    \t    \r\n        \t \t&lt;inoutpair in=&quot;${dir.jarfile}/assistcontrol.jar&quot;  out=&quot;${dir.obfuscatejar}/assistcontrol.jar&quot; /&gt;\r\n        \t \t\r\n        \t \t&lt;shrink logfile=&quot;${shrinklog}&quot;&gt;\r\n                    &lt;keep&gt;\r\n                        &lt;!-- main method --&gt;\r\n                        &lt;method name=&quot;void main(java.lang.String[])&quot; class=&quot;core.MainClass&quot; /&gt;\r\n                    &lt;/keep&gt;\r\n                &lt;/shrink&gt;\r\n        \t \t\r\n        \t \t&lt;externalclasses description=&quot;JARs que son invocados por AssistControl, deben tenerse en cuenta en la ofuscaci&#243;n&quot;&gt;\r\n    \t\t\t\t&lt;fileset dir=&quot;${dir.jarfile}/jars&quot;&gt;\r\n    \t\t\t\t    &lt;include name=&quot;**/*.jar&quot;/&gt;\r\n    \t\t\t\t&lt;/fileset&gt;\t\t\t\r\n    \t\t\t&lt;/externalclasses&gt;\r\n    \t\t\t\r\n        \t    &lt;rename mainclass=&quot;core.MainClass&quot; logfile=&quot;${dir.obfuscatejar}/renaming.xml&quot; replaceClassNameStrings=&quot;true&quot;&gt;    \t   \r\n        \t    \t  &lt;property name=&quot;error-checking&quot; value=&quot;pedantic&quot;/&gt;\r\n        \t    &lt;/rename&gt;\r\n        \t  &lt;/yguard&gt;\r\n        &lt;/target&gt;\r\n\r\n\r\nThe output is:\r\n\r\n[shrink] ERROR: Unsupported class file major version 61\r\n[shrink] Unsupported class file major version 61\r\n\r\nI know 61 means java 17, so I&#39;ve tried to change workspace compliance to &#39;Compiler compliance level -&gt; 11&#39;, but with no luck.\r\n\r\n","title":"yguard: Error obfuscating java class Unsupported class file major version 61","body":"<p>I'm switching my project from jdk1.8 to openjdk 17. Code works fine and ANT can generate the executable jar. Using Eclipse IDE.</p>\n<p>The problem appears when trying to obfuscate with yguard 3.0.0 (through ant). The task is:</p>\n<pre><code>&lt;target depends=&quot;create_javafx_jar&quot; name=&quot;ofuscaJars2&quot;&gt;     \n        \n      &lt;taskdef name=&quot;yguard&quot; classname=&quot;com.yworks.yguard.YGuardTask&quot; classpath=&quot;${yguard}&quot;/&gt;\n        \n      &lt;echo level=&quot;info&quot; message=&quot;OFUSCANDO JAR v2...&quot; /&gt;       \n        \n        &lt;if&gt;\n          &lt;available file=&quot;${dir.jarfile}/assistcontrol.jar&quot; type=&quot;file&quot; /&gt;\n          &lt;then&gt;            \n          &lt;/then&gt;\n          &lt;else&gt;\n            &lt;fail message=&quot;Fichero ${dir.jarfile}/assistcontrol.jar no existe&quot; /&gt;\n          &lt;/else&gt;\n        &lt;/if&gt;\n                \n         &lt;yguard&gt;           \n            &lt;inoutpair in=&quot;${dir.jarfile}/assistcontrol.jar&quot;  out=&quot;${dir.obfuscatejar}/assistcontrol.jar&quot; /&gt;\n            \n            &lt;shrink logfile=&quot;${shrinklog}&quot;&gt;\n                &lt;keep&gt;\n                    &lt;!-- main method --&gt;\n                    &lt;method name=&quot;void main(java.lang.String[])&quot; class=&quot;core.MainClass&quot; /&gt;\n                &lt;/keep&gt;\n            &lt;/shrink&gt;\n            \n            &lt;externalclasses description=&quot;JARs que son invocados por AssistControl, deben tenerse en cuenta en la ofuscación&quot;&gt;\n                &lt;fileset dir=&quot;${dir.jarfile}/jars&quot;&gt;\n                    &lt;include name=&quot;**/*.jar&quot;/&gt;\n                &lt;/fileset&gt;          \n            &lt;/externalclasses&gt;\n            \n            &lt;rename mainclass=&quot;core.MainClass&quot; logfile=&quot;${dir.obfuscatejar}/renaming.xml&quot; replaceClassNameStrings=&quot;true&quot;&gt;          \n                  &lt;property name=&quot;error-checking&quot; value=&quot;pedantic&quot;/&gt;\n            &lt;/rename&gt;\n          &lt;/yguard&gt;\n    &lt;/target&gt;\n</code></pre>\n<p>The output is:</p>\n<p>[shrink] ERROR: Unsupported class file major version 61\n[shrink] Unsupported class file major version 61</p>\n<p>I know 61 means java 17, so I've tried to change workspace compliance to 'Compiler compliance level -&gt; 11', but with no luck.</p>\n"},{"tags":["java","servlets","filter"],"comments":[{"owner":{"account_id":16807537,"reputation":207,"user_id":12151306,"display_name":"Steven Diamante"},"score":0,"creation_date":1646151209,"post_id":71311301,"comment_id":126050092,"body_markdown":"Where are these email and name fields? Are they query parameters or a part of a POST body or somewhere else? Seems like you just need to get those values and then validate them.","body":"Where are these email and name fields? Are they query parameters or a part of a POST body or somewhere else? Seems like you just need to get those values and then validate them."},{"owner":{"account_id":2460377,"reputation":103,"user_id":2144684,"accept_rate":0,"display_name":"user2144684"},"score":0,"creation_date":1646197539,"post_id":71311301,"comment_id":126061264,"body_markdown":"Yes, they are part of a POST body and want to be validated. Actually, we want to validate all these fields at the application level. So that the fields are valid for all the forms available through the application.","body":"Yes, they are part of a POST body and want to be validated. Actually, we want to validate all these fields at the application level. So that the fields are valid for all the forms available through the application."},{"owner":{"account_id":16807537,"reputation":207,"user_id":12151306,"display_name":"Steven Diamante"},"score":0,"creation_date":1646223988,"post_id":71311301,"comment_id":126069048,"body_markdown":"Here&#39;s what you&#39;re looking for: https://stackoverflow.com/questions/8100634/get-the-post-request-body-from-httpservletrequest","body":"Here&#39;s what you&#39;re looking for: <a href=\"https://stackoverflow.com/questions/8100634/get-the-post-request-body-from-httpservletrequest\" title=\"get the post request body from httpservletrequest\">stackoverflow.com/questions/8100634/&hellip;</a>"},{"owner":{"account_id":2460377,"reputation":103,"user_id":2144684,"accept_rate":0,"display_name":"user2144684"},"score":0,"creation_date":1646292569,"post_id":71311301,"comment_id":126088244,"body_markdown":"Thanks for sharing it. But how do I throw some custom exception from it? So that users can be banned for not giving the wrong name or email in the request form.\nWant to share one thing that I am working on a legacy application that has UI in JSP and submitting the JSP form.","body":"Thanks for sharing it. But how do I throw some custom exception from it? So that users can be banned for not giving the wrong name or email in the request form. Want to share one thing that I am working on a legacy application that has UI in JSP and submitting the JSP form."},{"owner":{"account_id":16807537,"reputation":207,"user_id":12151306,"display_name":"Steven Diamante"},"score":0,"creation_date":1646398860,"post_id":71311301,"comment_id":126119246,"body_markdown":"Just make a new class that extends Runtime Exception. Then throw new MyCustomException(&quot;error message&quot;;","body":"Just make a new class that extends Runtime Exception. Then throw new MyCustomException(&quot;error message&quot;;"}],"owner":{"account_id":2460377,"reputation":103,"user_id":2144684,"accept_rate":0,"display_name":"user2144684"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646150549,"creation_date":1646150549,"question_id":71311301,"body_markdown":"I want to handle exceptions from XSSRequestWrapper.\r\n\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\t\t\t\t\tchain.doFilter(new XSSRequestWrapper((HttpServletRequest) request), response);}\r\n\r\nAnd class XSSEncoderRequestWrapper extends HttpServletRequestWrapper.\r\nIn XSSRequestWrapper class, I want to validate the email and name fields. If they are not valid then want to throw some customer exception. Like email is not valid.","title":"How to throw exception from XSSRequestWrapper from chain.doFilter","body":"<p>I want to handle exceptions from XSSRequestWrapper.</p>\n<pre><code>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n        throws IOException, ServletException {\n                chain.doFilter(new XSSRequestWrapper((HttpServletRequest) request), response);}\n</code></pre>\n<p>And class XSSEncoderRequestWrapper extends HttpServletRequestWrapper.\nIn XSSRequestWrapper class, I want to validate the email and name fields. If they are not valid then want to throw some customer exception. Like email is not valid.</p>\n"},{"tags":["java","biginteger"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":9,"creation_date":1453737135,"post_id":34996691,"comment_id":57721441,"body_markdown":"You are doing it wrong. If you want to increase the performance, don&#39;t use `BigInteger` in the first place. What exactly is the performance bottleneck you want to fix?","body":"You are doing it wrong. If you want to increase the performance, don&#39;t use <code>BigInteger</code> in the first place. What exactly is the performance bottleneck you want to fix?"},{"owner":{"account_id":1371910,"reputation":1169,"user_id":1306811,"accept_rate":86,"display_name":"Gorbles"},"score":0,"creation_date":1453737195,"post_id":34996691,"comment_id":57721485,"body_markdown":"A technical answer would be to write your own implementation, but what @Tunaki said is probably better. If you&#39;re using `BigInteger` in such an intensive way that it&#39;s actually affecting performance, you should probably use something else. If you have to use `BigInteger`, then you accept the performance hit that comes with it.","body":"A technical answer would be to write your own implementation, but what @Tunaki said is probably better. If you&#39;re using <code>BigInteger</code> in such an intensive way that it&#39;s actually affecting performance, you should probably use something else. If you have to use <code>BigInteger</code>, then you accept the performance hit that comes with it."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1453737256,"post_id":34996691,"comment_id":57721533,"body_markdown":"In other words, you are looking for some sort of `ModifyableBigInteger`?","body":"In other words, you are looking for some sort of <code>ModifyableBigInteger</code>?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1453737290,"post_id":34996691,"comment_id":57721560,"body_markdown":"following up on the other comments, you can actually open the source code for BigInteger and create your own class that handles these operations the way you&#39;d like them to be handled","body":"following up on the other comments, you can actually open the source code for BigInteger and create your own class that handles these operations the way you&#39;d like them to be handled"},{"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"score":0,"creation_date":1453737322,"post_id":34996691,"comment_id":57721586,"body_markdown":"@tobias_k yep some thing like that","body":"@tobias_k yep some thing like that"},{"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"score":0,"creation_date":1453737430,"post_id":34996691,"comment_id":57721674,"body_markdown":"@Tunaki I am implementing integer factorization, I am using gcm(), multiplication, mode, division, kind of all what BigInteger got to offer. It&#39;s not that trivial to decide not to work with BigInteger...","body":"@Tunaki I am implementing integer factorization, I am using gcm(), multiplication, mode, division, kind of all what BigInteger got to offer. It&#39;s not that trivial to decide not to work with BigInteger..."},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":0,"creation_date":1453806559,"post_id":34996691,"comment_id":57751809,"body_markdown":"@Ilya_Gazman: Like others said, there won&#39;t be a lot of difference in performance whether you can do: `a.multiply(b);` or `a = a.multiply(b);`. Fact is that an intermediate value must be created anyway, and that this is only assigned to the original at the very last moment, even in a MutableBigInteger. I have implemented my own version of a (Mutable)BigInteger in Delphi (no Java,sorry), and that is what I found out. Modifying the data while they are being used is not a good idea, so you create a new BigInteger, calculate everything into that BigInteger and then at the end assign it back.","body":"@Ilya_Gazman: Like others said, there won&#39;t be a lot of difference in performance whether you can do: <code>a.multiply(b);</code> or <code>a = a.multiply(b);</code>. Fact is that an intermediate value must be created anyway, and that this is only assigned to the original at the very last moment, even in a MutableBigInteger. I have implemented my own version of a (Mutable)BigInteger in Delphi (no Java,sorry), and that is what I found out. Modifying the data while they are being used is not a good idea, so you create a new BigInteger, calculate everything into that BigInteger and then at the end assign it back."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1453737449,"creation_date":1453737449,"answer_id":34996833,"question_id":34996691,"body_markdown":"I doubt that the performance of your algorithm will improve if you could somehow do this, but the main principle is that `BigInteger` is immutable.  You cannot perform an operation on it without generating a new instance, and there are good reasons to want this behavior - namely, if you have multiple threads operating on a single `BigInteger`, you can rest assured that these threads aren&#39;t overwriting that `BigInteger` directly*.\r\n\r\nIf you don&#39;t desire this behavior, your only option is to create a new class, but bear in mind that you will still be dealing with the immutability of `BigInteger`s at *some* layer.\r\n\r\n&lt;sup&gt;*:  Y&#39;know, so long as you&#39;re not *reassigning* the variable...&lt;/sup&gt;","title":"Java BigInteger alternative","body":"<p>I doubt that the performance of your algorithm will improve if you could somehow do this, but the main principle is that <code>BigInteger</code> is immutable.  You cannot perform an operation on it without generating a new instance, and there are good reasons to want this behavior - namely, if you have multiple threads operating on a single <code>BigInteger</code>, you can rest assured that these threads aren't overwriting that <code>BigInteger</code> directly*.</p>\n\n<p>If you don't desire this behavior, your only option is to create a new class, but bear in mind that you will still be dealing with the immutability of <code>BigInteger</code>s at <em>some</em> layer.</p>\n\n<p><sup>*:  Y'know, so long as you're not <em>reassigning</em> the variable...</sup></p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1453737819,"creation_date":1453737819,"answer_id":34996956,"question_id":34996691,"body_markdown":"What you are asking for is unlikely to be in any way more performant except when all you want to do is add. The reason for this is that the number of bits in the result of almost any mathematical operation (other than the aforementioned `add`) is a different size than the original number. You will **almost always** have to allocate a new number of the results and the copy it back over the original so all you are actually doing is making it slower.\r\n\r\nIf, however, all you need to do is add/sub then this is doable and could actually be a little faster as there will be no allocation of the new array for addition.\r\n\r\nAlmost all other functions would be better delegated to the BigInteger class.\r\n\r\n    class MutableBigInteger {\r\n        BigInteger n;\r\n        \r\n        public MutableBigInteger add (MutableBigInteger n) {\r\n            this.n = this.n.add(n.n);\r\n            return this;\r\n        }\r\n    }\r\n","title":"Java BigInteger alternative","body":"<p>What you are asking for is unlikely to be in any way more performant except when all you want to do is add. The reason for this is that the number of bits in the result of almost any mathematical operation (other than the aforementioned <code>add</code>) is a different size than the original number. You will <strong>almost always</strong> have to allocate a new number of the results and the copy it back over the original so all you are actually doing is making it slower.</p>\n\n<p>If, however, all you need to do is add/sub then this is doable and could actually be a little faster as there will be no allocation of the new array for addition.</p>\n\n<p>Almost all other functions would be better delegated to the BigInteger class.</p>\n\n<pre><code>class MutableBigInteger {\n    BigInteger n;\n\n    public MutableBigInteger add (MutableBigInteger n) {\n        this.n = this.n.add(n.n);\n        return this;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1453741533,"creation_date":1453737914,"answer_id":34996994,"question_id":34996691,"body_markdown":"There are mutable &quot;versions&quot; of `BigInteger` out there (e.g: https://github.com/bwakell/Huldra ) Or you can roll your own. Using a mutable object may reduce the pressure on the GC. You really should benchmark your application to see if this is worth the effort. ","title":"Java BigInteger alternative","body":"<p>There are mutable \"versions\" of <code>BigInteger</code> out there (e.g: <a href=\"https://github.com/bwakell/Huldra\" rel=\"noreferrer\">https://github.com/bwakell/Huldra</a> ) Or you can roll your own. Using a mutable object may reduce the pressure on the GC. You really should benchmark your application to see if this is worth the effort. </p>\n"}],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4023,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":34996994,"answer_count":3,"score":13,"last_activity_date":1646150429,"creation_date":1453737045,"question_id":34996691,"body_markdown":"Is there a way to improve [`BigInteger`][1] performance with caching?\r\n\r\nWhen you operate on `BigInteger` it always creates a new `BigInteger`. For example, when you multiply two big integers, a new `BigInteger` is created to host the result. I want to use some mutable version of a `BigInteger` that will update one of the fields with the result.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html","title":"Java BigInteger alternative","body":"<p>Is there a way to improve <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\"><code>BigInteger</code></a> performance with caching?</p>\n<p>When you operate on <code>BigInteger</code> it always creates a new <code>BigInteger</code>. For example, when you multiply two big integers, a new <code>BigInteger</code> is created to host the result. I want to use some mutable version of a <code>BigInteger</code> that will update one of the fields with the result.</p>\n"},{"tags":["java","rest","http"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1646145359,"post_id":71310104,"comment_id":126047658,"body_markdown":"How do you think those web frameworks work? Like Spring, Java EE? Did you expect someone to write a web framework for you as an answer?","body":"How do you think those web frameworks work? Like Spring, Java EE? Did you expect someone to write a web framework for you as an answer?"},{"owner":{"account_id":14670659,"reputation":171,"user_id":10595214,"display_name":"saravanan"},"score":0,"creation_date":1646145460,"post_id":71310104,"comment_id":126047701,"body_markdown":"@ElliottFrisch I don&#39;t know. that&#39;s why asked here. If you know how it works under the hood please share it or any links would help me.","body":"@ElliottFrisch I don&#39;t know. that&#39;s why asked here. If you know how it works under the hood please share it or any links would help me."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1646145543,"post_id":71310104,"comment_id":126047734,"body_markdown":"If you want to do this from scratch you&#39;ll need to implement a HTTP server yourself.","body":"If you want to do this from scratch you&#39;ll need to implement a HTTP server yourself."},{"owner":{"account_id":14670659,"reputation":171,"user_id":10595214,"display_name":"saravanan"},"score":0,"creation_date":1646145696,"post_id":71310104,"comment_id":126047804,"body_markdown":"@Jesper. Thanks for the info. Spring, Java EE, Jakarta EE are web frameworks. So I don&#39;t want to use these. I am trying to implement from scratch so that I can understand how it works under the hood.","body":"@Jesper. Thanks for the info. Spring, Java EE, Jakarta EE are web frameworks. So I don&#39;t want to use these. I am trying to implement from scratch so that I can understand how it works under the hood."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1646145712,"post_id":71310104,"comment_id":126047809,"body_markdown":"If you want to create an HTTP API, you need Java servlets and servlets are part of the JEE stack.","body":"If you want to create an HTTP API, you need Java servlets and servlets are part of the JEE stack."},{"owner":{"account_id":14670659,"reputation":171,"user_id":10595214,"display_name":"saravanan"},"score":0,"creation_date":1646146016,"post_id":71310104,"comment_id":126047915,"body_markdown":"@NicoVanBelle so we can&#39;t create an HTTP API without web framework like JEE?","body":"@NicoVanBelle so we can&#39;t create an HTTP API without web framework like JEE?"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":4,"creation_date":1646146026,"post_id":71310104,"comment_id":126047921,"body_markdown":"@NicoVanBelle servlets are not the only possible way. You can create your own HTTP server which works with sockets, and implements the HTTP protocol. It would be a lot of work and nobody would do this in practice for any real project, but it is possible...","body":"@NicoVanBelle servlets are not the only possible way. You can create your own HTTP server which works with sockets, and implements the HTTP protocol. It would be a lot of work and nobody would do this in practice for any real project, but it is possible..."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1646146381,"post_id":71310104,"comment_id":126048076,"body_markdown":"@Jesper sure sure but you also don&#39;t start to explain how petrol is created when someone asks you how to fill up their car. He&#39;s obviously still learning the basics. No need to slap him around the ears with &#39;implement your own server or http protocol&#39;. All he&#39;s asking is a way to create a simple HTTP endpoint with al less frameworks as possible","body":"@Jesper sure sure but you also don&#39;t start to explain how petrol is created when someone asks you how to fill up their car. He&#39;s obviously still learning the basics. No need to slap him around the ears with &#39;implement your own server or http protocol&#39;. All he&#39;s asking is a way to create a simple HTTP endpoint with al less frameworks as possible"},{"owner":{"account_id":14670659,"reputation":171,"user_id":10595214,"display_name":"saravanan"},"score":0,"creation_date":1646146540,"post_id":71310104,"comment_id":126048136,"body_markdown":"Yes, I need to create a simple HTTP API endpoint without any web frameworks.","body":"Yes, I need to create a simple HTTP API endpoint without any web frameworks."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1646148744,"post_id":71310104,"comment_id":126049069,"body_markdown":"@NicoVanBelle As OP has now repeated multiple times; &quot;How do I refine petroleum without using any existing equipment?&quot;","body":"@NicoVanBelle As OP has now repeated multiple times; &quot;How do I refine petroleum without using any existing equipment?&quot;"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1646150132,"post_id":71310104,"comment_id":126049685,"body_markdown":"This Question is far too broad for Stack Overflow? Entire books have been written on networking, sockets, HTTP, and web serving. So I am voting to close as needing focus. If you want to look under the hood, **look at the source code** for a HTTP product. In particular, I’d suggest the source code for the [Simple Web Server](https://openjdk.java.net/jeps/408) built into Java 18. Find the source code at the [OpenJDK](https://en.m.wikipedia.org/wiki/OpenJDK) project.","body":"This Question is far too broad for Stack Overflow? Entire books have been written on networking, sockets, HTTP, and web serving. So I am voting to close as needing focus. If you want to look under the hood, <b>look at the source code</b> for a HTTP product. In particular, I’d suggest the source code for the <a href=\"https://openjdk.java.net/jeps/408\" rel=\"nofollow noreferrer\">Simple Web Server</a> built into Java 18. Find the source code at the <a href=\"https://en.m.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646150125,"creation_date":1646150125,"answer_id":71311202,"question_id":71310104,"body_markdown":"The basics of HTTP are fairly simple. Open a `ServerSocket` to listen for incoming requests. When a connection is made, start a new thread and send the response. That could look like,\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tServerSocket ss = ServerSocketFactory.getDefault().createServerSocket(8080, 10);\r\n\t\t\tStringBuilder body = new StringBuilder();\r\n\t\t\tbody.append(&quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello, World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\t\t\twhile (true) {\r\n\t\t\t\tSocket s = ss.accept();\r\n\t\t\t\tThread t = new Thread(new HttpReply(s, body));\r\n\t\t\t\tt.start();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nThen to actually send the response you get an `OutputStream` from the `Socket` and write the required HTTP headers and then the body. Like,\r\n\r\n    class HttpReply implements Runnable {\r\n\t\tprivate Socket s;\r\n\t\tprivate StringBuilder body;\r\n\r\n\t\tprivate HttpReply(Socket s, StringBuilder body) {\r\n\t\t\tthis.s = s;\r\n\t\t\tthis.body = body;\r\n\t\t}\r\n\r\n\t\tpublic void run() {\r\n\t\t\ttry {\r\n\t\t\t\tPrintStream ps = new PrintStream(s.getOutputStream());\r\n\t\t\t\tps.println(&quot;HTTP/1.1 200 OK&quot;);\r\n\t\t\t\tps.println(&quot;Date: Mon, 27 Jul 2009 12:28:53 GMT&quot;);\r\n\t\t\t\tps.println(&quot;Server: Java&quot;);\r\n\t\t\t\tps.println(&quot;Last-Modified: Wed, 22 Jul 2009 19:15:56 GMT&quot;);\r\n\t\t\t\tps.println(&quot;Content-Length: &quot; + body.length());\r\n\t\t\t\tps.println(&quot;Content-Type: text/html&quot;);\r\n\t\t\t\tps.println(&quot;Connection: Closed&quot;);\r\n\t\t\t\tps.println();\r\n\t\t\t\tps.println(body);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nWhich will listen on port `8080` of your machine for requests and reply with a basic hello world web page.\r\n\r\n[![Hello World Web Page][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b4tjn.png","title":"How to create HTTP API using Java without any web framework like Spring, Java EE?","body":"<p>The basics of HTTP are fairly simple. Open a <code>ServerSocket</code> to listen for incoming requests. When a connection is made, start a new thread and send the response. That could look like,</p>\n<pre><code>public static void main(String[] args) {\n    try {\n        ServerSocket ss = ServerSocketFactory.getDefault().createServerSocket(8080, 10);\n        StringBuilder body = new StringBuilder();\n        body.append(&quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello, World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\n        while (true) {\n            Socket s = ss.accept();\n            Thread t = new Thread(new HttpReply(s, body));\n            t.start();\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Then to actually send the response you get an <code>OutputStream</code> from the <code>Socket</code> and write the required HTTP headers and then the body. Like,</p>\n<pre><code>class HttpReply implements Runnable {\n    private Socket s;\n    private StringBuilder body;\n\n    private HttpReply(Socket s, StringBuilder body) {\n        this.s = s;\n        this.body = body;\n    }\n\n    public void run() {\n        try {\n            PrintStream ps = new PrintStream(s.getOutputStream());\n            ps.println(&quot;HTTP/1.1 200 OK&quot;);\n            ps.println(&quot;Date: Mon, 27 Jul 2009 12:28:53 GMT&quot;);\n            ps.println(&quot;Server: Java&quot;);\n            ps.println(&quot;Last-Modified: Wed, 22 Jul 2009 19:15:56 GMT&quot;);\n            ps.println(&quot;Content-Length: &quot; + body.length());\n            ps.println(&quot;Content-Type: text/html&quot;);\n            ps.println(&quot;Connection: Closed&quot;);\n            ps.println();\n            ps.println(body);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Which will listen on port <code>8080</code> of your machine for requests and reply with a basic hello world web page.</p>\n<p><a href=\"https://i.stack.imgur.com/b4tjn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/b4tjn.png\" alt=\"Hello World Web Page\" /></a></p>\n"}],"owner":{"account_id":14670659,"reputation":171,"user_id":10595214,"display_name":"saravanan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4911,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"closed_date":1646150995,"answer_count":1,"score":4,"last_activity_date":1646150125,"creation_date":1646145252,"question_id":71310104,"body_markdown":"How to create an HTTP API using Java without any web frameworks like Spring, Java EE?","title":"How to create HTTP API using Java without any web framework like Spring, Java EE?","body":"<p>How to create an HTTP API using Java without any web frameworks like Spring, Java EE?</p>\n"},{"tags":["java","mongodb","ssl-certificate","spring-data-mongodb-reactive"],"answers":[{"tags":[],"owner":{"account_id":16512084,"reputation":11,"user_id":11930526,"display_name":"Kraennix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646150093,"creation_date":1646150093,"answer_id":71311187,"question_id":71204268,"body_markdown":"Apparently our replicaset was misconfigured in one of our environments.\r\nThe bindIp was set to the ip address and not hostname (which probably makes no difference), but the replicaset was also initialized with ip addresses instead of hostnames.\r\n\r\nAfter updating all members host&#39;s property to the hostname it works like expected. ","title":"Mongo Replicaset monitoring replaces hostnames with IP and leads to failed hostname verification","body":"<p>Apparently our replicaset was misconfigured in one of our environments.\nThe bindIp was set to the ip address and not hostname (which probably makes no difference), but the replicaset was also initialized with ip addresses instead of hostnames.</p>\n<p>After updating all members host's property to the hostname it works like expected.</p>\n"}],"owner":{"account_id":16512084,"reputation":11,"user_id":11930526,"display_name":"Kraennix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71311187,"answer_count":1,"score":0,"last_activity_date":1646150093,"creation_date":1645437412,"question_id":71204268,"body_markdown":"we have a problem with the mongo java driver and the monitoring thread.\r\n\r\nWe are running a 3 server replicaset and connect our spring boot microservices by using the hostnames. \r\n```mongodb://&lt;username&gt;:&lt;password&gt;@A:27017,B:27017,C:27017/?tls=true```\r\n\r\nUp until now we always used the non-reactive mongo driver and everything is working fine. However I now wanted to use the reactive/netty version and we&#39;re getting a `java.security.cert.CertificateException` because it tries to validate the alternative names by IP instead of the hostnames.\r\n\r\nI debugged through the the libraries and were able to see that when the Monitoring threads for Replicaset threads start, they are receiving the `{hello: 1}` with IPs instead of hostnames. \r\n\r\n1. Monitoring threads connect through hostnames --&gt; Everything works\r\n2. With the first status request of the monitoring threads, they receive the hosts as IPs\r\n3. Mongo driver updates replicaset of monitoring cluster with IP addresses and removes hostnames\r\n4. New monitoring threads for IPs are started and try hello command\r\n5. Command fails because of hostname verification by IP\r\n\r\nSeems like this works for non-reactive because the IP is resolved by `Inet4Address` and therefore gets the correct hostname again.\r\n\r\nDoes anyone have a solution for this? \r\nApart from\r\n- Adding IPs as alternative names to certificates (IPs may change)\r\n- Allowing invalid hostnames (sslInvalidHostNameAllowed option)\r\n\r\nIs there maybe something we configure on server-side so the mongo return hostnames instead of IPs?\r\n\r\nThanky you in advance.","title":"Mongo Replicaset monitoring replaces hostnames with IP and leads to failed hostname verification","body":"<p>we have a problem with the mongo java driver and the monitoring thread.</p>\n<p>We are running a 3 server replicaset and connect our spring boot microservices by using the hostnames.\n<code>mongodb://&lt;username&gt;:&lt;password&gt;@A:27017,B:27017,C:27017/?tls=true</code></p>\n<p>Up until now we always used the non-reactive mongo driver and everything is working fine. However I now wanted to use the reactive/netty version and we're getting a <code>java.security.cert.CertificateException</code> because it tries to validate the alternative names by IP instead of the hostnames.</p>\n<p>I debugged through the the libraries and were able to see that when the Monitoring threads for Replicaset threads start, they are receiving the <code>{hello: 1}</code> with IPs instead of hostnames.</p>\n<ol>\n<li>Monitoring threads connect through hostnames --&gt; Everything works</li>\n<li>With the first status request of the monitoring threads, they receive the hosts as IPs</li>\n<li>Mongo driver updates replicaset of monitoring cluster with IP addresses and removes hostnames</li>\n<li>New monitoring threads for IPs are started and try hello command</li>\n<li>Command fails because of hostname verification by IP</li>\n</ol>\n<p>Seems like this works for non-reactive because the IP is resolved by <code>Inet4Address</code> and therefore gets the correct hostname again.</p>\n<p>Does anyone have a solution for this?\nApart from</p>\n<ul>\n<li>Adding IPs as alternative names to certificates (IPs may change)</li>\n<li>Allowing invalid hostnames (sslInvalidHostNameAllowed option)</li>\n</ul>\n<p>Is there maybe something we configure on server-side so the mongo return hostnames instead of IPs?</p>\n<p>Thanky you in advance.</p>\n"},{"tags":["java","android","calendar"],"comments":[{"owner":{"account_id":300884,"reputation":30561,"user_id":1071320,"accept_rate":88,"display_name":"Adil Hussain"},"score":0,"creation_date":1419508153,"post_id":8723862,"comment_id":43711579,"body_markdown":"General comment for all which doesn&#39;t exactly answer the question above but is useful to know: To understand why the Calendar class returns 53 for &quot;number of weeks in a year&quot; you have to understand how the `getFirstDayOfWeek()` and `getMinimalDaysInFirstWeek()` methods are used in the calculation. If the &quot;first day of the week&quot; is specified as Monday for example and the &quot;minimal days in first week&quot; is 4 and the first Monday of the year is on 5th January, then the week preceding 5th January is classed as part of that year.","body":"General comment for all which doesn&#39;t exactly answer the question above but is useful to know: To understand why the Calendar class returns 53 for &quot;number of weeks in a year&quot; you have to understand how the <code>getFirstDayOfWeek()</code> and <code>getMinimalDaysInFirstWeek()</code> methods are used in the calculation. If the &quot;first day of the week&quot; is specified as Monday for example and the &quot;minimal days in first week&quot; is 4 and the first Monday of the year is on 5th January, then the week preceding 5th January is classed as part of that year."}],"answers":[{"tags":[],"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1325665371,"creation_date":1325665371,"answer_id":8723915,"question_id":8723862,"body_markdown":"\t\tCalendar cal = Calendar.getInstance();\r\n\t\tcal.set(Calendar.YEAR, 2015);\r\n\t\tcal.set(Calendar.MONTH, Calendar.DECEMBER);\r\n\t\tcal.set(Calendar.DAY_OF_MONTH, 31);\r\n\t\tSystem.out.println(cal.get(Calendar.WEEK_OF_YEAR));","title":"calculate number of weeks in a given year","body":"<pre><code>    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.YEAR, 2015);\n    cal.set(Calendar.MONTH, Calendar.DECEMBER);\n    cal.set(Calendar.DAY_OF_MONTH, 31);\n    System.out.println(cal.get(Calendar.WEEK_OF_YEAR));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":951663,"reputation":12014,"user_id":977676,"display_name":"COD3BOY"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1325666671,"creation_date":1325666671,"answer_id":8724110,"question_id":8723862,"body_markdown":"You can code yourself with the following information from [ISO week date.][1]\n\n\n**On average, a year has 53 weeks every 5.6 years.** \n\n&gt;The following 71 years in a 400-year cycle (add 2000 for current years) have 53 weeks. Years not listed have 52 weeks.\n&gt;\n&gt;004, 009, 015, 020, 026, 032, 037, 043, 048, 054, 060, 065, 071, 076, 082, 088, 093, 099, 105, 111, 116, 122, 128, 133, 139, 144, 150, 156, 161, 167, 172, 178, 184, 189, 195, 201, 207, 212, 218, 224, 229, 235, 240, 246, 252, 257, 263, 268, 274, 280, 285, 291, 296, 303, 308, 314, 320, 325, 331, 336, 342, 348, 353, 359, 364, 370, 376, 381, 387, 392, 398.\n\n\nYou can use the above information to return 52 or 53 accordingly :)\n\n  [1]: http://en.wikipedia.org/wiki/ISO_week_date","title":"calculate number of weeks in a given year","body":"<p>You can code yourself with the following information from <a href=\"http://en.wikipedia.org/wiki/ISO_week_date\" rel=\"noreferrer\">ISO week date.</a></p>\n<p><strong>On average, a year has 53 weeks every 5.6 years.</strong></p>\n<blockquote>\n<p>The following 71 years in a 400-year cycle (add 2000 for current years) have 53 weeks. Years not listed have 52 weeks.</p>\n<p>004, 009, 015, 020, 026, 032, 037, 043, 048, 054, 060, 065, 071, 076, 082, 088, 093, 099, 105, 111, 116, 122, 128, 133, 139, 144, 150, 156, 161, 167, 172, 178, 184, 189, 195, 201, 207, 212, 218, 224, 229, 235, 240, 246, 252, 257, 263, 268, 274, 280, 285, 291, 296, 303, 308, 314, 320, 325, 331, 336, 342, 348, 353, 359, 364, 370, 376, 381, 387, 392, 398.</p>\n</blockquote>\n<p>You can use the above information to return 52 or 53 accordingly :)</p>\n"},{"tags":[],"owner":{"account_id":69432,"reputation":4971,"user_id":201986,"accept_rate":71,"display_name":"Manjula"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1581050471,"creation_date":1325667538,"answer_id":8724252,"question_id":8723862,"body_markdown":"According to the wikipedia article on [ISO week date format][1], You can calculate it using following code.\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.set(Calendar.YEAR, 2015);\r\n        cal.set(Calendar.MONTH, Calendar.DECEMBER);\r\n        cal.set(Calendar.DAY_OF_MONTH, 31);\r\n        \r\n        int ordinalDay = cal.get(Calendar.DAY_OF_YEAR);\r\n        int weekDay = cal.get(Calendar.DAY_OF_WEEK) - 1; // Sunday = 0\r\n        int numberOfWeeks = (ordinalDay - weekDay + 10) / 7;\r\n        System.out.println(numberOfWeeks);\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/ISO_week_date#Calculation\r\n\r\n\r\n----------\r\n\r\n\r\n**Update:**\r\n\r\nSeems the answer from @Samuel https://stackoverflow.com/a/40174287/201986 is better and free from the bug mentioned by Luca","title":"calculate number of weeks in a given year","body":"<p>According to the wikipedia article on <a href=\"http://en.wikipedia.org/wiki/ISO_week_date#Calculation\" rel=\"nofollow noreferrer\">ISO week date format</a>, You can calculate it using following code.</p>\n\n<pre><code>    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.YEAR, 2015);\n    cal.set(Calendar.MONTH, Calendar.DECEMBER);\n    cal.set(Calendar.DAY_OF_MONTH, 31);\n\n    int ordinalDay = cal.get(Calendar.DAY_OF_YEAR);\n    int weekDay = cal.get(Calendar.DAY_OF_WEEK) - 1; // Sunday = 0\n    int numberOfWeeks = (ordinalDay - weekDay + 10) / 7;\n    System.out.println(numberOfWeeks);\n</code></pre>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>Seems the answer from @Samuel <a href=\"https://stackoverflow.com/a/40174287/201986\">https://stackoverflow.com/a/40174287/201986</a> is better and free from the bug mentioned by Luca</p>\n"},{"tags":[],"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1416937786,"creation_date":1416937786,"answer_id":27133400,"question_id":8723862,"body_markdown":"I would like to give my take on usage of the new Date API in Java 8 with the following ready to run code:\r\n\r\n\tprivate static long getNumberOfWeeksInYear(LocalDate date) {\r\n\t\tLocalDate middleOfYear = date.withDayOfMonth(1).withMonth(6);\r\n\t\treturn middleOfYear.range(WeekFields.ISO.weekOfWeekBasedYear()).getMaximum();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int year = 2000; year &lt; 2400; year++) {\r\n\t\t\tlong numberOfWeeks = getNumberOfWeeksInYear(LocalDate.of(year, 1, 1));\r\n\t\t\tif (numberOfWeeks != 52) {\r\n\t\t\t\tSystem.out.println(year + &quot; has &quot; + numberOfWeeks + &quot; weeks&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThe output is:\r\n\r\n&gt; 2004 has 53 weeks&lt;br/&gt; 2009 has 53 weeks&lt;br/&gt; 2015 has 53 weeks&lt;br/&gt;\r\n&gt; 2020 has 53 weeks&lt;br/&gt; 2026 has 53 weeks&lt;br/&gt; 2032 has 53 weeks&lt;br/&gt;...\r\n\r\nAnd so on...\r\n\r\nThe `date.withDayOfMonth(1).withMonth(6);` trick is because omitting this results in slightly different output if `LocalDate.of(year, 1, 1)` is passed:\r\n\r\n&gt; 2004 has 53 weeks&lt;br/&gt; 2005 has 53 weeks&lt;br/&gt;...\r\n\r\nI am still new to the Java 8 date API, but my I am pretty sure this behaviour is becuase 2005-01-01 is part of week 53 of 2014. This makes `date.range(WeekFields.ISO.weekOfWeekBasedYear()).getMaximum()` return the number of weeks for the week based year of 2014. ","title":"calculate number of weeks in a given year","body":"<p>I would like to give my take on usage of the new Date API in Java 8 with the following ready to run code:</p>\n\n<pre><code>private static long getNumberOfWeeksInYear(LocalDate date) {\n    LocalDate middleOfYear = date.withDayOfMonth(1).withMonth(6);\n    return middleOfYear.range(WeekFields.ISO.weekOfWeekBasedYear()).getMaximum();\n}\n\npublic static void main(String[] args) {\n    for (int year = 2000; year &lt; 2400; year++) {\n        long numberOfWeeks = getNumberOfWeeksInYear(LocalDate.of(year, 1, 1));\n        if (numberOfWeeks != 52) {\n            System.out.println(year + \" has \" + numberOfWeeks + \" weeks\");\n        }\n    }\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>2004 has 53 weeks<br/> 2009 has 53 weeks<br/> 2015 has 53 weeks<br/>\n  2020 has 53 weeks<br/> 2026 has 53 weeks<br/> 2032 has 53 weeks<br/>...</p>\n</blockquote>\n\n<p>And so on...</p>\n\n<p>The <code>date.withDayOfMonth(1).withMonth(6);</code> trick is because omitting this results in slightly different output if <code>LocalDate.of(year, 1, 1)</code> is passed:</p>\n\n<blockquote>\n  <p>2004 has 53 weeks<br/> 2005 has 53 weeks<br/>...</p>\n</blockquote>\n\n<p>I am still new to the Java 8 date API, but my I am pretty sure this behaviour is becuase 2005-01-01 is part of week 53 of 2014. This makes <code>date.range(WeekFields.ISO.weekOfWeekBasedYear()).getMaximum()</code> return the number of weeks for the week based year of 2014. </p>\n"},{"tags":[],"owner":{"account_id":2484267,"reputation":3870,"user_id":2163045,"accept_rate":53,"display_name":"murt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439329589,"creation_date":1439329589,"answer_id":31952518,"question_id":8723862,"body_markdown":"[Link to answer][1]\r\n\r\n    gregorianCalendar.set(year, 12, 31);\r\n    int totalWeeks = gregorianCalendar.getMaximum(Calendar.WEEK_OF_YEAR);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31952468/2163045","title":"calculate number of weeks in a given year","body":"<p><a href=\"https://stackoverflow.com/a/31952468/2163045\">Link to answer</a></p>\n\n<pre><code>gregorianCalendar.set(year, 12, 31);\nint totalWeeks = gregorianCalendar.getMaximum(Calendar.WEEK_OF_YEAR);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4635870,"reputation":4953,"user_id":3757139,"accept_rate":50,"display_name":"Samuel"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1569942498,"creation_date":1477045795,"answer_id":40174287,"question_id":8723862,"body_markdown":"Quick one liner:\r\n\r\n\r\n    Integer weeksOfYear = Calendar.getInstance().getActualMaximum(Calendar.WEEK_OF_YEAR);","title":"calculate number of weeks in a given year","body":"<p>Quick one liner:</p>\n\n<pre><code>Integer weeksOfYear = Calendar.getInstance().getActualMaximum(Calendar.WEEK_OF_YEAR);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8596024,"reputation":2291,"user_id":6439023,"accept_rate":60,"display_name":"Luca Nicoletti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494149430,"creation_date":1494149430,"answer_id":43829924,"question_id":8723862,"body_markdown":"@Manjula Weerasinge answer actually introduce a bug for 2016. Here&#39;s a better solution.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.set(Calendar.YEAR, year);\r\n    cal.set(Calendar.MONTH, Calendar.JANUARY);\r\n    cal.set(Calendar.DAY_OF_MONTH, 1);\r\n    GregorianCalendar gregorianCalendar = new GregorianCalendar();\r\n    \r\n    int weekDay = cal.get(Calendar.DAY_OF_WEEK) - 1;\r\n    if (gregorianCalendar.isLeapYear(year)){\r\n       if (weekDay == Calendar.THURSDAY || weekDay == Calendar.WEDNESDAY)\r\n          return 53;\r\n       else\r\n          return 52;\r\n    } else {\r\n       if (weekDay == Calendar.THURSDAY)\r\n          return 53;\r\n       else\r\n          return 52;\r\n    }","title":"calculate number of weeks in a given year","body":"<p>@Manjula Weerasinge answer actually introduce a bug for 2016. Here's a better solution.</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.set(Calendar.YEAR, year);\ncal.set(Calendar.MONTH, Calendar.JANUARY);\ncal.set(Calendar.DAY_OF_MONTH, 1);\nGregorianCalendar gregorianCalendar = new GregorianCalendar();\n\nint weekDay = cal.get(Calendar.DAY_OF_WEEK) - 1;\nif (gregorianCalendar.isLeapYear(year)){\n   if (weekDay == Calendar.THURSDAY || weekDay == Calendar.WEDNESDAY)\n      return 53;\n   else\n      return 52;\n} else {\n   if (weekDay == Calendar.THURSDAY)\n      return 53;\n   else\n      return 52;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12610313,"reputation":11,"user_id":9169696,"display_name":"Marian Zetu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515007428,"creation_date":1515007428,"answer_id":48083874,"question_id":8723862,"body_markdown":"This method calculates the number of weeks a ISO year using the Joda time library.\r\n\r\n        import org.joda.time.DateTime;\r\n        import org.joda.time.DateTimeZone;\r\n\r\n        public static int weeksInYear(int year) {\r\n            return new DateTime(DateTimeZone.forID(&quot;America/Los_Angeles&quot;))\r\n                .withWeekyear(year + 1)\r\n                .withWeekOfWeekyear(1)\r\n                .minusWeeks(1)\r\n                .getWeekOfWeekyear();\r\n        }\r\n","title":"calculate number of weeks in a given year","body":"<p>This method calculates the number of weeks a ISO year using the Joda time library.</p>\n\n<pre><code>    import org.joda.time.DateTime;\n    import org.joda.time.DateTimeZone;\n\n    public static int weeksInYear(int year) {\n        return new DateTime(DateTimeZone.forID(\"America/Los_Angeles\"))\n            .withWeekyear(year + 1)\n            .withWeekOfWeekyear(1)\n            .minusWeeks(1)\n            .getWeekOfWeekyear();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":966263,"reputation":736,"user_id":989643,"display_name":"arifng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545625490,"creation_date":1545625490,"answer_id":53909169,"question_id":8723862,"body_markdown":"For ISO date format, we can calculate number of weeks as follows:\r\n\r\n    int getNoOfWeeks(int year) {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.set(Calendar.YEAR, year);\r\n        cal.setMinimalDaysInFirstWeek(4);\r\n        cal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\r\n        return cal.getActualMaximum(Calendar.WEEK_OF_YEAR);\r\n    }\r\n\r\nSo, for year = 2018, it will return 52, for 2019, it will also return 52, but for 2020 it will return 53 as ISO year has 52 or 53 weeks.\r\n","title":"calculate number of weeks in a given year","body":"<p>For ISO date format, we can calculate number of weeks as follows:</p>\n\n<pre><code>int getNoOfWeeks(int year) {\n    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.YEAR, year);\n    cal.setMinimalDaysInFirstWeek(4);\n    cal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\n    return cal.getActualMaximum(Calendar.WEEK_OF_YEAR);\n}\n</code></pre>\n\n<p>So, for year = 2018, it will return 52, for 2019, it will also return 52, but for 2020 it will return 53 as ISO year has 52 or 53 weeks.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646150078,"creation_date":1646148323,"answer_id":71310814,"question_id":8723862,"body_markdown":"According to ISO standards, a week starts on a Monday and the first week of the year is the week with the first Thursday of the year.\r\n\r\nFollowing this logic, **28th of December** always lies in the last week of the year.\r\n\r\n```java\r\nlong maxWeekInYear(int year) {\r\n    return LocalDate.of(year, 12, 28).get(WeekFields.ISO.weekOfWeekBasedYear());\r\n}\r\n```\r\n\r\nHowever, some countries have other definitions of a week. The `WeekFields` class allows one to use a given definition of a week:\r\n\r\n```java\r\nlong maxWeekInYear(int year, WeekFields weekFields) {\r\n    return LocalDate.of(year, 7, 1).range(weekFields.weekOfWeekBasedYear()).getMaximum();\r\n}\r\n```\r\n\r\nFor instance, in the US, a week starts on Sunday and the minimum number of days in the first week of the year is 4. `WeekFields.of(DayOfWeek.SUNDAY, 4)` can be used to determine the number of weeks according to US rules. This is consistent with the results from [Savvytime.com][1].\r\n\r\n[1]: https://savvytime.com/week-number/united-states/2031","title":"calculate number of weeks in a given year","body":"<p>According to ISO standards, a week starts on a Monday and the first week of the year is the week with the first Thursday of the year.</p>\n<p>Following this logic, <strong>28th of December</strong> always lies in the last week of the year.</p>\n<pre class=\"lang-java prettyprint-override\"><code>long maxWeekInYear(int year) {\n    return LocalDate.of(year, 12, 28).get(WeekFields.ISO.weekOfWeekBasedYear());\n}\n</code></pre>\n<p>However, some countries have other definitions of a week. The <code>WeekFields</code> class allows one to use a given definition of a week:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long maxWeekInYear(int year, WeekFields weekFields) {\n    return LocalDate.of(year, 7, 1).range(weekFields.weekOfWeekBasedYear()).getMaximum();\n}\n</code></pre>\n<p>For instance, in the US, a week starts on Sunday and the minimum number of days in the first week of the year is 4. <code>WeekFields.of(DayOfWeek.SUNDAY, 4)</code> can be used to determine the number of weeks according to US rules. This is consistent with the results from <a href=\"https://savvytime.com/week-number/united-states/2031\" rel=\"nofollow noreferrer\">Savvytime.com</a>.</p>\n"}],"owner":{"account_id":181062,"reputation":1290,"user_id":414806,"accept_rate":55,"display_name":"AndroidGuy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24839,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"accepted_answer_id":8724252,"answer_count":10,"score":10,"last_activity_date":1646150078,"creation_date":1325665040,"question_id":8723862,"body_markdown":"I would like to get the number of weeks in any given year. Even though `52` is accepted as a generalised worldwide answer, the calendars for `2015`, `2020` and `2026` actually have `53` weeks.\r\n\r\nIs there any way that I can calculate this, or any functions that will help me out?","title":"calculate number of weeks in a given year","body":"<p>I would like to get the number of weeks in any given year. Even though <code>52</code> is accepted as a generalised worldwide answer, the calendars for <code>2015</code>, <code>2020</code> and <code>2026</code> actually have <code>53</code> weeks.</p>\n\n<p>Is there any way that I can calculate this, or any functions that will help me out?</p>\n"},{"tags":["java","class","variables","declare"],"comments":[{"owner":{"account_id":3573826,"reputation":4257,"user_id":2983568,"accept_rate":50,"display_name":"evilmandarine"},"score":0,"creation_date":1646132446,"post_id":71307360,"comment_id":126043245,"body_markdown":"You should tag your question with the language (Java). Error seems to be because there is no field `grade` in class `Teacher`.","body":"You should tag your question with the language (Java). Error seems to be because there is no field <code>grade</code> in class <code>Teacher</code>."}],"answers":[{"tags":[],"owner":{"account_id":1298129,"reputation":2902,"user_id":1248638,"accept_rate":73,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646149966,"creation_date":1646149966,"answer_id":71311164,"question_id":71307360,"body_markdown":"You need to assign the grade to the `Student` object you are passing to the `assignGrade` method.\r\n\r\n```java\r\n\r\npublic class Teacher {\r\n\r\n    public String teacherName;\r\n\r\n    public Teacher() {\r\n\r\n        System.out.println(&quot;Teacher object has been created succesfully!&quot;);\r\n    }\r\n\r\n    public void assignGrade(Student alum, int finalGrade) {\r\n\r\n        alum.grade = finalGrade; // &lt;&lt; this is the line I changed\r\n    }\r\n}\r\n```","title":"&quot;grade&quot; cannot be resolved to a variable","body":"<p>You need to assign the grade to the <code>Student</code> object you are passing to the <code>assignGrade</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class Teacher {\n\n    public String teacherName;\n\n    public Teacher() {\n\n        System.out.println(&quot;Teacher object has been created succesfully!&quot;);\n    }\n\n    public void assignGrade(Student alum, int finalGrade) {\n\n        alum.grade = finalGrade; // &lt;&lt; this is the line I changed\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19084396,"reputation":3,"user_id":13935975,"display_name":"Francesco Pedull&#224;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71311164,"answer_count":1,"score":0,"last_activity_date":1646149966,"creation_date":1646132083,"question_id":71307360,"body_markdown":"I have this exercise and the question is how can I solve the error &quot;grade&quot; cannot be resolved to a variable, without declare it in the class teacher.  I suppose is the only error in my code. It is evident for me WHY then in my output only the grade variable is not assigned, but I don&#39;t know HOW to solve it.\r\n\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        Student studentOne = new Student(&quot;FraPedu&quot;);\r\n        Student studentTwo = new Student(&quot;FraIla&quot;);\r\n        Teacher teacherOne = new Teacher();\r\n        \r\n        teacherOne.teacherName = &quot;Tiziana&quot;;\r\n\r\n        teacherOne.assignGrade(studentOne,10);\r\n        teacherOne.assignGrade(studentTwo,10);\r\n        studentOne.getStudentDetails();\r\n        studentTwo.getStudentDetails();\r\n    }\r\n}\r\n\r\npublic class Student {\r\n\r\n    public String name;\r\n    public int grade;\r\n\r\n    public Student(String studentName) {\r\n\r\n        System.out.println(&quot;Student object has been created succesfully!&quot;);\r\n        name = studentName;\r\n    }\r\n\r\n    public void getStudentDetails() {\r\n\r\n        System.out.println(&quot;Student name and grade: &quot; + name + &quot; &quot; + grade);        \r\n    }\r\n}\r\n\r\npublic class Teacher {\r\n\r\n    public String teacherName;\r\n\r\n    public Teacher() {\r\n\r\n        System.out.println(&quot;Teacher object has been created succesfully!&quot;);\r\n    }\r\n\r\n    public void assignGrade(Student alum, int finalGrade) {\r\n\r\n        grade = finalGrade; \r\n    }\r\n}\r\n```","title":"&quot;grade&quot; cannot be resolved to a variable","body":"<p>I have this exercise and the question is how can I solve the error &quot;grade&quot; cannot be resolved to a variable, without declare it in the class teacher.  I suppose is the only error in my code. It is evident for me WHY then in my output only the grade variable is not assigned, but I don't know HOW to solve it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) throws Exception {\n\n        Student studentOne = new Student(&quot;FraPedu&quot;);\n        Student studentTwo = new Student(&quot;FraIla&quot;);\n        Teacher teacherOne = new Teacher();\n        \n        teacherOne.teacherName = &quot;Tiziana&quot;;\n\n        teacherOne.assignGrade(studentOne,10);\n        teacherOne.assignGrade(studentTwo,10);\n        studentOne.getStudentDetails();\n        studentTwo.getStudentDetails();\n    }\n}\n\npublic class Student {\n\n    public String name;\n    public int grade;\n\n    public Student(String studentName) {\n\n        System.out.println(&quot;Student object has been created succesfully!&quot;);\n        name = studentName;\n    }\n\n    public void getStudentDetails() {\n\n        System.out.println(&quot;Student name and grade: &quot; + name + &quot; &quot; + grade);        \n    }\n}\n\npublic class Teacher {\n\n    public String teacherName;\n\n    public Teacher() {\n\n        System.out.println(&quot;Teacher object has been created succesfully!&quot;);\n    }\n\n    public void assignGrade(Student alum, int finalGrade) {\n\n        grade = finalGrade; \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","javabeans"],"comments":[{"owner":{"account_id":4994171,"reputation":2831,"user_id":4015372,"display_name":"OhleC"},"score":0,"creation_date":1646149057,"post_id":71310691,"comment_id":126049210,"body_markdown":"Did ClassB.sendMessage&#39;s signature change? Did you try a clean build with maven?","body":"Did ClassB.sendMessage&#39;s signature change? Did you try a clean build with maven?"},{"owner":{"account_id":16279626,"reputation":65,"user_id":11755942,"display_name":"okali1"},"score":0,"creation_date":1646149161,"post_id":71310691,"comment_id":126049267,"body_markdown":"Hi @OhleC,  the sendMessage functions&#39; signature has not changes for years.. and error actually occurs while running `mvn clean install` in classA&#39;s module.. I&#39;ll add that info to the post","body":"Hi @OhleC,  the sendMessage functions&#39; signature has not changes for years.. and error actually occurs while running <code>mvn clean install</code> in classA&#39;s module.. I&#39;ll add that info to the post"}],"answers":[{"tags":[],"owner":{"account_id":11571609,"reputation":120,"user_id":8478220,"display_name":"A.Amayreh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646148058,"creation_date":1646148058,"answer_id":71310747,"question_id":71310691,"body_markdown":"Try `mvn install` on the module that contains ClassB\r\n\r\nNote: Added this answer as I cannot add comment as a new contributor.","title":"Function expects two parameters, but definition only contains one parameter","body":"<p>Try <code>mvn install</code> on the module that contains ClassB</p>\n<p>Note: Added this answer as I cannot add comment as a new contributor.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646149900,"creation_date":1646149900,"answer_id":71311151,"question_id":71310691,"body_markdown":"Your Maven finds some old version of module that contains classB already compiled so it doesn&#39;t rebuild that module. Try to clear in your inteliJ your target directory and also see if you have that module present in your m2 local repository. If it is there delete it. It will force the classB module to be rebuilt as you build your classA module. Also you may want to run the build for classB module manually if you can.","title":"Function expects two parameters, but definition only contains one parameter","body":"<p>Your Maven finds some old version of module that contains classB already compiled so it doesn't rebuild that module. Try to clear in your inteliJ your target directory and also see if you have that module present in your m2 local repository. If it is there delete it. It will force the classB module to be rebuilt as you build your classA module. Also you may want to run the build for classB module manually if you can.</p>\n"}],"owner":{"account_id":16279626,"reputation":65,"user_id":11755942,"display_name":"okali1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71311151,"answer_count":2,"score":1,"last_activity_date":1646149913,"creation_date":1646147766,"question_id":71310691,"body_markdown":"I&#39;m having a very odd issue, and it&#39;s very simple but I don&#39;t understand what the problem is.\r\n\r\nI have one class,  ClassA that calls a function in ClassB such as -&gt;\r\n\r\n```\r\nClassA {\r\n  \r\n  private transient MessageHelper MessageHelper\r\n  private transient ClassB classB;\r\n\r\n  private boolean messageNotification(Param1 firstParam, Param2 secondParam)\r\n  {\r\n    ...messageBean = messageHelper.getAMessageBean(firstParam, secondParam)...\r\n    \r\n    ...\r\n\r\n    classB.sendMessage(messageBean);\r\n  }\r\n}\r\n```\r\n\r\nClass A is a bean defined in my applicationContext.xml like &gt;&gt;\r\n```\r\n    &lt;bean id=&quot;classa&quot; class=&quot;path.to.ClassA&quot;&gt;\r\n        &lt;property name=&quot;messageHelper&quot; ref=&quot;messageHelper&quot;/&gt;\r\n        &lt;property name=&quot;classB&quot; ref=&quot;classB&quot;/&gt;\r\n    &lt;/bean&gt;\r\n```\r\n\r\nthe function definition in ClassB looks like &gt;&gt;\r\n\r\n```public boolean sendMessage(MessageBean bean) throws MessageException { ... }```\r\n\r\nIntelliJ doesn&#39;t point out any syntax issues, and everything looks normal... However, when trying to compile I get an exception from Maven &gt;&gt;\r\n\r\n``` \r\nClassA.java:[292,27] method sendMessage in class MessageSender cannot be applied to given types;\r\n  required: MessageBean,boolean\r\n  found: MessageBean\r\n  reason: actual and formal argument lists differ in length\r\n```\r\n\r\nClass B is in a different module than Class A, so class B is in ClassA&#39;s pom.xml as a dependency\r\n\r\nI&#39;m using jdk 1.8.0_212 and maven version 3.6.3\r\n\r\nClassB&#39;s module builds with no issues at all.\r\nerror occurs while running ```mvn clean install``` in ClassA&#39;s module\r\nI&#39;ve tried invalidating cache&#39; in intellij\r\n\r\nCan someone please help me understand what the issue here is?","title":"Function expects two parameters, but definition only contains one parameter","body":"<p>I'm having a very odd issue, and it's very simple but I don't understand what the problem is.</p>\n<p>I have one class,  ClassA that calls a function in ClassB such as -&gt;</p>\n<pre><code>ClassA {\n  \n  private transient MessageHelper MessageHelper\n  private transient ClassB classB;\n\n  private boolean messageNotification(Param1 firstParam, Param2 secondParam)\n  {\n    ...messageBean = messageHelper.getAMessageBean(firstParam, secondParam)...\n    \n    ...\n\n    classB.sendMessage(messageBean);\n  }\n}\n</code></pre>\n<p>Class A is a bean defined in my applicationContext.xml like &gt;&gt;</p>\n<pre><code>    &lt;bean id=&quot;classa&quot; class=&quot;path.to.ClassA&quot;&gt;\n        &lt;property name=&quot;messageHelper&quot; ref=&quot;messageHelper&quot;/&gt;\n        &lt;property name=&quot;classB&quot; ref=&quot;classB&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>the function definition in ClassB looks like &gt;&gt;</p>\n<p><code>public boolean sendMessage(MessageBean bean) throws MessageException { ... }</code></p>\n<p>IntelliJ doesn't point out any syntax issues, and everything looks normal... However, when trying to compile I get an exception from Maven &gt;&gt;</p>\n<pre><code>ClassA.java:[292,27] method sendMessage in class MessageSender cannot be applied to given types;\n  required: MessageBean,boolean\n  found: MessageBean\n  reason: actual and formal argument lists differ in length\n</code></pre>\n<p>Class B is in a different module than Class A, so class B is in ClassA's pom.xml as a dependency</p>\n<p>I'm using jdk 1.8.0_212 and maven version 3.6.3</p>\n<p>ClassB's module builds with no issues at all.\nerror occurs while running <code>mvn clean install</code> in ClassA's module\nI've tried invalidating cache' in intellij</p>\n<p>Can someone please help me understand what the issue here is?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1646057683,"post_id":71296310,"comment_id":126023674,"body_markdown":"What input are you giving it?","body":"What input are you giving it?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1646057690,"post_id":71296310,"comment_id":126023680,"body_markdown":"Change `&amp;&amp;` to `||`.","body":"Change <code>&amp;&amp;</code> to <code>||</code>."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1646057734,"post_id":71296310,"comment_id":126023700,"body_markdown":"Look carefully at the condition: `if (!(n &gt;= 0) &amp;&amp; n &gt; 999)`: &quot;if not n is greater or equal to zero AND n greater than 999&quot;. This can never be true; n cannot be less than zero and greater than 999 at the same time.","body":"Look carefully at the condition: <code>if (!(n &gt;= 0) &amp;&amp; n &gt; 999)</code>: &quot;if not n is greater or equal to zero AND n greater than 999&quot;. This can never be true; n cannot be less than zero and greater than 999 at the same time."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1646057865,"post_id":71296310,"comment_id":126023745,"body_markdown":"Also, your `while` loop will run forever if n is greater than 1 and less than or equal to 999.","body":"Also, your <code>while</code> loop will run forever if n is greater than 1 and less than or equal to 999."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646057832,"creation_date":1646057832,"answer_id":71296362,"question_id":71296310,"body_markdown":"Change `&amp;&amp;` to `||`:\r\n\r\n    if (!(n &gt;= 0) || n &gt; 999) {\r\n\r\nOr even better, express conditions without negation:\r\n\r\n    if (n &lt; 0 || n &gt; 999) { \r\n\r\nPositive conditions, ie &quot;a *is* b&quot;, are easier to read.","title":"Find the binary equivalent of integer in Java using a while loop","body":"<p>Change <code>&amp;&amp;</code> to <code>||</code>:</p>\n<pre><code>if (!(n &gt;= 0) || n &gt; 999) {\n</code></pre>\n<p>Or even better, express conditions without negation:</p>\n<pre><code>if (n &lt; 0 || n &gt; 999) { \n</code></pre>\n<p>Positive conditions, ie &quot;a <em>is</em> b&quot;, are easier to read.</p>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646058609,"creation_date":1646058609,"answer_id":71296525,"question_id":71296310,"body_markdown":"Why are you using a loop at all?  You&#39;re just adding needless complexity.  Your code can be re-written to this:\r\n\r\n    if (n &gt;= 0 &amp;&amp; n &lt; 1000) {\r\n       System.out.println(Integer.toBinaryString(n));\r\n       return;\r\n    }\r\n    \t\r\n    System.out.println(&quot;Invalid Input&quot;);","title":"Find the binary equivalent of integer in Java using a while loop","body":"<p>Why are you using a loop at all?  You're just adding needless complexity.  Your code can be re-written to this:</p>\n<pre><code>if (n &gt;= 0 &amp;&amp; n &lt; 1000) {\n   System.out.println(Integer.toBinaryString(n));\n   return;\n}\n    \nSystem.out.println(&quot;Invalid Input&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646098536,"creation_date":1646098536,"answer_id":71302835,"question_id":71296310,"body_markdown":"You haven&#39;t said if this is an assignment but typically it is done like this for such questions.\r\n\r\n- loop until value is 0\r\n- get remainder from division by `2`.\r\n- prepend to string\r\n- divide `n` by `2` to expose next binary digit.\r\n```\r\n// get some input,\r\nint n = 1249;\r\nString s = &quot;&quot;;\r\nwhile(n != 0) {\r\n  s = (n%2) + s;\r\n  n/=2;\r\n}\r\nSystem.out.println(s);\r\n```\r\nprints\r\n```\r\n10011100001","title":"Find the binary equivalent of integer in Java using a while loop","body":"<p>You haven't said if this is an assignment but typically it is done like this for such questions.</p>\n<ul>\n<li>loop until value is 0</li>\n<li>get remainder from division by <code>2</code>.</li>\n<li>prepend to string</li>\n<li>divide <code>n</code> by <code>2</code> to expose next binary digit.</li>\n</ul>\n<pre><code>// get some input,\nint n = 1249;\nString s = &quot;&quot;;\nwhile(n != 0) {\n  s = (n%2) + s;\n  n/=2;\n}\nSystem.out.println(s);\n</code></pre>\n<p>prints</p>\n<pre><code>10011100001\n</code></pre>\n"}],"owner":{"account_id":21116235,"reputation":1,"user_id":15523275,"display_name":"Komal Prajapati"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646149881,"creation_date":1646057519,"question_id":71296310,"body_markdown":"I&#39;m new to Java. I&#39;ve been writing code to find the binary equivalent of an integer in Java using a while loop. I&#39;ve written the following code and it&#39;s not throwing any error, but it was not printing **INVALID INPUT**. It is printing the valid binary number of a given integer value. Can anyone suggest where and what I&#39;m doing wrong? And how should I get the proper input?\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        if ((n &gt;= 0) &amp;&amp; n &gt; 999) {\r\n            System.out.println(&quot;Invalid Input&quot;);\r\n        } else {\r\n            while (n &gt; 1) {\r\n                if (n &lt;= 999) {\r\n                    System.out.println(Integer.toBinaryString(n));\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Find the binary equivalent of integer in Java using a while loop","body":"<p>I'm new to Java. I've been writing code to find the binary equivalent of an integer in Java using a while loop. I've written the following code and it's not throwing any error, but it was not printing <strong>INVALID INPUT</strong>. It is printing the valid binary number of a given integer value. Can anyone suggest where and what I'm doing wrong? And how should I get the proper input?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        if ((n &gt;= 0) &amp;&amp; n &gt; 999) {\n            System.out.println(&quot;Invalid Input&quot;);\n        } else {\n            while (n &gt; 1) {\n                if (n &lt;= 999) {\n                    System.out.println(Integer.toBinaryString(n));\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1646147115,"post_id":71310345,"comment_id":126048381,"body_markdown":"And it should because? The transaction hasn&#39;t committed so changes aren&#39;t persisted nor visible. Flush isn&#39;t the same as committing.","body":"And it should because? The transaction hasn&#39;t committed so changes aren&#39;t persisted nor visible. Flush isn&#39;t the same as committing."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1646147563,"post_id":71310345,"comment_id":126048565,"body_markdown":"All flushing does is run the sql. Committing makes the changes visible. Leaving the method triggers the commit.","body":"All flushing does is run the sql. Committing makes the changes visible. Leaving the method triggers the commit."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1646149766,"post_id":71310345,"comment_id":126049541,"body_markdown":"So, how can I commit the changes so that I can add a new record without violating constraint?","body":"So, how can I commit the changes so that I can add a new record without violating constraint?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1646150882,"post_id":71310345,"comment_id":126049983,"body_markdown":"@M.Deinum I also created a separate delete method using `@Transactional` annotation, but despite this, the record is not updated on database after code hits and out from delete method. I think it may be due to that there is a  `@Transactional` in the `createOrUpdate` method. Any idea?","body":"@M.Deinum I also created a separate delete method using <code>@Transactional</code> annotation, but despite this, the record is not updated on database after code hits and out from delete method. I think it may be due to that there is a  <code>@Transactional</code> in the <code>createOrUpdate</code> method. Any idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1646152592,"post_id":71310345,"comment_id":126050656,"body_markdown":"@NathanHughes Amigo? Any reply?","body":"@NathanHughes Amigo? Any reply?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646208194,"post_id":71310345,"comment_id":126063700,"body_markdown":"You have 1 transaction which is around the service method, everything needs to be inside the method. Also why the delete and add again? Why not just update the existing one.","body":"You have 1 transaction which is around the service method, everything needs to be inside the method. Also why the delete and add again? Why not just update the existing one."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1646318483,"post_id":71310345,"comment_id":126097509,"body_markdown":"Normally I use createOrUpdate approach. But there are several conditions for delete, create and update in this method. Then instead of checking all of these conditions, I just wanted to simply delete first and then create or update based on request value. Is that still bad idea? Any suggestion pls?","body":"Normally I use createOrUpdate approach. But there are several conditions for delete, create and update in this method. Then instead of checking all of these conditions, I just wanted to simply delete first and then create or update based on request value. Is that still bad idea? Any suggestion pls?"}],"answers":[{"tags":[],"owner":{"account_id":24364556,"reputation":32,"user_id":18298464,"display_name":"seleveal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646146864,"creation_date":1646146864,"answer_id":71310497,"question_id":71310345,"body_markdown":"JPA doesn&#39;t supports final field. \r\n\r\nYou can use two alternative solution for immutable class.\r\n\r\n1. use @Immutable at entity class.\r\n\r\n2. change entity class fields having only a getter.","title":"Spring Data JPA flush does not save changes to database","body":"<p>JPA doesn't supports final field.</p>\n<p>You can use two alternative solution for immutable class.</p>\n<ol>\n<li><p>use @Immutable at entity class.</p>\n</li>\n<li><p>change entity class fields having only a getter.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646149812,"creation_date":1646146253,"question_id":71310345,"body_markdown":"I have the following code that first check record and if found delete that record and flush changes to the database. However, when I debug, I see that it does not reflect changes to the database when debugger hit the next code block (`final Stock stock = new Stock();`). \r\n\r\n```\r\n@Transactional\r\npublic CommandDTO createOrUpdate(StockRequest request) {\r\n    stockRepository.findByBrandUuidAndProductUuid(\r\n                 request.getBrandUuid(), \r\n                 request.getProductUuid())\r\n            .ifPresent(stock -&gt; {\r\n                stockRepository.delete(stock);\r\n                stockRepository.flush();\r\n            });\r\n\r\n    final Stock stock = new Stock();\r\n    if (request.isOutOfStock()) {\r\n        stock.setBrandUuid(request.getBrandUuid());\r\n        stock.setProductUuid(request.getProductUuid());\r\n        stock.save(stock);\r\n    }\r\n    return CommandDTO.builder().uuid(stock.getUuid()).build();\r\n}\r\n```\r\n\r\nSo, what is the mistake in this approach?","title":"Spring Data JPA flush does not save changes to database","body":"<p>I have the following code that first check record and if found delete that record and flush changes to the database. However, when I debug, I see that it does not reflect changes to the database when debugger hit the next code block (<code>final Stock stock = new Stock();</code>).</p>\n<pre><code>@Transactional\npublic CommandDTO createOrUpdate(StockRequest request) {\n    stockRepository.findByBrandUuidAndProductUuid(\n                 request.getBrandUuid(), \n                 request.getProductUuid())\n            .ifPresent(stock -&gt; {\n                stockRepository.delete(stock);\n                stockRepository.flush();\n            });\n\n    final Stock stock = new Stock();\n    if (request.isOutOfStock()) {\n        stock.setBrandUuid(request.getBrandUuid());\n        stock.setProductUuid(request.getProductUuid());\n        stock.save(stock);\n    }\n    return CommandDTO.builder().uuid(stock.getUuid()).build();\n}\n</code></pre>\n<p>So, what is the mistake in this approach?</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1646146332,"post_id":71310332,"comment_id":126048055,"body_markdown":"Executing `mvn clean install` of the same project on a different PC does not do this? What plugins are configured in the `pom.xml` ?","body":"Executing <code>mvn clean install</code> of the same project on a different PC does not do this? What plugins are configured in the <code>pom.xml</code> ?"},{"owner":{"account_id":19179400,"reputation":126,"user_id":14389309,"display_name":"Rodrigo"},"score":0,"creation_date":1646146858,"post_id":71310332,"comment_id":126048268,"body_markdown":"No, on a different PC does not do this. We got a really big pom.xml, is a big project, but its working on every pc an eviroment we got it","body":"No, on a different PC does not do this. We got a really big pom.xml, is a big project, but its working on every pc an eviroment we got it"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1646147443,"post_id":71310332,"comment_id":126048513,"body_markdown":"Is there any chance that this PC has configured the project folder as local repository? Can you take a look at `~/.m2/settings.xml` and `$MAVEN_HOME/conf/settings.xml`? And any repository-related info in the parent pom.xml?","body":"Is there any chance that this PC has configured the project folder as local repository? Can you take a look at <code>~&#47;.m2&#47;settings.xml</code> and <code>$MAVEN_HOME&#47;conf&#47;settings.xml</code>? And any repository-related info in the parent pom.xml?"},{"owner":{"account_id":156121,"reputation":1001,"user_id":414114,"accept_rate":63,"display_name":"digoferra"},"score":0,"creation_date":1693497229,"post_id":71310332,"comment_id":135772029,"body_markdown":"As commented below, adding the &lt;localRepository&gt;C:\\Users\\YourName\\.m2\\repository&lt;/localRepository&gt; inside the settings.xml solved the issue. Add the tag just at the beginning of the file. Thanks, @Rodrigo for the fix.","body":"As commented below, adding the &lt;localRepository&gt;C:\\Users\\YourName\\.m2\\repository&lt;/localRepo&zwnj;&#8203;sitory&gt; inside the settings.xml solved the issue. Add the tag just at the beginning of the file. Thanks, @Rodrigo for the fix."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646147591,"creation_date":1646147591,"answer_id":71310651,"question_id":71310332,"body_markdown":"This sounds like maven is configured to use the project root/the current directory as the location for the local repository.\r\n\r\nCheck `settings.xml` in `~/.m2`, possibly rename it and try again.","title":"Why maven create folders on my project root?","body":"<p>This sounds like maven is configured to use the project root/the current directory as the location for the local repository.</p>\n<p>Check <code>settings.xml</code> in <code>~/.m2</code>, possibly rename it and try again.</p>\n"}],"owner":{"account_id":19179400,"reputation":126,"user_id":14389309,"display_name":"Rodrigo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71310651,"answer_count":1,"score":0,"last_activity_date":1646149301,"creation_date":1646146213,"question_id":71310332,"body_markdown":"im facing this problem and I dont know what to do. We import a project from git to Intellij, and when we execute mvn clean install, maven start creating all dependencies folders on our project root. This only happpends on one of our PCs, and we have no idea why:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAny idea about how to solve this?\r\nThanks!\r\nUpdate with settings.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd&quot; xmlns=&quot;http://maven.apache.org/SETTINGS/1.1.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    \t&lt;localRepository /&gt;\r\n            &lt;interactiveMode /&gt;\r\n            &lt;usePluginRegistry /&gt;\r\n            &lt;offline /&gt;\r\n    \t&lt;pluginGroups /&gt;\r\n      \t&lt;servers&gt;\r\n        \t\t&lt;server&gt;\r\n          \t\t\t&lt;username&gt;xxxxxx&lt;/username&gt;\r\n          \t\t\t&lt;id&gt;xxxxx&lt;/id&gt;\r\n          \t\t\t&lt;password&gt;xxxxxx&lt;/password&gt;\r\n        \t\t&lt;/server&gt;\r\n      \t&lt;/servers&gt;\r\n    \t&lt;proxies&gt;\r\n    \t\t&lt;proxy&gt;\r\n    \t\t&lt;id&gt;xxxx&lt;/id&gt;\r\n    \t\t&lt;active&gt;true&lt;/active&gt;\r\n    \t\t&lt;protocol&gt;http&lt;/protocol&gt;\r\n    \t\t&lt;host&gt;xxxxx&lt;/host&gt;\r\n    \t\t&lt;port&gt;8080&lt;/port&gt;\r\n    \t\t&lt;nonProxyHosts&gt;10.36.|.xxxxx&lt;/nonProxyHosts&gt;\r\n    \t\t&lt;/proxy&gt;\r\n    \t&lt;/proxies&gt;\r\n    \t&lt;mirrors&gt;\r\n    \t\t&lt;mirror&gt;\r\n    \t\t\t&lt;id&gt;xxx&lt;/id&gt;\r\n    \t\t\t&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\r\n    \t\t\t&lt;name&gt;xxxx&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;xxxxxxx&lt;/url&gt;\r\n    \t\t&lt;/mirror&gt;\r\n    \t\t&lt;mirror&gt;\r\n    \t\t\t&lt;id&gt;xxx&lt;/id&gt;\r\n    \t\t\t&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\r\n    \t\t\t&lt;name&gt;xxxxx&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;xxxxxx&lt;/url&gt;\r\n    \t\t&lt;/mirror&gt;\r\n    \t&lt;/mirrors&gt;\r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;artifactory&lt;/id&gt;\t\r\n    \t\t\t&lt;repositories&gt;\r\n    \t\t\t\t&lt;repository&gt;\r\n    \t\t\t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;libs-release&lt;/name&gt;\r\n    \t\t\t\t\t&lt;url&gt;xxxxxx&lt;/url&gt;\r\n    \t\t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t\t&lt;/repository&gt;\r\n    \t\t\t\t&lt;repository&gt;\r\n    \t\t\t\t\t&lt;id&gt;snapshots&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;libs-snapshot&lt;/name&gt;\r\n    \t\t\t\t\t&lt;url&gt;xxxxxx&lt;/url&gt;\r\n    \t\t\t\t\t&lt;snapshots/&gt;\r\n    \t\t\t\t&lt;/repository&gt;\r\n    \t\t\t&lt;/repositories&gt;\r\n    \t\t\t&lt;pluginRepositories&gt;\r\n    \t\t\t\t&lt;pluginRepository&gt;\r\n    \t\t\t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;plugins-release&lt;/name&gt;\r\n    \t\t\t\t\t&lt;url&gt;xxxxxx&lt;/url&gt;\r\n    \t\t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t\t&lt;/pluginRepository&gt;\r\n    \t\t\t\t&lt;pluginRepository&gt;\r\n    \t\t\t\t\t&lt;id&gt;snapshots&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;plugins-snapshot&lt;/name&gt;\r\n    \t\t\t\t\t&lt;url&gt;xxxxxx&lt;/url&gt;\r\n    \t\t\t\t\t&lt;snapshots /&gt; \t\t\r\n    \t\t\t\t&lt;/pluginRepository&gt;\r\n    \t\t\t\t&lt;pluginRepository&gt;\r\n                                            &lt;id&gt;central2&lt;/id&gt;\r\n                                            &lt;url&gt;\r\n    \t\t\t\t\t https://repo1.maven.org/maven2/\r\n    \t\t\t\t\t&lt;/url&gt;\r\n                                            &lt;releases&gt;\r\n                                                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                                            &lt;/releases&gt;\r\n                                            &lt;snapshots&gt;\r\n                                                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                                            &lt;/snapshots&gt;\r\n                                    &lt;/pluginRepository&gt;\r\n    \t\t\t&lt;/pluginRepositories&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;xxxx&lt;/id&gt;\r\n    \t\t\t&lt;repositories&gt;\r\n    \t\t\t\t&lt;repository&gt;\r\n    \t\t\t\t\t&lt;id&gt;xxx&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;xxxx&lt;/name&gt;\r\n    \t\t\t\t\t&lt;url&gt;xxxxxx&lt;/url&gt;\r\n    \t\t\t\t\t&lt;releases&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t\t\t&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n    \t\t\t\t\t&lt;/releases&gt;\r\n    \t\t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t\t\t&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n    \t\t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t\t&lt;/repository&gt;\r\n    \r\n    \t\t\t\t&lt;repository&gt;\r\n                                            &lt;id&gt;central2&lt;/id&gt;\r\n                                            &lt;url&gt;\r\n    \t\t\t\t\t\thttps://repo1.maven.org/maven2/\r\n    \t\t\t\t\t&lt;/url&gt;\r\n                                            &lt;releases&gt;\r\n                                                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                                            &lt;/releases&gt;\r\n                                            &lt;snapshots&gt;\r\n                                                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                                            &lt;/snapshots&gt;\r\n                                    &lt;/repository&gt;\r\n    \t\t\t\t&lt;repository&gt;\r\n    \t\t\t\t\t&lt;id&gt;xxxx&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;xxxxx&lt;/name&gt;\r\n    \t\t\t\t\t&lt;url&gt;xxxxxxxx&lt;/url&gt;\r\n    \t\t\t\t\t&lt;releases&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t\t\t&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n    \t\t\t\t\t&lt;/releases&gt;\r\n    \t\t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t\t\t&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n    \t\t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t\t&lt;/repository&gt;\r\n    \t\t\t&lt;/repositories&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \t&lt;activeProfiles&gt;\r\n    \t\t&lt;activeProfile&gt;artifactory&lt;/activeProfile&gt;\r\n    \t\t&lt;activeProfile&gt;xxxx&lt;/activeProfile&gt;\r\n    \t&lt;/activeProfiles&gt;\r\n    &lt;/settings&gt;\r\n\r\n\r\n\r\nIntellij\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4B6Np.png\r\n  [2]: https://i.stack.imgur.com/hsos7.png","title":"Why maven create folders on my project root?","body":"<p>im facing this problem and I dont know what to do. We import a project from git to Intellij, and when we execute mvn clean install, maven start creating all dependencies folders on our project root. This only happpends on one of our PCs, and we have no idea why:</p>\n<p><a href=\"https://i.stack.imgur.com/4B6Np.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4B6Np.png\" alt=\"enter image description here\" /></a></p>\n<p>Any idea about how to solve this?\nThanks!\nUpdate with settings.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd&quot; xmlns=&quot;http://maven.apache.org/SETTINGS/1.1.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;localRepository /&gt;\n        &lt;interactiveMode /&gt;\n        &lt;usePluginRegistry /&gt;\n        &lt;offline /&gt;\n    &lt;pluginGroups /&gt;\n    &lt;servers&gt;\n            &lt;server&gt;\n                &lt;username&gt;xxxxxx&lt;/username&gt;\n                &lt;id&gt;xxxxx&lt;/id&gt;\n                &lt;password&gt;xxxxxx&lt;/password&gt;\n            &lt;/server&gt;\n    &lt;/servers&gt;\n    &lt;proxies&gt;\n        &lt;proxy&gt;\n        &lt;id&gt;xxxx&lt;/id&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;protocol&gt;http&lt;/protocol&gt;\n        &lt;host&gt;xxxxx&lt;/host&gt;\n        &lt;port&gt;8080&lt;/port&gt;\n        &lt;nonProxyHosts&gt;10.36.|.xxxxx&lt;/nonProxyHosts&gt;\n        &lt;/proxy&gt;\n    &lt;/proxies&gt;\n    &lt;mirrors&gt;\n        &lt;mirror&gt;\n            &lt;id&gt;xxx&lt;/id&gt;\n            &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n            &lt;name&gt;xxxx&lt;/name&gt;\n            &lt;url&gt;xxxxxxx&lt;/url&gt;\n        &lt;/mirror&gt;\n        &lt;mirror&gt;\n            &lt;id&gt;xxx&lt;/id&gt;\n            &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n            &lt;name&gt;xxxxx&lt;/name&gt;\n            &lt;url&gt;xxxxxx&lt;/url&gt;\n        &lt;/mirror&gt;\n    &lt;/mirrors&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;artifactory&lt;/id&gt;    \n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;name&gt;libs-release&lt;/name&gt;\n                    &lt;url&gt;xxxxxx&lt;/url&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;snapshots&lt;/id&gt;\n                    &lt;name&gt;libs-snapshot&lt;/name&gt;\n                    &lt;url&gt;xxxxxx&lt;/url&gt;\n                    &lt;snapshots/&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n            &lt;pluginRepositories&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;name&gt;plugins-release&lt;/name&gt;\n                    &lt;url&gt;xxxxxx&lt;/url&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/pluginRepository&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;snapshots&lt;/id&gt;\n                    &lt;name&gt;plugins-snapshot&lt;/name&gt;\n                    &lt;url&gt;xxxxxx&lt;/url&gt;\n                    &lt;snapshots /&gt;       \n                &lt;/pluginRepository&gt;\n                &lt;pluginRepository&gt;\n                                        &lt;id&gt;central2&lt;/id&gt;\n                                        &lt;url&gt;\n                     https://repo1.maven.org/maven2/\n                    &lt;/url&gt;\n                                        &lt;releases&gt;\n                                                &lt;enabled&gt;true&lt;/enabled&gt;\n                                        &lt;/releases&gt;\n                                        &lt;snapshots&gt;\n                                                &lt;enabled&gt;true&lt;/enabled&gt;\n                                        &lt;/snapshots&gt;\n                                &lt;/pluginRepository&gt;\n            &lt;/pluginRepositories&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;xxxx&lt;/id&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;xxx&lt;/id&gt;\n                    &lt;name&gt;xxxx&lt;/name&gt;\n                    &lt;url&gt;xxxxxx&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n\n                &lt;repository&gt;\n                                        &lt;id&gt;central2&lt;/id&gt;\n                                        &lt;url&gt;\n                        https://repo1.maven.org/maven2/\n                    &lt;/url&gt;\n                                        &lt;releases&gt;\n                                                &lt;enabled&gt;true&lt;/enabled&gt;\n                                        &lt;/releases&gt;\n                                        &lt;snapshots&gt;\n                                                &lt;enabled&gt;true&lt;/enabled&gt;\n                                        &lt;/snapshots&gt;\n                                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;xxxx&lt;/id&gt;\n                    &lt;name&gt;xxxxx&lt;/name&gt;\n                    &lt;url&gt;xxxxxxxx&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n    &lt;activeProfiles&gt;\n        &lt;activeProfile&gt;artifactory&lt;/activeProfile&gt;\n        &lt;activeProfile&gt;xxxx&lt;/activeProfile&gt;\n    &lt;/activeProfiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>Intellij</p>\n<p><a href=\"https://i.stack.imgur.com/hsos7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hsos7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","proxy"],"answers":[{"tags":[],"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634034915,"creation_date":1634034915,"answer_id":69539049,"question_id":69538829,"body_markdown":"This looks like connectivity issue.You can use ping and also check by using telnet or putty. Below is how a telnet connection looks like in putty from my machine which basically means the port 587 is accessible for smtp.gmail.com\r\n\r\n\r\n    ping smtp.gmail.com\r\n    \r\n    Pinging smtp.gmail.com [74.125.24.108] with 32 bytes of data:\r\n    Reply from 74.125.24.108: bytes=32 time=75ms TTL=109\r\n    Reply from 74.125.24.108: bytes=32 time=74ms TTL=109\r\n    Reply from 74.125.24.108: bytes=32 time=75ms TTL=109\r\n    Reply from 74.125.24.108: bytes=32 time=74ms TTL=109\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uwgd9.png\r\n  [2]: https://i.stack.imgur.com/CLo00.png\r\n","title":"How to use JavaEmailSender in Spring Boot behind a proxy","body":"<p>This looks like connectivity issue.You can use ping and also check by using telnet or putty. Below is how a telnet connection looks like in putty from my machine which basically means the port 587 is accessible for smtp.gmail.com</p>\n<pre><code>ping smtp.gmail.com\n\nPinging smtp.gmail.com [74.125.24.108] with 32 bytes of data:\nReply from 74.125.24.108: bytes=32 time=75ms TTL=109\nReply from 74.125.24.108: bytes=32 time=74ms TTL=109\nReply from 74.125.24.108: bytes=32 time=75ms TTL=109\nReply from 74.125.24.108: bytes=32 time=74ms TTL=109\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Uwgd9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uwgd9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CLo00.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CLo00.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634034941,"creation_date":1634034941,"answer_id":69539054,"question_id":69538829,"body_markdown":"Try setting the Proxy on your `main` method through the following lines:\r\n\r\n```java\r\nSystem.setProperty(&quot;http.proxyHost&quot;, &quot;host&quot;);\r\nSystem.setProperty(&quot;http.proxyPort&quot;, &quot;8080&quot;);\r\nSystem.setProperty(&quot;http.nonProxyHosts&quot;, &quot;localhost|127.0.0.1|10.*.*.*&quot;);\r\nSystem.setProperty(&quot;https.proxyHost&quot;, &quot;host&quot;);\r\nSystem.setProperty(&quot;https.proxyPort&quot;, &quot;8080&quot;);\r\nSystem.setProperty(&quot;https.nonProxyHosts&quot;, &quot;localhost|127.0.0.1|10.*.*.*&quot;);\r\nSystem.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n```\r\n\r\nI have had the same problem and this set the proxy for every library which was stubborn.","title":"How to use JavaEmailSender in Spring Boot behind a proxy","body":"<p>Try setting the Proxy on your <code>main</code> method through the following lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;http.proxyHost&quot;, &quot;host&quot;);\nSystem.setProperty(&quot;http.proxyPort&quot;, &quot;8080&quot;);\nSystem.setProperty(&quot;http.nonProxyHosts&quot;, &quot;localhost|127.0.0.1|10.*.*.*&quot;);\nSystem.setProperty(&quot;https.proxyHost&quot;, &quot;host&quot;);\nSystem.setProperty(&quot;https.proxyPort&quot;, &quot;8080&quot;);\nSystem.setProperty(&quot;https.nonProxyHosts&quot;, &quot;localhost|127.0.0.1|10.*.*.*&quot;);\nSystem.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n</code></pre>\n<p>I have had the same problem and this set the proxy for every library which was stubborn.</p>\n"}],"owner":{"account_id":7518727,"reputation":3340,"user_id":5711367,"accept_rate":54,"display_name":"Bilal Dekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646148997,"creation_date":1634033996,"question_id":69538829,"body_markdown":"I&#39;ve setup email sending in Spring Boot using JavaEmailSender, i&#39;m trying to use it behind a proxy i&#39;ve tried to add below proxy configuration to application.properties file but i&#39;m getting `Connection timed out error` \r\n\r\n\r\n**Error :** \r\n\r\n    \t\r\n\r\n    java.net.ConnectException: Connection timed out: connect. Failed messages: com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: smtp.gmail.com, 587; timeout -1;\r\n      nested exception is:\r\n    \tjava.net.ConnectException: Connection timed out: connect; message exceptions (1) are:\r\n    Failed message 1: com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: smtp.gmail.com, 587; timeout -1;\r\n\r\n**Email Configuration :** \r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=myemail@gmail.com\r\n    spring.mail.password=qypaaboydxppgpck\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n\r\n**Proxy Configuration :**\r\n\r\n    mail.smtp.proxy.host=http://proxy\r\n    mail.smtp.proxy.port=8080\r\n    mail.smtp.proxy.user=username\r\n    mail.smtp.proxy.password=*******\r\n\r\n**JavaEmailSender:**\r\n\r\n\r\n        @Autowired\r\n        private JavaMailSender emailSender;\r\n    \r\n        @Autowired\r\n        SpringTemplateEngine templateEngine;\r\n    \r\n    \r\n        public void sendSimpleMessage(String to, String subject, List&lt;SiteMailDTO&gt; listSiteMailDTO) throws MessagingException {\r\n    \r\n    \r\n            Properties props = emailSender.;\r\n    \r\n            MimeMessage message = emailSender.createMimeMessage();\r\n            MimeMessageHelper helper = new MimeMessageHelper(message, MimeMessageHelper.MULTIPART_MODE_MIXED_RELATED, StandardCharsets.UTF_8.name());\r\n    \r\n            Map&lt;String, Object&gt; model = new HashMap&lt;String, Object&gt;();\r\n            model.put(&quot;sites&quot;, listSiteMailDTO);\r\n    \r\n            Context context = new Context();\r\n            context.setVariables(model);\r\n            String html = templateEngine.process(&quot;email-template&quot;, context);\r\n    \r\n            try {\r\n                helper.setTo(to);\r\n                helper.setText(html, true);\r\n                helper.setSubject(subject);\r\n            } catch (javax.mail.MessagingException e) {\r\n                e.printStackTrace();\r\n            }\r\n            emailSender.send(message);\r\n    \r\n        }","title":"How to use JavaEmailSender in Spring Boot behind a proxy","body":"<p>I've setup email sending in Spring Boot using JavaEmailSender, i'm trying to use it behind a proxy i've tried to add below proxy configuration to application.properties file but i'm getting <code>Connection timed out error</code></p>\n<p><strong>Error :</strong></p>\n<pre><code>java.net.ConnectException: Connection timed out: connect. Failed messages: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1;\n  nested exception is:\n    java.net.ConnectException: Connection timed out: connect; message exceptions (1) are:\nFailed message 1: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1;\n</code></pre>\n<p><strong>Email Configuration :</strong></p>\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=myemail@gmail.com\nspring.mail.password=qypaaboydxppgpck\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n</code></pre>\n<p><strong>Proxy Configuration :</strong></p>\n<pre><code>mail.smtp.proxy.host=http://proxy\nmail.smtp.proxy.port=8080\nmail.smtp.proxy.user=username\nmail.smtp.proxy.password=*******\n</code></pre>\n<p><strong>JavaEmailSender:</strong></p>\n<pre><code>    @Autowired\n    private JavaMailSender emailSender;\n\n    @Autowired\n    SpringTemplateEngine templateEngine;\n\n\n    public void sendSimpleMessage(String to, String subject, List&lt;SiteMailDTO&gt; listSiteMailDTO) throws MessagingException {\n\n\n        Properties props = emailSender.;\n\n        MimeMessage message = emailSender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(message, MimeMessageHelper.MULTIPART_MODE_MIXED_RELATED, StandardCharsets.UTF_8.name());\n\n        Map&lt;String, Object&gt; model = new HashMap&lt;String, Object&gt;();\n        model.put(&quot;sites&quot;, listSiteMailDTO);\n\n        Context context = new Context();\n        context.setVariables(model);\n        String html = templateEngine.process(&quot;email-template&quot;, context);\n\n        try {\n            helper.setTo(to);\n            helper.setText(html, true);\n            helper.setSubject(subject);\n        } catch (javax.mail.MessagingException e) {\n            e.printStackTrace();\n        }\n        emailSender.send(message);\n\n    }\n</code></pre>\n"},{"tags":["java","swing","jtable","radio-group","jradiobutton"],"answers":[{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499872686,"creation_date":1499869792,"answer_id":45060554,"question_id":45057735,"body_markdown":"The code is *trying to* set renderer and editor before setting the model. So there are no columns to set a renderer/editor on. The model must be set first, only then the columns will be created - just creating the model does not link it to the table, the table does not know beforehand how many columns it will have.\r\n\r\nProbably you want something like\r\n\r\n    StudentTableModel model = new StudentTableModel(studentList);\r\n    table.setModel(model);    // moved from below\r\n\r\n    // JScrollPane scrollPane = new JScrollPane(table);\r\n    ...\r\n\r\nThe example you are following is doing so, actually it creates the table with the model as argument...\r\n\r\nHint: why `new MainClass()`  in `new MainClass().new RadioButtonRenderer(...` and others? You really want a new MainClass? Declare these classes as `static` and remove the `new MainClass()`","title":"Not showing radio button group inside column in jtable","body":"<p>The code is <em>trying to</em> set renderer and editor before setting the model. So there are no columns to set a renderer/editor on. The model must be set first, only then the columns will be created - just creating the model does not link it to the table, the table does not know beforehand how many columns it will have.</p>\n\n<p>Probably you want something like</p>\n\n<pre><code>StudentTableModel model = new StudentTableModel(studentList);\ntable.setModel(model);    // moved from below\n\n// JScrollPane scrollPane = new JScrollPane(table);\n...\n</code></pre>\n\n<p>The example you are following is doing so, actually it creates the table with the model as argument...</p>\n\n<p>Hint: why <code>new MainClass()</code>  in <code>new MainClass().new RadioButtonRenderer(...</code> and others? You really want a new MainClass? Declare these classes as <code>static</code> and remove the <code>new MainClass()</code></p>\n"}],"owner":{"account_id":386745,"reputation":7831,"user_id":744680,"accept_rate":51,"display_name":"Nibha Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45060554,"answer_count":1,"score":0,"last_activity_date":1646148782,"creation_date":1499862573,"question_id":45057735,"body_markdown":"I am trying to add radio button group similar to http://www.java2s.com/Code/Java/Swing-Components/RadioButtonTableExample2.htm\r\n\r\nIn my form, I followed the the above tutorial but I am using `AbstractTableModel` instead of `DefaultTableModel`.\r\n\r\nHere is my code, it does not show anything on column no errors:\r\n\r\n    StudentTableModel model = new StudentTableModel(studentList);\r\n\r\n\t\t// JScrollPane scrollPane = new JScrollPane(table);\r\n\t\tfinal JScrollPane scrollPane = new JScrollPane(\r\n\t\t\t\ttable,\r\n\t\t\t\tJScrollPane.VERTICAL_SCROLLBAR_NEVER,\r\n\t\t\t\tJScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n\t\tDimension d = table.getPreferredSize();\r\n\t\tscrollPane.setPreferredSize(\r\n\t\t\t\tnew Dimension(d.width,table.getRowHeight()*rows));\r\n\r\n        // code for radio buttons\r\n\t\tString[] answer = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; };\r\n\t\tTableColumnModel columnModel = table.getColumnModel();\r\n\r\n\t\tfor (int tc = 7; tc &lt; table.getColumnCount(); tc++)\r\n\t\t{\r\n\t\tcolumnModel.getColumn(tc).setCellRenderer(\r\n\t\t\t\tnew MainClass().new RadioButtonRenderer(answer));\r\n\t\tcolumnModel.getColumn(tc).setCellEditor(\r\n\t\t\t\tnew MainClass().new RadioButtonEditor(new JCheckBox(),  new MainClass().new RadioButtonPanel(\r\n\t\t\t\t\t\tanswer)));\r\n\t\t}\r\n\t\ttable.setModel(model);\r\n\r\n\t\tframe.getContentPane().add(scrollPane, BorderLayout.CENTER);\r\n\t\tframe.getContentPane().add(navigation, BorderLayout.SOUTH);\r\n\t\tframe.pack();\r\n\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setVisible(true);\r\n\r\nThanks in advance","title":"Not showing radio button group inside column in jtable","body":"<p>I am trying to add radio button group similar to <a href=\"http://www.java2s.com/Code/Java/Swing-Components/RadioButtonTableExample2.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Java/Swing-Components/RadioButtonTableExample2.htm</a></p>\n<p>In my form, I followed the the above tutorial but I am using <code>AbstractTableModel</code> instead of <code>DefaultTableModel</code>.</p>\n<p>Here is my code, it does not show anything on column no errors:</p>\n<pre><code>StudentTableModel model = new StudentTableModel(studentList);\n\n    // JScrollPane scrollPane = new JScrollPane(table);\n    final JScrollPane scrollPane = new JScrollPane(\n            table,\n            JScrollPane.VERTICAL_SCROLLBAR_NEVER,\n            JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n    Dimension d = table.getPreferredSize();\n    scrollPane.setPreferredSize(\n            new Dimension(d.width,table.getRowHeight()*rows));\n\n    // code for radio buttons\n    String[] answer = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; };\n    TableColumnModel columnModel = table.getColumnModel();\n\n    for (int tc = 7; tc &lt; table.getColumnCount(); tc++)\n    {\n    columnModel.getColumn(tc).setCellRenderer(\n            new MainClass().new RadioButtonRenderer(answer));\n    columnModel.getColumn(tc).setCellEditor(\n            new MainClass().new RadioButtonEditor(new JCheckBox(),  new MainClass().new RadioButtonPanel(\n                    answer)));\n    }\n    table.setModel(model);\n\n    frame.getContentPane().add(scrollPane, BorderLayout.CENTER);\n    frame.getContentPane().add(navigation, BorderLayout.SOUTH);\n    frame.pack();\n\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setVisible(true);\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":1,"creation_date":1646148691,"post_id":71310868,"comment_id":126049049,"body_markdown":"`if (maxDiff &gt; difference)` is the wrong way around: you only remember the new difference if it&#39;s *smaller* than the current one.","body":"<code>if (maxDiff &gt; difference)</code> is the wrong way around: you only remember the new difference if it&#39;s <i>smaller</i> than the current one."},{"owner":{"account_id":24418590,"reputation":1,"user_id":18345166,"display_name":"Test01"},"score":0,"creation_date":1646148931,"post_id":71310868,"comment_id":126049152,"body_markdown":"Alright, that fixed the 0 issue, but now it&#39;s outputting 68. Lol. I think this is a step in the right direction, though, so thank you!","body":"Alright, that fixed the 0 issue, but now it&#39;s outputting 68. Lol. I think this is a step in the right direction, though, so thank you!"},{"owner":{"account_id":874092,"reputation":772,"user_id":924272,"display_name":"KRK Owner"},"score":0,"creation_date":1646158384,"post_id":71310868,"comment_id":126052748,"body_markdown":"There&#39;s no input data to understand what&#39;s going on.  That said, I believe this to be a bug too:\nif (maxDiff &gt; difference) { maxDiff = difference; }\nshould be:\nif (difference &gt; maxDiff ) &lt; { maxDiff = difference; }\n\nLet me know","body":"There&#39;s no input data to understand what&#39;s going on.  That said, I believe this to be a bug too: if (maxDiff &gt; difference) { maxDiff = difference; } should be: if (difference &gt; maxDiff ) &lt; { maxDiff = difference; }  Let me know"},{"owner":{"account_id":24418590,"reputation":1,"user_id":18345166,"display_name":"Test01"},"score":0,"creation_date":1646166817,"post_id":71310868,"comment_id":126055373,"body_markdown":"I actually got it all figured it out. Thank you all for helping me with this!","body":"I actually got it all figured it out. Thank you all for helping me with this!"}],"answers":[{"tags":[],"owner":{"account_id":6586288,"reputation":91,"user_id":5088963,"display_name":"Sathiya prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646148729,"creation_date":1646148729,"answer_id":71310913,"question_id":71310868,"body_markdown":"You have to assign next = last.\r\nBecause the value of next(0) is always getting assigned to last so only you are getting zero always","title":"Why does this code output zero and not the biggest difference (which is 7 since it is the biggest difference between subsequent values, not all them)?","body":"<p>You have to assign next = last.\nBecause the value of next(0) is always getting assigned to last so only you are getting zero always</p>\n"}],"owner":{"account_id":24418590,"reputation":1,"user_id":18345166,"display_name":"Test01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646148729,"creation_date":1646148525,"question_id":71310868,"body_markdown":"    import java.util.Scanner;\r\n    import java.lang.Math;\r\n\r\n    public class LabProgram {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n\r\n          int counter = scnr.nextInt();\r\n          int maxDiff = 0;\r\n          int next = 0;\r\n      \r\n          for (int i = 0; i &lt; counter; i++) {\r\n              int last = scnr.nextInt();\r\n         \r\n             if (i == 0) {\r\n                continue;\r\n             }\r\n         \r\n             int difference = Math.abs(last - next);\r\n         \r\n             if (maxDiff &gt; difference) {\r\n                maxDiff = difference;\r\n             }\r\n         \r\n             last = next;\r\n          }\r\n      \r\n          System.out.println(maxDiff);\r\n      \r\n       }\r\n    }\r\n\r\nThis is my code, and it ouputs 0 when it should be outputting 7. Any help here would be much appreciated (I have to use a continue  and a for statement, and I am not allowed to use any while statements as necessities). ","title":"Why does this code output zero and not the biggest difference (which is 7 since it is the biggest difference between subsequent values, not all them)?","body":"<pre><code>import java.util.Scanner;\nimport java.lang.Math;\n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n\n      int counter = scnr.nextInt();\n      int maxDiff = 0;\n      int next = 0;\n  \n      for (int i = 0; i &lt; counter; i++) {\n          int last = scnr.nextInt();\n     \n         if (i == 0) {\n            continue;\n         }\n     \n         int difference = Math.abs(last - next);\n     \n         if (maxDiff &gt; difference) {\n            maxDiff = difference;\n         }\n     \n         last = next;\n      }\n  \n      System.out.println(maxDiff);\n  \n   }\n}\n</code></pre>\n<p>This is my code, and it ouputs 0 when it should be outputting 7. Any help here would be much appreciated (I have to use a continue  and a for statement, and I am not allowed to use any while statements as necessities).</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1646148770,"post_id":71310875,"comment_id":126049079,"body_markdown":"Tests turning grey can mean a lot of things.  &quot;Tests not going through&quot; is even less of a description of a problem that can be fixed.  Please try to find an error message that says something is wrong, because your comments amount to &quot;it&#39;s broken&quot; and while we agree it doesn&#39;t work, that doesn&#39;t give us enough information to know how it is broken, which means we can&#39;t recommend how to fix it, as there are thousands of things that could be fixed, but you are probably only running into one thing that needs to be fixed.","body":"Tests turning grey can mean a lot of things.  &quot;Tests not going through&quot; is even less of a description of a problem that can be fixed.  Please try to find an error message that says something is wrong, because your comments amount to &quot;it&#39;s broken&quot; and while we agree it doesn&#39;t work, that doesn&#39;t give us enough information to know how it is broken, which means we can&#39;t recommend how to fix it, as there are thousands of things that could be fixed, but you are probably only running into one thing that needs to be fixed."},{"owner":{"account_id":24229775,"reputation":15,"user_id":18183706,"display_name":"hello123"},"score":0,"creation_date":1646148968,"post_id":71310875,"comment_id":126049164,"body_markdown":"@EdwinBuck I understand that, however The problem is I don&#180;t know what the problem is and I dont get any error to help me find the problem","body":"@EdwinBuck I understand that, however The problem is I don&#180;t know what the problem is and I dont get any error to help me find the problem"},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1646149161,"post_id":71310875,"comment_id":126049266,"body_markdown":"Well, until you can describe the problem with more detail, as much as we would like to, we cannot help you in a meaningful way.  I would start off with some general tutorials on &quot;running JUnit tests in IntelliJ IDEA&quot;  Pay close attention to the version of JUnit you are using (there&#39;s the JUnit 4, JUnit 5, and Jupiter) and the version of IntelliJ IDEA.  See if you can find a beginner&#39;s guide that matches the version of JUnit and IntelliJ you are using.  While doing that, if you can find a log file or other output that contains an error, add that to this question.","body":"Well, until you can describe the problem with more detail, as much as we would like to, we cannot help you in a meaningful way.  I would start off with some general tutorials on &quot;running JUnit tests in IntelliJ IDEA&quot;  Pay close attention to the version of JUnit you are using (there&#39;s the JUnit 4, JUnit 5, and Jupiter) and the version of IntelliJ IDEA.  See if you can find a beginner&#39;s guide that matches the version of JUnit and IntelliJ you are using.  While doing that, if you can find a log file or other output that contains an error, add that to this question."},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1646149250,"post_id":71310875,"comment_id":126049303,"body_markdown":"This is more likely to be a project set up than a test issue. Your Junit 4 tests look like they should execute.","body":"This is more likely to be a project set up than a test issue. Your Junit 4 tests look like they should execute."},{"owner":{"account_id":24229775,"reputation":15,"user_id":18183706,"display_name":"hello123"},"score":0,"creation_date":1646149532,"post_id":71310875,"comment_id":126049446,"body_markdown":"@AshleyFrieze with the project set up do you mean the setup method in IntSorterTest or?","body":"@AshleyFrieze with the project set up do you mean the setup method in IntSorterTest or?"},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1646305775,"post_id":71310875,"comment_id":126092703,"body_markdown":"It looks to me like this is an issue of how you&#39;ve set up your IntelliJ project. Do ANY tests run? If not, then I suggest you create a fresh project and get some sort of unit test to work in there. Then import this code.","body":"It looks to me like this is an issue of how you&#39;ve set up your IntelliJ project. Do ANY tests run? If not, then I suggest you create a fresh project and get some sort of unit test to work in there. Then import this code."}],"owner":{"account_id":24229775,"reputation":15,"user_id":18183706,"display_name":"hello123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646148555,"creation_date":1646148555,"question_id":71310875,"body_markdown":"I am new to Intellij IDEA and junit testing. Right now I am writting a quicksort code and writting tests for the classes. When I try to run the test they turn grey and does not go through. How should I fix this?\r\n\r\nDown under I have included Test classes and the classes for Quicksort. \r\n\r\n// TODO: Help me Understand how to fix the testclasses so the test goes through.\r\n\r\nPlease be kind, I am new to JUNIT testing.\r\n\r\nHere is my codes:\r\n\r\n```\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\nimport static junit.framework.TestCase.assertEquals;\r\nimport static org.hamcrest.CoreMatchers.equalTo;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.junit.Assert.assertArrayEquals;\r\n\r\npublic class QuicksortFixedPivotTest extends IntSorterTest{\r\n    /**\r\n     * Returns an implementation of the IntSorter interface. Extending classes\r\n     * must override this method.\r\n     *\r\n     * @return An implementation of IntSorter.\r\n     */\r\n    /* An instance of the quicksortFixedPivot */\r\n    private QuicksortFixedPivot quicksortFixedPivot;\r\n\r\n    private InsertionSort quickSort;\r\n\r\n\r\n    /* An array of even length */\r\n    private int[] evenArray;\r\n    /* An array of odd length */\r\n    private int[] oddArray;\r\n    private Random random;\r\n\r\n\r\n    @Before\r\n    public void setUp() throws IOException {\r\n       quicksortFixedPivot = new QuicksortFixedPivot();\r\n\r\n        evenArray = new int[]{1,5,3,8};\r\n        oddArray = new int[]{1,5,2,4,3};\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns an implementation of the IntSorter interface. Extending classes\r\n     * must override this method.\r\n     *\r\n     * @return An implementation of IntSorter.\r\n     */\r\n    @Override\r\n    protected IntSorter getIntSorter() {\r\n        return new IntSorter() {\r\n            @Override\r\n            public void sort(int[] v) {\r\n                Arrays.sort(v);\r\n            }\r\n        };\r\n    }\r\n\r\n    //TESTs for arrays of even and odd length\r\n  @Test\r\n   public void QuickSortFindsAllElementsInEvenArray() {\r\n       // Arrange\r\n       Arrays.sort(evenArray);\r\n      String result = new String();\r\n       for (int i = 0; i &gt; evenArray.length; i++) {\r\n           result = result + &quot; &quot; + evenArray[i];\r\n           // Act, Assert\r\n           assertEquals(&quot;1 3 5 8&quot;, result);\r\n           assertThat(evenArray.length,equalTo(i));\r\n       }\r\n   }\r\n\r\n\r\n\r\n    /**\r\n     * Test of generateBigArray method.\r\n     */\r\n    @Test\r\n    public void testGenerateBigArray() throws IOException {\r\n        int n = 1000;\r\n        InsertionSort i = new InsertionSort();\r\n        int[] expResult = i.generateBigArray(n);\r\n        int[] result = expResult;\r\n        assertArrayEquals(expResult, result);\r\n    }\r\n\r\n\r\n    /**\r\n     * Assert that binarySearch returns the correct index\r\n     * for all elements in an odd length array with multiple elements.\r\n     */\r\n    @Test\r\n    public void QuickSortFindsAllElementsInOddArray() {\r\n        //arrange\r\n        Arrays.sort(oddArray);\r\n        String result = new String();\r\n\r\n        for (int i = 0; i &gt; oddArray.length; i++) {\r\n            result = result + &quot; &quot; + oddArray[i];\r\n            // Act, Assert\r\n            assertEquals(&quot; 1 2 3 4 5&quot;, result);\r\n            assertThat(oddArray.length, equalTo(i));\r\n\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     */\r\n    @Test\r\n    public void test1() {\r\n        int[] list = {};\r\n        String result = new String();\r\n        quicksortFixedPivot.sort(list);\r\n        for (int i = 0; i &lt; list.length; i++)\r\n            result = result + &quot; &quot; + list[i];\r\n        assertEquals(&quot;&quot;, result);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\nimport org.jetbrains.annotations.NotNull;\r\nimport org.junit.Test;\r\nimport org.junit.Before;\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.Random;\r\n\r\nimport static org.hamcrest.CoreMatchers.equalTo;\r\nimport static org.junit.Assert.*;\r\n\r\n import static org.hamcrest.MatcherAssert.assertThat;\r\n\r\n/**\r\n  * Abstract test class for  implementations.\r\n  *\r\n  * Implementing test classes must override the getIntSorter method.\r\n  */\r\n public abstract class IntSorterTest {\r\n     private Data data;\r\n     private InsertionSort sorter;\r\n\r\n     int [] emptyArray = new int[] {}; // An empty array\r\n\r\n    /* An array of even length */\r\n    private int[] evenArray;\r\n    /* An array of odd length */\r\n    private int[] oddArray;\r\n\r\n    private Random random;\r\n    /**\r\n     /**\r\n      * Returns an implementation of the IntSorter interface. Extending classes\r\n      * must override this method.\r\n      *\r\n      * @return An implementation of IntSorter.\r\n      */\r\n     protected abstract IntSorter getIntSorter();\r\n\r\n    @Before\r\n     public void setUp() throws IOException {\r\n        sorter = new InsertionSort();\r\n        evenArray = new int[]{1,5,3,8};\r\n        oddArray = new int[]{1,5,2,4,3};\r\n     }\r\n\r\n    /**\r\n     * Assert that the size of an empty Array is exactly 0.\r\n     */\r\n    @Test\r\n    public void sizeIsZeroWhenArrayIsEmpty() {\r\n        int size = emptyArray.length;\r\n        assertThat(size,equalTo(0));\r\n        assertTrue(emptyArray.length == 0);\r\n    }\r\n    /**\r\n     * Assert that sorting an empty array has no effects.\r\n     */\r\n    @Test\r\n    public void sortHasNoEffectWhenArrayIsEmpty() {\r\n        // Arrange\r\n        int [] emptyArray = new int[] {};\r\n        // Act\r\n        Arrays.sort(emptyArray);\r\n        // Assert\r\n        assertThat(emptyArray.length, equalTo(0));\r\n    }\r\n\r\n\r\n    /**\r\n     * Assert that sorting an array with a single element has no effects.\r\n     */\r\n    @Test\r\n    public void sortHasNoEffectWhenArrayHasSingleElement() {\r\n        //Arrange\r\n        int[] array = new int[1];\r\n        //act\r\n        Arrays.sort(array);\r\n        //assert\r\n        assertThat(array.length,equalTo(1));\r\n    }\r\n\r\n    /**\r\n     * Assert that arrayA is the reverse of arrayB.\r\n     */\r\n    @Test\r\n    public void assertReversed() {\r\n        int [] arrayA = {1, 3, 4};\r\n        int [] arrayB = {4, 3, 1};\r\n        Integer len = arrayA.length;\r\n        for (Integer i = 0; i &lt; len; i++) {\r\n            assertThat(arrayB[len-i-1], equalTo(arrayA[i]));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Assert that sorting a multiple element array results in a correct\r\n     * ordering of the elements.\r\n     */\r\n    @Test\r\n    public void sortMultipleElementArrayGivesCorrectOrdering() {\r\n        // Arrange\r\n        int[] actual = evenArray;\r\n        int[] expected = actual.clone();\r\n        // Act\r\n        Arrays.sort(expected);\r\n        Arrays.sort(actual);\r\n        // Assert\r\n        assertThat(actual, equalTo(expected));\r\n    }\r\n\r\n    /**\r\n     *   Test case number: 5\r\n     *   Pre-condition: given integer list {1,2,3 }\r\n     *   Test case values: call quickSort to sort it\r\n     *   Expected output (Post-state): &quot;1 2 3&quot;\r\n     */\r\n    @Test\r\n    public void test5() {\r\n        int[] list = { 1, 2, 3 };\r\n        String result = new String();\r\n        sorter.sort(list);\r\n        for (int i = 0; i &lt; list.length; i++)\r\n            result = result + &quot; &quot; + list[i];\r\n        assertEquals(&quot; 1 2 3&quot;, result);\r\n    }\r\n\r\n    /**\r\n     * Test sorting a negative array.\r\n     */\r\n    @Test\r\n    public void NegativeArray() {\r\n        int[] list = { -1, 2, -3 };\r\n        String result = new String();\r\n        sorter.sort(list);\r\n        for (int i = 0; i &lt; list.length; i++)\r\n            result = result + &quot; &quot; + list[i];\r\n        assertEquals(&quot; -3 -1 2&quot;, result);\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Sorting a reverse sorted array.\r\n     */\r\n    @Test\r\n    public void testReverseSorted() {\r\n        int[] array1 = new int[10];\r\n        int[] array2 = new int[10];\r\n\r\n        int[] array3 = new int[10];\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            array1[i] = (100-i);\r\n            array2[i] = (100-i);\r\n            array3[i] = (100-i);\r\n        }\r\n        //sort array3\r\n        Arrays.sort(array3);\r\n        // run QS1()\r\n        sorter.sort(array1);\r\n        assertArrayEquals(array1,array3);\r\n\r\n        // run QS2()\r\n        sorter.sort(array2);\r\n        assertArrayEquals(array2,array3);\r\n    }\r\n\r\n\r\n\r\n\r\n    /**\r\n     * Test that all elements are equal in two different arrays\r\n     * when sorted. Ascending order\r\n     */\r\n    @Test\r\n     public void testSort() {\r\n         int[] array = {0, 5, 6, 8, 7, 1, 11, 100, 2};\r\n         sorter.sort(array);\r\n         int[] expected = {0, 1, 2, 5, 6, 7, 8, 11, 100};\r\n         System.out.println(Arrays.toString(array));\r\n         assertEquals(true, Arrays.equals(expected, array));\r\n     }\r\n\r\n     @Test\r\n     public void testSort2() {\r\n         int[] array = {0, 5, 6, 8, 7, 1, 11, 100, 2};\r\n         sorter.sort(array);\r\n         System.out.println(Arrays.toString(array));\r\n         assertEquals(true, isSorted(array));\r\n     }\r\n\r\n    /**\r\n     * helper method for tests that is in ascending order.\r\n     * @param array\r\n     * @return\r\n     */\r\n     private boolean isSorted(int[] array) {\r\n         boolean sorted = true;\r\n         for(int i = 0; i &lt; array.length-1; i++) {\r\n             sorted = sorted &amp;&amp; array[i] &lt;= array[i+1];\r\n             if(!sorted) {\r\n                 System.out.println(array[i] +&quot; &gt;&quot; +array[i+1]);\r\n                 return false;\r\n             }\r\n         }\r\n         return sorted;\r\n     }\r\n\r\n }\r\n```\r\n\r\n```\r\n/**\r\n * An interface for sorting int arrays.\r\n */\r\npublic interface IntSorter {\r\n    /**\r\n     * Sorts the array in-place into ascending numerical order.\r\n     *\r\n     * @param v An array of ints.\r\n     */\r\n    void sort(int[] v);\r\n}\r\n```\r\n\r\n```\r\nimport java.io.IOException;\r\n\r\npublic class QuicksortFixedPivot implements IntSorter{\r\n    /**\r\n     * Sorts the array in-place into ascending numerical order.\r\n     *\r\n     * @param v An array of ints.\r\n     */\r\n    @Override\r\n    public void sort(int[] v) {\r\n        if (v != null &amp;&amp; v.length &gt; 1)\r\n            qsort(v, 0, v.length - 1);\r\n    }\r\n    public void qsort(int[] v, int start, int end) {\r\n        if(start &lt; end) {\r\n            int[] mid = partition(v, start, end);\r\n            qsort(v, start, mid[0] - 1);\r\n            qsort(v, mid[1] + 1, end);\r\n        }\r\n    }\r\n\r\n    public int[] partition(int[] v, int start, int end) {\r\n        int pivot = v[choosePivot(v, start, end)];\r\n        int low = start, mid = start, high = end;\r\n        while (mid &lt;= high) {\r\n            if (v[mid] &lt; pivot) {\r\n                swap(v, mid, low);\r\n                low++;\r\n                mid++;\r\n            } else if (v[mid] == pivot) {\r\n                mid++;\r\n            } else {\r\n                swap(v, mid, high);\r\n                high--;\r\n            }\r\n        }\r\n        return new int[]{low, high};\r\n    }\r\n\r\n    public int choosePivot(int[] v, int start, int end) {\r\n        return start + (end - start)/2;\r\n    }\r\n\r\n    public void swap(int[] v, int i, int j) {\r\n        if(i == j) return;\r\n        int t = v[i];\r\n        v[i] = v[j];\r\n        v[j] = t;\r\n    }\r\n    public QuicksortFixedPivot() throws IOException {\r\n        Kattio io = new Kattio(System.in, System.out);\r\n        int n = io.getInt(); // number of elements to sort\r\n        int[] v = new int[n];\r\n        int i = 0;\r\n        // read in problem array\r\n        while (io.hasMoreTokens()) {\r\n            v[i++] = io.getInt();\r\n        }\r\n        sort(v);\r\n        // output sorted array as solution\r\n        for (int k : v) {\r\n            io.println(k);\r\n        }\r\n        io.close();\r\n        System.exit(0);\r\n    }\r\n\r\n}\r\n\r\n\r\n```","title":"JUNIT not runnig","body":"<p>I am new to Intellij IDEA and junit testing. Right now I am writting a quicksort code and writting tests for the classes. When I try to run the test they turn grey and does not go through. How should I fix this?</p>\n<p>Down under I have included Test classes and the classes for Quicksort.</p>\n<p>// TODO: Help me Understand how to fix the testclasses so the test goes through.</p>\n<p>Please be kind, I am new to JUNIT testing.</p>\n<p>Here is my codes:</p>\n<pre><code>import org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.Random;\n\nimport static junit.framework.TestCase.assertEquals;\nimport static org.hamcrest.CoreMatchers.equalTo;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.junit.Assert.assertArrayEquals;\n\npublic class QuicksortFixedPivotTest extends IntSorterTest{\n    /**\n     * Returns an implementation of the IntSorter interface. Extending classes\n     * must override this method.\n     *\n     * @return An implementation of IntSorter.\n     */\n    /* An instance of the quicksortFixedPivot */\n    private QuicksortFixedPivot quicksortFixedPivot;\n\n    private InsertionSort quickSort;\n\n\n    /* An array of even length */\n    private int[] evenArray;\n    /* An array of odd length */\n    private int[] oddArray;\n    private Random random;\n\n\n    @Before\n    public void setUp() throws IOException {\n       quicksortFixedPivot = new QuicksortFixedPivot();\n\n        evenArray = new int[]{1,5,3,8};\n        oddArray = new int[]{1,5,2,4,3};\n    }\n\n\n    /**\n     * Returns an implementation of the IntSorter interface. Extending classes\n     * must override this method.\n     *\n     * @return An implementation of IntSorter.\n     */\n    @Override\n    protected IntSorter getIntSorter() {\n        return new IntSorter() {\n            @Override\n            public void sort(int[] v) {\n                Arrays.sort(v);\n            }\n        };\n    }\n\n    //TESTs for arrays of even and odd length\n  @Test\n   public void QuickSortFindsAllElementsInEvenArray() {\n       // Arrange\n       Arrays.sort(evenArray);\n      String result = new String();\n       for (int i = 0; i &gt; evenArray.length; i++) {\n           result = result + &quot; &quot; + evenArray[i];\n           // Act, Assert\n           assertEquals(&quot;1 3 5 8&quot;, result);\n           assertThat(evenArray.length,equalTo(i));\n       }\n   }\n\n\n\n    /**\n     * Test of generateBigArray method.\n     */\n    @Test\n    public void testGenerateBigArray() throws IOException {\n        int n = 1000;\n        InsertionSort i = new InsertionSort();\n        int[] expResult = i.generateBigArray(n);\n        int[] result = expResult;\n        assertArrayEquals(expResult, result);\n    }\n\n\n    /**\n     * Assert that binarySearch returns the correct index\n     * for all elements in an odd length array with multiple elements.\n     */\n    @Test\n    public void QuickSortFindsAllElementsInOddArray() {\n        //arrange\n        Arrays.sort(oddArray);\n        String result = new String();\n\n        for (int i = 0; i &gt; oddArray.length; i++) {\n            result = result + &quot; &quot; + oddArray[i];\n            // Act, Assert\n            assertEquals(&quot; 1 2 3 4 5&quot;, result);\n            assertThat(oddArray.length, equalTo(i));\n\n        }\n    }\n    /**\n     *\n     */\n    @Test\n    public void test1() {\n        int[] list = {};\n        String result = new String();\n        quicksortFixedPivot.sort(list);\n        for (int i = 0; i &lt; list.length; i++)\n            result = result + &quot; &quot; + list[i];\n        assertEquals(&quot;&quot;, result);\n    }\n}\n\n</code></pre>\n<pre><code>import org.jetbrains.annotations.NotNull;\nimport org.junit.Test;\nimport org.junit.Before;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Random;\n\nimport static org.hamcrest.CoreMatchers.equalTo;\nimport static org.junit.Assert.*;\n\n import static org.hamcrest.MatcherAssert.assertThat;\n\n/**\n  * Abstract test class for  implementations.\n  *\n  * Implementing test classes must override the getIntSorter method.\n  */\n public abstract class IntSorterTest {\n     private Data data;\n     private InsertionSort sorter;\n\n     int [] emptyArray = new int[] {}; // An empty array\n\n    /* An array of even length */\n    private int[] evenArray;\n    /* An array of odd length */\n    private int[] oddArray;\n\n    private Random random;\n    /**\n     /**\n      * Returns an implementation of the IntSorter interface. Extending classes\n      * must override this method.\n      *\n      * @return An implementation of IntSorter.\n      */\n     protected abstract IntSorter getIntSorter();\n\n    @Before\n     public void setUp() throws IOException {\n        sorter = new InsertionSort();\n        evenArray = new int[]{1,5,3,8};\n        oddArray = new int[]{1,5,2,4,3};\n     }\n\n    /**\n     * Assert that the size of an empty Array is exactly 0.\n     */\n    @Test\n    public void sizeIsZeroWhenArrayIsEmpty() {\n        int size = emptyArray.length;\n        assertThat(size,equalTo(0));\n        assertTrue(emptyArray.length == 0);\n    }\n    /**\n     * Assert that sorting an empty array has no effects.\n     */\n    @Test\n    public void sortHasNoEffectWhenArrayIsEmpty() {\n        // Arrange\n        int [] emptyArray = new int[] {};\n        // Act\n        Arrays.sort(emptyArray);\n        // Assert\n        assertThat(emptyArray.length, equalTo(0));\n    }\n\n\n    /**\n     * Assert that sorting an array with a single element has no effects.\n     */\n    @Test\n    public void sortHasNoEffectWhenArrayHasSingleElement() {\n        //Arrange\n        int[] array = new int[1];\n        //act\n        Arrays.sort(array);\n        //assert\n        assertThat(array.length,equalTo(1));\n    }\n\n    /**\n     * Assert that arrayA is the reverse of arrayB.\n     */\n    @Test\n    public void assertReversed() {\n        int [] arrayA = {1, 3, 4};\n        int [] arrayB = {4, 3, 1};\n        Integer len = arrayA.length;\n        for (Integer i = 0; i &lt; len; i++) {\n            assertThat(arrayB[len-i-1], equalTo(arrayA[i]));\n        }\n    }\n\n    /**\n     * Assert that sorting a multiple element array results in a correct\n     * ordering of the elements.\n     */\n    @Test\n    public void sortMultipleElementArrayGivesCorrectOrdering() {\n        // Arrange\n        int[] actual = evenArray;\n        int[] expected = actual.clone();\n        // Act\n        Arrays.sort(expected);\n        Arrays.sort(actual);\n        // Assert\n        assertThat(actual, equalTo(expected));\n    }\n\n    /**\n     *   Test case number: 5\n     *   Pre-condition: given integer list {1,2,3 }\n     *   Test case values: call quickSort to sort it\n     *   Expected output (Post-state): &quot;1 2 3&quot;\n     */\n    @Test\n    public void test5() {\n        int[] list = { 1, 2, 3 };\n        String result = new String();\n        sorter.sort(list);\n        for (int i = 0; i &lt; list.length; i++)\n            result = result + &quot; &quot; + list[i];\n        assertEquals(&quot; 1 2 3&quot;, result);\n    }\n\n    /**\n     * Test sorting a negative array.\n     */\n    @Test\n    public void NegativeArray() {\n        int[] list = { -1, 2, -3 };\n        String result = new String();\n        sorter.sort(list);\n        for (int i = 0; i &lt; list.length; i++)\n            result = result + &quot; &quot; + list[i];\n        assertEquals(&quot; -3 -1 2&quot;, result);\n    }\n\n\n\n    /**\n     * Sorting a reverse sorted array.\n     */\n    @Test\n    public void testReverseSorted() {\n        int[] array1 = new int[10];\n        int[] array2 = new int[10];\n\n        int[] array3 = new int[10];\n\n        for (int i = 0; i &lt; 10; i++) {\n            array1[i] = (100-i);\n            array2[i] = (100-i);\n            array3[i] = (100-i);\n        }\n        //sort array3\n        Arrays.sort(array3);\n        // run QS1()\n        sorter.sort(array1);\n        assertArrayEquals(array1,array3);\n\n        // run QS2()\n        sorter.sort(array2);\n        assertArrayEquals(array2,array3);\n    }\n\n\n\n\n    /**\n     * Test that all elements are equal in two different arrays\n     * when sorted. Ascending order\n     */\n    @Test\n     public void testSort() {\n         int[] array = {0, 5, 6, 8, 7, 1, 11, 100, 2};\n         sorter.sort(array);\n         int[] expected = {0, 1, 2, 5, 6, 7, 8, 11, 100};\n         System.out.println(Arrays.toString(array));\n         assertEquals(true, Arrays.equals(expected, array));\n     }\n\n     @Test\n     public void testSort2() {\n         int[] array = {0, 5, 6, 8, 7, 1, 11, 100, 2};\n         sorter.sort(array);\n         System.out.println(Arrays.toString(array));\n         assertEquals(true, isSorted(array));\n     }\n\n    /**\n     * helper method for tests that is in ascending order.\n     * @param array\n     * @return\n     */\n     private boolean isSorted(int[] array) {\n         boolean sorted = true;\n         for(int i = 0; i &lt; array.length-1; i++) {\n             sorted = sorted &amp;&amp; array[i] &lt;= array[i+1];\n             if(!sorted) {\n                 System.out.println(array[i] +&quot; &gt;&quot; +array[i+1]);\n                 return false;\n             }\n         }\n         return sorted;\n     }\n\n }\n</code></pre>\n<pre><code>/**\n * An interface for sorting int arrays.\n */\npublic interface IntSorter {\n    /**\n     * Sorts the array in-place into ascending numerical order.\n     *\n     * @param v An array of ints.\n     */\n    void sort(int[] v);\n}\n</code></pre>\n<pre><code>import java.io.IOException;\n\npublic class QuicksortFixedPivot implements IntSorter{\n    /**\n     * Sorts the array in-place into ascending numerical order.\n     *\n     * @param v An array of ints.\n     */\n    @Override\n    public void sort(int[] v) {\n        if (v != null &amp;&amp; v.length &gt; 1)\n            qsort(v, 0, v.length - 1);\n    }\n    public void qsort(int[] v, int start, int end) {\n        if(start &lt; end) {\n            int[] mid = partition(v, start, end);\n            qsort(v, start, mid[0] - 1);\n            qsort(v, mid[1] + 1, end);\n        }\n    }\n\n    public int[] partition(int[] v, int start, int end) {\n        int pivot = v[choosePivot(v, start, end)];\n        int low = start, mid = start, high = end;\n        while (mid &lt;= high) {\n            if (v[mid] &lt; pivot) {\n                swap(v, mid, low);\n                low++;\n                mid++;\n            } else if (v[mid] == pivot) {\n                mid++;\n            } else {\n                swap(v, mid, high);\n                high--;\n            }\n        }\n        return new int[]{low, high};\n    }\n\n    public int choosePivot(int[] v, int start, int end) {\n        return start + (end - start)/2;\n    }\n\n    public void swap(int[] v, int i, int j) {\n        if(i == j) return;\n        int t = v[i];\n        v[i] = v[j];\n        v[j] = t;\n    }\n    public QuicksortFixedPivot() throws IOException {\n        Kattio io = new Kattio(System.in, System.out);\n        int n = io.getInt(); // number of elements to sort\n        int[] v = new int[n];\n        int i = 0;\n        // read in problem array\n        while (io.hasMoreTokens()) {\n            v[i++] = io.getInt();\n        }\n        sort(v);\n        // output sorted array as solution\n        for (int k : v) {\n            io.println(k);\n        }\n        io.close();\n        System.exit(0);\n    }\n\n}\n\n\n</code></pre>\n"},{"tags":["java","cryptography","digital-signature","bouncycastle","dss"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646059919,"post_id":71296709,"comment_id":126024664,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":24226768,"reputation":9,"user_id":18181138,"display_name":"Med"},"score":0,"creation_date":1646148597,"post_id":71296709,"comment_id":126049008,"body_markdown":"I just modified the sample source code that works using a timestamp. But I am now trying to have the same revocation check without having to use a timestamp","body":"I just modified the sample source code that works using a timestamp. But I am now trying to have the same revocation check without having to use a timestamp"},{"owner":{"account_id":24226768,"reputation":9,"user_id":18181138,"display_name":"Med"},"score":0,"creation_date":1650286462,"post_id":71296709,"comment_id":127072902,"body_markdown":"@Mkl, have any idea about this question ?","body":"@Mkl, have any idea about this question ?"}],"owner":{"account_id":24226768,"reputation":9,"user_id":18181138,"display_name":"Med"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646148539,"creation_date":1646059473,"question_id":71296709,"body_markdown":"I am working on a solution that allows signing using p12 certificate on a remote server.\r\n\r\nFirst, I have the digest of the document which is calculated on a server and then I send it for signature on another server.\r\n\r\nRight after I added the revocation check as well as a timestamp during the signature, using the following code:\r\n\r\n    public class ServerA {\r\n        public static ExternalCMSPAdESService service;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            PDDocument pdDocument = PDDocument.load(new File(&quot;Doc 2.pdf&quot;));\r\n            DSSDocument documentToSign = new FileDocument(new File(&quot;Doc 2.pdf&quot;));\r\n            PAdESSignatureParameters signatureParameters = new PAdESSignatureParameters();\r\n            SignatureFieldParameters parameters = new SignatureFieldParameters();\r\n    \r\n            DigestAlgorithm digestAlgorithm = DigestAlgorithm.SHA256;\r\n            signatureParameters.setDigestAlgorithm(digestAlgorithm);\r\n            signatureParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\r\n            //signatureParameters.setGenerateTBSWithoutCertificate(true);\r\n    \r\n            IPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\r\n            AbstractPDFSignatureService pdfSignatureService = (AbstractPDFSignatureService) pdfObjFactory.newPAdESSignatureService();\r\n    \r\n            byte[] documentDigest = pdfSignatureService.digest(documentToSign, signatureParameters);\r\n    \r\n            byte[] signedDigest = Engine.getSignedCMSignedData(documentDigest);\r\n            DSSDocument finalDoc = pdfSignatureService.sign(documentToSign, signedDigest, signatureParameters);\r\n    \r\n            CommonCertificateVerifier commonCertificateVerifier = new CommonCertificateVerifier();\r\n            commonCertificateVerifier.setCrlSource(new OnlineCRLSource());\r\n            commonCertificateVerifier.setOcspSource(new OnlineOCSPSource());\r\n            commonCertificateVerifier.setCheckRevocationForUntrustedChains(true);\r\n            service = new ExternalCMSPAdESService(commonCertificateVerifier);\r\n            TimestampDataLoader timestampDataLoader = new TimestampDataLoader();// uses the specific content-type\r\n            OnlineTSPSource tsa1 = new OnlineTSPSource(&quot;http://dss.nowina.lu/pki-factory/tsa/ee-good-tsa&quot;);\r\n            tsa1.setDataLoader(timestampDataLoader);\r\n            service.setTspSource(tsa1);\r\n            PAdESSignatureParameters extensionParameters = new PAdESSignatureParameters();\r\n            extensionParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_LT);\r\n            commonCertificateVerifier.setCheckRevocationForUntrustedChains(true);\r\n    \r\n            DSSDocument extendedDocument = service.extendDocument(finalDoc, extensionParameters);\r\n    \r\n            save(finalDoc);\r\n            save2(extendedDocument);\r\n    \r\n        }\r\n    \r\n        private static void save2(DSSDocument signedDocument) {\r\n            try (FileOutputStream fos = new FileOutputStream(&quot;DSS-2.pdf&quot;)) {\r\n                Utils.copy(signedDocument.openStream(), fos);\r\n            } catch (Exception e) {\r\n                Alert alert = new Alert(Alert.AlertType.ERROR, &quot;Unable to save file : &quot; + e.getMessage(), ButtonType.CLOSE);\r\n                alert.showAndWait();\r\n                return;\r\n            }\r\n        }\r\n        private static void save(DSSDocument signedDocument) {\r\n            try (FileOutputStream fos = new FileOutputStream(&quot;DSS.pdf&quot;)) {\r\n                Utils.copy(signedDocument.openStream(), fos);\r\n            } catch (Exception e) {\r\n                Alert alert = new Alert(Alert.AlertType.ERROR, &quot;Unable to save file : &quot; + e.getMessage(), ButtonType.CLOSE);\r\n                alert.showAndWait();\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\nand for server B, I added the timestamp part to the signature:\r\n\r\n    public class ServerB {\r\n        static PadesCMSSignedDataBuilder padesCMSSignedDataBuilder;\r\n        public static String pathCert = &quot;Barid-Media-Client_Authentification.p12&quot;;\r\n    \r\n    \r\n        public static byte[] getSignedCMSignedData(byte[] documentDigest) throws Exception {\r\n            CommonCertificateVerifier commonCertificateVerifier = new CommonCertificateVerifier();\r\n    \r\n            commonCertificateVerifier.setCrlSource(new OnlineCRLSource());\r\n            commonCertificateVerifier.setOcspSource(new OnlineOCSPSource());\r\n            commonCertificateVerifier.setCheckRevocationForUntrustedChains(true);\r\n    \r\n            padesCMSSignedDataBuilder = new PadesCMSSignedDataBuilder(commonCertificateVerifier);\r\n            SignatureTokenConnection signingToken = new Pkcs12SignatureToken(\r\n                    &quot;certificate.p12&quot;,\r\n                    new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\r\n            DSSPrivateKeyEntry privateKey = getKey(\r\n                    &quot;certificate.p12&quot;,\r\n                    &quot;123456&quot;);\r\n    \r\n            PAdESSignatureParameters parameters = new PAdESSignatureParameters();\r\n            parameters.setDigestAlgorithm(DigestAlgorithm.SHA256);\r\n            parameters.setEncryptionAlgorithm(EncryptionAlgorithm.RSA);\r\n            parameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\r\n            parameters.setSigningCertificate(privateKey.getCertificate());\r\n    \r\n            ToBeSigned dataToSign = getDataToSign(documentDigest, parameters);\r\n            SignatureValue signatureValue = signingToken.sign(dataToSign, DigestAlgorithm.SHA256, privateKey);\r\n            return generateCMSSignedData(documentDigest, parameters, signatureValue);\r\n        }\r\n    \r\n        protected static byte[] generateCMSSignedData(byte[] messageDigest, final PAdESSignatureParameters parameters,\r\n                                                      final SignatureValue signatureValue) throws Exception {\r\n            final SignatureAlgorithm signatureAlgorithm = parameters.getSignatureAlgorithm();\r\n            final SignatureLevel signatureLevel = parameters.getSignatureLevel();\r\n            Objects.requireNonNull(signatureAlgorithm, &quot;SignatureAlgorithm cannot be null!&quot;);\r\n            Objects.requireNonNull(signatureLevel, &quot;SignatureLevel must be defined!&quot;);\r\n    \r\n            SigningResponseWithEvidence signingResponseWithEvidence = new SigningResponseWithEvidence();\r\n    \r\n            final CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId(), signatureValue.getValue());\r\n    \r\n            final SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(parameters, messageDigest);\r\n    \r\n            final CMSProcessableByteArray content = new CMSProcessableByteArray(messageDigest);\r\n    \r\n            final CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(parameters, customContentSigner,\r\n                    signerInfoGeneratorBuilder, null);\r\n    \r\n            CMSSignedData data = CMSUtils.generateDetachedCMSSignedData(generator, content);\r\n    \r\n            data = signTimeStamps(data,false).getCmsSignedData();\r\n    \r\n            return data.getEncoded();\r\n        }\r\n    \r\n    \r\n        private static ResultTimeStamp signTimeStamps(CMSSignedData cmsSignedData,\r\n                                                      boolean cancelOnErrorTsa) throws Exception {\r\n            SignerInformationStore signerStore = cmsSignedData.getSignerInfos();\r\n            java.util.Iterator iterator = ((java.util.Collection)signerStore.getSigners()).iterator();\r\n            java.util.List newSigners = new java.util.ArrayList();\r\n            CMSSignedData returned = null;\r\n            ResultTimeStamp resultTimeStamp = new ResultTimeStamp();\r\n            while (iterator.hasNext())\r\n            {\r\n                Object result = signTimeStamp((SignerInformation)iterator.next(),cancelOnErrorTsa);\r\n    \r\n                if(result != null)\r\n                    newSigners.add(result);\r\n            }\r\n            if(newSigners.size() != 0) {\r\n                returned = CMSSignedData.replaceSigners(cmsSignedData, new SignerInformationStore(newSigners));\r\n                resultTimeStamp.setSuccessTsa(true);\r\n            } else {\r\n                returned = cmsSignedData;\r\n                resultTimeStamp.setSuccessTsa(false);\r\n            }\r\n            resultTimeStamp.setCmsSignedData(returned);\r\n            return resultTimeStamp;\r\n        }\r\n    \r\n        public static Object signTimeStamp(SignerInformation next, boolean cancelOnErrorTsa\r\n        ) throws Exception {\r\n            AttributeTable unsignedAttributes = next.getUnsignedAttributes();\r\n            ASN1EncodableVector vector = new ASN1EncodableVector();\r\n            SignerInformation newSigner = null;\r\n            if (unsignedAttributes != null)\r\n            {\r\n                vector = unsignedAttributes.toASN1EncodableVector();\r\n            }\r\n            int codestatus = 0;\r\n            try {\r\n                codestatus = initializeSSLConnexion();\r\n            } catch (Exception e) {\r\n                if(!cancelOnErrorTsa) {\r\n                    throw new ProSignServerGlobalException(&quot;014&quot;);\r\n                } else {\r\n                    return null;\r\n                }\r\n            }\r\n    \r\n            if(codestatus == 503) {\r\n                if(!cancelOnErrorTsa) {\r\n                    throw new ProSignServerGlobalException(&quot;014&quot;);\r\n                } else {\r\n                    return null;\r\n                }\r\n            } else {\r\n                try {\r\n                    TSA tsaClient = new TSA(&quot;https://tsa.baridesign.ma:8443/servlets/Horodatage/MetaTIME/TimeStampService/TSPService&quot;,\r\n                            pathCert,\r\n                            &quot;123456&quot;);\r\n                    java.security.MessageDigest mda = java.security.MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    \r\n                    byte[] digest = mda.digest(next.getSignature());\r\n    \r\n                    byte[] token = tsaClient.getTimeStampToken(digest);\r\n    \r\n                    ASN1ObjectIdentifier oid = PKCSObjectIdentifiers.id_aa_signatureTimeStampToken;\r\n                    ASN1Encodable signatureTimeStamp = new org.bouncycastle.asn1.cms.Attribute(oid, new DERSet(ASN1Primitive.fromByteArray(token)));\r\n    \r\n    \r\n                    vector.add(signatureTimeStamp);\r\n                    newSigner = SignerInformation.replaceUnsignedAttributes(next, new AttributeTable(vector));\r\n                    if (newSigner == null) return next;\r\n                } catch (Exception e) {\r\n                    if(!cancelOnErrorTsa) {\r\n                        throw new ProSignServerGlobalException(&quot;014&quot;);\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                }\r\n            }\r\n    \r\n    \r\n            return newSigner;\r\n        }\r\n        public static int initializeSSLConnexion() throws Exception {\r\n            int codestatus = 200;\r\n    \r\n            try{\r\n                KeyStore clientStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n                clientStore.load(new FileInputStream(ResourceUtils\r\n                        .getFile(pathCert)), &quot;123456&quot;.toCharArray());\r\n    \r\n                KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n                keyManagerFactory.init(clientStore, &quot;123456&quot;.toCharArray());\r\n                KeyManager[] keyManager = keyManagerFactory.getKeyManagers();\r\n    \r\n                KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n                trustStore.load(new FileInputStream(&quot;C:/Program Files/Java/jre1.8.0_221/lib/security/cacerts&quot;),\r\n                        &quot;changeit&quot;.toCharArray());\r\n    \r\n                TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n                trustManagerFactory.init(trustStore);\r\n                TrustManager[] trustManager = trustManagerFactory.getTrustManagers();\r\n    \r\n                SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n                sslContext.init(keyManager, trustManager, new SecureRandom());\r\n                HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\r\n                URL url = new URL(&quot;https://tsa.baridesign.ma:8443/servlets/Horodatage/MetaTIME/TimeStampService/TSPService&quot;);\r\n    \r\n                HttpsURLConnection urlConn = (HttpsURLConnection) url.openConnection();\r\n                if(urlConn.getResponseCode() == 503) {\r\n                    codestatus = 503;\r\n                }\r\n            } catch (KeyStoreException e) {\r\n                System.out.println(&quot;1&quot;);\r\n                codestatus = 503;\r\n            } catch (IOException e) {\r\n                codestatus = 503;\r\n            } catch (NoSuchAlgorithmException e) {\r\n                System.out.println(&quot;3&quot;);\r\n                codestatus = 503;\r\n            } catch (CertificateException e) {\r\n                System.out.println(&quot;4&quot;);\r\n                codestatus = 503;\r\n            } catch (UnrecoverableKeyException e) {\r\n                System.out.println(&quot;5&quot;);\r\n            } catch (KeyManagementException e) {\r\n                System.out.println(&quot;6&quot;);\r\n                codestatus = 503;\r\n            } catch (Throwable t) {\r\n                codestatus = 503;\r\n                throw new Exception(&quot;Failed to get TSA response from &#39;&quot; );\r\n            }\r\n            return codestatus;\r\n        }\r\n    \r\n        public static DSSPrivateKeyEntry getKey(String certificate, String pin) throws Exception {\r\n            try (Pkcs12SignatureToken signatureToken = new Pkcs12SignatureToken(certificate,\r\n                    new KeyStore.PasswordProtection(pin.toCharArray()))) {\r\n                List&lt;DSSPrivateKeyEntry&gt; keys = signatureToken.getKeys();\r\n                KSPrivateKeyEntry dssPrivateKeyEntry = (KSPrivateKeyEntry) keys.get(0);\r\n                DSSPrivateKeyEntry entry = signatureToken.getKey(dssPrivateKeyEntry.getAlias(),\r\n                        new KeyStore.PasswordProtection(pin.toCharArray()));\r\n                return entry;\r\n            }\r\n        }\r\n    \r\n        public static ToBeSigned getDataToSign(byte[] messageDigest, final PAdESSignatureParameters parameters) throws DSSException {\r\n            final SignatureAlgorithm signatureAlgorithm = parameters.getSignatureAlgorithm();\r\n            final CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId());\r\n    \r\n            SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(parameters, messageDigest);\r\n    \r\n            final CMSSignedDataGenerator gn = new CMSSignedDataGenerator();\r\n            final CMSProcessableByteArray content = new CMSProcessableByteArray(messageDigest);\r\n    \r\n            CMSSignedData originalData = CMSUtils.generateDetachedCMSSignedData(gn, content);\r\n    \r\n            final CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(parameters, customContentSigner,\r\n                    signerInfoGeneratorBuilder, originalData);\r\n    \r\n    \r\n            CMSUtils.generateDetachedCMSSignedData(generator, content);\r\n    \r\n            final byte[] dataToSign = customContentSigner.getOutputStream().toByteArray();\r\n            return new ToBeSigned(dataToSign);\r\n        }\r\n    }\r\n\r\n\r\n**But in this case what I&#39;m looking for is not to have to use a timestamp**\r\n\r\n**Now what I&#39;m looking for is to find a solution to add revocation checking in the intended area (still signing with esig/Dss) without adding a timestamp.**\r\n\r\n","title":"Is it possible to add revocation checking to the dictionary without using a timestamp?","body":"<p>I am working on a solution that allows signing using p12 certificate on a remote server.</p>\n<p>First, I have the digest of the document which is calculated on a server and then I send it for signature on another server.</p>\n<p>Right after I added the revocation check as well as a timestamp during the signature, using the following code:</p>\n<pre><code>public class ServerA {\n    public static ExternalCMSPAdESService service;\n\n    public static void main(String[] args) throws Exception {\n        PDDocument pdDocument = PDDocument.load(new File(&quot;Doc 2.pdf&quot;));\n        DSSDocument documentToSign = new FileDocument(new File(&quot;Doc 2.pdf&quot;));\n        PAdESSignatureParameters signatureParameters = new PAdESSignatureParameters();\n        SignatureFieldParameters parameters = new SignatureFieldParameters();\n\n        DigestAlgorithm digestAlgorithm = DigestAlgorithm.SHA256;\n        signatureParameters.setDigestAlgorithm(digestAlgorithm);\n        signatureParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\n        //signatureParameters.setGenerateTBSWithoutCertificate(true);\n\n        IPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\n        AbstractPDFSignatureService pdfSignatureService = (AbstractPDFSignatureService) pdfObjFactory.newPAdESSignatureService();\n\n        byte[] documentDigest = pdfSignatureService.digest(documentToSign, signatureParameters);\n\n        byte[] signedDigest = Engine.getSignedCMSignedData(documentDigest);\n        DSSDocument finalDoc = pdfSignatureService.sign(documentToSign, signedDigest, signatureParameters);\n\n        CommonCertificateVerifier commonCertificateVerifier = new CommonCertificateVerifier();\n        commonCertificateVerifier.setCrlSource(new OnlineCRLSource());\n        commonCertificateVerifier.setOcspSource(new OnlineOCSPSource());\n        commonCertificateVerifier.setCheckRevocationForUntrustedChains(true);\n        service = new ExternalCMSPAdESService(commonCertificateVerifier);\n        TimestampDataLoader timestampDataLoader = new TimestampDataLoader();// uses the specific content-type\n        OnlineTSPSource tsa1 = new OnlineTSPSource(&quot;http://dss.nowina.lu/pki-factory/tsa/ee-good-tsa&quot;);\n        tsa1.setDataLoader(timestampDataLoader);\n        service.setTspSource(tsa1);\n        PAdESSignatureParameters extensionParameters = new PAdESSignatureParameters();\n        extensionParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_LT);\n        commonCertificateVerifier.setCheckRevocationForUntrustedChains(true);\n\n        DSSDocument extendedDocument = service.extendDocument(finalDoc, extensionParameters);\n\n        save(finalDoc);\n        save2(extendedDocument);\n\n    }\n\n    private static void save2(DSSDocument signedDocument) {\n        try (FileOutputStream fos = new FileOutputStream(&quot;DSS-2.pdf&quot;)) {\n            Utils.copy(signedDocument.openStream(), fos);\n        } catch (Exception e) {\n            Alert alert = new Alert(Alert.AlertType.ERROR, &quot;Unable to save file : &quot; + e.getMessage(), ButtonType.CLOSE);\n            alert.showAndWait();\n            return;\n        }\n    }\n    private static void save(DSSDocument signedDocument) {\n        try (FileOutputStream fos = new FileOutputStream(&quot;DSS.pdf&quot;)) {\n            Utils.copy(signedDocument.openStream(), fos);\n        } catch (Exception e) {\n            Alert alert = new Alert(Alert.AlertType.ERROR, &quot;Unable to save file : &quot; + e.getMessage(), ButtonType.CLOSE);\n            alert.showAndWait();\n            return;\n        }\n    }\n}\n</code></pre>\n<p>and for server B, I added the timestamp part to the signature:</p>\n<pre><code>public class ServerB {\n    static PadesCMSSignedDataBuilder padesCMSSignedDataBuilder;\n    public static String pathCert = &quot;Barid-Media-Client_Authentification.p12&quot;;\n\n\n    public static byte[] getSignedCMSignedData(byte[] documentDigest) throws Exception {\n        CommonCertificateVerifier commonCertificateVerifier = new CommonCertificateVerifier();\n\n        commonCertificateVerifier.setCrlSource(new OnlineCRLSource());\n        commonCertificateVerifier.setOcspSource(new OnlineOCSPSource());\n        commonCertificateVerifier.setCheckRevocationForUntrustedChains(true);\n\n        padesCMSSignedDataBuilder = new PadesCMSSignedDataBuilder(commonCertificateVerifier);\n        SignatureTokenConnection signingToken = new Pkcs12SignatureToken(\n                &quot;certificate.p12&quot;,\n                new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\n        DSSPrivateKeyEntry privateKey = getKey(\n                &quot;certificate.p12&quot;,\n                &quot;123456&quot;);\n\n        PAdESSignatureParameters parameters = new PAdESSignatureParameters();\n        parameters.setDigestAlgorithm(DigestAlgorithm.SHA256);\n        parameters.setEncryptionAlgorithm(EncryptionAlgorithm.RSA);\n        parameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\n        parameters.setSigningCertificate(privateKey.getCertificate());\n\n        ToBeSigned dataToSign = getDataToSign(documentDigest, parameters);\n        SignatureValue signatureValue = signingToken.sign(dataToSign, DigestAlgorithm.SHA256, privateKey);\n        return generateCMSSignedData(documentDigest, parameters, signatureValue);\n    }\n\n    protected static byte[] generateCMSSignedData(byte[] messageDigest, final PAdESSignatureParameters parameters,\n                                                  final SignatureValue signatureValue) throws Exception {\n        final SignatureAlgorithm signatureAlgorithm = parameters.getSignatureAlgorithm();\n        final SignatureLevel signatureLevel = parameters.getSignatureLevel();\n        Objects.requireNonNull(signatureAlgorithm, &quot;SignatureAlgorithm cannot be null!&quot;);\n        Objects.requireNonNull(signatureLevel, &quot;SignatureLevel must be defined!&quot;);\n\n        SigningResponseWithEvidence signingResponseWithEvidence = new SigningResponseWithEvidence();\n\n        final CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId(), signatureValue.getValue());\n\n        final SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(parameters, messageDigest);\n\n        final CMSProcessableByteArray content = new CMSProcessableByteArray(messageDigest);\n\n        final CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(parameters, customContentSigner,\n                signerInfoGeneratorBuilder, null);\n\n        CMSSignedData data = CMSUtils.generateDetachedCMSSignedData(generator, content);\n\n        data = signTimeStamps(data,false).getCmsSignedData();\n\n        return data.getEncoded();\n    }\n\n\n    private static ResultTimeStamp signTimeStamps(CMSSignedData cmsSignedData,\n                                                  boolean cancelOnErrorTsa) throws Exception {\n        SignerInformationStore signerStore = cmsSignedData.getSignerInfos();\n        java.util.Iterator iterator = ((java.util.Collection)signerStore.getSigners()).iterator();\n        java.util.List newSigners = new java.util.ArrayList();\n        CMSSignedData returned = null;\n        ResultTimeStamp resultTimeStamp = new ResultTimeStamp();\n        while (iterator.hasNext())\n        {\n            Object result = signTimeStamp((SignerInformation)iterator.next(),cancelOnErrorTsa);\n\n            if(result != null)\n                newSigners.add(result);\n        }\n        if(newSigners.size() != 0) {\n            returned = CMSSignedData.replaceSigners(cmsSignedData, new SignerInformationStore(newSigners));\n            resultTimeStamp.setSuccessTsa(true);\n        } else {\n            returned = cmsSignedData;\n            resultTimeStamp.setSuccessTsa(false);\n        }\n        resultTimeStamp.setCmsSignedData(returned);\n        return resultTimeStamp;\n    }\n\n    public static Object signTimeStamp(SignerInformation next, boolean cancelOnErrorTsa\n    ) throws Exception {\n        AttributeTable unsignedAttributes = next.getUnsignedAttributes();\n        ASN1EncodableVector vector = new ASN1EncodableVector();\n        SignerInformation newSigner = null;\n        if (unsignedAttributes != null)\n        {\n            vector = unsignedAttributes.toASN1EncodableVector();\n        }\n        int codestatus = 0;\n        try {\n            codestatus = initializeSSLConnexion();\n        } catch (Exception e) {\n            if(!cancelOnErrorTsa) {\n                throw new ProSignServerGlobalException(&quot;014&quot;);\n            } else {\n                return null;\n            }\n        }\n\n        if(codestatus == 503) {\n            if(!cancelOnErrorTsa) {\n                throw new ProSignServerGlobalException(&quot;014&quot;);\n            } else {\n                return null;\n            }\n        } else {\n            try {\n                TSA tsaClient = new TSA(&quot;https://tsa.baridesign.ma:8443/servlets/Horodatage/MetaTIME/TimeStampService/TSPService&quot;,\n                        pathCert,\n                        &quot;123456&quot;);\n                java.security.MessageDigest mda = java.security.MessageDigest.getInstance(&quot;SHA-256&quot;);\n\n                byte[] digest = mda.digest(next.getSignature());\n\n                byte[] token = tsaClient.getTimeStampToken(digest);\n\n                ASN1ObjectIdentifier oid = PKCSObjectIdentifiers.id_aa_signatureTimeStampToken;\n                ASN1Encodable signatureTimeStamp = new org.bouncycastle.asn1.cms.Attribute(oid, new DERSet(ASN1Primitive.fromByteArray(token)));\n\n\n                vector.add(signatureTimeStamp);\n                newSigner = SignerInformation.replaceUnsignedAttributes(next, new AttributeTable(vector));\n                if (newSigner == null) return next;\n            } catch (Exception e) {\n                if(!cancelOnErrorTsa) {\n                    throw new ProSignServerGlobalException(&quot;014&quot;);\n                } else {\n                    return null;\n                }\n            }\n        }\n\n\n        return newSigner;\n    }\n    public static int initializeSSLConnexion() throws Exception {\n        int codestatus = 200;\n\n        try{\n            KeyStore clientStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            clientStore.load(new FileInputStream(ResourceUtils\n                    .getFile(pathCert)), &quot;123456&quot;.toCharArray());\n\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n            keyManagerFactory.init(clientStore, &quot;123456&quot;.toCharArray());\n            KeyManager[] keyManager = keyManagerFactory.getKeyManagers();\n\n            KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\n            trustStore.load(new FileInputStream(&quot;C:/Program Files/Java/jre1.8.0_221/lib/security/cacerts&quot;),\n                    &quot;changeit&quot;.toCharArray());\n\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            trustManagerFactory.init(trustStore);\n            TrustManager[] trustManager = trustManagerFactory.getTrustManagers();\n\n            SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n            sslContext.init(keyManager, trustManager, new SecureRandom());\n            HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n            URL url = new URL(&quot;https://tsa.baridesign.ma:8443/servlets/Horodatage/MetaTIME/TimeStampService/TSPService&quot;);\n\n            HttpsURLConnection urlConn = (HttpsURLConnection) url.openConnection();\n            if(urlConn.getResponseCode() == 503) {\n                codestatus = 503;\n            }\n        } catch (KeyStoreException e) {\n            System.out.println(&quot;1&quot;);\n            codestatus = 503;\n        } catch (IOException e) {\n            codestatus = 503;\n        } catch (NoSuchAlgorithmException e) {\n            System.out.println(&quot;3&quot;);\n            codestatus = 503;\n        } catch (CertificateException e) {\n            System.out.println(&quot;4&quot;);\n            codestatus = 503;\n        } catch (UnrecoverableKeyException e) {\n            System.out.println(&quot;5&quot;);\n        } catch (KeyManagementException e) {\n            System.out.println(&quot;6&quot;);\n            codestatus = 503;\n        } catch (Throwable t) {\n            codestatus = 503;\n            throw new Exception(&quot;Failed to get TSA response from '&quot; );\n        }\n        return codestatus;\n    }\n\n    public static DSSPrivateKeyEntry getKey(String certificate, String pin) throws Exception {\n        try (Pkcs12SignatureToken signatureToken = new Pkcs12SignatureToken(certificate,\n                new KeyStore.PasswordProtection(pin.toCharArray()))) {\n            List&lt;DSSPrivateKeyEntry&gt; keys = signatureToken.getKeys();\n            KSPrivateKeyEntry dssPrivateKeyEntry = (KSPrivateKeyEntry) keys.get(0);\n            DSSPrivateKeyEntry entry = signatureToken.getKey(dssPrivateKeyEntry.getAlias(),\n                    new KeyStore.PasswordProtection(pin.toCharArray()));\n            return entry;\n        }\n    }\n\n    public static ToBeSigned getDataToSign(byte[] messageDigest, final PAdESSignatureParameters parameters) throws DSSException {\n        final SignatureAlgorithm signatureAlgorithm = parameters.getSignatureAlgorithm();\n        final CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId());\n\n        SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(parameters, messageDigest);\n\n        final CMSSignedDataGenerator gn = new CMSSignedDataGenerator();\n        final CMSProcessableByteArray content = new CMSProcessableByteArray(messageDigest);\n\n        CMSSignedData originalData = CMSUtils.generateDetachedCMSSignedData(gn, content);\n\n        final CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(parameters, customContentSigner,\n                signerInfoGeneratorBuilder, originalData);\n\n\n        CMSUtils.generateDetachedCMSSignedData(generator, content);\n\n        final byte[] dataToSign = customContentSigner.getOutputStream().toByteArray();\n        return new ToBeSigned(dataToSign);\n    }\n}\n</code></pre>\n<p><strong>But in this case what I'm looking for is not to have to use a timestamp</strong></p>\n<p><strong>Now what I'm looking for is to find a solution to add revocation checking in the intended area (still signing with esig/Dss) without adding a timestamp.</strong></p>\n"},{"tags":["java","image-processing","zxing","barcode-scanner"],"answers":[{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1348598612,"creation_date":1348598612,"answer_id":12589181,"question_id":12589089,"body_markdown":"These are white-on-black barcodes, and are not standard. The library doesn&#39;t read them. You would have to invert the image.","title":"Zxing not scanning certain Data Matrix codes","body":"<p>These are white-on-black barcodes, and are not standard. The library doesn't read them. You would have to invert the image.</p>\n"}],"owner":{"account_id":453055,"reputation":1955,"user_id":849840,"accept_rate":41,"display_name":"Raman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1230,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12589181,"answer_count":1,"score":2,"last_activity_date":1646148428,"creation_date":1348598259,"question_id":12589089,"body_markdown":"Hi I am able to read some 2d datamatrix barcode images downloaded from internet using Zxing library but not able to read images taken from my high resolution colored camera images. Now I am converting them into black and white images but still images are not readable. Can someone suggest me where I am doing wrong? I have attached some images here. Please help.\r\n\r\n![image 1][1]\r\n![image 2][2]\r\n![image 3][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oiFKd.jpg\r\n  [2]: http://i.stack.imgur.com/MWzd5.jpg\r\n  [3]: http://i.stack.imgur.com/09tup.jpg\r\n\r\nThanks","title":"Zxing not scanning certain Data Matrix codes","body":"<p>Hi I am able to read some 2d datamatrix barcode images downloaded from internet using Zxing library but not able to read images taken from my high resolution colored camera images. Now I am converting them into black and white images but still images are not readable. Can someone suggest me where I am doing wrong? I have attached some images here. Please help.</p>\n\n<p><img src=\"https://i.stack.imgur.com/oiFKd.jpg\" alt=\"image 1\">\n<img src=\"https://i.stack.imgur.com/MWzd5.jpg\" alt=\"image 2\">\n<img src=\"https://i.stack.imgur.com/09tup.jpg\" alt=\"image 3\"></p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","itext","bouncycastle","fileoutputstream"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646147973,"creation_date":1646147973,"answer_id":71310727,"question_id":71252990,"body_markdown":"When manipulating a PDF using a `PdfReader`/`PdfStamper` pair, the reader still needs the original PDF to read from while the stamper already stores new data to its output. Thus, they cannot both directly work on the same file system file.\r\n\r\nSo if you want the result to end up in the same file system file as the source and don&#39;t want to create temporary files in the file system either, you&#39;ll have to temporarily store input or output elsewhere, e.g. in memory.\r\n\r\nFor example, to use an in-memory copy of the source file:\r\n\r\n```lang-java\r\njava.io.File file = new java.io.File(&quot;...&quot;);\r\nbyte[] bytes = java.nio.file.Files.readAllBytes(file.toPath());\r\nPdfReader reader = new PdfReader(bytes);\r\nPdfStamper stamper = new PdfStamper(reader, new FileOutputStream(file));\r\n...\r\nstamper.close();\r\n```","title":"How to password protect a existing pdf file using java8 &amp; iText?","body":"<p>When manipulating a PDF using a <code>PdfReader</code>/<code>PdfStamper</code> pair, the reader still needs the original PDF to read from while the stamper already stores new data to its output. Thus, they cannot both directly work on the same file system file.</p>\n<p>So if you want the result to end up in the same file system file as the source and don't want to create temporary files in the file system either, you'll have to temporarily store input or output elsewhere, e.g. in memory.</p>\n<p>For example, to use an in-memory copy of the source file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.io.File file = new java.io.File(&quot;...&quot;);\nbyte[] bytes = java.nio.file.Files.readAllBytes(file.toPath());\nPdfReader reader = new PdfReader(bytes);\nPdfStamper stamper = new PdfStamper(reader, new FileOutputStream(file));\n...\nstamper.close();\n</code></pre>\n"}],"owner":{"account_id":19840634,"reputation":1,"user_id":14533296,"display_name":"Ayush Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646147973,"creation_date":1645710538,"question_id":71252990,"body_markdown":"I am using the spring boot project to implement my code with the following dependencies :\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.5.13.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.69&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\nI have written the following code, and I can make my pdf file password protected, but the code will produce an additional file**[protectedOutput.pdf]** to make that happen.\r\nI want my existing pdf to only be made password protected without using a new pdf at a specific path.\r\n\r\nCode is as follows :\r\n\r\n    package com.example.encryptMyPdf;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import com.itextpdf.text.DocumentException;\r\n    import com.itextpdf.text.pdf.PdfReader;\r\n    import com.itextpdf.text.pdf.PdfStamper;\r\n    import com.itextpdf.text.pdf.PdfWriter;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class EncryptMyPdfApplication{\r\n    \tpublic static void main(String[] args) throws FileNotFoundException, DocumentException, IOException {\r\n    \t\tPdfReader reader = new PdfReader(&quot;/Users/ayushg/desktop/protected.pdf&quot;);\r\n    \t\tPdfStamper stamper = new PdfStamper(reader, new FileOutputStream(&quot;/Users/ayushg/desktop/protectedOutput.pdf&quot;));\r\n    \t\tstamper.setEncryption(&quot;password&quot;.getBytes(), &quot;owner_password&quot;.getBytes(),PdfWriter.ALLOW_COPY, PdfWriter.ENCRYPTION_AES_256);\r\n    \t\tstamper.close();\r\n    \t\treader.close();\r\n    \t\tSystem.out.println(&quot;pdf is password protected now &quot;);\r\n    \t\tSpringApplication.run(EncryptMyPdfApplication.class, args);\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n*Any suggestions on the same are very much welcomed. Thanks in advance!*\r\n","title":"How to password protect a existing pdf file using java8 &amp; iText?","body":"<p>I am using the spring boot project to implement my code with the following dependencies :</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.69&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have written the following code, and I can make my pdf file password protected, but the code will produce an additional file**[protectedOutput.pdf]** to make that happen.\nI want my existing pdf to only be made password protected without using a new pdf at a specific path.</p>\n<p>Code is as follows :</p>\n<pre><code>package com.example.encryptMyPdf;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport com.itextpdf.text.DocumentException;\nimport com.itextpdf.text.pdf.PdfReader;\nimport com.itextpdf.text.pdf.PdfStamper;\nimport com.itextpdf.text.pdf.PdfWriter;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class EncryptMyPdfApplication{\n    public static void main(String[] args) throws FileNotFoundException, DocumentException, IOException {\n        PdfReader reader = new PdfReader(&quot;/Users/ayushg/desktop/protected.pdf&quot;);\n        PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(&quot;/Users/ayushg/desktop/protectedOutput.pdf&quot;));\n        stamper.setEncryption(&quot;password&quot;.getBytes(), &quot;owner_password&quot;.getBytes(),PdfWriter.ALLOW_COPY, PdfWriter.ENCRYPTION_AES_256);\n        stamper.close();\n        reader.close();\n        System.out.println(&quot;pdf is password protected now &quot;);\n        SpringApplication.run(EncryptMyPdfApplication.class, args);\n    }\n\n\n}\n</code></pre>\n<p><em>Any suggestions on the same are very much welcomed. Thanks in advance!</em></p>\n"},{"tags":["java","nokia-s40"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1646148019,"post_id":71310655,"comment_id":126048764,"body_markdown":"not silly, but nostalgic.","body":"not silly, but nostalgic."},{"owner":{"account_id":23924863,"reputation":11,"user_id":18158559,"display_name":"Phạm Vương"},"score":0,"creation_date":1646202638,"post_id":71310655,"comment_id":126062230,"body_markdown":"I found the IDE for it, now I&#39;m missing the documentation to start. Nostalgic things make me feel interesting, haha.","body":"I found the IDE for it, now I&#39;m missing the documentation to start. Nostalgic things make me feel interesting, haha."}],"owner":{"account_id":23924863,"reputation":11,"user_id":18158559,"display_name":"Phạm Vương"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646147601,"creation_date":1646147601,"question_id":71310655,"body_markdown":"It sounds silly but does anyone have the documentation and tools to build an app for Nokia Asha? I want to create a simple app for my old Asha 501. Thanks very much.\r\n\r\nNote: Most of the links have been removed so I would like to have the general instructions in this question","title":"Tools and environments for nokia asha development in 2022","body":"<p>It sounds silly but does anyone have the documentation and tools to build an app for Nokia Asha? I want to create a simple app for my old Asha 501. Thanks very much.</p>\n<p>Note: Most of the links have been removed so I would like to have the general instructions in this question</p>\n"},{"tags":["java","android","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1646122329,"post_id":71305351,"comment_id":126039774,"body_markdown":"Are you signing out somewhere in your code? Since you are using Java, I think that this [article](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) might help.","body":"Are you signing out somewhere in your code? Since you are using Java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">article</a> might help."},{"owner":{"account_id":24414213,"reputation":1,"user_id":18341274,"display_name":"shubham kadam"},"score":0,"creation_date":1646123374,"post_id":71305351,"comment_id":126040150,"body_markdown":"at dashboard there is a logout button","body":"at dashboard there is a logout button"}],"owner":{"account_id":24414213,"reputation":1,"user_id":18341274,"display_name":"shubham kadam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646147496,"creation_date":1646121649,"question_id":71305351,"body_markdown":"I&#39;m using Firebase SimpleLogin to enable otp authentication. Creation of users and subsequent login is all working fine. However, whenever I leave the app completely all registration process start from registration process i want to stay logged in on dashboard. \r\n\r\nthis is flash activity\r\n\r\n    public class SplashActivity extends AppCompatActivity {\r\n        private static int SPLASHTIMEOUT = 2000;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_splash);\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Intent homeIntent = new Intent(SplashActivity.this,register.class);\r\n                    startActivity(homeIntent);\r\n                    finish();\r\n                }\r\n            },SPLASHTIMEOUT);\r\n        }\r\n    }\r\n\r\nthis is rgister activty\r\n    \r\n   \r\n    \r\n    public class register extends AppCompatActivity {\r\n        EditText enternumber;\r\n        Button getotpbutton;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_register);\r\n    \r\n    \r\n            enternumber = findViewById(R.id.input_mobile_number);\r\n            getotpbutton = findViewById(R.id.buttongetotp);\r\n    \r\n    \r\n            final ProgressBar progressBar = findViewById(R.id.progressbar_sending_otp);\r\n    \r\n            getotpbutton.setOnClickListener(v -&gt; {\r\n    \r\n                if (!enternumber.getText().toString().trim().isEmpty()) {\r\n                    if ((enternumber.getText().toString().trim()).length() == 10) {\r\n    \r\n    \r\n                        progressBar.setVisibility(View.VISIBLE);\r\n                        getotpbutton.setVisibility(View.INVISIBLE);\r\n    \r\n                        PhoneAuthProvider.getInstance().verifyPhoneNumber(\r\n                                &quot;+91&quot; + enternumber.getText().toString(),\r\n                                60,\r\n                                TimeUnit.SECONDS,\r\n                                register.this,\r\n                                new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\r\n                                    @Override\r\n                                    public void onVerificationCompleted(@NonNull PhoneAuthCredential phoneAuthCredential) {\r\n                                        progressBar.setVisibility(View.GONE);\r\n                                        getotpbutton.setVisibility(View.VISIBLE);\r\n                                    }\r\n    \r\n                                    @Override\r\n                                    public void onVerificationFailed(@NonNull FirebaseException e) {\r\n                                        progressBar.setVisibility(View.GONE);\r\n                                        getotpbutton.setVisibility(View.VISIBLE);\r\n                                        Toast.makeText(register.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                    }\r\n    \r\n                                    @Override\r\n                                    public void onCodeSent(@NonNull String backendotp, @NonNull PhoneAuthProvider.ForceResendingToken forceResendingToken) {\r\n                                        progressBar.setVisibility(View.GONE);\r\n                                        getotpbutton.setVisibility(View.VISIBLE);\r\n                                        Intent intent = new Intent(getApplicationContext(), otp.class);\r\n                                        intent.putExtra(&quot;mobile&quot;, enternumber.getText().toString());\r\n                                        intent.putExtra(&quot;backendotp&quot;,backendotp);\r\n                                        startActivity(intent);\r\n                                    }\r\n                                }\r\n                        );\r\n    \r\n    \r\n                    } else {\r\n                        Toast.makeText(register.this, &quot;Please enter correct number&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(register.this, &quot;Enter Mobile number&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nthis is otp activity\r\n\r\n\r\n\r\n    public class otp extends AppCompatActivity {\r\n        EditText inputnumber1, inputnumber2, inputnumber3, inputnumber4, inputnumber5, inputnumber6;\r\n    \r\n        String getotpbackend;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_otp);\r\n    \r\n            final Button verifybuttonclick = findViewById(R.id.buttongetotp);\r\n    \r\n            inputnumber1 = findViewById(R.id.inputotp1);\r\n            inputnumber2 = findViewById(R.id.inputotp2);\r\n            inputnumber3 = findViewById(R.id.inputotp3);\r\n            inputnumber4 = findViewById(R.id.inputotp4);\r\n            inputnumber5 = findViewById(R.id.inputotp5);\r\n            inputnumber6 = findViewById(R.id.inputotp6);\r\n    \r\n    \r\n            TextView textView = findViewById(R.id.textmobileshownumber);\r\n            textView.setText(String.format(\r\n                    &quot;+91-%s&quot;, getIntent().getStringExtra(&quot;mobile&quot;)\r\n            ));\r\n    \r\n            getotpbackend = getIntent().getStringExtra(&quot;backendotp&quot;);\r\n    \r\n            final ProgressBar progressBarverifyotp = findViewById(R.id.progressbar_verify_otp);\r\n    \r\n    \r\n            verifybuttonclick.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    if (!inputnumber1.getText().toString().trim().isEmpty() &amp;&amp; !inputnumber2.getText().toString().trim().isEmpty() &amp;&amp; !inputnumber3.getText().toString().trim().isEmpty() &amp;&amp; !inputnumber4.getText().toString().trim().isEmpty()) {\r\n                        String entercodeotp = inputnumber1.getText().toString() +\r\n                                inputnumber2.getText().toString() +\r\n                                inputnumber3.getText().toString() +\r\n                                inputnumber4.getText().toString() +\r\n                                inputnumber5.getText().toString() +\r\n                                inputnumber6.getText().toString();\r\n    \r\n                        if (getotpbackend != null) {\r\n                            progressBarverifyotp.setVisibility(View.VISIBLE);\r\n                            verifybuttonclick.setVisibility(View.INVISIBLE);\r\n    \r\n                            PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.getCredential(\r\n                                    getotpbackend, entercodeotp\r\n                            );\r\n                            FirebaseAuth.getInstance().signInWithCredential(phoneAuthCredential)\r\n                                    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                            progressBarverifyotp.setVisibility(View.GONE);\r\n                                            verifybuttonclick.setVisibility(View.VISIBLE);\r\n    \r\n                                            if (task.isSuccessful()) {\r\n                                                Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n                                                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                                                startActivity(intent);\r\n    \r\n                                                \r\n    \r\n                                            }\r\n    \r\n                                            else {\r\n                                                Toast.makeText(otp.this, &quot;Enter the correct Otp&quot;, Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                                        }\r\n                                    });\r\n    \r\n                        }\r\n    \r\n                        else {\r\n                            Toast.makeText(otp.this, &quot;Please check internet connection&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n    \r\n                        Toast.makeText(otp.this, &quot;otp verify&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(otp.this, &quot;please enter all number&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            numberotpmove();\r\n    \r\n    \r\n    \r\n            TextView resendlabel = findViewById(R.id.textresendotp);\r\n    \r\n            resendlabel.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    PhoneAuthProvider.getInstance().verifyPhoneNumber(\r\n                            &quot;+91&quot; + getIntent().getStringExtra(&quot;mobile&quot;),\r\n                            60,\r\n                            TimeUnit.SECONDS,\r\n                            otp.this,\r\n                            new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\r\n                                @Override\r\n                                public void onVerificationCompleted(@NonNull PhoneAuthCredential phoneAuthCredential) {\r\n    \r\n                                }\r\n    \r\n                                @Override\r\n                                public void onVerificationFailed(@NonNull FirebaseException e) {\r\n    \r\n                                    Toast.makeText(otp.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                }\r\n    \r\n                                @Override\r\n                                public void onCodeSent(@NonNull String newbackendotp, @NonNull PhoneAuthProvider.ForceResendingToken forceResendingToken) {\r\n    \r\n                                    getotpbackend = newbackendotp;\r\n                                    Toast.makeText(otp.this, &quot;Otp sended Succussfully&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                    );\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n    \r\n        private void numberotpmove() {\r\n    \r\n            inputnumber1.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                    if (!s.toString().trim().isEmpty()) {\r\n                        inputnumber2.requestFocus();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void afterTextChanged(Editable s) {\r\n    \r\n                }\r\n            });\r\n    \r\n            inputnumber2.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                    if (!s.toString().trim().isEmpty()) {\r\n                        inputnumber3.requestFocus();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void afterTextChanged(Editable s) {\r\n    \r\n                }\r\n            });\r\n    \r\n            inputnumber3.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                    if (!s.toString().trim().isEmpty()) {\r\n                        inputnumber4.requestFocus();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void afterTextChanged(Editable s) {\r\n    \r\n                }\r\n            });\r\n    \r\n            inputnumber4.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                    if (!s.toString().trim().isEmpty()) {\r\n                        inputnumber5.requestFocus();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void afterTextChanged(Editable s) {\r\n    \r\n                }\r\n            });\r\n    \r\n            inputnumber5.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                    if (!s.toString().trim().isEmpty()) {\r\n                        inputnumber6.requestFocus();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void afterTextChanged(Editable s) {\r\n    \r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n","title":"Firebase: How to keep an Android user logged in using firebase otp authentication?","body":"<p>I'm using Firebase SimpleLogin to enable otp authentication. Creation of users and subsequent login is all working fine. However, whenever I leave the app completely all registration process start from registration process i want to stay logged in on dashboard.</p>\n<p>this is flash activity</p>\n<pre><code>public class SplashActivity extends AppCompatActivity {\n    private static int SPLASHTIMEOUT = 2000;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash);\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                Intent homeIntent = new Intent(SplashActivity.this,register.class);\n                startActivity(homeIntent);\n                finish();\n            }\n        },SPLASHTIMEOUT);\n    }\n}\n</code></pre>\n<p>this is rgister activty</p>\n<pre><code>public class register extends AppCompatActivity {\n    EditText enternumber;\n    Button getotpbutton;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n\n        enternumber = findViewById(R.id.input_mobile_number);\n        getotpbutton = findViewById(R.id.buttongetotp);\n\n\n        final ProgressBar progressBar = findViewById(R.id.progressbar_sending_otp);\n\n        getotpbutton.setOnClickListener(v -&gt; {\n\n            if (!enternumber.getText().toString().trim().isEmpty()) {\n                if ((enternumber.getText().toString().trim()).length() == 10) {\n\n\n                    progressBar.setVisibility(View.VISIBLE);\n                    getotpbutton.setVisibility(View.INVISIBLE);\n\n                    PhoneAuthProvider.getInstance().verifyPhoneNumber(\n                            &quot;+91&quot; + enternumber.getText().toString(),\n                            60,\n                            TimeUnit.SECONDS,\n                            register.this,\n                            new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\n                                @Override\n                                public void onVerificationCompleted(@NonNull PhoneAuthCredential phoneAuthCredential) {\n                                    progressBar.setVisibility(View.GONE);\n                                    getotpbutton.setVisibility(View.VISIBLE);\n                                }\n\n                                @Override\n                                public void onVerificationFailed(@NonNull FirebaseException e) {\n                                    progressBar.setVisibility(View.GONE);\n                                    getotpbutton.setVisibility(View.VISIBLE);\n                                    Toast.makeText(register.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                                }\n\n                                @Override\n                                public void onCodeSent(@NonNull String backendotp, @NonNull PhoneAuthProvider.ForceResendingToken forceResendingToken) {\n                                    progressBar.setVisibility(View.GONE);\n                                    getotpbutton.setVisibility(View.VISIBLE);\n                                    Intent intent = new Intent(getApplicationContext(), otp.class);\n                                    intent.putExtra(&quot;mobile&quot;, enternumber.getText().toString());\n                                    intent.putExtra(&quot;backendotp&quot;,backendotp);\n                                    startActivity(intent);\n                                }\n                            }\n                    );\n\n\n                } else {\n                    Toast.makeText(register.this, &quot;Please enter correct number&quot;, Toast.LENGTH_SHORT).show();\n                }\n            } else {\n                Toast.makeText(register.this, &quot;Enter Mobile number&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>this is otp activity</p>\n<pre><code>public class otp extends AppCompatActivity {\n    EditText inputnumber1, inputnumber2, inputnumber3, inputnumber4, inputnumber5, inputnumber6;\n\n    String getotpbackend;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_otp);\n\n        final Button verifybuttonclick = findViewById(R.id.buttongetotp);\n\n        inputnumber1 = findViewById(R.id.inputotp1);\n        inputnumber2 = findViewById(R.id.inputotp2);\n        inputnumber3 = findViewById(R.id.inputotp3);\n        inputnumber4 = findViewById(R.id.inputotp4);\n        inputnumber5 = findViewById(R.id.inputotp5);\n        inputnumber6 = findViewById(R.id.inputotp6);\n\n\n        TextView textView = findViewById(R.id.textmobileshownumber);\n        textView.setText(String.format(\n                &quot;+91-%s&quot;, getIntent().getStringExtra(&quot;mobile&quot;)\n        ));\n\n        getotpbackend = getIntent().getStringExtra(&quot;backendotp&quot;);\n\n        final ProgressBar progressBarverifyotp = findViewById(R.id.progressbar_verify_otp);\n\n\n        verifybuttonclick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                if (!inputnumber1.getText().toString().trim().isEmpty() &amp;&amp; !inputnumber2.getText().toString().trim().isEmpty() &amp;&amp; !inputnumber3.getText().toString().trim().isEmpty() &amp;&amp; !inputnumber4.getText().toString().trim().isEmpty()) {\n                    String entercodeotp = inputnumber1.getText().toString() +\n                            inputnumber2.getText().toString() +\n                            inputnumber3.getText().toString() +\n                            inputnumber4.getText().toString() +\n                            inputnumber5.getText().toString() +\n                            inputnumber6.getText().toString();\n\n                    if (getotpbackend != null) {\n                        progressBarverifyotp.setVisibility(View.VISIBLE);\n                        verifybuttonclick.setVisibility(View.INVISIBLE);\n\n                        PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.getCredential(\n                                getotpbackend, entercodeotp\n                        );\n                        FirebaseAuth.getInstance().signInWithCredential(phoneAuthCredential)\n                                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                                        progressBarverifyotp.setVisibility(View.GONE);\n                                        verifybuttonclick.setVisibility(View.VISIBLE);\n\n                                        if (task.isSuccessful()) {\n                                            Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n                                            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                                            startActivity(intent);\n\n                                            \n\n                                        }\n\n                                        else {\n                                            Toast.makeText(otp.this, &quot;Enter the correct Otp&quot;, Toast.LENGTH_SHORT).show();\n                                        }\n                                    }\n                                });\n\n                    }\n\n                    else {\n                        Toast.makeText(otp.this, &quot;Please check internet connection&quot;, Toast.LENGTH_SHORT).show();\n                    }\n\n                    Toast.makeText(otp.this, &quot;otp verify&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(otp.this, &quot;please enter all number&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n        numberotpmove();\n\n\n\n        TextView resendlabel = findViewById(R.id.textresendotp);\n\n        resendlabel.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                PhoneAuthProvider.getInstance().verifyPhoneNumber(\n                        &quot;+91&quot; + getIntent().getStringExtra(&quot;mobile&quot;),\n                        60,\n                        TimeUnit.SECONDS,\n                        otp.this,\n                        new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\n                            @Override\n                            public void onVerificationCompleted(@NonNull PhoneAuthCredential phoneAuthCredential) {\n\n                            }\n\n                            @Override\n                            public void onVerificationFailed(@NonNull FirebaseException e) {\n\n                                Toast.makeText(otp.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                            }\n\n                            @Override\n                            public void onCodeSent(@NonNull String newbackendotp, @NonNull PhoneAuthProvider.ForceResendingToken forceResendingToken) {\n\n                                getotpbackend = newbackendotp;\n                                Toast.makeText(otp.this, &quot;Otp sended Succussfully&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                );\n            }\n        });\n\n    }\n\n\n    private void numberotpmove() {\n\n        inputnumber1.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                if (!s.toString().trim().isEmpty()) {\n                    inputnumber2.requestFocus();\n                }\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n\n            }\n        });\n\n        inputnumber2.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                if (!s.toString().trim().isEmpty()) {\n                    inputnumber3.requestFocus();\n                }\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n\n            }\n        });\n\n        inputnumber3.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                if (!s.toString().trim().isEmpty()) {\n                    inputnumber4.requestFocus();\n                }\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n\n            }\n        });\n\n        inputnumber4.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                if (!s.toString().trim().isEmpty()) {\n                    inputnumber5.requestFocus();\n                }\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n\n            }\n        });\n\n        inputnumber5.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                if (!s.toString().trim().isEmpty()) {\n                    inputnumber6.requestFocus();\n                }\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase-authentication"],"owner":{"account_id":22132595,"reputation":71,"user_id":16383903,"display_name":"ROCKY 007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1646147002,"creation_date":1646131303,"question_id":71307207,"body_markdown":"i want the otp sent by Firebase so i can verify that otp entered by user and otp sent by firebase is same or not so i can proceed furthure..through internet i got that by  phoneAuthCredential.getSmsCode() i can get otp sent by firebase.but that credential object is in onverificationcomplete() method which is not getting called in my case.\r\n\r\nwhen i run the app i get otp but when i entered that same otp or wrong otp in both cases the next activity get started...\r\n\r\ncode :\r\n\r\n```\r\n    private void sendVerificationCode(String number) {\r\n        // this method is used for getting\r\n        // OTP on user phone number.\r\n        Log.d(&quot;piooo&quot;, number);\r\n        PhoneAuthOptions options =\r\n                PhoneAuthOptions.newBuilder(mAuth)\r\n                        .setPhoneNumber(number)            // Phone number to verify\r\n                        .setTimeout(60L, TimeUnit.SECONDS) // Timeout and unit\r\n                        .setActivity(this)                 // Activity (for callback binding)\r\n                        .setCallbacks(mCallBack)           // OnVerificationStateChangedCallbacks\r\n                        .build();\r\n        PhoneAuthProvider.verifyPhoneNumber(options);\r\n    }\r\n\r\n    // callback method is called on Phone auth provider.\r\n    private PhoneAuthProvider.OnVerificationStateChangedCallbacks\r\n            mCallBack = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\r\n\r\n        @Override\r\n        public void onVerificationCompleted(PhoneAuthCredential phoneAuthCredential) {\r\n            // below line is used for getting OTP code\r\n            // which is sent in phone auth credentials.\r\n\r\n            Log.d(&quot;piooo&quot;,&quot;verification completed &quot;);\r\n            codesent = phoneAuthCredential.getSmsCode();\r\n            Log.d(&quot;piooo  firebasecodesent&quot;, codesent);\r\n\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onVerificationFailed(FirebaseException e) {\r\n            // displaying error message with firebase exception.\r\n            Log.d(&quot;piooo  fail&quot;, &quot;&quot;);\r\n            Toast.makeText(Registration.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            Toast.makeText(Registration.this, &quot;Try Again&quot;, Toast.LENGTH_SHORT).show();\r\n            registerbtn.setEnabled(true);\r\n        }\r\n\r\n        @Override\r\n        public void onCodeSent(String s, PhoneAuthProvider.ForceResendingToken forceResendingToken) {\r\n            super.onCodeSent(s, forceResendingToken);\r\n            // when we receive the OTP it\r\n            // contains a unique id which\r\n            Log.d(&quot;piooo  code sent&quot;, &quot;&quot;);\r\n            Log.d(&quot;piooo  otp code&quot;, s);\r\n            verificationId = s;\r\n            progressDialog.dismiss();\r\n            alertDialog.show();\r\n\r\n            otp1.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                    otp2.requestFocus();\r\n                }\r\n\r\n                @Override\r\n                public void afterTextChanged(Editable editable) {\r\n\r\n                }\r\n            });\r\n            otp2.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                    otp3.requestFocus();\r\n                }\r\n\r\n                @Override\r\n                public void afterTextChanged(Editable editable) {\r\n\r\n                }\r\n            });\r\n            otp3.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                    otp4.requestFocus();\r\n                }\r\n\r\n                @Override\r\n                public void afterTextChanged(Editable editable) {\r\n\r\n                }\r\n            });\r\n            otp4.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                    otp5.requestFocus();\r\n                }\r\n\r\n                @Override\r\n                public void afterTextChanged(Editable editable) {\r\n\r\n                }\r\n            });\r\n            otp5.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                    otp6.requestFocus();\r\n                }\r\n\r\n                @Override\r\n                public void afterTextChanged(Editable editable) {\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n    };\r\n```\r\n\r\nbelow code is for verify both codes\r\n..if i make  PhoneAuthCredential object here and call method getsmscode() then i get the code which is user inputed code but i want code sent by firebase.\r\n```\r\n// below method is use to verify code from Firebase.\r\n    private void verifyCode(String code) {\r\n        Log.d(&quot;piooo  verify code fun&quot;, &quot;&quot;);\r\n        Log.d(&quot;piooo comparison&quot;, &quot;code=&quot;+code+&quot;codesent=&quot;+codesent);\r\n\r\n        PhoneAuthCredential credential = PhoneAuthProvider.getCredential(verificationId, code);\r\n        codesent=credential.getSmsCode();\r\n        Log.d(&quot;piooo  codesent&quot;, codesent);\r\n        if (code.equals(codesent)) {\r\n            Toast.makeText(Registration.this, &quot;Ready To Go&quot;, Toast.LENGTH_LONG).show();\r\n            Loading.setVisibility(View.GONE);\r\n            check.setVisibility(View.VISIBLE);\r\n            user user = new user(&quot;default&quot;, user_name.getText().toString(), user_mail.getText().toString(),\r\n                    user_password.getText().toString(), user_mobile_no.getText().toString());\r\n            database.getReference().child(&quot;Users&quot;).child(authwithmail_uid).setValue(user);\r\n            Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                public void run() {\r\n                    Intent i = new Intent(Registration.this, custHomeActivity.class);\r\n                    Log.d(&quot;piooo reg uidd maauth&quot;, mAuth.getCurrentUser().getUid());\r\n                    i.putExtra(&quot;userid&quot;, authwithmail_uid);\r\n                    startActivity(i);\r\n                    finish();\r\n                }\r\n            }, 2000);\r\n        }\r\n        else{\r\n            Loading.setVisibility(View.GONE);\r\n            incorrect_otp.setVisibility(View.VISIBLE);\r\n           // check.setVisibility(View.VISIBLE);\r\n            Toast.makeText(Registration.this,&quot;Incorrect OTP!!...Try again&quot;,Toast.LENGTH_LONG).show();\r\n            registerbtn.setEnabled(true);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nmy build.gradle file\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n    id &#39;com.google.android.libraries.mapsplatform.secrets-gradle-plugin&#39;\r\n\r\n}\r\n\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.barberr&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n//    buildFeatures{\r\n//        viewBinding true\r\n//    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.1.0&#39;)\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n\r\n\r\n    implementation &#39;com.google.firebase:firebase-auth&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:20.1.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;androidx.browser:browser:1.4.0&#39;\r\n}\r\n```\r\n","title":"firebase otp code received but onverificationcomplete() method is not getting called","body":"<p>i want the otp sent by Firebase so i can verify that otp entered by user and otp sent by firebase is same or not so i can proceed furthure..through internet i got that by  phoneAuthCredential.getSmsCode() i can get otp sent by firebase.but that credential object is in onverificationcomplete() method which is not getting called in my case.</p>\n<p>when i run the app i get otp but when i entered that same otp or wrong otp in both cases the next activity get started...</p>\n<p>code :</p>\n<pre><code>    private void sendVerificationCode(String number) {\n        // this method is used for getting\n        // OTP on user phone number.\n        Log.d(&quot;piooo&quot;, number);\n        PhoneAuthOptions options =\n                PhoneAuthOptions.newBuilder(mAuth)\n                        .setPhoneNumber(number)            // Phone number to verify\n                        .setTimeout(60L, TimeUnit.SECONDS) // Timeout and unit\n                        .setActivity(this)                 // Activity (for callback binding)\n                        .setCallbacks(mCallBack)           // OnVerificationStateChangedCallbacks\n                        .build();\n        PhoneAuthProvider.verifyPhoneNumber(options);\n    }\n\n    // callback method is called on Phone auth provider.\n    private PhoneAuthProvider.OnVerificationStateChangedCallbacks\n            mCallBack = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\n\n        @Override\n        public void onVerificationCompleted(PhoneAuthCredential phoneAuthCredential) {\n            // below line is used for getting OTP code\n            // which is sent in phone auth credentials.\n\n            Log.d(&quot;piooo&quot;,&quot;verification completed &quot;);\n            codesent = phoneAuthCredential.getSmsCode();\n            Log.d(&quot;piooo  firebasecodesent&quot;, codesent);\n\n\n        }\n\n        @Override\n        public void onVerificationFailed(FirebaseException e) {\n            // displaying error message with firebase exception.\n            Log.d(&quot;piooo  fail&quot;, &quot;&quot;);\n            Toast.makeText(Registration.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n            Toast.makeText(Registration.this, &quot;Try Again&quot;, Toast.LENGTH_SHORT).show();\n            registerbtn.setEnabled(true);\n        }\n\n        @Override\n        public void onCodeSent(String s, PhoneAuthProvider.ForceResendingToken forceResendingToken) {\n            super.onCodeSent(s, forceResendingToken);\n            // when we receive the OTP it\n            // contains a unique id which\n            Log.d(&quot;piooo  code sent&quot;, &quot;&quot;);\n            Log.d(&quot;piooo  otp code&quot;, s);\n            verificationId = s;\n            progressDialog.dismiss();\n            alertDialog.show();\n\n            otp1.addTextChangedListener(new TextWatcher() {\n                @Override\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                }\n\n                @Override\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                    otp2.requestFocus();\n                }\n\n                @Override\n                public void afterTextChanged(Editable editable) {\n\n                }\n            });\n            otp2.addTextChangedListener(new TextWatcher() {\n                @Override\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                }\n\n                @Override\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                    otp3.requestFocus();\n                }\n\n                @Override\n                public void afterTextChanged(Editable editable) {\n\n                }\n            });\n            otp3.addTextChangedListener(new TextWatcher() {\n                @Override\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                }\n\n                @Override\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                    otp4.requestFocus();\n                }\n\n                @Override\n                public void afterTextChanged(Editable editable) {\n\n                }\n            });\n            otp4.addTextChangedListener(new TextWatcher() {\n                @Override\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                }\n\n                @Override\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                    otp5.requestFocus();\n                }\n\n                @Override\n                public void afterTextChanged(Editable editable) {\n\n                }\n            });\n            otp5.addTextChangedListener(new TextWatcher() {\n                @Override\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                }\n\n                @Override\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                    otp6.requestFocus();\n                }\n\n                @Override\n                public void afterTextChanged(Editable editable) {\n\n                }\n            });\n\n        }\n\n    };\n</code></pre>\n<p>below code is for verify both codes\n..if i make  PhoneAuthCredential object here and call method getsmscode() then i get the code which is user inputed code but i want code sent by firebase.</p>\n<pre><code>// below method is use to verify code from Firebase.\n    private void verifyCode(String code) {\n        Log.d(&quot;piooo  verify code fun&quot;, &quot;&quot;);\n        Log.d(&quot;piooo comparison&quot;, &quot;code=&quot;+code+&quot;codesent=&quot;+codesent);\n\n        PhoneAuthCredential credential = PhoneAuthProvider.getCredential(verificationId, code);\n        codesent=credential.getSmsCode();\n        Log.d(&quot;piooo  codesent&quot;, codesent);\n        if (code.equals(codesent)) {\n            Toast.makeText(Registration.this, &quot;Ready To Go&quot;, Toast.LENGTH_LONG).show();\n            Loading.setVisibility(View.GONE);\n            check.setVisibility(View.VISIBLE);\n            user user = new user(&quot;default&quot;, user_name.getText().toString(), user_mail.getText().toString(),\n                    user_password.getText().toString(), user_mobile_no.getText().toString());\n            database.getReference().child(&quot;Users&quot;).child(authwithmail_uid).setValue(user);\n            Handler handler = new Handler();\n            handler.postDelayed(new Runnable() {\n                public void run() {\n                    Intent i = new Intent(Registration.this, custHomeActivity.class);\n                    Log.d(&quot;piooo reg uidd maauth&quot;, mAuth.getCurrentUser().getUid());\n                    i.putExtra(&quot;userid&quot;, authwithmail_uid);\n                    startActivity(i);\n                    finish();\n                }\n            }, 2000);\n        }\n        else{\n            Loading.setVisibility(View.GONE);\n            incorrect_otp.setVisibility(View.VISIBLE);\n           // check.setVisibility(View.VISIBLE);\n            Toast.makeText(Registration.this,&quot;Incorrect OTP!!...Try again&quot;,Toast.LENGTH_LONG).show();\n            registerbtn.setEnabled(true);\n        }\n    }\n</code></pre>\n<p>my build.gradle file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n    id 'com.google.android.libraries.mapsplatform.secrets-gradle-plugin'\n\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.barberr&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n//    buildFeatures{\n//        viewBinding true\n//    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation platform('com.google.firebase:firebase-bom:29.1.0')\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n\n\n    implementation 'com.google.firebase:firebase-auth'\n    implementation 'com.google.android.gms:play-services-auth:20.1.0'\n    implementation 'com.google.firebase:firebase-database:20.0.3'\n    implementation 'com.google.firebase:firebase-storage:20.0.0'\n    implementation 'com.google.firebase:firebase-core:20.1.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation 'androidx.browser:browser:1.4.0'\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1646134651,"post_id":71307426,"comment_id":126043872,"body_markdown":"If you consider at some point in time to try using [Cloud Firestore](https://firebase.google.com/docs/firestore/), I have explained in one of my tutorials step by step, how you can send [notifications](https://www.youtube.com/watch?v=6RzB4HXzQyA&amp;t=3s&amp;list=PLn2n4GESV0AmXOWOam729bC47v0d0Ohee&amp;index=17) to specific users using Node.js. You can also take a look at my answer from this [post](https://stackoverflow.com/questions/48298993/push-notifications-on-content-change/48299840).","body":"If you consider at some point in time to try using <a href=\"https://firebase.google.com/docs/firestore/\" rel=\"nofollow noreferrer\">Cloud Firestore</a>, I have explained in one of my tutorials step by step, how you can send <a href=\"https://www.youtube.com/watch?v=6RzB4HXzQyA&amp;t=3s&amp;list=PLn2n4GESV0AmXOWOam729bC47v0d0Ohee&amp;index=17\" rel=\"nofollow noreferrer\">notifications</a> to specific users using Node.js. You can also take a look at my answer from this <a href=\"https://stackoverflow.com/questions/48298993/push-notifications-on-content-change/48299840\">post</a>."}],"answers":[{"tags":[],"owner":{"account_id":12241861,"reputation":328,"user_id":8934696,"display_name":"AhmetAcikalin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646132822,"creation_date":1646132822,"answer_id":71307520,"question_id":71307426,"body_markdown":"You can not show it through your app. It is system feature. \r\n\r\nhttps://firebase.google.com/docs/cloud-messaging/concept-options\r\n\r\nyour json body should include\r\n &quot;notification&quot;:{\r\n      &quot;title&quot;:&quot;Portugal vs. Denmark&quot;,\r\n      &quot;body&quot;:&quot;great match!&quot;\r\n    } ","title":"How to make app able to show notification when it is closed","body":"<p>You can not show it through your app. It is system feature.</p>\n<p><a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/concept-options</a></p>\n<p>your json body should include\n&quot;notification&quot;:{\n&quot;title&quot;:&quot;Portugal vs. Denmark&quot;,\n&quot;body&quot;:&quot;great match!&quot;\n}</p>\n"},{"tags":[],"owner":{"account_id":7336430,"reputation":101,"user_id":5587659,"accept_rate":60,"display_name":"Mathi Vanan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646138561,"creation_date":1646138561,"answer_id":71308671,"question_id":71307426,"body_markdown":"You should use FCM for targeting the notification.\r\n\r\nWhenever a message is sent(data inserted in the Firebase DB) you need to pull the data from DB and send a notification to the particular device using registration ID of the device.\r\n\r\nThe FCM notifaction should be a data type(user defined payload) if you wish your app to receive notification even when the app is in background or closed.\r\n\r\nYou can use Notification Type (the object holds &quot;notification&quot; as Key), this will work only when the app is in foreground.\r\n\r\nTake a look at this\r\n\r\nhttps://firebase.google.com/docs/cloud-messaging/concept-options","title":"How to make app able to show notification when it is closed","body":"<p>You should use FCM for targeting the notification.</p>\n<p>Whenever a message is sent(data inserted in the Firebase DB) you need to pull the data from DB and send a notification to the particular device using registration ID of the device.</p>\n<p>The FCM notifaction should be a data type(user defined payload) if you wish your app to receive notification even when the app is in background or closed.</p>\n<p>You can use Notification Type (the object holds &quot;notification&quot; as Key), this will work only when the app is in foreground.</p>\n<p>Take a look at this</p>\n<p><a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/concept-options</a></p>\n"}],"owner":{"account_id":24416059,"reputation":1,"user_id":18342911,"display_name":"Ashwin George"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646146958,"creation_date":1646132385,"question_id":71307426,"body_markdown":"**I have included a chatting feature in my app using Firebase realtime Database.\r\nI want to be able to show notification when another user sends a message even when the app is turned but I&#39;m not sure how**\r\n\r\n    package com.example.android.crazytenmessenger;\r\n    \r\n    import androidx.activity.result.ActivityResultCallback;\r\n    import androidx.activity.result.ActivityResultLauncher;\r\n    import androidx.activity.result.contract.ActivityResultContracts;\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.app.ProgressDialog;\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.preference.PreferenceManager;\r\n    import android.text.Editable;\r\n    import android.text.InputFilter;\r\n    import android.text.TextWatcher;\r\n    import android.util.Log;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageView;\r\n    import android.widget.ListView;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.Toast;\r\n    \r\n    import com.example.android.crazytenmessenger.auth.UserProfileActivity;\r\n    import com.example.android.crazytenmessenger.dao.MessageDAOHelper;\r\n    import com.example.android.crazytenmessenger.utils.DateUtils;\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.OnFailureListener;\r\n    import com.google.android.gms.tasks.OnSuccessListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    import com.google.android.material.snackbar.BaseTransientBottomBar;\r\n    import com.google.android.material.snackbar.Snackbar;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.ChildEventListener;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.storage.FirebaseStorage;\r\n    import com.google.firebase.storage.OnProgressListener;\r\n    import com.google.firebase.storage.StorageReference;\r\n    import com.google.firebase.storage.UploadTask;\r\n    \r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MessagingActivity extends AppCompatActivity {\r\n    \r\n        private ListView listView;\r\n        private FloatingActionButton sendButton;\r\n        private EditText messageEditTextBox;\r\n        private ProgressBar progressBar;\r\n        private ImageView imagePicker;\r\n    \r\n        private static final String TAG=MessagingActivity.class.getSimpleName();\r\n        private static final int MAX_WORD_LIMIT = 1000;\r\n    \r\n        private DatabaseReference messageDatabaseReference;\r\n        private FirebaseStorage firebaseStorage;\r\n        private StorageReference chatPhotoStorageReference;\r\n        private ChildEventListener childEventListener;\r\n        private List&lt;Message&gt; messages;\r\n        private SharedPreferences sharedPreferences;\r\n        private String username;\r\n        private MessageDAOHelper daoHelper;\r\n        private MessageAdapter messageAdapter;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_messaging);\r\n    \r\n            listView=(ListView) findViewById(R.id.message_list_view);\r\n            messageEditTextBox=(EditText) findViewById(R.id.message_box);\r\n            sendButton=(FloatingActionButton) findViewById(R.id.send_button);\r\n            imagePicker=(ImageView) findViewById(R.id.image_picker);\r\n            progressBar=(ProgressBar)  findViewById(R.id.progress_Bar);\r\n    \r\n            daoHelper=new MessageDAOHelper();\r\n            messageDatabaseReference=daoHelper.getMessageDatabaseReference();\r\n            firebaseStorage=FirebaseStorage.getInstance();\r\n            chatPhotoStorageReference=firebaseStorage.getReference().child(&quot;chat_photos&quot;);\r\n            sharedPreferences= PreferenceManager.getDefaultSharedPreferences(this);\r\n    \r\n            messages=new ArrayList&lt;&gt;();\r\n            loadPreviousMessages();\r\n            messageAdapter=new MessageAdapter(this,R.layout.item_message,messages);\r\n            listView.setAdapter(messageAdapter);\r\n            username=FirebaseAuth.getInstance().getCurrentUser().getDisplayName();\r\n    \r\n            ActivityResultLauncher&lt;String&gt; mGetContent=registerForActivityResult(new ActivityResultContracts.GetContent(),\r\n                    new ActivityResultCallback&lt;Uri&gt;() {\r\n                @Override\r\n                public void onActivityResult(Uri result) {\r\n                    uploadPhoto(result);\r\n                }\r\n            });\r\n    \r\n    \r\n            childEventListener=new ChildEventListener() {\r\n                @Override\r\n                public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                    Message currentMsg=snapshot.getValue(Message.class);\r\n                    messageAdapter.add(currentMsg);\r\n                    listView.smoothScrollToPosition(messageAdapter.getCount());\r\n                }\r\n                @Override\r\n                public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) { }\r\n    \r\n                @Override\r\n                public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n                    Snackbar.make(findViewById(android.R.id.content),&quot;succesfully removed&quot;, BaseTransientBottomBar.LENGTH_SHORT).show();\r\n                    Log.v(TAG,&quot;Removed : &quot;+snapshot.getValue());\r\n                }\r\n    \r\n                @Override\r\n                public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) { }\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) { }\r\n            };\r\n    \r\n            messageEditTextBox.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence s, int start, int count, int after) { }\r\n    \r\n                @Override\r\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                    if(s.toString().trim().length()&gt;0)\r\n                        sendButton.setEnabled(true);\r\n                    else\r\n                        sendButton.setEnabled(false);\r\n                }\r\n    \r\n                @Override\r\n                public void afterTextChanged(Editable s) { }\r\n            });\r\n    \r\n            messageEditTextBox.setFilters(new InputFilter[]{new InputFilter.LengthFilter(MAX_WORD_LIMIT)});\r\n    \r\n            sendButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    username=sharedPreferences.getString(getString(R.string.my_profile_username_key),&quot;USER&quot;);\r\n                    username=FirebaseAuth.getInstance().getCurrentUser().getDisplayName();\r\n                    String timeStamp= DateUtils.getCurrentTimestamp();\r\n                    Message message=new Message(messageEditTextBox.getText().toString(),username, null, timeStamp);\r\n                    daoHelper.addMessage(message).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void unused) {\r\n    \r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Snackbar.make(findViewById(android.R.id.content),&quot;Message Not Sent &quot;+e.getMessage(), BaseTransientBottomBar.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n    \r\n                    messageEditTextBox.setText(&quot;&quot;);\r\n                }\r\n            });\r\n            imagePicker.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    mGetContent.launch(&quot;image/*&quot;);\r\n                }\r\n            });\r\n            messageDatabaseReference.addChildEventListener(childEventListener);\r\n        }\r\n    \r\n        /**\r\n         * Signing in the the current user automatically using OnStart\r\n         * Using Firebase Auth getCurrentUser\r\n        */\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            String user= FirebaseAuth.getInstance().getCurrentUser().getDisplayName();\r\n            if(user==null)\r\n                user=&quot;&quot;;\r\n            Snackbar.make(findViewById(android.R.id.content),&quot;Welcome &quot;+user,BaseTransientBottomBar.LENGTH_SHORT).show();\r\n        }\r\n    \r\n    \r\n    \r\n        public void uploadPhoto(Uri uri){\r\n            final ProgressDialog progressDialog=new ProgressDialog(this);\r\n            progressDialog.setTitle(&quot;Uploading Image.....&quot;);\r\n            progressDialog.show();\r\n            StorageReference photoRef=chatPhotoStorageReference.child(uri.getLastPathSegment());\r\n            photoRef.putFile(uri)\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                            Task&lt;Uri&gt; result=taskSnapshot.getMetadata().getReference().getDownloadUrl();\r\n                            progressDialog.dismiss();\r\n                            result.addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                                @Override\r\n                                public void onSuccess(Uri uri) {\r\n                                    String timeStamp=DateUtils.getCurrentTimestamp();\r\n                                    Message newMessage=new Message(null,username,uri.toString(), timeStamp);\r\n                                    daoHelper.addMessage(newMessage);\r\n                                }\r\n                            });\r\n    \r\n                        }\r\n                    })\r\n                    .addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                        @Override\r\n                        public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {\r\n                            double percentage=(100.00*snapshot.getBytesTransferred() / snapshot.getTotalByteCount());\r\n                            Log.v(TAG,&quot;Progress : &quot;+percentage);\r\n                            progressDialog.setMessage(&quot;Progress  : &quot;+(int)percentage+&quot;%&quot;);\r\n                        }\r\n                    });\r\n            Toast.makeText(this,&quot;Image uploaded&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n    \r\n    \r\n        private void deleteAllMessages(){\r\n            AlertDialog dialog=new AlertDialog.Builder(this)\r\n                    .setTitle(&quot;Delete all messages&quot;)\r\n                    .setMessage(&quot;Are you sure you want to delete all messages&quot;)\r\n                    .setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\r\n    \r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n    \r\n                            Toast.makeText(getApplicationContext(),&quot;Deleting... &quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n                            messageDatabaseReference.removeValue().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                }\r\n                            });\r\n                            chatPhotoStorageReference.delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    Toast.makeText(getApplicationContext(),&quot;All files Deleted &quot;,Toast.LENGTH_SHORT).show();\r\n                                    messages.clear();\r\n                                    messageAdapter.notifyDataSetChanged();\r\n                                    listView.setAdapter(messageAdapter);\r\n                                    loadPreviousMessages();\r\n    \r\n                                }\r\n                            });\r\n                        }\r\n                    })\r\n                    .setNegativeButton(android.R.string.no,null)\r\n                    .setIcon(android.R.drawable.ic_dialog_alert)\r\n                    .show();\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        private void loadPreviousMessages(){\r\n            messageDatabaseReference.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                    if(!task.isSuccessful())\r\n                        Log.e(TAG,&quot;Error in retrieving data &quot;,task.getException());\r\n                    else{\r\n                        int count= (int) task.getResult().getChildrenCount();\r\n                        if(count==0){\r\n    \r\n                            Snackbar.make(findViewById(android.R.id.content),\r\n                                    &quot;Let&#39;s start chatting&quot;,\r\n                                    BaseTransientBottomBar.LENGTH_SHORT).show();\r\n                            progressBar.setVisibility(View.GONE);\r\n                            return;\r\n                        }\r\n                        progressBar.setVisibility(View.GONE);\r\n                    }\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.main_menu,menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n            int id=item.getItemId();\r\n            if(id==R.id.profile_menu){\r\n                Intent intent=new Intent(MessagingActivity.this, UserProfileActivity.class);\r\n                startActivity(intent);\r\n            }else if(id==R.id.delete_all_option){\r\n                deleteAllMessages();\r\n            }else if(id==R.id.signout){\r\n                signoutCurrentUser();\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n    \r\n    \r\n        private void signoutCurrentUser() {\r\n            FirebaseAuth.getInstance().signOut();\r\n            finish();\r\n        }\r\n    }\r\n\r\n**I used child event listeners on firebase database reference to know the message sent but how to use it for notification.**","title":"How to make app able to show notification when it is closed","body":"<p><strong>I have included a chatting feature in my app using Firebase realtime Database.\nI want to be able to show notification when another user sends a message even when the app is turned but I'm not sure how</strong></p>\n<pre><code>package com.example.android.crazytenmessenger;\n\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.ProgressDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.preference.PreferenceManager;\nimport android.text.Editable;\nimport android.text.InputFilter;\nimport android.text.TextWatcher;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.ListView;\nimport android.widget.ProgressBar;\nimport android.widget.Toast;\n\nimport com.example.android.crazytenmessenger.auth.UserProfileActivity;\nimport com.example.android.crazytenmessenger.dao.MessageDAOHelper;\nimport com.example.android.crazytenmessenger.utils.DateUtils;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.android.material.snackbar.BaseTransientBottomBar;\nimport com.google.android.material.snackbar.Snackbar;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.ChildEventListener;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.OnProgressListener;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MessagingActivity extends AppCompatActivity {\n\n    private ListView listView;\n    private FloatingActionButton sendButton;\n    private EditText messageEditTextBox;\n    private ProgressBar progressBar;\n    private ImageView imagePicker;\n\n    private static final String TAG=MessagingActivity.class.getSimpleName();\n    private static final int MAX_WORD_LIMIT = 1000;\n\n    private DatabaseReference messageDatabaseReference;\n    private FirebaseStorage firebaseStorage;\n    private StorageReference chatPhotoStorageReference;\n    private ChildEventListener childEventListener;\n    private List&lt;Message&gt; messages;\n    private SharedPreferences sharedPreferences;\n    private String username;\n    private MessageDAOHelper daoHelper;\n    private MessageAdapter messageAdapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_messaging);\n\n        listView=(ListView) findViewById(R.id.message_list_view);\n        messageEditTextBox=(EditText) findViewById(R.id.message_box);\n        sendButton=(FloatingActionButton) findViewById(R.id.send_button);\n        imagePicker=(ImageView) findViewById(R.id.image_picker);\n        progressBar=(ProgressBar)  findViewById(R.id.progress_Bar);\n\n        daoHelper=new MessageDAOHelper();\n        messageDatabaseReference=daoHelper.getMessageDatabaseReference();\n        firebaseStorage=FirebaseStorage.getInstance();\n        chatPhotoStorageReference=firebaseStorage.getReference().child(&quot;chat_photos&quot;);\n        sharedPreferences= PreferenceManager.getDefaultSharedPreferences(this);\n\n        messages=new ArrayList&lt;&gt;();\n        loadPreviousMessages();\n        messageAdapter=new MessageAdapter(this,R.layout.item_message,messages);\n        listView.setAdapter(messageAdapter);\n        username=FirebaseAuth.getInstance().getCurrentUser().getDisplayName();\n\n        ActivityResultLauncher&lt;String&gt; mGetContent=registerForActivityResult(new ActivityResultContracts.GetContent(),\n                new ActivityResultCallback&lt;Uri&gt;() {\n            @Override\n            public void onActivityResult(Uri result) {\n                uploadPhoto(result);\n            }\n        });\n\n\n        childEventListener=new ChildEventListener() {\n            @Override\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                Message currentMsg=snapshot.getValue(Message.class);\n                messageAdapter.add(currentMsg);\n                listView.smoothScrollToPosition(messageAdapter.getCount());\n            }\n            @Override\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) { }\n\n            @Override\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\n                Snackbar.make(findViewById(android.R.id.content),&quot;succesfully removed&quot;, BaseTransientBottomBar.LENGTH_SHORT).show();\n                Log.v(TAG,&quot;Removed : &quot;+snapshot.getValue());\n            }\n\n            @Override\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) { }\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) { }\n        };\n\n        messageEditTextBox.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) { }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                if(s.toString().trim().length()&gt;0)\n                    sendButton.setEnabled(true);\n                else\n                    sendButton.setEnabled(false);\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) { }\n        });\n\n        messageEditTextBox.setFilters(new InputFilter[]{new InputFilter.LengthFilter(MAX_WORD_LIMIT)});\n\n        sendButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                username=sharedPreferences.getString(getString(R.string.my_profile_username_key),&quot;USER&quot;);\n                username=FirebaseAuth.getInstance().getCurrentUser().getDisplayName();\n                String timeStamp= DateUtils.getCurrentTimestamp();\n                Message message=new Message(messageEditTextBox.getText().toString(),username, null, timeStamp);\n                daoHelper.addMessage(message).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void unused) {\n\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Snackbar.make(findViewById(android.R.id.content),&quot;Message Not Sent &quot;+e.getMessage(), BaseTransientBottomBar.LENGTH_SHORT).show();\n                    }\n                });\n\n                messageEditTextBox.setText(&quot;&quot;);\n            }\n        });\n        imagePicker.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                mGetContent.launch(&quot;image/*&quot;);\n            }\n        });\n        messageDatabaseReference.addChildEventListener(childEventListener);\n    }\n\n    /**\n     * Signing in the the current user automatically using OnStart\n     * Using Firebase Auth getCurrentUser\n    */\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        String user= FirebaseAuth.getInstance().getCurrentUser().getDisplayName();\n        if(user==null)\n            user=&quot;&quot;;\n        Snackbar.make(findViewById(android.R.id.content),&quot;Welcome &quot;+user,BaseTransientBottomBar.LENGTH_SHORT).show();\n    }\n\n\n\n    public void uploadPhoto(Uri uri){\n        final ProgressDialog progressDialog=new ProgressDialog(this);\n        progressDialog.setTitle(&quot;Uploading Image.....&quot;);\n        progressDialog.show();\n        StorageReference photoRef=chatPhotoStorageReference.child(uri.getLastPathSegment());\n        photoRef.putFile(uri)\n                .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                        Task&lt;Uri&gt; result=taskSnapshot.getMetadata().getReference().getDownloadUrl();\n                        progressDialog.dismiss();\n                        result.addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                            @Override\n                            public void onSuccess(Uri uri) {\n                                String timeStamp=DateUtils.getCurrentTimestamp();\n                                Message newMessage=new Message(null,username,uri.toString(), timeStamp);\n                                daoHelper.addMessage(newMessage);\n                            }\n                        });\n\n                    }\n                })\n                .addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {\n                        double percentage=(100.00*snapshot.getBytesTransferred() / snapshot.getTotalByteCount());\n                        Log.v(TAG,&quot;Progress : &quot;+percentage);\n                        progressDialog.setMessage(&quot;Progress  : &quot;+(int)percentage+&quot;%&quot;);\n                    }\n                });\n        Toast.makeText(this,&quot;Image uploaded&quot;,Toast.LENGTH_SHORT).show();\n    }\n\n\n\n    private void deleteAllMessages(){\n        AlertDialog dialog=new AlertDialog.Builder(this)\n                .setTitle(&quot;Delete all messages&quot;)\n                .setMessage(&quot;Are you sure you want to delete all messages&quot;)\n                .setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\n\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n\n                        Toast.makeText(getApplicationContext(),&quot;Deleting... &quot;,Toast.LENGTH_SHORT).show();\n\n                        messageDatabaseReference.removeValue().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                            }\n                        });\n                        chatPhotoStorageReference.delete().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                Toast.makeText(getApplicationContext(),&quot;All files Deleted &quot;,Toast.LENGTH_SHORT).show();\n                                messages.clear();\n                                messageAdapter.notifyDataSetChanged();\n                                listView.setAdapter(messageAdapter);\n                                loadPreviousMessages();\n\n                            }\n                        });\n                    }\n                })\n                .setNegativeButton(android.R.string.no,null)\n                .setIcon(android.R.drawable.ic_dialog_alert)\n                .show();\n\n    }\n\n\n\n    private void loadPreviousMessages(){\n        messageDatabaseReference.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                if(!task.isSuccessful())\n                    Log.e(TAG,&quot;Error in retrieving data &quot;,task.getException());\n                else{\n                    int count= (int) task.getResult().getChildrenCount();\n                    if(count==0){\n\n                        Snackbar.make(findViewById(android.R.id.content),\n                                &quot;Let's start chatting&quot;,\n                                BaseTransientBottomBar.LENGTH_SHORT).show();\n                        progressBar.setVisibility(View.GONE);\n                        return;\n                    }\n                    progressBar.setVisibility(View.GONE);\n                }\n            }\n        });\n\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.main_menu,menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        int id=item.getItemId();\n        if(id==R.id.profile_menu){\n            Intent intent=new Intent(MessagingActivity.this, UserProfileActivity.class);\n            startActivity(intent);\n        }else if(id==R.id.delete_all_option){\n            deleteAllMessages();\n        }else if(id==R.id.signout){\n            signoutCurrentUser();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n\n\n    private void signoutCurrentUser() {\n        FirebaseAuth.getInstance().signOut();\n        finish();\n    }\n}\n</code></pre>\n<p><strong>I used child event listeners on firebase database reference to know the message sent but how to use it for notification.</strong></p>\n"},{"tags":["java","hashmap","fifo","circular-buffer"],"answers":[{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646146574,"creation_date":1646146574,"answer_id":71310418,"question_id":71310218,"body_markdown":"[CircularFifoBuffer][1] is not generic, it use the fixed `Object` type:\r\n\r\n    public boolean add(Object element)\r\n\r\nthen, you must to specify the exact source type since `Object` could be any type. If you write\r\n\r\n    buffer.get(345678).stream().mapToDouble(d -&gt; (Double) d).average().orElse(0.0)\r\n                                                  ^^^^^^\r\n\r\nyour code compile and produce the expected output\r\n\r\n    499.95000000000005\r\n\r\na good reading might be [The Basics of Java Generics][2].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/buffer/CircularFifoBuffer.html\r\n  [2]: https://www.baeldung.com/java-generics","title":"CircularFifoBuffer .avg() calculation fails","body":"<p><a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/org/apache/commons/collections/buffer/CircularFifoBuffer.html\" rel=\"nofollow noreferrer\">CircularFifoBuffer</a> is not generic, it use the fixed <code>Object</code> type:</p>\n<pre><code>public boolean add(Object element)\n</code></pre>\n<p>then, you must to specify the exact source type since <code>Object</code> could be any type. If you write</p>\n<pre><code>buffer.get(345678).stream().mapToDouble(d -&gt; (Double) d).average().orElse(0.0)\n                                              ^^^^^^\n</code></pre>\n<p>your code compile and produce the expected output</p>\n<pre><code>499.95000000000005\n</code></pre>\n<p>a good reading might be <a href=\"https://www.baeldung.com/java-generics\" rel=\"nofollow noreferrer\">The Basics of Java Generics</a>.</p>\n"}],"owner":{"account_id":1766239,"reputation":771,"user_id":1612060,"accept_rate":78,"display_name":"ThatQuantDude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71310418,"answer_count":1,"score":0,"last_activity_date":1646146574,"creation_date":1646145712,"question_id":71310218,"body_markdown":" I have the following dummy code which saves a list of doubles in a hasmap to a specific key, I want to be able to use this buffer to calculate average values over each key. \r\n \r\n        final int bufferSize = 5;\r\n\r\n        HashMap&lt;Integer, List&lt;Double&gt;&gt; testmap = new HashMap&lt;Integer, List&lt;Double&gt;&gt;();\r\n\r\n        List&lt;Double&gt; Values1 = Arrays.asList(1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9);\r\n        List&lt;Double&gt; Values2 = Arrays.asList(22.2,33.3,44.4,55.5,66.6,77.7,88.8,99.9);\r\n        List&lt;Double&gt; Values3 = Arrays.asList(333.3,444.4,555.5,666.6);\r\n\r\n        testmap.put(123456, Values1);\r\n        testmap.put(234567, Values2);\r\n        testmap.put(345678, Values3);\r\n\r\n        HashMap&lt;Integer, CircularFifoBuffer&gt; buffer = new HashMap&lt;Integer, CircularFifoBuffer&gt;();\r\n\r\n        for (Map.Entry&lt;Integer, List&lt;Double&gt;&gt; entry: testmap.entrySet()) {\r\n            Integer key = entry.getKey();\r\n            List&lt;Double&gt; value = entry.getValue();\r\n            CircularFifoBuffer bufferEntries = new CircularFifoBuffer(4);\r\n\r\n            for(Double val : value){\r\n                bufferEntries.add(val);\r\n            }\r\n\r\n            buffer.put(key, bufferEntries);\r\n        }\r\n\r\nI now want to calculate a simple average \r\n\r\n    buffer.get(345678).stream().mapToDouble(d -&gt; d).average().orElse(0.0)\r\n\r\nWhich returns &quot;incompatible types: bad return type in lambda expression, cannot be converted to Double. I tried without the maptoDOuble but then I do not get the avg() method. ANyone any idea why this won&#39;t work","title":"CircularFifoBuffer .avg() calculation fails","body":"<p>I have the following dummy code which saves a list of doubles in a hasmap to a specific key, I want to be able to use this buffer to calculate average values over each key.</p>\n<pre><code>    final int bufferSize = 5;\n\n    HashMap&lt;Integer, List&lt;Double&gt;&gt; testmap = new HashMap&lt;Integer, List&lt;Double&gt;&gt;();\n\n    List&lt;Double&gt; Values1 = Arrays.asList(1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9);\n    List&lt;Double&gt; Values2 = Arrays.asList(22.2,33.3,44.4,55.5,66.6,77.7,88.8,99.9);\n    List&lt;Double&gt; Values3 = Arrays.asList(333.3,444.4,555.5,666.6);\n\n    testmap.put(123456, Values1);\n    testmap.put(234567, Values2);\n    testmap.put(345678, Values3);\n\n    HashMap&lt;Integer, CircularFifoBuffer&gt; buffer = new HashMap&lt;Integer, CircularFifoBuffer&gt;();\n\n    for (Map.Entry&lt;Integer, List&lt;Double&gt;&gt; entry: testmap.entrySet()) {\n        Integer key = entry.getKey();\n        List&lt;Double&gt; value = entry.getValue();\n        CircularFifoBuffer bufferEntries = new CircularFifoBuffer(4);\n\n        for(Double val : value){\n            bufferEntries.add(val);\n        }\n\n        buffer.put(key, bufferEntries);\n    }\n</code></pre>\n<p>I now want to calculate a simple average</p>\n<pre><code>buffer.get(345678).stream().mapToDouble(d -&gt; d).average().orElse(0.0)\n</code></pre>\n<p>Which returns &quot;incompatible types: bad return type in lambda expression, cannot be converted to Double. I tried without the maptoDOuble but then I do not get the avg() method. ANyone any idea why this won't work</p>\n"},{"tags":["java","csv","parsing"],"comments":[{"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"score":0,"creation_date":1540826018,"post_id":53048441,"comment_id":92996694,"body_markdown":"There are different ways to read a file which performance is commented in [this other SO question](https://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/40597140#40597140).","body":"There are different ways to read a file which performance is commented in <a href=\"https://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/40597140#40597140\">this other SO question</a>."},{"owner":{"account_id":3977767,"reputation":22190,"user_id":3280538,"accept_rate":74,"display_name":"flakes"},"score":0,"creation_date":1540826088,"post_id":53048441,"comment_id":92996746,"body_markdown":"Depends on the application.. I would think that in most situations the bottle neck would be pushing the data to persistence rather than reading from a csv file. Given that the file is huge, you may want to only partially load the csv data into memory to ensure that you are not memory bound.","body":"Depends on the application.. I would think that in most situations the bottle neck would be pushing the data to persistence rather than reading from a csv file. Given that the file is huge, you may want to only partially load the csv data into memory to ensure that you are not memory bound."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1540828284,"post_id":53048441,"comment_id":92998137,"body_markdown":"“It loads the entire csv into memory” ← That is the cause of your problem.  Don’t do that.  Parse each line after reading it.  The whole point of InputStreams and Readers is having manageable amounts of data in memory.","body":"“It loads the entire csv into memory” ← That is the cause of your problem.  Don’t do that.  Parse each line after reading it.  The whole point of InputStreams and Readers is having manageable amounts of data in memory."},{"owner":{"account_id":2865838,"reputation":77,"user_id":2460185,"accept_rate":20,"display_name":"StarFish"},"score":0,"creation_date":1540829576,"post_id":53048441,"comment_id":92998981,"body_markdown":"Thank you for the response.I have updated the question with mycode. We are converting into filebytes and calling the parse(byte bytes[]). Do I need to change my implementation here? Any sample code that you can refer to?","body":"Thank you for the response.I have updated the question with mycode. We are converting into filebytes and calling the parse(byte bytes[]). Do I need to change my implementation here? Any sample code that you can refer to?"},{"owner":{"account_id":2865838,"reputation":77,"user_id":2460185,"accept_rate":20,"display_name":"StarFish"},"score":0,"creation_date":1540830587,"post_id":53048441,"comment_id":92999561,"body_markdown":"Is there a way to send file bytes in chunks in java for parsing?","body":"Is there a way to send file bytes in chunks in java for parsing?"}],"answers":[{"tags":[],"owner":{"account_id":1672993,"reputation":1097,"user_id":1539076,"display_name":"Jerin Joseph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540829678,"creation_date":1540829678,"answer_id":53049658,"question_id":53048441,"body_markdown":"Use the [Commons CSV][1] Library by Apache.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-csv/","title":"How to parse huge csv file efficiently in java","body":"<p>Use the <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Commons CSV</a> Library by Apache.</p>\n"},{"tags":[],"owner":{"account_id":4865932,"reputation":6159,"user_id":3924178,"display_name":"Jeronimo Backes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1540864706,"creation_date":1540864393,"answer_id":53056293,"question_id":53048441,"body_markdown":"univocity-parsers is your best bet on loading the CSV file, you probably won&#39;t be able to hand code anything faster. The problems you are having come from possibly 2 things:\r\n\r\n1 - loading everything in memory. That&#39;s generally a bad design decision, but if you do that make sure to have enough memory allocated for your application. Give it more memory \r\nusing flags `-Xms8G` and `Xmx8G` for example.\r\n\r\n2 - you are probably not batching your insert statements.\r\n\r\nMy suggestion is to try this (using univocity-parsers):\r\n\r\n        //configure input format using\r\n\t\tCsvParserSettings settings = new CsvParserSettings();\r\n\t\t\r\n\t\t//get an interator\r\n\t\tCsvParser parser = new CsvParser(settings);\r\n\t\tIterator&lt;String[]&gt; it = parser.iterate(new File(&quot;/path/to/your.csv&quot;), &quot;UTF-8&quot;).iterator();\r\n\t\t\r\n\t\t//connect to the database and create an insert statement\r\n\t\tConnection connection = getYourDatabaseConnectionSomehow();\r\n\t\tfinal int COLUMN_COUNT = 2;\r\n\t\tPreparedStatement statement = connection.prepareStatement(&quot;INSERT INTO some_table(column1, column2) VALUES (?,?)&quot;); \r\n\t\t\r\n\t\t//run batch inserts of 1000 rows per batch\r\n\t\tint batchSize = 0;\r\n\t\twhile (it.hasNext()) {\r\n\t\t\t//get next row from parser and set values in your statement\r\n\t\t\tString[] row = it.next(); \r\n\t\t\tfor(int i = 0; i &lt; COLUMN_COUNT; i++){ \r\n\t\t\t\tif(i &lt; row.length){\r\n\t\t\t\t\tstatement.setObject(i + 1, row[i]);\r\n\t\t\t\t} else { //row in input is shorter than COLUMN_COUNT\r\n\t\t\t\t\tstatement.setObject(i + 1, null);\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//add the values to the batch\r\n\t\t\tstatement.addBatch();\r\n\t\t\tbatchSize++;\r\n\r\n\t\t\t//once 1000 rows made into the batch, execute it\r\n\t\t\tif (batchSize == 1000) {\r\n\t\t\t\tstatement.executeBatch();\r\n\t\t\t\tbatchSize = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// the last batch probably won&#39;t have 1000 rows.\r\n\t\tif (batchSize &gt; 0) {\r\n\t\t\tstatement.executeBatch();\r\n\t\t}\r\n\r\nThis should execute pretty quickly and you won&#39;t need not even 100mb of memory to run.\r\n\r\nFor the sake of clarity, I didn&#39;t use any try/catch/finally block to close any resources here. Your actual code must handle that.\r\n\r\nHope it helps.","title":"How to parse huge csv file efficiently in java","body":"<p>univocity-parsers is your best bet on loading the CSV file, you probably won't be able to hand code anything faster. The problems you are having come from possibly 2 things:</p>\n\n<p>1 - loading everything in memory. That's generally a bad design decision, but if you do that make sure to have enough memory allocated for your application. Give it more memory \nusing flags <code>-Xms8G</code> and <code>Xmx8G</code> for example.</p>\n\n<p>2 - you are probably not batching your insert statements.</p>\n\n<p>My suggestion is to try this (using univocity-parsers):</p>\n\n<pre><code>    //configure input format using\n    CsvParserSettings settings = new CsvParserSettings();\n\n    //get an interator\n    CsvParser parser = new CsvParser(settings);\n    Iterator&lt;String[]&gt; it = parser.iterate(new File(\"/path/to/your.csv\"), \"UTF-8\").iterator();\n\n    //connect to the database and create an insert statement\n    Connection connection = getYourDatabaseConnectionSomehow();\n    final int COLUMN_COUNT = 2;\n    PreparedStatement statement = connection.prepareStatement(\"INSERT INTO some_table(column1, column2) VALUES (?,?)\"); \n\n    //run batch inserts of 1000 rows per batch\n    int batchSize = 0;\n    while (it.hasNext()) {\n        //get next row from parser and set values in your statement\n        String[] row = it.next(); \n        for(int i = 0; i &lt; COLUMN_COUNT; i++){ \n            if(i &lt; row.length){\n                statement.setObject(i + 1, row[i]);\n            } else { //row in input is shorter than COLUMN_COUNT\n                statement.setObject(i + 1, null);   \n            }\n        }\n\n        //add the values to the batch\n        statement.addBatch();\n        batchSize++;\n\n        //once 1000 rows made into the batch, execute it\n        if (batchSize == 1000) {\n            statement.executeBatch();\n            batchSize = 0;\n        }\n    }\n    // the last batch probably won't have 1000 rows.\n    if (batchSize &gt; 0) {\n        statement.executeBatch();\n    }\n</code></pre>\n\n<p>This should execute pretty quickly and you won't need not even 100mb of memory to run.</p>\n\n<p>For the sake of clarity, I didn't use any try/catch/finally block to close any resources here. Your actual code must handle that.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646146317,"creation_date":1646146317,"answer_id":71310360,"question_id":53048441,"body_markdown":"Streaming with Apache Commons IO\r\n\r\n````\r\ntry (LineIterator it = FileUtils.lineIterator(theFile, &quot;UTF-8&quot;)) {\r\n    while (it.hasNext()) {\r\n        String line = it.nextLine();\r\n        // do something with line\r\n    }\r\n}\r\n````","title":"How to parse huge csv file efficiently in java","body":"<p>Streaming with Apache Commons IO</p>\n<pre><code>try (LineIterator it = FileUtils.lineIterator(theFile, &quot;UTF-8&quot;)) {\n    while (it.hasNext()) {\n        String line = it.nextLine();\n        // do something with line\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2865838,"reputation":77,"user_id":2460185,"accept_rate":20,"display_name":"StarFish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8870,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53056293,"answer_count":3,"score":6,"last_activity_date":1646146317,"creation_date":1540825830,"question_id":53048441,"body_markdown":"My application is currently using CSV Parser to parse csv files and \r\n      persist to database. It loads the entire csv into memory and taking a lot \r\n      of time to persist , sometimes even times out. I have seen on the site   \r\n      seeing mixed recommendations to use Univocity parser. Please advice the \r\n      best approach to process large amounts of data which takes less time.    \r\n      Thank you.\r\n\r\n   Code:\r\n\r\n     int numRecords = csvParser.parse( fileBytes );\r\n\r\n      public int parse(InputStream ins) throws ParserException {\r\n\t\tlong parseTime=  System.currentTimeMillis();\r\n\t\tfireParsingBegin();\r\n\t\tParserEngine engine = null;\r\n\t\ttry {\r\n\t\t\tengine = (ParserEngine) getEngineClass().newInstance();\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new ParserException(e.getMessage());\r\n\t\t}\r\n\t\tengine.setInputStream(ins);\r\n\t\tengine.start();\r\n\t\tint count = parse(engine);\r\n\t\tfireParsingDone();\r\n\t\tlong seconds = (System.currentTimeMillis() - parseTime) / 1000;\r\n\t\tSystem.out.println(&quot;Time taken is &quot;+seconds);\r\n\t\treturn count;\r\n\t}\r\n\r\n\r\n\tprotected int parse(ParserEngine engine) throws ParserException {\r\n\t\tint count = 0;\r\n\t\twhile (engine.next()) //valuesString Arr in Engine populated with cell data\r\n\t\t{\r\n\t\t\tif (stopParsing) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tObject o = parseObject(engine); //create individual Tos\r\n\t\t\tif (o != null) {\r\n\t\t\t\tcount++; //count is increased after every To is formed\r\n\t\t\t\tfireObjectParsed(o, engine); //put in into Bo/COl and so valn preparations\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn count;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n","title":"How to parse huge csv file efficiently in java","body":"<p>My application is currently using CSV Parser to parse csv files and \n      persist to database. It loads the entire csv into memory and taking a lot \n      of time to persist , sometimes even times out. I have seen on the site<br>\n      seeing mixed recommendations to use Univocity parser. Please advice the \n      best approach to process large amounts of data which takes less time.<br>\n      Thank you.</p>\n\n<p>Code:</p>\n\n<pre><code> int numRecords = csvParser.parse( fileBytes );\n\n  public int parse(InputStream ins) throws ParserException {\n    long parseTime=  System.currentTimeMillis();\n    fireParsingBegin();\n    ParserEngine engine = null;\n    try {\n        engine = (ParserEngine) getEngineClass().newInstance();\n    } catch (Exception e) {\n        throw new ParserException(e.getMessage());\n    }\n    engine.setInputStream(ins);\n    engine.start();\n    int count = parse(engine);\n    fireParsingDone();\n    long seconds = (System.currentTimeMillis() - parseTime) / 1000;\n    System.out.println(\"Time taken is \"+seconds);\n    return count;\n}\n\n\nprotected int parse(ParserEngine engine) throws ParserException {\n    int count = 0;\n    while (engine.next()) //valuesString Arr in Engine populated with cell data\n    {\n        if (stopParsing) {\n            break;\n        }\n\n        Object o = parseObject(engine); //create individual Tos\n        if (o != null) {\n            count++; //count is increased after every To is formed\n            fireObjectParsed(o, engine); //put in into Bo/COl and so valn preparations\n        }\n        else {\n            return count;\n        }\n    }\n    return count;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1568103676,"post_id":57866595,"comment_id":102158575,"body_markdown":"Which logging framework you are using?","body":"Which logging framework you are using?"},{"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"score":0,"creation_date":1568103780,"post_id":57866595,"comment_id":102158623,"body_markdown":"java.util.logging","body":"java.util.logging"},{"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"score":1,"creation_date":1568106431,"post_id":57866595,"comment_id":102160005,"body_markdown":"I&#39;ve changed my code and runnig my application without MyFormatter class I have the same result. Have a look above my new output. I think the problem is in the loop code","body":"I&#39;ve changed my code and runnig my application without MyFormatter class I have the same result. Have a look above my new output. I think the problem is in the loop code"},{"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"score":1,"creation_date":1568106693,"post_id":57866595,"comment_id":102160138,"body_markdown":"I tried FileHandler and the output on file is perfect.","body":"I tried FileHandler and the output on file is perfect."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1568106829,"post_id":57866595,"comment_id":102160204,"body_markdown":"Since this is a console logger, it probably prints to standard output. Do you have any `System.out.println` or `System.out.print` calls anywhere?","body":"Since this is a console logger, it probably prints to standard output. Do you have any <code>System.out.println</code> or <code>System.out.print</code> calls anywhere?"},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1568106969,"post_id":57866595,"comment_id":102160271,"body_markdown":"What does the `Utility.checkDeviceState` method do?","body":"What does the <code>Utility.checkDeviceState</code> method do?"},{"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"score":1,"creation_date":1568107737,"post_id":57866595,"comment_id":102160692,"body_markdown":"Thanks alot, It was only one System.out.print(&quot;\\n&quot;). I had checked all code but I didn&#39;t find it. Now I&#39;ve checked better and I found it. Utility.checkDeviceState checks the device enable. If the device has some problem after 10minutes(I can set the time) checkDeviceState can disable the device. Thanks alot for you support.","body":"Thanks alot, It was only one System.out.print(&quot;\\n&quot;). I had checked all code but I didn&#39;t find it. Now I&#39;ve checked better and I found it. Utility.checkDeviceState checks the device enable. If the device has some problem after 10minutes(I can set the time) checkDeviceState can disable the device. Thanks alot for you support."}],"answers":[{"tags":[],"owner":{"account_id":7443535,"reputation":1,"user_id":5660535,"display_name":"Francisco Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646145864,"creation_date":1646145864,"answer_id":71310254,"question_id":57866595,"body_markdown":"According to the comments, the issue was caused by a `System.out.println`.\r\nOne way to check if the logging has the proper format is writing the logging to a file (`FileHandler`). Doing this, you will see if the additional text is caused of the logging or something else.","title":"How to remove blank lines from Console logging in Java?","body":"<p>According to the comments, the issue was caused by a <code>System.out.println</code>.\nOne way to check if the logging has the proper format is writing the logging to a file (<code>FileHandler</code>). Doing this, you will see if the additional text is caused of the logging or something else.</p>\n"}],"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1646145864,"creation_date":1568103194,"question_id":57866595,"body_markdown":"I made a software with java.util.logging. The application runs well but the output prints lines blank between logging information. Probably the loop prints a blank line or more blank lines. During the loop the application can analize more devices and when it&#39;s all ok, the application jumps on the next device. Just if it gets an exception, it will print on console a log.\r\n\r\nMy output:\r\n```\r\n10/09/2019 10:16:24.671 - [com.ids.main.IdsMain.main] - [INFO] - MES Polling LAN attivo\r\n10/09/2019 10:16:35.594 - [com.ids.factoryPatternProtocol.CallFactory.checkProtocol] - [WARNING] - connect timed out\r\n\r\n\r\n10/09/2019 10:16:46.983 - [com.ids.factoryPatternProtocol.CallFactory.checkProtocol] - [WARNING] - connect timed out\r\n\r\n\r\n10/09/2019 10:16:58.308 - [com.ids.factoryPatternProtocol.CallFactory.checkProtocol] - [WARNING] - connect timed out\r\n\r\n```\r\n\r\nI&#39;ve tried to remove the (\\n)  newline from the code but nothing. Online I found this solution \r\n```\r\nlogger.info(message.substring(0,message.lastIndexOf(&#39;\\n&#39;)));\r\n```\r\nbut It didn&#39;t work  \r\n\r\n\r\nMAIN\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMyFormatter formatter=new MyFormatter();\r\n\r\n\t\tch=new ConsoleHandler();\r\n\t\tlogger.addHandler(ch);\r\n\t\tch.setFormatter(formatter);\r\n\r\n\t\tlogger.info(&quot;MES Polling LAN actived&quot;);\r\n\r\n\t\tDAOFactory oracleFactory;\r\n\r\n\t\toracleFactory = DAOFactory.getDAOFactory(DAOFactory.ORACLE,dbConn,dbUser,dbPass);\r\n\r\n\t\tif(flagLog.equalsIgnoreCase(&quot;N&quot;)) {\r\n\t\t\tlogger.setLevel(Level.OFF);\r\n\t\t}\r\n\r\n\t\tDeviceDAO devDAO=oracleFactory.getDeviceDAO();\r\n\r\n\t\tList&lt;DeviceMTConnect&gt; devices=devDAO.getAllDevicesLAN(line,logger,ch);\r\n\r\n\t\tCallFactory callFactory=new CallFactory();\r\n\t\tcallFactory.listDevices(devices,line,devDAO,logger,ch,minute);\r\n\t}\r\n\r\n```\r\npublic class MyFormatter extends Formatter {\r\n\t\r\n\t// Create a DateFormat to format the logger timestamp.\r\n    private static final DateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy hh:mm:ss.SSS&quot;);\r\n\r\n\t@Override\r\n\tpublic String format(LogRecord record) {\r\n\t\tStringBuilder builder = new StringBuilder(1000);\r\n        builder.append(df.format(new Date(record.getMillis()))).append(&quot; - &quot;);\r\n        builder.append(&quot;[&quot;).append(record.getSourceClassName()).append(&quot;.&quot;);\r\n        builder.append(record.getSourceMethodName()).append(&quot;] - &quot;);\r\n        builder.append(&quot;[&quot;).append(record.getLevel()).append(&quot;] - &quot;);\r\n        builder.append(formatMessage(record));\r\n       // builder.append(System.getProperty(&quot;line.separator&quot;));\r\n        builder.append(&quot;\\n&quot;);\r\n        return builder.toString();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\t@Override\r\n\tprotected void checkProtocol(List&lt;DeviceMTConnect&gt; devicesFactory, int line, DeviceDAO devDAO, Logger logger, ConsoleHandler ch, long minute) {\r\n\t\tDeviceMTConnect device = null;\r\n\t\tlong time = 0;\r\n\t\tint i = 0;\r\n\r\n\r\n\t\tif (minute &gt; 0) {\r\n\t\t\ttime = minute * 60 * 1000L;\r\n\t\t}\r\n\r\n\r\n\t\tfor (DeviceMTConnect d : devicesFactory) {\r\n\t\t\td.setLinea(linea);\r\n\t\t\td.setDeviceState(1);\r\n\t\t\t//  System.out.println(d);\r\n\r\n\r\n\t\t}\r\n\r\n\t\twhile (true) {\r\n\t\t\ttry {\r\n\t\t\t\twhile (i &lt; devicesFactory.size()) {\r\n\r\n\t\t\t\t\tdevicesFactory.get(i).setStatoDevice(devDAO.getDeviceStatus(devicesFactory.get(i).getDeviceCode(), logger, ch));\r\n\r\n\t\t\t\t\tif (devicesFactory.get(i).getDeviceState() &gt; 0) {\r\n\t\t\t\t\t\tif (devicesFactory.get(i).getProtocol().equalsIgnoreCase(PROT1)) {\r\n\r\n\t\t\t\t\t\t\tdevice = devicesFactory.get(i);\r\n\t\t\t\t\t\t\tMTConnect mt = new MTConnect(device.getIp(), device.getPort());\r\n\r\n\t\t\t\t\t\t\tParserMTConnect pmtConnect = new ParserMTConnect();\r\n\r\n\t\t\t\t\t\t\tpmtConnect.parser(mt.httpCall(), device, logger, ch);\r\n\r\n\t\t\t\t\t\t\t//System.out.println();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (device.getProtocol().equalsIgnoreCase(PROT2)) {\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\tThread.sleep(SleepingTime);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t} catch (InterruptedException e) {\r\n\r\n\t\t\t\tlogger.warning(e.getMessage());\r\n\t\t\t\tUtility.checkDeviceState(devDAO, device, logger, ch, time);\r\n\t\t\t} catch (NumberFormatException e) {\r\n\r\n\t\t\t\tlogger.warning(e.getMessage());\r\n\t\t\t\tUtility.checkDeviceState(devDAO, device, logger, ch, time);\r\n\r\n\t\t\t} catch (IOException e) {\r\n\r\n\t\t\t\tlogger.warning(e.getMessage());\r\n\t\t\t\tUtility.checkDeviceState(devDAO, device, logger, ch, time);\r\n\r\n\t\t\t} catch (ParserConfigurationException e) {\r\n\t\t\t\tlogger.warning(e.getMessage());\r\n\t\t\t\tUtility.checkDeviceState(devDAO, device, logger, ch, time);\r\n\t\t\t} catch (SAXException e) {\r\n\t\t\t\tlogger.warning(e.getMessage());\r\n\t\t\t\tUtility.checkDeviceState(devDAO, device, logger, ch, time);\r\n\t\t\t} catch (ParseException e) {\r\n\t\t\t\tlogger.warning(e.getMessage());\r\n\t\t\t\tUtility.checkDeviceState(devDAO, device, logger, ch, time);\r\n\t\t\t} finally {\r\n\t\t\t\tif (i &lt; devicesFactory.size()) {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t} else if (i == devicesFactory.size()) {\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nI would like to remove the blank line between two logging lines information\r\nCan Anyone help me to find a way to solve me problem?\r\n\r\nNEW OUTPUT without MyFormatter class\r\n```\r\nset 10, 2019 11:03:19 AM com.ids.main.IdsMain main\r\nINFORMAZIONI: MES Polling LAN enabled\r\nset 10, 2019 11:03:30 AM com.ids.factoryPatternProtocol.CallFactory checkProtocol\r\nAVVERTENZA: connect timed out\r\n\r\n\r\nset 10, 2019 11:03:41 AM com.ids.factoryPatternProtocol.CallFactory checkProtocol\r\nAVVERTENZA: connect timed out\r\n```","title":"How to remove blank lines from Console logging in Java?","body":"<p>I made a software with java.util.logging. The application runs well but the output prints lines blank between logging information. Probably the loop prints a blank line or more blank lines. During the loop the application can analize more devices and when it's all ok, the application jumps on the next device. Just if it gets an exception, it will print on console a log.</p>\n\n<p>My output:</p>\n\n<pre><code>10/09/2019 10:16:24.671 - [com.ids.main.IdsMain.main] - [INFO] - MES Polling LAN attivo\n10/09/2019 10:16:35.594 - [com.ids.factoryPatternProtocol.CallFactory.checkProtocol] - [WARNING] - connect timed out\n\n\n10/09/2019 10:16:46.983 - [com.ids.factoryPatternProtocol.CallFactory.checkProtocol] - [WARNING] - connect timed out\n\n\n10/09/2019 10:16:58.308 - [com.ids.factoryPatternProtocol.CallFactory.checkProtocol] - [WARNING] - connect timed out\n\n</code></pre>\n\n<p>I've tried to remove the (\\n)  newline from the code but nothing. Online I found this solution </p>\n\n<pre><code>logger.info(message.substring(0,message.lastIndexOf('\\n')));\n</code></pre>\n\n<p>but It didn't work  </p>\n\n<p>MAIN</p>\n\n<pre><code>public static void main(String[] args) {\n    MyFormatter formatter=new MyFormatter();\n\n    ch=new ConsoleHandler();\n    logger.addHandler(ch);\n    ch.setFormatter(formatter);\n\n    logger.info(\"MES Polling LAN actived\");\n\n    DAOFactory oracleFactory;\n\n    oracleFactory = DAOFactory.getDAOFactory(DAOFactory.ORACLE,dbConn,dbUser,dbPass);\n\n    if(flagLog.equalsIgnoreCase(\"N\")) {\n        logger.setLevel(Level.OFF);\n    }\n\n    DeviceDAO devDAO=oracleFactory.getDeviceDAO();\n\n    List&lt;DeviceMTConnect&gt; devices=devDAO.getAllDevicesLAN(line,logger,ch);\n\n    CallFactory callFactory=new CallFactory();\n    callFactory.listDevices(devices,line,devDAO,logger,ch,minute);\n}\n</code></pre>\n\n<pre><code>public class MyFormatter extends Formatter {\n\n    // Create a DateFormat to format the logger timestamp.\n    private static final DateFormat df = new SimpleDateFormat(\"dd/MM/yyyy hh:mm:ss.SSS\");\n\n    @Override\n    public String format(LogRecord record) {\n        StringBuilder builder = new StringBuilder(1000);\n        builder.append(df.format(new Date(record.getMillis()))).append(\" - \");\n        builder.append(\"[\").append(record.getSourceClassName()).append(\".\");\n        builder.append(record.getSourceMethodName()).append(\"] - \");\n        builder.append(\"[\").append(record.getLevel()).append(\"] - \");\n        builder.append(formatMessage(record));\n       // builder.append(System.getProperty(\"line.separator\"));\n        builder.append(\"\\n\");\n        return builder.toString();\n    }\n\n}\n</code></pre>\n\n<pre><code>@Override\nprotected void checkProtocol(List&lt;DeviceMTConnect&gt; devicesFactory, int line, DeviceDAO devDAO, Logger logger, ConsoleHandler ch, long minute) {\n    DeviceMTConnect device = null;\n    long time = 0;\n    int i = 0;\n\n\n    if (minute &gt; 0) {\n        time = minute * 60 * 1000L;\n    }\n\n\n    for (DeviceMTConnect d : devicesFactory) {\n        d.setLinea(linea);\n        d.setDeviceState(1);\n        //  System.out.println(d);\n\n\n    }\n\n    while (true) {\n        try {\n            while (i &lt; devicesFactory.size()) {\n\n                devicesFactory.get(i).setStatoDevice(devDAO.getDeviceStatus(devicesFactory.get(i).getDeviceCode(), logger, ch));\n\n                if (devicesFactory.get(i).getDeviceState() &gt; 0) {\n                    if (devicesFactory.get(i).getProtocol().equalsIgnoreCase(PROT1)) {\n\n                        device = devicesFactory.get(i);\n                        MTConnect mt = new MTConnect(device.getIp(), device.getPort());\n\n                        ParserMTConnect pmtConnect = new ParserMTConnect();\n\n                        pmtConnect.parser(mt.httpCall(), device, logger, ch);\n\n                        //System.out.println();\n                    }\n                    if (device.getProtocol().equalsIgnoreCase(PROT2)) {\n\n                    }\n                    i++;\n                    Thread.sleep(SleepingTime);\n\n                } else {\n                    i++;\n                }\n\n            }\n        } catch (InterruptedException e) {\n\n            logger.warning(e.getMessage());\n            Utility.checkDeviceState(devDAO, device, logger, ch, time);\n        } catch (NumberFormatException e) {\n\n            logger.warning(e.getMessage());\n            Utility.checkDeviceState(devDAO, device, logger, ch, time);\n\n        } catch (IOException e) {\n\n            logger.warning(e.getMessage());\n            Utility.checkDeviceState(devDAO, device, logger, ch, time);\n\n        } catch (ParserConfigurationException e) {\n            logger.warning(e.getMessage());\n            Utility.checkDeviceState(devDAO, device, logger, ch, time);\n        } catch (SAXException e) {\n            logger.warning(e.getMessage());\n            Utility.checkDeviceState(devDAO, device, logger, ch, time);\n        } catch (ParseException e) {\n            logger.warning(e.getMessage());\n            Utility.checkDeviceState(devDAO, device, logger, ch, time);\n        } finally {\n            if (i &lt; devicesFactory.size()) {\n                i++;\n            } else if (i == devicesFactory.size()) {\n                i = 0;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I would like to remove the blank line between two logging lines information\nCan Anyone help me to find a way to solve me problem?</p>\n\n<p>NEW OUTPUT without MyFormatter class</p>\n\n<pre><code>set 10, 2019 11:03:19 AM com.ids.main.IdsMain main\nINFORMAZIONI: MES Polling LAN enabled\nset 10, 2019 11:03:30 AM com.ids.factoryPatternProtocol.CallFactory checkProtocol\nAVVERTENZA: connect timed out\n\n\nset 10, 2019 11:03:41 AM com.ids.factoryPatternProtocol.CallFactory checkProtocol\nAVVERTENZA: connect timed out\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","jackson","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1646150245,"post_id":71294884,"comment_id":126049736,"body_markdown":"It&#39;s a [know issue](https://github.com/mybatis/mybatis-3/issues/2207) in constructor auto-mapping. You already found a workaround (i.e. using different column label in the result set). Another workaround is to define and use a result map with `&lt;constructor /&gt;`.","body":"It&#39;s a <a href=\"https://github.com/mybatis/mybatis-3/issues/2207\" rel=\"nofollow noreferrer\">know issue</a> in constructor auto-mapping. You already found a workaround (i.e. using different column label in the result set). Another workaround is to define and use a result map with <code>&lt;constructor &#47;&gt;</code>."}],"owner":{"account_id":24404542,"reputation":11,"user_id":18332879,"display_name":"CHANGJU LEE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646145619,"creation_date":1646050547,"question_id":71294884,"body_markdown":"I&#39;m using mybatis and jackson-databind\r\n\r\nAnd I tried to calculate some values in constructor of result type dto\r\n\r\nUnfortunately, getter returns original values, not calculated values\r\n\r\nI also tried to using @JsonCreator, @JsonProperty, etc...\r\n\r\nBut getter had return original value\r\n\r\nInterestingly, When parameter names of constructor was changed(or sql alias), getter returned calculated value\r\n\r\nI guess jackson or mybatis overrides something(or java reflection problem?)\r\n\r\nHow can I solve this problem without change some names?\r\n\r\n\r\nThis is my query\r\n```\r\n    &lt;select id=&quot;getVoteResult&quot; resultType=&quot;VoteResultDto&quot;&gt;\r\n        SELECT SUM(good) AS voteCountOfGood\r\n             , SUM(bad) AS voteCountOfBad\r\n        FROM some.recommend_inf\r\n        WHERE id = #{id};\r\n    &lt;/select&gt;\r\n```\r\nand result dto\r\n```\r\npublic final class VoteResultDto {\r\n    private final int voteCountOfGood;\r\n    private final int voteCountOfBad;\r\n\r\n    public VoteResultDto(float voteCountOfGood, float voteCountOfBad) {\r\n        System.out.println(&quot;float voteCountOfGood: &quot; + voteCountOfGood);\r\n        System.out.println(&quot;float voteCountOfBad: &quot; + voteCountOfBad);\r\n        if (voteCountOfGood &gt; 0 || voteCountOfBad &gt; 0) {\r\n            this.voteCountOfGood = Math.round(voteCountOfGood / (voteCountOfGood + voteCountOfBad) * 100);\r\n            this.voteCountOfBad = 100 - this.voteCountOfGood;\r\n        } else {\r\n            this.voteCountOfGood = this.voteCountOfBad = 0;\r\n        }\r\n        System.out.println(&quot;this.voteCountOfGood: &quot; + this.voteCountOfGood);\r\n        System.out.println(&quot;this.voteCountOfBad: &quot; + this.voteCountOfBad);\r\n    }\r\n\r\n    public int getVoteCountOfGood() {\r\n        return voteCountOfGood;\r\n    }\r\n\r\n    public int getVoteCountOfBad() {\r\n        return voteCountOfBad;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;toString(): {voteCountOfGood: &quot; + voteCountOfGood + &quot;, voteCountOfBad: &quot; + voteCountOfBad + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nand log\r\n```\r\nfloat voteCountOfGood: 8.0\r\nfloat voteCountOfBad: 4.0\r\nthis.voteCountOfGood: 67\r\nthis.voteCountOfBad: 33\r\ntoString(): {voteCountOfGood: 8, voteCountOfBad: 4}\r\n```\r\n","title":"Final field is mutable. What is my problem?","body":"<p>I'm using mybatis and jackson-databind</p>\n<p>And I tried to calculate some values in constructor of result type dto</p>\n<p>Unfortunately, getter returns original values, not calculated values</p>\n<p>I also tried to using @JsonCreator, @JsonProperty, etc...</p>\n<p>But getter had return original value</p>\n<p>Interestingly, When parameter names of constructor was changed(or sql alias), getter returned calculated value</p>\n<p>I guess jackson or mybatis overrides something(or java reflection problem?)</p>\n<p>How can I solve this problem without change some names?</p>\n<p>This is my query</p>\n<pre><code>    &lt;select id=&quot;getVoteResult&quot; resultType=&quot;VoteResultDto&quot;&gt;\n        SELECT SUM(good) AS voteCountOfGood\n             , SUM(bad) AS voteCountOfBad\n        FROM some.recommend_inf\n        WHERE id = #{id};\n    &lt;/select&gt;\n</code></pre>\n<p>and result dto</p>\n<pre><code>public final class VoteResultDto {\n    private final int voteCountOfGood;\n    private final int voteCountOfBad;\n\n    public VoteResultDto(float voteCountOfGood, float voteCountOfBad) {\n        System.out.println(&quot;float voteCountOfGood: &quot; + voteCountOfGood);\n        System.out.println(&quot;float voteCountOfBad: &quot; + voteCountOfBad);\n        if (voteCountOfGood &gt; 0 || voteCountOfBad &gt; 0) {\n            this.voteCountOfGood = Math.round(voteCountOfGood / (voteCountOfGood + voteCountOfBad) * 100);\n            this.voteCountOfBad = 100 - this.voteCountOfGood;\n        } else {\n            this.voteCountOfGood = this.voteCountOfBad = 0;\n        }\n        System.out.println(&quot;this.voteCountOfGood: &quot; + this.voteCountOfGood);\n        System.out.println(&quot;this.voteCountOfBad: &quot; + this.voteCountOfBad);\n    }\n\n    public int getVoteCountOfGood() {\n        return voteCountOfGood;\n    }\n\n    public int getVoteCountOfBad() {\n        return voteCountOfBad;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;toString(): {voteCountOfGood: &quot; + voteCountOfGood + &quot;, voteCountOfBad: &quot; + voteCountOfBad + '}';\n    }\n}\n</code></pre>\n<p>and log</p>\n<pre><code>float voteCountOfGood: 8.0\nfloat voteCountOfBad: 4.0\nthis.voteCountOfGood: 67\nthis.voteCountOfBad: 33\ntoString(): {voteCountOfGood: 8, voteCountOfBad: 4}\n</code></pre>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1646136458,"post_id":71308245,"comment_id":126044502,"body_markdown":"If your current output does not match your desired output, and you don&#39;t know why then it&#39;s time to start debugging. If you&#39;re not sure how to go about doing this, then please check out [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer.","body":"If your current output does not match your desired output, and you don&#39;t know why then it&#39;s time to start debugging. If you&#39;re not sure how to go about doing this, then please check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."},{"owner":{"account_id":8153471,"reputation":899,"user_id":6139796,"display_name":"Holger"},"score":0,"creation_date":1646137402,"post_id":71308245,"comment_id":126044783,"body_markdown":"abs( max25 - anythingGreater0 ) % 26 can&#39;t never be 25 (Z)","body":"abs( max25 - anythingGreater0 ) % 26 can&#39;t never be 25 (Z)"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646145414,"creation_date":1646137392,"answer_id":71308447,"question_id":71308245,"body_markdown":"The trick here is to understand the math operations.\r\n\r\nFirst of all, `%` is not the modulo operation, it is the remainder operation, which means that the result may be negative.\r\n\r\n`abs` will create a positive value out of a negative value. But that&#39;s not the same as counteracting the problem with the negative value, as it would map e.g. -1 to 1 instead of 25.\r\n\r\nSo what you can do is to create an actual modulo operation. In Java that is:\r\n\r\n```\r\nint mod(int x, int n) {\r\n    return ((x % n) + n) % n;\r\n}\r\n```\r\n\r\nwhich should fix your problem.\r\n\r\n---\r\n\r\nAs for debugging, you should always start by moving things into smaller pieces. Bring `Math.abs(j-k)) % 26` out of the array indexation and assign it to e.g. an integer `newIndex` variable, so you can actually see the intermediate results. Even better: try and create separate methods such as `int charToIndex(char c)` and `char indexToChar(int i)` so you can test them separately.","title":"Decryption in java (caesarCipher) wrong result","body":"<p>The trick here is to understand the math operations.</p>\n<p>First of all, <code>%</code> is not the modulo operation, it is the remainder operation, which means that the result may be negative.</p>\n<p><code>abs</code> will create a positive value out of a negative value. But that's not the same as counteracting the problem with the negative value, as it would map e.g. -1 to 1 instead of 25.</p>\n<p>So what you can do is to create an actual modulo operation. In Java that is:</p>\n<pre><code>int mod(int x, int n) {\n    return ((x % n) + n) % n;\n}\n</code></pre>\n<p>which should fix your problem.</p>\n<hr />\n<p>As for debugging, you should always start by moving things into smaller pieces. Bring <code>Math.abs(j-k)) % 26</code> out of the array indexation and assign it to e.g. an integer <code>newIndex</code> variable, so you can actually see the intermediate results. Even better: try and create separate methods such as <code>int charToIndex(char c)</code> and <code>char indexToChar(int i)</code> so you can test them separately.</p>\n"}],"owner":{"account_id":23080231,"reputation":13,"user_id":17192619,"display_name":"ptomeccc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71308447,"answer_count":1,"score":1,"last_activity_date":1646145414,"creation_date":1646136406,"question_id":71308245,"body_markdown":"I have written simple Caesar ciper algorithm, encrypting works perfectly, but when I want to decrypt word, I am getting wrong result. For example &quot;PQRO&quot; with key 15, should be &quot;ABCZ&quot;, but I&#39;m getting \r\n&quot;ABCB&quot;.\r\n\r\n    public static void decrypt(String text, int k) {\r\n        char[] tAlf = {&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;M&#39;, &#39;N&#39;, &#39;O&#39;, &#39;P&#39;, &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;};\r\n        char[] tChar = text.toCharArray();\r\n        for (int i = 0; i &lt; tChar.length; i++) {\r\n            for (int j = 0; j &lt; tAlf.length; j++) {\r\n                if (text.charAt(i) == tAlf[j]) {\r\n                    System.out.print(tAlf[(Math.abs(j-k)) % 26]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nIt looks like algorithm can&#39;t get backward in alphabet to &#39;Z&#39;.","title":"Decryption in java (caesarCipher) wrong result","body":"<p>I have written simple Caesar ciper algorithm, encrypting works perfectly, but when I want to decrypt word, I am getting wrong result. For example &quot;PQRO&quot; with key 15, should be &quot;ABCZ&quot;, but I'm getting\n&quot;ABCB&quot;.</p>\n<pre><code>public static void decrypt(String text, int k) {\n    char[] tAlf = {'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'};\n    char[] tChar = text.toCharArray();\n    for (int i = 0; i &lt; tChar.length; i++) {\n        for (int j = 0; j &lt; tAlf.length; j++) {\n            if (text.charAt(i) == tAlf[j]) {\n                System.out.print(tAlf[(Math.abs(j-k)) % 26]);\n            }\n        }\n    }\n}\n</code></pre>\n<p>It looks like algorithm can't get backward in alphabet to 'Z'.</p>\n"},{"tags":["javascript","java","android-studio"],"comments":[{"owner":{"account_id":173397,"reputation":21615,"user_id":402037,"display_name":"Andreas"},"score":2,"creation_date":1646043884,"post_id":71293507,"comment_id":126018956,"body_markdown":"[JavaScript is not Java](http://javascriptisnotjava.com)","body":"<a href=\"http://javascriptisnotjava.com\" rel=\"nofollow noreferrer\">JavaScript is not Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":24324131,"reputation":405,"user_id":18263961,"display_name":"iLittleWizard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646145333,"creation_date":1646044298,"answer_id":71293631,"question_id":71293507,"body_markdown":"&gt; now I can see my file song But the name shown in the app is the file\r\n&gt; **address** instead\r\n\r\nI think you are referring to the &quot;[Path][1]&quot; of the file, for example: \r\n\r\n&gt; **/storage/emulated/0/song.mp3** (Unix style path)\r\n\r\n&gt; **C:\\Songs\\song.mp3** (Window style path)\r\n\r\nIf you would like to parse (find out) the name of the file, use the following code:\r\n\r\n    String filePath = &quot;/storage/emulated/0/song.mp3&quot;;\r\n    File f = new File(filePath);\r\n    String fileName = f.getName();\r\n    // fileName == &quot;song.mp3&quot;\r\n\r\nIn your case:\r\n\r\n    public class Songs {\r\n        private String title; // renamed from &quot;songTitle&quot;\r\n        private String path;  // renamed from &quot;songAddress&quot;\r\n        private String fileName; // the file name of the song\r\n\r\n        public Songs(String title, String path){\r\n            this.title = title;\r\n            this.path = path;\r\n            File file = new File(path);\r\n            String fileName = f.getName();\r\n            this.fileName = fileName;\r\n        }\r\n\r\n        public String getTitle(){\r\n            return title;\r\n        }\r\n\r\n        public String getPath(){\r\n            return path;\r\n        }\r\n\r\n        public String getFileName(){\r\n            return fileName;\r\n        }\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Path_(computing)","title":"How set to show the name of music and it on my phone","body":"<blockquote>\n<p>now I can see my file song But the name shown in the app is the file\n<strong>address</strong> instead</p>\n</blockquote>\n<p>I think you are referring to the &quot;<a href=\"https://en.wikipedia.org/wiki/Path_(computing)\" rel=\"nofollow noreferrer\">Path</a>&quot; of the file, for example:</p>\n<blockquote>\n<p><strong>/storage/emulated/0/song.mp3</strong> (Unix style path)</p>\n</blockquote>\n<blockquote>\n<p><strong>C:\\Songs\\song.mp3</strong> (Window style path)</p>\n</blockquote>\n<p>If you would like to parse (find out) the name of the file, use the following code:</p>\n<pre><code>String filePath = &quot;/storage/emulated/0/song.mp3&quot;;\nFile f = new File(filePath);\nString fileName = f.getName();\n// fileName == &quot;song.mp3&quot;\n</code></pre>\n<p>In your case:</p>\n<pre><code>public class Songs {\n    private String title; // renamed from &quot;songTitle&quot;\n    private String path;  // renamed from &quot;songAddress&quot;\n    private String fileName; // the file name of the song\n\n    public Songs(String title, String path){\n        this.title = title;\n        this.path = path;\n        File file = new File(path);\n        String fileName = f.getName();\n        this.fileName = fileName;\n    }\n\n    public String getTitle(){\n        return title;\n    }\n\n    public String getPath(){\n        return path;\n    }\n\n    public String getFileName(){\n        return fileName;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24364125,"reputation":3,"user_id":18298092,"display_name":"K Ns"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71293631,"answer_count":1,"score":-1,"last_activity_date":1646145333,"creation_date":1646043690,"question_id":71293507,"body_markdown":"I have a question now i try create a music app on my phone. now I can see my file song But the name shown in the app is the file address instead. and if i want to play the file music in this app. What code do I need to add for get the name of music and play it on my phone? thank a lot \r\n\r\n      @Override\r\n            public void onClick(View view) {\r\n                mp.pause();\r\n                play.setEnabled(true);\r\n                stop.setEnabled(true);\r\n                pause.setEnabled(false);\r\n            }\r\n        });\r\n        stop.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (mp != null) {\r\n                    mp.stop();\r\n                    try {\r\n                        mp.prepare();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    //mp.release()\r\n                    play.setEnabled(true);\r\n                    play.setEnabled(true);\r\n                    stop.setEnabled(false);\r\n                }\r\n            }\r\n    });\r\n send.setOnClickListener(new View.OnClickListener() {\r\n\r\n        //List&lt;Intent&gt; intentShareList = new ArrayList&lt;Intent&gt;();\r\n        @Override\r\n        public void onClick( View view ) {\r\n            msgs = msg.getText().toString();\r\n            System.out.print(&quot;msgs &quot; + msgs);\r\n            // make line message\r\n            Log.d(TAG, &quot;Txt &quot; + msgs);\r\n            Intent shareIntent = new Intent();\r\n            String userId = &quot;&quot;;\r\n            String sendText = &quot;line://ti/p/~&quot; + userId;\r\n            //shareIntent = null;\r\n            try {\r\n                shareIntent = Intent.parseUri(sendText,\r\n                        Intent.URI_INTENT_SCHEME);\r\n            } catch (URISyntaxException e) {\r\n                e.printStackTrace();\r\n            }\r\n            shareIntent.setAction(Intent.ACTION_SEND);\r\n            shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n            shareIntent.putExtra(Intent.EXTRA_TEXT,msgs);\r\n            shareIntent.setType(&quot;text/plain&quot;);\r\n            startActivity(shareIntent);\r\n        }\r\n    });\r\n}\r\nAND\r\n\r\n    public class Songs {\r\n    //private\r\n    private String songTitle;\r\n    private String songAddress;\r\n    public Songs(String title){\r\n        //songID = id;\r\n        songTitle = title;\r\n\r\n    }\r\n    /*public long getSongID(){\r\n    return songId;\r\n     */\r\n    public String getSongTitle(){\r\n\r\n        return songTitle;\r\n    }\r\n}\r\n","title":"How set to show the name of music and it on my phone","body":"<p>I have a question now i try create a music app on my phone. now I can see my file song But the name shown in the app is the file address instead. and if i want to play the file music in this app. What code do I need to add for get the name of music and play it on my phone? thank a lot</p>\n<pre><code>  @Override\n        public void onClick(View view) {\n            mp.pause();\n            play.setEnabled(true);\n            stop.setEnabled(true);\n            pause.setEnabled(false);\n        }\n    });\n    stop.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if (mp != null) {\n                mp.stop();\n                try {\n                    mp.prepare();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                //mp.release()\n                play.setEnabled(true);\n                play.setEnabled(true);\n                stop.setEnabled(false);\n            }\n        }\n});\n</code></pre>\n<p>send.setOnClickListener(new View.OnClickListener() {</p>\n<pre><code>    //List&lt;Intent&gt; intentShareList = new ArrayList&lt;Intent&gt;();\n    @Override\n    public void onClick( View view ) {\n        msgs = msg.getText().toString();\n        System.out.print(&quot;msgs &quot; + msgs);\n        // make line message\n        Log.d(TAG, &quot;Txt &quot; + msgs);\n        Intent shareIntent = new Intent();\n        String userId = &quot;&quot;;\n        String sendText = &quot;line://ti/p/~&quot; + userId;\n        //shareIntent = null;\n        try {\n            shareIntent = Intent.parseUri(sendText,\n                    Intent.URI_INTENT_SCHEME);\n        } catch (URISyntaxException e) {\n            e.printStackTrace();\n        }\n        shareIntent.setAction(Intent.ACTION_SEND);\n        shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        shareIntent.putExtra(Intent.EXTRA_TEXT,msgs);\n        shareIntent.setType(&quot;text/plain&quot;);\n        startActivity(shareIntent);\n    }\n});\n</code></pre>\n<p>}\nAND</p>\n<pre><code>public class Songs {\n//private\nprivate String songTitle;\nprivate String songAddress;\npublic Songs(String title){\n    //songID = id;\n    songTitle = title;\n\n}\n/*public long getSongID(){\nreturn songId;\n */\npublic String getSongTitle(){\n\n    return songTitle;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646145150,"creation_date":1646094033,"answer_id":71302468,"question_id":71296426,"body_markdown":"Since you&#39;re looking for exactly-once semantics, you probably have transaction-enabled producers - if so, it might be due to the partitions having transactional records.\r\n\r\nThe `KafkaConsumer` [documentation](https://kafka.apache.org/0110/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html) states:\r\n\r\n*Partitions with transactional messages will include commit or abort markers which indicate the result of a transaction. There markers are not returned to applications, yet have an offset in the log. **As a result, applications reading from topics with transactional messages will see gaps in the consumed offsets.** These missing messages would be the transaction markers, and they are filtered out for consumers in both isolation levels. Additionally, **applications using read_committed consumers may also see gaps due to aborted transactions**, since those messages would not be returned by the consumer and yet would have valid offsets.*\r\n\r\nThe only way I see to actually miss a record would be if the consumer committed an offset for or after a record / records that didn&#39;t get processed for some reason.\r\n\r\nIf you want more information about the records being polled from the broker and the offsets being committed, you can set the logging level for the `org.springframework.kafka.listener.KafkaMessageListenerContainer` class to `TRACE`. That should give you a good insight on the records being received and the offsets being committed. If all offsets *EDIT: before the one* being committed have been processed, it&#39;s not likely you&#39;re missing any.\r\n\r\nIn order to check if the `exactly-once` semantics are correct, maybe you can try to correlate the logs from your producers to the logs from your consumers through some id, specially when this event happens.\r\n\r\nYou might also want to check the producers&#39; logs from when that happens, since the gap might be due to aborted transactions.","title":"Spring Kafka Consumer skips some offsets","body":"<p>Since you're looking for exactly-once semantics, you probably have transaction-enabled producers - if so, it might be due to the partitions having transactional records.</p>\n<p>The <code>KafkaConsumer</code> <a href=\"https://kafka.apache.org/0110/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n<p><em>Partitions with transactional messages will include commit or abort markers which indicate the result of a transaction. There markers are not returned to applications, yet have an offset in the log. <strong>As a result, applications reading from topics with transactional messages will see gaps in the consumed offsets.</strong> These missing messages would be the transaction markers, and they are filtered out for consumers in both isolation levels. Additionally, <strong>applications using read_committed consumers may also see gaps due to aborted transactions</strong>, since those messages would not be returned by the consumer and yet would have valid offsets.</em></p>\n<p>The only way I see to actually miss a record would be if the consumer committed an offset for or after a record / records that didn't get processed for some reason.</p>\n<p>If you want more information about the records being polled from the broker and the offsets being committed, you can set the logging level for the <code>org.springframework.kafka.listener.KafkaMessageListenerContainer</code> class to <code>TRACE</code>. That should give you a good insight on the records being received and the offsets being committed. If all offsets <em>EDIT: before the one</em> being committed have been processed, it's not likely you're missing any.</p>\n<p>In order to check if the <code>exactly-once</code> semantics are correct, maybe you can try to correlate the logs from your producers to the logs from your consumers through some id, specially when this event happens.</p>\n<p>You might also want to check the producers' logs from when that happens, since the gap might be due to aborted transactions.</p>\n"}],"owner":{"account_id":2160742,"reputation":131,"user_id":1914942,"display_name":"girafi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2767,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646145150,"creation_date":1646058135,"question_id":71296426,"body_markdown":"We have a very simple Kafka Consumer (v 2.6.2).\r\nIt is the only consumer in a consumer-group, and this group is the only one reading from a topic (with 6 partitions, and some 3 million events in it).\r\nBroker is also version 2.6.x\r\n\r\nAs we need to fulfil a **&quot;excatly-once&quot;** scenario, we took a deep look, if we really consume every event exactly once that is written to the topic.\r\nUnfortunately we found out that: **The consumer sometimes skips an offset, and sometimes even a bunch of offsets of a partition.**\r\n\r\nThe **Consumer** does not do much more than logging.\r\nAn Error-Handler is configured with logging.\r\n```\r\n@KafkaListener(id = &quot;${spring.kafka.consumer.group-id}&quot;, topics = &quot;${topicname}&quot;)\r\npublic void onMessage(ConsumerRecord&lt;String, BlaBlaEvent&gt; record) throws Exception {\r\n  // mostly logging\r\n}\r\n```\r\n\r\nAnd it logs:\r\n```\r\nconsuming Offset=30 Partition=2\r\nconsuming Offset=31 Partition=2\r\nconsuming Offset=32 Partition=2\r\nconsuming Offset=67 Partition=2\r\n```\r\n(did you see the **Offset=67**?)\r\n\r\nHere&#39;s our **application.properties**\r\n```\r\nspring.kafka.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS_URL}\r\nspring.kafka.properties.security.protocol: SSL\r\nspring.kafka.properties.schema.registry.url=${SCHEMA_REGISTRY_URL}\r\nspring.kafka.properties.specific.avro.reader=true\r\n\r\nspring.kafka.ssl.trust-store-type=PKCS12\r\nspring.kafka.ssl.key-store-type=PKCS12\r\nspring.kafka.ssl.key-store-password=${KEYSTORE_PASSWORD}\r\nspring.kafka.ssl.trust-store-password=${TRUSTSTORE_PASSWORD}\r\nspring.kafka.ssl.trust-store-location=${TRUSTSTORE_PATH}\r\nspring.kafka.ssl.key-store-location=${KEYSTORE_PATH}\r\n\r\nspring.kafka.consumer.client-id=BlablaNotificationReader\r\nspring.kafka.consumer.group-id=blabla-group\r\nspring.kafka.consumer.auto-offset-reset=none\r\nspring.kafka.consumer.max-poll-records=1\r\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.IntegerDeserializer\r\nspring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n\r\nlogging.level.org.apache.kafka=DEBUG\r\n```\r\n\r\n\r\nSidenotes:\r\n----------------\r\n- Consumer runs in OpenShift v3.11 (Kubernetes 1.11). No pod restart or anything happened at that time.\r\n- No errors in the log on broker-side, nor on consumer-side. just silent skipping.\r\n- It happens about once a week\r\n\r\n\r\nDoes anyone have an idea how to find the root of this problem?","title":"Spring Kafka Consumer skips some offsets","body":"<p>We have a very simple Kafka Consumer (v 2.6.2).\nIt is the only consumer in a consumer-group, and this group is the only one reading from a topic (with 6 partitions, and some 3 million events in it).\nBroker is also version 2.6.x</p>\n<p>As we need to fulfil a <strong>&quot;excatly-once&quot;</strong> scenario, we took a deep look, if we really consume every event exactly once that is written to the topic.\nUnfortunately we found out that: <strong>The consumer sometimes skips an offset, and sometimes even a bunch of offsets of a partition.</strong></p>\n<p>The <strong>Consumer</strong> does not do much more than logging.\nAn Error-Handler is configured with logging.</p>\n<pre><code>@KafkaListener(id = &quot;${spring.kafka.consumer.group-id}&quot;, topics = &quot;${topicname}&quot;)\npublic void onMessage(ConsumerRecord&lt;String, BlaBlaEvent&gt; record) throws Exception {\n  // mostly logging\n}\n</code></pre>\n<p>And it logs:</p>\n<pre><code>consuming Offset=30 Partition=2\nconsuming Offset=31 Partition=2\nconsuming Offset=32 Partition=2\nconsuming Offset=67 Partition=2\n</code></pre>\n<p>(did you see the <strong>Offset=67</strong>?)</p>\n<p>Here's our <strong>application.properties</strong></p>\n<pre><code>spring.kafka.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS_URL}\nspring.kafka.properties.security.protocol: SSL\nspring.kafka.properties.schema.registry.url=${SCHEMA_REGISTRY_URL}\nspring.kafka.properties.specific.avro.reader=true\n\nspring.kafka.ssl.trust-store-type=PKCS12\nspring.kafka.ssl.key-store-type=PKCS12\nspring.kafka.ssl.key-store-password=${KEYSTORE_PASSWORD}\nspring.kafka.ssl.trust-store-password=${TRUSTSTORE_PASSWORD}\nspring.kafka.ssl.trust-store-location=${TRUSTSTORE_PATH}\nspring.kafka.ssl.key-store-location=${KEYSTORE_PATH}\n\nspring.kafka.consumer.client-id=BlablaNotificationReader\nspring.kafka.consumer.group-id=blabla-group\nspring.kafka.consumer.auto-offset-reset=none\nspring.kafka.consumer.max-poll-records=1\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.IntegerDeserializer\nspring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\n\nlogging.level.org.apache.kafka=DEBUG\n</code></pre>\n<h2>Sidenotes:</h2>\n<ul>\n<li>Consumer runs in OpenShift v3.11 (Kubernetes 1.11). No pod restart or anything happened at that time.</li>\n<li>No errors in the log on broker-side, nor on consumer-side. just silent skipping.</li>\n<li>It happens about once a week</li>\n</ul>\n<p>Does anyone have an idea how to find the root of this problem?</p>\n"},{"tags":["java","database","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1458729896,"post_id":36175870,"comment_id":59987333,"body_markdown":"Side note: I recommend to maintain the db schema using a tool such as Liquibase. Liquibase supports sequences. Tools such as Liquibase allow you e.g. to rename columns without loosing the data in the column. JPA usually can only help you with the initial creation of the db tables.","body":"Side note: I recommend to maintain the db schema using a tool such as Liquibase. Liquibase supports sequences. Tools such as Liquibase allow you e.g. to rename columns without loosing the data in the column. JPA usually can only help you with the initial creation of the db tables."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1458730397,"post_id":36175870,"comment_id":59987684,"body_markdown":"Side note 2 (JsonPropertyOrder): Usually it&#39;s not recommended to export JPA entities to external clients, if this is what you want to achieve with the JsonPropertyOrder annotation. Reason: malicious clients might tamper with the db primary key. It&#39;s better to expose only business keys, not technical ids.","body":"Side note 2 (JsonPropertyOrder): Usually it&#39;s not recommended to export JPA entities to external clients, if this is what you want to achieve with the JsonPropertyOrder annotation. Reason: malicious clients might tamper with the db primary key. It&#39;s better to expose only business keys, not technical ids."},{"owner":{"account_id":8011931,"reputation":127,"user_id":6043341,"accept_rate":75,"display_name":"minh"},"score":0,"creation_date":1458730606,"post_id":36175870,"comment_id":59987818,"body_markdown":"Thank you for answering my post, what i want to do is drop the sequence and recreate it each time i run the function saveData() (the reason why i  do this is because i avoid the cache ID on database) . Therefore i need to stick the create and drop command of my sequence on my code. Hope you got what i mean","body":"Thank you for answering my post, what i want to do is drop the sequence and recreate it each time i run the function saveData() (the reason why i  do this is because i avoid the cache ID on database) . Therefore i need to stick the create and drop command of my sequence on my code. Hope you got what i mean"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1458730622,"post_id":36175870,"comment_id":59987827,"body_markdown":"JPA should CREATE that sequence itself via the schema creation facilities that are part of JPA 2.1. Why do it yourself??! The implementation I use will create it automatically at runtime if it needs to create an instance of the Entity in the datastore and it finds the sequence is not present.","body":"JPA should CREATE that sequence itself via the schema creation facilities that are part of JPA 2.1. Why do it yourself??! The implementation I use will create it automatically at runtime if it needs to create an instance of the Entity in the datastore and it finds the sequence is not present."},{"owner":{"account_id":8011931,"reputation":127,"user_id":6043341,"accept_rate":75,"display_name":"minh"},"score":0,"creation_date":1458785014,"post_id":36175870,"comment_id":60018722,"body_markdown":"@NeilStockton thank you Neil, please see my edit","body":"@NeilStockton thank you Neil, please see my edit"}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1493820382,"creation_date":1458739571,"answer_id":36179479,"question_id":36175870,"body_markdown":"There&#39;s a code smell in your proposal. Why do you need to avoid the database caching for the sequences in the first place? The whole point for a sequence is to generate unique identifiers, so you shouldn&#39;t recreate the sequence while the application is running.\r\n\r\nIf you create the sequence in that method, imagine what happens when that method is called concurrently by multiple threads.\r\n\r\nIf your use case is valid, and you really need to delete all those records and reset the sequence, and you are using Oracle 12c, you can do something like this:\r\n\r\n    entityManager.createNativeQuery(\r\n        &quot;ALTER SEQUENCE crm_test_sq_1 RESTART START WITH 1&quot;)\r\n    .executeUpdate();\r\n","title":"How to create a sequence in JPA without creating it directly in the database","body":"<p>There's a code smell in your proposal. Why do you need to avoid the database caching for the sequences in the first place? The whole point for a sequence is to generate unique identifiers, so you shouldn't recreate the sequence while the application is running.</p>\n\n<p>If you create the sequence in that method, imagine what happens when that method is called concurrently by multiple threads.</p>\n\n<p>If your use case is valid, and you really need to delete all those records and reset the sequence, and you are using Oracle 12c, you can do something like this:</p>\n\n<pre><code>entityManager.createNativeQuery(\n    \"ALTER SEQUENCE crm_test_sq_1 RESTART START WITH 1\")\n.executeUpdate();\n</code></pre>\n"}],"owner":{"account_id":8011931,"reputation":127,"user_id":6043341,"accept_rate":75,"display_name":"minh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10156,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":36179479,"answer_count":1,"score":5,"last_activity_date":1646145107,"creation_date":1458729609,"question_id":36175870,"body_markdown":"I am doing a service that gets data from a source and fetches them into my Database by using JPA. The id is generated by using sequence.\r\nI have created the sequence on my DB by using this command:\r\n\r\n    CREATE SEQUENCE crm_test_sq_1 MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 CACHE 100 NOCYCLE\r\n\r\nHowever, I don&#39;t know how to create the sequence directly from my code. \r\n\r\nCan anyone please help me to figure out this issue? Thank you so much!\r\n\r\nMy model class, modeltest.java:\r\n\r\n        @Entity\r\n        @Table(name = &quot;MODEL_TEST&quot;)\r\n        \r\n        @JsonPropertyOrder({ &quot;ID&quot;, &quot;CODE&quot;, &quot;NAME&quot; })\r\n        @XmlRootElement\r\n        @NamedQueries({\r\n        \t@NamedQuery(name = &quot;modeltest.getall&quot;, query = &quot;SELECT e FROM modelteste&quot;),\r\n        \t@NamedQuery(name = &quot;modeltest.deleteAll&quot;, query = &quot;DELETE FROM modeltest e&quot;)})\r\n        public class modeltest implements Serializable {\r\n        \tprivate static final long serialVersionUID = 1L;\r\n        \r\n        \t@Id\r\n        \t@GeneratedValue(generator = &quot;crm_test_sq&quot;, strategy = GenerationType.SEQUENCE)\r\n        \t@SequenceGenerator(name = &quot;crm_test_sq&quot;, sequenceName = &quot;crm_test_sq&quot;,allocationSize=1)\r\n        \t@Column(name=&quot;ID&quot;, unique=true, nullable=false, precision=10, scale=0)\r\n        \tprivate Long id;\r\n        \r\n        \t@Column(name = &quot;CODE&quot;)\r\n        \tprivate String isocurrencycode;\r\n        \r\n        \t@Column(name = &quot;NAME&quot;)\r\n        \tprivate String currencyname;\r\n        \r\n        \tpublic modeltest() {\r\n        \t}\r\n    //........... getter and setter method\r\n\r\nMy dao class, modeltestDao.java\r\n\r\n    public Boolean saveData() {\r\n    \t\t\r\n    \t\t\r\n    //............................................\r\n    \t\t\tgetEntityManager().createNamedQuery(&quot;modeltest.deleteAll&quot;).executeUpdate();\r\n    \t\t\t\r\n    \t\t\t// i want something like below, but obviously this line of code give me an error\r\n    \t\t\tgetEntityManager().createNativeQuery (&quot;CREATE SEQUENCE crm_test_sq_1 MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 CACHE 100 NOCYCLE&quot;).executeUpdate();\r\n    \t\t\t\r\n    \t\t/....................\r\n    \t\treturn true;\r\n    \t}\r\n\r\nEDIT: Btw, why i suppose to reset the sequence is each time i run the service (fetch data into database), the unique identifiers has increased by 1. For example, first time i run data, the id start with 1 and end with 10, second time i run data, the id start with 11 and end with 20. This problem only stop when i restart the server.\r\n\r\n    For example:\r\n    call saveData() first time\r\n    DATA IN TABLE:\r\n    ID 1 2 3 4 5\r\n    call saveData() second time\r\n    DATA IN TABLE:\r\n    ID 6 7 8 9 10\r\n\r\nOther data do not change, but id. So i find a way to solve this is drop and recreate sequence each time i run saveData()","title":"How to create a sequence in JPA without creating it directly in the database","body":"<p>I am doing a service that gets data from a source and fetches them into my Database by using JPA. The id is generated by using sequence.\nI have created the sequence on my DB by using this command:</p>\n<pre><code>CREATE SEQUENCE crm_test_sq_1 MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 CACHE 100 NOCYCLE\n</code></pre>\n<p>However, I don't know how to create the sequence directly from my code.</p>\n<p>Can anyone please help me to figure out this issue? Thank you so much!</p>\n<p>My model class, modeltest.java:</p>\n<pre><code>    @Entity\n    @Table(name = &quot;MODEL_TEST&quot;)\n    \n    @JsonPropertyOrder({ &quot;ID&quot;, &quot;CODE&quot;, &quot;NAME&quot; })\n    @XmlRootElement\n    @NamedQueries({\n        @NamedQuery(name = &quot;modeltest.getall&quot;, query = &quot;SELECT e FROM modelteste&quot;),\n        @NamedQuery(name = &quot;modeltest.deleteAll&quot;, query = &quot;DELETE FROM modeltest e&quot;)})\n    public class modeltest implements Serializable {\n        private static final long serialVersionUID = 1L;\n    \n        @Id\n        @GeneratedValue(generator = &quot;crm_test_sq&quot;, strategy = GenerationType.SEQUENCE)\n        @SequenceGenerator(name = &quot;crm_test_sq&quot;, sequenceName = &quot;crm_test_sq&quot;,allocationSize=1)\n        @Column(name=&quot;ID&quot;, unique=true, nullable=false, precision=10, scale=0)\n        private Long id;\n    \n        @Column(name = &quot;CODE&quot;)\n        private String isocurrencycode;\n    \n        @Column(name = &quot;NAME&quot;)\n        private String currencyname;\n    \n        public modeltest() {\n        }\n//........... getter and setter method\n</code></pre>\n<p>My dao class, modeltestDao.java</p>\n<pre><code>public Boolean saveData() {\n        \n        \n//............................................\n            getEntityManager().createNamedQuery(&quot;modeltest.deleteAll&quot;).executeUpdate();\n            \n            // i want something like below, but obviously this line of code give me an error\n            getEntityManager().createNativeQuery (&quot;CREATE SEQUENCE crm_test_sq_1 MINVALUE 1 MAXVALUE 999999999999999999999999999 START WITH 1 INCREMENT BY 1 CACHE 100 NOCYCLE&quot;).executeUpdate();\n            \n        /....................\n        return true;\n    }\n</code></pre>\n<p>EDIT: Btw, why i suppose to reset the sequence is each time i run the service (fetch data into database), the unique identifiers has increased by 1. For example, first time i run data, the id start with 1 and end with 10, second time i run data, the id start with 11 and end with 20. This problem only stop when i restart the server.</p>\n<pre><code>For example:\ncall saveData() first time\nDATA IN TABLE:\nID 1 2 3 4 5\ncall saveData() second time\nDATA IN TABLE:\nID 6 7 8 9 10\n</code></pre>\n<p>Other data do not change, but id. So i find a way to solve this is drop and recreate sequence each time i run saveData()</p>\n"},{"tags":["java","spring","log4j2"],"answers":[{"tags":[],"owner":{"account_id":2179282,"reputation":11,"user_id":1929140,"accept_rate":60,"display_name":"sandeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644724993,"creation_date":1644724993,"answer_id":71097825,"question_id":70780213,"body_markdown":"You need to remove the 1.2.17 jar and add the log4j-api and log4j-core jars. It will solve the problem.","title":"log4j2 not creating a rolling","body":"<p>You need to remove the 1.2.17 jar and add the log4j-api and log4j-core jars. It will solve the problem.</p>\n"}],"owner":{"account_id":9151348,"reputation":61,"user_id":6805826,"accept_rate":80,"display_name":"Clams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646145032,"creation_date":1642646394,"question_id":70780213,"body_markdown":"I had an application working with log4j1. The configuration I have in the log4j.properties is working fine and it creates the file for log.\r\n\r\nI migrate to log4j2 and now the file is not created, even though I follow the documentation. I try all the different solutions here but I can&#39;t make it work.\r\n\r\nThis is my log4j2.xml inside resources in my application\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;info&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;tmp/app.log&quot;\r\n                     filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;250 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\nThis is the dependency in my pom.xml\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.17.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI tired changing the path of my file with the full path, changing the folder in case it was permissions problem. \r\n\r\nI don&#39;t have any error, but when the application runs I don&#39;t see any file.\r\nI even print 2 versions of log4j; log4j and log4j2. Log4j creates the file no problem, log4j2 don&#39;t\r\n\r\nthis is my file for log4j\r\n\r\nlog4j.properties\r\n\r\n    log4j.rootLogger=INFO, Appender1,Appender2\r\n\r\n    log4j.appender.Appender1=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.Appender1.File=/tmp/info.log\r\n    log4j.appender.Appender1.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.Appender1.layout.ConversionPattern=%d{dd MMM yyyy HH:mm:ss.SSS} - logger1 - %-5p %c %m%n\r\n    log4j.appender.Appender1.Threshold=INFO\r\n    log4j.appender.Appender1.maxFileSize=10000KB\r\n    log4j.appender.Appender1.MaxBackupIndex=10\r\n    \r\n    log4j.appender.Appender2=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.Appender2.File=/tmp/errors.log\r\n    log4j.appender.Appender2.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.Appender2.layout.ConversionPattern=%d{dd-mm-YYYY HH:mm:ss.SSS} %-5p %c %m%n\r\n    log4j.appender.Appender2.Threshold=ERROR\r\n    log4j.appender.Appender2.maxFileSize=10000KB\r\n    log4j.appender.Appender2.MaxBackupIndex=10\r\n\r\nI&#39;m new to this, can anybody help me with this? \r\nwhat am I&#39;m missing?\r\n\r\nlet me know if you need more information.\r\n\r\nedit: adding the whole pom file in case something is wrong with it:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.software&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;seguros&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;seguros&lt;/name&gt;\r\n\t&lt;description&gt;Administracion de seguros&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mindrot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jfoenix&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jfoenix&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.10&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/eu.hansolo.enzo/Enzo --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;eu.hansolo.enzo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;Enzo&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.3.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.17.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.17.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n","title":"log4j2 not creating a rolling","body":"<p>I had an application working with log4j1. The configuration I have in the log4j.properties is working fine and it creates the file for log.</p>\n<p>I migrate to log4j2 and now the file is not created, even though I follow the documentation. I try all the different solutions here but I can't make it work.</p>\n<p>This is my log4j2.xml inside resources in my application</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;info&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\n&lt;Appenders&gt;\n    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;tmp/app.log&quot;\n                 filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\n        &lt;PatternLayout&gt;\n            &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy /&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;250 MB&quot;/&gt;\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n        &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\n    &lt;/Root&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n<p>This is the dependency in my pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I tired changing the path of my file with the full path, changing the folder in case it was permissions problem.</p>\n<p>I don't have any error, but when the application runs I don't see any file.\nI even print 2 versions of log4j; log4j and log4j2. Log4j creates the file no problem, log4j2 don't</p>\n<p>this is my file for log4j</p>\n<p>log4j.properties</p>\n<pre><code>log4j.rootLogger=INFO, Appender1,Appender2\n\nlog4j.appender.Appender1=org.apache.log4j.RollingFileAppender\nlog4j.appender.Appender1.File=/tmp/info.log\nlog4j.appender.Appender1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.Appender1.layout.ConversionPattern=%d{dd MMM yyyy HH:mm:ss.SSS} - logger1 - %-5p %c %m%n\nlog4j.appender.Appender1.Threshold=INFO\nlog4j.appender.Appender1.maxFileSize=10000KB\nlog4j.appender.Appender1.MaxBackupIndex=10\n\nlog4j.appender.Appender2=org.apache.log4j.RollingFileAppender\nlog4j.appender.Appender2.File=/tmp/errors.log\nlog4j.appender.Appender2.layout=org.apache.log4j.PatternLayout\nlog4j.appender.Appender2.layout.ConversionPattern=%d{dd-mm-YYYY HH:mm:ss.SSS} %-5p %c %m%n\nlog4j.appender.Appender2.Threshold=ERROR\nlog4j.appender.Appender2.maxFileSize=10000KB\nlog4j.appender.Appender2.MaxBackupIndex=10\n</code></pre>\n<p>I'm new to this, can anybody help me with this?\nwhat am I'm missing?</p>\n<p>let me know if you need more information.</p>\n<p>edit: adding the whole pom file in case something is wrong with it:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.5.6\n \n\ncom.software\nseguros\n0.0.1-SNAPSHOT\nseguros\nAdministracion de seguros\n\n&lt;java.version&gt;1.8&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-data-jpa\n</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\n        &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\n        &lt;version&gt;0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jfoenix&lt;/groupId&gt;\n        &lt;artifactId&gt;jfoenix&lt;/artifactId&gt;\n        &lt;version&gt;8.0.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/eu.hansolo.enzo/Enzo --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;eu.hansolo.enzo&lt;/groupId&gt;\n        &lt;artifactId&gt;Enzo&lt;/artifactId&gt;\n        &lt;version&gt;0.3.6&lt;/version&gt;\n    &lt;/dependency&gt;           \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","opengl-es","webrtc"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1646113986,"post_id":71304225,"comment_id":126037887,"body_markdown":"Please describe what using a circular viewport would mean to you? Circle in a black rectangle inside a window? Circle, otherwise fully transparent, i.e. visible desktop? Paint a picture with words...","body":"Please describe what using a circular viewport would mean to you? Circle in a black rectangle inside a window? Circle, otherwise fully transparent, i.e. visible desktop? Paint a picture with words..."},{"owner":{"account_id":24413277,"reputation":1,"user_id":18340468,"display_name":"Forcodes Ingenuity"},"score":0,"creation_date":1646121995,"post_id":71304225,"comment_id":126039670,"body_markdown":"Hi @Yunnosch Thanks for the response. I have updated the question. Hopefully this paints a better picture of the problem and the output I&#39;m looking for","body":"Hi @Yunnosch Thanks for the response. I have updated the question. Hopefully this paints a better picture of the problem and the output I&#39;m looking for"},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1646124188,"post_id":71304225,"comment_id":126040431,"body_markdown":"I recommend to visualise the desired result (ASCII art or another picture). I guess that it is important to define what you want to see in the area which is not inside the desired circular view port but is inside the unwanted rectangular viewport.","body":"I recommend to visualise the desired result (ASCII art or another picture). I guess that it is important to define what you want to see in the area which is not inside the desired circular view port but is inside the unwanted rectangular viewport."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646124206,"post_id":71304225,"comment_id":126040439,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":253976,"reputation":10814,"user_id":533037,"accept_rate":60,"display_name":"solidpixel"},"score":0,"creation_date":1646146612,"post_id":71304225,"comment_id":126048167,"body_markdown":"How is your final scene constructed? Is this two viewports inside a single render pass?","body":"How is your final scene constructed? Is this two viewports inside a single render pass?"}],"owner":{"account_id":24413277,"reputation":1,"user_id":18340468,"display_name":"Forcodes Ingenuity"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646144700,"creation_date":1646113715,"question_id":71304225,"body_markdown":"I am aware that according to the GLES20 documentation, `glViewport(int x, int y, int width, int height)` creates a rectangular viewport. \r\n\r\nIs there perhaps a way to use a different polygon (or circular) shaped viewport instead?\r\n\r\nI&#39;d like to display a stream from webrtc inside a viewport. The current issue is that the viewport in which it is displayed is rectangular and therefore it shows a black background behind the stream (See image linked)\r\n\r\nThis code is adapted from react-native-webrtc.\r\n \r\n`private static final FloatBuffer FULL_RECTANGLE_BUF =\r\nGlUtil.createFloatBuffer(new float[] {-0.5f, -1.0f, 0.5f, -1.0f,-1.0f, 0.0f,1.0f, 0.0f,-0.5f,  1.0f,0.5f,  1.0f,});`\r\n\r\n`GLES20.glViewport(x, y, width, height);`\r\n\r\n`GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 6);`\r\n\r\n[Image of current output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J1heH.jpg","title":"Opengl GLES20.glViewport() change shape to circle","body":"<p>I am aware that according to the GLES20 documentation, <code>glViewport(int x, int y, int width, int height)</code> creates a rectangular viewport.</p>\n<p>Is there perhaps a way to use a different polygon (or circular) shaped viewport instead?</p>\n<p>I'd like to display a stream from webrtc inside a viewport. The current issue is that the viewport in which it is displayed is rectangular and therefore it shows a black background behind the stream (See image linked)</p>\n<p>This code is adapted from react-native-webrtc.</p>\n<p><code>private static final FloatBuffer FULL_RECTANGLE_BUF = GlUtil.createFloatBuffer(new float[] {-0.5f, -1.0f, 0.5f, -1.0f,-1.0f, 0.0f,1.0f, 0.0f,-0.5f,  1.0f,0.5f,  1.0f,});</code></p>\n<p><code>GLES20.glViewport(x, y, width, height);</code></p>\n<p><code>GLES20.glDrawArrays(GLES20.GL_TRIANGLE_STRIP, 0, 6);</code></p>\n<p><a href=\"https://i.stack.imgur.com/J1heH.jpg\" rel=\"nofollow noreferrer\">Image of current output</a></p>\n"},{"tags":["java","templates","replace"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1646142656,"post_id":71308811,"comment_id":126046586,"body_markdown":"Take a look at this answer if you don&#39;t want to use external libs : https://stackoverflow.com/questions/2286648/named-placeholders-in-string-formatting#answer-27815924","body":"Take a look at this answer if you don&#39;t want to use external libs : <a href=\"https://stackoverflow.com/questions/2286648/named-placeholders-in-string-formatting#answer-27815924\" title=\"named placeholders in string formatting%23answer 27815924\">stackoverflow.com/questions/2286648/&hellip;</a>"},{"owner":{"account_id":3535938,"reputation":4697,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1646149186,"post_id":71308811,"comment_id":126049280,"body_markdown":"*but I&#39;m sure it is not the best way of doing this.* &lt;- With the information given, I don&#39;t see what&#39;s wrong with the regex solution. What exactly are you doubting here? Do you have 17 gazillion variables to replace? Is this in your most inner loop and you suspect it is inefficient?","body":"<i>but I&#39;m sure it is not the best way of doing this.</i> &lt;- With the information given, I don&#39;t see what&#39;s wrong with the regex solution. What exactly are you doubting here? Do you have 17 gazillion variables to replace? Is this in your most inner loop and you suspect it is inefficient?"}],"owner":{"account_id":9938675,"reputation":89,"user_id":8798063,"display_name":"user402843"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1666356061,"answer_count":0,"score":1,"last_activity_date":1646144479,"creation_date":1646139262,"question_id":71308811,"body_markdown":"I&#39;ve got a String like this:\r\n```\r\nVery long text ... ${ABC} ... very long text ... ${DEF} ...\r\n...\r\nvery long text ... ${GHI} ... very long text ...\r\n...\r\n... and so forth ...\r\n```\r\nand I need to replace all these `${...}` with some value (say also such value can be very long) which is stored in a variable of type `String`.\r\n\r\nUntil now I&#39;m solving it like follows:\r\n```java\r\nString finalString = templateString\r\n\t\t\t\t.replaceAll(&quot;\\\\$\\\\{ABC}&quot;, abc)\r\n\t\t\t\t.replaceAll(&quot;\\\\$\\\\{DEF}&quot;, def)\r\n\t\t\t\t.replaceAll(&quot;\\\\$\\\\{GHI}&quot;, ghi)\r\n                ...\r\n```\r\nbut I&#39;m sure it is not the best way of doing this.\r\n\r\nI can&#39;t use `String.format()` because the template variables are named.\r\n\r\nDo you know any way of doing this (maybe using `StringBuilder`?) without using external libraries?","title":"Build a String object from a template","body":"<p>I've got a String like this:</p>\n<pre><code>Very long text ... ${ABC} ... very long text ... ${DEF} ...\n...\nvery long text ... ${GHI} ... very long text ...\n...\n... and so forth ...\n</code></pre>\n<p>and I need to replace all these <code>${...}</code> with some value (say also such value can be very long) which is stored in a variable of type <code>String</code>.</p>\n<p>Until now I'm solving it like follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String finalString = templateString\n                .replaceAll(&quot;\\\\$\\\\{ABC}&quot;, abc)\n                .replaceAll(&quot;\\\\$\\\\{DEF}&quot;, def)\n                .replaceAll(&quot;\\\\$\\\\{GHI}&quot;, ghi)\n                ...\n</code></pre>\n<p>but I'm sure it is not the best way of doing this.</p>\n<p>I can't use <code>String.format()</code> because the template variables are named.</p>\n<p>Do you know any way of doing this (maybe using <code>StringBuilder</code>?) without using external libraries?</p>\n"},{"tags":["java","android","view","imageview"],"comments":[{"owner":{"account_id":8901867,"reputation":344,"user_id":6645076,"display_name":"crazo7924"},"score":0,"creation_date":1646110501,"post_id":71303571,"comment_id":126037272,"body_markdown":"Does this answer your question? [Adding content to a linear layout dynamically?](https://stackoverflow.com/questions/6661261/adding-content-to-a-linear-layout-dynamically)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6661261/adding-content-to-a-linear-layout-dynamically\">Adding content to a linear layout dynamically?</a>"},{"owner":{"account_id":24081976,"reputation":260,"user_id":18056527,"display_name":"Abhi S"},"score":0,"creation_date":1646110759,"post_id":71303571,"comment_id":126037307,"body_markdown":"No, I know how to add view in layout but I don&#39;t know how to edit all view or particular view, @crazo7924","body":"No, I know how to add view in layout but I don&#39;t know how to edit all view or particular view, @crazo7924"},{"owner":{"account_id":8901867,"reputation":344,"user_id":6645076,"display_name":"crazo7924"},"score":0,"creation_date":1646111061,"post_id":71303571,"comment_id":126037351,"body_markdown":"You can always declare the child view variables in your activity/fragment class scope and call their functions in onClick of the button&#39;s view.listener object...","body":"You can always declare the child view variables in your activity/fragment class scope and call their functions in onClick of the button&#39;s view.listener object..."}],"answers":[{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646111617,"creation_date":1646110240,"answer_id":71303865,"question_id":71303571,"body_markdown":"when you are adding imageView into linear layout, at that time you are `setImageBitmap` to imageView.\r\n\r\n&gt; if you want to reset Image to Imageview, you should use `img1.setImageResource`\r\n\r\n\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n\r\n                       //use anyone as your requirement\r\n                        img1.setBackgroundResource(); // for set background resource from drawable folder(for src)\r\n                        img1.setBackground();// for set background(Drawable)(for background)\r\n                        img1.setBackgroundColor(); //for set background color(for background)\r\n                        \r\n                    }\r\n                });","title":"Add View programmatically and after adding on button click change view background","body":"<p>when you are adding imageView into linear layout, at that time you are <code>setImageBitmap</code> to imageView.</p>\n<blockquote>\n<p>if you want to reset Image to Imageview, you should use <code>img1.setImageResource</code></p>\n</blockquote>\n<pre><code>    btn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n\n                   //use anyone as your requirement\n                    img1.setBackgroundResource(); // for set background resource from drawable folder(for src)\n                    img1.setBackground();// for set background(Drawable)(for background)\n                    img1.setBackgroundColor(); //for set background color(for background)\n                    \n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139883,"reputation":141,"user_id":5288010,"display_name":"Mohamed Saleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646144343,"creation_date":1646144343,"answer_id":71309904,"question_id":71303571,"body_markdown":"I am not sure if I understand the question correctly, but If you mean change specific image background with onClick event on a button .. If you have the image reference change it .. but if you mean you are adding the image view dynamically like inside for loop and you don&#39;t have the reference you can create Arraylist and add the added images into it then loop on this arraylist to change all the images background or filter the specific image you want to change ","title":"Add View programmatically and after adding on button click change view background","body":"<p>I am not sure if I understand the question correctly, but If you mean change specific image background with onClick event on a button .. If you have the image reference change it .. but if you mean you are adding the image view dynamically like inside for loop and you don't have the reference you can create Arraylist and add the added images into it then loop on this arraylist to change all the images background or filter the specific image you want to change</p>\n"}],"owner":{"account_id":24081976,"reputation":260,"user_id":18056527,"display_name":"Abhi S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71303865,"answer_count":2,"score":0,"last_activity_date":1646144343,"creation_date":1646106993,"question_id":71303571,"body_markdown":"Add View dynamically in LinearLayout and after adding View change any View background on the click button.\r\n```\r\nLinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(width, height);\r\nImageView img1 = new ImageView(this);\r\nimg1.setLayoutParams(layoutParams);\r\nimg1.setImageBitmap(icon);\r\nllLayout.addView(img1);\r\n\r\nImageView img2 = new ImageView(this);\r\nimg2.setLayoutParams(layoutParams);\r\nimg2.setImageBitmap(icon);\r\nllLayout.addView(img2);\r\n\r\nImageView img3 = new ImageView(this);\r\nimg3.setLayoutParams(layoutParams);\r\nimg3.setImageBitmap(icon);\r\nllLayout.addView(img3);   \r\n```\r\n\r\nOn button, click change all imageview background or particular ImageView.\r\n\r\nNote : **llLayout** is my linear layout this layout adding in XML","title":"Add View programmatically and after adding on button click change view background","body":"<p>Add View dynamically in LinearLayout and after adding View change any View background on the click button.</p>\n<pre><code>LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(width, height);\nImageView img1 = new ImageView(this);\nimg1.setLayoutParams(layoutParams);\nimg1.setImageBitmap(icon);\nllLayout.addView(img1);\n\nImageView img2 = new ImageView(this);\nimg2.setLayoutParams(layoutParams);\nimg2.setImageBitmap(icon);\nllLayout.addView(img2);\n\nImageView img3 = new ImageView(this);\nimg3.setLayoutParams(layoutParams);\nimg3.setImageBitmap(icon);\nllLayout.addView(img3);   \n</code></pre>\n<p>On button, click change all imageview background or particular ImageView.</p>\n<p>Note : <strong>llLayout</strong> is my linear layout this layout adding in XML</p>\n"},{"tags":["java","akka","actor","akka-cluster"],"answers":[{"tags":[],"owner":{"account_id":13994359,"reputation":236,"user_id":10107568,"display_name":"awagen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552600907,"creation_date":1552600907,"answer_id":55172664,"question_id":54912481,"body_markdown":"Depends on how you configured the cluster, for example: \r\n1) hard-coded within seed-nodes list in your application.conf: should directly work if both machines can reach each other\r\n2) discovery-mechanism by config, dns, tag (aws) (provided by lightbend): an example for config-based: \r\n```\r\nakka.management {\r\n  contact-point-discovery {\r\n    required-contact-point-nr = 2\r\n    service-name = &quot;MyApp&quot;\r\n    discovery-method = akka.discovery\r\n  }\r\n}\r\n```\r\nand an entry\r\n```\r\nakka.discovery {\r\n  method = config\r\n    config {\r\n      class = &quot;akka.discovery.config.ConfigSimpleServiceDiscovery&quot;\r\n\r\n      # Location of the services\r\n      services-path = &quot;akka.discovery.config.services&quot;\r\n      # hosts\r\n      services {\r\n        MyApp { //name should match the name set in akka-management.conf for service-name (https://developer.lightbend.com/docs/akka-management/current/bootstrap/local-config.html)\r\n          endpoints = [\r\n            {\r\n              host = &quot;127.0.0.1&quot;\r\n            },\r\n            {\r\n              host = &quot;127.0.0.2&quot;\r\n            }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nwhere hosts would be those matching your machines.\r\nNote that this requires &quot;com.lightbend.akka.discovery&quot; %% &quot;akka-discovery-config&quot; of the specific version in your build file.\r\nWith discovery, you also need to call AkkaManagement(actorSystem).start() and ClusterBootStrap(actorSystem).start() on each node&#39;s startup.\r\n\r\nSo really depends on your configuration.","title":"Akka does not see each other","body":"<p>Depends on how you configured the cluster, for example: \n1) hard-coded within seed-nodes list in your application.conf: should directly work if both machines can reach each other\n2) discovery-mechanism by config, dns, tag (aws) (provided by lightbend): an example for config-based: </p>\n\n<pre><code>akka.management {\n  contact-point-discovery {\n    required-contact-point-nr = 2\n    service-name = \"MyApp\"\n    discovery-method = akka.discovery\n  }\n}\n</code></pre>\n\n<p>and an entry</p>\n\n<pre><code>akka.discovery {\n  method = config\n    config {\n      class = \"akka.discovery.config.ConfigSimpleServiceDiscovery\"\n\n      # Location of the services\n      services-path = \"akka.discovery.config.services\"\n      # hosts\n      services {\n        MyApp { //name should match the name set in akka-management.conf for service-name (https://developer.lightbend.com/docs/akka-management/current/bootstrap/local-config.html)\n          endpoints = [\n            {\n              host = \"127.0.0.1\"\n            },\n            {\n              host = \"127.0.0.2\"\n            }\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>where hosts would be those matching your machines.\nNote that this requires \"com.lightbend.akka.discovery\" %% \"akka-discovery-config\" of the specific version in your build file.\nWith discovery, you also need to call AkkaManagement(actorSystem).start() and ClusterBootStrap(actorSystem).start() on each node's startup.</p>\n\n<p>So really depends on your configuration.</p>\n"}],"owner":{"account_id":11728551,"reputation":585,"user_id":8584914,"display_name":"omerstack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646144313,"creation_date":1551293143,"question_id":54912481,"body_markdown":"In Akka I add two different machines to the cluster. But there are some problems. If 2 machines stand up at the same time, the 2 side leaves as the leader and do not see each other.Or because of similar problems, they do not see each other. Do you know if he has a solution?","title":"Akka does not see each other","body":"<p>In Akka I add two different machines to the cluster. But there are some problems. If 2 machines stand up at the same time, the 2 side leaves as the leader and do not see each other.Or because of similar problems, they do not see each other. Do you know if he has a solution?</p>\n"},{"tags":["java","eclipse","maven","exception","intellij-idea"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1646105290,"post_id":71303300,"comment_id":126036475,"body_markdown":"What&#39;s that bit about &quot;form runtime classes&quot;?","body":"What&#39;s that bit about &quot;form runtime classes&quot;?"},{"owner":{"account_id":5816437,"reputation":101,"user_id":11799490,"display_name":"PyxlWuff"},"score":0,"creation_date":1646105946,"post_id":71303300,"comment_id":126036586,"body_markdown":"Initially unchecking that caused intelliJ to error out the ass, but a quick recheck and relaunch before unchecking and rebuilding seems to have solved the eclipse issue amazingly??","body":"Initially unchecking that caused intelliJ to error out the ass, but a quick recheck and relaunch before unchecking and rebuilding seems to have solved the eclipse issue amazingly??"},{"owner":{"account_id":5816437,"reputation":101,"user_id":11799490,"display_name":"PyxlWuff"},"score":0,"creation_date":1646106702,"post_id":71303300,"comment_id":126036710,"body_markdown":"Update:  I had to restart for an update, and now I&#39;m back at square 1 with the same issue.. again","body":"Update:  I had to restart for an update, and now I&#39;m back at square 1 with the same issue.. again"},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":1,"creation_date":1646108407,"post_id":71303300,"comment_id":126036947,"body_markdown":"it&#39;s a Jetbrains specific class, Eclipse knows nothing about it. Ergo, once you use that stuff you can from then on only edit the project from inside IntelliJ. You might be able to RUN the project from Eclipse after it was compiled by IntelliJ (maybe), but not change anything as that would force a recompilation.","body":"it&#39;s a Jetbrains specific class, Eclipse knows nothing about it. Ergo, once you use that stuff you can from then on only edit the project from inside IntelliJ. You might be able to RUN the project from Eclipse after it was compiled by IntelliJ (maybe), but not change anything as that would force a recompilation."}],"answers":[{"tags":[],"owner":{"account_id":5816437,"reputation":101,"user_id":11799490,"display_name":"PyxlWuff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646143964,"creation_date":1646143964,"answer_id":71309827,"question_id":71303300,"body_markdown":"In the end it was found out that a maven dependency was missing that it doesn&#39;t seem to add by default when you switch the designer to compile into Java Source Code, [as found here][1].\r\n\r\nAdding the following below to my `pom.xml` and reloading maven solved it, and Eclipse + IntelliJ now behave properly.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intellij&lt;/groupId&gt;\r\n            &lt;artifactId&gt;forms_rt&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65186850/11799490","title":"IntelliJ is breaking my project when exporting to Eclipse - com.intellij cannot be resolved to a type","body":"<p>In the end it was found out that a maven dependency was missing that it doesn't seem to add by default when you switch the designer to compile into Java Source Code, <a href=\"https://stackoverflow.com/a/65186850/11799490\">as found here</a>.</p>\n<p>Adding the following below to my <code>pom.xml</code> and reloading maven solved it, and Eclipse + IntelliJ now behave properly.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.intellij&lt;/groupId&gt;\n        &lt;artifactId&gt;forms_rt&lt;/artifactId&gt;\n        &lt;version&gt;7.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5816437,"reputation":101,"user_id":11799490,"display_name":"PyxlWuff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646143964,"creation_date":1646104144,"question_id":71303300,"body_markdown":"OS: Windows 10 x64\r\nSDK: JDK 16.0.2\r\nPlatforms: IntelliJ IDEA Ultimate 2021.3.2 and Eclipse 2021-12 (4.22.0)\r\n\r\nI have a strange problem that has me utterly confused and I&#39;m not really sure how to get about with it. I have a Maven project with JUnit on IntelliJ IDEA 2021.3.2, with a GUI built through IntelliJ&#39;s Form Builder tool. The generating GUI setting is switched to &quot;Java Source Code&quot;. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe nature of my work (college work) means I need to have an eclipse compatible version of the project for review by someone, which I&#39;m doing through the &quot;File &gt; Export &gt; Export to Eclipse&quot; button. When the project is built, IntelliJ starts throwing errors about it being `&quot;Unable to resolve symbol: intellij&quot;`, which is [referenced here: IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code][2]. I&#39;ve tried all the answers listed in this question however none of them have been able to get rid of these errors,  despite it compiling and running just fine through IntelliJ. The problem arises when I import the project into Eclipse for testing, where it immediately throws a variety of errors which IntelliJ doesn&#39;t pick up running on there:\r\n\r\n    Exception &quot;java.lang.ClassNotFoundException: com/intellij/openapi/editor/RawText&quot;while constructing DataFlavor for: application/x-java-jvm-local-objectref; class=com.intellij.openapi.editor.RawText\r\n    Exception &quot;java.lang.ClassNotFoundException: com/intellij/openapi/editor/RawText&quot;while constructing DataFlavor for: application/x-java-jvm-local-objectref; class=com.intellij.openapi.editor.RawText\r\n    Exception &quot;java.lang.ClassNotFoundException: com/intellij/codeInsight/editorActions/FoldingData&quot;while constructing DataFlavor for: application/x-java-jvm-local-objectref; class=com.intellij.codeInsight.editorActions.FoldingData\r\n    Exception &quot;java.lang.ClassNotFoundException: com/intellij/codeInsight/editorActions/FoldingData&quot;while constructing DataFlavor for: application/x-java-jvm-local-objectref; class=com.intellij.codeInsight.editorActions.FoldingData\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.Error: Unresolved compilation problems: \r\n    \tcom.intellij cannot be resolved to a type\r\n    \tcom.intellij cannot be resolved to a type\r\n    \tcom.intellij cannot be resolved to a type\r\n    \tcom.intellij.uiDesigner.core.GridConstraints cannot be resolved to a type\r\n    \tcom.intellij.uiDesigner.core.GridConstraints cannot be resolved to a variable\r\n\r\nAfter this appears in Eclipse, it instantly begins appearing in IntelliJ of which I can&#39;t seem to find a solution to anywhere, forcing me to reimport the project which&#39;ll only result in the same error happening again the next time I need to run it through Eclipse. Does anyone have any idea what&#39;s going on here?\r\n\r\n**EDIT:** I just discovered if I delete the target folder it makes after running on eclipse and rebuilding through intelliJ it&#39;ll relaunch just fine on there but will reappear on eclipse if I run it again. Sometimes though, it launches and works without issues? This is somehow getting even more confusing\r\n\r\n[1]: https://i.stack.imgur.com/FUGWm.png\r\n[2]: https://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code","title":"IntelliJ is breaking my project when exporting to Eclipse - com.intellij cannot be resolved to a type","body":"<p>OS: Windows 10 x64\nSDK: JDK 16.0.2\nPlatforms: IntelliJ IDEA Ultimate 2021.3.2 and Eclipse 2021-12 (4.22.0)</p>\n<p>I have a strange problem that has me utterly confused and I'm not really sure how to get about with it. I have a Maven project with JUnit on IntelliJ IDEA 2021.3.2, with a GUI built through IntelliJ's Form Builder tool. The generating GUI setting is switched to &quot;Java Source Code&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/FUGWm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FUGWm.png\" alt=\"enter image description here\" /></a></p>\n<p>The nature of my work (college work) means I need to have an eclipse compatible version of the project for review by someone, which I'm doing through the &quot;File &gt; Export &gt; Export to Eclipse&quot; button. When the project is built, IntelliJ starts throwing errors about it being <code>&quot;Unable to resolve symbol: intellij&quot;</code>, which is <a href=\"https://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code\">referenced here: IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code</a>. I've tried all the answers listed in this question however none of them have been able to get rid of these errors,  despite it compiling and running just fine through IntelliJ. The problem arises when I import the project into Eclipse for testing, where it immediately throws a variety of errors which IntelliJ doesn't pick up running on there:</p>\n<pre><code>Exception &quot;java.lang.ClassNotFoundException: com/intellij/openapi/editor/RawText&quot;while constructing DataFlavor for: application/x-java-jvm-local-objectref; class=com.intellij.openapi.editor.RawText\nException &quot;java.lang.ClassNotFoundException: com/intellij/openapi/editor/RawText&quot;while constructing DataFlavor for: application/x-java-jvm-local-objectref; class=com.intellij.openapi.editor.RawText\nException &quot;java.lang.ClassNotFoundException: com/intellij/codeInsight/editorActions/FoldingData&quot;while constructing DataFlavor for: application/x-java-jvm-local-objectref; class=com.intellij.codeInsight.editorActions.FoldingData\nException &quot;java.lang.ClassNotFoundException: com/intellij/codeInsight/editorActions/FoldingData&quot;while constructing DataFlavor for: application/x-java-jvm-local-objectref; class=com.intellij.codeInsight.editorActions.FoldingData\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.Error: Unresolved compilation problems: \n    com.intellij cannot be resolved to a type\n    com.intellij cannot be resolved to a type\n    com.intellij cannot be resolved to a type\n    com.intellij.uiDesigner.core.GridConstraints cannot be resolved to a type\n    com.intellij.uiDesigner.core.GridConstraints cannot be resolved to a variable\n</code></pre>\n<p>After this appears in Eclipse, it instantly begins appearing in IntelliJ of which I can't seem to find a solution to anywhere, forcing me to reimport the project which'll only result in the same error happening again the next time I need to run it through Eclipse. Does anyone have any idea what's going on here?</p>\n<p><strong>EDIT:</strong> I just discovered if I delete the target folder it makes after running on eclipse and rebuilding through intelliJ it'll relaunch just fine on there but will reappear on eclipse if I run it again. Sometimes though, it launches and works without issues? This is somehow getting even more confusing</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1644509259,"post_id":71068348,"comment_id":125631017,"body_markdown":"You could use the Java decompiler (`javap`) to look at the generated bytecodes.","body":"You could use the Java decompiler (<code>javap</code>) to look at the generated bytecodes."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1645103297,"post_id":71068348,"comment_id":125785225,"body_markdown":"This looks like a premature optimization.  If there is any difference in performance (after the code has been compiled to native code) it is likely be a couple of machine instructions, and not significant to the overall performance of your application.","body":"This looks like a premature optimization.  If there is any difference in performance (after the code has been compiled to native code) it is likely be a couple of machine instructions, and not significant to the overall performance of your application."}],"answers":[{"tags":[],"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646143412,"creation_date":1644509262,"answer_id":71068414,"question_id":71068348,"body_markdown":"In your example, they are equivalent behind the scenes (but obviously, you need different syntax for using the property vs. the method). Specifically, Kotlin will generate a backing field if any of the accessors use the [`field` identifier](https://kotlinlang.org/docs/properties.html#backing-fields), and the autogenerated `get` and `set` accessors do use `field`. So in order to avoid a backing field, you need to supply your own `get` accessor and (in the case of a `var` property) a `set` accessor, and none of them must use `field`.\r\n\r\nWhether a property has a backing field or not, reading the property turns into a method call to `get()` behind the scenes, and if it&#39;s a `var`, assigning to the property turns into a method call to `set()`.\r\n\r\nNote that it&#39;s possible to get into weird situations with `var` if your accessors are inconsistent: `var foo: Int = 3; get() = 42` will always return 42 when you read it, irrespective of the initial value and whatever you might assign to it, because you will get an autogenerated backing field since you omitted the setter, and that&#39;s what the autogenerated setter will set.\r\n\r\nUsing properties instead of Java-style getter/setter methods is strongly preferred in Kotlin.\r\n\r\n(Thanks to @AlexeyRomanov for pointing out the specific rules.)","title":"Java getter vs Kotlin getter - any difference?","body":"<p>In your example, they are equivalent behind the scenes (but obviously, you need different syntax for using the property vs. the method). Specifically, Kotlin will generate a backing field if any of the accessors use the <a href=\"https://kotlinlang.org/docs/properties.html#backing-fields\" rel=\"nofollow noreferrer\"><code>field</code> identifier</a>, and the autogenerated <code>get</code> and <code>set</code> accessors do use <code>field</code>. So in order to avoid a backing field, you need to supply your own <code>get</code> accessor and (in the case of a <code>var</code> property) a <code>set</code> accessor, and none of them must use <code>field</code>.</p>\n<p>Whether a property has a backing field or not, reading the property turns into a method call to <code>get()</code> behind the scenes, and if it's a <code>var</code>, assigning to the property turns into a method call to <code>set()</code>.</p>\n<p>Note that it's possible to get into weird situations with <code>var</code> if your accessors are inconsistent: <code>var foo: Int = 3; get() = 42</code> will always return 42 when you read it, irrespective of the initial value and whatever you might assign to it, because you will get an autogenerated backing field since you omitted the setter, and that's what the autogenerated setter will set.</p>\n<p>Using properties instead of Java-style getter/setter methods is strongly preferred in Kotlin.</p>\n<p>(Thanks to @AlexeyRomanov for pointing out the specific rules.)</p>\n"}],"owner":{"account_id":10526668,"reputation":3195,"user_id":10426052,"display_name":"Baterka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646143412,"creation_date":1644509017,"question_id":71068348,"body_markdown":"Lets have these two getters in Kotlin:\r\n```kotlin\r\ndata class Foo(var id: String){\r\n  val reference get() = Reference(&quot;Patient/$id&quot;)\r\n}\r\n```\r\n\r\n```kotlin\r\ndata class Foo(var id: String){\r\n  fun getReference(){ return Reference(&quot;Patient/$id&quot;) }\r\n}\r\n```\r\n\r\nDoes the first one have some performance cons? I like it more, but I am not sure if they are built into same bytecode, or the first one adds more things, because I am basically delaring new variable and not just method.","title":"Java getter vs Kotlin getter - any difference?","body":"<p>Lets have these two getters in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Foo(var id: String){\n  val reference get() = Reference(&quot;Patient/$id&quot;)\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Foo(var id: String){\n  fun getReference(){ return Reference(&quot;Patient/$id&quot;) }\n}\n</code></pre>\n<p>Does the first one have some performance cons? I like it more, but I am not sure if they are built into same bytecode, or the first one adds more things, because I am basically delaring new variable and not just method.</p>\n"},{"tags":["java","android","android-recyclerview","adapter"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":1,"creation_date":1646118748,"post_id":71304785,"comment_id":126038802,"body_markdown":"show what you have got for now and where is your exact problem. SO isn&#39;t for posting requests for code snippets, nor for asking such basic questions (read doc and some tutorials, plenty of them)","body":"show what you have got for now and where is your exact problem. SO isn&#39;t for posting requests for code snippets, nor for asking such basic questions (read doc and some tutorials, plenty of them)"}],"answers":[{"tags":[],"owner":{"account_id":15999744,"reputation":61,"user_id":11546766,"display_name":"Shubham Kathe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646134392,"creation_date":1646134392,"answer_id":71307864,"question_id":71304785,"body_markdown":"Basically you have to create two different ViewType/Layouts to implement this.\r\n\r\nSharing related links below..\r\n\r\nhttps://www.geeksforgeeks.org/how-to-create-recyclerview-with-multiple-viewtype-in-android/\r\n\r\nhttps://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types","title":"Android. How to show 2 items in recycler view and then add one item on every button click","body":"<p>Basically you have to create two different ViewType/Layouts to implement this.</p>\n<p>Sharing related links below..</p>\n<p><a href=\"https://www.geeksforgeeks.org/how-to-create-recyclerview-with-multiple-viewtype-in-android/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-create-recyclerview-with-multiple-viewtype-in-android/</a></p>\n<p><a href=\"https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types\">How to create RecyclerView with multiple view types</a></p>\n"},{"tags":[],"owner":{"account_id":2139883,"reputation":141,"user_id":5288010,"display_name":"Mohamed Saleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646143309,"creation_date":1646143309,"answer_id":71309683,"question_id":71304785,"body_markdown":"For adding items to Recycler view when you click in a button you should add the item in the list and notify adapter that new item added at the end of the recyclerview using `notifyItemInserted()` \r\nand for the other question for getting the edittext value from the adapter to the activity you can create a callback interface that implemented in the activity and pass the reference to the adapter and fire it from adapter when Edittext value is changed","title":"Android. How to show 2 items in recycler view and then add one item on every button click","body":"<p>For adding items to Recycler view when you click in a button you should add the item in the list and notify adapter that new item added at the end of the recyclerview using <code>notifyItemInserted()</code>\nand for the other question for getting the edittext value from the adapter to the activity you can create a callback interface that implemented in the activity and pass the reference to the adapter and fire it from adapter when Edittext value is changed</p>\n"}],"owner":{"account_id":23793060,"reputation":11,"user_id":17804301,"display_name":"newbie_android_dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646143309,"creation_date":1646117928,"question_id":71304785,"body_markdown":"I want to show 2 items by default and add items in recycler view when we click button in main activity. Those item contains edittext so I have to get the data from edittext in my main activity.","title":"Android. How to show 2 items in recycler view and then add one item on every button click","body":"<p>I want to show 2 items by default and add items in recycler view when we click button in main activity. Those item contains edittext so I have to get the data from edittext in my main activity.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1646142980,"post_id":71309460,"comment_id":126046708,"body_markdown":"Sure it&#39;s possible, and this is nowhere near &quot;breaking the android studio law of coding&quot;. It sounds like a pretty normal idea. But the question as it is now is way too broad. Just go ahead and try make it and if problems arise you could ask more specific questions instead","body":"Sure it&#39;s possible, and this is nowhere near &quot;breaking the android studio law of coding&quot;. It sounds like a pretty normal idea. But the question as it is now is way too broad. Just go ahead and try make it and if problems arise you could ask more specific questions instead"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1646143210,"post_id":71309460,"comment_id":126046808,"body_markdown":"It&#39;s programming. You can do anything the hardware is capable of within whatever security restraints the OS has, which of course doesn&#39;t apply to button behavior.","body":"It&#39;s programming. You can do anything the hardware is capable of within whatever security restraints the OS has, which of course doesn&#39;t apply to button behavior."},{"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"score":0,"creation_date":1646143273,"post_id":71309460,"comment_id":126046836,"body_markdown":"@IvoBeckers I know it&#39;s possible. I just never done it before. I never seen a calculator with that feature to customize the button. So I know it&#39;s possible it&#39;s just trying to get the correct sequence. I hardly ask questions on here and I have recently migrated to kotlin. I do a lot on windows WPF, but never really done anything on Kotlin. So it&#39;s a learning curve.","body":"@IvoBeckers I know it&#39;s possible. I just never done it before. I never seen a calculator with that feature to customize the button. So I know it&#39;s possible it&#39;s just trying to get the correct sequence. I hardly ask questions on here and I have recently migrated to kotlin. I do a lot on windows WPF, but never really done anything on Kotlin. So it&#39;s a learning curve."},{"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"score":0,"creation_date":1646143429,"post_id":71309460,"comment_id":126046889,"body_markdown":"@Tenfour04 I have an app I am pushing to Google play this week and that was one of the features I had thought about in my weather app. But dad said he needs a good calculator with the functions he uses. So this question was brought up. I never see these customized controls in apps. So I wonder if it&#39;s a useful feature or no one doesn&#39;t do them","body":"@Tenfour04 I have an app I am pushing to Google play this week and that was one of the features I had thought about in my weather app. But dad said he needs a good calculator with the functions he uses. So this question was brought up. I never see these customized controls in apps. So I wonder if it&#39;s a useful feature or no one doesn&#39;t do them"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1646143491,"post_id":71309460,"comment_id":126046919,"body_markdown":"Seems like a good feature for a calculator. Long press isn&#39;t often recommended for mobile apps because discoverability can be an issue, but it can be a power-user feature. The strategy I would use is create an enum class that defines a button icon ID and a function. Give every customizable button unique ID and a default value of the enum that you can persist to disk. When one of these buttons is long-pressed, you show a drop-down menu of the enum so it&#39;s attached enum value can be changed.","body":"Seems like a good feature for a calculator. Long press isn&#39;t often recommended for mobile apps because discoverability can be an issue, but it can be a power-user feature. The strategy I would use is create an enum class that defines a button icon ID and a function. Give every customizable button unique ID and a default value of the enum that you can persist to disk. When one of these buttons is long-pressed, you show a drop-down menu of the enum so it&#39;s attached enum value can be changed."},{"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"score":0,"creation_date":1646143781,"post_id":71309460,"comment_id":126047027,"body_markdown":"@Tenfour04 the biggest thing is dad only uses certain functions. The functions he uses he has to turn the phone in landscape. So he said he would be tickled if he had a calculator to customize the buttons to what he uses most in portrait then the other buttons in landscape change to the functions not used. So that&#39;s the biggest issue. If sin is used in portrait then sin in landscape should be replaced with another function. That&#39;s what I am trying to figure out.","body":"@Tenfour04 the biggest thing is dad only uses certain functions. The functions he uses he has to turn the phone in landscape. So he said he would be tickled if he had a calculator to customize the buttons to what he uses most in portrait then the other buttons in landscape change to the functions not used. So that&#39;s the biggest issue. If sin is used in portrait then sin in landscape should be replaced with another function. That&#39;s what I am trying to figure out."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1646144495,"post_id":71309460,"comment_id":126047326,"body_markdown":"It&#39;s straight-forward logic. When one button changes, you check the other buttons and change them as necessary automatically. You just need to plan out the logic on paper and then implement it.","body":"It&#39;s straight-forward logic. When one button changes, you check the other buttons and change them as necessary automatically. You just need to plan out the logic on paper and then implement it."},{"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"score":0,"creation_date":1646145842,"post_id":71309460,"comment_id":126047855,"body_markdown":"@Tenfour04 that what I am doing now is paper drawing board and getting the code wrote down long hand. Then try it on the actual code","body":"@Tenfour04 that what I am doing now is paper drawing board and getting the code wrote down long hand. Then try it on the actual code"}],"answers":[{"tags":[],"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646142879,"creation_date":1646142879,"answer_id":71309568,"question_id":71309460,"body_markdown":"1. OnLongPress show a dialog with the option you want and change the button text according to selected option.\r\n\r\n2. On Onclick check the button text and call function according to the text","title":"Custom button with a selection","body":"<ol>\n<li><p>OnLongPress show a dialog with the option you want and change the button text according to selected option.</p>\n</li>\n<li><p>On Onclick check the button text and call function according to the text</p>\n</li>\n</ol>\n"}],"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71309568,"answer_count":1,"score":0,"last_activity_date":1646142879,"creation_date":1646142484,"question_id":71309460,"body_markdown":"I don&#39;t know if this has been asked before. I am going to be building a calculator for my dad. He asked me if there is any way to have customization with the buttons. \r\n\r\nI have not done any code yet. I plan on trying a few things. My research has come up with nothing. \r\n\r\nThis is what I am trying to accomplish, I have a feeling it breaks the android studio law of coding. This is the concept:\r\n\r\n\r\nImagine the calculator. You have 8 blank buttons above the numbers. Those buttons ordinarily have the functions such as percent and sqrt.,..etc.\r\n\r\nI have been asked if it&#39;s possible can he just hold the button and change those functions at will.\r\n\r\nSo the question at hand is. Can I do if statements to change the symbol and the code for a particular button when long pressed?\r\n\r\nThe concept of the calculator would be in portrait mode he can customize the buttons to the functions he uses without having to turn the calculator in landscape mode?\r\n\r\nSo in theory you have a long press which would bring up a selector. He can select any math function and based on that function the symbol and code would change and the button will work properly to the new selection?\r\n\r\nI was going to to build the calculator as a standard. But was also wondering myself if this is possible. I know the buttons serve as a one function but in coding anything is possible.\r\n\r\nAny help or advice would be appreciated. If this can be done it opens new possibilities to app features to only show what you want and not a predefined controls.\r\n\r\n*******once I try a few codes I will edit question to better see the issue and what I am trying to do.","title":"Custom button with a selection","body":"<p>I don't know if this has been asked before. I am going to be building a calculator for my dad. He asked me if there is any way to have customization with the buttons.</p>\n<p>I have not done any code yet. I plan on trying a few things. My research has come up with nothing.</p>\n<p>This is what I am trying to accomplish, I have a feeling it breaks the android studio law of coding. This is the concept:</p>\n<p>Imagine the calculator. You have 8 blank buttons above the numbers. Those buttons ordinarily have the functions such as percent and sqrt.,..etc.</p>\n<p>I have been asked if it's possible can he just hold the button and change those functions at will.</p>\n<p>So the question at hand is. Can I do if statements to change the symbol and the code for a particular button when long pressed?</p>\n<p>The concept of the calculator would be in portrait mode he can customize the buttons to the functions he uses without having to turn the calculator in landscape mode?</p>\n<p>So in theory you have a long press which would bring up a selector. He can select any math function and based on that function the symbol and code would change and the button will work properly to the new selection?</p>\n<p>I was going to to build the calculator as a standard. But was also wondering myself if this is possible. I know the buttons serve as a one function but in coding anything is possible.</p>\n<p>Any help or advice would be appreciated. If this can be done it opens new possibilities to app features to only show what you want and not a predefined controls.</p>\n<p>*******once I try a few codes I will edit question to better see the issue and what I am trying to do.</p>\n"},{"tags":["java","unit-testing","apache-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1520323646,"post_id":49118176,"comment_id":85256713,"body_markdown":"You should not create CamelContext yourself but let `CamelTestSupport` create it for you. As part of its setup it setup some of the IoC stuff. But mind you have have Spring `@Autowired` in there which is not Camel and if so you would need to extend `CamelSpringTestSupport` instead. See the unit tests in camel-test-spring if you use Camel and Spring together. Also the CiA2 book has a full chapter on testing.","body":"You should not create CamelContext yourself but let <code>CamelTestSupport</code> create it for you. As part of its setup it setup some of the IoC stuff. But mind you have have Spring <code>@Autowired</code> in there which is not Camel and if so you would need to extend <code>CamelSpringTestSupport</code> instead. See the unit tests in camel-test-spring if you use Camel and Spring together. Also the CiA2 book has a full chapter on testing."},{"owner":{"account_id":4667090,"reputation":129,"user_id":8205518,"accept_rate":40,"display_name":"ananth"},"score":0,"creation_date":1520324992,"post_id":49118176,"comment_id":85257353,"body_markdown":"Will follow your advice, thanks.\nI am also going to read that book chapter you referred to.","body":"Will follow your advice, thanks. I am also going to read that book chapter you referred to."},{"owner":{"account_id":4667090,"reputation":129,"user_id":8205518,"accept_rate":40,"display_name":"ananth"},"score":0,"creation_date":1520325326,"post_id":49118176,"comment_id":85257529,"body_markdown":"Is that when createRegistry overriding is required? I am still not clear about that even though the below solution works :D","body":"Is that when createRegistry overriding is required? I am still not clear about that even though the below solution works :D"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1520328274,"post_id":49118176,"comment_id":85259205,"body_markdown":"Overriding createRegistry is a neat trick to allow to bind beans from java code, which can be a bit more tricky when using spring. Chapter 4 in the books covers the various Camel Registry implementations.","body":"Overriding createRegistry is a neat trick to allow to bind beans from java code, which can be a bit more tricky when using spring. Chapter 4 in the books covers the various Camel Registry implementations."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1625755676,"post_id":49118176,"comment_id":120716962,"body_markdown":"I don&#39;t think the code compiles - near `jndi.bind(&quot;ValidationProcessor&quot;, new ValidationProcessor&quot;,` (this is also in the initial revision). This is indicated by the strange syntax highlighting.","body":"I don&#39;t think the code compiles - near <code>jndi.bind(&quot;ValidationProcessor&quot;, new ValidationProcessor&quot;,</code> (this is also in the initial revision). This is indicated by the strange syntax highlighting."}],"answers":[{"tags":[],"owner":{"account_id":8034518,"reputation":416,"user_id":6058133,"display_name":"Aku Nour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625751680,"creation_date":1520319472,"answer_id":49125019,"question_id":49118176,"body_markdown":"Try to create the producertemplate from the Camel context as so:\r\n\r\n    public class RouteTests extends CamelTestSupport {\r\n\r\n        @EndpointInject(uri = &quot;mock:result&quot;)\r\n        protected MockEndpoint resultEndpoint;\r\n\r\n        protected ProducerTemplate template;\r\n\r\n        @Autowired\r\n        JSONObject testJson;\r\n\r\n        @Before\r\n        public void setUp() throws Exception {\r\n            try {\r\n                final ObjectMapper objectmapper = new ObjectMapper();\r\n                final ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n                final InputStream stream = loader.getResourceAsStream(&quot;test.json&quot;);\r\n                testJson = new JSONObject ((Map)objectmapper.readValue(stream, Map.class));\r\n                //start camel\r\n                context = new DefaultCamelContext();\r\n                context.addRoutes(createRouteBuilder());\r\n                context.start();\r\n                template = context.createProducerTemplate();\r\n            }\r\n            catch (IOException e) {\r\n            }\r\n        }\r\n\r\n        @Test\r\n        public void testSendMatchingMessage() throws Exception {\r\n            //resultEndpoint.expectedBodiesReceived(expectedBody);\r\n            resultEndpoint = getMockEndpoint(&quot;mock:result&quot;);\r\n            //resultEndpoint = context.getEndpoint(&quot;mock:result&quot;, MockEndpoint.class);\r\n            resultEndpoint.expectedMessageCount(1);\r\n            template.sendBody(&quot;direct:start&quot;, testJson);\r\n            resultEndpoint.assertIsSatisfied();\r\n        }\r\n\r\n        @Override\r\n        protected RouteBuilder createRouteBuilder() {\r\n            return new RouteBuilder() {\r\n                public void configure() {\r\n                    from(&quot;direct:start&quot;)\r\n                            .filter().method(ValidationProcessor.class, &quot;validate&quot;)\r\n                            .to(&quot;mock:result&quot;);\r\n                }\r\n            };\r\n        }\r\n\r\n        @Override\r\n        protected JndiRegistry createRegistry() throws Exception {\r\n            JndiRegistry jndi = super.createRegistry();\r\n            jndi.bind(&quot;ValidationProcessor&quot;, new ValidationProcessor());\r\n\r\n            return jndi;\r\n        }\r\n    }\r\n\r\nSo in your setUp() just add:\r\n\r\n    template = context.createProducerTemplate();\r\n\r\nAnd remove `@Produce(uri = &quot;direct:start&quot;)`.\r\n\r\n","title":"Camel unit test with cameltestsupport, template is always null","body":"<p>Try to create the producertemplate from the Camel context as so:</p>\n<pre><code>public class RouteTests extends CamelTestSupport {\n\n    @EndpointInject(uri = &quot;mock:result&quot;)\n    protected MockEndpoint resultEndpoint;\n\n    protected ProducerTemplate template;\n\n    @Autowired\n    JSONObject testJson;\n\n    @Before\n    public void setUp() throws Exception {\n        try {\n            final ObjectMapper objectmapper = new ObjectMapper();\n            final ClassLoader loader = Thread.currentThread().getContextClassLoader();\n            final InputStream stream = loader.getResourceAsStream(&quot;test.json&quot;);\n            testJson = new JSONObject ((Map)objectmapper.readValue(stream, Map.class));\n            //start camel\n            context = new DefaultCamelContext();\n            context.addRoutes(createRouteBuilder());\n            context.start();\n            template = context.createProducerTemplate();\n        }\n        catch (IOException e) {\n        }\n    }\n\n    @Test\n    public void testSendMatchingMessage() throws Exception {\n        //resultEndpoint.expectedBodiesReceived(expectedBody);\n        resultEndpoint = getMockEndpoint(&quot;mock:result&quot;);\n        //resultEndpoint = context.getEndpoint(&quot;mock:result&quot;, MockEndpoint.class);\n        resultEndpoint.expectedMessageCount(1);\n        template.sendBody(&quot;direct:start&quot;, testJson);\n        resultEndpoint.assertIsSatisfied();\n    }\n\n    @Override\n    protected RouteBuilder createRouteBuilder() {\n        return new RouteBuilder() {\n            public void configure() {\n                from(&quot;direct:start&quot;)\n                        .filter().method(ValidationProcessor.class, &quot;validate&quot;)\n                        .to(&quot;mock:result&quot;);\n            }\n        };\n    }\n\n    @Override\n    protected JndiRegistry createRegistry() throws Exception {\n        JndiRegistry jndi = super.createRegistry();\n        jndi.bind(&quot;ValidationProcessor&quot;, new ValidationProcessor());\n\n        return jndi;\n    }\n}\n</code></pre>\n<p>So in your setUp() just add:</p>\n<pre><code>template = context.createProducerTemplate();\n</code></pre>\n<p>And remove <code>@Produce(uri = &quot;direct:start&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":61478,"reputation":3618,"user_id":183217,"accept_rate":80,"display_name":"batwad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1520332119,"creation_date":1520332119,"answer_id":49128611,"question_id":49118176,"body_markdown":"I think you&#39;ve missed out on a lot of the really helpful stuff that `CamelTestSupport` does for you.  It has its own `setUp` method that you should override.  I believe your test should really look something like this:\r\n\r\n    public class RouteTests extends CamelTestSupport {\r\n    \r\n        private JSONObject testJson;\r\n    \r\n        @Override\r\n        public void setUp() throws Exception {\r\n            // REALLY important to call super\r\n            super.setUp();\r\n\r\n            ObjectMapper objectmapper = new ObjectMapper();\r\n            ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n            InputStream stream = loader.getResourceAsStream(&quot;test.json&quot;);\r\n            testJson = new JSONObject(objectmapper.readValue(stream, Map.class));\r\n        }\r\n    \r\n        @Override\r\n        protected RouteBuilder createRouteBuilder() {\r\n            return new RouteBuilder() {\r\n                @Override\r\n                public void configure() {\r\n                    from(&quot;direct:start&quot;)\r\n                            .filter().method(ValidationProcessor.class, &quot;validate&quot;)\r\n                            .to(&quot;mock:result&quot;);\r\n                }\r\n            };\r\n        }\r\n    \r\n        @Test\r\n        public void testSendMatchingMessage() throws Exception {\r\n            MockEndpoint resultEndpoint = getMockEndpoint(&quot;mock:result&quot;);\r\n            resultEndpoint.expectedMessageCount(1);\r\n            template.sendBody(&quot;direct:start&quot;, testJson);\r\n            resultEndpoint.assertIsSatisfied();\r\n        }\r\n    }\r\n\r\nActually I would remove the override of `setUp` altogether and put the reading of the test data in to the test method itself.  Then it&#39;s clear what the data is being used for and you can eliminate the `testJson` field.\r\n\r\n    public class RouteTests extends CamelTestSupport {\r\n    \r\n        @Override\r\n        protected RouteBuilder createRouteBuilder() {\r\n            return new RouteBuilder() {\r\n                @Override\r\n                public void configure() {\r\n                    from(&quot;direct:start&quot;)\r\n                            .filter().method(ValidationProcessor.class, &quot;validate&quot;)\r\n                            .to(&quot;mock:result&quot;);\r\n                }\r\n            };\r\n        }\r\n    \r\n        @Test\r\n        public void testSendMatchingMessage() throws Exception {\r\n            ObjectMapper objectmapper = new ObjectMapper();\r\n            ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n            InputStream stream = loader.getResourceAsStream(&quot;test.json&quot;);\r\n            JSONObject testJson = new JSONObject(objectmapper.readValue(stream, Map.class));\r\n\r\n            MockEndpoint resultEndpoint = getMockEndpoint(&quot;mock:result&quot;);\r\n            resultEndpoint.expectedMessageCount(1);\r\n            template.sendBody(&quot;direct:start&quot;, testJson);\r\n            resultEndpoint.assertIsSatisfied();\r\n        }\r\n    }\r\n\r\nThere, much simpler.","title":"Camel unit test with cameltestsupport, template is always null","body":"<p>I think you've missed out on a lot of the really helpful stuff that <code>CamelTestSupport</code> does for you.  It has its own <code>setUp</code> method that you should override.  I believe your test should really look something like this:</p>\n\n<pre><code>public class RouteTests extends CamelTestSupport {\n\n    private JSONObject testJson;\n\n    @Override\n    public void setUp() throws Exception {\n        // REALLY important to call super\n        super.setUp();\n\n        ObjectMapper objectmapper = new ObjectMapper();\n        ClassLoader loader = Thread.currentThread().getContextClassLoader();\n        InputStream stream = loader.getResourceAsStream(\"test.json\");\n        testJson = new JSONObject(objectmapper.readValue(stream, Map.class));\n    }\n\n    @Override\n    protected RouteBuilder createRouteBuilder() {\n        return new RouteBuilder() {\n            @Override\n            public void configure() {\n                from(\"direct:start\")\n                        .filter().method(ValidationProcessor.class, \"validate\")\n                        .to(\"mock:result\");\n            }\n        };\n    }\n\n    @Test\n    public void testSendMatchingMessage() throws Exception {\n        MockEndpoint resultEndpoint = getMockEndpoint(\"mock:result\");\n        resultEndpoint.expectedMessageCount(1);\n        template.sendBody(\"direct:start\", testJson);\n        resultEndpoint.assertIsSatisfied();\n    }\n}\n</code></pre>\n\n<p>Actually I would remove the override of <code>setUp</code> altogether and put the reading of the test data in to the test method itself.  Then it's clear what the data is being used for and you can eliminate the <code>testJson</code> field.</p>\n\n<pre><code>public class RouteTests extends CamelTestSupport {\n\n    @Override\n    protected RouteBuilder createRouteBuilder() {\n        return new RouteBuilder() {\n            @Override\n            public void configure() {\n                from(\"direct:start\")\n                        .filter().method(ValidationProcessor.class, \"validate\")\n                        .to(\"mock:result\");\n            }\n        };\n    }\n\n    @Test\n    public void testSendMatchingMessage() throws Exception {\n        ObjectMapper objectmapper = new ObjectMapper();\n        ClassLoader loader = Thread.currentThread().getContextClassLoader();\n        InputStream stream = loader.getResourceAsStream(\"test.json\");\n        JSONObject testJson = new JSONObject(objectmapper.readValue(stream, Map.class));\n\n        MockEndpoint resultEndpoint = getMockEndpoint(\"mock:result\");\n        resultEndpoint.expectedMessageCount(1);\n        template.sendBody(\"direct:start\", testJson);\n        resultEndpoint.assertIsSatisfied();\n    }\n}\n</code></pre>\n\n<p>There, much simpler.</p>\n"}],"owner":{"account_id":4667090,"reputation":129,"user_id":8205518,"accept_rate":40,"display_name":"ananth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49128611,"answer_count":2,"score":2,"last_activity_date":1646142526,"creation_date":1520278654,"question_id":49118176,"body_markdown":"I am doing a simple unit test with Camel. All I want to do is to read JSON content from a file (under resources), send it to a Java class for validation - this is the route that I am trying to test. Whatever I do, the template (which I use to *sendBody(json)* is always null. Here is my code:\r\n\r\n    public class RouteTests extends CamelTestSupport {\r\n\r\n        @EndpointInject(uri = &quot;mock:result&quot;)\r\n        protected MockEndpoint resultEndpoint;\r\n\r\n        @Produce(uri = &quot;direct:start&quot;)\r\n        protected ProducerTemplate template;\r\n\r\n        @Autowired\r\n        JSONObject testJson;\r\n\r\n        @Before\r\n        public void setUp() throws Exception {\r\n            try {\r\n                final ObjectMapper objectmapper = new ObjectMapper();\r\n                final ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n                final InputStream stream = loader.getResourceAsStream(&quot;test.json&quot;);\r\n                testJson = new JSONObject ((Map)objectmapper.readValue(stream, Map.class));\r\n\r\n                // Start Camel\r\n                context = new DefaultCamelContext();\r\n                context.addRoutes(createRouteBuilder());\r\n                context.start();\r\n            }\r\n            catch (IOException e) {\r\n            }\r\n        }\r\n\r\n        @Test\r\n        public void testSendMatchingMessage() throws Exception {\r\n            //resultEndpoint.expectedBodiesReceived(expectedBody);\r\n            resultEndpoint = getMockEndpoint(&quot;mock:result&quot;);\r\n            //resultEndpoint = context.getEndpoint(&quot;mock:result&quot;, MockEndpoint.class);\r\n            resultEndpoint.expectedMessageCount(1);\r\n            template.sendBody(&quot;direct:start&quot;, testJson);\r\n            resultEndpoint.assertIsSatisfied();\r\n        }\r\n\r\n        @Override\r\n        protected RouteBuilder createRouteBuilder() {\r\n            return new RouteBuilder() {\r\n                public void configure() {\r\n                    from(&quot;direct:start&quot;)\r\n                            .filter().method(ValidationProcessor.class, &quot;validate&quot;)\r\n                            .to(&quot;mock:result&quot;);\r\n                }\r\n            };\r\n        }\r\n\r\n        @Override\r\n        protected JndiRegistry createRegistry() throws Exception {\r\n            JndiRegistry jndi = super.createRegistry();\r\n            jndi.bind(&quot;ValidationProcessor&quot;, new ValidationProcessor&quot;, ());\r\n\r\n            return jndi;\r\n        }\r\n    }\r\n\r\nProblems I faced:\r\n\r\n1. Initially the result end point also was always null. (I used *[FilterTest.java][1]* for reference). Then I had to do an explicit\r\n\r\n        resultEndpoint = getMockEndpoint(&quot;mock:result&quot;);\r\n\r\n    to resolve that.\r\n\r\n2. Then I read that I had to override the createRegistry, but I did not know how to bind. I just used the name of my validation class, but I don’t know if this is right.\r\n\r\n    But the template is always null. The [null pointer exception][2] (NPE) is at\r\n\r\n        template.sendBody(&quot;direct:start&quot;, testJson);\r\n\r\nPlease also point me to some reading if necessary. The reference code that Apache Camel documentation link to did not even have the starting of the Camel that I do in the setUp method.\r\n\r\n  [1]: http://svn.apache.org/repos/asf/camel/trunk/components/camel-test/src/test/java/org/apache/camel/test/patterns/FilterTest.java\r\n  [2]: https://en.wikipedia.org/wiki/Null_pointer#Dereferencing\r\n\r\n\r\n\r\n","title":"Camel unit test with cameltestsupport, template is always null","body":"<p>I am doing a simple unit test with Camel. All I want to do is to read JSON content from a file (under resources), send it to a Java class for validation - this is the route that I am trying to test. Whatever I do, the template (which I use to <em>sendBody(json)</em> is always null. Here is my code:</p>\n<pre><code>public class RouteTests extends CamelTestSupport {\n\n    @EndpointInject(uri = &quot;mock:result&quot;)\n    protected MockEndpoint resultEndpoint;\n\n    @Produce(uri = &quot;direct:start&quot;)\n    protected ProducerTemplate template;\n\n    @Autowired\n    JSONObject testJson;\n\n    @Before\n    public void setUp() throws Exception {\n        try {\n            final ObjectMapper objectmapper = new ObjectMapper();\n            final ClassLoader loader = Thread.currentThread().getContextClassLoader();\n            final InputStream stream = loader.getResourceAsStream(&quot;test.json&quot;);\n            testJson = new JSONObject ((Map)objectmapper.readValue(stream, Map.class));\n\n            // Start Camel\n            context = new DefaultCamelContext();\n            context.addRoutes(createRouteBuilder());\n            context.start();\n        }\n        catch (IOException e) {\n        }\n    }\n\n    @Test\n    public void testSendMatchingMessage() throws Exception {\n        //resultEndpoint.expectedBodiesReceived(expectedBody);\n        resultEndpoint = getMockEndpoint(&quot;mock:result&quot;);\n        //resultEndpoint = context.getEndpoint(&quot;mock:result&quot;, MockEndpoint.class);\n        resultEndpoint.expectedMessageCount(1);\n        template.sendBody(&quot;direct:start&quot;, testJson);\n        resultEndpoint.assertIsSatisfied();\n    }\n\n    @Override\n    protected RouteBuilder createRouteBuilder() {\n        return new RouteBuilder() {\n            public void configure() {\n                from(&quot;direct:start&quot;)\n                        .filter().method(ValidationProcessor.class, &quot;validate&quot;)\n                        .to(&quot;mock:result&quot;);\n            }\n        };\n    }\n\n    @Override\n    protected JndiRegistry createRegistry() throws Exception {\n        JndiRegistry jndi = super.createRegistry();\n        jndi.bind(&quot;ValidationProcessor&quot;, new ValidationProcessor&quot;, ());\n\n        return jndi;\n    }\n}\n</code></pre>\n<p>Problems I faced:</p>\n<ol>\n<li><p>Initially the result end point also was always null. (I used <em><a href=\"http://svn.apache.org/repos/asf/camel/trunk/components/camel-test/src/test/java/org/apache/camel/test/patterns/FilterTest.java\" rel=\"nofollow noreferrer\">FilterTest.java</a></em> for reference). Then I had to do an explicit</p>\n<pre><code> resultEndpoint = getMockEndpoint(&quot;mock:result&quot;);\n</code></pre>\n<p>to resolve that.</p>\n</li>\n<li><p>Then I read that I had to override the createRegistry, but I did not know how to bind. I just used the name of my validation class, but I don’t know if this is right.</p>\n<p>But the template is always null. The <a href=\"https://en.wikipedia.org/wiki/Null_pointer#Dereferencing\" rel=\"nofollow noreferrer\">null pointer exception</a> (NPE) is at</p>\n<pre><code> template.sendBody(&quot;direct:start&quot;, testJson);\n</code></pre>\n</li>\n</ol>\n<p>Please also point me to some reading if necessary. The reference code that Apache Camel documentation link to did not even have the starting of the Camel that I do in the setUp method.</p>\n"},{"tags":["java","spring","java-13"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1586881929,"post_id":61211695,"comment_id":108289700,"body_markdown":"for further relevant details [JDK-8214719](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8214719) might be useful","body":"for further relevant details <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8214719\" rel=\"nofollow noreferrer\">JDK-8214719</a> might be useful"},{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":8,"creation_date":1618842338,"post_id":61211695,"comment_id":118718184,"body_markdown":"@123 &quot;You are in a hot air balloon.&quot; If the OP had known that he somehow explicitly used the two JVM arguments, he would not have asked. Your comment has a zero value.","body":"@123 &quot;You are in a hot air balloon.&quot; If the OP had known that he somehow explicitly used the two JVM arguments, he would not have asked. Your comment has a zero value."}],"answers":[{"tags":[],"owner":{"account_id":10809443,"reputation":780,"user_id":7950464,"display_name":"Aura"},"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1601394187,"creation_date":1591839138,"answer_id":62315674,"question_id":61211695,"body_markdown":"It&#39;s just a warning because JVM&#39;s verifies are much faster then before. If you are really not willing to see that, you could just remove `-Xverify:none` and `-noverify` from your JVM options.\r\n\r\nIn IDEA you can do that like this:\r\nIn &quot;edit configuration&quot;, select your application, and uncheck &quot;Enable launch optimization&quot; in the right panel. Then start your application, the warning will be disappeared but launch optimization is disabled. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v9UuH.png","title":"OpenJDK 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release","body":"<p>It's just a warning because JVM's verifies are much faster then before. If you are really not willing to see that, you could just remove <code>-Xverify:none</code> and <code>-noverify</code> from your JVM options.</p>\n<p>In IDEA you can do that like this:\nIn &quot;edit configuration&quot;, select your application, and uncheck &quot;Enable launch optimization&quot; in the right panel. Then start your application, the warning will be disappeared but launch optimization is disabled.</p>\n<p><a href=\"https://i.stack.imgur.com/v9UuH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/v9UuH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":651706,"reputation":20806,"user_id":454103,"accept_rate":58,"display_name":"Gabriel Petrovay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596036096,"creation_date":1596036096,"answer_id":63156958,"question_id":61211695,"body_markdown":"In the Eclipse world this can also be controlled in two places:\r\n\r\n * either disable the **Fast startup** option in the **Run/Debug configuration**\r\n\r\n   [![enter image description here][1]][1]\r\n\r\n* or remove the corresponding deprecated argument (`-noverify`) from the **Spring Boot Fast Startup Java argument** list:\r\n\r\n   [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uf1r3.png\r\n  [2]: https://i.stack.imgur.com/E8dZA.png","title":"OpenJDK 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release","body":"<p>In the Eclipse world this can also be controlled in two places:</p>\n<ul>\n<li><p>either disable the <strong>Fast startup</strong> option in the <strong>Run/Debug configuration</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Uf1r3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uf1r3.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>or remove the corresponding deprecated argument (<code>-noverify</code>) from the <strong>Spring Boot Fast Startup Java argument</strong> list:</p>\n<p><a href=\"https://i.stack.imgur.com/E8dZA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E8dZA.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9036258,"reputation":317,"user_id":6732127,"display_name":"mefryar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1621977452,"creation_date":1621977452,"answer_id":67695691,"question_id":61211695,"body_markdown":"For anyone else who comes here looking for how to silence this warning in Leiningen (Clojure), `export LEIN_JVM_OPTS=&quot;-XX:TieredStopAtLevel=1&quot;` was [recommended by Leinigen&#39;s maintainer][1] and worked for me.\r\n\r\nSetting this option means that only the C1 compiler is used. To learn more about the C1 and C2 compilers, see [Working with the JIT Compiler][2] and [What exactly does -XX:-TieredCompilation do?][3]\r\n\r\n\r\n  [1]: https://github.com/technomancy/leiningen/issues/2611#issuecomment-577288859\r\n  [2]: https://www.oreilly.com/library/view/java-performance-2nd/9781492056102/ch04.html\r\n  [3]: https://stackoverflow.com/questions/38721235/what-exactly-does-xx-tieredcompilation-do","title":"OpenJDK 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release","body":"<p>For anyone else who comes here looking for how to silence this warning in Leiningen (Clojure), <code>export LEIN_JVM_OPTS=&quot;-XX:TieredStopAtLevel=1&quot;</code> was <a href=\"https://github.com/technomancy/leiningen/issues/2611#issuecomment-577288859\" rel=\"noreferrer\">recommended by Leinigen's maintainer</a> and worked for me.</p>\n<p>Setting this option means that only the C1 compiler is used. To learn more about the C1 and C2 compilers, see <a href=\"https://www.oreilly.com/library/view/java-performance-2nd/9781492056102/ch04.html\" rel=\"noreferrer\">Working with the JIT Compiler</a> and <a href=\"https://stackoverflow.com/questions/38721235/what-exactly-does-xx-tieredcompilation-do\">What exactly does -XX:-TieredCompilation do?</a></p>\n"}],"owner":{"account_id":18067213,"reputation":313,"user_id":13132739,"display_name":"Ruslan B."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15106,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":62315674,"answer_count":3,"score":21,"last_activity_date":1646142247,"creation_date":1586878970,"question_id":61211695,"body_markdown":"I&#39;m starting a new Spring 5 project with Java 14. It compiled, but gave me a warning:\r\n\r\n    OpenJDK 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release\r\n\r\nAny ideas how to solve it?","title":"OpenJDK 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release","body":"<p>I'm starting a new Spring 5 project with Java 14. It compiled, but gave me a warning:</p>\n<pre><code>OpenJDK 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release\n</code></pre>\n<p>Any ideas how to solve it?</p>\n"},{"tags":["java","hibernate","configuration"],"comments":[{"owner":{"account_id":255541,"reputation":6083,"user_id":535664,"display_name":"Jordan"},"score":0,"creation_date":1447195160,"post_id":1273403,"comment_id":55056055,"body_markdown":"That link is dead, and I believe this is the updated version: http://www.oracle.com/technetwork/topics/wp-oracle-jdbc-thin-ssl-130128.pdf","body":"That link is dead, and I believe this is the updated version: <a href=\"http://www.oracle.com/technetwork/topics/wp-oracle-jdbc-thin-ssl-130128.pdf\" rel=\"nofollow noreferrer\">oracle.com/technetwork/topics/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":31307,"reputation":11191,"user_id":85863,"display_name":"andri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1250187433,"creation_date":1250184808,"answer_id":1273470,"question_id":1273403,"body_markdown":"Hibernate works with standard JDBC data sources, so there is no need for Hibernate-specific configuration.\r\n\r\nHere&#39;s an quick example that should work when configuring Hibernate with Spring:\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;oracle.jdbc.pool.OracleDataSource&quot;&gt;\r\n        &lt;property name=&quot;URL&quot;&gt;&lt;value&gt;&lt;!-- JDBC URL that specifies SSL connection --&gt;&lt;/value&gt;&lt;/property&gt;\r\n        &lt;!-- other relevant properties, like user and password --&gt;\r\n        &lt;property name=&quot;connectionProperties&gt;\r\n            &lt;value&gt;\r\n                oracle.net.ssl_cipher_suites: (ssl_rsa_export_with_rc4_40_md5, ssl_rsa_export_with_des40_cbc_sha)\r\n                oracle.net.ssl_client_authentication: false\r\n                oracle.net.ssl_version: 3.0\r\n                oracle.net.encryption_client: REJECTED \r\n                oracle.net.crypto_checksum_client: REJECTED\r\n            &lt;/value&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        &lt;!-- classes etc --&gt;\r\n    &lt;/bean&gt;","title":"How can I configure Hibernate to use SSL to talk to the DB server?","body":"<p>Hibernate works with standard JDBC data sources, so there is no need for Hibernate-specific configuration.</p>\n\n<p>Here's an quick example that should work when configuring Hibernate with Spring:</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"oracle.jdbc.pool.OracleDataSource\"&gt;\n    &lt;property name=\"URL\"&gt;&lt;value&gt;&lt;!-- JDBC URL that specifies SSL connection --&gt;&lt;/value&gt;&lt;/property&gt;\n    &lt;!-- other relevant properties, like user and password --&gt;\n    &lt;property name=\"connectionProperties&gt;\n        &lt;value&gt;\n            oracle.net.ssl_cipher_suites: (ssl_rsa_export_with_rc4_40_md5, ssl_rsa_export_with_des40_cbc_sha)\n            oracle.net.ssl_client_authentication: false\n            oracle.net.ssl_version: 3.0\n            oracle.net.encryption_client: REJECTED \n            oracle.net.crypto_checksum_client: REJECTED\n        &lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;!-- classes etc --&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":878548,"reputation":573,"user_id":148591,"display_name":"Gren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250185102,"creation_date":1250185102,"answer_id":1273486,"question_id":1273403,"body_markdown":"Should be handled by the driver but you may have to do some configuration.  [Oracle Docs][1]\r\n\r\n\r\n  [1]: http://www.oracle.com/technology/tech/java/sqlj_jdbc/pdf/wp-oracle-jdbc_thin_ssl_2007.pdf","title":"How can I configure Hibernate to use SSL to talk to the DB server?","body":"<p>Should be handled by the driver but you may have to do some configuration.  <a href=\"http://www.oracle.com/technology/tech/java/sqlj_jdbc/pdf/wp-oracle-jdbc_thin_ssl_2007.pdf\" rel=\"nofollow noreferrer\">Oracle Docs</a></p>\n"},{"tags":[],"owner":{"account_id":169800,"reputation":853,"user_id":396104,"display_name":"Ramson Tutte"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1286910069,"creation_date":1286910069,"answer_id":3918082,"question_id":1273403,"body_markdown":"Try this:\r\n\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLInnoDBDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://blablaba:8443/dbname?useSSL=true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.verifyServerCertificate&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.requireSSL&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.autoReconnect&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;bablablab&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;clclclclc&lt;/property&gt;\r\n\r\nrelated links\r\n\r\nhttp://www.razorsql.com/articles/mysql_ssl_jdbc.html\r\n\r\nhttp://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-using-ssl.html\r\n\r\nhttp://www.javabeat.net/qna/164-hibernate-jdbc-and-connection-properties/","title":"How can I configure Hibernate to use SSL to talk to the DB server?","body":"<p>Try this:</p>\n\n<pre><code>    &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLInnoDBDialect&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://blablaba:8443/dbname?useSSL=true&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.verifyServerCertificate\"&gt;false&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.requireSSL\"&gt;true&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.autoReconnect\"&gt;true&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.username\"&gt;bablablab&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.password\"&gt;clclclclc&lt;/property&gt;\n</code></pre>\n\n<p>related links</p>\n\n<p><a href=\"http://www.razorsql.com/articles/mysql_ssl_jdbc.html\" rel=\"nofollow\">http://www.razorsql.com/articles/mysql_ssl_jdbc.html</a></p>\n\n<p><a href=\"http://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-using-ssl.html\" rel=\"nofollow\">http://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-using-ssl.html</a></p>\n\n<p><a href=\"http://www.javabeat.net/qna/164-hibernate-jdbc-and-connection-properties/\" rel=\"nofollow\">http://www.javabeat.net/qna/164-hibernate-jdbc-and-connection-properties/</a></p>\n"},{"tags":[],"owner":{"account_id":6982894,"reputation":48,"user_id":8371174,"display_name":"Jayanta Debnath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505855919,"creation_date":1505855919,"answer_id":46309897,"question_id":1273403,"body_markdown":"Please add following property in Hibernate configuration file to enable SSL : \r\n\r\n\r\n`&lt;property name=&quot;hibernate.connection.verifyServerCertificate&quot;&gt;false&lt;/property&gt;\r\n&lt;property name=&quot;hibernate.connection.useSSL&quot;&gt;true&lt;/property&gt; `\r\n\r\n","title":"How can I configure Hibernate to use SSL to talk to the DB server?","body":"<p>Please add following property in Hibernate configuration file to enable SSL : </p>\n\n<p><code>&lt;property name=\"hibernate.connection.verifyServerCertificate\"&gt;false&lt;/property&gt;\n&lt;property name=\"hibernate.connection.useSSL\"&gt;true&lt;/property&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":13654645,"reputation":1102,"user_id":9851541,"display_name":"Swati Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646141887,"creation_date":1646141887,"answer_id":71309336,"question_id":1273403,"body_markdown":"I had the jdbcURL \r\n```jdbc:postgresql://jdbcurl?sslmode=require&amp;sslrootcert=location_to_cert1&amp;sslcert=location_to_cert2&amp;sslkey=location_to_cert3```. \r\n\r\nAll I had to do was to replace all the ```&amp;``` with ```&amp;amp;```. \r\n\r\nMy new jdbcURL looks like \r\n```jdbc:postgresql://jdbcurl?sslmode=require&amp;amp;sslrootcert=location_to_cert1&amp;amp;sslcert=location_to_cert2&amp;amp;sslkey=location_to_cert3```","title":"How can I configure Hibernate to use SSL to talk to the DB server?","body":"<p>I had the jdbcURL\n<code>jdbc:postgresql://jdbcurl?sslmode=require&amp;sslrootcert=location_to_cert1&amp;sslcert=location_to_cert2&amp;sslkey=location_to_cert3</code>.</p>\n<p>All I had to do was to replace all the <code>&amp;</code> with <code>&amp;amp;</code>.</p>\n<p>My new jdbcURL looks like\n<code>jdbc:postgresql://jdbcurl?sslmode=require&amp;amp;sslrootcert=location_to_cert1&amp;amp;sslcert=location_to_cert2&amp;amp;sslkey=location_to_cert3</code></p>\n"}],"owner":{"account_id":30665,"reputation":1928,"user_id":83721,"accept_rate":71,"display_name":"BZ."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26228,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":1273470,"answer_count":5,"score":11,"last_activity_date":1646141887,"creation_date":1250184093,"question_id":1273403,"body_markdown":"I have an existing java webapp that uses Hibernate for it&#39;s persistence.  I&#39;ve been told that I have to have to talk to the DB encrypted - so my first thought is to set it up to do the communication via SSL - and went through figured out how to set up Oracle to listen for JDBC over SSL - \r\n\r\n`http://www.oracle.com/technology/tech/java/sqlj_jdbc/pdf/wp-oracle-jdbc_thin_ssl_2007.pdf\r\n`\r\n\r\nAnd wrote a quick test class to verify that it was setup and working (connecting via standard JDBC).  That left me with the issue of configuring Hibernate - unfortunately I don&#39;t see how hibernate supports it?  \r\n","title":"How can I configure Hibernate to use SSL to talk to the DB server?","body":"<p>I have an existing java webapp that uses Hibernate for it's persistence.  I've been told that I have to have to talk to the DB encrypted - so my first thought is to set it up to do the communication via SSL - and went through figured out how to set up Oracle to listen for JDBC over SSL - </p>\n\n<p><code>http://www.oracle.com/technology/tech/java/sqlj_jdbc/pdf/wp-oracle-jdbc_thin_ssl_2007.pdf\n</code></p>\n\n<p>And wrote a quick test class to verify that it was setup and working (connecting via standard JDBC).  That left me with the issue of configuring Hibernate - unfortunately I don't see how hibernate supports it?  </p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-repositories","hibernate-filters"],"owner":{"account_id":3901879,"reputation":1467,"user_id":3229501,"accept_rate":79,"display_name":"SnoopDougg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646141794,"creation_date":1645731982,"question_id":71257468,"body_markdown":"How can I filter my list of OneToMany relationships when fetching the parent entity? \r\n\r\nHere&#39;s my usecase - I have an H2 database in which I&#39;m tracking Products and their Shipment Options. One Product can have many shipment options. Most consumers care only only about the &quot;best&quot; shipment option per country (chosen by some convoluted business logic), while others want to see the best shipment option per country AND per model-number.\r\n\r\nI&#39;ve solved similar scenarios before using the Spring JPA `@Where(clause = &quot;childProperty=&#39;staticValue&#39;&quot;)`, however there are many dynamic models and the where clause seems to only support a single static filter.\r\n\r\nAny advice / help would be appreciated, everything I&#39;ve tried so far has failed. \r\n\r\nHere are my domain models:\r\n```java\r\n// In file com.my.company.entity.h2.model.Product.java\r\n@Entity\r\n@Table(name = &quot;Product&quot;)\r\npublic class Product {\r\n    @Id\r\n    @Column(length = 10)\r\n    private int productId;\r\n\r\n    @LazyCollection(FALSE)\r\n    @OneToMany(cascade = REMOVE)\r\n    @NotFound(action = IGNORE)\r\n    @JoinColumn(name = &quot;productId&quot;, referencedColumnName = &quot;productId&quot;, insertable = false, updatable = false)\r\n    private List&lt;ProductToPrimaryShipmentOption&gt; primaryShipmentOptions = new ArrayList&lt;&gt;();\r\n}\r\n\r\n// In file com.my.company.entity.h2.model.relationships.ProductToPrimaryShipmentOption.java:\r\n@Entity\r\n@Table(name = &quot;ProductToPrimaryShipmentOption&quot;)\r\npublic class ProductToPrimaryShipmentOption {\r\n    @EmbeddedId\r\n    private ProductAndShipmentOptionIds id;\r\n\r\n    @Column(columnDefinition = &quot;CHAR&quot;, length = 3)\r\n    private String country;\r\n\r\n    @Column(columnDefinition = &quot;CHAR&quot;, length = 80)\r\n    private String model;\r\n\r\n    // This flag indicates this is the best shipment option across all the Product&#39;s models.\r\n    @Column\r\n    private boolean best;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;shipmentOptionId&quot;, referencedColumnName = &quot;shipmentOptionId&quot;, insertable = false, updatable = false)\r\n    private ShipmentOption shipmentOption;\r\n}\r\n\r\n// In file com.my.company.entity.h2.model.ShipmentOption.java:\r\n@Entity\r\n@Table(name = &quot;ShipmentOption&quot;)\r\npublic class ShipmentOption {\r\n    @Id\r\n    @Column(columnDefinition = &quot;CHAR&quot;, length = 29)\r\n    private String id; // &lt;= concatenated barcode and country\r\n\r\n    @Column(columnDefinition = &quot;CHAR&quot;, length = 80)\r\n    private String model;\r\n\r\n    // Additional Details...\r\n}\r\n```\r\n\r\nI tried using Hibernate filters, but that didn&#39;t work - even when activating them in my current session, any repository queries for Products would give me back every Shipment Option, unfiltered.\r\n\r\n```java\r\n// In file com.my.company.entity.h2.model.package-info.java:\r\n@FilterDef(\r\n        name = &quot;bestFilter&quot;,\r\n        parameters = @ParamDef(name = &quot;best&quot;, type = &quot;boolean&quot;)\r\n)\r\n@FilterDef(\r\n        name = &quot;modelFilter&quot;,\r\n        parameters = @ParamDef(name = &quot;model&quot;, type = &quot;string&quot;)\r\n)\r\npackage com.my.company.entity.h2.model;\r\n\r\nimport org.hibernate.annotations.FilterDef;\r\nimport org.hibernate.annotations.ParamDef;\r\n\r\n// In file com.my.company.entity.h2.model.relationships.ProductToPrimaryShipmentOption.java:\r\n@Entity\r\n@Table(name = &quot;ProductToPrimaryShipmentOption&quot;)\r\n@Filter(\r\n        name = &quot;modelFilter&quot;,\r\n        condition = &quot;model = :model&quot;\r\n)\r\n@Filter(\r\n        name = &quot;bestFilter&quot;,\r\n        condition = &quot;best = :best&quot;\r\n)\r\npublic class ProductToPrimaryShipmentOption {...}\r\n\r\n// In class com.my.company.infrastructure.repository.config.H2Config.java:\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;h2EntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;h2TransactionManager&quot;,\r\n        basePackages = {&quot;com.my.company.infrastructure.repository.h2&quot;})\r\npublic class H2Config {\r\n    @Bean(name = &quot;h2DataSource&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.h2-datasource&quot;)\r\n    public DataSource h2DataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean(name = &quot;h2EntityManagerFactory&quot;)\r\n    public EntityManagerFactory h2EntityManagerFactory(\r\n            @Qualifier(&quot;h2DataSource&quot;) DataSource h2DataSource,\r\n            @Value(&quot;${h2.hibernate.ddl-auto:create}&quot;) String ddlAuto,\r\n            @Value(&quot;${h2.hibernate.dialect:org.hibernate.dialect.H2Dialect}&quot;) String dialect,\r\n            @Value(&quot;${h2.show-sql:false}&quot;) boolean showSql,\r\n            @Value(&quot;${h2.hibernate.generate-statistics:false}&quot;) boolean generateStatistics) {\r\n        LocalContainerEntityManagerFactoryBean h2EntityManager = new LocalContainerEntityManagerFactoryBean();\r\n        h2EntityManager.setDataSource(h2DataSource);\r\n        h2EntityManager.setPersistenceUnitName(&quot;h2Unit&quot;);\r\n        h2EntityManager.setPackagesToScan(&quot;com.my.company.entity.h2.model&quot;);\r\n\r\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        vendorAdapter.setGenerateDdl(true);\r\n        vendorAdapter.setShowSql(showSql);\r\n        h2EntityManager.setJpaVendorAdapter(vendorAdapter);\r\n\r\n        h2EntityManager.setJpaPropertyMap(new HashMap&lt;&gt;() {{\r\n            put(&quot;hibernate.ddl-auto&quot;, ddlAuto);\r\n            put(&quot;hibernate.dialect&quot;, dialect);\r\n            put(&quot;hibernate.generate_statistics&quot;, generateStatistics);\r\n        }});\r\n        h2EntityManager.afterPropertiesSet();\r\n\r\n        return h2EntityManager.getObject();\r\n    }\r\n\r\n    @Bean(name = &quot;h2TransactionManager&quot;)\r\n    public PlatformTransactionManager h2TransactionManager(@Qualifier(&quot;h2EntityManagerFactory&quot;) EntityManagerFactory h2EntityManagerFactory) {\r\n        JpaTransactionManager h2TransactionManager = new JpaTransactionManager();\r\n        h2TransactionManager.setEntityManagerFactory(h2EntityManagerFactory);\r\n        return h2TransactionManager;\r\n    }\r\n}\r\n\r\n// In class com.my.company.infrastructure.repository.service.ProductRepositoryService.java:\r\n@Slf4j\r\n@Repository\r\npublic class ProductRepositoryService {\r\n    @PersistenceContext(unitName = &quot;h2Unit&quot;)\r\n    private EntityManager entityManager;\r\n\r\n    public Flux&lt;Product&gt; findAllProducts() {\r\n        return Flux.fromIterable(new JpaTableIterable&lt;&gt;((lastProduct, requestSize) -&gt; {\r\n            int id = lastProduct == null ? 0 : lastProduct.getId();\r\n            return findNextProducts(id, requestSize);\r\n        }, productRepository::count));\r\n    }\r\n    \r\n    @Transactional(transactionManager = &quot;h2TransactionManager&quot;)\r\n    protected List&lt;Product&gt; findNextProducts(int id, int requestSize) {\r\n        Session session = entityManager.unwrap(Session.class);\r\n        Filter filter = session.enableFilter(&quot;bestFilter&quot;);\r\n        filter.setParameter(&quot;best&quot;, true);\r\n        List&lt;Product&gt; products = productRepository\r\n                .findAllByIdGreaterThanOrderByIdAsc(id, PageRequest.of(0, requestSize));\r\n        session.disableFilter(&quot;bestFilter&quot;);\r\n        return products;\r\n    } \r\n}\r\n```\r\n\r\nI tried using Spring Specifications, but again, I&#39;m simply getting back every relationship, unfiltered :(\r\n\r\n```java\r\n// In file com.my.company.infrastructure.repository.h2.ProductRepository.java:\r\n@Repository\r\n@Transactional(transactionManager = &quot;h2TransactionManager&quot;)\r\npublic interface ProductRepository extends JpaRepository&lt;Product, Integer&gt;, JpaSpecificationExecutor&lt;Product&gt; {\r\n    //...\r\n}\r\n\r\n// In file com.my.company.entity.h2.model.Product_.java:\r\n@StaticMetamodel(Product.class)\r\npublic class Product_ {\r\n    public static volatile SingularAttribute&lt;Product, Integer&gt; productId;\r\n    public static volatile ListAttribute&lt;Product, ProductToPrimaryShipmentOption&gt; primaryShipmentOptions;\r\n}\r\n\r\n// In file com.my.company.entity.h2.model.specification.Specifications.java: \r\npublic class Specifications {\r\n    public static Specification&lt;Product&gt; nextProducts(int lastId) {\r\n        return (root, query, builder) -&gt; {\r\n            Join&lt;Product, ProductToPrimaryShipmentOption&gt; join = root.join(Product_.primaryPackages, JoinType.LEFT);\r\n            return builder.and(\r\n                    builder.greaterThan(root.get(Product_.id), lastId),\r\n                    builder.equal(join.get(&quot;best&quot;), true);\r\n        };\r\n    }\r\n}\r\n\r\n// In file com.my.company.infrastructure.repository.service.ProductRepositoryService.java:\r\n@Slf4j\r\n@Repository\r\npublic class ProductRepositoryService {\r\n    @Transactional(transactionManager = &quot;h2TransactionManager&quot;)\r\n    protected List&lt;Product&gt; findNextProducts(int id, int requestSize) {\r\n        return productRepository\r\n                .findAll(nextProducts(id), PageRequest.of(0, requestSize))\r\n                .getContent();\r\n    }\r\n}\r\n```\r\n\r\n**UPDATE:**\r\n\r\nYet another attempt that failed was using the Hibernate `@FilterJoinTable` annotation. Still, I see the HQL queries printing in the logs without the filter clause and the collection contains all the unfiltered results.\r\n\r\nHere&#39;s what I tried:\r\n\r\n```java\r\n// In file com.my.company.entity.h2.model.Product.java\r\n@Entity\r\n@Table(name = &quot;Product&quot;)\r\npublic class Product {\r\n    @Id\r\n    @Column(length = 10)\r\n    private int productId;\r\n\r\n    @LazyCollection(FALSE)\r\n    @ManyToMany(cascade = REMOVE)\r\n    @NotFound(action = IGNORE)\r\n    @JoinTable(name = &quot;ProductToPrimaryShipmentOption&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;productId&quot;, insertable = false, updatable = false),\r\n            inverseJoinColumns =  @JoinColumn(name = &quot;shipmentOptionId&quot;, insertable = false, updatable = false)\r\n    )\r\n    @FilterJoinTable(\r\n            name = &quot;bestFilter&quot;,\r\n            condition = &quot;best = :best&quot;\r\n    )\r\n    private List&lt;ShipmentOption&gt; filteredShipmentOptions = new ArrayList&lt;&gt;();\r\n}\r\n```","title":"How to filter Spring JPA OneToMany relationships when retrieving the Parent entity?","body":"<p>How can I filter my list of OneToMany relationships when fetching the parent entity?</p>\n<p>Here's my usecase - I have an H2 database in which I'm tracking Products and their Shipment Options. One Product can have many shipment options. Most consumers care only only about the &quot;best&quot; shipment option per country (chosen by some convoluted business logic), while others want to see the best shipment option per country AND per model-number.</p>\n<p>I've solved similar scenarios before using the Spring JPA <code>@Where(clause = &quot;childProperty='staticValue'&quot;)</code>, however there are many dynamic models and the where clause seems to only support a single static filter.</p>\n<p>Any advice / help would be appreciated, everything I've tried so far has failed.</p>\n<p>Here are my domain models:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// In file com.my.company.entity.h2.model.Product.java\n@Entity\n@Table(name = &quot;Product&quot;)\npublic class Product {\n    @Id\n    @Column(length = 10)\n    private int productId;\n\n    @LazyCollection(FALSE)\n    @OneToMany(cascade = REMOVE)\n    @NotFound(action = IGNORE)\n    @JoinColumn(name = &quot;productId&quot;, referencedColumnName = &quot;productId&quot;, insertable = false, updatable = false)\n    private List&lt;ProductToPrimaryShipmentOption&gt; primaryShipmentOptions = new ArrayList&lt;&gt;();\n}\n\n// In file com.my.company.entity.h2.model.relationships.ProductToPrimaryShipmentOption.java:\n@Entity\n@Table(name = &quot;ProductToPrimaryShipmentOption&quot;)\npublic class ProductToPrimaryShipmentOption {\n    @EmbeddedId\n    private ProductAndShipmentOptionIds id;\n\n    @Column(columnDefinition = &quot;CHAR&quot;, length = 3)\n    private String country;\n\n    @Column(columnDefinition = &quot;CHAR&quot;, length = 80)\n    private String model;\n\n    // This flag indicates this is the best shipment option across all the Product's models.\n    @Column\n    private boolean best;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;shipmentOptionId&quot;, referencedColumnName = &quot;shipmentOptionId&quot;, insertable = false, updatable = false)\n    private ShipmentOption shipmentOption;\n}\n\n// In file com.my.company.entity.h2.model.ShipmentOption.java:\n@Entity\n@Table(name = &quot;ShipmentOption&quot;)\npublic class ShipmentOption {\n    @Id\n    @Column(columnDefinition = &quot;CHAR&quot;, length = 29)\n    private String id; // &lt;= concatenated barcode and country\n\n    @Column(columnDefinition = &quot;CHAR&quot;, length = 80)\n    private String model;\n\n    // Additional Details...\n}\n</code></pre>\n<p>I tried using Hibernate filters, but that didn't work - even when activating them in my current session, any repository queries for Products would give me back every Shipment Option, unfiltered.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// In file com.my.company.entity.h2.model.package-info.java:\n@FilterDef(\n        name = &quot;bestFilter&quot;,\n        parameters = @ParamDef(name = &quot;best&quot;, type = &quot;boolean&quot;)\n)\n@FilterDef(\n        name = &quot;modelFilter&quot;,\n        parameters = @ParamDef(name = &quot;model&quot;, type = &quot;string&quot;)\n)\npackage com.my.company.entity.h2.model;\n\nimport org.hibernate.annotations.FilterDef;\nimport org.hibernate.annotations.ParamDef;\n\n// In file com.my.company.entity.h2.model.relationships.ProductToPrimaryShipmentOption.java:\n@Entity\n@Table(name = &quot;ProductToPrimaryShipmentOption&quot;)\n@Filter(\n        name = &quot;modelFilter&quot;,\n        condition = &quot;model = :model&quot;\n)\n@Filter(\n        name = &quot;bestFilter&quot;,\n        condition = &quot;best = :best&quot;\n)\npublic class ProductToPrimaryShipmentOption {...}\n\n// In class com.my.company.infrastructure.repository.config.H2Config.java:\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;h2EntityManagerFactory&quot;,\n        transactionManagerRef = &quot;h2TransactionManager&quot;,\n        basePackages = {&quot;com.my.company.infrastructure.repository.h2&quot;})\npublic class H2Config {\n    @Bean(name = &quot;h2DataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.h2-datasource&quot;)\n    public DataSource h2DataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;h2EntityManagerFactory&quot;)\n    public EntityManagerFactory h2EntityManagerFactory(\n            @Qualifier(&quot;h2DataSource&quot;) DataSource h2DataSource,\n            @Value(&quot;${h2.hibernate.ddl-auto:create}&quot;) String ddlAuto,\n            @Value(&quot;${h2.hibernate.dialect:org.hibernate.dialect.H2Dialect}&quot;) String dialect,\n            @Value(&quot;${h2.show-sql:false}&quot;) boolean showSql,\n            @Value(&quot;${h2.hibernate.generate-statistics:false}&quot;) boolean generateStatistics) {\n        LocalContainerEntityManagerFactoryBean h2EntityManager = new LocalContainerEntityManagerFactoryBean();\n        h2EntityManager.setDataSource(h2DataSource);\n        h2EntityManager.setPersistenceUnitName(&quot;h2Unit&quot;);\n        h2EntityManager.setPackagesToScan(&quot;com.my.company.entity.h2.model&quot;);\n\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        vendorAdapter.setGenerateDdl(true);\n        vendorAdapter.setShowSql(showSql);\n        h2EntityManager.setJpaVendorAdapter(vendorAdapter);\n\n        h2EntityManager.setJpaPropertyMap(new HashMap&lt;&gt;() {{\n            put(&quot;hibernate.ddl-auto&quot;, ddlAuto);\n            put(&quot;hibernate.dialect&quot;, dialect);\n            put(&quot;hibernate.generate_statistics&quot;, generateStatistics);\n        }});\n        h2EntityManager.afterPropertiesSet();\n\n        return h2EntityManager.getObject();\n    }\n\n    @Bean(name = &quot;h2TransactionManager&quot;)\n    public PlatformTransactionManager h2TransactionManager(@Qualifier(&quot;h2EntityManagerFactory&quot;) EntityManagerFactory h2EntityManagerFactory) {\n        JpaTransactionManager h2TransactionManager = new JpaTransactionManager();\n        h2TransactionManager.setEntityManagerFactory(h2EntityManagerFactory);\n        return h2TransactionManager;\n    }\n}\n\n// In class com.my.company.infrastructure.repository.service.ProductRepositoryService.java:\n@Slf4j\n@Repository\npublic class ProductRepositoryService {\n    @PersistenceContext(unitName = &quot;h2Unit&quot;)\n    private EntityManager entityManager;\n\n    public Flux&lt;Product&gt; findAllProducts() {\n        return Flux.fromIterable(new JpaTableIterable&lt;&gt;((lastProduct, requestSize) -&gt; {\n            int id = lastProduct == null ? 0 : lastProduct.getId();\n            return findNextProducts(id, requestSize);\n        }, productRepository::count));\n    }\n    \n    @Transactional(transactionManager = &quot;h2TransactionManager&quot;)\n    protected List&lt;Product&gt; findNextProducts(int id, int requestSize) {\n        Session session = entityManager.unwrap(Session.class);\n        Filter filter = session.enableFilter(&quot;bestFilter&quot;);\n        filter.setParameter(&quot;best&quot;, true);\n        List&lt;Product&gt; products = productRepository\n                .findAllByIdGreaterThanOrderByIdAsc(id, PageRequest.of(0, requestSize));\n        session.disableFilter(&quot;bestFilter&quot;);\n        return products;\n    } \n}\n</code></pre>\n<p>I tried using Spring Specifications, but again, I'm simply getting back every relationship, unfiltered :(</p>\n<pre class=\"lang-java prettyprint-override\"><code>// In file com.my.company.infrastructure.repository.h2.ProductRepository.java:\n@Repository\n@Transactional(transactionManager = &quot;h2TransactionManager&quot;)\npublic interface ProductRepository extends JpaRepository&lt;Product, Integer&gt;, JpaSpecificationExecutor&lt;Product&gt; {\n    //...\n}\n\n// In file com.my.company.entity.h2.model.Product_.java:\n@StaticMetamodel(Product.class)\npublic class Product_ {\n    public static volatile SingularAttribute&lt;Product, Integer&gt; productId;\n    public static volatile ListAttribute&lt;Product, ProductToPrimaryShipmentOption&gt; primaryShipmentOptions;\n}\n\n// In file com.my.company.entity.h2.model.specification.Specifications.java: \npublic class Specifications {\n    public static Specification&lt;Product&gt; nextProducts(int lastId) {\n        return (root, query, builder) -&gt; {\n            Join&lt;Product, ProductToPrimaryShipmentOption&gt; join = root.join(Product_.primaryPackages, JoinType.LEFT);\n            return builder.and(\n                    builder.greaterThan(root.get(Product_.id), lastId),\n                    builder.equal(join.get(&quot;best&quot;), true);\n        };\n    }\n}\n\n// In file com.my.company.infrastructure.repository.service.ProductRepositoryService.java:\n@Slf4j\n@Repository\npublic class ProductRepositoryService {\n    @Transactional(transactionManager = &quot;h2TransactionManager&quot;)\n    protected List&lt;Product&gt; findNextProducts(int id, int requestSize) {\n        return productRepository\n                .findAll(nextProducts(id), PageRequest.of(0, requestSize))\n                .getContent();\n    }\n}\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>Yet another attempt that failed was using the Hibernate <code>@FilterJoinTable</code> annotation. Still, I see the HQL queries printing in the logs without the filter clause and the collection contains all the unfiltered results.</p>\n<p>Here's what I tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// In file com.my.company.entity.h2.model.Product.java\n@Entity\n@Table(name = &quot;Product&quot;)\npublic class Product {\n    @Id\n    @Column(length = 10)\n    private int productId;\n\n    @LazyCollection(FALSE)\n    @ManyToMany(cascade = REMOVE)\n    @NotFound(action = IGNORE)\n    @JoinTable(name = &quot;ProductToPrimaryShipmentOption&quot;,\n            joinColumns = @JoinColumn(name = &quot;productId&quot;, insertable = false, updatable = false),\n            inverseJoinColumns =  @JoinColumn(name = &quot;shipmentOptionId&quot;, insertable = false, updatable = false)\n    )\n    @FilterJoinTable(\n            name = &quot;bestFilter&quot;,\n            condition = &quot;best = :best&quot;\n    )\n    private List&lt;ShipmentOption&gt; filteredShipmentOptions = new ArrayList&lt;&gt;();\n}\n</code></pre>\n"},{"tags":["java","concurrency","concurrenthashmap"],"comments":[{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":6,"creation_date":1279646815,"post_id":3292577,"comment_id":3409399,"body_markdown":"Do you have the thread dump?","body":"Do you have the thread dump?"},{"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"score":0,"creation_date":1279651962,"post_id":3292577,"comment_id":3410297,"body_markdown":"@John W.: good point. I will post it as soon as I can get it off the server.","body":"@John W.: good point. I will post it as soon as I can get it off the server."},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1279812167,"post_id":3292577,"comment_id":3430514,"body_markdown":"Is there any other part of the thread dump that shows which thread actually owns the lock?  These thread are simply waiting to acquire.  Finding out what they are waiting on can help.","body":"Is there any other part of the thread dump that shows which thread actually owns the lock?  These thread are simply waiting to acquire.  Finding out what they are waiting on can help."},{"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"score":0,"creation_date":1279816614,"post_id":3292577,"comment_id":3431267,"body_markdown":"There are no other references to the lock object (&lt;0x00002aaaf1207b40&gt;) in the thread dump","body":"There are no other references to the lock object (&lt;0x00002aaaf1207b40&gt;) in the thread dump"}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646141549,"creation_date":1279651424,"answer_id":3293237,"question_id":3292577,"body_markdown":"Maybe not the answer you want, but this may be a JVM bug. See [JDK 6865591][1]\r\n\r\n&gt;Test6471091.java hangs on Solaris-i586\r\n\r\n[1]:https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6865591","title":"Is it possible for ConcurrentHashMap to &quot;deadlock&quot;?","body":"<p>Maybe not the answer you want, but this may be a JVM bug. See <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6865591\" rel=\"nofollow noreferrer\">JDK 6865591</a></p>\n<blockquote>\n<p>Test6471091.java hangs on Solaris-i586</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":87389,"reputation":3946,"user_id":242345,"accept_rate":92,"display_name":"Nulldevice"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1279696931,"creation_date":1279673915,"answer_id":3295564,"question_id":3292577,"body_markdown":"Package Unsafe is native, an implementation depends on a platform.\r\n\r\nAbrupt termination of third thread (on platform level, excepion is not a problem) which acquired a lock on map can cause such situation - state of lock is broken, two other threads are disabled and waiting for someone to call Unsafe.unpark() (And that will never happen).","title":"Is it possible for ConcurrentHashMap to &quot;deadlock&quot;?","body":"<p>Package Unsafe is native, an implementation depends on a platform.</p>\n\n<p>Abrupt termination of third thread (on platform level, excepion is not a problem) which acquired a lock on map can cause such situation - state of lock is broken, two other threads are disabled and waiting for someone to call Unsafe.unpark() (And that will never happen).</p>\n"},{"tags":[],"owner":{"account_id":1177422,"reputation":2169,"user_id":1153071,"accept_rate":77,"display_name":"Ned Twigg"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1449047121,"creation_date":1449047121,"answer_id":34038641,"question_id":3292577,"body_markdown":"I don&#39;t think this is what&#39;s happening in your case, but it is possible to write a deadlock with a single instance of `ConcurrentHashMap`, and it only needs one thread!  Kept me stuck for quite a while.\r\n\r\nLet&#39;s say you&#39;re using a `ConcurrentHashMap&lt;String, Integer&gt;` to calculate a histogram.  You might do something like this:\r\n\r\n\tint count = map.compute(key, (k, oldValue) -&gt; {\r\n\t\treturn oldValue == null ? 1 : oldValue + 1;\r\n\t});\r\n\r\nWhich works just fine.\r\n\r\nBut let&#39;s say you decide instead to write it like this:\r\n\r\n\tint count = map.compute(key, (k, oldValue) -&gt; {\r\n\t\treturn map.putIfAbsent(k, 0) + 1;\r\n\t});\r\n\r\nYou will now get a 1-thread deadlock with a stack like this:\r\n\r\n\tThread [main] (Suspended)\t\r\n\t\towns: ConcurrentHashMap$ReservationNode&lt;K,V&gt;  (id=25)\t\r\n\t\tConcurrentHashMap&lt;K,V&gt;.putVal(K, V, boolean) line: not available\t\r\n\t\tConcurrentHashMap&lt;K,V&gt;.putIfAbsent(K, V) line: not available\t\r\n\t\tConcurrentHashMapDeadlock.lambda$0(ConcurrentHashMap, String, Integer) line: 32\t\r\n\t\t1613255205.apply(Object, Object) line: not available\t\r\n\t\tConcurrentHashMap&lt;K,V&gt;.compute(K, BiFunction&lt;? super K,? super V,? extends V&gt;) line: not available\t\r\n\r\nIn the example above, it&#39;s easy to see that we&#39;re attempting to modify the map inside of an atomic modification, which seems like a bad idea.  However, if there are a hundred stack frames of event-callbacks between the call to `map.compute` and `map.putIfAbsent`, then it can be quite difficult to track down.","title":"Is it possible for ConcurrentHashMap to &quot;deadlock&quot;?","body":"<p>I don't think this is what's happening in your case, but it is possible to write a deadlock with a single instance of <code>ConcurrentHashMap</code>, and it only needs one thread!  Kept me stuck for quite a while.</p>\n\n<p>Let's say you're using a <code>ConcurrentHashMap&lt;String, Integer&gt;</code> to calculate a histogram.  You might do something like this:</p>\n\n<pre><code>int count = map.compute(key, (k, oldValue) -&gt; {\n    return oldValue == null ? 1 : oldValue + 1;\n});\n</code></pre>\n\n<p>Which works just fine.</p>\n\n<p>But let's say you decide instead to write it like this:</p>\n\n<pre><code>int count = map.compute(key, (k, oldValue) -&gt; {\n    return map.putIfAbsent(k, 0) + 1;\n});\n</code></pre>\n\n<p>You will now get a 1-thread deadlock with a stack like this:</p>\n\n<pre><code>Thread [main] (Suspended)   \n    owns: ConcurrentHashMap$ReservationNode&lt;K,V&gt;  (id=25)   \n    ConcurrentHashMap&lt;K,V&gt;.putVal(K, V, boolean) line: not available    \n    ConcurrentHashMap&lt;K,V&gt;.putIfAbsent(K, V) line: not available    \n    ConcurrentHashMapDeadlock.lambda$0(ConcurrentHashMap, String, Integer) line: 32 \n    1613255205.apply(Object, Object) line: not available    \n    ConcurrentHashMap&lt;K,V&gt;.compute(K, BiFunction&lt;? super K,? super V,? extends V&gt;) line: not available  \n</code></pre>\n\n<p>In the example above, it's easy to see that we're attempting to modify the map inside of an atomic modification, which seems like a bad idea.  However, if there are a hundred stack frames of event-callbacks between the call to <code>map.compute</code> and <code>map.putIfAbsent</code>, then it can be quite difficult to track down.</p>\n"}],"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11799,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":3293237,"answer_count":3,"score":24,"last_activity_date":1646141549,"creation_date":1279646407,"question_id":3292577,"body_markdown":"We have come across a strange issue with `ConcurrentHashMap`, where two threads appears to be calling `put()`, and then waiting forever inside the method `Unsafe.park()`. From the outside, it looks like a deadlock inside `ConcurrentHashMap`.\r\n\r\nWe have only seen this happen once so far.\r\n\r\nCan anyone think of anything that could cause these symptoms?\r\n\r\n**EDIT**: The thread dump for the relevant threads is here:\r\n\r\n&lt;pre&gt;\r\n\r\n&quot;[redacted] Thread 2&quot; prio=10 tid=0x000000005bbbc800 nid=0x921 waiting on condition [0x0000000040e93000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  &amp;lt;0x00002aaaf1207b40&amp;gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:747)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:778)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1114)\r\n\tat java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:186)\r\n\tat java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:262)\r\n\tat java.util.concurrent.ConcurrentHashMap$Segment.put(ConcurrentHashMap.java:417)\r\n\tat java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:883)\r\n\tat [redacted]\r\n\r\n\r\n&quot;[redacted] Thread 0&quot; prio=10 tid=0x000000005bf38000 nid=0x91f waiting on condition [0x000000004151d000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  &amp;lt;0x00002aaaf1207b40&amp;gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:747)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:778)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1114)\r\n\tat java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:186)\r\n\tat java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:262)\r\n\tat java.util.concurrent.ConcurrentHashMap$Segment.put(ConcurrentHashMap.java:417)\r\n\tat java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:883)\r\n\tat [redacted]\r\n&lt;/pre&gt;\r\n\r\n","title":"Is it possible for ConcurrentHashMap to &quot;deadlock&quot;?","body":"<p>We have come across a strange issue with <code>ConcurrentHashMap</code>, where two threads appears to be calling <code>put()</code>, and then waiting forever inside the method <code>Unsafe.park()</code>. From the outside, it looks like a deadlock inside <code>ConcurrentHashMap</code>.</p>\n\n<p>We have only seen this happen once so far.</p>\n\n<p>Can anyone think of anything that could cause these symptoms?</p>\n\n<p><strong>EDIT</strong>: The thread dump for the relevant threads is here:</p>\n\n<pre>\n\n\"[redacted] Thread 2\" prio=10 tid=0x000000005bbbc800 nid=0x921 waiting on condition [0x0000000040e93000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00002aaaf1207b40&gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:747)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:778)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1114)\n    at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:186)\n    at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:262)\n    at java.util.concurrent.ConcurrentHashMap$Segment.put(ConcurrentHashMap.java:417)\n    at java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:883)\n    at [redacted]\n\n\n\"[redacted] Thread 0\" prio=10 tid=0x000000005bf38000 nid=0x91f waiting on condition [0x000000004151d000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00002aaaf1207b40&gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:747)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:778)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1114)\n    at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:186)\n    at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:262)\n    at java.util.concurrent.ConcurrentHashMap$Segment.put(ConcurrentHashMap.java:417)\n    at java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:883)\n    at [redacted]\n</pre>\n"},{"tags":["java","tomcat","memory-management"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1458105386,"post_id":36027156,"comment_id":59704986,"body_markdown":"And how do you intend to use it to monitor &quot;memory consumption&quot;? Of what, anyway? Your application? Have you ever considered using JMX?","body":"And how do you intend to use it to monitor &quot;memory consumption&quot;? Of what, anyway? Your application? Have you ever considered using JMX?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1458115914,"post_id":36027156,"comment_id":59709731,"body_markdown":"`Runtime.getRuntime()` itself is practically zero cost, but that doesn&#39;t seem to be what you&#39;re actually asking.","body":"<code>Runtime.getRuntime()</code> itself is practically zero cost, but that doesn&#39;t seem to be what you&#39;re actually asking."},{"owner":{"account_id":79855,"reputation":439,"user_id":226142,"display_name":"FernandoZ"},"score":0,"creation_date":1458204538,"post_id":36027156,"comment_id":59758208,"body_markdown":"Yes I was intending to use it to calculate the memory the application is using.  I was intending to use the freeMemory, maxMemory and do whatever calculations are necessary to determine the memory usage. Whenever it reaches a certain point send out a notification, log it or whatever is reasonable.  I was just wondering if those processes were expensive as in consuming a lot of processing time.","body":"Yes I was intending to use it to calculate the memory the application is using.  I was intending to use the freeMemory, maxMemory and do whatever calculations are necessary to determine the memory usage. Whenever it reaches a certain point send out a notification, log it or whatever is reasonable.  I was just wondering if those processes were expensive as in consuming a lot of processing time."},{"owner":{"account_id":79855,"reputation":439,"user_id":226142,"display_name":"FernandoZ"},"score":0,"creation_date":1458205484,"post_id":36027156,"comment_id":59758823,"body_markdown":"Thanks for pointing that out EJP.  I have edited my question summary to better explain my question.","body":"Thanks for pointing that out EJP.  I have edited my question summary to better explain my question."},{"owner":{"account_id":79855,"reputation":439,"user_id":226142,"display_name":"FernandoZ"},"score":0,"creation_date":1458205642,"post_id":36027156,"comment_id":59758912,"body_markdown":"fge, I briefly looked at JMX after you pointed out but so far that seems like it requires a lot more time and effort than I have available for this at the moment.  It seems that way. Does it take a lot of time and effort to set up and implement for gaging the memory usage of the applicaiton or am I overestimating the effort?.","body":"fge, I briefly looked at JMX after you pointed out but so far that seems like it requires a lot more time and effort than I have available for this at the moment.  It seems that way. Does it take a lot of time and effort to set up and implement for gaging the memory usage of the applicaiton or am I overestimating the effort?."},{"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"score":0,"creation_date":1645864428,"post_id":36027156,"comment_id":125986967,"body_markdown":"Give us some context on your application.  Setting up JMX is pretty routine if it&#39;s a Spring or SpringBoot application.  If it&#39;s something else, it can still be added, but you are using vanilla-integration with JMX.  Instructions would depend on your situation.","body":"Give us some context on your application.  Setting up JMX is pretty routine if it&#39;s a Spring or SpringBoot application.  If it&#39;s something else, it can still be added, but you are using vanilla-integration with JMX.  Instructions would depend on your situation."},{"owner":{"account_id":79855,"reputation":439,"user_id":226142,"display_name":"FernandoZ"},"score":0,"creation_date":1646232258,"post_id":36027156,"comment_id":126072399,"body_markdown":"@JeffBennett this post is so old I couldn&#39;t really tell you much about it anymore.  At the time I was working in Java and the application was using some legacy servlets.  No spring.  It was using servlets with a home grown MVC architecture.","body":"@JeffBennett this post is so old I couldn&#39;t really tell you much about it anymore.  At the time I was working in Java and the application was using some legacy servlets.  No spring.  It was using servlets with a home grown MVC architecture."}],"answers":[{"tags":[],"owner":{"account_id":18810786,"reputation":556,"user_id":13719014,"display_name":"Innomight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646141521,"creation_date":1646141521,"answer_id":71309259,"question_id":36027156,"body_markdown":"The performance is essentially the same, because the essentially the same thing is happening in both cases.\r\n\r\nOne drawback -\r\nIf the child gets stuck in a loop or is generally sloppy with resource management, the parent suffers too.\r\n\r\nPerformance will be the same.","title":"How expensive is Runtime.getRuntime() in combination with getting the memory metrics","body":"<p>The performance is essentially the same, because the essentially the same thing is happening in both cases.</p>\n<p>One drawback -\nIf the child gets stuck in a loop or is generally sloppy with resource management, the parent suffers too.</p>\n<p>Performance will be the same.</p>\n"}],"owner":{"account_id":79855,"reputation":439,"user_id":226142,"display_name":"FernandoZ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646141521,"creation_date":1458104494,"question_id":36027156,"body_markdown":"How performance intense is Runtime.getRuntime() in combination with getting the memory metrics (free memory, used memory, etc.). I am considering using it to monitor memory consumption in the application to troubleshoot a memory problem on production code, but I&#39;m wondering if it will be an expensive process that slows down the response of the web application.  Let&#39;s say for example if you are using in a polling fashion.  If you poll let&#39;s say every 5 seconds for example or every minute.  Will this have a significant impact on the application?","title":"How expensive is Runtime.getRuntime() in combination with getting the memory metrics","body":"<p>How performance intense is Runtime.getRuntime() in combination with getting the memory metrics (free memory, used memory, etc.). I am considering using it to monitor memory consumption in the application to troubleshoot a memory problem on production code, but I'm wondering if it will be an expensive process that slows down the response of the web application.  Let's say for example if you are using in a polling fashion.  If you poll let's say every 5 seconds for example or every minute.  Will this have a significant impact on the application?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21196154,"reputation":1,"user_id":15587664,"display_name":"elec elec"},"score":0,"creation_date":1646094689,"post_id":71302429,"comment_id":126035052,"body_markdown":"Hello! Is anyone there for an update?","body":"Hello! Is anyone there for an update?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1646095258,"post_id":71302429,"comment_id":126035140,"body_markdown":"1. Convert `option` to an `int` (`Integer.parseInt`), this may fail so you need to deal with; 2. Check the converted value is within the desired range","body":"1. Convert <code>option</code> to an <code>int</code> (<code>Integer.parseInt</code>), this may fail so you need to deal with; 2. Check the converted value is within the desired range"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1646095776,"post_id":71302429,"comment_id":126035232,"body_markdown":"@elecelec In future please format your code. Formatting is very important for ease of reading of code.","body":"@elecelec In future please format your code. Formatting is very important for ease of reading of code."},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1646096232,"post_id":71302429,"comment_id":126035299,"body_markdown":"Right now your if condition says the following: `option` has to be smaller than 1 or larger than 8. I don&#39;t think that&#39;s what you want.","body":"Right now your if condition says the following: <code>option</code> has to be smaller than 1 or larger than 8. I don&#39;t think that&#39;s what you want."},{"owner":{"account_id":21196154,"reputation":1,"user_id":15587664,"display_name":"elec elec"},"score":0,"creation_date":1646096406,"post_id":71302429,"comment_id":126035320,"body_markdown":"It doesn&#39;t work. It&#39;s affecting the switch statement.","body":"It doesn&#39;t work. It&#39;s affecting the switch statement."},{"owner":{"account_id":21196154,"reputation":1,"user_id":15587664,"display_name":"elec elec"},"score":0,"creation_date":1646096491,"post_id":71302429,"comment_id":126035333,"body_markdown":"Can you please like demonstrate that using code","body":"Can you please like demonstrate that using code"}],"answers":[{"tags":[],"owner":{"account_id":22941167,"reputation":21,"user_id":17073904,"display_name":"nikosidij"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646095826,"creation_date":1646095826,"answer_id":71302617,"question_id":71302429,"body_markdown":"Change var *option* to ```int``` and use ```nextInt()``` instead of nextLine() in your scans for that variable","title":"How do I validate an integer input number to be only from 1 to 8 when &quot;enter an option&quot; or option is a String?","body":"<p>Change var <em>option</em> to <code>int</code> and use <code>nextInt()</code> instead of nextLine() in your scans for that variable</p>\n"},{"tags":[],"owner":{"account_id":19647165,"reputation":386,"user_id":15093679,"display_name":"TheSj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646097038,"creation_date":1646096707,"answer_id":71302685,"question_id":71302429,"body_markdown":"Currently, your variable `option` is a `String`, meaning it can store letters and other characters (including numbers). The rest of your code also treats `option` as a String, so I&#39;m assuming that&#39;s what you would like to go with. \r\n\r\nIn order to find the number inside a `String`, you can use the built-in Java method `Integer.parseInt(yourString)`, which returns the number value inside the `yourString` variable. For example, if `String` `s` was `&quot;123&quot;`, the method call `Integer.parseInt(s)` would return `123` (notice there&#39;s no quotation symbols, which means it isn&#39;t a `String`). \r\n\r\nHere&#39;s how you could implement it in your code:\r\n```java\r\nwhile (Integer.parseInt(option) &lt; 1 || Integer.parseInt(option) &gt; 8)\r\n{\r\n    System.out.print(&quot;Invalid input! Enter an option&gt; &quot;);\r\n\r\n    option = scanner.nextLine();\r\n}\r\n```\r\n\r\nKeep in mind that this will cause an error if the user enters a value that contains any non-numeric characters, such as &quot;ab123&quot;. \r\n\r\n[Documentation][1] for `Integer.parseInt(yourString)`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-","title":"How do I validate an integer input number to be only from 1 to 8 when &quot;enter an option&quot; or option is a String?","body":"<p>Currently, your variable <code>option</code> is a <code>String</code>, meaning it can store letters and other characters (including numbers). The rest of your code also treats <code>option</code> as a String, so I'm assuming that's what you would like to go with.</p>\n<p>In order to find the number inside a <code>String</code>, you can use the built-in Java method <code>Integer.parseInt(yourString)</code>, which returns the number value inside the <code>yourString</code> variable. For example, if <code>String</code> <code>s</code> was <code>&quot;123&quot;</code>, the method call <code>Integer.parseInt(s)</code> would return <code>123</code> (notice there's no quotation symbols, which means it isn't a <code>String</code>).</p>\n<p>Here's how you could implement it in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (Integer.parseInt(option) &lt; 1 || Integer.parseInt(option) &gt; 8)\n{\n    System.out.print(&quot;Invalid input! Enter an option&gt; &quot;);\n\n    option = scanner.nextLine();\n}\n</code></pre>\n<p>Keep in mind that this will cause an error if the user enters a value that contains any non-numeric characters, such as &quot;ab123&quot;.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\" rel=\"nofollow noreferrer\">Documentation</a> for <code>Integer.parseInt(yourString)</code></p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646141273,"creation_date":1646141273,"answer_id":71309204,"question_id":71302429,"body_markdown":"Change `option` to be `int` and parse an `int` from the line:\r\n\r\n    int option = 0;\r\n    \r\n    while (option &lt; 1 || option &gt; 8) {\r\n        System.out.print(&quot;Enter an option 1-8:&quot;);\r\n        option = Integer.parseInt(scanner.nextLine());\r\n    }\r\n","title":"How do I validate an integer input number to be only from 1 to 8 when &quot;enter an option&quot; or option is a String?","body":"<p>Change <code>option</code> to be <code>int</code> and parse an <code>int</code> from the line:</p>\n<pre><code>int option = 0;\n\nwhile (option &lt; 1 || option &gt; 8) {\n    System.out.print(&quot;Enter an option 1-8:&quot;);\n    option = Integer.parseInt(scanner.nextLine());\n}\n</code></pre>\n"}],"owner":{"account_id":21196154,"reputation":1,"user_id":15587664,"display_name":"elec elec"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1646141273,"creation_date":1646093522,"question_id":71302429,"body_markdown":"    while (option &lt; 1 || option &gt; 8) {\r\n\r\n        System.out.print(&quot;Invalid input! Enter an option&gt;&quot;);\r\n\r\n        option = scanner.nextLine();\r\n\r\n    }\r\n\r\n\r\nThis is the error I&#39;m getting when I validate:\r\n\r\n\r\n```none\r\nerror: bad operand types for binary operator &#39;&lt;&#39;\r\n\r\nwhile (option &lt; 1 || option &gt; 8) {\r\n\r\n               ^\r\n\r\n       first type:  String\r\n\r\n       second type: int\r\n\r\n\r\nerror: bad operand types for binary operator &#39;&gt;&#39;\r\n\r\n while (option &lt; 1 || option &gt; 8) {\r\n\r\n                           ^\r\n\r\n  first type:  String\r\n\r\n  second type: int\r\n\r\n2 errors\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**BELOW IS THE CODE:**\r\n\r\n\r\n```\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Demo {\r\n\r\n\r\n\r\npublic static void main(String[] args) {\r\n\r\n\r\n\r\nPlaylist play = new Playlist();\r\n\r\nString option = &quot;&quot;;\r\n\r\nScanner scanner = new Scanner(System.in);\r\n\r\n\r\n\r\nString songName, albumName, artistName;\r\n\r\nint length;\r\n\r\n\r\n\r\nSong currentSong = null;\r\n\r\n\r\n\r\nmenu();\r\n\r\nSystem.out.print(&quot;Enter an option&gt; &quot;);\r\n\r\noption = scanner.nextLine();\r\n\r\n\r\n\r\nwhile (!option.equals(&quot;8&quot;)){\r\n\r\n\r\n\r\nswitch (option){\r\n\r\n\r\n\r\ncase &quot;1&quot;:\r\n\r\nSystem.out.print(&quot;What is the name of the Song&gt; &quot;);\r\n\r\nsongName = scanner.nextLine();\r\n\r\nSystem.out.print(&quot;What is the name of the Album&gt; &quot;);\r\n\r\nalbumName = scanner.nextLine();\r\n\r\nSystem.out.print(&quot;What is the name of the Artist&gt; &quot;);\r\n\r\nartistName = scanner.nextLine();\r\n\r\nSystem.out.print(&quot;What is the length of the song in seconds&gt; &quot;);\r\n\r\nlength = scanner.nextInt();\r\n\r\nplay.insertSong(new Song(songName, artistName, albumName, length));\r\n\r\nSystem.out.println( &quot;\\n---------------&quot; + songName + &quot; has been added to the playlist!&quot; + &quot;---------------\\n&quot;) ;\r\n\r\nbreak;\r\n\r\n\r\n\r\ncase &quot;3&quot;:\r\n\r\nSystem.out.println(&quot;\\n\\t\\tPRINTING PLAYIST\\n------------------------------------&quot;);\r\n\r\nplay.printList();\r\n\r\nbreak;\r\n\r\ncase &quot;4&quot;:\r\n\r\nif(currentSong == null){\r\n\r\n\r\n\r\nif(play.getHead() != null){\r\n\r\n\r\n\r\ncurrentSong = play.getHead();\r\n\r\nSystem.out.println(currentSong.getName() + &quot; &quot; + currentSong.getArtist());\r\n\r\n\r\n\r\n}else{\r\n\r\n\r\n\r\nSystem.out.println(&quot;\\nEmpty Playlist&quot;);\r\n\r\n}\r\n\r\n\r\n\r\nSystem.out.println();\r\n\r\n\r\n\r\n}else{\r\n\r\n\r\n\r\n\r\n\r\nSystem.out.println(currentSong.getName() + &quot; &quot; + currentSong.getArtist());\r\n\r\n}\r\n\r\n\r\n\r\nbreak;\r\n\r\n\r\n\r\ncase &quot;6&quot;:\r\n\r\n\r\n\r\nif(currentSong != null){\r\n\r\n\r\n\r\n\r\n\r\nif(!play.comapreSongObj(play.getTail(), currentSong)){\r\n\r\n\r\n\r\n\r\n\r\ncurrentSong = currentSong.getNext();\r\n\r\n}else{\r\n\r\n\r\n\r\n\r\n\r\ncurrentSong = play.getHead();\r\n\r\n}\r\n\r\n\r\n\r\n}\r\n\r\nbreak;\r\n\r\n\r\n\r\ncase &quot;7&quot;:\r\n\r\n\r\n\r\nif(currentSong != null){\r\n\r\n\r\n\r\n\r\n\r\nif(!play.comapreSongObj(play.getHead(), currentSong)){\r\n\r\n\r\n\r\n\r\n\r\ncurrentSong = currentSong.getPrevious();\r\n\r\n}else{\r\n\r\n\r\n\r\n\r\n\r\ncurrentSong = play.getTail();\r\n\r\n}\r\n\r\n\r\n\r\n}\r\n\r\nbreak;\r\n\r\n\r\n\r\n\r\n\r\ndefault:\r\n\r\nSystem.out.println(&quot;ERROR&quot;);\r\n\r\nbreak;\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nmenu();\r\n\r\n//System.out.println();\r\n\r\nSystem.out.print(&quot;Enter an option&gt; &quot;);\r\n\r\noption = scanner.nextLine();\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nprivate static void menu(){\r\n\r\n\r\n\r\nSystem.out.println(&quot;1 - Add a song to playlist\\n2- Insert a New Song after the Song that is currently playing&quot; +\r\n\r\n&quot;\\n3 - Print Contents of the Playlist\\n4 - Display the current song\\n&quot; +\r\n\r\n&quot;5 - Remove the current song\\n6 - Skip to next song\\n7 - Return to previous\\n&quot; +\r\n\r\n&quot;8 - Exit\\n&quot;);\r\n\r\n}\r\n\r\n}\r\n```\r\n","title":"How do I validate an integer input number to be only from 1 to 8 when &quot;enter an option&quot; or option is a String?","body":"<pre><code>while (option &lt; 1 || option &gt; 8) {\n\n    System.out.print(&quot;Invalid input! Enter an option&gt;&quot;);\n\n    option = scanner.nextLine();\n\n}\n</code></pre>\n<p>This is the error I'm getting when I validate:</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: bad operand types for binary operator '&lt;'\n\nwhile (option &lt; 1 || option &gt; 8) {\n\n               ^\n\n       first type:  String\n\n       second type: int\n\n\nerror: bad operand types for binary operator '&gt;'\n\n while (option &lt; 1 || option &gt; 8) {\n\n                           ^\n\n  first type:  String\n\n  second type: int\n\n2 errors\n</code></pre>\n<p><strong>BELOW IS THE CODE:</strong></p>\n<pre><code>\nimport java.util.Scanner;\n\npublic class Demo {\n\n\n\npublic static void main(String[] args) {\n\n\n\nPlaylist play = new Playlist();\n\nString option = &quot;&quot;;\n\nScanner scanner = new Scanner(System.in);\n\n\n\nString songName, albumName, artistName;\n\nint length;\n\n\n\nSong currentSong = null;\n\n\n\nmenu();\n\nSystem.out.print(&quot;Enter an option&gt; &quot;);\n\noption = scanner.nextLine();\n\n\n\nwhile (!option.equals(&quot;8&quot;)){\n\n\n\nswitch (option){\n\n\n\ncase &quot;1&quot;:\n\nSystem.out.print(&quot;What is the name of the Song&gt; &quot;);\n\nsongName = scanner.nextLine();\n\nSystem.out.print(&quot;What is the name of the Album&gt; &quot;);\n\nalbumName = scanner.nextLine();\n\nSystem.out.print(&quot;What is the name of the Artist&gt; &quot;);\n\nartistName = scanner.nextLine();\n\nSystem.out.print(&quot;What is the length of the song in seconds&gt; &quot;);\n\nlength = scanner.nextInt();\n\nplay.insertSong(new Song(songName, artistName, albumName, length));\n\nSystem.out.println( &quot;\\n---------------&quot; + songName + &quot; has been added to the playlist!&quot; + &quot;---------------\\n&quot;) ;\n\nbreak;\n\n\n\ncase &quot;3&quot;:\n\nSystem.out.println(&quot;\\n\\t\\tPRINTING PLAYIST\\n------------------------------------&quot;);\n\nplay.printList();\n\nbreak;\n\ncase &quot;4&quot;:\n\nif(currentSong == null){\n\n\n\nif(play.getHead() != null){\n\n\n\ncurrentSong = play.getHead();\n\nSystem.out.println(currentSong.getName() + &quot; &quot; + currentSong.getArtist());\n\n\n\n}else{\n\n\n\nSystem.out.println(&quot;\\nEmpty Playlist&quot;);\n\n}\n\n\n\nSystem.out.println();\n\n\n\n}else{\n\n\n\n\n\nSystem.out.println(currentSong.getName() + &quot; &quot; + currentSong.getArtist());\n\n}\n\n\n\nbreak;\n\n\n\ncase &quot;6&quot;:\n\n\n\nif(currentSong != null){\n\n\n\n\n\nif(!play.comapreSongObj(play.getTail(), currentSong)){\n\n\n\n\n\ncurrentSong = currentSong.getNext();\n\n}else{\n\n\n\n\n\ncurrentSong = play.getHead();\n\n}\n\n\n\n}\n\nbreak;\n\n\n\ncase &quot;7&quot;:\n\n\n\nif(currentSong != null){\n\n\n\n\n\nif(!play.comapreSongObj(play.getHead(), currentSong)){\n\n\n\n\n\ncurrentSong = currentSong.getPrevious();\n\n}else{\n\n\n\n\n\ncurrentSong = play.getTail();\n\n}\n\n\n\n}\n\nbreak;\n\n\n\n\n\ndefault:\n\nSystem.out.println(&quot;ERROR&quot;);\n\nbreak;\n\n\n\n}\n\n\n\nmenu();\n\n//System.out.println();\n\nSystem.out.print(&quot;Enter an option&gt; &quot;);\n\noption = scanner.nextLine();\n\n\n\n}\n\n\n\n}\n\n\n\nprivate static void menu(){\n\n\n\nSystem.out.println(&quot;1 - Add a song to playlist\\n2- Insert a New Song after the Song that is currently playing&quot; +\n\n&quot;\\n3 - Print Contents of the Playlist\\n4 - Display the current song\\n&quot; +\n\n&quot;5 - Remove the current song\\n6 - Skip to next song\\n7 - Return to previous\\n&quot; +\n\n&quot;8 - Exit\\n&quot;);\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","java-8","stream","java-stream","dto"],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646139063,"creation_date":1646138326,"answer_id":71308622,"question_id":71308596,"body_markdown":"There&#39;s quite some duplication. You&#39;re passing an object and a field of an object to the constructor. Maybe the more elegant way would be to avoid passing the information twice by moving the logic to the constructor:\r\n\r\n    public MenuItemDTO(MenuItem menuItem) {\r\n        this.siteUuid = menuItem.getSiteUuid();\r\n        this.productUuid = menuItem.getProductUuid();\r\n        this.outOfStock = menuItem.getUuid() != null;\r\n    }\r\n\r\nAnd then the stream mapping reduces to:\r\n\r\n    public List&lt;MenuItemDTO&gt; findAllBySiteBrandUuid(UUID siteUuid) {\r\n        return menuItemRepository.findAllBySiteUuid(siteUuid)\r\n                .stream()\r\n                .map(MenuItemDTO::new)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\nThe information in the DTO is whatever client needs, so it&#39;s not up to us to decide if putting boolean there is the right way. I&#39;d say it&#39;s good if that&#39;s what will be used on the client side.","title":"Java stream mapping for a boolean value?","body":"<p>There's quite some duplication. You're passing an object and a field of an object to the constructor. Maybe the more elegant way would be to avoid passing the information twice by moving the logic to the constructor:</p>\n<pre><code>public MenuItemDTO(MenuItem menuItem) {\n    this.siteUuid = menuItem.getSiteUuid();\n    this.productUuid = menuItem.getProductUuid();\n    this.outOfStock = menuItem.getUuid() != null;\n}\n</code></pre>\n<p>And then the stream mapping reduces to:</p>\n<pre><code>public List&lt;MenuItemDTO&gt; findAllBySiteBrandUuid(UUID siteUuid) {\n    return menuItemRepository.findAllBySiteUuid(siteUuid)\n            .stream()\n            .map(MenuItemDTO::new)\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>The information in the DTO is whatever client needs, so it's not up to us to decide if putting boolean there is the right way. I'd say it's good if that's what will be used on the client side.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71308622,"answer_count":1,"score":0,"last_activity_date":1646141207,"creation_date":1646138169,"question_id":71308596,"body_markdown":"I have the following DTO:\r\n\r\n```\r\n@Data\r\npublic class MenuItemDTO {\r\n    private UUID siteUuid;\r\n    private UUID productUuid;\r\n    private boolean outOfStock;\r\n\r\n    public MenuItemDTO(MenuItem menuItem, boolean outOfStock) {\r\n        this.siteUuid = menuItem.getSiteUuid();\r\n        this.productUuid = menuItem.getProductUuid();\r\n        this.outOfStock = outOfStock;\r\n    }\r\n}\r\n```\r\n\r\nI have not `outOfStock` field in `MenuItem` entity and I want to fill `outOfStock` field if the record is not empty (I just keep the out of stocked products). But I am not sure if there is a proper way using stream:\r\n\r\n\r\n```\r\npublic List&lt;MenuItemDTO&gt; findAllBySiteBrandUuid(UUID siteUuid) {\r\n    return menuItemRepository.findAllBySiteUuid(siteUuid)\r\n            .stream()\r\n            .map(m -&gt; new MenuItemDTO(m, m.getUuid() != null))\r\n            .collect(Collectors.toList());\r\n}\r\n```\r\n\r\n**1.** As I do not keep `outOfStock` field in `MenuItem` entity, is my approach in `MenuItemDTO` a proper way? \r\n\r\n**2.** I am wondering if there is a more elegant way by using stream properly for `.map(m -&gt; new MenuItemDTO(m, m.getUuid() != null))` part. \r\n\r\n","title":"Java stream mapping for a boolean value?","body":"<p>I have the following DTO:</p>\n<pre><code>@Data\npublic class MenuItemDTO {\n    private UUID siteUuid;\n    private UUID productUuid;\n    private boolean outOfStock;\n\n    public MenuItemDTO(MenuItem menuItem, boolean outOfStock) {\n        this.siteUuid = menuItem.getSiteUuid();\n        this.productUuid = menuItem.getProductUuid();\n        this.outOfStock = outOfStock;\n    }\n}\n</code></pre>\n<p>I have not <code>outOfStock</code> field in <code>MenuItem</code> entity and I want to fill <code>outOfStock</code> field if the record is not empty (I just keep the out of stocked products). But I am not sure if there is a proper way using stream:</p>\n<pre><code>public List&lt;MenuItemDTO&gt; findAllBySiteBrandUuid(UUID siteUuid) {\n    return menuItemRepository.findAllBySiteUuid(siteUuid)\n            .stream()\n            .map(m -&gt; new MenuItemDTO(m, m.getUuid() != null))\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p><strong>1.</strong> As I do not keep <code>outOfStock</code> field in <code>MenuItem</code> entity, is my approach in <code>MenuItemDTO</code> a proper way?</p>\n<p><strong>2.</strong> I am wondering if there is a more elegant way by using stream properly for <code>.map(m -&gt; new MenuItemDTO(m, m.getUuid() != null))</code> part.</p>\n"},{"tags":["java","criteria","eclipselink","jpa-2.0","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":262329,"reputation":22564,"user_id":547122,"accept_rate":40,"display_name":"weltraumpirat"},"down_vote_count":0,"up_vote_count":120,"is_accepted":true,"score":120,"last_activity_date":1294128479,"creation_date":1294128154,"answer_id":4591615,"question_id":4580285,"body_markdown":"It may seem a little awkward at first, but it is type-safe.  Building queries from strings isn&#39;t, so you notice errors at runtime instead of at compile time. You can make the queries more readable by using indentations or taking each step separately, instead of writing an entire WHERE clause in a single line.\r\n\r\nTo make your query case-insensitive, convert both your keyword and the compared field to lower case:\r\n\r\n    query.where(\r\n        builder.or(\r\n            builder.like(\r\n                builder.lower(\r\n                    root.get(\r\n                        type.getDeclaredSingularAttribute(&quot;username&quot;, String.class)\r\n                    )\r\n                ), &quot;%&quot; + keyword.toLowerCase() + &quot;%&quot;\r\n            ), \r\n            builder.like(\r\n                builder.lower(\r\n                    root.get(\r\n                        type.getDeclaredSingularAttribute(&quot;firstname&quot;, String.class)\r\n                    )\r\n                ), &quot;%&quot; + keyword.toLowerCase() + &quot;%&quot;\r\n            ), \r\n            builder.like(\r\n                builder.lower(\r\n                    root.get(\r\n                        type.getDeclaredSingularAttribute(&quot;lastname&quot;, String.class)\r\n                    )\r\n                ), &quot;%&quot; + keyword.toLowerCase() + &quot;%&quot;\r\n            )\r\n        )\r\n    );","title":"JPA2: Case-insensitive like matching anywhere","body":"<p>It may seem a little awkward at first, but it is type-safe.  Building queries from strings isn't, so you notice errors at runtime instead of at compile time. You can make the queries more readable by using indentations or taking each step separately, instead of writing an entire WHERE clause in a single line.</p>\n\n<p>To make your query case-insensitive, convert both your keyword and the compared field to lower case:</p>\n\n<pre><code>query.where(\n    builder.or(\n        builder.like(\n            builder.lower(\n                root.get(\n                    type.getDeclaredSingularAttribute(\"username\", String.class)\n                )\n            ), \"%\" + keyword.toLowerCase() + \"%\"\n        ), \n        builder.like(\n            builder.lower(\n                root.get(\n                    type.getDeclaredSingularAttribute(\"firstname\", String.class)\n                )\n            ), \"%\" + keyword.toLowerCase() + \"%\"\n        ), \n        builder.like(\n            builder.lower(\n                root.get(\n                    type.getDeclaredSingularAttribute(\"lastname\", String.class)\n                )\n            ), \"%\" + keyword.toLowerCase() + \"%\"\n        )\n    )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1372773095,"creation_date":1369899290,"answer_id":16830450,"question_id":4580285,"body_markdown":"Easier and more efficient to enforce case insensitity within the database than JPA.  \r\n\r\n1. Under the SQL 2003, 2006, 2008 standards, can do this by adding `COLLATE SQL_Latin1_General_CP1_CI_AS` OR `COLLATE latin1_general_cs` to the following:\r\n\r\n - Column Definition\r\n\r\n            CREATE TABLE &lt;table name&gt; (\r\n              &lt;column name&gt; &lt;type name&gt; [DEFAULT...] \r\n                                        [NOT NULL|UNIQUE|PRIMARY KEY|REFERENCES...]\r\n                                        [COLLATE &lt;collation name&gt;], \r\n              ...\r\n            )\r\n\r\n - Domain Definition\r\n\r\n            CREATE DOMAIN &lt;domain name&gt; [ AS ] &lt;data type&gt;\r\n              [ DEFAULT ... ] [ CHECK ... ] [ COLLATE &lt;collation name&gt; ]\r\n\r\n - Character Set Definition\r\n\r\n            CREATE CHARACTER SET &lt;character set name&gt;\r\n            [ AS ] GET &lt;character set name&gt; [ COLLATE &lt;collation name&gt; ]\r\n\r\n   For full description of above refer: \r\n   http://savage.net.au/SQL/sql-2003-2.bnf.html#column%20definition\r\n   http://dev.mysql.com/doc/refman/5.1/en/charset-table.html\r\n   http://msdn.microsoft.com/en-us/library/ms184391.aspx\r\n\r\n\r\n2. In Oracle, can set NLS Session/Configuration parameters\r\n\r\n         SQL&gt; ALTER SESSION SET NLS_COMP=LINGUISTIC;\r\n         SQL&gt; ALTER SESSION SET NLS_SORT=BINARY_CI;\r\n         SQL&gt; SELECT ename FROM emp1 WHERE ename LIKE &#39;McC%e&#39;;\r\n    \r\n         ENAME\r\n         ----------------------\r\n         McCoye\r\n         Mccathye\r\n\r\n   Or, in `init.ora` (or OS-specific name for initialization parameter file):\r\n\r\n        NLS_COMP=LINGUISTIC\r\n        NLS_SORT=BINARY_CI\r\n\r\n    Binary sorts can be case-insensitive or accent-insensitive. When you specify BINARY_CI as a value for NLS_SORT, it designates a sort that is accent-sensitive and case-insensitive. BINARY_AI designates an accent-insensitive and case-insensitive binary sort. You may want to use a binary sort if the binary sort order of the character set is appropriate for the character set you are using.\r\n   Use the NLS_SORT session parameter to specify a case-insensitive or accent-insensitive sort:\r\n\r\n        Append _CI to a sort name for a case-insensitive sort.\r\n        Append _AI to a sort name for an accent-insensitive and case-insensitive sort. \r\n\r\n   For example, you can set NLS_SORT to the following types of values:\r\n\r\n        FRENCH_M_AI\r\n        XGERMAN_CI\r\n\r\n  Setting NLS_SORT to anything other than BINARY [with optional _CI or _AI] causes a sort to use a full table scan, regardless of the path chosen by the optimizer. BINARY is the exception because indexes are built according to a binary order of keys. Thus the optimizer can use an index to satisfy the ORDER BY clause when NLS_SORT is set to BINARY. If NLS_SORT is set to any linguistic sort, the optimizer must include a full table scan and a full sort in the execution plan.\r\n\r\n   Or, if NLS_COMP is set to LINGUISTIC, as above, then sort settings can be applied locally to indexed columns, rather than globally across the database:\r\n\r\n        CREATE INDEX emp_ci_index ON emp (NLSSORT(emp_name, &#39;NLS_SORT=BINARY_CI&#39;));\r\n\r\n   Reference: [ORA 11g Linguistic Sorting and String Searching][1]\r\n               [ORA 11g Setting Up a Globalization Support Environment][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/B28359_01/server.111/b28298/ch5lingsort.htm\r\n  [2]: http://docs.oracle.com/cd/B28359_01/server.111/b28298/ch3globenv.htm#NLSPG230","title":"JPA2: Case-insensitive like matching anywhere","body":"<p>Easier and more efficient to enforce case insensitity within the database than JPA.  </p>\n\n<ol>\n<li><p>Under the SQL 2003, 2006, 2008 standards, can do this by adding <code>COLLATE SQL_Latin1_General_CP1_CI_AS</code> OR <code>COLLATE latin1_general_cs</code> to the following:</p>\n\n<ul>\n<li><p>Column Definition</p>\n\n<pre><code>CREATE TABLE &lt;table name&gt; (\n  &lt;column name&gt; &lt;type name&gt; [DEFAULT...] \n                            [NOT NULL|UNIQUE|PRIMARY KEY|REFERENCES...]\n                            [COLLATE &lt;collation name&gt;], \n  ...\n)\n</code></pre></li>\n<li><p>Domain Definition</p>\n\n<pre><code>CREATE DOMAIN &lt;domain name&gt; [ AS ] &lt;data type&gt;\n  [ DEFAULT ... ] [ CHECK ... ] [ COLLATE &lt;collation name&gt; ]\n</code></pre></li>\n<li><p>Character Set Definition</p>\n\n<pre><code>CREATE CHARACTER SET &lt;character set name&gt;\n[ AS ] GET &lt;character set name&gt; [ COLLATE &lt;collation name&gt; ]\n</code></pre></li>\n</ul>\n\n<p>For full description of above refer: \n<a href=\"http://savage.net.au/SQL/sql-2003-2.bnf.html#column%20definition\" rel=\"nofollow\">http://savage.net.au/SQL/sql-2003-2.bnf.html#column%20definition</a>\n<a href=\"http://dev.mysql.com/doc/refman/5.1/en/charset-table.html\" rel=\"nofollow\">http://dev.mysql.com/doc/refman/5.1/en/charset-table.html</a>\n<a href=\"http://msdn.microsoft.com/en-us/library/ms184391.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ms184391.aspx</a></p></li>\n<li><p>In Oracle, can set NLS Session/Configuration parameters</p>\n\n<pre><code> SQL&gt; ALTER SESSION SET NLS_COMP=LINGUISTIC;\n SQL&gt; ALTER SESSION SET NLS_SORT=BINARY_CI;\n SQL&gt; SELECT ename FROM emp1 WHERE ename LIKE 'McC%e';\n\n ENAME\n ----------------------\n McCoye\n Mccathye\n</code></pre>\n\n<p>Or, in <code>init.ora</code> (or OS-specific name for initialization parameter file):</p>\n\n<pre><code>NLS_COMP=LINGUISTIC\nNLS_SORT=BINARY_CI\n</code></pre>\n\n<p>Binary sorts can be case-insensitive or accent-insensitive. When you specify BINARY_CI as a value for NLS_SORT, it designates a sort that is accent-sensitive and case-insensitive. BINARY_AI designates an accent-insensitive and case-insensitive binary sort. You may want to use a binary sort if the binary sort order of the character set is appropriate for the character set you are using.\nUse the NLS_SORT session parameter to specify a case-insensitive or accent-insensitive sort:</p>\n\n<pre><code>Append _CI to a sort name for a case-insensitive sort.\nAppend _AI to a sort name for an accent-insensitive and case-insensitive sort. \n</code></pre>\n\n<p>For example, you can set NLS_SORT to the following types of values:</p>\n\n<pre><code>FRENCH_M_AI\nXGERMAN_CI\n</code></pre>\n\n<p>Setting NLS_SORT to anything other than BINARY [with optional _CI or _AI] causes a sort to use a full table scan, regardless of the path chosen by the optimizer. BINARY is the exception because indexes are built according to a binary order of keys. Thus the optimizer can use an index to satisfy the ORDER BY clause when NLS_SORT is set to BINARY. If NLS_SORT is set to any linguistic sort, the optimizer must include a full table scan and a full sort in the execution plan.</p>\n\n<p>Or, if NLS_COMP is set to LINGUISTIC, as above, then sort settings can be applied locally to indexed columns, rather than globally across the database:</p>\n\n<pre><code>CREATE INDEX emp_ci_index ON emp (NLSSORT(emp_name, 'NLS_SORT=BINARY_CI'));\n</code></pre>\n\n<p>Reference: <a href=\"http://docs.oracle.com/cd/B28359_01/server.111/b28298/ch5lingsort.htm\" rel=\"nofollow\">ORA 11g Linguistic Sorting and String Searching</a>\n           <a href=\"http://docs.oracle.com/cd/B28359_01/server.111/b28298/ch3globenv.htm#NLSPG230\" rel=\"nofollow\">ORA 11g Setting Up a Globalization Support Environment</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2631167,"reputation":121,"user_id":2277079,"display_name":"alpanko"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1581082983,"creation_date":1399468923,"answer_id":23519055,"question_id":4580285,"body_markdown":"This work for me  :\r\n\r\n    CriteriaBuilder critBuilder = em.getCriteriaBuilder();\r\n\r\n\tCriteriaQuery&lt;CtfLibrary&gt; critQ = critBuilder.createQuery(Users.class);\r\n\tRoot&lt;CtfLibrary&gt; root = critQ.from(Users.class);\r\n\r\n    Expression&lt;String&gt; path = root.get(&quot;lastName&quot;);\r\n\tExpression&lt;String&gt; upper =critBuilder.upper(path);\r\n    Predicate ctfPredicate = critBuilder.like(upper,&quot;%stringToFind%&quot;);\r\n    critQ.where(critBuilder.and(ctfPredicate));\r\n    em.createQuery(critQ.select(root)).getResultList();","title":"JPA2: Case-insensitive like matching anywhere","body":"<p>This work for me  :</p>\n\n<pre><code>CriteriaBuilder critBuilder = em.getCriteriaBuilder();\n\nCriteriaQuery&lt;CtfLibrary&gt; critQ = critBuilder.createQuery(Users.class);\nRoot&lt;CtfLibrary&gt; root = critQ.from(Users.class);\n\nExpression&lt;String&gt; path = root.get(\"lastName\");\nExpression&lt;String&gt; upper =critBuilder.upper(path);\nPredicate ctfPredicate = critBuilder.like(upper,\"%stringToFind%\");\ncritQ.where(critBuilder.and(ctfPredicate));\nem.createQuery(critQ.select(root)).getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1654043,"reputation":2659,"user_id":1524027,"display_name":"mnesarco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401286174,"creation_date":1401286174,"answer_id":23914005,"question_id":4580285,"body_markdown":"Desperated workaround for OpenJPA 2.3.0 and Postgresql\r\n\r\n    public class OpenJPAPostgresqlDictionaryPatch extends PostgresDictionary {\r\n    \r\n      @Override\r\n      public SQLBuffer toOperation(String op, SQLBuffer selects, SQLBuffer from, SQLBuffer where, SQLBuffer group, SQLBuffer having, SQLBuffer order, boolean distinct, long start, long end, String forUpdateClause, boolean subselect) {\r\n        String whereSQL = where.getSQL();\r\n        int p = whereSQL.indexOf(&quot;LIKE&quot;);\r\n        int offset = 0;\r\n        while (p != -1) {\r\n          where.replaceSqlString(p + offset, p + offset + 4, &quot;ILIKE&quot;);\r\n          p = whereSQL.indexOf(&quot;LIKE&quot;, p + 1);\r\n          offset++;\r\n        }\r\n        return super.toOperation(op, selects, from, where, group, having, order, distinct, start, end, forUpdateClause, subselect);\r\n      }\r\n    \r\n    }\r\n\r\nThis is a fragile and ugly workaround for doing case insensitive LIKE operation with OpenJPA and Postgresql database. It replaces the LIKE operator to ILIKE operator in the generated SQL.\r\n\r\nIt is too bad that OpenJPA DBDictionary does not allow to change operator names.\r\n","title":"JPA2: Case-insensitive like matching anywhere","body":"<p>Desperated workaround for OpenJPA 2.3.0 and Postgresql</p>\n\n<pre><code>public class OpenJPAPostgresqlDictionaryPatch extends PostgresDictionary {\n\n  @Override\n  public SQLBuffer toOperation(String op, SQLBuffer selects, SQLBuffer from, SQLBuffer where, SQLBuffer group, SQLBuffer having, SQLBuffer order, boolean distinct, long start, long end, String forUpdateClause, boolean subselect) {\n    String whereSQL = where.getSQL();\n    int p = whereSQL.indexOf(\"LIKE\");\n    int offset = 0;\n    while (p != -1) {\n      where.replaceSqlString(p + offset, p + offset + 4, \"ILIKE\");\n      p = whereSQL.indexOf(\"LIKE\", p + 1);\n      offset++;\n    }\n    return super.toOperation(op, selects, from, where, group, having, order, distinct, start, end, forUpdateClause, subselect);\n  }\n\n}\n</code></pre>\n\n<p>This is a fragile and ugly workaround for doing case insensitive LIKE operation with OpenJPA and Postgresql database. It replaces the LIKE operator to ILIKE operator in the generated SQL.</p>\n\n<p>It is too bad that OpenJPA DBDictionary does not allow to change operator names.</p>\n"},{"tags":[],"owner":{"account_id":4748651,"reputation":3,"user_id":3839239,"display_name":"Phuong Tran"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1472655814,"creation_date":1472655814,"answer_id":39253111,"question_id":4580285,"body_markdown":"Please consider to use\r\n\r\n    CriteriaBuilder.like(Expression&lt;String&gt; x, Expression&lt;String&gt; pattern, char escapeChar);\r\n\r\nfor matching anywhere.","title":"JPA2: Case-insensitive like matching anywhere","body":"<p>Please consider to use</p>\n\n<pre><code>CriteriaBuilder.like(Expression&lt;String&gt; x, Expression&lt;String&gt; pattern, char escapeChar);\n</code></pre>\n\n<p>for matching anywhere.</p>\n"},{"tags":[],"owner":{"account_id":1591496,"reputation":1127,"user_id":1474729,"display_name":"Ghurdyl"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1537965381,"creation_date":1511542716,"answer_id":47477470,"question_id":4580285,"body_markdown":"As I commented in the (currently) accepted answer, there is a pitfall using on one hand DBMS&#39; `lower()` function and on the other hand java&#39;s `String.toLowerCase()` as both method are not warrantied to provide the same output for the same input string.\r\n\r\nI finally found a much safer (yet not bullet-proof) solution which is to let the DBMS do all the lowering using a literal expression:\r\n\r\n    builder.lower(builder.literal(&quot;%&quot; + keyword + &quot;%&quot;)\r\n\r\nSo the complete solution would look like :\r\n\r\n    query.where(\r\n        builder.or(\r\n            builder.like(\r\n                builder.lower(\r\n                    root.get(\r\n                        type.getDeclaredSingularAttribute(&quot;username&quot;, String.class)\r\n                    )\r\n                ), builder.lower(builder.literal(&quot;%&quot; + keyword + &quot;%&quot;)\r\n            ), \r\n            builder.like(\r\n                builder.lower(\r\n                    root.get(\r\n                        type.getDeclaredSingularAttribute(&quot;firstname&quot;, String.class)\r\n                    )\r\n                ), builder.lower(builder.literal(&quot;%&quot; + keyword + &quot;%&quot;)\r\n            ), \r\n            builder.like(\r\n                builder.lower(\r\n                    root.get(\r\n                        type.getDeclaredSingularAttribute(&quot;lastname&quot;, String.class)\r\n                    )\r\n                ), builder.lower(builder.literal(&quot;%&quot; + keyword + &quot;%&quot;)\r\n            )\r\n        )\r\n    );\r\n\r\nEdit:  \r\nAs @cavpollo requested me to give example, I had to think twice about my solution and realized it&#39;s not that much safer than the accepted answer:\r\n\r\n    DB value* | keyword | accepted answer | my answer\r\n    ------------------------------------------------\r\n    elie     | ELIE    | match           | match\r\n    &#201;lie     | &#201;lie    | no match        | match\r\n    &#201;lie     | &#233;lie    | no match        | no match\r\n    &#233;lie     | &#201;lie    | match           | no match\r\n \r\nStill, I prefer my solution as it does not compare the outcome out two different functions that are supposed to work alike. I apply the very same function to all character arrays so that comparing the output become more &quot;stable&quot;.\r\n\r\nA bullet-proof solution would involve locale so that SQL&#39;s `lower()` become able to correctly lower accented characters. (But this goes beyond my humble knowledge)\r\n\r\n*Db value with PostgreSQL 9.5.1 with &#39;C&#39; locale","title":"JPA2: Case-insensitive like matching anywhere","body":"<p>As I commented in the (currently) accepted answer, there is a pitfall using on one hand DBMS' <code>lower()</code> function and on the other hand java's <code>String.toLowerCase()</code> as both method are not warrantied to provide the same output for the same input string.</p>\n\n<p>I finally found a much safer (yet not bullet-proof) solution which is to let the DBMS do all the lowering using a literal expression:</p>\n\n<pre><code>builder.lower(builder.literal(\"%\" + keyword + \"%\")\n</code></pre>\n\n<p>So the complete solution would look like :</p>\n\n<pre><code>query.where(\n    builder.or(\n        builder.like(\n            builder.lower(\n                root.get(\n                    type.getDeclaredSingularAttribute(\"username\", String.class)\n                )\n            ), builder.lower(builder.literal(\"%\" + keyword + \"%\")\n        ), \n        builder.like(\n            builder.lower(\n                root.get(\n                    type.getDeclaredSingularAttribute(\"firstname\", String.class)\n                )\n            ), builder.lower(builder.literal(\"%\" + keyword + \"%\")\n        ), \n        builder.like(\n            builder.lower(\n                root.get(\n                    type.getDeclaredSingularAttribute(\"lastname\", String.class)\n                )\n            ), builder.lower(builder.literal(\"%\" + keyword + \"%\")\n        )\n    )\n);\n</code></pre>\n\n<p>Edit:<br>\nAs @cavpollo requested me to give example, I had to think twice about my solution and realized it's not that much safer than the accepted answer:</p>\n\n<pre><code>DB value* | keyword | accepted answer | my answer\n------------------------------------------------\nelie     | ELIE    | match           | match\nÉlie     | Élie    | no match        | match\nÉlie     | élie    | no match        | no match\nélie     | Élie    | match           | no match\n</code></pre>\n\n<p>Still, I prefer my solution as it does not compare the outcome out two different functions that are supposed to work alike. I apply the very same function to all character arrays so that comparing the output become more \"stable\".</p>\n\n<p>A bullet-proof solution would involve locale so that SQL's <code>lower()</code> become able to correctly lower accented characters. (But this goes beyond my humble knowledge)</p>\n\n<p>*Db value with PostgreSQL 9.5.1 with 'C' locale</p>\n"},{"tags":[],"owner":{"account_id":1480557,"reputation":1938,"user_id":1390063,"display_name":"Thomas Hunziker"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1592289241,"creation_date":1592289241,"answer_id":62402298,"question_id":4580285,"body_markdown":"If you are using a database like Postgres which supports `ilike` which provides a much better performance as using the `lower()` function none of the provided solution solves the issue properly.\r\n\r\nA solution can be a custom function. \r\n\r\nThe HQL query you are writing is:\r\n\r\n    SELECT * FROM User WHERE (function(&#39;caseInSensitiveMatching&#39;, name, &#39;%test%&#39;)) = true\r\n\r\nWhere the `caseInSensitiveMatching` is the function name of our custom function. The `name` is the path to the property which you want to compare with and the `%test%` is the pattern which you want to match it against.\r\n\r\nThe goal is to convert the HQL query into the following SQL query:\r\n\r\n    SELECT * FROM User WHERE (name ilike &#39;%test%&#39;) = true\r\n\r\nTo achieve this we have to implement our own dialect with our custom function registered:\r\n\r\n```lang-java\r\n    public class CustomPostgreSQL9Dialect extends PostgreSQL9Dialect {\r\n    \t/**\r\n    \t * Default constructor.\r\n    \t */\r\n    \tpublic CustomPostgreSQL9Dialect() {\r\n    \t\tsuper();\r\n    \t\tregisterFunction(&quot;caseInSensitiveMatching&quot;, new CaseInSensitiveMatchingSqlFunction());\r\n    \t}\r\n    \r\n    \tprivate class CaseInSensitiveMatchingSqlFunction implements SQLFunction {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean hasArguments() {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean hasParenthesesIfNoArguments() {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic Type getReturnType(Type firstArgumentType, Mapping mapping) throws QueryException {\r\n    \t\t\treturn StandardBasicTypes.BOOLEAN;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String render(Type firstArgumentType, @SuppressWarnings(&quot;rawtypes&quot;) List arguments,\r\n    \t\t\t\tSessionFactoryImplementor factory) throws QueryException {\r\n    \r\n    \t\t\tif (arguments.size() != 2) {\r\n    \t\t\t\tthrow new IllegalStateException(\r\n    \t\t\t\t\t\t&quot;The &#39;caseInSensitiveMatching&#39; function requires exactly two arguments.&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tStringBuilder buffer = new StringBuilder();\r\n    \r\n    \t\t\tbuffer.append(&quot;(&quot;).append(arguments.get(0)).append(&quot; ilike &quot;).append(arguments.get(1)).append(&quot;)&quot;);\r\n    \r\n    \t\t\treturn buffer.toString();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n```\r\n \r\nThe above optimization produced in our situation a performance improvement of a factor of 40 compared to the version with the `lower` function as Postgres could leverage the index on the corresponding column. In our situation the query execution time could be reduced from 4.5 seconds to 100 ms.\r\n\r\nThe `lower` prevents an efficient usage of the index and as such it is much slower.\r\n","title":"JPA2: Case-insensitive like matching anywhere","body":"<p>If you are using a database like Postgres which supports <code>ilike</code> which provides a much better performance as using the <code>lower()</code> function none of the provided solution solves the issue properly.</p>\n\n<p>A solution can be a custom function. </p>\n\n<p>The HQL query you are writing is:</p>\n\n<pre><code>SELECT * FROM User WHERE (function('caseInSensitiveMatching', name, '%test%')) = true\n</code></pre>\n\n<p>Where the <code>caseInSensitiveMatching</code> is the function name of our custom function. The <code>name</code> is the path to the property which you want to compare with and the <code>%test%</code> is the pattern which you want to match it against.</p>\n\n<p>The goal is to convert the HQL query into the following SQL query:</p>\n\n<pre><code>SELECT * FROM User WHERE (name ilike '%test%') = true\n</code></pre>\n\n<p>To achieve this we have to implement our own dialect with our custom function registered:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public class CustomPostgreSQL9Dialect extends PostgreSQL9Dialect {\n        /**\n         * Default constructor.\n         */\n        public CustomPostgreSQL9Dialect() {\n            super();\n            registerFunction(\"caseInSensitiveMatching\", new CaseInSensitiveMatchingSqlFunction());\n        }\n\n        private class CaseInSensitiveMatchingSqlFunction implements SQLFunction {\n\n            @Override\n            public boolean hasArguments() {\n                return true;\n            }\n\n            @Override\n            public boolean hasParenthesesIfNoArguments() {\n                return true;\n            }\n\n            @Override\n            public Type getReturnType(Type firstArgumentType, Mapping mapping) throws QueryException {\n                return StandardBasicTypes.BOOLEAN;\n            }\n\n            @Override\n            public String render(Type firstArgumentType, @SuppressWarnings(\"rawtypes\") List arguments,\n                    SessionFactoryImplementor factory) throws QueryException {\n\n                if (arguments.size() != 2) {\n                    throw new IllegalStateException(\n                            \"The 'caseInSensitiveMatching' function requires exactly two arguments.\");\n                }\n\n                StringBuilder buffer = new StringBuilder();\n\n                buffer.append(\"(\").append(arguments.get(0)).append(\" ilike \").append(arguments.get(1)).append(\")\");\n\n                return buffer.toString();\n            }\n\n        }\n\n    }\n</code></pre>\n\n<p>The above optimization produced in our situation a performance improvement of a factor of 40 compared to the version with the <code>lower</code> function as Postgres could leverage the index on the corresponding column. In our situation the query execution time could be reduced from 4.5 seconds to 100 ms.</p>\n\n<p>The <code>lower</code> prevents an efficient usage of the index and as such it is much slower.</p>\n"},{"tags":[],"owner":{"account_id":21426902,"reputation":21,"user_id":15784071,"display_name":"Danny Gr&#228;f"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619607927,"creation_date":1619607927,"answer_id":67299032,"question_id":4580285,"body_markdown":"to use the [approach of Thomas Hunziker][1] with the criteria builder of hibernate you can provide a specific predicate implementation like the following\r\n\r\n\r\n```java\r\npublic class ILikePredicate extends AbstractSimplePredicate implements Serializable {\r\n\r\n    private final Expression&lt;String&gt; matchExpression;\r\n\r\n    private final Expression&lt;String&gt; pattern;\r\n\r\n    public ILikePredicate(\r\n        CriteriaBuilderImpl criteriaBuilder,\r\n        Expression&lt;String&gt; matchExpression,\r\n        Expression&lt;String&gt; pattern) {\r\n        super(criteriaBuilder);\r\n        this.matchExpression = matchExpression;\r\n        this.pattern = pattern;\r\n    }\r\n\r\n    public ILikePredicate(\r\n        CriteriaBuilderImpl criteriaBuilder,\r\n        Expression&lt;String&gt; matchExpression,\r\n        String pattern) {\r\n        this(criteriaBuilder, matchExpression, new LiteralExpression&lt;&gt;(criteriaBuilder, pattern));\r\n    }\r\n\r\n    public Expression&lt;String&gt; getMatchExpression() {\r\n        return matchExpression;\r\n    }\r\n\r\n    public Expression&lt;String&gt; getPattern() {\r\n        return pattern;\r\n    }\r\n\r\n    @Override\r\n    public void registerParameters(ParameterRegistry registry) {\r\n        Helper.possibleParameter(getMatchExpression(), registry);\r\n        Helper.possibleParameter(getPattern(), registry);\r\n    }\r\n\r\n    @Override\r\n    public String render(boolean isNegated, RenderingContext renderingContext) {\r\n        String match = ((Renderable) getMatchExpression()).render(renderingContext);\r\n        String pattern = ((Renderable) getPattern()).render(renderingContext);\r\n        return String.format(&quot;function(&#39;caseInSensitiveMatching&#39;, %s, %s) = %s&quot;, match, pattern, !isNegated);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62402298","title":"JPA2: Case-insensitive like matching anywhere","body":"<p>to use the <a href=\"https://stackoverflow.com/a/62402298\">approach of Thomas Hunziker</a> with the criteria builder of hibernate you can provide a specific predicate implementation like the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ILikePredicate extends AbstractSimplePredicate implements Serializable {\n\n    private final Expression&lt;String&gt; matchExpression;\n\n    private final Expression&lt;String&gt; pattern;\n\n    public ILikePredicate(\n        CriteriaBuilderImpl criteriaBuilder,\n        Expression&lt;String&gt; matchExpression,\n        Expression&lt;String&gt; pattern) {\n        super(criteriaBuilder);\n        this.matchExpression = matchExpression;\n        this.pattern = pattern;\n    }\n\n    public ILikePredicate(\n        CriteriaBuilderImpl criteriaBuilder,\n        Expression&lt;String&gt; matchExpression,\n        String pattern) {\n        this(criteriaBuilder, matchExpression, new LiteralExpression&lt;&gt;(criteriaBuilder, pattern));\n    }\n\n    public Expression&lt;String&gt; getMatchExpression() {\n        return matchExpression;\n    }\n\n    public Expression&lt;String&gt; getPattern() {\n        return pattern;\n    }\n\n    @Override\n    public void registerParameters(ParameterRegistry registry) {\n        Helper.possibleParameter(getMatchExpression(), registry);\n        Helper.possibleParameter(getPattern(), registry);\n    }\n\n    @Override\n    public String render(boolean isNegated, RenderingContext renderingContext) {\n        String match = ((Renderable) getMatchExpression()).render(renderingContext);\n        String pattern = ((Renderable) getPattern()).render(renderingContext);\n        return String.format(&quot;function('caseInSensitiveMatching', %s, %s) = %s&quot;, match, pattern, !isNegated);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646140867,"creation_date":1646140477,"answer_id":71309038,"question_id":4580285,"body_markdown":"As [weltraumpirat][1] answer, in short for each desired field on your **Root** add the following **Predicate** to your predicate list\r\n\r\n\r\n    criteriaBuilder.like(criteriaBuilder.lower(root.get(&lt;desired field on your root&gt;)), &quot;%&quot; + text.toLowerCase(Locale.ROOT) + &quot;%&quot;)\r\n\r\n\r\nThen obtain **TypedQuery** with desired OR-AND as follow\r\n\r\n    entityManager.createQuery(criteriaQuery.where(criteriaBuilder.and(predicateList.toArray(new Predicate[]{}))));\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/547122/weltraumpirat","title":"JPA2: Case-insensitive like matching anywhere","body":"<p>As <a href=\"https://stackoverflow.com/users/547122/weltraumpirat\">weltraumpirat</a> answer, in short for each desired field on your <strong>Root</strong> add the following <strong>Predicate</strong> to your predicate list</p>\n<pre><code>criteriaBuilder.like(criteriaBuilder.lower(root.get(&lt;desired field on your root&gt;)), &quot;%&quot; + text.toLowerCase(Locale.ROOT) + &quot;%&quot;)\n</code></pre>\n<p>Then obtain <strong>TypedQuery</strong> with desired OR-AND as follow</p>\n<pre><code>entityManager.createQuery(criteriaQuery.where(criteriaBuilder.and(predicateList.toArray(new Predicate[]{}))));\n</code></pre>\n"}],"owner":{"account_id":39749,"reputation":6764,"user_id":114804,"accept_rate":100,"display_name":"Gaim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104805,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":4591615,"answer_count":9,"score":67,"last_activity_date":1646140867,"creation_date":1293999251,"question_id":4580285,"body_markdown":"I have been using Hibernate Restrictions in JPA 1.0 ( Hibernate driver ). There is defined `Restrictions.ilike(&quot;column&quot;,&quot;keyword&quot;, MatchMode.ANYWHERE)` which tests if the keyword matching the column anywhere and it is case-insensitive. \r\n\r\nNow, I am using JPA 2.0 with EclipseLink as driver so I have to use &quot;Restrictions&quot; build-in JPA 2.0. I found `CriteriaBuilder` and method `like`, I have also found out how to make it matching anywhere ( although it is aweful and manual ), but still I haven&#39;t figured out how to do it case-insensitive.\r\n\r\nThere is my current aweful solution:\r\n\r\n    CriteriaBuilder builder = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;User&gt; query = builder.createQuery(User.class);\r\n    EntityType&lt;User&gt; type = em.getMetamodel().entity(User.class);\r\n    Root&lt;User&gt; root = query.from(User.class);\r\n   \r\n    // Where   \r\n    // important passage of code for question  \r\n    query.where(builder.or(builder.like(root.get(type.getDeclaredSingularAttribute(&quot;username&quot;, String.class)), &quot;%&quot; + keyword + &quot;%&quot;),\r\n            builder.like(root.get(type.getDeclaredSingularAttribute(&quot;firstname&quot;, String.class)), &quot;%&quot; + keyword + &quot;%&quot;),\r\n            builder.like(root.get(type.getDeclaredSingularAttribute(&quot;lastname&quot;, String.class)), &quot;%&quot; + keyword + &quot;%&quot;)\r\n            ));\r\n\r\n    // Order By\r\n    query.orderBy(builder.asc(root.get(&quot;lastname&quot;)),\r\n                builder.asc(root.get(&quot;firstname&quot;)));\r\n\r\n    // Execute\r\n    return em.createQuery(query).\r\n                setMaxResults(PAGE_SIZE + 1).\r\n                setFirstResult((page - 1) * PAGE_SIZE).\r\n                getResultList();\r\n\r\n**Questions:**\r\n\r\nIs there any function like in Hibernate driver? \r\n\r\nAm I using the JPA 2.0 criteria correctly? This is awkward and uncomfortable solution in compare to Hibernate Restrictions.\r\n\r\nOr can anybody help me how to change my solution to be case-insensitive, please?\r\n\r\nThanks a lot.\r\n","title":"JPA2: Case-insensitive like matching anywhere","body":"<p>I have been using Hibernate Restrictions in JPA 1.0 ( Hibernate driver ). There is defined <code>Restrictions.ilike(\"column\",\"keyword\", MatchMode.ANYWHERE)</code> which tests if the keyword matching the column anywhere and it is case-insensitive. </p>\n\n<p>Now, I am using JPA 2.0 with EclipseLink as driver so I have to use \"Restrictions\" build-in JPA 2.0. I found <code>CriteriaBuilder</code> and method <code>like</code>, I have also found out how to make it matching anywhere ( although it is aweful and manual ), but still I haven't figured out how to do it case-insensitive.</p>\n\n<p>There is my current aweful solution:</p>\n\n<pre><code>CriteriaBuilder builder = em.getCriteriaBuilder();\nCriteriaQuery&lt;User&gt; query = builder.createQuery(User.class);\nEntityType&lt;User&gt; type = em.getMetamodel().entity(User.class);\nRoot&lt;User&gt; root = query.from(User.class);\n\n// Where   \n// important passage of code for question  \nquery.where(builder.or(builder.like(root.get(type.getDeclaredSingularAttribute(\"username\", String.class)), \"%\" + keyword + \"%\"),\n        builder.like(root.get(type.getDeclaredSingularAttribute(\"firstname\", String.class)), \"%\" + keyword + \"%\"),\n        builder.like(root.get(type.getDeclaredSingularAttribute(\"lastname\", String.class)), \"%\" + keyword + \"%\")\n        ));\n\n// Order By\nquery.orderBy(builder.asc(root.get(\"lastname\")),\n            builder.asc(root.get(\"firstname\")));\n\n// Execute\nreturn em.createQuery(query).\n            setMaxResults(PAGE_SIZE + 1).\n            setFirstResult((page - 1) * PAGE_SIZE).\n            getResultList();\n</code></pre>\n\n<p><strong>Questions:</strong></p>\n\n<p>Is there any function like in Hibernate driver? </p>\n\n<p>Am I using the JPA 2.0 criteria correctly? This is awkward and uncomfortable solution in compare to Hibernate Restrictions.</p>\n\n<p>Or can anybody help me how to change my solution to be case-insensitive, please?</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["java","reflection","annotations"],"comments":[{"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"score":1,"creation_date":1367324470,"post_id":16299717,"comment_id":23333983,"body_markdown":"You can&#39;t instantiate or modify annotations. They already exists when you run the code. You can only retrieve them. Can you give some code examples for what you&#39;re trying to do?","body":"You can&#39;t instantiate or modify annotations. They already exists when you run the code. You can only retrieve them. Can you give some code examples for what you&#39;re trying to do?"},{"owner":{"account_id":2293390,"reputation":8655,"user_id":2015517,"accept_rate":60,"display_name":"Dev Blanked"},"score":0,"creation_date":1367324512,"post_id":16299717,"comment_id":23334003,"body_markdown":"have you tried getAnnotation() available in java.lang.Class/java.lang.reflect.Method","body":"have you tried getAnnotation() available in java.lang.Class/java.lang.reflect.Method"},{"owner":{"account_id":1767985,"reputation":2843,"user_id":1613365,"accept_rate":63,"display_name":"LPD"},"score":2,"creation_date":1367324539,"post_id":16299717,"comment_id":23335384,"body_markdown":"Interesting question. I tried to look around and got these. http://stackoverflow.com/questions/266903/create-annotation-instance-with-defaults-in-java Just look at the first answer by Ralph. I think that should do. http://stackoverflow.com/questions/2786292/is-it-possible-to-instantiate-a-java-annotation-given-a-class-extends-annotati Would this help?","body":"Interesting question. I tried to look around and got these. <a href=\"http://stackoverflow.com/questions/266903/create-annotation-instance-with-defaults-in-java\" title=\"create annotation instance with defaults in java\">stackoverflow.com/questions/266903/&hellip;</a> Just look at the first answer by Ralph. I think that should do. <a href=\"http://stackoverflow.com/questions/2786292/is-it-possible-to-instantiate-a-java-annotation-given-a-class-extends-annotati\" title=\"is it possible to instantiate a java annotation given a class extends annotati\">stackoverflow.com/questions/2786292/&hellip;</a> Would this help?"},{"owner":{"account_id":2289947,"reputation":3522,"user_id":2013044,"accept_rate":60,"display_name":"prasanth"},"score":0,"creation_date":1367324582,"post_id":16299717,"comment_id":23334048,"body_markdown":"Have you tried getClass().getAnnotations()?","body":"Have you tried getClass().getAnnotations()?"},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":1,"creation_date":1367324728,"post_id":16299717,"comment_id":23334118,"body_markdown":"I am not trying to check if a class is annotated with a certain annotation. This part of the injection I have already implemented using reflection. I have a corner case, where I have to add a `MyAnnotation` to a `Set&lt;MyAnnotation&gt;` and I don&#39;t have an instance of the annotation.","body":"I am not trying to check if a class is annotated with a certain annotation. This part of the injection I have already implemented using reflection. I have a corner case, where I have to add a <code>MyAnnotation</code> to a <code>Set&lt;MyAnnotation&gt;</code> and I don&#39;t have an instance of the annotation."},{"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"score":0,"creation_date":1367324897,"post_id":16299717,"comment_id":23334212,"body_markdown":"Seeing some code explaining the corner case would help.","body":"Seeing some code explaining the corner case would help."},{"owner":{"account_id":1767985,"reputation":2843,"user_id":1613365,"accept_rate":63,"display_name":"LPD"},"score":0,"creation_date":1367326499,"post_id":16299717,"comment_id":23335386,"body_markdown":"Looks like that. Not very sure tho..","body":"Looks like that. Not very sure tho.."}],"answers":[{"tags":[],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"down_vote_count":3,"up_vote_count":106,"is_accepted":true,"score":103,"last_activity_date":1396524590,"creation_date":1367333986,"answer_id":16303007,"question_id":16299717,"body_markdown":"Well, it&#39;s apparently nothing all that complicated. ***Really!***\r\n\r\nAs pointed out by a colleague, you can simply create an anonymous instance of the annotation (like any interface) like this:\r\n\r\n\r\nMyAnnotation:\r\n\r\n\r\n    public @interface MyAnnotation\r\n    {\r\n    \r\n        String foo();\r\n    \r\n    }\r\n\r\n\r\nInvoking code:\r\n\r\n    class MyApp\r\n    {\r\n        MyAnnotation getInstanceOfAnnotation(final String foo)\r\n        {\r\n            MyAnnotation annotation = new MyAnnotation()\r\n            {\r\n                @Override\r\n                public String foo()\r\n                {\r\n                    return foo;\r\n                }\r\n\r\n                @Override\r\n                public Class&lt;? extends Annotation&gt; annotationType()\r\n                {\r\n                    return MyAnnotation.class;\r\n                }\r\n            };\r\n            \r\n            return annotation;\r\n        }\r\n    }\r\n\r\nCredits to [Martin Grigorov][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/497381/martin-g","title":"How to create an instance of an annotation","body":"<p>Well, it's apparently nothing all that complicated. <strong><em>Really!</em></strong></p>\n\n<p>As pointed out by a colleague, you can simply create an anonymous instance of the annotation (like any interface) like this:</p>\n\n<p>MyAnnotation:</p>\n\n<pre><code>public @interface MyAnnotation\n{\n\n    String foo();\n\n}\n</code></pre>\n\n<p>Invoking code:</p>\n\n<pre><code>class MyApp\n{\n    MyAnnotation getInstanceOfAnnotation(final String foo)\n    {\n        MyAnnotation annotation = new MyAnnotation()\n        {\n            @Override\n            public String foo()\n            {\n                return foo;\n            }\n\n            @Override\n            public Class&lt;? extends Annotation&gt; annotationType()\n            {\n                return MyAnnotation.class;\n            }\n        };\n\n        return annotation;\n    }\n}\n</code></pre>\n\n<p>Credits to <a href=\"https://stackoverflow.com/users/497381/martin-g\">Martin Grigorov</a>.</p>\n"},{"tags":[],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1575464893,"creation_date":1367441882,"answer_id":16326389,"question_id":16299717,"body_markdown":"You could use an annotation proxy such as [this one][1] from the Hibernate Validator project (disclaimer: I&#39;m a committer of this project).\r\n\r\n  [1]: https://github.com/hibernate/hibernate-validator/blob/master/engine/src/main/java/org/hibernate/validator/internal/util/annotation/AnnotationProxy.java","title":"How to create an instance of an annotation","body":"<p>You could use an annotation proxy such as <a href=\"https://github.com/hibernate/hibernate-validator/blob/master/engine/src/main/java/org/hibernate/validator/internal/util/annotation/AnnotationProxy.java\" rel=\"nofollow noreferrer\">this one</a> from the Hibernate Validator project (disclaimer: I'm a committer of this project).</p>\n"},{"tags":[],"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1470662345,"creation_date":1470662345,"answer_id":38830295,"question_id":16299717,"body_markdown":"You can use `sun.reflect.annotation.AnnotationParser.annotationForMap(Class, Map)`:\r\n\r\n    public @interface MyAnnotation {\r\n        String foo();\r\n    }\r\n\r\n    public class MyApp {\r\n        public MyAnnotation getInstanceOfAnnotation(final String foo) {\r\n            MyAnnotation annotation = AnnotationParser.annotationForMap(\r\n                MyAnnotation.class, Collections.singletonMap(&quot;foo&quot;, &quot;myFooResult&quot;));\r\n        }\r\n    }\r\n\r\nDownside: Classes from `sun.*` are subject to change in later versions (allthough this method exists since Java 5 with the same signature) and are not available for all Java implementations, see [this discussion](https://stackoverflow.com/questions/1834826/it-is-a-bad-practice-to-use-suns-proprietary-java-classes). \r\n\r\nIf that is a problem: you could create a generic proxy with your own `InvocationHandler` - this is exactly what `AnnotationParser` is doing for you internally. Or you use your own implementation of `MyAnnotation` as defined [here](/questions/16299717/how-to-create-an-instance-of-an-annotation#16303007). In both cases you should remember to implement `annotationType()`, `equals()` and `hashCode()` as the result is documented specifically for `java.lang.Annotation`.\r\n","title":"How to create an instance of an annotation","body":"<p>You can use <code>sun.reflect.annotation.AnnotationParser.annotationForMap(Class, Map)</code>:</p>\n\n<pre><code>public @interface MyAnnotation {\n    String foo();\n}\n\npublic class MyApp {\n    public MyAnnotation getInstanceOfAnnotation(final String foo) {\n        MyAnnotation annotation = AnnotationParser.annotationForMap(\n            MyAnnotation.class, Collections.singletonMap(\"foo\", \"myFooResult\"));\n    }\n}\n</code></pre>\n\n<p>Downside: Classes from <code>sun.*</code> are subject to change in later versions (allthough this method exists since Java 5 with the same signature) and are not available for all Java implementations, see <a href=\"https://stackoverflow.com/questions/1834826/it-is-a-bad-practice-to-use-suns-proprietary-java-classes\">this discussion</a>. </p>\n\n<p>If that is a problem: you could create a generic proxy with your own <code>InvocationHandler</code> - this is exactly what <code>AnnotationParser</code> is doing for you internally. Or you use your own implementation of <code>MyAnnotation</code> as defined <a href=\"/questions/16299717/how-to-create-an-instance-of-an-annotation#16303007\">here</a>. In both cases you should remember to implement <code>annotationType()</code>, <code>equals()</code> and <code>hashCode()</code> as the result is documented specifically for <code>java.lang.Annotation</code>.</p>\n"},{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1623681639,"creation_date":1493050738,"answer_id":43593174,"question_id":16299717,"body_markdown":"The proxy approach, as suggested in [Gunnar&#39;s answer][1] is already implemented in [GeantyRef][2]:\r\n\r\n    Map&lt;String, Object&gt; annotationParameters = new HashMap&lt;&gt;();\r\n    annotationParameters.put(&quot;name&quot;, &quot;someName&quot;);\r\n    MyAnnotation myAnnotation = TypeFactory.annotation(MyAnnotation.class, annotationParameters);\r\n\r\nThis will produce an annotation equivalent to what you&#39;d get from:\r\n\r\n    @MyAnnotation(name = &quot;someName&quot;)\r\n\r\nAnnotation instances produced this way will act identical to the ones produced by Java normally, and their `hashCode` and `equals` have been implemented properly for compatibility, so no bizarre caveats like with directly instantiating the annotation as in the accepted answer. In fact, JDK internally uses this same approach: [sun.reflect.annotation.AnnotationParser#annotationForMap][3].\r\n\r\nThe library itself is tiny and has no dependencies (and does not rely on JDK internal APIs).\r\n\r\n**Disclosure:** I&#39;m the developer behind GeantyRef.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16326389/294657\r\n  [2]: https://github.com/leangen/geantyref#creating-annotated-types-dynamically-using-typefactory\r\n  [3]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/sun/reflect/annotation/AnnotationParser.java#l255","title":"How to create an instance of an annotation","body":"<p>The proxy approach, as suggested in <a href=\"https://stackoverflow.com/a/16326389/294657\">Gunnar's answer</a> is already implemented in <a href=\"https://github.com/leangen/geantyref#creating-annotated-types-dynamically-using-typefactory\" rel=\"nofollow noreferrer\">GeantyRef</a>:</p>\n<pre><code>Map&lt;String, Object&gt; annotationParameters = new HashMap&lt;&gt;();\nannotationParameters.put(&quot;name&quot;, &quot;someName&quot;);\nMyAnnotation myAnnotation = TypeFactory.annotation(MyAnnotation.class, annotationParameters);\n</code></pre>\n<p>This will produce an annotation equivalent to what you'd get from:</p>\n<pre><code>@MyAnnotation(name = &quot;someName&quot;)\n</code></pre>\n<p>Annotation instances produced this way will act identical to the ones produced by Java normally, and their <code>hashCode</code> and <code>equals</code> have been implemented properly for compatibility, so no bizarre caveats like with directly instantiating the annotation as in the accepted answer. In fact, JDK internally uses this same approach: <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/sun/reflect/annotation/AnnotationParser.java#l255\" rel=\"nofollow noreferrer\">sun.reflect.annotation.AnnotationParser#annotationForMap</a>.</p>\n<p>The library itself is tiny and has no dependencies (and does not rely on JDK internal APIs).</p>\n<p><strong>Disclosure:</strong> I'm the developer behind GeantyRef.</p>\n"},{"tags":[],"owner":{"account_id":324062,"reputation":2846,"user_id":644438,"display_name":"oujesky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565086708,"creation_date":1565085608,"answer_id":57373532,"question_id":16299717,"body_markdown":"Rather crude way using the proxy approach with the help of Apache Commons [AnnotationUtils][1]\r\n\r\n    public static &lt;A extends Annotation&gt; A mockAnnotation(Class&lt;A&gt; annotationClass, Map&lt;String, Object&gt; properties) {\r\n        return (A) Proxy.newProxyInstance(annotationClass.getClassLoader(), new Class&lt;?&gt;[] { annotationClass }, (proxy, method, args) -&gt; {\r\n            Annotation annotation = (Annotation) proxy;\r\n            String methodName = method.getName();\r\n\r\n            switch (methodName) {\r\n                case &quot;toString&quot;:\r\n                    return AnnotationUtils.toString(annotation);\r\n                case &quot;hashCode&quot;:\r\n                    return AnnotationUtils.hashCode(annotation);\r\n                case &quot;equals&quot;:\r\n                    return AnnotationUtils.equals(annotation, (Annotation) args[0]);\r\n                case &quot;annotationType&quot;:\r\n                    return annotationClass;\r\n                default:\r\n                    if (!properties.containsKey(methodName)) {\r\n                        throw new NoSuchMethodException(String.format(&quot;Missing value for mocked annotation property &#39;%s&#39;. Pass the correct value in the &#39;properties&#39; parameter&quot;, methodName));\r\n                    }\r\n                    return properties.get(methodName);\r\n            }\r\n        });\r\n    }\r\n\r\nThe types of passed properties are not checked with the actual type declared on the annotation interface and any missing values are discovered only during runtime.\r\n\r\nPretty similar in function to the code mentioned in [kaqqao&#39;s answer][2] (and probably [Gunnar&#39;s Answer][3] as well), without the downsides of using internal Java API as in [Tobias Liefke&#39;s answer.][4]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/AnnotationUtils.html\r\n  [2]: https://stackoverflow.com/a/43593174/644438\r\n  [3]: https://stackoverflow.com/a/16326389/644438\r\n  [4]: https://stackoverflow.com/a/38830295/644438","title":"How to create an instance of an annotation","body":"<p>Rather crude way using the proxy approach with the help of Apache Commons <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/AnnotationUtils.html\" rel=\"nofollow noreferrer\">AnnotationUtils</a></p>\n\n<pre><code>public static &lt;A extends Annotation&gt; A mockAnnotation(Class&lt;A&gt; annotationClass, Map&lt;String, Object&gt; properties) {\n    return (A) Proxy.newProxyInstance(annotationClass.getClassLoader(), new Class&lt;?&gt;[] { annotationClass }, (proxy, method, args) -&gt; {\n        Annotation annotation = (Annotation) proxy;\n        String methodName = method.getName();\n\n        switch (methodName) {\n            case \"toString\":\n                return AnnotationUtils.toString(annotation);\n            case \"hashCode\":\n                return AnnotationUtils.hashCode(annotation);\n            case \"equals\":\n                return AnnotationUtils.equals(annotation, (Annotation) args[0]);\n            case \"annotationType\":\n                return annotationClass;\n            default:\n                if (!properties.containsKey(methodName)) {\n                    throw new NoSuchMethodException(String.format(\"Missing value for mocked annotation property '%s'. Pass the correct value in the 'properties' parameter\", methodName));\n                }\n                return properties.get(methodName);\n        }\n    });\n}\n</code></pre>\n\n<p>The types of passed properties are not checked with the actual type declared on the annotation interface and any missing values are discovered only during runtime.</p>\n\n<p>Pretty similar in function to the code mentioned in <a href=\"https://stackoverflow.com/a/43593174/644438\">kaqqao's answer</a> (and probably <a href=\"https://stackoverflow.com/a/16326389/644438\">Gunnar's Answer</a> as well), without the downsides of using internal Java API as in <a href=\"https://stackoverflow.com/a/38830295/644438\">Tobias Liefke's answer.</a></p>\n"},{"tags":[],"owner":{"account_id":3649743,"reputation":1729,"user_id":3042207,"accept_rate":42,"display_name":"Fabrizio Stellato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581422558,"creation_date":1581422558,"answer_id":60168366,"question_id":16299717,"body_markdown":"I did this for adding annotation reference on my weld unit test:\r\n\r\n\r\n\t@Qualifier\r\n\t@Retention(RetentionPolicy.RUNTIME)\r\n\t@Target({ METHOD, FIELD, PARAMETER })\r\n\tpublic @interface AuthenticatedUser {\r\n\r\n\t\tString value() default &quot;foo&quot;;\r\n\r\n\t\t@SuppressWarnings(&quot;all&quot;)\r\n\t\tstatic class Literal extends AnnotationLiteral&lt;AuthenticatedUser&gt; implements AuthenticatedUser {\r\n\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\tpublic static final AuthenticatedUser INSTANCE = new Literal();\r\n\r\n\t\t\tprivate Literal() {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String value() {\r\n\t\t\t\treturn &quot;foo&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nusage:\r\n\r\n\tBean&lt;?&gt; createUserInfo() {\r\n        return MockBean.builder()\r\n                .types(UserInfo.class)\r\n                .qualifiers(AuthenticatedUser.Literal.INSTANCE)\r\n                .create((o) -&gt; new UserInfo())\r\n                .build();\r\n    }","title":"How to create an instance of an annotation","body":"<p>I did this for adding annotation reference on my weld unit test:</p>\n\n<pre><code>@Qualifier\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ METHOD, FIELD, PARAMETER })\npublic @interface AuthenticatedUser {\n\n    String value() default \"foo\";\n\n    @SuppressWarnings(\"all\")\n    static class Literal extends AnnotationLiteral&lt;AuthenticatedUser&gt; implements AuthenticatedUser {\n\n        private static final long serialVersionUID = 1L;\n\n        public static final AuthenticatedUser INSTANCE = new Literal();\n\n        private Literal() {\n        }\n\n        @Override\n        public String value() {\n            return \"foo\";\n        }\n    }\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>Bean&lt;?&gt; createUserInfo() {\n    return MockBean.builder()\n            .types(UserInfo.class)\n            .qualifiers(AuthenticatedUser.Literal.INSTANCE)\n            .create((o) -&gt; new UserInfo())\n            .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1231014,"reputation":594,"user_id":1195605,"display_name":"Ravi Sanwal"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1590879334,"creation_date":1590879334,"answer_id":62109608,"question_id":16299717,"body_markdown":"You can also absolutely stupidly (but simply) create a dummy annotation target and get it from there\r\n\r\n    @MyAnnotation(foo=&quot;bar&quot;, baz=Blah.class)\r\n    private static class Dummy {}\r\n\r\nAnd\r\n\r\n    final MyAnnotation annotation = Dummy.class.getAnnotation(MyAnnotation.class)\r\n\r\nCreating method/parameter targeted annotation instances may be a little more elaborate, but this approach has the benefit of getting the annotation instance as the JVM would normally do.\r\nNeedless to say it is as simple as it can get.","title":"How to create an instance of an annotation","body":"<p>You can also absolutely stupidly (but simply) create a dummy annotation target and get it from there</p>\n\n<pre><code>@MyAnnotation(foo=\"bar\", baz=Blah.class)\nprivate static class Dummy {}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>final MyAnnotation annotation = Dummy.class.getAnnotation(MyAnnotation.class)\n</code></pre>\n\n<p>Creating method/parameter targeted annotation instances may be a little more elaborate, but this approach has the benefit of getting the annotation instance as the JVM would normally do.\nNeedless to say it is as simple as it can get.</p>\n"},{"tags":[],"owner":{"account_id":5333747,"reputation":1657,"user_id":4253536,"accept_rate":82,"display_name":"Nick Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602663737,"creation_date":1602663737,"answer_id":64349318,"question_id":16299717,"body_markdown":"@Gunnar&#39;s answer is the simplest way for most webservice as we already got hibernate,\r\nfor example\r\n`KafkaListener kafkaListener = new org.hibernate.validator.internal.util.annotation.AnnotationDescriptor.Builder&lt;&gt;(KafkaListener.class, ImmutableMap.of(&quot;topics&quot;, new String[]{&quot;my-topic&quot;})).build().getAnnotation();` and all other properties will stay default.\r\n","title":"How to create an instance of an annotation","body":"<p>@Gunnar's answer is the simplest way for most webservice as we already got hibernate,\nfor example\n<code>KafkaListener kafkaListener = new org.hibernate.validator.internal.util.annotation.AnnotationDescriptor.Builder&lt;&gt;(KafkaListener.class, ImmutableMap.of(&quot;topics&quot;, new String[]{&quot;my-topic&quot;})).build().getAnnotation();</code> and all other properties will stay default.</p>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629312564,"creation_date":1629312564,"answer_id":68837852,"question_id":16299717,"body_markdown":"Take a look at [AnnoBuilder](https://github.com/zhong-j-yu/rekex/blob/main/rekex-common_util/src/main/java/org/rekex/common_util/AnnoBuilder.java). The nice thing is that it can use *method reference* instead of name of an attribute\r\n\r\n    @interface Foo\r\n    {\r\n        String value();\r\n        int[] flags() default {0};\r\n    }\r\n\r\n    //test\r\n\r\n        // @Foo(value=&quot;abc&quot;, flags={1})\r\n        Foo foo1 = AnnoBuilder.of(Foo.class)\r\n            .def(Foo::value, &quot;abc&quot;)\r\n            .def(Foo::flags, 1)\r\n            .build();\r\n\r\n        // @Foo(value=&quot;abc&quot;)\r\n        Foo foo2 = AnnoBuilder.build(Foo.class, Foo::value, &quot;abc&quot;);\r\n\r\n        // @Foo(&quot;abc&quot;)\r\n        Foo foo3 = AnnoBuilder.build(Foo.class, &quot;abc&quot;);\r\n","title":"How to create an instance of an annotation","body":"<p>Take a look at <a href=\"https://github.com/zhong-j-yu/rekex/blob/main/rekex-common_util/src/main/java/org/rekex/common_util/AnnoBuilder.java\" rel=\"nofollow noreferrer\">AnnoBuilder</a>. The nice thing is that it can use <em>method reference</em> instead of name of an attribute</p>\n<pre><code>@interface Foo\n{\n    String value();\n    int[] flags() default {0};\n}\n\n//test\n\n    // @Foo(value=&quot;abc&quot;, flags={1})\n    Foo foo1 = AnnoBuilder.of(Foo.class)\n        .def(Foo::value, &quot;abc&quot;)\n        .def(Foo::flags, 1)\n        .build();\n\n    // @Foo(value=&quot;abc&quot;)\n    Foo foo2 = AnnoBuilder.build(Foo.class, Foo::value, &quot;abc&quot;);\n\n    // @Foo(&quot;abc&quot;)\n    Foo foo3 = AnnoBuilder.build(Foo.class, &quot;abc&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646140780,"creation_date":1646140780,"answer_id":71309104,"question_id":16299717,"body_markdown":"Using `hibernate-commons-annotations`:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- --&gt;\r\n\r\n    public final class Utils {\r\n        public static &lt;T extends Annotation&gt; T newAnnotation(Class&lt;? extends Annotation&gt; annotationType, Map&lt;String, Object&gt; annotationParams) {\r\n            var annotationDescriptor = new AnnotationDescriptor(annotationType);\r\n            annotationParams.forEach(annotationDescriptor::setValue);\r\n            return AnnotationFactory.create(annotationDescriptor);\r\n        }\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    var annotation = Utils.&lt;Length&gt;newAnnotation(Length.class, Map.of(&quot;min&quot;, 1, &quot;max&quot;, 10));","title":"How to create an instance of an annotation","body":"<p>Using <code>hibernate-commons-annotations</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\n    &lt;version&gt;5.1.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<pre><code>public final class Utils {\n    public static &lt;T extends Annotation&gt; T newAnnotation(Class&lt;? extends Annotation&gt; annotationType, Map&lt;String, Object&gt; annotationParams) {\n        var annotationDescriptor = new AnnotationDescriptor(annotationType);\n        annotationParams.forEach(annotationDescriptor::setValue);\n        return AnnotationFactory.create(annotationDescriptor);\n    }\n}\n</code></pre>\n\n<pre><code>var annotation = Utils.&lt;Length&gt;newAnnotation(Length.class, Map.of(&quot;min&quot;, 1, &quot;max&quot;, 10));\n</code></pre>\n"}],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48630,"favorite_count":0,"down_vote_count":1,"up_vote_count":79,"accepted_answer_id":16303007,"answer_count":10,"score":78,"last_activity_date":1646140780,"creation_date":1367324243,"question_id":16299717,"body_markdown":"I am trying to do some Java annotation magic. I must say I am still catching up on annotation tricks and that certain things are still not quite clear to me.\r\n\r\nSo... I have some annotated classes, methods and fields. I have a method, which uses reflection to run some checks on the classes and inject some values into a class. This all works fine.\r\n\r\nHowever, I am now facing a case where I need an instance (so to say) of an annotation. So... annotations aren&#39;t like regular interfaces and you can&#39;t do an anonymous implementation of a class. I get it. I have looked around some posts here regarding similar problems, but I can&#39;t seem to be able to find the answer to what I am looking for.\r\n\r\nI would basically like to get and instance of an annotation and be able to set some of it&#39;s fields using reflection (I suppose). Is there at all a way to do this?\r\n\r\n\r\n","title":"How to create an instance of an annotation","body":"<p>I am trying to do some Java annotation magic. I must say I am still catching up on annotation tricks and that certain things are still not quite clear to me.</p>\n\n<p>So... I have some annotated classes, methods and fields. I have a method, which uses reflection to run some checks on the classes and inject some values into a class. This all works fine.</p>\n\n<p>However, I am now facing a case where I need an instance (so to say) of an annotation. So... annotations aren't like regular interfaces and you can't do an anonymous implementation of a class. I get it. I have looked around some posts here regarding similar problems, but I can't seem to be able to find the answer to what I am looking for.</p>\n\n<p>I would basically like to get and instance of an annotation and be able to set some of it's fields using reflection (I suppose). Is there at all a way to do this?</p>\n"},{"tags":["java","spring-boot","spring-security","http-status-code-401","spring-boot-2"],"comments":[{"owner":{"account_id":5203808,"reputation":632,"user_id":4179032,"display_name":"Leponzo"},"score":0,"creation_date":1646131826,"post_id":49241384,"comment_id":126043055,"body_markdown":"Does this answer your question? [Spring Security anonymous 401 instead of 403](https://stackoverflow.com/questions/30643029/spring-security-anonymous-401-instead-of-403)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30643029/spring-security-anonymous-401-instead-of-403\">Spring Security anonymous 401 instead of 403</a>"},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1646139938,"post_id":49241384,"comment_id":126045602,"body_markdown":"@Leponzo, thanks for pointing this out. I think it shouldn&#39;t be considered a duplicate and added a comment on the original post explaining why -- for future readers. I did find an answer (https://stackoverflow.com/a/52986942/5640649) very similar to the one I posted below -- but it was actually posted after mine :) ... anyways, in a broader scope, I think they&#39;re different questions.","body":"@Leponzo, thanks for pointing this out. I think it shouldn&#39;t be considered a duplicate and added a comment on the original post explaining why -- for future readers. I did find an answer (<a href=\"https://stackoverflow.com/a/52986942/5640649\">stackoverflow.com/a/52986942/5640649</a>) very similar to the one I posted below -- but it was actually posted after mine :) ... anyways, in a broader scope, I think they&#39;re different questions."}],"answers":[{"tags":[],"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1586511953,"creation_date":1520877078,"answer_id":49241557,"question_id":49241384,"body_markdown":"## Heads up\r\n\r\n**By default** Spring Boot 2 will return **`401`** when `spring-boot-starter-security` is added as a dependency and an unauthorized request is performed.\r\n\r\nThis may change if you place some custom configurations to modify the security mechanism behavior. If that&#39;s the case and you truly need to force the `401` status, then read the below original post.\r\n\r\n## Original Post\r\n\r\nThe class `org.springframework.boot.autoconfigure.security.Http401AuthenticationEntryPoint` was removed in favor of `org.springframework.security.web.authentication.HttpStatusEntryPoint`.\r\n\r\nIn my case the code would go like this:\r\n\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            //...\r\n            http.exceptionHandling()\r\n                .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\r\n            //...\r\n        }\r\n    }\r\n\r\n**Bonus**\r\n\r\nIf you need to return some information in the response body or customize the response somehow you can do something like this:\r\n\r\n1- Extend `AuthenticationEntryPoint`\r\n\r\n    public class MyEntryPoint implements AuthenticationEntryPoint {\r\n        private final HttpStatus httpStatus;\r\n        private final Object responseBody;\r\n    \r\n        public MyEntryPoint(HttpStatus httpStatus, Object responseBody) {\r\n            Assert.notNull(httpStatus, &quot;httpStatus cannot be null&quot;);\r\n            Assert.notNull(responseBody, &quot;responseBody cannot be null&quot;);\r\n            this.httpStatus = httpStatus;\r\n            this.responseBody = responseBody;\r\n        }\r\n    \r\n        @Override\r\n        public final void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\r\n            response.setStatus(httpStatus.value());\r\n    \r\n            try (PrintWriter writer = response.getWriter()) {\r\n                writer.print(new ObjectMapper().writeValueAsString(responseBody));\r\n            }\r\n        }\r\n    }\r\n\r\n2- Provide an instance of `MyEntryPoint` to the security configuration\r\n\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            // customize your response body as needed\r\n            Map&lt;String, String&gt; responseBody = new HashMap&lt;&gt;();\r\n            responseBody.put(&quot;error&quot;, &quot;unauthorized&quot;);\r\n \r\n            //...\r\n            http.exceptionHandling()\r\n                .authenticationEntryPoint(new MyEntryPoint(HttpStatus.UNAUTHORIZED, responseBody));\r\n            //...\r\n        }\r\n    }","title":"401 instead of 403 with Spring Boot 2","body":"<h2>Heads up</h2>\n\n<p><strong>By default</strong> Spring Boot 2 will return <strong><code>401</code></strong> when <code>spring-boot-starter-security</code> is added as a dependency and an unauthorized request is performed.</p>\n\n<p>This may change if you place some custom configurations to modify the security mechanism behavior. If that's the case and you truly need to force the <code>401</code> status, then read the below original post.</p>\n\n<h2>Original Post</h2>\n\n<p>The class <code>org.springframework.boot.autoconfigure.security.Http401AuthenticationEntryPoint</code> was removed in favor of <code>org.springframework.security.web.authentication.HttpStatusEntryPoint</code>.</p>\n\n<p>In my case the code would go like this:</p>\n\n<pre><code>public class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        //...\n        http.exceptionHandling()\n            .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\n        //...\n    }\n}\n</code></pre>\n\n<p><strong>Bonus</strong></p>\n\n<p>If you need to return some information in the response body or customize the response somehow you can do something like this:</p>\n\n<p>1- Extend <code>AuthenticationEntryPoint</code></p>\n\n<pre><code>public class MyEntryPoint implements AuthenticationEntryPoint {\n    private final HttpStatus httpStatus;\n    private final Object responseBody;\n\n    public MyEntryPoint(HttpStatus httpStatus, Object responseBody) {\n        Assert.notNull(httpStatus, \"httpStatus cannot be null\");\n        Assert.notNull(responseBody, \"responseBody cannot be null\");\n        this.httpStatus = httpStatus;\n        this.responseBody = responseBody;\n    }\n\n    @Override\n    public final void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\n        response.setStatus(httpStatus.value());\n\n        try (PrintWriter writer = response.getWriter()) {\n            writer.print(new ObjectMapper().writeValueAsString(responseBody));\n        }\n    }\n}\n</code></pre>\n\n<p>2- Provide an instance of <code>MyEntryPoint</code> to the security configuration</p>\n\n<pre><code>public class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // customize your response body as needed\n        Map&lt;String, String&gt; responseBody = new HashMap&lt;&gt;();\n        responseBody.put(\"error\", \"unauthorized\");\n\n        //...\n        http.exceptionHandling()\n            .authenticationEntryPoint(new MyEntryPoint(HttpStatus.UNAUTHORIZED, responseBody));\n        //...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573303913,"creation_date":1539787994,"answer_id":52857800,"question_id":49241384,"body_markdown":"[`Http401AuthenticationEntryPoint`](https://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/api/org/springframework/boot/autoconfigure/security/Http401AuthenticationEntryPoint.html) was removed.\r\n\r\nSee *Spring Boot Github Repo* &gt; Issue [#10715](https://github.com/spring-projects/spring-boot/issues/10715) (Remove Http401AuthenticationEntryPoint):\r\n\r\n&gt; **Remove Http401AuthenticationEntryPoint**\r\n&gt;\r\n&gt; rwinch commented on 20 Oct 2017  \r\n&gt; As far as I can tell it is not being used in the Spring Boot code base, so it might be good to remove `Http401AuthenticationEntryPoint`.\r\n\r\nDepending on your requirements, you could use:\r\n\r\n- [HttpStatusEntryPoint](https://docs.spring.io/spring-security/site/docs/4.2.8.RELEASE/apidocs/org/springframework/security/web/authentication/HttpStatusEntryPoint.html)\r\n- [BasicAuthenticationEntryPoint](https://docs.spring.io/spring-security/site/docs/4.2.8.RELEASE/apidocs/org/springframework/security/web/authentication/www/BasicAuthenticationEntryPoint.html)\r\n\r\n","title":"401 instead of 403 with Spring Boot 2","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/api/org/springframework/boot/autoconfigure/security/Http401AuthenticationEntryPoint.html\" rel=\"nofollow noreferrer\"><code>Http401AuthenticationEntryPoint</code></a> was removed.</p>\n\n<p>See <em>Spring Boot Github Repo</em> > Issue <a href=\"https://github.com/spring-projects/spring-boot/issues/10715\" rel=\"nofollow noreferrer\">#10715</a> (Remove Http401AuthenticationEntryPoint):</p>\n\n<blockquote>\n  <p><strong>Remove Http401AuthenticationEntryPoint</strong></p>\n  \n  <p>rwinch commented on 20 Oct 2017<br>\n  As far as I can tell it is not being used in the Spring Boot code base, so it might be good to remove <code>Http401AuthenticationEntryPoint</code>.</p>\n</blockquote>\n\n<p>Depending on your requirements, you could use:</p>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring-security/site/docs/4.2.8.RELEASE/apidocs/org/springframework/security/web/authentication/HttpStatusEntryPoint.html\" rel=\"nofollow noreferrer\">HttpStatusEntryPoint</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/site/docs/4.2.8.RELEASE/apidocs/org/springframework/security/web/authentication/www/BasicAuthenticationEntryPoint.html\" rel=\"nofollow noreferrer\">BasicAuthenticationEntryPoint</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4196599,"reputation":708,"user_id":3437868,"display_name":"Tai Truong"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1573303786,"creation_date":1540462352,"answer_id":52986779,"question_id":49241384,"body_markdown":"Just to elaborate @lealceldeiro&#39;s answer:\r\n\r\nBefore Spring Boot 2 my Securiy Configuration class looked like this:\r\n\r\n    @Configuration\r\n    public class MyConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Bean\r\n        public Http401AuthenticationEntryPoint securityException401EntryPoint() {\r\n          return new Http401AuthenticationEntryPoint(&quot;Bearer realm=\\&quot;webrealm\\&quot;&quot;);\r\n        }\r\n\r\n        @Autowired\r\n        private Http401AuthenticationEntryPoint authEntrypoint;\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n\r\n          // some http configuration ...\r\n\r\n          // Spring Boot 1.5.x style\r\n          http.exceptionHandling().authenticationEntryPoint(authEntrypoint);\r\n        }\r\n    //...\r\n    }\r\n\r\nAnd now in Spring Boot 2 it looks like this:\r\n\r\n    @Configuration\r\n    public class MyConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        //Bean configuration for Http401AuthenticationEntryPoint can be removed\r\n\r\n        //Autowiring also removed\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n\r\n          // some http configuration ...\r\n\r\n          // Spring Boot 2 style\r\n          http.exceptionHandling().authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\r\n        }\r\n    //...\r\n    }\r\n\r\nSee also this [comment](https://github.com/spring-projects/spring-boot/issues/10715#issuecomment-363592444) in *Spring Boot Github Repo* &gt; *PR Remove Http401AuthenticationEntryPoint*.","title":"401 instead of 403 with Spring Boot 2","body":"<p>Just to elaborate @lealceldeiro's answer:</p>\n\n<p>Before Spring Boot 2 my Securiy Configuration class looked like this:</p>\n\n<pre><code>@Configuration\npublic class MyConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public Http401AuthenticationEntryPoint securityException401EntryPoint() {\n      return new Http401AuthenticationEntryPoint(\"Bearer realm=\\\"webrealm\\\"\");\n    }\n\n    @Autowired\n    private Http401AuthenticationEntryPoint authEntrypoint;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n      // some http configuration ...\n\n      // Spring Boot 1.5.x style\n      http.exceptionHandling().authenticationEntryPoint(authEntrypoint);\n    }\n//...\n}\n</code></pre>\n\n<p>And now in Spring Boot 2 it looks like this:</p>\n\n<pre><code>@Configuration\npublic class MyConfig extends WebSecurityConfigurerAdapter {\n\n    //Bean configuration for Http401AuthenticationEntryPoint can be removed\n\n    //Autowiring also removed\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n      // some http configuration ...\n\n      // Spring Boot 2 style\n      http.exceptionHandling().authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\n    }\n//...\n}\n</code></pre>\n\n<p>See also this <a href=\"https://github.com/spring-projects/spring-boot/issues/10715#issuecomment-363592444\" rel=\"nofollow noreferrer\">comment</a> in <em>Spring Boot Github Repo</em> > <em>PR Remove Http401AuthenticationEntryPoint</em>.</p>\n"},{"tags":[],"owner":{"account_id":2980110,"reputation":9,"user_id":2530251,"display_name":"user2530251"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1572534721,"creation_date":1542187887,"answer_id":53296902,"question_id":49241384,"body_markdown":"You can customize your logic with overriding the class AuthenticationEntryPoint\r\nthis should be working: \r\n\r\n    @Component public class AuthEntryPointException implements AuthenticationEntryPoint, Serializable {\r\n\r\n\t    private static final long serialVersionUID = -8970718410437077606L;\r\n\r\n\t    @Override\r\n\t    public void commence(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\tAuthenticationException authException) throws IOException {\r\n\t\t    response.setStatus(HttpStatus.SC_UNAUTHORIZED);\r\n\t\t    response.setContentType(&quot;application/json&quot;);\r\n\t\t    response.getWriter().write(&quot;{\\&quot;result\\&quot;:\\&quot;UNAUTHORIZED\\&quot;,\\&quot;message\\&quot;:\\&quot;UNAUTHORIZED or Invalid Token\\&quot;}&quot;);\r\n\t    }\r\n    }","title":"401 instead of 403 with Spring Boot 2","body":"<p>You can customize your logic with overriding the class AuthenticationEntryPoint\nthis should be working: </p>\n\n<pre><code>@Component public class AuthEntryPointException implements AuthenticationEntryPoint, Serializable {\n\n    private static final long serialVersionUID = -8970718410437077606L;\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n        AuthenticationException authException) throws IOException {\n        response.setStatus(HttpStatus.SC_UNAUTHORIZED);\n        response.setContentType(\"application/json\");\n        response.getWriter().write(\"{\\\"result\\\":\\\"UNAUTHORIZED\\\",\\\"message\\\":\\\"UNAUTHORIZED or Invalid Token\\\"}\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1605165,"reputation":1630,"user_id":1485401,"accept_rate":91,"display_name":"Roman T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644488179,"creation_date":1644488179,"answer_id":71063290,"question_id":49241384,"body_markdown":"For reactive (WebFlux) stack you can override the returned status code by adding such @Bean to catch some specific exceptions:\r\n\r\n    @Component\r\n    class MyErrorAttributes : DefaultErrorAttributes() {\r\n    override fun getErrorAttributes(\r\n        request: ServerRequest,\r\n        options: ErrorAttributeOptions\r\n    ): MutableMap&lt;String, Any&gt; {\r\n        val cause = super.getError(request)\r\n\r\n        val errorAttributes = super.getErrorAttributes(request, options)\r\n\r\n        when (cause) {\r\n            is TokenExpiredException -&gt; {\r\n                errorAttributes[&quot;status&quot;] = HttpStatus.UNAUTHORIZED.value()\r\n                errorAttributes[&quot;error&quot;] = HttpStatus.UNAUTHORIZED.reasonPhrase\r\n            }\r\n        }\r\n\r\n        return errorAttributes\r\n    }\r\n    }","title":"401 instead of 403 with Spring Boot 2","body":"<p>For reactive (WebFlux) stack you can override the returned status code by adding such @Bean to catch some specific exceptions:</p>\n<pre><code>@Component\nclass MyErrorAttributes : DefaultErrorAttributes() {\noverride fun getErrorAttributes(\n    request: ServerRequest,\n    options: ErrorAttributeOptions\n): MutableMap&lt;String, Any&gt; {\n    val cause = super.getError(request)\n\n    val errorAttributes = super.getErrorAttributes(request, options)\n\n    when (cause) {\n        is TokenExpiredException -&gt; {\n            errorAttributes[&quot;status&quot;] = HttpStatus.UNAUTHORIZED.value()\n            errorAttributes[&quot;error&quot;] = HttpStatus.UNAUTHORIZED.reasonPhrase\n        }\n    }\n\n    return errorAttributes\n}\n}\n</code></pre>\n"}],"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15152,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":49241557,"answer_count":5,"score":18,"last_activity_date":1646139860,"creation_date":1520876436,"question_id":49241384,"body_markdown":"With *[Spring Boot][1] 1.5.6.RELEASE* I was able to send HTTP Status code `401` instead of `403` as described in https://stackoverflow.com/questions/33801468/how-let-spring-security-response-unauthorizedhttp-401-code-if-requesting-uri-w, by doing this:\r\n\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            //...\r\n            http.exceptionHandling()\r\n                    .authenticationEntryPoint(new Http401AuthenticationEntryPoint(&quot;myHeader&quot;));\r\n            //...\r\n        }\r\n    }\r\n\r\nusing the `org.springframework.boot.autoconfigure.security.Http401AuthenticationEntryPoint` class.\r\n\r\nI just upgraded to [*Spring Boot 2.0.0.RELEASE*][2] and found there is not such class any more (at least in that package).\r\n\r\n**Questions:**\r\n\r\n- Does this class (`Http401AuthenticationEntryPoint`) exist yet in Spring Boot?\r\n\r\n- If no, what could be a good alternative for keeping the same behavior in an existing project in order to keep consistency with other implementations which depend on this status code (`401`) instead of `403`?\r\n\r\n\r\n----------\r\n\r\nPlease notice this is different from https://stackoverflow.com/questions/30643029/spring-security-anonymous-401-instead-of-403 because it&#39;s referring specifically to SpringBoot **2** (there are solutions in that post not applicable anymore in SpringBoot version 2 or others are not needed at all)\r\n\r\n  [1]: https://projects.spring.io/spring-boot/\r\n  [2]: https://spring.io/blog/2018/03/01/spring-boot-2-0-goes-ga","title":"401 instead of 403 with Spring Boot 2","body":"<p>With <em><a href=\"https://projects.spring.io/spring-boot/\" rel=\"nofollow noreferrer\">Spring Boot</a> 1.5.6.RELEASE</em> I was able to send HTTP Status code <code>401</code> instead of <code>403</code> as described in <a href=\"https://stackoverflow.com/questions/33801468/how-let-spring-security-response-unauthorizedhttp-401-code-if-requesting-uri-w\">How let spring security response unauthorized(http 401 code) if requesting uri without authentication</a>, by doing this:</p>\n<pre><code>public class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        //...\n        http.exceptionHandling()\n                .authenticationEntryPoint(new Http401AuthenticationEntryPoint(&quot;myHeader&quot;));\n        //...\n    }\n}\n</code></pre>\n<p>using the <code>org.springframework.boot.autoconfigure.security.Http401AuthenticationEntryPoint</code> class.</p>\n<p>I just upgraded to <a href=\"https://spring.io/blog/2018/03/01/spring-boot-2-0-goes-ga\" rel=\"nofollow noreferrer\"><em>Spring Boot 2.0.0.RELEASE</em></a> and found there is not such class any more (at least in that package).</p>\n<p><strong>Questions:</strong></p>\n<ul>\n<li><p>Does this class (<code>Http401AuthenticationEntryPoint</code>) exist yet in Spring Boot?</p>\n</li>\n<li><p>If no, what could be a good alternative for keeping the same behavior in an existing project in order to keep consistency with other implementations which depend on this status code (<code>401</code>) instead of <code>403</code>?</p>\n</li>\n</ul>\n<hr />\n<p>Please notice this is different from <a href=\"https://stackoverflow.com/questions/30643029/spring-security-anonymous-401-instead-of-403\">Spring Security anonymous 401 instead of 403</a> because it's referring specifically to SpringBoot <strong>2</strong> (there are solutions in that post not applicable anymore in SpringBoot version 2 or others are not needed at all)</p>\n"},{"tags":["java","heap-memory","minecraft-fabric"],"comments":[{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":0,"creation_date":1646160820,"post_id":71308064,"comment_id":126053520,"body_markdown":"Please add your code snippets that cause the error. https://stackoverflow.com/help/minimal-reproducible-example","body":"Please add your code snippets that cause the error. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646160835,"post_id":71308064,"comment_id":126053526,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":17825153,"reputation":1,"user_id":12946537,"display_name":"Florian Boyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646139784,"creation_date":1646139784,"answer_id":71308901,"question_id":71308064,"body_markdown":"Never mind !\r\nI found it, i tryed to generate an int property from 0 to int max","title":"Java heap space out of memory when trying to start a fabric minecraft mod i made","body":"<p>Never mind !\nI found it, i tryed to generate an int property from 0 to int max</p>\n"}],"owner":{"account_id":17825153,"reputation":1,"user_id":12946537,"display_name":"Florian Boyer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646139784,"creation_date":1646135412,"question_id":71308064,"body_markdown":"I have this mad anoying issue where, when i launch a fabric project for testing my mod, i run into an out of memory error on the datafixer minecraft thing.\r\nWhere is the full exception : \r\n\r\n```[m\u001B[34m[12:32:03]\u001B[m \u001B[31m[Worker-Bootstrap-14/ERROR]\u001B[m \u001B[36m(Minecraft)\u001B[m \r\n[31mUnable to build datafixers\r\n\u001B[m java.util.concurrent.CompletionException: java.lang.OutOfMemoryError: Java heap space\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) [?:?]\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807) [?:?]\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) [?:?]\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) [?:?]\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) [?:?]\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n\u001B[34m[12:32:03]\u001B[m \u001B[31m[Worker-Bootstrap-4/ERROR]\u001B[m \u001B[36m(Minecraft)\u001B[m \u001B[31mUnable to build datafixers\r\n\u001B[m java.util.concurrent.CompletionException: java.lang.OutOfMemoryError: Java heap space\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) [?:?]\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807) [?:?]\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) [?:?]\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) [?:?]\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) [?:?]\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n\tat com.mojang.datafixers.functions.Functions.comp(Functions.java:27) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.Comp.lambda$one$2(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.Comp$$Lambda$1688/0x00000008011b76a8.apply(Unknown Source) ~[?:?]\r\n\tat java.util.Optional.map(Optional.java:260) ~[?:?]\r\n\tat com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\r\n\tat com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\r\n```\r\n\r\nIt does not happen when i don&#39;t put anything to register in my onInitialize method.\r\n\r\nIt was working well a day ago.\r\n\r\nyou can find the entire mod code here : [link to my mod&#39;s github][1]\r\n\r\nI can&#39;t make any progress with this ... so this is critical.\r\n\r\nPlease, if someone have any clue or fix to give me, it would be nice.\r\n\r\n  [1]: https://github.com/belzoriun/rifts","title":"Java heap space out of memory when trying to start a fabric minecraft mod i made","body":"<p>I have this mad anoying issue where, when i launch a fabric project for testing my mod, i run into an out of memory error on the datafixer minecraft thing.\nWhere is the full exception :</p>\n<pre><code>[31mUnable to build datafixers\n[m java.util.concurrent.CompletionException: java.lang.OutOfMemoryError: Java heap space\n    at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]\n    at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) [?:?]\n    at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807) [?:?]\n    at java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) [?:?]\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) [?:?]\n    at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) [?:?]\n    at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) [?:?]\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) [?:?]\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) [?:?]\nCaused by: java.lang.OutOfMemoryError: Java heap space\n[34m[12:32:03][m [31m[Worker-Bootstrap-4/ERROR][m [36m(Minecraft)[m [31mUnable to build datafixers\n[m java.util.concurrent.CompletionException: java.lang.OutOfMemoryError: Java heap space\n    at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]\n    at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) [?:?]\n    at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1807) [?:?]\n    at java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) [?:?]\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) [?:?]\n    at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) [?:?]\n    at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) [?:?]\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) [?:?]\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) [?:?]\nCaused by: java.lang.OutOfMemoryError: Java heap space\n    at com.mojang.datafixers.functions.Functions.comp(Functions.java:27) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.Comp.lambda$one$2(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.Comp$$Lambda$1688/0x00000008011b76a8.apply(Unknown Source) ~[?:?]\n    at java.util.Optional.map(Optional.java:260) ~[?:?]\n    at com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$One.rewrite(PointFreeRule.java:651) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.PointFreeRule$OrElse.rewrite(PointFreeRule.java:571) ~[datafixerupper-4.0.26.jar:?]\n    at com.mojang.datafixers.functions.Comp.one(Comp.java:43) ~[datafixerupper-4.0.26.jar:?]\n</code></pre>\n<p>It does not happen when i don't put anything to register in my onInitialize method.</p>\n<p>It was working well a day ago.</p>\n<p>you can find the entire mod code here : <a href=\"https://github.com/belzoriun/rifts\" rel=\"nofollow noreferrer\">link to my mod's github</a></p>\n<p>I can't make any progress with this ... so this is critical.</p>\n<p>Please, if someone have any clue or fix to give me, it would be nice.</p>\n"},{"tags":["java","spring","gradle","build","querydsl"],"comments":[{"owner":{"account_id":12262607,"reputation":1364,"user_id":8949877,"display_name":"Harshit"},"score":0,"creation_date":1646043890,"post_id":71280005,"comment_id":126018958,"body_markdown":"Try using this plugin: https://plugins.gradle.org/plugin/com.ewerk.gradle.plugins.querydsl","body":"Try using this plugin: <a href=\"https://plugins.gradle.org/plugin/com.ewerk.gradle.plugins.querydsl\" rel=\"nofollow noreferrer\">plugins.gradle.org/plugin/com.ewerk.gradle.plugins.querydsl</a>"},{"owner":{"account_id":4097924,"reputation":531,"user_id":3364181,"accept_rate":21,"display_name":"user3364181"},"score":0,"creation_date":1646132379,"post_id":71280005,"comment_id":126043225,"body_markdown":"same problem, it generate files, but can&#39;t find them","body":"same problem, it generate files, but can&#39;t find them"},{"owner":{"account_id":12262607,"reputation":1364,"user_id":8949877,"display_name":"Harshit"},"score":0,"creation_date":1646134831,"post_id":71280005,"comment_id":126043934,"body_markdown":"you need to change sourceSets and include querydsl generated folder also","body":"you need to change sourceSets and include querydsl generated folder also"},{"owner":{"account_id":4097924,"reputation":531,"user_id":3364181,"accept_rate":21,"display_name":"user3364181"},"score":0,"creation_date":1646135134,"post_id":71280005,"comment_id":126044044,"body_markdown":"can you give example, i tried all versions and still same issue","body":"can you give example, i tried all versions and still same issue"},{"owner":{"account_id":12262607,"reputation":1364,"user_id":8949877,"display_name":"Harshit"},"score":0,"creation_date":1646139025,"post_id":71280005,"comment_id":126045306,"body_markdown":"you need to add one more plugin and some other configs as well. I have posted an example in answer.","body":"you need to add one more plugin and some other configs as well. I have posted an example in answer."}],"answers":[{"tags":[],"owner":{"account_id":12262607,"reputation":1364,"user_id":8949877,"display_name":"Harshit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646138975,"creation_date":1646138975,"answer_id":71308755,"question_id":71280005,"body_markdown":"Working with Gradle, QueryDSL and Lombok together is a tricky job, but luckily there are few plugins which makes it easy. Here is the code that works.\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n        id &#39;idea&#39;\r\n        id &#39;io.franzbecker.gradle-lombok&#39; version &#39;5.0.0&#39;\r\n        id &#39;com.ewerk.gradle.plugins.querydsl&#39; version &#39;1.0.10&#39;\r\n    }\r\n    \r\n    querydsl {\r\n        library = &#39;com.querydsl:querydsl-apt:5.0.0&#39;\r\n        jpa = true\r\n    }\r\n    \r\n    configurations {\r\n        querydsl.extendsFrom implementation, compileClasspath\r\n    }\r\n    \r\n    compileQuerydsl {\r\n        options.annotationProcessorPath = configurations.querydsl\r\n    }\r\n    \r\n    project.afterEvaluate {\r\n        project.tasks.compileQuerydsl.options.compilerArgs = [\r\n                &quot;-proc:only&quot;,\r\n                &quot;-processor&quot;, project.querydsl.processors() +\r\n                        &#39;,lombok.launch.AnnotationProcessorHider$AnnotationProcessor&#39;\r\n        ]\r\n    }\r\n    \r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs = [&#39;src/main/java&#39;, &#39;src/querydsl/java&#39;]\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;com.querydsl:querydsl-jpa:5.0.0&#39;\r\n    }\r\n    \r\n`io.franzbecker.gradle-lombok` and `com.ewerk.gradle.plugins.querydsl` are the required plugins to work all 3 correctly.","title":"QueryDSL issue with gradle","body":"<p>Working with Gradle, QueryDSL and Lombok together is a tricky job, but luckily there are few plugins which makes it easy. Here is the code that works.</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'idea'\n    id 'io.franzbecker.gradle-lombok' version '5.0.0'\n    id 'com.ewerk.gradle.plugins.querydsl' version '1.0.10'\n}\n\nquerydsl {\n    library = 'com.querydsl:querydsl-apt:5.0.0'\n    jpa = true\n}\n\nconfigurations {\n    querydsl.extendsFrom implementation, compileClasspath\n}\n\ncompileQuerydsl {\n    options.annotationProcessorPath = configurations.querydsl\n}\n\nproject.afterEvaluate {\n    project.tasks.compileQuerydsl.options.compilerArgs = [\n            &quot;-proc:only&quot;,\n            &quot;-processor&quot;, project.querydsl.processors() +\n                    ',lombok.launch.AnnotationProcessorHider$AnnotationProcessor'\n    ]\n}\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src/main/java', 'src/querydsl/java']\n        }\n    }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'com.querydsl:querydsl-jpa:5.0.0'\n}\n</code></pre>\n<p><code>io.franzbecker.gradle-lombok</code> and <code>com.ewerk.gradle.plugins.querydsl</code> are the required plugins to work all 3 correctly.</p>\n"}],"owner":{"account_id":4097924,"reputation":531,"user_id":3364181,"accept_rate":21,"display_name":"user3364181"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3348,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1646138975,"creation_date":1645906743,"question_id":71280005,"body_markdown":"I am using QueryDSL with Lombok and gradle. Q classes are getting generated, also IDEA can see them and there is no compiler error but when i try to execute gradle build i get :\r\n\r\n    error: cannot find symbol\r\n    import QRole;\r\n\r\nSo files are generated but gradle build like can&#39;t see them. All of solutions i found are not working and what ever i do i still get this error. Here is my gradle.build :\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n        id &#39;checkstyle&#39;\r\n        id &#39;org.sonarqube&#39; version &#39;3.3&#39;\r\n        id &#39;jacoco&#39;\r\n        id &#39;idea&#39;\r\n        id &#39;com.github.ben-manes.versions&#39; version &#39;0.42.0&#39;\r\n    }\r\n    dependencies {\r\n        // Annotation processors\r\n        annotationProcessor group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: lombokVersion\r\n        testAnnotationProcessor group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: lombokVersion\r\n    \r\n        // Mapstruct\r\n        implementation group: &#39;org.mapstruct&#39;, name: &#39;mapstruct&#39;, version: mapstructVersion\r\n        annotationProcessor group: &#39;org.mapstruct&#39;, name: &#39;mapstruct-processor&#39;, version: mapstructVersion\r\n    \r\n        annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n    \r\n        annotationProcessor group: &#39;javax.annotation&#39;, name: &#39;javax.annotation-api&#39;, version: javaxAnnotationVersion\r\n        annotationProcessor group: &#39;org.hibernate.javax.persistence&#39;, name: &#39;hibernate-jpa-2.2-api&#39;, version: jpaVersion\r\n        annotationProcessor group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: lombokVersion\r\n        compileOnly group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: lombokVersion\r\n        testAnnotationProcessor group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: lombokVersion\r\n    \r\n        annotationProcessor group: &#39;org.hibernate.javax.persistence&#39;, name: &#39;hibernate-jpa-2.2-api&#39;, version: jpaVersion\r\n    \r\n        annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n    \r\n        implementation group: &#39;com.querydsl&#39;, name: &#39;querydsl-apt&#39;, version: querydslVersion\r\n        implementation group: &#39;com.querydsl&#39;, name: &#39;querydsl-jpa&#39;, version: querydslVersion\r\n        implementation group: &#39;com.querydsl&#39;, name: &#39;querydsl-sql&#39;, version: querydslVersion\r\n    \r\n        // Spring boot\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-jpa&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-webflux&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-validation&#39;\r\n        implementation group: &#39;org.springframework.retry&#39;, name: &#39;spring-retry&#39;, version: springRetry\r\n    \r\n        // Promotheus Monitoring (exposes /actuator/promotheus)\r\n        runtimeOnly &#39;io.micrometer:micrometer-registry-prometheus&#39;\r\n    \r\n        // Persistence\r\n        runtimeOnly group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: postgresVersion\r\n        implementation group: &#39;org.flywaydb&#39;, name: &#39;flyway-core&#39;, version: flywayVersion\r\n        implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-jcache&#39;, version: hibernateVersion\r\n    \r\n        implementation(group: &#39;org.hibernate&#39;, name: &#39;hibernate-spatial&#39;, version: hibernateVersion) {\r\n            exclude group: &#39;org.postgresql&#39;, module: &#39;postgresql&#39;\r\n        }\r\n        implementation group: &#39;com.vladmihalcea&#39;, name: &#39;hibernate-types-52&#39;, version: hibernateTypesVersion\r\n    \r\n        // Apache commons\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: apacheCommonsLangVersion\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-collections4&#39;, version: apacheCommonsCollectionVersion\r\n    \r\n        // Swagger\r\n        implementation group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version: swaggerVersion\r\n        implementation group: &#39;io.springfox&#39;, name: &#39;springfox-swagger-ui&#39;, version: swaggerVersion\r\n    \r\n        // Jackson Datatype Jts\r\n        implementation group: &#39;com.bedatadriven&#39;, name: &#39;jackson-datatype-jts&#39;, version: jacksonDatatypeJTSVersion\r\n    \r\n        // JWT\r\n        implementation group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: jjwtVersion\r\n    \r\n        // Logging dependencies\r\n        runtimeOnly group: &#39;net.logstash.logback&#39;, name: &#39;logstash-logback-encoder&#39;, version: logstashVersion\r\n    \r\n        // Tests\r\n        testImplementation(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n        testImplementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-test&#39;\r\n    \r\n        // Mockito\r\n        testImplementation group: &#39;org.mockito&#39;, name: &#39;mockito-core&#39;, version: mockitoVersion\r\n        testImplementation group: &#39;org.mockito&#39;, name: &#39;mockito-inline&#39;, version: mockitoVersion\r\n    \r\n        //JUnit\r\n        testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: junitVersion\r\n    \r\n        //CSV\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-csv&#39;, version: apacheCommonsCsvVersion\r\n    \r\n        // S3\r\n        implementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk-s3&#39;, version: awsSdkVersion\r\n    \r\n        // SES\r\n        implementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk-ses&#39;, version: awsSdkVersion\r\n    \r\n        // AWS Secrets Manager\r\n        implementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk-secretsmanager&#39;, version: awsSdkVersion\r\n    \r\n        // RDS IAM access control\r\n        implementation group: &#39;io.magj&#39;, name: &#39;iam-jdbc-driver&#39;, version: &#39;0.1.8&#39;\r\n    \r\n        // Scheduling\r\n        implementation group: &#39;net.javacrumbs.shedlock&#39;, name: &#39;shedlock-spring&#39;, version: shedLockVersion\r\n        implementation group: &#39;net.javacrumbs.shedlock&#39;, name: &#39;shedlock-provider-jdbc-template&#39;, version: shedLockVersion\r\n    }\r\n    \r\n    dependencies {\r\n        compileOnly &quot;com.querydsl:querydsl-jpa:${querydslVersion}&quot;\r\n        compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n        annotationProcessor(\r\n                &quot;com.querydsl:querydsl-apt:${querydslVersion}:jpa&quot;,\r\n                &quot;org.hibernate.javax.persistence:hibernate-jpa-2.1-api:${hibernateJPAVersion}&quot;,\r\n                &quot;javax.annotation:javax.annotation-api:${javaxAnnotationVersion}&quot;,\r\n                &quot;org.projectlombok:lombok&quot;\r\n        )\r\n    }","title":"QueryDSL issue with gradle","body":"<p>I am using QueryDSL with Lombok and gradle. Q classes are getting generated, also IDEA can see them and there is no compiler error but when i try to execute gradle build i get :</p>\n<pre><code>error: cannot find symbol\nimport QRole;\n</code></pre>\n<p>So files are generated but gradle build like can't see them. All of solutions i found are not working and what ever i do i still get this error. Here is my gradle.build :</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'checkstyle'\n    id 'org.sonarqube' version '3.3'\n    id 'jacoco'\n    id 'idea'\n    id 'com.github.ben-manes.versions' version '0.42.0'\n}\ndependencies {\n    // Annotation processors\n    annotationProcessor group: 'org.projectlombok', name: 'lombok', version: lombokVersion\n    testAnnotationProcessor group: 'org.projectlombok', name: 'lombok', version: lombokVersion\n\n    // Mapstruct\n    implementation group: 'org.mapstruct', name: 'mapstruct', version: mapstructVersion\n    annotationProcessor group: 'org.mapstruct', name: 'mapstruct-processor', version: mapstructVersion\n\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n\n    annotationProcessor group: 'javax.annotation', name: 'javax.annotation-api', version: javaxAnnotationVersion\n    annotationProcessor group: 'org.hibernate.javax.persistence', name: 'hibernate-jpa-2.2-api', version: jpaVersion\n    annotationProcessor group: 'org.projectlombok', name: 'lombok', version: lombokVersion\n    compileOnly group: 'org.projectlombok', name: 'lombok', version: lombokVersion\n    testAnnotationProcessor group: 'org.projectlombok', name: 'lombok', version: lombokVersion\n\n    annotationProcessor group: 'org.hibernate.javax.persistence', name: 'hibernate-jpa-2.2-api', version: jpaVersion\n\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n\n    implementation group: 'com.querydsl', name: 'querydsl-apt', version: querydslVersion\n    implementation group: 'com.querydsl', name: 'querydsl-jpa', version: querydslVersion\n    implementation group: 'com.querydsl', name: 'querydsl-sql', version: querydslVersion\n\n    // Spring boot\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-web'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-webflux'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-security'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-validation'\n    implementation group: 'org.springframework.retry', name: 'spring-retry', version: springRetry\n\n    // Promotheus Monitoring (exposes /actuator/promotheus)\n    runtimeOnly 'io.micrometer:micrometer-registry-prometheus'\n\n    // Persistence\n    runtimeOnly group: 'org.postgresql', name: 'postgresql', version: postgresVersion\n    implementation group: 'org.flywaydb', name: 'flyway-core', version: flywayVersion\n    implementation group: 'org.hibernate', name: 'hibernate-jcache', version: hibernateVersion\n\n    implementation(group: 'org.hibernate', name: 'hibernate-spatial', version: hibernateVersion) {\n        exclude group: 'org.postgresql', module: 'postgresql'\n    }\n    implementation group: 'com.vladmihalcea', name: 'hibernate-types-52', version: hibernateTypesVersion\n\n    // Apache commons\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: apacheCommonsLangVersion\n    implementation group: 'org.apache.commons', name: 'commons-collections4', version: apacheCommonsCollectionVersion\n\n    // Swagger\n    implementation group: 'io.springfox', name: 'springfox-swagger2', version: swaggerVersion\n    implementation group: 'io.springfox', name: 'springfox-swagger-ui', version: swaggerVersion\n\n    // Jackson Datatype Jts\n    implementation group: 'com.bedatadriven', name: 'jackson-datatype-jts', version: jacksonDatatypeJTSVersion\n\n    // JWT\n    implementation group: 'io.jsonwebtoken', name: 'jjwt', version: jjwtVersion\n\n    // Logging dependencies\n    runtimeOnly group: 'net.logstash.logback', name: 'logstash-logback-encoder', version: logstashVersion\n\n    // Tests\n    testImplementation(group: 'org.springframework.boot', name: 'spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    testImplementation group: 'org.springframework.security', name: 'spring-security-test'\n\n    // Mockito\n    testImplementation group: 'org.mockito', name: 'mockito-core', version: mockitoVersion\n    testImplementation group: 'org.mockito', name: 'mockito-inline', version: mockitoVersion\n\n    //JUnit\n    testImplementation group: 'junit', name: 'junit', version: junitVersion\n\n    //CSV\n    implementation group: 'org.apache.commons', name: 'commons-csv', version: apacheCommonsCsvVersion\n\n    // S3\n    implementation group: 'com.amazonaws', name: 'aws-java-sdk-s3', version: awsSdkVersion\n\n    // SES\n    implementation group: 'com.amazonaws', name: 'aws-java-sdk-ses', version: awsSdkVersion\n\n    // AWS Secrets Manager\n    implementation group: 'com.amazonaws', name: 'aws-java-sdk-secretsmanager', version: awsSdkVersion\n\n    // RDS IAM access control\n    implementation group: 'io.magj', name: 'iam-jdbc-driver', version: '0.1.8'\n\n    // Scheduling\n    implementation group: 'net.javacrumbs.shedlock', name: 'shedlock-spring', version: shedLockVersion\n    implementation group: 'net.javacrumbs.shedlock', name: 'shedlock-provider-jdbc-template', version: shedLockVersion\n}\n\ndependencies {\n    compileOnly &quot;com.querydsl:querydsl-jpa:${querydslVersion}&quot;\n    compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n    annotationProcessor(\n            &quot;com.querydsl:querydsl-apt:${querydslVersion}:jpa&quot;,\n            &quot;org.hibernate.javax.persistence:hibernate-jpa-2.1-api:${hibernateJPAVersion}&quot;,\n            &quot;javax.annotation:javax.annotation-api:${javaxAnnotationVersion}&quot;,\n            &quot;org.projectlombok:lombok&quot;\n    )\n}\n</code></pre>\n"},{"tags":["java","akka"],"answers":[{"tags":[],"owner":{"account_id":181329,"reputation":4496,"user_id":415251,"accept_rate":83,"display_name":"David Ogren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646138849,"creation_date":1646138849,"answer_id":71308735,"question_id":71298912,"body_markdown":"As you&#39;ve noticed, the section of the docs is &quot;config inheritance&quot;. It is showing how you can define your normal configuration in one section and then extend/replace that configuration in another section. The sample they show has a `akka { kafka.consumer }` section at the top (click the &quot;source&quot; button the example to see this section). And then, because of the naming and inheritance features of HOCON, can just inherit from that section using `${akka.kafka.consumer}`. There&#39;s no need to actually use that inheritance to configure Alpakka, that is just a best practice. If you are just trying to use the default config, it&#39;s, well, already the default.\r\n\r\nFor example, if you are just trying to define the bootstrap server, you don&#39;t have to use inheritance to do that as they do in that example. You can just specify `akka.kafka.consumer.kafka-clients.bootstrap.servers = &quot;yourbootstrap:9092&quot;` directly. The inheritance is just so that you can specify the shared settings in one place.\r\n\r\nIf you are just trying to learn how to configure Alpakka, look at the section immediately above this on [Settings](https://doc.akka.io/docs/alpakka-kafka/current/consumer.html#settings). I find it most helpful to look at the reference config, which you can see by clicking on the reference.conf tab next to &quot;Important consumer settings&quot;.","title":"How to use ${akka.kafka.consumer}?","body":"<p>As you've noticed, the section of the docs is &quot;config inheritance&quot;. It is showing how you can define your normal configuration in one section and then extend/replace that configuration in another section. The sample they show has a <code>akka { kafka.consumer }</code> section at the top (click the &quot;source&quot; button the example to see this section). And then, because of the naming and inheritance features of HOCON, can just inherit from that section using <code>${akka.kafka.consumer}</code>. There's no need to actually use that inheritance to configure Alpakka, that is just a best practice. If you are just trying to use the default config, it's, well, already the default.</p>\n<p>For example, if you are just trying to define the bootstrap server, you don't have to use inheritance to do that as they do in that example. You can just specify <code>akka.kafka.consumer.kafka-clients.bootstrap.servers = &quot;yourbootstrap:9092&quot;</code> directly. The inheritance is just so that you can specify the shared settings in one place.</p>\n<p>If you are just trying to learn how to configure Alpakka, look at the section immediately above this on <a href=\"https://doc.akka.io/docs/alpakka-kafka/current/consumer.html#settings\" rel=\"nofollow noreferrer\">Settings</a>. I find it most helpful to look at the reference config, which you can see by clicking on the reference.conf tab next to &quot;Important consumer settings&quot;.</p>\n"}],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71308735,"answer_count":1,"score":0,"last_activity_date":1646138849,"creation_date":1646069886,"question_id":71298912,"body_markdown":"I&#39;m attempting to use the default Kafka config settings but I&#39;m unsure how `${akka.kafka.consumer}` is set. Reading https://doc.akka.io/docs/alpakka-kafka/current/consumer.html#config-inheritance Ive defined the following : \r\n\r\nIn application.conf I define : \r\n\r\n    our-kafka-consumer: ${akka.kafka.consumer} {\r\n      kafka-clients {\r\n        bootstrap.servers = &quot;kafka-host:9092&quot;\r\n      }\r\n    }\r\n\r\nBut receive error when I startup the Akka Cluster: \r\n\r\n    Could not resolve substitution to a value: ${akka.kafka.consumer}\r\n\r\nIs `${akka.kafka.consumer}` an environment variable that I need to set externally when starting the Akka Cluster or is `${akka.kafka.consumer}` a config variable that already exists ?\r\n\r\nThe point is to use `${akka.kafka.consumer}` and then overwrite the defaults as required ?\r\n","title":"How to use ${akka.kafka.consumer}?","body":"<p>I'm attempting to use the default Kafka config settings but I'm unsure how <code>${akka.kafka.consumer}</code> is set. Reading <a href=\"https://doc.akka.io/docs/alpakka-kafka/current/consumer.html#config-inheritance\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/alpakka-kafka/current/consumer.html#config-inheritance</a> Ive defined the following :</p>\n<p>In application.conf I define :</p>\n<pre><code>our-kafka-consumer: ${akka.kafka.consumer} {\n  kafka-clients {\n    bootstrap.servers = &quot;kafka-host:9092&quot;\n  }\n}\n</code></pre>\n<p>But receive error when I startup the Akka Cluster:</p>\n<pre><code>Could not resolve substitution to a value: ${akka.kafka.consumer}\n</code></pre>\n<p>Is <code>${akka.kafka.consumer}</code> an environment variable that I need to set externally when starting the Akka Cluster or is <code>${akka.kafka.consumer}</code> a config variable that already exists ?</p>\n<p>The point is to use <code>${akka.kafka.consumer}</code> and then overwrite the defaults as required ?</p>\n"},{"tags":["java","visual-studio-code","pom.xml","maven-jetty-plugin","vaadin14"],"answers":[{"tags":[],"owner":{"account_id":24415490,"reputation":1,"user_id":18342398,"display_name":"Mathis Dukatz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646138761,"creation_date":1646138761,"answer_id":71308715,"question_id":71306910,"body_markdown":"There is no Problem with the pom file. Because it&#39;s an older lesson, there was no pom file created for the whole project, but only in the specific paths (like \\exercises or \\solutions). So running ```mvn jetty:run``` couldn&#39;t work. There was no pom in the directory. I started it in VS-Code with the Maven-Explorer jetty plugin but \r\n```\r\nmvn jetty:run -f &quot;c:\\Users\\Dukatz\\Desktop\\VadinTutorials\\Vaadin14-RouterAPI\\Exercises\\pom.xml&quot; \r\n``` \r\nwould do the job from the command line.\r\nThanks me! I won&#39;t delete the question because, one day there&#39;s maybe someone as dumb as me.","title":"Vaadin 14 training &quot;RouterAPI&quot; is probably outdatedt, so mvn jetty:run raises an error. How do I need to change the POM file?","body":"<p>There is no Problem with the pom file. Because it's an older lesson, there was no pom file created for the whole project, but only in the specific paths (like \\exercises or \\solutions). So running <code>mvn jetty:run</code> couldn't work. There was no pom in the directory. I started it in VS-Code with the Maven-Explorer jetty plugin but</p>\n<pre><code>mvn jetty:run -f &quot;c:\\Users\\Dukatz\\Desktop\\VadinTutorials\\Vaadin14-RouterAPI\\Exercises\\pom.xml&quot; \n</code></pre>\n<p>would do the job from the command line.\nThanks me! I won't delete the question because, one day there's maybe someone as dumb as me.</p>\n"}],"owner":{"account_id":24415490,"reputation":1,"user_id":18342398,"display_name":"Mathis Dukatz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646138761,"creation_date":1646130021,"question_id":71306910,"body_markdown":"as stated I have trouble running mvn jetty:run with the existing vaadin exercise for routing in vs code. As the tutorial was already created under vaadin 10 the pom file is probably outdated, as the other trainigs worked perfectly fine with the mvn jetty:run command. \r\nThe exact error is:\r\n```\r\nNo plugin found for prefix &#39;jetty&#39; in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\Dukatz\\.m2\\repository), central (https://repo.maven.apache.org/maven2)]\r\n```\r\nSadly I&#39;m pretty new do web application development, so I don&#39;t have the slightest idea, how to make it work. Hopefully you can help me.\r\nThe Tutorial: [Vaadin Router Api Tutorial][1]\r\n\r\nthe POM file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.vaadin.trainings.routing&lt;/groupId&gt;\r\n    &lt;artifactId&gt;exercises-routing&lt;/artifactId&gt;\r\n    &lt;name&gt;Routing Exercises&lt;/name&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n   \t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\r\n\t\t&lt;!-- Dependencies --&gt;\r\n\t\t&lt;vaadin.version&gt;13.0.5&lt;/vaadin.version&gt;\r\n\t\t&lt;servlet.api.version&gt;3.1.0&lt;/servlet.api.version&gt;\r\n\r\n\t\t&lt;!-- Plugins --&gt;\r\n\t\t&lt;jetty.version&gt;9.4.15.v20190215&lt;/jetty.version&gt;\r\n\t\t&lt;maven.war.plugin.version&gt;3.1.0&lt;/maven.war.plugin.version&gt;\r\n\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;vaadin-prereleases&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Vaadin Pre-releases&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://maven.vaadin.com/vaadin-prereleases&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t\t&lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Added to provide logging output as Flow uses --&gt;\r\n\t\t&lt;!-- the unbound SLF4J no-operation (NOP) logger implementation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;vaadin-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${servlet.api.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven.war.plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t\t\t&lt;Implementation-Title&gt;${project.name}&lt;/Implementation-Title&gt;\r\n\t\t\t\t\t\t\t&lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\r\n\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${jetty.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://vaadin.com/learn/training/v14-router","title":"Vaadin 14 training &quot;RouterAPI&quot; is probably outdatedt, so mvn jetty:run raises an error. How do I need to change the POM file?","body":"<p>as stated I have trouble running mvn jetty:run with the existing vaadin exercise for routing in vs code. As the tutorial was already created under vaadin 10 the pom file is probably outdated, as the other trainigs worked perfectly fine with the mvn jetty:run command.\nThe exact error is:</p>\n<pre><code>No plugin found for prefix 'jetty' in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\Dukatz\\.m2\\repository), central (https://repo.maven.apache.org/maven2)]\n</code></pre>\n<p>Sadly I'm pretty new do web application development, so I don't have the slightest idea, how to make it work. Hopefully you can help me.\nThe Tutorial: <a href=\"https://vaadin.com/learn/training/v14-router\" rel=\"nofollow noreferrer\">Vaadin Router Api Tutorial</a></p>\n<p>the POM file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.vaadin.trainings.routing&lt;/groupId&gt;\n    &lt;artifactId&gt;exercises-routing&lt;/artifactId&gt;\n    &lt;name&gt;Routing Exercises&lt;/name&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n\n        &lt;!-- Dependencies --&gt;\n        &lt;vaadin.version&gt;13.0.5&lt;/vaadin.version&gt;\n        &lt;servlet.api.version&gt;3.1.0&lt;/servlet.api.version&gt;\n\n        &lt;!-- Plugins --&gt;\n        &lt;jetty.version&gt;9.4.15.v20190215&lt;/jetty.version&gt;\n        &lt;maven.war.plugin.version&gt;3.1.0&lt;/maven.war.plugin.version&gt;\n\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\n            &lt;name&gt;Vaadin Pre-releases&lt;/name&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-prereleases&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Added to provide logging output as Flow uses --&gt;\n        &lt;!-- the unbound SLF4J no-operation (NOP) logger implementation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;${servlet.api.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.war.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Implementation-Title&gt;${project.name}&lt;/Implementation-Title&gt;\n                            &lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jetty.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","pdf","download"],"comments":[{"owner":{"account_id":226552,"reputation":5016,"user_id":487662,"accept_rate":100,"display_name":"Gustav Barkefors"},"score":3,"creation_date":1341996285,"post_id":11428750,"comment_id":15076486,"body_markdown":"How did you do it for the CSV file?","body":"How did you do it for the CSV file?"},{"owner":{"account_id":1476987,"reputation":17785,"user_id":1387157,"accept_rate":94,"display_name":"MaVRoSCy"},"score":0,"creation_date":1341998045,"post_id":11428750,"comment_id":15077235,"body_markdown":"are you using some kind of web application to offer the file for downloading or are you using JBoss like an ftp server?","body":"are you using some kind of web application to offer the file for downloading or are you using JBoss like an ftp server?"},{"owner":{"account_id":275934,"reputation":5595,"user_id":569077,"accept_rate":91,"display_name":"nimrod"},"score":0,"creation_date":1342005576,"post_id":11428750,"comment_id":15080545,"body_markdown":"No, the file is just stored on the server.","body":"No, the file is just stored on the server."}],"answers":[{"tags":[],"owner":{"account_id":1006265,"reputation":429,"user_id":1019964,"accept_rate":50,"display_name":"Anthony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341996567,"creation_date":1341996567,"answer_id":11428854,"question_id":11428750,"body_markdown":"You can simply write a servlet wich read the pdf and write it to the response output stream.\r\n\r\nExemple here : http://www.java-forums.org/blogs/servlet/668-how-write-servlet-sends-file-user-download.html\r\n\r\n","title":"How to offer download of local PDF file in Java?","body":"<p>You can simply write a servlet wich read the pdf and write it to the response output stream.</p>\n\n<p>Exemple here : <a href=\"http://www.java-forums.org/blogs/servlet/668-how-write-servlet-sends-file-user-download.html\" rel=\"nofollow\">http://www.java-forums.org/blogs/servlet/668-how-write-servlet-sends-file-user-download.html</a></p>\n"},{"tags":[],"owner":{"account_id":233925,"reputation":4001,"user_id":499744,"accept_rate":89,"display_name":"greenkode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341996741,"creation_date":1341996741,"answer_id":11428913,"question_id":11428750,"body_markdown":"Yes Gustav is right. Java doesn&#39;t discriminate amongst file types. A file is a file, if you did it for csv, it should also work for pdf.","title":"How to offer download of local PDF file in Java?","body":"<p>Yes Gustav is right. Java doesn't discriminate amongst file types. A file is a file, if you did it for csv, it should also work for pdf.</p>\n"},{"tags":[],"owner":{"account_id":1476987,"reputation":17785,"user_id":1387157,"accept_rate":94,"display_name":"MaVRoSCy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1342006017,"creation_date":1341998158,"answer_id":11429350,"question_id":11428750,"body_markdown":"as i wrote on https://stackoverflow.com/questions/10702683/is-there-a-common-way-to-download-all-types-of-files-in-jsp/10703377#10703377 \r\n\r\nyou can use something like this:\r\n\r\n\tpublic HttpServletResponse getFile (HttpServletRequest request ,HttpServletResponse httpServletResponse, .......){\r\n\t\t\t  HttpServletResponse response = httpServletResponse;\r\n\t\t\t  InputStream in =/*HERE YOU READ YOUR FILE AS BinaryStream*/\r\n\r\n\t\t\t  String filename = &quot;&quot;;\r\n\t\t\t  String agent = request.getHeader(&quot;USER-AGENT&quot;);\r\n\t\t\t  if (agent != null &amp;&amp; agent.indexOf(&quot;MSIE&quot;) != -1)\r\n\t\t\t  {\r\n\t\t\t\tfilename = URLEncoder.encode(/*THIS IS THE FILENAME SHOWN TO THE USER*/, &quot;UTF8&quot;);\r\n\t\t\t\tresponse.setContentType(&quot;application/x-download&quot;);\r\n\t\t\t\tresponse.setHeader(&quot;Content-Disposition&quot;,&quot;attachment;filename=&quot; + filename);\r\n\t\t\t  }\r\n\t\t\t  else if ( agent != null &amp;&amp; agent.indexOf(&quot;Mozilla&quot;) != -1)\r\n\t\t\t  {\r\n\t\t\t\tresponse.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\t\t\t\tfilename = MimeUtility.encodeText(/*THIS IS THE FILENAME SHOWN TO THE USER*/, &quot;UTF8&quot;, &quot;B&quot;);\r\n\t\t\t\tresponse.setContentType(&quot;application/force-download&quot;);\r\n\t\t\t\tresponse.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\r\n\t\t\t  }\r\n\r\n\r\n\t\t\t  BufferedOutputStream out = new BufferedOutputStream(response.getOutputStream());\r\n\t\t\t  byte by[] = new byte[32768];\r\n\t\t\t  int index = in.read(by, 0, 32768);\r\n\t\t\t  while (index != -1) {\r\n\t\t\t\t  out.write(by, 0, index);\r\n\t\t\t\t  index = in.read(by, 0, 32768);\r\n\t\t\t  }\r\n\t\t\t  out.flush();\r\n\r\n\t\t\t  return response;\r\n\t}\r\n\r\n**UPDATE:**\r\n\r\nDont forget that you can use the InputStream  as this:\r\n\r\n    // read local file into InputStream\r\n    InputStream inputStream = new FileInputStream(&quot;c:\\\\SOMEFILE.xml&quot;);\r\n\r\nor you can use it even like this\r\n\r\n    //read from database\r\n    Blob blob = rs.getBlob(1);\r\n    InputStream in = blob.getBinaryStream();\r\n","title":"How to offer download of local PDF file in Java?","body":"<p>as i wrote on <a href=\"https://stackoverflow.com/questions/10702683/is-there-a-common-way-to-download-all-types-of-files-in-jsp/10703377#10703377\">Is there a common way to download all types of files in jsp?</a> </p>\n\n<p>you can use something like this:</p>\n\n<pre><code>public HttpServletResponse getFile (HttpServletRequest request ,HttpServletResponse httpServletResponse, .......){\n          HttpServletResponse response = httpServletResponse;\n          InputStream in =/*HERE YOU READ YOUR FILE AS BinaryStream*/\n\n          String filename = \"\";\n          String agent = request.getHeader(\"USER-AGENT\");\n          if (agent != null &amp;&amp; agent.indexOf(\"MSIE\") != -1)\n          {\n            filename = URLEncoder.encode(/*THIS IS THE FILENAME SHOWN TO THE USER*/, \"UTF8\");\n            response.setContentType(\"application/x-download\");\n            response.setHeader(\"Content-Disposition\",\"attachment;filename=\" + filename);\n          }\n          else if ( agent != null &amp;&amp; agent.indexOf(\"Mozilla\") != -1)\n          {\n            response.setCharacterEncoding(\"UTF-8\");\n            filename = MimeUtility.encodeText(/*THIS IS THE FILENAME SHOWN TO THE USER*/, \"UTF8\", \"B\");\n            response.setContentType(\"application/force-download\");\n            response.addHeader(\"Content-Disposition\", \"attachment; filename=\\\"\" + filename + \"\\\"\");\n          }\n\n\n          BufferedOutputStream out = new BufferedOutputStream(response.getOutputStream());\n          byte by[] = new byte[32768];\n          int index = in.read(by, 0, 32768);\n          while (index != -1) {\n              out.write(by, 0, index);\n              index = in.read(by, 0, 32768);\n          }\n          out.flush();\n\n          return response;\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Dont forget that you can use the InputStream  as this:</p>\n\n<pre><code>// read local file into InputStream\nInputStream inputStream = new FileInputStream(\"c:\\\\SOMEFILE.xml\");\n</code></pre>\n\n<p>or you can use it even like this</p>\n\n<pre><code>//read from database\nBlob blob = rs.getBlob(1);\nInputStream in = blob.getBinaryStream();\n</code></pre>\n"}],"owner":{"account_id":275934,"reputation":5595,"user_id":569077,"accept_rate":91,"display_name":"nimrod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11429350,"answer_count":3,"score":1,"last_activity_date":1646138563,"creation_date":1341996207,"question_id":11428750,"body_markdown":"I have JBoss running as application server and somewhere on my HD there is a PDF file, that gets created when the user clicks on a specific action. Let&#39;s say the file is here: `C:/PDF/doonot/10.07.2012/doonot.pdf`. How can I offer this file as download? I already did it for a CSV file, but I don&#39;t know how to do it with PDF. \r\n\r\nAny help is much appreciated.","title":"How to offer download of local PDF file in Java?","body":"<p>I have JBoss running as application server and somewhere on my HD there is a PDF file, that gets created when the user clicks on a specific action. Let's say the file is here: <code>C:/PDF/doonot/10.07.2012/doonot.pdf</code>. How can I offer this file as download? I already did it for a CSV file, but I don't know how to do it with PDF. </p>\n\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","gradle","osgi-bundle","bnd","pax"],"answers":[{"tags":[],"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646138048,"creation_date":1646138048,"answer_id":71308562,"question_id":71297649,"body_markdown":"**Update**\r\n\r\nI opened up the pax-logging-log4j2 JAR file to review its manifest and can see it doesn&#39;t export anything from ```org.apache.logging.log4j.core``` so my re-exporting it from my bundle could never provide the core packages I was hoping.\r\n\r\nThis still leaves the problem of how to get access to things like a ```FileAppnder``` elsewhere in code, but it answers the question as to what is wrong with my approach.","title":"Configuring pax-logging in OSGi environment built with Gradle and BND","body":"<p><strong>Update</strong></p>\n<p>I opened up the pax-logging-log4j2 JAR file to review its manifest and can see it doesn't export anything from <code>org.apache.logging.log4j.core</code> so my re-exporting it from my bundle could never provide the core packages I was hoping.</p>\n<p>This still leaves the problem of how to get access to things like a <code>FileAppnder</code> elsewhere in code, but it answers the question as to what is wrong with my approach.</p>\n"}],"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71308562,"answer_count":1,"score":0,"last_activity_date":1646138048,"creation_date":1646063746,"question_id":71297649,"body_markdown":"I am trying to get Log4J2 working via Pax Logging but online docs focus on Log4J (v1). My project is Java, Gradle with BND plugin for OSGi bundles aimed at the Equinox environment.\r\n\r\nI am using Gradle 6.8.3\r\n\r\nI have my ```build.gradle``` file for an OSGi bundle that aims to expose logging functionality to other bundles using:\r\n```\r\nimplementation &#39;org.ops4j.pax.logging:pax-logging-api:2.1.0&#39;\r\nimplementation &#39;org.ops4j.pax.logging:pax-logging-log4j2:2.1.0&#39;\r\n```\r\n\r\nIn my BND file, I include the following imports:\r\n```\r\nImport-Package: org.apache.logging.log4j;version=&quot;2.17.1&quot;;provider=paxlogging, org.apache.commons.logging;version=&quot;[1.1.1,2)&quot;;provider=paxlogging, org.apache.logging.log4j.core;version=&quot;2.17.1&quot;;provider=paxlogging\r\n```\r\nSince my project has file appenders defined, which don&#39;t form part of the Log4J2 API, but Log4J2 Core, I therefore export the following from the same bundle to enable Log4J2 Core classes to have visibility in other bundles that depend on the logging bundle:\r\n```\r\nExport-Package: com.mycompany.loggingbundle, org.apache.logging.log4j, org.apache.logging.log4j.message, org.apache.logging.log4j.util, org.apache.logging.log4j.core;version=&quot;2.17.1&quot;, org.apache.logging.log4j.core.appender;version=&quot;2.17.1&quot;, org.apache.logging.log4j.core.filter;version=&quot;2.17.1&quot;, org.apache.logging.log4j.core.impl;version=&quot;2.17.1&quot;, org.apache.logging.log4j.spi;version=&quot;2.17.1&quot;\r\n```\r\nEverything compiles, builds and install fine.\r\n\r\nAt runtime, I have an issue:\r\n```\r\norg.osgi.framework.BundleException: Could not resolve module: com.mycompany.otherbundle [1306]\r\n  Unresolved requirement: Require-Bundle: com.mycompany.loggingbundle\r\n    -&gt; Bundle-SymbolicName: com.mycompany.loggingbundle; bundle-version=&quot;&lt;hidden&gt;&quot;; singleton:=&quot;true&quot;\r\n       com.mycompany.loggingbundle [1311]\r\n         Unresolved requirement: Import-Package: org.apache.logging.log4j.core; provider=&quot;paxlogging&quot;; version=&quot;2.17.1&quot;\r\n\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:434)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1582)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1561)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1533)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1476)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n```\r\n\r\nHopefully some OSGi expert knows what I&#39;ve got wrong because the whole reason to use Pax Logging was to avoid the need to create Log4J2 fragments and have an easier configuration for a multi-bundled environment. Perhaps there is a systematic series of things to look at to resolve this?\r\n","title":"Configuring pax-logging in OSGi environment built with Gradle and BND","body":"<p>I am trying to get Log4J2 working via Pax Logging but online docs focus on Log4J (v1). My project is Java, Gradle with BND plugin for OSGi bundles aimed at the Equinox environment.</p>\n<p>I am using Gradle 6.8.3</p>\n<p>I have my <code>build.gradle</code> file for an OSGi bundle that aims to expose logging functionality to other bundles using:</p>\n<pre><code>implementation 'org.ops4j.pax.logging:pax-logging-api:2.1.0'\nimplementation 'org.ops4j.pax.logging:pax-logging-log4j2:2.1.0'\n</code></pre>\n<p>In my BND file, I include the following imports:</p>\n<pre><code>Import-Package: org.apache.logging.log4j;version=&quot;2.17.1&quot;;provider=paxlogging, org.apache.commons.logging;version=&quot;[1.1.1,2)&quot;;provider=paxlogging, org.apache.logging.log4j.core;version=&quot;2.17.1&quot;;provider=paxlogging\n</code></pre>\n<p>Since my project has file appenders defined, which don't form part of the Log4J2 API, but Log4J2 Core, I therefore export the following from the same bundle to enable Log4J2 Core classes to have visibility in other bundles that depend on the logging bundle:</p>\n<pre><code>Export-Package: com.mycompany.loggingbundle, org.apache.logging.log4j, org.apache.logging.log4j.message, org.apache.logging.log4j.util, org.apache.logging.log4j.core;version=&quot;2.17.1&quot;, org.apache.logging.log4j.core.appender;version=&quot;2.17.1&quot;, org.apache.logging.log4j.core.filter;version=&quot;2.17.1&quot;, org.apache.logging.log4j.core.impl;version=&quot;2.17.1&quot;, org.apache.logging.log4j.spi;version=&quot;2.17.1&quot;\n</code></pre>\n<p>Everything compiles, builds and install fine.</p>\n<p>At runtime, I have an issue:</p>\n<pre><code>org.osgi.framework.BundleException: Could not resolve module: com.mycompany.otherbundle [1306]\n  Unresolved requirement: Require-Bundle: com.mycompany.loggingbundle\n    -&gt; Bundle-SymbolicName: com.mycompany.loggingbundle; bundle-version=&quot;&lt;hidden&gt;&quot;; singleton:=&quot;true&quot;\n       com.mycompany.loggingbundle [1311]\n         Unresolved requirement: Import-Package: org.apache.logging.log4j.core; provider=&quot;paxlogging&quot;; version=&quot;2.17.1&quot;\n\n    at org.eclipse.osgi.container.Module.start(Module.java:434)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1582)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1561)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1533)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1476)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\n</code></pre>\n<p>Hopefully some OSGi expert knows what I've got wrong because the whole reason to use Pax Logging was to avoid the need to create Log4J2 fragments and have an easier configuration for a multi-bundled environment. Perhaps there is a systematic series of things to look at to resolve this?</p>\n"},{"tags":["java","atomic","vespa"],"answers":[{"tags":[],"owner":{"account_id":1483958,"reputation":2213,"user_id":1392604,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646137205,"creation_date":1646137205,"answer_id":71308417,"question_id":71308181,"body_markdown":"Document processors operate on *incoming* document writes, so they cannot be applied to the result of visiting (not without a bit more setup anyway).\r\n\r\nWhat you can do to visit the documents instead is to just get all the documents using HTTP/2: https://docs.vespa.ai/en/reference/document-v1-api-reference.html#visit\r\n\r\nThen use the same API to issue an update operation for each document to set the field using the same API: https://docs.vespa.ai/en/reference/document-v1-api-reference.html#put\r\n\r\nSince this is done by a single process, you can then have a document_id counter which assigns unique values. \r\n\r\nAs an aside, a common trick to avoid that requirement is to generate an UUID for each document.","title":"Vespa visitor indexing documents","body":"<p>Document processors operate on <em>incoming</em> document writes, so they cannot be applied to the result of visiting (not without a bit more setup anyway).</p>\n<p>What you can do to visit the documents instead is to just get all the documents using HTTP/2: <a href=\"https://docs.vespa.ai/en/reference/document-v1-api-reference.html#visit\" rel=\"nofollow noreferrer\">https://docs.vespa.ai/en/reference/document-v1-api-reference.html#visit</a></p>\n<p>Then use the same API to issue an update operation for each document to set the field using the same API: <a href=\"https://docs.vespa.ai/en/reference/document-v1-api-reference.html#put\" rel=\"nofollow noreferrer\">https://docs.vespa.ai/en/reference/document-v1-api-reference.html#put</a></p>\n<p>Since this is done by a single process, you can then have a document_id counter which assigns unique values.</p>\n<p>As an aside, a common trick to avoid that requirement is to generate an UUID for each document.</p>\n"}],"owner":{"account_id":1839702,"reputation":4713,"user_id":1669370,"accept_rate":83,"display_name":"Regis Portalez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646137952,"creation_date":1646136044,"question_id":71308181,"body_markdown":"I want to attribute an ID to every document in a vespa cluster. \r\n\r\nBut I don&#39;t completely understand how visitors work in vespa. \r\n\r\nCan I get a shared field (meaning shared by all instances of my visitor), which I can atomically increment (using some lock) every time I visit a document ? \r\n\r\nWhat I tried obviously doesn&#39;t work, but you&#39;ll see the general idea : \r\n\r\n```\r\npublic class MyVisitor extends DocumentProcessor {\r\n\r\n    // where should i put this ? \r\n    private int document_id;\r\n\r\n    private final Lock lock = new ReentrantLock();\r\n\r\n    @Override\r\n    public Progress process(Processing processing) {\r\n        Iterator&lt;DocumentOperation&gt; it = processing.getDocumentOperations().iterator();\r\n        while (it.hasNext()) {\r\n\r\n            DocumentOperation op = it.next();\r\n            if (op instanceof DocumentPut) {\r\n\r\n                Document doc = ((DocumentPut) op).getDocument();\r\n                /*\r\n                 * Remove the PUT operation from the iterator so that it is not indexed back in\r\n                 * the document cluster\r\n                 */\r\n                it.remove();\r\n\r\n                try {\r\n                    try {\r\n                        lock.lock();\r\n                        document_id += 1;\r\n                    } finally {\r\n                        lock.unlock();\r\n                    }\r\n                } catch (StatusRuntimeException | IllegalArgumentException e) {\r\n                }\r\n            }\r\n        }\r\n        return Progress.DONE;\r\n    }\r\n}\r\n```\r\n\r\nAnother idea it to get the number of buckets and the bucket id I&#39;m currently dealing with and to increment using this pattern: \r\n\r\n```\r\ndocument_id = bucket_id\r\ndocument_id += bucked_count\r\n```\r\nwhich would work (if I can ensure my visitor operates on a single bucket at a time) but I don&#39;t know how to get these information from my visitor. ","title":"Vespa visitor indexing documents","body":"<p>I want to attribute an ID to every document in a vespa cluster.</p>\n<p>But I don't completely understand how visitors work in vespa.</p>\n<p>Can I get a shared field (meaning shared by all instances of my visitor), which I can atomically increment (using some lock) every time I visit a document ?</p>\n<p>What I tried obviously doesn't work, but you'll see the general idea :</p>\n<pre><code>public class MyVisitor extends DocumentProcessor {\n\n    // where should i put this ? \n    private int document_id;\n\n    private final Lock lock = new ReentrantLock();\n\n    @Override\n    public Progress process(Processing processing) {\n        Iterator&lt;DocumentOperation&gt; it = processing.getDocumentOperations().iterator();\n        while (it.hasNext()) {\n\n            DocumentOperation op = it.next();\n            if (op instanceof DocumentPut) {\n\n                Document doc = ((DocumentPut) op).getDocument();\n                /*\n                 * Remove the PUT operation from the iterator so that it is not indexed back in\n                 * the document cluster\n                 */\n                it.remove();\n\n                try {\n                    try {\n                        lock.lock();\n                        document_id += 1;\n                    } finally {\n                        lock.unlock();\n                    }\n                } catch (StatusRuntimeException | IllegalArgumentException e) {\n                }\n            }\n        }\n        return Progress.DONE;\n    }\n}\n</code></pre>\n<p>Another idea it to get the number of buckets and the bucket id I'm currently dealing with and to increment using this pattern:</p>\n<pre><code>document_id = bucket_id\ndocument_id += bucked_count\n</code></pre>\n<p>which would work (if I can ensure my visitor operates on a single bucket at a time) but I don't know how to get these information from my visitor.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1646138025,"post_id":71308516,"comment_id":126044978,"body_markdown":"I&#39;d go for the &quot;add 1 year and subtract&quot; option. You don&#39;t necessary need a loop; you can use the value of both `DayOfWeek` instances to immediately calculate how many days to subtract. It&#39;s basically `(d1.getValue() - d2.getValue() + 7) % 7`.","body":"I&#39;d go for the &quot;add 1 year and subtract&quot; option. You don&#39;t necessary need a loop; you can use the value of both <code>DayOfWeek</code> instances to immediately calculate how many days to subtract. It&#39;s basically <code>(d1.getValue() - d2.getValue() + 7) % 7</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1646138133,"post_id":71308516,"comment_id":126045010,"body_markdown":"&quot;but may have drawback with leap years.&quot; What drawbacks? That seems like exactly what you want. (Unless I have misunderstood what you mean, in which case you should describe exactly the result you want)","body":"&quot;but may have drawback with leap years.&quot; What drawbacks? That seems like exactly what you want. (Unless I have misunderstood what you mean, in which case you should describe exactly the result you want)"},{"owner":{"account_id":15360573,"reputation":167,"user_id":11081583,"display_name":"Magmagan"},"score":0,"creation_date":1646138478,"post_id":71308516,"comment_id":126045116,"body_markdown":"You don&#39;t need to add 364 days (52 weeks * 7 days) manually, you can use [`plusWeeks()`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plusWeeks-long-) to achieve the same effect\n\nThe problem with this approach is that yes, over time adding 364 by 364 days is going to be 1 or 2 days off each year. Instead, find which week your date is in. March 1st is in the 9th week of the year. Then, at your desired year, find the 9th week and find Tuesday in it.\n\nYou are going to face hurdles with 53-week years, I suggest looking at (https://en.wikipedia.org/wiki/ISO_week_date","body":"You don&#39;t need to add 364 days (52 weeks * 7 days) manually, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plusWeeks-long-\" rel=\"nofollow noreferrer\"><code>plusWeeks()</code></a> to achieve the same effect  The problem with this approach is that yes, over time adding 364 by 364 days is going to be 1 or 2 days off each year. Instead, find which week your date is in. March 1st is in the 9th week of the year. Then, at your desired year, find the 9th week and find Tuesday in it.  You are going to face hurdles with 53-week years, I suggest looking at (<a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ISO_week_date</a>"},{"owner":{"account_id":17271350,"reputation":446,"user_id":12507002,"display_name":"Sandeep Nair"},"score":0,"creation_date":1646139278,"post_id":71308516,"comment_id":126045388,"body_markdown":"@Sweeper With 364 day for leap years will it not be 1 or 2 days off eventually","body":"@Sweeper With 364 day for leap years will it not be 1 or 2 days off eventually"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1646140113,"post_id":71308516,"comment_id":126045665,"body_markdown":"What do you mean by &quot;eventually&quot;? Are you going to be doing this repeatedly? Are you trying to get a similar date with the same day of week after N years? In that case it is going to be off by a maximum of 3 or 4 days.","body":"What do you mean by &quot;eventually&quot;? Are you going to be doing this repeatedly? Are you trying to get a similar date with the same day of week after N years? In that case it is going to be off by a maximum of 3 or 4 days."},{"owner":{"account_id":17271350,"reputation":446,"user_id":12507002,"display_name":"Sandeep Nair"},"score":0,"creation_date":1646142738,"post_id":71308516,"comment_id":126046618,"body_markdown":"Not n year, just one year(from any date specified as input)","body":"Not n year, just one year(from any date specified as input)"},{"owner":{"account_id":17271350,"reputation":446,"user_id":12507002,"display_name":"Sandeep Nair"},"score":0,"creation_date":1646211709,"post_id":71308516,"comment_id":126064803,"body_markdown":"@Sweeper Can you please mention the same in answer and I will mark it as answer as I made 1000 odd test cases to check if for any date adding 364 days does not give same day of week","body":"@Sweeper Can you please mention the same in answer and I will mark it as answer as I made 1000 odd test cases to check if for any date adding 364 days does not give same day of week"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1646211847,"post_id":71308516,"comment_id":126064849,"body_markdown":"@SandeepNair Huh? Did I (accidentally) answer your question? Did you think that adding 364 days was not always going to work?","body":"@SandeepNair Huh? Did I (accidentally) answer your question? Did you think that adding 364 days was not always going to work?"},{"owner":{"account_id":17271350,"reputation":446,"user_id":12507002,"display_name":"Sandeep Nair"},"score":0,"creation_date":1646212100,"post_id":71308516,"comment_id":126064938,"body_markdown":"@Sweeper Yes, for some reason I though with leap year when you add 364 days you would be 1 day short to be exact same day of week. Because I initially tried plusYears(1).minusDays(1) and for leap year had to do minusdays(2) and thought would be the same with adding 364 days but I was wrong","body":"@Sweeper Yes, for some reason I though with leap year when you add 364 days you would be 1 day short to be exact same day of week. Because I initially tried plusYears(1).minusDays(1) and for leap year had to do minusdays(2) and thought would be the same with adding 364 days but I was wrong"}],"owner":{"account_id":17271350,"reputation":446,"user_id":12507002,"display_name":"Sandeep Nair"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646137844,"creation_date":1646137844,"question_id":71308516,"body_markdown":"I was looking for a way to make optimum of Java 8&#39;s LocalDate to find next year&#39;s date which falls on same day of week.\r\n\r\nFor example today is 1rd March 2022 - Tuesday. Assume this is the input date, the the output date that I expect to get is 28th Feb 2023, because its the same day (Tuesday) for next year\r\n\r\nOne option that I tried was adding 364 days as shown in the example\r\n\r\n    public static void main(String args[]){\r\n        LocalDate currentDate= LocalDate.now();\r\n        System.out.println(&quot;Current Date: &quot; + currentDate + &quot; Day&quot; currentDate.getDayOfWeek().name());\r\n        System.out.println(&quot;Next Year&#39;s date: &quot; + currentDate.plusDays(364) + &quot; Next year day: &quot; +currentDate.plusDays(364).getDayOfWeek().name());\r\n      }\r\n\r\n\r\nThis works but may have drawback with leap years.\r\n\r\nOther option is to add 1 year to current date and do a while loop check for dayOfWeek for each day - 1\r\n\r\nIs there a better way to do this?","title":"Java - Getting same day of week for next year","body":"<p>I was looking for a way to make optimum of Java 8's LocalDate to find next year's date which falls on same day of week.</p>\n<p>For example today is 1rd March 2022 - Tuesday. Assume this is the input date, the the output date that I expect to get is 28th Feb 2023, because its the same day (Tuesday) for next year</p>\n<p>One option that I tried was adding 364 days as shown in the example</p>\n<pre><code>public static void main(String args[]){\n    LocalDate currentDate= LocalDate.now();\n    System.out.println(&quot;Current Date: &quot; + currentDate + &quot; Day&quot; currentDate.getDayOfWeek().name());\n    System.out.println(&quot;Next Year's date: &quot; + currentDate.plusDays(364) + &quot; Next year day: &quot; +currentDate.plusDays(364).getDayOfWeek().name());\n  }\n</code></pre>\n<p>This works but may have drawback with leap years.</p>\n<p>Other option is to add 1 year to current date and do a while loop check for dayOfWeek for each day - 1</p>\n<p>Is there a better way to do this?</p>\n"},{"tags":["java","xml","eclipse","transformation","xtext"],"comments":[{"owner":{"account_id":899065,"reputation":11808,"user_id":935687,"display_name":"Christian Dietrich"},"score":0,"creation_date":1640074591,"post_id":70423555,"comment_id":124502819,"body_markdown":"do you mean a specific xml or the xmi representation? using the sample reflective ecore model editor should work ootb (if you dont use xbase)","body":"do you mean a specific xml or the xmi representation? using the sample reflective ecore model editor should work ootb (if you dont use xbase)"},{"owner":{"account_id":7935570,"reputation":15,"user_id":12250493,"display_name":"Soulimane Kamni"},"score":0,"creation_date":1640167163,"post_id":70423555,"comment_id":124529454,"body_markdown":"If I get the xmi representation, it would be very helpful, because I will be able to use Acceleo for example to do the transformation to xml.","body":"If I get the xmi representation, it would be very helpful, because I will be able to use Acceleo for example to do the transformation to xml."},{"owner":{"account_id":899065,"reputation":11808,"user_id":935687,"display_name":"Christian Dietrich"},"score":0,"creation_date":1640203808,"post_id":70423555,"comment_id":124542697,"body_markdown":"so you are interested in a different xml than the xmi.\nyou should also be able to use accele directly with xtext","body":"so you are interested in a different xml than the xmi. you should also be able to use accele directly with xtext"},{"owner":{"account_id":7935570,"reputation":15,"user_id":12250493,"display_name":"Soulimane Kamni"},"score":0,"creation_date":1640957394,"post_id":70423555,"comment_id":124698625,"body_markdown":"Yes, I want to transform the xmi data to an XML data that is conforming the capella modelling tool in order to visualize the transformed elements in a cappella graphical diagram","body":"Yes, I want to transform the xmi data to an XML data that is conforming the capella modelling tool in order to visualize the transformed elements in a cappella graphical diagram"}],"answers":[{"tags":[],"owner":{"account_id":23393829,"reputation":11,"user_id":17458167,"display_name":"Andreas Graf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641410832,"creation_date":1641410832,"answer_id":70598569,"question_id":70423555,"body_markdown":"Do you mean a transformation to the Capella Model? Then I would suggest not the XML, but bundle the Capella EMF model with your Xtext RCP and do a model-to-model transformation based on EMF (I would suggest Xtend, but QVT, Acceleo etc. can be used, too)\r\n","title":"How can I transform the xtext DSL elements into XML?","body":"<p>Do you mean a transformation to the Capella Model? Then I would suggest not the XML, but bundle the Capella EMF model with your Xtext RCP and do a model-to-model transformation based on EMF (I would suggest Xtend, but QVT, Acceleo etc. can be used, too)</p>\n"},{"tags":[],"owner":{"account_id":7935570,"reputation":15,"user_id":12250493,"display_name":"Soulimane Kamni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646137817,"creation_date":1645718287,"answer_id":71254811,"question_id":70423555,"body_markdown":"I found what I was looking for. I am using Xtend with Xtext. A &quot;.xtend&quot; file is generated once the grammar is compiled. This file contains a method called doGenerate. It is here where I am transforming my code which is conforming to its xtext grammar to a Capella XML and inject it directly in the &quot;melodymodeller&quot; Capella project file.\r\n\r\nThank you all for your answers.","title":"How can I transform the xtext DSL elements into XML?","body":"<p>I found what I was looking for. I am using Xtend with Xtext. A &quot;.xtend&quot; file is generated once the grammar is compiled. This file contains a method called doGenerate. It is here where I am transforming my code which is conforming to its xtext grammar to a Capella XML and inject it directly in the &quot;melodymodeller&quot; Capella project file.</p>\n<p>Thank you all for your answers.</p>\n"}],"owner":{"account_id":7935570,"reputation":15,"user_id":12250493,"display_name":"Soulimane Kamni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71254811,"answer_count":2,"score":0,"last_activity_date":1646137817,"creation_date":1640011502,"question_id":70423555,"body_markdown":"I have created a grammar using xtext, and generated the DSL. Now, I want to transform the DSL elements (program that is conforming to the grammar) to XML elements. So, I am wondering if there is a framework that allows to do that using Java for example. I could open the files having the extension of the DSL using the eclipse editor &quot;Sample Reflective Ecore Model Editor&quot; and could visualize the elements of the DSL.\r\n![DdTe4.png][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DdTe4.png","title":"How can I transform the xtext DSL elements into XML?","body":"<p>I have created a grammar using xtext, and generated the DSL. Now, I want to transform the DSL elements (program that is conforming to the grammar) to XML elements. So, I am wondering if there is a framework that allows to do that using Java for example. I could open the files having the extension of the DSL using the eclipse editor &quot;Sample Reflective Ecore Model Editor&quot; and could visualize the elements of the DSL.\n<img src=\"https://i.stack.imgur.com/DdTe4.png\" alt=\"DdTe4.png\" /></p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":8153471,"reputation":899,"user_id":6139796,"display_name":"Holger"},"score":1,"creation_date":1646136454,"post_id":71308108,"comment_id":126044498,"body_markdown":"What&#39;s about `HashMap&lt;String, MyRingBuffer&lt;MyDataType&gt;&gt;`","body":"What&#39;s about <code>HashMap&lt;String, MyRingBuffer&lt;MyDataType&gt;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646137643,"creation_date":1646137643,"answer_id":71308482,"question_id":71308108,"body_markdown":"You can extend the HashMap and have your custom map something like this, here I maintained a `queue` to store the keys so when the limit reaches you can remove the earliest key-value pair (FIFO)\r\n\r\n    class CacheMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n        private int MAX_SIZE;\r\n        private Queue&lt;K&gt; queue = new LinkedList&lt;&gt;();\r\n\r\n        public CacheMap(int capacity) {\r\n            super();\r\n            MAX_SIZE = capacity;\r\n        }\r\n\r\n        @Override\r\n        public V put(K key, V value) {\r\n            if (super.size() &lt; MAX_SIZE) {\r\n                queue.add(key);\r\n            } else {\r\n                super.remove(queue.poll());\r\n            }\r\n            super.put(key, value);\r\n            return value;\r\n        }\r\n      }\r\n    }\r\n    ","title":"Hashmap using lists as a buffer","body":"<p>You can extend the HashMap and have your custom map something like this, here I maintained a <code>queue</code> to store the keys so when the limit reaches you can remove the earliest key-value pair (FIFO)</p>\n<pre><code>class CacheMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\n\n    private static final long serialVersionUID = 1L;\n    private int MAX_SIZE;\n    private Queue&lt;K&gt; queue = new LinkedList&lt;&gt;();\n\n    public CacheMap(int capacity) {\n        super();\n        MAX_SIZE = capacity;\n    }\n\n    @Override\n    public V put(K key, V value) {\n        if (super.size() &lt; MAX_SIZE) {\n            queue.add(key);\n        } else {\n            super.remove(queue.poll());\n        }\n        super.put(key, value);\n        return value;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1766239,"reputation":771,"user_id":1612060,"accept_rate":78,"display_name":"ThatQuantDude"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71308482,"answer_count":1,"score":0,"last_activity_date":1646137643,"creation_date":1646135661,"question_id":71308108,"body_markdown":"I need to create a hashmap that can store multiple values for one key, I know multimaps could do this but I also need to keep those value lists to a specific length. I need a each key to store a list of n values with those being the latest n values, i.e if i reached length n and I add another value the first one added will drop off the value list and the target length is maintained. \r\n\r\nI started off the below code and want to change it so i can store/add to a list for a specific key. \r\n  \r\n\r\n ```&#180;\r\n        public static void main(final String args[]) throws Exception {\r\n            final int maxSize = 4;\r\n            final LinkedHashMap&lt;String, String&gt; cache = new LinkedHashMap&lt;String, String&gt;() {\r\n            @Override\r\n            protected boolean removeEldestEntry(final Map.Entry eldest) {\r\n                return size() &gt; maxSize;\r\n            }\r\n        };\r\n```\r\n\r\n```\r\n        cache.put(&quot;A&quot;, &quot;A&quot;);\r\n        System.out.println(cache);\r\n        cache.put(&quot;B&quot;, &quot;A&quot;);\r\n        System.out.println(cache);\r\n        cache.put(&quot;C&quot;, &quot;A&quot;);\r\n        System.out.println(cache);\r\n        cache.put(&quot;D&quot;, &quot;A&quot;);\r\n        System.out.println(cache);\r\n        cache.put(&quot;E&quot;, &quot;A&quot;);\r\n        System.out.println(cache);\r\n        cache.put(&quot;F&quot;, &quot;A&quot;);\r\n        System.out.println(cache);\r\n        cache.put(&quot;G&quot;, &quot;A&quot;);\r\n    }\r\n```\r\n\r\n```\r\nOutput:\r\n\r\n    {A=A}\r\n    {A=A, B=A}\r\n    {A=A, B=A, C=A}\r\n    {A=A, B=A, C=A, D=A}\r\n    {B=A, C=A, D=A, E=A}\r\n    {C=A, D=A, E=A, F=A}\r\n\r\n\r\nI tried changing it to sth like this but can&#39;t get it working (python guy here who is getting started with java)\r\n\r\n```\r\n    public LinkedHashMap filteroutliers(final String arg, final long arg2) throws Exception{\r\n        final int bufferSize = 5;\r\n        final LinkedHashMap&lt;Integer, ArrayList&lt;Double&gt;&gt; bufferList = new LinkedHashMap&lt;Integer, ArrayList&lt;Double&gt;&gt;(){\r\n            @Override\r\n            protected boolean removeEldestEntry(final Map.Entry eldest){\r\n                return size() &lt; bufferSize;\r\n            }\r\n        };\r\n        return bufferList;\r\n    }\r\n```","title":"Hashmap using lists as a buffer","body":"<p>I need to create a hashmap that can store multiple values for one key, I know multimaps could do this but I also need to keep those value lists to a specific length. I need a each key to store a list of n values with those being the latest n values, i.e if i reached length n and I add another value the first one added will drop off the value list and the target length is maintained.</p>\n<p>I started off the below code and want to change it so i can store/add to a list for a specific key.</p>\n<pre><code>       public static void main(final String args[]) throws Exception {\n           final int maxSize = 4;\n           final LinkedHashMap&lt;String, String&gt; cache = new LinkedHashMap&lt;String, String&gt;() {\n           @Override\n           protected boolean removeEldestEntry(final Map.Entry eldest) {\n               return size() &gt; maxSize;\n           }\n       };\n</code></pre>\n<pre><code>        cache.put(&quot;A&quot;, &quot;A&quot;);\n        System.out.println(cache);\n        cache.put(&quot;B&quot;, &quot;A&quot;);\n        System.out.println(cache);\n        cache.put(&quot;C&quot;, &quot;A&quot;);\n        System.out.println(cache);\n        cache.put(&quot;D&quot;, &quot;A&quot;);\n        System.out.println(cache);\n        cache.put(&quot;E&quot;, &quot;A&quot;);\n        System.out.println(cache);\n        cache.put(&quot;F&quot;, &quot;A&quot;);\n        System.out.println(cache);\n        cache.put(&quot;G&quot;, &quot;A&quot;);\n    }\n</code></pre>\n<pre><code>Output:\n\n    {A=A}\n    {A=A, B=A}\n    {A=A, B=A, C=A}\n    {A=A, B=A, C=A, D=A}\n    {B=A, C=A, D=A, E=A}\n    {C=A, D=A, E=A, F=A}\n\n\nI tried changing it to sth like this but can't get it working (python guy here who is getting started with java)\n\n</code></pre>\n<pre><code>public LinkedHashMap filteroutliers(final String arg, final long arg2) throws Exception{\n    final int bufferSize = 5;\n    final LinkedHashMap&lt;Integer, ArrayList&lt;Double&gt;&gt; bufferList = new LinkedHashMap&lt;Integer, ArrayList&lt;Double&gt;&gt;(){\n        @Override\n        protected boolean removeEldestEntry(final Map.Entry eldest){\n            return size() &lt; bufferSize;\n        }\n    };\n    return bufferList;\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","websocket","server"],"answers":[{"tags":[],"owner":{"account_id":4779575,"reputation":121,"user_id":3861756,"display_name":"tvicky4j247"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1568373989,"creation_date":1568373989,"answer_id":57922781,"question_id":57922238,"body_markdown":"If you&#39;re willing to use [Java Spring](http://spring.io) - which I think would be great for your use case, it&#39;s pretty easy to setup a websocket server and client connection.\r\n\r\nThere&#39;s an example here - https://spring.io/guides/gs/messaging-stomp-websocket/","title":"How to implement a WebSocket Server in java?","body":"<p>If you're willing to use <a href=\"http://spring.io\" rel=\"nofollow noreferrer\">Java Spring</a> - which I think would be great for your use case, it's pretty easy to setup a websocket server and client connection.</p>\n\n<p>There's an example here - <a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/messaging-stomp-websocket/</a></p>\n"},{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1568581198,"creation_date":1568380108,"answer_id":57924245,"question_id":57922238,"body_markdown":"Don&#39;t be confused about the name WebSocket. A TCP socket and a WebSocket are entirely different kind of &quot;sockets&quot;. \r\n\r\nIn Java you use a [ServerSocket](https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html) for TCP sockets. TCP is a transport layer protocol used to implement application layer protocols like POP3 and HTTP.\r\n\r\nWebSocket is a HTTP/1.1 protocol upgrade commonly used in web servers and web browsers. You cannot use a ServerSocket for the WebSocket protocol, at least not so straight forward as you might think. First, you have to implement the HTTP/1.1 protocol and then the WebSocket protocol on top of that. \r\n\r\nIn the Java world you can use web servers like Tomcat or Jetty which provide WebSocket implementations and a [high level Java API](https://docs.oracle.com/javaee/7/api/javax/websocket/package-summary.html). This API is part of the Jave Enterprise Edition (JEE). See also the [Jave EE 7 Tutorial - Chapter 18 Java API for WebSocket](https://docs.oracle.com/javaee/7/tutorial/websocket.htm).\r\n\r\nE.g. Jetty is a lightweight JEE web server which can be embedded in your application or run as a stand-alone server. See [Jetty Development Guide - Chapter 26. WebSocket Introduction](https://www.eclipse.org/jetty/documentation/current/websocket-intro.html).\r\n\r\nSo in a Java web application running in a WebSocket enabled JEE web server like Jetty you can implement a server side WebSocket as follows:\r\n\r\n    package com.example.websocket;\r\n\r\n    import org.apache.log4j.Logger;\r\n\r\n    import javax.websocket.CloseReason;\r\n    import javax.websocket.OnClose;\r\n    import javax.websocket.OnError;\r\n    import javax.websocket.OnMessage;\r\n    import javax.websocket.OnOpen;\r\n    import javax.websocket.Session;\r\n    import javax.websocket.server.ServerEndpoint;\r\n    import java.io.IOException;\r\n\r\n    @ServerEndpoint(&quot;/toUpper&quot;)\r\n    public class ToUpperWebsocket {\r\n\r\n      private static final Logger LOGGER = Logger.getLogger(ToUpperWebsocket.class);\r\n\r\n      @OnOpen\r\n      public void onOpen(Session session) {\r\n        LOGGER.debug(String.format(&quot;WebSocket opened: %s&quot;, session.getId()));\r\n      }\r\n\r\n      @OnMessage\r\n      public void onMessage(String txt, Session session) throws IOException {\r\n        LOGGER.debug(String.format(&quot;Message received: %s&quot;, txt));\r\n        session.getBasicRemote().sendText(txt.toUpperCase());\r\n      }\r\n\r\n      @OnClose\r\n      public void onClose(CloseReason reason, Session session) {\r\n        LOGGER.debug(String.format(&quot;Closing a WebSocket (%s) due to %s&quot;, session.getId(), reason.getReasonPhrase()));\r\n      }\r\n\r\n      @OnError\r\n      public void onError(Session session, Throwable t) {\r\n        LOGGER.error(String.format(&quot;Error in WebSocket session %s%n&quot;, session == null ? &quot;null&quot; : session.getId()), t);\r\n      }\r\n    }\r\n\r\nYou register your class as a WebSocket handler for the specific path with the ``@ServerEndpoint`` annotation. Your WebSocket URL is then ``ws://host:port/context/toUpper`` or ``wss://host:port/context/toUpper`` for HTTPS connections. \r\n\r\n**Edit:**\r\nHere is a very simplistic HTML page to demonstrate the client side connection to the above WebSocket. This page is served by the same webserver as the WebSocket. The webapplication containing the WebSocket is deployed at context &quot;websocket&quot; on localhost port 7777. \r\n\r\n        &lt;html&gt;\r\n        &lt;body&gt;\r\n        &lt;h2&gt;WebSocket Test&lt;/h2&gt;\r\n        &lt;div&gt;\r\n        &lt;input type=&quot;text&quot; id=&quot;input&quot; /&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n        &lt;input type=&quot;button&quot; id=&quot;connectBtn&quot; value=&quot;CONNECT&quot; onclick=&quot;connect()&quot; /&gt;\r\n        &lt;input type=&quot;button&quot; id=&quot;sendBtn&quot; value=&quot;SEND&quot; onclick=&quot;send()&quot; disable=&quot;true&quot; /&gt;\r\n        &lt;/div&gt;\r\n        &lt;div id=&quot;output&quot;&gt;\r\n        &lt;h2&gt;Output&lt;/h2&gt;\r\n        &lt;/div&gt;\r\n        &lt;/body&gt;\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n        var webSocket;\r\n        var output = document.getElementById(&quot;output&quot;);\r\n        var connectBtn = document.getElementById(&quot;connectBtn&quot;);\r\n        var sendBtn = document.getElementById(&quot;sendBtn&quot;);\r\n        var wsUrl = (location.protocol == &quot;https:&quot; ? &quot;wss://&quot; : &quot;ws://&quot;) + location.hostname + (location.port ? &#39;:&#39;+location.port: &#39;&#39;) + &quot;/websocket/toUpper&quot;;\r\n\r\n        function connect() {\r\n          // open the connection if one does not exist\r\n          if (webSocket !== undefined\r\n            &amp;&amp; webSocket.readyState !== WebSocket.CLOSED) {\r\n            return;\r\n          }\r\n\r\n          updateOutput(&quot;Trying to establish a WebSocket connection to &lt;code&gt;&quot; + wsUrl + &quot;&lt;/code&gt;&quot;);\r\n\r\n          // Create a websocket\r\n          webSocket = new WebSocket(wsUrl);\r\n\r\n          webSocket.onopen = function(event) {\r\n            updateOutput(&quot;Connected!&quot;);\r\n            connectBtn.disabled = true;\r\n            sendBtn.disabled = false;\r\n          };\r\n\r\n          webSocket.onmessage = function(event) {\r\n            updateOutput(event.data);\r\n          };\r\n\r\n          webSocket.onclose = function(event) {\r\n            updateOutput(&quot;Connection Closed&quot;);\r\n            connectBtn.disabled = false;\r\n            sendBtn.disabled = true;\r\n          };\r\n        }\r\n\r\n        function send() {\r\n          var text = document.getElementById(&quot;input&quot;).value;\r\n          webSocket.send(text);\r\n        }\r\n\r\n        function closeSocket() {\r\n          webSocket.close();\r\n        }\r\n\r\n        function updateOutput(text) {\r\n          output.innerHTML += &quot;&lt;br/&gt;&quot; + text;\r\n        }\r\n        &lt;/script&gt;\r\n        &lt;/html&gt;\r\n\r\n[![Sample WebSocket webpage rendered in Firefox][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cbkXm.png","title":"How to implement a WebSocket Server in java?","body":"<p>Don't be confused about the name WebSocket. A TCP socket and a WebSocket are entirely different kind of \"sockets\". </p>\n\n<p>In Java you use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html\" rel=\"noreferrer\">ServerSocket</a> for TCP sockets. TCP is a transport layer protocol used to implement application layer protocols like POP3 and HTTP.</p>\n\n<p>WebSocket is a HTTP/1.1 protocol upgrade commonly used in web servers and web browsers. You cannot use a ServerSocket for the WebSocket protocol, at least not so straight forward as you might think. First, you have to implement the HTTP/1.1 protocol and then the WebSocket protocol on top of that. </p>\n\n<p>In the Java world you can use web servers like Tomcat or Jetty which provide WebSocket implementations and a <a href=\"https://docs.oracle.com/javaee/7/api/javax/websocket/package-summary.html\" rel=\"noreferrer\">high level Java API</a>. This API is part of the Jave Enterprise Edition (JEE). See also the <a href=\"https://docs.oracle.com/javaee/7/tutorial/websocket.htm\" rel=\"noreferrer\">Jave EE 7 Tutorial - Chapter 18 Java API for WebSocket</a>.</p>\n\n<p>E.g. Jetty is a lightweight JEE web server which can be embedded in your application or run as a stand-alone server. See <a href=\"https://www.eclipse.org/jetty/documentation/current/websocket-intro.html\" rel=\"noreferrer\">Jetty Development Guide - Chapter 26. WebSocket Introduction</a>.</p>\n\n<p>So in a Java web application running in a WebSocket enabled JEE web server like Jetty you can implement a server side WebSocket as follows:</p>\n\n<pre><code>package com.example.websocket;\n\nimport org.apache.log4j.Logger;\n\nimport javax.websocket.CloseReason;\nimport javax.websocket.OnClose;\nimport javax.websocket.OnError;\nimport javax.websocket.OnMessage;\nimport javax.websocket.OnOpen;\nimport javax.websocket.Session;\nimport javax.websocket.server.ServerEndpoint;\nimport java.io.IOException;\n\n@ServerEndpoint(\"/toUpper\")\npublic class ToUpperWebsocket {\n\n  private static final Logger LOGGER = Logger.getLogger(ToUpperWebsocket.class);\n\n  @OnOpen\n  public void onOpen(Session session) {\n    LOGGER.debug(String.format(\"WebSocket opened: %s\", session.getId()));\n  }\n\n  @OnMessage\n  public void onMessage(String txt, Session session) throws IOException {\n    LOGGER.debug(String.format(\"Message received: %s\", txt));\n    session.getBasicRemote().sendText(txt.toUpperCase());\n  }\n\n  @OnClose\n  public void onClose(CloseReason reason, Session session) {\n    LOGGER.debug(String.format(\"Closing a WebSocket (%s) due to %s\", session.getId(), reason.getReasonPhrase()));\n  }\n\n  @OnError\n  public void onError(Session session, Throwable t) {\n    LOGGER.error(String.format(\"Error in WebSocket session %s%n\", session == null ? \"null\" : session.getId()), t);\n  }\n}\n</code></pre>\n\n<p>You register your class as a WebSocket handler for the specific path with the <code>@ServerEndpoint</code> annotation. Your WebSocket URL is then <code>ws://host:port/context/toUpper</code> or <code>wss://host:port/context/toUpper</code> for HTTPS connections. </p>\n\n<p><strong>Edit:</strong>\nHere is a very simplistic HTML page to demonstrate the client side connection to the above WebSocket. This page is served by the same webserver as the WebSocket. The webapplication containing the WebSocket is deployed at context \"websocket\" on localhost port 7777. </p>\n\n<pre><code>    &lt;html&gt;\n    &lt;body&gt;\n    &lt;h2&gt;WebSocket Test&lt;/h2&gt;\n    &lt;div&gt;\n    &lt;input type=\"text\" id=\"input\" /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n    &lt;input type=\"button\" id=\"connectBtn\" value=\"CONNECT\" onclick=\"connect()\" /&gt;\n    &lt;input type=\"button\" id=\"sendBtn\" value=\"SEND\" onclick=\"send()\" disable=\"true\" /&gt;\n    &lt;/div&gt;\n    &lt;div id=\"output\"&gt;\n    &lt;h2&gt;Output&lt;/h2&gt;\n    &lt;/div&gt;\n    &lt;/body&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    var webSocket;\n    var output = document.getElementById(\"output\");\n    var connectBtn = document.getElementById(\"connectBtn\");\n    var sendBtn = document.getElementById(\"sendBtn\");\n    var wsUrl = (location.protocol == \"https:\" ? \"wss://\" : \"ws://\") + location.hostname + (location.port ? ':'+location.port: '') + \"/websocket/toUpper\";\n\n    function connect() {\n      // open the connection if one does not exist\n      if (webSocket !== undefined\n        &amp;&amp; webSocket.readyState !== WebSocket.CLOSED) {\n        return;\n      }\n\n      updateOutput(\"Trying to establish a WebSocket connection to &lt;code&gt;\" + wsUrl + \"&lt;/code&gt;\");\n\n      // Create a websocket\n      webSocket = new WebSocket(wsUrl);\n\n      webSocket.onopen = function(event) {\n        updateOutput(\"Connected!\");\n        connectBtn.disabled = true;\n        sendBtn.disabled = false;\n      };\n\n      webSocket.onmessage = function(event) {\n        updateOutput(event.data);\n      };\n\n      webSocket.onclose = function(event) {\n        updateOutput(\"Connection Closed\");\n        connectBtn.disabled = false;\n        sendBtn.disabled = true;\n      };\n    }\n\n    function send() {\n      var text = document.getElementById(\"input\").value;\n      webSocket.send(text);\n    }\n\n    function closeSocket() {\n      webSocket.close();\n    }\n\n    function updateOutput(text) {\n      output.innerHTML += \"&lt;br/&gt;\" + text;\n    }\n    &lt;/script&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/cbkXm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cbkXm.png\" alt=\"Sample WebSocket webpage rendered in Firefox\"></a></p>\n"}],"owner":{"account_id":8998186,"reputation":91,"user_id":6707727,"display_name":"Kyler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35528,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1646137373,"creation_date":1568371864,"question_id":57922238,"body_markdown":"I&#39;m working on setting up my first websocket server for a communications app. I can&#39;t seem to figure out how websockets are implemented in Java. \r\n\r\nI&#39;ve tried, unsuccessfully, creating an annotation based Endpoint, but I&#39;m not sure where the client info is going to come through. This is basically the gist of my code, without going into mundane details. \r\n\r\nI&#39;m trying to make the class MessageHelper deal with the websocket info transfer, I just can&#39;t grasp how to actually get the transfer there.\r\n\r\n```Java\r\nclass MainServer implements Runnable {\r\n// VARIABLES\r\n    ServerSocket serverSocket = null;\r\n    int port;\r\n// CONSTRUCTORS\r\n    MainServer(int p) {\r\n        this.port = p;\r\n    }\r\n// METHODS\r\n    public void run() {\r\n        openServerSocket();\r\n        while(!isStopped()){\r\n            try{\r\n                clientSocket = serverSocket.accept();\r\n            } catch(IOException e) {\r\n                // Do something\r\n            }\r\n            new Thread(new MainThread(clientSocket)).start();\r\n        }\r\n    }\r\n}\r\n\r\n// Other methods below.\r\n````\r\n\r\n```Java\r\npublic class MainThread {\r\n\r\n    final Socket socket;\r\n\r\n\r\n    MainThread(Socket s) {\r\n        this.socket = s;\r\n    }\r\n\r\n    public void run() {\r\n        try{\r\n            BufferedReader br = new BufferedReader(\r\n                new InputStreamReader(socket.getInputStream()));\r\n\r\n            String input = br.readLine(), read = br.readLine();\r\n            while(!input.isEmpty()) {\r\n                read += &quot;\\n&quot;;\r\n                read += input;\r\n                input = br.readLine();\r\n            }\r\n\r\n            /**\r\n            *  Everything works fine, I&#39;m just not sure where to go\r\n            * from here. I tried creating MessageHelper into the java\r\n            * websocket implementation using annotations but it did not \r\n            * accept input from the client after the handshake was\r\n            * made. My client would send something but it would just \r\n            * give and EOFException.\r\n            **/\r\n            if(websocketHandshakeRequest(read)) {\r\n                MessageHelper messageHelper = \r\n                    new MessageHelper(this.socket);\r\n            } else {\r\n                // Do something\r\n            }\r\n        } catch(Exception e) {\r\n            // Do something.\r\n        }\r\n    }\r\n}\r\n```","title":"How to implement a WebSocket Server in java?","body":"<p>I'm working on setting up my first websocket server for a communications app. I can't seem to figure out how websockets are implemented in Java. </p>\n\n<p>I've tried, unsuccessfully, creating an annotation based Endpoint, but I'm not sure where the client info is going to come through. This is basically the gist of my code, without going into mundane details. </p>\n\n<p>I'm trying to make the class MessageHelper deal with the websocket info transfer, I just can't grasp how to actually get the transfer there.</p>\n\n<pre><code>class MainServer implements Runnable {\n// VARIABLES\n    ServerSocket serverSocket = null;\n    int port;\n// CONSTRUCTORS\n    MainServer(int p) {\n        this.port = p;\n    }\n// METHODS\n    public void run() {\n        openServerSocket();\n        while(!isStopped()){\n            try{\n                clientSocket = serverSocket.accept();\n            } catch(IOException e) {\n                // Do something\n            }\n            new Thread(new MainThread(clientSocket)).start();\n        }\n    }\n}\n\n// Other methods below.\n</code></pre>\n\n<pre><code>public class MainThread {\n\n    final Socket socket;\n\n\n    MainThread(Socket s) {\n        this.socket = s;\n    }\n\n    public void run() {\n        try{\n            BufferedReader br = new BufferedReader(\n                new InputStreamReader(socket.getInputStream()));\n\n            String input = br.readLine(), read = br.readLine();\n            while(!input.isEmpty()) {\n                read += \"\\n\";\n                read += input;\n                input = br.readLine();\n            }\n\n            /**\n            *  Everything works fine, I'm just not sure where to go\n            * from here. I tried creating MessageHelper into the java\n            * websocket implementation using annotations but it did not \n            * accept input from the client after the handshake was\n            * made. My client would send something but it would just \n            * give and EOFException.\n            **/\n            if(websocketHandshakeRequest(read)) {\n                MessageHelper messageHelper = \n                    new MessageHelper(this.socket);\n            } else {\n                // Do something\n            }\n        } catch(Exception e) {\n            // Do something.\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","javax.validation"],"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646136957,"creation_date":1646136957,"question_id":71308367,"body_markdown":"I want to turn off javax.validation.constraints.Pattern for certain conditions. \r\n\r\nIt is used in field address.postcode to validate postcode pattern. But when address is non-uk then this should be turned off. We can know whether it is non-uk postcode by knowing where &#39;address&#39; object is being used or at the place where postcode is being set. \r\n\r\n\t@Pattern(regexp = &#39;some pattern&#39;,\r\n\t\t\tmessage = &quot;Postcode invalid&quot;)\r\n\t@Column(nullable = true, length = 8)\r\n\tprivate String postcode;\r\n","title":"conditional javax.validation.constraints.Pattern","body":"<p>I want to turn off javax.validation.constraints.Pattern for certain conditions.</p>\n<p>It is used in field address.postcode to validate postcode pattern. But when address is non-uk then this should be turned off. We can know whether it is non-uk postcode by knowing where 'address' object is being used or at the place where postcode is being set.</p>\n<pre><code>@Pattern(regexp = 'some pattern',\n        message = &quot;Postcode invalid&quot;)\n@Column(nullable = true, length = 8)\nprivate String postcode;\n</code></pre>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":3,"creation_date":1646134376,"post_id":71307685,"comment_id":126043793,"body_markdown":"Does the string field have a getter?","body":"Does the string field have a getter?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646134846,"post_id":71307685,"comment_id":126043942,"body_markdown":"&quot;More or less&quot; may hide some important differences. Show your actual code.","body":"&quot;More or less&quot; may hide some important differences. Show your actual code."}],"answers":[{"tags":[],"owner":{"account_id":19614982,"reputation":21,"user_id":14356680,"display_name":"Rajan Rana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646134909,"creation_date":1646134909,"answer_id":71307951,"question_id":71307685,"body_markdown":"You can go for creating json object and put the data as key value pair to resolve this issue.\r\n\r\nHappy Coding!!!","title":"Java Spring omits fields when making a JSON","body":"<p>You can go for creating json object and put the data as key value pair to resolve this issue.</p>\n<p>Happy Coding!!!</p>\n"},{"tags":[],"owner":{"account_id":18728352,"reputation":76,"user_id":13654416,"display_name":"AlexAlbu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646136102,"creation_date":1646136102,"answer_id":71308192,"question_id":71307685,"body_markdown":"Usually Spring uses Jackson as the default converter from objects to JSON. In order for Jackson to convert to JSON you must provide getters, so that Jackson can get and convert those values. As I can see in your representation you don&#39;t have any getters. Try providing getters for the fields that you wish to convert. Never make fields public!","title":"Java Spring omits fields when making a JSON","body":"<p>Usually Spring uses Jackson as the default converter from objects to JSON. In order for Jackson to convert to JSON you must provide getters, so that Jackson can get and convert those values. As I can see in your representation you don't have any getters. Try providing getters for the fields that you wish to convert. Never make fields public!</p>\n"}],"owner":{"account_id":22605438,"reputation":15,"user_id":16786403,"display_name":"user16786403"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71308192,"answer_count":2,"score":0,"last_activity_date":1646136839,"creation_date":1646133550,"question_id":71307685,"body_markdown":"```\r\npublic class ConnectedEntry {\r\n\r\n    private EntryInScores scores;\r\n    private EntryInValues values;\r\n    private String someString;\r\n\r\n    public ConnectedEntry(EntryInScores scores, EntryInValues values) {\r\n        this.scores = scores;\r\n        this.values = values;\r\n        this.someString = &quot;Adasd&quot;;\r\n    }\r\n```\r\nI have an object that looks more or less like this, and I use it as a GET response for my API. `scores` and `values` are both database entities. I wanted to add a String to the response with some additional information.\r\n\r\nWhat happens is that the objects are properly turned into a JSON and they show up in the response, but the string is omitted, with no error: it&#39;s just not there.\r\n\r\nI tried wrapping the string in a wrapper class, but it didn&#39;t help.\r\n\r\n\r\nWhat could I do?","title":"Java Spring omits fields when making a JSON","body":"<pre><code>public class ConnectedEntry {\n\n    private EntryInScores scores;\n    private EntryInValues values;\n    private String someString;\n\n    public ConnectedEntry(EntryInScores scores, EntryInValues values) {\n        this.scores = scores;\n        this.values = values;\n        this.someString = &quot;Adasd&quot;;\n    }\n</code></pre>\n<p>I have an object that looks more or less like this, and I use it as a GET response for my API. <code>scores</code> and <code>values</code> are both database entities. I wanted to add a String to the response with some additional information.</p>\n<p>What happens is that the objects are properly turned into a JSON and they show up in the response, but the string is omitted, with no error: it's just not there.</p>\n<p>I tried wrapping the string in a wrapper class, but it didn't help.</p>\n<p>What could I do?</p>\n"},{"tags":["java","android","build.gradle"],"comments":[{"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"score":0,"creation_date":1646125857,"post_id":71306045,"comment_id":126041022,"body_markdown":"This is not enough. You need to share your project build.gradle and app build.gradle and you need to explain which dependencies you cant find","body":"This is not enough. You need to share your project build.gradle and app build.gradle and you need to explain which dependencies you cant find"},{"owner":{"account_id":5442381,"reputation":16756,"user_id":4409113,"accept_rate":88,"display_name":"ʍѳђઽ૯ท"},"score":4,"creation_date":1646125985,"post_id":71306045,"comment_id":126041067,"body_markdown":"They changed it in the latest gradle, check `settings.gradle`.","body":"They changed it in the latest gradle, check <code>settings.gradle</code>."},{"owner":{"account_id":23182527,"reputation":11,"user_id":17280149,"display_name":"COSMO PHYSIOMEDICA"},"score":0,"creation_date":1646126175,"post_id":71306045,"comment_id":126041141,"body_markdown":"Yes , I find it in settings.gradle , thank you very much","body":"Yes , I find it in settings.gradle , thank you very much"}],"owner":{"account_id":23182527,"reputation":11,"user_id":17280149,"display_name":"COSMO PHYSIOMEDICA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646136588,"creation_date":1646125718,"question_id":71306045,"body_markdown":"Hello I&#39;m using a project in Android Studio and I&#39;m using Java my problem is that I can&#39;t found repositories and dependencies. This is my file `build.gradle` :\r\n\r\n```   \r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.1.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.1.1&#39; apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```   \r\n\r\n\r\n\r\n\r\n\r\n---\r\n\r\nThis is build.gradle(app)\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.testt&quot;\r\n        minSdk 19\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;androidx.preference:preference:1.1.1&#39;\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```","title":"Can&#39;t find repositories and dependencies in build.gradle in Android Studio","body":"<p>Hello I'm using a project in Android Studio and I'm using Java my problem is that I can't found repositories and dependencies. This is my file <code>build.gradle</code> :</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.1.1' apply false\n    id 'com.android.library' version '7.1.1' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<hr />\n<p>This is build.gradle(app)</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.testt&quot;\n        minSdk 19\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.preference:preference:1.1.1'\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n"},{"tags":["java","arrays","yaml","bukkit"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1645810723,"post_id":71269415,"comment_id":125977223,"body_markdown":"What is with this trend of writing &quot;Java&quot; in all caps? Is some school teaching students that Java is an acronym?","body":"What is with this trend of writing &quot;Java&quot; in all caps? Is some school teaching students that Java is an acronym?"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645812806,"creation_date":1645811086,"answer_id":71269779,"question_id":71269415,"body_markdown":"If you really want to get as list, you can use `getConfig().getList(&quot;Streuzel&quot;)` that will return a list of `LinkedHashMap&lt;&gt;`. You can use it like that:\r\n```java\r\nLinkedHashMap&lt;String, Object&gt; myObj = (LinkedHashMap&lt;String, Object&gt;) getConfig().getList(&quot;Streuzel&quot;).get(0);\r\nBukkit.broadcastMessage(ChatColor.YELLOW + myObj.get(&quot;name&quot;) + ChatColor.WHITE + &quot;, &quot; + ChatColor.GREEN + myObj.get(&quot;coords&quot;));\r\n```\r\nBut, this is not recommended. It&#39;s better to use configuration section like that:\r\n```yml\r\nStreuzel:\r\n    1:\r\n        name: Home\r\n        coords: X:-1 Y:79 Z:3\r\n    2:\r\n        name: Nether\r\n        coords: X:23 Y:65 Z:-19\r\n```\r\nThen, you can use them like that:\r\n```java\r\nBukkit.broadcastMessage(ChatColor.YELLOW + getConfig().getString(&quot;Streuzel.1.name&quot;) + ChatColor.WHITE + &quot;, &quot; + ChatColor.GREEN + getConfig().getString(&quot;Streuzel.1.coords&quot;));\r\n```\r\nThis way, with section, make it so much easier to get all content. If you want to find all sections, do like that:\r\n```java\r\n// here is the config with all keys\r\nConfigurationSection globalSection = getConfig().getConfigurationSection(&quot;Streuzel&quot;);\r\nfor(String keys : globalSection.getKeys(false)) { // all kays: &quot;1&quot;, &quot;2&quot; ...\r\n   ConfigurationSection objSection = globalSection.getConfigurationSection(keys);\r\n   // here you can load your object, log it or get content with objSection.getString()\r\n}\r\n```","title":"What path to use in Java for YAML arrays with multiple objects?","body":"<p>If you really want to get as list, you can use <code>getConfig().getList(&quot;Streuzel&quot;)</code> that will return a list of <code>LinkedHashMap&lt;&gt;</code>. You can use it like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedHashMap&lt;String, Object&gt; myObj = (LinkedHashMap&lt;String, Object&gt;) getConfig().getList(&quot;Streuzel&quot;).get(0);\nBukkit.broadcastMessage(ChatColor.YELLOW + myObj.get(&quot;name&quot;) + ChatColor.WHITE + &quot;, &quot; + ChatColor.GREEN + myObj.get(&quot;coords&quot;));\n</code></pre>\n<p>But, this is not recommended. It's better to use configuration section like that:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Streuzel:\n    1:\n        name: Home\n        coords: X:-1 Y:79 Z:3\n    2:\n        name: Nether\n        coords: X:23 Y:65 Z:-19\n</code></pre>\n<p>Then, you can use them like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bukkit.broadcastMessage(ChatColor.YELLOW + getConfig().getString(&quot;Streuzel.1.name&quot;) + ChatColor.WHITE + &quot;, &quot; + ChatColor.GREEN + getConfig().getString(&quot;Streuzel.1.coords&quot;));\n</code></pre>\n<p>This way, with section, make it so much easier to get all content. If you want to find all sections, do like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// here is the config with all keys\nConfigurationSection globalSection = getConfig().getConfigurationSection(&quot;Streuzel&quot;);\nfor(String keys : globalSection.getKeys(false)) { // all kays: &quot;1&quot;, &quot;2&quot; ...\n   ConfigurationSection objSection = globalSection.getConfigurationSection(keys);\n   // here you can load your object, log it or get content with objSection.getString()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24375270,"reputation":36,"user_id":18307695,"display_name":"FlyMaster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645813305,"creation_date":1645811304,"answer_id":71269817,"question_id":71269415,"body_markdown":"Actually, `Streuzel` is a `List`, not an array, so you need to use `getList(String)` instead of `getString(String)`. In your case, each element of this list is a `Map&lt;String, String&gt;`. So, if you don&#39;t care about type cast safety (because yaml can be edited by humans and it potentially can lose structure), you can use something like this:\r\n```java\r\n((Map&lt;String, String&gt;)config.getList(&quot;Streuzel&quot;).get(0)).get(&quot;name&quot;) // Home\r\n```\r\nBut ideally, you could either check if &quot;Streuzel&quot; is a list and if it contains a Map, or try...catch ClassCastException.\r\n\r\n&lt;s&gt;About an answer that got posted 3 minutes ago: `Streuzel` is a `List`, not a `Map`!&lt;/s&gt;&lt;br&gt;\r\nEDIT: they fixed it","title":"What path to use in Java for YAML arrays with multiple objects?","body":"<p>Actually, <code>Streuzel</code> is a <code>List</code>, not an array, so you need to use <code>getList(String)</code> instead of <code>getString(String)</code>. In your case, each element of this list is a <code>Map&lt;String, String&gt;</code>. So, if you don't care about type cast safety (because yaml can be edited by humans and it potentially can lose structure), you can use something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>((Map&lt;String, String&gt;)config.getList(&quot;Streuzel&quot;).get(0)).get(&quot;name&quot;) // Home\n</code></pre>\n<p>But ideally, you could either check if &quot;Streuzel&quot; is a list and if it contains a Map, or try...catch ClassCastException.</p>\n<p><s>About an answer that got posted 3 minutes ago: <code>Streuzel</code> is a <code>List</code>, not a <code>Map</code>!</s><br>\nEDIT: they fixed it</p>\n"},{"tags":[],"owner":{"account_id":16160970,"reputation":82,"user_id":11667048,"display_name":"Dieter Blancke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646136583,"creation_date":1646136583,"answer_id":71308292,"question_id":71269415,"body_markdown":"As others have said, you can get a list of Map&lt;String, Object&gt; by using like so:\r\n\r\n```java\r\nList&lt;Map&lt;String, Object&gt;&gt; list = (List&lt;Map&lt;String, Object&gt;&gt;) getConfig().getList(&quot;Streuzel&quot;);\r\n```\r\n\r\nThough this works just fine, I personally am not a fan of it and wish it would support something like:\r\n```java\r\nList&lt;ConfigurationSection&gt; sections = getConfig().getSectionList(&quot;Streuzel&quot;);\r\n```\r\nBut as far as I know, neither the Bukkit API nor API&#39;s based off of it (like Simple-YAML), support this.\r\n\r\n[I have made an API that does support getting a list of sections][1], feel free to check it out (it also supports both JSON and Yaml).\r\n\r\n\r\n  [1]: https://github.com/dieterblancke/ConfigurationAPI","title":"What path to use in Java for YAML arrays with multiple objects?","body":"<p>As others have said, you can get a list of Map&lt;String, Object&gt; by using like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map&lt;String, Object&gt;&gt; list = (List&lt;Map&lt;String, Object&gt;&gt;) getConfig().getList(&quot;Streuzel&quot;);\n</code></pre>\n<p>Though this works just fine, I personally am not a fan of it and wish it would support something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ConfigurationSection&gt; sections = getConfig().getSectionList(&quot;Streuzel&quot;);\n</code></pre>\n<p>But as far as I know, neither the Bukkit API nor API's based off of it (like Simple-YAML), support this.</p>\n<p><a href=\"https://github.com/dieterblancke/ConfigurationAPI\" rel=\"nofollow noreferrer\">I have made an API that does support getting a list of sections</a>, feel free to check it out (it also supports both JSON and Yaml).</p>\n"}],"owner":{"account_id":21785542,"reputation":3,"user_id":16086638,"display_name":"Tim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71269817,"answer_count":3,"score":0,"last_activity_date":1646136583,"creation_date":1645809392,"question_id":71269415,"body_markdown":"I am currently trying to figure out how to get a String from my config.yml into my Java code. More specifically, which path to use to get *&quot;Home&quot;*, *&quot;X:-1 Y:79 Z:3&quot;*, *&quot;Nether&quot;* or *&quot;X:23 Y:65 Z:-19&quot;* extracted into my Java code. I already tried `getConfig().getString(&quot;Streuzel[0].name&quot;)`, but that didn&#39;t work.\r\n\r\nYAML: (Array with multiple objects)\r\n\r\n```yaml\r\nStreuzel:\r\n    -\r\n        name: Home\r\n        coords: X:-1 Y:79 Z:3\r\n    -\r\n        name: Nether\r\n        coords: X:23 Y:65 Z:-19\r\n```\r\n\r\nJava:\r\n\r\n```java\r\nBukkit.broadcastMessage(ChatColor.YELLOW + getConfig().getString(&quot;path?&quot;) + ChatColor.WHITE + &quot;, &quot; + ChatColor.GREEN + getConfig().getString(&quot;path?&quot;));\r\n```\r\n\r\n","title":"What path to use in Java for YAML arrays with multiple objects?","body":"<p>I am currently trying to figure out how to get a String from my config.yml into my Java code. More specifically, which path to use to get <em>&quot;Home&quot;</em>, <em>&quot;X:-1 Y:79 Z:3&quot;</em>, <em>&quot;Nether&quot;</em> or <em>&quot;X:23 Y:65 Z:-19&quot;</em> extracted into my Java code. I already tried <code>getConfig().getString(&quot;Streuzel[0].name&quot;)</code>, but that didn't work.</p>\n<p>YAML: (Array with multiple objects)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Streuzel:\n    -\n        name: Home\n        coords: X:-1 Y:79 Z:3\n    -\n        name: Nether\n        coords: X:23 Y:65 Z:-19\n</code></pre>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bukkit.broadcastMessage(ChatColor.YELLOW + getConfig().getString(&quot;path?&quot;) + ChatColor.WHITE + &quot;, &quot; + ChatColor.GREEN + getConfig().getString(&quot;path?&quot;));\n</code></pre>\n"},{"tags":["java","image","bufferedimage","javax.imageio"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1646123493,"post_id":71304272,"comment_id":126040190,"body_markdown":"&quot;program is *exactly* the same&quot; - sure not the *exact* the same, this would never compile (`getRBG()`/`getRGB()`; `...`) - better if a [mre] was included -- Also see documentation of `Color(int)` constructor: &quot;*Creates an **opaque** sRGB color*&quot; -- try `Color col = new Color(buf.getRGB(x,y), true)`","body":"&quot;program is <i>exactly</i> the same&quot; - sure not the <i>exact</i> the same, this would never compile (<code>getRBG()</code>/<code>getRGB()</code>; <code>...</code>) - better if a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> was included -- Also see documentation of <code>Color(int)</code> constructor: &quot;<i>Creates an <b>opaque</b> sRGB color</i>&quot; -- try <code>Color col = new Color(buf.getRGB(x,y), true)</code>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646122733,"creation_date":1646121342,"answer_id":71305300,"question_id":71304272,"body_markdown":"Make sure your target image is also transparent\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    BufferedImage img = ImageIO.read(Main.class.getResource(&quot;/images/ArrowRight.png&quot;));\r\n    BufferedImage coloredImg = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n    Color targetColor = Color.RED;\r\n    for (int y = 0; y &lt; img.getHeight(); y++) {\r\n        for (int x = 0; x &lt; img.getWidth(); x++) {\r\n            int rgb = img.getRGB(x, y);\r\n            Color color = new Color(rgb, true);\r\n            if (color.getAlpha() &gt; 0) {\r\n                Color pixelColor = new Color(targetColor.getRed(), targetColor.getGreen(), targetColor.getBlue(), color.getAlpha());\r\n                coloredImg.setRGB(x, y, pixelColor.getRGB());\r\n            }\r\n        }\r\n    }\r\n\r\n    JPanel pane = new JPanel();\r\n    pane.add(new JLabel(new ImageIcon(img)));\r\n    pane.add(new JLabel(new ImageIcon(coloredImg)));\r\n\r\n    JOptionPane.showMessageDialog(null, pane);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C8n14.png\r\n\r\nEqually, you could also make use of `Graphics` API and paint to the target image directly\r\n\r\n    BufferedImage img = ImageIO.read(Main.class.getResource(&quot;/images/ArrowRight.png&quot;));\r\n    BufferedImage coloredImg = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n    Color targetColor = Color.RED;\r\n\r\n    Graphics2D g2d = coloredImg.createGraphics();\r\n    g2d.setColor(targetColor);\r\n\r\n    for (int y = 0; y &lt; img.getHeight(); y++) {\r\n        for (int x = 0; x &lt; img.getWidth(); x++) {\r\n            int rgb = img.getRGB(x, y);\r\n            Color color = new Color(rgb, true);\r\n            if (color.getAlpha() &gt; 0) {\r\n                float alpha = color.getAlpha() / 255.0f;\r\n                g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\r\n                g2d.fillRect(x, y, 1, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    g2d.dispose();\r\n\r\n    JPanel pane = new JPanel();\r\n    pane.add(new JLabel(new ImageIcon(img)));\r\n    pane.add(new JLabel(new ImageIcon(coloredImg)));\r\n\r\n    JOptionPane.showMessageDialog(null, pane);\r\n\r\nOr you could just &quot;tint&quot; the image instead, for [example](https://stackoverflow.com/questions/14225518/tinting-image-in-java-improvement/14225857#14225857)","title":"Changing icon color in java","body":"<p>Make sure your target image is also transparent</p>\n<p><a href=\"https://i.stack.imgur.com/C8n14.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C8n14.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>BufferedImage img = ImageIO.read(Main.class.getResource(&quot;/images/ArrowRight.png&quot;));\nBufferedImage coloredImg = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\nColor targetColor = Color.RED;\nfor (int y = 0; y &lt; img.getHeight(); y++) {\n    for (int x = 0; x &lt; img.getWidth(); x++) {\n        int rgb = img.getRGB(x, y);\n        Color color = new Color(rgb, true);\n        if (color.getAlpha() &gt; 0) {\n            Color pixelColor = new Color(targetColor.getRed(), targetColor.getGreen(), targetColor.getBlue(), color.getAlpha());\n            coloredImg.setRGB(x, y, pixelColor.getRGB());\n        }\n    }\n}\n\nJPanel pane = new JPanel();\npane.add(new JLabel(new ImageIcon(img)));\npane.add(new JLabel(new ImageIcon(coloredImg)));\n\nJOptionPane.showMessageDialog(null, pane);\n</code></pre>\n<p>Equally, you could also make use of <code>Graphics</code> API and paint to the target image directly</p>\n<pre><code>BufferedImage img = ImageIO.read(Main.class.getResource(&quot;/images/ArrowRight.png&quot;));\nBufferedImage coloredImg = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\nColor targetColor = Color.RED;\n\nGraphics2D g2d = coloredImg.createGraphics();\ng2d.setColor(targetColor);\n\nfor (int y = 0; y &lt; img.getHeight(); y++) {\n    for (int x = 0; x &lt; img.getWidth(); x++) {\n        int rgb = img.getRGB(x, y);\n        Color color = new Color(rgb, true);\n        if (color.getAlpha() &gt; 0) {\n            float alpha = color.getAlpha() / 255.0f;\n            g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\n            g2d.fillRect(x, y, 1, 1);\n        }\n    }\n}\n\ng2d.dispose();\n\nJPanel pane = new JPanel();\npane.add(new JLabel(new ImageIcon(img)));\npane.add(new JLabel(new ImageIcon(coloredImg)));\n\nJOptionPane.showMessageDialog(null, pane);\n</code></pre>\n<p>Or you could just &quot;tint&quot; the image instead, for <a href=\"https://stackoverflow.com/questions/14225518/tinting-image-in-java-improvement/14225857#14225857\">example</a></p>\n"}],"owner":{"account_id":23316868,"reputation":9,"user_id":17395367,"display_name":"PRINCE KUMAR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646136321,"creation_date":1646114066,"question_id":71304272,"body_markdown":"So I am working with a program that can change theme as per the user&#39;s requirements. Now I have got to change the icon color as per the theme. \r\nSuppose I have an icon &quot;Cut.png&quot; so it will have a large transparent area and some black lines So I want those lines(of any color) to change to the required color and the transparent area to be same. I am trying with a buffered image and I skipped the pixel that has 0 alpha but the output gives me a completely black icon :(\r\n\r\nHere is some part of the code :\r\n```\r\nBufferedImage buf = ImageIO.read(Image Path);\r\nint red = Color.RED.getRBG();\r\nfor(....)//Loop for Row\r\n    for(....)//Loop for column\r\n    {\r\n      Color col = new Color(buf.getRGB(x,y));\r\n      if(col.getAlpha() == 0) continue;\r\n      buf.setRGB(x,y,red);\r\n    }\r\n\r\n```\r\nMy program is exactly the same and I expect that it should ignore transparent pixels and should change the colored pixels to red but the output produced is completely black :(\r\n\r\nThanks for your help :)\r\n","title":"Changing icon color in java","body":"<p>So I am working with a program that can change theme as per the user's requirements. Now I have got to change the icon color as per the theme.\nSuppose I have an icon &quot;Cut.png&quot; so it will have a large transparent area and some black lines So I want those lines(of any color) to change to the required color and the transparent area to be same. I am trying with a buffered image and I skipped the pixel that has 0 alpha but the output gives me a completely black icon :(</p>\n<p>Here is some part of the code :</p>\n<pre><code>BufferedImage buf = ImageIO.read(Image Path);\nint red = Color.RED.getRBG();\nfor(....)//Loop for Row\n    for(....)//Loop for column\n    {\n      Color col = new Color(buf.getRGB(x,y));\n      if(col.getAlpha() == 0) continue;\n      buf.setRGB(x,y,red);\n    }\n\n</code></pre>\n<p>My program is exactly the same and I expect that it should ignore transparent pixels and should change the colored pixels to red but the output produced is completely black :(</p>\n<p>Thanks for your help :)</p>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":8456,"reputation":22280,"user_id":15255,"accept_rate":89,"display_name":"Zarkonnen"},"score":0,"creation_date":1289862545,"post_id":4189704,"comment_id":4528173,"body_markdown":"Changing the buffer size on BufferedReader will just change the amount of temporary storage it uses internally. BufferedReader doesn&#39;t have a size limit, so you should be able to read the entire output with this code. Have you checked that condor_history -long itself produces the full output and doesn&#39;t stop at 32k?","body":"Changing the buffer size on BufferedReader will just change the amount of temporary storage it uses internally. BufferedReader doesn&#39;t have a size limit, so you should be able to read the entire output with this code. Have you checked that condor_history -long itself produces the full output and doesn&#39;t stop at 32k?"},{"owner":{"account_id":673614,"reputation":11,"user_id":508870,"display_name":"samiam"},"score":0,"creation_date":1289918727,"post_id":4189704,"comment_id":4534775,"body_markdown":"Thank you for clarifying.  Running the command returns complete output.","body":"Thank you for clarifying.  Running the command returns complete output."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289863730,"creation_date":1289863730,"answer_id":4189873,"question_id":4189704,"body_markdown":"The problem is not with the `BufferedReader`&#39;s buffer size.\r\n\r\nI think that the real cause is something that the external command is doing.  I suspect that it is bailing out without flushing its stdout stream.  Note that you are &quot;gobbling&quot; but not outputting the command&#39;s stderr stream.  That&#39;s where you may find the evidence pointing to the real cause of the problem.\r\n\r\n-----------------------------\r\n\r\nBy the way, you are using the `StreamGobbler` class in a suboptimal fashion.  It extends `Thread` so the intended way to use is:\r\n\r\n        SteamGobbler sg = new StreamGobbler(...);\r\n        sg.start();\r\n        sg.join();\r\n\r\nbut you are effectively doing this:\r\n\r\n        SteamGobbler sg = new StreamGobbler(...);\r\n        Thread th = new Thread(sg);\r\n        th.start();\r\n        th.join();\r\n\r\nIt works ... but only because a `Thread` *is-a* `Runnable`.","title":"Size limit on BufferedReader exceeded?","body":"<p>The problem is not with the <code>BufferedReader</code>'s buffer size.</p>\n\n<p>I think that the real cause is something that the external command is doing.  I suspect that it is bailing out without flushing its stdout stream.  Note that you are \"gobbling\" but not outputting the command's stderr stream.  That's where you may find the evidence pointing to the real cause of the problem.</p>\n\n<hr>\n\n<p>By the way, you are using the <code>StreamGobbler</code> class in a suboptimal fashion.  It extends <code>Thread</code> so the intended way to use is:</p>\n\n<pre><code>    SteamGobbler sg = new StreamGobbler(...);\n    sg.start();\n    sg.join();\n</code></pre>\n\n<p>but you are effectively doing this:</p>\n\n<pre><code>    SteamGobbler sg = new StreamGobbler(...);\n    Thread th = new Thread(sg);\n    th.start();\n    th.join();\n</code></pre>\n\n<p>It works ... but only because a <code>Thread</code> <em>is-a</em> <code>Runnable</code>.</p>\n"}],"owner":{"account_id":673614,"reputation":11,"user_id":508870,"display_name":"samiam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646136195,"creation_date":1289861900,"question_id":4189704,"body_markdown":"In a java 6 webapp, I am attempting to retrieve a large amount of output from an executed command.  I&#39;ve &quot;borrowed/stolen/based&quot; it on the [javaworld article][1].  The problem I am facing is that the length appears to exceed a size limit since the output is lopped off.  I&#39;ve output the data to a file so I can see the size of what is returned, and that is exactly 32K (32768).  I&#39;ve experimented with changing the default size of the buffer (see BufferedReader constructor), but I have not observed any change to the length of the data returned no matter what value I have for the buffered-size (very small to very large).\r\n\r\nAny advice would be very much appreciated!\r\n\r\n\r\n    public class StreamGobbler extends Thread {\r\n\r\n    private InputStream is;\r\n    private String type;\r\n    private List&lt;String&gt; output;\r\n\r\n    public StreamGobbler(InputStream is, String type) {\r\n        this.is = is;\r\n        this.type = type;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            InputStreamReader isr = new InputStreamReader(is);\r\n            BufferedReader br = new BufferedReader(isr);\r\n            String line = null;\r\n            this.output = new ArrayList&lt;String&gt;();\r\n            while ((line = br.readLine()) != null) {\r\n                this.getOutput().add(line + &quot;\\n&quot;);\r\n                System.out.println(type + &quot;&gt;&quot; + line);\r\n            }\r\n            br.close();\r\n        } catch (IOException ioe) {\r\n            System.err.println(&quot;ERROR: &quot; + ioe.getMessage());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @return the output\r\n     */\r\n    public List&lt;String&gt; getOutput() {\r\n        return output;\r\n    }\r\n}\r\n\r\n    public class JobClassAds {\r\n\r\n    private String CONDOR_HISTORY = &quot;condor_history&quot;;\r\n    private String CONDOR_HISTORY_XML = CONDOR_HISTORY + &quot; -xml&quot;;\r\n    private String CONDOR_HISTORY_LONG = CONDOR_HISTORY + &quot; -long&quot;;\r\n\r\n    public String getHistory() {\r\n        try {\r\n            Runtime runtime = Runtime.getRuntime();\r\n            String exec = CONDOR_HISTORY_LONG;\r\n            Process process = runtime.exec(exec);\r\n            System.out.println(&quot;Running &quot; + exec + &quot; ...&quot;);\r\n\r\n            // Error message\r\n            StreamGobbler errGobbler = new StreamGobbler(process.getErrorStream(), &quot;ERROR&quot;);\r\n\r\n            // Output\r\n            StreamGobbler outGobbler = new StreamGobbler(process.getInputStream(), &quot;OUTPUT&quot;);\r\n\r\n            Thread outThread = new Thread(outGobbler);\r\n            Thread errThread = new Thread(errGobbler);\r\n\r\n            outThread.start();\r\n            errThread.start();\r\n\r\n            outThread.join();\r\n            errThread.join();\r\n\r\n            /*\r\n            String line = null;\r\n\r\n            while ((line = input.readLine()) != null) {\r\n                System.out.println(line);\r\n                content.append(line);\r\n            }\r\n\r\n             *\r\n             */\r\n            \r\n            int exitVal = process.waitFor();\r\n\r\n            List&lt;String&gt; output = outGobbler.getOutput();\r\n            String inputString = &quot;&quot;;\r\n            for (String o : output) {\r\n                inputString += o;\r\n            }\r\n\r\n            System.out.println(exec + &quot; Exited with error code &quot; + exitVal);\r\n\r\n            BufferedWriter out = new BufferedWriter(new FileWriter(&quot;/tmp/history_result.xml&quot;));\r\n            out.write(inputString);\r\n            out.close();\r\n            return inputString;\r\n\r\n        } catch (Exception e) {\r\n            System.err.println(e.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html?page=3","title":"Size limit on BufferedReader exceeded?","body":"<p>In a java 6 webapp, I am attempting to retrieve a large amount of output from an executed command.  I've \"borrowed/stolen/based\" it on the <a href=\"http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html?page=3\" rel=\"nofollow\">javaworld article</a>.  The problem I am facing is that the length appears to exceed a size limit since the output is lopped off.  I've output the data to a file so I can see the size of what is returned, and that is exactly 32K (32768).  I've experimented with changing the default size of the buffer (see BufferedReader constructor), but I have not observed any change to the length of the data returned no matter what value I have for the buffered-size (very small to very large).</p>\n\n<p>Any advice would be very much appreciated!</p>\n\n<pre><code>public class StreamGobbler extends Thread {\n\nprivate InputStream is;\nprivate String type;\nprivate List&lt;String&gt; output;\n\npublic StreamGobbler(InputStream is, String type) {\n    this.is = is;\n    this.type = type;\n}\n\n@Override\npublic void run() {\n    try {\n        InputStreamReader isr = new InputStreamReader(is);\n        BufferedReader br = new BufferedReader(isr);\n        String line = null;\n        this.output = new ArrayList&lt;String&gt;();\n        while ((line = br.readLine()) != null) {\n            this.getOutput().add(line + \"\\n\");\n            System.out.println(type + \"&gt;\" + line);\n        }\n        br.close();\n    } catch (IOException ioe) {\n        System.err.println(\"ERROR: \" + ioe.getMessage());\n    }\n}\n\n/**\n * @return the output\n */\npublic List&lt;String&gt; getOutput() {\n    return output;\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>public class JobClassAds {\n\nprivate String CONDOR_HISTORY = \"condor_history\";\nprivate String CONDOR_HISTORY_XML = CONDOR_HISTORY + \" -xml\";\nprivate String CONDOR_HISTORY_LONG = CONDOR_HISTORY + \" -long\";\n\npublic String getHistory() {\n    try {\n        Runtime runtime = Runtime.getRuntime();\n        String exec = CONDOR_HISTORY_LONG;\n        Process process = runtime.exec(exec);\n        System.out.println(\"Running \" + exec + \" ...\");\n\n        // Error message\n        StreamGobbler errGobbler = new StreamGobbler(process.getErrorStream(), \"ERROR\");\n\n        // Output\n        StreamGobbler outGobbler = new StreamGobbler(process.getInputStream(), \"OUTPUT\");\n\n        Thread outThread = new Thread(outGobbler);\n        Thread errThread = new Thread(errGobbler);\n\n        outThread.start();\n        errThread.start();\n\n        outThread.join();\n        errThread.join();\n\n        /*\n        String line = null;\n\n        while ((line = input.readLine()) != null) {\n            System.out.println(line);\n            content.append(line);\n        }\n\n         *\n         */\n\n        int exitVal = process.waitFor();\n\n        List&lt;String&gt; output = outGobbler.getOutput();\n        String inputString = \"\";\n        for (String o : output) {\n            inputString += o;\n        }\n\n        System.out.println(exec + \" Exited with error code \" + exitVal);\n\n        BufferedWriter out = new BufferedWriter(new FileWriter(\"/tmp/history_result.xml\"));\n        out.write(inputString);\n        out.close();\n        return inputString;\n\n    } catch (Exception e) {\n        System.err.println(e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","netbeans","dbeaver"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1645724549,"post_id":71252847,"comment_id":125953448,"body_markdown":"Nothing in DBeaver logs ? https://dbeaver.com/docs/wiki/Log-files","body":"Nothing in DBeaver logs ? <a href=\"https://dbeaver.com/docs/wiki/Log-files\" rel=\"nofollow noreferrer\">dbeaver.com/docs/wiki/Log-files</a>"},{"owner":{"account_id":1134175,"reputation":6654,"user_id":1119601,"accept_rate":83,"display_name":"stollr"},"score":0,"creation_date":1646053382,"post_id":71252847,"comment_id":126022034,"body_markdown":"@PeterMmm There is a log but it is not relevant to the issue.","body":"@PeterMmm There is a log but it is not relevant to the issue."}],"answers":[{"tags":[],"owner":{"account_id":23572883,"reputation":108,"user_id":17612930,"display_name":"Nikita Akilov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646136001,"creation_date":1646136001,"answer_id":71308174,"question_id":71252847,"body_markdown":"Since DBeaver is an Eclipse RCP application, you need to use Eclipse IDE for RCP and RAP developers. See https://github.com/dbeaver/dbeaver/wiki/Develop-in-Eclipse.\r\n\r\nYou can also use IntelliJ IDEA (https://github.com/dbeaver/dbeaver/wiki/Develop-in-IDEA), but that requires building DBeaver in Eclipse first. ","title":"Run and debug DBeaver with NetBeans","body":"<p>Since DBeaver is an Eclipse RCP application, you need to use Eclipse IDE for RCP and RAP developers. See <a href=\"https://github.com/dbeaver/dbeaver/wiki/Develop-in-Eclipse\" rel=\"nofollow noreferrer\">https://github.com/dbeaver/dbeaver/wiki/Develop-in-Eclipse</a>.</p>\n<p>You can also use IntelliJ IDEA (<a href=\"https://github.com/dbeaver/dbeaver/wiki/Develop-in-IDEA\" rel=\"nofollow noreferrer\">https://github.com/dbeaver/dbeaver/wiki/Develop-in-IDEA</a>), but that requires building DBeaver in Eclipse first.</p>\n"}],"owner":{"account_id":1134175,"reputation":6654,"user_id":1119601,"accept_rate":83,"display_name":"stollr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71308174,"answer_count":1,"score":0,"last_activity_date":1646136001,"creation_date":1645709885,"question_id":71252847,"body_markdown":"Context: I am using [DBeaver][1] to access and view MariaDB databases. Now I have an issue with accessing a remote database via SSH tunnel. I cannot connect although it should.\r\n\r\nI want to run and debug DBeaver in NetBeans. But as I have very few experience with Java and none with Maven I am not sure how to do that.\r\n\r\nI have cloned the Git repository of [DBeaver][2] and opened in NetBeans. Now I see this project structure:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHow can I run the application in debug mode?\r\n\r\n**Update**:\r\nI have already right clicked on the project and selected &quot;Clean and Build&quot;, which ended with &quot;Build Success&quot;. But the menu entry &quot;Run&quot; in the context menu of the project is still disabled.\r\n\r\n\r\n  [1]: https://dbeaver.io/\r\n  [2]: https://github.com/dbeaver/dbeaver\r\n  [3]: https://i.stack.imgur.com/mTPCN.png","title":"Run and debug DBeaver with NetBeans","body":"<p>Context: I am using <a href=\"https://dbeaver.io/\" rel=\"nofollow noreferrer\">DBeaver</a> to access and view MariaDB databases. Now I have an issue with accessing a remote database via SSH tunnel. I cannot connect although it should.</p>\n<p>I want to run and debug DBeaver in NetBeans. But as I have very few experience with Java and none with Maven I am not sure how to do that.</p>\n<p>I have cloned the Git repository of <a href=\"https://github.com/dbeaver/dbeaver\" rel=\"nofollow noreferrer\">DBeaver</a> and opened in NetBeans. Now I see this project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/mTPCN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mTPCN.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I run the application in debug mode?</p>\n<p><strong>Update</strong>:\nI have already right clicked on the project and selected &quot;Clean and Build&quot;, which ended with &quot;Build Success&quot;. But the menu entry &quot;Run&quot; in the context menu of the project is still disabled.</p>\n"},{"tags":["java","spring","spring-mvc","jpa"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1450550267,"post_id":34373401,"comment_id":56489961,"body_markdown":"as the javadocs for flush() say ... only applicable when a transaction is in progress. So presumably you either haven&#39;t started a txn or it is JTA being started elsewhere","body":"as the javadocs for flush() say ... only applicable when a transaction is in progress. So presumably you either haven&#39;t started a txn or it is JTA being started elsewhere"},{"owner":{"account_id":1250708,"reputation":2936,"user_id":1211174,"accept_rate":25,"display_name":"oak"},"score":0,"creation_date":1450551765,"post_id":34373401,"comment_id":56490414,"body_markdown":"according to the doc http://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#merge-T- merge also require transactions","body":"according to the doc <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#merge-T-\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/persistence/&hellip;</a> merge also require transactions"},{"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"score":0,"creation_date":1486690036,"post_id":34373401,"comment_id":71466297,"body_markdown":"I haven&#39;t tested this but it looks suspicious that you expose `dataSource` and `entityManagerFactory` as `@Bean`s but in those bean methods you call directly into other bean definitions, rather than `@Autowire`ing them in.","body":"I haven&#39;t tested this but it looks suspicious that you expose <code>dataSource</code> and <code>entityManagerFactory</code> as <code>@Bean</code>s but in those bean methods you call directly into other bean definitions, rather than <code>@Autowire</code>ing them in."},{"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"score":0,"creation_date":1486690313,"post_id":34373401,"comment_id":71466383,"body_markdown":"I had the same Exception except I could see the `TransactionInterceptor` in the stack trace. My problem was the `EntityManagerFactory` instance I was passing to `JpaTransactionManager#setEntityManagerFactory`.  To produce that Exception I was using `LocalContainerEntityManagerFactoryBean#getNativeEntityManagerFactory` and to resolve it I corrected that to `LocalContainerEntityManagerFactoryBean#getObject()`. TBH it was luck that I found this, after working through this I find the whole JPA / JTA Hibernate / Spring setup (for quite a particular situation) to be quite intimidating.","body":"I had the same Exception except I could see the <code>TransactionInterceptor</code> in the stack trace. My problem was the <code>EntityManagerFactory</code> instance I was passing to <code>JpaTransactionManager#setEntityManagerFactory</code>.  To produce that Exception I was using <code>LocalContainerEntityManagerFactoryBean#getNativeEntityManage&zwnj;&#8203;rFactory</code> and to resolve it I corrected that to <code>LocalContainerEntityManagerFactoryBean#getObject()</code>. TBH it was luck that I found this, after working through this I find the whole JPA / JTA Hibernate / Spring setup (for quite a particular situation) to be quite intimidating."}],"answers":[{"tags":[],"owner":{"account_id":1250708,"reputation":2936,"user_id":1211174,"accept_rate":25,"display_name":"oak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1530282999,"creation_date":1450552499,"answer_id":34374407,"question_id":34373401,"body_markdown":"Just like @Neil Stockton mentioned, some `EntityManager` functions require a Transaction to exist.  [see the doc][1]\r\n\r\nHere is the `doc` about `flush` function:\r\n&gt; void flush() Synchronize the persistence context to the underlying\r\n&gt; database. Throws: TransactionRequiredException - if there is no\r\n&gt; transaction or if the entity manager has not been joined to the\r\n&gt; current transaction PersistenceException - if the flush fails\r\n \r\nThe same goes for `Merge` function as well:\r\n \r\n&gt; &lt;T&gt; T merge(T entity) Merge the state of the given entity into the\r\n&gt; current persistence context. Parameters: entity - entity instance\r\n&gt; Returns: the managed instance that the state was merged to Throws:\r\n&gt; IllegalArgumentException - if instance is not an entity or is a\r\n&gt; removed entity TransactionRequiredException - if there is no\r\n&gt; transaction when invoked on a container-managed entity manager of that\r\n&gt; is of type PersistenceContextType.TRANSACTION\r\n\r\n\r\nSo basically what you want is to create `new transaction` or to use an `exists` one. Since you are using `@EnableTransactionManagement` annotation you can just annotate your method in order to do so\r\n\r\n\r\n\r\n \r\n    @Transactional(propagation=Propagation.REQUIRED)\r\n    public Project save(Project project) {\r\n            project = em.merge(project);\r\n            em.flush();\r\n            return project;\r\n        }\r\n\r\n\r\nMore about `Spring` Transactions can be found at the [spring docs][2]. More the `transactions` in java can be found [at ibm][3] which is highly recommended.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#merge-T-\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html\r\n  [3]: http://www.ibm.com/developerworks/library/j-ts1/","title":"Spring JPA: no transaction is in progress","body":"<p>Just like @Neil Stockton mentioned, some <code>EntityManager</code> functions require a Transaction to exist.  <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#merge-T-\" rel=\"nofollow noreferrer\">see the doc</a></p>\n\n<p>Here is the <code>doc</code> about <code>flush</code> function:</p>\n\n<blockquote>\n  <p>void flush() Synchronize the persistence context to the underlying\n  database. Throws: TransactionRequiredException - if there is no\n  transaction or if the entity manager has not been joined to the\n  current transaction PersistenceException - if the flush fails</p>\n</blockquote>\n\n<p>The same goes for <code>Merge</code> function as well:</p>\n\n<blockquote>\n  <p> T merge(T entity) Merge the state of the given entity into the\n  current persistence context. Parameters: entity - entity instance\n  Returns: the managed instance that the state was merged to Throws:\n  IllegalArgumentException - if instance is not an entity or is a\n  removed entity TransactionRequiredException - if there is no\n  transaction when invoked on a container-managed entity manager of that\n  is of type PersistenceContextType.TRANSACTION</p>\n</blockquote>\n\n<p>So basically what you want is to create <code>new transaction</code> or to use an <code>exists</code> one. Since you are using <code>@EnableTransactionManagement</code> annotation you can just annotate your method in order to do so</p>\n\n<pre><code>@Transactional(propagation=Propagation.REQUIRED)\npublic Project save(Project project) {\n        project = em.merge(project);\n        em.flush();\n        return project;\n    }\n</code></pre>\n\n<p>More about <code>Spring</code> Transactions can be found at the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html\" rel=\"nofollow noreferrer\">spring docs</a>. More the <code>transactions</code> in java can be found <a href=\"http://www.ibm.com/developerworks/library/j-ts1/\" rel=\"nofollow noreferrer\">at ibm</a> which is highly recommended.</p>\n"},{"tags":[],"owner":{"account_id":4427416,"reputation":188,"user_id":3605514,"display_name":"yormen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1590084362,"creation_date":1590084362,"answer_id":61940955,"question_id":34373401,"body_markdown":"Add this to your datasource file/config \r\n\r\n```hibernate.allow_update_outside_transaction: true```\r\n\r\nIt should work, but be sure of your production environment though","title":"Spring JPA: no transaction is in progress","body":"<p>Add this to your datasource file/config </p>\n\n<p><code>hibernate.allow_update_outside_transaction: true</code></p>\n\n<p>It should work, but be sure of your production environment though</p>\n"}],"owner":{"account_id":3823130,"reputation":1991,"user_id":3170702,"accept_rate":39,"display_name":"user3170702"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36746,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1646135581,"creation_date":1450545742,"question_id":34373401,"body_markdown":"I&#39;m having problems persisting entities in my Spring application. Just doing `em.merge()` finishes without errors but does not update the database, and trying `em.flush()` causes this exception:\r\n\r\n&gt; 2015-12-19 18:01:40 DEBUG DispatcherServlet:976 - Could not complete\r\n&gt; request org.springframework.dao.InvalidDataAccessApiUsageException: no\r\n&gt; transaction is in progress; nested exception is\r\n&gt; javax.persistence.TransactionRequiredException: no transaction is in\r\n&gt; progress\r\n\r\nThis is my configuration:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan\r\n    @Import({ SecurityConfig.class })\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    @EnableJpaRepositories\r\n    @EnableTransactionManagement\r\n    public class ApplicationContext extends WebMvcConfigurerAdapter {\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            DriverManagerDataSource datasource = new DriverManagerDataSource();\r\n            datasource.setDriverClassName(&quot;org.postgresql.Driver&quot;);\r\n            datasource.setUrl(&quot;jdbc:postgresql://localhost/expert&quot;);\r\n            datasource.setUsername(&quot;expert&quot;);\r\n            datasource.setPassword(&quot;expert&quot;);\r\n            return datasource;\r\n        }\r\n    \r\n        @Bean\r\n        public JdbcTemplate jdbcTemplate() {\r\n            return new JdbcTemplate(dataSource());\r\n        }\r\n    \r\n        @Bean\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalContainerEntityManagerFactoryBean factoryBean\r\n                    = new LocalContainerEntityManagerFactoryBean();\r\n            factoryBean.setDataSource(dataSource());\r\n            factoryBean.setPackagesToScan(new String[ ] { &quot;test.model&quot; });\r\n            JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            factoryBean.setJpaVendorAdapter(vendorAdapter);\r\n            factoryBean.setJpaProperties(this.additionalProperties());\r\n            return factoryBean;\r\n        }\r\n    \r\n        @Bean\r\n        public PlatformTransactionManager transactionManager() {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\r\n            return transactionManager;\r\n        }\r\n    \r\n        @Bean\r\n        public PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\r\n            return new PersistenceExceptionTranslationPostProcessor();\r\n        }\r\n    \r\n        Properties additionalProperties() {\r\n            Properties properties = new Properties();\r\n            properties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n            properties.setProperty(&quot;hibernate.format_sql&quot;, &quot;false&quot;);\r\n            properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n            properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\r\n            return properties;\r\n        }\r\n    \r\n    }\r\n\r\nMy service:\r\n\r\n    @Service\r\n    @Transactional\r\n    public class ApiProjectServiceImpl implements ApiProjectService {\r\n    \r\n        @Autowired\r\n        private ApiProjectRepository apiProjectRepository;\r\n    \r\n        public Project getProject(Integer id) {\r\n            return apiProjectRepository.getProject(id);\r\n        }\r\n    \r\n        public Project save(Project project) { return apiProjectRepository.save(project); }\r\n    \r\n    }\r\n\r\nAnd the repository:\r\n\r\n    @Repository\r\n    public class ApiProjectRepositoryImpl implements ApiProjectRepository {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager em;\r\n    \r\n        public Project getProject(Integer id) {\r\n            Project project = em.createQuery(&quot;select p from Project p where id = &quot; + id, Project.class)\r\n                    .getSingleResult();\r\n            return project;\r\n        }\r\n    \r\n        public Project save(Project project) {\r\n            project = em.merge(project);\r\n            em.flush();\r\n            return project;\r\n        }\r\n    \r\n    }\r\n\r\nStacktrace when trying `save()`:\r\n\r\n    2015-12-19 18:15:05 DEBUG FilterSecurityInterceptor:215 - Authorization successful\r\n    2015-12-19 18:15:05 DEBUG FilterSecurityInterceptor:227 - RunAsManager did not change Authentication object\r\n    2015-12-19 18:15:05 DEBUG FilterChainProxy:323 - /api/project reached end of additional filter chain; proceeding with original chain\r\n    2015-12-19 18:15:05 DEBUG OpenEntityManagerInViewFilter:160 - Opening JPA EntityManager in OpenEntityManagerInViewFilter\r\n    2015-12-19 18:15:05 DEBUG DispatcherServlet:823 - DispatcherServlet with name &#39;dispatcher&#39; processing POST request for [/api/project]\r\n    2015-12-19 18:15:05 DEBUG RequestMappingHandlerMapping:229 - Looking up handler method for path /api/project\r\n    2015-12-19 18:15:05 DEBUG RequestMappingHandlerMapping:234 - Returning handler method [public test.model.Project test.api.ApiController.saveProject(test.model.Project)]\r\n    2015-12-19 18:15:05 DEBUG DefaultListableBeanFactory:246 - Returning cached instance of singleton bean &#39;apiController&#39;\r\n    2015-12-19 18:15:05 DEBUG RequestResponseBodyMethodProcessor:140 - Reading [class test.model.Project] as &quot;application/json;charset=UTF-8&quot; using [org.springframework.http.converter.json.MappingJacksonHttpMessageConverter@71528048]\r\n    2015-12-19 18:15:05 DEBUG Loader:2136 - Loading entity: [test.model.Project#16623]\r\n    2015-12-19 18:15:05 DEBUG SQL:109 - select project0_.id as id1_6_1_, project0_.awarded as awarded2_6_1_, project0_.broker as broker3_6_1_, project0_.brokerEmail as brokerEm4_6_1_, project0_.brokerPhone as [...]\r\n    2015-12-19 18:15:05 DEBUG LogicalConnectionImpl:226 - Obtaining JDBC connection\r\n    2015-12-19 18:15:05 DEBUG DriverManagerDataSource:162 - Creating new JDBC DriverManager Connection to [jdbc:postgresql://localhost/expert]\r\n    2015-12-19 18:15:05 DEBUG LogicalConnectionImpl:232 - Obtained JDBC connection\r\n    2015-12-19 18:15:05 DEBUG Loader:951 - Result set row: 0\r\n    2015-12-19 18:15:05 DEBUG Loader:1485 - Result row: null, EntityKey[test.model.Project#16623]\r\n    2015-12-19 18:15:05 DEBUG Loader:1336 - Result set contains (possibly empty) collection: [test.model.Project.assignedExperts#16623]\r\n    2015-12-19 18:15:05 DEBUG TwoPhaseLoad:160 - Resolving associations for [test.model.Project#16623]\r\n    2015-12-19 18:15:05 DEBUG Loader:2136 - Loading entity: [test.model.Company#3]\r\n    2015-12-19 18:15:05 DEBUG SQL:109 - select company0_.id as id1_1_0_, company0_.email as email2_1_0_, company0_.name as name3_1_0_ from Company company0_ where company0_.id=?\r\n    2015-12-19 18:15:05 DEBUG Loader:951 - Result set row: 0\r\n    2015-12-19 18:15:05 DEBUG Loader:1485 - Result row: EntityKey[test.model.Company#3]\r\n    2015-12-19 18:15:05 DEBUG TwoPhaseLoad:160 - Resolving associations for [test.model.Company#3]\r\n    2015-12-19 18:15:05 DEBUG TwoPhaseLoad:286 - Done materializing entity [test.model.Company#3]\r\n    2015-12-19 18:15:05 DEBUG Loader:2160 - Done entity load\r\n    2015-12-19 18:15:05 DEBUG TwoPhaseLoad:286 - Done materializing entity [test.model.Project#16623]\r\n    2015-12-19 18:15:05 DEBUG CollectionLoadContext:232 - 1 collections were found in result set for role: test.model.Project.assignedExperts\r\n    2015-12-19 18:15:05 DEBUG CollectionLoadContext:280 - Collection fully initialized: [test.model.Project.assignedExperts#16623]\r\n    2015-12-19 18:15:05 DEBUG CollectionLoadContext:240 - 1 collections initialized for role: test.model.Project.assignedExperts\r\n    2015-12-19 18:15:05 DEBUG Loader:2160 - Done entity load\r\n    2015-12-19 18:15:05 DEBUG Loader:2136 - Loading entity: [test.model.Logging#35672]\r\n    2015-12-19 18:15:05 DEBUG SQL:109 - select logging0_.id as id1_4_0_, logging0_.date as date2_4_0_, logging0_.message as message3_4_0_, logging0_.project_id as project_5_4_0_, logging0_.username as username4_4_0_ from [...]\r\n    2015-12-19 18:15:05 DEBUG Loader:951 - Result set row: 0\r\n    2015-12-19 18:15:05 DEBUG Loader:1485 - Result row: EntityKey[test.model.Logging#35672]\r\n    2015-12-19 18:15:05 DEBUG TwoPhaseLoad:160 - Resolving associations for [test.model.Logging#35672]\r\n    2015-12-19 18:15:05 DEBUG TwoPhaseLoad:286 - Done materializing entity [test.model.Logging#35672]\r\n    2015-12-19 18:15:05 DEBUG Loader:2160 - Done entity load\r\n    2015-12-19 18:15:05 DEBUG Loader:2136 - Loading entity: [test.model.Logging#35673]\r\n    2015-12-19 18:15:05 DEBUG SQL:109 - select logging0_.id as id1_4_0_, logging0_.date as date2_4_0_, logging0_.message as message3_4_0_, logging0_.project_id as project_5_4_0_, logging0_.username as username4_4_0_ from [...]\r\n    2015-12-19 18:15:05 DEBUG Loader:951 - Result set row: 0\r\n    2015-12-19 18:15:05 DEBUG Loader:1485 - Result row: EntityKey[test.model.Logging#35673]\r\n    2015-12-19 18:15:05 DEBUG TwoPhaseLoad:160 - Resolving associations for [test.model.Logging#35673]\r\n    2015-12-19 18:15:05 DEBUG TwoPhaseLoad:286 - Done materializing entity [test.model.Logging#35673]\r\n    2015-12-19 18:15:05 DEBUG Loader:2160 - Done entity load\r\n    2015-12-19 18:15:05 DEBUG Loader:2136 - Loading entity: [test.model.Party#4903]\r\n    2015-12-19 18:15:05 DEBUG SQL:109 - select party0_.id as id1_5_0_, party0_.addressCity as addressC2_5_0_, party0_.addressStreet as addressS3_5_0_, party0_.addressZip as addressZ4_5_0_, party0_.email as email5_5_0_, party0_.expert as [...]\r\n    2015-12-19 18:15:05 DEBUG Loader:951 - Result set row: 0\r\n    2015-12-19 18:15:05 DEBUG Loader:1485 - Result row: EntityKey[test.model.Party#4903]\r\n    2015-12-19 18:15:05 DEBUG TwoPhaseLoad:160 - Resolving associations for [test.model.Party#4903]\r\n    2015-12-19 18:15:05 DEBUG TwoPhaseLoad:286 - Done materializing entity [test.model.Party#4903]\r\n    2015-12-19 18:15:05 DEBUG Loader:2160 - Done entity load\r\n    2015-12-19 18:15:05 DEBUG ExceptionHandlerExceptionResolver:132 - Resolving exception from handler [public test.model.Project test.api.ApiController.saveProject(test.model.Project)]: org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\r\n    2015-12-19 18:15:05 DEBUG ResponseStatusExceptionResolver:132 - Resolving exception from handler [public test.model.Project test.api.ApiController.saveProject(test.model.Project)]: org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\r\n    2015-12-19 18:15:05 DEBUG DefaultHandlerExceptionResolver:132 - Resolving exception from handler [public test.model.Project test.api.ApiController.saveProject(test.model.Project)]: org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\r\n    2015-12-19 18:15:05 DEBUG DispatcherServlet:976 - Could not complete request\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\r\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:413)\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:157)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\r\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:58)\r\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:163)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n        at com.sun.proxy.$Proxy48.save(Unknown Source)\r\n        at test.api.ApiProjectServiceImpl.save(ApiProjectServiceImpl.java:24)\r\n        at test.api.ApiController.saveProject(ApiController.java:58)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:855)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter.doFilterInternal(OpenEntityManagerInViewFilter.java:177)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)\r\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)\r\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1526)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1482)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: javax.persistence.TransactionRequiredException: no transaction is in progress\r\n        at org.hibernate.jpa.spi.AbstractEntityManagerImpl.checkTransactionNeeded(AbstractEntityManagerImpl.java:1171)\r\n        at org.hibernate.jpa.spi.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:1332)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:342)\r\n        at com.sun.proxy.$Proxy39.flush(Unknown Source)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:262)\r\n        at com.sun.proxy.$Proxy39.flush(Unknown Source)\r\n        at test.api.ApiProjectRepositoryImpl.save(ApiProjectRepositoryImpl.java:35)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\r\n        ... 79 more\r\n    2015-12-19 18:15:05 DEBUG OpenEntityManagerInViewFilter:185 - Closing JPA EntityManager in OpenEntityManagerInViewFilter\r\n    2015-12-19 18:15:05 DEBUG EntityManagerFactoryUtils:435 - Closing JPA EntityManager\r\n    2015-12-19 18:15:05 DEBUG LogicalConnectionImpl:246 - Releasing JDBC connection\r\n    2015-12-19 18:15:05 DEBUG LogicalConnectionImpl:264 - Released JDBC connection\r\n    2015-12-19 18:15:05 DEBUG SecurityContextPersistenceFilter:97 - SecurityContextHolder now cleared, as request processing completed\r\n\r\nThanks!\r\n\r\n**Update 1** Apparently the problem has been solved by upgrading from Spring 3.2.8 to Spring 4.2.0. I didn&#39;t make any changes to the code, I&#39;m aware that a transaction is needed but the service implementation is annotated with `@Transactional`. Thanks all.","title":"Spring JPA: no transaction is in progress","body":"<p>I'm having problems persisting entities in my Spring application. Just doing <code>em.merge()</code> finishes without errors but does not update the database, and trying <code>em.flush()</code> causes this exception:</p>\n\n<blockquote>\n  <p>2015-12-19 18:01:40 DEBUG DispatcherServlet:976 - Could not complete\n  request org.springframework.dao.InvalidDataAccessApiUsageException: no\n  transaction is in progress; nested exception is\n  javax.persistence.TransactionRequiredException: no transaction is in\n  progress</p>\n</blockquote>\n\n<p>This is my configuration:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan\n@Import({ SecurityConfig.class })\n@PropertySource(\"classpath:application.properties\")\n@EnableJpaRepositories\n@EnableTransactionManagement\npublic class ApplicationContext extends WebMvcConfigurerAdapter {\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource datasource = new DriverManagerDataSource();\n        datasource.setDriverClassName(\"org.postgresql.Driver\");\n        datasource.setUrl(\"jdbc:postgresql://localhost/expert\");\n        datasource.setUsername(\"expert\");\n        datasource.setPassword(\"expert\");\n        return datasource;\n    }\n\n    @Bean\n    public JdbcTemplate jdbcTemplate() {\n        return new JdbcTemplate(dataSource());\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean factoryBean\n                = new LocalContainerEntityManagerFactoryBean();\n        factoryBean.setDataSource(dataSource());\n        factoryBean.setPackagesToScan(new String[ ] { \"test.model\" });\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        factoryBean.setJpaVendorAdapter(vendorAdapter);\n        factoryBean.setJpaProperties(this.additionalProperties());\n        return factoryBean;\n    }\n\n    @Bean\n    public PlatformTransactionManager transactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\n        return transactionManager;\n    }\n\n    @Bean\n    public PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\n        return new PersistenceExceptionTranslationPostProcessor();\n    }\n\n    Properties additionalProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(\"hibernate.show_sql\", \"true\");\n        properties.setProperty(\"hibernate.format_sql\", \"false\");\n        properties.setProperty(\"hibernate.hbm2ddl.auto\", \"update\");\n        properties.setProperty(\"hibernate.dialect\", \"org.hibernate.dialect.PostgreSQLDialect\");\n        return properties;\n    }\n\n}\n</code></pre>\n\n<p>My service:</p>\n\n<pre><code>@Service\n@Transactional\npublic class ApiProjectServiceImpl implements ApiProjectService {\n\n    @Autowired\n    private ApiProjectRepository apiProjectRepository;\n\n    public Project getProject(Integer id) {\n        return apiProjectRepository.getProject(id);\n    }\n\n    public Project save(Project project) { return apiProjectRepository.save(project); }\n\n}\n</code></pre>\n\n<p>And the repository:</p>\n\n<pre><code>@Repository\npublic class ApiProjectRepositoryImpl implements ApiProjectRepository {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    public Project getProject(Integer id) {\n        Project project = em.createQuery(\"select p from Project p where id = \" + id, Project.class)\n                .getSingleResult();\n        return project;\n    }\n\n    public Project save(Project project) {\n        project = em.merge(project);\n        em.flush();\n        return project;\n    }\n\n}\n</code></pre>\n\n<p>Stacktrace when trying <code>save()</code>:</p>\n\n<pre><code>2015-12-19 18:15:05 DEBUG FilterSecurityInterceptor:215 - Authorization successful\n2015-12-19 18:15:05 DEBUG FilterSecurityInterceptor:227 - RunAsManager did not change Authentication object\n2015-12-19 18:15:05 DEBUG FilterChainProxy:323 - /api/project reached end of additional filter chain; proceeding with original chain\n2015-12-19 18:15:05 DEBUG OpenEntityManagerInViewFilter:160 - Opening JPA EntityManager in OpenEntityManagerInViewFilter\n2015-12-19 18:15:05 DEBUG DispatcherServlet:823 - DispatcherServlet with name 'dispatcher' processing POST request for [/api/project]\n2015-12-19 18:15:05 DEBUG RequestMappingHandlerMapping:229 - Looking up handler method for path /api/project\n2015-12-19 18:15:05 DEBUG RequestMappingHandlerMapping:234 - Returning handler method [public test.model.Project test.api.ApiController.saveProject(test.model.Project)]\n2015-12-19 18:15:05 DEBUG DefaultListableBeanFactory:246 - Returning cached instance of singleton bean 'apiController'\n2015-12-19 18:15:05 DEBUG RequestResponseBodyMethodProcessor:140 - Reading [class test.model.Project] as \"application/json;charset=UTF-8\" using [org.springframework.http.converter.json.MappingJacksonHttpMessageConverter@71528048]\n2015-12-19 18:15:05 DEBUG Loader:2136 - Loading entity: [test.model.Project#16623]\n2015-12-19 18:15:05 DEBUG SQL:109 - select project0_.id as id1_6_1_, project0_.awarded as awarded2_6_1_, project0_.broker as broker3_6_1_, project0_.brokerEmail as brokerEm4_6_1_, project0_.brokerPhone as [...]\n2015-12-19 18:15:05 DEBUG LogicalConnectionImpl:226 - Obtaining JDBC connection\n2015-12-19 18:15:05 DEBUG DriverManagerDataSource:162 - Creating new JDBC DriverManager Connection to [jdbc:postgresql://localhost/expert]\n2015-12-19 18:15:05 DEBUG LogicalConnectionImpl:232 - Obtained JDBC connection\n2015-12-19 18:15:05 DEBUG Loader:951 - Result set row: 0\n2015-12-19 18:15:05 DEBUG Loader:1485 - Result row: null, EntityKey[test.model.Project#16623]\n2015-12-19 18:15:05 DEBUG Loader:1336 - Result set contains (possibly empty) collection: [test.model.Project.assignedExperts#16623]\n2015-12-19 18:15:05 DEBUG TwoPhaseLoad:160 - Resolving associations for [test.model.Project#16623]\n2015-12-19 18:15:05 DEBUG Loader:2136 - Loading entity: [test.model.Company#3]\n2015-12-19 18:15:05 DEBUG SQL:109 - select company0_.id as id1_1_0_, company0_.email as email2_1_0_, company0_.name as name3_1_0_ from Company company0_ where company0_.id=?\n2015-12-19 18:15:05 DEBUG Loader:951 - Result set row: 0\n2015-12-19 18:15:05 DEBUG Loader:1485 - Result row: EntityKey[test.model.Company#3]\n2015-12-19 18:15:05 DEBUG TwoPhaseLoad:160 - Resolving associations for [test.model.Company#3]\n2015-12-19 18:15:05 DEBUG TwoPhaseLoad:286 - Done materializing entity [test.model.Company#3]\n2015-12-19 18:15:05 DEBUG Loader:2160 - Done entity load\n2015-12-19 18:15:05 DEBUG TwoPhaseLoad:286 - Done materializing entity [test.model.Project#16623]\n2015-12-19 18:15:05 DEBUG CollectionLoadContext:232 - 1 collections were found in result set for role: test.model.Project.assignedExperts\n2015-12-19 18:15:05 DEBUG CollectionLoadContext:280 - Collection fully initialized: [test.model.Project.assignedExperts#16623]\n2015-12-19 18:15:05 DEBUG CollectionLoadContext:240 - 1 collections initialized for role: test.model.Project.assignedExperts\n2015-12-19 18:15:05 DEBUG Loader:2160 - Done entity load\n2015-12-19 18:15:05 DEBUG Loader:2136 - Loading entity: [test.model.Logging#35672]\n2015-12-19 18:15:05 DEBUG SQL:109 - select logging0_.id as id1_4_0_, logging0_.date as date2_4_0_, logging0_.message as message3_4_0_, logging0_.project_id as project_5_4_0_, logging0_.username as username4_4_0_ from [...]\n2015-12-19 18:15:05 DEBUG Loader:951 - Result set row: 0\n2015-12-19 18:15:05 DEBUG Loader:1485 - Result row: EntityKey[test.model.Logging#35672]\n2015-12-19 18:15:05 DEBUG TwoPhaseLoad:160 - Resolving associations for [test.model.Logging#35672]\n2015-12-19 18:15:05 DEBUG TwoPhaseLoad:286 - Done materializing entity [test.model.Logging#35672]\n2015-12-19 18:15:05 DEBUG Loader:2160 - Done entity load\n2015-12-19 18:15:05 DEBUG Loader:2136 - Loading entity: [test.model.Logging#35673]\n2015-12-19 18:15:05 DEBUG SQL:109 - select logging0_.id as id1_4_0_, logging0_.date as date2_4_0_, logging0_.message as message3_4_0_, logging0_.project_id as project_5_4_0_, logging0_.username as username4_4_0_ from [...]\n2015-12-19 18:15:05 DEBUG Loader:951 - Result set row: 0\n2015-12-19 18:15:05 DEBUG Loader:1485 - Result row: EntityKey[test.model.Logging#35673]\n2015-12-19 18:15:05 DEBUG TwoPhaseLoad:160 - Resolving associations for [test.model.Logging#35673]\n2015-12-19 18:15:05 DEBUG TwoPhaseLoad:286 - Done materializing entity [test.model.Logging#35673]\n2015-12-19 18:15:05 DEBUG Loader:2160 - Done entity load\n2015-12-19 18:15:05 DEBUG Loader:2136 - Loading entity: [test.model.Party#4903]\n2015-12-19 18:15:05 DEBUG SQL:109 - select party0_.id as id1_5_0_, party0_.addressCity as addressC2_5_0_, party0_.addressStreet as addressS3_5_0_, party0_.addressZip as addressZ4_5_0_, party0_.email as email5_5_0_, party0_.expert as [...]\n2015-12-19 18:15:05 DEBUG Loader:951 - Result set row: 0\n2015-12-19 18:15:05 DEBUG Loader:1485 - Result row: EntityKey[test.model.Party#4903]\n2015-12-19 18:15:05 DEBUG TwoPhaseLoad:160 - Resolving associations for [test.model.Party#4903]\n2015-12-19 18:15:05 DEBUG TwoPhaseLoad:286 - Done materializing entity [test.model.Party#4903]\n2015-12-19 18:15:05 DEBUG Loader:2160 - Done entity load\n2015-12-19 18:15:05 DEBUG ExceptionHandlerExceptionResolver:132 - Resolving exception from handler [public test.model.Project test.api.ApiController.saveProject(test.model.Project)]: org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\n2015-12-19 18:15:05 DEBUG ResponseStatusExceptionResolver:132 - Resolving exception from handler [public test.model.Project test.api.ApiController.saveProject(test.model.Project)]: org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\n2015-12-19 18:15:05 DEBUG DefaultHandlerExceptionResolver:132 - Resolving exception from handler [public test.model.Project test.api.ApiController.saveProject(test.model.Project)]: org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\n2015-12-19 18:15:05 DEBUG DispatcherServlet:976 - Could not complete request\norg.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:413)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:157)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:58)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:163)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n    at com.sun.proxy.$Proxy48.save(Unknown Source)\n    at test.api.ApiProjectServiceImpl.save(ApiProjectServiceImpl.java:24)\n    at test.api.ApiController.saveProject(ApiController.java:58)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:855)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter.doFilterInternal(OpenEntityManagerInViewFilter.java:177)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1526)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1482)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: javax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.checkTransactionNeeded(AbstractEntityManagerImpl.java:1171)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:1332)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:342)\n    at com.sun.proxy.$Proxy39.flush(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:262)\n    at com.sun.proxy.$Proxy39.flush(Unknown Source)\n    at test.api.ApiProjectRepositoryImpl.save(ApiProjectRepositoryImpl.java:35)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\n    ... 79 more\n2015-12-19 18:15:05 DEBUG OpenEntityManagerInViewFilter:185 - Closing JPA EntityManager in OpenEntityManagerInViewFilter\n2015-12-19 18:15:05 DEBUG EntityManagerFactoryUtils:435 - Closing JPA EntityManager\n2015-12-19 18:15:05 DEBUG LogicalConnectionImpl:246 - Releasing JDBC connection\n2015-12-19 18:15:05 DEBUG LogicalConnectionImpl:264 - Released JDBC connection\n2015-12-19 18:15:05 DEBUG SecurityContextPersistenceFilter:97 - SecurityContextHolder now cleared, as request processing completed\n</code></pre>\n\n<p>Thanks!</p>\n\n<p><strong>Update 1</strong> Apparently the problem has been solved by upgrading from Spring 3.2.8 to Spring 4.2.0. I didn't make any changes to the code, I'm aware that a transaction is needed but the service implementation is annotated with <code>@Transactional</code>. Thanks all.</p>\n"},{"tags":["java","hibernate","hibernate-mapping","sessionfactory"],"answers":[{"tags":[],"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1497350125,"creation_date":1497350125,"answer_id":44519052,"question_id":44310754,"body_markdown":"i just got this query answered from the hibernate forums in the following post https://forum.hibernate.org/viewtopic.php?f=1&amp;t=1044395\r\n\r\nWe can use the following setting ***hibernate.allow_update_outside_transaction***\r\nto set the value.","title":"Setting allowOutOfTransactionUpdateOperations property in hibernate","body":"<p>i just got this query answered from the hibernate forums in the following post <a href=\"https://forum.hibernate.org/viewtopic.php?f=1&amp;t=1044395\" rel=\"noreferrer\">https://forum.hibernate.org/viewtopic.php?f=1&amp;t=1044395</a></p>\n\n<p>We can use the following setting <strong><em>hibernate.allow_update_outside_transaction</em></strong>\nto set the value.</p>\n"}],"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4810,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":44519052,"answer_count":1,"score":3,"last_activity_date":1646135519,"creation_date":1496328560,"question_id":44310754,"body_markdown":"I am using **Hibernate 5.2** and just wanted to check if there is a config property in AvailableSettings which i can use to set ***allowOutOfTransactionUpdateOperations*** to true while building a sessionFactory. By looking at the code this can get set using the sessionFactoryBuilder.allowOutOfTransactionUpdateOperations(true); but the problem is that we can get a reference of sessionFactoryBuilder only in Configuration class.\r\n\r\nI tried referring https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/boot/SessionFactoryBuilder.html#allowOutOfTransactionUpdateOperations-boolean-\r\n\r\nbut it doesn&#39;t mention if anything is available with respect to AvailableSettings.\r\n\r\nIs there anyone who has tried to set this property while building sessionFactory, using MetaData or some other way?\r\n\r\nPlease answer specifically to hibernate 5.2.","title":"Setting allowOutOfTransactionUpdateOperations property in hibernate","body":"<p>I am using <strong>Hibernate 5.2</strong> and just wanted to check if there is a config property in AvailableSettings which i can use to set <strong><em>allowOutOfTransactionUpdateOperations</em></strong> to true while building a sessionFactory. By looking at the code this can get set using the sessionFactoryBuilder.allowOutOfTransactionUpdateOperations(true); but the problem is that we can get a reference of sessionFactoryBuilder only in Configuration class.</p>\n\n<p>I tried referring <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/boot/SessionFactoryBuilder.html#allowOutOfTransactionUpdateOperations-boolean-\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/boot/SessionFactoryBuilder.html#allowOutOfTransactionUpdateOperations-boolean-</a></p>\n\n<p>but it doesn't mention if anything is available with respect to AvailableSettings.</p>\n\n<p>Is there anyone who has tried to set this property while building sessionFactory, using MetaData or some other way?</p>\n\n<p>Please answer specifically to hibernate 5.2.</p>\n"},{"tags":["java","android","cookies","webview"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646133479,"creation_date":1646133479,"answer_id":71307670,"question_id":71307623,"body_markdown":"cookies are stored as long as they should, may be even years... but that depend on cookie setting. inspect `Set-Cookie:` header in your request responses and you will find out how long your cookie should be kept by `WebView` (I bet &quot;your&quot; site is setting cookie validity for 2 weeks)\r\n\r\n[some article about mechanic of cookie (and its expiration)](https://thoughtbot.com/blog/lucky-cookies)","title":"Android webview how long cookies are saved?","body":"<p>cookies are stored as long as they should, may be even years... but that depend on cookie setting. inspect <code>Set-Cookie:</code> header in your request responses and you will find out how long your cookie should be kept by <code>WebView</code> (I bet &quot;your&quot; site is setting cookie validity for 2 weeks)</p>\n<p><a href=\"https://thoughtbot.com/blog/lucky-cookies\" rel=\"nofollow noreferrer\">some article about mechanic of cookie (and its expiration)</a></p>\n"}],"owner":{"account_id":15006708,"reputation":23,"user_id":11087003,"display_name":"Fleeploed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646135219,"creation_date":1646133278,"question_id":71307623,"body_markdown":"My app saves cookies but deletes them after 2 weeks. I need the data to be stored for a long time. Please help me.\r\n\r\n   \r\n\r\n    public void getWebview(String myurl) {\r\n        webView.setWebViewClient(new WebViewClient() {\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                return super.shouldOverrideUrlLoading(view, url);\r\n            }\r\n\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                CookieManager.getInstance().setAcceptCookie(true);\r\n                CookieManager.getInstance().acceptCookie();\r\n                CookieManager.getInstance().flush();\r\n            }\r\n\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                super.onPageStarted(view, url, favicon);\r\n            }\r\n\r\n        });\r\n        webView.loadUrl(myurl);\r\n    }","title":"Android webview how long cookies are saved?","body":"<p>My app saves cookies but deletes them after 2 weeks. I need the data to be stored for a long time. Please help me.</p>\n<pre><code>public void getWebview(String myurl) {\n    webView.setWebViewClient(new WebViewClient() {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            return super.shouldOverrideUrlLoading(view, url);\n        }\n\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            CookieManager.getInstance().setAcceptCookie(true);\n            CookieManager.getInstance().acceptCookie();\n            CookieManager.getInstance().flush();\n        }\n\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\n            super.onPageStarted(view, url, favicon);\n        }\n\n    });\n    webView.loadUrl(myurl);\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","hsqldb"],"comments":[{"owner":{"account_id":4121696,"reputation":675,"user_id":3381825,"accept_rate":56,"display_name":"PRATHAP S"},"score":0,"creation_date":1490246649,"post_id":42958659,"comment_id":73029065,"body_markdown":"Try using `@Type` annotation may solve your problem","body":"Try using <code>@Type</code> annotation may solve your problem"},{"owner":{"account_id":9667349,"reputation":367,"user_id":7173451,"accept_rate":91,"display_name":"Jue Debutat"},"score":0,"creation_date":1490256842,"post_id":42958659,"comment_id":73033413,"body_markdown":"Didn&#39;t work. I used it like @PRATHAP S\n@Type(type = &quot;com.package.class&quot;)","body":"Didn&#39;t work. I used it like @PRATHAP S @Type(type = &quot;com.package.class&quot;)"},{"owner":{"account_id":9667349,"reputation":367,"user_id":7173451,"accept_rate":91,"display_name":"Jue Debutat"},"score":0,"creation_date":1490257621,"post_id":42958659,"comment_id":73033814,"body_markdown":"Fixed by https://stackoverflow.com/questions/2121860/storing-objects-in-columns-using-hibernate-jpa . I think most proper solution is custom types though","body":"Fixed by <a href=\"https://stackoverflow.com/questions/2121860/storing-objects-in-columns-using-hibernate-jpa\" title=\"storing objects in columns using hibernate jpa\">stackoverflow.com/questions/2121860/&hellip;</a> . I think most proper solution is custom types though"},{"owner":{"account_id":4121696,"reputation":675,"user_id":3381825,"accept_rate":56,"display_name":"PRATHAP S"},"score":0,"creation_date":1490263055,"post_id":42958659,"comment_id":73037533,"body_markdown":"How can you add interface as a field in Entity class? What are you trying to achieve ?","body":"How can you add interface as a field in Entity class? What are you trying to achieve ?"},{"owner":{"account_id":9667349,"reputation":367,"user_id":7173451,"accept_rate":91,"display_name":"Jue Debutat"},"score":0,"creation_date":1490377316,"post_id":42958659,"comment_id":73101229,"body_markdown":"@PRATHAPS It&#39;s an instance of an interface. Specifically a Behavior. Class &amp; project can be found here: https://github.com/carloworks/masher/blob/master/src/main/java/com/carloworks/model/core/GameMode.java","body":"@PRATHAPS It&#39;s an instance of an interface. Specifically a Behavior. Class &amp; project can be found here: <a href=\"https://github.com/carloworks/masher/blob/master/src/main/java/com/carloworks/model/core/GameMode.java\" rel=\"nofollow noreferrer\">github.com/carloworks/masher/blob/master/src/main/java/com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9667349,"reputation":367,"user_id":7173451,"accept_rate":91,"display_name":"Jue Debutat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646134522,"creation_date":1490646829,"answer_id":43055966,"question_id":42958659,"body_markdown":"Fixed by https://stackoverflow.com/questions/2121860/storing-objects-in-columns-using-hibernate-jpa. I think the most proper solution is custom types though.","title":"string data, right truncation - Hibernate with Spring Boot","body":"<p>Fixed by <a href=\"https://stackoverflow.com/questions/2121860/storing-objects-in-columns-using-hibernate-jpa\">Storing Objects in columns using Hibernate JPA</a>. I think the most proper solution is custom types though.</p>\n"}],"owner":{"account_id":9667349,"reputation":367,"user_id":7173451,"accept_rate":91,"display_name":"Jue Debutat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43055966,"answer_count":1,"score":0,"last_activity_date":1646134522,"creation_date":1490203436,"question_id":42958659,"body_markdown":"So I&#39;ve got an entity class working perfectly. Today I added a new field: \r\n\r\n    ButtonTargetBehavior buttonTargetBehavior;\r\n\r\nButtonTargetBehavior is an interface (which implements Serializable). Whenever I try to run my spring boot app now I get this\r\n\r\n    string data, right truncation \r\nerror which refers to that field (Yes, I actually save an instance of a class that implements the interface, for example:\r\n\r\n    public class RandomButtonTargetBehavior implements ButtonTargetBehavior\r\n\r\n).\r\n\r\nI use HSQLDB for testing and MySQL on production. What do I need to do?","title":"string data, right truncation - Hibernate with Spring Boot","body":"<p>So I've got an entity class working perfectly. Today I added a new field: </p>\n\n<pre><code>ButtonTargetBehavior buttonTargetBehavior;\n</code></pre>\n\n<p>ButtonTargetBehavior is an interface (which implements Serializable). Whenever I try to run my spring boot app now I get this</p>\n\n<pre><code>string data, right truncation \n</code></pre>\n\n<p>error which refers to that field (Yes, I actually save an instance of a class that implements the interface, for example:</p>\n\n<pre><code>public class RandomButtonTargetBehavior implements ButtonTargetBehavior\n</code></pre>\n\n<p>).</p>\n\n<p>I use HSQLDB for testing and MySQL on production. What do I need to do?</p>\n"},{"tags":["java","android","android-fragments","android-alertdialog"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":2,"creation_date":1646131884,"post_id":71307302,"comment_id":126043075,"body_markdown":"what&#39;s the point of doing findViewById and ViewBinding ?","body":"what&#39;s the point of doing findViewById and ViewBinding ?"}],"answers":[{"tags":[],"owner":{"account_id":10743627,"reputation":655,"user_id":7905787,"display_name":"Adnan Bashir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646132098,"creation_date":1646132098,"answer_id":71307365,"question_id":71307302,"body_markdown":"there is a problem in \r\n```\r\n(Button)getView().findViewById(R.id.add_money);\r\n```\r\n\r\nplease make sure id is same as in XML. ","title":"Alert dialog in Fragment, app get crashed","body":"<p>there is a problem in</p>\n<pre><code>(Button)getView().findViewById(R.id.add_money);\n</code></pre>\n<p>please make sure id is same as in XML.</p>\n"},{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646134008,"creation_date":1646132171,"answer_id":71307378,"question_id":71307302,"body_markdown":"`onCreateView` returns `View` which can be further obtained by `getView()` method. and you are calling it before `onCreateView` had a chance to return own `View` for framework (its still inside method, didn&#39;t `return binding.getRoot();` yet)\r\n\r\nif you are using view binding then obtain your `Button` from there\r\n\r\n    Button button = (Button) binding.addMoney;\r\n\r\nor even just use strictly (without additional local `Button`)\r\n\r\n    binding.addMoney.setOnClickListener(...\r\n\r\nand if you REALLY WANT to use `findViewById` (but why...), then you can look inside `binding.getRoot()` even when it isn&#39;t returned/drawn yet\r\n\r\n    Button button = (Button) binding.getRoot().findViewById(R.id.add_money);","title":"Alert dialog in Fragment, app get crashed","body":"<p><code>onCreateView</code> returns <code>View</code> which can be further obtained by <code>getView()</code> method. and you are calling it before <code>onCreateView</code> had a chance to return own <code>View</code> for framework (its still inside method, didn't <code>return binding.getRoot();</code> yet)</p>\n<p>if you are using view binding then obtain your <code>Button</code> from there</p>\n<pre><code>Button button = (Button) binding.addMoney;\n</code></pre>\n<p>or even just use strictly (without additional local <code>Button</code>)</p>\n<pre><code>binding.addMoney.setOnClickListener(...\n</code></pre>\n<p>and if you REALLY WANT to use <code>findViewById</code> (but why...), then you can look inside <code>binding.getRoot()</code> even when it isn't returned/drawn yet</p>\n<pre><code>Button button = (Button) binding.getRoot().findViewById(R.id.add_money);\n</code></pre>\n"}],"owner":{"account_id":19169913,"reputation":336,"user_id":14003858,"display_name":"sumanth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71307378,"answer_count":2,"score":-2,"last_activity_date":1646134008,"creation_date":1646131804,"question_id":71307302,"body_markdown":"I want to display the alert dialog when onClick of the button in fragment layout. I have tried but the app is crashing when it runs.\r\n\r\n\r\n     @Override\r\n      public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        binding = FragmentWalletBinding.inflate(inflater, container, false);\r\n\r\n        Button button = (Button)getView().findViewById(R.id.add_money);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                AlertDialog.Builder alertdialog = new AlertDialog.Builder(view.getContext());\r\n                alertdialog.setMessage(&quot;this is message&quot;);\r\n                alertdialog.setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        Toast.makeText(getContext(),&quot;toast message&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }).show();\r\n            }\r\n        });\r\n\r\n        return binding.getRoot();\r\n    }\r\n\r\n[![log message][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CSUiy.png","title":"Alert dialog in Fragment, app get crashed","body":"<p>I want to display the alert dialog when onClick of the button in fragment layout. I have tried but the app is crashing when it runs.</p>\n<pre><code> @Override\n  public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n\n    binding = FragmentWalletBinding.inflate(inflater, container, false);\n\n    Button button = (Button)getView().findViewById(R.id.add_money);\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            AlertDialog.Builder alertdialog = new AlertDialog.Builder(view.getContext());\n            alertdialog.setMessage(&quot;this is message&quot;);\n            alertdialog.setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    Toast.makeText(getContext(),&quot;toast message&quot;,Toast.LENGTH_SHORT).show();\n                }\n            }).show();\n        }\n    });\n\n    return binding.getRoot();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CSUiy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CSUiy.png\" alt=\"log message\" /></a></p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":7559705,"reputation":113,"user_id":5737769,"accept_rate":80,"display_name":"rubynewbie"},"score":0,"creation_date":1456319267,"post_id":35602508,"comment_id":58890619,"body_markdown":"@HrundiV.Bakshi I added colors..","body":"@HrundiV.Bakshi I added colors.."}],"answers":[{"tags":[],"owner":{"account_id":2755771,"reputation":108,"user_id":2373903,"display_name":"heniv181"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456319992,"creation_date":1456319992,"answer_id":35603365,"question_id":35602508,"body_markdown":"I&#39;m no expert. But could it be related to the AppCompat changes between 4 and 5?\r\n\r\n[AppVompat v21 - Material Design for pre-Lolipop] http://android-developers.blogspot.se/2014/10/appcompat-v21-material-design-for-pre.html[1]\r\n\r\n\r\n  [1]: http://android-developers.blogspot.se/2014/10/appcompat-v21-material-design-for-pre.html","title":"Android - different background on different devices","body":"<p>I'm no expert. But could it be related to the AppCompat changes between 4 and 5?</p>\n\n<p>[AppVompat v21 - Material Design for pre-Lolipop] <a href=\"http://android-developers.blogspot.se/2014/10/appcompat-v21-material-design-for-pre.html\" rel=\"nofollow\">http://android-developers.blogspot.se/2014/10/appcompat-v21-material-design-for-pre.html</a><a href=\"http://android-developers.blogspot.se/2014/10/appcompat-v21-material-design-for-pre.html\" rel=\"nofollow\">1</a></p>\n"},{"tags":[],"owner":{"account_id":7559705,"reputation":113,"user_id":5737769,"accept_rate":80,"display_name":"rubynewbie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456386805,"creation_date":1456386805,"answer_id":35621357,"question_id":35602508,"body_markdown":"In        \r\n\r\n    &lt;item name=&quot;android:buttonStyle&quot;&gt;@style/ButtonText&lt;/item&gt;\r\n\r\nRemove &quot;android:&quot;\r\n\r\n        &lt;item name=&quot;buttonStyle&quot;&gt;@style/ButtonText&lt;/item&gt;\r\n\r\n","title":"Android - different background on different devices","body":"<p>In        </p>\n\n<pre><code>&lt;item name=\"android:buttonStyle\"&gt;@style/ButtonText&lt;/item&gt;\n</code></pre>\n\n<p>Remove \"android:\"</p>\n\n<pre><code>    &lt;item name=\"buttonStyle\"&gt;@style/ButtonText&lt;/item&gt;\n</code></pre>\n"}],"owner":{"account_id":7559705,"reputation":113,"user_id":5737769,"accept_rate":80,"display_name":"rubynewbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646133657,"creation_date":1456317678,"question_id":35602508,"body_markdown":"I have my own theme. It works fine on Android 5+ (buttons&#39; background is black as I defined, black activity background, buttons&#39; text color). All colors are defined correctly.\r\n\r\nBut on Android 4 buttons&#39; background is white (like standard theme) (everything another is ok).\r\nI have no idea why.\r\nButton:\r\n   \r\n\r\n     &lt;Button\r\n            android:layout_width=&quot;303dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/auth_button&quot;\r\n            android:id=&quot;@+id/auth_endwork_button&quot;\r\n            android:padding=&quot;@dimen/activity_horizontal_margin&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;/&gt;\r\n\r\nstyle.xml\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n            &lt;item name=&quot;android:colorForeground&quot;&gt;@color/textColorSecondary&lt;/item&gt;\r\n            &lt;item name=&quot;android:colorBackground&quot;&gt;@color/colorBackground&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/textColorPrimary&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/textColorPrimary&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowBackground&quot;&gt;@color/windowBackground&lt;/item&gt;\r\n            &lt;item name=&quot;android:itemBackground&quot;&gt;@color/colorBackground&lt;/item&gt;\r\n            &lt;item name=&quot;android:buttonStyle&quot;&gt;@style/ButtonText&lt;/item&gt;\r\n            &lt;item name=&quot;android:editTextStyle&quot;&gt;@style/EditTextStyle&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;EditTextStyle&quot; parent=&quot;android:style/Widget.EditText&quot;&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/textColorPrimary&lt;/item&gt;\r\n            &lt;item name=&quot;android:background&quot;&gt;@color/colorBackground&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;ButtonText&quot; parent=&quot;@android:style/Widget.Button&quot;&gt;\r\n            &lt;item name=&quot;android:background&quot;&gt;@drawable/button_style&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/text_color&lt;/item&gt;\r\n            &lt;item name=&quot;android:padding&quot;&gt;0dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:minWidth&quot;&gt;88dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:minHeight&quot;&gt;36dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:layout_margin&quot;&gt;3dp&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;AppTheme.NoActionBar&quot;&gt;\r\n            &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n            &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;/style&gt;\r\n        &lt;style name=&quot;AppTheme.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot;/&gt;\r\n        &lt;style name=&quot;AppTheme.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot;/&gt;\r\n\r\n\r\nButton style:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_pressed=&quot;true&quot;\r\n              android:drawable=&quot;@color/buttonPressed&quot; /&gt; &lt;!-- pressed --&gt;\r\n        &lt;item android:drawable=&quot;@color/colorPrimary&quot; /&gt; &lt;!-- default (not pressed) --&gt;\r\n    &lt;/selector&gt;\r\n\r\n\r\nColors:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;color name=&quot;colorPrimary&quot;&gt;#FF212121&lt;/color&gt;\r\n        &lt;color name=&quot;colorPrimaryDark&quot;&gt;#FF000000&lt;/color&gt;\r\n        &lt;color name=&quot;colorAccent&quot;&gt;#FF80CBC4&lt;/color&gt;\r\n        &lt;color name=&quot;colorBackground&quot;&gt;#FF303030&lt;/color&gt;\r\n        &lt;color name=&quot;textColorPrimary&quot;&gt;#FFFFFFFF&lt;/color&gt;\r\n        &lt;color name=&quot;textColorSecondary&quot;&gt;#FFFFFFFF&lt;/color&gt;\r\n        &lt;color name=&quot;windowBackground&quot;&gt;#FF303030&lt;/color&gt;\r\n        &lt;color name=&quot;buttonPressed&quot;&gt;#FF3B3B3B&lt;/color&gt;\r\n        &lt;color name=&quot;buttonDisabled&quot;&gt;#83868a&lt;/color&gt;\r\n    &lt;/resources&gt;","title":"Android - different background on different devices","body":"<p>I have my own theme. It works fine on Android 5+ (buttons' background is black as I defined, black activity background, buttons' text color). All colors are defined correctly.</p>\n\n<p>But on Android 4 buttons' background is white (like standard theme) (everything another is ok).\nI have no idea why.\nButton:</p>\n\n<pre><code> &lt;Button\n        android:layout_width=\"303dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/auth_button\"\n        android:id=\"@+id/auth_endwork_button\"\n        android:padding=\"@dimen/activity_horizontal_margin\"\n        android:layout_gravity=\"center_horizontal\"/&gt;\n</code></pre>\n\n<p>style.xml</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=\"android:colorForeground\"&gt;@color/textColorSecondary&lt;/item&gt;\n        &lt;item name=\"android:colorBackground\"&gt;@color/colorBackground&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/textColorPrimary&lt;/item&gt;\n        &lt;item name=\"android:textColorPrimary\"&gt;@color/textColorPrimary&lt;/item&gt;\n        &lt;item name=\"android:windowBackground\"&gt;@color/windowBackground&lt;/item&gt;\n        &lt;item name=\"android:itemBackground\"&gt;@color/colorBackground&lt;/item&gt;\n        &lt;item name=\"android:buttonStyle\"&gt;@style/ButtonText&lt;/item&gt;\n        &lt;item name=\"android:editTextStyle\"&gt;@style/EditTextStyle&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"EditTextStyle\" parent=\"android:style/Widget.EditText\"&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/textColorPrimary&lt;/item&gt;\n        &lt;item name=\"android:background\"&gt;@color/colorBackground&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"ButtonText\" parent=\"@android:style/Widget.Button\"&gt;\n        &lt;item name=\"android:background\"&gt;@drawable/button_style&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/text_color&lt;/item&gt;\n        &lt;item name=\"android:padding\"&gt;0dp&lt;/item&gt;\n        &lt;item name=\"android:minWidth\"&gt;88dp&lt;/item&gt;\n        &lt;item name=\"android:minHeight\"&gt;36dp&lt;/item&gt;\n        &lt;item name=\"android:layout_margin\"&gt;3dp&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"AppTheme.NoActionBar\"&gt;\n        &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n    &lt;style name=\"AppTheme.AppBarOverlay\" parent=\"ThemeOverlay.AppCompat.Dark.ActionBar\"/&gt;\n    &lt;style name=\"AppTheme.PopupOverlay\" parent=\"ThemeOverlay.AppCompat.Light\"/&gt;\n</code></pre>\n\n<p>Button style:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:state_pressed=\"true\"\n          android:drawable=\"@color/buttonPressed\" /&gt; &lt;!-- pressed --&gt;\n    &lt;item android:drawable=\"@color/colorPrimary\" /&gt; &lt;!-- default (not pressed) --&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>Colors:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;color name=\"colorPrimary\"&gt;#FF212121&lt;/color&gt;\n    &lt;color name=\"colorPrimaryDark\"&gt;#FF000000&lt;/color&gt;\n    &lt;color name=\"colorAccent\"&gt;#FF80CBC4&lt;/color&gt;\n    &lt;color name=\"colorBackground\"&gt;#FF303030&lt;/color&gt;\n    &lt;color name=\"textColorPrimary\"&gt;#FFFFFFFF&lt;/color&gt;\n    &lt;color name=\"textColorSecondary\"&gt;#FFFFFFFF&lt;/color&gt;\n    &lt;color name=\"windowBackground\"&gt;#FF303030&lt;/color&gt;\n    &lt;color name=\"buttonPressed\"&gt;#FF3B3B3B&lt;/color&gt;\n    &lt;color name=\"buttonDisabled\"&gt;#83868a&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","eclipse","selenium","hashmap"],"answers":[{"tags":[],"owner":{"account_id":22182005,"reputation":1,"user_id":16425574,"display_name":"Asaf B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646133423,"creation_date":1646070307,"answer_id":71298980,"question_id":71298506,"body_markdown":"Your `hashmap` key type is **Object** while the value for that key is **Double**. Once you use \r\n\r\n    billed_amount.get(&quot;value&quot;) \r\n\r\nThe returned value is **Double** (it returns the value of the key = &quot;value&quot;).\r\nAfter that you try to cast the return value (Double type) into Map type.\r\n\r\nWhat are you trying to do? Get back the value of which his key equals &quot;value&quot;?","title":"How do we fetch inner value from value in Hashmap in Java?","body":"<p>Your <code>hashmap</code> key type is <strong>Object</strong> while the value for that key is <strong>Double</strong>. Once you use</p>\n<pre><code>billed_amount.get(&quot;value&quot;) \n</code></pre>\n<p>The returned value is <strong>Double</strong> (it returns the value of the key = &quot;value&quot;).\nAfter that you try to cast the return value (Double type) into Map type.</p>\n<p>What are you trying to do? Get back the value of which his key equals &quot;value&quot;?</p>\n"}],"owner":{"account_id":24408063,"reputation":1,"user_id":18335959,"display_name":"Shruti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646133423,"creation_date":1646067784,"question_id":71298506,"body_markdown":"I have got a Hashmap entry in Eclipse as below:\r\n\r\n[Link to the picture of the hashmap output][1]\r\n\r\nI&#39;m unable to fetch the value using the key = &quot;value&quot;.\r\nError that I&#39;m receiving is as:\r\njava.lang.ClassCastException: class java.lang.Double cannot be cast to class java.util.Map (java.lang.Double and java.util.Map are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nCode with which I&#39;m trying to fetch is as below:\r\n\r\nMap&lt;Object, Double&gt; billed_amount_value = new HashMap&lt;Object, Double&gt;();\r\n\r\nbilled_amount_value = (Map&lt;Object, Double&gt;) billed_amount.get(&quot;value&quot;);\r\n\r\nI&#39;m unable to fetch the value using the key = &quot;value&quot;. Can someone please help me to get the right code?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8pSIh.png","title":"How do we fetch inner value from value in Hashmap in Java?","body":"<p>I have got a Hashmap entry in Eclipse as below:</p>\n<p><a href=\"https://i.stack.imgur.com/8pSIh.png\" rel=\"nofollow noreferrer\">Link to the picture of the hashmap output</a></p>\n<p>I'm unable to fetch the value using the key = &quot;value&quot;.\nError that I'm receiving is as:\njava.lang.ClassCastException: class java.lang.Double cannot be cast to class java.util.Map (java.lang.Double and java.util.Map are in module java.base of loader 'bootstrap')</p>\n<p>Code with which I'm trying to fetch is as below:</p>\n<p>Map&lt;Object, Double&gt; billed_amount_value = new HashMap&lt;Object, Double&gt;();</p>\n<p>billed_amount_value = (Map&lt;Object, Double&gt;) billed_amount.get(&quot;value&quot;);</p>\n<p>I'm unable to fetch the value using the key = &quot;value&quot;. Can someone please help me to get the right code?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1633546846,"post_id":69470976,"comment_id":122791459,"body_markdown":"*What if we find a way to find out the sum of all the elements of all possible subarrays forming from an array and store it in an arraylist*, your code is not doing that.","body":"<i>What if we find a way to find out the sum of all the elements of all possible subarrays forming from an array and store it in an arraylist</i>, your code is not doing that."},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1633546896,"post_id":69470976,"comment_id":122791472,"body_markdown":"also this is not a very good method because as the size of array increases, the number of possible subarrays increases rapidly, thus increasing computational complexity. If the size of the array is n, then the time complexity of this solution is O(n&#178;) which is not very good.","body":"also this is not a very good method because as the size of array increases, the number of possible subarrays increases rapidly, thus increasing computational complexity. If the size of the array is n, then the time complexity of this solution is O(n&#178;) which is not very good."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1633546973,"post_id":69470976,"comment_id":122791502,"body_markdown":"Well, if you assume that the entire array is a subarray of itself and each element is also a subarray,  for an array of size `N` there will be `N(N+1)/2` subarrays and therefore the size of the resulting array of sums.  And you can use that to help determine if you are on the right track.","body":"Well, if you assume that the entire array is a subarray of itself and each element is also a subarray,  for an array of size <code>N</code> there will be <code>N(N+1)&#47;2</code> subarrays and therefore the size of the resulting array of sums.  And you can use that to help determine if you are on the right track."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633549542,"creation_date":1633549542,"answer_id":69471862,"question_id":69470976,"body_markdown":"This doesn&#39;t use Kadanes algorithm, but it does sum the sub arrays.  It is facilitated by using the `subList` method of the `List` interface.\r\n```\r\nfor (int i = 1; i &lt; 8; i++) {\r\n\tList&lt;Integer&gt; list =\r\n\t\t\tIntStream.range(1, i+1).boxed().toList();\r\n\tList&lt;Integer&gt; sums = new ArrayList&lt;&gt;();\r\n\tfindsubs(list, 0, list.size(), sums);\r\n\tSystem.out.println(sums);\r\n\tsums.clear();\r\n}\r\n```\r\nprints\r\n```\r\n[1]\r\n[3, 2, 1]\r\n[6, 5, 3, 3, 2, 1]\r\n[10, 9, 7, 4, 6, 5, 3, 3, 2, 1]\r\n[15, 14, 12, 9, 5, 10, 9, 7, 4, 6, 5, 3, 3, 2, 1]\r\n[21, 20, 18, 15, 11, 6, 15, 14, 12, 9, 5, 10, 9, 7, 4, 6, 5, 3, 3, 2, 1]\r\n[28, 27, 25, 22, 18, 13, 7, 21, 20, 18, 15, 11, 6, 15, 14, 12, 9, 5, 10, 9, 7, 4, 6, 5, 3, 3, 2, 1]\r\n```\r\nThe method\r\n```\r\n\t\r\npublic static void findsubs(List&lt;Integer&gt; list, int s, int e,\r\n\t\tList&lt;Integer&gt; sums) {\r\n\tif (s &gt;= e) {\r\n\t\treturn;\r\n\t}\r\n\tfor (int i = s; i &lt; e; i++) {\r\n\t\tsums.add(list.subList(i, e).stream()\r\n\t\t\t\t.mapToInt(Integer::intValue).sum());\r\n\t}\r\n\tfindsubs(list, s, e - 1, sums);\r\n\t\r\n}","title":"Sum of all elements of each subarray","body":"<p>This doesn't use Kadanes algorithm, but it does sum the sub arrays.  It is facilitated by using the <code>subList</code> method of the <code>List</code> interface.</p>\n<pre><code>for (int i = 1; i &lt; 8; i++) {\n    List&lt;Integer&gt; list =\n            IntStream.range(1, i+1).boxed().toList();\n    List&lt;Integer&gt; sums = new ArrayList&lt;&gt;();\n    findsubs(list, 0, list.size(), sums);\n    System.out.println(sums);\n    sums.clear();\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[1]\n[3, 2, 1]\n[6, 5, 3, 3, 2, 1]\n[10, 9, 7, 4, 6, 5, 3, 3, 2, 1]\n[15, 14, 12, 9, 5, 10, 9, 7, 4, 6, 5, 3, 3, 2, 1]\n[21, 20, 18, 15, 11, 6, 15, 14, 12, 9, 5, 10, 9, 7, 4, 6, 5, 3, 3, 2, 1]\n[28, 27, 25, 22, 18, 13, 7, 21, 20, 18, 15, 11, 6, 15, 14, 12, 9, 5, 10, 9, 7, 4, 6, 5, 3, 3, 2, 1]\n</code></pre>\n<p>The method</p>\n<pre><code>    \npublic static void findsubs(List&lt;Integer&gt; list, int s, int e,\n        List&lt;Integer&gt; sums) {\n    if (s &gt;= e) {\n        return;\n    }\n    for (int i = s; i &lt; e; i++) {\n        sums.add(list.subList(i, e).stream()\n                .mapToInt(Integer::intValue).sum());\n    }\n    findsubs(list, s, e - 1, sums);\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17586283,"reputation":1,"user_id":12758966,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646133335,"creation_date":1646133335,"answer_id":71307641,"question_id":69470976,"body_markdown":"    long subarraySum(vector&lt;long&gt; &amp;A) {\r\n        long result = 0;\r\n        int n = A.size();\r\n        for (int i=0; i &lt;n; ++i)\r\n        {\r\n            result +=(A[i]*(i+1)*(n-i));\r\n        }\r\n        return result;\r\n    }\r\n\r\nSum of all sub array means,\r\nActually each element how many time contribute himself in each sub array\r\nlets take : [1 2 3 4][0,0][0,1][1,1][0,2][1,2][2,2][0,3][1,3][2,3][3,3]\r\n\r\ncontribution of ith element is A[i]*(i+1)*(n-i)","title":"Sum of all elements of each subarray","body":"<pre><code>long subarraySum(vector&lt;long&gt; &amp;A) {\n    long result = 0;\n    int n = A.size();\n    for (int i=0; i &lt;n; ++i)\n    {\n        result +=(A[i]*(i+1)*(n-i));\n    }\n    return result;\n}\n</code></pre>\n<p>Sum of all sub array means,\nActually each element how many time contribute himself in each sub array\nlets take : [1 2 3 4][0,0][0,1][1,1][0,2][1,2][2,2][0,3][1,3][2,3][3,3]</p>\n<p>contribution of ith element is A[i]<em>(i+1)</em>(n-i)</p>\n"}],"owner":{"account_id":19166183,"reputation":21,"user_id":14000852,"display_name":"Ranitdas26"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646133335,"creation_date":1633545110,"question_id":69470976,"body_markdown":"I was solving Kadane&#39;s algorithm , a very weird approach came to my mind while solving it. What if we find a way to find out the sum of all the elements of all possible subarrays forming from an array and store it in an arraylist. I&#39;ve been thinking about it for a long time now, but I&#39;m unable to solve it. It would be great if I can get some assistance.\r\n\r\n`\r\n\r\n     import java.util.*;\r\n     import java.lang.*;\r\n     import java.io.*;\r\n    \r\n    class Sample\r\n    {\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\t// your code goes here\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint n = sc.nextInt();\r\n    \t\tint[] arr = new int[n];\r\n    \t\tfor(int i=0;i&lt;n;i++){\r\n    \t\t    arr[i]=sc.nextInt();\r\n    \t\t}\r\n    \t\tArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    \t\tint sum=0;\r\n    \t\tfor(int i=0;i&lt;n;i++){\r\n    \t\t    sum+=arr[i];\r\n    \t\t}\r\n    \t\tlist.add(sum);\r\n    \t\tfor(int i=0;i&lt;n;i++){\r\n    \t\t    list.add(arr[i]);\r\n    \t\t}\r\n    \t\tfor(int i=0;i&lt;n;i++){\r\n    \t\t    //sum-=arr[i];\r\n    \t\t    if(!list.contains(sum-arr[i]) &amp;&amp; (sum-arr[i])&gt;0){\r\n    \t\t        list.add(sum-arr[i]);\r\n    \t\t    }\r\n    \t\t    sum=sum-arr[i];\r\n    \t\t}\r\n    \t\tSystem.out.println(list);\r\n    \t}\r\n    }\r\n\r\n`\r\n\r\nThis is what I&#39;ve done till now. There&#39;s a very big flaw in the logic and I know it but I just can&#39;t seem to solve it.","title":"Sum of all elements of each subarray","body":"<p>I was solving Kadane's algorithm , a very weird approach came to my mind while solving it. What if we find a way to find out the sum of all the elements of all possible subarrays forming from an array and store it in an arraylist. I've been thinking about it for a long time now, but I'm unable to solve it. It would be great if I can get some assistance.</p>\n<p>`</p>\n<pre><code> import java.util.*;\n import java.lang.*;\n import java.io.*;\n\nclass Sample\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        // your code goes here\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int[] arr = new int[n];\n        for(int i=0;i&lt;n;i++){\n            arr[i]=sc.nextInt();\n        }\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        int sum=0;\n        for(int i=0;i&lt;n;i++){\n            sum+=arr[i];\n        }\n        list.add(sum);\n        for(int i=0;i&lt;n;i++){\n            list.add(arr[i]);\n        }\n        for(int i=0;i&lt;n;i++){\n            //sum-=arr[i];\n            if(!list.contains(sum-arr[i]) &amp;&amp; (sum-arr[i])&gt;0){\n                list.add(sum-arr[i]);\n            }\n            sum=sum-arr[i];\n        }\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p>`</p>\n<p>This is what I've done till now. There's a very big flaw in the logic and I know it but I just can't seem to solve it.</p>\n"},{"tags":["java","spring","spring-boot","spring-actuator"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646133328,"creation_date":1646133328,"answer_id":71307636,"question_id":71307569,"body_markdown":"It doesn&#39;t exist anymore (see https://docs.spring.io/spring-boot/docs/2.6.4/api/). In version 2.2.0 it was deprecated in favour of `@ConditionalOnAvailableEndpoint` (see https://docs.spring.io/spring-boot/docs/2.2.0.RELEASE/api/org/springframework/boot/actuate/autoconfigure/endpoint/condition/ConditionalOnEnabledEndpoint.html).","title":"Replace ConditionalOnEnabledEndpoint for Spring Boot 2.6.4","body":"<p>It doesn't exist anymore (see <a href=\"https://docs.spring.io/spring-boot/docs/2.6.4/api/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.6.4/api/</a>). In version 2.2.0 it was deprecated in favour of <code>@ConditionalOnAvailableEndpoint</code> (see <a href=\"https://docs.spring.io/spring-boot/docs/2.2.0.RELEASE/api/org/springframework/boot/actuate/autoconfigure/endpoint/condition/ConditionalOnEnabledEndpoint.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.2.0.RELEASE/api/org/springframework/boot/actuate/autoconfigure/endpoint/condition/ConditionalOnEnabledEndpoint.html</a>).</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71307636,"answer_count":1,"score":1,"last_activity_date":1646133328,"creation_date":1646133037,"question_id":71307569,"body_markdown":"I want to migrate old Spring project which is using this dependency:\r\n\r\n    org.springframework.boot.actuate.autoconfigure.endpoint.condition.ConditionalOnEnabledEndpoint\r\n\r\nThis Class requires import of:\r\n\r\n    &#39;org.springframework.boot:spring-boot-actuator-autoconfigure:2.0.2.RELEASE&#39;\r\n\r\nI tried to use the latest version:\r\n\r\n&#39;org.springframework.boot:spring-boot-actuator-autoconfigure:2.6.4&#39; but `ConditionalOnEnabledEndpoint` is not available. Do you know which class should be used?","title":"Replace ConditionalOnEnabledEndpoint for Spring Boot 2.6.4","body":"<p>I want to migrate old Spring project which is using this dependency:</p>\n<pre><code>org.springframework.boot.actuate.autoconfigure.endpoint.condition.ConditionalOnEnabledEndpoint\n</code></pre>\n<p>This Class requires import of:</p>\n<pre><code>'org.springframework.boot:spring-boot-actuator-autoconfigure:2.0.2.RELEASE'\n</code></pre>\n<p>I tried to use the latest version:</p>\n<p>'org.springframework.boot:spring-boot-actuator-autoconfigure:2.6.4' but <code>ConditionalOnEnabledEndpoint</code> is not available. Do you know which class should be used?</p>\n"},{"tags":["java","retrofit2","okhttp"],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646132918,"creation_date":1646038873,"answer_id":71292596,"question_id":71286168,"body_markdown":"Implement a custom CookieJar and set on the OkHttpClient\r\n\r\nhttps://square.github.io/okhttp/4.x/okhttp/okhttp3/-cookie-jar/\r\n\r\n```\r\nabstract fun loadForRequest(url: HttpUrl): List&lt;Cookie&gt;\r\n```\r\n\r\n&gt; Load cookies from the jar for an HTTP request to url. This method returns a possibly empty list of cookies for the network request.","title":"Dynamic Cookies For Retrofit 2 Requests","body":"<p>Implement a custom CookieJar and set on the OkHttpClient</p>\n<p><a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-cookie-jar/\" rel=\"nofollow noreferrer\">https://square.github.io/okhttp/4.x/okhttp/okhttp3/-cookie-jar/</a></p>\n<pre><code>abstract fun loadForRequest(url: HttpUrl): List&lt;Cookie&gt;\n</code></pre>\n<blockquote>\n<p>Load cookies from the jar for an HTTP request to url. This method returns a possibly empty list of cookies for the network request.</p>\n</blockquote>\n"}],"owner":{"account_id":9553538,"reputation":633,"user_id":7096838,"display_name":"Agnibha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646132918,"creation_date":1645976726,"question_id":71286168,"body_markdown":"I&#39;ve been using retrofit for quite a long time and haven&#39;t faced any serious usability issue before now. So my use case is very simple, I&#39;ve to fetch an entity from another API that we&#39;re using to process a few data. Now the only issue is the service is using `Cookies` to accept entity id. \r\n\r\nSo this means that each request needs to have dynamic set of cookie associated with it. But currently I cannot see anything such that in Retrofit. I can see a old [PR][1], but it was rejected for unknown reason. \r\n\r\n\r\nCan anyone from Retrofit team can help in this matter. I think it will be very helpful. If you need code examples I can provide that in an edit. \r\n\r\nTIA\r\n\r\n\r\n  [1]: https://github.com/square/retrofit/pull/915","title":"Dynamic Cookies For Retrofit 2 Requests","body":"<p>I've been using retrofit for quite a long time and haven't faced any serious usability issue before now. So my use case is very simple, I've to fetch an entity from another API that we're using to process a few data. Now the only issue is the service is using <code>Cookies</code> to accept entity id.</p>\n<p>So this means that each request needs to have dynamic set of cookie associated with it. But currently I cannot see anything such that in Retrofit. I can see a old <a href=\"https://github.com/square/retrofit/pull/915\" rel=\"nofollow noreferrer\">PR</a>, but it was rejected for unknown reason.</p>\n<p>Can anyone from Retrofit team can help in this matter. I think it will be very helpful. If you need code examples I can provide that in an edit.</p>\n<p>TIA</p>\n"},{"tags":["java","windows","logstash"],"answers":[{"tags":[],"owner":{"account_id":1440220,"reputation":555,"user_id":1360586,"display_name":"Numan KIZILIRMAK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567063615,"creation_date":1541539452,"answer_id":53180238,"question_id":53035863,"body_markdown":"problem was seem my region but even I changed my region it did not change anything and I found `StandardHttpRequestRetryHandler` in  `client.rb` file \r\n\r\nand \r\n\r\nchanged `&#39;Java::OrgApacheHttpImplClient::StandardHttpRequestRetryHandler&#39;`  to `&#39;Java::OrgApacheHttp.impl.client::StandardHttpRequestRetryHandler&#39;` and it solved my problem","title":"Logstash missing class name (`org.apache.http.─▒mpl.client.StandardHttpRequestRetryHandler&#39;)","body":"<p>problem was seem my region but even I changed my region it did not change anything and I found <code>StandardHttpRequestRetryHandler</code> in  <code>client.rb</code> file </p>\n\n<p>and </p>\n\n<p>changed <code>'Java::OrgApacheHttpImplClient::StandardHttpRequestRetryHandler'</code>  to <code>'Java::OrgApacheHttp.impl.client::StandardHttpRequestRetryHandler'</code> and it solved my problem</p>\n"},{"tags":[],"owner":{"account_id":15922433,"reputation":31,"user_id":11687605,"display_name":"Omer CANGA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567062039,"creation_date":1567062039,"answer_id":57704699,"question_id":53035863,"body_markdown":"problem was seem by region because of this, I had changed \r\n````jvm.options ````from```` logstash\\config````\r\n\r\nthen I set\r\n```` \r\n## Locale\r\n# Set the locale language\r\n#-Duser.language=en\r\n\r\n# Set the locale country\r\n#-Duser.country=US\r\n````\r\nto this \r\n```` ## Locale\r\n# Set the locale language\r\n-Duser.language=en\r\n\r\n# Set the locale country\r\n-Duser.country=US\r\n```` \r\nthen  and it solved my problem\r\n ","title":"Logstash missing class name (`org.apache.http.─▒mpl.client.StandardHttpRequestRetryHandler&#39;)","body":"<p>problem was seem by region because of this, I had changed \n<code>jvm.options</code>from<code>logstash\\config</code></p>\n\n<p>then I set</p>\n\n<pre><code>## Locale\n# Set the locale language\n#-Duser.language=en\n\n# Set the locale country\n#-Duser.country=US\n</code></pre>\n\n<p>to this </p>\n\n<pre><code># Set the locale language\n-Duser.language=en\n\n# Set the locale country\n-Duser.country=US\n</code></pre>\n\n<p>then  and it solved my problem</p>\n"},{"tags":[],"owner":{"account_id":16928396,"reputation":1,"user_id":12243418,"display_name":"Finn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646132743,"creation_date":1646132743,"answer_id":71307509,"question_id":53035863,"body_markdown":"If you are using CentOS 8, the path for solution is:\r\n```\r\n/usr/share/logstash/vendor/bundle/jruby/2.5.0/gems/manticore-0.8.0-java/lib/manticore/client.rb\r\n```\r\n\r\nAnd you should change this: \r\n```\r\n&quot;OrgApacheHttpImplClient&quot; ==&gt; &quot;OrgApacheHttp.impl.client&quot;\r\n```","title":"Logstash missing class name (`org.apache.http.─▒mpl.client.StandardHttpRequestRetryHandler&#39;)","body":"<p>If you are using CentOS 8, the path for solution is:</p>\n<pre><code>/usr/share/logstash/vendor/bundle/jruby/2.5.0/gems/manticore-0.8.0-java/lib/manticore/client.rb\n</code></pre>\n<p>And you should change this:</p>\n<pre><code>&quot;OrgApacheHttpImplClient&quot; ==&gt; &quot;OrgApacheHttp.impl.client&quot;\n</code></pre>\n"}],"owner":{"account_id":1440220,"reputation":555,"user_id":1360586,"display_name":"Numan KIZILIRMAK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1219,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1646132743,"creation_date":1540759119,"question_id":53035863,"body_markdown":"I want to use logstash to fetch data from rabitmq on windows but when I start logstash with even empty input and output I get missing class name `org.apache.http.─Impl.client.StandardHttpRequestRetryHandler` error.\r\n\r\nOn cmd I run:\r\n\r\n    C:\\ELK_Stack\\logstash\\bin&gt;logstash -e input {stdin {}}output {stdout {}} --debug\r\n\r\nbut I get \r\n\r\n&gt; [ERROR] 2018-10-28 23:29:38.504 [main] Logstash - java.lang.IllegalStateException: Logstash stopped processing because of an error: (NameError) missing class name (org.apache.http.─▒mpl.client.StandardHttpRequestRetryHandler)","title":"Logstash missing class name (`org.apache.http.─▒mpl.client.StandardHttpRequestRetryHandler&#39;)","body":"<p>I want to use logstash to fetch data from rabitmq on windows but when I start logstash with even empty input and output I get missing class name <code>org.apache.http.─Impl.client.StandardHttpRequestRetryHandler</code> error.</p>\n\n<p>On cmd I run:</p>\n\n<pre><code>C:\\ELK_Stack\\logstash\\bin&gt;logstash -e input {stdin {}}output {stdout {}} --debug\n</code></pre>\n\n<p>but I get </p>\n\n<blockquote>\n  <p>[ERROR] 2018-10-28 23:29:38.504 [main] Logstash - java.lang.IllegalStateException: Logstash stopped processing because of an error: (NameError) missing class name (org.apache.http.─▒mpl.client.StandardHttpRequestRetryHandler)</p>\n</blockquote>\n"},{"tags":["java","spring","aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1646133040,"post_id":71307496,"comment_id":126043407,"body_markdown":"The method invocation is build **before** the method is invoked, at that point it is still `null`. It is being set upon invocation (due to your `@Around` aspect). Ditch the aspect and write a filter which does this.","body":"The method invocation is build <b>before</b> the method is invoked, at that point it is still <code>null</code>. It is being set upon invocation (due to your <code>@Around</code> aspect). Ditch the aspect and write a filter which does this."},{"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"score":0,"creation_date":1646134078,"post_id":71307496,"comment_id":126043709,"body_markdown":"@M.Deinum thanks for the answer. But one more question, can I use other AOP annotation for that case?","body":"@M.Deinum thanks for the answer. But one more question, can I use other AOP annotation for that case?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1646137135,"post_id":71307496,"comment_id":126044700,"body_markdown":"No. Because SPring MVC builds the invocation before it is invoked, so no AOP isn&#39;t going to solve this for you.","body":"No. Because SPring MVC builds the invocation before it is invoked, so no AOP isn&#39;t going to solve this for you."},{"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"score":0,"creation_date":1646149522,"post_id":71307496,"comment_id":126049443,"body_markdown":"You are right, so I create WebMvcConfigurer bean and class that implements `HandlerMethodArgumentResolver`, thanks for the explanation","body":"You are right, so I create WebMvcConfigurer bean and class that implements <code>HandlerMethodArgumentResolver</code>, thanks for the explanation"}],"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646132662,"creation_date":1646132662,"question_id":71307496,"body_markdown":"I would like to read the request attribute in the controller that I added in spring AOP. But is still return null. Maybe I read this data incorrectly? Maybe I can&#39;t use annotation for that? \r\n\r\nAop:\r\n\r\n    @Around(value = &quot;putMappingPointcut(putMapping)&quot;, argNames = &quot;joinPoint,putMapping&quot;)\r\n    public Object checkPutHeaders(ProceedingJoinPoint joinPoint, PutMapping putMapping)    throws Throwable {\r\n\r\n    final RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n    final HttpServletRequest request = ((ServletRequestAttributes) Objects.requireNonNull(requestAttributes)).getRequest();\r\n    final String apiKey = request.getHeader(API_KEY);\r\n\r\n\r\n     final String company = apiKeyProviderService.getCompanyBy(apiKey);\r\n     request.setAttribute(&quot;company&quot;, company);\r\n\r\n     return joinPoint.proceed();\r\n    }\r\n\r\nController:\r\n\r\n    @PutMapping(&quot;/accounts&quot;)\r\n    public Company authenticate(@RequestAttribute(name = &quot;company&quot;, required = false) String company,\r\n                                @RequestBody Authentication authentication) {\r\n    ....\r\n    \r\n    }\r\n\r\nIf I add `HttpServletRequest` to my controller and call `getAttribut(&quot;company&quot;)` I receive correct code for company.\r\n\r\nThanks for the help!","title":"@RequestAttribute return null for own attribute created by AOP","body":"<p>I would like to read the request attribute in the controller that I added in spring AOP. But is still return null. Maybe I read this data incorrectly? Maybe I can't use annotation for that?</p>\n<p>Aop:</p>\n<pre><code>@Around(value = &quot;putMappingPointcut(putMapping)&quot;, argNames = &quot;joinPoint,putMapping&quot;)\npublic Object checkPutHeaders(ProceedingJoinPoint joinPoint, PutMapping putMapping)    throws Throwable {\n\nfinal RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\nfinal HttpServletRequest request = ((ServletRequestAttributes) Objects.requireNonNull(requestAttributes)).getRequest();\nfinal String apiKey = request.getHeader(API_KEY);\n\n\n final String company = apiKeyProviderService.getCompanyBy(apiKey);\n request.setAttribute(&quot;company&quot;, company);\n\n return joinPoint.proceed();\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PutMapping(&quot;/accounts&quot;)\npublic Company authenticate(@RequestAttribute(name = &quot;company&quot;, required = false) String company,\n                            @RequestBody Authentication authentication) {\n....\n\n}\n</code></pre>\n<p>If I add <code>HttpServletRequest</code> to my controller and call <code>getAttribut(&quot;company&quot;)</code> I receive correct code for company.</p>\n<p>Thanks for the help!</p>\n"},{"tags":["java","spring","testing","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1646188358,"post_id":71307367,"comment_id":126059907,"body_markdown":"This question is off-topic on Stack Overflow, because it will attract opinionated answer. If you have a concrete problem, you need to describe it. You tagged the question with _spock_ and also mention Spock testing, but where is your Spock test? Please be advised to learn how to ask good questions by providing an [MCVE](https://stackoverflow.com/help/mcve).","body":"This question is off-topic on Stack Overflow, because it will attract opinionated answer. If you have a concrete problem, you need to describe it. You tagged the question with <i>spock</i> and also mention Spock testing, but where is your Spock test? Please be advised to learn how to ask good questions by providing an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."}],"answers":[{"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646132602,"creation_date":1646132602,"answer_id":71307478,"question_id":71307367,"body_markdown":"This is a tricky question and you&#39;ll find different answers for that.\r\nIf I understand correctly, you are basically asking if constructor injection is better than setter injection or vice versa, correct?\r\n\r\nObviously constructor injection is neat when you have a limited amount of fields in your class. Constructors with 20 args are not very readable and should definitely be avoided. In that case you would have to use setter injection and call the setters for the individual fields one by one.\r\n\r\nBut maybe if you have a class with so many fields that need injecting, it would be good to refactor and get your dependencies down to a smaller amount.\r\n\r\nPersonally I prefer construtor injection but there are arguments against it.","title":"When to pass a parameter as a constructor parameter or as a method parameter","body":"<p>This is a tricky question and you'll find different answers for that.\nIf I understand correctly, you are basically asking if constructor injection is better than setter injection or vice versa, correct?</p>\n<p>Obviously constructor injection is neat when you have a limited amount of fields in your class. Constructors with 20 args are not very readable and should definitely be avoided. In that case you would have to use setter injection and call the setters for the individual fields one by one.</p>\n<p>But maybe if you have a class with so many fields that need injecting, it would be good to refactor and get your dependencies down to a smaller amount.</p>\n<p>Personally I prefer construtor injection but there are arguments against it.</p>\n"}],"owner":{"account_id":15210638,"reputation":5,"user_id":11074670,"display_name":"DonalDraper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71307478,"answer_count":1,"score":0,"last_activity_date":1646132602,"creation_date":1646132113,"question_id":71307367,"body_markdown":"I currently have this class that uses a Service class in a class method. Currently I am creating an instance of the service class in my method as shown below. The question I am wondering is that when it comes to testing, I am using spock and it seems to be difficult to test when a new instance of a class is being created in the method rather than being passed in as a constructor parameter for dependency injection. I am wondering would passing in an instance of Service class into Handler as a constructor parameter be the correct way of doing this? Thanks\r\n\r\n```\r\npublic class Handler{\r\n   private Service service;\r\n\r\n    public Handler(){}\r\n\r\npublic void someMethod(ObjectNeededForService object){\r\n   service = new Service(object);\r\n}\r\n}","title":"When to pass a parameter as a constructor parameter or as a method parameter","body":"<p>I currently have this class that uses a Service class in a class method. Currently I am creating an instance of the service class in my method as shown below. The question I am wondering is that when it comes to testing, I am using spock and it seems to be difficult to test when a new instance of a class is being created in the method rather than being passed in as a constructor parameter for dependency injection. I am wondering would passing in an instance of Service class into Handler as a constructor parameter be the correct way of doing this? Thanks</p>\n<pre><code>public class Handler{\n   private Service service;\n\n    public Handler(){}\n\npublic void someMethod(ObjectNeededForService object){\n   service = new Service(object);\n}\n}\n</code></pre>\n"},{"tags":["java","c++"],"answers":[{"tags":[],"owner":{"account_id":7123842,"reputation":27597,"user_id":5684257,"display_name":"HTNW"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645961030,"creation_date":1645961030,"answer_id":71284346,"question_id":71284219,"body_markdown":"The header file needs to be updated when you move `AddNumbers` into a package. If you run `javac -h` on `AddNumbers.java` when it contains the `package Test;` line, the header file will declare `Java_Test_AddNumbers_Add_1Numbers` instead of `Java_AddNumbers_Add_1Numbers`. This should make sense: the native function name contains the full name of the Java class and moving a class into different package changes its full name, so the native function name changes when you move class into a package. The error you see is because Java can&#39;t match the native implementation to the class method if the names are wrong.\r\n\r\nRegenerate the header file by running `javac -h` again and update the implementation file to match the new function name.","title":"&quot;package&quot; causing a class not found error when using JavaNativeInterface","body":"<p>The header file needs to be updated when you move <code>AddNumbers</code> into a package. If you run <code>javac -h</code> on <code>AddNumbers.java</code> when it contains the <code>package Test;</code> line, the header file will declare <code>Java_Test_AddNumbers_Add_1Numbers</code> instead of <code>Java_AddNumbers_Add_1Numbers</code>. This should make sense: the native function name contains the full name of the Java class and moving a class into different package changes its full name, so the native function name changes when you move class into a package. The error you see is because Java can't match the native implementation to the class method if the names are wrong.</p>\n<p>Regenerate the header file by running <code>javac -h</code> again and update the implementation file to match the new function name.</p>\n"}],"owner":{"account_id":19006905,"reputation":64,"user_id":18322491,"display_name":"MatErW3len"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646132590,"creation_date":1645960013,"question_id":71284219,"body_markdown":"this is my first ever question so I am sorry if I cannot explain my problem clearly. I am learning Java Native Interface. And I am running into a very weird error when I use the package keyword. My tests run fine without this keyword. I am using Windows.\r\nBelow is an example of my problem.\r\nIn a folder &#39;Test&#39;, I create an AddNumbers.java file\r\n```\r\npackage Test;\r\nimport java.util.Scanner;\r\npublic class AddNumbers {\r\n    static{\r\n        System.loadLibrary(&quot;addNumbers&quot;);;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        AddNumbers adder = new AddNumbers();\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.print(&quot;ENTER INTEGER 1: &quot;);\r\n        int i1 = in.nextInt();\r\n        in.nextLine();\r\n        System.out.print(&quot;ENTER INTEGER 2: &quot;);\r\n        int i2 = in.nextInt();\r\n        in.nextLine();\r\n        System.out.println(&quot;THE SUM IS: &quot; + adder.Add_Numbers(i1, i2));\r\n    }\r\n    private native int Add_Numbers(int i1, int i2);\r\n}\r\n```\r\nThen in powershell, I run ` javac -h . AddNumbers.java` and this gives me AddNumbers.class and\r\nAddNumbers.h. Below is AddNumbers.h\r\n```\r\n/* DO NOT EDIT THIS FILE - it is machine generated */\r\n#include &lt;jni.h&gt;\r\n/* Header for class AddNumbers */\r\n\r\n#ifndef _Included_AddNumbers\r\n#define _Included_AddNumbers\r\n#ifdef __cplusplus\r\nextern &quot;C&quot; {\r\n#endif\r\n\r\nJNIEXPORT jint JNICALL Java_Test_AddNumbers_Add_1Numbers\r\n  (JNIEnv *, jobject, jint, jint);\r\n\r\n#ifdef __cplusplus\r\n}\r\n#endif\r\n#endif\r\n```\r\nI write a AddNumbers.cpp file:\r\n```\r\n#include &quot;AddNumbers.h&quot;\r\nJNIEXPORT jint JNICALL Java_Test_AddNumbers_Add_1Numbers\r\n  (JNIEnv *, jobject, jint first, jint second){\r\n      return first + second;\r\n  }\r\n```\r\nThen I run ```g++ -c -IC:\\Program` Files\\Java\\jdk-17\\include AddNumbers.cpp -o AddNumbers.o``` followed by  ```g++ -shared -o addNumbers.dll AddNumbers.o``` to get the .dll file. But now that I do ```java AddNumbers``` it gives me a class not found error. I have even tried with full qualified name of classes that is ```java Test.AddNumbers``` in this case I hope. The only difference is that if I remove package from AddNumbers.java the program works. What am I missing? \r\n\r\nEdit: i wasn&#39;t going back to previous directory before calling java &lt;fully qualified class name&gt; &#128517;\r\n\r\n\r\n\r\n","title":"&quot;package&quot; causing a class not found error when using JavaNativeInterface","body":"<p>this is my first ever question so I am sorry if I cannot explain my problem clearly. I am learning Java Native Interface. And I am running into a very weird error when I use the package keyword. My tests run fine without this keyword. I am using Windows.\nBelow is an example of my problem.\nIn a folder 'Test', I create an AddNumbers.java file</p>\n<pre><code>package Test;\nimport java.util.Scanner;\npublic class AddNumbers {\n    static{\n        System.loadLibrary(&quot;addNumbers&quot;);;\n    }\n\n    public static void main(String[] args) {\n        AddNumbers adder = new AddNumbers();\n        Scanner in = new Scanner(System.in);\n        System.out.print(&quot;ENTER INTEGER 1: &quot;);\n        int i1 = in.nextInt();\n        in.nextLine();\n        System.out.print(&quot;ENTER INTEGER 2: &quot;);\n        int i2 = in.nextInt();\n        in.nextLine();\n        System.out.println(&quot;THE SUM IS: &quot; + adder.Add_Numbers(i1, i2));\n    }\n    private native int Add_Numbers(int i1, int i2);\n}\n</code></pre>\n<p>Then in powershell, I run <code> javac -h . AddNumbers.java</code> and this gives me AddNumbers.class and\nAddNumbers.h. Below is AddNumbers.h</p>\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class AddNumbers */\n\n#ifndef _Included_AddNumbers\n#define _Included_AddNumbers\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n\nJNIEXPORT jint JNICALL Java_Test_AddNumbers_Add_1Numbers\n  (JNIEnv *, jobject, jint, jint);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n<p>I write a AddNumbers.cpp file:</p>\n<pre><code>#include &quot;AddNumbers.h&quot;\nJNIEXPORT jint JNICALL Java_Test_AddNumbers_Add_1Numbers\n  (JNIEnv *, jobject, jint first, jint second){\n      return first + second;\n  }\n</code></pre>\n<p>Then I run <code>g++ -c -IC:\\Program` Files\\Java\\jdk-17\\include AddNumbers.cpp -o AddNumbers.o</code> followed by  <code>g++ -shared -o addNumbers.dll AddNumbers.o</code> to get the .dll file. But now that I do <code>java AddNumbers</code> it gives me a class not found error. I have even tried with full qualified name of classes that is <code>java Test.AddNumbers</code> in this case I hope. The only difference is that if I remove package from AddNumbers.java the program works. What am I missing?</p>\n<p>Edit: i wasn't going back to previous directory before calling java  😅</p>\n"},{"tags":["java","for-loop","methods","return","calculator"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1646114858,"post_id":71304263,"comment_id":126038058,"body_markdown":"There&#39;s no `return` in your method, you are not returning anything (and it is defined as `void`, meaning it doesn&#39;t return anything). `break` stops the loop (and you unconditionally break out of your loop as the last statement, effectively turning your `for` loop into an `if` conditional.","body":"There&#39;s no <code>return</code> in your method, you are not returning anything (and it is defined as <code>void</code>, meaning it doesn&#39;t return anything). <code>break</code> stops the loop (and you unconditionally break out of your loop as the last statement, effectively turning your <code>for</code> loop into an <code>if</code> conditional."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1646115083,"post_id":71304263,"comment_id":126038096,"body_markdown":"Is the intention to vend the first product found that the customer has enough money to pay for?","body":"Is the intention to vend the first product found that the customer has enough money to pay for?"}],"answers":[{"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646117966,"creation_date":1646114943,"answer_id":71304377,"question_id":71304263,"body_markdown":"I don&#39;t know why you put those break statements.\r\nA ```break``` will break the loop, that&#39;s why you&#39;re not getting past the first item. Drop the breaks and it should work.\r\n\r\n    for(Product product: Product.values()) {\r\n      if(moneyInserted &gt;= product.getPrice()){\r\n            System.out.println(&quot;Vending&quot;);\r\n            double changeReturn = (double)moneyInserted - (double)product.getPrice();\r\n            System.out.println(&quot;    &quot;);\r\n            System.out.println(&quot;Here is your $&quot; +changeReturn+&quot; in change&quot;);\r\n            System.out.println(&quot;Thank You&quot;);\r\n            break; // this will end the loop the first time you return change\r\n        }\r\n      else {\r\n          System.out.println(&quot;Unsuffient funds&quot;);\r\n      }\r\n      break; // this will end the loop after the first product, regardless of the outcome\r\n    }","title":"I&#39;m trying to calculate and return the user change and I don&#39;t know how","body":"<p>I don't know why you put those break statements.\nA <code>break</code> will break the loop, that's why you're not getting past the first item. Drop the breaks and it should work.</p>\n<pre><code>for(Product product: Product.values()) {\n  if(moneyInserted &gt;= product.getPrice()){\n        System.out.println(&quot;Vending&quot;);\n        double changeReturn = (double)moneyInserted - (double)product.getPrice();\n        System.out.println(&quot;    &quot;);\n        System.out.println(&quot;Here is your $&quot; +changeReturn+&quot; in change&quot;);\n        System.out.println(&quot;Thank You&quot;);\n        break; // this will end the loop the first time you return change\n    }\n  else {\n      System.out.println(&quot;Unsuffient funds&quot;);\n  }\n  break; // this will end the loop after the first product, regardless of the outcome\n}\n</code></pre>\n"}],"owner":{"account_id":24413031,"reputation":1,"user_id":18340246,"display_name":"simaravz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646132498,"creation_date":1646113958,"question_id":71304263,"body_markdown":"I&#39;m newbie in programming and I need to do a final project. \r\nI can calculate and return the user change. \r\nI tried with the for loop but and it will calculate just the first product from the list.\r\n\t\r\n```\r\npublic class ChangeCalculator{\r\n\tpublic double moneyInserted;\r\n\t\r\n\t\r\n\tChangeCalculator(double moneyInserted){\r\n\t\t\r\n\t}\r\n\r\npublic static void dispence (double moneyInserted) {\r\n  for(Product product: Product.values()) {\r\n\t  if(moneyInserted &gt;= product.getPrice()){\r\n\t\t\tSystem.out.println(&quot;Vending&quot;);\r\n\t\t\tdouble changeReturn = (double)moneyInserted - (double)product.getPrice();\r\n\t\t\tSystem.out.println(&quot;    &quot;);\r\n\t\t    System.out.println(&quot;Here is your $&quot; +changeReturn+&quot; in change&quot;);\r\n\t\t\tSystem.out.println(&quot;Thank You&quot;);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t  else {\r\n\t\t  System.out.println(&quot;Unsuffient funds&quot;);\r\n\t  }\r\n\t  break;\r\n}\r\n  \r\n}\r\n}\r\n```","title":"I&#39;m trying to calculate and return the user change and I don&#39;t know how","body":"<p>I'm newbie in programming and I need to do a final project.\nI can calculate and return the user change.\nI tried with the for loop but and it will calculate just the first product from the list.</p>\n<pre><code>public class ChangeCalculator{\n    public double moneyInserted;\n    \n    \n    ChangeCalculator(double moneyInserted){\n        \n    }\n\npublic static void dispence (double moneyInserted) {\n  for(Product product: Product.values()) {\n      if(moneyInserted &gt;= product.getPrice()){\n            System.out.println(&quot;Vending&quot;);\n            double changeReturn = (double)moneyInserted - (double)product.getPrice();\n            System.out.println(&quot;    &quot;);\n            System.out.println(&quot;Here is your $&quot; +changeReturn+&quot; in change&quot;);\n            System.out.println(&quot;Thank You&quot;);\n            break;\n        }\n      else {\n          System.out.println(&quot;Unsuffient funds&quot;);\n      }\n      break;\n}\n  \n}\n}\n</code></pre>\n"},{"tags":["java","maven-shade-plugin","java-platform-module-system","module-info"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1647736204,"post_id":71307451,"comment_id":126446196,"body_markdown":"The Moditect solution also has the advantage that it easily supports creation of a multi-release JAR file through its `jvmVersion` option. This can be useful when targeting Java 8 (or older), but at the same time adding a module descriptor for users of Java 9 or newer (which seems to be the case for your library). Directly placing the `module-info.class` in the root directory of the JAR can cause issues for some build tools, see for example the issues linked [here](https://github.com/google/gson/pull/2013) where this apparently caused Android build failures.","body":"The Moditect solution also has the advantage that it easily supports creation of a multi-release JAR file through its <code>jvmVersion</code> option. This can be useful when targeting Java 8 (or older), but at the same time adding a module descriptor for users of Java 9 or newer (which seems to be the case for your library). Directly placing the <code>module-info.class</code> in the root directory of the JAR can cause issues for some build tools, see for example the issues linked <a href=\"https://github.com/google/gson/pull/2013\" rel=\"nofollow noreferrer\">here</a> where this apparently caused Android build failures."}],"owner":{"account_id":39564,"reputation":10494,"user_id":114196,"accept_rate":80,"display_name":"Niels Basjes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1646132497,"creation_date":1646132497,"question_id":71307451,"body_markdown":"My context is that I have written [a java library that does something &quot;useful&quot;][1] and this library is (as is common for libraries) to be used in other applications.\r\n\r\nAmong other things my library uses [Antlr 4][2] to generate part of the code. Key thing here is that the Antlr versions of the generated code and the runtime must be identical.\r\n\r\nI do not want to limit applications that want to use my library to only the specific Antlr version my code uses. So the Antlr runtime for my library must be present and hidden from the application than uses my library.\r\n\r\nAt this point I have solved this my using the maven-shade-plugin and relocate the antlr4 classes to a new package that is specific to my jar file. \r\nThat way my code is modified to look for these classes in different packages and thus two different versions can exist side by side.\r\n\r\nThis works fine.\r\n\r\nI have been experimenting with making my library a JPMS compliant module and there this all becomes very hard.\r\n\r\nThe key problem I&#39;m facing is how can I isolate the Antlr runtime my library needs from the Antlr runtime the application needs when using the JPMS?\r\n\r\n- If I create my library as a module then dependencies like the Antlr runtime remain &quot;external&quot; and thus there seems to be no way to enforce the specific version.\r\n- If I simply shade them in you will get conflicts about packages existing in two modules and thus the maven-shade-plugin [removes the module-info.class from the jar][3] to avoid very nasty issues.\r\n- If I shade and relocate the Antlr runtime then I think it should be possible. How ever the maven-shade-plugin still [removes the module-info.class from the jar][3] and the module-info.class that is created during the build. \r\nBecause it is created during the build (before shading) it must include the Antlr runtime dependency ... which is no longer a dependency that is needed after the shading step (so the module-info.class seems incorrect to me).\r\n- Tools like the [moditect-maven-plugin][4] seem to me like a quite brutal solution: A separate plugin to generate something the java compiler also generates.\r\n\r\nSo my question is what is the best/recommended solution for this kind of situation?\r\nI want my library to be usable in both JPMS and non-JPMS applications.\r\n\r\n\r\n  [1]: https://yauaa.basjes.nl/\r\n  [2]: https://www.antlr.org/\r\n  [3]: https://stackoverflow.com/questions/51751981/why-does-maven-shade-plugin-remove-module-info-class/58097561#58097561\r\n  [4]: https://github.com/moditect/moditect","title":"From shading to modules: How to avoid version conflicts?","body":"<p>My context is that I have written <a href=\"https://yauaa.basjes.nl/\" rel=\"nofollow noreferrer\">a java library that does something &quot;useful&quot;</a> and this library is (as is common for libraries) to be used in other applications.</p>\n<p>Among other things my library uses <a href=\"https://www.antlr.org/\" rel=\"nofollow noreferrer\">Antlr 4</a> to generate part of the code. Key thing here is that the Antlr versions of the generated code and the runtime must be identical.</p>\n<p>I do not want to limit applications that want to use my library to only the specific Antlr version my code uses. So the Antlr runtime for my library must be present and hidden from the application than uses my library.</p>\n<p>At this point I have solved this my using the maven-shade-plugin and relocate the antlr4 classes to a new package that is specific to my jar file.\nThat way my code is modified to look for these classes in different packages and thus two different versions can exist side by side.</p>\n<p>This works fine.</p>\n<p>I have been experimenting with making my library a JPMS compliant module and there this all becomes very hard.</p>\n<p>The key problem I'm facing is how can I isolate the Antlr runtime my library needs from the Antlr runtime the application needs when using the JPMS?</p>\n<ul>\n<li>If I create my library as a module then dependencies like the Antlr runtime remain &quot;external&quot; and thus there seems to be no way to enforce the specific version.</li>\n<li>If I simply shade them in you will get conflicts about packages existing in two modules and thus the maven-shade-plugin <a href=\"https://stackoverflow.com/questions/51751981/why-does-maven-shade-plugin-remove-module-info-class/58097561#58097561\">removes the module-info.class from the jar</a> to avoid very nasty issues.</li>\n<li>If I shade and relocate the Antlr runtime then I think it should be possible. How ever the maven-shade-plugin still <a href=\"https://stackoverflow.com/questions/51751981/why-does-maven-shade-plugin-remove-module-info-class/58097561#58097561\">removes the module-info.class from the jar</a> and the module-info.class that is created during the build.\nBecause it is created during the build (before shading) it must include the Antlr runtime dependency ... which is no longer a dependency that is needed after the shading step (so the module-info.class seems incorrect to me).</li>\n<li>Tools like the <a href=\"https://github.com/moditect/moditect\" rel=\"nofollow noreferrer\">moditect-maven-plugin</a> seem to me like a quite brutal solution: A separate plugin to generate something the java compiler also generates.</li>\n</ul>\n<p>So my question is what is the best/recommended solution for this kind of situation?\nI want my library to be usable in both JPMS and non-JPMS applications.</p>\n"},{"tags":["java","sockets","portforwarding"],"comments":[{"owner":{"account_id":22166369,"reputation":198,"user_id":16412496,"display_name":"baggiogiacomo"},"score":0,"creation_date":1646120962,"post_id":71305176,"comment_id":126039350,"body_markdown":"I think that you can fix your problem [here](https://stackoverflow.com/questions/14835982/make-a-connection-using-an-external-ip-address-in-java)","body":"I think that you can fix your problem <a href=\"https://stackoverflow.com/questions/14835982/make-a-connection-using-an-external-ip-address-in-java\">here</a>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1646120979,"post_id":71305176,"comment_id":126039358,"body_markdown":"I don&#39;t think this is a java issue","body":"I don&#39;t think this is a java issue"},{"owner":{"account_id":16515701,"reputation":159,"user_id":11933249,"display_name":"Achal Urankar"},"score":0,"creation_date":1646122271,"post_id":71305176,"comment_id":126039754,"body_markdown":"thanks, baggio, I just came to know about NAT-loopback, and also saw this comment &quot;If you are still inside LAN (as i understand) you have to use internal IP. If you are on the same computer, you have to use 127.0.0.1&quot; and as I was trying to connect using public ip on same network so I tried different network but still it is not connecting.","body":"thanks, baggio, I just came to know about NAT-loopback, and also saw this comment &quot;If you are still inside LAN (as i understand) you have to use internal IP. If you are on the same computer, you have to use 127.0.0.1&quot; and as I was trying to connect using public ip on same network so I tried different network but still it is not connecting."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646127376,"post_id":71305176,"comment_id":126041564,"body_markdown":"You don&#39;t connect to sockets. You connect to ports. You have to open the port at the public side of the router, and you have to arrange port forwarding from there to the internal port to which your `ServerSocket` is bound.","body":"You don&#39;t connect to sockets. You connect to ports. You have to open the port at the public side of the router, and you have to arrange port forwarding from there to the internal port to which your <code>ServerSocket</code> is bound."},{"owner":{"account_id":16515701,"reputation":159,"user_id":11933249,"display_name":"Achal Urankar"},"score":0,"creation_date":1646129924,"post_id":71305176,"comment_id":126042462,"body_markdown":"@user207421, in the port forwarding screenshot, ive done the same, and it is working for other apis like spring or node js, im able to call these apis from different network but with ServerSocket, connection is getting timed out.","body":"@user207421, in the port forwarding screenshot, ive done the same, and it is working for other apis like spring or node js, im able to call these apis from different network but with ServerSocket, connection is getting timed out."}],"answers":[{"tags":[],"owner":{"account_id":24085224,"reputation":83,"user_id":18059330,"display_name":"Louis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646131871,"creation_date":1646127910,"answer_id":71306492,"question_id":71305176,"body_markdown":"Firstly replace your port number by 8080, which is the default port for HTTP when you are not root. Then you have to open the port 8080 on your router to allow the client to connect.\r\nYour server must be connected to the Internet and have a public IP address. Then the client can connect to this public IP address.","title":"Java : How to connect to ServerSocket using router public IP?","body":"<p>Firstly replace your port number by 8080, which is the default port for HTTP when you are not root. Then you have to open the port 8080 on your router to allow the client to connect.\nYour server must be connected to the Internet and have a public IP address. Then the client can connect to this public IP address.</p>\n"}],"owner":{"account_id":16515701,"reputation":159,"user_id":11933249,"display_name":"Achal Urankar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646131871,"creation_date":1646120645,"question_id":71305176,"body_markdown":"I&#39;m trying to connect to server socket in java using my router&#39;s public ip, \r\n\r\nfirst, I tried by simply configuring server socket to localhost, like this,\r\n```\r\nserver = new ServerSocket(5000);\r\n``` \r\nIt is working on localhost but not working on trying internal ip 192.168.1.6\r\nthen, I tried configuring server socket to the internal Ip (saw this [solution][1]), code is as follows,\r\n```\r\nint backlog = 5;\r\nserver = new ServerSocket(5000, backlog, InetAddress.getByName(&quot;192.168.1.6&quot;));\r\n```\r\nand it is working as my devices are connected to same network, I can connect to this Ip 192.168.1.6 from a device with Ip 192.168.1.5 on the same network but when I use public ip of my router from client side, connection is getting timed out, I&#39;ve done port forwarding, \r\n[![screenshot of port forwarding][2]][2]\r\n\r\nWhat am I doing wrong here? any help is appreciated, thanks in advance.\r\n\r\n\r\nEDIT :\r\nI came to about NAT-loopback (saw this [solution][3]) as I was trying to connect using public ip while being on same network so I tried different network but still it is not connecting, connection is getting timed out.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37420237/why-socket-does-not-connect-with-ip-instead-of-localhost\r\n  [2]: https://i.stack.imgur.com/gVwKW.png\r\n  [3]: https://stackoverflow.com/questions/14835982/make-a-connection-using-an-external-ip-address-in-java","title":"Java : How to connect to ServerSocket using router public IP?","body":"<p>I'm trying to connect to server socket in java using my router's public ip,</p>\n<p>first, I tried by simply configuring server socket to localhost, like this,</p>\n<pre><code>server = new ServerSocket(5000);\n</code></pre>\n<p>It is working on localhost but not working on trying internal ip 192.168.1.6\nthen, I tried configuring server socket to the internal Ip (saw this <a href=\"https://stackoverflow.com/questions/37420237/why-socket-does-not-connect-with-ip-instead-of-localhost\">solution</a>), code is as follows,</p>\n<pre><code>int backlog = 5;\nserver = new ServerSocket(5000, backlog, InetAddress.getByName(&quot;192.168.1.6&quot;));\n</code></pre>\n<p>and it is working as my devices are connected to same network, I can connect to this Ip 192.168.1.6 from a device with Ip 192.168.1.5 on the same network but when I use public ip of my router from client side, connection is getting timed out, I've done port forwarding,\n<a href=\"https://i.stack.imgur.com/gVwKW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVwKW.png\" alt=\"screenshot of port forwarding\" /></a></p>\n<p>What am I doing wrong here? any help is appreciated, thanks in advance.</p>\n<p>EDIT :\nI came to about NAT-loopback (saw this <a href=\"https://stackoverflow.com/questions/14835982/make-a-connection-using-an-external-ip-address-in-java\">solution</a>) as I was trying to connect using public ip while being on same network so I tried different network but still it is not connecting, connection is getting timed out.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7336430,"reputation":101,"user_id":5587659,"accept_rate":60,"display_name":"Mathi Vanan"},"score":0,"creation_date":1646142299,"post_id":71305987,"comment_id":126046463,"body_markdown":"I am wondering how come this code works without runtime permission, also you should assign the view to globally declared variable instead of creating a new one.","body":"I am wondering how come this code works without runtime permission, also you should assign the view to globally declared variable instead of creating a new one."}],"answers":[{"tags":[],"owner":{"account_id":2139883,"reputation":141,"user_id":5288010,"display_name":"Mohamed Saleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646131759,"creation_date":1646131759,"answer_id":71307296,"question_id":71305987,"body_markdown":"The problem is image view is null at this line \r\n\r\n    imageView.setImageURI(uri);\r\n\r\nBecause you make image view as global variable but don&#39;t initialize it you make a new one in onViewCreated method .. you should change it on onViewCreated to be from \r\n\r\n    ImageView imageView = view.findViewById(R.id.pick);\r\n\r\nto \r\n\r\n    imageView = view.findViewById(R.id.pick);\r\n\r\n","title":"I am trying to upload picture through my emulator in android using img picker but it shows error and I can&#39;t find out why, says null object reference","body":"<p>The problem is image view is null at this line</p>\n<pre><code>imageView.setImageURI(uri);\n</code></pre>\n<p>Because you make image view as global variable but don't initialize it you make a new one in onViewCreated method .. you should change it on onViewCreated to be from</p>\n<pre><code>ImageView imageView = view.findViewById(R.id.pick);\n</code></pre>\n<p>to</p>\n<pre><code>imageView = view.findViewById(R.id.pick);\n</code></pre>\n"}],"owner":{"account_id":22706132,"reputation":1,"user_id":16872832,"display_name":"Prajesh Kayastha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646131759,"creation_date":1646125343,"question_id":71305987,"body_markdown":"[error can be seen in image][1]\r\n\r\n**Here is my code**\r\n**I am trying to upload picture through my emulator in android using img picker but it shows error and I can&#39;t find out why,  says null object reference**\r\n\r\n***It show error on last line where I have made the code bolder.***\r\n\r\npackage com.example.fyp;\r\n\r\n\r\n\r\npublic class HouseOwner extends Fragment {\r\n\r\n    TextView textView;\r\n    CircleImageView circleImageView;\r\n    ImageView imageView;\r\n    int SELECT_IMAGE_CODE=1;\r\n\r\n\r\n    \r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n       \r\n\r\n     /*   TextView textView = view.findViewById(R.id.search);\r\n        textView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(startActivity();));*//*\r\n            }\r\n        });*/\r\n\r\n        ImageView imageView = view.findViewById(R.id.pick);\r\n        CircleImageView circleImageView = view.findViewById(R.id.add);\r\n        circleImageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent();\r\n                intent.setType(&quot;image/*&quot;);\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(Intent.createChooser(intent,&quot;title&quot;),SELECT_IMAGE_CODE);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode==1){\r\n\r\n            assert data != null;\r\n            Uri uri= data.getData();\r\n           **imageView.setImageURI(uri);** \r\n\r\n        }\r\n    }\r\n}","title":"I am trying to upload picture through my emulator in android using img picker but it shows error and I can&#39;t find out why, says null object reference","body":"<p>[error can be seen in image][1]</p>\n<p><strong>Here is my code</strong>\n<strong>I am trying to upload picture through my emulator in android using img picker but it shows error and I can't find out why,  says null object reference</strong></p>\n<p><em><strong>It show error on last line where I have made the code bolder.</strong></em></p>\n<p>package com.example.fyp;</p>\n<p>public class HouseOwner extends Fragment {</p>\n<pre><code>TextView textView;\nCircleImageView circleImageView;\nImageView imageView;\nint SELECT_IMAGE_CODE=1;\n\n\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n   \n\n /*   TextView textView = view.findViewById(R.id.search);\n    textView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(startActivity();));*//*\n        }\n    });*/\n\n    ImageView imageView = view.findViewById(R.id.pick);\n    CircleImageView circleImageView = view.findViewById(R.id.add);\n    circleImageView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent();\n            intent.setType(&quot;image/*&quot;);\n            intent.setAction(Intent.ACTION_GET_CONTENT);\n            startActivityForResult(Intent.createChooser(intent,&quot;title&quot;),SELECT_IMAGE_CODE);\n        }\n    });\n\n\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode==1){\n\n        assert data != null;\n        Uri uri= data.getData();\n       **imageView.setImageURI(uri);** \n\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","kotlin","android-lifecycle","picture-in-picture"],"comments":[{"owner":{"account_id":8881126,"reputation":123,"user_id":6631209,"display_name":"Hasanuzzaman Rana"},"score":1,"creation_date":1630555874,"post_id":69023847,"comment_id":121989662,"body_markdown":"When your activity switches to PIP, the system places the activity in the paused state and calls the activity&#39;s onPause() method. Video playback should not be paused and should continue playing if the activity is paused while in PIP mode. When your activity switches out of PIP mode back to full-screen mode, the system resumes your activity and calls your onResume() method.","body":"When your activity switches to PIP, the system places the activity in the paused state and calls the activity&#39;s onPause() method. Video playback should not be paused and should continue playing if the activity is paused while in PIP mode. When your activity switches out of PIP mode back to full-screen mode, the system resumes your activity and calls your onResume() method."},{"owner":{"account_id":16877200,"reputation":629,"user_id":12204281,"display_name":"LCZ"},"score":0,"creation_date":1630564616,"post_id":69023847,"comment_id":121991684,"body_markdown":"I know `onPause()` is called, but is the activity recreated? i.e. is `onCreate()` called? Thanks.","body":"I know <code>onPause()</code> is called, but is the activity recreated? i.e. is <code>onCreate()</code> called? Thanks."}],"answers":[{"tags":[],"owner":{"account_id":15564404,"reputation":1,"user_id":11228657,"display_name":"samyuktha madireddi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630555572,"creation_date":1630555572,"answer_id":69024031,"question_id":69023847,"body_markdown":"From the Android documentation, When your activity switches to PIP, the system places the activity in the paused state and calls the activity&#39;s onPause() method.","title":"Activity lifecycle in PiP","body":"<p>From the Android documentation, When your activity switches to PIP, the system places the activity in the paused state and calls the activity's onPause() method.</p>\n"}],"owner":{"account_id":16877200,"reputation":629,"user_id":12204281,"display_name":"LCZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646131659,"creation_date":1630553849,"question_id":69023847,"body_markdown":"I know there&#39;s a lot of questions on activity lifecycle of Android activities on StackOverflow, but I am asking specifically for the activity lifecycle in PiP(picture in picture) mode.\r\n\r\nIs the activity recreated during PiP mode (`onStop()`, `onCreate()`, etc), are called, or does the activity maintain its paused state throughout PiP?","title":"Activity lifecycle in PiP","body":"<p>I know there's a lot of questions on activity lifecycle of Android activities on StackOverflow, but I am asking specifically for the activity lifecycle in PiP(picture in picture) mode.</p>\n<p>Is the activity recreated during PiP mode (<code>onStop()</code>, <code>onCreate()</code>, etc), are called, or does the activity maintain its paused state throughout PiP?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1646128457,"post_id":71306444,"comment_id":126041926,"body_markdown":"Reading the [API](https://mirrors.aliyun.com/android.googlesource.com/external/jackson-databind/docs/javadoc/2.10/com/fasterxml/jackson/databind/PropertyNamingStrategy.html), from what I understand, you have to do it the other way aroung using `SnakeCaseStrategy`: \t\n\n_PropertyNamingStrategy.SnakeCaseStrategy\nA PropertyNamingStrategy that translates typical camel case Java property names to lower case JSON element names, separated by underscores._\n\nBut I&#39;m not sure if it works with a simple map key since the key is not a property of a Java object.","body":"Reading the <a href=\"https://mirrors.aliyun.com/android.googlesource.com/external/jackson-databind/docs/javadoc/2.10/com/fasterxml/jackson/databind/PropertyNamingStrategy.html\" rel=\"nofollow noreferrer\">API</a>, from what I understand, you have to do it the other way aroung using <code>SnakeCaseStrategy</code>: \t  <i>PropertyNamingStrategy.SnakeCaseStrategy A PropertyNamingStrategy that translates typical camel case Java property names to lower case JSON element names, separated by underscores.</i>  But I&#39;m not sure if it works with a simple map key since the key is not a property of a Java object."},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1646128586,"post_id":71306444,"comment_id":126041972,"body_markdown":"@TheFrozenOnem, I don&#39;t understand, you&#39;re saying that it will change the CamelCase to underscore case, but I need to do vice versa: from underscore case map to json string containing camelCase","body":"@TheFrozenOnem, I don&#39;t understand, you&#39;re saying that it will change the CamelCase to underscore case, but I need to do vice versa: from underscore case map to json string containing camelCase"},{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1646128963,"post_id":71306444,"comment_id":126042109,"body_markdown":"Ok, got it. If your example above in JSON style is a Java object, you should post it as a Java object like `Map&lt;&gt; someMap = new HashMap();`\nYou should also post your output, or the problem, you&#39;re facing. \nAnyway, I think, someone else already explained it:\nhttps://stackoverflow.com/a/39413177/7132739","body":"Ok, got it. If your example above in JSON style is a Java object, you should post it as a Java object like <code>Map&lt;&gt; someMap = new HashMap();</code> You should also post your output, or the problem, you&#39;re facing.  Anyway, I think, someone else already explained it: <a href=\"https://stackoverflow.com/a/39413177/7132739\">stackoverflow.com/a/39413177/7132739</a>"},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1646129119,"post_id":71306444,"comment_id":126042174,"body_markdown":"@TheFrozenOne, Try to read the question next time, there&#39;s no one accepted style on how to display a value of a map, so I wrote it like this, it doesn&#39;t matter because I literally wrote before &quot;I have this map:&quot;. And the question you linked is doing vice versa: from json to map, and is not helpful because it&#39;s hardcoded to only one use case: from UpperCamelCase to lowerCamelCase","body":"@TheFrozenOne, Try to read the question next time, there&#39;s no one accepted style on how to display a value of a map, so I wrote it like this, it doesn&#39;t matter because I literally wrote before &quot;I have this map:&quot;. And the question you linked is doing vice versa: from json to map, and is not helpful because it&#39;s hardcoded to only one use case: from UpperCamelCase to lowerCamelCase"},{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1646129379,"post_id":71306444,"comment_id":126042284,"body_markdown":"It exactly describes the solution to your problem. And it might help others to help you if you provide a clear and complete example.","body":"It exactly describes the solution to your problem. And it might help others to help you if you provide a clear and complete example."},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1646129458,"post_id":71306444,"comment_id":126042310,"body_markdown":"@TheFrozenOne, no, it&#39;s not, I already explained why, and about &quot;clear example&quot;:  in the question you linked the author describes a map literally as I did in the first version, I guess it was a clear example then, so what&#39;s the problem?","body":"@TheFrozenOne, no, it&#39;s not, I already explained why, and about &quot;clear example&quot;:  in the question you linked the author describes a map literally as I did in the first version, I guess it was a clear example then, so what&#39;s the problem?"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646129640,"creation_date":1646129640,"answer_id":71306816,"question_id":71306444,"body_markdown":"Use `@JsonProperty` annotation. Over your property variable or over its getter do this:\r\n\r\n    @JsonProperty(&quot;testFirst&quot;)\r\n    String test_first;\r\n    \r\n    @JsonProperty(&quot;testSecond&quot;)\r\n    String test_second;\r\n\r\nApparently you can also use `@JsonGetter` and `@JsonSetter` annotations as an alternative. Read about it in [Jackson Annotation Examples][1] areticle\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-annotations","title":"Jackson map to json with changing case","body":"<p>Use <code>@JsonProperty</code> annotation. Over your property variable or over its getter do this:</p>\n<pre><code>@JsonProperty(&quot;testFirst&quot;)\nString test_first;\n\n@JsonProperty(&quot;testSecond&quot;)\nString test_second;\n</code></pre>\n<p>Apparently you can also use <code>@JsonGetter</code> and <code>@JsonSetter</code> annotations as an alternative. Read about it in <a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">Jackson Annotation Examples</a> areticle</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646131583,"creation_date":1646131188,"answer_id":71307174,"question_id":71306444,"body_markdown":"There is [`StringKeySerializer`](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ser/std/StdKeySerializers.StringKeySerializer.html) in Jackson which may implement the functionality to change presentation of the keys in some map (e.g. using Guava [`CaseFormat`](https://guava.dev/releases/23.0/api/docs/com/google/common/base/CaseFormat.html)):\r\n```java\r\n// custom key serializer\r\nclass SnakeToCamelMapKeySerialiser extends StdKeySerializers.StringKeySerializer {\r\n    @Override\r\n    public void serialize(Object value, JsonGenerator g, SerializerProvider provider)\r\n            throws IOException {\r\n        g.writeFieldName(CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, (String) value));\r\n    }\r\n}\r\n\r\n// map with the custom serializer\r\n@JsonSerialize(keyUsing = SnakeToCamelMapKeySerialiser.class)\r\nclass MyMap&lt;K extends String, V&gt; extends HashMap&lt;K, V&gt; {\r\n}\r\n```\r\nThen the map is serialized with the required format:\r\n```java\r\nMap&lt;String, Integer&gt; map = new MyMap&lt;&gt;();\r\nmap.put(&quot;first_key&quot;, 1);\r\nmap.put(&quot;second_key&quot;, 2);\r\n\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\n\r\nString json = mapper.writeValueAsString(map);\r\n\r\nSystem.out.println(json);\r\n// -&gt; {&quot;firstKey&quot;:1,&quot;secondKey&quot;:2}\r\n```","title":"Jackson map to json with changing case","body":"<p>There is <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ser/std/StdKeySerializers.StringKeySerializer.html\" rel=\"nofollow noreferrer\"><code>StringKeySerializer</code></a> in Jackson which may implement the functionality to change presentation of the keys in some map (e.g. using Guava <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/base/CaseFormat.html\" rel=\"nofollow noreferrer\"><code>CaseFormat</code></a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>// custom key serializer\nclass SnakeToCamelMapKeySerialiser extends StdKeySerializers.StringKeySerializer {\n    @Override\n    public void serialize(Object value, JsonGenerator g, SerializerProvider provider)\n            throws IOException {\n        g.writeFieldName(CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, (String) value));\n    }\n}\n\n// map with the custom serializer\n@JsonSerialize(keyUsing = SnakeToCamelMapKeySerialiser.class)\nclass MyMap&lt;K extends String, V&gt; extends HashMap&lt;K, V&gt; {\n}\n</code></pre>\n<p>Then the map is serialized with the required format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; map = new MyMap&lt;&gt;();\nmap.put(&quot;first_key&quot;, 1);\nmap.put(&quot;second_key&quot;, 2);\n\nObjectMapper mapper = new ObjectMapper();\n\n\nString json = mapper.writeValueAsString(map);\n\nSystem.out.println(json);\n// -&gt; {&quot;firstKey&quot;:1,&quot;secondKey&quot;:2}\n</code></pre>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1254,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71307174,"answer_count":2,"score":4,"last_activity_date":1646131583,"creation_date":1646127741,"question_id":71306444,"body_markdown":"I want to convert map to json but with changing case using jackson. For example, I have this map:\r\n```\r\n &quot;test_first&quot; -&gt; 1,\r\n &quot;test_second&quot; -&gt; 2,\r\n```\r\nI want to convert it to json but with changing from underscore case to lowerCamelCase. How do I do that? Using this didn&#39;t help:\r\n```\r\n// Map&lt;String, String&gt; fields;\r\n\r\nvar mapper = new ObjectMapper();\r\nmapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE); \r\n// setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE) didn&#39;t help too\r\nString json = mapper.writeValueAsString(fields);\r\n```","title":"Jackson map to json with changing case","body":"<p>I want to convert map to json but with changing case using jackson. For example, I have this map:</p>\n<pre><code> &quot;test_first&quot; -&gt; 1,\n &quot;test_second&quot; -&gt; 2,\n</code></pre>\n<p>I want to convert it to json but with changing from underscore case to lowerCamelCase. How do I do that? Using this didn't help:</p>\n<pre><code>// Map&lt;String, String&gt; fields;\n\nvar mapper = new ObjectMapper();\nmapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE); \n// setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE) didn't help too\nString json = mapper.writeValueAsString(fields);\n</code></pre>\n"},{"tags":["java","icalendar","ical4j"],"answers":[{"tags":[],"owner":{"account_id":1717188,"reputation":935,"user_id":1574012,"accept_rate":67,"display_name":"cljk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646131057,"creation_date":1646131057,"answer_id":71307153,"question_id":69010053,"body_markdown":"I did it this way\r\n\r\n```\r\nParameterList valueDuration = new ParameterList();\r\nvalueDuration.add(new Value(&quot;DURATION&quot;));\r\ncalendar.getProperties().add(new RefreshInterval(valueDuration, java.time.Duration.ofMinutes(30) ));\r\n```\r\n\r\nwhich results in output of\r\n\r\n```\r\nREFRESH-INTERVAL;VALUE=DURATION:PT30M\r\n```\r\n\r\n","title":"Adding Refresh-Interval Parameter in ics file using iCal4J library in java","body":"<p>I did it this way</p>\n<pre><code>ParameterList valueDuration = new ParameterList();\nvalueDuration.add(new Value(&quot;DURATION&quot;));\ncalendar.getProperties().add(new RefreshInterval(valueDuration, java.time.Duration.ofMinutes(30) ));\n</code></pre>\n<p>which results in output of</p>\n<pre><code>REFRESH-INTERVAL;VALUE=DURATION:PT30M\n</code></pre>\n"}],"owner":{"account_id":15908965,"reputation":81,"user_id":11479367,"display_name":"Nishant Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646131057,"creation_date":1630483885,"question_id":69010053,"body_markdown":"Below is my ics file and I want to add REFRESH-INTERVAL;VALUE=DURATION:PT12H parameter in the file using ical4j library in java. Can anyone suggest how to perform that action.\r\n\r\n    BEGIN:VCALENDAR\r\n    VERSION:2.0\r\n    PRODID:-//My Company//NONSGML Event Calendar//EN\r\n    URL:http://my.calendar/url\r\n    NAME:My Calendar Name\r\n    X-WR-CALNAME:My Calendar Name\r\n    DESCRIPTION:A description of my calendar\r\n    X-WR-CALDESC:A description of my calendar\r\n    TIMEZONE-ID:Europe/London\r\n    X-WR-TIMEZONE:Europe/London\r\n    X-PUBLISHED-TTL:PT12H\r\n    COLOR:34:50:105\r\n    CALSCALE:GREGORIAN\r\n    METHOD:PUBLISH","title":"Adding Refresh-Interval Parameter in ics file using iCal4J library in java","body":"<p>Below is my ics file and I want to add REFRESH-INTERVAL;VALUE=DURATION:PT12H parameter in the file using ical4j library in java. Can anyone suggest how to perform that action.</p>\n<pre><code>BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//My Company//NONSGML Event Calendar//EN\nURL:http://my.calendar/url\nNAME:My Calendar Name\nX-WR-CALNAME:My Calendar Name\nDESCRIPTION:A description of my calendar\nX-WR-CALDESC:A description of my calendar\nTIMEZONE-ID:Europe/London\nX-WR-TIMEZONE:Europe/London\nX-PUBLISHED-TTL:PT12H\nCOLOR:34:50:105\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\n</code></pre>\n"},{"tags":["java","unit-testing","testing","junit"],"comments":[{"owner":{"account_id":23457968,"reputation":1,"user_id":17513197,"display_name":"MasonK01"},"score":0,"creation_date":1646079560,"post_id":71300631,"comment_id":126031582,"body_markdown":"Essentially i want to make the for loop within the test method to be able to fill the nextInt with values 1-9 as the for loop executes","body":"Essentially i want to make the for loop within the test method to be able to fill the nextInt with values 1-9 as the for loop executes"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1646079737,"post_id":71300631,"comment_id":126031644,"body_markdown":"You can create your own instance of `Scanner` seeded with a `String` value which basically represents all the moves of the players in turn, ie `0 1 4 2 8` or something","body":"You can create your own instance of <code>Scanner</code> seeded with a <code>String</code> value which basically represents all the moves of the players in turn, ie <code>0 1 4 2 8</code> or something"}],"owner":{"account_id":23457968,"reputation":1,"user_id":17513197,"display_name":"MasonK01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646130705,"creation_date":1646079465,"question_id":71300631,"body_markdown":"As the title says, I am making automated test cases for a tic tac toe game, however I use the scanner nextInt method within the method I&#39;m trying to test, i just dont understand how to make my test case automatically fill the input rather than the program asking the user. Here are the two methods: \r\n\r\n\r\nMain class method:\r\n```\r\npublic static void playGame(String playerOne, String playerTwo, char[][] gameBoard, int playerNum, Scanner input) {\r\n        int moveSelected = 0;\r\n        while (moveSelected &gt;= 10 || moveSelected &lt;= 0) {\r\n            moveSelected = 0;\r\n            try {\r\n                if (playerNum == 1) {\r\n                    System.out.println(playerOne + &quot; please input your spot selection(1-9)&quot;);\r\n                } else {\r\n                    System.out.println(playerTwo + &quot; please input your spot selection(1-9)&quot;);\r\n                }\r\n                moveSelected = input.nextInt();\r\n            }\r\n            catch(InputMismatchException e){\r\n                System.err.println(&quot;Wrong input! Integer Values Only.&quot;);\r\n                input.next();\r\n            }\r\n        }\r\n\r\n        playerMove(moveSelected, playerNum, gameBoard);\r\n        displayBoard(gameBoard);\r\n    }\r\n```\r\nTest Method: \r\n```\r\npublic void testplayGame(){\r\n        Scanner input = new Scanner(System.in);\r\n        char[][] gameBoard = {{&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n                {&#39;-&#39;, &#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39;},\r\n                {&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n                {&#39;-&#39;, &#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39;},\r\n                {&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;}};\r\n        for(int i =1; i&lt;10;i++) {\r\n            assertEquals(fstTest.playGame(&quot;p1&quot;,&quot;p2&quot;,gameBoard,1,input));\r\n        }\r\n    }","title":"Making automated tests for a basic tic tac toe game","body":"<p>As the title says, I am making automated test cases for a tic tac toe game, however I use the scanner nextInt method within the method I'm trying to test, i just dont understand how to make my test case automatically fill the input rather than the program asking the user. Here are the two methods:</p>\n<p>Main class method:</p>\n<pre><code>public static void playGame(String playerOne, String playerTwo, char[][] gameBoard, int playerNum, Scanner input) {\n        int moveSelected = 0;\n        while (moveSelected &gt;= 10 || moveSelected &lt;= 0) {\n            moveSelected = 0;\n            try {\n                if (playerNum == 1) {\n                    System.out.println(playerOne + &quot; please input your spot selection(1-9)&quot;);\n                } else {\n                    System.out.println(playerTwo + &quot; please input your spot selection(1-9)&quot;);\n                }\n                moveSelected = input.nextInt();\n            }\n            catch(InputMismatchException e){\n                System.err.println(&quot;Wrong input! Integer Values Only.&quot;);\n                input.next();\n            }\n        }\n\n        playerMove(moveSelected, playerNum, gameBoard);\n        displayBoard(gameBoard);\n    }\n</code></pre>\n<p>Test Method:</p>\n<pre><code>public void testplayGame(){\n        Scanner input = new Scanner(System.in);\n        char[][] gameBoard = {{' ', '|', ' ', '|', ' '},\n                {'-', '+', '-', '+', '-'},\n                {' ', '|', ' ', '|', ' '},\n                {'-', '+', '-', '+', '-'},\n                {' ', '|', ' ', '|', ' '}};\n        for(int i =1; i&lt;10;i++) {\n            assertEquals(fstTest.playGame(&quot;p1&quot;,&quot;p2&quot;,gameBoard,1,input));\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","beancreationexception"],"comments":[{"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"score":0,"creation_date":1646131498,"post_id":71306549,"comment_id":126042958,"body_markdown":"Tried using mapped superclass? https://vladmihalcea.com/how-to-inherit-properties-from-a-base-class-entity-using-mappedsuperclass-with-jpa-and-hibernate/","body":"Tried using mapped superclass? <a href=\"https://vladmihalcea.com/how-to-inherit-properties-from-a-base-class-entity-using-mappedsuperclass-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":24415325,"reputation":1,"user_id":18342257,"display_name":"Lucas Van Der Stuyft"},"score":0,"creation_date":1646402973,"post_id":71306549,"comment_id":126120795,"body_markdown":"Nope, the same result as when I use @Entity...","body":"Nope, the same result as when I use @Entity..."}],"owner":{"account_id":24415325,"reputation":1,"user_id":18342257,"display_name":"Lucas Van Der Stuyft"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646130691,"creation_date":1646128144,"question_id":71306549,"body_markdown":"I&#39;m making tables in my PostgreSQL database using Hibernate. I have a class user, from which some other classes like student inherit using `@inheritance`. When I don&#39;t use `@Entity`, all the tables are created like they should, but when I use `@Entity`, none of the tables get made, and I get the following error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.ClassCastException: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.15.jar:5.3.15]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\tat com.example.MasterproofTool.MasterproefToolApplication.main(MasterproefToolApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.ClassCastException: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader &#39;app&#39;)\r\n\tat org.hibernate.cfg.annotations.PropertyBinder.bind(PropertyBinder.java:214) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.cfg.annotations.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:205) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2319) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:967) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:792) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 16 common frames omitted\r\n```\r\n\r\nI have searched for an answer on the internet, but haven&#39;t found anything. The solution probably isn&#39;t that hard, but I can&#39;t seem to find it.","title":"Hibernate BeanCreationException when using @entity","body":"<p>I'm making tables in my PostgreSQL database using Hibernate. I have a class user, from which some other classes like student inherit using <code>@inheritance</code>. When I don't use <code>@Entity</code>, all the tables are created like they should, but when I use <code>@Entity</code>, none of the tables get made, and I get the following error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.ClassCastException: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader 'app')\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\n    at com.example.MasterproofTool.MasterproefToolApplication.main(MasterproefToolApplication.java:10) ~[classes/:na]\nCaused by: java.lang.ClassCastException: class org.hibernate.mapping.SingleTableSubclass cannot be cast to class org.hibernate.mapping.RootClass (org.hibernate.mapping.SingleTableSubclass and org.hibernate.mapping.RootClass are in unnamed module of loader 'app')\n    at org.hibernate.cfg.annotations.PropertyBinder.bind(PropertyBinder.java:214) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.cfg.annotations.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:205) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2319) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:967) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:792) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 16 common frames omitted\n</code></pre>\n<p>I have searched for an answer on the internet, but haven't found anything. The solution probably isn't that hard, but I can't seem to find it.</p>\n"},{"tags":["java","xml","xpath"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646130673,"creation_date":1646130673,"answer_id":71307054,"question_id":71306875,"body_markdown":"Try using XPath `local-name()`  \r\nInstead of  \r\n```java\r\nXPathExpression expr = xpath.compile(&quot;/Employees/EXTENSION/OTHER/ULAD:HMDAGenderType&quot;);\r\n```\r\nPlease try \r\n```java\r\nXPathExpression expr = xpath.compile(&quot;//*[local-name()=&#39;HMDAGenderType&#39;]&quot;);\r\n```\r\nAnd to get the text attribute value directly you can use this XPath:\r\n```java\r\nXPathExpression expr = xpath.compile(&quot;//*[local-name()=&#39;HMDAGenderType&#39;]/text()&quot;);\r\n```\r\n","title":"XPath not reading xml tag with namespace","body":"<p>Try using XPath <code>local-name()</code><br />\nInstead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>XPathExpression expr = xpath.compile(&quot;/Employees/EXTENSION/OTHER/ULAD:HMDAGenderType&quot;);\n</code></pre>\n<p>Please try</p>\n<pre class=\"lang-java prettyprint-override\"><code>XPathExpression expr = xpath.compile(&quot;//*[local-name()='HMDAGenderType']&quot;);\n</code></pre>\n<p>And to get the text attribute value directly you can use this XPath:</p>\n<pre class=\"lang-java prettyprint-override\"><code>XPathExpression expr = xpath.compile(&quot;//*[local-name()='HMDAGenderType']/text()&quot;);\n</code></pre>\n"}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71307054,"answer_count":1,"score":1,"last_activity_date":1646130673,"creation_date":1646129870,"question_id":71306875,"body_markdown":"hi i am trying to read a xml which have namespace defined and some tags are with namespaces. But namespace tags always give empty value when i use XPath to read those tags.\r\n\r\nSample XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Employees xmlns:ULAD=&quot;http://www.datamodelextension.org/Schema/ULAD&quot;&gt;\r\n\t&lt;EXTENSION&gt;\r\n\t\t&lt;OTHER&gt;\r\n\t\t\t&lt;ULAD:HMDAGenderType&gt;Male&lt;/ULAD:HMDAGenderType&gt;\r\n\t\t&lt;/OTHER&gt;\r\n\t&lt;/EXTENSION&gt;\r\n    &lt;/Employees&gt;\r\n\r\nSample Java Program to read ULAD:HMDAGenderType\r\n\r\n    public static void main(String args[]) throws XPathExpressionException {\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    factory.setNamespaceAware(true);\r\n    try {\r\n      DocumentBuilder builder = factory.newDocumentBuilder();\r\n      Document doc = builder.parse(&quot;C:\\\\test.xml&quot;);\r\n      XPathFactory xpathFactory = XPathFactory.newInstance();\r\n      XPath xpath = xpathFactory.newXPath();\r\n      XPathExpression expr = xpath.compile(&quot;/Employees/EXTENSION/OTHER/ULAD:HMDAGenderType&quot;);\r\n      System.out.println(&quot;Gender :: &quot; + expr.evaluate(doc, XPathConstants.STRING));\r\n    } catch (ParserConfigurationException | SAXException | IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n    }\r\n\r\nOutput :: null\r\n\r\nExpected Output :: Male\r\n\r\nHow to read such tags ?","title":"XPath not reading xml tag with namespace","body":"<p>hi i am trying to read a xml which have namespace defined and some tags are with namespaces. But namespace tags always give empty value when i use XPath to read those tags.</p>\n<p>Sample XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Employees xmlns:ULAD=&quot;http://www.datamodelextension.org/Schema/ULAD&quot;&gt;\n&lt;EXTENSION&gt;\n    &lt;OTHER&gt;\n        &lt;ULAD:HMDAGenderType&gt;Male&lt;/ULAD:HMDAGenderType&gt;\n    &lt;/OTHER&gt;\n&lt;/EXTENSION&gt;\n&lt;/Employees&gt;\n</code></pre>\n<p>Sample Java Program to read ULAD:HMDAGenderType</p>\n<pre><code>public static void main(String args[]) throws XPathExpressionException {\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nfactory.setNamespaceAware(true);\ntry {\n  DocumentBuilder builder = factory.newDocumentBuilder();\n  Document doc = builder.parse(&quot;C:\\\\test.xml&quot;);\n  XPathFactory xpathFactory = XPathFactory.newInstance();\n  XPath xpath = xpathFactory.newXPath();\n  XPathExpression expr = xpath.compile(&quot;/Employees/EXTENSION/OTHER/ULAD:HMDAGenderType&quot;);\n  System.out.println(&quot;Gender :: &quot; + expr.evaluate(doc, XPathConstants.STRING));\n} catch (ParserConfigurationException | SAXException | IOException e) {\n  e.printStackTrace();\n}\n}\n</code></pre>\n<p>Output :: null</p>\n<p>Expected Output :: Male</p>\n<p>How to read such tags ?</p>\n"},{"tags":["java","jpa","caching","redis","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2831074,"reputation":105,"user_id":2432656,"accept_rate":100,"display_name":"tbere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646130668,"creation_date":1646130668,"answer_id":71307051,"question_id":71305766,"body_markdown":"I found a proper solution so far. Its all about Thread context :) \r\n\r\nThread.currentThread().getContextClassLoader()\r\n\r\nthis line is necessary \r\n\r\n    RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration\r\n\t\t.defaultCacheConfig(Thread.currentThread().getContextClassLoader())\r\n\t\t.entryTtl( Duration.ofHours(1));\r\n\r\n ","title":"ClassCastException when loading from Redis Cache","body":"<p>I found a proper solution so far. Its all about Thread context :)</p>\n<p>Thread.currentThread().getContextClassLoader()</p>\n<p>this line is necessary</p>\n<pre><code>RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration\n    .defaultCacheConfig(Thread.currentThread().getContextClassLoader())\n    .entryTtl( Duration.ofHours(1));\n</code></pre>\n"}],"owner":{"account_id":2831074,"reputation":105,"user_id":2432656,"accept_rate":100,"display_name":"tbere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646130668,"creation_date":1646124113,"question_id":71305766,"body_markdown":"I geta ClassCastException when reading a response from Redis Cache. Everything looks good when hitting the DB and store it in Redis Cache. The second read out of the Redis Cache terminates in a ClassCastException when i want to iterate over the linked HashSet. When I debug the Hashmap all values are correct, until I reach the foreach loop. When I want to evaluate an Entry I get the Exception.\r\nIs it a configuration property that i missed in the Cacheconfig?\r\n\r\nCode: \r\n\r\nJpa Repository\r\n\r\n    @EntityGraph(value = &quot;Usr.fullCascade&quot;)\r\n    @Cacheable(value = &quot;UsrEntity&quot;, cacheManager = &quot;userEntity&quot;)\r\n    Set&lt;UsrEntity&gt; findByCompanyidAndStatusNot(int cid, UserRoleStatus status);\r\n\r\nService\r\n\r\n    Set&lt;UsrEntity&gt; usrEntity = userRepository.findByCompanyidAndStatusNot(companyID,\r\n    UserRoleStatus.X);\r\n    usrEntity.forEach(user -&gt; {\r\n            userDtos.add(companyUserDataMapper.toDto(user));\r\n    });\r\n\r\nCacheConfig\r\n\r\n \t@Bean\r\n\tJedisConnectionFactory jedisConnectionFactory() {\r\n\t\tRedisStandaloneConfiguration redisStandaloneConfiguration = new \r\n             RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\r\n\t\treturn new JedisConnectionFactory(redisStandaloneConfiguration);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RedisTemplate redisTemplate() {\r\n\t\tRedisTemplate template = new RedisTemplate&lt;&gt;();\r\n\t\ttemplate.setConnectionFactory(jedisConnectionFactory());\r\n\t\treturn template;\r\n\t}\r\n\r\n\t@Bean(&quot;userEntity&quot;)\r\n\tpublic CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {\r\n\r\n\t\tRedisCacheConfiguration redisCacheConfiguration = \r\n            RedisCacheConfiguration.defaultCacheConfig()\r\n\t\t\t.entryTtl( Duration.ofHours(1));\r\n\t\tredisCacheConfiguration.disableCachingNullValues();\r\n\t\treturn RedisCacheManager\r\n\t\t\t.builder( \r\n             redisCacheWriter.nonLockingRedisCacheWriter(redisConnectionFactory))\r\n\t\t\t.cacheDefaults(redisCacheConfiguration).build();\r\n\t}\r\n","title":"ClassCastException when loading from Redis Cache","body":"<p>I geta ClassCastException when reading a response from Redis Cache. Everything looks good when hitting the DB and store it in Redis Cache. The second read out of the Redis Cache terminates in a ClassCastException when i want to iterate over the linked HashSet. When I debug the Hashmap all values are correct, until I reach the foreach loop. When I want to evaluate an Entry I get the Exception.\nIs it a configuration property that i missed in the Cacheconfig?</p>\n<p>Code:</p>\n<p>Jpa Repository</p>\n<pre><code>@EntityGraph(value = &quot;Usr.fullCascade&quot;)\n@Cacheable(value = &quot;UsrEntity&quot;, cacheManager = &quot;userEntity&quot;)\nSet&lt;UsrEntity&gt; findByCompanyidAndStatusNot(int cid, UserRoleStatus status);\n</code></pre>\n<p>Service</p>\n<pre><code>Set&lt;UsrEntity&gt; usrEntity = userRepository.findByCompanyidAndStatusNot(companyID,\nUserRoleStatus.X);\nusrEntity.forEach(user -&gt; {\n        userDtos.add(companyUserDataMapper.toDto(user));\n});\n</code></pre>\n<p>CacheConfig</p>\n<pre><code>@Bean\nJedisConnectionFactory jedisConnectionFactory() {\n    RedisStandaloneConfiguration redisStandaloneConfiguration = new \n         RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\n    return new JedisConnectionFactory(redisStandaloneConfiguration);\n}\n\n@Bean\npublic RedisTemplate redisTemplate() {\n    RedisTemplate template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(jedisConnectionFactory());\n    return template;\n}\n\n@Bean(&quot;userEntity&quot;)\npublic CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {\n\n    RedisCacheConfiguration redisCacheConfiguration = \n        RedisCacheConfiguration.defaultCacheConfig()\n        .entryTtl( Duration.ofHours(1));\n    redisCacheConfiguration.disableCachingNullValues();\n    return RedisCacheManager\n        .builder( \n         redisCacheWriter.nonLockingRedisCacheWriter(redisConnectionFactory))\n        .cacheDefaults(redisCacheConfiguration).build();\n}\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"display_name":"user142162"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1325857312,"creation_date":1325857312,"answer_id":8758700,"question_id":8758653,"body_markdown":"    String newStr = str.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;, &quot;&quot;);","title":"Regular expression to remove a substring between two characters","body":"<pre><code>String newStr = str.replaceAll(\"&lt;[^&gt;]*&gt;\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1325857593,"creation_date":1325857593,"answer_id":8758765,"question_id":8758653,"body_markdown":"Try using the regex:\r\n\r\n    &lt;.*?&gt;\r\n\r\nFor example:\r\n\r\n    String s = &quot;Hi&lt;friends&gt;and&lt;family&gt;&quot;;\r\n    System.out.println(s.replaceAll(&quot;&lt;.*?&gt;&quot;, &quot;&quot;));","title":"Regular expression to remove a substring between two characters","body":"<p>Try using the regex:</p>\n\n<pre><code>&lt;.*?&gt;\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>String s = \"Hi&lt;friends&gt;and&lt;family&gt;\";\nSystem.out.println(s.replaceAll(\"&lt;.*?&gt;\", \"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379167,"reputation":1086,"user_id":732347,"accept_rate":67,"display_name":"Taha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326188796,"creation_date":1326188796,"answer_id":8801217,"question_id":8758653,"body_markdown":"Give this code segment a try!\r\n\r\n    String str = &quot;Hi&lt;family&gt;and&lt;/family&gt;test&quot;;       \r\n            \r\n    for (int i = 0; i &lt; str.split(&quot;&lt;/?[a-z]+&gt;&quot;).length; i++)\r\n      System.out.println(str.split(&quot;&lt;/?[a-z]+&gt;&quot;)[i]);","title":"Regular expression to remove a substring between two characters","body":"<p>Give this code segment a try!</p>\n\n<pre><code>String str = \"Hi&lt;family&gt;and&lt;/family&gt;test\";       \n\nfor (int i = 0; i &lt; str.split(\"&lt;/?[a-z]+&gt;\").length; i++)\n  System.out.println(str.split(\"&lt;/?[a-z]+&gt;\")[i]);\n</code></pre>\n"}],"owner":{"account_id":1093673,"reputation":1519,"user_id":1087746,"accept_rate":53,"display_name":"Ragini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39345,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":8758765,"answer_count":3,"score":15,"last_activity_date":1646130555,"creation_date":1325857086,"question_id":8758653,"body_markdown":"I want to remove anything between `&lt;` and `&gt;` including (`&lt;` and `&gt;`) from my string with regular expression. Here are few examples.\r\n\r\n`Hi&lt;friends&gt;and&lt;family&gt;` it should give `Hiand`\r\n\r\n`&lt;Rekha Verma&gt;rekha@gmail.com` then it should give `rekha@gmail.com`\r\n\r\n`Reva Patel` it should give `Reva Patel`\r\n\r\n`&lt;Reva Patel&gt;revapatel@gmail.com,&lt;rekha Verma&gt;rekha@gmail.com` it should give\r\n`revapatel@gmail.com,rekha@gmail.com`\r\n\r\nCan anyone please give me a regular expression for this? I need to implement it in Java.\r\n","title":"Regular expression to remove a substring between two characters","body":"<p>I want to remove anything between <code>&lt;</code> and <code>&gt;</code> including (<code>&lt;</code> and <code>&gt;</code>) from my string with regular expression. Here are few examples.</p>\n\n<p><code>Hi&lt;friends&gt;and&lt;family&gt;</code> it should give <code>Hiand</code></p>\n\n<p><code>&lt;Rekha Verma&gt;rekha@gmail.com</code> then it should give <code>rekha@gmail.com</code></p>\n\n<p><code>Reva Patel</code> it should give <code>Reva Patel</code></p>\n\n<p><code>&lt;Reva Patel&gt;revapatel@gmail.com,&lt;rekha Verma&gt;rekha@gmail.com</code> it should give\n<code>revapatel@gmail.com,rekha@gmail.com</code></p>\n\n<p>Can anyone please give me a regular expression for this? I need to implement it in Java.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8440,"page":1552,"page_size":100}
